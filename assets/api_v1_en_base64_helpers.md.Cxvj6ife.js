import{_ as a,c as i,o as e,ag as t}from"./chunks/framework.CgSRFIgr.js";const c=JSON.parse('{"title":"Base64Helpers","description":"","frontmatter":{},"headers":[],"relativePath":"api/v1/en/base64_helpers.md","filePath":"api/v1/en/base64_helpers.md"}'),n={name:"api/v1/en/base64_helpers.md"};function l(h,s,p,d,r,k){return e(),i("div",null,[...s[0]||(s[0]=[t(`<h1 id="base64helpers" tabindex="-1">Base64Helpers <a class="header-anchor" href="#base64helpers" aria-label="Permalink to &quot;Base64Helpers&quot;">â€‹</a></h1><p>Module providing Base64 encoding/decoding utilities using JavaScript&#39;s btoa/atob APIs.</p><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">â€‹</a></h2><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MyController</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> StimulusController</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  include</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> OpalVite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Concerns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">V1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Base64Helpers</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> connect</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    encoded</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, World!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    puts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> encoded  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; &quot;SGVsbG8sIFdvcmxkIQ==&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    decoded</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_decode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(encoded)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    puts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> decoded  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; &quot;Hello, World!&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  end</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><h2 id="basic-encoding-decoding" tabindex="-1">Basic Encoding/Decoding <a class="header-anchor" href="#basic-encoding-decoding" aria-label="Permalink to &quot;Basic Encoding/Decoding&quot;">â€‹</a></h2><h3 id="base64-encode-str" tabindex="-1">base64_encode(str) <a class="header-anchor" href="#base64-encode-str" aria-label="Permalink to &quot;base64_encode(str)&quot;">â€‹</a></h3><p>Encode a string to Base64.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; &quot;SGVsbG8=&quot;</span></span></code></pre></div><h3 id="base64-decode-str" tabindex="-1">base64_decode(str) <a class="header-anchor" href="#base64-decode-str" aria-label="Permalink to &quot;base64_decode(str)&quot;">â€‹</a></h3><p>Decode a Base64 string.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_decode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SGVsbG8=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; &quot;Hello&quot;</span></span></code></pre></div><h2 id="url-safe-base64" tabindex="-1">URL-Safe Base64 <a class="header-anchor" href="#url-safe-base64" aria-label="Permalink to &quot;URL-Safe Base64&quot;">â€‹</a></h2><p>URL-safe Base64 replaces <code>+</code> with <code>-</code>, <code>/</code> with <code>_</code>, and removes padding <code>=</code>.</p><h3 id="base64-encode-urlsafe-str" tabindex="-1">base64_encode_urlsafe(str) <a class="header-anchor" href="#base64-encode-urlsafe-str" aria-label="Permalink to &quot;base64_encode_urlsafe(str)&quot;">â€‹</a></h3><p>Encode to URL-safe Base64.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_encode_urlsafe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello+World/Test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Standard: &quot;SGVsbG8rV29ybGQvVGVzdA==&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># URL-safe: &quot;SGVsbG8rV29ybGQvVGVzdA&quot;</span></span></code></pre></div><h3 id="base64-decode-urlsafe-str" tabindex="-1">base64_decode_urlsafe(str) <a class="header-anchor" href="#base64-decode-urlsafe-str" aria-label="Permalink to &quot;base64_decode_urlsafe(str)&quot;">â€‹</a></h3><p>Decode URL-safe Base64.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_decode_urlsafe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SGVsbG8rV29ybGQvVGVzdA&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; &quot;Hello+World/Test&quot;</span></span></code></pre></div><h2 id="unicode-support" tabindex="-1">Unicode Support <a class="header-anchor" href="#unicode-support" aria-label="Permalink to &quot;Unicode Support&quot;">â€‹</a></h2><p>Standard Base64 doesn&#39;t handle Unicode directly. These methods handle it properly.</p><h3 id="base64-encode-unicode-str" tabindex="-1">base64_encode_unicode(str) <a class="header-anchor" href="#base64-encode-unicode-str" aria-label="Permalink to &quot;base64_encode_unicode(str)&quot;">â€‹</a></h3><p>Encode a Unicode string to Base64.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_encode_unicode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ—¥æœ¬èªž ðŸŽ‰&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Works with any Unicode</span></span></code></pre></div><h3 id="base64-decode-unicode-str" tabindex="-1">base64_decode_unicode(str) <a class="header-anchor" href="#base64-decode-unicode-str" aria-label="Permalink to &quot;base64_decode_unicode(str)&quot;">â€‹</a></h3><p>Decode a Base64 string to Unicode.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_decode_unicode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(encoded)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; &quot;æ—¥æœ¬èªž ðŸŽ‰&quot;</span></span></code></pre></div><h2 id="binary-data" tabindex="-1">Binary Data <a class="header-anchor" href="#binary-data" aria-label="Permalink to &quot;Binary Data&quot;">â€‹</a></h2><h3 id="base64-encode-buffer-buffer" tabindex="-1">base64_encode_buffer(buffer) <a class="header-anchor" href="#base64-encode-buffer-buffer" aria-label="Permalink to &quot;base64_encode_buffer(buffer)&quot;">â€‹</a></h3><p>Encode an ArrayBuffer or Uint8Array to Base64.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">buffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`new Uint8Array([72, 101, 108, 108, 111])\`</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_encode_buffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; &quot;SGVsbG8=&quot;</span></span></code></pre></div><h3 id="base64-decode-to-buffer-str" tabindex="-1">base64_decode_to_buffer(str) <a class="header-anchor" href="#base64-decode-to-buffer-str" aria-label="Permalink to &quot;base64_decode_to_buffer(str)&quot;">â€‹</a></h3><p>Decode Base64 to Uint8Array.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">buffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_decode_to_buffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SGVsbG8=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns Uint8Array</span></span></code></pre></div><h2 id="data-urls" tabindex="-1">Data URLs <a class="header-anchor" href="#data-urls" aria-label="Permalink to &quot;Data URLs&quot;">â€‹</a></h2><h3 id="to-data-url-content-mime-type" tabindex="-1">to_data_url(content, mime_type) <a class="header-anchor" href="#to-data-url-content-mime-type" aria-label="Permalink to &quot;to_data_url(content, mime_type)&quot;">â€‹</a></h3><p>Create a data URL from content.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;h1&gt;Hello&lt;/h1&gt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_data_url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(html, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text/html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; &quot;data:text/html;base64,PGgxPkhlbGxvPC9oMT4=&quot;</span></span></code></pre></div><h3 id="parse-data-url-data-url" tabindex="-1">parse_data_url(data_url) <a class="header-anchor" href="#parse-data-url-data-url" aria-label="Permalink to &quot;parse_data_url(data_url)&quot;">â€‹</a></h3><p>Parse a data URL.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse_data_url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;data:text/html;base64,PGgxPkhlbGxvPC9oMT4=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; { mime_type: &quot;text/html&quot;, data: &quot;&lt;h1&gt;Hello&lt;/h1&gt;&quot; }</span></span></code></pre></div><h2 id="authentication-helpers" tabindex="-1">Authentication Helpers <a class="header-anchor" href="#authentication-helpers" aria-label="Permalink to &quot;Authentication Helpers&quot;">â€‹</a></h2><h3 id="basic-auth-header-username-password" tabindex="-1">basic_auth_header(username, password) <a class="header-anchor" href="#basic-auth-header-username-password" aria-label="Permalink to &quot;basic_auth_header(username, password)&quot;">â€‹</a></h3><p>Create a Basic Auth header value.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">basic_auth_header</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;secret123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; &quot;Basic YWRtaW46c2VjcmV0MTIz&quot;</span></span></code></pre></div><h3 id="parse-basic-auth-header" tabindex="-1">parse_basic_auth(header) <a class="header-anchor" href="#parse-basic-auth-header" aria-label="Permalink to &quot;parse_basic_auth(header)&quot;">â€‹</a></h3><p>Parse a Basic Auth header value.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse_basic_auth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Basic YWRtaW46c2VjcmV0MTIz&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; { username: &quot;admin&quot;, password: &quot;secret123&quot; }</span></span></code></pre></div><h2 id="jwt-helpers" tabindex="-1">JWT Helpers <a class="header-anchor" href="#jwt-helpers" aria-label="Permalink to &quot;JWT Helpers&quot;">â€‹</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>These methods only decode JWT tokens - they do NOT verify signatures. Use only for reading claims, not for authentication.</p></div><h3 id="decode-jwt-payload-token" tabindex="-1">decode_jwt_payload(token) <a class="header-anchor" href="#decode-jwt-payload-token" aria-label="Permalink to &quot;decode_jwt_payload(token)&quot;">â€‹</a></h3><p>Decode a JWT payload (without verification).</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">payload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decode_jwt_payload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(jwt_token)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; { &quot;sub&quot; =&gt; &quot;1234567890&quot;, &quot;name&quot; =&gt; &quot;John Doe&quot;, &quot;exp&quot; =&gt; 1735689600 }</span></span></code></pre></div><h3 id="jwt-expired-token" tabindex="-1">jwt_expired?(token) <a class="header-anchor" href="#jwt-expired-token" aria-label="Permalink to &quot;jwt_expired?(token)&quot;">â€‹</a></h3><p>Check if a JWT is expired.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jwt_expired?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; true/false</span></span></code></pre></div><h3 id="jwt-expires-at-token" tabindex="-1">jwt_expires_at(token) <a class="header-anchor" href="#jwt-expires-at-token" aria-label="Permalink to &quot;jwt_expires_at(token)&quot;">â€‹</a></h3><p>Get JWT expiration time.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">expires_at</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jwt_expires_at</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns JavaScript Date object or nil</span></span></code></pre></div><h2 id="utility-methods" tabindex="-1">Utility Methods <a class="header-anchor" href="#utility-methods" aria-label="Permalink to &quot;Utility Methods&quot;">â€‹</a></h2><h3 id="valid-base64-str" tabindex="-1">valid_base64?(str) <a class="header-anchor" href="#valid-base64-str" aria-label="Permalink to &quot;valid_base64?(str)&quot;">â€‹</a></h3><p>Check if a string is valid Base64.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">valid_base64?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SGVsbG8=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">valid_base64?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;invalid!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; false</span></span></code></pre></div><h3 id="base64-decoded-length-str" tabindex="-1">base64_decoded_length(str) <a class="header-anchor" href="#base64-decoded-length-str" aria-label="Permalink to &quot;base64_decoded_length(str)&quot;">â€‹</a></h3><p>Get the decoded length of a Base64 string.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64_decoded_length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SGVsbG8=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; 5</span></span></code></pre></div><h2 id="common-use-cases" tabindex="-1">Common Use Cases <a class="header-anchor" href="#common-use-cases" aria-label="Permalink to &quot;Common Use Cases&quot;">â€‹</a></h2><h3 id="encoding-credentials-for-api-requests" tabindex="-1">Encoding Credentials for API Requests <a class="header-anchor" href="#encoding-credentials-for-api-requests" aria-label="Permalink to &quot;Encoding Credentials for API Requests&quot;">â€‹</a></h3><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch_with_auth</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  auth_header</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">basic_auth_header</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@username, @password)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  fetch_json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/data&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> |data|</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Handle response</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  end</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><h3 id="working-with-data-urls-for-images" tabindex="-1">Working with Data URLs for Images <a class="header-anchor" href="#working-with-data-urls-for-images" aria-label="Permalink to &quot;Working with Data URLs for Images&quot;">â€‹</a></h3><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> create_image_data_url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image_data)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  to_data_url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image_data, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;image/png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><h3 id="handling-jwt-tokens" tabindex="-1">Handling JWT Tokens <a class="header-anchor" href="#handling-jwt-tokens" aria-label="Permalink to &quot;Handling JWT Tokens&quot;">â€‹</a></h3><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> check_token_validity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jwt_expired?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  payload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decode_jwt_payload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> unless</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> payload</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Check other claims</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  payload[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;role&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;admin&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div>`,73)])])}const u=a(n,[["render",l]]);export{c as __pageData,u as default};
