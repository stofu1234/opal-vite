(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))V(E);new MutationObserver(E=>{for(const ee of E)if(ee.type==="childList")for(const Q of ee.addedNodes)Q.tagName==="LINK"&&Q.rel==="modulepreload"&&V(Q)}).observe(document,{childList:!0,subtree:!0});function F(E){const ee={};return E.integrity&&(ee.integrity=E.integrity),E.referrerPolicy&&(ee.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?ee.credentials="include":E.crossOrigin==="anonymous"?ee.credentials="omit":ee.credentials="same-origin",ee}function V(E){if(E.ep)return;E.ep=!0;const ee=F(E);fetch(E.href,ee)}})();(function(r){var y;if(typeof globalThis<"u"?r=globalThis:typeof global<"u"?r=global:typeof window<"u"&&(r=window),r.console==null&&(r.console={}),typeof r.console=="object"?y=r.console:y={},"log"in y||(y.log=function(){}),"warn"in y||(y.warn=y.log),typeof r.Opal<"u")return y.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),r.Opal;var F,V,E,ee,Q,N,W,g=r.Opal={};g.global=r,g.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var K=Function.prototype.call,ie=Function.prototype.bind,J=Object.hasOwn||K.bind(Object.prototype.hasOwnProperty),G=Object.setPrototypeOf,ne=K.bind(Array.prototype.slice),Z=K.bind(Array.prototype.splice),w=4,R=w;function P(){return R+=2,R}g.uid=P,g.id=function(l){return l.$$is_number?l*2+1:(l.$$id==null&&p(l,"$$id",P()),l.$$id)};var X=g.gvars={};g.exit=function(l){X.DEBUG&&y.log("Exited with status "+l)},g.exceptions=[],g.pop_exception=function(l){var v=g.exceptions.pop();v===l||(v?X["!"]=v:X["!"]=F)};function S(l,v){if(l||(l=g.Exception||Error),W&&W.$raise)arguments.length>2?W.$raise(l.$new.apply(l,ne(arguments,1))):W.$raise(l,v);else throw l.$new?l.$new(v):new l(v)}var U={value:void 0,enumerable:!1,configurable:!0,writable:!0};function p(l,v,C){typeof l=="string"?l[v]=C:(U.value=C,Object.defineProperty(l,v,U))}g.prop=p,g.defineProperty=g.prop,g.slice=ne;var x=g.truthy=function(l){return l!==!1&&F!==l&&l!==void 0&&l!==null&&(!(l instanceof Boolean)||l.valueOf()===!0)};g.falsy=function(l){return!x(l)},g.type_error=function(l,v,C,re){l=l.$$class,re&&C?(re=re.$$class,S(g.TypeError,"can't convert "+l+" into "+v+" ("+l+"#"+C+" gives "+re+")")):S(g.TypeError,"no implicit conversion of "+l+" into "+v)},g.coerce_to=function(l,v,C,re){var ue;return C==="to_int"&&v===g.Integer&&l.$$is_number?l<0?Math.ceil(l):Math.floor(l):C==="to_str"&&v===g.String&&l.$$is_string||g.is_a(l,v)?l:l["$respond_to?"].$$pristine&&l.$method_missing.$$pristine?(ue=l[de(C)],(ue==null||ue.$$stub)&&g.type_error(l,v),ue.apply(l,re)):(l["$respond_to?"](C)||g.type_error(l,v),re==null&&(re=[]),g.send(l,C,re))},g.respond_to=function(l,v,C){if(l==null||!l.$$class)return!1;C=!!C;var re=l[v];if(l["$respond_to?"].$$pristine){if(typeof re=="function"&&!re.$$stub)return!0;if(!l["$respond_to_missing?"].$$pristine)return g.send(l,l["$respond_to_missing?"],[v.substr(1),C])}else return g.send(l,l["$respond_to?"],[v.substr(1),C])},g.trace_class=!1,g.tracers_for_class=[];function D(l){var v,C,re;for(v=0,C=g.tracers_for_class.length;v<C;v++)re=g.tracers_for_class[v],re.trace_object=l,re.block.$call(re)}function I(l,v){if(l.$$autoload[v].loaded){if(l.$$autoload[v].loaded&&!l.$$autoload[v].required&&l.$$autoload[v].exception)throw l.$$autoload[v].exception}else{l.$$autoload[v].loaded=!0;try{g.Kernel.$require(l.$$autoload[v].path)}catch(C){throw l.$$autoload[v].exception=C,C}if(l.$$autoload[v].required=!0,l.$$const[v]!=null)return l.$$autoload[v].success=!0,l.$$const[v]}}function b(l,v){if(l){if(l.$$const[v]!=null)return l.$$const[v];if(l.$$autoload&&l.$$autoload[v])return I(l,v)}}function s(l,v){var C,re,ue;if(l.length!==0)for(C=0,re=l.length;C<re;C++){if(ue=l[C].$$const[v],ue!=null)return ue;if(l[C].$$autoload&&l[C].$$autoload[v])return I(l[C],v)}}function d(l,v){var C,re,ue;if(l!=null)for(ue=L(l),C=0,re=ue.length;C<re;C++){if(ue[C].$$const&&J(ue[C].$$const,v))return ue[C].$$const[v];if(ue[C].$$autoload&&ue[C].$$autoload[v])return I(ue[C],v)}}function k(l,v){if(l==null||l.$$is_module)return d(E,v)}function h(l,v){return(l||E).$const_missing(v)}g.const_get_local=function(l,v,C){var re;if(l!=null)return l==="::"&&(l=E),!l.$$is_module&&!l.$$is_class&&S(g.TypeError,l.toString()+" is not a class/module"),re=b(l,v),re!=null||C?re:h(l,v)},g.const_get_qualified=function(l,v,C){var re,ue,ce,he=g.const_cache_version;if(v==null)return re=b(E,l),re??g.const_get_qualified(E,l,C);if(l!=null)return l==="::"&&(l=E),!l.$$is_module&&!l.$$is_class&&S(g.TypeError,l.toString()+" is not a class/module"),(ue=l.$$const_cache)==null&&(p(l,"$$const_cache",Object.create(null)),ue=l.$$const_cache),ce=ue[v],ce==null||ce[0]!==he?((re=b(l,v))!=null||(re=d(l,v))!=null,ue[v]=[he,re]):re=ce[1],re!=null||C?re:h(l,v)},g.const_cache_version=1,g.const_get_relative=function(l,v,C){var re=l[0],ue,ce=g.const_cache_version,he,pe;return(he=l.$$const_cache)==null&&(p(l,"$$const_cache",Object.create(null)),he=l.$$const_cache),pe=he[v],pe==null||pe[0]!==ce?((ue=b(re,v))!=null||(ue=s(l,v))!=null||(ue=d(re,v))!=null||(ue=k(re,v))!=null,he[v]=[ce,ue]):ue=pe[1],ue!=null||C?ue:h(re,v)};function _(l,v,C){var re=!0;return(l==null||l==="::")&&(l=E),C.$$is_a_module&&((C.$$name==null||C.$$name===F)&&(C.$$name=v),C.$$base_module==null&&(C.$$base_module=l)),l.$$const=l.$$const||Object.create(null),(v in l.$$const||"$$autoload"in l&&v in l.$$autoload)&&(re=!1),l.$$const[v]=C,l.$$=l.$$const,g.const_cache_version++,l===E&&(g[v]=C),p(l,v,C),re&&l.$const_added&&!l.$const_added.$$pristine&&l.$const_added(v),C}g.const_set=_,g.constants=function(l,v){v==null&&(v=!0);var C,re=[l],ue,ce,he={},pe;for(v&&(re=re.concat(L(l))),v&&l.$$is_module&&(re=re.concat([g.Object]).concat(L(g.Object))),ue=0,ce=re.length;ue<ce&&(C=re[ue],!(l!==E&&C==E));ue++){for(pe in C.$$const)he[pe]=!0;if(C.$$autoload)for(pe in C.$$autoload)he[pe]=!0}return Object.keys(he)},g.const_remove=function(l,v){if(g.const_cache_version++,l.$$const[v]!=null){var C=l.$$const[v];return delete l.$$const[v],C}if(l.$$autoload&&l.$$autoload[v])return delete l.$$autoload[v],F;S(g.NameError,"constant "+l+"::"+l.$name()+" not defined")},g.const_get_relative_factory=function(l){return function(v,C){return g.$$(l,v,C)}},g.$$=g.const_get_relative,g.$$$=g.const_get_qualified,g.$r=g.const_get_relative_factory;function o(l){return l==null?!1:l.$$bridge?l:l.$$super?o(l.$$super):!1}function H(l,v,C){var re,ue;if((ue=o(v))?re=function(){var ye=new(ie.apply(ue.$$constructor,ge(null,arguments)));return G(ye,re.$$prototype),ye}:re=function(){},l&&l!==F&&p(re,"displayName","::"+l),p(re,"$$name",l),p(re,"$$constructor",re),p(re,"$$prototype",re.prototype),p(re,"$$const",{}),p(re,"$$is_class",!0),p(re,"$$is_a_module",!0),p(re,"$$super",v),p(re,"$$cvars",{}),p(re,"$$own_included_modules",[]),p(re,"$$own_prepended_modules",[]),p(re,"$$ancestors",[]),p(re,"$$ancestors_cache_version",null),p(re,"$$subclasses",[]),p(re,"$$cloned_from",[]),p(re.$$prototype,"$$class",re),g.Class&&G(re,g.Class.prototype),v!=null){if(G(re.$$prototype,v.$$prototype),C!==!0)if(typeof WeakRef<"u"){var ce,he,pe=[];for(ce=0;ce<v.$$subclasses.length;ce++)he=v.$$subclasses[ce],he.deref()!==void 0&&pe.push(he);pe.push(new WeakRef(re)),v.$$subclasses=pe}else v.$$subclasses.push(re);v.$$meta&&g.build_class_singleton_class(re)}return re}g.allocate_class=H;function j(l,v){var C=b(l,v);if(C)return C.$$is_class||S(g.TypeError,v+" is not a class"),C}function c(l,v){l.$$super!==v&&S(g.TypeError,"superclass mismatch for class "+l.$$name)}g.klass=function(l,v,C){var re;l==null||l=="::"?l=E:!l.$$is_class&&!l.$$is_module&&(l=l.$$class),v!=null&&(!v.hasOwnProperty||v.hasOwnProperty&&!v.hasOwnProperty("$$is_class"))&&(v.constructor&&v.constructor.name=="Function"?(re=v,v=E):S(g.TypeError,"superclass must be a Class ("+(v.constructor&&(v.constructor.name||v.constructor.$$name)||typeof v)+" given)"));var ue=j(l,C);return ue!=null?v&&c(ue,v):(v==null&&(v=E),ue=H(C,v),_(l,C,ue),v.$inherited&&v.$inherited(ue),re&&g.bridge(re,ue)),g.trace_class&&D(ue),ue};function f(l){var v=function(){},C=v;return l&&p(v,"displayName",l+".constructor"),p(C,"$$name",l),p(C,"$$prototype",v.prototype),p(C,"$$const",{}),p(C,"$$is_module",!0),p(C,"$$is_a_module",!0),p(C,"$$cvars",{}),p(C,"$$iclasses",[]),p(C,"$$own_included_modules",[]),p(C,"$$own_prepended_modules",[]),p(C,"$$ancestors",[C]),p(C,"$$ancestors_cache_version",null),p(C,"$$cloned_from",[]),G(C,g.Module.prototype),C}g.allocate_module=f;function a(l,v){var C=b(l,v);return C==null&&l===E&&(C=d(E,v)),C&&!C.$$is_module&&C!==E&&S(g.TypeError,v+" is not a module"),C}g.module=function(l,v){var C;return l==null||l=="::"?l=E:!l.$$is_class&&!l.$$is_module&&(l=l.$$class),C=a(l,v),C==null&&(C=f(v),_(l,v,C)),g.trace_class&&D(C),C},g.get_singleton_class=function(l){return l.$$is_number&&S(g.TypeError,"can't define singleton"),l.$$meta?l.$$meta:l.hasOwnProperty("$$is_class")?g.build_class_singleton_class(l):l.hasOwnProperty("$$is_module")?g.build_module_singleton_class(l):g.build_object_singleton_class(l)};function t(l,v){l.hasOwnProperty("$$meta")?l.$$meta=v:p(l,"$$meta",v),l.$$frozen?l.$$meta.$freeze():G(l,v.$$prototype)}g.build_class_singleton_class=function(l){if(l.$$meta)return l.$$meta;var v=l===V?Q:g.get_singleton_class(l.$$super),C=H(null,v,!0);return p(C,"$$is_singleton",!0),p(C,"$$singleton_of",l),t(l,C),p(l,"$$class",g.Class),C},g.build_module_singleton_class=function(l){if(l.$$meta)return l.$$meta;var v=H(null,g.Module,!0);return p(v,"$$is_singleton",!0),p(v,"$$singleton_of",l),t(l,v),p(l,"$$class",g.Module),v},g.build_object_singleton_class=function(l){var v=l.$$class,C=H(F,v,!0);return p(C,"$$is_singleton",!0),p(C,"$$singleton_of",l),delete C.$$prototype.$$class,t(l,C),C},g.is_method=function(l){return l[0]==="$"&&l[1]!=="$"},g.instance_methods=function(l){for(var v=Object.create(null),C=[],re=L(l),ue=0,ce=re.length;ue<ce;ue++){var he=re[ue],pe=he.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ze=ye.length;we<ze;we++){var Ee=ye[we];if(!v[Ee]){if(g.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);C.push(qe)}}v[Ee]=!0}}}return C},g.own_instance_methods=function(l){var v=[],C=l.$$prototype;C.hasOwnProperty("$$dummy")&&(C=C.$$define_methods_on);for(var re=Object.getOwnPropertyNames(C),ue=0,ce=re.length;ue<ce;ue++){var he=re[ue];if(g.is_method(he)){var pe=C[he];if(!pe.$$stub){var ye=he.slice(1);v.push(ye)}}}return v},g.methods=function(l){return g.instance_methods(l.$$meta||l.$$class)},g.own_methods=function(l){return l.$$meta?g.own_instance_methods(l.$$meta):[]},g.receiver_methods=function(l){var v=g.get_singleton_class(l),C=g.own_instance_methods(v),re=g.own_instance_methods(v.$$super);return C.concat(re)},g.class_variables=function(l){var v=L(l),C,re=v.length,ue={};for(C=re-1;C>=0;C--){var ce=v[C];for(var he in ce.$$cvars)ue[he]=ce.$$cvars[he]}return ue},g.class_variable_set=function(l,v,C){var re=L(l),ue,ce=re.length;for(ue=ce-2;ue>=0;ue--){var he=re[ue];if(J(he.$$cvars,v))return he.$$cvars[v]=C,C}return l.$$cvars[v]=C,C},g.class_variable_get=function(l,v,C){if(J(l.$$cvars,v))return l.$$cvars[v];var re=L(l),ue,ce=re.length;for(ue=0;ue<ce;ue++){var he=re[ue];if(J(he.$$cvars,v))return he.$$cvars[v]}return C||S(g.NameError,"uninitialized class variable "+v+" in "+l.$name()),F};function n(l){return l.hasOwnProperty("$$iclass")&&l.hasOwnProperty("$$root")}function e(l){for(var v=[],C,re=Object.getPrototypeOf(l.$$prototype);re&&!re.hasOwnProperty("$$class");)C=M(re),C&&v.push(C),re=Object.getPrototypeOf(re);return v}function $(l){var v=[],C,re=Object.getPrototypeOf(l.$$prototype);if(l.$$prototype.hasOwnProperty("$$dummy"))for(;re&&re!==l.$$prototype.$$define_methods_on;)C=M(re),C&&v.push(C),re=Object.getPrototypeOf(re);return v}g.append_features=function(l,v){var C=L(l),re=[];C.indexOf(v)!==-1&&S(g.ArgumentError,"cyclic include detected");for(var ue=0,ce=C.length;ue<ce;ue++){var he=C[ue],pe=u(he);p(pe,"$$included",!0),re.push(pe)}var ye=L(v),we=z(re),ze,Ee;if(ye.indexOf(l)===-1)ze=v.$$prototype,Ee=Object.getPrototypeOf(v.$$prototype);else{for(var xe=v.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===l&&n(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var Ae=Object.getPrototypeOf(qe);Ae.hasOwnProperty("$$iclass")&&!n(Ae);)Ae=Object.getPrototypeOf(Ae);ze=xe,Ee=Ae}else ze=v.$$prototype,Ee=Object.getPrototypeOf(v.$$prototype)}G(ze,we.first),G(we.last,Ee),v.$$own_included_modules=e(v),g.const_cache_version++},g.prepend_features=function(l,v){var C=L(l),re=[];C.indexOf(v)!==-1&&S(g.ArgumentError,"cyclic prepend detected");for(var ue=0,ce=C.length;ue<ce;ue++){var he=C[ue],pe=u(he);p(pe,"$$prepended",!0),re.push(pe)}var ye=z(re),we=v.$$prototype,ze=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=m(v),i(v),p(we,"$$dummy",!0),p(we,"$$define_methods_on",Ee),G(we,Ee),G(Ee,ze));var Ae=L(v);if(Ae.indexOf(l)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else S(g.RuntimeError,"Prepending a module multiple times is not supported");G(xe,ye.first),G(ye.last,qe),v.$$own_prepended_modules=$(v),g.const_cache_version++};function i(l){for(var v=l.$$prototype,C=Object.getOwnPropertyNames(v),re=0;re<C.length;re++){var ue=C[re];g.is_method(ue)&&delete v[ue]}}function u(l){var v=m(l);return l.$$is_module&&l.$$iclasses.push(v),v}function m(l){var v={},C=l.$$prototype;C.hasOwnProperty("$$dummy")&&(C=C.$$define_methods_on);var re=Object.getOwnPropertyNames(C),ue=re.length,ce;for(ce=0;ce<ue;ce++){var he=re[ce];p(v,he,C[he])}return p(v,"$$iclass",!0),p(v,"$$module",l),v}function z(l){var v=l.length,C=l[0];if(p(C,"$$root",!0),v===1)return{first:C,last:C};for(var re=C,ue=1;ue<v;ue++){var ce=l[ue];G(re,ce),re=ce}return{first:l[0],last:l[v-1]}}g.bridge=function(l,v){l.hasOwnProperty("$$bridge")&&S(g.ArgumentError,"already bridged"),p(l,"$$bridge",v),G(l.prototype,(v.$$super||g.Object).$$prototype),p(v,"$$prototype",l.prototype),p(v.$$prototype,"$$class",v),p(v,"$$constructor",l),p(v,"$$bridge",!0)};function M(l){if(!l.hasOwnProperty("$$dummy")){if(l.hasOwnProperty("$$iclass"))return l.$$module;if(l.hasOwnProperty("$$class"))return l.$$class}}function A(l){return l.$$own_prepended_modules.concat([l]).concat(l.$$own_included_modules)}function L(l){if(!l)return[];if(l.$$ancestors_cache_version===g.const_cache_version)return l.$$ancestors;var v=[],C,re,ue;for(C=0,re=A(l),ue=re.length;C<ue;C++)v.push(re[C]);if(l.$$super)for(C=0,re=L(l.$$super),ue=re.length;C<ue;C++)v.push(re[C]);return l.$$ancestors_cache_version=g.const_cache_version,l.$$ancestors=v,v}g.ancestors=L,g.included_modules=function(l){for(var v=[],C=null,re=Object.getPrototypeOf(l.$$prototype);re&&Object.getPrototypeOf(re);re=Object.getPrototypeOf(re))C=M(re),C&&C.$$is_module&&re.$$iclass&&re.$$included&&v.push(C);return v},g.add_stubs=function(l){var v=g.BasicObject.$$prototype,C,re;l=l.split(",");for(var ue=0,ce=l.length;ue<ce;ue++)C=de(l[ue]),re=v[C],(re==null||re.$$stub)&&g.add_stub_for(v,C)},g.add_stub_for=function(l,v){p(l,v,g.stub_for(v))},g.stub_for=function(l){function v(){return this.$method_missing.$$p=v.$$p,v.$$p=null,this.$method_missing.apply(this,ge(l.slice(1),arguments))}return v.$$stub=!0,v},g.ac=function(l,v,C,re){var ue="";C.$$is_a_module?ue+=C.$$name+".":ue+=C.$$class.$$name+"#",ue+=re,S(g.ArgumentError,"["+ue+"] wrong number of arguments (given "+l+", expected "+v+")")},g.block_ac=function(l,v,C){var re="`block in "+C+"'";S(g.ArgumentError,re+": wrong number of arguments (given "+l+", expected "+v+")")};function O(l){return l.hasOwnProperty("$$meta")&&l.$$meta!==null?L(l.$$meta):L(l.$$class)}g.find_super=function(l,v,C,re,ue){var ce=de(v),he,pe,ye,we,ze=-1,Ee;for(he=O(l),we=C.$$owner,Ee=0;Ee<he.length;Ee++)if(pe=he[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ze=Ee;break}for(Ee=ze+1;Ee<he.length;Ee++){pe=he[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(ce)){ye=xe[ce];break}}return!re&&ye&&ye.$$stub&&l.$method_missing.$$pristine&&S(g.NoMethodError,"super: no superclass method `"+v+"' for "+l,v),ye.$$stub&&!ue?null:ye},g.find_block_super=function(l,v,C,re,ue){var ce=v;return C||S(g.RuntimeError,"super called outside of method"),ue&&C.$$define_meth&&S(g.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),C.$$def&&(ce=C.$$jsid),g.find_super(l,ce,C,re)},g.find_super_dispatcher=g.find_super,g.find_iter_super_dispatcher=g.find_block_super;function ae(l,v,C){try{l(v)}catch(re){if(re===C)return C.$v;throw re}}g.yield1=function(l,v){typeof l!="function"&&S(g.LocalJumpError,"no block given");var C=l.$$has_top_level_mlhs_arg,re=l.$$has_trailing_comma_in_args,ue=l.$$is_lambda&&l.$$ret;return(l.length>1||(C||re)&&l.length===1)&&(v=g.to_ary(v)),(l.length>1||re&&l.length===1)&&v.$$is_array?ue?ae(l.apply.bind(l,null),v,l.$$ret):l.apply(null,v):ue?ae(l,v,l.$$ret):l(v)},g.yieldX=function(l,v){return typeof l!="function"&&S(g.LocalJumpError,"no block given"),l.length>1&&v.length===1&&v[0].$$is_array&&(v=v[0]),l.$$is_lambda&&l.$$ret?ae(l.apply.bind(l,null),v,l.$$ret):l.apply(null,v)},g.rescue=function(l,v){for(var C=0;C<v.length;C++){var re=v[C];if(re.$$is_array){var ue=g.rescue(l,re);if(ue)return ue}else if(re===g.JS.Error||re["$==="](l))return re}return null},g.is_a=function(l,v){if(v!=null&&l.$$meta===v||l.$$class===v)return!0;if(l.$$is_number&&v.$$is_number_class)return v.$$is_integer_class?l%1===0:!0;var C=L(l.$$is_class?g.get_singleton_class(l):l.$$meta||l.$$class);return C.indexOf(v)!==-1},g.to_hash=function(l){if(l.$$is_hash)return l;if(l["$respond_to?"]("to_hash",!0)){var v=l.$to_hash();if(v.$$is_hash)return v;S(g.TypeError,"Can't convert "+l.$$class+" to Hash ("+l.$$class+"#to_hash gives "+v.$$class+")")}else S(g.TypeError,"no implicit conversion of "+l.$$class+" into Hash")},g.to_ary=function(l){if(l.$$is_array)return l;if(l["$respond_to?"]("to_ary",!0)){var v=l.$to_ary();if(v===F)return[l];if(v.$$is_array)return v;S(g.TypeError,"Can't convert "+l.$$class+" to Array ("+l.$$class+"#to_ary gives "+v.$$class+")")}else return[l]},g.to_a=function(l){if(l.$$is_array)return l.slice();if(l["$respond_to?"]("to_a",!0)){var v=l.$to_a();if(v===F)return[l];if(v.$$is_array)return v;S(g.TypeError,"Can't convert "+l.$$class+" to Array ("+l.$$class+"#to_a gives "+v.$$class+")")}else return[l]},g.extract_kwargs=function(l){var v=l[l.length-1];if(v!=null&&g.respond_to(v,"$to_hash",!0))return Z(l,l.length-1),v},g.kwrestargs=function(l,v){var C=new Map;return g.hash_each(l,!1,function(re,ue){return v[re]||g.hash_put(C,re,ue),[!1,!1]}),C};function le(l,v){typeof v=="number"?l.$$arity=v:typeof v=="object"&&Object.assign(l,v)}var _e=new Map;function de(l){var v=_e.get(l);return v||(v="$"+l,_e.set(l,v)),v}g.jsid=de;function ge(l,v){return v.$$is_array||(v=ne(v)),[l].concat(v)}g.send=function(l,v,C,re,ue){var ce;return typeof v=="function"?(ce=v,v=null):typeof v=="string"?ce=l[de(v)]:S(g.NameError,"Passed method should be a string or a function"),g.send2(l,ce,v,C,re,ue)},g.send2=function(l,v,C,re,ue,ce){return v==null&&C!=null&&l.$method_missing&&(v=l.$method_missing,re=ge(C,re)),le(ue,ce),typeof ue=="function"&&(v.$$p=ue),v.apply(l,re)},g.refined_send=function(l,v,C,re,ue,ce){var he,pe,ye,we,ze,Ee,xe,qe,Ae,ke;for(we=O(v),he=0;he<we.length;he++)for(ze=g.id(we[he]),pe=0;pe<l.length;pe++)for(Ee=l[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ze]>"u")&&(Ae=qe[ze],typeof Ae.$$prototype[de(C)]<"u")))return ke=Ae.$$prototype[de(C)],g.send2(v,ke,C,re,ue,ce);return g.send(v,C,re,ue,ce)},g.lambda=function(l,v){return l.$$is_lambda=!0,le(l,v),l},g.def=function(l,v,C,re){return le(C,re),l===g.top?g.defn(g.Object,v,C):!l.$$eval&&l.$$is_a_module?g.defn(l,v,C):g.defs(l,v,C)},g.defn=function(l,v,C){q(l),C.displayName=v,C.$$owner=l;var re=v.substr(1),ue=l.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),p(ue,v,C),l.$$is_module){l.$$module_function&&g.defs(l,v,C);for(var ce=0,he=l.$$iclasses,pe=he.length;ce<pe;ce++){var ye=he[ce];p(ye,v,C)}}var we=l.$$singleton_of;return l.$method_added&&!l.$method_added.$$stub&&!we?l.$method_added(re):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(re),re},g.defs=function(l,v,C,re){return le(C,re),(l.$$is_string||l.$$is_number)&&S(g.TypeError,"can't define singleton"),g.defn(g.get_singleton_class(l),v,C)};function ve(l,v){if(l.$$is_module)for(var C=0,re=l.$$iclasses,ue=re.length;C<ue;C++){var ce=re[C];delete ce[v]}}g.rdef=function(l,v){J(l.$$prototype,v)||S(g.NameError,"method '"+v.substr(1)+"' not defined in "+l.$name()),delete l.$$prototype[v],ve(l,v),l.$$is_singleton?l.$$prototype.$singleton_method_removed&&!l.$$prototype.$singleton_method_removed.$$stub&&l.$$prototype.$singleton_method_removed(v.substr(1)):l.$method_removed&&!l.$method_removed.$$stub&&l.$method_removed(v.substr(1))},g.udef=function(l,v){(!l.$$prototype[v]||l.$$prototype[v].$$stub)&&S(g.NameError,"method '"+v.substr(1)+"' not defined in "+l.$name()),g.add_stub_for(l.$$prototype,v),ve(l,v),l.$$is_singleton?l.$$prototype.$singleton_method_undefined&&!l.$$prototype.$singleton_method_undefined.$$stub&&l.$$prototype.$singleton_method_undefined(v.substr(1)):l.$method_undefined&&!l.$method_undefined.$$stub&&l.$method_undefined(v.substr(1))};function me(l){return typeof l=="function"&&!l.$$stub}g.alias=function(l,v,C){var re=de(v),ue=de(C),ce,he;if(typeof l.$$prototype>"u"&&(l=g.Object),ce=l.$$prototype[ue],l.$$eval)return g.alias(g.get_singleton_class(l),v,C);if(!me(ce)){for(var pe=l.$$super;typeof ce!="function"&&pe;)ce=pe[ue],pe=pe.$$super;!me(ce)&&l.$$is_module&&(ce=g.Object.$$prototype[ue]),me(ce)||S(g.NameError,"undefined method `"+C+"' for class `"+l.$name()+"'")}return ce.$$alias_of&&(ce=ce.$$alias_of),he=g.wrap_method_body(ce),he.displayName=v,he.$$alias_of=ce,he.$$alias_name=v,g.defn(l,re,he),l},g.wrap_method_body=function(l){var v=function(){var C=v.$$p;return v.$$p=null,g.send(this,l,arguments,C)};try{Object.defineProperty(v,"length",{value:l.length})}catch{}return v.$$arity=l.$$arity==null?l.length:l.$$arity,v.$$parameters=l.$$parameters,v.$$source_location=l.$$source_location,v},g.alias_gvar=function(l,v){return Object.defineProperty(X,l,{configurable:!0,enumerable:!0,get:function(){return X[v]},set:function(C){X[v]=C}}),F},g.alias_native=function(l,v,C){var re=de(v),ue=l.$$prototype[C];return(typeof ue!="function"||ue.$$stub)&&S(g.NameError,"undefined native method `"+C+"' for class `"+l.$name()+"'"),g.defn(l,re,ue),l},g.hash_init=function(l){y.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},g.hash_clone=function(l,v){return v.$$none=l.$$none,v.$$proc=l.$$proc,g.hash_each(l,v,function(C,re){return g.hash_put(v,C,re),[!1,v]})},g.hash_put=function(l,v,C){var re=typeof v;if(re==="string"||re==="symbol"||re==="number"||re==="boolean"||re==="bigint")l.set(v,C);else if(v.$$is_string)l.set(v.valueOf(),C);else{l.$$keys||(l.$$keys=new Map);var ue=v.$$is_string?v.valueOf():l.$$by_identity?g.id(v):v.$hash(),ce=l.$$keys;if(!ce.has(ue)){ce.set(ue,[v]),l.set(v,C);return}for(var he=ce.get(ue),pe,ye=0;ye<he.length;ye++)if(pe=he[ye],v===pe||v["$eql?"](pe)){l.set(pe,C);return}he.push(v),l.set(v,C)}},g.hash_get=function(l,v){var C=typeof v;if(C==="string"||C==="symbol"||C==="number"||C==="boolean"||C==="bigint")return l.get(v);if(l.$$keys){var re=v.$$is_string?v.valueOf():l.$$by_identity?g.id(v):v.$hash(),ue=l.$$keys.get(re),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],v===ce||v["$eql?"](ce))return l.get(ce)}else if(v.$$is_string)return l.get(re)}else if(v.$$is_string)return l.get(v.valueOf())};function be(l,v){var C=l.get(v);if(C!==void 0)return l.delete(v),C}g.hash_delete=function(l,v){var C=typeof v;if(C==="string"||C==="symbol"||C==="number"||C==="boolean"||C==="bigint")return be(l,v);if(l.$$keys){var re=v.$$is_string?v.valueOf():l.$$by_identity?g.id(v):v.$hash(),ue=l.$$keys.get(re),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],v===ce||v["$eql?"](ce))return ue.splice(he,1),ue.length===0&&l.$$keys.delete(re),be(l,ce)}else if(v.$$is_string)return be(l,re)}else if(v.$$is_string)return be(l,v.valueOf())},g.hash_rehash=function(l){var v=l.$$keys;return v&&v.clear(),g.hash_each(l,!1,function(C,re){var ue=typeof C;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var ce=C.$$is_string?C.valueOf():l.$$by_identity?g.id(C):C.$hash();if(v||(l.$$keys=v=new Map),!v.has(ce))return v.set(ce,[C]),[!1,!1];for(var he=v.get(ce),pe=he.length===1?he:ne(he),ye,we=0;we<pe.length;we++)ye=pe[we],(C===ye||C["$eql?"](ye))&&(he.splice(he.indexOf(ye),1),l.delete(ye));return he.push(C),[!1,!1]}),l},g.hash=function(){var l=arguments.length,v,C,re,ue,ce,he;if(l===1&&arguments[0].$$is_hash)return arguments[0];if(C=new Map,l===1)if(v=arguments[0],arguments[0].$$is_array){for(ue=v.length,re=0;re<ue;re++)v[re].length!==2&&S(g.ArgumentError,"value not of length 2: "+v[re].$inspect()),ce=v[re][0],he=v[re][1],g.hash_put(C,ce,he);return C}else{v=arguments[0];for(ce in v)J(v,ce)&&(he=v[ce],g.hash_put(C,ce,he));return C}for(l%2!==0&&S(g.ArgumentError,"odd number of arguments for Hash"),re=0;re<l;re+=2)ce=arguments[re],he=arguments[re+1],g.hash_put(C,ce,he);return C},g.hash2=function(l,v){y.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var C=new Map,re=0,ue=l.length;re<ue;re++)C.set(l[re],v[l[re]]);return C},g.hash_each=function(l,v,C){for(var re,ue=0,ce,he=Array.from(l.entries()),pe=he.length;ue<pe;ue++)if(ce=he[ue],re=C(ce[0],ce[1]),re[0])return re[1];return re?re[1]:v},g.range=function(l,v,C){var re=new g.Range;return re.begin=l,re.end=v,re.excl=C,re};var $e=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];g.ivar=function(l){return $e.indexOf(l)!==-1&&(l+="$"),l};function q(l){l.$$frozen&&S(g.FrozenError,"can't modify frozen "+l.$class()+": "+l,new Map([["receiver",l]]))}g.deny_frozen_access=q,g.freeze=function(l){return p(l,"$$frozen",!0),l.hasOwnProperty("$$id")||p(l,"$$id",P()),l.hasOwnProperty("$$meta")?l.$$meta.$freeze():p(l,"$$meta",null),l.hasOwnProperty("$$comparable")||p(l,"$$comparable",null),Object.seal(l),l};function T(l,v){var C=Object.getOwnPropertyNames(l),re=C.length,ue,ce,he;for(ue=0;ue<re;ue++)ce=C[ue],ce[0]!=="$"&&(he=Object.getOwnPropertyDescriptor(l,ce),he&&he.enumerable&&v(ce,he))}g.each_ivar=T,g.freeze_props=function(l){var v={get:null,set:function(C){q(l)},enumerable:!0};T(l,function(C,re){re.writable&&(v.get=se(re.value),Object.defineProperty(l,C,v))})},g.escape_regexp=function(l){return l.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},g.global_regexp=function(l){return l.global?l:(l.$$g==null?l.$$g=new RegExp(l.source,(l.multiline?"gm":"g")+(l.ignoreCase?"i":"")):l.$$g.lastIndex=null,l.$$g)},g.global_multiline_regexp=function(l){var v,C;return l.global&&l.multiline?l:(C="gm"+(l.ignoreCase?"i":""),l.multiline?(l.$$g==null&&(l.$$g=new RegExp(l.source,C)),v=l.$$g):(l.$$gm==null&&(l.$$gm=new RegExp(l.source,C)),v=l.$$gm),v.lastIndex=null,v)},g.regexp=function(l,v){for(var C,re=typeof v<"u"&&v&&v.indexOf("i")>=0,ue=0,ce=l.length;ue<ce;ue++)C=l[ue],C instanceof RegExp&&(C.ignoreCase!==re&&g.Kernel.$warn("ignore case doesn't match for "+C.source.$inspect(),new Map([["uplevel",1]])),C=C.source),C===""&&(C="(?:"+C+")"),l[ue]=C;return v?new RegExp(l.join(""),v):new RegExp(l.join(""))},g.modules={},g.loaded_features=["corelib/runtime"],g.current_dir=".",g.require_table={"corelib/runtime":!0},g.normalize=function(l){var v,C,re=[],ue="/";g.current_dir!=="."&&(l=g.current_dir.replace(/\/*$/,"/")+l),l=l.replace(/^\.\//,""),l=l.replace(/\.(rb|opal|js)$/,""),v=l.split(ue);for(var ce=0,he=v.length;ce<he;ce++)C=v[ce],C!==""&&(C===".."?re.pop():re.push(C));return re.join(ue)},g.loaded=function(l){var v,C,re;for(v=0,C=l.length;v<C;v++)re=g.normalize(l[v]),!g.require_table[re]&&(g.loaded_features.push(re),g.require_table[re]=!0)},g.load_normalized=function(l){g.loaded([l]);var v=g.modules[l];if(v){var C=v(g);if(typeof Promise<"u"&&C instanceof Promise)return C.then(se(!0))}else{var re=g.config.missing_require_severity,ue="cannot load such file -- "+l;re==="error"?S(g.LoadError,ue):re==="warning"&&y.warn("WARNING: LoadError: "+ue)}return!0},g.load=function(l){return l=g.normalize(l),g.load_normalized(l)},g.require=function(l){return l=g.normalize(l),g.require_table[l]?!1:g.load_normalized(l)},g.encodings=Object.create(null),g.set_encoding=function(l,v,C){typeof C>"u"&&(C="encoding"),(typeof l=="string"||l.$$frozen===!0)&&S(g.FrozenError,"can't modify frozen String");var re=g.find_encoding(v);return re===l[C]||(l[C]=re),l},g.find_encoding=function(l){var v=g.encodings,C=v[l]||v[l.toUpperCase()];return C||S(g.ArgumentError,"unknown encoding name - "+l),C},g.enc=function(l,v){var C=new String(l);return C=g.set_encoding(C,v),C.internal_encoding=C.encoding,C},g.binary=function(l){var v=new String(l);return g.set_encoding(v,"binary","internal_encoding")},g.last_promise=null,g.promise_unhandled_exception=!1,g.queue=function(l){if(g.last_promise)return g.last_promise=g.last_promise.then(function(){if(!g.promise_unhandled_exception)return l(g)}).catch(function(C){g.respond_to(C,"$full_message")&&(C=C.$full_message()),y.error(C),g.promise_unhandled_exception=!0,g.exit(1)}),g.last_promise;var v=l(g);return typeof Promise=="function"&&typeof v=="object"&&v instanceof Promise&&(g.last_promise=v),v};function B(l,v){return typeof l=="number"&&typeof v=="number"}g.rb_plus=function(l,v){return B(l,v)?l+v:l["$+"](v)},g.rb_minus=function(l,v){return B(l,v)?l-v:l["$-"](v)},g.rb_times=function(l,v){return B(l,v)?l*v:l["$*"](v)},g.rb_divide=function(l,v){return B(l,v)?l/v:l["$/"](v)},g.rb_lt=function(l,v){return B(l,v)?l<v:l["$<"](v)},g.rb_gt=function(l,v){return B(l,v)?l>v:l["$>"](v)},g.rb_le=function(l,v){return B(l,v)?l<=v:l["$<="](v)},g.rb_ge=function(l,v){return B(l,v)?l>=v:l["$>="](v)};function Y(l,v){return typeof l=="number"&&typeof v=="number"||typeof l=="string"&&typeof v=="string"}function te(l,v){return Y(l,v)?l===v:x(l["$=="](v))}g.eqeq=te,g.eqeqeq=function(l,v){return Y(l,v)?l===v:x(l["$==="](v))},g.neqeq=function(l,v){return Y(l,v)?l!==v:x(l["$!="](v))},g.not=function(l){return l==null||l===!1||F===l?!0:l===!0||l["$!"].$$pristine?!1:x(l["$!"]())};function se(l){return function(){return l}}g.return_val=se,g.return_self=function(){return this},g.return_ivar=function(l){return function(){return this[l]==null?F:this[l]}},g.assign_ivar=function(l){return function(v){return q(this),this[l]=v}},g.assign_ivar_val=function(l,v){return function(){return q(this),this[l]=v}},g.ensure_kwargs=function(l){if(l==null)return new Map;if(l.$$is_hash)return l;S(g.ArgumentError,"expected kwargs")},g.get_kwarg=function(l,v){var C=g.hash_get(l,v);return C===void 0&&S(g.ArgumentError,"missing keyword: "+v),C},g.large_array_unpack=function(l){var v=l.split(","),C=v.length,re;for(re=0;re<C;re++)switch(v[re][0]){case void 0:v[re]=F;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":v[re]=+v[re]}return v},g.opal32_init=se(1332765036);function oe(l,v){return l<<v|l>>>32-v}g.opal32_add=function(l,v){return l^=v,l=oe(l,1),l},g.BasicObject=V=H("BasicObject",null),g.Object=E=H("Object",g.BasicObject),g.Module=ee=H("Module",g.Object),g.Class=Q=H("Class",g.Module),g.Opal=N=f("Opal"),g.Kernel=W=f("Kernel"),G(g.BasicObject,g.Class.$$prototype),G(g.Object,g.Class.$$prototype),G(g.Module,g.Class.$$prototype),G(g.Class,g.Class.$$prototype),V.$$const.BasicObject=V,_(E,"BasicObject",V),_(E,"Object",E),_(E,"Module",ee),_(E,"Class",Q),_(E,"Opal",N),_(E,"Kernel",W),V.$$class=Q,E.$$class=Q,ee.$$class=Q,Q.$$class=Q,N.$$class=ee,W.$$class=ee,p(E.$$prototype,"toString",function(){var l=this.$to_s();return l.$$is_string&&typeof l=="object"?l.valueOf():l}),p(E.$$prototype,"$require",g.require),g.top=new E,g.top.$to_s=g.top.$inspect=se("main"),g.top.$define_method=fe;function fe(){var l=fe.$$p;return fe.$$p=null,g.send(E,"define_method",arguments,l)}g.NilClass=H("NilClass",g.Object),_(E,"NilClass",g.NilClass),F=g.nil=new g.NilClass,F.$$id=w,F.call=F.apply=function(){S(g.LocalJumpError,"no block given")},F.$$frozen=!0,F.$$comparable=!1,Object.seal(F),g.thrower=function(l){var v={$thrower_type:l,$throw:function(C,re){throw C==null&&(C=F),this.is_orphan&&!re&&S(g.LocalJumpError,"unexpected "+l,C,l.$to_sym()),this.$v=C,this},is_orphan:!1};return v},Object.defineProperty(X,"@",{enumerable:!0,configurable:!0,get:function(){return x(X["!"])?X["!"].$backtrace():F},set:function(l){x(X["!"])?X["!"].$set_backtrace(l):S(g.ArgumentError,"$! not set")}}),g.t_eval_return=g.thrower("return"),TypeError.$$super=Error,g.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(r){var y=r.type_error,F=r.coerce_to,V=r.module,E=r.defs,ee=r.slice,Q=r.eqeqeq,N=r.Kernel,W=r.truthy,g=r.Opal,K=r.nil,ie=r.$$$;return r.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(J){var G=V(J,"Opal");E(G,"$bridge",function(w,R){return r.bridge(w,R)}),E(G,"$coerce_to!",function(w,R,P,X){var S,U,p=K;return S=ee(arguments,3),U=S,p=F(w,R,P,U),Q(R,p)||N.$raise(y(w,R,P,p)),p},-4),E(G,"$coerce_to?",function(w,R,P,X){var S,U,p=K;return S=ee(arguments,3),U=S,!W(w["$respond_to?"](P))||(p=F(w,R,P,U),W(p["$nil?"]()))?K:(Q(R,p)||N.$raise(y(w,R,P,p)),p)},-4),E(G,"$try_convert",function(w,R,P){return Q(R,w)?w:W(w["$respond_to?"](P))?w.$__send__(P):K}),E(G,"$compare",function(w,R){var P=K;return P=w["$<=>"](R),W(P===K)&&N.$raise(ie("ArgumentError"),"comparison of "+w.$class()+" with "+R.$class()+" failed"),P}),E(G,"$destructure",function(w){if(w.length==1)return w[0];if(w.$$is_array)return w;for(var R=new Array(w.length),P=0,X=R.length;P<X;P++)R[P]=w[P];return R}),E(G,"$respond_to?",function(w,R,P){return P==null&&(P=!1),w==null||!w.$$class?!1:w["$respond_to?"](R,P)},-3),E(G,"$instance_variable_name!",function(w){return w=g["$coerce_to!"](w,ie("String"),"to_str"),W(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(w))||N.$raise(ie("NameError").$new("'"+w+"' is not allowed as an instance variable name",w)),w}),E(G,"$class_variable_name!",function(w){return w=g["$coerce_to!"](w,ie("String"),"to_str"),W(w.length<3||w.slice(0,2)!=="@@")&&N.$raise(ie("NameError").$new("`"+w+"' is not allowed as a class variable name",w)),w}),E(G,"$const_name?",function(w){return typeof w!="string"&&(w=g["$coerce_to!"](w,ie("String"),"to_str")),w[0]===w[0].toUpperCase()}),E(G,"$const_name!",function(w){var R=this;return W(ie("::","String","skip_raise")?"constant":K)&&(w=g["$coerce_to!"](w,ie("String"),"to_str")),(!w||w[0]!=w[0].toUpperCase())&&R.$raise(ie("NameError"),"wrong constant name "+w),w}),E(G,"$pristine",function(w,R){var P,X;P=ee(arguments,1),X=P;for(var S,U,p=X.length-1;p>=0;p--)S=X[p],U=w.$$prototype[r.jsid(S)],U&&!U.$$stub&&(U.$$pristine=!0);return K},-2);var ne=[];return E(G,"$inspect",function(w){var R=K,P=!1;return function(){try{try{return w===null?"null":w===void 0?"undefined":typeof w.$$class>"u"?Object.prototype.toString.apply(w):typeof w.$inspect!="function"||w.$inspect.$$stub||ne.indexOf(w.$__id__())!==-1?"#<"+w.$$class+":0x"+w.$__id__().$to_s(16)+">":(ne.push(w.$__id__()),P=!0,w.$inspect())}catch(X){if(r.rescue(X,[ie("Exception")])){R=X;try{return"#<"+w.$$class+":0x"+w.$__id__().$to_s(16)+">"}finally{r.pop_exception(X)}}else throw X}}finally{P&&ne.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(r){var y=r.truthy,F=r.coerce_to,V=r.const_set,E=r.Object,ee=r.return_ivar,Q=r.assign_ivar,N=r.ivar,W=r.deny_frozen_access,g=r.freeze,K=r.prop,ie=r.jsid,J=r.each_ivar,G=r.klass,ne=r.Opal,Z=r.Kernel,w=r.defs,R=r.send,P=r.def,X=r.eqeqeq,S=r.Module,U=r.rb_lt,p=r.rb_gt,x=r.slice,D=r.to_a,I=r.return_val,b=r.eqeq,s=r.not,d=r.rb_le,k=r.range,h=r.send2,_=r.find_super,o=r.alias,H=[],j=r.nil,c=r.$$$;return r.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(f,a,t){var n=G(f,a,"Module"),e=[n].concat(t),$=r.$r(e);function i(M){if(M.$$is_string)return M;var A=ne.$try_convert(M,c("String"),"to_str");if(A.$$is_string)return A;A===j?Z.$raise(c("TypeError"),""+M+" is not a symbol nor a string"):Z.$raise(c("TypeError"),"can't convert "+M.$class()+" to String ("+M.$class()+"#to_str gives "+A.$class())}w(n,"$allocate",function(){var A=this,L=r.allocate_module(j,function(){});return A!==r.Module&&Object.setPrototypeOf(L,A.$$prototype),L}),P(n,"$initialize",function M(){var A=M.$$p||j,L=this;return M.$$p=null,A!==j?R(L,"module_eval",[],A.$to_proc()):j}),P(n,"$===",function(A){var L=this;return y(A==null)?!1:r.is_a(A,L)}),P(n,"$<",function(A){var L=this;X(S,A)||Z.$raise(c("TypeError"),"compared with non class/module");var O=L,ae,le,_e;if(O===A)return!1;for(le=0,ae=r.ancestors(L),_e=ae.length;le<_e;le++)if(ae[le]===A)return!0;for(le=0,ae=r.ancestors(A),_e=ae.length;le<_e;le++)if(ae[le]===L)return!1;return j}),P(n,"$<=",function(A){var L=this,O=j;return y(O=L["$equal?"](A))?O:U(L,A)}),P(n,"$>",function(A){var L=this;return X(S,A)||Z.$raise(c("TypeError"),"compared with non class/module"),U(A,L)}),P(n,"$>=",function(A){var L=this,O=j;return y(O=L["$equal?"](A))?O:p(L,A)}),P(n,"$<=>",function(A){var L=this,O=j;return L===A?0:!X(S,A)||(O=U(L,A),y(O["$nil?"]()))?j:y(O)?-1:1}),P(n,"$alias_method",function(A,L){var O=this;return W(O),A=F(A,c("String"),"to_str"),L=F(L,c("String"),"to_str"),r.alias(O,A,L),O}),P(n,"$alias_native",function(A,L){var O=this;return L==null&&(L=A),W(O),r.alias_native(O,A,L),O},-2),P(n,"$ancestors",function(){var A=this;return r.ancestors(A)}),P(n,"$append_features",function(A){var L=this;return W(A),r.append_features(L,A),L}),P(n,"$attr_accessor",function(A){var L,O,ae=this;return L=x(arguments),O=L,R(ae,"attr_reader",D(O)),R(ae,"attr_writer",D(O))},-1),P(n,"$attr",function(A){var L,O,ae=this;return L=x(arguments),O=L,O.length==2&&(O[1]===!0||O[1]===!1)?(ae.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),O[1]?ae.$attr_accessor(O[0]):ae.$attr_reader(O[0]),j):R(ae,"attr_reader",D(O))},-1),P(n,"$attr_reader",function(A){var L,O,ae=this;L=x(arguments),O=L,W(ae);for(var le=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=ie(de),ve=N(de),me=ee(ve);r.prop(le,ve,j),me.$$parameters=[],me.$$arity=0,r.defn(ae,ge,me)}return j},-1),P(n,"$attr_writer",function(A){var L,O,ae=this;L=x(arguments),O=L,W(ae);for(var le=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=ie(de+"="),ve=N(de),me=Q(ve);me.$$parameters=[["req"]],me.$$arity=1,r.prop(le,ve,j),r.defn(ae,ge,me)}return j},-1),P(n,"$autoload",function(A,L){var O=this;return W(O),$("Opal")["$const_name?"](A)||Z.$raise(c("NameError"),"autoload must be constant name: "+A),L==""&&Z.$raise(c("ArgumentError"),"empty file name"),O.$$const.hasOwnProperty(A)||(O.$$autoload||(O.$$autoload={}),r.const_cache_version++,O.$$autoload[A]={path:L,loaded:!1,required:!1,success:!1,exception:!1},O.$const_added&&!O.$const_added.$$pristine&&O.$const_added(A)),j}),P(n,"$autoload?",function(A){var L=this;if(L.$$autoload&&L.$$autoload[A]&&!L.$$autoload[A].required&&!L.$$autoload[A].success)return L.$$autoload[A].path;for(var O=L.$ancestors(),ae=0,le=O.length;ae<le;ae++)if(O[ae].$$autoload&&O[ae].$$autoload[A]&&!O[ae].$$autoload[A].required&&!O[ae].$$autoload[A].success)return O[ae].$$autoload[A].path;return j}),P(n,"$class_variables",function(){var A=this;return Object.keys(r.class_variables(A))}),P(n,"$class_variable_get",function(A){var L=this;return A=ne["$class_variable_name!"](A),r.class_variable_get(L,A,!1)}),P(n,"$class_variable_set",function(A,L){var O=this;return W(O),A=ne["$class_variable_name!"](A),r.class_variable_set(O,A,L)}),P(n,"$class_variable_defined?",function(A){var L=this;return A=ne["$class_variable_name!"](A),r.class_variables(L).hasOwnProperty(A)}),P(n,"$const_added",I(j)),ne.$pristine(n,"const_added"),P(n,"$remove_class_variable",function(A){var L=this;if(W(L),A=ne["$class_variable_name!"](A),r.hasOwnProperty.call(L.$$cvars,A)){var O=L.$$cvars[A];return delete L.$$cvars[A],O}else Z.$raise(c("NameError"),"cannot remove "+A+" for "+L)}),P(n,"$constants",function(A){var L=this;return A==null&&(A=!0),r.constants(L,A)},-1),w(n,"$constants",function(A){var L=this;if(A==null){var O=(L.$$nesting||[]).concat(E),ae,le={},_e,de;for(_e=0,de=O.length;_e<de;_e++)for(ae in O[_e].$$const)le[ae]=!0;return Object.keys(le)}else return r.constants(L,A)},-1),w(n,"$nesting",function(){var A=this;return A.$$nesting||[]}),P(n,"$const_defined?",function(A,L){var O=this;L==null&&(L=!0),A=$("Opal")["$const_name!"](A),y(A["$=~"](c(ne,"CONST_NAME_REGEXP")))||Z.$raise(c("NameError").$new("wrong constant name "+A,A));var ae,le=[O],_e,de;for(L&&(le=le.concat(r.ancestors(O)),O.$$is_module&&(le=le.concat([E]).concat(r.ancestors(E)))),_e=0,de=le.length;_e<de;_e++)if(ae=le[_e],ae.$$const[A]!=null||ae.$$autoload&&ae.$$autoload[A]&&!ae.$$autoload[A].required&&!ae.$$autoload[A].success)return!0;return!1},-2),P(n,"$const_get",function(A,L){var O=this;return L==null&&(L=!0),A=$("Opal")["$const_name!"](A),A.indexOf("::")===0&&A!=="::"&&(A=A.slice(2)),y(A.indexOf("::")!=-1&&A!="::")?R(A.$split("::"),"inject",[O],function(le,_e){return le==null&&(le=j),_e==null&&(_e=j),le.$const_get(_e)}):(y(A["$=~"](c(ne,"CONST_NAME_REGEXP")))||Z.$raise(c("NameError").$new("wrong constant name "+A,A)),L?r.$$([O],A):r.const_get_local(O,A))},-2),P(n,"$const_missing",function(A){var L=this,O=j;return O=b(L,E)?A:""+L+"::"+A,Z.$raise(c("NameError").$new("uninitialized constant "+O,A))}),P(n,"$const_set",function(A,L){var O=this;return W(O),A=ne["$const_name!"](A),(y(A["$!~"](c(ne,"CONST_NAME_REGEXP")))||y(A["$start_with?"]("::")))&&Z.$raise(c("NameError").$new("wrong constant name "+A,A)),V(O,A,L),L}),P(n,"$public_constant",I(j)),P(n,"$define_method",function M(A,L){var O=M.$$p||j,ae=this,le=j,_e=j,de=j;return M.$$p=null,W(ae),L===void 0&&O===j&&Z.$raise(c("ArgumentError"),"tried to create a Proc object without a block"),A=i(A),y(L!==void 0)&&(O=X(c("Proc"),le=L)?L:X(c("Method"),le)?L.$to_proc().$$unbound:X(c("UnboundMethod"),le)?r.wrap_method_body(L.$$method):Z.$raise(c("TypeError"),"wrong argument type "+L.$class()+" (expected Proc/Method/UnboundMethod)"),y(!L.$$is_proc)&&(_e=L.$owner(),y(_e.$$is_class)&&s(d(ae,_e))&&(de=y(_e.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+_e,Z.$raise(c("TypeError"),de)))),typeof Proxy<"u"&&(O.$$proxy_target=O,O=new Proxy(O,{apply:function(ge,ve,me){var be=ge.$$jsid,$e=ge.$$is_lambda;ge.$$jsid=A,ge.$$is_lambda=!0;try{return ge.apply(ve,me)}catch(q){if(q===ge.$$brk||q===ge.$$ret)return q.$v;throw q}finally{ge.$$jsid=be,ge.$$is_lambda=$e}}})),O.$$jsid=A,O.$$s=null,O.$$def=O,O.$$define_meth=!0,r.defn(ae,ie(A),O)},-2),P(n,"$freeze",function(){var A=this;return y(A["$frozen?"]())?A:(A.hasOwnProperty("$$base_module")||K(A,"$$base_module",null),g(A))}),P(n,"$remove_method",function(A){var L,O,ae=this;L=x(arguments),O=L;for(var le=0;le<O.length;le++){var _e=i(O[le]);W(ae),r.rdef(ae,"$"+_e)}return ae},-1),P(n,"$singleton_class?",function(){var A=this;return!!A.$$is_singleton}),P(n,"$include",function(A){var L,O,ae=this;L=x(arguments),O=L;for(var le=O.length-1;le>=0;le--){var _e=O[le];_e.$$is_module||Z.$raise(c("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$append_features(ae),_e.$included(ae)}return ae},-1),P(n,"$included_modules",function(){var A=this;return r.included_modules(A)}),P(n,"$include?",function(A){var L=this;A.$$is_module||Z.$raise(c("TypeError"),"wrong argument type "+A.$class()+" (expected Module)");var O,ae,le,_e=r.ancestors(L);for(O=0,ae=_e.length;O<ae;O++)if(le=_e[O],le===A&&le!==L)return!0;return!1}),P(n,"$instance_method",function(A){var L=this,O=L.$$prototype[ie(A)];return(!O||O.$$stub)&&Z.$raise(c("NameError").$new("undefined method `"+A+"' for class `"+L.$name()+"'",A)),c("UnboundMethod").$new(L,O.$$owner||L,O,A)}),P(n,"$instance_methods",function(A){var L=this;return A==null&&(A=!0),y(A)?r.instance_methods(L):r.own_instance_methods(L)},-1),P(n,"$included",I(j)),P(n,"$extended",I(j)),P(n,"$extend_object",function(A){return W(A),j}),P(n,"$method_added",function(A){return x(arguments),j},-1),P(n,"$method_removed",function(A){return x(arguments),j},-1),P(n,"$method_undefined",function(A){return x(arguments),j},-1),P(n,"$module_eval",function M(A){var L=M.$$p||j,O,ae,le,_e=this,de=j,ge=j,ve=j,me=j,be=j,$e=j;M.$$p=null,O=x(arguments),ae=O,y(L["$nil?"]())&&y(!!r.compile)?(y(k(1,3,!1)["$cover?"](ae.$size()))||Z.$raise(c("ArgumentError"),"wrong number of arguments (0 for 1..3)"),le=[].concat(D(ae)),de=le[0]==null?j:le[0],ge=le[1]==null?j:le[1],le[2]==null||le[2],ve=new Map([["file",y(me=ge)?me:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(ve),$e=ne.$compile(de,be),L=R(Z,"proc",[],function B(){var Y=B.$$s==null?this:B.$$s;return new Function("Opal,self","return "+$e)(r,Y)},{$$s:_e})):y(ae["$any?"]())&&Z.$raise(c("ArgumentError"),"wrong number of arguments ("+ae.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var q=L.$$s,T;return L.$$s=null,T=L.apply(_e,[_e]),L.$$s=q,T},-1),P(n,"$module_exec",function M(A){var L=M.$$p||j,O,ae,le=this;M.$$p=null,O=x(arguments),ae=O,L===j&&Z.$raise(c("LocalJumpError"),"no block given");var _e=L.$$s,de;return L.$$s=null,de=L.apply(le,ae),L.$$s=_e,de},-1),P(n,"$method_defined?",function(A){var L=this,O=L.$$prototype[ie(A)];return!!O&&!O.$$stub}),P(n,"$module_function",function(A){var L,O,ae=this;if(L=x(arguments),O=L,W(ae),O.length===0)return ae.$$module_function=!0,j;for(var le=0,_e=O.length;le<_e;le++){var de=O[le],ge=ie(de),ve=ae.$$prototype[ge];r.defs(ae,ge,ve)}return O.length===1?O[0]:O},-1),P(n,"$name",function(){var A=this;if(A.$$full_name)return A.$$full_name;for(var L=[],O=A;O;){if(O.$$name===j||O.$$name==null)return j;if(L.unshift(O.$$name),O=O.$$base_module,O===E)break}return L.length===0?j:A.$$full_name=L.join("::")}),P(n,"$prepend",function(A){var L,O,ae=this;L=x(arguments),O=L,O.length===0&&Z.$raise(c("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var le=O.length-1;le>=0;le--){var _e=O[le];_e.$$is_module||Z.$raise(c("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$prepend_features(ae),_e.$prepended(ae)}return ae},-1),P(n,"$prepend_features",function(A){var L=this;return W(A),L.$$is_module||Z.$raise(c("TypeError"),"wrong argument type "+L.$class()+" (expected Module)"),r.prepend_features(L,A),L}),P(n,"$prepended",I(j)),P(n,"$remove_const",function(A){var L=this;return W(L),r.const_remove(L,A)}),P(n,"$to_s",function(){var A=this,L=j;return y(L=r.Module.$name.call(A))?L:"#<"+(A.$$is_module?"Module":"Class")+":0x"+A.$__id__().$to_s(16)+">"}),P(n,"$undef_method",function(A){var L,O,ae=this;L=x(arguments),O=L;for(var le=0;le<O.length;le++){var _e=i(O[le]);W(ae),r.udef(ae,"$"+_e)}return ae},-1),P(n,"$instance_variables",function(){var A=this,L=j;L=(r.Module.$$nesting=e,A.$constants());var O=[];return J(A,function(ae){ae!=="constructor"&&!L["$include?"](ae)&&O.push("@"+ae)}),O});function u(M,A){var L,O=r.own_instance_methods(M);for(L=0;L<O.length;L++){var ae=O[L],le=ie(ae),_e=M.$$prototype[le],de=r.wrap_method_body(_e);de.$$jsid=ae,r.defn(A,le,de)}}function m(M,A){for(var L=M.$$own_included_modules,O=L.length-1;O>=0;O--)r.append_features(L[O],A)}function z(M,A){for(var L=M.$$own_prepended_modules,O=L.length-1;O>=0;O--)r.prepend_features(L[O],A)}return P(n,"$initialize_copy",function(A){var L=this;return u(A,L),m(A,L),z(A,L),L.$$cloned_from=A.$$cloned_from.concat(A),L.$copy_class_variables(A),L.$copy_constants(A)}),P(n,"$initialize_dup",function M(A){var L=M.$$p||j,O=this;return M.$$p=null,h(O,_(O,"initialize_dup",M,!1,!0),"initialize_dup",[A],L),O.$copy_singleton_methods(A)}),P(n,"$copy_class_variables",function(A){var L=this;for(var O in A.$$cvars)L.$$cvars[O]=A.$$cvars[O]}),P(n,"$copy_constants",function(A){var L=this,O,ae=A.$$const;for(O in ae)V(L,O,ae[O])}),P(n,"$refine",function M(A){var L=M.$$p||j,O,ae=this,le=j,_e=j,de=j;return M.$$p=null,O=[ae,j,j],le=O[0],_e=O[1],de=O[2],de=r.id(A),typeof ae.$$refine_modules>"u"&&(ae.$$refine_modules=Object.create(null)),typeof ae.$$refine_modules[de]>"u"?_e=ae.$$refine_modules[de]=c("Refinement").$new():_e=ae.$$refine_modules[de],_e.refinement_module=le,_e.refined_class=A,R(_e,"class_exec",[],L.$to_proc()),_e}),P(n,"$refinements",function(){var A=this,L=A.$$refine_modules,O=new Map;if(typeof L>"u")return O;for(var ae in L)O["$[]="](L[ae].refined_class,L[ae]);return O}),P(n,"$using",function(A){return Z.$raise("Module#using is not permitted in methods")}),o(n,"class_eval","module_eval"),o(n,"class_exec","module_exec"),o(n,"inspect","to_s")}("::",null,H),function(f,a){var t=G(f,a,"Refinement"),n=t.$$prototype;return n.refinement_module=n.refined_class=j,t.$attr_reader("refined_class"),P(t,"$inspect",function e(){var $=e.$$p||j,i=this;return e.$$p=null,y(i.refinement_module)?"#<refinement:"+i.refined_class.$inspect()+"@"+i.refinement_module.$inspect()+">":h(i,_(i,"inspect",e,!1,!0),"inspect",[],$)})}("::",S)};Opal.modules["corelib/class"]=function(r){var y=r.klass,F=r.send,V=r.defs,E=r.def,ee=r.ensure_kwargs,Q=r.hash_get,N=r.eqeq,W=r.truthy,g=r.rb_plus,K=r.return_val,ie=r.slice,J=r.send2,G=r.find_super,ne=r.Kernel,Z=r.alias,w=r.top,R=[],P=r.nil,X=r.$$$;return r.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),w.$require("corelib/module"),function(S,U,p){var x=y(S,U,"Class"),D=[x].concat(p),I=r.$r(D);return V(x,"$new",function b(s){var d=b.$$p||P;if(b.$$p=null,s==null&&(s=I("Object")),!s.$$is_class)throw r.TypeError.$new("superclass must be a Class");var k=r.allocate_class(P,s);return s.$inherited(k),d!==P&&F(k,"class_eval",[],d.$to_proc()),k},-1),E(x,"$allocate",function(){var s=this,d=new s.$$constructor;return d.$$id=r.uid(),d}),E(x,"$clone",function(s){var d,k=this,h=P;return s=ee(s),d=Q(s,"freeze"),d==null&&(d=P),W(d["$nil?"]())||N(d,!0)||N(d,!1)||k.$raise(I("ArgumentError"),"unexpected value for freeze: "+d.$class()),h=r.allocate_class(P,k.$$super),h.$copy_instance_variables(k),h.$copy_singleton_methods(k),h.$initialize_clone(k,new Map([["freeze",d]])),(N(d,!0)||W(d["$nil?"]())&&W(k["$frozen?"]()))&&h.$freeze(),h},-1),E(x,"$dup",function(){var s=this,d=P;return d=r.allocate_class(P,s.$$super),d.$copy_instance_variables(s),d.$initialize_dup(s),d}),E(x,"$descendants",function(){var s=this;return g(s.$subclasses(),F(s.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),E(x,"$inherited",K(P)),E(x,"$new",function b(s){var d=b.$$p||P,k,h,_=this;b.$$p=null,k=ie(arguments),h=k;var o=_.$allocate();return r.send(o,o.$initialize,h,d),o},-1),E(x,"$subclasses",function(){var s=this;if(typeof WeakRef<"u"){var d,k,h=[];for(d=0;d<s.$$subclasses.length;d++)k=s.$$subclasses[d].deref(),k!==void 0&&h.push(k);return h}else return s.$$subclasses}),E(x,"$superclass",function(){var s=this;return s.$$super||P}),E(x,"$to_s",function b(){b.$$p;var s=this;b.$$p=null;var d=s.$$singleton_of;return d&&d.$$is_a_module?"#<Class:"+d.$name()+">":d?"#<Class:#<"+d.$$class.$name()+":0x"+r.id(d).$to_s(16)+">>":J(s,G(s,"to_s",b,!1,!0),"to_s",[],null)}),E(x,"$attached_object",function(){var s=this;if(s.$$singleton_of!=null)return s.$$singleton_of;ne.$raise(X("TypeError"),"`"+s+"' is not a singleton class")}),Z(x,"inspect","to_s")}("::",null,R)};Opal.modules["corelib/basic_object"]=function(r){var y=r.klass,F=r.slice,V=r.def,E=r.alias,ee=r.return_val,Q=r.Opal,N=r.truthy,W=r.range,g=r.Kernel,K=r.to_a,ie=r.send,J=r.eqeq,G=r.rb_ge,ne=r.nil,Z=r.$$$;return r.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(w,R){var P=y(w,R,"BasicObject");return V(P,"$initialize",function(S){return F(arguments),ne},-1),V(P,"$==",function(S){var U=this;return U===S}),V(P,"$eql?",function(S){var U=this;return U["$=="](S)}),E(P,"equal?","=="),V(P,"$__id__",function(){var S=this;return S.$$id!=null||r.prop(S,"$$id",r.uid()),S.$$id}),V(P,"$__send__",function X(S,U){var p=X.$$p||ne,x,D,I=this;X.$$p=null,x=F(arguments,1),D=x,S.$$is_string||I.$raise(Z("TypeError"),""+I.$inspect()+" is not a symbol nor a string");var b=I[r.jsid(S)];return b?(p!==ne&&(b.$$p=p),b.apply(I,D)):(p!==ne&&(I.$method_missing.$$p=p),I.$method_missing.apply(I,[S].concat(D)))},-2),V(P,"$!",ee(!1)),Q.$pristine("!"),V(P,"$!=",function(S){var U=this;return U["$=="](S)["$!"]()}),V(P,"$instance_eval",function X(S){var U=X.$$p||ne,p,x,D,I=this,b=ne,s=ne,d=ne,k=ne,h=ne,_=ne;if(X.$$p=null,p=F(arguments),x=p,N(U["$nil?"]())&&N(!!r.compile))N(W(1,3,!1)["$cover?"](x.$size()))||g.$raise(Z("ArgumentError"),"wrong number of arguments (0 for 1..3)"),D=[].concat(K(x)),b=D[0]==null?ne:D[0],s=D[1]==null?ne:D[1],D[2]==null||D[2],d=new Map([["file",N(k=s)?k:"(eval)"],["eval",!0]]),h=new Map([["arity_check",!1]]).$merge(d),_=Q.$compile(b,h),U=ie(g,"proc",[],function j(){var c=j.$$s==null?this:j.$$s;return new Function("Opal,self","return "+_)(r,c)},{$$s:I});else{if(N(U["$nil?"]())&&N(G(x.$length(),1))&&J(x.$first()["$[]"](0),"@"))return I.$instance_variable_get(x.$first());N(x["$any?"]())&&g.$raise(Z("ArgumentError"),"wrong number of arguments ("+x.$size()+" for 0)")}var o=U.$$s,H;if(U.$$s=null,I.$$is_a_module){I.$$eval=!0;try{H=U.call(I,I)}finally{I.$$eval=!1}}else H=U.call(I,I);return U.$$s=o,H},-1),V(P,"$instance_exec",function X(S){var U=X.$$p||ne,p,x,D=this;X.$$p=null,p=F(arguments),x=p,N(U)||g.$raise(Z("ArgumentError"),"no block given");var I=U.$$s,b;if(U.$$s=null,D.$$is_a_module){D.$$eval=!0;try{b=U.apply(D,x)}finally{D.$$eval=!1}}else b=U.apply(D,x);return U.$$s=I,b},-1),V(P,"$singleton_method_added",function(S){return F(arguments),ne},-1),V(P,"$singleton_method_removed",function(S){return F(arguments),ne},-1),V(P,"$singleton_method_undefined",function(S){return F(arguments),ne},-1),V(P,"$method_missing",function X(S,U){X.$$p;var p,x,D=this,I=ne;return X.$$p=null,p=F(arguments,1),x=p,I=Q.$inspect(D),g.$raise(Z("NoMethodError").$new("undefined method `"+S+"' for "+I,S,x),ne,g.$caller(1))},-2),Q.$pristine(P,"method_missing"),V(P,"$respond_to_missing?",function(S,U){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(r){var y=r.truthy,F=r.coerce_to,V=r.respond_to,E=r.Opal,ee=r.deny_frozen_access,Q=r.freeze,N=r.freeze_props,W=r.jsid,g=r.each_ivar,K=r.module,ie=r.return_val,J=r.def,G=r.Kernel,ne=r.gvars,Z=r.slice,w=r.send,R=r.to_a,P=r.ensure_kwargs,X=r.hash_get,S=r.eqeq,U=r.rb_plus,p=r.extract_kwargs,x=r.eqeqeq,D=r.return_self,I=r.rb_le,b=r.rb_lt,s=r.Object,d=r.alias,k=r.klass,h=[],_=r.nil,o=r.$$$;return r.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(H,j){var c=K(H,"Kernel"),f=[c].concat(j),a=r.$r(f);J(c,"$=~",ie(!1)),J(c,"$!~",function(e){var $=this;return $["$=~"](e)["$!"]()}),J(c,"$===",function(e){var $=this,i=_;return y(i=$.$object_id()["$=="](e.$object_id()))?i:$["$=="](e)}),J(c,"$<=>",function(e){var $=this;$.$$comparable=!0;var i=$["$=="](e);return i&&i!==_?0:_}),J(c,"$method",function(e){var $=this,i=$[W(e)];return(!i||i.$$stub)&&G.$raise(o("NameError").$new("undefined method `"+e+"' for class `"+$.$class()+"'",e)),o("Method").$new($,i.$$owner||$.$class(),i,e)}),J(c,"$methods",function(e){var $=this;return e==null&&(e=!0),y(e)?r.methods($):r.own_methods($)},-1),J(c,"$public_methods",function(e){var $=this;return e==null&&(e=!0),y(e)?r.methods($):r.receiver_methods($)},-1),J(c,"$Array",function(e){var $;return e===_?[]:e.$$is_array?e:($=E["$coerce_to?"](e,o("Array"),"to_ary"),$!==_||($=E["$coerce_to?"](e,o("Array"),"to_a"),$!==_)?$:[e])}),J(c,"$at_exit",function n(){var e=n.$$p||_,$=_;return ne.__at_exit__==null&&(ne.__at_exit__=_),n.$$p=null,ne.__at_exit__=y($=ne.__at_exit__)?$:[],ne.__at_exit__["$<<"](e),e}),J(c,"$caller",function(e,$){e==null&&(e=1),$==null&&($=_);var i,u;i=new Error().$backtrace(),u=[];for(var m=e+1,z=i.length;m<z;m++)i[m].match(/runtime\.js/)||u.push(i[m]);return $!=_&&(u=u.slice(0,$)),u},-1),J(c,"$caller_locations",function(e){var $,i,u=this;return $=Z(arguments),i=$,w(w(u,"caller",R(i)),"map",[],function(z){return z==null&&(z=_),o(o(o("Thread"),"Backtrace"),"Location").$new(z)})},-1),J(c,"$class",function(){var e=this;return e.$$class}),J(c,"$copy_instance_variables",function(e){var $=this,i=Object.keys(e),u,m,z;for(u=0,m=i.length;u<m;u++)z=i[u],z.charAt(0)!=="$"&&e.hasOwnProperty(z)&&($[z]=e[z])}),J(c,"$copy_singleton_methods",function(e){var $=this,i,u,m,z;if(e.hasOwnProperty("$$meta")&&e.$$meta!==null){var M=r.get_singleton_class(e),A=r.get_singleton_class($);for(m=Object.getOwnPropertyNames(M.$$prototype),i=0,z=m.length;i<z;i++)u=m[i],r.is_method(u)&&(A.$$prototype[u]=M.$$prototype[u]);A.$$const=Object.assign({},M.$$const),Object.setPrototypeOf(A.$$prototype,Object.getPrototypeOf(M.$$prototype))}for(i=0,m=Object.getOwnPropertyNames(e),z=m.length;i<z;i++)u=m[i],u.charAt(0)==="$"&&u.charAt(1)!=="$"&&e.hasOwnProperty(u)&&($[u]=e[u])}),J(c,"$clone",function(e){var $,i=this,u=_;return e=P(e),$=X(e,"freeze"),$==null&&($=_),y($["$nil?"]())||S($,!0)||S($,!1)||i.$raise(a("ArgumentError"),"unexpected value for freeze: "+$.$class()),u=i.$class().$allocate(),u.$copy_instance_variables(i),u.$copy_singleton_methods(i),u.$initialize_clone(i,new Map([["freeze",$]])),(S($,!0)||y($["$nil?"]())&&y(i["$frozen?"]()))&&u.$freeze(),u},-1),J(c,"$initialize_clone",function(e,$){var i=this;return $=P($),X($,"freeze"),i.$initialize_copy(e),i},-2),J(c,"$define_singleton_method",function n(e,$){var i=n.$$p||_,u=this;return n.$$p=null,w(u.$singleton_class(),"define_method",[e,$],i.$to_proc())},-2),J(c,"$dup",function(){var e=this,$=_;return $=e.$class().$allocate(),$.$copy_instance_variables(e),$.$initialize_dup(e),$}),J(c,"$initialize_dup",function(e){var $=this;return $.$initialize_copy(e)}),J(c,"$enum_for",function n(e,$){var i=n.$$p||_,u,m,z,M=this;return n.$$p=null,u=Z(arguments),u.length>0&&(m=u.shift()),m==null&&(m="each"),z=u,w(o("Enumerator"),"for",[M,m].concat(R(z)),i.$to_proc())},-1),J(c,"$equal?",function(e){var $=this;return $===e}),J(c,"$exit",function(e){var $=_,i=_;for(ne.__at_exit__==null&&(ne.__at_exit__=_),e==null&&(e=!0),ne.__at_exit__=y($=ne.__at_exit__)?$:[];!y(ne.__at_exit__["$empty?"]());)i=ne.__at_exit__.$pop(),i.$call();return e.$$is_boolean?e=e?0:1:e=F(e,o("Integer"),"to_int"),r.exit(e),_},-1),J(c,"$extend",function(e){var $,i,u=this;$=Z(arguments),i=$,i.length==0&&u.$raise(o("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),ee(u);for(var m=u.$singleton_class(),z=i.length-1;z>=0;z--){var M=i[z];M.$$is_module||G.$raise(o("TypeError"),"wrong argument type "+M.$class()+" (expected Module)"),M.$append_features(m),M.$extend_object(u),M.$extended(u)}return u},-1),J(c,"$freeze",function(){var e=this;return y(e["$frozen?"]())?e:typeof e=="object"?(N(e),Q(e)):e}),J(c,"$frozen?",function(){var e=this;switch(typeof e){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return e.$$frozen||!1;default:return!1}}),J(c,"$gets",function(e){var $,i;return ne.stdin==null&&(ne.stdin=_),$=Z(arguments),i=$,w(ne.stdin,"gets",R(i))},-1),J(c,"$hash",function(){var e=this;return e.$__id__()}),J(c,"$initialize_copy",ie(_));var t=[];return J(c,"$inspect",function(){var e=this,$=_,i=_,u=_,m=_;return function(){try{try{return $="",i=e.$__id__(),y(t["$include?"](i))?$=" ...":(t["$<<"](i),u=!0,w(e.$instance_variables(),"each",[],function z(M){var A=z.$$s==null?this:z.$$s,L=_,O=_;return M==null&&(M=_),L=A.$instance_variable_get(M),O=a("Opal").$inspect(L),$=U($," "+M+"="+O)},{$$s:e})),"#<"+e.$class()+":0x"+i.$to_s(16)+$+">"}catch(z){if(r.rescue(z,[a("StandardError")])){m=z;try{return"#<"+e.$class()+":0x"+i.$to_s(16)+">"}finally{r.pop_exception(z)}}else throw z}}finally{y(u)&&t.$pop()}}()}),J(c,"$instance_of?",function(e){var $=this;return!e.$$is_class&&!e.$$is_module&&G.$raise(o("TypeError"),"class or module required"),$.$$class===e}),J(c,"$instance_variable_defined?",function(e){var $=this;return e=E["$instance_variable_name!"](e),r.hasOwnProperty.call($,e.substr(1))}),J(c,"$instance_variable_get",function(e){var $=this;e=E["$instance_variable_name!"](e);var i=$[r.ivar(e.substr(1))];return i??_}),J(c,"$instance_variable_set",function(e,$){var i=this;return ee(i),e=E["$instance_variable_name!"](e),i[r.ivar(e.substr(1))]=$}),J(c,"$remove_instance_variable",function(e){var $=this;e=E["$instance_variable_name!"](e);var i=r.ivar(e.substr(1)),u;return $.hasOwnProperty(i)?(u=$[i],delete $[i],u):G.$raise(o("NameError"),"instance variable "+e+" not defined")}),J(c,"$instance_variables",function(){var e=this,$=[];return g(e,function(i){i.substr(-1)==="$"&&(i=i.slice(0,i.length-1)),$.push("@"+i)}),$}),J(c,"$Integer",function(e,$,i){var u,m,z,M;u=Z(arguments,1),m=p(u),m=P(m),u.length>0&&(z=u.shift()),M=X(m,"exception"),M==null&&(M=!0);var A,L,O;if(M=y(M),!e.$$is_string){if(z!==void 0)if(M)G.$raise(o("ArgumentError"),"base specified for non string value");else return _;if(e===_)if(M)G.$raise(o("TypeError"),"can't convert nil into Integer");else return _;if(e.$$is_number){if(e===1/0||e===-1/0||isNaN(e))if(M)G.$raise(o("FloatDomainError"),e);else return _;return Math.floor(e)}if(e["$respond_to?"]("to_int")&&(A=e.$to_int(),r.is_a(A,o("Integer")))||e["$respond_to?"]("to_i")&&(A=e.$to_i(),r.is_a(A,o("Integer"))))return A;if(M)G.$raise(o("TypeError"),"can't convert "+e.$class()+" into Integer");else return _}if(e==="0")return 0;if(z===void 0)z=0;else if(z=F(z,o("Integer"),"to_int"),z===1||z<0||z>36)if(M)G.$raise(o("ArgumentError"),"invalid radix "+z);else return _;if(L=e.toLowerCase(),L=L.replace(/(\d)_(?=\d)/g,"$1"),L=L.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ae,le,_e){switch(_e){case"0b":if(z===0||z===2)return z=2,le;case"0":case"0o":if(z===0||z===8)return z=8,le;case"0d":if(z===0||z===10)return z=10,le;case"0x":if(z===0||z===16)return z=16,le}if(M)G.$raise(o("ArgumentError"),'invalid value for Integer(): "'+e+'"');else return _}),z=z===0?10:z,O="0-"+(z<=10?z-1:"9a-"+String.fromCharCode(97+(z-11))),!new RegExp("^\\s*[+-]?["+O+"]+\\s*$").test(L))if(M)G.$raise(o("ArgumentError"),'invalid value for Integer(): "'+e+'"');else return _;if(A=parseInt(L,z),isNaN(A))if(M)G.$raise(o("ArgumentError"),'invalid value for Integer(): "'+e+'"');else return _;return A},-2),J(c,"$Float",function(e,$){var i;$=P($),i=X($,"exception"),i==null&&(i=!0);var u;if(i=y(i),e===_)if(i)G.$raise(o("TypeError"),"can't convert nil into Float");else return _;if(e.$$is_string){if(u=e.toString(),u=u.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(u))return G.$Integer(u);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(u))if(i)G.$raise(o("ArgumentError"),'invalid value for Float(): "'+e+'"');else return _;return parseFloat(u)}return i?E["$coerce_to!"](e,o("Float"),"to_f"):F(e,o("Float"),"to_f")},-2),J(c,"$Hash",function(e){return y(e["$nil?"]())||S(e,[])?new Map:x(o("Hash"),e)?e:E["$coerce_to!"](e,o("Hash"),"to_hash")}),J(c,"$is_a?",function(e){var $=this;return!e.$$is_class&&!e.$$is_module&&G.$raise(o("TypeError"),"class or module required"),r.is_a($,e)}),J(c,"$itself",D),J(c,"$lambda",function n(){var e=n.$$p||_;return n.$$p=null,r.lambda(e)}),J(c,"$load",function(e){return e=E["$coerce_to!"](e,o("String"),"to_str"),r.load(e)}),J(c,"$loop",function n(){var e=n.$$p||_,$=this,i=_;if(n.$$p=null,e===_)return w($,"enum_for",["loop"],function(){return o(o("Float"),"INFINITY")});for(;y(!0);)try{r.yieldX(e,[])}catch(u){if(r.rescue(u,[o("StopIteration")])){i=u;try{return i.$result()}finally{r.pop_exception(u)}}else throw u}return $}),J(c,"$nil?",ie(!1)),J(c,"$printf",function(e){var $,i,u=this,m=_;return ne.stdout==null&&(ne.stdout=_),$=Z(arguments),i=$,y(i["$empty?"]())||(m=y(i[0].$$is_string)?ne.stdout:i.$shift(),m.$write(w(u,"format",R(i)))),_},-1),J(c,"$proc",function n(){var e=n.$$p||_;return n.$$p=null,y(e)||G.$raise(o("ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e}),J(c,"$puts",function(e){var $,i;return ne.stdout==null&&(ne.stdout=_),$=Z(arguments),i=$,w(ne.stdout,"puts",R(i))},-1),J(c,"$p",function(e){var $,i;return $=Z(arguments),i=$,w(i,"each",[],function(m){return ne.stdout==null&&(ne.stdout=_),m==null&&(m=_),ne.stdout.$puts(m.$inspect())}),y(I(i.$length(),1))?i["$[]"](0):i},-1),J(c,"$print",function(e){var $,i;return ne.stdout==null&&(ne.stdout=_),$=Z(arguments),i=$,w(ne.stdout,"print",R(i))},-1),J(c,"$readline",function(e){var $,i;return ne.stdin==null&&(ne.stdin=_),$=Z(arguments),i=$,w(ne.stdin,"readline",R(i))},-1),J(c,"$warn",function(e,$){var i,u,m,z,M,A,L=this,O=_;return ne.VERBOSE==null&&(ne.VERBOSE=_),ne.stderr==null&&(ne.stderr=_),i=Z(arguments),u=p(i),u=P(u),m=i,z=X(u,"uplevel"),z==null&&(z=_),y(z)&&(z=E["$coerce_to!"](z,o("Integer"),"to_str"),y(b(z,0))&&G.$raise(o("ArgumentError"),"negative level ("+z+")"),O=(M=(A=L.$caller(U(z,1),1).$first(),A===_||A==null?_:A.$split(":in `")),M===_||M==null?_:M.$first()),y(O)&&(O=""+O+": "),m=w(m,"map",[],function(le){return le==null&&(le=_),""+O+"warning: "+le})),y(ne.VERBOSE["$nil?"]())||y(m["$empty?"]())?_:w(ne.stderr,"puts",R(m))},-1),J(c,"$raise",function(e,$,i){throw ne["!"]==null&&(ne["!"]=_),$==null&&($=_),i==null&&(i=_),e==null&&ne["!"]!==_?ne["!"]:(e==null?e=o("RuntimeError").$new(""):V(e,"$to_str")?e=o("RuntimeError").$new(e.$to_str()):e.$$is_class&&V(e,"$exception")?e=e.$exception($):e.$$is_exception||(e=o("TypeError").$new("exception class/object expected")),i!==_&&e.$set_backtrace(i),ne["!"]!==_&&r.exceptions.push(ne["!"]),ne["!"]=e,e)},-1),J(c,"$rand",function(e){return e===void 0?o(o("Random"),"DEFAULT").$rand():(e.$$is_number&&(e<0&&(e=Math.abs(e)),e%1!==0&&(e=e.$to_i()),e===0&&(e=void 0)),o(o("Random"),"DEFAULT").$rand(e))},-1),J(c,"$respond_to?",function(e,$){var i=this;$==null&&($=!1);var u=i[W(e)];return typeof u=="function"&&!u.$$stub?!0:i["$respond_to_missing?"].$$pristine===!0?!1:i["$respond_to_missing?"](e,$)},-2),J(c,"$respond_to_missing?",function(e,$){return!1},-2),E.$pristine(c,"respond_to?","respond_to_missing?"),J(c,"$require",function(e){return typeof e!="string"&&r.String&&r.Array&&(e=E["$coerce_to!"](e,o("String"),"to_str")),r.require(e)}),J(c,"$require_relative",function(e){return E["$try_convert!"](e,o("String"),"to_str"),e=o("File").$expand_path(o("File").$join(r.current_file,"..",e)),r.require(e)}),J(c,"$require_tree",function(e,$){var i;$=P($),i=X($,"autoload"),i==null&&(i=!1);var u=[];e=o("File").$expand_path(e),e=r.normalize(e),e==="."&&(e="");for(var m in r.modules)m["$start_with?"](e)&&(i?u.push([m,!0]):u.push([m,r.require(m)]));return u},-2),J(c,"$singleton_class",function(){var e=this;return r.get_singleton_class(e)}),J(c,"$sleep",function(e){e==null&&(e=_),e===_&&G.$raise(o("TypeError"),"can't convert NilClass into time interval"),e.$$is_number||G.$raise(o("TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&G.$raise(o("ArgumentError"),"time interval must be positive");for(var $=r.global.performance?function(){return performance.now()}:function(){return new Date},i=$();$()-i<=e*1e3;);return Math.round(e)},-1),J(c,"$srand",function(e){return e==null&&(e=a("Random").$new_seed()),o("Random").$srand(e)},-1),J(c,"$String",function(e){var $=_;return y($=E["$coerce_to?"](e,o("String"),"to_str"))?$:E["$coerce_to!"](e,o("String"),"to_s")}),J(c,"$tap",function n(){var e=n.$$p||_,$=this;return n.$$p=null,r.yield1(e,$),$}),J(c,"$to_proc",D),J(c,"$to_s",function(){var e=this;return"#<"+e.$class()+":0x"+e.$__id__().$to_s(16)+">"}),J(c,"$catch",function n(e){var $=n.$$p||_,i=_,u=_;n.$$p=null,e==null&&(e=_);try{return e=y(i=e)?i:s.$new(),r.yield1($,e)}catch(m){if(r.rescue(m,[o("UncaughtThrowError")])){u=m;try{return S(u.$tag(),e)?u.$value():G.$raise()}finally{r.pop_exception(m)}}else throw m}},-1),J(c,"$throw",function(e,$){return $==null&&($=_),G.$raise(o("UncaughtThrowError").$new(e,$))},-2),J(c,"$open",function n(e){var $=n.$$p||_,i,u;return n.$$p=null,i=Z(arguments),u=i,w(o("File"),"open",R(u),$.$to_proc())},-1),J(c,"$yield_self",function n(){var e=n.$$p||_,$=this;return n.$$p=null,e===_?w($,"enum_for",["yield_self"],ie(1)):r.yield1(e,$)}),d(c,"fail","raise"),d(c,"kind_of?","is_a?"),d(c,"object_id","__id__"),d(c,"public_send","__send__"),d(c,"send","__send__"),d(c,"then","yield_self"),d(c,"to_enum","enum_for")}("::",h),function(H,j){var c=k(H,j,"Object");return delete s.$$prototype.$require,c.$include(G)}("::",null)};Opal.modules["corelib/main"]=function(r){var y=r.return_val,F=r.def,V=r.Object,E=r.slice,ee=r.Kernel,Q=r.top;return r.nil,r.add_stubs("include,raise"),function(N,W){return F(N,"$to_s",y("main")),F(N,"$include",function(K){return V.$include(K)}),F(N,"$autoload",function(K){var ie,J;return ie=E(arguments),J=ie,r.Object.$autoload.apply(r.Object,J)},-1),F(N,"$using",function(K){return ee.$raise("main.using is permitted only at toplevel")})}(r.get_singleton_class(Q))};Opal.modules["corelib/error/errno"]=function(r){var y=r.module,F=r.truthy,V=r.rb_plus,E=r.send2,ee=r.find_super,Q=r.def,N=r.klass,W=r.nil,g=r.$$$;return r.add_stubs("+,errno,class,attr_reader"),function(K,ie){var J=y(K,"Errno"),G=W,ne=W;G=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],ne=W;var Z;for(Z=0;Z<G.length;Z++)(function(){var w=G[Z][0],R=G[Z][1],P=G[Z][2];ne=r.klass(J,r.SystemCallError,w),ne.errno=P,function(X,S){return Q(X,"$new",function U(p){U.$$p;var x=this,D=W;return U.$$p=null,p==null&&(p=W),D=R,F(p)&&(D=V(D," - "+p)),E(x,ee(x,"new",U,!1,!0),"new",[D],null)},-1)}(r.get_singleton_class(ne))})()}("::"),function(K,ie,J){var G=N(K,ie,"SystemCallError");return Q(G,"$errno",function(){var Z=this;return Z.$class().$errno()}),function(ne,Z){return ne.$attr_reader("errno")}(r.get_singleton_class(G))}("::",g("StandardError"))};Opal.modules["corelib/error"]=function(r){var y=r.klass,F=r.slice,V=r.gvars,E=r.defs,ee=r.send,Q=r.to_a,N=r.def,W=r.send2,g=r.find_super,K=r.truthy,ie=r.Kernel,J=r.not,G=r.rb_plus,ne=r.eqeq,Z=r.Object,w=r.ensure_kwargs,R=r.hash_get,P=r.module,X=[],S=r.nil,U=r.$$$;return r.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(p,x,D){var I=y(p,x,"Exception"),b=[I].concat(D),s=r.$r(b),d=I.$$prototype;d.message=S,r.prop(I.$$prototype,"$$is_exception",!0);var k;Error.stackTraceLimit=100,E(I,"$new",function(o){var H,j,c=this;V["!"]==null&&(V["!"]=S),H=F(arguments),j=H;var f=j.length>0?j[0]:S,a=new c.$$constructor(f);return a.name=c.$$name,a.message=f,a.cause=V["!"],r.send(a,a.$initialize,j),r.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(a,k),a},-1),k=I.$new,E(I,"$exception",function(o){var H,j,c=this;return H=F(arguments),j=H,ee(c,"new",Q(j))},-1),N(I,"$initialize",function(o){var H,j,c=this;return H=F(arguments),j=H,c.message=j.length>0?j[0]:S},-1),N(I,"$copy_instance_variables",function _(o){var H=_.$$p||S,j=this;_.$$p=null,W(j,g(j,"copy_instance_variables",_,!1,!0),"copy_instance_variables",[o],H),j.message=o.message,j.cause=o.cause,j.stack=o.stack});function h(_){for(var o=[],H,j=0;j<_.length;j++){var c=_[j];!c||!c.$$is_string||((H=c.match(/^    at (.*?) \((.*?)\)$/))?o.push(H[2]+":in `"+H[1]+"'"):(H=c.match(/^    at (.*?)$/))?o.push(H[1]+":in `undefined'"):(H=c.match(/^  from (.*?)$/))?o.push(H[1]):(H=c.match(/^(.*?)@(.*?)$/))&&o.push(H[2]+":in `"+H[1]+"'"))}return o}return N(I,"$backtrace",function(){var o=this;if(o.backtrace)return o.backtrace;var H=o.stack;return typeof H<"u"&&H.$$is_string?o.backtrace=h(H.split(`
`)):H?o.backtrace=h(H):[]}),N(I,"$backtrace_locations",function(){var o,H=this;return H.backtrace_locations||(H.backtrace_locations=(o=H.$backtrace(),o===S||o==null?S:ee(o,"map",[],function(c){return c==null&&(c=S),U(U(U("Thread"),"Backtrace"),"Location").$new(c)}))),H.backtrace_locations}),N(I,"$cause",function(){var o=this;return o.cause||S}),N(I,"$exception",function(o){var H=this;if(o==null&&(o=S),o===S||H===o)return H;var j=H.$clone();return j.message=o,H.backtrace&&(j.backtrace=H.backtrace.$dup()),j.stack=H.stack,j.cause=H.cause,j},-1),N(I,"$message",function(){var o=this;return o.$to_s()}),N(I,"$full_message",function(o){var H,j=this,c=S,f=S,a=S,t=S,n=S,e=S,$=S,i=S,u=S;return V.stderr==null&&(V.stderr=S),o==null&&(o=S),K(s("Hash","skip_raise")?"constant":S)?(o=new Map([["highlight",V.stderr["$tty?"]()],["order","top"]]).$merge(K(c=o)?c:new Map),H=[o["$[]"]("highlight"),o["$[]"]("order")],f=H[0],a=H[1],K([!0,!1]["$include?"](f))||ie.$raise(U("ArgumentError"),"expected true or false as highlight: "+f),K(["top","bottom"]["$include?"](a))||ie.$raise(U("ArgumentError"),"expected :top or :bottom as order: "+a),K(f)?(t="\x1B[1;4m",n="\x1B[1m",e="\x1B[m"):t=n=e="",$=j.$backtrace().$dup(),(J($)||K($["$empty?"]()))&&($=j.$caller()),i=$.$shift(),u=""+i+": ",u=G(u,""+n+j.$to_s()+" ("+t+j.$class()+e+n+")"+e+`
`),u=G(u,ee($,"map",[],function(z){return z==null&&(z=S),"	from "+z+`
`}).$join()),K(j.$cause())&&(u=G(u,j.$cause().$full_message(new Map([["highlight",f]])))),ne(a,"bottom")&&(u=u.$split(`
`).$reverse().$join(`
`),u=G(""+n+"Traceback"+e+` (most recent call last):
`,u)),u):""+j.message+`
`+j.stack},-1),N(I,"$inspect",function(){var o=this,H=S;return H=o.$to_s(),K(H["$empty?"]())?o.$class().$to_s():"#<"+o.$class().$to_s()+": "+o.$to_s()+">"}),N(I,"$set_backtrace",function(o){var H=this,j=!0,c,f;if(o===S)H.backtrace=S,H.stack="";else if(o.$$is_string)H.backtrace=[o],H.stack="  from "+o;else{if(o.$$is_array){for(c=0,f=o.length;c<f;c++)if(!o[c].$$is_string){j=!1;break}}else j=!1;j===!1&&ie.$raise(U("TypeError"),"backtrace must be Array of String"),H.backtrace=o,H.stack=ee(o,"map",[],function(t){return t==null&&(t=S),G("  from ",t)}).join(`
`)}return o}),N(I,"$to_s",function(){var o=this,H=S,j=S;return K(H=K(j=o.message)?o.message.$to_s():j)?H:o.$class().$to_s()})}("::",Error,X),y("::",U("Exception"),"ScriptError"),y("::",U("ScriptError"),"SyntaxError"),y("::",U("ScriptError"),"LoadError"),y("::",U("ScriptError"),"NotImplementedError"),y("::",U("Exception"),"SystemExit"),y("::",U("Exception"),"NoMemoryError"),y("::",U("Exception"),"SignalException"),y("::",U("SignalException"),"Interrupt"),y("::",U("Exception"),"SecurityError"),y("::",U("Exception"),"SystemStackError"),y("::",U("Exception"),"StandardError"),y("::",U("StandardError"),"EncodingError"),y("::",U("StandardError"),"ZeroDivisionError"),y("::",U("StandardError"),"NameError"),y("::",U("NameError"),"NoMethodError"),y("::",U("StandardError"),"RuntimeError"),y("::",U("RuntimeError"),"FrozenError"),y("::",U("StandardError"),"LocalJumpError"),y("::",U("StandardError"),"TypeError"),y("::",U("StandardError"),"ArgumentError"),y("::",U("ArgumentError"),"UncaughtThrowError"),y("::",U("StandardError"),"IndexError"),y("::",U("IndexError"),"StopIteration"),y("::",U("StopIteration"),"ClosedQueueError"),y("::",U("IndexError"),"KeyError"),y("::",U("StandardError"),"RangeError"),y("::",U("RangeError"),"FloatDomainError"),y("::",U("StandardError"),"IOError"),y("::",U("IOError"),"EOFError"),y("::",U("StandardError"),"SystemCallError"),y("::",U("StandardError"),"RegexpError"),y("::",U("StandardError"),"ThreadError"),y("::",U("StandardError"),"FiberError"),Z.$autoload("Errno","corelib/error/errno"),function(p,x){var D=y(p,x,"FrozenError");return D.$attr_reader("receiver"),N(D,"$initialize",function I(b,s){var d;I.$$p;var k=this;return I.$$p=null,s=w(s),d=R(s,"receiver"),d==null&&(d=S),W(k,g(k,"initialize",I,!1,!0),"initialize",[b],null),k.receiver=d},-2)}("::",U("RuntimeError")),function(p,x){var D=y(p,x,"UncaughtThrowError"),I=D.$$prototype;return I.tag=S,D.$attr_reader("tag","value"),N(D,"$initialize",function b(s,d){b.$$p;var k=this;return b.$$p=null,d==null&&(d=S),k.tag=s,k.value=d,W(k,g(k,"initialize",b,!1,!0),"initialize",["uncaught throw "+k.tag.$inspect()],null)},-2)}("::",U("ArgumentError")),function(p,x){var D=y(p,x,"NameError");return D.$attr_reader("name"),N(D,"$initialize",function I(b,s){I.$$p;var d=this;return I.$$p=null,s==null&&(s=S),W(d,g(d,"initialize",I,!1,!0),"initialize",[b],null),d.name=s},-2)}("::",null),function(p,x){var D=y(p,x,"NoMethodError");return D.$attr_reader("args"),N(D,"$initialize",function I(b,s,d){I.$$p;var k=this;return I.$$p=null,s==null&&(s=S),d==null&&(d=[]),W(k,g(k,"initialize",I,!1,!0),"initialize",[b,s],null),k.args=d},-2)}("::",null),function(p,x){var D=y(p,x,"StopIteration");return D.$attr_reader("result")}("::",null),function(p,x){var D=y(p,x,"KeyError"),I=D.$$prototype;return I.receiver=I.key=S,N(D,"$initialize",function b(s,d){var k,h;b.$$p;var _=this;return b.$$p=null,d=w(d),k=R(d,"receiver"),k==null&&(k=S),h=R(d,"key"),h==null&&(h=S),W(_,g(_,"initialize",b,!1,!0),"initialize",[s],null),_.receiver=k,_.key=h},-2),N(D,"$receiver",function(){var s=this,d=S;return K(d=s.receiver)?d:ie.$raise(U("ArgumentError"),"no receiver is available")}),N(D,"$key",function(){var s=this,d=S;return K(d=s.key)?d:ie.$raise(U("ArgumentError"),"no key is available")})}("::",null),function(p,x){var D=y(p,x,"LocalJumpError");return D.$attr_reader("exit_value","reason"),N(D,"$initialize",function I(b,s,d){I.$$p;var k=this;return I.$$p=null,s==null&&(s=S),d==null&&(d="noreason"),W(k,g(k,"initialize",I,!1,!0),"initialize",[b],null),k.exit_value=s,k.reason=d},-2)}("::",null),function(p,x){var D=P(p,"JS"),I=[D].concat(x);return y(I[0],null,"Error"),S}("::",X)};Opal.modules["corelib/constants"]=function(r){var y=r.const_set;r.nil;var F=r.$$$;return y("::","RUBY_PLATFORM","opal"),y("::","RUBY_ENGINE","opal"),y("::","RUBY_VERSION","3.2.0"),y("::","RUBY_ENGINE_VERSION","1.8.2"),y("::","RUBY_RELEASE_DATE","2023-11-23"),y("::","RUBY_PATCHLEVEL",0),y("::","RUBY_REVISION","0"),y("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),y("::","RUBY_DESCRIPTION","opal "+F("RUBY_ENGINE_VERSION")+" ("+F("RUBY_RELEASE_DATE")+" revision "+F("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(r){var y=r.Object;return r.nil,r.add_stubs("require"),y.$require("corelib/runtime"),y.$require("corelib/helpers"),y.$require("corelib/module"),y.$require("corelib/class"),y.$require("corelib/basic_object"),y.$require("corelib/kernel"),y.$require("corelib/main"),y.$require("corelib/error"),y.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(r){var y=r.klass,F=r.Kernel,V=r.def,E=r.return_val,ee=r.ensure_kwargs,Q=r.hash_get,N=r.NilClass,W=r.slice,g=r.truthy,K=r.rb_gt,ie=r.alias,J=r.nil,G=r.$$$;return r.add_stubs("raise,name,new,>,length,Rational,to_i"),function(ne,Z,w){var R=y(ne,Z,"NilClass");return R.$$prototype.$$meta=R,function(P,X){return V(P,"$allocate",function(){var U=this;return F.$raise(G("TypeError"),"allocator undefined for "+U.$name())}),r.udef(P,"$new"),J}(r.get_singleton_class(R)),V(R,"$!",E(!0)),V(R,"$&",E(!1)),V(R,"$|",function(X){return X!==!1&&X!==J}),V(R,"$^",function(X){return X!==!1&&X!==J}),V(R,"$==",function(X){return X===J}),V(R,"$dup",E(J)),V(R,"$clone",function(X){return X=ee(X),Q(X,"freeze"),J},-1),V(R,"$inspect",E("nil")),V(R,"$nil?",E(!0)),V(R,"$singleton_class",function(){return N}),V(R,"$to_a",function(){return[]}),V(R,"$to_h",function(){return new Map}),V(R,"$to_i",E(0)),V(R,"$to_s",E("")),V(R,"$to_c",function(){return G("Complex").$new(0,0)}),V(R,"$rationalize",function(X){var S,U;return S=W(arguments),U=S,g(K(U.$length(),1))&&F.$raise(G("ArgumentError")),F.$Rational(0,1)},-1),V(R,"$to_r",function(){return F.$Rational(0,1)}),V(R,"$instance_variables",function(){return[]}),ie(R,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(r){var y=r.klass,F=r.Kernel,V=r.def,E=r.return_self,ee=r.ensure_kwargs,Q=r.hash_get,N=r.slice,W=r.truthy,g=r.send2,K=r.find_super,ie=r.to_a,J=r.alias,G=r.nil,ne=r.$$$;return r.add_stubs("raise,name,==,to_s,__id__"),function(Z,w,R){var P=y(Z,w,"Boolean");r.prop(P.$$prototype,"$$is_boolean",!0);for(var X=["$$class","$$meta"],S=0;S<X.length;S++)Object.defineProperty(P.$$prototype,X[S],{configurable:!0,enumerable:!1,get:function(){return this==!0?r.TrueClass:this==!1?r.FalseClass:r.Boolean}});return Object.defineProperty(P.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:G}}),function(U,p){return V(U,"$allocate",function(){var D=this;return F.$raise(ne("TypeError"),"allocator undefined for "+D.$name())}),r.udef(U,"$new"),G}(r.get_singleton_class(P)),V(P,"$__id__",function(){var p=this;return p.valueOf()?2:0}),V(P,"$!",function(){var p=this;return p!=!0}),V(P,"$&",function(p){var x=this;return x==!0?p!==!1&&p!==G:!1}),V(P,"$|",function(p){var x=this;return x==!0?!0:p!==!1&&p!==G}),V(P,"$^",function(p){var x=this;return x==!0?p===!1||p===G:p!==!1&&p!==G}),V(P,"$==",function(p){var x=this;return x==!0===p.valueOf()}),V(P,"$singleton_class",function(){var p=this;return p.$$meta}),V(P,"$to_s",function(){var p=this;return p==!0?"true":"false"}),V(P,"$dup",E),V(P,"$clone",function(p){var x=this;return p=ee(p),Q(p,"freeze"),x},-1),V(P,"$method_missing",function U(p,x){var D=U.$$p||G,I,b,s=this;U.$$p=null,I=N(arguments,1),b=I;var d=s.$$class.$$prototype[r.jsid(p)];return W(typeof d<"u"&&!d.$$stub)||g(s,K(s,"method_missing",U,!1,!0),"method_missing",[p].concat(ie(b)),D),r.send(s,d,b,D)},-2),V(P,"$respond_to_missing?",function(p,x){var D=this,I=D.$$class.$$prototype[r.jsid(p)];return typeof I<"u"&&!I.$$stub},-2),J(P,"eql?","=="),J(P,"equal?","=="),J(P,"inspect","to_s"),J(P,"object_id","__id__")}("::",Boolean),y("::",ne("Boolean"),"TrueClass"),y("::",ne("Boolean"),"FalseClass"),G};Opal.modules["corelib/comparable"]=function(r){var y=r.truthy,F=r.module,V=r.rb_gt,E=r.rb_lt,ee=r.eqeqeq,Q=r.Kernel,N=r.def,W=r.nil,g=r.$$$;return r.add_stubs(">,<,===,raise,class,<=>,equal?"),function(K){var ie=F(K,"Comparable"),J=W;function G(w){return r.is_a(w,r.Integer)?w:V(w,0)?1:E(w,0)?-1:0}function ne(w,R){var P;ee(W,J=R)||ee(!0,J)||ee(!1,J)||ee(g("Integer"),J)||ee(g("Float"),J)?P=R.$inspect():P=R.$$class,Q.$raise(g("ArgumentError"),"comparison of "+w.$class()+" with "+P+" failed")}function Z(w,R){var P=w["$<=>"](R);return y(P)||ne(w,R),G(P)}return N(ie,"$==",function(R){var P=this,X=W;return y(P["$equal?"](R))?!0:P["$<=>"]==r.Kernel["$<=>"]?!1:P.$$comparable?(P.$$comparable=!1,!1):y(X=P["$<=>"](R))?G(X)==0:!1}),N(ie,"$>",function(R){var P=this;return Z(P,R)>0}),N(ie,"$>=",function(R){var P=this;return Z(P,R)>=0}),N(ie,"$<",function(R){var P=this;return Z(P,R)<0}),N(ie,"$<=",function(R){var P=this;return Z(P,R)<=0}),N(ie,"$between?",function(R,P){var X=this;return!(y(E(X,R))||y(V(X,P)))}),N(ie,"$clamp",function(R,P){var X=this;P==null&&(P=W);var S,U;if(P===W&&(r.is_a(R,r.Range)||Q.$raise(g("TypeError"),"wrong argument type "+R.$class()+" (expected Range)"),U=R.excl,P=R.end,R=R.begin,P!==W&&U&&Q.$raise(g("ArgumentError"),"cannot clamp with an exclusive range")),R!==W&&P!==W&&Z(R,P)>0&&Q.$raise(g("ArgumentError"),"min argument must be smaller than max argument"),R!==W){if(S=Z(X,R),S==0)return X;if(S<0)return R}return P!==W&&(S=Z(X,P),S>0)?P:X},-2)}("::")};Opal.modules["corelib/regexp"]=function(r){var y=r.coerce_to,F=r.prop,V=r.freeze,E=r.klass,ee=r.const_set,Q=r.send2,N=r.find_super,W=r.def,g=r.truthy,K=r.gvars,ie=r.slice,J=r.Kernel,G=r.Opal,ne=r.alias,Z=r.send,w=r.regexp,R=r.rb_plus,P=r.ensure_kwargs,X=r.hash_get,S=r.rb_ge,U=r.to_a,p=r.eqeqeq,x=r.rb_minus,D=r.return_ivar,I=[],b=r.nil,s=r.$$$;return r.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),E("::",s("StandardError"),"RegexpError"),function(d,k,h){var _=E(d,k,"Regexp"),o=[_].concat(h),H=r.$r(o);return ee(_,"IGNORECASE",1),ee(_,"EXTENDED",2),ee(_,"MULTILINE",4),r.prop(_.$$prototype,"$$is_regexp",!0),function(j,c){var f=[j].concat(c),a=r.$r(f);return W(j,"$allocate",function t(){var n=t.$$p||b,e=this,$=b;return t.$$p=null,$=Q(e,N(e,"allocate",t,!1,!0),"allocate",[],n),$.uninitialized=!0,$}),W(j,"$escape",function(n){return n=y(n,s("String"),"to_str"),r.escape_regexp(n)}),W(j,"$last_match",function(n){return K["~"]==null&&(K["~"]=b),n==null&&(n=b),g(n["$nil?"]())?K["~"]:g(K["~"])?K["~"]["$[]"](n):b},-1),W(j,"$union",function(n){var e,$,i=this;e=ie(arguments),$=e;var u,m,z,M,A;if($.length==0)return/(?!)/;if($.length==1&&$[0].$$is_regexp)return $[0];u=$[0].$$is_array,$.length>1&&u&&J.$raise(s("TypeError"),"no implicit conversion of Array into String"),u&&($=$[0]),M=void 0,m=[];for(var L=0;L<$.length;L++)z=$[L],z.$$is_string?m.push(i.$escape(z)):z.$$is_regexp?(A=z.$options(),M!=null&&M!=A&&J.$raise(s("TypeError"),"All expressions must use the same options"),M=A,m.push("("+z.source+")")):m.push(i.$escape(z.$to_str()));return i.$new(m.$join("|"),M)},-1),W(j,"$new",function(n,e){if(n.$$is_regexp)return new RegExp(n);if(n=G["$coerce_to!"](n,s("String"),"to_str"),n.charAt(n.length-1)==="\\"&&n.charAt(n.length-2)!=="\\"&&J.$raise(s("RegexpError"),"too short escape sequence: /"+n+"/"),n=n.replace("\\A","^").replace("\\z","$"),e===void 0||e["$!"]())return new RegExp(n);if(e.$$is_number){var $="";a("IGNORECASE")&e&&($+="i"),a("MULTILINE")&e&&($+="m"),e=$}else e="i";return new RegExp(n,e)},-2),ne(j,"compile","new"),ne(j,"quote","escape")}(r.get_singleton_class(_),o),W(_,"$==",function(c){var f=this;return c instanceof RegExp&&f.toString()===c.toString()}),W(_,"$===",function(c){var f=this;return f.$match(G["$coerce_to?"](c,s("String"),"to_str"))!==b}),W(_,"$=~",function(c){var f=this,a=b;return K["~"]==null&&(K["~"]=b),g(a=f.$match(c))?K["~"].$begin(0):a}),W(_,"$freeze",function(){var c=this;return g(c["$frozen?"]())?c:(c.hasOwnProperty("$$g")||F(c,"$$g",null),c.hasOwnProperty("$$gm")||F(c,"$$gm",null),V(c))}),W(_,"$inspect",function(){var c=this,f=/^\/(.*)\/([^\/]*)$/,a=c.toString(),t=f.exec(a);if(t){for(var n=t[1],e=t[2],$=n.split(""),i=$.length,u=!1,m="",z=0;z<i;z++){var M=$[z];!u&&M=="/"&&(m=m.concat("\\")),m=m.concat(M),M=="\\"?u?u=!1:u=!0:u=!1}return"/"+m+"/"+e}else return a}),W(_,"$match",function j(c,f){var a=j.$$p||b,t=this;if(K["~"]==null&&(K["~"]=b),j.$$p=null,t.uninitialized&&J.$raise(s("TypeError"),"uninitialized Regexp"),f===void 0){if(c===b)return K["~"]=b;var n=t.exec(y(c,s("String"),"to_str"));return n?(K["~"]=s("MatchData").$new(t,n),a===b?K["~"]:r.yield1(a,K["~"])):K["~"]=b}if(f=y(f,s("Integer"),"to_int"),c===b||(c=y(c,s("String"),"to_str"),f<0&&(f+=c.length,f<0)))return K["~"]=b;for(var e,$=r.global_regexp(t);;){if(e=$.exec(c),e===null)return K["~"]=b;if(e.index>=f)return K["~"]=s("MatchData").$new($,e),a===b?K["~"]:r.yield1(a,K["~"]);$.lastIndex=e.index+1}},-2),W(_,"$match?",function(c,f){var a=this;if(a.uninitialized&&J.$raise(s("TypeError"),"uninitialized Regexp"),f===void 0)return c===b?!1:a.test(y(c,s("String"),"to_str"));if(f=y(f,s("Integer"),"to_int"),c===b||(c=y(c,s("String"),"to_str"),f<0&&(f+=c.length,f<0)))return!1;var t,n=r.global_regexp(a);return t=n.exec(c),!(t===null||t.index<f)},-2),W(_,"$names",function(){var c=this;return Z(c.$source().$scan(w(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),W(_,"$named_captures",function(){var c=this;return Z(Z(Z(c.$source().$scan(w(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(a){return a==null&&(a=b),Z(a,"map",[],function(n){return n==null&&(n=b),R(n.$last(),1)})})}),W(_,"$~",function(){var c=this;return K._==null&&(K._=b),c["$=~"](K._)}),W(_,"$source",function(){var c=this;return c.source}),W(_,"$options",function(){var c=this;c.uninitialized&&J.$raise(s("TypeError"),"uninitialized Regexp");var f=0;return c.multiline&&(f|=H("MULTILINE")),c.ignoreCase&&(f|=H("IGNORECASE")),f}),W(_,"$casefold?",function(){var c=this;return c.ignoreCase}),ne(_,"eql?","=="),ne(_,"to_s","source")}("::",RegExp,I),function(d,k,h){var _=E(d,k,"MatchData"),o=[_].concat(h),H=r.$r(o),j=_.$$prototype;return j.matches=b,_.$attr_reader("post_match","pre_match","regexp","string"),W(_,"$initialize",function(f,a,t){var n,e=this;t=P(t),n=X(t,"no_matchdata"),n==null&&(n=!1),g(n)||(K["~"]=e),e.regexp=f,e.begin=a.index,e.string=a.input,e.pre_match=a.input.slice(0,a.index),e.post_match=a.input.slice(a.index+a[0].length),e.matches=[];for(var $=0,i=a.length;$<i;$++){var u=a[$];u==null?e.matches.push(b):e.matches.push(u)}},-3),W(_,"$match",function(f){var a=this,t=b;return g(t=a["$[]"](f))?t:g(f["$is_a?"](H("Integer")))&&g(S(f,a.$length()))?J.$raise(s("IndexError"),"index "+f+" out of matches"):b}),W(_,"$match_length",function(f){var a,t=this;return a=t.$match(f),a===b||a==null?b:a.$length()}),W(_,"$[]",function(f){var a,t,n=this;return a=ie(arguments),t=a,t[0].$$is_string?(n.$regexp().$names()["$include?"](t["$[]"](0))["$!"]()&&J.$raise(s("IndexError"),"undefined group name reference: "+t["$[]"](0)),n.$named_captures()["$[]"](t["$[]"](0))):Z(n.matches,"[]",U(t))},-1),W(_,"$offset",function(f){var a=this;return f!==0&&J.$raise(s("ArgumentError"),"MatchData#offset only supports 0th element"),[a.begin,a.begin+a.matches[f].length]}),W(_,"$==",function(f){var a=this,t=b,n=b,e=b,$=b;return p(s("MatchData"),f)?g(t=g(n=g(e=g($=a.string==f.string)?a.regexp.toString()==f.regexp.toString():$)?a.pre_match==f.pre_match:e)?a.post_match==f.post_match:n)?a.begin==f.begin:t:!1}),W(_,"$begin",function(f){var a=this;return f!==0&&J.$raise(s("ArgumentError"),"MatchData#begin only supports 0th element"),a.begin}),W(_,"$end",function(f){var a=this;return f!==0&&J.$raise(s("ArgumentError"),"MatchData#end only supports 0th element"),a.begin+a.matches[f].length}),W(_,"$captures",function(){var f=this;return f.matches.slice(1)}),W(_,"$named_captures",function(){var f=this,a=b;return a=f.$captures(),Z(f.$regexp().$named_captures(),"transform_values",[],function(n){return n==null&&(n=b),a["$[]"](x(n.$last(),1))})}),W(_,"$names",function(){var f=this;return f.$regexp().$names()}),W(_,"$inspect",function(){var f=this,a="#<MatchData "+f.matches[0].$inspect();if(f.$regexp().$names()["$empty?"]())for(var t=1,n=f.matches.length;t<n;t++)a+=" "+t+":"+f.matches[t].$inspect();else Z(f.$named_captures(),"each",[],function($,i){return $==null&&($=b),i==null&&(i=b),a+=" "+$+":"+i.$inspect()});return a+">"}),W(_,"$length",function(){var f=this;return f.matches.length}),W(_,"$to_a",D("matches")),W(_,"$to_s",function(){var f=this;return f.matches[0]}),W(_,"$values_at",function(f){var a,t,n=this;a=ie(arguments),t=a;var e,$,i,u=[];for(e=0;e<t.length;e++){if(t[e].$$is_range&&($=t[e].$to_a(),$.unshift(e,1),Array.prototype.splice.apply(t,$)),i=G["$coerce_to!"](t[e],s("Integer"),"to_int"),i<0&&(i+=n.matches.length,i<0)){u.push(b);continue}u.push(n.matches[i])}return u},-1),ne(_,"eql?","=="),ne(_,"size","length")}(I[0],null,I)};Opal.modules["corelib/string"]=function(r){var y=r.coerce_to,F=r.respond_to,V=r.global_multiline_regexp,E=r.prop,ee=r.opal32_init,Q=r.opal32_add,N=r.klass,W=r.send2,g=r.find_super,K=r.def,ie=r.Opal,J=r.defs,G=r.slice,ne=r.send,Z=r.to_a,w=r.extract_kwargs,R=r.ensure_kwargs,P=r.hash_get,X=r.eqeqeq,S=r.Kernel,U=r.truthy,p=r.gvars,x=r.rb_divide,D=r.rb_plus,I=r.eqeq,b=r.alias,s=r.const_set,d=r.top,k=[],h=r.$r(k),_=r.nil,o=r.$$$;return r.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),d.$require("corelib/comparable"),d.$require("corelib/regexp"),function(H,j,c){var f=N(H,j,"String"),a=[f].concat(c),t=r.$r(a);f.$include(o("Comparable")),r.prop(f.$$prototype,"$$is_string",!0);var n=new Map;(function(){K(f,"$__id__",function $(){var i=$.$$p||_,u=this;if($.$$p=null,typeof u=="object")return W(u,g(u,"__id__",$,!1,!0),"__id__",[],i);if(n.has(u))return n.get(u);var m=r.uid();return n.set(u,m),m}),K(f,"$hash",function(){var i=this,u=ee(),m,z=i.length;for(u=Q(u,5),u=Q(u,z),m=0;m<z;m++)u=Q(u,i.charCodeAt(m));return u})})(),J(f,"$try_convert",function(i){return ie["$coerce_to?"](i,o("String"),"to_str")}),J(f,"$new",function(i){var u,m,z=this;u=G(arguments),m=u;var M=m[0]||"",A=m[m.length-1];return M=y(M,o("String"),"to_str"),A&&A.$$is_hash&&A.has("encoding")&&(M=M.$force_encoding(A.get("encoding").value)),M=new z.$$constructor(M),M.$initialize.$$pristine||ne(M,"initialize",Z(m)),M},-1),K(f,"$initialize",function(i,u){var m,z;return m=G(arguments),z=w(m),z=R(z),m.length>0&&m.shift(),P(z,"encoding"),P(z,"capacity"),_},-1),K(f,"$%",function(i){var u=this;return X(o("Array"),i)?ne(u,"format",[u].concat(Z(i))):u.$format(u,i)}),K(f,"$*",function(i){var u=this;if(i=y(i,o("Integer"),"to_int"),i<0&&S.$raise(o("ArgumentError"),"negative argument"),i===0)return"";var m="",z=u.toString();for(z.length*i>=1<<28&&S.$raise(o("RangeError"),"multiply count must not overflow maximum string size");(i&1)===1&&(m+=z),i>>>=1,i!==0;)z+=z;return m}),K(f,"$+",function(i){var u=this;if(i=y(i,o("String"),"to_str"),i==""&&u.$$class===r.String)return u;if(u==""&&i.$$class===r.String)return i;var m=u+i;return u.encoding===m.encoding&&i.encoding===m.encoding||u.encoding.name==="UTF-8"||i.encoding.name==="UTF-8"?m:r.enc(m,u.encoding)}),K(f,"$<=>",function(i){var u=this;if(U(i["$respond_to?"]("to_str")))return i=i.$to_str().$to_s(),u>i?1:u<i?-1:0;var m=i["$<=>"](u);return m===_?_:m>0?-1:m<0?1:0}),K(f,"$==",function(i){var u=this;return i.$$is_string?u.toString()===i.toString():F(i,"$to_str")?i["$=="](u):!1}),K(f,"$=~",function(i){var u=this;return i.$$is_string&&S.$raise(o("TypeError"),"type mismatch: String given"),i["$=~"](u)}),K(f,"$[]",function(i,u){var m=this,z=m.length,M,A;if(i.$$is_range)return M=i.excl,A=i,u=i.end===_?-1:y(i.end,o("Integer"),"to_int"),i=i.begin===_?0:y(i.begin,o("Integer"),"to_int"),Math.abs(i)>z?_:(i<0&&(i+=z),u<0&&(u+=z),(!M||A.end===_)&&(u+=1),u=u-i,u<0&&(u=0),m.substr(i,u));if(i.$$is_string)return u!=null&&S.$raise(o("TypeError")),m.indexOf(i)!==-1?i:_;if(i.$$is_regexp){var L=m.match(i);return L===null?(p["~"]=_,_):(p["~"]=o("MatchData").$new(i,L),u==null?L[0]:(u=y(u,o("Integer"),"to_int"),u<0&&-u<L.length?L[u+=L.length]:u>=0&&u<L.length?L[u]:_))}return i=y(i,o("Integer"),"to_int"),i<0&&(i+=z),u==null?i>=z||i<0?_:m.substr(i,1):(u=y(u,o("Integer"),"to_int"),u<0||i>z||i<0?_:m.substr(i,u))},-2),K(f,"$b",function(){var i=this;return new String(i).$force_encoding("binary")}),K(f,"$capitalize",function(){var i=this;return i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()}),K(f,"$casecmp",function(i){var u=this;if(!U(i["$respond_to?"]("to_str")))return _;i=y(i,o("String"),"to_str").$to_s();var m=/^[\x00-\x7F]*$/;return m.test(u)&&m.test(i)&&(u=u.toLowerCase(),i=i.toLowerCase()),u["$<=>"](i)}),K(f,"$casecmp?",function(i){var u=this,m=u.$casecmp(i);return m===_?_:m===0}),K(f,"$center",function(i,u){var m=this;if(u==null&&(u=" "),i=y(i,o("Integer"),"to_int"),u=y(u,o("String"),"to_str").$to_s(),U(u["$empty?"]())&&S.$raise(o("ArgumentError"),"zero width padding"),U(i<=m.length))return m;var z=m.$ljust(x(D(i,m.length),2).$ceil(),u),M=m.$rjust(x(D(i,m.length),2).$floor(),u);return M+z.slice(m.length)},-2),K(f,"$chomp",function(i){var u=this;if(p["/"]==null&&(p["/"]=_),i==null&&(i=p["/"]),U(i===_||u.length===0))return u;i=ie["$coerce_to!"](i,o("String"),"to_str").$to_s();var m;if(i===`
`)m=u.replace(/\r?\n?$/,"");else if(i==="")m=u.replace(/(\r?\n)+$/,"");else if(u.length>=i.length){var z=u.substr(u.length-i.length,i.length);z===i&&(m=u.substr(0,u.length-i.length))}return m??u},-1),K(f,"$chop",function(){var i=this,u=i.length,m;return u<=1?m="":i.charAt(u-1)===`
`&&i.charAt(u-2)==="\r"?m=i.substr(0,u-2):m=i.substr(0,u-1),m}),K(f,"$chr",function(){var i=this;return i.charAt(0)}),K(f,"$clone",function(i){var u,m=this,z=_;return i=R(i),u=P(i,"freeze"),u==null&&(u=_),U(u["$nil?"]())||I(u,!0)||I(u,!1)||m.$raise(t("ArgumentError"),"unexpected value for freeze: "+u.$class()),z=new String(m),z.$copy_singleton_methods(m),z.$initialize_clone(m,new Map([["freeze",u]])),I(u,!0)?z.$$frozen||(z.$$frozen=!0):U(u["$nil?"]())&&m.$$frozen&&(z.$$frozen=!0),z},-1),K(f,"$dup",function(){var i=this,u=_;return u=new String(i),u.$initialize_dup(i),u}),K(f,"$count",function(i){var u,m,z=this;u=G(arguments),m=u,m.length===0&&S.$raise(o("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var M=e(m);return M===null?0:z.length-z.replace(new RegExp(M,"g"),"").length},-1),K(f,"$delete",function(i){var u,m,z=this;u=G(arguments),m=u,m.length===0&&S.$raise(o("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var M=e(m);return M===null?z:z.replace(new RegExp(M,"g"),"")},-1),K(f,"$delete_prefix",function(i){var u=this;return i.$$is_string||(i=y(i,o("String"),"to_str")),u.slice(0,i.length)===i?u.slice(i.length):u}),K(f,"$delete_suffix",function(i){var u=this;return i.$$is_string||(i=y(i,o("String"),"to_str")),u.slice(u.length-i.length)===i?u.slice(0,u.length-i.length):u}),K(f,"$downcase",function(){var i=this;return i.toLowerCase()}),K(f,"$each_line",function $(i,u){var m=$.$$p||_,z,M,A,L,O=this;if(p["/"]==null&&(p["/"]=_),$.$$p=null,z=G(arguments),M=w(z),M=R(M),z.length>0&&(A=z.shift()),A==null&&(A=p["/"]),L=P(M,"chomp"),L==null&&(L=!1),m===_)return O.$enum_for("each_line",A,new Map([["chomp",L]]));if(A===_)return r.yield1(m,O),O;A=y(A,o("String"),"to_str");var ae,le,_e,de,ge,ve,me,be;if(A.length===0){for(ae=O.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),le=0,_e=ae.length;le<_e;le+=2)(ae[le]||ae[le+1])&&(be=(ae[le]||"")+(ae[le+1]||""),L&&(be=be.$chomp(`
`)),r.yield1(m,be));return O}for(ge=O.$chomp(A),ve=O.length!=ge.length,me=ge.split(A),le=0,de=me.length;le<de;le++)be=me[le],(le<de-1||ve)&&(be+=A),L&&(be=be.$chomp(A)),r.yield1(m,be);return O},-1),K(f,"$empty?",function(){var i=this;return i.length===0}),K(f,"$end_with?",function(i){var u,m,z=this;u=G(arguments),m=u;for(var M=0,A=m.length;M<A;M++){var L=y(m[M],o("String"),"to_str").$to_s();if(z.length>=L.length&&z.substr(z.length-L.length,L.length)==L)return!0}return!1},-1),K(f,"$gsub",function $(i,u){var m=$.$$p||_,z=this;if($.$$p=null,u===void 0&&m===_)return z.$enum_for("gsub",i);var M="",A=_,L=0,O,ae;i.$$is_regexp?i=V(i):(i=y(i,o("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var le;;){if(O=i.exec(z),O===null){p["~"]=_,M+=z.slice(L);break}A=o("MatchData").$new(i,O),u===void 0?(le=i.lastIndex,ae=m(O[0]),i.lastIndex=le):u.$$is_hash?ae=u["$[]"](O[0]).$to_s():(u.$$is_string||(u=y(u,o("String"),"to_str")),ae=u.replace(/([\\]+)([0-9+&`'])/g,function(_e,de,ge){if(de.length%2===0)return _e;switch(ge){case"+":for(var ve=O.length-1;ve>0;ve--)if(O[ve]!==void 0)return de.slice(1)+O[ve];return"";case"&":return de.slice(1)+O[0];case"`":return de.slice(1)+z.slice(0,O.index);case"'":return de.slice(1)+z.slice(O.index+O[0].length);default:return de.slice(1)+(O[ge]||"")}}).replace(/\\\\/g,"\\")),i.lastIndex===O.index?(M+=z.slice(L,O.index)+ae+(z[O.index]||""),i.lastIndex+=1):M+=z.slice(L,O.index)+ae,L=i.lastIndex}return p["~"]=A,M},-2),K(f,"$hex",function(){var i=this;return i.$to_i(16)}),K(f,"$include?",function(i){var u=this;return i.$$is_string||(i=y(i,o("String"),"to_str")),u.indexOf(i)!==-1}),K(f,"$index",function(i,u){var m=this,z,M,A;if(u===void 0)u=0;else if(u=y(u,o("Integer"),"to_int"),u<0&&(u+=m.length,u<0))return _;if(i.$$is_regexp)for(A=V(i);;){if(M=A.exec(m),M===null){p["~"]=_,z=-1;break}if(M.index>=u){p["~"]=o("MatchData").$new(A,M),z=M.index;break}A.lastIndex=M.index+1}else i=y(i,o("String"),"to_str"),i.length===0&&u>m.length?z=-1:z=m.indexOf(i,u);return z===-1?_:z},-2),K(f,"$inspect",function(){var i=this,u=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},z=i.replace(u,function(M){return m[M]?m[M]:(M=M.charCodeAt(0),M<=255&&(i.encoding["$binary?"]()||i.internal_encoding["$binary?"]())?"\\x"+("00"+M.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+M.toString(16).toUpperCase()).slice(-4))});return'"'+z.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),K(f,"$intern",function(){var i=this;return i.toString()}),K(f,"$length",function(){var i=this;return i.length}),b(f,"size","length"),K(f,"$lines",function $(i,u){var m=$.$$p||_,z,M,A,L,O=this,ae=_;return p["/"]==null&&(p["/"]=_),$.$$p=null,z=G(arguments),M=w(z),M=R(M),z.length>0&&(A=z.shift()),A==null&&(A=p["/"]),L=P(M,"chomp"),L==null&&(L=!1),ae=ne(O,"each_line",[A,new Map([["chomp",L]])],m.$to_proc()),U(m)?O:ae.$to_a()},-1),K(f,"$ljust",function(i,u){var m=this;if(u==null&&(u=" "),i=y(i,o("Integer"),"to_int"),u=y(u,o("String"),"to_str").$to_s(),U(u["$empty?"]())&&S.$raise(o("ArgumentError"),"zero width padding"),U(i<=m.length))return m;var z=-1,M="";for(i-=m.length;++z<i;)M+=u;return m+M.slice(0,i)},-2),K(f,"$lstrip",function(){var i=this;return i.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),K(f,"$ascii_only?",function(){var i=this;return i.encoding.ascii?/^[\x00-\x7F]*$/.test(i):!1}),K(f,"$match",function $(i,u){var m=$.$$p||_,z=this;return $.$$p=null,(X(t("String"),i)||U(i["$respond_to?"]("to_str")))&&(i=o("Regexp").$new(i.$to_str())),X(o("Regexp"),i)||S.$raise(o("TypeError"),"wrong argument type "+i.$class()+" (expected Regexp)"),ne(i,"match",[z,u],m.$to_proc())},-2),K(f,"$match?",function(i,u){var m=this;return(X(t("String"),i)||U(i["$respond_to?"]("to_str")))&&(i=o("Regexp").$new(i.$to_str())),X(o("Regexp"),i)||S.$raise(o("TypeError"),"wrong argument type "+i.$class()+" (expected Regexp)"),i["$match?"](m,u)},-2),K(f,"$next",function(){var i=this,u=i.length;if(u===0)return"";for(var m=i,z=i.search(/[a-zA-Z0-9]/),M=!1,A;u--;){if(A=i.charCodeAt(u),A>=48&&A<=57||A>=65&&A<=90||A>=97&&A<=122)switch(A){case 57:M=!0,A=48;break;case 90:M=!0,A=65;break;case 122:M=!0,A=97;break;default:M=!1,A+=1}else z===-1?A===255?(M=!0,A=0):(M=!1,A+=1):M=!0;if(m=m.slice(0,u)+String.fromCharCode(A)+m.slice(u+1),M&&(u===0||u===z)){switch(A){case 65:break;case 97:break;default:A+=1}u===0?m=String.fromCharCode(A)+m:m=m.slice(0,u)+String.fromCharCode(A)+m.slice(u),M=!1}if(!M)break}return m}),K(f,"$oct",function(){var i=this,u,m=i,z=8;return/^\s*_/.test(m)?0:(m=m.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(M,A,L,O){switch(O.charAt(0)){case"+":case"-":return M;case"0":if(O.charAt(1)==="x"&&L==="0x")return M}switch(L){case"0b":z=2;break;case"0":case"0o":z=8;break;case"0d":z=10;break;case"0x":z=16;break}return A+O}),u=parseInt(m.replace(/_(?!_)/g,""),z),isNaN(u)?0:u)}),K(f,"$ord",function(){var i=this;return typeof i.codePointAt=="function"?i.codePointAt(0):i.charCodeAt(0)}),K(f,"$partition",function(i){var u=this,m,z;return i.$$is_regexp?(z=i.exec(u),z===null?m=-1:(o("MatchData").$new(i,z),i=z[0],m=z.index)):(i=y(i,o("String"),"to_str"),m=u.indexOf(i)),m===-1?[u,"",""]:[u.slice(0,m),u.slice(m,m+i.length),u.slice(m+i.length)]}),K(f,"$reverse",function(){var i=this;return i.split("").reverse().join("")}),K(f,"$rindex",function(i,u){var m=this,z,M,A,L;if(u===void 0)u=m.length;else if(u=y(u,o("Integer"),"to_int"),u<0&&(u+=m.length,u<0))return _;if(i.$$is_regexp){for(M=null,A=V(i);L=A.exec(m),!(L===null||L.index>u);)M=L,A.lastIndex=M.index+1;M===null?(p["~"]=_,z=-1):(o("MatchData").$new(A,M),z=M.index)}else i=y(i,o("String"),"to_str"),z=m.lastIndexOf(i,u);return z===-1?_:z},-2),K(f,"$rjust",function(i,u){var m=this;if(u==null&&(u=" "),i=y(i,o("Integer"),"to_int"),u=y(u,o("String"),"to_str").$to_s(),U(u["$empty?"]())&&S.$raise(o("ArgumentError"),"zero width padding"),U(i<=m.length))return m;var z=Math.floor(i-m.length),M=Math.floor(z/u.length),A=Array(M+1).join(u),L=z-A.length;return A+u.slice(0,L)+m},-2),K(f,"$rpartition",function(i){var u=this,m,z,M,A;if(i.$$is_regexp){for(z=null,M=V(i);A=M.exec(u),A!==null;)z=A,M.lastIndex=z.index+1;z===null?m=-1:(o("MatchData").$new(M,z),i=z[0],m=z.index)}else i=y(i,o("String"),"to_str"),m=u.lastIndexOf(i);return m===-1?["","",u]:[u.slice(0,m),u.slice(m,m+i.length),u.slice(m+i.length)]}),K(f,"$rstrip",function(){var i=this;return i.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),K(f,"$scan",function $(i,u){var m=$.$$p||_,z,M=this;$.$$p=null,u=R(u),z=P(u,"no_matchdata"),z==null&&(z=!1);var A=[],L=_,O;for(i.$$is_regexp?i=V(i):(i=y(i,o("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(O=i.exec(M))!=null;)L=o("MatchData").$new(i,O,new Map([["no_matchdata",z]])),m===_?O.length==1?A.push(O[0]):A.push(L.$captures()):O.length==1?r.yield1(m,O[0]):r.yield1(m,L.$captures()),i.lastIndex===O.index&&(i.lastIndex+=1);return z||(p["~"]=L),m!==_?M:A},-2),K(f,"$singleton_class",function(){var i=this;return r.get_singleton_class(i)}),K(f,"$split",function(i,u){var m=this,z=_;if(p[";"]==null&&(p[";"]=_),m.length===0)return[];if(u===void 0)u=0;else if(u=ie["$coerce_to!"](u,o("Integer"),"to_int"),u===1)return[m];(i===void 0||i===_)&&(i=U(z=p[";"])?z:" ");var M=[],A=m.toString(),L=0,O,ae=0,le=0,_e,de;if(i.$$is_regexp?i=V(i):(i=y(i,o("String"),"to_str").$to_s(),i===" "&&(i=/\s+/gm,A=A.replace(/^\s+/,""))),M=A.split(i),M.length===1&&M[0]===A)return[M[0]];for(;(_e=M.indexOf(void 0))!==-1;)M.splice(_e,1);if(u===0){for(;M[M.length-1]==="";)M.pop();return M}if(i.$$is_regexp||(i=r.escape_regexp(i),i=new RegExp(i,"gm")),O=i.exec(A),u<0){if(O!==null&&O[0]===""&&i.source.indexOf("(?=")===-1)for(_e=0,de=O.length;_e<de;_e++)M.push("");return M}if(O!==null&&O[0]==="")return le=(O.length-1)*(u-1)+u,M.splice(le-1,M.length-1,M.slice(le-1).join("")),M;if(u>=M.length)return M;for(;O!==null&&(ae++,L=i.lastIndex,le+=O.length,ae+1!==u);)O=i.exec(A);return M.splice(le,M.length-1,A.slice(L)),M},-1),K(f,"$squeeze",function(i){var u,m,z=this;if(u=G(arguments),m=u,m.length===0)return z.replace(/(.)\1+/g,"$1");var M=e(m);return M===null?z:z.replace(new RegExp("("+M+")\\1+","g"),"$1")},-1),K(f,"$start_with?",function(i){var u,m,z=this;u=G(arguments),m=u;for(var M=0,A=m.length;M<A;M++)if(m[M].$$is_regexp){var L=m[M],O=L.exec(z);if(O!=null&&O.index===0)return p["~"]=o("MatchData").$new(L,O),!0;p["~"]=_}else{var ae=y(m[M],o("String"),"to_str").$to_s();if(z.length>=ae.length&&z.startsWith(ae))return!0}return!1},-1),K(f,"$strip",function(){var i=this;return i.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),K(f,"$sub",function $(i,u){var m=$.$$p||_,z=this;$.$$p=null,i.$$is_regexp||(i=y(i,o("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var M,A=i.exec(z);return A===null?(p["~"]=_,M=z.toString()):(o("MatchData").$new(i,A),u===void 0?(m===_&&S.$raise(o("ArgumentError"),"wrong number of arguments (1 for 2)"),M=z.slice(0,A.index)+m(A[0])+z.slice(A.index+A[0].length)):u.$$is_hash?M=z.slice(0,A.index)+u["$[]"](A[0]).$to_s()+z.slice(A.index+A[0].length):(u=y(u,o("String"),"to_str"),u=u.replace(/([\\]+)([0-9+&`'])/g,function(L,O,ae){if(O.length%2===0)return L;switch(ae){case"+":for(var le=A.length-1;le>0;le--)if(A[le]!==void 0)return O.slice(1)+A[le];return"";case"&":return O.slice(1)+A[0];case"`":return O.slice(1)+z.slice(0,A.index);case"'":return O.slice(1)+z.slice(A.index+A[0].length);default:return O.slice(1)+(A[ae]||"")}}).replace(/\\\\/g,"\\"),M=z.slice(0,A.index)+u+z.slice(A.index+A[0].length))),M},-2),K(f,"$sum",function(i){var u=this;i==null&&(i=16),i=y(i,o("Integer"),"to_int");for(var m=0,z=u.length,M=0;M<z;M++)m+=u.charCodeAt(M);return i<=0?m:m&Math.pow(2,i)-1},-1),K(f,"$swapcase",function(){var i=this,u=i.replace(/([a-z]+)|([A-Z]+)/g,function(m,z,M){return z?m.toUpperCase():m.toLowerCase()});return u}),K(f,"$to_f",function(){var i=this;if(i.charAt(0)==="_")return 0;var u=parseFloat(i.replace(/_/g,""));return isNaN(u)||u==1/0||u==-1/0?0:u}),K(f,"$to_i",function(i){var u=this;i==null&&(i=10);var m,z=u.toLowerCase(),M=y(i,o("Integer"),"to_int");return(M===1||M<0||M>36)&&S.$raise(o("ArgumentError"),"invalid radix "+M),/^\s*_/.test(z)?0:(z=z.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(A,L,O,ae){switch(ae.charAt(0)){case"+":case"-":return A;case"0":if(ae.charAt(1)==="x"&&O==="0x"&&(M===0||M===16))return A}switch(O){case"0b":if(M===0||M===2)return M=2,L+ae;break;case"0":case"0o":if(M===0||M===8)return M=8,L+ae;break;case"0d":if(M===0||M===10)return M=10,L+ae;break;case"0x":if(M===0||M===16)return M=16,L+ae;break}return A}),m=parseInt(z.replace(/_(?!_)/g,""),M),isNaN(m)?0:m)},-1),K(f,"$to_proc",function $(){$.$$p;var i=this,u=_,m=_,z=_;return $.$$p=null,u=i.valueOf(),m=r.jsid(u),z=ne(S,"proc",[],function M(A){var L=M.$$p||_,O,ae;M.$$p=null,O=G(arguments),ae=O,ae.length===0&&S.$raise(o("ArgumentError"),"no receiver given");var le=ae[0];le==null&&(le=_);var _e=le[m];return _e?ae=ae.slice(1):(_e=le.$method_missing,ae[0]=u),typeof L=="function"&&(_e.$$p=L),ae.length===0?_e.call(le):_e.apply(le,ae)},-1),z.$$source_location=_,z}),K(f,"$to_s",function(){var i=this;return i.toString()}),K(f,"$tr",function(i,u){var m=this;if(i=y(i,o("String"),"to_str").$to_s(),u=y(u,o("String"),"to_str").$to_s(),i.length==0||i===u)return m;var z,M,A,L,O,ae,le,_e={},de=i.split(""),ge=de.length,ve=u.split(""),me=ve.length,be=!1,$e=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),$e=ve[me-1],ge-=1);var q=[],T=null;for(M=!1,z=0;z<ge;z++)if(L=de[z],T==null)T=L,q.push(L);else if(L==="-")T==="-"?(q.push("-"),q.push("-")):z==ge-1?q.push("-"):M=!0;else if(M){for(O=T.charCodeAt(0),ae=L.charCodeAt(0),O>ae&&S.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),A=O+1;A<ae;A++)q.push(String.fromCharCode(A));q.push(L),M=null,T=null}else q.push(L);if(de=q,ge=de.length,be)for(z=0;z<ge;z++)_e[de[z]]=!0;else{if(me>0){var B=[],Y=null;for(M=!1,z=0;z<me;z++)if(L=ve[z],Y==null)Y=L,B.push(L);else if(L==="-")Y==="-"?(B.push("-"),B.push("-")):z==me-1?B.push("-"):M=!0;else if(M){for(O=Y.charCodeAt(0),ae=L.charCodeAt(0),O>ae&&S.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),A=O+1;A<ae;A++)B.push(String.fromCharCode(A));B.push(L),M=null,Y=null}else B.push(L);ve=B,me=ve.length}var te=ge-me;if(te>0){var se=me>0?ve[me-1]:"";for(z=0;z<te;z++)ve.push(se)}for(z=0;z<ge;z++)_e[de[z]]=ve[z]}var oe="";for(z=0,le=m.length;z<le;z++){L=m.charAt(z);var fe=_e[L];be?oe+=fe==null?$e:L:oe+=fe??L}return oe}),K(f,"$tr_s",function(i,u){var m=this;if(i=y(i,o("String"),"to_str").$to_s(),u=y(u,o("String"),"to_str").$to_s(),i.length==0)return m;var z,M,A,L,O,ae,le,_e={},de=i.split(""),ge=de.length,ve=u.split(""),me=ve.length,be=!1,$e=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),$e=ve[me-1],ge-=1);var q=[],T=null;for(M=!1,z=0;z<ge;z++)if(L=de[z],T==null)T=L,q.push(L);else if(L==="-")T==="-"?(q.push("-"),q.push("-")):z==ge-1?q.push("-"):M=!0;else if(M){for(O=T.charCodeAt(0),ae=L.charCodeAt(0),O>ae&&S.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),A=O+1;A<ae;A++)q.push(String.fromCharCode(A));q.push(L),M=null,T=null}else q.push(L);if(de=q,ge=de.length,be)for(z=0;z<ge;z++)_e[de[z]]=!0;else{if(me>0){var B=[],Y=null;for(M=!1,z=0;z<me;z++)if(L=ve[z],T==null)T=L,B.push(L);else if(L==="-")Y==="-"?(B.push("-"),B.push("-")):z==me-1?B.push("-"):M=!0;else if(M){for(O=T.charCodeAt(0),ae=L.charCodeAt(0),O>ae&&S.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),A=O+1;A<ae;A++)B.push(String.fromCharCode(A));B.push(L),M=null,T=null}else B.push(L);ve=B,me=ve.length}var te=ge-me;if(te>0){var se=me>0?ve[me-1]:"";for(z=0;z<te;z++)ve.push(se)}for(z=0;z<ge;z++)_e[de[z]]=ve[z]}var oe="",fe=null;for(z=0,le=m.length;z<le;z++){L=m.charAt(z);var l=_e[L];be?l==null?fe==null&&(oe+=$e,fe=!0):(oe+=L,fe=null):l!=null?(fe==null||fe!==l)&&(oe+=l,fe=l):(oe+=L,fe=null)}return oe}),K(f,"$upcase",function(){var i=this;return i.toUpperCase()}),K(f,"$upto",function $(i,u){var m=$.$$p||_,z=this;if($.$$p=null,u==null&&(u=!1),m===_)return z.$enum_for("upto",i,u);var M,A,L=z.toString();if(i=y(i,o("String"),"to_str"),L.length===1&&i.length===1)for(M=L.charCodeAt(0),A=i.charCodeAt(0);M<=A&&!(u&&M===A);)m(String.fromCharCode(M)),M+=1;else if(parseInt(L,10).toString()===L&&parseInt(i,10).toString()===i)for(M=parseInt(L,10),A=parseInt(i,10);M<=A&&!(u&&M===A);)m(M.toString()),M+=1;else for(;L.length<=i.length&&L<=i&&!(u&&L===i);)m(L),L=L.$succ();return z},-2);function e($){function i(_e){var de="",ge,ve=_e.length,me,be,$e,q,T;for(ge=0;ge<ve;ge++)if(me=_e.charAt(ge),me==="-"&&ge>0&&ge<ve-1&&!be){for($e=_e.charCodeAt(ge-1),q=_e.charCodeAt(ge+1),$e>q&&S.$raise(o("ArgumentError"),'invalid range "'+$e+"-"+q+'" in string transliteration'),T=$e+1;T<q+1;T++)de+=String.fromCharCode(T);be=!0,ge++}else be=me==="\\",de+=me;return de}function u(_e,de){if(_e.length===0)return de;var ge="",ve,me=_e.length,be;for(ve=0;ve<me;ve++)be=_e.charAt(ve),de.indexOf(be)!==-1&&(ge+=be);return ge}var m,z,M,A,L,O,ae="",le="";for(m=0,z=$.length;m<z;m++)M=y($[m],o("String"),"to_str"),A=M.charAt(0)==="^"&&M.length>1,M=i(A?M.slice(1):M),A?le=u(le,M):ae=u(ae,M);if(ae.length>0&&le.length>0){for(O="",m=0,z=ae.length;m<z;m++)L=ae.charAt(m),le.indexOf(L)===-1&&(O+=L);ae=O,le=""}return ae.length>0?"["+o("Regexp").$escape(ae)+"]":le.length>0?"[^"+o("Regexp").$escape(le)+"]":null}return K(f,"$instance_variables",function(){return[]}),J(f,"$_load",function(i){var u,m,z=this;return u=G(arguments),m=u,ne(z,"new",Z(m))},-1),K(f,"$unicode_normalize",function(i){var u=this;return i==null&&(i="nfc"),U(["nfc","nfd","nfkc","nfkd"]["$include?"](i))||S.$raise(o("ArgumentError"),"Invalid normalization form "+i),u.normalize(i.$upcase())},-1),K(f,"$unicode_normalized?",function(i){var u=this;return i==null&&(i="nfc"),u.$unicode_normalize(i)["$=="](u)},-1),K(f,"$unpack",function(i){return S.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),K(f,"$unpack1",function(i){return S.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),K(f,"$freeze",function(){var i=this;return typeof i=="string"||E(i,"$$frozen",!0),i}),K(f,"$-@",function(){var i=this;return typeof i=="string"||i.$$frozen?i:i.encoding.name=="UTF-8"&&i.internal_encoding.name=="UTF-8"?i.toString():i.$dup().$freeze()}),K(f,"$frozen?",function(){var i=this;return typeof i=="string"||i.$$frozen===!0}),b(f,"+@","dup"),b(f,"===","=="),b(f,"byteslice","[]"),b(f,"eql?","=="),b(f,"equal?","==="),b(f,"object_id","__id__"),b(f,"slice","[]"),b(f,"succ","next"),b(f,"to_str","to_s"),b(f,"to_sym","intern"),ie.$pristine(f,"initialize")}("::",String,k),s(k[0],"Symbol",h("String"))};Opal.modules["corelib/enumerable"]=function(r){var y=r.truthy,F=r.coerce_to,V=r.yield1,E=r.yieldX,ee=r.deny_frozen_access,Q=r.module,N=r.send,W=r.slice,g=r.to_a,K=r.Opal,ie=r.thrower,J=r.def,G=r.Kernel,ne=r.return_val,Z=r.rb_gt,w=r.rb_times,R=r.rb_lt,P=r.eqeq,X=r.rb_plus,S=r.rb_minus,U=r.rb_divide,p=r.rb_le,x=r.lambda,D=r.not,I=r.alias,b=[],s=r.nil,d=r.$$$;return r.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(k,h){var _=Q(k,"Enumerable"),o=[_].concat(h),H=r.$r(o);function j(c){return c.length===0&&(c=[s]),c.length>1&&(c=[c]),c}return J(_,"$all?",function c(f){try{var a=ie("return"),t=c.$$p||s,n=this;return c.$$p=null,y(f!==void 0)?N(n,"each",[],function e($){var i,u,m=s;if(i=W(arguments),u=i,m=j(u),y(N(f,"public_send",["==="].concat(g(m)))))return s;a.$throw(!1,e.$$is_lambda)},{$$arity:-1,$$ret:a}):t!==s?N(n,"each",[],function e($){var i,u;if(i=W(arguments),u=i,y(r.yieldX(t,g(u))))return s;a.$throw(!1,e.$$is_lambda)},{$$arity:-1,$$ret:a}):N(n,"each",[],function e($){var i,u;if(i=W(arguments),u=i,y(K.$destructure(u)))return s;a.$throw(!1,e.$$is_lambda)},{$$arity:-1,$$ret:a}),!0}catch(e){if(e===a)return e.$v;throw e}finally{a.is_orphan=!0}},-1),J(_,"$any?",function c(f){try{var a=ie("return"),t=c.$$p||s,n=this;return c.$$p=null,y(f!==void 0)?N(n,"each",[],function e($){var i,u,m=s;if(i=W(arguments),u=i,m=j(u),y(N(f,"public_send",["==="].concat(g(m)))))a.$throw(!0,e.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):t!==s?N(n,"each",[],function e($){var i,u;if(i=W(arguments),u=i,y(r.yieldX(t,g(u))))a.$throw(!0,e.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):N(n,"each",[],function e($){var i,u;if(i=W(arguments),u=i,y(K.$destructure(u)))a.$throw(!0,e.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),!1}catch(e){if(e===a)return e.$v;throw e}finally{a.is_orphan=!0}},-1),J(_,"$chunk",function c(){var f=c.$$p||s,a=this;return c.$$p=null,f===s?N(a,"to_enum",["chunk"],function t(){var n=t.$$s==null?this:t.$$s;return n.$enumerator_size()},{$$s:a}):N(d("Enumerator"),"new",[],function t(n){var e=t.$$s==null?this:t.$$s;n==null&&(n=s);var $=s,i=[];function u(){i.length>0&&n.$yield($,i)}e.$each.$$p=function(m){var z=V(f,m);z===s?(u(),i=[],$=s):($===s||$===z?i.push(m):(u(),i=[m]),$=z)},e.$each(),u()},{$$s:a})}),J(_,"$chunk_while",function c(){var f=c.$$p||s,a=this;return c.$$p=null,f===s&&G.$raise(d("ArgumentError"),"no block given"),N(a,"slice_when",[],function(n,e){return n==null&&(n=s),e==null&&(e=s),r.yieldX(f,[n,e])["$!"]()})}),J(_,"$collect",function c(){var f=c.$$p||s,a=this;if(c.$$p=null,f===s)return N(a,"enum_for",["collect"],function n(){var e=n.$$s==null?this:n.$$s;return e.$enumerator_size()},{$$s:a});var t=[];return a.$each.$$p=function(){var n=E(f,arguments);t.push(n)},a.$each(),t}),J(_,"$collect_concat",function c(){var f=c.$$p||s,a=this;return c.$$p=null,f===s?N(a,"enum_for",["collect_concat"],function t(){var n=t.$$s==null?this:t.$$s;return n.$enumerator_size()},{$$s:a}):N(a,"map",[],f.$to_proc()).$flatten(1)}),J(_,"$compact",function(){var f=this;return f.$to_a().$compact()}),J(_,"$count",function c(f){var a=c.$$p||s,t=this,n=s;return c.$$p=null,n=0,f!=null&&a!==s&&t.$warn("warning: given block not used"),y(f!=null)?a=N(G,"proc",[],function($){var i,u;return i=W(arguments),u=i,K.$destructure(u)["$=="](f)},-1):y(a["$nil?"]())&&(a=N(G,"proc",[],ne(!0))),N(t,"each",[],function($){var i,u;return i=W(arguments),u=i,y(E(a,u))?n++:s},-1),n},-1),J(_,"$cycle",function c(f){var a=c.$$p||s,t=this;if(c.$$p=null,f==null&&(f=s),a===s)return N(t,"enum_for",["cycle",f],function i(){var u=i.$$s==null?this:i.$$s;return y(f["$nil?"]())?y(u["$respond_to?"]("size"))?d(d("Float"),"INFINITY"):s:(f=K["$coerce_to!"](f,d("Integer"),"to_int"),y(Z(f,0))?w(u.$enumerator_size(),f):0)},{$$s:t});if(!y(f["$nil?"]())&&(f=K["$coerce_to!"](f,d("Integer"),"to_int"),y(f<=0)))return s;var n=[],e,$;if(t.$each.$$p=function(){var i=K.$destructure(arguments);V(a,i),n.push(i)},t.$each(),n.length===0)return s;if(f===s)for(;;)for(e=0,$=n.length;e<$;e++)V(a,n[e]);else for(;f>1;){for(e=0,$=n.length;e<$;e++)V(a,n[e]);f--}},-1),J(_,"$detect",function c(f){try{var a=ie("return"),t=c.$$p||s,n=this;return c.$$p=null,t===s?n.$enum_for("detect",f):(N(n,"each",[],function e($){var i,u,m=s;if(i=W(arguments),u=i,m=K.$destructure(u),y(r.yield1(t,m)))a.$throw(m,e.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),f!==void 0?typeof f=="function"?f():f:s)}catch(e){if(e===a)return e.$v;throw e}finally{a.is_orphan=!0}},-1),J(_,"$drop",function(f){var a=this;f=F(f,d("Integer"),"to_int"),y(f<0)&&G.$raise(d("ArgumentError"),"attempt to drop negative size");var t=[],n=0;return a.$each.$$p=function(){f<=n&&t.push(K.$destructure(arguments)),n++},a.$each(),t}),J(_,"$drop_while",function c(){var f=c.$$p||s,a=this;if(c.$$p=null,f===s)return a.$enum_for("drop_while");var t=[],n=!0;return a.$each.$$p=function(){var e=K.$destructure(arguments);if(n){var $=V(f,e);y($)||(n=!1,t.push(e))}else t.push(e)},a.$each(),t}),J(_,"$each_cons",function c(f){var a=c.$$p||s,t=this;if(c.$$p=null,y(arguments.length!=1)&&G.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),f=K.$try_convert(f,d("Integer"),"to_int"),y(f<=0)&&G.$raise(d("ArgumentError"),"invalid size"),a===s)return N(t,"enum_for",["each_cons",f],function e(){var $=e.$$s==null?this:e.$$s,i=s;return i=$.$enumerator_size(),y(i["$nil?"]())?s:P(i,0)||y(R(i,f))?0:X(S(i,f),1)},{$$s:t});var n=[];return t.$each.$$p=function(){var e=K.$destructure(arguments);n.push(e),n.length>f&&n.shift(),n.length==f&&V(a,n.slice(0,f))},t.$each(),t}),J(_,"$each_entry",function c(f){var a=c.$$p||s,t,n,e=this;return c.$$p=null,t=W(arguments),n=t,a===s?N(e,"to_enum",["each_entry"].concat(g(n)),function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:e}):(e.$each.$$p=function(){var $=K.$destructure(arguments);V(a,$)},e.$each.apply(e,n),e)},-1),J(_,"$each_slice",function c(f){var a=c.$$p||s,t=this;if(c.$$p=null,f=F(f,d("Integer"),"to_int"),y(f<=0)&&G.$raise(d("ArgumentError"),"invalid slice size"),a===s)return N(t,"enum_for",["each_slice",f],function e(){var $=e.$$s==null?this:e.$$s;return y($["$respond_to?"]("size"))?U($.$size(),f).$ceil():s},{$$s:t});var n=[];return t.$each.$$p=function(){var e=K.$destructure(arguments);n.push(e),n.length===f&&(V(a,n),n=[])},t.$each(),n.length>0&&V(a,n),t}),J(_,"$each_with_index",function c(f){var a=c.$$p||s,t,n,e=this;if(c.$$p=null,t=W(arguments),n=t,a===s)return N(e,"enum_for",["each_with_index"].concat(g(n)),function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:e});var $=0;return e.$each.$$p=function(){var i=K.$destructure(arguments);a(i,$),$++},e.$each.apply(e,n),e},-1),J(_,"$each_with_object",function c(f){var a=c.$$p||s,t=this;return c.$$p=null,a===s?N(t,"enum_for",["each_with_object",f],function n(){var e=n.$$s==null?this:n.$$s;return e.$enumerator_size()},{$$s:t}):(t.$each.$$p=function(){var n=K.$destructure(arguments);a(n,f)},t.$each(),f)}),J(_,"$entries",function(f){var a,t,n=this;a=W(arguments),t=a;var e=[];return n.$each.$$p=function(){e.push(K.$destructure(arguments))},n.$each.apply(n,t),e},-1),J(_,"$filter_map",function c(){var f=c.$$p||s,a=this;return c.$$p=null,f===s?N(a,"enum_for",["filter_map"],function t(){var n=t.$$s==null?this:t.$$s;return n.$enumerator_size()},{$$s:a}):N(N(a,"map",[],f.$to_proc()),"select",[],"itself".$to_proc())}),J(_,"$find_all",function c(){var f=c.$$p||s,a=this;if(c.$$p=null,f===s)return N(a,"enum_for",["find_all"],function n(){var e=n.$$s==null?this:n.$$s;return e.$enumerator_size()},{$$s:a});var t=[];return a.$each.$$p=function(){var n=K.$destructure(arguments),e=V(f,n);y(e)&&t.push(n)},a.$each(),t}),J(_,"$find_index",function c(f){try{var a=ie("return"),t=c.$$p||s,n=this,e=s;return c.$$p=null,y(f===void 0&&t===s)?n.$enum_for("find_index"):(f!=null&&t!==s&&n.$warn("warning: given block not used"),e=0,y(f!=null)?N(n,"each",[],function $(i){var u,m;return u=W(arguments),m=u,P(K.$destructure(m),f)&&a.$throw(e,$.$$is_lambda),e+=1},{$$arity:-1,$$ret:a}):N(n,"each",[],function $(i){var u,m;return u=W(arguments),m=u,y(r.yieldX(t,g(m)))&&a.$throw(e,$.$$is_lambda),e+=1},{$$arity:-1,$$ret:a}),s)}catch($){if($===a)return $.$v;throw $}finally{a.is_orphan=!0}},-1),J(_,"$first",function(f){try{var a=ie("return"),t=this,n=s,e=s;return y(f===void 0)?N(t,"each",[],function $(i){i==null&&(i=s),a.$throw(i,$.$$is_lambda)},{$$ret:a}):(n=[],f=F(f,d("Integer"),"to_int"),y(f<0)&&G.$raise(d("ArgumentError"),"attempt to take negative size"),y(f==0)?[]:(e=0,N(t,"each",[],function $(i){var u,m;if(u=W(arguments),m=u,n.push(K.$destructure(m)),y(f<=++e))a.$throw(n,$.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),n))}catch($){if($===a)return $.$v;throw $}finally{a.is_orphan=!0}},-1),J(_,"$grep",function c(f){var a=c.$$p||s,t=this,n=s;return c.$$p=null,n=[],N(t,"each",[],function($){var i,u,m=s;return i=W(arguments),u=i,m=j(u),y(N(f,"__send__",["==="].concat(g(m))))?(a!==s?(y(Z(u.$length(),1))&&(u=[u]),u=r.yieldX(a,g(u))):y(p(u.$length(),1))&&(u=u["$[]"](0)),n.$push(u)):s},-1),n}),J(_,"$grep_v",function c(f){var a=c.$$p||s,t=this,n=s;return c.$$p=null,n=[],N(t,"each",[],function($){var i,u,m=s;return i=W(arguments),u=i,m=j(u),y(N(f,"__send__",["==="].concat(g(m))))?s:(a!==s?(y(Z(u.$length(),1))&&(u=[u]),u=r.yieldX(a,g(u))):y(p(u.$length(),1))&&(u=u["$[]"](0)),n.$push(u))},-1),n}),J(_,"$group_by",function c(){var f=c.$$p||s,a,t=this,n=s,e=s;return c.$$p=null,f===s?N(t,"enum_for",["group_by"],function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:t}):(n=new Map,t.$each.$$p=function(){var $=K.$destructure(arguments),i=V(f,$);(y(e=n["$[]"](i))?e:(a=[i,[]],N(n,"[]=",a),a[a.length-1]))["$<<"]($)},t.$each(),n)}),J(_,"$include?",function(f){try{var a=ie("return"),t=this;return N(t,"each",[],function n(e){var $,i;if($=W(arguments),i=$,P(K.$destructure(i),f))a.$throw(!0,n.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),!1}catch(n){if(n===a)return n.$v;throw n}finally{a.is_orphan=!0}}),J(_,"$inject",function c(f,a){var t=c.$$p||s,n=this;c.$$p=null;var e=f;return t!==s&&a===void 0?n.$each.$$p=function(){var $=K.$destructure(arguments);if(e===void 0){e=$;return}$=E(t,[e,$]),e=$}:(a===void 0&&(d("Symbol")["$==="](f)||G.$raise(d("TypeError"),""+f.$inspect()+" is not a Symbol"),a=f,e=void 0),n.$each.$$p=function(){var $=K.$destructure(arguments);if(e===void 0){e=$;return}e=e.$__send__(a,$)}),n.$each(),e??s},-1),J(_,"$lazy",function(){var f=this;return N(d(d("Enumerator"),"Lazy"),"new",[f,f.$enumerator_size()],function(t,n){var e,$;return t==null&&(t=s),e=W(arguments,1),$=e,N(t,"yield",g($))},-2)}),J(_,"$enumerator_size",function(){var f=this;return y(f["$respond_to?"]("size"))?f.$size():s}),J(_,"$max",function c(f){var a=c.$$p||s,t=this;if(c.$$p=null,f===void 0||f===s){var n,e;return t.$each.$$p=function(){var $=K.$destructure(arguments);if(n===void 0){n=$;return}a!==s?e=E(a,[$,n]):e=$["$<=>"](n),e===s&&G.$raise(d("ArgumentError"),"comparison failed"),e>0&&(n=$)},t.$each(),n===void 0?s:n}return f=F(f,d("Integer"),"to_int"),N(t,"sort",[],a.$to_proc()).$reverse().$first(f)},-1),J(_,"$max_by",function c(f){var a=c.$$p||s,t=this;if(c.$$p=null,f==null&&(f=s),!y(a))return N(t,"enum_for",["max_by",f],function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:t});if(!y(f["$nil?"]()))return N(t,"sort_by",[],a.$to_proc()).$reverse().$take(f);var n,e;return t.$each.$$p=function(){var $=K.$destructure(arguments),i=V(a,$);if(n===void 0){n=$,e=i;return}i["$<=>"](e)>0&&(n=$,e=i)},t.$each(),n===void 0?s:n},-1),J(_,"$min",function c(f){var a=c.$$p||s,t=this;if(c.$$p=null,f==null&&(f=s),!y(f["$nil?"]()))return a!==s?N(t,"sort",[],function($,i){return $==null&&($=s),i==null&&(i=s),r.yieldX(a,[$,i])}).$take(f):t.$sort().$take(f);var n;return a!==s?t.$each.$$p=function(){var e=K.$destructure(arguments);if(n===void 0){n=e;return}var $=a(e,n);$===s&&G.$raise(d("ArgumentError"),"comparison failed"),$<0&&(n=e)}:t.$each.$$p=function(){var e=K.$destructure(arguments);if(n===void 0){n=e;return}K.$compare(e,n)<0&&(n=e)},t.$each(),n===void 0?s:n},-1),J(_,"$min_by",function c(f){var a=c.$$p||s,t=this;if(c.$$p=null,f==null&&(f=s),!y(a))return N(t,"enum_for",["min_by",f],function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:t});if(!y(f["$nil?"]()))return N(t,"sort_by",[],a.$to_proc()).$take(f);var n,e;return t.$each.$$p=function(){var $=K.$destructure(arguments),i=V(a,$);if(n===void 0){n=$,e=i;return}i["$<=>"](e)<0&&(n=$,e=i)},t.$each(),n===void 0?s:n},-1),J(_,"$minmax",function c(){var f=c.$$p||s,a=this,t=s;c.$$p=null,f=y(t=f)?t:N(G,"proc",[],function(u,m){return u==null&&(u=s),m==null&&(m=s),u["$<=>"](m)});var n=s,e=s,$=!0;return a.$each.$$p=function(){var i=K.$destructure(arguments);if($)n=e=i,$=!1;else{var u=f.$call(n,i);u===s?G.$raise(d("ArgumentError"),"comparison failed"):u>0&&(n=i);var m=f.$call(e,i);m===s?G.$raise(d("ArgumentError"),"comparison failed"):m<0&&(e=i)}},a.$each(),[n,e]}),J(_,"$minmax_by",function c(){var f=c.$$p||s,a=this;if(c.$$p=null,!y(f))return N(a,"enum_for",["minmax_by"],function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:a});var t=s,n=s,e,$;return a.$each.$$p=function(){var i=K.$destructure(arguments),u=V(f,i);(e===void 0||u["$<=>"](e)<0)&&(t=i,e=u),($===void 0||u["$<=>"]($)>0)&&(n=i,$=u)},a.$each(),[t,n]}),J(_,"$none?",function c(f){try{var a=ie("return"),t=c.$$p||s,n=this;return c.$$p=null,y(f!==void 0)?N(n,"each",[],function e($){var i,u,m=s;if(i=W(arguments),u=i,m=j(u),y(N(f,"public_send",["==="].concat(g(m)))))a.$throw(!1,e.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):t!==s?N(n,"each",[],function e($){var i,u;if(i=W(arguments),u=i,y(r.yieldX(t,g(u))))a.$throw(!1,e.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):N(n,"each",[],function e($){var i,u,m=s;if(i=W(arguments),u=i,m=K.$destructure(u),y(m))a.$throw(!1,e.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),!0}catch(e){if(e===a)return e.$v;throw e}finally{a.is_orphan=!0}},-1),J(_,"$one?",function c(f){try{var a=ie("return"),t=c.$$p||s,n=this,e=s;return c.$$p=null,e=0,y(f!==void 0)?N(n,"each",[],function $(i){var u,m,z=s;if(u=W(arguments),m=u,z=j(m),y(N(f,"public_send",["==="].concat(g(z)))))if(e=X(e,1),y(Z(e,1)))a.$throw(!1,$.$$is_lambda);else return s;else return s},{$$arity:-1,$$ret:a}):t!==s?N(n,"each",[],function $(i){var u,m;if(u=W(arguments),m=u,!y(r.yieldX(t,g(m))))return s;if(e=X(e,1),y(Z(e,1)))a.$throw(!1,$.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):N(n,"each",[],function $(i){var u,m;if(u=W(arguments),m=u,!y(K.$destructure(m)))return s;if(e=X(e,1),y(Z(e,1)))a.$throw(!1,$.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),e["$=="](1)}catch($){if($===a)return $.$v;throw $}finally{a.is_orphan=!0}},-1),J(_,"$partition",function c(){var f=c.$$p||s,a=this;if(c.$$p=null,f===s)return N(a,"enum_for",["partition"],function e(){var $=e.$$s==null?this:e.$$s;return $.$enumerator_size()},{$$s:a});var t=[],n=[];return a.$each.$$p=function(){var e=K.$destructure(arguments),$=V(f,e);y($)?t.push(e):n.push(e)},a.$each(),[t,n]}),J(_,"$reject",function c(){var f=c.$$p||s,a=this;if(c.$$p=null,f===s)return N(a,"enum_for",["reject"],function n(){var e=n.$$s==null?this:n.$$s;return e.$enumerator_size()},{$$s:a});var t=[];return a.$each.$$p=function(){var n=K.$destructure(arguments),e=V(f,n);y(e)||t.push(n)},a.$each(),t}),J(_,"$reverse_each",function c(){var f=c.$$p||s,a=this;if(c.$$p=null,f===s)return N(a,"enum_for",["reverse_each"],function e(){var $=e.$$s==null?this:e.$$s;return $.$enumerator_size()},{$$s:a});var t=[];a.$each.$$p=function(){t.push(arguments)},a.$each();for(var n=t.length-1;n>=0;n--)E(f,t[n]);return t}),J(_,"$slice_before",function c(f){var a=c.$$p||s,t=this;return c.$$p=null,y(f===void 0&&a===s)&&G.$raise(d("ArgumentError"),"both pattern and block are given"),y(f!==void 0&&a!==s||arguments.length>1)&&G.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),N(d("Enumerator"),"new",[],function n(e){var $=n.$$s==null?this:n.$$s;e==null&&(e=s);var i=[];a!==s?f===void 0?$.$each.$$p=function(){var u=K.$destructure(arguments),m=V(a,u);y(m)&&i.length>0&&(e["$<<"](i),i=[]),i.push(u)}:$.$each.$$p=function(){var u=K.$destructure(arguments),m=a(u,f.$dup());y(m)&&i.length>0&&(e["$<<"](i),i=[]),i.push(u)}:$.$each.$$p=function(){var u=K.$destructure(arguments),m=f["$==="](u);y(m)&&i.length>0&&(e["$<<"](i),i=[]),i.push(u)},$.$each(),i.length>0&&e["$<<"](i)},{$$s:t})},-1),J(_,"$slice_after",function c(f){var a=c.$$p||s,t=this;return c.$$p=null,y(f===void 0&&a===s)&&G.$raise(d("ArgumentError"),"both pattern and block are given"),y(f!==void 0&&a!==s||arguments.length>1)&&G.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),y(f!==void 0)&&(a=N(G,"proc",[],function(e){return e==null&&(e=s),f["$==="](e)})),N(d("Enumerator"),"new",[],function n(e){var $=n.$$s==null?this:n.$$s;e==null&&(e=s);var i;$.$each.$$p=function(){var u=K.$destructure(arguments),m=V(a,u);i==null&&(i=[]),y(m)?(i.push(u),e.$yield(i),i=null):i.push(u)},$.$each(),i!=null&&e.$yield(i)},{$$s:t})},-1),J(_,"$slice_when",function c(){var f=c.$$p||s,a=this;return c.$$p=null,f===s&&G.$raise(d("ArgumentError"),"wrong number of arguments (0 for 1)"),N(d("Enumerator"),"new",[],function t(n){var e=t.$$s==null?this:t.$$s;n==null&&(n=s);var $=s,i=s;e.$each_cons.$$p=function(){var u=K.$destructure(arguments),m=u[0],z=u[1],M=E(f,[m,z]);i=z,$===s&&($=[]),y(M)?($.push(m),n.$yield($),$=[]):$.push(m)},e.$each_cons(2),$!==s&&($.push(i),n.$yield($))},{$$s:a})}),J(_,"$sort",function c(){var f=c.$$p||s,a=this,t=s;return c.$$p=null,t=a.$to_a(),f===s&&(f=x(function(e,$){return e==null&&(e=s),$==null&&($=s),e["$<=>"]($)})),N(t,"sort",[],f.$to_proc())}),J(_,"$sort_by",function c(){var f=c.$$p||s,a=this,t=s;return c.$$p=null,f===s?N(a,"enum_for",["sort_by"],function n(){var e=n.$$s==null?this:n.$$s;return e.$enumerator_size()},{$$s:a}):(t=N(a,"map",[],function(){var e=s;return e=K.$destructure(arguments),[r.yield1(f,e),e]}),N(t,"sort!",[],function(e,$){return e==null&&(e=s),$==null&&($=s),e[0]["$<=>"]($[0])}),N(t,"map!",[],function(e){return e==null&&(e=s),e[1]}))}),J(_,"$sum",function c(f){var a=c.$$p||s,t=this,n=s,e=s;return c.$$p=null,f==null&&(f=0),n=f,e=0,N(t,"each",[],function(i){var u,m,z=s,M=s,A=s;return u=W(arguments),m=u,z=a!==s?r.yieldX(a,g(m)):K.$destructure(m),D([d(d("Float"),"INFINITY"),d(d("Float"),"INFINITY")["$-@"]()]["$include?"](z))&&y(z["$respond_to?"]("-"))?(M=S(z,e),A=X(n,M),e=S(S(A,n),M),n=A):n=X(n,z)},-1),n},-1),J(_,"$take",function(f){var a=this;return a.$first(f)}),J(_,"$take_while",function c(){try{var f=ie("return"),a=c.$$p||s,t=this,n=s;return c.$$p=null,y(a)?(n=[],N(t,"each",[],function e($){var i,u,m=s;return i=W(arguments),u=i,m=K.$destructure(u),y(r.yield1(a,m))||f.$throw(n,e.$$is_lambda),n.push(m)},{$$arity:-1,$$ret:f})):t.$enum_for("take_while")}catch(e){if(e===f)return e.$v;throw e}finally{f.is_orphan=!0}}),J(_,"$uniq",function c(){var f=c.$$p||s,a=this,t=s;return c.$$p=null,t=new Map,N(a,"each",[],function(e){var $,i,u,m=s,z=s;return $=W(arguments),i=$,m=K.$destructure(i),z=f!==s?r.yield1(f,m):m,y(t["$key?"](z))?s:(u=[z,m],N(t,"[]=",u),u[u.length-1])},-1),t.$values()}),J(_,"$tally",function(f){var a=this,t=s;return f&&f!==s&&ee(f),t=N(N(a,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),y(f)?(N(t,"each",[],function(e,$){var i;return e==null&&(e=s),$==null&&($=s),i=[e,X(f.$fetch(e,0),$)],N(f,"[]=",i),i[i.length-1]}),f):t},-1),J(_,"$to_h",function c(f){var a=c.$$p||s,t,n,e=this;if(c.$$p=null,t=W(arguments),n=t,a!==s)return N(N(e,"map",[],a.$to_proc()),"to_h",g(n));var $=new Map;return e.$each.$$p=function(){var i=K.$destructure(arguments),u=K["$coerce_to?"](i,d("Array"),"to_ary"),m,z;u.$$is_array||G.$raise(d("TypeError"),"wrong element type "+i.$class()+" (expected array)"),u.length!==2&&G.$raise(d("ArgumentError"),"element has wrong array length (expected 2, was "+u.$length()+")"),m=u[0],z=u[1],r.hash_put($,m,z)},e.$each.apply(e,n),$},-1),J(_,"$to_set",function c(f,a){var t=c.$$p||s,n,e,$,i=this;return c.$$p=null,n=W(arguments),n.length>0&&(e=n.shift()),e==null&&(e=H("Set")),$=n,N(e,"new",[i].concat(g($)),t.$to_proc())},-1),J(_,"$zip",function c(f){c.$$p;var a,t,n=this;return c.$$p=null,a=W(arguments),t=a,N(n.$to_a(),"zip",g(t))},-1),I(_,"find","detect"),I(_,"filter","find_all"),I(_,"flat_map","collect_concat"),I(_,"map","collect"),I(_,"member?","include?"),I(_,"reduce","inject"),I(_,"select","find_all"),I(_,"to_a","entries")}("::",b)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(r){var y=r.klass,F=r.truthy,V=r.to_a,E=r.eqeq,ee=r.Kernel,Q=r.def,N=r.rb_gt,W=r.rb_lt,g=r.rb_le,K=r.rb_ge,ie=r.rb_plus,J=r.rb_minus,G=r.eqeqeq,ne=r.not,Z=r.rb_times,w=r.rb_divide,R=r.alias,P=[],X=r.nil,S=r.$$$;return r.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(U,p,x){var D=y(U,p,"Enumerator"),I=[D].concat(x);return function(b,s,d){var k=y(b,s,"ArithmeticSequence"),h=[k].concat(d),_=r.$r(h),o=k.$$prototype;o.step_arg2=o.receiver_num=o.step_arg1=o.step=o.range=o.topfx=o.bypfx=o.creation_method=o.skipped_arg=X,r.prop(k.$$prototype,"$$is_arithmetic_seq",!0);var H=1/0;return Q(k,"$initialize",function(c,f,a){var t,n=this,e=X;return a==null&&(a="step"),n.creation_method=a,F(c["$is_a?"](S("Array")))?(t=[].concat(V(c)),n.step_arg1=t[0]==null?X:t[0],n.step_arg2=t[1]==null?X:t[1],n.topfx=t[2]==null?X:t[2],n.bypfx=t[3]==null?X:t[3],n.receiver_num=f,n.step=1,n.range=F(n.step_arg2)?(n.step=n.step_arg2,r.Range.$new(n.receiver_num,n.step_arg1,!1)):F(n.step_arg1)?r.Range.$new(n.receiver_num,n.step_arg1,!1):r.Range.$new(n.receiver_num,X,!1)):(F(f)||(n.skipped_arg=!0),t=[c,F(e=f)?e:1],n.range=t[0],n.step=t[1]),n.object=n,E(n.step,0)&&ee.$raise(_("ArgumentError"),"step can't be 0"),F(n.step["$respond_to?"]("to_int"))?X:ee.$raise(_("ArgumentError"),"no implicit conversion of "+n.step.$class()+" into Integer")},-2),k.$attr_reader("step"),Q(k,"$begin",function(){var c=this;return c.range.$begin()}),Q(k,"$end",function(){var c=this;return c.range.$end()}),Q(k,"$exclude_end?",function(){var c=this;return c.range["$exclude_end?"]()}),Q(k,"$_lesser_than_end?",function(c){var f=this,a=X,t=X;return a=F(t=f.$end())?t:H,F(N(f.$step(),0))?F(f["$exclude_end?"]())?W(c,a):g(c,a):F(f["$exclude_end?"]())?N(c,a):K(c,a)}),Q(k,"$_greater_than_begin?",function(c){var f=this,a=X,t=X;return a=F(t=f.$begin())?t:H["$-@"](),F(N(f.$step(),0))?N(c,a):W(c,a)}),Q(k,"$first",function(c){var f=this,a=X,t=X,n=X;if(a=F(t=f.$begin())?t:H["$-@"](),!F(c))return F(f["$_lesser_than_end?"](a))?a:X;for(n=[];F(F(t=f["$_lesser_than_end?"](a))?N(c,0):t);)n["$<<"](a),a=ie(a,f.$step()),c=J(c,1);return n},-1),Q(k,"$each",function j(){var c=j.$$p||X,f=this,a=X,t=X;if(j.$$p=null,c===X)return f;for(G(X,a=f.$begin())&&ee.$raise(_("TypeError"),"nil can't be coerced into Integer"),t=F(a=f.$begin())?a:H["$-@"]();F(f["$_lesser_than_end?"](t));)r.yield1(c,t),t=ie(t,f.$step());return f}),Q(k,"$last",function(c){var f=this,a=X,t=X,n=X;if(G(H,a=f.$end())||G(H["$-@"](),a)?ee.$raise(S("FloatDomainError"),f.$end()):G(X,a)&&ee.$raise(S("RangeError"),"cannot get the last element of endless arithmetic sequence"),t=J(f.$end(),J(f.$end(),f.$begin())["$%"](f.$step())),F(f["$_lesser_than_end?"](t))||(t=J(t,f.$step())),!F(c))return F(f["$_greater_than_begin?"](t))?t:X;for(n=[];F(F(a=f["$_greater_than_begin?"](t))?N(c,0):a);)n["$<<"](t),t=J(t,f.$step()),c=J(c,1);return n.$reverse()},-1),Q(k,"$size",function(){var c=this,f=X,a=X;return f=F(N(c.$step(),0))?1:-1,ne(c["$_lesser_than_end?"](c.$begin()))?0:F([H["$-@"](),H]["$include?"](c.$step()))?1:F([Z(H["$-@"](),f),X]["$include?"](c.$begin()))||F([Z(H,f),X]["$include?"](c.$end()))?H:(a=J(c.$end(),J(c.$end(),c.$begin())["$%"](c.$step())),F(c["$_lesser_than_end?"](a))||(a=J(a,c.$step())),ie(w(J(a,c.$begin()),c.$step()).$abs().$to_i(),1))}),Q(k,"$==",function(c){var f=this,a=X,t=X,n=X,e=X;return F(a=F(t=F(n=F(e=f.$class()["$=="](c.$class()))?f.$begin()["$=="](c.$begin()):e)?f.$end()["$=="](c.$end()):n)?f.$step()["$=="](c.$step()):t)?f["$exclude_end?"]()["$=="](c["$exclude_end?"]()):a}),Q(k,"$hash",function(){var c=this;return[_("ArithmeticSequence"),c.$begin(),c.$end(),c.$step(),c["$exclude_end?"]()].$hash()}),Q(k,"$inspect",function(){var c=this,f=X;return F(c.receiver_num)?(f=F(c.step_arg2)?"("+c.topfx+c.step_arg1.$inspect()+", "+c.bypfx+c.step_arg2.$inspect()+")":F(c.step_arg1)?"("+c.topfx+c.step_arg1.$inspect()+")":X,"("+c.receiver_num.$inspect()+"."+c.creation_method+f+")"):(f=F(c.skipped_arg)?X:"("+c.step+")","(("+c.range.$inspect()+")."+c.creation_method+f+")")}),R(k,"===","=="),R(k,"eql?","==")}(D,D,I)}("::",null,P)};Opal.modules["corelib/enumerator/chain"]=function(r){var y=r.deny_frozen_access,F=r.klass,V=r.slice,E=r.def,ee=r.send,Q=r.to_a,N=r.truthy,W=r.rb_plus,g=r.thrower,K=r.nil,ie=r.$$$;return r.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(J,G){var ne=F(J,G,"Enumerator");return function(Z,w){var R=F(Z,w,"Chain"),P=R.$$prototype;return P.enums=P.iterated=K,E(R,"$initialize",function(S){var U,p,x=this;return U=V(arguments),p=U,y(x),x.enums=p,x.iterated=[],x.object=x},-1),E(R,"$each",function X(S){var U=X.$$p||K,p,x,D=this;return X.$$p=null,p=V(arguments),x=p,U===K?ee(D,"to_enum",["each"].concat(Q(x)),function I(){var b=I.$$s==null?this:I.$$s;return b.$size()},{$$s:D}):(ee(D.enums,"each",[],function I(b){var s=I.$$s==null?this:I.$$s;return s.iterated==null&&(s.iterated=K),b==null&&(b=K),s.iterated["$<<"](b),ee(b,"each",Q(x),U.$to_proc())},{$$s:D}),D)},-1),E(R,"$size",function(S){try{var U=g("return"),p,x,D=this,I=K;return p=V(arguments),x=p,I=0,ee(D.enums,"each",[],function b(s){var d=K;return s==null&&(s=K),d=ee(s,"size",Q(x)),N([K,ie(ie("Float"),"INFINITY")]["$include?"](d))&&U.$throw(d,b.$$is_lambda),I=W(I,d)},{$$ret:U}),I}catch(b){if(b===U)return b.$v;throw b}finally{U.is_orphan=!0}},-1),E(R,"$rewind",function(){var S=this;return ee(S.iterated,"reverse_each",[],function(p){return p==null&&(p=K),N(p["$respond_to?"]("rewind"))?p.$rewind():K}),S.iterated=[],S}),E(R,"$inspect",function(){var S=this;return"#<Enumerator::Chain: "+S.enums.$inspect()+">"})}(ne,ne)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(r){var y=r.deny_frozen_access,F=r.klass,V=r.truthy,E=r.Kernel,ee=r.def,Q=r.slice,N=r.send,W=[],g=r.nil,K=r.$$$;return r.add_stubs("include,raise,new,to_proc"),function(ie,J,G){var ne=F(ie,J,"Enumerator"),Z=[ne].concat(G);return function(w,R,P){var X=F(w,R,"Generator"),S=[X].concat(P),U=r.$r(S),p=X.$$prototype;return p.block=g,X.$include(K("Enumerable")),ee(X,"$initialize",function x(){var D=x.$$p||g,I=this;return x.$$p=null,y(I),V(D)||E.$raise(K("LocalJumpError"),"no block given"),I.block=D}),ee(X,"$each",function x(D){var I=x.$$p||g,b,s,d=this,k=g;x.$$p=null,b=Q(arguments),s=b,k=N(U("Yielder"),"new",[],I.$to_proc());try{s.unshift(k),r.yieldX(d.block,s)}catch(h){if(h&&h.$thrower_type=="breaker")return h.$v;throw h}return d},-1)}(Z[0],null,Z)}(W[0],null,W)};Opal.modules["corelib/enumerator/lazy"]=function(r){var y=r.truthy,F=r.coerce_to,V=r.yield1,E=r.yieldX,ee=r.deny_frozen_access,Q=r.klass,N=r.slice,W=r.send2,g=r.find_super,K=r.to_a,ie=r.defs,J=r.Kernel,G=r.send,ne=r.def,Z=r.return_self,w=r.Opal,R=r.rb_lt,P=r.eqeqeq,X=r.rb_plus,S=r.alias,U=[],p=r.nil,x=r.$$$;return r.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(D,I,b){var s=Q(D,I,"Enumerator"),d=[s].concat(b);return function(k,h,_){var o=Q(k,h,"Lazy"),H=[o].concat(_),j=r.$r(H),c=o.$$prototype;return c.enumerator=p,Q(o,x("Exception"),"StopLazyError"),ie(o,"$for",function f(a,t){var n,e,$=f.$$p||p,i=this,u=p;return f.$$p=null,n=N(arguments,1),e=n,u=W(i,g(i,"for",f,!1,!0),"for",[a].concat(K(e)),$),u.enumerator=a,u},-2),ne(o,"$initialize",function f(a,t){var n=f.$$p||p,e=this;return f.$$p=null,t==null&&(t=p),ee(e),n===p&&J.$raise(x("ArgumentError"),"tried to call lazy new without a block"),e.enumerator=a,W(e,g(e,"initialize",f,!1,!0),"initialize",[t],function(i,u){var m,z;i==null&&(i=p),m=N(arguments,1),z=m;try{return G(a,"each",K(z),function(A){var L,O;L=N(arguments),O=L,O.unshift(i),E(n,O)},-1)}catch(M){if(r.rescue(M,[j("StopLazyError")]))try{return p}finally{r.pop_exception(M)}else throw M}},-2)},-2),ne(o,"$lazy",Z),ne(o,"$collect",function f(){var a=f.$$p||p,t=this;return f.$$p=null,y(a)||J.$raise(x("ArgumentError"),"tried to call lazy map without a block"),G(j("Lazy"),"new",[t,t.$enumerator_size()],function(e,$){var i,u;e==null&&(e=p),i=N(arguments,1),u=i;var m=E(a,u);e.$yield(m)},-2)}),ne(o,"$collect_concat",function f(){var a=f.$$p||p,t=this;return f.$$p=null,y(a)||J.$raise(x("ArgumentError"),"tried to call lazy map without a block"),G(j("Lazy"),"new",[t,p],function(e,$){var i,u;e==null&&(e=p),i=N(arguments,1),u=i;var m=E(a,u);if(m["$respond_to?"]("force")&&m["$respond_to?"]("each"))G(m,"each",[],function(A){return A==null&&(A=p),e.$yield(A)});else{var z=w.$try_convert(m,x("Array"),"to_ary");z===p?e.$yield(m):G(m,"each",[],function(A){return A==null&&(A=p),e.$yield(A)})}},-2)}),ne(o,"$drop",function(a){var t=this,n=p,e=p,$=p;return a=F(a,x("Integer"),"to_int"),y(R(a,0))&&J.$raise(x("ArgumentError"),"attempt to drop negative size"),n=t.$enumerator_size(),e=P(x("Integer"),n)&&y(R(a,n))?a:n,$=0,G(j("Lazy"),"new",[t,e],function(u,m){var z,M;return u==null&&(u=p),z=N(arguments,1),M=z,y(R($,a))?$=X($,1):G(u,"yield",K(M))},-2)}),ne(o,"$drop_while",function f(){var a=f.$$p||p,t=this,n=p;return f.$$p=null,y(a)||J.$raise(x("ArgumentError"),"tried to call lazy drop_while without a block"),n=!0,G(j("Lazy"),"new",[t,p],function($,i){var u,m;if($==null&&($=p),u=N(arguments,1),m=u,y(n)){var z=E(a,m);y(z)||(n=!1,G($,"yield",K(m)))}else return G($,"yield",K(m))},-2)}),ne(o,"$enum_for",function f(a,t){var n=f.$$p||p,e,$,i,u=this;return f.$$p=null,e=N(arguments),e.length>0&&($=e.shift()),$==null&&($="each"),i=e,G(u.$class(),"for",[u,$].concat(K(i)),n.$to_proc())},-1),ne(o,"$find_all",function f(){var a=f.$$p||p,t=this;return f.$$p=null,y(a)||J.$raise(x("ArgumentError"),"tried to call lazy select without a block"),G(j("Lazy"),"new",[t,p],function(e,$){var i,u;e==null&&(e=p),i=N(arguments,1),u=i;var m=E(a,u);y(m)&&G(e,"yield",K(u))},-2)}),ne(o,"$grep",function f(a){var t=f.$$p||p,n=this;return f.$$p=null,y(t)?G(j("Lazy"),"new",[n,p],function($,i){var u,m;$==null&&($=p),u=N(arguments,1),m=u;var z=w.$destructure(m),M=a["$==="](z);y(M)&&(M=V(t,z),$.$yield(V(t,z)))},-2):G(j("Lazy"),"new",[n,p],function($,i){var u,m;$==null&&($=p),u=N(arguments,1),m=u;var z=w.$destructure(m),M=a["$==="](z);y(M)&&$.$yield(z)},-2)}),ne(o,"$reject",function f(){var a=f.$$p||p,t=this;return f.$$p=null,y(a)||J.$raise(x("ArgumentError"),"tried to call lazy reject without a block"),G(j("Lazy"),"new",[t,p],function(e,$){var i,u;e==null&&(e=p),i=N(arguments,1),u=i;var m=E(a,u);y(m)||G(e,"yield",K(u))},-2)}),ne(o,"$take",function(a){var t=this,n=p,e=p,$=p;return a=F(a,x("Integer"),"to_int"),y(R(a,0))&&J.$raise(x("ArgumentError"),"attempt to take negative size"),n=t.$enumerator_size(),e=P(x("Integer"),n)&&y(R(a,n))?a:n,$=0,G(j("Lazy"),"new",[t,e],function(u,m){var z,M;return u==null&&(u=p),z=N(arguments,1),M=z,y(R($,a))?(G(u,"yield",K(M)),$=X($,1)):J.$raise(j("StopLazyError"))},-2)}),ne(o,"$take_while",function f(){var a=f.$$p||p,t=this;return f.$$p=null,y(a)||J.$raise(x("ArgumentError"),"tried to call lazy take_while without a block"),G(j("Lazy"),"new",[t,p],function(e,$){var i,u;e==null&&(e=p),i=N(arguments,1),u=i;var m=E(a,u);y(m)?G(e,"yield",K(u)):J.$raise(j("StopLazyError"))},-2)}),ne(o,"$inspect",function(){var a=this;return"#<"+a.$class()+": "+a.enumerator.$inspect()+">"}),S(o,"force","to_a"),S(o,"filter","find_all"),S(o,"flat_map","collect_concat"),S(o,"map","collect"),S(o,"select","find_all"),S(o,"to_enum","enum_for")}(s,s,d)}("::",null,U)};Opal.modules["corelib/enumerator/yielder"]=function(r){var y=r.klass,F=r.def,V=r.slice,E=r.send,ee=r.to_a,Q=[],N=r.nil;return r.add_stubs("yield,proc"),function(W,g,K){var ie=y(W,g,"Enumerator"),J=[ie].concat(K);return function(G,ne){var Z=y(G,ne,"Yielder"),w=Z.$$prototype;return w.block=N,F(Z,"$initialize",function R(){var P=R.$$p||N,X=this;return R.$$p=null,X.block=P,X}),F(Z,"$yield",function(P){var X,S,U=this;X=V(arguments),S=X;var p=r.yieldX(U.block,S);if(p&&p.$thrower_type=="break")throw p;return p},-1),F(Z,"$<<",function(P){var X=this;return X.$yield(P),X}),F(Z,"$to_proc",function(){var P=this;return E(P,"proc",[],function X(S){var U,p,x=X.$$s==null?this:X.$$s;return U=V(arguments),p=U,E(x,"yield",ee(p))},{$$arity:-1,$$s:P})})}(J[0],null)}(Q[0],null,Q)};Opal.modules["corelib/enumerator"]=function(r){var y=r.slice,F=r.coerce_to,V=r.deny_frozen_access,E=r.klass,ee=r.defs,Q=r.truthy,N=r.send,W=r.not,g=r.def,K=r.rb_plus,ie=r.to_a,J=r.Opal,G=r.send2,ne=r.find_super,Z=r.rb_ge,w=r.Kernel,R=r.rb_le,P=r.alias,X=r.top,S=[],U=r.nil,p=r.$$$;return r.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),X.$require("corelib/enumerable"),function(x,D,I){var b=E(x,D,"Enumerator"),s=[b].concat(I),d=r.$r(s),k=b.$$prototype;return k.size=k.args=k.object=k.method=k.values=k.cursor=U,b.$include(p("Enumerable")),b.$$prototype.$$is_enumerator=!0,ee(b,"$for",function h(_,o,H){var j=h.$$p||U,c,f,a,t=this;h.$$p=null,c=y(arguments,1),c.length>0&&(f=c.shift()),f==null&&(f="each"),a=c;var n=t.$allocate();return n.object=_,n.size=j,n.method=f,n.args=a,n.cursor=0,n},-2),g(b,"$initialize",function h(_){var o=h.$$p||U,H=this;return h.$$p=null,y(arguments),V(H),H.cursor=0,Q(o)?(H.object=N(d("Generator"),"new",[],o.$to_proc()),H.method="each",H.args=[],H.size=arguments[0]||U,Q(H.size)&&W(H.size["$respond_to?"]("call"))?H.size=F(H.size,p("Integer"),"to_int"):U):(H.object=arguments[0],H.method=arguments[1]||"each",H.args=y(arguments,2),H.size=U)},-1),g(b,"$each",function h(_){var o=h.$$p||U,H,j,c=this;return h.$$p=null,H=y(arguments),j=H,Q(o["$nil?"]())&&Q(j["$empty?"]())?c:(j=K(c.args,j),Q(o["$nil?"]())?N(c.$class(),"new",[c.object,c.method].concat(ie(j))):N(c.object,"__send__",[c.method].concat(ie(j)),o.$to_proc()))},-1),g(b,"$size",function(){var _=this;return Q(_.size["$respond_to?"]("call"))?N(_.size,"call",ie(_.args)):_.size}),g(b,"$with_index",function h(_){var o=h.$$p||U,H=this;if(h.$$p=null,_==null&&(_=0),_=Q(_)?F(_,p("Integer"),"to_int"):0,!Q(o))return N(H,"enum_for",["with_index",_],function c(){var f=c.$$s==null?this:c.$$s;return f.$size()},{$$s:H});var j=_;return H.$each.$$p=function(){var c=J.$destructure(arguments),f=o(c,j);return j++,f},H.$each()},-1),g(b,"$each_with_index",function h(){var _=h.$$p||U,o=this;return h.$$p=null,_===U?N(o,"enum_for",["each_with_index"],function H(){var j=H.$$s==null?this:H.$$s;return j.$size()},{$$s:o}):(G(o,ne(o,"each_with_index",h,!1,!0),"each_with_index",[],_),o.object)}),g(b,"$rewind",function(){var _=this;return _.cursor=0,_}),g(b,"$peek_values",function(){var _=this,o=U;return _.values=Q(o=_.values)?o:N(_,"map",[],function(j){var c,f;return c=y(arguments),f=c,f},-1),Q(Z(_.cursor,_.values.$length()))&&w.$raise(p("StopIteration"),"iteration reached an end"),_.values["$[]"](_.cursor)}),g(b,"$peek",function(){var _=this,o=U;return o=_.$peek_values(),Q(R(o.$length(),1))?o["$[]"](0):o}),g(b,"$next_values",function(){var _=this,o=U;return o=_.$peek_values(),_.cursor=K(_.cursor,1),o}),g(b,"$next",function(){var _=this,o=U;return o=_.$next_values(),Q(R(o.$length(),1))?o["$[]"](0):o}),g(b,"$feed",function(_){var o=this;return o.$raise(d("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),g(b,"$+",function(_){var o=this;return p(p("Enumerator"),"Chain").$new(o,_)}),g(b,"$inspect",function(){var _=this,o=U;return o="#<"+_.$class()+": "+_.object.$inspect()+":"+_.method,Q(_.args["$any?"]())&&(o=K(o,"("+_.args.$inspect()["$[]"](p("Range").$new(1,-2))+")")),K(o,">")}),P(b,"with_object","each_with_object"),b.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),b.$autoload("Chain","corelib/enumerator/chain"),b.$autoload("Generator","corelib/enumerator/generator"),b.$autoload("Lazy","corelib/enumerator/lazy"),b.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,S)};Opal.modules["corelib/numeric"]=function(r){var y=r.klass,F=r.truthy,V=r.Kernel,E=r.def,ee=r.to_ary,Q=r.return_self,N=r.rb_minus,W=r.rb_times,g=r.rb_lt,K=r.eqeq,ie=r.rb_divide,J=r.return_val,G=r.Opal,ne=r.slice,Z=r.extract_kwargs,w=r.ensure_kwargs,R=r.hash_get,P=r.not,X=r.send,S=r.rb_ge,U=r.rb_le,p=r.rb_plus,x=r.rb_gt,D=r.alias,I=r.top,b=r.nil,s=r.$$$;return r.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),I.$require("corelib/comparable"),function(d,k){var h=y(d,k,"Numeric");return h.$include(s("Comparable")),E(h,"$coerce",function(o){var H=this;return F(o["$instance_of?"](H.$class()))?[o,H]:[V.$Float(o),V.$Float(H)]}),E(h,"$__coerced__",function(o,H){var j,c,f=this,a=b,t=b;if(F(H["$respond_to?"]("coerce")))return c=H.$coerce(f),j=ee(c),a=j[0]==null?b:j[0],t=j[1]==null?b:j[1],a.$__send__(o,t);switch(o.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return V.$raise(s("TypeError"),""+H.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return V.$raise(s("ArgumentError"),"comparison of "+f.$class()+" with "+H.$class()+" failed");default:return b}}),E(h,"$<=>",function(o){var H=this;return F(H["$equal?"](o))?0:b}),E(h,"$+@",Q),E(h,"$-@",function(){var o=this;return N(0,o)}),E(h,"$%",function(o){var H=this;return N(H,W(o,H.$div(o)))}),E(h,"$abs",function(){var o=this;return F(g(o,0))?o["$-@"]():o}),E(h,"$abs2",function(){var o=this;return W(o,o)}),E(h,"$angle",function(){var o=this;return F(g(o,0))?s(s("Math"),"PI"):0}),E(h,"$ceil",function(o){var H=this;return o==null&&(o=0),H.$to_f().$ceil(o)},-1),E(h,"$conj",Q),E(h,"$denominator",function(){var o=this;return o.$to_r().$denominator()}),E(h,"$div",function(o){var H=this;return K(o,0)&&V.$raise(s("ZeroDivisionError"),"divided by o"),ie(H,o).$floor()}),E(h,"$divmod",function(o){var H=this;return[H.$div(o),H["$%"](o)]}),E(h,"$fdiv",function(o){var H=this;return ie(H.$to_f(),o)}),E(h,"$floor",function(o){var H=this;return o==null&&(o=0),H.$to_f().$floor(o)},-1),E(h,"$i",function(){var o=this;return V.$Complex(0,o)}),E(h,"$imag",J(0)),E(h,"$integer?",J(!1)),E(h,"$nonzero?",function(){var o=this;return F(o["$zero?"]())?b:o}),E(h,"$numerator",function(){var o=this;return o.$to_r().$numerator()}),E(h,"$polar",function(){var o=this;return[o.$abs(),o.$arg()]}),E(h,"$quo",function(o){var H=this;return ie(G["$coerce_to!"](H,s("Rational"),"to_r"),o)}),E(h,"$real",Q),E(h,"$real?",J(!0)),E(h,"$rect",function(){var o=this;return[o,0]}),E(h,"$round",function(o){var H=this;return H.$to_f().$round(o)},-1),E(h,"$step",function _(o,H,j){var c=_.$$p||b,f,a,t,n,e,$,i=this,u=b;_.$$p=null,f=ne(arguments),a=Z(f),a=w(a),f.length>0&&(t=f.shift()),f.length>0&&(n=f.shift()),e=R(a,"to"),$=R(a,"by"),t!==void 0&&e!==void 0&&V.$raise(s("ArgumentError"),"to is given twice"),n!==void 0&&$!==void 0&&V.$raise(s("ArgumentError"),"step is given twice"),e!==void 0&&(t=e),$!==void 0&&(n=$),t===void 0&&(t=b);function m(){n===b&&V.$raise(s("TypeError"),"step must be numeric"),n!=null&&n["$=="](0)&&V.$raise(s("ArgumentError"),"step can't be 0"),(n===b||n==null)&&(n=1);var ge=n["$<=>"](0);ge===b&&V.$raise(s("ArgumentError"),"0 can't be coerced into "+n.$class()),(t===b||t==null)&&(t=ge>0?s(s("Float"),"INFINITY"):s(s("Float"),"INFINITY")["$-@"]()),G.$compare(i,t)}function z(){if(n>0&&i>t||n<0&&i<t)return 0;if(n===1/0||n===-1/0)return 1;var ge=Math.abs,ve=Math.floor,me=(ge(i)+ge(t)+ge(t-i))/ge(n)*s(s("Float"),"EPSILON");return me===1/0||me===-1/0?0:(me>.5&&(me=.5),ve((t-i)/n+me)+1)}function M(){if(m(),n===0)return 1/0;if(n%1!==0)return z();if(n>0&&i>t||n<0&&i<t)return 0;var ge=Math.ceil,ve=Math.abs,me=ve(i-t)+1,be=ve(n);return ge(me/be)}if(c===b)return(P(t)||F(t["$is_a?"](s("Numeric"))))&&(P(n)||F(n["$is_a?"](s("Numeric"))))?s(s("Enumerator"),"ArithmeticSequence").$new([t,n,F(e)?"to: ":b,F($)?"by: ":b],i):X(i,"enum_for",["step",t,n],M.$to_proc());m();var A=n["$negative?"](),L=n["$=="](0)||t===1/0&&!A||t===-1/0&&A;if(i.$$is_number&&n.$$is_number&&t.$$is_number)if(i%1===0&&(L||t%1===0)&&n%1===0){var O=i;if(L)for(;;O+=n)c(O);else if(A)for(;O>=t;O+=n)c(O);else for(;O<=t;O+=n)c(O);return i}else{var ae=i.$to_f().valueOf();n=n.$to_f().valueOf(),t=t.$to_f().valueOf();var le=z();if(!isFinite(n))le!==0&&c(ae);else if(n===0)for(;;)c(ae);else for(var _e=0;_e<le;_e++){var de=_e*n+i;(n>=0?t<de:t>de)&&(de=t),c(de)}return i}for(u=i;F(A?S(u,t):U(u,t));)r.yield1(c,u),u=p(u,n)},-1),E(h,"$to_c",function(){var o=this;return V.$Complex(o,0)}),E(h,"$to_int",function(){var o=this;return o.$to_i()}),E(h,"$truncate",function(o){var H=this;return o==null&&(o=0),H.$to_f().$truncate(o)},-1),E(h,"$zero?",function(){var o=this;return o["$=="](0)}),E(h,"$positive?",function(){var o=this;return x(o,0)}),E(h,"$negative?",function(){var o=this;return g(o,0)}),E(h,"$dup",Q),E(h,"$clone",function(o){var H=this;return o=w(o),R(o,"freeze"),H},-1),E(h,"$finite?",J(!0)),E(h,"$infinite?",J(b)),D(h,"arg","angle"),D(h,"conjugate","conj"),D(h,"imaginary","imag"),D(h,"magnitude","abs"),D(h,"modulo","%"),D(h,"phase","arg"),D(h,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(r){var y=r.truthy,F=r.falsy,V=r.yield1,E=r.hash_get,ee=r.hash_put,Q=r.hash_delete,N=r.coerce_to,W=r.respond_to,g=r.deny_frozen_access,K=r.freeze,ie=r.opal32_init,J=r.opal32_add,G=r.klass,ne=r.slice,Z=r.defs,w=r.Kernel,R=r.def,P=r.Opal,X=r.eqeqeq,S=r.send2,U=r.find_super,p=r.send,x=r.rb_gt,D=r.rb_times,I=r.eqeq,b=r.rb_minus,s=r.to_a,d=r.to_ary,k=r.gvars,h=r.rb_ge,_=r.assign_ivar,o=r.rb_lt,H=r.return_self,j=r.neqeq,c=r.alias,f=r.top,a=[],t=r.nil,n=r.$$$;return r.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),f.$require("corelib/enumerable"),f.$require("corelib/numeric"),function(e,$,i){var u=G(e,$,"Array"),m=[u].concat(i),z=r.$r(m);u.$include(n("Enumerable")),r.prop(u.$$prototype,"$$is_array",!0);function M($e){for(var q=$e[0],T=1,B=$e.length;T<B;T++)$e[T-1]=$e[T];return $e.pop(),q}function A($e,q){return q.$$name===r.Array?$e:q.$allocate().$replace($e.$to_a())}function L($e,q,T){for(var B,Y=null,te=new Array($e.length),se=0,oe=0;se<$e.length;se++){if(!Y)try{B=V(T,$e[se])}catch(fe){Y=fe}(Y||q(B))&&(te[oe]=$e[se],oe+=1)}if(oe!==se&&($e.splice.apply($e,[0,te.length].concat(te)),$e.splice(oe,te.length)),Y)throw Y}function O($e){return $e.$$is_array||($e=N($e,n("Array"),"to_ary")),$e.$to_a()}function ae($e,q){var T=q.length;if(T>6&&T<32767)$e.push.apply($e,q);else for(var B=0;B<T;B++)$e.push(q[B])}Z(u,"$[]",function(q){var T,B,Y=this;return T=ne(arguments),B=T,A(B,Y)},-1),R(u,"$initialize",function $e(q,T){var B=$e.$$p||t,Y=this;if($e.$$p=null,q==null&&(q=t),T==null&&(T=t),g(Y),T!==t&&B!==t&&w.$warn("warning: block supersedes default value argument"),q>n(n("Integer"),"MAX")&&w.$raise(n("ArgumentError"),"array size too big"),arguments.length>2&&w.$raise(n("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return Y.length>0&&Y.splice(0,Y.length),Y;if(arguments.length===1){if(q.$$is_array)return Y.$replace(q.$to_a()),Y;if(q["$respond_to?"]("to_ary"))return Y.$replace(q.$to_ary()),Y}q=N(q,n("Integer"),"to_int"),q<0&&w.$raise(n("ArgumentError"),"negative array size"),Y.splice(0,Y.length);var te,se;if(B===t)for(te=0;te<q;te++)Y.push(T);else for(te=0,se;te<q;te++)se=B(te),Y[te]=se;return Y},-1),Z(u,"$try_convert",function(q){return P["$coerce_to?"](q,n("Array"),"to_ary")}),R(u,"$&",function(q){var T=this;if(q=O(q),T.length===0||q.length===0)return[];var B=[],Y=new Map,te,se,oe;for(te=0,se=q.length;te<se;te++)ee(Y,q[te],!0);for(te=0,se=T.length;te<se;te++)oe=T[te],Q(Y,oe)!==void 0&&B.push(oe);return B}),R(u,"$|",function(q){var T=this;q=O(q);var B=new Map,Y,te;for(Y=0,te=T.length;Y<te;Y++)ee(B,T[Y],!0);for(Y=0,te=q.length;Y<te;Y++)ee(B,q[Y],!0);return B.$keys()}),R(u,"$*",function(q){var T=this;if(y(q["$respond_to?"]("to_str")))return T.$join(q.$to_str());q=N(q,n("Integer"),"to_int"),y(q<0)&&w.$raise(n("ArgumentError"),"negative argument");for(var B=[],Y=T.$to_a(),te=0;te<q;te++)B=B.concat(Y);return B}),R(u,"$+",function(q){var T=this;return q=O(q),T.concat(q)}),R(u,"$-",function(q){var T=this;if(q=O(q),y(T.length===0))return[];if(y(q.length===0))return T.slice();var B=[],Y=new Map,te,se,oe;for(te=0,se=q.length;te<se;te++)ee(Y,q[te],!0);for(te=0,se=T.length;te<se;te++)oe=T[te],E(Y,oe)===void 0&&B.push(oe);return B}),R(u,"$<<",function(q){var T=this;return g(T),T.push(q),T}),R(u,"$<=>",function(q){var T=this;if(X(n("Array"),q))q=q.$to_a();else if(y(q["$respond_to?"]("to_ary")))q=q.$to_ary().$to_a();else return t;if(T===q)return 0;for(var B=Math.min(T.length,q.length),Y=0;Y<B;Y++){var te=T[Y]["$<=>"](q[Y]);if(te!==0)return te}return T.length["$<=>"](q.length)}),R(u,"$==",function(q){var T=this,B={};function Y(te,se){var oe,fe,l,v;if(te===se)return!0;if(!se.$$is_array)return W(se,"$to_ary")?se["$=="](te):!1;if(te.$$constructor!==Array&&(te=te.$to_a()),se.$$constructor!==Array&&(se=se.$to_a()),te.length!==se.length)return!1;for(B[te.$object_id()]=!0,oe=0,fe=te.length;oe<fe;oe++)if(l=te[oe],v=se[oe],l.$$is_array){if(v.$$is_array&&v.length!==l.length||!B.hasOwnProperty(l.$object_id())&&!Y(l,v))return!1}else if(!l["$=="](v))return!1;return!0}return Y(T,q)});function le($e,q){var T=$e.length,B,Y,te,se;return B=q.excl,Y=q.begin===t?0:N(q.begin,r.Integer,"to_int"),te=q.end===t?-1:N(q.end,r.Integer,"to_int"),Y<0&&(Y+=T,Y<0)||(q.excl_rev&&q.begin!==t&&(Y+=1),Y>T)?t:te<0&&(te+=T,te<0)?[]:((!B||q.end===t)&&(te+=1),se=$e.slice(Y,te),se)}function _e($e,q){var T,B=[],Y=0,te;for(q.step<0?(te={begin:q.range.end,end:q.range.begin,excl:!1,excl_rev:q.range.excl},T=le($e,te).$reverse()):T=le($e,q.range);Y<T.length;)B.push(T[Y]),Y+=Math.abs(q.step);return B}function de($e,q,T){var B=$e.length,Y;return q=N(q,r.Integer,"to_int"),q<0&&(q+=B,q<0)?t:T===void 0?q>=B||q<0?t:$e[q]:(T=N(T,r.Integer,"to_int"),T<0||q>B||q<0?t:(Y=$e.slice(q,q+T),Y))}R(u,"$[]",function(q,T){var B=this;return q.$$is_range?le(B,q):q.$$is_arithmetic_seq?_e(B,q):de(B,q,T)},-2),R(u,"$[]=",function(q,T,B){var Y=this,te=t,se=t;g(Y),te=t;var oe,fe=Y.length;if(q.$$is_range){T.$$is_array?te=T.$to_a():T["$respond_to?"]("to_ary")?te=T.$to_ary().$to_a():te=[T];var l=q.excl,v=q.begin===t?0:N(q.begin,r.Integer,"to_int"),C=q.end===t?-1:N(q.end,r.Integer,"to_int");if(v<0&&(v+=fe,v<0&&w.$raise(n("RangeError"),""+q.$inspect()+" out of range")),C<0&&(C+=fe),(!l||q.end===t)&&(C+=1),v>fe)for(oe=fe;oe<v;oe++)Y[oe]=t;return C<0?Y.splice.apply(Y,[v,0].concat(te)):Y.splice.apply(Y,[v,C-v].concat(te)),T}else{B===void 0?se=1:(se=T,T=B,T.$$is_array?te=T.$to_a():T["$respond_to?"]("to_ary")?te=T.$to_ary().$to_a():te=[T]);var re;if(q=N(q,n("Integer"),"to_int"),se=N(se,n("Integer"),"to_int"),q<0&&(re=q,q+=fe,q<0&&w.$raise(n("IndexError"),"index "+re+" too small for array; minimum "+-Y.length)),se<0&&w.$raise(n("IndexError"),"negative length ("+se+")"),q>fe)for(oe=fe;oe<q;oe++)Y[oe]=t;return B===void 0?Y[q]=T:Y.splice.apply(Y,[q,se].concat(te)),T}},-3),R(u,"$any?",function $e(q){var T=$e.$$p||t,B=this;return $e.$$p=null,B.length===0?!1:S(B,U(B,"any?",$e,!1,!0),"any?",[q],T)},-1),R(u,"$assoc",function(q){for(var T=this,B=0,Y=T.length,te;B<Y;B++)if(te=T[B],te.length&&te[0]["$=="](q))return te;return t}),R(u,"$at",function(q){var T=this;return q=N(q,n("Integer"),"to_int"),q<0&&(q+=T.length),q<0||q>=T.length?t:T[q]}),R(u,"$bsearch_index",function $e(){var q=$e.$$p||t,T=this;if($e.$$p=null,q===t)return T.$enum_for("bsearch_index");for(var B=0,Y=T.length,te,se,oe,fe=!1,l=t;B<Y;){if(te=B+Math.floor((Y-B)/2),se=T[te],oe=V(q,se),oe===!0)l=te,fe=!0;else if(oe===!1||oe===t)fe=!1;else if(oe.$$is_number){if(oe===0)return te;fe=oe<0}else w.$raise(n("TypeError"),"wrong argument type "+oe.$class()+" (must be numeric, true, false or nil)");fe?Y=te:B=te+1}return l}),R(u,"$bsearch",function $e(){var q=$e.$$p||t,T=this,B=t;return $e.$$p=null,q===t?T.$enum_for("bsearch"):(B=p(T,"bsearch_index",[],q.$to_proc()),B!=null&&B.$$is_number?T[B]:B)}),R(u,"$cycle",function $e(q){var T=$e.$$p||t,B=this;if($e.$$p=null,q==null&&(q=t),T===t)return p(B,"enum_for",["cycle",q],function se(){var oe=se.$$s==null?this:se.$$s;return y(q["$nil?"]())?n(n("Float"),"INFINITY"):(q=P["$coerce_to!"](q,n("Integer"),"to_int"),y(x(q,0))?D(oe.$enumerator_size(),q):0)},{$$s:B});if(y(B["$empty?"]())||I(q,0))return t;var Y,te;if(q===t)for(;;)for(Y=0,te=B.length;Y<te;Y++)V(T,B[Y]);else{if(q=P["$coerce_to!"](q,n("Integer"),"to_int"),q<=0)return B;for(;q>0;){for(Y=0,te=B.length;Y<te;Y++)V(T,B[Y]);q--}}return B},-1),R(u,"$clear",function(){var q=this;return g(q),q.splice(0,q.length),q}),R(u,"$count",function $e(q){var T=$e.$$p||t,B=this;return $e.$$p=null,y(q!==void 0)||y(T)?S(B,U(B,"count",$e,!1,!0),"count",[q],T):B.$size()},-1),R(u,"$initialize_copy",function(q){var T=this;return T.$replace(q)}),R(u,"$collect",function $e(){var q=$e.$$p||t,T=this;if($e.$$p=null,q===t)return p(T,"enum_for",["collect"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:T});for(var B=[],Y=0;Y<T.length;Y++){var te=V(q,T[Y]);B[Y]=te}return B}),R(u,"$collect!",function $e(){var q=$e.$$p||t,T=this;if($e.$$p=null,q===t)return p(T,"enum_for",["collect!"],function te(){var se=te.$$s==null?this:te.$$s;return se.$size()},{$$s:T});g(T);for(var B=0;B<T.length;B++){var Y=V(q,T[B]);T[B]=Y}return T});function ge($e,q){return $e===q||q===0?1:q>0&&$e>q?ge($e-1,q-1)+ge($e-1,q):0}R(u,"$combination",function $e(q){var T=$e.$$p||t,B=this,Y=t;if($e.$$p=null,Y=P["$coerce_to!"](q,n("Integer"),"to_int"),T===t)return p(B,"enum_for",["combination",Y],function re(){var ue=re.$$s==null?this:re.$$s;return ge(ue.length,Y)},{$$s:B});var te,se,oe,fe,l,v,C;if(Y===0)r.yield1(T,[]);else if(Y===1)for(te=0,se=B.length;te<se;te++)r.yield1(T,[B[te]]);else if(Y===B.length)r.yield1(T,B.slice());else if(Y>=0&&Y<B.length){for(oe=[],te=0;te<=Y+1;te++)oe.push(0);for(fe=[],l=0,v=!1,oe[0]=-1;!v;){for(fe[l]=B[oe[l+1]];l<Y-1;)l++,C=oe[l+1]=oe[l]+1,fe[l]=B[C];r.yield1(T,fe.slice()),l++;do v=l===0,oe[l]++,l--;while(oe[l+1]+Y===B.length+l+1)}}return B}),R(u,"$repeated_combination",function $e(q){var T=$e.$$p||t,B=this,Y=t;if($e.$$p=null,Y=P["$coerce_to!"](q,n("Integer"),"to_int"),T===t)return p(B,"enum_for",["repeated_combination",Y],function se(){var oe=se.$$s==null?this:se.$$s;return ge(oe.length+Y-1,Y)},{$$s:B});function te(se,oe,fe,l){if(fe.length==se){var v=fe.slice();r.yield1(T,v);return}for(var C=oe;C<l.length;C++)fe.push(l[C]),te(se,C,fe,l),fe.pop()}return Y>=0&&te(Y,0,[],B),B}),R(u,"$compact",function(){for(var q=this,T=[],B=0,Y=q.length,te;B<Y;B++)(te=q[B])!==t&&T.push(te);return T}),R(u,"$compact!",function(){var q=this;g(q);for(var T=q.length,B=0,Y=q.length;B<Y;B++)q[B]===t&&(q.splice(B,1),Y--,B--);return q.length===T?t:q}),R(u,"$concat",function(q){var T,B,Y=this;return T=ne(arguments),B=T,g(Y),B=p(B,"map",[],function te(se){var oe=te.$$s==null?this:te.$$s;return se==null&&(se=t),se=O(se),y(se["$equal?"](oe))&&(se=se.$dup()),se},{$$s:Y}),p(B,"each",[],function te(se){var oe=te.$$s==null?this:te.$$s;se==null&&(se=t);for(var fe=0,l=se.length;fe<l;fe++)oe.push(se[fe])},{$$s:Y}),Y},-1),R(u,"$delete",function $e(q){var T=$e.$$p||t,B=this;$e.$$p=null;for(var Y=B.length,te=0,se=Y;te<se;te++)B[te]["$=="](q)&&(g(B),B.splice(te,1),se--,te--);return B.length===Y?T!==t?r.yieldX(T,[]):t:q}),R(u,"$delete_at",function(q){var T=this;if(g(T),q=N(q,n("Integer"),"to_int"),q<0&&(q+=T.length),q<0||q>=T.length)return t;var B=T[q];return T.splice(q,1),B}),R(u,"$delete_if",function $e(){var q=$e.$$p||t,T=this;return $e.$$p=null,q===t?p(T,"enum_for",["delete_if"],function B(){var Y=B.$$s==null?this:B.$$s;return Y.$size()},{$$s:T}):(g(T),L(T,F,q),T)}),R(u,"$difference",function(q){var T,B,Y=this;return T=ne(arguments),B=T,p(B,"reduce",[Y.$to_a().$dup()],function(se,oe){return se==null&&(se=t),oe==null&&(oe=t),b(se,oe)})},-1),R(u,"$dig",function(q,T){var B,Y,te=this,se=t;return B=ne(arguments,1),Y=B,se=te["$[]"](q),se===t||Y.length===0?se:(y(se["$respond_to?"]("dig"))||w.$raise(n("TypeError"),""+se.$class()+" does not have #dig method"),p(se,"dig",s(Y)))},-2),R(u,"$drop",function(q){var T=this;return q=N(q,n("Integer"),"to_int"),q<0&&w.$raise(n("ArgumentError")),T.slice(q)}),R(u,"$dup",function $e(){var q=$e.$$p||t,T=this;return $e.$$p=null,T.$$class===r.Array&&T.$$class.$allocate.$$pristine&&T.$copy_instance_variables.$$pristine&&T.$initialize_dup.$$pristine?T.slice(0):S(T,U(T,"dup",$e,!1,!0),"dup",[],q)}),R(u,"$each",function $e(){var q=$e.$$p||t,T=this;if($e.$$p=null,q===t)return p(T,"enum_for",["each"],function Y(){var te=Y.$$s==null?this:Y.$$s;return te.$size()},{$$s:T});for(var B=0;B<T.length;B++)V(q,T[B]);return T}),R(u,"$each_index",function $e(){var q=$e.$$p||t,T=this;if($e.$$p=null,q===t)return p(T,"enum_for",["each_index"],function Y(){var te=Y.$$s==null?this:Y.$$s;return te.$size()},{$$s:T});for(var B=0;B<T.length;B++)V(q,B);return T}),R(u,"$empty?",function(){var q=this;return q.length===0}),R(u,"$eql?",function(q){var T=this,B={};function Y(te,se){var oe,fe,l,v;if(!se.$$is_array||(se=se.$to_a(),te.length!==se.length))return!1;for(B[te.$object_id()]=!0,oe=0,fe=te.length;oe<fe;oe++)if(l=te[oe],v=se[oe],l.$$is_array){if(v.$$is_array&&v.length!==l.length||!B.hasOwnProperty(l.$object_id())&&!Y(l,v))return!1}else if(!l["$eql?"](v))return!1;return!0}return Y(T,q)}),R(u,"$fetch",function $e(q,T){var B=$e.$$p||t,Y=this;$e.$$p=null;var te=q;if(q=N(q,n("Integer"),"to_int"),q<0&&(q+=Y.length),q>=0&&q<Y.length)return Y[q];if(B!==t&&T!=null&&Y.$warn("warning: block supersedes default value argument"),B!==t)return B(te);if(T!=null)return T;Y.length===0?w.$raise(n("IndexError"),"index "+te+" outside of array bounds: 0...0"):w.$raise(n("IndexError"),"index "+te+" outside of array bounds: -"+Y.length+"..."+Y.length)},-2),R(u,"$fill",function $e(q){var T=$e.$$p||t,B,Y,te,se,oe=this,fe=t,l=t,v=t,C=t,re=t;$e.$$p=null,B=ne(arguments),Y=B,g(oe);var ue,ce;if(y(T)?(y(Y.length>2)&&w.$raise(n("ArgumentError"),"wrong number of arguments ("+Y.$length()+" for 0..2)"),se=Y,te=d(se),fe=te[0]==null?t:te[0],l=te[1]==null?t:te[1]):(y(Y.length==0)?w.$raise(n("ArgumentError"),"wrong number of arguments (0 for 1..3)"):y(Y.length>3)&&w.$raise(n("ArgumentError"),"wrong number of arguments ("+Y.$length()+" for 1..3)"),se=Y,te=d(se),v=te[0]==null?t:te[0],fe=te[1]==null?t:te[1],l=te[2]==null?t:te[2]),X(n("Range"),fe)){if(y(l)&&w.$raise(n("TypeError"),"length invalid with range"),C=fe.begin===t?0:N(fe.begin,n("Integer"),"to_int"),y(C<0)&&(C+=this.length),y(C<0)&&w.$raise(n("RangeError"),""+fe.$inspect()+" out of range"),re=fe.end===t?-1:N(fe.end,n("Integer"),"to_int"),y(re<0)&&(re+=this.length),y(fe["$exclude_end?"]())||(re+=1),y(re<=C))return oe}else if(y(fe))if(C=N(fe,n("Integer"),"to_int"),y(C<0)&&(C+=this.length),y(C<0)&&(C=0),y(l)){if(re=N(l,n("Integer"),"to_int"),y(re==0))return oe;re+=C}else re=this.length;else C=0,re=this.length;if(y(C>this.length))for(ue=this.length;ue<re;ue++)oe[ue]=t;if(y(re>this.length)&&(this.length=re),y(T))for(this.length;C<re;C++)ce=T(C),oe[C]=ce;else for(this.length;C<re;C++)oe[C]=v;return oe},-1),R(u,"$first",function(q){var T=this;return q==null?T.length===0?t:T[0]:(q=N(q,n("Integer"),"to_int"),q<0&&w.$raise(n("ArgumentError"),"negative array size"),T.slice(0,q))},-1),R(u,"$flatten",function(q){var T=this;function B(Y,te){var se=[],oe,fe,l,v;for(Y=Y.$to_a(),oe=0,fe=Y.length;oe<fe;oe++){if(l=Y[oe],!W(l,"$to_ary",!0)){se.push(l);continue}if(v=l.$to_ary(),v===t){se.push(l);continue}switch(v.$$is_array||w.$raise(n("TypeError")),v===T&&w.$raise(n("ArgumentError")),te){case void 0:se=se.concat(B(v));break;case 0:se.push(v);break;default:ae(se,B(v,te-1))}}return se}return q!==void 0&&(q=N(q,n("Integer"),"to_int")),B(T,q)},-1),R(u,"$flatten!",function(q){var T=this;g(T);var B=T.$flatten(q);if(T.length==B.length){for(var Y=0,te=T.length;Y<te&&T[Y]===B[Y];Y++);if(Y==te)return t}return T.$replace(B),T},-1),R(u,"$freeze",function(){var q=this;return y(q["$frozen?"]())?q:K(q)});var ve;R(u,"$hash",function(){var q=this,T=ve===void 0,B=ie(),Y=q.$object_id(),te,se,oe;if(B=J(B,10),B=J(B,q.length),T)ve=Object.create(null);else if(ve[Y])return J(B,16843009);try{for(oe in ve)if(te=ve[oe],q["$eql?"](te))return J(B,16843009);for(ve[Y]=q,se=0;se<q.length;se++)te=q[se],B=J(B,te.$hash());return B}finally{T&&(ve=void 0)}}),R(u,"$include?",function(q){for(var T=this,B=0,Y=T.length;B<Y;B++)if(T[B]["$=="](q))return!0;return!1}),R(u,"$index",function $e(q){var T=$e.$$p||t,B=this;$e.$$p=null;var Y,te,se;if(q!=null&&T!==t&&B.$warn("warning: given block not used"),q!=null){for(Y=0,te=B.length;Y<te;Y++)if(B[Y]["$=="](q))return Y}else if(T!==t){for(Y=0;Y<B.length;Y++)if(se=T(B[Y]),se!==!1&&se!==t)return Y}else return B.$enum_for("index");return t},-1),R(u,"$insert",function(q,T){var B,Y,te=this;if(B=ne(arguments,1),Y=B,g(te),q=N(q,n("Integer"),"to_int"),Y.length>0){if(q<0&&(q+=te.length+1,q<0&&w.$raise(n("IndexError"),""+q+" is out of bounds")),q>te.length)for(var se=te.length;se<q;se++)te.push(t);te.splice.apply(te,[q,0].concat(Y))}return te},-2);var me=[];R(u,"$inspect",function(){var q=this,T=[],B=q.$__id__(),Y=!0;return function(){try{if(me.indexOf(B)!==-1)return Y=!1,"[...]";me.push(B);for(var te=0,se=q.length;te<se;te++){var oe=q["$[]"](te);T.push(z("Opal").$inspect(oe))}return"["+T.join(", ")+"]"}finally{Y&&me.pop()}}()}),R(u,"$intersection",function(q){var T,B,Y=this,te=t,se=t;return T=ne(arguments),B=T,B.length===0?Y.$to_a().$dup():(B=B.map(O),Y.length===0?[]:(B=p(B,"sort_by",[],"length".$to_proc()),y(Y.length<B[0].length)?p(B,"reduce",[Y],"&".$to_proc()):(te=B.pop(),se=p(B,"reduce",[te],"&".$to_proc()),Y["$&"](se))))},-1),R(u,"$intersect?",function(q){var T=this,B,Y,te=new Map,se,oe;for(T.length<q.length?(B=T,Y=q):(B=q,Y=T),se=0,oe=B.length;se<oe;se++)ee(te,B[se],!0);for(se=0,oe=Y.length;se<oe;se++)if(E(te,Y[se]))return!0;return!1}),R(u,"$join",function(q){var T=this;if(k[","]==null&&(k[","]=t),q==null&&(q=t),y(T.length===0))return"";y(q===t)&&(q=k[","]);var B=[],Y,te,se,oe;for(Y=0,te=T.length;Y<te;Y++){if(se=T[Y],W(se,"$to_str")&&(oe=se.$to_str(),oe!==t)){B.push(oe.$to_s());continue}if(W(se,"$to_ary")&&(oe=se.$to_ary(),oe===T&&w.$raise(n("ArgumentError")),oe!==t)){B.push(oe.$join(q));continue}if(W(se,"$to_s")&&(oe=se.$to_s(),oe!==t)){B.push(oe);continue}w.$raise(n("NoMethodError").$new(""+z("Opal").$inspect(T.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return q===t?B.join(""):B.join(P["$coerce_to!"](q,n("String"),"to_str").$to_s())},-1),R(u,"$keep_if",function $e(){var q=$e.$$p||t,T=this;return $e.$$p=null,q===t?p(T,"enum_for",["keep_if"],function B(){var Y=B.$$s==null?this:B.$$s;return Y.$size()},{$$s:T}):(g(T),L(T,y,q),T)}),R(u,"$last",function(q){var T=this;return q==null?T.length===0?t:T[T.length-1]:(q=N(q,n("Integer"),"to_int"),q<0&&w.$raise(n("ArgumentError"),"negative array size"),q>T.length&&(q=T.length),T.slice(T.length-q,T.length))},-1),R(u,"$length",function(){var q=this;return q.length}),R(u,"$max",function $e(q){var T=$e.$$p||t,B=this;return $e.$$p=null,p(B.$each(),"max",[q],T.$to_proc())},-1),R(u,"$min",function $e(){var q=$e.$$p||t,T=this;return $e.$$p=null,p(T.$each(),"min",[],q.$to_proc())});function be($e,q){for(var T=q>=0?1:0;q;)T*=$e,$e--,q--;return T}return R(u,"$permutation",function $e(q){var T=$e.$$p||t,B=this,Y=t,te=t;if($e.$$p=null,T===t)return p(B,"enum_for",["permutation",q],function v(){var C=v.$$s==null?this:v.$$s;return be(C.length,q===void 0?C.length:q)},{$$s:B});var se,oe,fe;if(q===void 0?q=B.length:q=N(q,n("Integer"),"to_int"),!(q<0||B.length<q))if(q===0)r.yield1(T,[]);else if(q===1)for(var l=0;l<B.length;l++)r.yield1(T,[B[l]]);else Y=z("Array").$new(q),te=z("Array").$new(B.length,!1),se=function(v,C,re,ue,ce){B=this;for(var he=0;he<B.length;he++)if(ue["$[]"](he)["$!"]())if(C[re]=he,re<v-1)ue[he]=!0,se.call(B,v,C,re+1,ue,ce),ue[he]=!1;else{fe=[];for(var pe=0;pe<C.length;pe++)fe.push(B[C[pe]]);V(ce,fe)}},T!==t?(oe=B.slice(),se.call(oe,q,Y,0,te,T)):se.call(B,q,Y,0,te,T);return B},-1),R(u,"$repeated_permutation",function $e(q){var T=$e.$$p||t,B=this,Y=t;if($e.$$p=null,Y=P["$coerce_to!"](q,n("Integer"),"to_int"),T===t)return p(B,"enum_for",["repeated_permutation",Y],function se(){var oe=se.$$s==null?this:se.$$s;return y(h(Y,0))?oe.$size()["$**"](Y):0},{$$s:B});function te(se,oe,fe){if(oe.length==se){var l=oe.slice();r.yield1(T,l);return}for(var v=0;v<fe.length;v++)oe.push(fe[v]),te(se,oe,fe),oe.pop()}return te(Y,[],B.slice()),B}),R(u,"$pop",function(q){var T=this;return g(T),y(q===void 0)?y(T.length===0)?t:T.pop():(q=N(q,n("Integer"),"to_int"),y(q<0)&&w.$raise(n("ArgumentError"),"negative array size"),y(T.length===0)?[]:y(q===1)?[T.pop()]:y(q>T.length)?T.splice(0,T.length):T.splice(T.length-q,T.length))},-1),R(u,"$product",function $e(q){var T=$e.$$p||t,B,Y,te=this;$e.$$p=null,B=ne(arguments),Y=B;var se=T!==t?null:[],oe=Y.length+1,fe=new Array(oe),l=new Array(oe),v=new Array(oe),C,re,ue,ce,he=1;for(v[0]=te,C=1;C<oe;C++)v[C]=N(Y[C-1],n("Array"),"to_ary");for(C=0;C<oe;C++){if(ce=v[C].length,ce===0)return se||te;he*=ce,he>2147483647&&w.$raise(n("RangeError"),"too big to product"),l[C]=ce,fe[C]=0}e:for(;;){for(ue=[],C=0;C<oe;C++)ue.push(v[C][fe[C]]);for(se?se.push(ue):r.yield1(T,ue),re=oe-1,fe[re]++;fe[re]===l[re];){if(fe[re]=0,--re<0)break e;fe[re]++}}return se||te},-1),R(u,"$push",function(q){var T,B,Y=this;return T=ne(arguments),B=T,g(Y),ae(Y,B),Y},-1),R(u,"$rassoc",function(q){for(var T=this,B=0,Y=T.length,te;B<Y;B++)if(te=T[B],te.length&&te[1]!==void 0&&te[1]["$=="](q))return te;return t}),R(u,"$reject",function $e(){var q=$e.$$p||t,T=this;if($e.$$p=null,q===t)return p(T,"enum_for",["reject"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:T});for(var B=[],Y=0,te;Y<T.length;Y++)te=q(T[Y]),(te===!1||te===t)&&B.push(T[Y]);return B}),R(u,"$reject!",function $e(){var q=$e.$$p||t,T=this,B=t;return $e.$$p=null,q===t?p(T,"enum_for",["reject!"],function Y(){var te=Y.$$s==null?this:Y.$$s;return te.$size()},{$$s:T}):(g(T),B=T.$length(),p(T,"delete_if",[],q.$to_proc()),I(T.$length(),B)?t:T)}),R(u,"$replace",function(q){var T=this;return g(T),q=O(q),T.length>0&&T.splice(0,T.length),ae(T,q),T}),R(u,"$reverse",function(){var q=this;return q.slice(0).reverse()}),R(u,"$reverse!",function(){var q=this;return g(q),q.reverse()}),R(u,"$reverse_each",function $e(){var q=$e.$$p||t,T=this;if($e.$$p=null,q===t)return p(T,"enum_for",["reverse_each"],function Y(){var te=Y.$$s==null?this:Y.$$s;return te.$size()},{$$s:T});for(var B=T.length-1;B>=0;B--)V(q,T[B]);return T}),R(u,"$rindex",function $e(q){var T=$e.$$p||t,B=this;$e.$$p=null;var Y,te;if(q!=null&&T!==t&&B.$warn("warning: given block not used"),q!=null){for(Y=B.length-1;Y>=0&&!(Y>=B.length);Y--)if(B[Y]["$=="](q))return Y}else if(T!==t){for(Y=B.length-1;Y>=0&&!(Y>=B.length);Y--)if(te=T(B[Y]),te!==!1&&te!==t)return Y}else if(q==null)return B.$enum_for("rindex");return t},-1),R(u,"$rotate",function(q){var T=this;q==null&&(q=1);var B,Y,te,se;return q=N(q,n("Integer"),"to_int"),T.length===1?T.slice():T.length===0?[]:(B=T.slice(),Y=q%B.length,te=B.slice(Y),se=B.slice(0,Y),te.concat(se))},-1),R(u,"$rotate!",function(q){var T=this,B=t;return q==null&&(q=1),g(T),T.length===0||T.length===1?T:(q=N(q,n("Integer"),"to_int"),B=T.$rotate(q),T.$replace(B))},-1),function($e,q){var T=G($e,q,"SampleRandom"),B=T.$$prototype;return B.rng=t,R(T,"$initialize",_("rng")),R(T,"$rand",function(te){var se=this,oe=t;return oe=N(se.rng.$rand(te),n("Integer"),"to_int"),y(oe<0)&&w.$raise(n("RangeError"),"random value must be >= 0"),y(oe<te)||w.$raise(n("RangeError"),"random value must be less than Array size"),oe})}(u,null),R(u,"$sample",function(q,T){var B=this,Y=t,te=t;if(y(q===void 0))return B.$at(w.$rand(B.length));if(y(T===void 0)?y(Y=P["$coerce_to?"](q,n("Hash"),"to_hash"))?(T=Y,q=t):(T=t,q=N(q,n("Integer"),"to_int")):(q=N(q,n("Integer"),"to_int"),T=N(T,n("Hash"),"to_hash")),y(q)&&y(q<0)&&w.$raise(n("ArgumentError"),"count must be greater than 0"),y(T)&&(te=T["$[]"]("random")),te=y(te)&&y(te["$respond_to?"]("rand"))?z("SampleRandom").$new(te):w,!y(q))return B[te.$rand(B.length)];var se,oe,fe,l,v,C,re,ue;switch(q>B.length&&(q=B.length),q){case 0:return[];case 1:return[B[te.$rand(B.length)]];case 2:return l=te.$rand(B.length),v=te.$rand(B.length-1),l<=v&&v++,[B[l],B[v]];default:if(B.length/q>3){for(se=!1,oe=0,fe=z("Array").$new(q),l=1,fe[0]=te.$rand(B.length);l<q;){for(C=te.$rand(B.length),v=0;v<l;){for(;C===fe[v];){if(oe++,oe>100){se=!0;break}C=te.$rand(B.length)}if(se)break;v++}if(se)break;fe[l]=C,l++}if(!se){for(l=0;l<q;)fe[l]=B[fe[l]],l++;return fe}}fe=B.slice();for(var ce=0;ce<q;ce++)re=te.$rand(B.length-ce)+ce,ue=fe[ce],fe[ce]=fe[re],fe[re]=ue;return q===B.length?fe:fe["$[]"](0,q)}},-1),R(u,"$select",function $e(){var q=$e.$$p||t,T=this;if($e.$$p=null,q===t)return p(T,"enum_for",["select"],function oe(){var fe=oe.$$s==null?this:oe.$$s;return fe.$size()},{$$s:T});for(var B=[],Y=0,te,se;Y<T.length;Y++)te=T[Y],se=V(q,te),y(se)&&B.push(te);return B}),R(u,"$select!",function $e(){var q=$e.$$p||t,T=this;if($e.$$p=null,q===t)return p(T,"enum_for",["select!"],function Y(){var te=Y.$$s==null?this:Y.$$s;return te.$size()},{$$s:T});g(T);var B=T.length;return p(T,"keep_if",[],q.$to_proc()),T.length===B?t:T}),R(u,"$shift",function(q){var T=this;return g(T),y(q===void 0)?y(T.length===0)?t:M(T):(q=N(q,n("Integer"),"to_int"),y(q<0)&&w.$raise(n("ArgumentError"),"negative array size"),y(T.length===0)?[]:T.splice(0,q))},-1),R(u,"$shuffle",function(q){var T=this;return T.$dup().$to_a()["$shuffle!"](q)},-1),R(u,"$shuffle!",function(q){var T=this;g(T);var B,Y=T.length,te,se;for(q!==void 0&&(q=P["$coerce_to?"](q,n("Hash"),"to_hash"),q!==t&&(q=q["$[]"]("random"),q!==t&&q["$respond_to?"]("rand")&&(B=q)));Y;)B?(te=B.$rand(Y).$to_int(),te<0&&w.$raise(n("RangeError"),"random number too small "+te),te>=Y&&w.$raise(n("RangeError"),"random number too big "+te)):te=T.$rand(Y),se=T[--Y],T[Y]=T[te],T[te]=se;return T},-1),R(u,"$slice!",function(q,T){var B=this,Y=t,te=t,se=t,oe=t,fe=t;if(g(B),Y=t,y(T===void 0))if(X(n("Range"),q)){te=q,Y=B["$[]"](te),se=te.begin===t?0:N(te.begin,n("Integer"),"to_int"),oe=te.end===t?-1:N(te.end,n("Integer"),"to_int"),se<0&&(se+=B.length),oe<0?oe+=B.length:oe>=B.length&&(oe=B.length-1,te.excl&&(oe+=1));var l=oe-se;te.excl&&te.end!==t?oe-=1:l+=1,se<B.length&&se>=0&&oe<B.length&&oe>=0&&l>0&&B.splice(se,l)}else{if(fe=N(q,n("Integer"),"to_int"),fe<0&&(fe+=B.length),fe<0||fe>=B.length)return t;Y=B[fe],fe===0?B.shift():B.splice(fe,1)}else{if(fe=N(q,n("Integer"),"to_int"),T=N(T,n("Integer"),"to_int"),T<0)return t;Y=B["$[]"](fe,T),fe<0&&(fe+=B.length),fe+T>B.length&&(T=B.length-fe),fe<B.length&&fe>=0&&B.splice(fe,T)}return Y},-2),R(u,"$sort",function $e(){var q=$e.$$p||t,T=this;return $e.$$p=null,y(T.length>1)?(q===t&&(q=function(B,Y){return B["$<=>"](Y)}),T.slice().sort(function(B,Y){var te=q(B,Y);return te===t&&w.$raise(n("ArgumentError"),"comparison of "+B.$inspect()+" with "+Y.$inspect()+" failed"),x(te,0)?1:o(te,0)?-1:0})):T}),R(u,"$sort!",function $e(){var q=$e.$$p||t,T=this;$e.$$p=null,g(T);var B;q!==t?B=p(T.slice(),"sort",[],q.$to_proc()):B=T.slice().$sort(),T.length=0;for(var Y=0,te=B.length;Y<te;Y++)T.push(B[Y]);return T}),R(u,"$sort_by!",function $e(){var q=$e.$$p||t,T=this;return $e.$$p=null,q===t?p(T,"enum_for",["sort_by!"],function B(){var Y=B.$$s==null?this:B.$$s;return Y.$size()},{$$s:T}):(g(T),T.$replace(p(T,"sort_by",[],q.$to_proc())))}),R(u,"$take",function(q){var T=this;return q<0&&w.$raise(n("ArgumentError")),T.slice(0,q)}),R(u,"$take_while",function $e(){var q=$e.$$p||t,T=this;$e.$$p=null;for(var B=[],Y=0,te,se;Y<T.length;Y++){if(te=T[Y],se=q(te),se===!1||se===t)return B;B.push(te)}return B}),R(u,"$to_a",function(){var q=this;return q.$$class===r.Array?q:r.Array.$new(q)}),R(u,"$to_ary",H),R(u,"$to_h",function $e(){var q=$e.$$p||t,T=this,B=t;$e.$$p=null,B=T,q!==t&&(B=p(B,"map",[],q.$to_proc()));var Y,te=B.length,se,oe,fe,l=new Map;for(Y=0;Y<te;Y++)se=P["$coerce_to?"](B[Y],n("Array"),"to_ary"),se.$$is_array||w.$raise(n("TypeError"),"wrong element type "+B[Y].$class()+" at "+Y+" (expected array)"),se.length!==2&&w.$raise(n("ArgumentError"),"element has wrong array length at "+Y+" (expected 2, was "+se.$length()+")"),oe=se[0],fe=se[1],ee(l,oe,fe);return l}),R(u,"$transpose",function(){var q=this,T=t,B=t;return y(q["$empty?"]())?[]:(T=[],B=t,p(q,"each",[],function(te){var se=t;return te==null&&(te=t),te=O(te),B=y(se=B)?se:te.length,j(te.length,B)&&w.$raise(n("IndexError"),"element size differs ("+te.length+" should be "+B+")"),p(te.length,"times",[],function(fe){var l,v=t;return fe==null&&(fe=t),v=y(se=T["$[]"](fe))?se:(l=[fe,[]],p(T,"[]=",l),l[l.length-1]),v["$<<"](te.$at(fe))})}),T)}),R(u,"$union",function(q){var T,B,Y=this;return T=ne(arguments),B=T,p(B,"reduce",[Y.$uniq()],function(se,oe){return se==null&&(se=t),oe==null&&(oe=t),se["$|"](oe)})},-1),R(u,"$uniq",function $e(){var q=$e.$$p||t,T=this;$e.$$p=null;var B=new Map,Y,te,se,oe;if(q===t)for(Y=0,te=T.length;Y<te;Y++)se=T[Y],E(B,se)===void 0&&ee(B,se,se);else for(Y=0;Y<T.length;Y++)se=T[Y],oe=V(q,se),E(B,oe)===void 0&&ee(B,oe,se);return B.$values()}),R(u,"$uniq!",function $e(){var q=$e.$$p||t,T=this;$e.$$p=null,g(T);var B=new Map,Y,te,se,oe=[];for(Y=0;Y<T.length;Y++)te=T[Y],se=q===t?te:V(q,te),E(B,se)===void 0?ee(B,se,te):oe.push(Y);for(Y=oe.length-1;Y>=0;Y--)T.splice(oe[Y],1);return oe.length===0?t:T}),R(u,"$unshift",function(q){var T,B,Y=this;T=ne(arguments),B=T,g(Y);var te=Y.length,se=B.length;if(se==0)return Y;for(var oe=te-se,fe=0;fe<se;fe++)Y.push(Y[oe+fe]);for(var l=te-1;l-se>=0;)Y[l]=Y[l-se],l--;for(var v=0;v<se;v++)Y[v]=B[v];return Y},-1),R(u,"$values_at",function(q){var T,B,Y=this,te=t;return T=ne(arguments),B=T,te=[],p(B,"each",[],function se(oe){var fe=se.$$s==null?this:se.$$s,l=t,v=t,C=t;return oe==null&&(oe=t),y(oe["$is_a?"](n("Range")))?(l=oe.$end()===t?-1:N(oe.$end(),n("Integer"),"to_int"),v=oe.$begin()===t?0:N(oe.$begin(),n("Integer"),"to_int"),v<0?(v=v+fe.length,t):(l<0&&(l=l+fe.length),oe["$exclude_end?"]()&&oe.$end()!==t&&l--,l<v?t:p(v,"upto",[l],function re(ue){var ce=re.$$s==null?this:re.$$s;return ue==null&&(ue=t),te["$<<"](ce.$at(ue))},{$$s:fe}))):(C=N(oe,n("Integer"),"to_int"),te["$<<"](fe.$at(C)))},{$$s:Y}),te},-1),R(u,"$zip",function $e(q){var T=$e.$$p||t,B,Y,te=this,se=t;$e.$$p=null,B=ne(arguments),Y=B;var oe=[],fe=te.length,l,v,C,re,ue;for(re=0,ue=Y.length;re<ue;re++)if(v=Y[re],!v.$$is_array){if(v.$$is_range||v.$$is_enumerator){Y[re]=v.$take(fe);continue}Y[re]=(y(se=P["$coerce_to?"](v,n("Array"),"to_ary"))?se:P["$coerce_to!"](v,n("Enumerator"),"to_enum","each")).$to_a()}for(C=0;C<fe;C++){for(l=[te[C]],re=0,ue=Y.length;re<ue;re++)v=Y[re][C],v==null&&(v=t),l[re+1]=v;oe[C]=l}if(T!==t){for(C=0;C<fe;C++)r.yield1(T,oe[C]);return t}return oe},-1),Z(u,"$inherited",function(q){q.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),R(u,"$instance_variables",function $e(){var q=$e.$$p||t,T=this;return $e.$$p=null,p(S(T,U(T,"instance_variables",$e,!1,!0),"instance_variables",[],q),"reject",[],function(Y){var te=t;return Y==null&&(Y=t),y(te=/^@\d+$/.test(Y))?te:Y["$=="]("@length")})}),R(u,"$pack",function(q){return ne(arguments),w.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),c(u,"append","push"),c(u,"filter","select"),c(u,"filter!","select!"),c(u,"map","collect"),c(u,"map!","collect!"),c(u,"prepend","unshift"),c(u,"size","length"),c(u,"slice","[]"),c(u,"to_s","inspect"),P.$pristine(u.$singleton_class(),"allocate"),P.$pristine(u,"copy_instance_variables","initialize_dup")}("::",Array,a)};Opal.modules["corelib/hash"]=function(r){var y=r.yield1,F=r.hash_clone,V=r.hash_delete,E=r.hash_each,ee=r.hash_get,Q=r.hash_put,N=r.deny_frozen_access,W=r.freeze,g=r.opal32_init,K=r.opal32_add,ie=r.klass,J=r.slice,G=r.Opal,ne=r.Kernel,Z=r.defs,w=r.def,R=r.send,P=r.rb_ge,X=r.rb_gt,S=r.truthy,U=r.to_a,p=r.return_self,x=r.not,D=r.alias,I=r.top,b=[],s=r.nil,d=r.$$$;return r.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),I.$require("corelib/enumerable"),function(k,h,_){var o=ie(k,h,"Hash"),H=[o].concat(_),j=r.$r(H);o.$include(d("Enumerable")),o.$$prototype.$$is_hash=!0,Z(o,"$[]",function(t){var n,e,$=this;n=J(arguments),e=n;var i,u=e.length,m,z;if(u===1){if(i=G["$coerce_to?"](e["$[]"](0),d("Hash"),"to_hash"),i!==s)return $.$allocate()["$merge!"](i);for(e=G["$coerce_to?"](e["$[]"](0),d("Array"),"to_ary"),e===s&&ne.$raise(d("ArgumentError"),"odd number of arguments for Hash"),u=e.length,i=$.$allocate(),z=0;z<u;z++)m=e[z],m.$$is_array||ne.$raise(d("ArgumentError"),"invalid element "+m.$inspect()+" for Hash"),m.length===1?i.$store(m[0],s):m.length===2?i.$store(m[0],m[1]):ne.$raise(d("ArgumentError"),"invalid number of elements ("+m.length+" for "+m.$inspect()+"), must be 1..2");return i}for(u%2!==0&&ne.$raise(d("ArgumentError"),"odd number of arguments for Hash"),i=$.$allocate(),z=0;z<u;z+=2)i.$store(e[z],e[z+1]);return i},-1),Z(o,"$allocate",function(){var t=this,n=new t.$$constructor;return n.$$none=s,n.$$proc=s,n}),Z(o,"$try_convert",function(t){return G["$coerce_to?"](t,d("Hash"),"to_hash")}),w(o,"$initialize",function a(t){var n=a.$$p||s,e=this;return a.$$p=null,N(e),t!==void 0&&n!==s&&ne.$raise(d("ArgumentError"),"wrong number of arguments (1 for 0)"),e.$$none=t===void 0?s:t,e.$$proc=n,e},-1),w(o,"$==",function(t){var n=this;return n===t?!0:!t.$$is_hash||n.size!==t.size?!1:E(n,!0,function(e,$){var i=ee(t,e);return i===void 0||!$["$eql?"](i)?[!0,!1]:[!1,!0]})}),w(o,"$>=",function(t){var n=this,e=s;return t=G["$coerce_to!"](t,d("Hash"),"to_hash"),n.size<t.size?!1:(e=!0,R(t,"each",[],function $(i,u){var m=$.$$s==null?this:$.$$s,z=s;if(i==null&&(i=s),u==null&&(u=s),z=m.$fetch(i,null),z==null||z!==u){e=!1;return}},{$$s:n}),e)}),w(o,"$>",function(t){var n=this;return t=G["$coerce_to!"](t,d("Hash"),"to_hash"),n.size<=t.size?!1:P(n,t)}),w(o,"$<",function(t){var n=this;return t=G["$coerce_to!"](t,d("Hash"),"to_hash"),X(t,n)}),w(o,"$<=",function(t){var n=this;return t=G["$coerce_to!"](t,d("Hash"),"to_hash"),P(t,n)}),w(o,"$[]",function(t){var n=this,e=ee(n,t);return e!==void 0?e:n.$default(t)}),w(o,"$[]=",function(t,n){var e=this;return N(e),Q(e,t,n),n}),w(o,"$assoc",function(t){var n=this;return E(n,s,function(e,$){return e["$=="](t)?[!0,[e,$]]:[!1,s]})}),w(o,"$clear",function(){var t=this;return N(t),t.clear(),t.$$keys&&t.$$keys.clear(),t}),w(o,"$clone",function(){var t=this,n=t.$class().$new();return F(t,n),t["$frozen?"]()?n.$freeze():n}),w(o,"$compact",function(){var t=this,n=new Map;return E(t,n,function(e,$){return $!==s&&Q(n,e,$),[!1,n]})}),w(o,"$compact!",function(){var t=this;N(t);var n=s;return E(t,n,function(e,$){return $===s&&(V(t,e),n=t),[!1,n]})}),w(o,"$compare_by_identity",function(){var t=this;return N(t),t.$$by_identity||(t.$$by_identity=!0,t.size!==0&&r.hash_rehash(t)),t}),w(o,"$compare_by_identity?",function(){var t=this;return t.$$by_identity===!0}),w(o,"$default",function(t){var n=this;return t!==void 0&&n.$$proc!==s&&n.$$proc!==void 0?n.$$proc.$call(n,t):n.$$none===void 0?s:n.$$none},-1),w(o,"$default=",function(t){var n=this;return N(n),n.$$proc=s,n.$$none=t,t}),w(o,"$default_proc",function(){var t=this;return t.$$proc!==void 0?t.$$proc:s}),w(o,"$default_proc=",function(t){var n=this;N(n);var e=t;return e!==s&&(e=G["$coerce_to!"](e,d("Proc"),"to_proc"),e["$lambda?"]()&&e.$arity().$abs()!==2&&ne.$raise(d("TypeError"),"default_proc takes two arguments")),n.$$none=s,n.$$proc=e,t}),w(o,"$delete",function a(t){var n=a.$$p||s,e=this;a.$$p=null,N(e);var $=V(e,t);return $!==void 0?$:n!==s?r.yield1(n,t):s}),w(o,"$delete_if",function a(){var t=a.$$p||s,n=this;return a.$$p=null,S(t)?(N(n),E(n,n,function(e,$){var i=t(e,$);return i!==!1&&i!==s&&V(n,e),[!1,n]})):R(n,"enum_for",["delete_if"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:n})}),w(o,"$dig",function(t,n){var e,$,i=this,u=s;return e=J(arguments,1),$=e,u=i["$[]"](t),u===s||$.length===0?u:(S(u["$respond_to?"]("dig"))||ne.$raise(d("TypeError"),""+u.$class()+" does not have #dig method"),R(u,"dig",U($)))},-2),w(o,"$dup",function(){var t=this;return F(t,t.$class().$new())}),w(o,"$each",function a(){var t=a.$$p||s,n=this;return a.$$p=null,S(t)?E(n,n,function(e,$){return y(t,[e,$]),[!1,n]}):R(n,"enum_for",["each"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:n})}),w(o,"$each_key",function a(){var t=a.$$p||s,n=this;return a.$$p=null,S(t)?E(n,n,function(e,$){return t(e),[!1,n]}):R(n,"enum_for",["each_key"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:n})}),w(o,"$each_value",function a(){var t=a.$$p||s,n=this;return a.$$p=null,S(t)?E(n,n,function(e,$){return t($),[!1,n]}):R(n,"enum_for",["each_value"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:n})}),w(o,"$empty?",function(){var t=this;return t.size===0}),w(o,"$except",function(t){var n,e,$=this;return n=J(arguments),e=n,R($.$dup(),"except!",U(e))},-1),w(o,"$except!",function(t){var n,e,$=this;return n=J(arguments),e=n,R(e,"each",[],function i(u){var m=i.$$s==null?this:i.$$s;return u==null&&(u=s),m.$delete(u)},{$$s:$}),$},-1),w(o,"$fetch",function a(t,n){var e=a.$$p||s,$=this;a.$$p=null;var i=ee($,t);return i!==void 0?i:e!==s?e(t):n!==void 0?n:ne.$raise(d("KeyError").$new("key not found: "+t.$inspect(),new Map([["key",t],["receiver",$]])))},-2),w(o,"$fetch_values",function a(t){var n=a.$$p||s,e,$,i=this;return a.$$p=null,e=J(arguments),$=e,R($,"map",[],function u(m){var z=u.$$s==null?this:u.$$s;return m==null&&(m=s),R(z,"fetch",[m],n.$to_proc())},{$$s:i})},-1),w(o,"$flatten",function(t){var n=this;t==null&&(t=1),t=G["$coerce_to!"](t,d("Integer"),"to_int");var e=[];return E(n,e,function($,i){return e.push($),i.$$is_array?t===1?(e.push(i),[!1,e]):(e=e.concat(i.$flatten(t-2)),[!1,e]):(e.push(i),[!1,e])})},-1),w(o,"$freeze",function(){var t=this;return S(t["$frozen?"]())?t:W(t)}),w(o,"$has_key?",function(t){var n=this;return ee(n,t)!==void 0}),w(o,"$has_value?",function(t){var n=this;return E(n,!1,function(e,$){return $["$=="](t)?[!0,!0]:[!1,!1]})});var c;w(o,"$hash",function(){var t=this,n=c===void 0,e=t.$object_id(),$=g(),i,u,m,z=t.size,M=new Int32Array(z);if($=K($,4),$=K($,z),n)c=Object.create(null);else if(c[e])return K($,16843009);try{for(i in c)if(u=c[i],t["$eql?"](u))return K($,16843009);for(c[e]=t,m=0,E(t,!1,function(A,L){return M[m]=[1883326802,A,L].$hash(),m++,[!1,!1]}),M=M.sort(),m=0;m<M.length;m++)$=K($,M[m]);return $}finally{n&&(c=void 0)}}),w(o,"$index",function(t){var n=this;return E(n,s,function(e,$){return $["$=="](t)?[!0,e]:[!1,s]})}),w(o,"$indexes",function(t){var n,e,$=this;n=J(arguments),e=n;for(var i=[],u=0,m=e.length,z,M;u<m;u++){if(z=e[u],M=ee($,z),M===void 0){i.push($.$default());continue}i.push(M)}return i},-1);var f;return w(o,"$inspect",function(){var t=this,n=f===void 0,e=t.$object_id(),$=[];return function(){try{if(n&&(f={}),f.hasOwnProperty(e))return"{...}";return f[e]=!0,E(t,!1,function(i,u){return u=j("Opal").$inspect(u),i=j("Opal").$inspect(i),$.push(i+"=>"+u),[!1,!1]}),"{"+$.join(", ")+"}";return s}finally{n&&(f=void 0)}}()}),w(o,"$invert",function(){var t=this,n=new Map;return E(t,n,function(e,$){return Q(n,$,e),[!1,n]})}),w(o,"$keep_if",function a(){var t=a.$$p||s,n=this;return a.$$p=null,S(t)?(N(n),E(n,n,function(e,$){var i=t(e,$);return(i===!1||i===s)&&V(n,e),[!1,n]})):R(n,"enum_for",["keep_if"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:n})}),w(o,"$keys",function(){var t=this;return Array.from(t.keys())}),w(o,"$length",function(){var t=this;return t.size}),w(o,"$merge",function a(t){var n=a.$$p||s,e,$,i=this;return a.$$p=null,e=J(arguments),$=e,R(i.$dup(),"merge!",U($),n.$to_proc())},-1),w(o,"$merge!",function a(t){var n=a.$$p||s,e,$,i=this;a.$$p=null,e=J(arguments),$=e,N(i);var u,m;for(u=0;u<$.length;++u)m=G["$coerce_to!"]($[u],d("Hash"),"to_hash"),n===s?E(m,!1,function(z,M){return Q(i,z,M),[!1,!1]}):E(m,!1,function(z,M){var A=ee(i,z);return A===void 0?(Q(i,z,M),[!1,!1]):(Q(i,z,n(z,A,M)),[!1,!1])});return i},-1),w(o,"$rassoc",function(t){var n=this;return E(n,s,function(e,$){return $["$=="](t)?[!0,[e,$]]:[!1,s]})}),w(o,"$rehash",function(){var t=this;return N(t),r.hash_rehash(t)}),w(o,"$reject",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,!S(t))return R(n,"enum_for",["reject"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:n});var e=new Map;return E(n,e,function($,i){var u=t($,i);return(u===!1||u===s)&&Q(e,$,i),[!1,e]})}),w(o,"$reject!",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,!S(t))return R(n,"enum_for",["reject!"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:n});N(n);var e=s;return E(n,e,function($,i){var u=t($,i);return u!==!1&&u!==s&&(V(n,$),e=n),[!1,e]})}),w(o,"$replace",function(t){var n=this;return N(n),t=G["$coerce_to!"](t,d("Hash"),"to_hash"),n.$clear(),E(t,!1,function(e,$){return Q(n,e,$),[!1,!1]}),S(t.$default_proc())?n["$default_proc="](t.$default_proc()):n["$default="](t.$default()),n}),w(o,"$select",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,!S(t))return R(n,"enum_for",["select"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:n});var e=new Map;return E(n,e,function($,i){var u=t($,i);return u!==!1&&u!==s&&Q(e,$,i),[!1,e]})}),w(o,"$select!",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,!S(t))return R(n,"enum_for",["select!"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:n});N(n);var e=s;return E(n,e,function($,i){var u=t($,i);return(u===!1||u===s)&&(V(n,$),e=n),[!1,e]})}),w(o,"$shift",function(){var t=this;return N(t),E(t,s,function(n,e){return[!0,[n,V(t,n)]]})}),w(o,"$slice",function(t){var n,e,$=this;n=J(arguments),e=n;for(var i=new Map,u=0,m=e.length;u<m;u++){var z=e[u],M=ee($,z);M!==void 0&&Q(i,z,M)}return i},-1),w(o,"$to_a",function(){var t=this,n=[];return E(t,n,function(e,$){return n.push([e,$]),[!1,n]})}),w(o,"$to_h",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,t!==s)return R(n,"map",[],t.$to_proc()).$to_h();if(n.$$class===r.Hash)return n;var e=new Map;return F(n,e),e}),w(o,"$to_hash",p),w(o,"$to_proc",function(){var t=this;return R(t,"proc",[],function n(e){var $=n.$$s==null?this:n.$$s;return e==null&&ne.$raise(d("ArgumentError"),"no key given"),$["$[]"](e)},{$$arity:-1,$$s:t})}),w(o,"$transform_keys",function a(t){var n=a.$$p||s,e=this;if(a.$$p=null,t==null&&(t=s),x(n)&&x(t))return R(e,"enum_for",["transform_keys"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:e});var $=new Map;return E(e,$,function(i,u){var m;return t!==s&&(m=ee(t,i)),m===void 0&&n&&n!==s&&(m=n(i)),m===void 0&&(m=i),Q($,m,u),[!1,$]})},-1),w(o,"$transform_keys!",function a(t){var n=a.$$p||s,e=this;if(a.$$p=null,t==null&&(t=s),x(n)&&x(t))return R(e,"enum_for",["transform_keys!"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:e});N(e);var $=new Map;return E(e,e,function(i,u){var m;return t!==s&&(m=ee(t,i)),m===void 0&&n&&n!==s&&(m=n(i)),m===void 0?[!1,e]:(ee($,i)||V(e,i),Q(e,m,u),Q($,m,!0),[!1,e])})},-1),w(o,"$transform_values",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,!S(t))return R(n,"enum_for",["transform_values"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:n});var e=new Map;return E(n,e,function($,i){return Q(e,$,t(i)),[!1,e]})}),w(o,"$transform_values!",function a(){var t=a.$$p||s,n=this;return a.$$p=null,S(t)?(N(n),E(n,n,function(e,$){return Q(n,e,t($)),[!1,n]})):R(n,"enum_for",["transform_values!"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:n})}),w(o,"$values",function(){var t=this;return Array.from(t.values())}),D(o,"each_pair","each"),D(o,"eql?","=="),D(o,"filter","select"),D(o,"filter!","select!"),D(o,"include?","has_key?"),D(o,"indices","indexes"),D(o,"key","index"),D(o,"key?","has_key?"),D(o,"member?","has_key?"),D(o,"size","length"),D(o,"store","[]="),D(o,"to_s","inspect"),D(o,"update","merge!"),D(o,"value?","has_value?"),D(o,"values_at","indexes")}("::",Map,b)};Opal.modules["corelib/number"]=function(r){var y=r.klass,F=r.Opal,V=r.Kernel,E=r.def,ee=r.eqeqeq,Q=r.truthy,N=r.rb_gt,W=r.not,g=r.rb_lt,K=r.alias,ie=r.send2,J=r.find_super,G=r.send,ne=r.rb_plus,Z=r.rb_minus,w=r.eqeq,R=r.return_self,P=r.rb_divide,X=r.to_ary,S=r.rb_times,U=r.rb_le,p=r.rb_ge,x=r.return_val,D=r.const_set,I=r.top,b=[],s=r.nil,d=r.$$$;return r.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),I.$require("corelib/numeric"),function(k,h,_){var o=y(k,h,"Number");F.$bridge(Number,o),r.prop(o.$$prototype,"$$is_number",!0),o.$$is_number_class=!0;var H=new Map;(function(n,e){return E(n,"$allocate",function(){var i=this;return V.$raise(d("TypeError"),"allocator undefined for "+i.$name())}),r.udef(n,"$new"),s})(r.get_singleton_class(o)),E(o,"$coerce",function(e){var $=this;if(e===s)V.$raise(d("TypeError"),"can't convert "+e.$class()+" into Float");else{if(e.$$is_string)return[V.$Float(e),$];if(e["$respond_to?"]("to_f"))return[F["$coerce_to!"](e,d("Float"),"to_f"),$];if(e.$$is_number)return[e,$];V.$raise(d("TypeError"),"can't convert "+e.$class()+" into Float")}}),E(o,"$__id__",function(){var e=this;if(e|e===0)return e*2+1;if(H.has(e))return H.get(e);var $=r.uid();return H.set(e,$),$}),E(o,"$hash",function(){var e=this;return e|e===0?e.$__id__():e.toString().$hash()}),E(o,"$+",function(e){var $=this;return e.$$is_number?$+e:$.$__coerced__("+",e)}),E(o,"$-",function(e){var $=this;return e.$$is_number?$-e:$.$__coerced__("-",e)}),E(o,"$*",function(e){var $=this;return e.$$is_number?$*e:$.$__coerced__("*",e)}),E(o,"$/",function(e){var $=this;return e.$$is_number?$/e:$.$__coerced__("/",e)}),E(o,"$%",function(e){var $=this;if(e.$$is_number){if(e==-1/0)return e;if(e==0)V.$raise(d("ZeroDivisionError"),"divided by 0");else return e<0||$<0?($%e+e)%e:$%e}else return $.$__coerced__("%",e)}),E(o,"$&",function(e){var $=this;return e.$$is_number?$&e:$.$__coerced__("&",e)}),E(o,"$|",function(e){var $=this;return e.$$is_number?$|e:$.$__coerced__("|",e)}),E(o,"$^",function(e){var $=this;return e.$$is_number?$^e:$.$__coerced__("^",e)}),E(o,"$<",function(e){var $=this;return e.$$is_number?$<e:$.$__coerced__("<",e)}),E(o,"$<=",function(e){var $=this;return e.$$is_number?$<=e:$.$__coerced__("<=",e)}),E(o,"$>",function(e){var $=this;return e.$$is_number?$>e:$.$__coerced__(">",e)}),E(o,"$>=",function(e){var $=this;return e.$$is_number?$>=e:$.$__coerced__(">=",e)});var j=function(n,e){return e.$$is_number?isNaN(n)||isNaN(e)?s:n>e?1:n<e?-1:0:n.$__coerced__("<=>",e)};E(o,"$<=>",function(e){var $=this;try{return j($,e)}catch(i){if(r.rescue(i,[d("ArgumentError")]))try{return s}finally{r.pop_exception(i)}else throw i}}),E(o,"$<<",function(e){var $=this;return e=F["$coerce_to!"](e,d("Integer"),"to_int"),e>0?$<<e:$>>-e}),E(o,"$>>",function(e){var $=this;return e=F["$coerce_to!"](e,d("Integer"),"to_int"),e>0?$>>e:$<<-e}),E(o,"$[]",function(e){var $=this;return e=F["$coerce_to!"](e,d("Integer"),"to_int"),e<0?0:e>=32?$<0?1:0:$>>e&1}),E(o,"$+@",function(){var e=this;return+e}),E(o,"$-@",function(){var e=this;return-e}),E(o,"$~",function(){var e=this;return~e}),E(o,"$**",function(e){var $=this;return ee(d("Integer"),e)?W(d("Integer")["$==="]($))||Q(N(e,0))?Math.pow($,e):d("Rational").$new($,1)["$**"](e):Q(g($,0))&&(ee(d("Float"),e)||ee(d("Rational"),e))?d("Complex").$new($,0)["$**"](e.$to_f()):Q(e.$$is_number!=null)?Math.pow($,e):$.$__coerced__("**",e)}),E(o,"$==",function(e){var $=this;return e.$$is_number?$.valueOf()===e.valueOf():e["$respond_to?"]("==")?e["$=="]($):!1}),K(o,"===","=="),E(o,"$abs",function(){var e=this;return Math.abs(e)}),E(o,"$abs2",function(){var e=this;return Math.abs(e*e)}),E(o,"$allbits?",function(e){var $=this;return e=F["$coerce_to!"](e,d("Integer"),"to_int"),($&e)==e}),E(o,"$anybits?",function(e){var $=this;return e=F["$coerce_to!"](e,d("Integer"),"to_int"),($&e)!==0}),E(o,"$angle",function(){var e=this;return Q(e["$nan?"]())?e:e==0?1/e>0?0:Math.PI:e<0?Math.PI:0}),E(o,"$bit_length",function(){var e=this;if(ee(d("Integer"),e)||V.$raise(d("NoMethodError").$new("undefined method `bit_length` for "+e+":Float","bit_length")),e===0||e===-1)return 0;for(var $=0,i=e<0?~e:e;i!=0;)$+=1,i>>>=1;return $}),E(o,"$ceil",function(e){var $=this;e==null&&(e=0);var i=$.$to_f();if(i%1===0&&e>=0)return i;var u=Math.pow(10,e),m=Math.ceil(i*u)/u;return i%1===0&&(m=Math.round(m)),m},-1),E(o,"$chr",function(e){var $=this;return r.enc(String.fromCharCode($),e||"BINARY")},-1),E(o,"$denominator",function n(){var e=n.$$p||s,$=this;return n.$$p=null,Q($["$nan?"]())||Q($["$infinite?"]())?1:ie($,J($,"denominator",n,!1,!0),"denominator",[],e)}),E(o,"$downto",function n(e){var $=n.$$p||s,i=this;if(n.$$p=null,$===s)return G(i,"enum_for",["downto",e],function m(){var z=m.$$s==null?this:m.$$s;return ee(d("Numeric"),e)||V.$raise(d("ArgumentError"),"comparison of "+z.$class()+" with "+e.$class()+" failed"),Q(N(e,z))?0:ne(Z(z,e),1)},{$$s:i});e.$$is_number||V.$raise(d("ArgumentError"),"comparison of "+i.$class()+" with "+e.$class()+" failed");for(var u=i;u>=e;u--)$(u);return i}),E(o,"$equal?",function(e){var $=this,i=s;return Q(i=$["$=="](e))?i:isNaN($)&&isNaN(e)}),E(o,"$even?",function(){var e=this;return e%2===0}),E(o,"$floor",function(e){var $=this;e==null&&(e=0);var i=$.$to_f();if(i%1===0&&e>=0)return i;var u=Math.pow(10,e),m=Math.floor(i*u)/u;return i%1===0&&(m=Math.round(m)),m},-1),E(o,"$gcd",function(e){var $=this;ee(d("Integer"),e)||V.$raise(d("TypeError"),"not an integer");for(var i=Math.abs($),u=Math.abs(e);i>0;){var m=i;i=u%i,u=m}return u}),E(o,"$gcdlcm",function(e){var $=this;return[$.$gcd(e),$.$lcm(e)]}),E(o,"$integer?",function(){var e=this;return e%1===0}),E(o,"$is_a?",function n(e){var $=n.$$p||s,i=this;return n.$$p=null,w(e,d("Integer"))&&ee(d("Integer"),i)||w(e,d("Integer"))&&ee(d("Integer"),i)||w(e,d("Float"))&&ee(d("Float"),i)?!0:ie(i,J(i,"is_a?",n,!1,!0),"is_a?",[e],$)}),E(o,"$instance_of?",function n(e){var $=n.$$p||s,i=this;return n.$$p=null,w(e,d("Integer"))&&ee(d("Integer"),i)||w(e,d("Integer"))&&ee(d("Integer"),i)||w(e,d("Float"))&&ee(d("Float"),i)?!0:ie(i,J(i,"instance_of?",n,!1,!0),"instance_of?",[e],$)}),E(o,"$lcm",function(e){var $=this;return ee(d("Integer"),e)||V.$raise(d("TypeError"),"not an integer"),$==0||e==0?0:Math.abs($*e/$.$gcd(e))}),E(o,"$next",function(){var e=this;return e+1}),E(o,"$nobits?",function(e){var $=this;return e=F["$coerce_to!"](e,d("Integer"),"to_int"),($&e)==0}),E(o,"$nonzero?",function(){var e=this;return e==0?s:e}),E(o,"$numerator",function n(){var e=n.$$p||s,$=this;return n.$$p=null,Q($["$nan?"]())||Q($["$infinite?"]())?$:ie($,J($,"numerator",n,!1,!0),"numerator",[],e)}),E(o,"$odd?",function(){var e=this;return e%2!==0}),E(o,"$ord",R),E(o,"$pow",function(e,$){var i=this;return i==0&&V.$raise(d("ZeroDivisionError"),"divided by 0"),$===void 0?i["$**"](e):(d("Integer")["$==="](e)||V.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),e<0&&V.$raise(d("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),d("Integer")["$==="]($)||V.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),$===0&&V.$raise(d("ZeroDivisionError"),"divided by 0"),i["$**"](e)["$%"]($))},-2),E(o,"$pred",function(){var e=this;return e-1}),E(o,"$quo",function n(e){var $=n.$$p||s,i=this;return n.$$p=null,ee(d("Integer"),i)?ie(i,J(i,"quo",n,!1,!0),"quo",[e],$):P(i,e)}),E(o,"$rationalize",function(e){var $,i,u=this,m=s,z=s;return arguments.length>1&&V.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(d("Integer"),u)?d("Rational").$new(u,1):Q(u["$infinite?"]())?V.$raise(d("FloatDomainError"),"Infinity"):Q(u["$nan?"]())?V.$raise(d("FloatDomainError"),"NaN"):Q(e==null)?(i=d("Math").$frexp(u),$=X(i),m=$[0]==null?s:$[0],z=$[1]==null?s:$[1],m=d("Math").$ldexp(m,d(d("Float"),"MANT_DIG")).$to_i(),z=Z(z,d(d("Float"),"MANT_DIG")),d("Rational").$new(S(2,m),1["$<<"](Z(1,z))).$rationalize(d("Rational").$new(1,1["$<<"](Z(1,z))))):u.$to_r().$rationalize(e)},-1),E(o,"$remainder",function(e){var $=this;return Z($,S(e,P($,e).$truncate()))}),E(o,"$round",function(e){var $,i,u=this,m=s;if(ee(d("Integer"),u)){if(Q(e==null)||(ee(d("Float"),e)&&Q(e["$infinite?"]())&&V.$raise(d("RangeError"),"Infinity"),e=F["$coerce_to!"](e,d("Integer"),"to_int"),Q(g(e,d(d("Integer"),"MIN")))&&V.$raise(d("RangeError"),"out of bounds"),Q(e>=0)))return u;if(e=e["$-@"](),.415241*e-.125>u.$size())return 0;var z=Math.pow(10,e),M=Math.floor((Math.abs(u)+z/2)/z)*z;return u<0?-M:M}else{if(Q(u["$nan?"]())&&Q(e==null)&&V.$raise(d("FloatDomainError"),"NaN"),e=F["$coerce_to!"](e||0,d("Integer"),"to_int"),Q(U(e,0)))Q(u["$nan?"]())?V.$raise(d("RangeError"),"NaN"):Q(u["$infinite?"]())&&V.$raise(d("FloatDomainError"),"Infinity");else{if(w(e,0))return Math.round(u);if(Q(u["$nan?"]())||Q(u["$infinite?"]()))return u}return i=d("Math").$frexp(u),$=X(i),$[0]==null||$[0],m=$[1]==null?s:$[1],Q(p(e,Z(ne(d(d("Float"),"DIG"),2),Q(N(m,0))?P(m,4):Z(P(m,3),1))))?u:Q(g(e,(Q(N(m,0))?ne(P(m,3),1):P(m,4))["$-@"]()))?0:Math.round(u*Math.pow(10,e))/Math.pow(10,e)}},-1),E(o,"$times",function n(){var e=n.$$p||s,$=this;if(n.$$p=null,!Q(e))return G($,"enum_for",["times"],function u(){var m=u.$$s==null?this:u.$$s;return m},{$$s:$});for(var i=0;i<$;i++)e(i);return $}),E(o,"$to_f",R),E(o,"$to_i",function(){var e=this;return e<0?Math.ceil(e):Math.floor(e)}),E(o,"$to_r",function(){var e,$,i=this,u=s,m=s;return ee(d("Integer"),i)?d("Rational").$new(i,1):($=d("Math").$frexp(i),e=X($),u=e[0]==null?s:e[0],m=e[1]==null?s:e[1],u=d("Math").$ldexp(u,d(d("Float"),"MANT_DIG")).$to_i(),m=Z(m,d(d("Float"),"MANT_DIG")),S(u,d(d("Float"),"RADIX")["$**"](m)).$to_r())}),E(o,"$to_s",function(e){var $=this;return e==null&&(e=10),e=F["$coerce_to!"](e,d("Integer"),"to_int"),(Q(g(e,2))||Q(N(e,36)))&&V.$raise(d("ArgumentError"),"invalid radix "+e),w($,0)&&Q(1/$===-1/0)?"-0.0":$.toString(e)},-1),E(o,"$truncate",function(e){var $=this;e==null&&(e=0);var i=$.$to_f();if(i%1===0&&e>=0)return i;var u=Math.pow(10,e),m=parseInt(i*u,10)/u;return i%1===0&&(m=Math.round(m)),m},-1),E(o,"$digits",function(e){var $=this;e==null&&(e=10),Q(g($,0))&&V.$raise(d(d("Math"),"DomainError"),"out of domain"),e=F["$coerce_to!"](e,d("Integer"),"to_int"),Q(g(e,2))&&V.$raise(d("ArgumentError"),"invalid radix "+e),$!=parseInt($)&&V.$raise(d("NoMethodError"),"undefined method `digits' for "+$.$inspect());var i=$,u=[];if($==0)return[0];for(;i!=0;)u.push(i%e),i=parseInt(i/e,10);return u},-1),E(o,"$divmod",function n(e){var $=n.$$p||s,i=this;return n.$$p=null,Q(i["$nan?"]())||Q(e["$nan?"]())?V.$raise(d("FloatDomainError"),"NaN"):Q(i["$infinite?"]())?V.$raise(d("FloatDomainError"),"Infinity"):ie(i,J(i,"divmod",n,!1,!0),"divmod",[e],$)}),E(o,"$upto",function n(e){var $=n.$$p||s,i=this;if(n.$$p=null,$===s)return G(i,"enum_for",["upto",e],function m(){var z=m.$$s==null?this:m.$$s;return ee(d("Numeric"),e)||V.$raise(d("ArgumentError"),"comparison of "+z.$class()+" with "+e.$class()+" failed"),Q(g(e,z))?0:ne(Z(e,z),1)},{$$s:i});e.$$is_number||V.$raise(d("ArgumentError"),"comparison of "+i.$class()+" with "+e.$class()+" failed");for(var u=i;u<=e;u++)$(u);return i}),E(o,"$zero?",function(){var e=this;return e==0}),E(o,"$size",x(4)),E(o,"$nan?",function(){var e=this;return isNaN(e)}),E(o,"$finite?",function(){var e=this;return e!=1/0&&e!=-1/0&&!isNaN(e)}),E(o,"$infinite?",function(){var e=this;return e==1/0?1:e==-1/0?-1:s}),E(o,"$positive?",function(){var e=this;return e!=0&&(e==1/0||1/e>0)}),E(o,"$negative?",function(){var e=this;return e==-1/0||1/e<0});function c(n){var e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,n,!0),e}function f(n){return new DataView(n.buffer).getFloat64(0,!0)}function a(n){for(var e=c(n),$=0;$<e.length;$++)if(e[$]===255)e[$]=0;else{e[$]++;break}return f(e)}function t(n){for(var e=c(n),$=0;$<e.length;$++)if(e[$]===0)e[$]=255;else{e[$]--;break}return f(e)}return E(o,"$next_float",function(){var e=this;return w(e,d(d("Float"),"INFINITY"))?d(d("Float"),"INFINITY"):Q(e["$nan?"]())?d(d("Float"),"NAN"):Q(p(e,0))?a(Math.abs(e)):t(e)}),E(o,"$prev_float",function(){var e=this;return w(e,d(d("Float"),"INFINITY")["$-@"]())?d(d("Float"),"INFINITY")["$-@"]():Q(e["$nan?"]())?d(d("Float"),"NAN"):Q(N(e,0))?t(e):-a(Math.abs(e))}),K(o,"arg","angle"),K(o,"eql?","=="),K(o,"fdiv","/"),K(o,"inspect","to_s"),K(o,"kind_of?","is_a?"),K(o,"magnitude","abs"),K(o,"modulo","%"),K(o,"object_id","__id__"),K(o,"phase","angle"),K(o,"succ","next"),K(o,"to_int","to_i")}("::",d("Numeric")),D("::","Fixnum",d("Number")),function(k,h,_){var o=y(k,h,"Integer"),H=[o].concat(_);return o.$$is_number_class=!0,o.$$is_integer_class=!0,function(j,c){var f=[j].concat(c),a=r.$r(f);return E(j,"$allocate",function(){var n=this;return V.$raise(d("TypeError"),"allocator undefined for "+n.$name())}),r.udef(j,"$new"),E(j,"$sqrt",function(n){return n=F["$coerce_to!"](n,d("Integer"),"to_int"),n<0&&V.$raise(d(d("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(n),10)}),E(j,"$try_convert",function(n){var e=this;return a("Opal")["$coerce_to?"](n,e,"to_int")})}(r.get_singleton_class(o),H),D(o,"MAX",Math.pow(2,30)-1),D(o,"MIN",-Math.pow(2,30))}("::",d("Numeric"),b),function(k,h,_){var o=y(k,h,"Float");return o.$$is_number_class=!0,function(H,j){return E(H,"$allocate",function(){var f=this;return V.$raise(d("TypeError"),"allocator undefined for "+f.$name())}),r.udef(H,"$new"),E(H,"$===",function(f){return!!f.$$is_number})}(r.get_singleton_class(o)),D(o,"INFINITY",1/0),D(o,"MAX",Number.MAX_VALUE),D(o,"MIN",Number.MIN_VALUE),D(o,"NAN",NaN),D(o,"DIG",15),D(o,"MANT_DIG",53),D(o,"RADIX",2),D(o,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",d("Numeric"))};Opal.modules["corelib/range"]=function(r){var y=r.klass,F=r.truthy,V=r.Kernel,E=r.def,ee=r.not,Q=r.send2,N=r.find_super,W=r.lambda,g=r.send,K=r.rb_ge,ie=r.rb_gt,J=r.eqeq,G=r.rb_le,ne=r.rb_lt,Z=r.eqeqeq,w=r.return_ivar,R=r.rb_minus,P=r.Opal,X=r.rb_divide,S=r.rb_plus,U=r.rb_times,p=r.thrower,x=r.alias,D=r.top,I=[],b=r.nil,s=r.$$$;return r.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),D.$require("corelib/enumerable"),function(d,k,h){var _=y(d,k,"Range"),o=[_].concat(h),H=r.$r(o),j=_.$$prototype;j.begin=j.end=j.excl=b,_.$include(s("Enumerable")),_.$$prototype.$$is_range=!0,_.$attr_reader("begin","end"),E(_,"$initialize",function(a,t,n){var e=this;return n==null&&(n=!1),F(e.begin)&&V.$raise(s("NameError"),"'initialize' called twice"),F(a["$<=>"](t))||F(a["$nil?"]())||F(t["$nil?"]())||V.$raise(s("ArgumentError"),"bad value for range"),e.begin=a,e.end=t,e.excl=n},-3),E(_,"$===",function(a){var t=this;return F(a.$$is_range)?!1:t["$cover?"](a)});function c(f){return f.begin===b||f.end===b||f.begin===-1/0||f.end===1/0||f.begin===1/0||f.end===-1/0}return E(_,"$count",function f(){var a=f.$$p||b,t=this;return f.$$p=null,ee(a!==b)&&F(c(t))?s(s("Float"),"INFINITY"):Q(t,N(t,"count",f,!1,!0),"count",[],a)}),E(_,"$to_a",function f(){var a=f.$$p||b,t=this;return f.$$p=null,F(c(t))&&V.$raise(s("TypeError"),"cannot convert endless range to an array"),Q(t,N(t,"to_a",f,!1,!0),"to_a",[],a)}),E(_,"$cover?",function(a){var t=this,n=b,e=b,$=b,i=b,u=b,m=b,z=b,M=b;return n=W(function(L,O){var ae=b;return L==null&&(L=b),O==null&&(O=b),F(ae=L["$<=>"](O))?ae:1}),F(a.$$is_range)?(e=a.$begin(),$=a.$end(),i=a["$exclude_end?"](),F(t.begin)&&F(e["$nil?"]())||F(t.end)&&F($["$nil?"]())||F(e)&&F($)&&F(g(n.$call(e,$),"then",[],function(L){return L==null&&(L=b),F(i)?K(L,0):ie(L,0)}))||F(e)&&ee(t["$cover?"](e))?!1:(u=n.$call(t.end,$),J(t.excl,i)?K(u,0):F(t.excl)?ie(u,0):F(K(u,0))?!0:(m=a.$max(),F(z=m["$nil?"]()["$!"]())?G(n.$call(m,t.end),0):z))):F(t.begin)&&F(ie(n.$call(t.begin,a),0))?!1:F(t.end["$nil?"]())?!0:(M=n.$call(a,t.end),F(t.excl)?ne(M,0):G(M,0))}),E(_,"$each",function f(){var a=f.$$p||b,t=this,n=b,e=b,$=b;if(f.$$p=null,a===b)return g(t,"enum_for",["each"],function m(){var z=m.$$s==null?this:m.$$s;return z.$size()},{$$s:t});var i,u;if(t.begin.$$is_number&&t.end.$$is_number){for((t.begin%1!==0||t.end%1!==0)&&V.$raise(s("TypeError"),"can't iterate from Float"),i=t.begin,u=t.end+(F(t.excl)?0:1);i<u;i++)a(i);return t}if(t.begin.$$is_string&&t.end.$$is_string)return g(t.begin,"upto",[t.end,t.excl],a.$to_proc()),t;for(n=t.begin,e=t.end,F(n["$respond_to?"]("succ"))||V.$raise(s("TypeError"),"can't iterate from "+n.$class());F(F($=t.end["$nil?"]())?$:ne(n["$<=>"](e),0));)r.yield1(a,n),n=n.$succ();return ee(t.excl)&&J(n,e)&&r.yield1(a,n),t}),E(_,"$eql?",function(a){var t=this,n=b,e=b;return Z(s("Range"),a)?F(n=F(e=t.excl["$==="](a["$exclude_end?"]()))?t.begin["$eql?"](a.$begin()):e)?t.end["$eql?"](a.$end()):n:!1}),E(_,"$exclude_end?",w("excl")),E(_,"$first",function f(a){var t=f.$$p||b,n=this;return f.$$p=null,F(n.begin["$nil?"]())&&V.$raise(s("RangeError"),"cannot get the minimum of beginless range"),F(a==null)?n.begin:Q(n,N(n,"first",f,!1,!0),"first",[a],t)},-1),E(_,"$include?",function f(a){var t=f.$$p||b,n=this,e=b,$=b;if(f.$$p=null,F(n.begin.$$is_number||n.end.$$is_number)||F(n.begin["$is_a?"](s("Time")))||F(n.end["$is_a?"](s("Time")))||F(s("Integer").$try_convert(n.begin))||F(s("Integer").$try_convert(n.end)))return n["$cover?"](a);if(F(n.begin.$$is_string||n.end.$$is_string)){if(F(n.begin.$$is_string&&n.end.$$is_string))return g(n.begin.$upto(n.end,n.excl),"any?",[],function(u){return u==null&&(u=b),u["$=="](a)});if(F(n.begin["$nil?"]()))return e=a["$<=>"](n.end),F($=e["$nil?"]()["$!"]())?F(n.excl)?ne(e,0):G(e,0):$;if(F(n.end["$nil?"]()))return e=n.begin["$<=>"](a),F($=e["$nil?"]()["$!"]())?G(e,0):$}return Q(n,N(n,"include?",f,!1,!0),"include?",[a],t)}),E(_,"$last",function(a){var t=this;return F(t.end["$nil?"]())&&V.$raise(s("RangeError"),"cannot get the maximum of endless range"),F(a==null)?t.end:t.$to_a().$last(a)},-1),E(_,"$max",function f(){var a=f.$$p||b,t=this;return f.$$p=null,F(t.end["$nil?"]())?V.$raise(s("RangeError"),"cannot get the maximum of endless range"):a!==b?Q(t,N(t,"max",f,!1,!0),"max",[],a):ee(t.begin["$nil?"]())&&(F(ie(t.begin,t.end))||F(t.excl)&&J(t.begin,t.end))?b:t.excl?t.end-1:t.end}),E(_,"$min",function f(){var a=f.$$p||b,t=this;return f.$$p=null,F(t.begin["$nil?"]())?V.$raise(s("RangeError"),"cannot get the minimum of beginless range"):a!==b?Q(t,N(t,"min",f,!1,!0),"min",[],a):ee(t.end["$nil?"]())&&(F(ie(t.begin,t.end))||F(t.excl)&&J(t.begin,t.end))?b:t.begin}),E(_,"$size",function(){var a=this.begin,t=this.end;if(s("Numeric")["$==="](a)){if(s("Numeric")["$==="](t)){var n=R(t,a);return n<0?0:(this.excl||(n+=1),s("Float")["$==="](a)||s("Float")["$==="](t)?Math.floor(n):n)}else if(t===b)return 1/0}else if(a===b&&s("Numeric")["$==="](t))return 1/0;return b}),E(_,"$step",function f(a){var t=f.$$p||b,n=this,e=b,$=b;f.$$p=null;function i(){a==null?a=1:a.$$is_number||(a=P["$coerce_to!"](a,s("Integer"),"to_int")),a<0?V.$raise(s("ArgumentError"),"step can't be negative"):a===0&&V.$raise(s("ArgumentError"),"step can't be 0")}function u(){if(!n.begin["$respond_to?"]("succ")||n.begin.$$is_string&&n.end.$$is_string)return b;if(a%1===0)return X(n.$size(),a).$ceil();var m=n.begin,z=n.end,M=Math.abs,A=Math.floor,L=(M(m)+M(z)+M(z-m))/M(a)*s(s("Float"),"EPSILON"),O;return L>.5&&(L=.5),n.excl?(O=A((z-m)/a-L),O*a+m<z&&O++):O=A((z-m)/a+L)+1,O}return t===b?(F(n.begin["$is_a?"](H("Numeric")))||F(n.begin["$nil?"]()))&&(F(n.end["$is_a?"](H("Numeric")))||F(n.end["$nil?"]()))&&ee(F(e=n.begin["$nil?"]())?n.end["$nil?"]():e)?s(s("Enumerator"),"ArithmeticSequence").$new(n,a,"step"):g(n,"enum_for",["step",a],function(){return i(),u()}):(i(),F(n.begin.$$is_number&&n.end.$$is_number)?($=0,function(){try{var m=p("break");return g(n,"loop",[],function z(){var M=z.$$s==null?this:z.$$s,A=b;return M.begin==null&&(M.begin=b),M.excl==null&&(M.excl=b),M.end==null&&(M.end=b),A=S(M.begin,U($,a)),F(M.excl)?F(K(A,M.end))&&m.$throw(b,z.$$is_lambda):F(ie(A,M.end))&&m.$throw(b,z.$$is_lambda),r.yield1(t,A),$=S($,1)},{$$s:n})}catch(z){if(z===m)return z.$v;throw z}finally{m.is_orphan=!0}}()):(n.begin.$$is_string&&n.end.$$is_string&&a%1!==0&&V.$raise(s("TypeError"),"no implicit conversion to float from string"),g(n,"each_with_index",[],function(z,M){return z==null&&(z=b),M==null&&(M=b),J(M["$%"](a),0)?r.yield1(t,z):b})),n)},-1),E(_,"$%",function(a){var t=this;return F(t.begin["$is_a?"](H("Numeric")))&&F(t.end["$is_a?"](H("Numeric")))?s(s("Enumerator"),"ArithmeticSequence").$new(t,a,"%"):t.$step(a)}),E(_,"$bsearch",function f(){var a=f.$$p||b,t=this;return f.$$p=null,a===b?t.$enum_for("bsearch"):(F(c(t)&&(t.begin.$$is_number||t.end.$$is_number))&&V.$raise(s("NotImplementedError"),"Can't #bsearch an infinite range"),F(t.begin.$$is_number&&t.end.$$is_number)||V.$raise(s("TypeError"),"can't do binary search for "+t.begin.$class()),g(t.$to_a(),"bsearch",[],a.$to_proc()))}),E(_,"$to_s",function(){var a=this,t=b;return""+(F(t=a.begin)?t:"")+(F(a.excl)?"...":"..")+(F(t=a.end)?t:"")}),E(_,"$inspect",function(){var a=this,t=b;return""+(F(t=a.begin)?a.begin.$inspect():t)+(F(a.excl)?"...":"..")+(F(t=a.end)?a.end.$inspect():t)}),E(_,"$marshal_load",function(a){var t=this;return t.begin=a["$[]"]("begin"),t.end=a["$[]"]("end"),t.excl=a["$[]"]("excl")}),E(_,"$hash",function(){var a=this;return[s("Range"),a.begin,a.end,a.excl].$hash()}),x(_,"==","eql?"),x(_,"member?","include?")}("::",null,I)};Opal.modules["corelib/proc"]=function(r){var y=r.slice,F=r.each_ivar,V=r.klass,E=r.truthy,ee=r.Kernel,Q=r.defs,N=r.def,W=r.send,g=r.to_a,K=r.return_self,ie=r.ensure_kwargs,J=r.hash_get,G=r.Opal,ne=r.alias,Z=r.nil,w=r.$$$;return r.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(R,P){var X=V(R,P,"Proc");r.prop(X.$$prototype,"$$is_proc",!0),r.prop(X.$$prototype,"$$is_lambda",!1),Q(X,"$new",function p(){var x=p.$$p||Z;return p.$$p=null,E(x)||ee.$raise(w("ArgumentError"),"tried to create a Proc object without a block"),x});function S(p,x){if(p.$$ret)try{return p.apply(null,x)}catch(D){if(D===p.$$ret)return D.$v;throw D}else return p.apply(null,x)}function U(p,x){if(p.$$brk)try{return r.yieldX(p,x)}catch(D){if(D===p.$$brk)return D.$v;throw D}else return r.yieldX(p,x)}return N(X,"$call",function p(x){var D=p.$$p||Z,I,b,s=this;return p.$$p=null,I=y(arguments),b=I,D!==Z&&(s.$$p=D),s.$$is_lambda?S(s,b):U(s,b)},-1),N(X,"$>>",function p(x){p.$$p;var D=this;return p.$$p=null,W(ee,"proc",[],function I(b){var s=I.$$p||Z,d,k,h=I.$$s==null?this:I.$$s,_=Z;return I.$$p=null,d=y(arguments),k=d,_=W(h,"call",g(k),s.$to_proc()),x.$call(_)},{$$arity:-1,$$s:D})}),N(X,"$<<",function p(x){p.$$p;var D=this;return p.$$p=null,W(ee,"proc",[],function I(b){var s=I.$$p||Z,d,k,h=I.$$s==null?this:I.$$s,_=Z;return I.$$p=null,d=y(arguments),k=d,_=W(x,"call",g(k),s.$to_proc()),h.$call(_)},{$$arity:-1,$$s:D})}),N(X,"$to_proc",K),N(X,"$lambda?",function(){var x=this;return!!x.$$is_lambda}),N(X,"$arity",function(){var x=this;return x.$$is_curried?-1:x.$$arity!=null?x.$$arity:x.length}),N(X,"$source_location",function(){var x=this,D=Z;return x.$$is_curried?Z:E(D=x.$$source_location)?D:Z}),N(X,"$binding",function(){var x=this;return x.$$is_curried&&ee.$raise(w("ArgumentError"),"Can't create Binding"),E(w("::","Binding","skip_raise")?"constant":Z)?w("Binding").$new(Z,[],x.$$s,x.$source_location()):Z}),N(X,"$parameters",function(x){var D,I=this;if(x=ie(x),D=J(x,"lambda"),I.$$is_curried)return[["rest"]];if(I.$$parameters){if(D??I.$$is_lambda)return I.$$parameters;var b=[],s,d;for(s=0,d=I.$$parameters.length;s<d;s++){var k=I.$$parameters[s];k[0]==="req"&&(k=["opt",k[1]]),b.push(k)}return b}else return[]},-1),N(X,"$curry",function(x){var D=this;x===void 0?x=D.length:(x=G["$coerce_to!"](x,w("Integer"),"to_int"),D.$$is_lambda&&x!==D.length&&ee.$raise(w("ArgumentError"),"wrong number of arguments ("+x+" for "+D.length+")"));function I(){var b=y(arguments),s=b.length,d;return s>x&&D.$$is_lambda&&!D.$$is_curried&&ee.$raise(w("ArgumentError"),"wrong number of arguments ("+s+" for "+x+")"),s>=x?D.$call.apply(D,b):(d=function(){return I.apply(null,b.concat(y(arguments)))},d.$$is_lambda=D.$$is_lambda,d.$$is_curried=!0,d)}return I.$$is_lambda=D.$$is_lambda,I.$$is_curried=!0,I},-1),N(X,"$dup",function(){var x=this,D=x.$$original_proc||x,I=function(){return D.apply(this,arguments)};return F(x,function(b){I[b]=x[b]}),I}),ne(X,"===","call"),ne(X,"clone","dup"),ne(X,"yield","call"),ne(X,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(r){var y=r.klass,F=r.def,V=r.truthy,E=r.slice,ee=r.alias,Q=r.Kernel,N=r.send,W=r.to_a,g=r.nil,K=r.$$$;return r.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(ie,J){var G=y(ie,J,"Method"),ne=G.$$prototype;return ne.method=ne.receiver=ne.owner=ne.name=g,G.$attr_reader("owner","receiver","name"),F(G,"$initialize",function(w,R,P,X){var S=this;return S.receiver=w,S.owner=R,S.name=X,S.method=P}),F(G,"$arity",function(){var w=this;return w.method.$arity()}),F(G,"$parameters",function(){var w=this;return w.method.$$parameters}),F(G,"$source_location",function(){var w=this,R=g;return V(R=w.method.$$source_location)?R:["(eval)",0]}),F(G,"$comments",function(){var w=this,R=g;return V(R=w.method.$$comments)?R:[]}),F(G,"$call",function Z(w){var R=Z.$$p||g,P,X,S=this;return Z.$$p=null,P=E(arguments),X=P,S.method.$$p=R,S.method.apply(S.receiver,X)},-1),F(G,"$curry",function(w){var R=this;return R.method.$curry(w)},-1),F(G,"$>>",function(w){var R=this;return R.method["$>>"](w)}),F(G,"$<<",function(w){var R=this;return R.method["$<<"](w)}),F(G,"$unbind",function(){var w=this;return K("UnboundMethod").$new(w.receiver.$class(),w.owner,w.method,w.name)}),F(G,"$to_proc",function(){var w=this,R=w.$call.bind(w);return R.$$unbound=w.method,R.$$is_lambda=!0,R.$$arity=w.method.$$arity==null?w.method.length:w.method.$$arity,R.$$parameters=w.method.$$parameters,R}),F(G,"$inspect",function(){var w=this;return"#<"+w.$class()+": "+w.receiver.$class()+"#"+w.name+" (defined in "+w.owner+" in "+w.$source_location().$join(":")+")>"}),ee(G,"[]","call"),ee(G,"===","call")}("::",null),function(ie,J){var G=y(ie,J,"UnboundMethod"),ne=G.$$prototype;return ne.method=ne.owner=ne.name=ne.source=g,G.$attr_reader("source","owner","name"),F(G,"$initialize",function(w,R,P,X){var S=this;return S.source=w,S.owner=R,S.method=P,S.name=X,S.$$method=P}),F(G,"$arity",function(){var w=this;return w.method.$arity()}),F(G,"$parameters",function(){var w=this;return w.method.$$parameters}),F(G,"$source_location",function(){var w=this,R=g;return V(R=w.method.$$source_location)?R:["(eval)",0]}),F(G,"$comments",function(){var w=this,R=g;return V(R=w.method.$$comments)?R:[]}),F(G,"$bind",function(w){var R=this;if(R.owner.$$is_module||r.is_a(w,R.owner))return K("Method").$new(w,R.owner,R.method,R.name);Q.$raise(K("TypeError"),"can't bind singleton method to a different class (expected "+w+".kind_of?("+R.owner+" to be true)")}),F(G,"$bind_call",function Z(w,R){var P=Z.$$p||g,X,S,U=this;return Z.$$p=null,X=E(arguments,1),S=X,N(U.$bind(w),"call",W(S),P.$to_proc())},-2),F(G,"$inspect",function(){var w=this;return"#<"+w.$class()+": "+w.source+"#"+w.name+" (defined in "+w.owner+" in "+w.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(r){var y=r.gvars,F=r.const_set,V=r.Object,E=r.nil;return r.add_stubs("new"),y["&"]=y["~"]=y["`"]=y["'"]=E,y.LOADED_FEATURES=y['"']=r.loaded_features,y.LOAD_PATH=y[":"]=[],y["/"]=`
`,y[","]=E,F("::","ARGV",[]),F("::","ARGF",V.$new()),F("::","ENV",new Map),y.VERBOSE=!1,y.DEBUG=!1,y.SAFE=0};Opal.modules["corelib/io"]=function(r){var y=r.klass,F=r.const_set,V=r.not,E=r.truthy,ee=r.def,Q=r.return_ivar,N=r.return_val,W=r.slice,g=r.Kernel,K=r.gvars,ie=r.send,J=r.to_a,G=r.rb_plus,ne=r.neqeq,Z=r.range,w=r.eqeq,R=r.to_ary,P=r.rb_gt,X=r.assign_ivar_val,S=r.alias,U,p=r.nil,x=r.$$$;r.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(I,b){var s=y(I,b,"IO"),d=s.$$prototype;return d.read_buffer=d.closed=p,F(s,"SEEK_SET",0),F(s,"SEEK_CUR",1),F(s,"SEEK_END",2),F(s,"SEEK_DATA",3),F(s,"SEEK_HOLE",4),F(s,"READABLE",1),F(s,"WRITABLE",4),s.$attr_reader("eof"),s.$attr_accessor("read_proc","sync","tty","write_proc"),ee(s,"$initialize",function(h,_){var o=this;return _==null&&(_="r"),o.fd=h,o.flags=_,o.eof=!1,E(_["$include?"]("r"))&&V(_["$match?"](/[wa+]/))?o.closed="write":E(_["$match?"](/[wa]/))&&V(_["$match?"](/[r+]/))?o.closed="read":p},-2),ee(s,"$fileno",Q("fd")),ee(s,"$tty?",function(){var h=this;return h.tty==!0}),ee(s,"$write",function(h){var _=this;return _.write_proc(h),h.$size()}),ee(s,"$flush",N(p)),ee(s,"$<<",function(h){var _=this;return _.$write(h),_}),ee(s,"$print",function(h){var _,o,H=this;K[","]==null&&(K[","]=p),_=W(arguments),o=_;for(var j=0,c=o.length;j<c;j++)o[j]=g.$String(o[j]);return H.$write(o.join(K[","])),p},-1),ee(s,"$puts",function(h){var _,o,H=this;_=W(arguments),o=_;var j;if(o.length===0)return H.$write(`
`),p;for(var c=0,f=o.length;c<f;c++)if(o[c].$$is_array){var a=o[c].$flatten();a.length>0&&ie(H,"puts",J(a))}else o[c].$$is_string?j=o[c].valueOf():j=g.$String(o[c]),j.endsWith(`
`)||(j+=`
`),H.$write(j);return p},-1),ee(s,"$getc",function(){var h=this,_=p,o=p,H=p;h.read_buffer=E(_=h.read_buffer)?_:"",o="";do if(h.read_buffer=G(h.read_buffer,o),ne(h.read_buffer,""))return H=h.read_buffer["$[]"](0),h.read_buffer=h.read_buffer["$[]"](Z(1,-1,!1)),H;while(E(o=h.$sysread_noraise(1)));return p}),ee(s,"$getbyte",function(){var h,_=this;return h=_.$getc(),h===p||h==null?p:h.$ord()}),ee(s,"$readbyte",function(){var h=this;return h.$readchar().$ord()}),ee(s,"$readchar",function(){var h=this,_=p;return E(_=h.$getc())?_:g.$raise(x("EOFError"),"end of file reached")}),ee(s,"$readline",function(h){var _,o,H=this,j=p;return _=W(arguments),o=_,E(j=ie(H,"gets",J(o)))?j:g.$raise(x("EOFError"),"end of file reached")},-1),ee(s,"$gets",function(h,_,o){var H,j,c=this,f=p,a=p,t=p,n=p,e=p,$=p;K["/"]==null&&(K["/"]=p),h==null&&(h=!1),_==null&&(_=p),o==null&&(o=new Map),E(h.$$is_number)&&V(_)&&(H=[!1,h,_],h=H[0],_=H[1],o=H[2]),E(h.$$is_hash)&&V(_)&&w(o,new Map)?(H=[!1,p,h],h=H[0],_=H[1],o=H[2]):E(_.$$is_hash)&&w(o,new Map)&&(H=[h,p,_],h=H[0],_=H[1],o=H[2]),f=h,w(h,!1)&&(h=K["/"]),w(h,"")&&(h=/\r?\n\r?\n/),h=E(a=h)?a:"",w(f,"")||(h=h.$to_str()),t=w(f,"")?2:h.$length(),w(h," ")&&(h=/ /),c.read_buffer=E(a=c.read_buffer)?a:"",n="",e=p;do if(c.read_buffer=G(c.read_buffer,n),ne(h,"")&&E(E(h.$$is_regexp)?c.read_buffer["$match?"](h):c.read_buffer["$include?"](h))){$=c.read_buffer,j=c.read_buffer.$split(h,2),H=R(j),e=H[0]==null?p:H[0],c.read_buffer=H[1]==null?p:H[1],ne(e,$)&&(e=G(e,$["$[]"](e.$length(),t)));break}while(E(n=c.$sysread_noraise(w(h,"")?65536:1)));return E(e)||(H=[E(a=c.read_buffer)?a:"",""],e=H[0],c.read_buffer=H[1],w(e,"")&&(e=p)),E(e)&&(E(_)&&(e=e["$[]"](r.Range.$new(0,_,!0)),c.read_buffer=G(e["$[]"](r.Range.$new(_,-1,!1)),c.read_buffer)),E(o["$[]"]("chomp"))&&(e=e.$sub(/\r?\n$/,"")),w(f,"")&&(e=e.$sub(/^[\r\n]+/,""))),w(f,!1)&&(K._=e),e},-1),ee(s,"$sysread",function(h){var _=this,o=p;return E(o=_.read_proc(h))?o:(_.eof=!0,g.$raise(x("EOFError"),"end of file reached"))}),ee(s,"$sysread_noraise",function(h){var _=this;try{return _.$sysread(h)}catch(o){if(r.rescue(o,[x("EOFError")]))try{return p}finally{r.pop_exception(o)}else throw o}}),ee(s,"$readpartial",function(h){var _,o=this,H=p,j=p,c=p;return o.read_buffer=E(H=o.read_buffer)?H:"",j=o.$sysread(h),_=[G(o.read_buffer,E(H=j)?H:""),""],c=_[0],o.read_buffer=_[1],w(c,"")&&(c=p),c}),ee(s,"$read",function(h){var _,o=this,H=p,j=p,c=p;h==null&&(h=p),o.read_buffer=E(H=o.read_buffer)?H:"",j="",c=p;do if(o.read_buffer=G(o.read_buffer,j),E(h)&&E(P(o.read_buffer.$length(),h)))return _=[o.read_buffer["$[]"](r.Range.$new(0,h,!0)),o.read_buffer["$[]"](r.Range.$new(h,-1,!1))],c=_[0],o.read_buffer=_[1],c;while(E(j=o.$sysread_noraise(E(H=h)?H:65536)));return _=[o.read_buffer,""],c=_[0],o.read_buffer=_[1],c},-1),ee(s,"$readlines",function(h){var _=this;return K["/"]==null&&(K["/"]=p),h==null&&(h=K["/"]),_.$each_line(h).$to_a()},-1),ee(s,"$each",function k(h,_){var o=k.$$p||p,H,j,c,f=this,a=p;if(K["/"]==null&&(K["/"]=p),k.$$p=null,H=W(arguments),H.length>0&&(j=H.shift()),j==null&&(j=K["/"]),c=H,o===p)return ie(f,"enum_for",["each",j].concat(J(c)));for(;E(a=ie(f,"gets",[j].concat(J(c))));)r.yield1(o,a);return f},-1),ee(s,"$each_byte",function k(){var h=k.$$p||p,_=this,o=p;if(k.$$p=null,h===p)return _.$enum_for("each_byte");for(;E(o=_.$getbyte());)r.yield1(h,o);return _}),ee(s,"$each_char",function k(){var h=k.$$p||p,_=this,o=p;if(k.$$p=null,h===p)return _.$enum_for("each_char");for(;E(o=_.$getc());)r.yield1(h,o);return _}),ee(s,"$close",X("closed","both")),ee(s,"$close_read",function(){var h=this;return w(h.closed,"write")?h.closed="both":h.closed="read"}),ee(s,"$close_write",function(){var h=this;return w(h.closed,"read")?h.closed="both":h.closed="write"}),ee(s,"$closed?",function(){var h=this;return h.closed["$=="]("both")}),ee(s,"$closed_read?",function(){var h=this,_=p;return E(_=h.closed["$=="]("read"))?_:h.closed["$=="]("both")}),ee(s,"$closed_write?",function(){var h=this,_=p;return E(_=h.closed["$=="]("write"))?_:h.closed["$=="]("both")}),ee(s,"$check_writable",function(){var h=this;return E(h["$closed_write?"]())?g.$raise(x("IOError"),"not opened for writing"):p}),ee(s,"$check_readable",function(){var h=this;return E(h["$closed_read?"]())?g.$raise(x("IOError"),"not opened for reading"):p}),S(s,"each_line","each"),S(s,"eof?","eof")}("::",null),F("::","STDIN",K.stdin=x("IO").$new(0,"r")),F("::","STDOUT",K.stdout=x("IO").$new(1,"w")),F("::","STDERR",K.stderr=x("IO").$new(2,"w"));var D=r.global.console;return x("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(I){process.stdout.write(I)}:function(I){D.log(I)}),x("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(I){process.stderr.write(I)}:function(I){D.warn(I)}),U=[function(I){var b=prompt();return b!==null?b+`
`:p}],ie(x("STDIN"),"read_proc=",U),U[U.length-1]};Opal.modules["opal/regexp_anchors"]=function(r){var y=r.module,F=r.const_set,V=[];r.nil;var E=r.$$$;return r.add_stubs("new"),function(ee,Q){var N=y(ee,"Opal"),W=[N].concat(Q),g=r.$r(W);return F(N,"REGEXP_START","^"),F(N,"REGEXP_END","$"),F(N,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),F(N,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),F(N,"INLINE_IDENTIFIER_REGEXP",g("Regexp").$new("[^"+E(N,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+E(N,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),F(N,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),F(N,"CONST_NAME_REGEXP",g("Regexp").$new(""+E(N,"REGEXP_START")+"(::)?[A-Z][^"+E(N,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+E(N,"REGEXP_END")))}(V[0],V)};Opal.modules["opal/mini"]=function(r){var y=r.Object;return r.nil,r.add_stubs("require"),y.$require("opal/base"),y.$require("corelib/nil"),y.$require("corelib/boolean"),y.$require("corelib/string"),y.$require("corelib/comparable"),y.$require("corelib/enumerable"),y.$require("corelib/enumerator"),y.$require("corelib/array"),y.$require("corelib/hash"),y.$require("corelib/number"),y.$require("corelib/range"),y.$require("corelib/proc"),y.$require("corelib/method"),y.$require("corelib/regexp"),y.$require("corelib/variables"),y.$require("corelib/io"),y.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(r){var y=r.coerce_to,F=r.module,V=r.slice,E=r.truthy,ee=r.eqeq,Q=r.Opal,N=r.Kernel,W=r.gvars,g=r.def,K=r.alias,ie=r.nil,J=r.$$$;return r.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(G){var ne=F(G,"Kernel");return g(ne,"$format",function(w,R){var P,X,S=ie;W.DEBUG==null&&(W.DEBUG=ie),P=V(arguments,1),X=P,ee(X.$length(),1)&&E(X["$[]"](0)["$respond_to?"]("to_ary"))&&(S=Q["$coerce_to?"](X["$[]"](0),J("Array"),"to_ary"),E(S["$nil?"]())||(X=S.$to_a()));var U="",p=0,x,D,I=w.length,b,s,d,k,h,_,o,H,j,c,f,a,t,n=1,e=0,$,i=0,u=1,m=2,z=4,M=8,A=16,L=32,O=64,ae=128;function le(){$&L&&N.$raise(J("ArgumentError"),"flag after width"),$&ae&&N.$raise(J("ArgumentError"),"flag after precision")}function _e(){$&L&&N.$raise(J("ArgumentError"),"width given twice"),$&ae&&N.$raise(J("ArgumentError"),"width after precision")}function de(q){return q>=X.length&&N.$raise(J("ArgumentError"),"too few arguments"),X[q]}function ge(){switch(e){case-1:N.$raise(J("ArgumentError"),"unnumbered("+n+") mixed with numbered");case-2:N.$raise(J("ArgumentError"),"unnumbered("+n+") mixed with named")}return e=n++,de(e-1)}function ve(q){return e>0&&N.$raise(J("ArgumentError"),"numbered("+q+") after unnumbered("+e+")"),e===-2&&N.$raise(J("ArgumentError"),"numbered("+q+") after named"),q<1&&N.$raise(J("ArgumentError"),"invalid index - "+q+"$"),e=-1,de(q-1)}function me(){return t===void 0?ge():t}function be(q){for(var T,B="";;D++){if(D===I&&N.$raise(J("ArgumentError"),"malformed format string - %*[0-9]"),w.charCodeAt(D)<48||w.charCodeAt(D)>57)return D--,T=parseInt(B,10)||0,T>2147483647&&N.$raise(J("ArgumentError"),""+q+" too big"),T;B+=w.charAt(D)}}function $e(q){var T,B=be(q);return w.charAt(D+1)==="$"?(D++,T=ve(B)):T=ge(),T.$to_int()}for(D=w.indexOf("%");D!==-1;D=w.indexOf("%",D)){switch(s=void 0,$=i,k=-1,h=-1,t=void 0,x=D,D++,w.charAt(D)){case"%":p=D;case"":case`
`:case"\0":D++;continue}e:for(;D<I;D++)switch(w.charAt(D)){case" ":le(),$|=A;continue e;case"#":le(),$|=u;continue e;case"+":le(),$|=z;continue e;case"-":le(),$|=m;continue e;case"0":le(),$|=M;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(_=be("width"),w.charAt(D+1)==="$"){if(D+2===I){s="%",D++;break e}t!==void 0&&N.$raise(J("ArgumentError"),"value given twice - %"+_+"$"),t=ve(_),D++}else _e(),$|=L,k=_;continue e;case"<":case"{":for(H=w.charAt(D)==="<"?">":"}",o="",D++;;D++){if(D===I&&N.$raise(J("ArgumentError"),"malformed name - unmatched parenthesis"),w.charAt(D)===H){if(e>0&&N.$raise(J("ArgumentError"),"named "+o+" after unnumbered("+e+")"),e===-1&&N.$raise(J("ArgumentError"),"named "+o+" after numbered"),e=-2,(X[0]===void 0||!X[0].$$is_hash)&&N.$raise(J("ArgumentError"),"one hash required"),t=X[0].$fetch(o),H===">")continue e;if(s=t.toString(),h!==-1&&(s=s.slice(0,h)),$&m)for(;s.length<k;)s=s+" ";else for(;s.length<k;)s=" "+s;break e}o+=w.charAt(D)}case"*":D++,_e(),$|=L,k=$e("width"),k<0&&($|=m,k=-k);continue e;case".":if($&ae&&N.$raise(J("ArgumentError"),"precision given twice"),$|=O|ae,h=0,D++,w.charAt(D)==="*"){D++,h=$e("precision"),h<0&&($&=~O);continue e}h=be("precision");continue e;case"d":case"i":case"u":if(b=N.$Integer(me()),b>=0){for(s=b.toString();s.length<h;)s="0"+s;if($&m)for(($&z||$&A)&&(s=($&z?"+":" ")+s);s.length<k;)s=s+" ";else if($&M&&h===-1){for(;s.length<k-($&z||$&A?1:0);)s="0"+s;($&z||$&A)&&(s=($&z?"+":" ")+s)}else for(($&z||$&A)&&(s=($&z?"+":" ")+s);s.length<k;)s=" "+s}else{for(s=(-b).toString();s.length<h;)s="0"+s;if($&m)for(s="-"+s;s.length<k;)s=s+" ";else if($&M&&h===-1){for(;s.length<k-1;)s="0"+s;s="-"+s}else for(s="-"+s;s.length<k;)s=" "+s}break e;case"b":case"B":case"o":case"x":case"X":switch(w.charAt(D)){case"b":case"B":j=2,c="0b",f=/^1+/,a="1";break;case"o":j=8,c="0",f=/^3?7+/,a="7";break;case"x":case"X":j=16,c="0x",f=/^f+/,a="f";break}if(b=N.$Integer(me()),b>=0){for(s=b.toString(j);s.length<h;)s="0"+s;if($&m)for(($&z||$&A)&&(s=($&z?"+":" ")+s),$&u&&b!==0&&(s=c+s);s.length<k;)s=s+" ";else if($&M&&h===-1){for(;s.length<k-($&z||$&A?1:0)-($&u&&b!==0?c.length:0);)s="0"+s;$&u&&b!==0&&(s=c+s),($&z||$&A)&&(s=($&z?"+":" ")+s)}else for($&u&&b!==0&&(s=c+s),($&z||$&A)&&(s=($&z?"+":" ")+s);s.length<k;)s=" "+s}else if($&z||$&A){for(s=(-b).toString(j);s.length<h;)s="0"+s;if($&m)for($&u&&(s=c+s),s="-"+s;s.length<k;)s=s+" ";else if($&M&&h===-1){for(;s.length<k-1-($&u?2:0);)s="0"+s;$&u&&(s=c+s),s="-"+s}else for($&u&&(s=c+s),s="-"+s;s.length<k;)s=" "+s}else{for(s=(b>>>0).toString(j).replace(f,a);s.length<h-2;)s=a+s;if($&m)for(s=".."+s,$&u&&(s=c+s);s.length<k;)s=s+" ";else if($&M&&h===-1){for(;s.length<k-2-($&u?c.length:0);)s=a+s;s=".."+s,$&u&&(s=c+s)}else for(s=".."+s,$&u&&(s=c+s);s.length<k;)s=" "+s}w.charAt(D)===w.charAt(D).toUpperCase()&&(s=s.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(b=N.$Float(me()),b>=0||isNaN(b)){if(b===1/0)s="Inf";else switch(w.charAt(D)){case"f":s=b.toFixed(h===-1?6:h);break;case"e":case"E":s=b.toExponential(h===-1?6:h);break;case"g":case"G":s=b.toExponential(),d=parseInt(s.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(s=b.toPrecision(h===-1?$&u?6:void 0:h));break}if($&m)for(($&z||$&A)&&(s=($&z?"+":" ")+s);s.length<k;)s=s+" ";else if($&M&&b!==1/0&&!isNaN(b)){for(;s.length<k-($&z||$&A?1:0);)s="0"+s;($&z||$&A)&&(s=($&z?"+":" ")+s)}else for(($&z||$&A)&&(s=($&z?"+":" ")+s);s.length<k;)s=" "+s}else{if(b===-1/0)s="Inf";else switch(w.charAt(D)){case"f":s=(-b).toFixed(h===-1?6:h);break;case"e":case"E":s=(-b).toExponential(h===-1?6:h);break;case"g":case"G":s=(-b).toExponential(),d=parseInt(s.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(s=(-b).toPrecision(h===-1?$&u?6:void 0:h));break}if($&m)for(s="-"+s;s.length<k;)s=s+" ";else if($&M&&b!==-1/0){for(;s.length<k-1;)s="0"+s;s="-"+s}else for(s="-"+s;s.length<k;)s=" "+s}w.charAt(D)===w.charAt(D).toUpperCase()&&b!==1/0&&b!==-1/0&&!isNaN(b)&&(s=s.toUpperCase()),s=s.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":N.$raise(J("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(b=me(),b["$respond_to?"]("to_ary")&&(b=b.$to_ary()[0]),b["$respond_to?"]("to_str")?s=b.$to_str():s=String.fromCharCode(y(b,J("Integer"),"to_int")),s.length!==1&&N.$raise(J("ArgumentError"),"%c requires a character"),$&m)for(;s.length<k;)s=s+" ";else for(;s.length<k;)s=" "+s;break e;case"p":if(s=me().$inspect(),h!==-1&&(s=s.slice(0,h)),$&m)for(;s.length<k;)s=s+" ";else for(;s.length<k;)s=" "+s;break e;case"s":if(s=me().$to_s(),h!==-1&&(s=s.slice(0,h)),$&m)for(;s.length<k;)s=s+" ";else for(;s.length<k;)s=" "+s;break e;default:N.$raise(J("ArgumentError"),"malformed format string - %"+w.charAt(D))}s===void 0&&N.$raise(J("ArgumentError"),"malformed format string - %"),U+=w.slice(p,x)+s,p=D+1}return W.DEBUG&&e>=0&&n<X.length&&N.$raise(J("ArgumentError"),"too many arguments for format string"),U+w.slice(p)},-2),K(ne,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(r){var y=r.klass,F=r.rb_plus,V=r.truthy,E=r.send,ee=r.defs,Q=r.eqeq,N=r.def,W=r.return_ivar,g=r.return_val,K=r.slice,ie=r.Kernel,J=r.Opal,G=r.rb_lt,ne,Z=r.top,w=[],R=r.$r(w),P=r.nil,X=r.$$$;return r.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),Z.$require("corelib/string"),function(S,U,p){var x=y(S,U,"Encoding"),D=[x].concat(p),I=x.$$prototype;return I.name=I.dummy=P,ee(x,"$register",function b(s,d){var k=b.$$p||P,h=this,_=P,o=P,H=P,j=P,c=P,f=P;return b.$$p=null,d==null&&(d=new Map),_=F([s],V(o=d["$[]"]("aliases"))?o:[]),H=V(o=d["$[]"]("ascii"))&&o,j=V(o=d["$[]"]("dummy"))&&o,V(d["$[]"]("inherits"))?(c=d["$[]"]("inherits").$clone(),c.$initialize(s,_,H,j)):c=h.$new(s,_,H,j),k!==P&&E(c,"instance_eval",[],k.$to_proc()),f=r.encodings,E(_,"each",[],function a(t){var n=a.$$s==null?this:a.$$s;return t==null&&(t=P),n.$const_set(t.$tr("-","_"),c),f[t]=c},{$$s:h})},-2),ee(x,"$find",function(s){var d=this;return Q(s,"default_external")?d.$default_external():r.find_encoding(s)}),x.$singleton_class().$attr_accessor("default_external"),x.$attr_reader("name","names"),N(x,"$initialize",function(s,d,k,h){var _=this;return _.name=s,_.names=d,_.ascii=k,_.dummy=h}),N(x,"$ascii_compatible?",W("ascii")),N(x,"$dummy?",W("dummy")),N(x,"$binary?",g(!1)),N(x,"$to_s",W("name")),N(x,"$inspect",function(){var s=this;return"#<Encoding:"+s.name+(V(s.dummy)?" (dummy)":P)+">"}),N(x,"$charsize",function(s){for(var d=0,k=0,h=s.length;k<h;k++){var _=s.charCodeAt(k);_>=55296&&_<=56319||d++}return d}),N(x,"$each_char",function b(s){var d=b.$$p||P;b.$$p=null;for(var k="",h=0,_=s.length;h<_;h++){var o=s.charCodeAt(h),H=s.charAt(h);if(o>=56320&&o<=57343){k=H;continue}else o>=55296&&o<=56319&&(H=k+H);s.encoding.name!="UTF-8"&&(H=new String(H),H.encoding=s.encoding),r.yield1(d,H)}}),N(x,"$each_byte",function(s){return K(arguments),ie.$raise(X("NotImplementedError"))},-1),N(x,"$bytesize",function(s){return K(arguments),ie.$raise(X("NotImplementedError"))},-1),y("::",X("StandardError"),"EncodingError"),y("::",X("EncodingError"),"CompatibilityError"),y(D[0],X("EncodingError"),"UndefinedConversionError"),P}("::",null,w),E(X("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function S(){var U=S.$$s==null?this:S.$$s;return N(U,"$each_byte",function p(x){var D=p.$$p||P;p.$$p=null;for(var I=1/0,b,s=x.length,d=null,k=0;k<s;++k){if(b=x.charCodeAt(k),b>55295&&b<57344){if(!d){if(b>56319){(I-=3)>-1&&(r.yield1(D,239),r.yield1(D,191),r.yield1(D,189));continue}else if(k+1===s){(I-=3)>-1&&(r.yield1(D,239),r.yield1(D,191),r.yield1(D,189));continue}d=b;continue}if(b<56320){(I-=3)>-1&&(r.yield1(D,239),r.yield1(D,191),r.yield1(D,189)),d=b;continue}b=(d-55296<<10|b-56320)+65536}else d&&(I-=3)>-1&&(r.yield1(D,239),r.yield1(D,191),r.yield1(D,189));if(d=null,b<128){if((I-=1)<0)break;r.yield1(D,b)}else if(b<2048){if((I-=2)<0)break;r.yield1(D,b>>6|192),r.yield1(D,b&63|128)}else if(b<65536){if((I-=3)<0)break;r.yield1(D,b>>12|224),r.yield1(D,b>>6&63|128),r.yield1(D,b&63|128)}else if(b<1114112){if((I-=4)<0)break;r.yield1(D,b>>18|240),r.yield1(D,b>>12&63|128),r.yield1(D,b>>6&63|128),r.yield1(D,b&63|128)}}}),N(U,"$bytesize",function(x){return x.$bytes().$length()})},{$$s:Z}),E(X("Encoding"),"register",["UTF-16LE"],function S(){var U=S.$$s==null?this:S.$$s;return N(U,"$each_byte",function p(x){var D=p.$$p||P;p.$$p=null;for(var I=0,b=x.length;I<b;I++){var s=x.charCodeAt(I);r.yield1(D,s&255),r.yield1(D,s>>8)}}),N(U,"$bytesize",function(x){return x.length*2})},{$$s:Z}),E(X("Encoding"),"register",["UTF-16BE",new Map([["inherits",X(X("Encoding"),"UTF_16LE")]])],function S(){var U=S.$$s==null?this:S.$$s;return N(U,"$each_byte",function p(x){var D=p.$$p||P;p.$$p=null;for(var I=0,b=x.length;I<b;I++){var s=x.charCodeAt(I);r.yield1(D,s>>8),r.yield1(D,s&255)}})},{$$s:Z}),E(X("Encoding"),"register",["UTF-32LE"],function S(){var U=S.$$s==null?this:S.$$s;return N(U,"$each_byte",function p(x){var D=p.$$p||P;p.$$p=null;for(var I=0,b=x.length;I<b;I++){var s=x.charCodeAt(I);r.yield1(D,s&255),r.yield1(D,s>>8),r.yield1(D,0),r.yield1(D,0)}}),N(U,"$bytesize",function(x){return x.length*4})},{$$s:Z}),E(X("Encoding"),"register",["UTF-32BE",new Map([["inherits",X(X("Encoding"),"UTF_32LE")]])],function S(){var U=S.$$s==null?this:S.$$s;return N(U,"$each_byte",function p(x){var D=p.$$p||P;p.$$p=null;for(var I=0,b=x.length;I<b;I++){var s=x.charCodeAt(I);r.yield1(D,0),r.yield1(D,0),r.yield1(D,s>>8),r.yield1(D,s&255)}})},{$$s:Z}),E(X("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function S(){var U=S.$$s==null?this:S.$$s;return N(U,"$each_char",function p(x){var D=p.$$p||P;p.$$p=null;for(var I=0,b=x.length;I<b;I++){var s=new String(x.charAt(I));s.encoding=x.encoding,r.yield1(D,s)}}),N(U,"$charsize",function(x){return x.length}),N(U,"$each_byte",function p(x){var D=p.$$p||P;p.$$p=null;for(var I=0,b=x.length;I<b;I++){var s=x.charCodeAt(I);r.yield1(D,s&255)}}),N(U,"$bytesize",function(x){return x.length}),N(U,"$binary?",g(!0))},{$$s:Z}),X("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",X(X("Encoding"),"ASCII_8BIT")]])),X("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",X(X("Encoding"),"ASCII_8BIT")]])),function(S,U){var p=y(S,U,"String"),x=p.$$prototype;return x.internal_encoding=x.bytes=x.encoding=P,p.$attr_reader("encoding"),p.$attr_reader("internal_encoding"),r.prop(String.prototype,"bytes",P),r.prop(String.prototype,"encoding",X(X("Encoding"),"UTF_8")),r.prop(String.prototype,"internal_encoding",X(X("Encoding"),"UTF_8")),N(p,"$b",function(){var I=this;return I.$dup().$force_encoding("binary")}),N(p,"$bytesize",function(){var I=this;return I.internal_encoding.$bytesize(I)}),N(p,"$each_byte",function D(){var I=D.$$p||P,b=this;return D.$$p=null,I===P?E(b,"enum_for",["each_byte"],function s(){var d=s.$$s==null?this:s.$$s;return d.$bytesize()},{$$s:b}):(E(b.internal_encoding,"each_byte",[b],I.$to_proc()),b)}),N(p,"$bytes",function(){var I=this,b=P;return typeof I=="string"?new String(I).$each_byte().$to_a():(I.bytes=V(b=I.bytes)?b:I.$each_byte().$to_a(),I.bytes.$dup())}),N(p,"$each_char",function D(){var I=D.$$p||P,b=this;return D.$$p=null,I===P?E(b,"enum_for",["each_char"],function s(){var d=s.$$s==null?this:s.$$s;return d.$length()},{$$s:b}):(E(b.encoding,"each_char",[b],I.$to_proc()),b)}),N(p,"$chars",function D(){var I=D.$$p||P,b=this;return D.$$p=null,V(I)?E(b,"each_char",[],I.$to_proc()):b.$each_char().$to_a()}),N(p,"$each_codepoint",function D(){var I=D.$$p||P,b=this;if(D.$$p=null,I===P)return b.$enum_for("each_codepoint");for(var s=0,d=b.length;s<d;s++)r.yield1(I,b.codePointAt(s));return b}),N(p,"$codepoints",function D(){var I=D.$$p||P,b=this;return D.$$p=null,I!==P?E(b,"each_codepoint",[],I.$to_proc()):b.$each_codepoint().$to_a()}),N(p,"$encode",function(I){var b=this;return r.enc(b,I)}),N(p,"$force_encoding",function(I){var b=this,s=b;return I===s.encoding||(I=J["$coerce_to!"](I,X("String"),"to_s"),I=X("Encoding").$find(I),I===s.encoding)||(s=r.set_encoding(s,I)),s}),N(p,"$getbyte",function(I){var b=this,s=P;return s=b.$bytes(),I=J["$coerce_to!"](I,X("Integer"),"to_int"),V(G(s.$length(),I))?P:s["$[]"](I)}),N(p,"$initialize_copy",function(I){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),N(p,"$valid_encoding?",g(!0))}("::",null),ne=[X(R("Encoding"),"UTF_8")],E(X("Encoding"),"default_external=",ne),ne[ne.length-1]};Opal.modules["corelib/math"]=function(r){var y=r.type_error,F=r.module,V=r.const_set,E=r.Class,ee=r.slice,Q=r.Kernel,N=r.defs,W=r.truthy,g=r.send,K=r.def,ie=r.rb_minus,J=r.eqeqeq,G=r.rb_divide,ne=[],Z=r.nil,w=r.$$$;return r.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(R,P){var X=F(R,"Math"),S=[X].concat(P),U=r.$r(S);return V(X,"E",Math.E),V(X,"PI",Math.PI),V(X,"DomainError",E.$new(w("StandardError"))),N(X,"$checked",function(x,D){var I,b;if(I=ee(arguments,1),b=I,isNaN(b[0])||b.length==2&&isNaN(b[1]))return NaN;var s=Math[x].apply(null,b);return isNaN(s)&&Q.$raise(U("DomainError"),'Numerical argument is out of domain - "'+x+'"'),s},-2),N(X,"$float!",function(x){try{return Q.$Float(x)}catch(D){if(r.rescue(D,[w("ArgumentError")]))try{return Q.$raise(y(x,w("Float")))}finally{r.pop_exception(D)}else throw D}}),N(X,"$integer!",function(x){try{return Q.$Integer(x)}catch(D){if(r.rescue(D,[w("ArgumentError")]))try{return Q.$raise(y(x,w("Integer")))}finally{r.pop_exception(D)}else throw D}}),X.$module_function(),W(typeof Math.erf<"u")||r.prop(Math,"erf",function(p){var x=.254829592,D=-.284496736,I=1.421413741,b=-1.453152027,s=1.061405429,d=.3275911,k=1;p<0&&(k=-1),p=Math.abs(p);var h=1/(1+d*p),_=1-((((s*h+b)*h+I)*h+D)*h+x)*h*Math.exp(-p*p);return k*_}),W(typeof Math.erfc<"u")||r.prop(Math,"erfc",function(p){var x=Math.abs(p),D=1/(.5*x+1),I=D*.17087277+-.82215223,b=D*I+1.48851587,s=D*b+-1.13520398,d=D*s+.27886807,k=D*d+-.18628806,h=D*k+.09678418,_=D*h+.37409196,o=D*_+1.00002368,H=D*o,j=-x*x-1.26551223+H,c=D*Math.exp(j);return p<0?2-c:c}),g(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function p(x){var D=p.$$s==null?this:p.$$s;return x==null&&(x=Z),g(D,"define_method",[x],function(b){return b==null&&(b=Z),w("Math").$checked(x,w("Math")["$float!"](b))})},{$$s:X}),K(X,"$atan2",function(x,D){return w("Math").$checked("atan2",w("Math")["$float!"](x),w("Math")["$float!"](D))}),K(X,"$hypot",function(x,D){return w("Math").$checked("hypot",w("Math")["$float!"](x),w("Math")["$float!"](D))}),K(X,"$frexp",function(x){if(x=U("Math")["$float!"](x),isNaN(x))return[NaN,0];var D=Math.floor(Math.log(Math.abs(x))/Math.log(2))+1,I=x/Math.pow(2,D);return[I,D]}),K(X,"$gamma",function(x){x=U("Math")["$float!"](x);var D,I,b,s,d,k,h,_,o,H=4.7421875,j=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(x))return NaN;if(x===0&&1/x<0)return-1/0;if((x===-1||x===-1/0)&&Q.$raise(U("DomainError"),'Numerical argument is out of domain - "gamma"'),U("Integer")["$==="](x)){if(x<=0)return isFinite(x)?1/0:NaN;if(x>171)return 1/0;for(s=x-2,d=x-1;s>1;)d*=s,s--;return d==0&&(d=1),d}if(x<.5)return Math.PI/(Math.sin(Math.PI*x)*w("Math").$gamma(ie(1,x)));if(x>=171.35)return 1/0;if(x>85)return k=x*x,h=k*x,_=h*x,o=_*x,Math.sqrt(2*Math.PI/x)*Math.pow(x/Math.E,x)*(1+1/(12*x)+1/(288*k)-139/(51840*h)-571/(2488320*_)+163879/(209018880*o)+5246819/(75246796800*o*x));for(x-=1,b=j[0],D=1;D<j.length;++D)b+=j[D]/(x+D);return I=x+H+.5,Math.sqrt(2*Math.PI)*Math.pow(I,x+.5)*Math.exp(-I)*b}),K(X,"$ldexp",function(x,D){return x=U("Math")["$float!"](x),D=U("Math")["$integer!"](D),isNaN(D)&&Q.$raise(w("RangeError"),"float NaN out of range of integer"),x*Math.pow(2,D)}),K(X,"$lgamma",function(x){return x==-1?[1/0,1]:[Math.log(Math.abs(w("Math").$gamma(x))),w("Math").$gamma(x)<0?-1:1]}),K(X,"$log",function(x,D){return J(w("String"),x)&&Q.$raise(y(x,w("Float"))),W(D==null)?w("Math").$checked("log",w("Math")["$float!"](x)):(J(w("String"),D)&&Q.$raise(y(D,w("Float"))),G(w("Math").$checked("log",w("Math")["$float!"](x)),w("Math").$checked("log",w("Math")["$float!"](D))))},-2),K(X,"$log10",function(x){return J(w("String"),x)&&Q.$raise(y(x,w("Float"))),w("Math").$checked("log10",w("Math")["$float!"](x))}),K(X,"$log2",function(x){return J(w("String"),x)&&Q.$raise(y(x,w("Float"))),w("Math").$checked("log2",w("Math")["$float!"](x))}),K(X,"$tan",function(x){return x=w("Math")["$float!"](x),W(x["$infinite?"]())?w(w("Float"),"NAN"):w("Math").$checked("tan",w("Math")["$float!"](x))})}("::",ne)};Opal.modules["corelib/complex/base"]=function(r){var y=r.module,F=r.truthy,V=r.def,E=r.klass,ee=[],Q=r.nil;return r.add_stubs("new,from_string"),function(N,W){var g=y(N,"Kernel"),K=[g].concat(W),ie=r.$r(K);return V(g,"$Complex",function(G,ne){return ne==null&&(ne=Q),F(ne)?ie("Complex").$new(G,ne):ie("Complex").$new(G,0)},-2)}("::",ee),function(N,W,g){var K=E(N,W,"String"),ie=[K].concat(g),J=r.$r(ie);return V(K,"$to_c",function(){var ne=this;return J("Complex").$from_string(ne)})}("::",null,ee)};Opal.modules["corelib/complex"]=function(r){var y=r.klass,F=r.truthy,V=r.eqeqeq,E=r.Kernel,ee=r.defs,Q=r.rb_times,N=r.def,W=r.rb_plus,g=r.rb_minus,K=r.rb_divide,ie=r.eqeq,J=r.to_ary,G=r.rb_gt,ne=r.neqeq,Z=r.return_val,w=r.const_set,R=r.alias,P=r.top,X=[],S=r.nil,U=r.$$$;return r.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),P.$require("corelib/numeric"),P.$require("corelib/complex/base"),function(p,x,D){var I=y(p,x,"Complex"),b=[I].concat(D),s=r.$r(b),d=I.$$prototype;return d.real=d.imag=S,ee(I,"$rect",function(h,_){var o=this;return _==null&&(_=0),V(U("Numeric"),h)&&F(h["$real?"]())&&V(U("Numeric"),_)&&F(_["$real?"]())||E.$raise(U("TypeError"),"not a real"),o.$new(h,_)},-2),ee(I,"$polar",function(h,_){var o=this;return _==null&&(_=0),V(U("Numeric"),h)&&F(h["$real?"]())&&V(U("Numeric"),_)&&F(_["$real?"]())||E.$raise(U("TypeError"),"not a real"),o.$new(Q(h,U("Math").$cos(_)),Q(h,U("Math").$sin(_)))},-2),I.$attr_reader("real","imag"),N(I,"$initialize",function(h,_){var o=this;return _==null&&(_=0),o.real=h,o.imag=_,o.$freeze()},-2),N(I,"$coerce",function(h){var _=this;return V(U("Complex"),h)?[h,_]:V(U("Numeric"),h)&&F(h["$real?"]())?[U("Complex").$new(h,0),_]:E.$raise(U("TypeError"),""+h.$class()+" can't be coerced into Complex")}),N(I,"$==",function(h){var _=this,o=S;return V(U("Complex"),h)?F(o=_.real["$=="](h.$real()))?_.imag["$=="](h.$imag()):o:V(U("Numeric"),h)&&F(h["$real?"]())?F(o=_.real["$=="](h))?_.imag["$=="](0):o:h["$=="](_)}),N(I,"$-@",function(){var h=this;return E.$Complex(h.real["$-@"](),h.imag["$-@"]())}),N(I,"$+",function(h){var _=this;return V(U("Complex"),h)?E.$Complex(W(_.real,h.$real()),W(_.imag,h.$imag())):V(U("Numeric"),h)&&F(h["$real?"]())?E.$Complex(W(_.real,h),_.imag):_.$__coerced__("+",h)}),N(I,"$-",function(h){var _=this;return V(U("Complex"),h)?E.$Complex(g(_.real,h.$real()),g(_.imag,h.$imag())):V(U("Numeric"),h)&&F(h["$real?"]())?E.$Complex(g(_.real,h),_.imag):_.$__coerced__("-",h)}),N(I,"$*",function(h){var _=this;return V(U("Complex"),h)?E.$Complex(g(Q(_.real,h.$real()),Q(_.imag,h.$imag())),W(Q(_.real,h.$imag()),Q(_.imag,h.$real()))):V(U("Numeric"),h)&&F(h["$real?"]())?E.$Complex(Q(_.real,h),Q(_.imag,h)):_.$__coerced__("*",h)}),N(I,"$/",function(h){var _=this;return V(U("Complex"),h)?V(U("Number"),_.real)&&F(_.real["$nan?"]())||V(U("Number"),_.imag)&&F(_.imag["$nan?"]())||V(U("Number"),h.$real())&&F(h.$real()["$nan?"]())||V(U("Number"),h.$imag())&&F(h.$imag()["$nan?"]())?U("Complex").$new(U(U("Float"),"NAN"),U(U("Float"),"NAN")):K(Q(_,h.$conj()),h.$abs2()):V(U("Numeric"),h)&&F(h["$real?"]())?E.$Complex(_.real.$quo(h),_.imag.$quo(h)):_.$__coerced__("/",h)}),N(I,"$**",function(h){var _,o,H=this,j=S,c=S,f=S,a=S,t=S,n=S,e=S,$=S,i=S,u=S,m=S;if(ie(h,0))return U("Complex").$new(1,0);if(V(U("Complex"),h))return o=H.$polar(),_=J(o),j=_[0]==null?S:_[0],c=_[1]==null?S:_[1],f=h.$real(),a=h.$imag(),t=U("Math").$exp(g(Q(f,U("Math").$log(j)),Q(a,c))),n=W(Q(c,f),Q(a,U("Math").$log(j))),U("Complex").$polar(t,n);if(V(U("Integer"),h))if(F(G(h,0))){for(e=H,$=e,i=g(h,1);ne(i,0);){for(o=i.$divmod(2),_=J(o),u=_[0]==null?S:_[0],m=_[1]==null?S:_[1];ie(m,0);)e=E.$Complex(g(Q(e.$real(),e.$real()),Q(e.$imag(),e.$imag())),Q(Q(2,e.$real()),e.$imag())),i=u,o=i.$divmod(2),_=J(o),u=_[0]==null?S:_[0],m=_[1]==null?S:_[1];$=Q($,e),i=g(i,1)}return $}else return K(U("Rational").$new(1,1),H)["$**"](h["$-@"]());else return V(U("Float"),h)||V(U("Rational"),h)?(o=H.$polar(),_=J(o),j=_[0]==null?S:_[0],c=_[1]==null?S:_[1],U("Complex").$polar(j["$**"](h),Q(c,h))):H.$__coerced__("**",h)}),N(I,"$abs",function(){var h=this;return U("Math").$hypot(h.real,h.imag)}),N(I,"$abs2",function(){var h=this;return W(Q(h.real,h.real),Q(h.imag,h.imag))}),N(I,"$angle",function(){var h=this;return U("Math").$atan2(h.imag,h.real)}),N(I,"$conj",function(){var h=this;return E.$Complex(h.real,h.imag["$-@"]())}),N(I,"$denominator",function(){var h=this;return h.real.$denominator().$lcm(h.imag.$denominator())}),N(I,"$eql?",function(h){var _=this,o=S,H=S;return F(o=F(H=s("Complex")["$==="](h))?_.real.$class()["$=="](_.imag.$class()):H)?_["$=="](h):o}),N(I,"$fdiv",function(h){var _=this;return V(U("Numeric"),h)||E.$raise(U("TypeError"),""+h.$class()+" can't be coerced into Complex"),K(_,h)}),N(I,"$finite?",function(){var h=this,_=S;return F(_=h.real["$finite?"]())?h.imag["$finite?"]():_}),N(I,"$hash",function(){var h=this;return[U("Complex"),h.real,h.imag].$hash()}),N(I,"$infinite?",function(){var h=this,_=S;return F(_=h.real["$infinite?"]())?_:h.imag["$infinite?"]()}),N(I,"$inspect",function(){var h=this;return"("+h+")"}),N(I,"$numerator",function(){var h=this,_=S;return _=h.$denominator(),E.$Complex(Q(h.real.$numerator(),K(_,h.real.$denominator())),Q(h.imag.$numerator(),K(_,h.imag.$denominator())))}),N(I,"$polar",function(){var h=this;return[h.$abs(),h.$arg()]}),N(I,"$rationalize",function(h){var _=this;return arguments.length>1&&E.$raise(U("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ne(_.imag,0)&&E.$raise(U("RangeError"),"can't convert "+_+" into Rational"),_.$real().$rationalize(h)},-1),N(I,"$real?",Z(!1)),N(I,"$rect",function(){var h=this;return[h.real,h.imag]}),N(I,"$to_f",function(){var h=this;return ie(h.imag,0)||E.$raise(U("RangeError"),"can't convert "+h+" into Float"),h.real.$to_f()}),N(I,"$to_i",function(){var h=this;return ie(h.imag,0)||E.$raise(U("RangeError"),"can't convert "+h+" into Integer"),h.real.$to_i()}),N(I,"$to_r",function(){var h=this;return ie(h.imag,0)||E.$raise(U("RangeError"),"can't convert "+h+" into Rational"),h.real.$to_r()}),N(I,"$to_s",function(){var h=this,_=S;return _=h.real.$inspect(),_=W(_,V(U("Number"),h.imag)&&F(h.imag["$nan?"]())||F(h.imag["$positive?"]())||F(h.imag["$zero?"]())?"+":"-"),_=W(_,h.imag.$abs().$inspect()),V(U("Number"),h.imag)&&(F(h.imag["$nan?"]())||F(h.imag["$infinite?"]()))&&(_=W(_,"*")),W(_,"i")}),w(b[0],"I",I.$new(0,1)),ee(I,"$from_string",function(h){var _=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;h.match(_);var o,H;function j(){return _.test(h)}function c(){var a=h.match(_),t=a[0];return h=h.slice(t.length),t.replace(/_/g,"")}function f(){if(j()){var a=parseFloat(c());if(h[0]==="/")if(h=h.slice(1),j()){var t=parseFloat(c());return E.$Rational(a,t)}else return h="/"+h,a;else return a}else return null}return o=f(),o?(H=f(),H?E.$Complex(o,H):h[0]==="i"?E.$Complex(0,o):E.$Complex(o,0)):h[0]==="i"?E.$Complex(0,1):h[0]==="-"&&h[1]==="i"?E.$Complex(0,-1):h[0]==="+"&&h[1]==="i"?E.$Complex(0,1):E.$Complex(0,0)}),function(k,h){return R(k,"rectangular","rect")}(r.get_singleton_class(I)),R(I,"arg","angle"),R(I,"conjugate","conj"),R(I,"divide","/"),R(I,"imaginary","imag"),R(I,"magnitude","abs"),R(I,"phase","arg"),R(I,"quo","/"),R(I,"rectangular","rect"),r.udef(I,"$negative?"),r.udef(I,"$positive?"),r.udef(I,"$step"),S}("::",U("Numeric"),X)};Opal.modules["corelib/rational/base"]=function(r){var y=r.module,F=r.def,V=r.klass;r.nil;var E=r.$$$;return r.add_stubs("convert,from_string"),function(ee){var Q=y(ee,"Kernel");return F(Q,"$Rational",function(W,g){return g==null&&(g=1),E("Rational").$convert(W,g)},-2)}("::"),function(ee,Q){var N=V(ee,Q,"String");return F(N,"$to_r",function(){var g=this;return E("Rational").$from_string(g)})}("::",null)};Opal.modules["corelib/rational"]=function(r){var y=r.klass,F=r.eqeq,V=r.Kernel,E=r.truthy,ee=r.rb_lt,Q=r.rb_divide,N=r.defs,W=r.eqeqeq,g=r.not,K=r.Opal,ie=r.def,J=r.return_ivar,G=r.rb_minus,ne=r.rb_times,Z=r.rb_plus,w=r.rb_gt,R=r.rb_le,P=r.return_self,X=r.alias,S=r.top,U=r.nil,p=r.$$$;return r.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),S.$require("corelib/numeric"),S.$require("corelib/rational/base"),function(x,D){var I=y(x,D,"Rational"),b=I.$$prototype;return b.num=b.den=U,N(I,"$reduce",function(d,k){var h=this,_=U;if(d=d.$to_i(),k=k.$to_i(),F(k,0))V.$raise(p("ZeroDivisionError"),"divided by 0");else if(E(ee(k,0)))d=d["$-@"](),k=k["$-@"]();else if(F(k,1))return h.$new(d,k);return _=d.$gcd(k),h.$new(Q(d,_),Q(k,_))}),N(I,"$convert",function(d,k){var h=this;return(E(d["$nil?"]())||E(k["$nil?"]()))&&V.$raise(p("TypeError"),"cannot convert nil into Rational"),W(p("Integer"),d)&&W(p("Integer"),k)?h.$reduce(d,k):((W(p("Float"),d)||W(p("String"),d)||W(p("Complex"),d))&&(d=d.$to_r()),(W(p("Float"),k)||W(p("String"),k)||W(p("Complex"),k))&&(k=k.$to_r()),E(k["$equal?"](1))&&g(p("Integer")["$==="](d))?K["$coerce_to!"](d,p("Rational"),"to_r"):W(p("Numeric"),d)&&W(p("Numeric"),k)?Q(d,k):h.$reduce(d,k))}),ie(I,"$initialize",function(d,k){var h=this;return h.num=d,h.den=k,h.$freeze()}),ie(I,"$numerator",J("num")),ie(I,"$denominator",J("den")),ie(I,"$coerce",function(d){var k=this,h=U;return W(p("Rational"),h=d)?[d,k]:W(p("Integer"),h)?[d.$to_r(),k]:W(p("Float"),h)?[d,k.$to_f()]:U}),ie(I,"$==",function(d){var k=this,h=U,_=U;return W(p("Rational"),h=d)?E(_=k.num["$=="](d.$numerator()))?k.den["$=="](d.$denominator()):_:W(p("Integer"),h)?E(_=k.num["$=="](d))?k.den["$=="](1):_:W(p("Float"),h)?k.$to_f()["$=="](d):d["$=="](k)}),ie(I,"$<=>",function(d){var k=this,h=U;return W(p("Rational"),h=d)?G(ne(k.num,d.$denominator()),ne(k.den,d.$numerator()))["$<=>"](0):W(p("Integer"),h)?G(k.num,ne(k.den,d))["$<=>"](0):W(p("Float"),h)?k.$to_f()["$<=>"](d):k.$__coerced__("<=>",d)}),ie(I,"$+",function(d){var k=this,h=U,_=U,o=U;return W(p("Rational"),h=d)?(_=Z(ne(k.num,d.$denominator()),ne(k.den,d.$numerator())),o=ne(k.den,d.$denominator()),V.$Rational(_,o)):W(p("Integer"),h)?V.$Rational(Z(k.num,ne(d,k.den)),k.den):W(p("Float"),h)?Z(k.$to_f(),d):k.$__coerced__("+",d)}),ie(I,"$-",function(d){var k=this,h=U,_=U,o=U;return W(p("Rational"),h=d)?(_=G(ne(k.num,d.$denominator()),ne(k.den,d.$numerator())),o=ne(k.den,d.$denominator()),V.$Rational(_,o)):W(p("Integer"),h)?V.$Rational(G(k.num,ne(d,k.den)),k.den):W(p("Float"),h)?G(k.$to_f(),d):k.$__coerced__("-",d)}),ie(I,"$*",function(d){var k=this,h=U,_=U,o=U;return W(p("Rational"),h=d)?(_=ne(k.num,d.$numerator()),o=ne(k.den,d.$denominator()),V.$Rational(_,o)):W(p("Integer"),h)?V.$Rational(ne(k.num,d),k.den):W(p("Float"),h)?ne(k.$to_f(),d):k.$__coerced__("*",d)}),ie(I,"$/",function(d){var k=this,h=U,_=U,o=U;return W(p("Rational"),h=d)?(_=ne(k.num,d.$denominator()),o=ne(k.den,d.$numerator()),V.$Rational(_,o)):W(p("Integer"),h)?F(d,0)?Q(k.$to_f(),0):V.$Rational(k.num,ne(k.den,d)):W(p("Float"),h)?Q(k.$to_f(),d):k.$__coerced__("/",d)}),ie(I,"$**",function(d){var k=this,h=U;return W(p("Integer"),h=d)?F(k,0)&&E(ee(d,0))?p(p("Float"),"INFINITY"):E(w(d,0))?V.$Rational(k.num["$**"](d),k.den["$**"](d)):E(ee(d,0))?V.$Rational(k.den["$**"](d["$-@"]()),k.num["$**"](d["$-@"]())):V.$Rational(1,1):W(p("Float"),h)?k.$to_f()["$**"](d):W(p("Rational"),h)?F(d,0)?V.$Rational(1,1):F(d.$denominator(),1)?E(ee(d,0))?V.$Rational(k.den["$**"](d.$numerator().$abs()),k.num["$**"](d.$numerator().$abs())):V.$Rational(k.num["$**"](d.$numerator()),k.den["$**"](d.$numerator())):F(k,0)&&E(ee(d,0))?V.$raise(p("ZeroDivisionError"),"divided by 0"):k.$to_f()["$**"](d):k.$__coerced__("**",d)}),ie(I,"$abs",function(){var d=this;return V.$Rational(d.num.$abs(),d.den.$abs())}),ie(I,"$ceil",function(d){var k=this;return d==null&&(d=0),F(d,0)?Q(k.num["$-@"](),k.den)["$-@"]().$ceil():k.$with_precision("ceil",d)},-1),ie(I,"$floor",function(d){var k=this;return d==null&&(d=0),F(d,0)?Q(k.num["$-@"](),k.den)["$-@"]().$floor():k.$with_precision("floor",d)},-1),ie(I,"$hash",function(){var d=this;return[p("Rational"),d.num,d.den].$hash()}),ie(I,"$inspect",function(){var d=this;return"("+d+")"}),ie(I,"$rationalize",function(d){var k=this;if(arguments.length>1&&V.$raise(p("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d==null)return k;for(var h=d.$abs(),_=G(k,h),o=Z(k,h),H=0,j=1,c=1,f=0,a,t,n,e,$;n=_.$ceil(),!R(n,o);)e=n-1,a=e*j+H,t=e*f+c,$=Q(1,G(o,e)),o=Q(1,G(_,e)),_=$,H=j,c=f,j=a,f=t;return V.$Rational(n*j+H,n*f+c)},-1),ie(I,"$round",function(d){var k=this,h=U,_=U,o=U;return d==null&&(d=0),F(d,0)?F(k.num,0)?0:F(k.den,1)?k.num:(h=Z(ne(k.num.$abs(),2),k.den),_=ne(k.den,2),o=Q(h,_).$truncate(),E(ee(k.num,0))?o["$-@"]():o):k.$with_precision("round",d)},-1),ie(I,"$to_f",function(){var d=this;return Q(d.num,d.den)}),ie(I,"$to_i",function(){var d=this;return d.$truncate()}),ie(I,"$to_r",P),ie(I,"$to_s",function(){var d=this;return""+d.num+"/"+d.den}),ie(I,"$truncate",function(d){var k=this;return d==null&&(d=0),F(d,0)?E(ee(k.num,0))?k.$ceil():k.$floor():k.$with_precision("truncate",d)},-1),ie(I,"$with_precision",function(d,k){var h=this,_=U,o=U;return W(p("Integer"),k)||V.$raise(p("TypeError"),"not an Integer"),_=10["$**"](k),o=ne(h,_),E(ee(k,1))?Q(o.$send(d),_).$to_i():V.$Rational(o.$send(d),_)}),N(I,"$from_string",function(d){var k=d.trimLeft(),h=/^[+-]?[\d_]+(\.[\d_]+)?/;k.match(h);var _,o;function H(){return h.test(k)}function j(){var c=k.match(h),f=c[0];return k=k.slice(f.length),f.replace(/_/g,"")}return H()?(_=parseFloat(j()),k[0]==="/"?(k=k.slice(1),H()?(o=parseFloat(j()),V.$Rational(_,o)):V.$Rational(_,1)):V.$Rational(_,1)):V.$Rational(0,1)}),X(I,"divide","/"),X(I,"quo","/")}("::",p("Numeric"))};Opal.modules["corelib/time"]=function(r){var y=r.slice,F=r.deny_frozen_access,V=r.klass,E=r.Kernel,ee=r.Opal,Q=r.defs,N=r.eqeqeq,W=r.def,g=r.truthy,K=r.rb_gt,ie=r.rb_lt,J=r.send,G=r.rb_plus,ne=r.rb_divide,Z=r.rb_minus,w=r.range,R=r.neqeq,P=r.rb_le,X=r.eqeq,S=r.alias,U=r.top,p=[],x=r.nil,D=r.$$$;return r.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),U.$require("corelib/comparable"),function(I,b,s){var d=V(I,b,"Time"),k=[d].concat(s),h=r.$r(k);d.$include(D("Comparable"));var _=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],j=["January","February","March","April","May","June","July","August","September","October","November","December"];Q(d,"$at",function(a,t){var n;return D("Time")["$==="](a)?(t!==void 0&&E.$raise(D("TypeError"),"can't convert Time into an exact number"),n=new Date(a.getTime()),n.timezone=a.timezone,n):(a.$$is_number||(a=ee["$coerce_to!"](a,D("Integer"),"to_int")),t===void 0?new Date(a*1e3):(t.$$is_number||(t=ee["$coerce_to!"](t,D("Integer"),"to_int")),new Date(a*1e3+t/1e3)))},-2);function c(f,a,t,n,e,$){if(f.$$is_string?f=parseInt(f,10):f=ee["$coerce_to!"](f,D("Integer"),"to_int"),a===x)a=1;else if(!a.$$is_number)if(a["$respond_to?"]("to_str"))switch(a=a.$to_str(),a.toLowerCase()){case"jan":a=1;break;case"feb":a=2;break;case"mar":a=3;break;case"apr":a=4;break;case"may":a=5;break;case"jun":a=6;break;case"jul":a=7;break;case"aug":a=8;break;case"sep":a=9;break;case"oct":a=10;break;case"nov":a=11;break;case"dec":a=12;break;default:a=a.$to_i()}else a=ee["$coerce_to!"](a,D("Integer"),"to_int");return(a<1||a>12)&&E.$raise(D("ArgumentError"),"month out of range: "+a),a=a-1,t===x?t=1:t.$$is_string?t=parseInt(t,10):t=ee["$coerce_to!"](t,D("Integer"),"to_int"),(t<1||t>31)&&E.$raise(D("ArgumentError"),"day out of range: "+t),n===x?n=0:n.$$is_string?n=parseInt(n,10):n=ee["$coerce_to!"](n,D("Integer"),"to_int"),(n<0||n>24)&&E.$raise(D("ArgumentError"),"hour out of range: "+n),e===x?e=0:e.$$is_string?e=parseInt(e,10):e=ee["$coerce_to!"](e,D("Integer"),"to_int"),(e<0||e>59)&&E.$raise(D("ArgumentError"),"min out of range: "+e),$===x?$=0:$.$$is_number||($.$$is_string?$=parseInt($,10):$=ee["$coerce_to!"]($,D("Integer"),"to_int")),($<0||$>60)&&E.$raise(D("ArgumentError"),"sec out of range: "+$),[f,a,t,n,e,$]}return Q(d,"$new",function(a,t,n,e,$,i,u){var m=this;t==null&&(t=x),n==null&&(n=x),e==null&&(e=x),$==null&&($=x),i==null&&(i=x),u==null&&(u=x);var z,M,A,L;return a===void 0?new Date:(z=c(a,t,n,e,$,i),a=z[0],t=z[1],n=z[2],e=z[3],$=z[4],i=z[5],u===x?(M=new Date(a,t,n,e,$,0,i*1e3),a<100&&M.setFullYear(a),M):(A=m.$_parse_offset(u),L=new Date(Date.UTC(a,t,n,e,$,0,i*1e3)),a<100&&L.setUTCFullYear(a),M=new Date(L.getTime()-A*36e5),M.timezone=A,M))},-1),Q(d,"$_parse_offset",function(a){var t;if(a.$$is_string)if(a=="UTC")t=0;else if(/^[+-]\d\d:[0-5]\d$/.test(a)){var n,e,$;n=a[0],e=+(a[1]+a[2]),$=+(a[4]+a[5]),t=(n=="-"?-1:1)*(e+$/60)}else E.$raise(D("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+a);else a.$$is_number?t=a/3600:E.$raise(D("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return t}),Q(d,"$local",function(a,t,n,e,$,i,u,m,z,M){t==null&&(t=x),n==null&&(n=x),e==null&&(e=x),$==null&&($=x),i==null&&(i=x),u==null&&(u=x),m==null&&(m=x),z==null&&(z=x),M==null&&(M=x);var A,L;return arguments.length===10&&(A=y(arguments),a=A[5],t=A[4],n=A[3],e=A[2],$=A[1],i=A[0]),A=c(a,t,n,e,$,i),a=A[0],t=A[1],n=A[2],e=A[3],$=A[4],i=A[5],L=new Date(a,t,n,e,$,0,i*1e3),a<100&&L.setFullYear(a),L},-2),Q(d,"$gm",function(a,t,n,e,$,i,u,m,z,M){t==null&&(t=x),n==null&&(n=x),e==null&&(e=x),$==null&&($=x),i==null&&(i=x),u==null&&(u=x),m==null&&(m=x),z==null&&(z=x),M==null&&(M=x);var A,L;return arguments.length===10&&(A=y(arguments),a=A[5],t=A[4],n=A[3],e=A[2],$=A[1],i=A[0]),A=c(a,t,n,e,$,i),a=A[0],t=A[1],n=A[2],e=A[3],$=A[4],i=A[5],L=new Date(Date.UTC(a,t,n,e,$,0,i*1e3)),a<100&&L.setUTCFullYear(a),L.timezone=0,L},-2),Q(d,"$now",function(){var a=this;return a.$new()}),W(d,"$+",function(a){var t=this;N(D("Time"),a)&&E.$raise(D("TypeError"),"time + time?"),a.$$is_number||(a=ee["$coerce_to!"](a,D("Integer"),"to_int"));var n=new Date(t.getTime()+a*1e3);return n.timezone=t.timezone,n}),W(d,"$-",function(a){var t=this;if(N(D("Time"),a))return(t.getTime()-a.getTime())/1e3;a.$$is_number||(a=ee["$coerce_to!"](a,D("Integer"),"to_int"));var n=new Date(t.getTime()-a*1e3);return n.timezone=t.timezone,n}),W(d,"$<=>",function(a){var t=this,n=x;return N(D("Time"),a)?t.$to_f()["$<=>"](a.$to_f()):(n=a["$<=>"](t),g(n["$nil?"]())?x:g(K(n,0))?-1:g(ie(n,0))?1:0)}),W(d,"$==",function(a){var t=this,n=x;return g(n=D("Time")["$==="](a))?t.$to_f()===a.$to_f():n}),W(d,"$asctime",function(){var a=this;return a.$strftime("%a %b %e %H:%M:%S %Y")}),J([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function f(a,t,n,e){var $=f.$$s==null?this:f.$$s;return a==null&&(a=x),t==null&&(t=x),n==null&&(n=x),e==null&&(e=0),J($,"define_method",[a],function i(){var u=i.$$s==null?this:i.$$s;return e+(u.timezone!=null?new Date(u.getTime()+u.timezone*36e5)[n]():u[t]())},{$$s:$})},{$$arity:-4,$$s:d}),W(d,"$yday",function(){var a=this,t=x,n=x,e=x;return t=h("Time").$new(a.$year()).$to_i(),n=h("Time").$new(a.$year(),a.$month(),a.$day()).$to_i(),e=86400,G(ne(Z(n,t),e).$round(),1)}),W(d,"$isdst",function(){var a=this,t=new Date(a.getFullYear(),0,1),n=new Date(a.getFullYear(),6,1);return a.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),n.getTimezoneOffset())}),W(d,"$dup",function(){var a=this,t=x;return t=new Date(a.getTime()),t.$copy_instance_variables(a),t.$initialize_dup(a),t}),W(d,"$eql?",function(a){var t=this,n=x;return g(n=a["$is_a?"](D("Time")))?t["$<=>"](a)["$zero?"]():n}),J([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function f(a,t){var n=f.$$s==null?this:f.$$s;return a==null&&(a=x),t==null&&(t=x),J(n,"define_method",[a],function e(){var $=e.$$s==null?this:e.$$s;return $.$wday()===t},{$$s:n})},{$$s:d}),W(d,"$hash",function(){var a=this;return[D("Time"),a.getTime()].$hash()}),W(d,"$inspect",function(){var a=this;return g(a["$utc?"]())?a.$strftime("%Y-%m-%d %H:%M:%S UTC"):a.$strftime("%Y-%m-%d %H:%M:%S %z")}),W(d,"$succ",function(){var a=this,t=new Date(a.getTime()+1e3);return t.timezone=a.timezone,t}),W(d,"$usec",function(){var a=this;return a.getMilliseconds()*1e3}),W(d,"$zone",function(){var a=this;if(a.timezone===0)return"UTC";if(a.timezone!=null)return x;var t=a.toString(),n;return t.indexOf("(")==-1?n=t.match(/[A-Z]{3,4}/)[0]:n=t.match(/\((.+)\)(?:\s|$)/)[1],n=="GMT"&&/(GMT\W*\d{4})/.test(t)?RegExp.$1:n}),W(d,"$getgm",function(){var a=this,t=new Date(a.getTime());return t.timezone=0,t}),W(d,"$gmtime",function(){var a=this;return a.timezone!==0&&(F(a),a.timezone=0),a}),W(d,"$gmt?",function(){var a=this;return a.timezone===0}),W(d,"$gmt_offset",function(){var a=this;return a.timezone!=null?a.timezone*60:-a.getTimezoneOffset()*60}),W(d,"$strftime",function(a){var t=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(n,e,$,i,u){var m="",z,M,A,L=e.indexOf("0")!==-1,O=e.indexOf("-")===-1,ae=e.indexOf("_")!==-1,le=e.indexOf("^")!==-1,_e=e.indexOf("#")!==-1,de=(e.match(":")||[]).length;switch($=parseInt($,10),L&&ae&&(e.indexOf("0")<e.indexOf("_")?L=!1:ae=!1),u){case"Y":m+=t.$year();break;case"C":L=!ae,m+=Math.round(t.$year()/100);break;case"y":L=!ae,m+=t.$year()%100;break;case"m":L=!ae,m+=t.$mon();break;case"B":m+=j[t.$mon()-1];break;case"b":case"h":ae=!L,m+=H[t.$mon()-1];break;case"d":L=!ae,m+=t.$day();break;case"e":ae=!L,m+=t.$day();break;case"j":L=!ae,$=isNaN($)?3:$,m+=t.$yday();break;case"H":L=!ae,m+=t.$hour();break;case"k":ae=!L,m+=t.$hour();break;case"I":L=!ae,m+=t.$hour()%12||12;break;case"l":ae=!L,m+=t.$hour()%12||12;break;case"P":m+=t.$hour()>=12?"pm":"am";break;case"p":m+=t.$hour()>=12?"PM":"AM";break;case"M":L=!ae,m+=t.$min();break;case"S":L=!ae,m+=t.$sec();break;case"L":L=!ae,$=isNaN($)?3:$,m+=t.getMilliseconds();break;case"N":$=isNaN($)?9:$,m+=t.getMilliseconds().toString().$rjust(3,"0"),m=m.$ljust($,"0");break;case"z":var ge=t.timezone==null?t.getTimezoneOffset():-t.timezone*60,ve=Math.floor(Math.abs(ge)/60),me=Math.abs(ge)%60;m+=ge<0?"+":"-",m+=ve<10?"0":"",m+=ve,de>0&&(m+=":"),m+=me<10?"0":"",m+=me,de>1&&(m+=":00");break;case"Z":m+=t.$zone();break;case"A":m+=_[t.$wday()];break;case"a":m+=o[t.$wday()];break;case"u":m+=t.$wday()+1;break;case"w":m+=t.$wday();break;case"V":m+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":m+=t.$cweek_cyear()["$[]"](1);break;case"g":m+=t.$cweek_cyear()["$[]"](1)["$[]"](w(-2,-1,!1));break;case"s":m+=t.$to_i();break;case"n":m+=`
`;break;case"t":m+="	";break;case"%":m+="%";break;case"c":m+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":m+=t.$strftime("%m/%d/%y");break;case"F":m+=t.$strftime("%Y-%m-%d");break;case"v":m+=t.$strftime("%e-%^b-%4Y");break;case"r":m+=t.$strftime("%I:%M:%S %p");break;case"R":m+=t.$strftime("%H:%M");break;case"T":case"X":m+=t.$strftime("%H:%M:%S");break;case"J":if(z=t.$to_date().$jd(),z<2405160){m+=t.$strftime("%Y-%m-%d");break}else z<2419614?(M="M",A=1867):z<2424875?(M="T",A=1911):z<2447535?(M="S",A=1925):z<2458605?(M="H",A=1988):(M="R",A=2018);m+=t.$format("%c%02d",M,Z(t.$year(),A)),m+=t.$strftime("-%m-%d");break;default:return n}return le&&(m=m.toUpperCase()),_e&&(m=m.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),O&&(L||ae)&&(m=m.$rjust(isNaN($)?2:$,ae?" ":"0")),m})}),W(d,"$to_a",function(){var a=this;return[a.$sec(),a.$min(),a.$hour(),a.$day(),a.$month(),a.$year(),a.$wday(),a.$yday(),a.$isdst(),a.$zone()]}),W(d,"$to_f",function(){var a=this;return a.getTime()/1e3}),W(d,"$to_i",function(){var a=this;return parseInt(a.getTime()/1e3,10)}),W(d,"$cweek_cyear",function(){var a=this,t=x,n=x,e=x,$=x,i=x,u=x,m=x;return t=D("Time").$new(a.$year(),1,1),n=t.$wday(),e=a.$year(),g(P(n,4))&&R(n,0)?$=Z(n,1):($=Z(Z(n,7),1),X($,-8)&&($=-1)),i=ne(G(a.$yday(),$),7).$ceil(),g(P(i,0))?D("Time").$new(Z(a.$year(),1),12,31).$cweek_cyear():(X(i,53)&&(u=D("Time").$new(a.$year(),12,31),m=u.$wday(),g(P(m,3))&&R(m,0)&&(i=1,e=G(e,1))),[i,e])}),function(f,a){return S(f,"mktime","local"),S(f,"utc","gm")}(r.get_singleton_class(d)),S(d,"ctime","asctime"),S(d,"dst?","isdst"),S(d,"getutc","getgm"),S(d,"gmtoff","gmt_offset"),S(d,"mday","day"),S(d,"month","mon"),S(d,"to_s","inspect"),S(d,"tv_sec","to_i"),S(d,"tv_usec","usec"),S(d,"utc","gmtime"),S(d,"utc?","gmt?"),S(d,"utc_offset","gmt_offset")}("::",Date,p)};Opal.modules["corelib/struct"]=function(r){var y=r.klass,F=r.slice,V=r.extract_kwargs,E=r.ensure_kwargs,ee=r.hash_get,Q=r.truthy,N=r.neqeq,W=r.eqeq,g=r.Opal,K=r.send,ie=r.Class,J=r.to_a,G=r.def,ne=r.defs,Z=r.Kernel,w=r.rb_gt,R=r.rb_minus,P=r.eqeqeq,X=r.rb_lt,S=r.rb_ge,U=r.rb_plus,p=r.alias,x=r.top,D=[],I=r.nil,b=r.$$$;return r.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),x.$require("corelib/enumerable"),function(s,d,k){var h=y(s,d,"Struct"),_=[h].concat(k),o=r.$r(_);h.$include(b("Enumerable")),ne(h,"$new",function j(c,f,a){var t=j.$$p||I,n,e,$,i,u=this,m=I;if(j.$$p=null,n=F(arguments,1),e=V(n),e=E(e),$=n,i=ee(e,"keyword_init"),i==null&&(i=!1),Q(c))if(W(c.$class(),b("String"))&&N(c["$[]"](0).$upcase(),c["$[]"](0)))$.$unshift(c),c=I;else try{c=g["$const_name!"](c)}catch(z){if(r.rescue(z,[b("TypeError"),b("NameError")]))try{$.$unshift(c),c=I}finally{r.pop_exception(z)}else throw z}return K($,"map",[],function(M){return M==null&&(M=I),g["$coerce_to!"](M,b("String"),"to_str")}),m=K(ie,"new",[u],function z(){var M=z.$$s==null?this:z.$$s;return K($,"each",[],function A(L){var O=A.$$s==null?this:A.$$s;return L==null&&(L=I),O.$define_struct_attribute(L)},{$$s:M}),function(A,L){return G(A,"$new",function(ae){var le,_e,de=this,ge=I;return le=F(arguments),_e=le,ge=de.$allocate(),ge.$$data={},K(ge,"initialize",J(_e)),ge},-1),A.$alias_method("[]","new")}(r.get_singleton_class(M))},{$$s:u}),Q(t)&&K(m,"module_eval",[],t.$to_proc()),m.$$keyword_init=i,Q(c)&&b("Struct").$const_set(c,m),m},-2),ne(h,"$define_struct_attribute",function(c){var f=this;return W(f,b("Struct"))&&Z.$raise(b("ArgumentError"),"you cannot define attributes to the Struct class"),f.$members()["$<<"](c),K(f,"define_method",[c],function a(){var t=a.$$s==null?this:a.$$s;return t.$$data[c]},{$$s:f}),K(f,"define_method",[""+c+"="],function a(t){var n=a.$$s==null?this:a.$$s;return t==null&&(t=I),n.$$data[c]=t},{$$s:f})}),ne(h,"$members",function(){var c=this,f=I;return c.members==null&&(c.members=I),W(c,b("Struct"))&&Z.$raise(b("ArgumentError"),"the Struct class has no members"),c.members=Q(f=c.members)?f:[]}),ne(h,"$inherited",function(c){var f=this,a=I;return f.members==null&&(f.members=I),a=f.members,K(c,"instance_eval",[],function t(){var n=t.$$s==null?this:t.$$s;return n.members=a},{$$s:f})}),G(h,"$initialize",function(c){var f,a,t=this,n=I,e=I,$=I;return f=F(arguments),a=f,Q(t.$class().$$keyword_init)?(n=Q(e=a.$last())?e:new Map,(Q(w(a.$length(),1))||Q(a.length===1&&!n.$$is_hash))&&Z.$raise(b("ArgumentError"),"wrong number of arguments (given "+a.$length()+", expected 0)"),$=R(n.$keys(),t.$class().$members()),Q($["$any?"]())&&Z.$raise(b("ArgumentError"),"unknown keywords: "+$.$join(", ")),K(t.$class().$members(),"each",[],function i(u){var m,z=i.$$s==null?this:i.$$s;return u==null&&(u=I),m=[u,n["$[]"](u)],K(z,"[]=",m),m[m.length-1]},{$$s:t})):(Q(w(a.$length(),t.$class().$members().$length()))&&Z.$raise(b("ArgumentError"),"struct size differs"),K(t.$class().$members(),"each_with_index",[],function i(u,m){var z,M=i.$$s==null?this:i.$$s;return u==null&&(u=I),m==null&&(m=I),z=[u,a["$[]"](m)],K(M,"[]=",z),z[z.length-1]},{$$s:t}))},-1),G(h,"$initialize_copy",function(c){var f=this;f.$$data={};var a=Object.keys(c.$$data),t,n,e;for(t=0,n=a.length;t<n;t++)e=a[t],f.$$data[e]=c.$$data[e]}),ne(h,"$keyword_init?",function(){var c=this;return c.$$keyword_init}),G(h,"$members",function(){var c=this;return c.$class().$members()}),G(h,"$hash",function(){var c=this;return[c.$class(),c.$to_a()].$hash()}),G(h,"$[]",function(c){var f=this;return P(b("Integer"),c)?(Q(X(c,f.$class().$members().$size()["$-@"]()))&&Z.$raise(b("IndexError"),"offset "+c+" too small for struct(size:"+f.$class().$members().$size()+")"),Q(S(c,f.$class().$members().$size()))&&Z.$raise(b("IndexError"),"offset "+c+" too large for struct(size:"+f.$class().$members().$size()+")"),c=f.$class().$members()["$[]"](c)):P(b("String"),c)?f.$$data.hasOwnProperty(c)||Z.$raise(b("NameError").$new("no member '"+c+"' in struct",c)):Z.$raise(b("TypeError"),"no implicit conversion of "+c.$class()+" into Integer"),c=g["$coerce_to!"](c,b("String"),"to_str"),f.$$data[c]}),G(h,"$[]=",function(c,f){var a=this;return P(b("Integer"),c)?(Q(X(c,a.$class().$members().$size()["$-@"]()))&&Z.$raise(b("IndexError"),"offset "+c+" too small for struct(size:"+a.$class().$members().$size()+")"),Q(S(c,a.$class().$members().$size()))&&Z.$raise(b("IndexError"),"offset "+c+" too large for struct(size:"+a.$class().$members().$size()+")"),c=a.$class().$members()["$[]"](c)):P(b("String"),c)?Q(a.$class().$members()["$include?"](c.$to_sym()))||Z.$raise(b("NameError").$new("no member '"+c+"' in struct",c)):Z.$raise(b("TypeError"),"no implicit conversion of "+c.$class()+" into Integer"),c=g["$coerce_to!"](c,b("String"),"to_str"),a.$$data[c]=f}),G(h,"$==",function(c){var f=this;if(!Q(c["$instance_of?"](f.$class())))return!1;var a={},t={};function n(e,$){var i,u,m;a[e.$__id__()]=!0,t[$.$__id__()]=!0;for(i in e.$$data)if(u=e.$$data[i],m=$.$$data[i],b("Struct")["$==="](u)){if((!a.hasOwnProperty(u.$__id__())||!t.hasOwnProperty(m.$__id__()))&&!n(u,m))return!1}else if(!u["$=="](m))return!1;return!0}return n(f,c)}),G(h,"$eql?",function(c){var f=this;if(!Q(c["$instance_of?"](f.$class())))return!1;var a={},t={};function n(e,$){var i,u,m;a[e.$__id__()]=!0,t[$.$__id__()]=!0;for(i in e.$$data)if(u=e.$$data[i],m=$.$$data[i],b("Struct")["$==="](u)){if((!a.hasOwnProperty(u.$__id__())||!t.hasOwnProperty(m.$__id__()))&&!n(u,m))return!1}else if(!u["$eql?"](m))return!1;return!0}return n(f,c)}),G(h,"$each",function j(){var c=j.$$p||I,f=this;return j.$$p=null,c===I?K(f,"enum_for",["each"],function a(){var t=a.$$s==null?this:a.$$s;return t.$size()},{$$s:f}):(K(f.$class().$members(),"each",[],function a(t){var n=a.$$s==null?this:a.$$s;return t==null&&(t=I),r.yield1(c,n["$[]"](t))},{$$s:f}),f)}),G(h,"$each_pair",function j(){var c=j.$$p||I,f=this;return j.$$p=null,c===I?K(f,"enum_for",["each_pair"],function a(){var t=a.$$s==null?this:a.$$s;return t.$size()},{$$s:f}):(K(f.$class().$members(),"each",[],function a(t){var n=a.$$s==null?this:a.$$s;return t==null&&(t=I),r.yield1(c,[t,n["$[]"](t)])},{$$s:f}),f)}),G(h,"$length",function(){var c=this;return c.$class().$members().$length()}),G(h,"$to_a",function(){var c=this;return K(c.$class().$members(),"map",[],function f(a){var t=f.$$s==null?this:f.$$s;return a==null&&(a=I),t["$[]"](a)},{$$s:c})});var H=[];return G(h,"$inspect",function(){var c=this,f=I,a=I;return function(){try{return f="#<struct ",Q(H["$include?"](c.$__id__()))?U(f,":...>"):(H["$<<"](c.$__id__()),a=!0,P(b("Struct"),c)&&Q(c.$class().$name())&&(f=U(f,""+c.$class()+" ")),f=U(f,K(c.$each_pair(),"map",[],function(n,e){return n==null&&(n=I),e==null&&(e=I),""+n+"="+o("Opal").$inspect(e)}).$join(", ")),f=U(f,">"),f)}finally{Q(a)&&H.pop()}}()}),G(h,"$to_h",function j(c){var f=j.$$p||I,a,t,n=this;return j.$$p=null,a=F(arguments),t=a,f!==I?K(K(n,"map",[],f.$to_proc()),"to_h",J(t)):K(n.$class().$members(),"each_with_object",[new Map],function e($,i){var u,m=e.$$s==null?this:e.$$s;return $==null&&($=I),i==null&&(i=I),u=[$,m["$[]"]($)],K(i,"[]=",u),u[u.length-1]},{$$s:n})},-1),G(h,"$values_at",function(c){var f,a,t=this;f=F(arguments),a=f,a=K(a,"map",[],function(u){return u==null&&(u=I),u.$$is_range?u.$to_a():u}).$flatten();for(var n=[],e=0,$=a.length;e<$;e++)a[e].$$is_number||Z.$raise(b("TypeError"),"no implicit conversion of "+a[e].$class()+" into Integer"),n.push(t["$[]"](a[e]));return n},-1),G(h,"$dig",function(c,f){var a,t,n=this,e=I;return a=F(arguments,1),t=a,e=Q(c.$$is_string&&n.$$data.hasOwnProperty(c))&&n.$$data[c]||I,e===I||t.length===0?e:(Q(e["$respond_to?"]("dig"))||Z.$raise(b("TypeError"),""+e.$class()+" does not have #dig method"),K(e,"dig",J(t)))},-2),p(h,"size","length"),p(h,"to_s","inspect"),p(h,"values","to_a")}("::",null,D)};Opal.modules["corelib/set"]=function(r){var y=r.freeze,F=r.klass,V=r.slice,E=r.defs,ee=r.truthy,Q=r.eqeqeq,N=r.Kernel,W=r.send,g=r.def,K=r.eqeq,ie=r.rb_lt,J=r.rb_le,G=r.alias,ne=[],Z=r.nil,w=r.$$$;return r.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(R,P,X){var S=F(R,P,"Set"),U=[S].concat(X),p=r.$r(U),x=Z,D=S.$$prototype;D.hash=Z,S.$include(w("Enumerable")),E(S,"$[]",function(s){var d,k,h=this;return d=V(arguments),k=d,h.$new(k)},-1),g(S,"$initialize",function b(s){var d=b.$$p||Z,k=this;return b.$$p=null,s==null&&(s=Z),k.hash=new Map,ee(s["$nil?"]())?Z:(Q(w("Enumerable"),s)||N.$raise(w("ArgumentError"),"value must be enumerable"),ee(d)?W(s,"each",[],function h(_){var o=h.$$s==null?this:h.$$s;return _==null&&(_=Z),o.$add(r.yield1(d,_))},{$$s:k}):k.$merge(s))},-1),g(S,"$dup",function(){var s=this,d=Z;return d=s.$class().$new(),d.$merge(s)}),g(S,"$-",function(s){var d=this;return ee(s["$respond_to?"]("each"))||N.$raise(w("ArgumentError"),"value must be enumerable"),d.$dup().$subtract(s)}),g(S,"$inspect",function(){var s=this;return"#<Set: {"+s.$to_a().$join(",")+"}>"}),g(S,"$==",function(s){var d=this;return ee(d["$equal?"](s))?!0:ee(s["$instance_of?"](d.$class()))?d.hash["$=="](s.$instance_variable_get("@hash")):ee(s["$is_a?"](w("Set")))&&K(d.$size(),s.$size())?W(s,"all?",[],function k(h){var _=k.$$s==null?this:k.$$s;return _.hash==null&&(_.hash=Z),h==null&&(h=Z),_.hash["$include?"](h)},{$$s:d}):!1}),g(S,"$add",function(s){var d=this;return d.hash["$[]="](s,!0),d}),g(S,"$classify",function b(){var s=b.$$p||Z,d=this,k=Z;return b.$$p=null,s===Z?d.$enum_for("classify"):(k=W(w("Hash"),"new",[],function h(_,o){var H,j=h.$$s==null?this:h.$$s;return _==null&&(_=Z),o==null&&(o=Z),H=[o,j.$class().$new()],W(_,"[]=",H),H[H.length-1]},{$$s:d}),W(d,"each",[],function(_){return _==null&&(_=Z),k["$[]"](r.yield1(s,_)).$add(_)}),k)}),g(S,"$collect!",function b(){var s=b.$$p||Z,d=this,k=Z;return b.$$p=null,s===Z?d.$enum_for("collect!"):(k=d.$class().$new(),W(d,"each",[],function(_){return _==null&&(_=Z),k["$<<"](r.yield1(s,_))}),d.$replace(k))}),g(S,"$compare_by_identity",function(){var s=this;return ee(s.hash["$respond_to?"]("compare_by_identity"))?(s.hash.$compare_by_identity(),s):s.$raise(p("NotImplementedError"),""+s.$class().$name()+"#compare_by_identity is not implemented")}),g(S,"$compare_by_identity?",function(){var s=this,d=Z;return ee(d=s.hash["$respond_to?"]("compare_by_identity?"))?s.hash["$compare_by_identity?"]():d}),g(S,"$delete",function(s){var d=this;return d.hash.$delete(s),d}),g(S,"$delete?",function(s){var d=this;return ee(d["$include?"](s))?(d.$delete(s),d):Z}),g(S,"$delete_if",function b(){var s=b.$$p||Z,d=this;return b.$$p=null,s===Z?d.$enum_for("delete_if"):(W(W(d,"select",[],function(h){return h==null&&(h=Z),r.yield1(s,h)}),"each",[],function k(h){var _=k.$$s==null?this:k.$$s;return _.hash==null&&(_.hash=Z),h==null&&(h=Z),_.hash.$delete(h)},{$$s:d}),d)}),g(S,"$freeze",function(){var s=this;return ee(s["$frozen?"]())?s:(s.hash.$freeze(),y(s))}),g(S,"$keep_if",function b(){var s=b.$$p||Z,d=this;return b.$$p=null,s===Z?d.$enum_for("keep_if"):(W(W(d,"reject",[],function(h){return h==null&&(h=Z),r.yield1(s,h)}),"each",[],function k(h){var _=k.$$s==null?this:k.$$s;return _.hash==null&&(_.hash=Z),h==null&&(h=Z),_.hash.$delete(h)},{$$s:d}),d)}),g(S,"$reject!",function b(){var s=b.$$p||Z,d=this,k=Z;return b.$$p=null,s===Z?d.$enum_for("reject!"):(k=d.$size(),W(d,"delete_if",[],s.$to_proc()),K(d.$size(),k)?Z:d)}),g(S,"$select!",function b(){var s=b.$$p||Z,d=this,k=Z;return b.$$p=null,s===Z?d.$enum_for("select!"):(k=d.$size(),W(d,"keep_if",[],s.$to_proc()),K(d.$size(),k)?Z:d)}),g(S,"$add?",function(s){var d=this;return ee(d["$include?"](s))?Z:d.$add(s)}),g(S,"$each",function b(){var s=b.$$p||Z,d=this;return b.$$p=null,s===Z?d.$enum_for("each"):(W(d.hash,"each_key",[],s.$to_proc()),d)}),g(S,"$empty?",function(){var s=this;return s.hash["$empty?"]()}),g(S,"$eql?",function(s){var d=this;return d.hash["$eql?"](W(s,"instance_eval",[],function k(){var h=k.$$s==null?this:k.$$s;return h.hash==null&&(h.hash=Z),h.hash},{$$s:d}))}),g(S,"$clear",function(){var s=this;return s.hash.$clear(),s}),g(S,"$include?",function(s){var d=this;return d.hash["$include?"](s)}),g(S,"$merge",function(s){var d=this;return W(s,"each",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=Z),_.$add(h)},{$$s:d}),d}),g(S,"$replace",function(s){var d=this;return d.$clear(),d.$merge(s),d}),g(S,"$size",function(){var s=this;return s.hash.$size()}),g(S,"$subtract",function(s){var d=this;return W(s,"each",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=Z),_.$delete(h)},{$$s:d}),d}),g(S,"$|",function(s){var d=this;return ee(s["$respond_to?"]("each"))||N.$raise(w("ArgumentError"),"value must be enumerable"),d.$dup().$merge(s)});function I(b){ee(x=b["$is_a?"](w("Set")))||N.$raise(w("ArgumentError"),"value must be a set")}return g(S,"$superset?",function(s){var d=this;return I(s),ee(ie(d.$size(),s.$size()))?!1:W(s,"all?",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=Z),_["$include?"](h)},{$$s:d})}),g(S,"$proper_superset?",function(s){var d=this;return I(s),ee(J(d.$size(),s.$size()))?!1:W(s,"all?",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=Z),_["$include?"](h)},{$$s:d})}),g(S,"$subset?",function(s){var d=this;return I(s),ee(ie(s.$size(),d.$size()))?!1:W(d,"all?",[],function(h){return h==null&&(h=Z),s["$include?"](h)})}),g(S,"$proper_subset?",function(s){var d=this;return I(s),ee(J(s.$size(),d.$size()))?!1:W(d,"all?",[],function(h){return h==null&&(h=Z),s["$include?"](h)})}),g(S,"$intersect?",function(s){var d=this;return I(s),ee(ie(d.$size(),s.$size()))?W(d,"any?",[],function(h){return h==null&&(h=Z),s["$include?"](h)}):W(s,"any?",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=Z),_["$include?"](h)},{$$s:d})}),g(S,"$disjoint?",function(s){var d=this;return d["$intersect?"](s)["$!"]()}),g(S,"$to_a",function(){var s=this;return s.hash.$keys()}),G(S,"+","|"),G(S,"<","proper_subset?"),G(S,"<<","add"),G(S,"<=","subset?"),G(S,">","proper_superset?"),G(S,">=","superset?"),G(S,"difference","-"),G(S,"filter!","select!"),G(S,"length","size"),G(S,"map!","collect!"),G(S,"member?","include?"),G(S,"union","|")}("::",null,ne)};Opal.modules["corelib/dir"]=function(r){var y=r.klass,F=r.def,V=r.truthy,E=r.alias,ee=r.nil,Q=r.$$$;return r.add_stubs("[],pwd"),function(N,W,g){var K=y(N,W,"Dir");return function(ie,J){return F(ie,"$chdir",function G(ne){var Z=G.$$p||ee,w=ee;return G.$$p=null,function(){try{return w=r.current_dir,r.current_dir=ne,r.yieldX(Z,[])}finally{r.current_dir=w}}()}),F(ie,"$pwd",function(){return r.current_dir||"."}),F(ie,"$home",function(){var ne=ee;return V(ne=Q("ENV")["$[]"]("HOME"))?ne:"."}),E(ie,"getwd","pwd")}(r.get_singleton_class(K))}("::",null)};Opal.modules["corelib/file"]=function(r){var y=r.truthy,F=r.klass,V=r.const_set,E=r.Opal,ee=r.regexp,Q=r.rb_plus,N=r.def,W=r.Kernel,g=r.eqeq,K=r.rb_lt,ie=r.rb_minus,J=r.range,G=r.send,ne=r.slice,Z=r.alias,w=[],R=r.nil,P=r.$$$;return r.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(X,S,U){var p=F(X,S,"File"),x=[p].concat(U),D=R;return V(x[0],"Separator",V(x[0],"SEPARATOR","/")),V(x[0],"ALT_SEPARATOR",R),V(x[0],"PATH_SEPARATOR",":"),V(x[0],"FNM_SYSCASE",0),D=/^[a-zA-Z]:(?:\\|\/)/,function(I,b){var s=[I].concat(b),d=r.$r(s);N(I,"$absolute_path",function(o,H){var j=R,c=R,f=R,a=R,t=R,n=R,e=R,$=R,i=R,u=R;H==null&&(H=R),j=d("SEPARATOR"),c=h(),f=[],o=y(o["$respond_to?"]("to_path"))?o.$to_path():o,o=E["$coerce_to!"](o,P("String"),"to_str"),H=y(a=H)?a:P("Dir").$pwd(),t=o.substr(0,j.length)===j||D.test(o),n=H.substr(0,j.length)===j||D.test(H),y(t)?(e=o.$split(ee(["[",c,"]"])),$=D.test(o)?"":o.$sub(ee(["^([",c,"]+).*$"]),"\\1"),i=!0):(e=Q(H.$split(ee(["[",c,"]"])),o.$split(ee(["[",c,"]"]))),$=D.test(H)?"":H.$sub(ee(["^([",c,"]+).*$"]),"\\1"),i=n);for(var m,z=0,M=e.length;z<M;z++)m=e[z],!(m===R||m===""&&(f.length===0||i)||m==="."&&(f.length===0||i))&&(m===".."?f.pop():f.push(m));return!i&&e[0]!=="."&&f.$unshift("."),u=f.$join(j),y(i)&&(u=Q($,u)),u},-2),N(I,"$expand_path",function(o,H){var j=this,c=R,f=R,a=R,t=R,n=R;return H==null&&(H=R),c=d("SEPARATOR"),f=h(),y(o[0]==="~"||H&&H[0]==="~")&&(a=d("Dir").$home(),y(a)||W.$raise(P("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),t=D.test(a)?"":a.$sub(ee(["^([",f,"]+).*$"]),"\\1"),y(a["$start_with?"](t))||W.$raise(P("ArgumentError"),"non-absolute home"),a=Q(a,c),n=ee(["^\\~(?:",c,"|$)"]),o=o.$sub(n,a),y(H)&&(H=H.$sub(n,a))),j.$absolute_path(o,H)},-2);function k(_){return y(_["$respond_to?"]("to_path"))&&(_=_.$to_path()),_=E["$coerce_to!"](_,P("String"),"to_str"),_}function h(){return d("ALT_SEPARATOR")===R?r.escape_regexp(d("SEPARATOR")):r.escape_regexp(Q(d("SEPARATOR"),d("ALT_SEPARATOR")))}return N(I,"$dirname",function(o,H){var j=this,c=R;if(H==null&&(H=1),g(H,0))return o;y(K(H,0))&&W.$raise(P("ArgumentError"),"level can't be negative"),c=h(),o=k(o);var f=o.match(new RegExp("^["+c+"]")),a;return o=o.replace(new RegExp("["+c+"]+$"),""),o=o.replace(new RegExp("[^"+c+"]+$"),""),o=o.replace(new RegExp("["+c+"]+$"),""),o===""?a=f?"/":".":a=o,H==1?a:j.$dirname(a,ie(H,1))},-2),N(I,"$basename",function(o,H){var j=R;return H==null&&(H=R),j=h(),o=k(o),o.length==0||(H!==R?H=E["$coerce_to!"](H,P("String"),"to_str"):H=null,o=o.replace(new RegExp("(.)["+j+"]*$"),"$1"),o=o.replace(new RegExp("^(?:.*["+j+"])?([^"+j+"]+)$"),"$1"),H===".*"?o=o.replace(/\.[^\.]+$/,""):H!==null&&(H=r.escape_regexp(H),o=o.replace(new RegExp(""+H+"$"),""))),o},-2),N(I,"$extname",function(o){var H=this,j=R,c=R;return o=k(o),j=H.$basename(o),y(j["$empty?"]())||(c=j["$[]"](J(1,-1,!1)).$rindex("."),y(c["$nil?"]())||g(Q(c,1),ie(j.$length(),1)))?"":j["$[]"](r.Range.$new(Q(c,1),-1,!1))}),N(I,"$exist?",function(o){return r.modules[o]!=null}),N(I,"$directory?",function(o){var H=R;H=[];for(var j in r.modules)H.push(j);return o=o.$gsub(ee(["(^.",d("SEPARATOR"),"+|",d("SEPARATOR"),"+$)"])),G(H,"find",[],function(f){return f==null&&(f=R),f["$=~"](ee(["^",o]))})}),N(I,"$join",function(o){var H,j,c=R;return H=ne(arguments),j=H,y(j["$empty?"]())?"":(c="",j=G(j.$flatten().$each_with_index(),"map",[],function(a,t){return a==null&&(a=R),t==null&&(t=R),g(t,0)&&y(a["$empty?"]())||g(j.$length(),Q(t,1))&&y(a["$empty?"]())?d("SEPARATOR"):a}),j=G(j,"reject",[],"empty?".$to_proc()),G(j,"each_with_index",[],function(a,t){var n=R;return a==null&&(a=R),t==null&&(t=R),n=j["$[]"](Q(t,1)),y(n["$nil?"]())?c=""+c+a:(y(a["$end_with?"](d("SEPARATOR")))&&y(n["$start_with?"](d("SEPARATOR")))&&(a=a.$sub(ee([d("SEPARATOR"),"+$"]),"")),c=y(a["$end_with?"](d("SEPARATOR")))||y(n["$start_with?"](d("SEPARATOR")))?""+c+a:""+c+a+d("SEPARATOR"))}),c)},-1),N(I,"$split",function(o){return o.$split(d("SEPARATOR"))}),Z(I,"realpath","expand_path"),Z(I,"exists?","exist?")}(r.get_singleton_class(p),x)}("::",P("IO"),w)};Opal.modules["corelib/process/base"]=function(r){var y=r.klass,F=r.slice,V=r.defs,E=r.return_val,ee=r.nil;return function(Q,N){var W=y(Q,N,"Signal");return V(W,"$trap",function(K){return F(arguments),ee},-1)}("::",null),function(Q,N){var W=y(Q,N,"GC");return V(W,"$start",E(ee))}("::",null)};Opal.modules["corelib/process"]=function(r){var y=r.module,F=r.defs,V=r.truthy,E=r.return_val,ee=r.Kernel,Q=r.nil,N=r.$$$;return r.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(W){var g=y(W,"Process"),K=Q;if(g.__clocks__=[],F(g,"$__register_clock__",function(G,ne){var Z=this;return Z.__clocks__==null&&(Z.__clocks__=Q),Z.$const_set(G,Z.__clocks__.$size()),Z.__clocks__["$<<"](ne)}),g.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),K=!1,r.global.performance)K=function(){return performance.now()};else if(r.global.process&&process.hrtime){var ie=process.hrtime();K=function(){var J=process.hrtime(ie),G=J[1]/1e3|0;return J[0]*1e3+G/1e3}}return V(K)&&g.$__register_clock__("CLOCK_MONOTONIC",K),F(g,"$pid",E(0)),F(g,"$times",function(){var G=Q;return G=N("Time").$now().$to_f(),N(N("Benchmark"),"Tms").$new(G,G,G,G,G)}),F(g,"$clock_gettime",function(G,ne){var Z=this,w=Q;Z.__clocks__==null&&(Z.__clocks__=Q),ne==null&&(ne="float_second"),V(w=Z.__clocks__["$[]"](G))||ee.$raise(N(N("Errno"),"EINVAL"),"clock_gettime("+G+") "+Z.__clocks__["$[]"](G));var R=w();switch(ne){case"float_second":return R/1e3;case"float_millisecond":return R/1;case"float_microsecond":return R*1e3;case"second":return R/1e3|0;case"millisecond":return R/1|0;case"microsecond":return R*1e3|0;case"nanosecond":return R*1e6|0;default:ee.$raise(N("ArgumentError"),"unexpected unit: "+ne)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(r){var y=r.klass,F=r.module,V=r.def,E=r.range,ee=r.send,Q=r.rb_divide,N=r.Kernel,W=r.Opal,g=[],K=r.nil,ie=r.$$$;return r.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(J,G,ne){var Z=y(J,G,"Random"),w=[Z].concat(ne);return function(R,P){var X=F(R,"Formatter"),S=[X].concat(P),U=r.$r(S);return V(X,"$hex",function(x){var D=this;x==null&&(x=K),x=ie("Random").$_verify_count(x);for(var I=D.$bytes(x),b="",s=0;s<x;s++)b+=I.charCodeAt(s).toString(16).padStart(2,"0");return b.$encode("US-ASCII")},-1),V(X,"$random_bytes",function(x){var D=this;return x==null&&(x=K),D.$bytes(x)},-1),V(X,"$base64",function(x){var D=this;return x==null&&(x=K),ie("Base64").$strict_encode64(D.$random_bytes(x)).$encode("US-ASCII")},-1),V(X,"$urlsafe_base64",function(x,D){var I=this;return x==null&&(x=K),D==null&&(D=!1),ie("Base64").$urlsafe_encode64(I.$random_bytes(x),D).$encode("US-ASCII")},-1),V(X,"$uuid",function(){var x=this,D=K;return D=x.$hex(16).$split(""),D["$[]="](12,"4"),D["$[]="](16,(parseInt(D["$[]"](16),16)&3|8).toString(16)),D=[D["$[]"](E(0,8,!0)),D["$[]"](E(8,12,!0)),D["$[]"](E(12,16,!0)),D["$[]"](E(16,20,!0)),D["$[]"](E(20,32,!0))],D=ee(D,"map",[],"join".$to_proc()),D.$join("-")}),V(X,"$random_float",function(){var x=this,D=K,I=K;return D=x.$bytes(4),I=0,ee(4,"times",[],function(s){return s==null&&(s=K),I=I["$<<"](8),I=I["$|"](D["$[]"](s).$ord())}),Q(I.$abs(),2147483647)}),V(X,"$random_number",function(x){var D=this;function I(){return D.$random_float()}function b(d){return Math.floor(I()*d)}function s(){var d=x.begin,k=x.end;if(d===K||k===K)return K;var h=k-d;return h<0?K:h===0?d:(k%1===0&&d%1===0&&!x.excl&&h++,b(h)+d)}return x==null?I():x.$$is_range?s():x.$$is_number?(x<=0&&N.$raise(ie("ArgumentError"),"invalid argument - "+x),x%1===0?b(x):I()*x):(x=W["$coerce_to!"](x,ie("Integer"),"to_int"),x<=0&&N.$raise(ie("ArgumentError"),"invalid argument - "+x),b(x))},-1),V(X,"$alphanumeric",function(x){var D=this,I=K;return x==null&&(x=K),x=U("Random").$_verify_count(x),I=ee([E("0","9",!1),E("a","z",!1),E("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),ee(ie("Array"),"new",[x],function b(s){var d=b.$$s==null?this:b.$$s;return I["$[]"](d.$random_number(I.$length()))},{$$s:D}).$join()},-1)}(Z,w),Z.$include(ie(ie("Random"),"Formatter")),Z.$extend(ie(ie("Random"),"Formatter"))}("::",null,g)};Opal.modules["corelib/random/mersenne_twister"]=function(r){var y=r.klass,F=r.const_set,V=r.send,E=r.nil,ee=r.$$$,Q=E;return r.add_stubs("generator="),Q=function(){var N=624,W=397,g=2567483615,K=2147483648,ie=2147483647,J=function(S,U){return S&K|U&ie},G=function(S,U){return J(S,U)>>>1^(U&1?g:0)};function ne(S){var U={left:0,next:N,state:new Array(N)};return Z(U,S),U}function Z(S,U){var p;for(S.state[0]=U>>>0,p=1;p<N;p++)S.state[p]=1812433253*(S.state[p-1]^S.state[p-1]>>30>>>0)+p,S.state[p]&=4294967295;S.left=1,S.next=N}function w(S){var U=0,p=S.state,x;for(S.left=N,S.next=0,x=N-W+1;--x;U++)p[U]=p[U+W]^G(p[U+0],p[U+1]);for(x=W;--x;U++)p[U]=p[U+(W-N)]^G(p[U+0],p[U+1]);p[U]=p[U+(W-N)]^G(p[U+0],p[0])}function R(S){var U;return--S.left<=0&&w(S),U=S.state[S.next++],U^=U>>>11,U^=U<<7&2636928640,U^=U<<15&4022730752,U^=U>>>18,U>>>0}function P(S,U){return S>>>=5,U>>>=6,(S*67108864+U)*(1/9007199254740992)}function X(S){var U=R(S),p=R(S);return P(U,p)}return{genrand_real:X,init:ne}}(),function(N,W){var g=y(N,W,"Random"),K,ie=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return F(g,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*ie)},reseed:function(J){return Q.init(J)},rand:function(J){return Q.genrand_real(J)}}),K=[ee(g,"MERSENNE_TWISTER_GENERATOR")],V(g,"generator=",K),K[K.length-1]}("::",null)};Opal.modules["corelib/random"]=function(r){var y=r.truthy,F=r.klass,V=r.Kernel,E=r.defs,ee=r.Opal,Q=r.def,N=r.eqeqeq,W=r.send,g=r.top,K=r.nil,ie=r.$$$;return r.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),g.$require("corelib/random/formatter"),function(J,G){var ne=F(J,G,"Random");return ne.$attr_reader("seed","state"),E(ne,"$_verify_count",function(w){return y(w)||(w=16),typeof w!="number"&&(w=w.$to_int()),w<0&&V.$raise(ie("ArgumentError"),"negative string size (or size too big)"),w=Math.floor(w),w}),Q(ne,"$initialize",function(w){var R=this;return w==null&&(w=ie("Random").$new_seed()),w=ee["$coerce_to!"](w,ie("Integer"),"to_int"),R.state=w,R.$reseed(w)},-1),Q(ne,"$reseed",function(w){var R=this;return R.seed=w,R.$rng=r.$$rand.reseed(w)}),E(ne,"$new_seed",function(){return r.$$rand.new_seed()}),E(ne,"$rand",function(w){var R=this;return ie(R,"DEFAULT").$rand(w)},-1),E(ne,"$srand",function(w){var R=this,P=K;return w==null&&(w=ie("Random").$new_seed()),w=ee["$coerce_to!"](w,ie("Integer"),"to_int"),P=ie(R,"DEFAULT").$seed(),ie(R,"DEFAULT").$reseed(w),P},-1),E(ne,"$urandom",function(w){return ie("SecureRandom").$bytes(w)}),Q(ne,"$==",function(w){var R=this,P=K;return N(ie("Random"),w)?y(P=R.$seed()["$=="](w.$seed()))?R.$state()["$=="](w.$state()):P:!1}),Q(ne,"$bytes",function(w){var R=this;return w=ie("Random").$_verify_count(w),W(ie("Array"),"new",[w],function P(){var X=P.$$s==null?this:P.$$s;return X.$rand(255).$chr()},{$$s:R}).$join().$encode("ASCII-8BIT")}),E(ne,"$bytes",function(w){var R=this;return ie(R,"DEFAULT").$bytes(w)}),Q(ne,"$rand",function(w){var R=this;return R.$random_number(w)},-1),Q(ne,"$random_float",function(){var w=this;return w.state++,r.$$rand.rand(w.$rng)}),E(ne,"$random_float",function(){var w=this;return ie(w,"DEFAULT").$random_float()}),E(ne,"$generator=",function(w){var R=this;return r.$$rand=w,y(R["$const_defined?"]("DEFAULT"))?ie(R,"DEFAULT").$reseed():R.$const_set("DEFAULT",R.$new(R.$new_seed()))})}("::",null),g.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(r){var y=r.Kernel,F=r.klass,V=r.send,E=r.slice,ee=r.module,Q=r.def,N=r.return_val,W=r.alias,g=r.defs,K=r.top,ie=[],J=r.nil,G=r.$$$;r.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var ne={};function Z(R){switch(r.config.unsupported_features_severity){case"error":y.$raise(G("NotImplementedError"),R);break;case"warning":w(R);break}}function w(R){ne[R]||(ne[R]=!0,K.$warn(R))}return function(R,P){var X=F(R,P,"String"),S="String#%s not supported. Mutable String methods are not supported in Opal.";return V(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function U(p){var x=U.$$s==null?this:U.$$s;return p==null&&(p=J),V(x,"define_method",[p],function(I){return E(arguments),y.$raise(G("NotImplementedError"),S["$%"](p))},-1)},{$$s:X})}("::",null),function(R){var P=ee(R,"Kernel"),X="Object tainting is not supported by Opal";return Q(P,"$taint",function(){var U=this;return Z(X),U}),Q(P,"$untaint",function(){var U=this;return Z(X),U}),Q(P,"$tainted?",function(){return Z(X),!1})}("::"),function(R,P){var X=F(R,P,"Module");return Q(X,"$public",function(U){var p,x,D=this;return p=E(arguments),x=p,x.length===0?(D.$$module_function=!1,J):x.length===1?x[0]:x},-1),Q(X,"$private_class_method",function(U){var p,x;return p=E(arguments),x=p,x.length===1?x[0]:x},-1),Q(X,"$private_method_defined?",N(!1)),Q(X,"$private_constant",function(U){return E(arguments),J},-1),W(X,"nesting","public"),W(X,"private","public"),W(X,"protected","public"),W(X,"protected_method_defined?","private_method_defined?"),W(X,"public_class_method","private_class_method"),W(X,"public_instance_method","instance_method"),W(X,"public_instance_methods","instance_methods"),W(X,"public_method_defined?","method_defined?")}("::",null),function(R){var P=ee(R,"Kernel");return Q(P,"$private_methods",function(S){return E(arguments),[]},-1),W(P,"protected_methods","private_methods"),W(P,"private_instance_methods","private_methods"),W(P,"protected_instance_methods","private_methods")}("::"),function(R,P){var X=ee(R,"Kernel"),S=[X].concat(P),U=r.$r(S);return Q(X,"$eval",function(x){return E(arguments),y.$raise(G("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+U("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",ie),g(K,"$public",function(P){var X,S;return X=E(arguments),S=X,S.length===1?S[0]:S},-1),g(K,"$private",function(P){var X,S;return X=E(arguments),S=X,S.length===1?S[0]:S},-1)};Opal.modules["corelib/binding"]=function(r){var y=r.klass,F=r.truthy,V=r.def,E=r.slice,ee=r.send,Q=r.to_a,N=r.Kernel,W=r.return_ivar,g=r.eqeq;r.thrower;var K=r.module,ie=r.const_set,J=r.top,G=[],ne=r.nil,Z=r.$$$;return r.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(w,R){var P=y(w,R,"Binding"),X=P.$$prototype;return X.jseval=X.scope_variables=ne,V(P,"$initialize",function(U,p,x,D){var I,b=this;return p==null&&(p=[]),D==null&&(D=ne),I=[U,p,x,D],b.jseval=I[0],b.scope_variables=I[1],b.receiver=I[2],b.source_location=I[3],F(typeof x!==void 0)?ne:x=b.$js_eval("self")},-2),V(P,"$js_eval",function(U){var p,x,D=this;return p=E(arguments),x=p,F(D.jseval)?ee(D.jseval,"call",Q(x)):N.$raise("Evaluation on a Proc#binding is not supported")},-1),V(P,"$local_variable_get",function(U){var p=this;try{return p.$js_eval(U)}catch(x){if(r.rescue(x,[Z("Exception")]))try{return N.$raise(Z("NameError"),"local variable `"+U+"' is not defined for "+p.$inspect())}finally{r.pop_exception(x)}else throw x}}),V(P,"$local_variable_set",function(U,p){var x=this;return r.Binding.tmp_value=p,x.$js_eval(""+U+" = Opal.Binding.tmp_value"),delete r.Binding.tmp_value,p}),V(P,"$local_variables",W("scope_variables")),V(P,"$local_variable_defined?",function(U){var p=this;return p.scope_variables["$include?"](U)}),V(P,"$eval",function(U,p,x){try{var D=this;return p==null&&(p=ne),x==null&&(x=ne),g(U,"self")?D.$receiver():N.$eval(U,D,p,x)}catch(I){if(I===r.t_eval_return)return I.$v;throw I}},-2),P.$attr_reader("receiver","source_location")}("::",null),function(w){var R=K(w,"Kernel");return V(R,"$binding",function(){return N.$raise("Opal doesn't support dynamic calls to binding")})}("::"),ie(G[0],"TOPLEVEL_BINDING",Z("Binding").$new(function(w){return new Function("self","return "+w)(J)},[],J,["<main>",0]))};Opal.modules["corelib/irb"]=function(r){var y=r.module,F=r.truthy,V=r.Kernel,E=r.defs,ee=r.gvars,Q=r.lambda,N=r.hash_rehash,W=r.send,g=r.rb_plus,K=r.const_set,ie=r.klass,J=r.def,G=r.Opal,ne=r.range,Z=r.eqeq,w=r.thrower,R=[],P=r.nil,X=r.$$$;r.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(S,U){var p=y(S,"Opal"),x=[p].concat(U);return function(D,I){var b=y(D,"IRB"),s=[b].concat(I),d=r.$r(s);return E(b,"$ensure_loaded",function(h){var _=P,o=P;if(F(r.loaded_features["$include?"](h)))return P;_=F(d("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":d("RUBY_ENGINE_VERSION"),o="https://cdn.opalrb.com/opal/"+_+"/"+h+".js";var H;if(typeof XMLHttpRequest<"u"){var j=new XMLHttpRequest;j.open("GET",o,!1),j.send(""),H=j.responseText}else V.$raise("You need to provision "+h+" yourself in this environment");return new Function("Opal",H)(r),r.require(h),F(r.loaded_features["$include?"](h))?P:V.$raise("Could not load "+h+" for some reason")}),b.$singleton_class().$attr_accessor("output"),E(b,"$prepare_console",function k(){var h=k.$$p||P,_,o=this,H=P,j=P;return ee.stdout==null&&(ee.stdout=P),ee.stderr==null&&(ee.stderr=P),ee.stdin==null&&(ee.stdin=P),k.$$p=null,function(){try{return o["$output="](""),H=N(new Map([[ee.stdout,Q(function(f){return f==null&&(f=P),ee.stdout=f})],[ee.stderr,Q(function(f){return f==null&&(f=P),ee.stderr=f})]])),F(o["$browser?"]())&&(W(H,"each",[],function c(f,a){var t=c.$$s==null?this:c.$$s,n=P;return f==null&&(f=P),a==null&&(a=P),n=f.$dup(),n["$write_proc="](W(t,"proc",[],function e($){var i=e.$$s==null?this:e.$$s;return $==null&&($=P),i["$output="](g(i.$output(),$)),i["$output="](i.$output().$split(`
`).$last(30).$join(`
`)),F($["$end_with?"](`
`))&&i["$output="](g(i.$output(),`
`)),f.$write_proc().$call($)},{$$s:t})),n["$tty="](!1),a.$call(n)},{$$s:o}),j=ee.stdin.$read_proc(),ee.stdin["$read_proc="](function(c){var f=prompt(o.$output());return f!==null?f+`
`:P})),r.yieldX(h,[])}finally{W(H,"each",[],function(f,a){return f==null&&(f=P),a==null&&(a=P),a.$call(f)}),_=[j],W(ee.stdin,"read_proc=",_),_[_.length-1],_=[""],W(o,"output=",_),_[_.length-1]}}()}),E(b,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),K(s[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(k,h){var _=ie(k,h,"Silencer"),o=_.$$prototype;return o.collector=o.stderr=P,J(_,"$initialize",function(){var j=this;return ee.stderr==null&&(ee.stderr=P),j.stderr=ee.stderr}),J(_,"$silence",function H(){var j=H.$$p||P,c=this;return H.$$p=null,function(){try{return c.collector=X("StringIO").$new(),ee.stderr=c.collector,r.yieldX(j,[])}finally{ee.stderr=c.stderr}}()}),J(_,"$warnings",function(){var j=this;return j.collector.$string()})}(s[0],null)}(x[0],x)}(R[0],R),function(S,U,p){var x=ie(S,U,"Binding"),D=[x].concat(p),I=r.$r(D);return J(x,"$irb",function(){try{var s=w("return"),d=this,k=P;return X(G,"IRB").$ensure_loaded("opal-replutils"),k=X(X(G,"IRB"),"Silencer").$new(),W(X(G,"IRB"),"prepare_console",[],function h(){var _=h.$$s==null?this:h.$$s;return function(){try{var o=w("break");return W(_,"loop",[],function H(){var j=H.$$s==null?this:H.$$s,c=P,f=P,a=P,t=P,n=P;j.$print(">> "),c=j.$gets(),F(c)||o.$throw(P,H.$$is_lambda),f="",F(X(G,"IRB")["$browser?"]())&&j.$puts(c),F(c["$start_with?"]("ls "))?(f=c["$[]"](ne(3,-1,!1)),a="ls"):Z(c,`ls
`)?(f="self",a="ls"):F(c["$start_with?"]("show "))?(f=c["$[]"](ne(5,-1,!1)),a="show"):(f=c,a="inspect"),t=P;do{try{W(k,"silence",[],function(){return t=r.compile(f,{irb:!0})})}catch(e){if(r.rescue(e,[I("SyntaxError")])){n=e;try{if(F(X(X(G,"IRB"),"LINEBREAKS")["$include?"](n.$message()))){j.$print(".. "),c=j.$gets(),F(c)||s.$throw(P,H.$$is_lambda),F(X(G,"IRB")["$browser?"]())&&j.$puts(c),f=g(f,c);continue}else F(k.$warnings()["$empty?"]())?j.$warn(n.$full_message()):j.$warn(k.$warnings())}finally{r.pop_exception(e)}}else throw e}break}while(!0);return Z(a,"show")&&(j.$puts(t),s.$throw(P,H.$$is_lambda)),j.$puts(X("REPLUtils").$eval_and_print(t,a,!1,j))},{$$s:_,$$ret:s})}catch(H){if(H===o)return H.$v;throw H}finally{o.is_orphan=!0}}()},{$$s:d})}catch(h){if(h===s)return h.$v;throw h}finally{s.is_orphan=!0}})}("::",null,R),r.irb=function(S){X("Binding").$new(S).$irb()},r.load_parser=function(){r.Opal.IRB.$ensure_loaded("opal-parser")},typeof r.eval>"u"&&(r.eval=function(S){return r.load_parser(),r.eval(S)}),typeof r.compile>"u"&&(r.compile=function(S,U){return r.load_parser(),r.compile(S,U)})};Opal.queue(function(r){var y=r.Object;return r.nil,r.add_stubs("require,autoload"),y.$require("opal/base"),y.$require("opal/mini"),y.$require("corelib/kernel/format"),y.$require("corelib/string/encoding"),y.$autoload("Math","corelib/math"),y.$require("corelib/complex/base"),y.$autoload("Complex","corelib/complex"),y.$require("corelib/rational/base"),y.$autoload("Rational","corelib/rational"),y.$require("corelib/time"),y.$autoload("Struct","corelib/struct"),y.$autoload("Set","corelib/set"),y.$autoload("Dir","corelib/dir"),y.$autoload("File","corelib/file"),y.$require("corelib/process/base"),y.$autoload("Process","corelib/process"),y.$autoload("Random","corelib/random"),y.$require("corelib/unsupported"),y.$require("corelib/binding"),y.$require("corelib/irb")});Opal.modules.native=function(r){var y=r.hash_put,F=r.module,V=r.defs,E=r.slice,ee=r.truthy,Q=r.send,N=r.Kernel,W=r.extract_kwargs,g=r.ensure_kwargs,K=r.hash_get,ie=r.range,J=r.to_a,G=r.def,ne=r.return_ivar,Z=r.alias,w=r.klass,R=r.rb_minus,P=r.return_val,X=r.send2,S=r.find_super,U=r.eqeqeq,p=r.rb_ge,x=r.return_self,D=r.gvars,I=r.top,b=[],s=r.$r(b),d=r.nil,k=r.$$$;return r.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(h,_){var o=F(h,"Native"),H=[o].concat(_),j=r.$r(H);return V(o,"$is_a?",function(f,a){var t=this;try{return f instanceof t.$try_convert(a)}catch{return!1}}),V(o,"$try_convert",function(f,a){var t=this;return a==null&&(a=d),t["$native?"](f)?f:f["$respond_to?"]("to_n")?f.$to_n():a},-2),V(o,"$convert",function(f){var a=this;if(a["$native?"](f))return f;if(f["$respond_to?"]("to_n"))return f.$to_n();a.$raise(j("ArgumentError"),""+f.$inspect()+" isn't native")}),V(o,"$call",function c(f,a,t){var n=c.$$p||d,e,$,i=this;c.$$p=null,e=E(arguments,2),$=e;var u=f[a];if(u instanceof Function){for(var m=new Array($.length),z=0,M=$.length;z<M;z++){var A=$[z],L=i.$try_convert(A);m[z]=L===d?A:L}return n!==d&&m.push(n),i.$Native(u.apply(f,m))}else return i.$Native(u)},-3),V(o,"$proc",function c(){var f=c.$$p||d,a=this;return c.$$p=null,ee(f)||a.$raise(j("LocalJumpError"),"no block given"),Q(N,"proc",[],function t(n){var e,$,i=t.$$s==null?this:t.$$s,u=d;if(e=E(arguments),$=e,Q($,"map!",[],function z(M){var A=z.$$s==null?this:z.$$s;return M==null&&(M=d),A.$Native(M)},{$$s:i}),u=i.$Native(this),this===r.global)return f.apply(i,$);var m=f.$$s;f.$$s=null;try{return f.apply(u,$)}finally{f.$$s=m}},{$$arity:-1,$$s:a})}),function(c,f){var a=F(c,"Helpers"),t=[a].concat(f),n=r.$r(t);return G(a,"$alias_native",function e($,i,u){var m,z,M,A;e.$$p;var L=this;return e.$$p=null,m=E(arguments,1),z=W(m),z=g(z),m.length>0&&(M=m.shift()),M==null&&(M=$),A=K(z,"as"),A==null&&(A=d),ee(M["$end_with?"]("="))?Q(L,"define_method",[$],function O(ae){var le=O.$$s==null?this:O.$$s;return le.native==null&&(le.native=d),ae==null&&(ae=d),le.native[M["$[]"](ie(0,-2,!1))]=n("Native").$convert(ae),ae},{$$s:L}):ee(A)?Q(L,"define_method",[$],function O(ae){var le=O.$$p||d,_e,de,ge=O.$$s==null?this:O.$$s,ve=d;return ge.native==null&&(ge.native=d),O.$$p=null,_e=E(arguments),de=_e,ve=Q(n("Native"),"call",[ge.native,M].concat(J(de)),le.$to_proc()),ee(ve)?A.$new(ve.$to_n()):d},{$$arity:-1,$$s:L}):Q(L,"define_method",[$],function O(ae){var le=O.$$p||d,_e,de,ge=O.$$s==null?this:O.$$s;return ge.native==null&&(ge.native=d),O.$$p=null,_e=E(arguments),de=_e,Q(n("Native"),"call",[ge.native,M].concat(J(de)),le.$to_proc())},{$$arity:-1,$$s:L})},-2),G(a,"$native_reader",function($){var i,u,m=this;return i=E(arguments),u=i,Q(u,"each",[],function z(M){var A=z.$$s==null?this:z.$$s;return M==null&&(M=d),Q(A,"define_method",[M],function L(){var O=L.$$s==null?this:L.$$s;return O.native==null&&(O.native=d),O.$Native(O.native[M])},{$$s:A})},{$$s:m})},-1),G(a,"$native_writer",function($){var i,u,m=this;return i=E(arguments),u=i,Q(u,"each",[],function z(M){var A=z.$$s==null?this:z.$$s;return M==null&&(M=d),Q(A,"define_method",[""+M+"="],function L(O){var ae=L.$$s==null?this:L.$$s;return ae.native==null&&(ae.native=d),O==null&&(O=d),ae.$Native(ae.native[M]=O)},{$$s:A})},{$$s:m})},-1),G(a,"$native_accessor",function($){var i,u,m=this;return i=E(arguments),u=i,Q(m,"native_reader",J(u)),Q(m,"native_writer",J(u))},-1)}(H[0],H),function(c,f){var a=F(c,"Wrapper"),t=[a].concat(f),n=r.$r(t);return G(a,"$initialize",function($){var i=this;return ee(N["$native?"]($))||N.$raise(n("ArgumentError"),""+$.$inspect()+" isn't native"),i.native=$}),G(a,"$to_n",ne("native")),V(a,"$included",function($){return $.$extend(n("Helpers"))})}(H[0],H),V(o,"$included",function(f){var a=this;return a.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),f.$include(j("Wrapper"))})}(b[0],b),function(h,_){var o=F(h,"Kernel"),H=[o].concat(_),j=r.$r(H);return G(o,"$native?",function(f){return f==null||!f.$$class}),G(o,"$Native",function c(f){c.$$p;var a=this;return c.$$p=null,ee(f==null)?d:ee(a["$native?"](f))?k(j("Native"),"Object").$new(f):ee(f["$is_a?"](j("Array")))?Q(f,"map",[],function t(n){var e=t.$$s==null?this:t.$$s;return n==null&&(n=d),e.$Native(n)},{$$s:a}):ee(f["$is_a?"](j("Proc")))?Q(a,"proc",[],function t(n){var e=t.$$p||d,$,i,u=t.$$s==null?this:t.$$s;return t.$$p=null,$=E(arguments),i=$,u.$Native(Q(f,"call",J(i),e.$to_proc()))},{$$arity:-1,$$s:a}):f}),Z(o,"_Array","Array"),G(o,"$Array",function c(f,a){var t=c.$$p||d,n,e,$=this;return c.$$p=null,n=E(arguments,1),e=n,ee($["$native?"](f))?Q(k(j("Native"),"Array"),"new",[f].concat(J(e)),t.$to_proc()).$to_a():$.$_Array(f)},-2)}(b[0],b),function(h,_){var o=w(h,_,"Object"),H=o.$$prototype;return H.native=d,o.$include(k(k("Native"),"Wrapper")),G(o,"$==",function(c){var f=this;return f.native===k("Native").$try_convert(c)}),G(o,"$has_key?",function(c){var f=this;return r.hasOwnProperty.call(f.native,c)}),G(o,"$each",function j(c){var f,a,t=j.$$p||d,n=this;if(j.$$p=null,f=E(arguments),a=f,t!==d){for(var e in n.native)r.yieldX(t,[e,n.native[e]]);return n}else return Q(n,"method_missing",["each"].concat(J(a)))},-1),G(o,"$[]",function(c){var f=this,a=f.native[c];return a instanceof Function?a:k("Native").$call(f.native,c)}),G(o,"$[]=",function(c,f){var a=this,t=d;return t=k("Native").$try_convert(f),ee(t===d)?a.native[c]=f:a.native[c]=t}),G(o,"$merge!",function(c){var f=this;c=k("Native").$convert(c);for(var a in c)f.native[a]=c[a];return f}),G(o,"$respond_to?",function(c,f){var a=this;return f==null&&(f=!1),N.$instance_method("respond_to?").$bind(a).$call(c,f)},-2),G(o,"$respond_to_missing?",function(c,f){var a=this;return r.hasOwnProperty.call(a.native,c)},-2),G(o,"$method_missing",function j(c,f){var a=j.$$p||d,t,n,e,$=this;return j.$$p=null,t=E(arguments,1),n=t,c.charAt(c.length-1)==="="?(e=[c.$slice(0,R(c.$length(),1)),n["$[]"](0)],Q($,"[]=",e),e[e.length-1]):Q(k("Native"),"call",[$.native,c].concat(J(n)),a.$to_proc())},-2),G(o,"$nil?",P(!1)),G(o,"$is_a?",function(c){var f=this;return r.is_a(f,c)}),G(o,"$instance_of?",function(c){var f=this;return f.$$class===c}),G(o,"$class",function(){var c=this;return c.$$class}),G(o,"$to_a",function j(c){var f=j.$$p||d,a=this;return j.$$p=null,c==null&&(c=new Map),Q(k(k("Native"),"Array"),"new",[a.native,c],f.$to_proc()).$to_a()},-1),G(o,"$inspect",function(){var c=this;return"#<Native:"+String(c.native)+">"}),Z(o,"include?","has_key?"),Z(o,"key?","has_key?"),Z(o,"kind_of?","is_a?"),Z(o,"member?","has_key?")}(s("Native"),s("BasicObject")),function(h,_,o){var H=w(h,_,"Array"),j=[H].concat(o),c=r.$r(j),f=H.$$prototype;return f.named=f.native=f.get=f.block=f.set=f.length=d,H.$include(k(c("Native"),"Wrapper")),H.$include(c("Enumerable")),G(H,"$initialize",function a(t,n){var e=a.$$p||d,$=this,i=d;return a.$$p=null,n==null&&(n=new Map),X($,S($,"initialize",a,!1,!0),"initialize",[t],null),$.get=ee(i=n["$[]"]("get"))?i:n["$[]"]("access"),$.named=n["$[]"]("named"),$.set=ee(i=n["$[]"]("set"))?i:n["$[]"]("access"),$.length=ee(i=n["$[]"]("length"))?i:"length",$.block=e,ee($.$length()==null)?$.$raise(c("ArgumentError"),"no length found on the array-like object"):d},-2),G(H,"$each",function a(){var t=a.$$p||d,n=this;if(a.$$p=null,!ee(t))return n.$enum_for("each");for(var e=0,$=n.$length();e<$;e++)r.yield1(t,n["$[]"](e));return n}),G(H,"$[]",function(t){var n=this,e=d,$=d;return e=U(c("String"),$=t)||U(c("Symbol"),$)?ee(n.named)?n.native[n.named](t):n.native[t]:U(c("Integer"),$)?ee(n.get)?n.native[n.get](t):n.native[t]:d,ee(e)?ee(n.block)?n.block.$call(e):n.$Native(e):d}),G(H,"$[]=",function(t,n){var e=this;return ee(e.set)?e.native[e.set](t,c("Native").$convert(n)):e.native[t]=c("Native").$convert(n)}),G(H,"$last",function(t){var n=this,e=d,$=d;if(t==null&&(t=d),ee(t)){for(e=R(n.$length(),1),$=[];ee(p(e,0));)$["$<<"](n["$[]"](e)),e=R(e,1);return $}else return n["$[]"](R(n.$length(),1))},-1),G(H,"$length",function(){var t=this;return t.native[t.length]}),G(H,"$inspect",function(){var t=this;return t.$to_a().$inspect()}),Z(H,"to_ary","to_a")}(s("Native"),null,b),function(h,_){var o=w(h,_,"Numeric");return G(o,"$to_n",function(){var j=this;return j.valueOf()})}(b[0],null),function(h,_){var o=w(h,_,"Proc");return G(o,"$to_n",x)}(b[0],null),function(h,_){var o=w(h,_,"String");return G(o,"$to_n",function(){var j=this;return j.valueOf()})}(b[0],null),function(h,_){var o=w(h,_,"Regexp");return G(o,"$to_n",function(){var j=this;return j.valueOf()})}(b[0],null),function(h,_){var o=w(h,_,"MatchData");return G(o,"$to_n",ne("matches"))}(b[0],null),function(h,_,o){var H=w(h,_,"Struct"),j=[H].concat(o),c=r.$r(j);return G(H,"$to_n",function(){var a=this,t=d;return t={},Q(a,"each_pair",[],function(e,$){return e==null&&(e=d),$==null&&($=d),t[e]=c("Native").$try_convert($,$)}),t})}(b[0],null,b),function(h,_,o){var H=w(h,_,"Array"),j=[H].concat(o),c=r.$r(j);return G(H,"$to_n",function(){for(var a=this,t=[],n=0,e=a.length;n<e;n++){var $=a[n];t.push(c("Native").$try_convert($,$))}return t})}(b[0],null,b),function(h,_){var o=w(h,_,"Boolean");return G(o,"$to_n",function(){var j=this;return j.valueOf()})}(b[0],null),function(h,_){var o=w(h,_,"Time");return G(o,"$to_n",x)}(b[0],null),function(h,_){var o=w(h,_,"NilClass");return G(o,"$to_n",function(){return null})}(b[0],null),ee(s("Hash")["$method_defined?"]("_initialize"))||function(h,_,o){var H=w(h,_,"Hash"),j=[H].concat(o),c=r.$r(j);Z(H,"_initialize","initialize");function f(a,t,n){n&&(n.constructor===void 0||n.constructor===Object||n instanceof Map)?y(a,t,c("Hash").$new(n)):n&&n.$$is_array?(n=n.map(function(e){return e&&(e.constructor===void 0||e.constructor===Object||n instanceof Map)?c("Hash").$new(e):H.$Native(e)}),y(a,t,n)):y(a,t,H.$Native(n))}return G(H,"$initialize",function a(t){var n=a.$$p||d,e=this;if(a.$$p=null,t!=null)if(t.constructor===void 0||t.constructor===Object){var $,i;for($ in t)i=t[$],f(e,$,i);return e}else t instanceof Map&&r.hash_each(t,!1,function(u,m){return f(e,u,m),[!1,!1]});return Q(e,"_initialize",[t],n.$to_proc())},-1),G(H,"$to_n",function(){var t=this,n={};return r.hash_each(t,!1,function(e,$){return n[c("Native").$try_convert(e,e)]=c("Native").$try_convert($,$),[!1,!1]}),n})}(b[0],null,b),function(h,_){var o=w(h,_,"Module");return G(o,"$native_module",function(){var j=this;return r.global[j.$name()]=j})}(b[0],null),function(h,_,o){var H=w(h,_,"Class"),j=[H].concat(o),c=r.$r(j);return G(H,"$native_alias",function(a,t){var n=this,e=n.prototype[r.jsid(t)];e||n.$raise(c("NameError").$new("undefined method `"+t+"' for class `"+n.$inspect()+"'",t)),n.prototype[a]=e}),G(H,"$native_class",function(){var a=this;return a.$native_module(),a.new=a.$new})}(b[0],null,b),D.$=D.global=I.$Native(r.global)};Opal.modules["opal_vite/concerns/v1/vue_helpers"]=function(r){var y=r.module,F=r.def,V=r.lambda,E=r.send,ee=r.slice,Q=r.truthy,N=r.const_set,W=[],g=r.$r(W),K=r.nil,ie=r.$$$;return r.add_stubs("extend,Native,to_n,each,[]=,map,to_a"),function(J,G){var ne=y(J,"OpalVite"),Z=[ne].concat(G);return function(w,R){var P=y(w,"Concerns"),X=[P].concat(R);return function(S,U){var p=y(S,"V1"),x=[p].concat(U);return function(D){var I=y(D,"VueHelpers");return I.$extend(I),F(I,"$vue",function(){return window.Vue}),F(I,"$create_app",function(s){var d=this;return s==null&&(s=new Map),d.$Native(window.Vue.createApp(s.$to_n()))},-1),F(I,"$vue_ref",function(s){var d=this;return d.$Native(window.Vue.ref(s))}),F(I,"$vue_reactive",function(s){var d=this;return d.$Native(window.Vue.reactive(s.$to_n()))}),F(I,"$vue_computed",function b(){var s=b.$$p||K,d=this;return b.$$p=null,d.$Native(window.Vue.computed(s))}),F(I,"$vue_watch",function b(s){var d=b.$$p||K;return b.$$p=null,window.Vue.watch(s,d)}),F(I,"$data_fn",function(s){return V(function(){return s.$to_n()})}),F(I,"$methods_obj",function(s){var d=K;return d=new Map,E(s,"each",[],function(h,_){var o;return h==null&&(h=K),_==null&&(_=K),o=[h,_],E(d,"[]=",o),o[o.length-1]}),d.$to_n()}),F(I,"$computed_obj",function(s){var d=K;return d=new Map,E(s,"each",[],function(h,_){var o;return h==null&&(h=K),_==null&&(_=K),o=[h,_],E(d,"[]=",o),o[o.length-1]}),d.$to_n()}),F(I,"$on_mounted",function b(){var s=b.$$p||K;return b.$$p=null,window.Vue.onMounted(s)}),F(I,"$on_unmounted",function b(){var s=b.$$p||K;return b.$$p=null,window.Vue.onUnmounted(s)}),F(I,"$on_updated",function b(){var s=b.$$p||K;return b.$$p=null,window.Vue.onUpdated(s)}),F(I,"$on_before_mount",function b(){var s=b.$$p||K;return b.$$p=null,window.Vue.onBeforeMount(s)}),F(I,"$on_before_unmount",function b(){var s=b.$$p||K;return b.$$p=null,window.Vue.onBeforeUnmount(s)}),F(I,"$window_get",function(s){return window[s]}),F(I,"$window_set",function(s,d){return window[s]=d}),F(I,"$console_log",function(s){var d,k;return d=ee(arguments),k=d,console.log(...k)},-1),F(I,"$console_warn",function(s){var d,k;return d=ee(arguments),k=d,console.warn(...k)},-1),F(I,"$console_error",function(s){var d,k;return d=ee(arguments),k=d,console.error(...k)},-1),F(I,"$on_dom_ready",function b(){var s=b.$$p||K;return b.$$p=null,document.addEventListener("DOMContentLoaded",s)}),F(I,"$query",function(s){var d=this,k=K;return k=document.querySelector(s),Q(k===null)?K:d.$Native(k)}),F(I,"$query_all",function(s){var d=this,k=K;return k=Array.from(document.querySelectorAll(s)),E(d.$Native(k).$to_a(),"map",[],function h(_){var o=h.$$s==null?this:h.$$s;return _==null&&(_=K),o.$Native(_)},{$$s:d})}),F(I,"$get_element_by_id",function(s){var d=this,k=K;return k=document.getElementById(s),Q(k===null)?K:d.$Native(k)}),F(I,"$set_timeout",function b(s){var d=b.$$p||K;return b.$$p=null,setTimeout(d,s)}),F(I,"$set_interval",function b(s){var d=b.$$p||K;return b.$$p=null,setInterval(d,s)}),F(I,"$clear_timeout",function(s){return clearTimeout(s)}),F(I,"$clear_interval",function(s){return clearInterval(s)}),F(I,"$storage_get",function(s){return localStorage.getItem(s)}),F(I,"$storage_set",function(s,d){return localStorage.setItem(s,d)}),F(I,"$storage_remove",function(s){return localStorage.removeItem(s)}),F(I,"$parse_json",function(s){return JSON.parse(s)}),F(I,"$to_json_string",function(s){return JSON.stringify(s)}),F(I,"$parse_int",function(s,d){return d==null&&(d=10),parseInt(s,d)},-2),F(I,"$parse_float",function(s){return parseFloat(s)}),F(I,"$is_nan?",function(s){return Number.isNaN(s)})}(x[0])}(X[0],X)}(Z[0],Z)}(W[0],W),N(W[0],"VueHelpers",ie(ie(ie(g("OpalVite"),"Concerns"),"V1"),"VueHelpers"))};Opal.modules["components/counter"]=function(r){var y=r.klass,F=r.const_set,V=r.lambda,E=r.defs,ee=r.top,Q=[],N=r.nil;return r.add_stubs("require,extend,create_app,mount,console_log"),ee.$require("native"),ee.$require("opal_vite/concerns/v1/vue_helpers"),function(W,g,K){var ie=y(W,g,"CounterApp"),J=[ie].concat(K),G=r.$r(J);return ie.$extend(G("VueHelpers")),F(J[0],"TEMPLATE",`<div>
  <div class="counter-display">
    <div class="count-value">{{ count }}</div>
  </div>
  <div class="counter-controls">
    <button class="btn btn-decrement" @click="decrement"></button>
    <button class="btn btn-reset" @click="reset">Reset</button>
    <button class="btn btn-increment" @click="increment">+</button>
  </div>
  <div class="counter-info">
    <p>Current count: {{ count }}</p>
    <p class="status">
      <span v-if="count > 0" class="positive"> Positive</span>
      <span v-else-if="count < 0" class="negative"> Negative</span>
      <span v-else class="zero"> Zero</span>
    </p>
    <p style="margin-top: 0.5rem; font-size: 0.85rem; color: #999;">
      Double: {{ doubled }} | Absolute: {{ absolute }}
    </p>
  </div>
</div>
`),E(ie,"$create_app",function(){var Z=N;return Z=new Map([["data",V(function(){return{count:0}})],["computed",{doubled(){return this.count*2},absolute(){return Math.abs(this.count)}}],["methods",{increment(){this.count++,console.log("Incremented to:",this.count)},decrement(){this.count--,console.log("Decremented to:",this.count)},reset(){this.count=0,console.log("Reset to zero")}}],["template",G("TEMPLATE")],["mounted",function(){console.log("Counter component mounted (from Ruby!)")}]]),G("VueHelpers").$create_app(Z)}),E(ie,"$mount",function(Z){var w=this,R=N;return R=w.$create_app(),R.$mount(Z),w.$console_log("CounterApp mounted to "+Z),R})}(Q[0],null,Q)};Opal.modules["components/todo"]=function(r){var y=r.klass,F=r.defs,V=r.top,E=[],ee=r.nil;return r.add_stubs("require,extend,get_template,create_app,mount,console_log"),V.$require("native"),V.$require("opal_vite/concerns/v1/vue_helpers"),function(Q,N,W){var g=y(Q,N,"TodoApp"),K=[g].concat(W),ie=r.$r(K);return g.$extend(ie("VueHelpers")),F(g,"$get_template",function(){return document.getElementById("todo-template").innerHTML}),F(g,"$create_app",function(){var G=this,ne=ee,Z=ee;return ne=G.$get_template(),Z=new Map([["data",function(){var w="opal-vue-todos",R=localStorage.getItem(w),P=R?JSON.parse(R):[];return{newTodo:"",todos:P,nextId:P.length>0?Math.max.apply(null,P.map(function(X){return X.id}))+1:1,storageKey:w}}],["computed",{remaining:function(){return this.todos.filter(function(w){return!w.completed}).length},completed:function(){return this.todos.filter(function(w){return w.completed}).length}}],["methods",{addTodo:function(){var w=this.newTodo.trim();w&&(this.todos.push({id:this.nextId++,text:w,completed:!1}),this.newTodo="",this.saveTodos(),console.log("Todo added:",w))},removeTodo:function(w){var R=this.todos.findIndex(function(X){return X.id===w});if(R>-1){var P=this.todos.splice(R,1);this.saveTodos(),console.log("Todo removed:",P[0].text)}},clearCompleted:function(){this.todos=this.todos.filter(function(w){return!w.completed}),this.saveTodos(),console.log("Cleared completed todos")},saveTodos:function(){localStorage.setItem(this.storageKey,JSON.stringify(this.todos)),console.log("Todos saved to localStorage")}}],["template",ne],["mounted",function(){console.log("Todo component mounted (from Ruby!)"),console.log("Loaded",this.todos.length,"todos from localStorage")}]]),ie("VueHelpers").$create_app(Z)}),F(g,"$mount",function(G){var ne=this,Z=ee;return Z=ne.$create_app(),Z.$mount(G),ne.$console_log("TodoApp mounted to "+G),Z})}(E[0],null,E)};Opal.queue(function(r){var y=r.klass,F=r.defs,V=r.send,E=r.top,ee=[],Q=r.$r(ee);return r.nil,r.add_stubs("require,puts,extend,console_log,mount,on_dom_ready,initialize_apps"),E.$require("native"),E.$require("opal_vite/concerns/v1/vue_helpers"),E.$require("components/counter"),E.$require("components/todo"),E.$puts("Opal + Vue.js 3 + Vite Example"),E.$puts("Ruby version: "+Q("RUBY_VERSION")),function(N,W,g){var K=y(N,W,"App"),ie=[K].concat(g),J=r.$r(ie);return K.$extend(J("VueHelpers")),F(K,"$initialize_apps",function(){var ne=this;return ne.$console_log("Initializing Vue.js apps from Ruby..."),J("CounterApp").$mount("#counter-app"),ne.$console_log("Counter app mounted"),J("TodoApp").$mount("#todo-app"),ne.$console_log("Todo app mounted"),ne.$console_log("All Vue.js apps initialized!")})}(ee[0],null,ee),V(Q("App"),"on_dom_ready",[],function(){return Q("App").$console_log("DOM ready, starting Vue.js apps..."),Q("App").$initialize_apps()}),E.$puts("Ruby code loaded successfully!")});console.log("Loading Opal + Vue.js application...");console.log("Opal + Vue.js application loaded!");
