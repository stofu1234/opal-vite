(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const q of document.querySelectorAll('link[rel="modulepreload"]'))X(q);new MutationObserver(q=>{for(const re of q)if(re.type==="childList")for(const Z of re.addedNodes)Z.tagName==="LINK"&&Z.rel==="modulepreload"&&X(Z)}).observe(document,{childList:!0,subtree:!0});function F(q){const re={};return q.integrity&&(re.integrity=q.integrity),q.referrerPolicy&&(re.referrerPolicy=q.referrerPolicy),q.crossOrigin==="use-credentials"?re.credentials="include":q.crossOrigin==="anonymous"?re.credentials="omit":re.credentials="same-origin",re}function X(q){if(q.ep)return;q.ep=!0;const re=F(q);fetch(q.href,re)}})();(function(e){var E;if(typeof globalThis<"u"?e=globalThis:typeof global<"u"?e=global:typeof window<"u"&&(e=window),e.console==null&&(e.console={}),typeof e.console=="object"?E=e.console:E={},"log"in E||(E.log=function(){}),"warn"in E||(E.warn=E.log),typeof e.Opal<"u")return E.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),e.Opal;var F,X,q,re,Z,N,V,g=e.Opal={};g.global=e,g.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var H=Function.prototype.call,$e=Function.prototype.bind,J=Object.hasOwn||H.bind(Object.prototype.hasOwnProperty),Y=Object.setPrototypeOf,ee=H.bind(Array.prototype.slice),Q=H.bind(Array.prototype.splice),y=4,S=y;function C(){return S+=2,S}g.uid=C,g.id=function(l){return l.$$is_number?l*2+1:(l.$$id==null&&m(l,"$$id",C()),l.$$id)};var G=g.gvars={};g.exit=function(l){G.DEBUG&&E.log("Exited with status "+l)},g.exceptions=[],g.pop_exception=function(l){var v=g.exceptions.pop();v===l||(v?G["!"]=v:G["!"]=F)};function k(l,v){if(l||(l=g.Exception||Error),V&&V.$raise)arguments.length>2?V.$raise(l.$new.apply(l,ee(arguments,1))):V.$raise(l,v);else throw l.$new?l.$new(v):new l(v)}var D={value:void 0,enumerable:!1,configurable:!0,writable:!0};function m(l,v,P){typeof l=="string"?l[v]=P:(D.value=P,Object.defineProperty(l,v,D))}g.prop=m,g.defineProperty=g.prop,g.slice=ee;var w=g.truthy=function(l){return l!==!1&&F!==l&&l!==void 0&&l!==null&&(!(l instanceof Boolean)||l.valueOf()===!0)};g.falsy=function(l){return!w(l)},g.type_error=function(l,v,P,ne){l=l.$$class,ne&&P?(ne=ne.$$class,k(g.TypeError,"can't convert "+l+" into "+v+" ("+l+"#"+P+" gives "+ne+")")):k(g.TypeError,"no implicit conversion of "+l+" into "+v)},g.coerce_to=function(l,v,P,ne){var ue;return P==="to_int"&&v===g.Integer&&l.$$is_number?l<0?Math.ceil(l):Math.floor(l):P==="to_str"&&v===g.String&&l.$$is_string||g.is_a(l,v)?l:l["$respond_to?"].$$pristine&&l.$method_missing.$$pristine?(ue=l[de(P)],(ue==null||ue.$$stub)&&g.type_error(l,v),ue.apply(l,ne)):(l["$respond_to?"](P)||g.type_error(l,v),ne==null&&(ne=[]),g.send(l,P,ne))},g.respond_to=function(l,v,P){if(l==null||!l.$$class)return!1;P=!!P;var ne=l[v];if(l["$respond_to?"].$$pristine){if(typeof ne=="function"&&!ne.$$stub)return!0;if(!l["$respond_to_missing?"].$$pristine)return g.send(l,l["$respond_to_missing?"],[v.substr(1),P])}else return g.send(l,l["$respond_to?"],[v.substr(1),P])},g.trace_class=!1,g.tracers_for_class=[];function j(l){var v,P,ne;for(v=0,P=g.tracers_for_class.length;v<P;v++)ne=g.tracers_for_class[v],ne.trace_object=l,ne.block.$call(ne)}function T(l,v){if(l.$$autoload[v].loaded){if(l.$$autoload[v].loaded&&!l.$$autoload[v].required&&l.$$autoload[v].exception)throw l.$$autoload[v].exception}else{l.$$autoload[v].loaded=!0;try{g.Kernel.$require(l.$$autoload[v].path)}catch(P){throw l.$$autoload[v].exception=P,P}if(l.$$autoload[v].required=!0,l.$$const[v]!=null)return l.$$autoload[v].success=!0,l.$$const[v]}}function b(l,v){if(l){if(l.$$const[v]!=null)return l.$$const[v];if(l.$$autoload&&l.$$autoload[v])return T(l,v)}}function s(l,v){var P,ne,ue;if(l.length!==0)for(P=0,ne=l.length;P<ne;P++){if(ue=l[P].$$const[v],ue!=null)return ue;if(l[P].$$autoload&&l[P].$$autoload[v])return T(l[P],v)}}function _(l,v){var P,ne,ue;if(l!=null)for(ue=U(l),P=0,ne=ue.length;P<ne;P++){if(ue[P].$$const&&J(ue[P].$$const,v))return ue[P].$$const[v];if(ue[P].$$autoload&&ue[P].$$autoload[v])return T(ue[P],v)}}function x(l,v){if(l==null||l.$$is_module)return _(q,v)}function h(l,v){return(l||q).$const_missing(v)}g.const_get_local=function(l,v,P){var ne;if(l!=null)return l==="::"&&(l=q),!l.$$is_module&&!l.$$is_class&&k(g.TypeError,l.toString()+" is not a class/module"),ne=b(l,v),ne!=null||P?ne:h(l,v)},g.const_get_qualified=function(l,v,P){var ne,ue,ce,he=g.const_cache_version;if(v==null)return ne=b(q,l),ne??g.const_get_qualified(q,l,P);if(l!=null)return l==="::"&&(l=q),!l.$$is_module&&!l.$$is_class&&k(g.TypeError,l.toString()+" is not a class/module"),(ue=l.$$const_cache)==null&&(m(l,"$$const_cache",Object.create(null)),ue=l.$$const_cache),ce=ue[v],ce==null||ce[0]!==he?((ne=b(l,v))!=null||(ne=_(l,v))!=null,ue[v]=[he,ne]):ne=ce[1],ne!=null||P?ne:h(l,v)},g.const_cache_version=1,g.const_get_relative=function(l,v,P){var ne=l[0],ue,ce=g.const_cache_version,he,pe;return(he=l.$$const_cache)==null&&(m(l,"$$const_cache",Object.create(null)),he=l.$$const_cache),pe=he[v],pe==null||pe[0]!==ce?((ue=b(ne,v))!=null||(ue=s(l,v))!=null||(ue=_(ne,v))!=null||(ue=x(ne,v))!=null,he[v]=[ce,ue]):ue=pe[1],ue!=null||P?ue:h(ne,v)};function c(l,v,P){var ne=!0;return(l==null||l==="::")&&(l=q),P.$$is_a_module&&((P.$$name==null||P.$$name===F)&&(P.$$name=v),P.$$base_module==null&&(P.$$base_module=l)),l.$$const=l.$$const||Object.create(null),(v in l.$$const||"$$autoload"in l&&v in l.$$autoload)&&(ne=!1),l.$$const[v]=P,l.$$=l.$$const,g.const_cache_version++,l===q&&(g[v]=P),m(l,v,P),ne&&l.$const_added&&!l.$const_added.$$pristine&&l.$const_added(v),P}g.const_set=c,g.constants=function(l,v){v==null&&(v=!0);var P,ne=[l],ue,ce,he={},pe;for(v&&(ne=ne.concat(U(l))),v&&l.$$is_module&&(ne=ne.concat([g.Object]).concat(U(g.Object))),ue=0,ce=ne.length;ue<ce&&(P=ne[ue],!(l!==q&&P==q));ue++){for(pe in P.$$const)he[pe]=!0;if(P.$$autoload)for(pe in P.$$autoload)he[pe]=!0}return Object.keys(he)},g.const_remove=function(l,v){if(g.const_cache_version++,l.$$const[v]!=null){var P=l.$$const[v];return delete l.$$const[v],P}if(l.$$autoload&&l.$$autoload[v])return delete l.$$autoload[v],F;k(g.NameError,"constant "+l+"::"+l.$name()+" not defined")},g.const_get_relative_factory=function(l){return function(v,P){return g.$$(l,v,P)}},g.$$=g.const_get_relative,g.$$$=g.const_get_qualified,g.$r=g.const_get_relative_factory;function o(l){return l==null?!1:l.$$bridge?l:l.$$super?o(l.$$super):!1}function L(l,v,P){var ne,ue;if((ue=o(v))?ne=function(){var ye=new($e.apply(ue.$$constructor,ge(null,arguments)));return Y(ye,ne.$$prototype),ye}:ne=function(){},l&&l!==F&&m(ne,"displayName","::"+l),m(ne,"$$name",l),m(ne,"$$constructor",ne),m(ne,"$$prototype",ne.prototype),m(ne,"$$const",{}),m(ne,"$$is_class",!0),m(ne,"$$is_a_module",!0),m(ne,"$$super",v),m(ne,"$$cvars",{}),m(ne,"$$own_included_modules",[]),m(ne,"$$own_prepended_modules",[]),m(ne,"$$ancestors",[]),m(ne,"$$ancestors_cache_version",null),m(ne,"$$subclasses",[]),m(ne,"$$cloned_from",[]),m(ne.$$prototype,"$$class",ne),g.Class&&Y(ne,g.Class.prototype),v!=null){if(Y(ne.$$prototype,v.$$prototype),P!==!0)if(typeof WeakRef<"u"){var ce,he,pe=[];for(ce=0;ce<v.$$subclasses.length;ce++)he=v.$$subclasses[ce],he.deref()!==void 0&&pe.push(he);pe.push(new WeakRef(ne)),v.$$subclasses=pe}else v.$$subclasses.push(ne);v.$$meta&&g.build_class_singleton_class(ne)}return ne}g.allocate_class=L;function K(l,v){var P=b(l,v);if(P)return P.$$is_class||k(g.TypeError,v+" is not a class"),P}function d(l,v){l.$$super!==v&&k(g.TypeError,"superclass mismatch for class "+l.$$name)}g.klass=function(l,v,P){var ne;l==null||l=="::"?l=q:!l.$$is_class&&!l.$$is_module&&(l=l.$$class),v!=null&&(!v.hasOwnProperty||v.hasOwnProperty&&!v.hasOwnProperty("$$is_class"))&&(v.constructor&&v.constructor.name=="Function"?(ne=v,v=q):k(g.TypeError,"superclass must be a Class ("+(v.constructor&&(v.constructor.name||v.constructor.$$name)||typeof v)+" given)"));var ue=K(l,P);return ue!=null?v&&d(ue,v):(v==null&&(v=q),ue=L(P,v),c(l,P,ue),v.$inherited&&v.$inherited(ue),ne&&g.bridge(ne,ue)),g.trace_class&&j(ue),ue};function f(l){var v=function(){},P=v;return l&&m(v,"displayName",l+".constructor"),m(P,"$$name",l),m(P,"$$prototype",v.prototype),m(P,"$$const",{}),m(P,"$$is_module",!0),m(P,"$$is_a_module",!0),m(P,"$$cvars",{}),m(P,"$$iclasses",[]),m(P,"$$own_included_modules",[]),m(P,"$$own_prepended_modules",[]),m(P,"$$ancestors",[P]),m(P,"$$ancestors_cache_version",null),m(P,"$$cloned_from",[]),Y(P,g.Module.prototype),P}g.allocate_module=f;function a(l,v){var P=b(l,v);return P==null&&l===q&&(P=_(q,v)),P&&!P.$$is_module&&P!==q&&k(g.TypeError,v+" is not a module"),P}g.module=function(l,v){var P;return l==null||l=="::"?l=q:!l.$$is_class&&!l.$$is_module&&(l=l.$$class),P=a(l,v),P==null&&(P=f(v),c(l,v,P)),g.trace_class&&j(P),P},g.get_singleton_class=function(l){return l.$$is_number&&k(g.TypeError,"can't define singleton"),l.$$meta?l.$$meta:l.hasOwnProperty("$$is_class")?g.build_class_singleton_class(l):l.hasOwnProperty("$$is_module")?g.build_module_singleton_class(l):g.build_object_singleton_class(l)};function t(l,v){l.hasOwnProperty("$$meta")?l.$$meta=v:m(l,"$$meta",v),l.$$frozen?l.$$meta.$freeze():Y(l,v.$$prototype)}g.build_class_singleton_class=function(l){if(l.$$meta)return l.$$meta;var v=l===X?Z:g.get_singleton_class(l.$$super),P=L(null,v,!0);return m(P,"$$is_singleton",!0),m(P,"$$singleton_of",l),t(l,P),m(l,"$$class",g.Class),P},g.build_module_singleton_class=function(l){if(l.$$meta)return l.$$meta;var v=L(null,g.Module,!0);return m(v,"$$is_singleton",!0),m(v,"$$singleton_of",l),t(l,v),m(l,"$$class",g.Module),v},g.build_object_singleton_class=function(l){var v=l.$$class,P=L(F,v,!0);return m(P,"$$is_singleton",!0),m(P,"$$singleton_of",l),delete P.$$prototype.$$class,t(l,P),P},g.is_method=function(l){return l[0]==="$"&&l[1]!=="$"},g.instance_methods=function(l){for(var v=Object.create(null),P=[],ne=U(l),ue=0,ce=ne.length;ue<ce;ue++){var he=ne[ue],pe=he.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ze=ye.length;we<ze;we++){var Ee=ye[we];if(!v[Ee]){if(g.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);P.push(qe)}}v[Ee]=!0}}}return P},g.own_instance_methods=function(l){var v=[],P=l.$$prototype;P.hasOwnProperty("$$dummy")&&(P=P.$$define_methods_on);for(var ne=Object.getOwnPropertyNames(P),ue=0,ce=ne.length;ue<ce;ue++){var he=ne[ue];if(g.is_method(he)){var pe=P[he];if(!pe.$$stub){var ye=he.slice(1);v.push(ye)}}}return v},g.methods=function(l){return g.instance_methods(l.$$meta||l.$$class)},g.own_methods=function(l){return l.$$meta?g.own_instance_methods(l.$$meta):[]},g.receiver_methods=function(l){var v=g.get_singleton_class(l),P=g.own_instance_methods(v),ne=g.own_instance_methods(v.$$super);return P.concat(ne)},g.class_variables=function(l){var v=U(l),P,ne=v.length,ue={};for(P=ne-1;P>=0;P--){var ce=v[P];for(var he in ce.$$cvars)ue[he]=ce.$$cvars[he]}return ue},g.class_variable_set=function(l,v,P){var ne=U(l),ue,ce=ne.length;for(ue=ce-2;ue>=0;ue--){var he=ne[ue];if(J(he.$$cvars,v))return he.$$cvars[v]=P,P}return l.$$cvars[v]=P,P},g.class_variable_get=function(l,v,P){if(J(l.$$cvars,v))return l.$$cvars[v];var ne=U(l),ue,ce=ne.length;for(ue=0;ue<ce;ue++){var he=ne[ue];if(J(he.$$cvars,v))return he.$$cvars[v]}return P||k(g.NameError,"uninitialized class variable "+v+" in "+l.$name()),F};function n(l){return l.hasOwnProperty("$$iclass")&&l.hasOwnProperty("$$root")}function r(l){for(var v=[],P,ne=Object.getPrototypeOf(l.$$prototype);ne&&!ne.hasOwnProperty("$$class");)P=M(ne),P&&v.push(P),ne=Object.getPrototypeOf(ne);return v}function $(l){var v=[],P,ne=Object.getPrototypeOf(l.$$prototype);if(l.$$prototype.hasOwnProperty("$$dummy"))for(;ne&&ne!==l.$$prototype.$$define_methods_on;)P=M(ne),P&&v.push(P),ne=Object.getPrototypeOf(ne);return v}g.append_features=function(l,v){var P=U(l),ne=[];P.indexOf(v)!==-1&&k(g.ArgumentError,"cyclic include detected");for(var ue=0,ce=P.length;ue<ce;ue++){var he=P[ue],pe=u(he);m(pe,"$$included",!0),ne.push(pe)}var ye=U(v),we=A(ne),ze,Ee;if(ye.indexOf(l)===-1)ze=v.$$prototype,Ee=Object.getPrototypeOf(v.$$prototype);else{for(var xe=v.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===l&&n(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var Ae=Object.getPrototypeOf(qe);Ae.hasOwnProperty("$$iclass")&&!n(Ae);)Ae=Object.getPrototypeOf(Ae);ze=xe,Ee=Ae}else ze=v.$$prototype,Ee=Object.getPrototypeOf(v.$$prototype)}Y(ze,we.first),Y(we.last,Ee),v.$$own_included_modules=r(v),g.const_cache_version++},g.prepend_features=function(l,v){var P=U(l),ne=[];P.indexOf(v)!==-1&&k(g.ArgumentError,"cyclic prepend detected");for(var ue=0,ce=P.length;ue<ce;ue++){var he=P[ue],pe=u(he);m(pe,"$$prepended",!0),ne.push(pe)}var ye=A(ne),we=v.$$prototype,ze=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=p(v),i(v),m(we,"$$dummy",!0),m(we,"$$define_methods_on",Ee),Y(we,Ee),Y(Ee,ze));var Ae=U(v);if(Ae.indexOf(l)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else k(g.RuntimeError,"Prepending a module multiple times is not supported");Y(xe,ye.first),Y(ye.last,qe),v.$$own_prepended_modules=$(v),g.const_cache_version++};function i(l){for(var v=l.$$prototype,P=Object.getOwnPropertyNames(v),ne=0;ne<P.length;ne++){var ue=P[ne];g.is_method(ue)&&delete v[ue]}}function u(l){var v=p(l);return l.$$is_module&&l.$$iclasses.push(v),v}function p(l){var v={},P=l.$$prototype;P.hasOwnProperty("$$dummy")&&(P=P.$$define_methods_on);var ne=Object.getOwnPropertyNames(P),ue=ne.length,ce;for(ce=0;ce<ue;ce++){var he=ne[ce];m(v,he,P[he])}return m(v,"$$iclass",!0),m(v,"$$module",l),v}function A(l){var v=l.length,P=l[0];if(m(P,"$$root",!0),v===1)return{first:P,last:P};for(var ne=P,ue=1;ue<v;ue++){var ce=l[ue];Y(ne,ce),ne=ce}return{first:l[0],last:l[v-1]}}g.bridge=function(l,v){l.hasOwnProperty("$$bridge")&&k(g.ArgumentError,"already bridged"),m(l,"$$bridge",v),Y(l.prototype,(v.$$super||g.Object).$$prototype),m(v,"$$prototype",l.prototype),m(v.$$prototype,"$$class",v),m(v,"$$constructor",l),m(v,"$$bridge",!0)};function M(l){if(!l.hasOwnProperty("$$dummy")){if(l.hasOwnProperty("$$iclass"))return l.$$module;if(l.hasOwnProperty("$$class"))return l.$$class}}function I(l){return l.$$own_prepended_modules.concat([l]).concat(l.$$own_included_modules)}function U(l){if(!l)return[];if(l.$$ancestors_cache_version===g.const_cache_version)return l.$$ancestors;var v=[],P,ne,ue;for(P=0,ne=I(l),ue=ne.length;P<ue;P++)v.push(ne[P]);if(l.$$super)for(P=0,ne=U(l.$$super),ue=ne.length;P<ue;P++)v.push(ne[P]);return l.$$ancestors_cache_version=g.const_cache_version,l.$$ancestors=v,v}g.ancestors=U,g.included_modules=function(l){for(var v=[],P=null,ne=Object.getPrototypeOf(l.$$prototype);ne&&Object.getPrototypeOf(ne);ne=Object.getPrototypeOf(ne))P=M(ne),P&&P.$$is_module&&ne.$$iclass&&ne.$$included&&v.push(P);return v},g.add_stubs=function(l){var v=g.BasicObject.$$prototype,P,ne;l=l.split(",");for(var ue=0,ce=l.length;ue<ce;ue++)P=de(l[ue]),ne=v[P],(ne==null||ne.$$stub)&&g.add_stub_for(v,P)},g.add_stub_for=function(l,v){m(l,v,g.stub_for(v))},g.stub_for=function(l){function v(){return this.$method_missing.$$p=v.$$p,v.$$p=null,this.$method_missing.apply(this,ge(l.slice(1),arguments))}return v.$$stub=!0,v},g.ac=function(l,v,P,ne){var ue="";P.$$is_a_module?ue+=P.$$name+".":ue+=P.$$class.$$name+"#",ue+=ne,k(g.ArgumentError,"["+ue+"] wrong number of arguments (given "+l+", expected "+v+")")},g.block_ac=function(l,v,P){var ne="`block in "+P+"'";k(g.ArgumentError,ne+": wrong number of arguments (given "+l+", expected "+v+")")};function O(l){return l.hasOwnProperty("$$meta")&&l.$$meta!==null?U(l.$$meta):U(l.$$class)}g.find_super=function(l,v,P,ne,ue){var ce=de(v),he,pe,ye,we,ze=-1,Ee;for(he=O(l),we=P.$$owner,Ee=0;Ee<he.length;Ee++)if(pe=he[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ze=Ee;break}for(Ee=ze+1;Ee<he.length;Ee++){pe=he[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(ce)){ye=xe[ce];break}}return!ne&&ye&&ye.$$stub&&l.$method_missing.$$pristine&&k(g.NoMethodError,"super: no superclass method `"+v+"' for "+l,v),ye.$$stub&&!ue?null:ye},g.find_block_super=function(l,v,P,ne,ue){var ce=v;return P||k(g.RuntimeError,"super called outside of method"),ue&&P.$$define_meth&&k(g.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),P.$$def&&(ce=P.$$jsid),g.find_super(l,ce,P,ne)},g.find_super_dispatcher=g.find_super,g.find_iter_super_dispatcher=g.find_block_super;function ae(l,v,P){try{l(v)}catch(ne){if(ne===P)return P.$v;throw ne}}g.yield1=function(l,v){typeof l!="function"&&k(g.LocalJumpError,"no block given");var P=l.$$has_top_level_mlhs_arg,ne=l.$$has_trailing_comma_in_args,ue=l.$$is_lambda&&l.$$ret;return(l.length>1||(P||ne)&&l.length===1)&&(v=g.to_ary(v)),(l.length>1||ne&&l.length===1)&&v.$$is_array?ue?ae(l.apply.bind(l,null),v,l.$$ret):l.apply(null,v):ue?ae(l,v,l.$$ret):l(v)},g.yieldX=function(l,v){return typeof l!="function"&&k(g.LocalJumpError,"no block given"),l.length>1&&v.length===1&&v[0].$$is_array&&(v=v[0]),l.$$is_lambda&&l.$$ret?ae(l.apply.bind(l,null),v,l.$$ret):l.apply(null,v)},g.rescue=function(l,v){for(var P=0;P<v.length;P++){var ne=v[P];if(ne.$$is_array){var ue=g.rescue(l,ne);if(ue)return ue}else if(ne===g.JS.Error||ne["$==="](l))return ne}return null},g.is_a=function(l,v){if(v!=null&&l.$$meta===v||l.$$class===v)return!0;if(l.$$is_number&&v.$$is_number_class)return v.$$is_integer_class?l%1===0:!0;var P=U(l.$$is_class?g.get_singleton_class(l):l.$$meta||l.$$class);return P.indexOf(v)!==-1},g.to_hash=function(l){if(l.$$is_hash)return l;if(l["$respond_to?"]("to_hash",!0)){var v=l.$to_hash();if(v.$$is_hash)return v;k(g.TypeError,"Can't convert "+l.$$class+" to Hash ("+l.$$class+"#to_hash gives "+v.$$class+")")}else k(g.TypeError,"no implicit conversion of "+l.$$class+" into Hash")},g.to_ary=function(l){if(l.$$is_array)return l;if(l["$respond_to?"]("to_ary",!0)){var v=l.$to_ary();if(v===F)return[l];if(v.$$is_array)return v;k(g.TypeError,"Can't convert "+l.$$class+" to Array ("+l.$$class+"#to_ary gives "+v.$$class+")")}else return[l]},g.to_a=function(l){if(l.$$is_array)return l.slice();if(l["$respond_to?"]("to_a",!0)){var v=l.$to_a();if(v===F)return[l];if(v.$$is_array)return v;k(g.TypeError,"Can't convert "+l.$$class+" to Array ("+l.$$class+"#to_a gives "+v.$$class+")")}else return[l]},g.extract_kwargs=function(l){var v=l[l.length-1];if(v!=null&&g.respond_to(v,"$to_hash",!0))return Q(l,l.length-1),v},g.kwrestargs=function(l,v){var P=new Map;return g.hash_each(l,!1,function(ne,ue){return v[ne]||g.hash_put(P,ne,ue),[!1,!1]}),P};function le(l,v){typeof v=="number"?l.$$arity=v:typeof v=="object"&&Object.assign(l,v)}var _e=new Map;function de(l){var v=_e.get(l);return v||(v="$"+l,_e.set(l,v)),v}g.jsid=de;function ge(l,v){return v.$$is_array||(v=ee(v)),[l].concat(v)}g.send=function(l,v,P,ne,ue){var ce;return typeof v=="function"?(ce=v,v=null):typeof v=="string"?ce=l[de(v)]:k(g.NameError,"Passed method should be a string or a function"),g.send2(l,ce,v,P,ne,ue)},g.send2=function(l,v,P,ne,ue,ce){return v==null&&P!=null&&l.$method_missing&&(v=l.$method_missing,ne=ge(P,ne)),le(ue,ce),typeof ue=="function"&&(v.$$p=ue),v.apply(l,ne)},g.refined_send=function(l,v,P,ne,ue,ce){var he,pe,ye,we,ze,Ee,xe,qe,Ae,ke;for(we=O(v),he=0;he<we.length;he++)for(ze=g.id(we[he]),pe=0;pe<l.length;pe++)for(Ee=l[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ze]>"u")&&(Ae=qe[ze],typeof Ae.$$prototype[de(P)]<"u")))return ke=Ae.$$prototype[de(P)],g.send2(v,ke,P,ne,ue,ce);return g.send(v,P,ne,ue,ce)},g.lambda=function(l,v){return l.$$is_lambda=!0,le(l,v),l},g.def=function(l,v,P,ne){return le(P,ne),l===g.top?g.defn(g.Object,v,P):!l.$$eval&&l.$$is_a_module?g.defn(l,v,P):g.defs(l,v,P)},g.defn=function(l,v,P){z(l),P.displayName=v,P.$$owner=l;var ne=v.substr(1),ue=l.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),m(ue,v,P),l.$$is_module){l.$$module_function&&g.defs(l,v,P);for(var ce=0,he=l.$$iclasses,pe=he.length;ce<pe;ce++){var ye=he[ce];m(ye,v,P)}}var we=l.$$singleton_of;return l.$method_added&&!l.$method_added.$$stub&&!we?l.$method_added(ne):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(ne),ne},g.defs=function(l,v,P,ne){return le(P,ne),(l.$$is_string||l.$$is_number)&&k(g.TypeError,"can't define singleton"),g.defn(g.get_singleton_class(l),v,P)};function ve(l,v){if(l.$$is_module)for(var P=0,ne=l.$$iclasses,ue=ne.length;P<ue;P++){var ce=ne[P];delete ce[v]}}g.rdef=function(l,v){J(l.$$prototype,v)||k(g.NameError,"method '"+v.substr(1)+"' not defined in "+l.$name()),delete l.$$prototype[v],ve(l,v),l.$$is_singleton?l.$$prototype.$singleton_method_removed&&!l.$$prototype.$singleton_method_removed.$$stub&&l.$$prototype.$singleton_method_removed(v.substr(1)):l.$method_removed&&!l.$method_removed.$$stub&&l.$method_removed(v.substr(1))},g.udef=function(l,v){(!l.$$prototype[v]||l.$$prototype[v].$$stub)&&k(g.NameError,"method '"+v.substr(1)+"' not defined in "+l.$name()),g.add_stub_for(l.$$prototype,v),ve(l,v),l.$$is_singleton?l.$$prototype.$singleton_method_undefined&&!l.$$prototype.$singleton_method_undefined.$$stub&&l.$$prototype.$singleton_method_undefined(v.substr(1)):l.$method_undefined&&!l.$method_undefined.$$stub&&l.$method_undefined(v.substr(1))};function me(l){return typeof l=="function"&&!l.$$stub}g.alias=function(l,v,P){var ne=de(v),ue=de(P),ce,he;if(typeof l.$$prototype>"u"&&(l=g.Object),ce=l.$$prototype[ue],l.$$eval)return g.alias(g.get_singleton_class(l),v,P);if(!me(ce)){for(var pe=l.$$super;typeof ce!="function"&&pe;)ce=pe[ue],pe=pe.$$super;!me(ce)&&l.$$is_module&&(ce=g.Object.$$prototype[ue]),me(ce)||k(g.NameError,"undefined method `"+P+"' for class `"+l.$name()+"'")}return ce.$$alias_of&&(ce=ce.$$alias_of),he=g.wrap_method_body(ce),he.displayName=v,he.$$alias_of=ce,he.$$alias_name=v,g.defn(l,ne,he),l},g.wrap_method_body=function(l){var v=function(){var P=v.$$p;return v.$$p=null,g.send(this,l,arguments,P)};try{Object.defineProperty(v,"length",{value:l.length})}catch{}return v.$$arity=l.$$arity==null?l.length:l.$$arity,v.$$parameters=l.$$parameters,v.$$source_location=l.$$source_location,v},g.alias_gvar=function(l,v){return Object.defineProperty(G,l,{configurable:!0,enumerable:!0,get:function(){return G[v]},set:function(P){G[v]=P}}),F},g.alias_native=function(l,v,P){var ne=de(v),ue=l.$$prototype[P];return(typeof ue!="function"||ue.$$stub)&&k(g.NameError,"undefined native method `"+P+"' for class `"+l.$name()+"'"),g.defn(l,ne,ue),l},g.hash_init=function(l){E.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},g.hash_clone=function(l,v){return v.$$none=l.$$none,v.$$proc=l.$$proc,g.hash_each(l,v,function(P,ne){return g.hash_put(v,P,ne),[!1,v]})},g.hash_put=function(l,v,P){var ne=typeof v;if(ne==="string"||ne==="symbol"||ne==="number"||ne==="boolean"||ne==="bigint")l.set(v,P);else if(v.$$is_string)l.set(v.valueOf(),P);else{l.$$keys||(l.$$keys=new Map);var ue=v.$$is_string?v.valueOf():l.$$by_identity?g.id(v):v.$hash(),ce=l.$$keys;if(!ce.has(ue)){ce.set(ue,[v]),l.set(v,P);return}for(var he=ce.get(ue),pe,ye=0;ye<he.length;ye++)if(pe=he[ye],v===pe||v["$eql?"](pe)){l.set(pe,P);return}he.push(v),l.set(v,P)}},g.hash_get=function(l,v){var P=typeof v;if(P==="string"||P==="symbol"||P==="number"||P==="boolean"||P==="bigint")return l.get(v);if(l.$$keys){var ne=v.$$is_string?v.valueOf():l.$$by_identity?g.id(v):v.$hash(),ue=l.$$keys.get(ne),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],v===ce||v["$eql?"](ce))return l.get(ce)}else if(v.$$is_string)return l.get(ne)}else if(v.$$is_string)return l.get(v.valueOf())};function be(l,v){var P=l.get(v);if(P!==void 0)return l.delete(v),P}g.hash_delete=function(l,v){var P=typeof v;if(P==="string"||P==="symbol"||P==="number"||P==="boolean"||P==="bigint")return be(l,v);if(l.$$keys){var ne=v.$$is_string?v.valueOf():l.$$by_identity?g.id(v):v.$hash(),ue=l.$$keys.get(ne),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],v===ce||v["$eql?"](ce))return ue.splice(he,1),ue.length===0&&l.$$keys.delete(ne),be(l,ce)}else if(v.$$is_string)return be(l,ne)}else if(v.$$is_string)return be(l,v.valueOf())},g.hash_rehash=function(l){var v=l.$$keys;return v&&v.clear(),g.hash_each(l,!1,function(P,ne){var ue=typeof P;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var ce=P.$$is_string?P.valueOf():l.$$by_identity?g.id(P):P.$hash();if(v||(l.$$keys=v=new Map),!v.has(ce))return v.set(ce,[P]),[!1,!1];for(var he=v.get(ce),pe=he.length===1?he:ee(he),ye,we=0;we<pe.length;we++)ye=pe[we],(P===ye||P["$eql?"](ye))&&(he.splice(he.indexOf(ye),1),l.delete(ye));return he.push(P),[!1,!1]}),l},g.hash=function(){var l=arguments.length,v,P,ne,ue,ce,he;if(l===1&&arguments[0].$$is_hash)return arguments[0];if(P=new Map,l===1)if(v=arguments[0],arguments[0].$$is_array){for(ue=v.length,ne=0;ne<ue;ne++)v[ne].length!==2&&k(g.ArgumentError,"value not of length 2: "+v[ne].$inspect()),ce=v[ne][0],he=v[ne][1],g.hash_put(P,ce,he);return P}else{v=arguments[0];for(ce in v)J(v,ce)&&(he=v[ce],g.hash_put(P,ce,he));return P}for(l%2!==0&&k(g.ArgumentError,"odd number of arguments for Hash"),ne=0;ne<l;ne+=2)ce=arguments[ne],he=arguments[ne+1],g.hash_put(P,ce,he);return P},g.hash2=function(l,v){E.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var P=new Map,ne=0,ue=l.length;ne<ue;ne++)P.set(l[ne],v[l[ne]]);return P},g.hash_each=function(l,v,P){for(var ne,ue=0,ce,he=Array.from(l.entries()),pe=he.length;ue<pe;ue++)if(ce=he[ue],ne=P(ce[0],ce[1]),ne[0])return ne[1];return ne?ne[1]:v},g.range=function(l,v,P){var ne=new g.Range;return ne.begin=l,ne.end=v,ne.excl=P,ne};var ie=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];g.ivar=function(l){return ie.indexOf(l)!==-1&&(l+="$"),l};function z(l){l.$$frozen&&k(g.FrozenError,"can't modify frozen "+l.$class()+": "+l,new Map([["receiver",l]]))}g.deny_frozen_access=z,g.freeze=function(l){return m(l,"$$frozen",!0),l.hasOwnProperty("$$id")||m(l,"$$id",C()),l.hasOwnProperty("$$meta")?l.$$meta.$freeze():m(l,"$$meta",null),l.hasOwnProperty("$$comparable")||m(l,"$$comparable",null),Object.seal(l),l};function R(l,v){var P=Object.getOwnPropertyNames(l),ne=P.length,ue,ce,he;for(ue=0;ue<ne;ue++)ce=P[ue],ce[0]!=="$"&&(he=Object.getOwnPropertyDescriptor(l,ce),he&&he.enumerable&&v(ce,he))}g.each_ivar=R,g.freeze_props=function(l){var v={get:null,set:function(P){z(l)},enumerable:!0};R(l,function(P,ne){ne.writable&&(v.get=se(ne.value),Object.defineProperty(l,P,v))})},g.escape_regexp=function(l){return l.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},g.global_regexp=function(l){return l.global?l:(l.$$g==null?l.$$g=new RegExp(l.source,(l.multiline?"gm":"g")+(l.ignoreCase?"i":"")):l.$$g.lastIndex=null,l.$$g)},g.global_multiline_regexp=function(l){var v,P;return l.global&&l.multiline?l:(P="gm"+(l.ignoreCase?"i":""),l.multiline?(l.$$g==null&&(l.$$g=new RegExp(l.source,P)),v=l.$$g):(l.$$gm==null&&(l.$$gm=new RegExp(l.source,P)),v=l.$$gm),v.lastIndex=null,v)},g.regexp=function(l,v){for(var P,ne=typeof v<"u"&&v&&v.indexOf("i")>=0,ue=0,ce=l.length;ue<ce;ue++)P=l[ue],P instanceof RegExp&&(P.ignoreCase!==ne&&g.Kernel.$warn("ignore case doesn't match for "+P.source.$inspect(),new Map([["uplevel",1]])),P=P.source),P===""&&(P="(?:"+P+")"),l[ue]=P;return v?new RegExp(l.join(""),v):new RegExp(l.join(""))},g.modules={},g.loaded_features=["corelib/runtime"],g.current_dir=".",g.require_table={"corelib/runtime":!0},g.normalize=function(l){var v,P,ne=[],ue="/";g.current_dir!=="."&&(l=g.current_dir.replace(/\/*$/,"/")+l),l=l.replace(/^\.\//,""),l=l.replace(/\.(rb|opal|js)$/,""),v=l.split(ue);for(var ce=0,he=v.length;ce<he;ce++)P=v[ce],P!==""&&(P===".."?ne.pop():ne.push(P));return ne.join(ue)},g.loaded=function(l){var v,P,ne;for(v=0,P=l.length;v<P;v++)ne=g.normalize(l[v]),!g.require_table[ne]&&(g.loaded_features.push(ne),g.require_table[ne]=!0)},g.load_normalized=function(l){g.loaded([l]);var v=g.modules[l];if(v){var P=v(g);if(typeof Promise<"u"&&P instanceof Promise)return P.then(se(!0))}else{var ne=g.config.missing_require_severity,ue="cannot load such file -- "+l;ne==="error"?k(g.LoadError,ue):ne==="warning"&&E.warn("WARNING: LoadError: "+ue)}return!0},g.load=function(l){return l=g.normalize(l),g.load_normalized(l)},g.require=function(l){return l=g.normalize(l),g.require_table[l]?!1:g.load_normalized(l)},g.encodings=Object.create(null),g.set_encoding=function(l,v,P){typeof P>"u"&&(P="encoding"),(typeof l=="string"||l.$$frozen===!0)&&k(g.FrozenError,"can't modify frozen String");var ne=g.find_encoding(v);return ne===l[P]||(l[P]=ne),l},g.find_encoding=function(l){var v=g.encodings,P=v[l]||v[l.toUpperCase()];return P||k(g.ArgumentError,"unknown encoding name - "+l),P},g.enc=function(l,v){var P=new String(l);return P=g.set_encoding(P,v),P.internal_encoding=P.encoding,P},g.binary=function(l){var v=new String(l);return g.set_encoding(v,"binary","internal_encoding")},g.last_promise=null,g.promise_unhandled_exception=!1,g.queue=function(l){if(g.last_promise)return g.last_promise=g.last_promise.then(function(){if(!g.promise_unhandled_exception)return l(g)}).catch(function(P){g.respond_to(P,"$full_message")&&(P=P.$full_message()),E.error(P),g.promise_unhandled_exception=!0,g.exit(1)}),g.last_promise;var v=l(g);return typeof Promise=="function"&&typeof v=="object"&&v instanceof Promise&&(g.last_promise=v),v};function B(l,v){return typeof l=="number"&&typeof v=="number"}g.rb_plus=function(l,v){return B(l,v)?l+v:l["$+"](v)},g.rb_minus=function(l,v){return B(l,v)?l-v:l["$-"](v)},g.rb_times=function(l,v){return B(l,v)?l*v:l["$*"](v)},g.rb_divide=function(l,v){return B(l,v)?l/v:l["$/"](v)},g.rb_lt=function(l,v){return B(l,v)?l<v:l["$<"](v)},g.rb_gt=function(l,v){return B(l,v)?l>v:l["$>"](v)},g.rb_le=function(l,v){return B(l,v)?l<=v:l["$<="](v)},g.rb_ge=function(l,v){return B(l,v)?l>=v:l["$>="](v)};function W(l,v){return typeof l=="number"&&typeof v=="number"||typeof l=="string"&&typeof v=="string"}function te(l,v){return W(l,v)?l===v:w(l["$=="](v))}g.eqeq=te,g.eqeqeq=function(l,v){return W(l,v)?l===v:w(l["$==="](v))},g.neqeq=function(l,v){return W(l,v)?l!==v:w(l["$!="](v))},g.not=function(l){return l==null||l===!1||F===l?!0:l===!0||l["$!"].$$pristine?!1:w(l["$!"]())};function se(l){return function(){return l}}g.return_val=se,g.return_self=function(){return this},g.return_ivar=function(l){return function(){return this[l]==null?F:this[l]}},g.assign_ivar=function(l){return function(v){return z(this),this[l]=v}},g.assign_ivar_val=function(l,v){return function(){return z(this),this[l]=v}},g.ensure_kwargs=function(l){if(l==null)return new Map;if(l.$$is_hash)return l;k(g.ArgumentError,"expected kwargs")},g.get_kwarg=function(l,v){var P=g.hash_get(l,v);return P===void 0&&k(g.ArgumentError,"missing keyword: "+v),P},g.large_array_unpack=function(l){var v=l.split(","),P=v.length,ne;for(ne=0;ne<P;ne++)switch(v[ne][0]){case void 0:v[ne]=F;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":v[ne]=+v[ne]}return v},g.opal32_init=se(1332765036);function oe(l,v){return l<<v|l>>>32-v}g.opal32_add=function(l,v){return l^=v,l=oe(l,1),l},g.BasicObject=X=L("BasicObject",null),g.Object=q=L("Object",g.BasicObject),g.Module=re=L("Module",g.Object),g.Class=Z=L("Class",g.Module),g.Opal=N=f("Opal"),g.Kernel=V=f("Kernel"),Y(g.BasicObject,g.Class.$$prototype),Y(g.Object,g.Class.$$prototype),Y(g.Module,g.Class.$$prototype),Y(g.Class,g.Class.$$prototype),X.$$const.BasicObject=X,c(q,"BasicObject",X),c(q,"Object",q),c(q,"Module",re),c(q,"Class",Z),c(q,"Opal",N),c(q,"Kernel",V),X.$$class=Z,q.$$class=Z,re.$$class=Z,Z.$$class=Z,N.$$class=re,V.$$class=re,m(q.$$prototype,"toString",function(){var l=this.$to_s();return l.$$is_string&&typeof l=="object"?l.valueOf():l}),m(q.$$prototype,"$require",g.require),g.top=new q,g.top.$to_s=g.top.$inspect=se("main"),g.top.$define_method=fe;function fe(){var l=fe.$$p;return fe.$$p=null,g.send(q,"define_method",arguments,l)}g.NilClass=L("NilClass",g.Object),c(q,"NilClass",g.NilClass),F=g.nil=new g.NilClass,F.$$id=y,F.call=F.apply=function(){k(g.LocalJumpError,"no block given")},F.$$frozen=!0,F.$$comparable=!1,Object.seal(F),g.thrower=function(l){var v={$thrower_type:l,$throw:function(P,ne){throw P==null&&(P=F),this.is_orphan&&!ne&&k(g.LocalJumpError,"unexpected "+l,P,l.$to_sym()),this.$v=P,this},is_orphan:!1};return v},Object.defineProperty(G,"@",{enumerable:!0,configurable:!0,get:function(){return w(G["!"])?G["!"].$backtrace():F},set:function(l){w(G["!"])?G["!"].$set_backtrace(l):k(g.ArgumentError,"$! not set")}}),g.t_eval_return=g.thrower("return"),TypeError.$$super=Error,g.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(e){var E=e.type_error,F=e.coerce_to,X=e.module,q=e.defs,re=e.slice,Z=e.eqeqeq,N=e.Kernel,V=e.truthy,g=e.Opal,H=e.nil,$e=e.$$$;return e.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(J){var Y=X(J,"Opal");q(Y,"$bridge",function(y,S){return e.bridge(y,S)}),q(Y,"$coerce_to!",function(y,S,C,G){var k,D,m=H;return k=re(arguments,3),D=k,m=F(y,S,C,D),Z(S,m)||N.$raise(E(y,S,C,m)),m},-4),q(Y,"$coerce_to?",function(y,S,C,G){var k,D,m=H;return k=re(arguments,3),D=k,!V(y["$respond_to?"](C))||(m=F(y,S,C,D),V(m["$nil?"]()))?H:(Z(S,m)||N.$raise(E(y,S,C,m)),m)},-4),q(Y,"$try_convert",function(y,S,C){return Z(S,y)?y:V(y["$respond_to?"](C))?y.$__send__(C):H}),q(Y,"$compare",function(y,S){var C=H;return C=y["$<=>"](S),V(C===H)&&N.$raise($e("ArgumentError"),"comparison of "+y.$class()+" with "+S.$class()+" failed"),C}),q(Y,"$destructure",function(y){if(y.length==1)return y[0];if(y.$$is_array)return y;for(var S=new Array(y.length),C=0,G=S.length;C<G;C++)S[C]=y[C];return S}),q(Y,"$respond_to?",function(y,S,C){return C==null&&(C=!1),y==null||!y.$$class?!1:y["$respond_to?"](S,C)},-3),q(Y,"$instance_variable_name!",function(y){return y=g["$coerce_to!"](y,$e("String"),"to_str"),V(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(y))||N.$raise($e("NameError").$new("'"+y+"' is not allowed as an instance variable name",y)),y}),q(Y,"$class_variable_name!",function(y){return y=g["$coerce_to!"](y,$e("String"),"to_str"),V(y.length<3||y.slice(0,2)!=="@@")&&N.$raise($e("NameError").$new("`"+y+"' is not allowed as a class variable name",y)),y}),q(Y,"$const_name?",function(y){return typeof y!="string"&&(y=g["$coerce_to!"](y,$e("String"),"to_str")),y[0]===y[0].toUpperCase()}),q(Y,"$const_name!",function(y){var S=this;return V($e("::","String","skip_raise")?"constant":H)&&(y=g["$coerce_to!"](y,$e("String"),"to_str")),(!y||y[0]!=y[0].toUpperCase())&&S.$raise($e("NameError"),"wrong constant name "+y),y}),q(Y,"$pristine",function(y,S){var C,G;C=re(arguments,1),G=C;for(var k,D,m=G.length-1;m>=0;m--)k=G[m],D=y.$$prototype[e.jsid(k)],D&&!D.$$stub&&(D.$$pristine=!0);return H},-2);var ee=[];return q(Y,"$inspect",function(y){var S=H,C=!1;return function(){try{try{return y===null?"null":y===void 0?"undefined":typeof y.$$class>"u"?Object.prototype.toString.apply(y):typeof y.$inspect!="function"||y.$inspect.$$stub||ee.indexOf(y.$__id__())!==-1?"#<"+y.$$class+":0x"+y.$__id__().$to_s(16)+">":(ee.push(y.$__id__()),C=!0,y.$inspect())}catch(G){if(e.rescue(G,[$e("Exception")])){S=G;try{return"#<"+y.$$class+":0x"+y.$__id__().$to_s(16)+">"}finally{e.pop_exception(G)}}else throw G}}finally{C&&ee.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(e){var E=e.truthy,F=e.coerce_to,X=e.const_set,q=e.Object,re=e.return_ivar,Z=e.assign_ivar,N=e.ivar,V=e.deny_frozen_access,g=e.freeze,H=e.prop,$e=e.jsid,J=e.each_ivar,Y=e.klass,ee=e.Opal,Q=e.Kernel,y=e.defs,S=e.send,C=e.def,G=e.eqeqeq,k=e.Module,D=e.rb_lt,m=e.rb_gt,w=e.slice,j=e.to_a,T=e.return_val,b=e.eqeq,s=e.not,_=e.rb_le,x=e.range,h=e.send2,c=e.find_super,o=e.alias,L=[],K=e.nil,d=e.$$$;return e.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(f,a,t){var n=Y(f,a,"Module"),r=[n].concat(t),$=e.$r(r);function i(M){if(M.$$is_string)return M;var I=ee.$try_convert(M,d("String"),"to_str");if(I.$$is_string)return I;I===K?Q.$raise(d("TypeError"),""+M+" is not a symbol nor a string"):Q.$raise(d("TypeError"),"can't convert "+M.$class()+" to String ("+M.$class()+"#to_str gives "+I.$class())}y(n,"$allocate",function(){var I=this,U=e.allocate_module(K,function(){});return I!==e.Module&&Object.setPrototypeOf(U,I.$$prototype),U}),C(n,"$initialize",function M(){var I=M.$$p||K,U=this;return M.$$p=null,I!==K?S(U,"module_eval",[],I.$to_proc()):K}),C(n,"$===",function(I){var U=this;return E(I==null)?!1:e.is_a(I,U)}),C(n,"$<",function(I){var U=this;G(k,I)||Q.$raise(d("TypeError"),"compared with non class/module");var O=U,ae,le,_e;if(O===I)return!1;for(le=0,ae=e.ancestors(U),_e=ae.length;le<_e;le++)if(ae[le]===I)return!0;for(le=0,ae=e.ancestors(I),_e=ae.length;le<_e;le++)if(ae[le]===U)return!1;return K}),C(n,"$<=",function(I){var U=this,O=K;return E(O=U["$equal?"](I))?O:D(U,I)}),C(n,"$>",function(I){var U=this;return G(k,I)||Q.$raise(d("TypeError"),"compared with non class/module"),D(I,U)}),C(n,"$>=",function(I){var U=this,O=K;return E(O=U["$equal?"](I))?O:m(U,I)}),C(n,"$<=>",function(I){var U=this,O=K;return U===I?0:!G(k,I)||(O=D(U,I),E(O["$nil?"]()))?K:E(O)?-1:1}),C(n,"$alias_method",function(I,U){var O=this;return V(O),I=F(I,d("String"),"to_str"),U=F(U,d("String"),"to_str"),e.alias(O,I,U),O}),C(n,"$alias_native",function(I,U){var O=this;return U==null&&(U=I),V(O),e.alias_native(O,I,U),O},-2),C(n,"$ancestors",function(){var I=this;return e.ancestors(I)}),C(n,"$append_features",function(I){var U=this;return V(I),e.append_features(U,I),U}),C(n,"$attr_accessor",function(I){var U,O,ae=this;return U=w(arguments),O=U,S(ae,"attr_reader",j(O)),S(ae,"attr_writer",j(O))},-1),C(n,"$attr",function(I){var U,O,ae=this;return U=w(arguments),O=U,O.length==2&&(O[1]===!0||O[1]===!1)?(ae.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),O[1]?ae.$attr_accessor(O[0]):ae.$attr_reader(O[0]),K):S(ae,"attr_reader",j(O))},-1),C(n,"$attr_reader",function(I){var U,O,ae=this;U=w(arguments),O=U,V(ae);for(var le=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=$e(de),ve=N(de),me=re(ve);e.prop(le,ve,K),me.$$parameters=[],me.$$arity=0,e.defn(ae,ge,me)}return K},-1),C(n,"$attr_writer",function(I){var U,O,ae=this;U=w(arguments),O=U,V(ae);for(var le=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=$e(de+"="),ve=N(de),me=Z(ve);me.$$parameters=[["req"]],me.$$arity=1,e.prop(le,ve,K),e.defn(ae,ge,me)}return K},-1),C(n,"$autoload",function(I,U){var O=this;return V(O),$("Opal")["$const_name?"](I)||Q.$raise(d("NameError"),"autoload must be constant name: "+I),U==""&&Q.$raise(d("ArgumentError"),"empty file name"),O.$$const.hasOwnProperty(I)||(O.$$autoload||(O.$$autoload={}),e.const_cache_version++,O.$$autoload[I]={path:U,loaded:!1,required:!1,success:!1,exception:!1},O.$const_added&&!O.$const_added.$$pristine&&O.$const_added(I)),K}),C(n,"$autoload?",function(I){var U=this;if(U.$$autoload&&U.$$autoload[I]&&!U.$$autoload[I].required&&!U.$$autoload[I].success)return U.$$autoload[I].path;for(var O=U.$ancestors(),ae=0,le=O.length;ae<le;ae++)if(O[ae].$$autoload&&O[ae].$$autoload[I]&&!O[ae].$$autoload[I].required&&!O[ae].$$autoload[I].success)return O[ae].$$autoload[I].path;return K}),C(n,"$class_variables",function(){var I=this;return Object.keys(e.class_variables(I))}),C(n,"$class_variable_get",function(I){var U=this;return I=ee["$class_variable_name!"](I),e.class_variable_get(U,I,!1)}),C(n,"$class_variable_set",function(I,U){var O=this;return V(O),I=ee["$class_variable_name!"](I),e.class_variable_set(O,I,U)}),C(n,"$class_variable_defined?",function(I){var U=this;return I=ee["$class_variable_name!"](I),e.class_variables(U).hasOwnProperty(I)}),C(n,"$const_added",T(K)),ee.$pristine(n,"const_added"),C(n,"$remove_class_variable",function(I){var U=this;if(V(U),I=ee["$class_variable_name!"](I),e.hasOwnProperty.call(U.$$cvars,I)){var O=U.$$cvars[I];return delete U.$$cvars[I],O}else Q.$raise(d("NameError"),"cannot remove "+I+" for "+U)}),C(n,"$constants",function(I){var U=this;return I==null&&(I=!0),e.constants(U,I)},-1),y(n,"$constants",function(I){var U=this;if(I==null){var O=(U.$$nesting||[]).concat(q),ae,le={},_e,de;for(_e=0,de=O.length;_e<de;_e++)for(ae in O[_e].$$const)le[ae]=!0;return Object.keys(le)}else return e.constants(U,I)},-1),y(n,"$nesting",function(){var I=this;return I.$$nesting||[]}),C(n,"$const_defined?",function(I,U){var O=this;U==null&&(U=!0),I=$("Opal")["$const_name!"](I),E(I["$=~"](d(ee,"CONST_NAME_REGEXP")))||Q.$raise(d("NameError").$new("wrong constant name "+I,I));var ae,le=[O],_e,de;for(U&&(le=le.concat(e.ancestors(O)),O.$$is_module&&(le=le.concat([q]).concat(e.ancestors(q)))),_e=0,de=le.length;_e<de;_e++)if(ae=le[_e],ae.$$const[I]!=null||ae.$$autoload&&ae.$$autoload[I]&&!ae.$$autoload[I].required&&!ae.$$autoload[I].success)return!0;return!1},-2),C(n,"$const_get",function(I,U){var O=this;return U==null&&(U=!0),I=$("Opal")["$const_name!"](I),I.indexOf("::")===0&&I!=="::"&&(I=I.slice(2)),E(I.indexOf("::")!=-1&&I!="::")?S(I.$split("::"),"inject",[O],function(le,_e){return le==null&&(le=K),_e==null&&(_e=K),le.$const_get(_e)}):(E(I["$=~"](d(ee,"CONST_NAME_REGEXP")))||Q.$raise(d("NameError").$new("wrong constant name "+I,I)),U?e.$$([O],I):e.const_get_local(O,I))},-2),C(n,"$const_missing",function(I){var U=this,O=K;return O=b(U,q)?I:""+U+"::"+I,Q.$raise(d("NameError").$new("uninitialized constant "+O,I))}),C(n,"$const_set",function(I,U){var O=this;return V(O),I=ee["$const_name!"](I),(E(I["$!~"](d(ee,"CONST_NAME_REGEXP")))||E(I["$start_with?"]("::")))&&Q.$raise(d("NameError").$new("wrong constant name "+I,I)),X(O,I,U),U}),C(n,"$public_constant",T(K)),C(n,"$define_method",function M(I,U){var O=M.$$p||K,ae=this,le=K,_e=K,de=K;return M.$$p=null,V(ae),U===void 0&&O===K&&Q.$raise(d("ArgumentError"),"tried to create a Proc object without a block"),I=i(I),E(U!==void 0)&&(O=G(d("Proc"),le=U)?U:G(d("Method"),le)?U.$to_proc().$$unbound:G(d("UnboundMethod"),le)?e.wrap_method_body(U.$$method):Q.$raise(d("TypeError"),"wrong argument type "+U.$class()+" (expected Proc/Method/UnboundMethod)"),E(!U.$$is_proc)&&(_e=U.$owner(),E(_e.$$is_class)&&s(_(ae,_e))&&(de=E(_e.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+_e,Q.$raise(d("TypeError"),de)))),typeof Proxy<"u"&&(O.$$proxy_target=O,O=new Proxy(O,{apply:function(ge,ve,me){var be=ge.$$jsid,ie=ge.$$is_lambda;ge.$$jsid=I,ge.$$is_lambda=!0;try{return ge.apply(ve,me)}catch(z){if(z===ge.$$brk||z===ge.$$ret)return z.$v;throw z}finally{ge.$$jsid=be,ge.$$is_lambda=ie}}})),O.$$jsid=I,O.$$s=null,O.$$def=O,O.$$define_meth=!0,e.defn(ae,$e(I),O)},-2),C(n,"$freeze",function(){var I=this;return E(I["$frozen?"]())?I:(I.hasOwnProperty("$$base_module")||H(I,"$$base_module",null),g(I))}),C(n,"$remove_method",function(I){var U,O,ae=this;U=w(arguments),O=U;for(var le=0;le<O.length;le++){var _e=i(O[le]);V(ae),e.rdef(ae,"$"+_e)}return ae},-1),C(n,"$singleton_class?",function(){var I=this;return!!I.$$is_singleton}),C(n,"$include",function(I){var U,O,ae=this;U=w(arguments),O=U;for(var le=O.length-1;le>=0;le--){var _e=O[le];_e.$$is_module||Q.$raise(d("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$append_features(ae),_e.$included(ae)}return ae},-1),C(n,"$included_modules",function(){var I=this;return e.included_modules(I)}),C(n,"$include?",function(I){var U=this;I.$$is_module||Q.$raise(d("TypeError"),"wrong argument type "+I.$class()+" (expected Module)");var O,ae,le,_e=e.ancestors(U);for(O=0,ae=_e.length;O<ae;O++)if(le=_e[O],le===I&&le!==U)return!0;return!1}),C(n,"$instance_method",function(I){var U=this,O=U.$$prototype[$e(I)];return(!O||O.$$stub)&&Q.$raise(d("NameError").$new("undefined method `"+I+"' for class `"+U.$name()+"'",I)),d("UnboundMethod").$new(U,O.$$owner||U,O,I)}),C(n,"$instance_methods",function(I){var U=this;return I==null&&(I=!0),E(I)?e.instance_methods(U):e.own_instance_methods(U)},-1),C(n,"$included",T(K)),C(n,"$extended",T(K)),C(n,"$extend_object",function(I){return V(I),K}),C(n,"$method_added",function(I){return w(arguments),K},-1),C(n,"$method_removed",function(I){return w(arguments),K},-1),C(n,"$method_undefined",function(I){return w(arguments),K},-1),C(n,"$module_eval",function M(I){var U=M.$$p||K,O,ae,le,_e=this,de=K,ge=K,ve=K,me=K,be=K,ie=K;M.$$p=null,O=w(arguments),ae=O,E(U["$nil?"]())&&E(!!e.compile)?(E(x(1,3,!1)["$cover?"](ae.$size()))||Q.$raise(d("ArgumentError"),"wrong number of arguments (0 for 1..3)"),le=[].concat(j(ae)),de=le[0]==null?K:le[0],ge=le[1]==null?K:le[1],le[2]==null||le[2],ve=new Map([["file",E(me=ge)?me:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(ve),ie=ee.$compile(de,be),U=S(Q,"proc",[],function B(){var W=B.$$s==null?this:B.$$s;return new Function("Opal,self","return "+ie)(e,W)},{$$s:_e})):E(ae["$any?"]())&&Q.$raise(d("ArgumentError"),"wrong number of arguments ("+ae.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var z=U.$$s,R;return U.$$s=null,R=U.apply(_e,[_e]),U.$$s=z,R},-1),C(n,"$module_exec",function M(I){var U=M.$$p||K,O,ae,le=this;M.$$p=null,O=w(arguments),ae=O,U===K&&Q.$raise(d("LocalJumpError"),"no block given");var _e=U.$$s,de;return U.$$s=null,de=U.apply(le,ae),U.$$s=_e,de},-1),C(n,"$method_defined?",function(I){var U=this,O=U.$$prototype[$e(I)];return!!O&&!O.$$stub}),C(n,"$module_function",function(I){var U,O,ae=this;if(U=w(arguments),O=U,V(ae),O.length===0)return ae.$$module_function=!0,K;for(var le=0,_e=O.length;le<_e;le++){var de=O[le],ge=$e(de),ve=ae.$$prototype[ge];e.defs(ae,ge,ve)}return O.length===1?O[0]:O},-1),C(n,"$name",function(){var I=this;if(I.$$full_name)return I.$$full_name;for(var U=[],O=I;O;){if(O.$$name===K||O.$$name==null)return K;if(U.unshift(O.$$name),O=O.$$base_module,O===q)break}return U.length===0?K:I.$$full_name=U.join("::")}),C(n,"$prepend",function(I){var U,O,ae=this;U=w(arguments),O=U,O.length===0&&Q.$raise(d("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var le=O.length-1;le>=0;le--){var _e=O[le];_e.$$is_module||Q.$raise(d("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$prepend_features(ae),_e.$prepended(ae)}return ae},-1),C(n,"$prepend_features",function(I){var U=this;return V(I),U.$$is_module||Q.$raise(d("TypeError"),"wrong argument type "+U.$class()+" (expected Module)"),e.prepend_features(U,I),U}),C(n,"$prepended",T(K)),C(n,"$remove_const",function(I){var U=this;return V(U),e.const_remove(U,I)}),C(n,"$to_s",function(){var I=this,U=K;return E(U=e.Module.$name.call(I))?U:"#<"+(I.$$is_module?"Module":"Class")+":0x"+I.$__id__().$to_s(16)+">"}),C(n,"$undef_method",function(I){var U,O,ae=this;U=w(arguments),O=U;for(var le=0;le<O.length;le++){var _e=i(O[le]);V(ae),e.udef(ae,"$"+_e)}return ae},-1),C(n,"$instance_variables",function(){var I=this,U=K;U=(e.Module.$$nesting=r,I.$constants());var O=[];return J(I,function(ae){ae!=="constructor"&&!U["$include?"](ae)&&O.push("@"+ae)}),O});function u(M,I){var U,O=e.own_instance_methods(M);for(U=0;U<O.length;U++){var ae=O[U],le=$e(ae),_e=M.$$prototype[le],de=e.wrap_method_body(_e);de.$$jsid=ae,e.defn(I,le,de)}}function p(M,I){for(var U=M.$$own_included_modules,O=U.length-1;O>=0;O--)e.append_features(U[O],I)}function A(M,I){for(var U=M.$$own_prepended_modules,O=U.length-1;O>=0;O--)e.prepend_features(U[O],I)}return C(n,"$initialize_copy",function(I){var U=this;return u(I,U),p(I,U),A(I,U),U.$$cloned_from=I.$$cloned_from.concat(I),U.$copy_class_variables(I),U.$copy_constants(I)}),C(n,"$initialize_dup",function M(I){var U=M.$$p||K,O=this;return M.$$p=null,h(O,c(O,"initialize_dup",M,!1,!0),"initialize_dup",[I],U),O.$copy_singleton_methods(I)}),C(n,"$copy_class_variables",function(I){var U=this;for(var O in I.$$cvars)U.$$cvars[O]=I.$$cvars[O]}),C(n,"$copy_constants",function(I){var U=this,O,ae=I.$$const;for(O in ae)X(U,O,ae[O])}),C(n,"$refine",function M(I){var U=M.$$p||K,O,ae=this,le=K,_e=K,de=K;return M.$$p=null,O=[ae,K,K],le=O[0],_e=O[1],de=O[2],de=e.id(I),typeof ae.$$refine_modules>"u"&&(ae.$$refine_modules=Object.create(null)),typeof ae.$$refine_modules[de]>"u"?_e=ae.$$refine_modules[de]=d("Refinement").$new():_e=ae.$$refine_modules[de],_e.refinement_module=le,_e.refined_class=I,S(_e,"class_exec",[],U.$to_proc()),_e}),C(n,"$refinements",function(){var I=this,U=I.$$refine_modules,O=new Map;if(typeof U>"u")return O;for(var ae in U)O["$[]="](U[ae].refined_class,U[ae]);return O}),C(n,"$using",function(I){return Q.$raise("Module#using is not permitted in methods")}),o(n,"class_eval","module_eval"),o(n,"class_exec","module_exec"),o(n,"inspect","to_s")}("::",null,L),function(f,a){var t=Y(f,a,"Refinement"),n=t.$$prototype;return n.refinement_module=n.refined_class=K,t.$attr_reader("refined_class"),C(t,"$inspect",function r(){var $=r.$$p||K,i=this;return r.$$p=null,E(i.refinement_module)?"#<refinement:"+i.refined_class.$inspect()+"@"+i.refinement_module.$inspect()+">":h(i,c(i,"inspect",r,!1,!0),"inspect",[],$)})}("::",k)};Opal.modules["corelib/class"]=function(e){var E=e.klass,F=e.send,X=e.defs,q=e.def,re=e.ensure_kwargs,Z=e.hash_get,N=e.eqeq,V=e.truthy,g=e.rb_plus,H=e.return_val,$e=e.slice,J=e.send2,Y=e.find_super,ee=e.Kernel,Q=e.alias,y=e.top,S=[],C=e.nil,G=e.$$$;return e.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),y.$require("corelib/module"),function(k,D,m){var w=E(k,D,"Class"),j=[w].concat(m),T=e.$r(j);return X(w,"$new",function b(s){var _=b.$$p||C;if(b.$$p=null,s==null&&(s=T("Object")),!s.$$is_class)throw e.TypeError.$new("superclass must be a Class");var x=e.allocate_class(C,s);return s.$inherited(x),_!==C&&F(x,"class_eval",[],_.$to_proc()),x},-1),q(w,"$allocate",function(){var s=this,_=new s.$$constructor;return _.$$id=e.uid(),_}),q(w,"$clone",function(s){var _,x=this,h=C;return s=re(s),_=Z(s,"freeze"),_==null&&(_=C),V(_["$nil?"]())||N(_,!0)||N(_,!1)||x.$raise(T("ArgumentError"),"unexpected value for freeze: "+_.$class()),h=e.allocate_class(C,x.$$super),h.$copy_instance_variables(x),h.$copy_singleton_methods(x),h.$initialize_clone(x,new Map([["freeze",_]])),(N(_,!0)||V(_["$nil?"]())&&V(x["$frozen?"]()))&&h.$freeze(),h},-1),q(w,"$dup",function(){var s=this,_=C;return _=e.allocate_class(C,s.$$super),_.$copy_instance_variables(s),_.$initialize_dup(s),_}),q(w,"$descendants",function(){var s=this;return g(s.$subclasses(),F(s.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),q(w,"$inherited",H(C)),q(w,"$new",function b(s){var _=b.$$p||C,x,h,c=this;b.$$p=null,x=$e(arguments),h=x;var o=c.$allocate();return e.send(o,o.$initialize,h,_),o},-1),q(w,"$subclasses",function(){var s=this;if(typeof WeakRef<"u"){var _,x,h=[];for(_=0;_<s.$$subclasses.length;_++)x=s.$$subclasses[_].deref(),x!==void 0&&h.push(x);return h}else return s.$$subclasses}),q(w,"$superclass",function(){var s=this;return s.$$super||C}),q(w,"$to_s",function b(){b.$$p;var s=this;b.$$p=null;var _=s.$$singleton_of;return _&&_.$$is_a_module?"#<Class:"+_.$name()+">":_?"#<Class:#<"+_.$$class.$name()+":0x"+e.id(_).$to_s(16)+">>":J(s,Y(s,"to_s",b,!1,!0),"to_s",[],null)}),q(w,"$attached_object",function(){var s=this;if(s.$$singleton_of!=null)return s.$$singleton_of;ee.$raise(G("TypeError"),"`"+s+"' is not a singleton class")}),Q(w,"inspect","to_s")}("::",null,S)};Opal.modules["corelib/basic_object"]=function(e){var E=e.klass,F=e.slice,X=e.def,q=e.alias,re=e.return_val,Z=e.Opal,N=e.truthy,V=e.range,g=e.Kernel,H=e.to_a,$e=e.send,J=e.eqeq,Y=e.rb_ge,ee=e.nil,Q=e.$$$;return e.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(y,S){var C=E(y,S,"BasicObject");return X(C,"$initialize",function(k){return F(arguments),ee},-1),X(C,"$==",function(k){var D=this;return D===k}),X(C,"$eql?",function(k){var D=this;return D["$=="](k)}),q(C,"equal?","=="),X(C,"$__id__",function(){var k=this;return k.$$id!=null||e.prop(k,"$$id",e.uid()),k.$$id}),X(C,"$__send__",function G(k,D){var m=G.$$p||ee,w,j,T=this;G.$$p=null,w=F(arguments,1),j=w,k.$$is_string||T.$raise(Q("TypeError"),""+T.$inspect()+" is not a symbol nor a string");var b=T[e.jsid(k)];return b?(m!==ee&&(b.$$p=m),b.apply(T,j)):(m!==ee&&(T.$method_missing.$$p=m),T.$method_missing.apply(T,[k].concat(j)))},-2),X(C,"$!",re(!1)),Z.$pristine("!"),X(C,"$!=",function(k){var D=this;return D["$=="](k)["$!"]()}),X(C,"$instance_eval",function G(k){var D=G.$$p||ee,m,w,j,T=this,b=ee,s=ee,_=ee,x=ee,h=ee,c=ee;if(G.$$p=null,m=F(arguments),w=m,N(D["$nil?"]())&&N(!!e.compile))N(V(1,3,!1)["$cover?"](w.$size()))||g.$raise(Q("ArgumentError"),"wrong number of arguments (0 for 1..3)"),j=[].concat(H(w)),b=j[0]==null?ee:j[0],s=j[1]==null?ee:j[1],j[2]==null||j[2],_=new Map([["file",N(x=s)?x:"(eval)"],["eval",!0]]),h=new Map([["arity_check",!1]]).$merge(_),c=Z.$compile(b,h),D=$e(g,"proc",[],function K(){var d=K.$$s==null?this:K.$$s;return new Function("Opal,self","return "+c)(e,d)},{$$s:T});else{if(N(D["$nil?"]())&&N(Y(w.$length(),1))&&J(w.$first()["$[]"](0),"@"))return T.$instance_variable_get(w.$first());N(w["$any?"]())&&g.$raise(Q("ArgumentError"),"wrong number of arguments ("+w.$size()+" for 0)")}var o=D.$$s,L;if(D.$$s=null,T.$$is_a_module){T.$$eval=!0;try{L=D.call(T,T)}finally{T.$$eval=!1}}else L=D.call(T,T);return D.$$s=o,L},-1),X(C,"$instance_exec",function G(k){var D=G.$$p||ee,m,w,j=this;G.$$p=null,m=F(arguments),w=m,N(D)||g.$raise(Q("ArgumentError"),"no block given");var T=D.$$s,b;if(D.$$s=null,j.$$is_a_module){j.$$eval=!0;try{b=D.apply(j,w)}finally{j.$$eval=!1}}else b=D.apply(j,w);return D.$$s=T,b},-1),X(C,"$singleton_method_added",function(k){return F(arguments),ee},-1),X(C,"$singleton_method_removed",function(k){return F(arguments),ee},-1),X(C,"$singleton_method_undefined",function(k){return F(arguments),ee},-1),X(C,"$method_missing",function G(k,D){G.$$p;var m,w,j=this,T=ee;return G.$$p=null,m=F(arguments,1),w=m,T=Z.$inspect(j),g.$raise(Q("NoMethodError").$new("undefined method `"+k+"' for "+T,k,w),ee,g.$caller(1))},-2),Z.$pristine(C,"method_missing"),X(C,"$respond_to_missing?",function(k,D){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(e){var E=e.truthy,F=e.coerce_to,X=e.respond_to,q=e.Opal,re=e.deny_frozen_access,Z=e.freeze,N=e.freeze_props,V=e.jsid,g=e.each_ivar,H=e.module,$e=e.return_val,J=e.def,Y=e.Kernel,ee=e.gvars,Q=e.slice,y=e.send,S=e.to_a,C=e.ensure_kwargs,G=e.hash_get,k=e.eqeq,D=e.rb_plus,m=e.extract_kwargs,w=e.eqeqeq,j=e.return_self,T=e.rb_le,b=e.rb_lt,s=e.Object,_=e.alias,x=e.klass,h=[],c=e.nil,o=e.$$$;return e.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(L,K){var d=H(L,"Kernel"),f=[d].concat(K),a=e.$r(f);J(d,"$=~",$e(!1)),J(d,"$!~",function(r){var $=this;return $["$=~"](r)["$!"]()}),J(d,"$===",function(r){var $=this,i=c;return E(i=$.$object_id()["$=="](r.$object_id()))?i:$["$=="](r)}),J(d,"$<=>",function(r){var $=this;$.$$comparable=!0;var i=$["$=="](r);return i&&i!==c?0:c}),J(d,"$method",function(r){var $=this,i=$[V(r)];return(!i||i.$$stub)&&Y.$raise(o("NameError").$new("undefined method `"+r+"' for class `"+$.$class()+"'",r)),o("Method").$new($,i.$$owner||$.$class(),i,r)}),J(d,"$methods",function(r){var $=this;return r==null&&(r=!0),E(r)?e.methods($):e.own_methods($)},-1),J(d,"$public_methods",function(r){var $=this;return r==null&&(r=!0),E(r)?e.methods($):e.receiver_methods($)},-1),J(d,"$Array",function(r){var $;return r===c?[]:r.$$is_array?r:($=q["$coerce_to?"](r,o("Array"),"to_ary"),$!==c||($=q["$coerce_to?"](r,o("Array"),"to_a"),$!==c)?$:[r])}),J(d,"$at_exit",function n(){var r=n.$$p||c,$=c;return ee.__at_exit__==null&&(ee.__at_exit__=c),n.$$p=null,ee.__at_exit__=E($=ee.__at_exit__)?$:[],ee.__at_exit__["$<<"](r),r}),J(d,"$caller",function(r,$){r==null&&(r=1),$==null&&($=c);var i,u;i=new Error().$backtrace(),u=[];for(var p=r+1,A=i.length;p<A;p++)i[p].match(/runtime\.js/)||u.push(i[p]);return $!=c&&(u=u.slice(0,$)),u},-1),J(d,"$caller_locations",function(r){var $,i,u=this;return $=Q(arguments),i=$,y(y(u,"caller",S(i)),"map",[],function(A){return A==null&&(A=c),o(o(o("Thread"),"Backtrace"),"Location").$new(A)})},-1),J(d,"$class",function(){var r=this;return r.$$class}),J(d,"$copy_instance_variables",function(r){var $=this,i=Object.keys(r),u,p,A;for(u=0,p=i.length;u<p;u++)A=i[u],A.charAt(0)!=="$"&&r.hasOwnProperty(A)&&($[A]=r[A])}),J(d,"$copy_singleton_methods",function(r){var $=this,i,u,p,A;if(r.hasOwnProperty("$$meta")&&r.$$meta!==null){var M=e.get_singleton_class(r),I=e.get_singleton_class($);for(p=Object.getOwnPropertyNames(M.$$prototype),i=0,A=p.length;i<A;i++)u=p[i],e.is_method(u)&&(I.$$prototype[u]=M.$$prototype[u]);I.$$const=Object.assign({},M.$$const),Object.setPrototypeOf(I.$$prototype,Object.getPrototypeOf(M.$$prototype))}for(i=0,p=Object.getOwnPropertyNames(r),A=p.length;i<A;i++)u=p[i],u.charAt(0)==="$"&&u.charAt(1)!=="$"&&r.hasOwnProperty(u)&&($[u]=r[u])}),J(d,"$clone",function(r){var $,i=this,u=c;return r=C(r),$=G(r,"freeze"),$==null&&($=c),E($["$nil?"]())||k($,!0)||k($,!1)||i.$raise(a("ArgumentError"),"unexpected value for freeze: "+$.$class()),u=i.$class().$allocate(),u.$copy_instance_variables(i),u.$copy_singleton_methods(i),u.$initialize_clone(i,new Map([["freeze",$]])),(k($,!0)||E($["$nil?"]())&&E(i["$frozen?"]()))&&u.$freeze(),u},-1),J(d,"$initialize_clone",function(r,$){var i=this;return $=C($),G($,"freeze"),i.$initialize_copy(r),i},-2),J(d,"$define_singleton_method",function n(r,$){var i=n.$$p||c,u=this;return n.$$p=null,y(u.$singleton_class(),"define_method",[r,$],i.$to_proc())},-2),J(d,"$dup",function(){var r=this,$=c;return $=r.$class().$allocate(),$.$copy_instance_variables(r),$.$initialize_dup(r),$}),J(d,"$initialize_dup",function(r){var $=this;return $.$initialize_copy(r)}),J(d,"$enum_for",function n(r,$){var i=n.$$p||c,u,p,A,M=this;return n.$$p=null,u=Q(arguments),u.length>0&&(p=u.shift()),p==null&&(p="each"),A=u,y(o("Enumerator"),"for",[M,p].concat(S(A)),i.$to_proc())},-1),J(d,"$equal?",function(r){var $=this;return $===r}),J(d,"$exit",function(r){var $=c,i=c;for(ee.__at_exit__==null&&(ee.__at_exit__=c),r==null&&(r=!0),ee.__at_exit__=E($=ee.__at_exit__)?$:[];!E(ee.__at_exit__["$empty?"]());)i=ee.__at_exit__.$pop(),i.$call();return r.$$is_boolean?r=r?0:1:r=F(r,o("Integer"),"to_int"),e.exit(r),c},-1),J(d,"$extend",function(r){var $,i,u=this;$=Q(arguments),i=$,i.length==0&&u.$raise(o("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),re(u);for(var p=u.$singleton_class(),A=i.length-1;A>=0;A--){var M=i[A];M.$$is_module||Y.$raise(o("TypeError"),"wrong argument type "+M.$class()+" (expected Module)"),M.$append_features(p),M.$extend_object(u),M.$extended(u)}return u},-1),J(d,"$freeze",function(){var r=this;return E(r["$frozen?"]())?r:typeof r=="object"?(N(r),Z(r)):r}),J(d,"$frozen?",function(){var r=this;switch(typeof r){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return r.$$frozen||!1;default:return!1}}),J(d,"$gets",function(r){var $,i;return ee.stdin==null&&(ee.stdin=c),$=Q(arguments),i=$,y(ee.stdin,"gets",S(i))},-1),J(d,"$hash",function(){var r=this;return r.$__id__()}),J(d,"$initialize_copy",$e(c));var t=[];return J(d,"$inspect",function(){var r=this,$=c,i=c,u=c,p=c;return function(){try{try{return $="",i=r.$__id__(),E(t["$include?"](i))?$=" ...":(t["$<<"](i),u=!0,y(r.$instance_variables(),"each",[],function A(M){var I=A.$$s==null?this:A.$$s,U=c,O=c;return M==null&&(M=c),U=I.$instance_variable_get(M),O=a("Opal").$inspect(U),$=D($," "+M+"="+O)},{$$s:r})),"#<"+r.$class()+":0x"+i.$to_s(16)+$+">"}catch(A){if(e.rescue(A,[a("StandardError")])){p=A;try{return"#<"+r.$class()+":0x"+i.$to_s(16)+">"}finally{e.pop_exception(A)}}else throw A}}finally{E(u)&&t.$pop()}}()}),J(d,"$instance_of?",function(r){var $=this;return!r.$$is_class&&!r.$$is_module&&Y.$raise(o("TypeError"),"class or module required"),$.$$class===r}),J(d,"$instance_variable_defined?",function(r){var $=this;return r=q["$instance_variable_name!"](r),e.hasOwnProperty.call($,r.substr(1))}),J(d,"$instance_variable_get",function(r){var $=this;r=q["$instance_variable_name!"](r);var i=$[e.ivar(r.substr(1))];return i??c}),J(d,"$instance_variable_set",function(r,$){var i=this;return re(i),r=q["$instance_variable_name!"](r),i[e.ivar(r.substr(1))]=$}),J(d,"$remove_instance_variable",function(r){var $=this;r=q["$instance_variable_name!"](r);var i=e.ivar(r.substr(1)),u;return $.hasOwnProperty(i)?(u=$[i],delete $[i],u):Y.$raise(o("NameError"),"instance variable "+r+" not defined")}),J(d,"$instance_variables",function(){var r=this,$=[];return g(r,function(i){i.substr(-1)==="$"&&(i=i.slice(0,i.length-1)),$.push("@"+i)}),$}),J(d,"$Integer",function(r,$,i){var u,p,A,M;u=Q(arguments,1),p=m(u),p=C(p),u.length>0&&(A=u.shift()),M=G(p,"exception"),M==null&&(M=!0);var I,U,O;if(M=E(M),!r.$$is_string){if(A!==void 0)if(M)Y.$raise(o("ArgumentError"),"base specified for non string value");else return c;if(r===c)if(M)Y.$raise(o("TypeError"),"can't convert nil into Integer");else return c;if(r.$$is_number){if(r===1/0||r===-1/0||isNaN(r))if(M)Y.$raise(o("FloatDomainError"),r);else return c;return Math.floor(r)}if(r["$respond_to?"]("to_int")&&(I=r.$to_int(),e.is_a(I,o("Integer")))||r["$respond_to?"]("to_i")&&(I=r.$to_i(),e.is_a(I,o("Integer"))))return I;if(M)Y.$raise(o("TypeError"),"can't convert "+r.$class()+" into Integer");else return c}if(r==="0")return 0;if(A===void 0)A=0;else if(A=F(A,o("Integer"),"to_int"),A===1||A<0||A>36)if(M)Y.$raise(o("ArgumentError"),"invalid radix "+A);else return c;if(U=r.toLowerCase(),U=U.replace(/(\d)_(?=\d)/g,"$1"),U=U.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ae,le,_e){switch(_e){case"0b":if(A===0||A===2)return A=2,le;case"0":case"0o":if(A===0||A===8)return A=8,le;case"0d":if(A===0||A===10)return A=10,le;case"0x":if(A===0||A===16)return A=16,le}if(M)Y.$raise(o("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c}),A=A===0?10:A,O="0-"+(A<=10?A-1:"9a-"+String.fromCharCode(97+(A-11))),!new RegExp("^\\s*[+-]?["+O+"]+\\s*$").test(U))if(M)Y.$raise(o("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c;if(I=parseInt(U,A),isNaN(I))if(M)Y.$raise(o("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c;return I},-2),J(d,"$Float",function(r,$){var i;$=C($),i=G($,"exception"),i==null&&(i=!0);var u;if(i=E(i),r===c)if(i)Y.$raise(o("TypeError"),"can't convert nil into Float");else return c;if(r.$$is_string){if(u=r.toString(),u=u.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(u))return Y.$Integer(u);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(u))if(i)Y.$raise(o("ArgumentError"),'invalid value for Float(): "'+r+'"');else return c;return parseFloat(u)}return i?q["$coerce_to!"](r,o("Float"),"to_f"):F(r,o("Float"),"to_f")},-2),J(d,"$Hash",function(r){return E(r["$nil?"]())||k(r,[])?new Map:w(o("Hash"),r)?r:q["$coerce_to!"](r,o("Hash"),"to_hash")}),J(d,"$is_a?",function(r){var $=this;return!r.$$is_class&&!r.$$is_module&&Y.$raise(o("TypeError"),"class or module required"),e.is_a($,r)}),J(d,"$itself",j),J(d,"$lambda",function n(){var r=n.$$p||c;return n.$$p=null,e.lambda(r)}),J(d,"$load",function(r){return r=q["$coerce_to!"](r,o("String"),"to_str"),e.load(r)}),J(d,"$loop",function n(){var r=n.$$p||c,$=this,i=c;if(n.$$p=null,r===c)return y($,"enum_for",["loop"],function(){return o(o("Float"),"INFINITY")});for(;E(!0);)try{e.yieldX(r,[])}catch(u){if(e.rescue(u,[o("StopIteration")])){i=u;try{return i.$result()}finally{e.pop_exception(u)}}else throw u}return $}),J(d,"$nil?",$e(!1)),J(d,"$printf",function(r){var $,i,u=this,p=c;return ee.stdout==null&&(ee.stdout=c),$=Q(arguments),i=$,E(i["$empty?"]())||(p=E(i[0].$$is_string)?ee.stdout:i.$shift(),p.$write(y(u,"format",S(i)))),c},-1),J(d,"$proc",function n(){var r=n.$$p||c;return n.$$p=null,E(r)||Y.$raise(o("ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r}),J(d,"$puts",function(r){var $,i;return ee.stdout==null&&(ee.stdout=c),$=Q(arguments),i=$,y(ee.stdout,"puts",S(i))},-1),J(d,"$p",function(r){var $,i;return $=Q(arguments),i=$,y(i,"each",[],function(p){return ee.stdout==null&&(ee.stdout=c),p==null&&(p=c),ee.stdout.$puts(p.$inspect())}),E(T(i.$length(),1))?i["$[]"](0):i},-1),J(d,"$print",function(r){var $,i;return ee.stdout==null&&(ee.stdout=c),$=Q(arguments),i=$,y(ee.stdout,"print",S(i))},-1),J(d,"$readline",function(r){var $,i;return ee.stdin==null&&(ee.stdin=c),$=Q(arguments),i=$,y(ee.stdin,"readline",S(i))},-1),J(d,"$warn",function(r,$){var i,u,p,A,M,I,U=this,O=c;return ee.VERBOSE==null&&(ee.VERBOSE=c),ee.stderr==null&&(ee.stderr=c),i=Q(arguments),u=m(i),u=C(u),p=i,A=G(u,"uplevel"),A==null&&(A=c),E(A)&&(A=q["$coerce_to!"](A,o("Integer"),"to_str"),E(b(A,0))&&Y.$raise(o("ArgumentError"),"negative level ("+A+")"),O=(M=(I=U.$caller(D(A,1),1).$first(),I===c||I==null?c:I.$split(":in `")),M===c||M==null?c:M.$first()),E(O)&&(O=""+O+": "),p=y(p,"map",[],function(le){return le==null&&(le=c),""+O+"warning: "+le})),E(ee.VERBOSE["$nil?"]())||E(p["$empty?"]())?c:y(ee.stderr,"puts",S(p))},-1),J(d,"$raise",function(r,$,i){throw ee["!"]==null&&(ee["!"]=c),$==null&&($=c),i==null&&(i=c),r==null&&ee["!"]!==c?ee["!"]:(r==null?r=o("RuntimeError").$new(""):X(r,"$to_str")?r=o("RuntimeError").$new(r.$to_str()):r.$$is_class&&X(r,"$exception")?r=r.$exception($):r.$$is_exception||(r=o("TypeError").$new("exception class/object expected")),i!==c&&r.$set_backtrace(i),ee["!"]!==c&&e.exceptions.push(ee["!"]),ee["!"]=r,r)},-1),J(d,"$rand",function(r){return r===void 0?o(o("Random"),"DEFAULT").$rand():(r.$$is_number&&(r<0&&(r=Math.abs(r)),r%1!==0&&(r=r.$to_i()),r===0&&(r=void 0)),o(o("Random"),"DEFAULT").$rand(r))},-1),J(d,"$respond_to?",function(r,$){var i=this;$==null&&($=!1);var u=i[V(r)];return typeof u=="function"&&!u.$$stub?!0:i["$respond_to_missing?"].$$pristine===!0?!1:i["$respond_to_missing?"](r,$)},-2),J(d,"$respond_to_missing?",function(r,$){return!1},-2),q.$pristine(d,"respond_to?","respond_to_missing?"),J(d,"$require",function(r){return typeof r!="string"&&e.String&&e.Array&&(r=q["$coerce_to!"](r,o("String"),"to_str")),e.require(r)}),J(d,"$require_relative",function(r){return q["$try_convert!"](r,o("String"),"to_str"),r=o("File").$expand_path(o("File").$join(e.current_file,"..",r)),e.require(r)}),J(d,"$require_tree",function(r,$){var i;$=C($),i=G($,"autoload"),i==null&&(i=!1);var u=[];r=o("File").$expand_path(r),r=e.normalize(r),r==="."&&(r="");for(var p in e.modules)p["$start_with?"](r)&&(i?u.push([p,!0]):u.push([p,e.require(p)]));return u},-2),J(d,"$singleton_class",function(){var r=this;return e.get_singleton_class(r)}),J(d,"$sleep",function(r){r==null&&(r=c),r===c&&Y.$raise(o("TypeError"),"can't convert NilClass into time interval"),r.$$is_number||Y.$raise(o("TypeError"),"can't convert "+r.$class()+" into time interval"),r<0&&Y.$raise(o("ArgumentError"),"time interval must be positive");for(var $=e.global.performance?function(){return performance.now()}:function(){return new Date},i=$();$()-i<=r*1e3;);return Math.round(r)},-1),J(d,"$srand",function(r){return r==null&&(r=a("Random").$new_seed()),o("Random").$srand(r)},-1),J(d,"$String",function(r){var $=c;return E($=q["$coerce_to?"](r,o("String"),"to_str"))?$:q["$coerce_to!"](r,o("String"),"to_s")}),J(d,"$tap",function n(){var r=n.$$p||c,$=this;return n.$$p=null,e.yield1(r,$),$}),J(d,"$to_proc",j),J(d,"$to_s",function(){var r=this;return"#<"+r.$class()+":0x"+r.$__id__().$to_s(16)+">"}),J(d,"$catch",function n(r){var $=n.$$p||c,i=c,u=c;n.$$p=null,r==null&&(r=c);try{return r=E(i=r)?i:s.$new(),e.yield1($,r)}catch(p){if(e.rescue(p,[o("UncaughtThrowError")])){u=p;try{return k(u.$tag(),r)?u.$value():Y.$raise()}finally{e.pop_exception(p)}}else throw p}},-1),J(d,"$throw",function(r,$){return $==null&&($=c),Y.$raise(o("UncaughtThrowError").$new(r,$))},-2),J(d,"$open",function n(r){var $=n.$$p||c,i,u;return n.$$p=null,i=Q(arguments),u=i,y(o("File"),"open",S(u),$.$to_proc())},-1),J(d,"$yield_self",function n(){var r=n.$$p||c,$=this;return n.$$p=null,r===c?y($,"enum_for",["yield_self"],$e(1)):e.yield1(r,$)}),_(d,"fail","raise"),_(d,"kind_of?","is_a?"),_(d,"object_id","__id__"),_(d,"public_send","__send__"),_(d,"send","__send__"),_(d,"then","yield_self"),_(d,"to_enum","enum_for")}("::",h),function(L,K){var d=x(L,K,"Object");return delete s.$$prototype.$require,d.$include(Y)}("::",null)};Opal.modules["corelib/main"]=function(e){var E=e.return_val,F=e.def,X=e.Object,q=e.slice,re=e.Kernel,Z=e.top;return e.nil,e.add_stubs("include,raise"),function(N,V){return F(N,"$to_s",E("main")),F(N,"$include",function(H){return X.$include(H)}),F(N,"$autoload",function(H){var $e,J;return $e=q(arguments),J=$e,e.Object.$autoload.apply(e.Object,J)},-1),F(N,"$using",function(H){return re.$raise("main.using is permitted only at toplevel")})}(e.get_singleton_class(Z))};Opal.modules["corelib/error/errno"]=function(e){var E=e.module,F=e.truthy,X=e.rb_plus,q=e.send2,re=e.find_super,Z=e.def,N=e.klass,V=e.nil,g=e.$$$;return e.add_stubs("+,errno,class,attr_reader"),function(H,$e){var J=E(H,"Errno"),Y=V,ee=V;Y=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],ee=V;var Q;for(Q=0;Q<Y.length;Q++)(function(){var y=Y[Q][0],S=Y[Q][1],C=Y[Q][2];ee=e.klass(J,e.SystemCallError,y),ee.errno=C,function(G,k){return Z(G,"$new",function D(m){D.$$p;var w=this,j=V;return D.$$p=null,m==null&&(m=V),j=S,F(m)&&(j=X(j," - "+m)),q(w,re(w,"new",D,!1,!0),"new",[j],null)},-1)}(e.get_singleton_class(ee))})()}("::"),function(H,$e,J){var Y=N(H,$e,"SystemCallError");return Z(Y,"$errno",function(){var Q=this;return Q.$class().$errno()}),function(ee,Q){return ee.$attr_reader("errno")}(e.get_singleton_class(Y))}("::",g("StandardError"))};Opal.modules["corelib/error"]=function(e){var E=e.klass,F=e.slice,X=e.gvars,q=e.defs,re=e.send,Z=e.to_a,N=e.def,V=e.send2,g=e.find_super,H=e.truthy,$e=e.Kernel,J=e.not,Y=e.rb_plus,ee=e.eqeq,Q=e.Object,y=e.ensure_kwargs,S=e.hash_get,C=e.module,G=[],k=e.nil,D=e.$$$;return e.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(m,w,j){var T=E(m,w,"Exception"),b=[T].concat(j),s=e.$r(b),_=T.$$prototype;_.message=k,e.prop(T.$$prototype,"$$is_exception",!0);var x;Error.stackTraceLimit=100,q(T,"$new",function(o){var L,K,d=this;X["!"]==null&&(X["!"]=k),L=F(arguments),K=L;var f=K.length>0?K[0]:k,a=new d.$$constructor(f);return a.name=d.$$name,a.message=f,a.cause=X["!"],e.send(a,a.$initialize,K),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(a,x),a},-1),x=T.$new,q(T,"$exception",function(o){var L,K,d=this;return L=F(arguments),K=L,re(d,"new",Z(K))},-1),N(T,"$initialize",function(o){var L,K,d=this;return L=F(arguments),K=L,d.message=K.length>0?K[0]:k},-1),N(T,"$copy_instance_variables",function c(o){var L=c.$$p||k,K=this;c.$$p=null,V(K,g(K,"copy_instance_variables",c,!1,!0),"copy_instance_variables",[o],L),K.message=o.message,K.cause=o.cause,K.stack=o.stack});function h(c){for(var o=[],L,K=0;K<c.length;K++){var d=c[K];!d||!d.$$is_string||((L=d.match(/^    at (.*?) \((.*?)\)$/))?o.push(L[2]+":in `"+L[1]+"'"):(L=d.match(/^    at (.*?)$/))?o.push(L[1]+":in `undefined'"):(L=d.match(/^  from (.*?)$/))?o.push(L[1]):(L=d.match(/^(.*?)@(.*?)$/))&&o.push(L[2]+":in `"+L[1]+"'"))}return o}return N(T,"$backtrace",function(){var o=this;if(o.backtrace)return o.backtrace;var L=o.stack;return typeof L<"u"&&L.$$is_string?o.backtrace=h(L.split(`
`)):L?o.backtrace=h(L):[]}),N(T,"$backtrace_locations",function(){var o,L=this;return L.backtrace_locations||(L.backtrace_locations=(o=L.$backtrace(),o===k||o==null?k:re(o,"map",[],function(d){return d==null&&(d=k),D(D(D("Thread"),"Backtrace"),"Location").$new(d)}))),L.backtrace_locations}),N(T,"$cause",function(){var o=this;return o.cause||k}),N(T,"$exception",function(o){var L=this;if(o==null&&(o=k),o===k||L===o)return L;var K=L.$clone();return K.message=o,L.backtrace&&(K.backtrace=L.backtrace.$dup()),K.stack=L.stack,K.cause=L.cause,K},-1),N(T,"$message",function(){var o=this;return o.$to_s()}),N(T,"$full_message",function(o){var L,K=this,d=k,f=k,a=k,t=k,n=k,r=k,$=k,i=k,u=k;return X.stderr==null&&(X.stderr=k),o==null&&(o=k),H(s("Hash","skip_raise")?"constant":k)?(o=new Map([["highlight",X.stderr["$tty?"]()],["order","top"]]).$merge(H(d=o)?d:new Map),L=[o["$[]"]("highlight"),o["$[]"]("order")],f=L[0],a=L[1],H([!0,!1]["$include?"](f))||$e.$raise(D("ArgumentError"),"expected true or false as highlight: "+f),H(["top","bottom"]["$include?"](a))||$e.$raise(D("ArgumentError"),"expected :top or :bottom as order: "+a),H(f)?(t="\x1B[1;4m",n="\x1B[1m",r="\x1B[m"):t=n=r="",$=K.$backtrace().$dup(),(J($)||H($["$empty?"]()))&&($=K.$caller()),i=$.$shift(),u=""+i+": ",u=Y(u,""+n+K.$to_s()+" ("+t+K.$class()+r+n+")"+r+`
`),u=Y(u,re($,"map",[],function(A){return A==null&&(A=k),"	from "+A+`
`}).$join()),H(K.$cause())&&(u=Y(u,K.$cause().$full_message(new Map([["highlight",f]])))),ee(a,"bottom")&&(u=u.$split(`
`).$reverse().$join(`
`),u=Y(""+n+"Traceback"+r+` (most recent call last):
`,u)),u):""+K.message+`
`+K.stack},-1),N(T,"$inspect",function(){var o=this,L=k;return L=o.$to_s(),H(L["$empty?"]())?o.$class().$to_s():"#<"+o.$class().$to_s()+": "+o.$to_s()+">"}),N(T,"$set_backtrace",function(o){var L=this,K=!0,d,f;if(o===k)L.backtrace=k,L.stack="";else if(o.$$is_string)L.backtrace=[o],L.stack="  from "+o;else{if(o.$$is_array){for(d=0,f=o.length;d<f;d++)if(!o[d].$$is_string){K=!1;break}}else K=!1;K===!1&&$e.$raise(D("TypeError"),"backtrace must be Array of String"),L.backtrace=o,L.stack=re(o,"map",[],function(t){return t==null&&(t=k),Y("  from ",t)}).join(`
`)}return o}),N(T,"$to_s",function(){var o=this,L=k,K=k;return H(L=H(K=o.message)?o.message.$to_s():K)?L:o.$class().$to_s()})}("::",Error,G),E("::",D("Exception"),"ScriptError"),E("::",D("ScriptError"),"SyntaxError"),E("::",D("ScriptError"),"LoadError"),E("::",D("ScriptError"),"NotImplementedError"),E("::",D("Exception"),"SystemExit"),E("::",D("Exception"),"NoMemoryError"),E("::",D("Exception"),"SignalException"),E("::",D("SignalException"),"Interrupt"),E("::",D("Exception"),"SecurityError"),E("::",D("Exception"),"SystemStackError"),E("::",D("Exception"),"StandardError"),E("::",D("StandardError"),"EncodingError"),E("::",D("StandardError"),"ZeroDivisionError"),E("::",D("StandardError"),"NameError"),E("::",D("NameError"),"NoMethodError"),E("::",D("StandardError"),"RuntimeError"),E("::",D("RuntimeError"),"FrozenError"),E("::",D("StandardError"),"LocalJumpError"),E("::",D("StandardError"),"TypeError"),E("::",D("StandardError"),"ArgumentError"),E("::",D("ArgumentError"),"UncaughtThrowError"),E("::",D("StandardError"),"IndexError"),E("::",D("IndexError"),"StopIteration"),E("::",D("StopIteration"),"ClosedQueueError"),E("::",D("IndexError"),"KeyError"),E("::",D("StandardError"),"RangeError"),E("::",D("RangeError"),"FloatDomainError"),E("::",D("StandardError"),"IOError"),E("::",D("IOError"),"EOFError"),E("::",D("StandardError"),"SystemCallError"),E("::",D("StandardError"),"RegexpError"),E("::",D("StandardError"),"ThreadError"),E("::",D("StandardError"),"FiberError"),Q.$autoload("Errno","corelib/error/errno"),function(m,w){var j=E(m,w,"FrozenError");return j.$attr_reader("receiver"),N(j,"$initialize",function T(b,s){var _;T.$$p;var x=this;return T.$$p=null,s=y(s),_=S(s,"receiver"),_==null&&(_=k),V(x,g(x,"initialize",T,!1,!0),"initialize",[b],null),x.receiver=_},-2)}("::",D("RuntimeError")),function(m,w){var j=E(m,w,"UncaughtThrowError"),T=j.$$prototype;return T.tag=k,j.$attr_reader("tag","value"),N(j,"$initialize",function b(s,_){b.$$p;var x=this;return b.$$p=null,_==null&&(_=k),x.tag=s,x.value=_,V(x,g(x,"initialize",b,!1,!0),"initialize",["uncaught throw "+x.tag.$inspect()],null)},-2)}("::",D("ArgumentError")),function(m,w){var j=E(m,w,"NameError");return j.$attr_reader("name"),N(j,"$initialize",function T(b,s){T.$$p;var _=this;return T.$$p=null,s==null&&(s=k),V(_,g(_,"initialize",T,!1,!0),"initialize",[b],null),_.name=s},-2)}("::",null),function(m,w){var j=E(m,w,"NoMethodError");return j.$attr_reader("args"),N(j,"$initialize",function T(b,s,_){T.$$p;var x=this;return T.$$p=null,s==null&&(s=k),_==null&&(_=[]),V(x,g(x,"initialize",T,!1,!0),"initialize",[b,s],null),x.args=_},-2)}("::",null),function(m,w){var j=E(m,w,"StopIteration");return j.$attr_reader("result")}("::",null),function(m,w){var j=E(m,w,"KeyError"),T=j.$$prototype;return T.receiver=T.key=k,N(j,"$initialize",function b(s,_){var x,h;b.$$p;var c=this;return b.$$p=null,_=y(_),x=S(_,"receiver"),x==null&&(x=k),h=S(_,"key"),h==null&&(h=k),V(c,g(c,"initialize",b,!1,!0),"initialize",[s],null),c.receiver=x,c.key=h},-2),N(j,"$receiver",function(){var s=this,_=k;return H(_=s.receiver)?_:$e.$raise(D("ArgumentError"),"no receiver is available")}),N(j,"$key",function(){var s=this,_=k;return H(_=s.key)?_:$e.$raise(D("ArgumentError"),"no key is available")})}("::",null),function(m,w){var j=E(m,w,"LocalJumpError");return j.$attr_reader("exit_value","reason"),N(j,"$initialize",function T(b,s,_){T.$$p;var x=this;return T.$$p=null,s==null&&(s=k),_==null&&(_="noreason"),V(x,g(x,"initialize",T,!1,!0),"initialize",[b],null),x.exit_value=s,x.reason=_},-2)}("::",null),function(m,w){var j=C(m,"JS"),T=[j].concat(w);return E(T[0],null,"Error"),k}("::",G)};Opal.modules["corelib/constants"]=function(e){var E=e.const_set;e.nil;var F=e.$$$;return E("::","RUBY_PLATFORM","opal"),E("::","RUBY_ENGINE","opal"),E("::","RUBY_VERSION","3.2.0"),E("::","RUBY_ENGINE_VERSION","1.8.2"),E("::","RUBY_RELEASE_DATE","2023-11-23"),E("::","RUBY_PATCHLEVEL",0),E("::","RUBY_REVISION","0"),E("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),E("::","RUBY_DESCRIPTION","opal "+F("RUBY_ENGINE_VERSION")+" ("+F("RUBY_RELEASE_DATE")+" revision "+F("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(e){var E=e.Object;return e.nil,e.add_stubs("require"),E.$require("corelib/runtime"),E.$require("corelib/helpers"),E.$require("corelib/module"),E.$require("corelib/class"),E.$require("corelib/basic_object"),E.$require("corelib/kernel"),E.$require("corelib/main"),E.$require("corelib/error"),E.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(e){var E=e.klass,F=e.Kernel,X=e.def,q=e.return_val,re=e.ensure_kwargs,Z=e.hash_get,N=e.NilClass,V=e.slice,g=e.truthy,H=e.rb_gt,$e=e.alias,J=e.nil,Y=e.$$$;return e.add_stubs("raise,name,new,>,length,Rational,to_i"),function(ee,Q,y){var S=E(ee,Q,"NilClass");return S.$$prototype.$$meta=S,function(C,G){return X(C,"$allocate",function(){var D=this;return F.$raise(Y("TypeError"),"allocator undefined for "+D.$name())}),e.udef(C,"$new"),J}(e.get_singleton_class(S)),X(S,"$!",q(!0)),X(S,"$&",q(!1)),X(S,"$|",function(G){return G!==!1&&G!==J}),X(S,"$^",function(G){return G!==!1&&G!==J}),X(S,"$==",function(G){return G===J}),X(S,"$dup",q(J)),X(S,"$clone",function(G){return G=re(G),Z(G,"freeze"),J},-1),X(S,"$inspect",q("nil")),X(S,"$nil?",q(!0)),X(S,"$singleton_class",function(){return N}),X(S,"$to_a",function(){return[]}),X(S,"$to_h",function(){return new Map}),X(S,"$to_i",q(0)),X(S,"$to_s",q("")),X(S,"$to_c",function(){return Y("Complex").$new(0,0)}),X(S,"$rationalize",function(G){var k,D;return k=V(arguments),D=k,g(H(D.$length(),1))&&F.$raise(Y("ArgumentError")),F.$Rational(0,1)},-1),X(S,"$to_r",function(){return F.$Rational(0,1)}),X(S,"$instance_variables",function(){return[]}),$e(S,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(e){var E=e.klass,F=e.Kernel,X=e.def,q=e.return_self,re=e.ensure_kwargs,Z=e.hash_get,N=e.slice,V=e.truthy,g=e.send2,H=e.find_super,$e=e.to_a,J=e.alias,Y=e.nil,ee=e.$$$;return e.add_stubs("raise,name,==,to_s,__id__"),function(Q,y,S){var C=E(Q,y,"Boolean");e.prop(C.$$prototype,"$$is_boolean",!0);for(var G=["$$class","$$meta"],k=0;k<G.length;k++)Object.defineProperty(C.$$prototype,G[k],{configurable:!0,enumerable:!1,get:function(){return this==!0?e.TrueClass:this==!1?e.FalseClass:e.Boolean}});return Object.defineProperty(C.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:Y}}),function(D,m){return X(D,"$allocate",function(){var j=this;return F.$raise(ee("TypeError"),"allocator undefined for "+j.$name())}),e.udef(D,"$new"),Y}(e.get_singleton_class(C)),X(C,"$__id__",function(){var m=this;return m.valueOf()?2:0}),X(C,"$!",function(){var m=this;return m!=!0}),X(C,"$&",function(m){var w=this;return w==!0?m!==!1&&m!==Y:!1}),X(C,"$|",function(m){var w=this;return w==!0?!0:m!==!1&&m!==Y}),X(C,"$^",function(m){var w=this;return w==!0?m===!1||m===Y:m!==!1&&m!==Y}),X(C,"$==",function(m){var w=this;return w==!0===m.valueOf()}),X(C,"$singleton_class",function(){var m=this;return m.$$meta}),X(C,"$to_s",function(){var m=this;return m==!0?"true":"false"}),X(C,"$dup",q),X(C,"$clone",function(m){var w=this;return m=re(m),Z(m,"freeze"),w},-1),X(C,"$method_missing",function D(m,w){var j=D.$$p||Y,T,b,s=this;D.$$p=null,T=N(arguments,1),b=T;var _=s.$$class.$$prototype[e.jsid(m)];return V(typeof _<"u"&&!_.$$stub)||g(s,H(s,"method_missing",D,!1,!0),"method_missing",[m].concat($e(b)),j),e.send(s,_,b,j)},-2),X(C,"$respond_to_missing?",function(m,w){var j=this,T=j.$$class.$$prototype[e.jsid(m)];return typeof T<"u"&&!T.$$stub},-2),J(C,"eql?","=="),J(C,"equal?","=="),J(C,"inspect","to_s"),J(C,"object_id","__id__")}("::",Boolean),E("::",ee("Boolean"),"TrueClass"),E("::",ee("Boolean"),"FalseClass"),Y};Opal.modules["corelib/comparable"]=function(e){var E=e.truthy,F=e.module,X=e.rb_gt,q=e.rb_lt,re=e.eqeqeq,Z=e.Kernel,N=e.def,V=e.nil,g=e.$$$;return e.add_stubs(">,<,===,raise,class,<=>,equal?"),function(H){var $e=F(H,"Comparable"),J=V;function Y(y){return e.is_a(y,e.Integer)?y:X(y,0)?1:q(y,0)?-1:0}function ee(y,S){var C;re(V,J=S)||re(!0,J)||re(!1,J)||re(g("Integer"),J)||re(g("Float"),J)?C=S.$inspect():C=S.$$class,Z.$raise(g("ArgumentError"),"comparison of "+y.$class()+" with "+C+" failed")}function Q(y,S){var C=y["$<=>"](S);return E(C)||ee(y,S),Y(C)}return N($e,"$==",function(S){var C=this,G=V;return E(C["$equal?"](S))?!0:C["$<=>"]==e.Kernel["$<=>"]?!1:C.$$comparable?(C.$$comparable=!1,!1):E(G=C["$<=>"](S))?Y(G)==0:!1}),N($e,"$>",function(S){var C=this;return Q(C,S)>0}),N($e,"$>=",function(S){var C=this;return Q(C,S)>=0}),N($e,"$<",function(S){var C=this;return Q(C,S)<0}),N($e,"$<=",function(S){var C=this;return Q(C,S)<=0}),N($e,"$between?",function(S,C){var G=this;return!(E(q(G,S))||E(X(G,C)))}),N($e,"$clamp",function(S,C){var G=this;C==null&&(C=V);var k,D;if(C===V&&(e.is_a(S,e.Range)||Z.$raise(g("TypeError"),"wrong argument type "+S.$class()+" (expected Range)"),D=S.excl,C=S.end,S=S.begin,C!==V&&D&&Z.$raise(g("ArgumentError"),"cannot clamp with an exclusive range")),S!==V&&C!==V&&Q(S,C)>0&&Z.$raise(g("ArgumentError"),"min argument must be smaller than max argument"),S!==V){if(k=Q(G,S),k==0)return G;if(k<0)return S}return C!==V&&(k=Q(G,C),k>0)?C:G},-2)}("::")};Opal.modules["corelib/regexp"]=function(e){var E=e.coerce_to,F=e.prop,X=e.freeze,q=e.klass,re=e.const_set,Z=e.send2,N=e.find_super,V=e.def,g=e.truthy,H=e.gvars,$e=e.slice,J=e.Kernel,Y=e.Opal,ee=e.alias,Q=e.send,y=e.regexp,S=e.rb_plus,C=e.ensure_kwargs,G=e.hash_get,k=e.rb_ge,D=e.to_a,m=e.eqeqeq,w=e.rb_minus,j=e.return_ivar,T=[],b=e.nil,s=e.$$$;return e.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),q("::",s("StandardError"),"RegexpError"),function(_,x,h){var c=q(_,x,"Regexp"),o=[c].concat(h),L=e.$r(o);return re(c,"IGNORECASE",1),re(c,"EXTENDED",2),re(c,"MULTILINE",4),e.prop(c.$$prototype,"$$is_regexp",!0),function(K,d){var f=[K].concat(d),a=e.$r(f);return V(K,"$allocate",function t(){var n=t.$$p||b,r=this,$=b;return t.$$p=null,$=Z(r,N(r,"allocate",t,!1,!0),"allocate",[],n),$.uninitialized=!0,$}),V(K,"$escape",function(n){return n=E(n,s("String"),"to_str"),e.escape_regexp(n)}),V(K,"$last_match",function(n){return H["~"]==null&&(H["~"]=b),n==null&&(n=b),g(n["$nil?"]())?H["~"]:g(H["~"])?H["~"]["$[]"](n):b},-1),V(K,"$union",function(n){var r,$,i=this;r=$e(arguments),$=r;var u,p,A,M,I;if($.length==0)return/(?!)/;if($.length==1&&$[0].$$is_regexp)return $[0];u=$[0].$$is_array,$.length>1&&u&&J.$raise(s("TypeError"),"no implicit conversion of Array into String"),u&&($=$[0]),M=void 0,p=[];for(var U=0;U<$.length;U++)A=$[U],A.$$is_string?p.push(i.$escape(A)):A.$$is_regexp?(I=A.$options(),M!=null&&M!=I&&J.$raise(s("TypeError"),"All expressions must use the same options"),M=I,p.push("("+A.source+")")):p.push(i.$escape(A.$to_str()));return i.$new(p.$join("|"),M)},-1),V(K,"$new",function(n,r){if(n.$$is_regexp)return new RegExp(n);if(n=Y["$coerce_to!"](n,s("String"),"to_str"),n.charAt(n.length-1)==="\\"&&n.charAt(n.length-2)!=="\\"&&J.$raise(s("RegexpError"),"too short escape sequence: /"+n+"/"),n=n.replace("\\A","^").replace("\\z","$"),r===void 0||r["$!"]())return new RegExp(n);if(r.$$is_number){var $="";a("IGNORECASE")&r&&($+="i"),a("MULTILINE")&r&&($+="m"),r=$}else r="i";return new RegExp(n,r)},-2),ee(K,"compile","new"),ee(K,"quote","escape")}(e.get_singleton_class(c),o),V(c,"$==",function(d){var f=this;return d instanceof RegExp&&f.toString()===d.toString()}),V(c,"$===",function(d){var f=this;return f.$match(Y["$coerce_to?"](d,s("String"),"to_str"))!==b}),V(c,"$=~",function(d){var f=this,a=b;return H["~"]==null&&(H["~"]=b),g(a=f.$match(d))?H["~"].$begin(0):a}),V(c,"$freeze",function(){var d=this;return g(d["$frozen?"]())?d:(d.hasOwnProperty("$$g")||F(d,"$$g",null),d.hasOwnProperty("$$gm")||F(d,"$$gm",null),X(d))}),V(c,"$inspect",function(){var d=this,f=/^\/(.*)\/([^\/]*)$/,a=d.toString(),t=f.exec(a);if(t){for(var n=t[1],r=t[2],$=n.split(""),i=$.length,u=!1,p="",A=0;A<i;A++){var M=$[A];!u&&M=="/"&&(p=p.concat("\\")),p=p.concat(M),M=="\\"?u?u=!1:u=!0:u=!1}return"/"+p+"/"+r}else return a}),V(c,"$match",function K(d,f){var a=K.$$p||b,t=this;if(H["~"]==null&&(H["~"]=b),K.$$p=null,t.uninitialized&&J.$raise(s("TypeError"),"uninitialized Regexp"),f===void 0){if(d===b)return H["~"]=b;var n=t.exec(E(d,s("String"),"to_str"));return n?(H["~"]=s("MatchData").$new(t,n),a===b?H["~"]:e.yield1(a,H["~"])):H["~"]=b}if(f=E(f,s("Integer"),"to_int"),d===b||(d=E(d,s("String"),"to_str"),f<0&&(f+=d.length,f<0)))return H["~"]=b;for(var r,$=e.global_regexp(t);;){if(r=$.exec(d),r===null)return H["~"]=b;if(r.index>=f)return H["~"]=s("MatchData").$new($,r),a===b?H["~"]:e.yield1(a,H["~"]);$.lastIndex=r.index+1}},-2),V(c,"$match?",function(d,f){var a=this;if(a.uninitialized&&J.$raise(s("TypeError"),"uninitialized Regexp"),f===void 0)return d===b?!1:a.test(E(d,s("String"),"to_str"));if(f=E(f,s("Integer"),"to_int"),d===b||(d=E(d,s("String"),"to_str"),f<0&&(f+=d.length,f<0)))return!1;var t,n=e.global_regexp(a);return t=n.exec(d),!(t===null||t.index<f)},-2),V(c,"$names",function(){var d=this;return Q(d.$source().$scan(y(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),V(c,"$named_captures",function(){var d=this;return Q(Q(Q(d.$source().$scan(y(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(a){return a==null&&(a=b),Q(a,"map",[],function(n){return n==null&&(n=b),S(n.$last(),1)})})}),V(c,"$~",function(){var d=this;return H._==null&&(H._=b),d["$=~"](H._)}),V(c,"$source",function(){var d=this;return d.source}),V(c,"$options",function(){var d=this;d.uninitialized&&J.$raise(s("TypeError"),"uninitialized Regexp");var f=0;return d.multiline&&(f|=L("MULTILINE")),d.ignoreCase&&(f|=L("IGNORECASE")),f}),V(c,"$casefold?",function(){var d=this;return d.ignoreCase}),ee(c,"eql?","=="),ee(c,"to_s","source")}("::",RegExp,T),function(_,x,h){var c=q(_,x,"MatchData"),o=[c].concat(h),L=e.$r(o),K=c.$$prototype;return K.matches=b,c.$attr_reader("post_match","pre_match","regexp","string"),V(c,"$initialize",function(f,a,t){var n,r=this;t=C(t),n=G(t,"no_matchdata"),n==null&&(n=!1),g(n)||(H["~"]=r),r.regexp=f,r.begin=a.index,r.string=a.input,r.pre_match=a.input.slice(0,a.index),r.post_match=a.input.slice(a.index+a[0].length),r.matches=[];for(var $=0,i=a.length;$<i;$++){var u=a[$];u==null?r.matches.push(b):r.matches.push(u)}},-3),V(c,"$match",function(f){var a=this,t=b;return g(t=a["$[]"](f))?t:g(f["$is_a?"](L("Integer")))&&g(k(f,a.$length()))?J.$raise(s("IndexError"),"index "+f+" out of matches"):b}),V(c,"$match_length",function(f){var a,t=this;return a=t.$match(f),a===b||a==null?b:a.$length()}),V(c,"$[]",function(f){var a,t,n=this;return a=$e(arguments),t=a,t[0].$$is_string?(n.$regexp().$names()["$include?"](t["$[]"](0))["$!"]()&&J.$raise(s("IndexError"),"undefined group name reference: "+t["$[]"](0)),n.$named_captures()["$[]"](t["$[]"](0))):Q(n.matches,"[]",D(t))},-1),V(c,"$offset",function(f){var a=this;return f!==0&&J.$raise(s("ArgumentError"),"MatchData#offset only supports 0th element"),[a.begin,a.begin+a.matches[f].length]}),V(c,"$==",function(f){var a=this,t=b,n=b,r=b,$=b;return m(s("MatchData"),f)?g(t=g(n=g(r=g($=a.string==f.string)?a.regexp.toString()==f.regexp.toString():$)?a.pre_match==f.pre_match:r)?a.post_match==f.post_match:n)?a.begin==f.begin:t:!1}),V(c,"$begin",function(f){var a=this;return f!==0&&J.$raise(s("ArgumentError"),"MatchData#begin only supports 0th element"),a.begin}),V(c,"$end",function(f){var a=this;return f!==0&&J.$raise(s("ArgumentError"),"MatchData#end only supports 0th element"),a.begin+a.matches[f].length}),V(c,"$captures",function(){var f=this;return f.matches.slice(1)}),V(c,"$named_captures",function(){var f=this,a=b;return a=f.$captures(),Q(f.$regexp().$named_captures(),"transform_values",[],function(n){return n==null&&(n=b),a["$[]"](w(n.$last(),1))})}),V(c,"$names",function(){var f=this;return f.$regexp().$names()}),V(c,"$inspect",function(){var f=this,a="#<MatchData "+f.matches[0].$inspect();if(f.$regexp().$names()["$empty?"]())for(var t=1,n=f.matches.length;t<n;t++)a+=" "+t+":"+f.matches[t].$inspect();else Q(f.$named_captures(),"each",[],function($,i){return $==null&&($=b),i==null&&(i=b),a+=" "+$+":"+i.$inspect()});return a+">"}),V(c,"$length",function(){var f=this;return f.matches.length}),V(c,"$to_a",j("matches")),V(c,"$to_s",function(){var f=this;return f.matches[0]}),V(c,"$values_at",function(f){var a,t,n=this;a=$e(arguments),t=a;var r,$,i,u=[];for(r=0;r<t.length;r++){if(t[r].$$is_range&&($=t[r].$to_a(),$.unshift(r,1),Array.prototype.splice.apply(t,$)),i=Y["$coerce_to!"](t[r],s("Integer"),"to_int"),i<0&&(i+=n.matches.length,i<0)){u.push(b);continue}u.push(n.matches[i])}return u},-1),ee(c,"eql?","=="),ee(c,"size","length")}(T[0],null,T)};Opal.modules["corelib/string"]=function(e){var E=e.coerce_to,F=e.respond_to,X=e.global_multiline_regexp,q=e.prop,re=e.opal32_init,Z=e.opal32_add,N=e.klass,V=e.send2,g=e.find_super,H=e.def,$e=e.Opal,J=e.defs,Y=e.slice,ee=e.send,Q=e.to_a,y=e.extract_kwargs,S=e.ensure_kwargs,C=e.hash_get,G=e.eqeqeq,k=e.Kernel,D=e.truthy,m=e.gvars,w=e.rb_divide,j=e.rb_plus,T=e.eqeq,b=e.alias,s=e.const_set,_=e.top,x=[],h=e.$r(x),c=e.nil,o=e.$$$;return e.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),_.$require("corelib/comparable"),_.$require("corelib/regexp"),function(L,K,d){var f=N(L,K,"String"),a=[f].concat(d),t=e.$r(a);f.$include(o("Comparable")),e.prop(f.$$prototype,"$$is_string",!0);var n=new Map;(function(){H(f,"$__id__",function $(){var i=$.$$p||c,u=this;if($.$$p=null,typeof u=="object")return V(u,g(u,"__id__",$,!1,!0),"__id__",[],i);if(n.has(u))return n.get(u);var p=e.uid();return n.set(u,p),p}),H(f,"$hash",function(){var i=this,u=re(),p,A=i.length;for(u=Z(u,5),u=Z(u,A),p=0;p<A;p++)u=Z(u,i.charCodeAt(p));return u})})(),J(f,"$try_convert",function(i){return $e["$coerce_to?"](i,o("String"),"to_str")}),J(f,"$new",function(i){var u,p,A=this;u=Y(arguments),p=u;var M=p[0]||"",I=p[p.length-1];return M=E(M,o("String"),"to_str"),I&&I.$$is_hash&&I.has("encoding")&&(M=M.$force_encoding(I.get("encoding").value)),M=new A.$$constructor(M),M.$initialize.$$pristine||ee(M,"initialize",Q(p)),M},-1),H(f,"$initialize",function(i,u){var p,A;return p=Y(arguments),A=y(p),A=S(A),p.length>0&&p.shift(),C(A,"encoding"),C(A,"capacity"),c},-1),H(f,"$%",function(i){var u=this;return G(o("Array"),i)?ee(u,"format",[u].concat(Q(i))):u.$format(u,i)}),H(f,"$*",function(i){var u=this;if(i=E(i,o("Integer"),"to_int"),i<0&&k.$raise(o("ArgumentError"),"negative argument"),i===0)return"";var p="",A=u.toString();for(A.length*i>=1<<28&&k.$raise(o("RangeError"),"multiply count must not overflow maximum string size");(i&1)===1&&(p+=A),i>>>=1,i!==0;)A+=A;return p}),H(f,"$+",function(i){var u=this;if(i=E(i,o("String"),"to_str"),i==""&&u.$$class===e.String)return u;if(u==""&&i.$$class===e.String)return i;var p=u+i;return u.encoding===p.encoding&&i.encoding===p.encoding||u.encoding.name==="UTF-8"||i.encoding.name==="UTF-8"?p:e.enc(p,u.encoding)}),H(f,"$<=>",function(i){var u=this;if(D(i["$respond_to?"]("to_str")))return i=i.$to_str().$to_s(),u>i?1:u<i?-1:0;var p=i["$<=>"](u);return p===c?c:p>0?-1:p<0?1:0}),H(f,"$==",function(i){var u=this;return i.$$is_string?u.toString()===i.toString():F(i,"$to_str")?i["$=="](u):!1}),H(f,"$=~",function(i){var u=this;return i.$$is_string&&k.$raise(o("TypeError"),"type mismatch: String given"),i["$=~"](u)}),H(f,"$[]",function(i,u){var p=this,A=p.length,M,I;if(i.$$is_range)return M=i.excl,I=i,u=i.end===c?-1:E(i.end,o("Integer"),"to_int"),i=i.begin===c?0:E(i.begin,o("Integer"),"to_int"),Math.abs(i)>A?c:(i<0&&(i+=A),u<0&&(u+=A),(!M||I.end===c)&&(u+=1),u=u-i,u<0&&(u=0),p.substr(i,u));if(i.$$is_string)return u!=null&&k.$raise(o("TypeError")),p.indexOf(i)!==-1?i:c;if(i.$$is_regexp){var U=p.match(i);return U===null?(m["~"]=c,c):(m["~"]=o("MatchData").$new(i,U),u==null?U[0]:(u=E(u,o("Integer"),"to_int"),u<0&&-u<U.length?U[u+=U.length]:u>=0&&u<U.length?U[u]:c))}return i=E(i,o("Integer"),"to_int"),i<0&&(i+=A),u==null?i>=A||i<0?c:p.substr(i,1):(u=E(u,o("Integer"),"to_int"),u<0||i>A||i<0?c:p.substr(i,u))},-2),H(f,"$b",function(){var i=this;return new String(i).$force_encoding("binary")}),H(f,"$capitalize",function(){var i=this;return i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()}),H(f,"$casecmp",function(i){var u=this;if(!D(i["$respond_to?"]("to_str")))return c;i=E(i,o("String"),"to_str").$to_s();var p=/^[\x00-\x7F]*$/;return p.test(u)&&p.test(i)&&(u=u.toLowerCase(),i=i.toLowerCase()),u["$<=>"](i)}),H(f,"$casecmp?",function(i){var u=this,p=u.$casecmp(i);return p===c?c:p===0}),H(f,"$center",function(i,u){var p=this;if(u==null&&(u=" "),i=E(i,o("Integer"),"to_int"),u=E(u,o("String"),"to_str").$to_s(),D(u["$empty?"]())&&k.$raise(o("ArgumentError"),"zero width padding"),D(i<=p.length))return p;var A=p.$ljust(w(j(i,p.length),2).$ceil(),u),M=p.$rjust(w(j(i,p.length),2).$floor(),u);return M+A.slice(p.length)},-2),H(f,"$chomp",function(i){var u=this;if(m["/"]==null&&(m["/"]=c),i==null&&(i=m["/"]),D(i===c||u.length===0))return u;i=$e["$coerce_to!"](i,o("String"),"to_str").$to_s();var p;if(i===`
`)p=u.replace(/\r?\n?$/,"");else if(i==="")p=u.replace(/(\r?\n)+$/,"");else if(u.length>=i.length){var A=u.substr(u.length-i.length,i.length);A===i&&(p=u.substr(0,u.length-i.length))}return p??u},-1),H(f,"$chop",function(){var i=this,u=i.length,p;return u<=1?p="":i.charAt(u-1)===`
`&&i.charAt(u-2)==="\r"?p=i.substr(0,u-2):p=i.substr(0,u-1),p}),H(f,"$chr",function(){var i=this;return i.charAt(0)}),H(f,"$clone",function(i){var u,p=this,A=c;return i=S(i),u=C(i,"freeze"),u==null&&(u=c),D(u["$nil?"]())||T(u,!0)||T(u,!1)||p.$raise(t("ArgumentError"),"unexpected value for freeze: "+u.$class()),A=new String(p),A.$copy_singleton_methods(p),A.$initialize_clone(p,new Map([["freeze",u]])),T(u,!0)?A.$$frozen||(A.$$frozen=!0):D(u["$nil?"]())&&p.$$frozen&&(A.$$frozen=!0),A},-1),H(f,"$dup",function(){var i=this,u=c;return u=new String(i),u.$initialize_dup(i),u}),H(f,"$count",function(i){var u,p,A=this;u=Y(arguments),p=u,p.length===0&&k.$raise(o("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var M=r(p);return M===null?0:A.length-A.replace(new RegExp(M,"g"),"").length},-1),H(f,"$delete",function(i){var u,p,A=this;u=Y(arguments),p=u,p.length===0&&k.$raise(o("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var M=r(p);return M===null?A:A.replace(new RegExp(M,"g"),"")},-1),H(f,"$delete_prefix",function(i){var u=this;return i.$$is_string||(i=E(i,o("String"),"to_str")),u.slice(0,i.length)===i?u.slice(i.length):u}),H(f,"$delete_suffix",function(i){var u=this;return i.$$is_string||(i=E(i,o("String"),"to_str")),u.slice(u.length-i.length)===i?u.slice(0,u.length-i.length):u}),H(f,"$downcase",function(){var i=this;return i.toLowerCase()}),H(f,"$each_line",function $(i,u){var p=$.$$p||c,A,M,I,U,O=this;if(m["/"]==null&&(m["/"]=c),$.$$p=null,A=Y(arguments),M=y(A),M=S(M),A.length>0&&(I=A.shift()),I==null&&(I=m["/"]),U=C(M,"chomp"),U==null&&(U=!1),p===c)return O.$enum_for("each_line",I,new Map([["chomp",U]]));if(I===c)return e.yield1(p,O),O;I=E(I,o("String"),"to_str");var ae,le,_e,de,ge,ve,me,be;if(I.length===0){for(ae=O.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),le=0,_e=ae.length;le<_e;le+=2)(ae[le]||ae[le+1])&&(be=(ae[le]||"")+(ae[le+1]||""),U&&(be=be.$chomp(`
`)),e.yield1(p,be));return O}for(ge=O.$chomp(I),ve=O.length!=ge.length,me=ge.split(I),le=0,de=me.length;le<de;le++)be=me[le],(le<de-1||ve)&&(be+=I),U&&(be=be.$chomp(I)),e.yield1(p,be);return O},-1),H(f,"$empty?",function(){var i=this;return i.length===0}),H(f,"$end_with?",function(i){var u,p,A=this;u=Y(arguments),p=u;for(var M=0,I=p.length;M<I;M++){var U=E(p[M],o("String"),"to_str").$to_s();if(A.length>=U.length&&A.substr(A.length-U.length,U.length)==U)return!0}return!1},-1),H(f,"$gsub",function $(i,u){var p=$.$$p||c,A=this;if($.$$p=null,u===void 0&&p===c)return A.$enum_for("gsub",i);var M="",I=c,U=0,O,ae;i.$$is_regexp?i=X(i):(i=E(i,o("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var le;;){if(O=i.exec(A),O===null){m["~"]=c,M+=A.slice(U);break}I=o("MatchData").$new(i,O),u===void 0?(le=i.lastIndex,ae=p(O[0]),i.lastIndex=le):u.$$is_hash?ae=u["$[]"](O[0]).$to_s():(u.$$is_string||(u=E(u,o("String"),"to_str")),ae=u.replace(/([\\]+)([0-9+&`'])/g,function(_e,de,ge){if(de.length%2===0)return _e;switch(ge){case"+":for(var ve=O.length-1;ve>0;ve--)if(O[ve]!==void 0)return de.slice(1)+O[ve];return"";case"&":return de.slice(1)+O[0];case"`":return de.slice(1)+A.slice(0,O.index);case"'":return de.slice(1)+A.slice(O.index+O[0].length);default:return de.slice(1)+(O[ge]||"")}}).replace(/\\\\/g,"\\")),i.lastIndex===O.index?(M+=A.slice(U,O.index)+ae+(A[O.index]||""),i.lastIndex+=1):M+=A.slice(U,O.index)+ae,U=i.lastIndex}return m["~"]=I,M},-2),H(f,"$hex",function(){var i=this;return i.$to_i(16)}),H(f,"$include?",function(i){var u=this;return i.$$is_string||(i=E(i,o("String"),"to_str")),u.indexOf(i)!==-1}),H(f,"$index",function(i,u){var p=this,A,M,I;if(u===void 0)u=0;else if(u=E(u,o("Integer"),"to_int"),u<0&&(u+=p.length,u<0))return c;if(i.$$is_regexp)for(I=X(i);;){if(M=I.exec(p),M===null){m["~"]=c,A=-1;break}if(M.index>=u){m["~"]=o("MatchData").$new(I,M),A=M.index;break}I.lastIndex=M.index+1}else i=E(i,o("String"),"to_str"),i.length===0&&u>p.length?A=-1:A=p.indexOf(i,u);return A===-1?c:A},-2),H(f,"$inspect",function(){var i=this,u=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},A=i.replace(u,function(M){return p[M]?p[M]:(M=M.charCodeAt(0),M<=255&&(i.encoding["$binary?"]()||i.internal_encoding["$binary?"]())?"\\x"+("00"+M.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+M.toString(16).toUpperCase()).slice(-4))});return'"'+A.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),H(f,"$intern",function(){var i=this;return i.toString()}),H(f,"$length",function(){var i=this;return i.length}),b(f,"size","length"),H(f,"$lines",function $(i,u){var p=$.$$p||c,A,M,I,U,O=this,ae=c;return m["/"]==null&&(m["/"]=c),$.$$p=null,A=Y(arguments),M=y(A),M=S(M),A.length>0&&(I=A.shift()),I==null&&(I=m["/"]),U=C(M,"chomp"),U==null&&(U=!1),ae=ee(O,"each_line",[I,new Map([["chomp",U]])],p.$to_proc()),D(p)?O:ae.$to_a()},-1),H(f,"$ljust",function(i,u){var p=this;if(u==null&&(u=" "),i=E(i,o("Integer"),"to_int"),u=E(u,o("String"),"to_str").$to_s(),D(u["$empty?"]())&&k.$raise(o("ArgumentError"),"zero width padding"),D(i<=p.length))return p;var A=-1,M="";for(i-=p.length;++A<i;)M+=u;return p+M.slice(0,i)},-2),H(f,"$lstrip",function(){var i=this;return i.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),H(f,"$ascii_only?",function(){var i=this;return i.encoding.ascii?/^[\x00-\x7F]*$/.test(i):!1}),H(f,"$match",function $(i,u){var p=$.$$p||c,A=this;return $.$$p=null,(G(t("String"),i)||D(i["$respond_to?"]("to_str")))&&(i=o("Regexp").$new(i.$to_str())),G(o("Regexp"),i)||k.$raise(o("TypeError"),"wrong argument type "+i.$class()+" (expected Regexp)"),ee(i,"match",[A,u],p.$to_proc())},-2),H(f,"$match?",function(i,u){var p=this;return(G(t("String"),i)||D(i["$respond_to?"]("to_str")))&&(i=o("Regexp").$new(i.$to_str())),G(o("Regexp"),i)||k.$raise(o("TypeError"),"wrong argument type "+i.$class()+" (expected Regexp)"),i["$match?"](p,u)},-2),H(f,"$next",function(){var i=this,u=i.length;if(u===0)return"";for(var p=i,A=i.search(/[a-zA-Z0-9]/),M=!1,I;u--;){if(I=i.charCodeAt(u),I>=48&&I<=57||I>=65&&I<=90||I>=97&&I<=122)switch(I){case 57:M=!0,I=48;break;case 90:M=!0,I=65;break;case 122:M=!0,I=97;break;default:M=!1,I+=1}else A===-1?I===255?(M=!0,I=0):(M=!1,I+=1):M=!0;if(p=p.slice(0,u)+String.fromCharCode(I)+p.slice(u+1),M&&(u===0||u===A)){switch(I){case 65:break;case 97:break;default:I+=1}u===0?p=String.fromCharCode(I)+p:p=p.slice(0,u)+String.fromCharCode(I)+p.slice(u),M=!1}if(!M)break}return p}),H(f,"$oct",function(){var i=this,u,p=i,A=8;return/^\s*_/.test(p)?0:(p=p.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(M,I,U,O){switch(O.charAt(0)){case"+":case"-":return M;case"0":if(O.charAt(1)==="x"&&U==="0x")return M}switch(U){case"0b":A=2;break;case"0":case"0o":A=8;break;case"0d":A=10;break;case"0x":A=16;break}return I+O}),u=parseInt(p.replace(/_(?!_)/g,""),A),isNaN(u)?0:u)}),H(f,"$ord",function(){var i=this;return typeof i.codePointAt=="function"?i.codePointAt(0):i.charCodeAt(0)}),H(f,"$partition",function(i){var u=this,p,A;return i.$$is_regexp?(A=i.exec(u),A===null?p=-1:(o("MatchData").$new(i,A),i=A[0],p=A.index)):(i=E(i,o("String"),"to_str"),p=u.indexOf(i)),p===-1?[u,"",""]:[u.slice(0,p),u.slice(p,p+i.length),u.slice(p+i.length)]}),H(f,"$reverse",function(){var i=this;return i.split("").reverse().join("")}),H(f,"$rindex",function(i,u){var p=this,A,M,I,U;if(u===void 0)u=p.length;else if(u=E(u,o("Integer"),"to_int"),u<0&&(u+=p.length,u<0))return c;if(i.$$is_regexp){for(M=null,I=X(i);U=I.exec(p),!(U===null||U.index>u);)M=U,I.lastIndex=M.index+1;M===null?(m["~"]=c,A=-1):(o("MatchData").$new(I,M),A=M.index)}else i=E(i,o("String"),"to_str"),A=p.lastIndexOf(i,u);return A===-1?c:A},-2),H(f,"$rjust",function(i,u){var p=this;if(u==null&&(u=" "),i=E(i,o("Integer"),"to_int"),u=E(u,o("String"),"to_str").$to_s(),D(u["$empty?"]())&&k.$raise(o("ArgumentError"),"zero width padding"),D(i<=p.length))return p;var A=Math.floor(i-p.length),M=Math.floor(A/u.length),I=Array(M+1).join(u),U=A-I.length;return I+u.slice(0,U)+p},-2),H(f,"$rpartition",function(i){var u=this,p,A,M,I;if(i.$$is_regexp){for(A=null,M=X(i);I=M.exec(u),I!==null;)A=I,M.lastIndex=A.index+1;A===null?p=-1:(o("MatchData").$new(M,A),i=A[0],p=A.index)}else i=E(i,o("String"),"to_str"),p=u.lastIndexOf(i);return p===-1?["","",u]:[u.slice(0,p),u.slice(p,p+i.length),u.slice(p+i.length)]}),H(f,"$rstrip",function(){var i=this;return i.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),H(f,"$scan",function $(i,u){var p=$.$$p||c,A,M=this;$.$$p=null,u=S(u),A=C(u,"no_matchdata"),A==null&&(A=!1);var I=[],U=c,O;for(i.$$is_regexp?i=X(i):(i=E(i,o("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(O=i.exec(M))!=null;)U=o("MatchData").$new(i,O,new Map([["no_matchdata",A]])),p===c?O.length==1?I.push(O[0]):I.push(U.$captures()):O.length==1?e.yield1(p,O[0]):e.yield1(p,U.$captures()),i.lastIndex===O.index&&(i.lastIndex+=1);return A||(m["~"]=U),p!==c?M:I},-2),H(f,"$singleton_class",function(){var i=this;return e.get_singleton_class(i)}),H(f,"$split",function(i,u){var p=this,A=c;if(m[";"]==null&&(m[";"]=c),p.length===0)return[];if(u===void 0)u=0;else if(u=$e["$coerce_to!"](u,o("Integer"),"to_int"),u===1)return[p];(i===void 0||i===c)&&(i=D(A=m[";"])?A:" ");var M=[],I=p.toString(),U=0,O,ae=0,le=0,_e,de;if(i.$$is_regexp?i=X(i):(i=E(i,o("String"),"to_str").$to_s(),i===" "&&(i=/\s+/gm,I=I.replace(/^\s+/,""))),M=I.split(i),M.length===1&&M[0]===I)return[M[0]];for(;(_e=M.indexOf(void 0))!==-1;)M.splice(_e,1);if(u===0){for(;M[M.length-1]==="";)M.pop();return M}if(i.$$is_regexp||(i=e.escape_regexp(i),i=new RegExp(i,"gm")),O=i.exec(I),u<0){if(O!==null&&O[0]===""&&i.source.indexOf("(?=")===-1)for(_e=0,de=O.length;_e<de;_e++)M.push("");return M}if(O!==null&&O[0]==="")return le=(O.length-1)*(u-1)+u,M.splice(le-1,M.length-1,M.slice(le-1).join("")),M;if(u>=M.length)return M;for(;O!==null&&(ae++,U=i.lastIndex,le+=O.length,ae+1!==u);)O=i.exec(I);return M.splice(le,M.length-1,I.slice(U)),M},-1),H(f,"$squeeze",function(i){var u,p,A=this;if(u=Y(arguments),p=u,p.length===0)return A.replace(/(.)\1+/g,"$1");var M=r(p);return M===null?A:A.replace(new RegExp("("+M+")\\1+","g"),"$1")},-1),H(f,"$start_with?",function(i){var u,p,A=this;u=Y(arguments),p=u;for(var M=0,I=p.length;M<I;M++)if(p[M].$$is_regexp){var U=p[M],O=U.exec(A);if(O!=null&&O.index===0)return m["~"]=o("MatchData").$new(U,O),!0;m["~"]=c}else{var ae=E(p[M],o("String"),"to_str").$to_s();if(A.length>=ae.length&&A.startsWith(ae))return!0}return!1},-1),H(f,"$strip",function(){var i=this;return i.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),H(f,"$sub",function $(i,u){var p=$.$$p||c,A=this;$.$$p=null,i.$$is_regexp||(i=E(i,o("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var M,I=i.exec(A);return I===null?(m["~"]=c,M=A.toString()):(o("MatchData").$new(i,I),u===void 0?(p===c&&k.$raise(o("ArgumentError"),"wrong number of arguments (1 for 2)"),M=A.slice(0,I.index)+p(I[0])+A.slice(I.index+I[0].length)):u.$$is_hash?M=A.slice(0,I.index)+u["$[]"](I[0]).$to_s()+A.slice(I.index+I[0].length):(u=E(u,o("String"),"to_str"),u=u.replace(/([\\]+)([0-9+&`'])/g,function(U,O,ae){if(O.length%2===0)return U;switch(ae){case"+":for(var le=I.length-1;le>0;le--)if(I[le]!==void 0)return O.slice(1)+I[le];return"";case"&":return O.slice(1)+I[0];case"`":return O.slice(1)+A.slice(0,I.index);case"'":return O.slice(1)+A.slice(I.index+I[0].length);default:return O.slice(1)+(I[ae]||"")}}).replace(/\\\\/g,"\\"),M=A.slice(0,I.index)+u+A.slice(I.index+I[0].length))),M},-2),H(f,"$sum",function(i){var u=this;i==null&&(i=16),i=E(i,o("Integer"),"to_int");for(var p=0,A=u.length,M=0;M<A;M++)p+=u.charCodeAt(M);return i<=0?p:p&Math.pow(2,i)-1},-1),H(f,"$swapcase",function(){var i=this,u=i.replace(/([a-z]+)|([A-Z]+)/g,function(p,A,M){return A?p.toUpperCase():p.toLowerCase()});return u}),H(f,"$to_f",function(){var i=this;if(i.charAt(0)==="_")return 0;var u=parseFloat(i.replace(/_/g,""));return isNaN(u)||u==1/0||u==-1/0?0:u}),H(f,"$to_i",function(i){var u=this;i==null&&(i=10);var p,A=u.toLowerCase(),M=E(i,o("Integer"),"to_int");return(M===1||M<0||M>36)&&k.$raise(o("ArgumentError"),"invalid radix "+M),/^\s*_/.test(A)?0:(A=A.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(I,U,O,ae){switch(ae.charAt(0)){case"+":case"-":return I;case"0":if(ae.charAt(1)==="x"&&O==="0x"&&(M===0||M===16))return I}switch(O){case"0b":if(M===0||M===2)return M=2,U+ae;break;case"0":case"0o":if(M===0||M===8)return M=8,U+ae;break;case"0d":if(M===0||M===10)return M=10,U+ae;break;case"0x":if(M===0||M===16)return M=16,U+ae;break}return I}),p=parseInt(A.replace(/_(?!_)/g,""),M),isNaN(p)?0:p)},-1),H(f,"$to_proc",function $(){$.$$p;var i=this,u=c,p=c,A=c;return $.$$p=null,u=i.valueOf(),p=e.jsid(u),A=ee(k,"proc",[],function M(I){var U=M.$$p||c,O,ae;M.$$p=null,O=Y(arguments),ae=O,ae.length===0&&k.$raise(o("ArgumentError"),"no receiver given");var le=ae[0];le==null&&(le=c);var _e=le[p];return _e?ae=ae.slice(1):(_e=le.$method_missing,ae[0]=u),typeof U=="function"&&(_e.$$p=U),ae.length===0?_e.call(le):_e.apply(le,ae)},-1),A.$$source_location=c,A}),H(f,"$to_s",function(){var i=this;return i.toString()}),H(f,"$tr",function(i,u){var p=this;if(i=E(i,o("String"),"to_str").$to_s(),u=E(u,o("String"),"to_str").$to_s(),i.length==0||i===u)return p;var A,M,I,U,O,ae,le,_e={},de=i.split(""),ge=de.length,ve=u.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],ge-=1);var z=[],R=null;for(M=!1,A=0;A<ge;A++)if(U=de[A],R==null)R=U,z.push(U);else if(U==="-")R==="-"?(z.push("-"),z.push("-")):A==ge-1?z.push("-"):M=!0;else if(M){for(O=R.charCodeAt(0),ae=U.charCodeAt(0),O>ae&&k.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),I=O+1;I<ae;I++)z.push(String.fromCharCode(I));z.push(U),M=null,R=null}else z.push(U);if(de=z,ge=de.length,be)for(A=0;A<ge;A++)_e[de[A]]=!0;else{if(me>0){var B=[],W=null;for(M=!1,A=0;A<me;A++)if(U=ve[A],W==null)W=U,B.push(U);else if(U==="-")W==="-"?(B.push("-"),B.push("-")):A==me-1?B.push("-"):M=!0;else if(M){for(O=W.charCodeAt(0),ae=U.charCodeAt(0),O>ae&&k.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),I=O+1;I<ae;I++)B.push(String.fromCharCode(I));B.push(U),M=null,W=null}else B.push(U);ve=B,me=ve.length}var te=ge-me;if(te>0){var se=me>0?ve[me-1]:"";for(A=0;A<te;A++)ve.push(se)}for(A=0;A<ge;A++)_e[de[A]]=ve[A]}var oe="";for(A=0,le=p.length;A<le;A++){U=p.charAt(A);var fe=_e[U];be?oe+=fe==null?ie:U:oe+=fe??U}return oe}),H(f,"$tr_s",function(i,u){var p=this;if(i=E(i,o("String"),"to_str").$to_s(),u=E(u,o("String"),"to_str").$to_s(),i.length==0)return p;var A,M,I,U,O,ae,le,_e={},de=i.split(""),ge=de.length,ve=u.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],ge-=1);var z=[],R=null;for(M=!1,A=0;A<ge;A++)if(U=de[A],R==null)R=U,z.push(U);else if(U==="-")R==="-"?(z.push("-"),z.push("-")):A==ge-1?z.push("-"):M=!0;else if(M){for(O=R.charCodeAt(0),ae=U.charCodeAt(0),O>ae&&k.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),I=O+1;I<ae;I++)z.push(String.fromCharCode(I));z.push(U),M=null,R=null}else z.push(U);if(de=z,ge=de.length,be)for(A=0;A<ge;A++)_e[de[A]]=!0;else{if(me>0){var B=[],W=null;for(M=!1,A=0;A<me;A++)if(U=ve[A],R==null)R=U,B.push(U);else if(U==="-")W==="-"?(B.push("-"),B.push("-")):A==me-1?B.push("-"):M=!0;else if(M){for(O=R.charCodeAt(0),ae=U.charCodeAt(0),O>ae&&k.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),I=O+1;I<ae;I++)B.push(String.fromCharCode(I));B.push(U),M=null,R=null}else B.push(U);ve=B,me=ve.length}var te=ge-me;if(te>0){var se=me>0?ve[me-1]:"";for(A=0;A<te;A++)ve.push(se)}for(A=0;A<ge;A++)_e[de[A]]=ve[A]}var oe="",fe=null;for(A=0,le=p.length;A<le;A++){U=p.charAt(A);var l=_e[U];be?l==null?fe==null&&(oe+=ie,fe=!0):(oe+=U,fe=null):l!=null?(fe==null||fe!==l)&&(oe+=l,fe=l):(oe+=U,fe=null)}return oe}),H(f,"$upcase",function(){var i=this;return i.toUpperCase()}),H(f,"$upto",function $(i,u){var p=$.$$p||c,A=this;if($.$$p=null,u==null&&(u=!1),p===c)return A.$enum_for("upto",i,u);var M,I,U=A.toString();if(i=E(i,o("String"),"to_str"),U.length===1&&i.length===1)for(M=U.charCodeAt(0),I=i.charCodeAt(0);M<=I&&!(u&&M===I);)p(String.fromCharCode(M)),M+=1;else if(parseInt(U,10).toString()===U&&parseInt(i,10).toString()===i)for(M=parseInt(U,10),I=parseInt(i,10);M<=I&&!(u&&M===I);)p(M.toString()),M+=1;else for(;U.length<=i.length&&U<=i&&!(u&&U===i);)p(U),U=U.$succ();return A},-2);function r($){function i(_e){var de="",ge,ve=_e.length,me,be,ie,z,R;for(ge=0;ge<ve;ge++)if(me=_e.charAt(ge),me==="-"&&ge>0&&ge<ve-1&&!be){for(ie=_e.charCodeAt(ge-1),z=_e.charCodeAt(ge+1),ie>z&&k.$raise(o("ArgumentError"),'invalid range "'+ie+"-"+z+'" in string transliteration'),R=ie+1;R<z+1;R++)de+=String.fromCharCode(R);be=!0,ge++}else be=me==="\\",de+=me;return de}function u(_e,de){if(_e.length===0)return de;var ge="",ve,me=_e.length,be;for(ve=0;ve<me;ve++)be=_e.charAt(ve),de.indexOf(be)!==-1&&(ge+=be);return ge}var p,A,M,I,U,O,ae="",le="";for(p=0,A=$.length;p<A;p++)M=E($[p],o("String"),"to_str"),I=M.charAt(0)==="^"&&M.length>1,M=i(I?M.slice(1):M),I?le=u(le,M):ae=u(ae,M);if(ae.length>0&&le.length>0){for(O="",p=0,A=ae.length;p<A;p++)U=ae.charAt(p),le.indexOf(U)===-1&&(O+=U);ae=O,le=""}return ae.length>0?"["+o("Regexp").$escape(ae)+"]":le.length>0?"[^"+o("Regexp").$escape(le)+"]":null}return H(f,"$instance_variables",function(){return[]}),J(f,"$_load",function(i){var u,p,A=this;return u=Y(arguments),p=u,ee(A,"new",Q(p))},-1),H(f,"$unicode_normalize",function(i){var u=this;return i==null&&(i="nfc"),D(["nfc","nfd","nfkc","nfkd"]["$include?"](i))||k.$raise(o("ArgumentError"),"Invalid normalization form "+i),u.normalize(i.$upcase())},-1),H(f,"$unicode_normalized?",function(i){var u=this;return i==null&&(i="nfc"),u.$unicode_normalize(i)["$=="](u)},-1),H(f,"$unpack",function(i){return k.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),H(f,"$unpack1",function(i){return k.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),H(f,"$freeze",function(){var i=this;return typeof i=="string"||q(i,"$$frozen",!0),i}),H(f,"$-@",function(){var i=this;return typeof i=="string"||i.$$frozen?i:i.encoding.name=="UTF-8"&&i.internal_encoding.name=="UTF-8"?i.toString():i.$dup().$freeze()}),H(f,"$frozen?",function(){var i=this;return typeof i=="string"||i.$$frozen===!0}),b(f,"+@","dup"),b(f,"===","=="),b(f,"byteslice","[]"),b(f,"eql?","=="),b(f,"equal?","==="),b(f,"object_id","__id__"),b(f,"slice","[]"),b(f,"succ","next"),b(f,"to_str","to_s"),b(f,"to_sym","intern"),$e.$pristine(f,"initialize")}("::",String,x),s(x[0],"Symbol",h("String"))};Opal.modules["corelib/enumerable"]=function(e){var E=e.truthy,F=e.coerce_to,X=e.yield1,q=e.yieldX,re=e.deny_frozen_access,Z=e.module,N=e.send,V=e.slice,g=e.to_a,H=e.Opal,$e=e.thrower,J=e.def,Y=e.Kernel,ee=e.return_val,Q=e.rb_gt,y=e.rb_times,S=e.rb_lt,C=e.eqeq,G=e.rb_plus,k=e.rb_minus,D=e.rb_divide,m=e.rb_le,w=e.lambda,j=e.not,T=e.alias,b=[],s=e.nil,_=e.$$$;return e.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(x,h){var c=Z(x,"Enumerable"),o=[c].concat(h),L=e.$r(o);function K(d){return d.length===0&&(d=[s]),d.length>1&&(d=[d]),d}return J(c,"$all?",function d(f){try{var a=$e("return"),t=d.$$p||s,n=this;return d.$$p=null,E(f!==void 0)?N(n,"each",[],function r($){var i,u,p=s;if(i=V(arguments),u=i,p=K(u),E(N(f,"public_send",["==="].concat(g(p)))))return s;a.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:a}):t!==s?N(n,"each",[],function r($){var i,u;if(i=V(arguments),u=i,E(e.yieldX(t,g(u))))return s;a.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:a}):N(n,"each",[],function r($){var i,u;if(i=V(arguments),u=i,E(H.$destructure(u)))return s;a.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:a}),!0}catch(r){if(r===a)return r.$v;throw r}finally{a.is_orphan=!0}},-1),J(c,"$any?",function d(f){try{var a=$e("return"),t=d.$$p||s,n=this;return d.$$p=null,E(f!==void 0)?N(n,"each",[],function r($){var i,u,p=s;if(i=V(arguments),u=i,p=K(u),E(N(f,"public_send",["==="].concat(g(p)))))a.$throw(!0,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):t!==s?N(n,"each",[],function r($){var i,u;if(i=V(arguments),u=i,E(e.yieldX(t,g(u))))a.$throw(!0,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):N(n,"each",[],function r($){var i,u;if(i=V(arguments),u=i,E(H.$destructure(u)))a.$throw(!0,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),!1}catch(r){if(r===a)return r.$v;throw r}finally{a.is_orphan=!0}},-1),J(c,"$chunk",function d(){var f=d.$$p||s,a=this;return d.$$p=null,f===s?N(a,"to_enum",["chunk"],function t(){var n=t.$$s==null?this:t.$$s;return n.$enumerator_size()},{$$s:a}):N(_("Enumerator"),"new",[],function t(n){var r=t.$$s==null?this:t.$$s;n==null&&(n=s);var $=s,i=[];function u(){i.length>0&&n.$yield($,i)}r.$each.$$p=function(p){var A=X(f,p);A===s?(u(),i=[],$=s):($===s||$===A?i.push(p):(u(),i=[p]),$=A)},r.$each(),u()},{$$s:a})}),J(c,"$chunk_while",function d(){var f=d.$$p||s,a=this;return d.$$p=null,f===s&&Y.$raise(_("ArgumentError"),"no block given"),N(a,"slice_when",[],function(n,r){return n==null&&(n=s),r==null&&(r=s),e.yieldX(f,[n,r])["$!"]()})}),J(c,"$collect",function d(){var f=d.$$p||s,a=this;if(d.$$p=null,f===s)return N(a,"enum_for",["collect"],function n(){var r=n.$$s==null?this:n.$$s;return r.$enumerator_size()},{$$s:a});var t=[];return a.$each.$$p=function(){var n=q(f,arguments);t.push(n)},a.$each(),t}),J(c,"$collect_concat",function d(){var f=d.$$p||s,a=this;return d.$$p=null,f===s?N(a,"enum_for",["collect_concat"],function t(){var n=t.$$s==null?this:t.$$s;return n.$enumerator_size()},{$$s:a}):N(a,"map",[],f.$to_proc()).$flatten(1)}),J(c,"$compact",function(){var f=this;return f.$to_a().$compact()}),J(c,"$count",function d(f){var a=d.$$p||s,t=this,n=s;return d.$$p=null,n=0,f!=null&&a!==s&&t.$warn("warning: given block not used"),E(f!=null)?a=N(Y,"proc",[],function($){var i,u;return i=V(arguments),u=i,H.$destructure(u)["$=="](f)},-1):E(a["$nil?"]())&&(a=N(Y,"proc",[],ee(!0))),N(t,"each",[],function($){var i,u;return i=V(arguments),u=i,E(q(a,u))?n++:s},-1),n},-1),J(c,"$cycle",function d(f){var a=d.$$p||s,t=this;if(d.$$p=null,f==null&&(f=s),a===s)return N(t,"enum_for",["cycle",f],function i(){var u=i.$$s==null?this:i.$$s;return E(f["$nil?"]())?E(u["$respond_to?"]("size"))?_(_("Float"),"INFINITY"):s:(f=H["$coerce_to!"](f,_("Integer"),"to_int"),E(Q(f,0))?y(u.$enumerator_size(),f):0)},{$$s:t});if(!E(f["$nil?"]())&&(f=H["$coerce_to!"](f,_("Integer"),"to_int"),E(f<=0)))return s;var n=[],r,$;if(t.$each.$$p=function(){var i=H.$destructure(arguments);X(a,i),n.push(i)},t.$each(),n.length===0)return s;if(f===s)for(;;)for(r=0,$=n.length;r<$;r++)X(a,n[r]);else for(;f>1;){for(r=0,$=n.length;r<$;r++)X(a,n[r]);f--}},-1),J(c,"$detect",function d(f){try{var a=$e("return"),t=d.$$p||s,n=this;return d.$$p=null,t===s?n.$enum_for("detect",f):(N(n,"each",[],function r($){var i,u,p=s;if(i=V(arguments),u=i,p=H.$destructure(u),E(e.yield1(t,p)))a.$throw(p,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),f!==void 0?typeof f=="function"?f():f:s)}catch(r){if(r===a)return r.$v;throw r}finally{a.is_orphan=!0}},-1),J(c,"$drop",function(f){var a=this;f=F(f,_("Integer"),"to_int"),E(f<0)&&Y.$raise(_("ArgumentError"),"attempt to drop negative size");var t=[],n=0;return a.$each.$$p=function(){f<=n&&t.push(H.$destructure(arguments)),n++},a.$each(),t}),J(c,"$drop_while",function d(){var f=d.$$p||s,a=this;if(d.$$p=null,f===s)return a.$enum_for("drop_while");var t=[],n=!0;return a.$each.$$p=function(){var r=H.$destructure(arguments);if(n){var $=X(f,r);E($)||(n=!1,t.push(r))}else t.push(r)},a.$each(),t}),J(c,"$each_cons",function d(f){var a=d.$$p||s,t=this;if(d.$$p=null,E(arguments.length!=1)&&Y.$raise(_("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),f=H.$try_convert(f,_("Integer"),"to_int"),E(f<=0)&&Y.$raise(_("ArgumentError"),"invalid size"),a===s)return N(t,"enum_for",["each_cons",f],function r(){var $=r.$$s==null?this:r.$$s,i=s;return i=$.$enumerator_size(),E(i["$nil?"]())?s:C(i,0)||E(S(i,f))?0:G(k(i,f),1)},{$$s:t});var n=[];return t.$each.$$p=function(){var r=H.$destructure(arguments);n.push(r),n.length>f&&n.shift(),n.length==f&&X(a,n.slice(0,f))},t.$each(),t}),J(c,"$each_entry",function d(f){var a=d.$$p||s,t,n,r=this;return d.$$p=null,t=V(arguments),n=t,a===s?N(r,"to_enum",["each_entry"].concat(g(n)),function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:r}):(r.$each.$$p=function(){var $=H.$destructure(arguments);X(a,$)},r.$each.apply(r,n),r)},-1),J(c,"$each_slice",function d(f){var a=d.$$p||s,t=this;if(d.$$p=null,f=F(f,_("Integer"),"to_int"),E(f<=0)&&Y.$raise(_("ArgumentError"),"invalid slice size"),a===s)return N(t,"enum_for",["each_slice",f],function r(){var $=r.$$s==null?this:r.$$s;return E($["$respond_to?"]("size"))?D($.$size(),f).$ceil():s},{$$s:t});var n=[];return t.$each.$$p=function(){var r=H.$destructure(arguments);n.push(r),n.length===f&&(X(a,n),n=[])},t.$each(),n.length>0&&X(a,n),t}),J(c,"$each_with_index",function d(f){var a=d.$$p||s,t,n,r=this;if(d.$$p=null,t=V(arguments),n=t,a===s)return N(r,"enum_for",["each_with_index"].concat(g(n)),function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:r});var $=0;return r.$each.$$p=function(){var i=H.$destructure(arguments);a(i,$),$++},r.$each.apply(r,n),r},-1),J(c,"$each_with_object",function d(f){var a=d.$$p||s,t=this;return d.$$p=null,a===s?N(t,"enum_for",["each_with_object",f],function n(){var r=n.$$s==null?this:n.$$s;return r.$enumerator_size()},{$$s:t}):(t.$each.$$p=function(){var n=H.$destructure(arguments);a(n,f)},t.$each(),f)}),J(c,"$entries",function(f){var a,t,n=this;a=V(arguments),t=a;var r=[];return n.$each.$$p=function(){r.push(H.$destructure(arguments))},n.$each.apply(n,t),r},-1),J(c,"$filter_map",function d(){var f=d.$$p||s,a=this;return d.$$p=null,f===s?N(a,"enum_for",["filter_map"],function t(){var n=t.$$s==null?this:t.$$s;return n.$enumerator_size()},{$$s:a}):N(N(a,"map",[],f.$to_proc()),"select",[],"itself".$to_proc())}),J(c,"$find_all",function d(){var f=d.$$p||s,a=this;if(d.$$p=null,f===s)return N(a,"enum_for",["find_all"],function n(){var r=n.$$s==null?this:n.$$s;return r.$enumerator_size()},{$$s:a});var t=[];return a.$each.$$p=function(){var n=H.$destructure(arguments),r=X(f,n);E(r)&&t.push(n)},a.$each(),t}),J(c,"$find_index",function d(f){try{var a=$e("return"),t=d.$$p||s,n=this,r=s;return d.$$p=null,E(f===void 0&&t===s)?n.$enum_for("find_index"):(f!=null&&t!==s&&n.$warn("warning: given block not used"),r=0,E(f!=null)?N(n,"each",[],function $(i){var u,p;return u=V(arguments),p=u,C(H.$destructure(p),f)&&a.$throw(r,$.$$is_lambda),r+=1},{$$arity:-1,$$ret:a}):N(n,"each",[],function $(i){var u,p;return u=V(arguments),p=u,E(e.yieldX(t,g(p)))&&a.$throw(r,$.$$is_lambda),r+=1},{$$arity:-1,$$ret:a}),s)}catch($){if($===a)return $.$v;throw $}finally{a.is_orphan=!0}},-1),J(c,"$first",function(f){try{var a=$e("return"),t=this,n=s,r=s;return E(f===void 0)?N(t,"each",[],function $(i){i==null&&(i=s),a.$throw(i,$.$$is_lambda)},{$$ret:a}):(n=[],f=F(f,_("Integer"),"to_int"),E(f<0)&&Y.$raise(_("ArgumentError"),"attempt to take negative size"),E(f==0)?[]:(r=0,N(t,"each",[],function $(i){var u,p;if(u=V(arguments),p=u,n.push(H.$destructure(p)),E(f<=++r))a.$throw(n,$.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),n))}catch($){if($===a)return $.$v;throw $}finally{a.is_orphan=!0}},-1),J(c,"$grep",function d(f){var a=d.$$p||s,t=this,n=s;return d.$$p=null,n=[],N(t,"each",[],function($){var i,u,p=s;return i=V(arguments),u=i,p=K(u),E(N(f,"__send__",["==="].concat(g(p))))?(a!==s?(E(Q(u.$length(),1))&&(u=[u]),u=e.yieldX(a,g(u))):E(m(u.$length(),1))&&(u=u["$[]"](0)),n.$push(u)):s},-1),n}),J(c,"$grep_v",function d(f){var a=d.$$p||s,t=this,n=s;return d.$$p=null,n=[],N(t,"each",[],function($){var i,u,p=s;return i=V(arguments),u=i,p=K(u),E(N(f,"__send__",["==="].concat(g(p))))?s:(a!==s?(E(Q(u.$length(),1))&&(u=[u]),u=e.yieldX(a,g(u))):E(m(u.$length(),1))&&(u=u["$[]"](0)),n.$push(u))},-1),n}),J(c,"$group_by",function d(){var f=d.$$p||s,a,t=this,n=s,r=s;return d.$$p=null,f===s?N(t,"enum_for",["group_by"],function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:t}):(n=new Map,t.$each.$$p=function(){var $=H.$destructure(arguments),i=X(f,$);(E(r=n["$[]"](i))?r:(a=[i,[]],N(n,"[]=",a),a[a.length-1]))["$<<"]($)},t.$each(),n)}),J(c,"$include?",function(f){try{var a=$e("return"),t=this;return N(t,"each",[],function n(r){var $,i;if($=V(arguments),i=$,C(H.$destructure(i),f))a.$throw(!0,n.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),!1}catch(n){if(n===a)return n.$v;throw n}finally{a.is_orphan=!0}}),J(c,"$inject",function d(f,a){var t=d.$$p||s,n=this;d.$$p=null;var r=f;return t!==s&&a===void 0?n.$each.$$p=function(){var $=H.$destructure(arguments);if(r===void 0){r=$;return}$=q(t,[r,$]),r=$}:(a===void 0&&(_("Symbol")["$==="](f)||Y.$raise(_("TypeError"),""+f.$inspect()+" is not a Symbol"),a=f,r=void 0),n.$each.$$p=function(){var $=H.$destructure(arguments);if(r===void 0){r=$;return}r=r.$__send__(a,$)}),n.$each(),r??s},-1),J(c,"$lazy",function(){var f=this;return N(_(_("Enumerator"),"Lazy"),"new",[f,f.$enumerator_size()],function(t,n){var r,$;return t==null&&(t=s),r=V(arguments,1),$=r,N(t,"yield",g($))},-2)}),J(c,"$enumerator_size",function(){var f=this;return E(f["$respond_to?"]("size"))?f.$size():s}),J(c,"$max",function d(f){var a=d.$$p||s,t=this;if(d.$$p=null,f===void 0||f===s){var n,r;return t.$each.$$p=function(){var $=H.$destructure(arguments);if(n===void 0){n=$;return}a!==s?r=q(a,[$,n]):r=$["$<=>"](n),r===s&&Y.$raise(_("ArgumentError"),"comparison failed"),r>0&&(n=$)},t.$each(),n===void 0?s:n}return f=F(f,_("Integer"),"to_int"),N(t,"sort",[],a.$to_proc()).$reverse().$first(f)},-1),J(c,"$max_by",function d(f){var a=d.$$p||s,t=this;if(d.$$p=null,f==null&&(f=s),!E(a))return N(t,"enum_for",["max_by",f],function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:t});if(!E(f["$nil?"]()))return N(t,"sort_by",[],a.$to_proc()).$reverse().$take(f);var n,r;return t.$each.$$p=function(){var $=H.$destructure(arguments),i=X(a,$);if(n===void 0){n=$,r=i;return}i["$<=>"](r)>0&&(n=$,r=i)},t.$each(),n===void 0?s:n},-1),J(c,"$min",function d(f){var a=d.$$p||s,t=this;if(d.$$p=null,f==null&&(f=s),!E(f["$nil?"]()))return a!==s?N(t,"sort",[],function($,i){return $==null&&($=s),i==null&&(i=s),e.yieldX(a,[$,i])}).$take(f):t.$sort().$take(f);var n;return a!==s?t.$each.$$p=function(){var r=H.$destructure(arguments);if(n===void 0){n=r;return}var $=a(r,n);$===s&&Y.$raise(_("ArgumentError"),"comparison failed"),$<0&&(n=r)}:t.$each.$$p=function(){var r=H.$destructure(arguments);if(n===void 0){n=r;return}H.$compare(r,n)<0&&(n=r)},t.$each(),n===void 0?s:n},-1),J(c,"$min_by",function d(f){var a=d.$$p||s,t=this;if(d.$$p=null,f==null&&(f=s),!E(a))return N(t,"enum_for",["min_by",f],function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:t});if(!E(f["$nil?"]()))return N(t,"sort_by",[],a.$to_proc()).$take(f);var n,r;return t.$each.$$p=function(){var $=H.$destructure(arguments),i=X(a,$);if(n===void 0){n=$,r=i;return}i["$<=>"](r)<0&&(n=$,r=i)},t.$each(),n===void 0?s:n},-1),J(c,"$minmax",function d(){var f=d.$$p||s,a=this,t=s;d.$$p=null,f=E(t=f)?t:N(Y,"proc",[],function(u,p){return u==null&&(u=s),p==null&&(p=s),u["$<=>"](p)});var n=s,r=s,$=!0;return a.$each.$$p=function(){var i=H.$destructure(arguments);if($)n=r=i,$=!1;else{var u=f.$call(n,i);u===s?Y.$raise(_("ArgumentError"),"comparison failed"):u>0&&(n=i);var p=f.$call(r,i);p===s?Y.$raise(_("ArgumentError"),"comparison failed"):p<0&&(r=i)}},a.$each(),[n,r]}),J(c,"$minmax_by",function d(){var f=d.$$p||s,a=this;if(d.$$p=null,!E(f))return N(a,"enum_for",["minmax_by"],function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:a});var t=s,n=s,r,$;return a.$each.$$p=function(){var i=H.$destructure(arguments),u=X(f,i);(r===void 0||u["$<=>"](r)<0)&&(t=i,r=u),($===void 0||u["$<=>"]($)>0)&&(n=i,$=u)},a.$each(),[t,n]}),J(c,"$none?",function d(f){try{var a=$e("return"),t=d.$$p||s,n=this;return d.$$p=null,E(f!==void 0)?N(n,"each",[],function r($){var i,u,p=s;if(i=V(arguments),u=i,p=K(u),E(N(f,"public_send",["==="].concat(g(p)))))a.$throw(!1,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):t!==s?N(n,"each",[],function r($){var i,u;if(i=V(arguments),u=i,E(e.yieldX(t,g(u))))a.$throw(!1,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):N(n,"each",[],function r($){var i,u,p=s;if(i=V(arguments),u=i,p=H.$destructure(u),E(p))a.$throw(!1,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),!0}catch(r){if(r===a)return r.$v;throw r}finally{a.is_orphan=!0}},-1),J(c,"$one?",function d(f){try{var a=$e("return"),t=d.$$p||s,n=this,r=s;return d.$$p=null,r=0,E(f!==void 0)?N(n,"each",[],function $(i){var u,p,A=s;if(u=V(arguments),p=u,A=K(p),E(N(f,"public_send",["==="].concat(g(A)))))if(r=G(r,1),E(Q(r,1)))a.$throw(!1,$.$$is_lambda);else return s;else return s},{$$arity:-1,$$ret:a}):t!==s?N(n,"each",[],function $(i){var u,p;if(u=V(arguments),p=u,!E(e.yieldX(t,g(p))))return s;if(r=G(r,1),E(Q(r,1)))a.$throw(!1,$.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):N(n,"each",[],function $(i){var u,p;if(u=V(arguments),p=u,!E(H.$destructure(p)))return s;if(r=G(r,1),E(Q(r,1)))a.$throw(!1,$.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),r["$=="](1)}catch($){if($===a)return $.$v;throw $}finally{a.is_orphan=!0}},-1),J(c,"$partition",function d(){var f=d.$$p||s,a=this;if(d.$$p=null,f===s)return N(a,"enum_for",["partition"],function r(){var $=r.$$s==null?this:r.$$s;return $.$enumerator_size()},{$$s:a});var t=[],n=[];return a.$each.$$p=function(){var r=H.$destructure(arguments),$=X(f,r);E($)?t.push(r):n.push(r)},a.$each(),[t,n]}),J(c,"$reject",function d(){var f=d.$$p||s,a=this;if(d.$$p=null,f===s)return N(a,"enum_for",["reject"],function n(){var r=n.$$s==null?this:n.$$s;return r.$enumerator_size()},{$$s:a});var t=[];return a.$each.$$p=function(){var n=H.$destructure(arguments),r=X(f,n);E(r)||t.push(n)},a.$each(),t}),J(c,"$reverse_each",function d(){var f=d.$$p||s,a=this;if(d.$$p=null,f===s)return N(a,"enum_for",["reverse_each"],function r(){var $=r.$$s==null?this:r.$$s;return $.$enumerator_size()},{$$s:a});var t=[];a.$each.$$p=function(){t.push(arguments)},a.$each();for(var n=t.length-1;n>=0;n--)q(f,t[n]);return t}),J(c,"$slice_before",function d(f){var a=d.$$p||s,t=this;return d.$$p=null,E(f===void 0&&a===s)&&Y.$raise(_("ArgumentError"),"both pattern and block are given"),E(f!==void 0&&a!==s||arguments.length>1)&&Y.$raise(_("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),N(_("Enumerator"),"new",[],function n(r){var $=n.$$s==null?this:n.$$s;r==null&&(r=s);var i=[];a!==s?f===void 0?$.$each.$$p=function(){var u=H.$destructure(arguments),p=X(a,u);E(p)&&i.length>0&&(r["$<<"](i),i=[]),i.push(u)}:$.$each.$$p=function(){var u=H.$destructure(arguments),p=a(u,f.$dup());E(p)&&i.length>0&&(r["$<<"](i),i=[]),i.push(u)}:$.$each.$$p=function(){var u=H.$destructure(arguments),p=f["$==="](u);E(p)&&i.length>0&&(r["$<<"](i),i=[]),i.push(u)},$.$each(),i.length>0&&r["$<<"](i)},{$$s:t})},-1),J(c,"$slice_after",function d(f){var a=d.$$p||s,t=this;return d.$$p=null,E(f===void 0&&a===s)&&Y.$raise(_("ArgumentError"),"both pattern and block are given"),E(f!==void 0&&a!==s||arguments.length>1)&&Y.$raise(_("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),E(f!==void 0)&&(a=N(Y,"proc",[],function(r){return r==null&&(r=s),f["$==="](r)})),N(_("Enumerator"),"new",[],function n(r){var $=n.$$s==null?this:n.$$s;r==null&&(r=s);var i;$.$each.$$p=function(){var u=H.$destructure(arguments),p=X(a,u);i==null&&(i=[]),E(p)?(i.push(u),r.$yield(i),i=null):i.push(u)},$.$each(),i!=null&&r.$yield(i)},{$$s:t})},-1),J(c,"$slice_when",function d(){var f=d.$$p||s,a=this;return d.$$p=null,f===s&&Y.$raise(_("ArgumentError"),"wrong number of arguments (0 for 1)"),N(_("Enumerator"),"new",[],function t(n){var r=t.$$s==null?this:t.$$s;n==null&&(n=s);var $=s,i=s;r.$each_cons.$$p=function(){var u=H.$destructure(arguments),p=u[0],A=u[1],M=q(f,[p,A]);i=A,$===s&&($=[]),E(M)?($.push(p),n.$yield($),$=[]):$.push(p)},r.$each_cons(2),$!==s&&($.push(i),n.$yield($))},{$$s:a})}),J(c,"$sort",function d(){var f=d.$$p||s,a=this,t=s;return d.$$p=null,t=a.$to_a(),f===s&&(f=w(function(r,$){return r==null&&(r=s),$==null&&($=s),r["$<=>"]($)})),N(t,"sort",[],f.$to_proc())}),J(c,"$sort_by",function d(){var f=d.$$p||s,a=this,t=s;return d.$$p=null,f===s?N(a,"enum_for",["sort_by"],function n(){var r=n.$$s==null?this:n.$$s;return r.$enumerator_size()},{$$s:a}):(t=N(a,"map",[],function(){var r=s;return r=H.$destructure(arguments),[e.yield1(f,r),r]}),N(t,"sort!",[],function(r,$){return r==null&&(r=s),$==null&&($=s),r[0]["$<=>"]($[0])}),N(t,"map!",[],function(r){return r==null&&(r=s),r[1]}))}),J(c,"$sum",function d(f){var a=d.$$p||s,t=this,n=s,r=s;return d.$$p=null,f==null&&(f=0),n=f,r=0,N(t,"each",[],function(i){var u,p,A=s,M=s,I=s;return u=V(arguments),p=u,A=a!==s?e.yieldX(a,g(p)):H.$destructure(p),j([_(_("Float"),"INFINITY"),_(_("Float"),"INFINITY")["$-@"]()]["$include?"](A))&&E(A["$respond_to?"]("-"))?(M=k(A,r),I=G(n,M),r=k(k(I,n),M),n=I):n=G(n,A)},-1),n},-1),J(c,"$take",function(f){var a=this;return a.$first(f)}),J(c,"$take_while",function d(){try{var f=$e("return"),a=d.$$p||s,t=this,n=s;return d.$$p=null,E(a)?(n=[],N(t,"each",[],function r($){var i,u,p=s;return i=V(arguments),u=i,p=H.$destructure(u),E(e.yield1(a,p))||f.$throw(n,r.$$is_lambda),n.push(p)},{$$arity:-1,$$ret:f})):t.$enum_for("take_while")}catch(r){if(r===f)return r.$v;throw r}finally{f.is_orphan=!0}}),J(c,"$uniq",function d(){var f=d.$$p||s,a=this,t=s;return d.$$p=null,t=new Map,N(a,"each",[],function(r){var $,i,u,p=s,A=s;return $=V(arguments),i=$,p=H.$destructure(i),A=f!==s?e.yield1(f,p):p,E(t["$key?"](A))?s:(u=[A,p],N(t,"[]=",u),u[u.length-1])},-1),t.$values()}),J(c,"$tally",function(f){var a=this,t=s;return f&&f!==s&&re(f),t=N(N(a,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),E(f)?(N(t,"each",[],function(r,$){var i;return r==null&&(r=s),$==null&&($=s),i=[r,G(f.$fetch(r,0),$)],N(f,"[]=",i),i[i.length-1]}),f):t},-1),J(c,"$to_h",function d(f){var a=d.$$p||s,t,n,r=this;if(d.$$p=null,t=V(arguments),n=t,a!==s)return N(N(r,"map",[],a.$to_proc()),"to_h",g(n));var $=new Map;return r.$each.$$p=function(){var i=H.$destructure(arguments),u=H["$coerce_to?"](i,_("Array"),"to_ary"),p,A;u.$$is_array||Y.$raise(_("TypeError"),"wrong element type "+i.$class()+" (expected array)"),u.length!==2&&Y.$raise(_("ArgumentError"),"element has wrong array length (expected 2, was "+u.$length()+")"),p=u[0],A=u[1],e.hash_put($,p,A)},r.$each.apply(r,n),$},-1),J(c,"$to_set",function d(f,a){var t=d.$$p||s,n,r,$,i=this;return d.$$p=null,n=V(arguments),n.length>0&&(r=n.shift()),r==null&&(r=L("Set")),$=n,N(r,"new",[i].concat(g($)),t.$to_proc())},-1),J(c,"$zip",function d(f){d.$$p;var a,t,n=this;return d.$$p=null,a=V(arguments),t=a,N(n.$to_a(),"zip",g(t))},-1),T(c,"find","detect"),T(c,"filter","find_all"),T(c,"flat_map","collect_concat"),T(c,"map","collect"),T(c,"member?","include?"),T(c,"reduce","inject"),T(c,"select","find_all"),T(c,"to_a","entries")}("::",b)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(e){var E=e.klass,F=e.truthy,X=e.to_a,q=e.eqeq,re=e.Kernel,Z=e.def,N=e.rb_gt,V=e.rb_lt,g=e.rb_le,H=e.rb_ge,$e=e.rb_plus,J=e.rb_minus,Y=e.eqeqeq,ee=e.not,Q=e.rb_times,y=e.rb_divide,S=e.alias,C=[],G=e.nil,k=e.$$$;return e.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(D,m,w){var j=E(D,m,"Enumerator"),T=[j].concat(w);return function(b,s,_){var x=E(b,s,"ArithmeticSequence"),h=[x].concat(_),c=e.$r(h),o=x.$$prototype;o.step_arg2=o.receiver_num=o.step_arg1=o.step=o.range=o.topfx=o.bypfx=o.creation_method=o.skipped_arg=G,e.prop(x.$$prototype,"$$is_arithmetic_seq",!0);var L=1/0;return Z(x,"$initialize",function(d,f,a){var t,n=this,r=G;return a==null&&(a="step"),n.creation_method=a,F(d["$is_a?"](k("Array")))?(t=[].concat(X(d)),n.step_arg1=t[0]==null?G:t[0],n.step_arg2=t[1]==null?G:t[1],n.topfx=t[2]==null?G:t[2],n.bypfx=t[3]==null?G:t[3],n.receiver_num=f,n.step=1,n.range=F(n.step_arg2)?(n.step=n.step_arg2,e.Range.$new(n.receiver_num,n.step_arg1,!1)):F(n.step_arg1)?e.Range.$new(n.receiver_num,n.step_arg1,!1):e.Range.$new(n.receiver_num,G,!1)):(F(f)||(n.skipped_arg=!0),t=[d,F(r=f)?r:1],n.range=t[0],n.step=t[1]),n.object=n,q(n.step,0)&&re.$raise(c("ArgumentError"),"step can't be 0"),F(n.step["$respond_to?"]("to_int"))?G:re.$raise(c("ArgumentError"),"no implicit conversion of "+n.step.$class()+" into Integer")},-2),x.$attr_reader("step"),Z(x,"$begin",function(){var d=this;return d.range.$begin()}),Z(x,"$end",function(){var d=this;return d.range.$end()}),Z(x,"$exclude_end?",function(){var d=this;return d.range["$exclude_end?"]()}),Z(x,"$_lesser_than_end?",function(d){var f=this,a=G,t=G;return a=F(t=f.$end())?t:L,F(N(f.$step(),0))?F(f["$exclude_end?"]())?V(d,a):g(d,a):F(f["$exclude_end?"]())?N(d,a):H(d,a)}),Z(x,"$_greater_than_begin?",function(d){var f=this,a=G,t=G;return a=F(t=f.$begin())?t:L["$-@"](),F(N(f.$step(),0))?N(d,a):V(d,a)}),Z(x,"$first",function(d){var f=this,a=G,t=G,n=G;if(a=F(t=f.$begin())?t:L["$-@"](),!F(d))return F(f["$_lesser_than_end?"](a))?a:G;for(n=[];F(F(t=f["$_lesser_than_end?"](a))?N(d,0):t);)n["$<<"](a),a=$e(a,f.$step()),d=J(d,1);return n},-1),Z(x,"$each",function K(){var d=K.$$p||G,f=this,a=G,t=G;if(K.$$p=null,d===G)return f;for(Y(G,a=f.$begin())&&re.$raise(c("TypeError"),"nil can't be coerced into Integer"),t=F(a=f.$begin())?a:L["$-@"]();F(f["$_lesser_than_end?"](t));)e.yield1(d,t),t=$e(t,f.$step());return f}),Z(x,"$last",function(d){var f=this,a=G,t=G,n=G;if(Y(L,a=f.$end())||Y(L["$-@"](),a)?re.$raise(k("FloatDomainError"),f.$end()):Y(G,a)&&re.$raise(k("RangeError"),"cannot get the last element of endless arithmetic sequence"),t=J(f.$end(),J(f.$end(),f.$begin())["$%"](f.$step())),F(f["$_lesser_than_end?"](t))||(t=J(t,f.$step())),!F(d))return F(f["$_greater_than_begin?"](t))?t:G;for(n=[];F(F(a=f["$_greater_than_begin?"](t))?N(d,0):a);)n["$<<"](t),t=J(t,f.$step()),d=J(d,1);return n.$reverse()},-1),Z(x,"$size",function(){var d=this,f=G,a=G;return f=F(N(d.$step(),0))?1:-1,ee(d["$_lesser_than_end?"](d.$begin()))?0:F([L["$-@"](),L]["$include?"](d.$step()))?1:F([Q(L["$-@"](),f),G]["$include?"](d.$begin()))||F([Q(L,f),G]["$include?"](d.$end()))?L:(a=J(d.$end(),J(d.$end(),d.$begin())["$%"](d.$step())),F(d["$_lesser_than_end?"](a))||(a=J(a,d.$step())),$e(y(J(a,d.$begin()),d.$step()).$abs().$to_i(),1))}),Z(x,"$==",function(d){var f=this,a=G,t=G,n=G,r=G;return F(a=F(t=F(n=F(r=f.$class()["$=="](d.$class()))?f.$begin()["$=="](d.$begin()):r)?f.$end()["$=="](d.$end()):n)?f.$step()["$=="](d.$step()):t)?f["$exclude_end?"]()["$=="](d["$exclude_end?"]()):a}),Z(x,"$hash",function(){var d=this;return[c("ArithmeticSequence"),d.$begin(),d.$end(),d.$step(),d["$exclude_end?"]()].$hash()}),Z(x,"$inspect",function(){var d=this,f=G;return F(d.receiver_num)?(f=F(d.step_arg2)?"("+d.topfx+d.step_arg1.$inspect()+", "+d.bypfx+d.step_arg2.$inspect()+")":F(d.step_arg1)?"("+d.topfx+d.step_arg1.$inspect()+")":G,"("+d.receiver_num.$inspect()+"."+d.creation_method+f+")"):(f=F(d.skipped_arg)?G:"("+d.step+")","(("+d.range.$inspect()+")."+d.creation_method+f+")")}),S(x,"===","=="),S(x,"eql?","==")}(j,j,T)}("::",null,C)};Opal.modules["corelib/enumerator/chain"]=function(e){var E=e.deny_frozen_access,F=e.klass,X=e.slice,q=e.def,re=e.send,Z=e.to_a,N=e.truthy,V=e.rb_plus,g=e.thrower,H=e.nil,$e=e.$$$;return e.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(J,Y){var ee=F(J,Y,"Enumerator");return function(Q,y){var S=F(Q,y,"Chain"),C=S.$$prototype;return C.enums=C.iterated=H,q(S,"$initialize",function(k){var D,m,w=this;return D=X(arguments),m=D,E(w),w.enums=m,w.iterated=[],w.object=w},-1),q(S,"$each",function G(k){var D=G.$$p||H,m,w,j=this;return G.$$p=null,m=X(arguments),w=m,D===H?re(j,"to_enum",["each"].concat(Z(w)),function T(){var b=T.$$s==null?this:T.$$s;return b.$size()},{$$s:j}):(re(j.enums,"each",[],function T(b){var s=T.$$s==null?this:T.$$s;return s.iterated==null&&(s.iterated=H),b==null&&(b=H),s.iterated["$<<"](b),re(b,"each",Z(w),D.$to_proc())},{$$s:j}),j)},-1),q(S,"$size",function(k){try{var D=g("return"),m,w,j=this,T=H;return m=X(arguments),w=m,T=0,re(j.enums,"each",[],function b(s){var _=H;return s==null&&(s=H),_=re(s,"size",Z(w)),N([H,$e($e("Float"),"INFINITY")]["$include?"](_))&&D.$throw(_,b.$$is_lambda),T=V(T,_)},{$$ret:D}),T}catch(b){if(b===D)return b.$v;throw b}finally{D.is_orphan=!0}},-1),q(S,"$rewind",function(){var k=this;return re(k.iterated,"reverse_each",[],function(m){return m==null&&(m=H),N(m["$respond_to?"]("rewind"))?m.$rewind():H}),k.iterated=[],k}),q(S,"$inspect",function(){var k=this;return"#<Enumerator::Chain: "+k.enums.$inspect()+">"})}(ee,ee)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(e){var E=e.deny_frozen_access,F=e.klass,X=e.truthy,q=e.Kernel,re=e.def,Z=e.slice,N=e.send,V=[],g=e.nil,H=e.$$$;return e.add_stubs("include,raise,new,to_proc"),function($e,J,Y){var ee=F($e,J,"Enumerator"),Q=[ee].concat(Y);return function(y,S,C){var G=F(y,S,"Generator"),k=[G].concat(C),D=e.$r(k),m=G.$$prototype;return m.block=g,G.$include(H("Enumerable")),re(G,"$initialize",function w(){var j=w.$$p||g,T=this;return w.$$p=null,E(T),X(j)||q.$raise(H("LocalJumpError"),"no block given"),T.block=j}),re(G,"$each",function w(j){var T=w.$$p||g,b,s,_=this,x=g;w.$$p=null,b=Z(arguments),s=b,x=N(D("Yielder"),"new",[],T.$to_proc());try{s.unshift(x),e.yieldX(_.block,s)}catch(h){if(h&&h.$thrower_type=="breaker")return h.$v;throw h}return _},-1)}(Q[0],null,Q)}(V[0],null,V)};Opal.modules["corelib/enumerator/lazy"]=function(e){var E=e.truthy,F=e.coerce_to,X=e.yield1,q=e.yieldX,re=e.deny_frozen_access,Z=e.klass,N=e.slice,V=e.send2,g=e.find_super,H=e.to_a,$e=e.defs,J=e.Kernel,Y=e.send,ee=e.def,Q=e.return_self,y=e.Opal,S=e.rb_lt,C=e.eqeqeq,G=e.rb_plus,k=e.alias,D=[],m=e.nil,w=e.$$$;return e.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(j,T,b){var s=Z(j,T,"Enumerator"),_=[s].concat(b);return function(x,h,c){var o=Z(x,h,"Lazy"),L=[o].concat(c),K=e.$r(L),d=o.$$prototype;return d.enumerator=m,Z(o,w("Exception"),"StopLazyError"),$e(o,"$for",function f(a,t){var n,r,$=f.$$p||m,i=this,u=m;return f.$$p=null,n=N(arguments,1),r=n,u=V(i,g(i,"for",f,!1,!0),"for",[a].concat(H(r)),$),u.enumerator=a,u},-2),ee(o,"$initialize",function f(a,t){var n=f.$$p||m,r=this;return f.$$p=null,t==null&&(t=m),re(r),n===m&&J.$raise(w("ArgumentError"),"tried to call lazy new without a block"),r.enumerator=a,V(r,g(r,"initialize",f,!1,!0),"initialize",[t],function(i,u){var p,A;i==null&&(i=m),p=N(arguments,1),A=p;try{return Y(a,"each",H(A),function(I){var U,O;U=N(arguments),O=U,O.unshift(i),q(n,O)},-1)}catch(M){if(e.rescue(M,[K("StopLazyError")]))try{return m}finally{e.pop_exception(M)}else throw M}},-2)},-2),ee(o,"$lazy",Q),ee(o,"$collect",function f(){var a=f.$$p||m,t=this;return f.$$p=null,E(a)||J.$raise(w("ArgumentError"),"tried to call lazy map without a block"),Y(K("Lazy"),"new",[t,t.$enumerator_size()],function(r,$){var i,u;r==null&&(r=m),i=N(arguments,1),u=i;var p=q(a,u);r.$yield(p)},-2)}),ee(o,"$collect_concat",function f(){var a=f.$$p||m,t=this;return f.$$p=null,E(a)||J.$raise(w("ArgumentError"),"tried to call lazy map without a block"),Y(K("Lazy"),"new",[t,m],function(r,$){var i,u;r==null&&(r=m),i=N(arguments,1),u=i;var p=q(a,u);if(p["$respond_to?"]("force")&&p["$respond_to?"]("each"))Y(p,"each",[],function(I){return I==null&&(I=m),r.$yield(I)});else{var A=y.$try_convert(p,w("Array"),"to_ary");A===m?r.$yield(p):Y(p,"each",[],function(I){return I==null&&(I=m),r.$yield(I)})}},-2)}),ee(o,"$drop",function(a){var t=this,n=m,r=m,$=m;return a=F(a,w("Integer"),"to_int"),E(S(a,0))&&J.$raise(w("ArgumentError"),"attempt to drop negative size"),n=t.$enumerator_size(),r=C(w("Integer"),n)&&E(S(a,n))?a:n,$=0,Y(K("Lazy"),"new",[t,r],function(u,p){var A,M;return u==null&&(u=m),A=N(arguments,1),M=A,E(S($,a))?$=G($,1):Y(u,"yield",H(M))},-2)}),ee(o,"$drop_while",function f(){var a=f.$$p||m,t=this,n=m;return f.$$p=null,E(a)||J.$raise(w("ArgumentError"),"tried to call lazy drop_while without a block"),n=!0,Y(K("Lazy"),"new",[t,m],function($,i){var u,p;if($==null&&($=m),u=N(arguments,1),p=u,E(n)){var A=q(a,p);E(A)||(n=!1,Y($,"yield",H(p)))}else return Y($,"yield",H(p))},-2)}),ee(o,"$enum_for",function f(a,t){var n=f.$$p||m,r,$,i,u=this;return f.$$p=null,r=N(arguments),r.length>0&&($=r.shift()),$==null&&($="each"),i=r,Y(u.$class(),"for",[u,$].concat(H(i)),n.$to_proc())},-1),ee(o,"$find_all",function f(){var a=f.$$p||m,t=this;return f.$$p=null,E(a)||J.$raise(w("ArgumentError"),"tried to call lazy select without a block"),Y(K("Lazy"),"new",[t,m],function(r,$){var i,u;r==null&&(r=m),i=N(arguments,1),u=i;var p=q(a,u);E(p)&&Y(r,"yield",H(u))},-2)}),ee(o,"$grep",function f(a){var t=f.$$p||m,n=this;return f.$$p=null,E(t)?Y(K("Lazy"),"new",[n,m],function($,i){var u,p;$==null&&($=m),u=N(arguments,1),p=u;var A=y.$destructure(p),M=a["$==="](A);E(M)&&(M=X(t,A),$.$yield(X(t,A)))},-2):Y(K("Lazy"),"new",[n,m],function($,i){var u,p;$==null&&($=m),u=N(arguments,1),p=u;var A=y.$destructure(p),M=a["$==="](A);E(M)&&$.$yield(A)},-2)}),ee(o,"$reject",function f(){var a=f.$$p||m,t=this;return f.$$p=null,E(a)||J.$raise(w("ArgumentError"),"tried to call lazy reject without a block"),Y(K("Lazy"),"new",[t,m],function(r,$){var i,u;r==null&&(r=m),i=N(arguments,1),u=i;var p=q(a,u);E(p)||Y(r,"yield",H(u))},-2)}),ee(o,"$take",function(a){var t=this,n=m,r=m,$=m;return a=F(a,w("Integer"),"to_int"),E(S(a,0))&&J.$raise(w("ArgumentError"),"attempt to take negative size"),n=t.$enumerator_size(),r=C(w("Integer"),n)&&E(S(a,n))?a:n,$=0,Y(K("Lazy"),"new",[t,r],function(u,p){var A,M;return u==null&&(u=m),A=N(arguments,1),M=A,E(S($,a))?(Y(u,"yield",H(M)),$=G($,1)):J.$raise(K("StopLazyError"))},-2)}),ee(o,"$take_while",function f(){var a=f.$$p||m,t=this;return f.$$p=null,E(a)||J.$raise(w("ArgumentError"),"tried to call lazy take_while without a block"),Y(K("Lazy"),"new",[t,m],function(r,$){var i,u;r==null&&(r=m),i=N(arguments,1),u=i;var p=q(a,u);E(p)?Y(r,"yield",H(u)):J.$raise(K("StopLazyError"))},-2)}),ee(o,"$inspect",function(){var a=this;return"#<"+a.$class()+": "+a.enumerator.$inspect()+">"}),k(o,"force","to_a"),k(o,"filter","find_all"),k(o,"flat_map","collect_concat"),k(o,"map","collect"),k(o,"select","find_all"),k(o,"to_enum","enum_for")}(s,s,_)}("::",null,D)};Opal.modules["corelib/enumerator/yielder"]=function(e){var E=e.klass,F=e.def,X=e.slice,q=e.send,re=e.to_a,Z=[],N=e.nil;return e.add_stubs("yield,proc"),function(V,g,H){var $e=E(V,g,"Enumerator"),J=[$e].concat(H);return function(Y,ee){var Q=E(Y,ee,"Yielder"),y=Q.$$prototype;return y.block=N,F(Q,"$initialize",function S(){var C=S.$$p||N,G=this;return S.$$p=null,G.block=C,G}),F(Q,"$yield",function(C){var G,k,D=this;G=X(arguments),k=G;var m=e.yieldX(D.block,k);if(m&&m.$thrower_type=="break")throw m;return m},-1),F(Q,"$<<",function(C){var G=this;return G.$yield(C),G}),F(Q,"$to_proc",function(){var C=this;return q(C,"proc",[],function G(k){var D,m,w=G.$$s==null?this:G.$$s;return D=X(arguments),m=D,q(w,"yield",re(m))},{$$arity:-1,$$s:C})})}(J[0],null)}(Z[0],null,Z)};Opal.modules["corelib/enumerator"]=function(e){var E=e.slice,F=e.coerce_to,X=e.deny_frozen_access,q=e.klass,re=e.defs,Z=e.truthy,N=e.send,V=e.not,g=e.def,H=e.rb_plus,$e=e.to_a,J=e.Opal,Y=e.send2,ee=e.find_super,Q=e.rb_ge,y=e.Kernel,S=e.rb_le,C=e.alias,G=e.top,k=[],D=e.nil,m=e.$$$;return e.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),G.$require("corelib/enumerable"),function(w,j,T){var b=q(w,j,"Enumerator"),s=[b].concat(T),_=e.$r(s),x=b.$$prototype;return x.size=x.args=x.object=x.method=x.values=x.cursor=D,b.$include(m("Enumerable")),b.$$prototype.$$is_enumerator=!0,re(b,"$for",function h(c,o,L){var K=h.$$p||D,d,f,a,t=this;h.$$p=null,d=E(arguments,1),d.length>0&&(f=d.shift()),f==null&&(f="each"),a=d;var n=t.$allocate();return n.object=c,n.size=K,n.method=f,n.args=a,n.cursor=0,n},-2),g(b,"$initialize",function h(c){var o=h.$$p||D,L=this;return h.$$p=null,E(arguments),X(L),L.cursor=0,Z(o)?(L.object=N(_("Generator"),"new",[],o.$to_proc()),L.method="each",L.args=[],L.size=arguments[0]||D,Z(L.size)&&V(L.size["$respond_to?"]("call"))?L.size=F(L.size,m("Integer"),"to_int"):D):(L.object=arguments[0],L.method=arguments[1]||"each",L.args=E(arguments,2),L.size=D)},-1),g(b,"$each",function h(c){var o=h.$$p||D,L,K,d=this;return h.$$p=null,L=E(arguments),K=L,Z(o["$nil?"]())&&Z(K["$empty?"]())?d:(K=H(d.args,K),Z(o["$nil?"]())?N(d.$class(),"new",[d.object,d.method].concat($e(K))):N(d.object,"__send__",[d.method].concat($e(K)),o.$to_proc()))},-1),g(b,"$size",function(){var c=this;return Z(c.size["$respond_to?"]("call"))?N(c.size,"call",$e(c.args)):c.size}),g(b,"$with_index",function h(c){var o=h.$$p||D,L=this;if(h.$$p=null,c==null&&(c=0),c=Z(c)?F(c,m("Integer"),"to_int"):0,!Z(o))return N(L,"enum_for",["with_index",c],function d(){var f=d.$$s==null?this:d.$$s;return f.$size()},{$$s:L});var K=c;return L.$each.$$p=function(){var d=J.$destructure(arguments),f=o(d,K);return K++,f},L.$each()},-1),g(b,"$each_with_index",function h(){var c=h.$$p||D,o=this;return h.$$p=null,c===D?N(o,"enum_for",["each_with_index"],function L(){var K=L.$$s==null?this:L.$$s;return K.$size()},{$$s:o}):(Y(o,ee(o,"each_with_index",h,!1,!0),"each_with_index",[],c),o.object)}),g(b,"$rewind",function(){var c=this;return c.cursor=0,c}),g(b,"$peek_values",function(){var c=this,o=D;return c.values=Z(o=c.values)?o:N(c,"map",[],function(K){var d,f;return d=E(arguments),f=d,f},-1),Z(Q(c.cursor,c.values.$length()))&&y.$raise(m("StopIteration"),"iteration reached an end"),c.values["$[]"](c.cursor)}),g(b,"$peek",function(){var c=this,o=D;return o=c.$peek_values(),Z(S(o.$length(),1))?o["$[]"](0):o}),g(b,"$next_values",function(){var c=this,o=D;return o=c.$peek_values(),c.cursor=H(c.cursor,1),o}),g(b,"$next",function(){var c=this,o=D;return o=c.$next_values(),Z(S(o.$length(),1))?o["$[]"](0):o}),g(b,"$feed",function(c){var o=this;return o.$raise(_("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),g(b,"$+",function(c){var o=this;return m(m("Enumerator"),"Chain").$new(o,c)}),g(b,"$inspect",function(){var c=this,o=D;return o="#<"+c.$class()+": "+c.object.$inspect()+":"+c.method,Z(c.args["$any?"]())&&(o=H(o,"("+c.args.$inspect()["$[]"](m("Range").$new(1,-2))+")")),H(o,">")}),C(b,"with_object","each_with_object"),b.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),b.$autoload("Chain","corelib/enumerator/chain"),b.$autoload("Generator","corelib/enumerator/generator"),b.$autoload("Lazy","corelib/enumerator/lazy"),b.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,k)};Opal.modules["corelib/numeric"]=function(e){var E=e.klass,F=e.truthy,X=e.Kernel,q=e.def,re=e.to_ary,Z=e.return_self,N=e.rb_minus,V=e.rb_times,g=e.rb_lt,H=e.eqeq,$e=e.rb_divide,J=e.return_val,Y=e.Opal,ee=e.slice,Q=e.extract_kwargs,y=e.ensure_kwargs,S=e.hash_get,C=e.not,G=e.send,k=e.rb_ge,D=e.rb_le,m=e.rb_plus,w=e.rb_gt,j=e.alias,T=e.top,b=e.nil,s=e.$$$;return e.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),T.$require("corelib/comparable"),function(_,x){var h=E(_,x,"Numeric");return h.$include(s("Comparable")),q(h,"$coerce",function(o){var L=this;return F(o["$instance_of?"](L.$class()))?[o,L]:[X.$Float(o),X.$Float(L)]}),q(h,"$__coerced__",function(o,L){var K,d,f=this,a=b,t=b;if(F(L["$respond_to?"]("coerce")))return d=L.$coerce(f),K=re(d),a=K[0]==null?b:K[0],t=K[1]==null?b:K[1],a.$__send__(o,t);switch(o.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return X.$raise(s("TypeError"),""+L.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return X.$raise(s("ArgumentError"),"comparison of "+f.$class()+" with "+L.$class()+" failed");default:return b}}),q(h,"$<=>",function(o){var L=this;return F(L["$equal?"](o))?0:b}),q(h,"$+@",Z),q(h,"$-@",function(){var o=this;return N(0,o)}),q(h,"$%",function(o){var L=this;return N(L,V(o,L.$div(o)))}),q(h,"$abs",function(){var o=this;return F(g(o,0))?o["$-@"]():o}),q(h,"$abs2",function(){var o=this;return V(o,o)}),q(h,"$angle",function(){var o=this;return F(g(o,0))?s(s("Math"),"PI"):0}),q(h,"$ceil",function(o){var L=this;return o==null&&(o=0),L.$to_f().$ceil(o)},-1),q(h,"$conj",Z),q(h,"$denominator",function(){var o=this;return o.$to_r().$denominator()}),q(h,"$div",function(o){var L=this;return H(o,0)&&X.$raise(s("ZeroDivisionError"),"divided by o"),$e(L,o).$floor()}),q(h,"$divmod",function(o){var L=this;return[L.$div(o),L["$%"](o)]}),q(h,"$fdiv",function(o){var L=this;return $e(L.$to_f(),o)}),q(h,"$floor",function(o){var L=this;return o==null&&(o=0),L.$to_f().$floor(o)},-1),q(h,"$i",function(){var o=this;return X.$Complex(0,o)}),q(h,"$imag",J(0)),q(h,"$integer?",J(!1)),q(h,"$nonzero?",function(){var o=this;return F(o["$zero?"]())?b:o}),q(h,"$numerator",function(){var o=this;return o.$to_r().$numerator()}),q(h,"$polar",function(){var o=this;return[o.$abs(),o.$arg()]}),q(h,"$quo",function(o){var L=this;return $e(Y["$coerce_to!"](L,s("Rational"),"to_r"),o)}),q(h,"$real",Z),q(h,"$real?",J(!0)),q(h,"$rect",function(){var o=this;return[o,0]}),q(h,"$round",function(o){var L=this;return L.$to_f().$round(o)},-1),q(h,"$step",function c(o,L,K){var d=c.$$p||b,f,a,t,n,r,$,i=this,u=b;c.$$p=null,f=ee(arguments),a=Q(f),a=y(a),f.length>0&&(t=f.shift()),f.length>0&&(n=f.shift()),r=S(a,"to"),$=S(a,"by"),t!==void 0&&r!==void 0&&X.$raise(s("ArgumentError"),"to is given twice"),n!==void 0&&$!==void 0&&X.$raise(s("ArgumentError"),"step is given twice"),r!==void 0&&(t=r),$!==void 0&&(n=$),t===void 0&&(t=b);function p(){n===b&&X.$raise(s("TypeError"),"step must be numeric"),n!=null&&n["$=="](0)&&X.$raise(s("ArgumentError"),"step can't be 0"),(n===b||n==null)&&(n=1);var ge=n["$<=>"](0);ge===b&&X.$raise(s("ArgumentError"),"0 can't be coerced into "+n.$class()),(t===b||t==null)&&(t=ge>0?s(s("Float"),"INFINITY"):s(s("Float"),"INFINITY")["$-@"]()),Y.$compare(i,t)}function A(){if(n>0&&i>t||n<0&&i<t)return 0;if(n===1/0||n===-1/0)return 1;var ge=Math.abs,ve=Math.floor,me=(ge(i)+ge(t)+ge(t-i))/ge(n)*s(s("Float"),"EPSILON");return me===1/0||me===-1/0?0:(me>.5&&(me=.5),ve((t-i)/n+me)+1)}function M(){if(p(),n===0)return 1/0;if(n%1!==0)return A();if(n>0&&i>t||n<0&&i<t)return 0;var ge=Math.ceil,ve=Math.abs,me=ve(i-t)+1,be=ve(n);return ge(me/be)}if(d===b)return(C(t)||F(t["$is_a?"](s("Numeric"))))&&(C(n)||F(n["$is_a?"](s("Numeric"))))?s(s("Enumerator"),"ArithmeticSequence").$new([t,n,F(r)?"to: ":b,F($)?"by: ":b],i):G(i,"enum_for",["step",t,n],M.$to_proc());p();var I=n["$negative?"](),U=n["$=="](0)||t===1/0&&!I||t===-1/0&&I;if(i.$$is_number&&n.$$is_number&&t.$$is_number)if(i%1===0&&(U||t%1===0)&&n%1===0){var O=i;if(U)for(;;O+=n)d(O);else if(I)for(;O>=t;O+=n)d(O);else for(;O<=t;O+=n)d(O);return i}else{var ae=i.$to_f().valueOf();n=n.$to_f().valueOf(),t=t.$to_f().valueOf();var le=A();if(!isFinite(n))le!==0&&d(ae);else if(n===0)for(;;)d(ae);else for(var _e=0;_e<le;_e++){var de=_e*n+i;(n>=0?t<de:t>de)&&(de=t),d(de)}return i}for(u=i;F(I?k(u,t):D(u,t));)e.yield1(d,u),u=m(u,n)},-1),q(h,"$to_c",function(){var o=this;return X.$Complex(o,0)}),q(h,"$to_int",function(){var o=this;return o.$to_i()}),q(h,"$truncate",function(o){var L=this;return o==null&&(o=0),L.$to_f().$truncate(o)},-1),q(h,"$zero?",function(){var o=this;return o["$=="](0)}),q(h,"$positive?",function(){var o=this;return w(o,0)}),q(h,"$negative?",function(){var o=this;return g(o,0)}),q(h,"$dup",Z),q(h,"$clone",function(o){var L=this;return o=y(o),S(o,"freeze"),L},-1),q(h,"$finite?",J(!0)),q(h,"$infinite?",J(b)),j(h,"arg","angle"),j(h,"conjugate","conj"),j(h,"imaginary","imag"),j(h,"magnitude","abs"),j(h,"modulo","%"),j(h,"phase","arg"),j(h,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(e){var E=e.truthy,F=e.falsy,X=e.yield1,q=e.hash_get,re=e.hash_put,Z=e.hash_delete,N=e.coerce_to,V=e.respond_to,g=e.deny_frozen_access,H=e.freeze,$e=e.opal32_init,J=e.opal32_add,Y=e.klass,ee=e.slice,Q=e.defs,y=e.Kernel,S=e.def,C=e.Opal,G=e.eqeqeq,k=e.send2,D=e.find_super,m=e.send,w=e.rb_gt,j=e.rb_times,T=e.eqeq,b=e.rb_minus,s=e.to_a,_=e.to_ary,x=e.gvars,h=e.rb_ge,c=e.assign_ivar,o=e.rb_lt,L=e.return_self,K=e.neqeq,d=e.alias,f=e.top,a=[],t=e.nil,n=e.$$$;return e.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),f.$require("corelib/enumerable"),f.$require("corelib/numeric"),function(r,$,i){var u=Y(r,$,"Array"),p=[u].concat(i),A=e.$r(p);u.$include(n("Enumerable")),e.prop(u.$$prototype,"$$is_array",!0);function M(ie){for(var z=ie[0],R=1,B=ie.length;R<B;R++)ie[R-1]=ie[R];return ie.pop(),z}function I(ie,z){return z.$$name===e.Array?ie:z.$allocate().$replace(ie.$to_a())}function U(ie,z,R){for(var B,W=null,te=new Array(ie.length),se=0,oe=0;se<ie.length;se++){if(!W)try{B=X(R,ie[se])}catch(fe){W=fe}(W||z(B))&&(te[oe]=ie[se],oe+=1)}if(oe!==se&&(ie.splice.apply(ie,[0,te.length].concat(te)),ie.splice(oe,te.length)),W)throw W}function O(ie){return ie.$$is_array||(ie=N(ie,n("Array"),"to_ary")),ie.$to_a()}function ae(ie,z){var R=z.length;if(R>6&&R<32767)ie.push.apply(ie,z);else for(var B=0;B<R;B++)ie.push(z[B])}Q(u,"$[]",function(z){var R,B,W=this;return R=ee(arguments),B=R,I(B,W)},-1),S(u,"$initialize",function ie(z,R){var B=ie.$$p||t,W=this;if(ie.$$p=null,z==null&&(z=t),R==null&&(R=t),g(W),R!==t&&B!==t&&y.$warn("warning: block supersedes default value argument"),z>n(n("Integer"),"MAX")&&y.$raise(n("ArgumentError"),"array size too big"),arguments.length>2&&y.$raise(n("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return W.length>0&&W.splice(0,W.length),W;if(arguments.length===1){if(z.$$is_array)return W.$replace(z.$to_a()),W;if(z["$respond_to?"]("to_ary"))return W.$replace(z.$to_ary()),W}z=N(z,n("Integer"),"to_int"),z<0&&y.$raise(n("ArgumentError"),"negative array size"),W.splice(0,W.length);var te,se;if(B===t)for(te=0;te<z;te++)W.push(R);else for(te=0,se;te<z;te++)se=B(te),W[te]=se;return W},-1),Q(u,"$try_convert",function(z){return C["$coerce_to?"](z,n("Array"),"to_ary")}),S(u,"$&",function(z){var R=this;if(z=O(z),R.length===0||z.length===0)return[];var B=[],W=new Map,te,se,oe;for(te=0,se=z.length;te<se;te++)re(W,z[te],!0);for(te=0,se=R.length;te<se;te++)oe=R[te],Z(W,oe)!==void 0&&B.push(oe);return B}),S(u,"$|",function(z){var R=this;z=O(z);var B=new Map,W,te;for(W=0,te=R.length;W<te;W++)re(B,R[W],!0);for(W=0,te=z.length;W<te;W++)re(B,z[W],!0);return B.$keys()}),S(u,"$*",function(z){var R=this;if(E(z["$respond_to?"]("to_str")))return R.$join(z.$to_str());z=N(z,n("Integer"),"to_int"),E(z<0)&&y.$raise(n("ArgumentError"),"negative argument");for(var B=[],W=R.$to_a(),te=0;te<z;te++)B=B.concat(W);return B}),S(u,"$+",function(z){var R=this;return z=O(z),R.concat(z)}),S(u,"$-",function(z){var R=this;if(z=O(z),E(R.length===0))return[];if(E(z.length===0))return R.slice();var B=[],W=new Map,te,se,oe;for(te=0,se=z.length;te<se;te++)re(W,z[te],!0);for(te=0,se=R.length;te<se;te++)oe=R[te],q(W,oe)===void 0&&B.push(oe);return B}),S(u,"$<<",function(z){var R=this;return g(R),R.push(z),R}),S(u,"$<=>",function(z){var R=this;if(G(n("Array"),z))z=z.$to_a();else if(E(z["$respond_to?"]("to_ary")))z=z.$to_ary().$to_a();else return t;if(R===z)return 0;for(var B=Math.min(R.length,z.length),W=0;W<B;W++){var te=R[W]["$<=>"](z[W]);if(te!==0)return te}return R.length["$<=>"](z.length)}),S(u,"$==",function(z){var R=this,B={};function W(te,se){var oe,fe,l,v;if(te===se)return!0;if(!se.$$is_array)return V(se,"$to_ary")?se["$=="](te):!1;if(te.$$constructor!==Array&&(te=te.$to_a()),se.$$constructor!==Array&&(se=se.$to_a()),te.length!==se.length)return!1;for(B[te.$object_id()]=!0,oe=0,fe=te.length;oe<fe;oe++)if(l=te[oe],v=se[oe],l.$$is_array){if(v.$$is_array&&v.length!==l.length||!B.hasOwnProperty(l.$object_id())&&!W(l,v))return!1}else if(!l["$=="](v))return!1;return!0}return W(R,z)});function le(ie,z){var R=ie.length,B,W,te,se;return B=z.excl,W=z.begin===t?0:N(z.begin,e.Integer,"to_int"),te=z.end===t?-1:N(z.end,e.Integer,"to_int"),W<0&&(W+=R,W<0)||(z.excl_rev&&z.begin!==t&&(W+=1),W>R)?t:te<0&&(te+=R,te<0)?[]:((!B||z.end===t)&&(te+=1),se=ie.slice(W,te),se)}function _e(ie,z){var R,B=[],W=0,te;for(z.step<0?(te={begin:z.range.end,end:z.range.begin,excl:!1,excl_rev:z.range.excl},R=le(ie,te).$reverse()):R=le(ie,z.range);W<R.length;)B.push(R[W]),W+=Math.abs(z.step);return B}function de(ie,z,R){var B=ie.length,W;return z=N(z,e.Integer,"to_int"),z<0&&(z+=B,z<0)?t:R===void 0?z>=B||z<0?t:ie[z]:(R=N(R,e.Integer,"to_int"),R<0||z>B||z<0?t:(W=ie.slice(z,z+R),W))}S(u,"$[]",function(z,R){var B=this;return z.$$is_range?le(B,z):z.$$is_arithmetic_seq?_e(B,z):de(B,z,R)},-2),S(u,"$[]=",function(z,R,B){var W=this,te=t,se=t;g(W),te=t;var oe,fe=W.length;if(z.$$is_range){R.$$is_array?te=R.$to_a():R["$respond_to?"]("to_ary")?te=R.$to_ary().$to_a():te=[R];var l=z.excl,v=z.begin===t?0:N(z.begin,e.Integer,"to_int"),P=z.end===t?-1:N(z.end,e.Integer,"to_int");if(v<0&&(v+=fe,v<0&&y.$raise(n("RangeError"),""+z.$inspect()+" out of range")),P<0&&(P+=fe),(!l||z.end===t)&&(P+=1),v>fe)for(oe=fe;oe<v;oe++)W[oe]=t;return P<0?W.splice.apply(W,[v,0].concat(te)):W.splice.apply(W,[v,P-v].concat(te)),R}else{B===void 0?se=1:(se=R,R=B,R.$$is_array?te=R.$to_a():R["$respond_to?"]("to_ary")?te=R.$to_ary().$to_a():te=[R]);var ne;if(z=N(z,n("Integer"),"to_int"),se=N(se,n("Integer"),"to_int"),z<0&&(ne=z,z+=fe,z<0&&y.$raise(n("IndexError"),"index "+ne+" too small for array; minimum "+-W.length)),se<0&&y.$raise(n("IndexError"),"negative length ("+se+")"),z>fe)for(oe=fe;oe<z;oe++)W[oe]=t;return B===void 0?W[z]=R:W.splice.apply(W,[z,se].concat(te)),R}},-3),S(u,"$any?",function ie(z){var R=ie.$$p||t,B=this;return ie.$$p=null,B.length===0?!1:k(B,D(B,"any?",ie,!1,!0),"any?",[z],R)},-1),S(u,"$assoc",function(z){for(var R=this,B=0,W=R.length,te;B<W;B++)if(te=R[B],te.length&&te[0]["$=="](z))return te;return t}),S(u,"$at",function(z){var R=this;return z=N(z,n("Integer"),"to_int"),z<0&&(z+=R.length),z<0||z>=R.length?t:R[z]}),S(u,"$bsearch_index",function ie(){var z=ie.$$p||t,R=this;if(ie.$$p=null,z===t)return R.$enum_for("bsearch_index");for(var B=0,W=R.length,te,se,oe,fe=!1,l=t;B<W;){if(te=B+Math.floor((W-B)/2),se=R[te],oe=X(z,se),oe===!0)l=te,fe=!0;else if(oe===!1||oe===t)fe=!1;else if(oe.$$is_number){if(oe===0)return te;fe=oe<0}else y.$raise(n("TypeError"),"wrong argument type "+oe.$class()+" (must be numeric, true, false or nil)");fe?W=te:B=te+1}return l}),S(u,"$bsearch",function ie(){var z=ie.$$p||t,R=this,B=t;return ie.$$p=null,z===t?R.$enum_for("bsearch"):(B=m(R,"bsearch_index",[],z.$to_proc()),B!=null&&B.$$is_number?R[B]:B)}),S(u,"$cycle",function ie(z){var R=ie.$$p||t,B=this;if(ie.$$p=null,z==null&&(z=t),R===t)return m(B,"enum_for",["cycle",z],function se(){var oe=se.$$s==null?this:se.$$s;return E(z["$nil?"]())?n(n("Float"),"INFINITY"):(z=C["$coerce_to!"](z,n("Integer"),"to_int"),E(w(z,0))?j(oe.$enumerator_size(),z):0)},{$$s:B});if(E(B["$empty?"]())||T(z,0))return t;var W,te;if(z===t)for(;;)for(W=0,te=B.length;W<te;W++)X(R,B[W]);else{if(z=C["$coerce_to!"](z,n("Integer"),"to_int"),z<=0)return B;for(;z>0;){for(W=0,te=B.length;W<te;W++)X(R,B[W]);z--}}return B},-1),S(u,"$clear",function(){var z=this;return g(z),z.splice(0,z.length),z}),S(u,"$count",function ie(z){var R=ie.$$p||t,B=this;return ie.$$p=null,E(z!==void 0)||E(R)?k(B,D(B,"count",ie,!1,!0),"count",[z],R):B.$size()},-1),S(u,"$initialize_copy",function(z){var R=this;return R.$replace(z)}),S(u,"$collect",function ie(){var z=ie.$$p||t,R=this;if(ie.$$p=null,z===t)return m(R,"enum_for",["collect"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:R});for(var B=[],W=0;W<R.length;W++){var te=X(z,R[W]);B[W]=te}return B}),S(u,"$collect!",function ie(){var z=ie.$$p||t,R=this;if(ie.$$p=null,z===t)return m(R,"enum_for",["collect!"],function te(){var se=te.$$s==null?this:te.$$s;return se.$size()},{$$s:R});g(R);for(var B=0;B<R.length;B++){var W=X(z,R[B]);R[B]=W}return R});function ge(ie,z){return ie===z||z===0?1:z>0&&ie>z?ge(ie-1,z-1)+ge(ie-1,z):0}S(u,"$combination",function ie(z){var R=ie.$$p||t,B=this,W=t;if(ie.$$p=null,W=C["$coerce_to!"](z,n("Integer"),"to_int"),R===t)return m(B,"enum_for",["combination",W],function ne(){var ue=ne.$$s==null?this:ne.$$s;return ge(ue.length,W)},{$$s:B});var te,se,oe,fe,l,v,P;if(W===0)e.yield1(R,[]);else if(W===1)for(te=0,se=B.length;te<se;te++)e.yield1(R,[B[te]]);else if(W===B.length)e.yield1(R,B.slice());else if(W>=0&&W<B.length){for(oe=[],te=0;te<=W+1;te++)oe.push(0);for(fe=[],l=0,v=!1,oe[0]=-1;!v;){for(fe[l]=B[oe[l+1]];l<W-1;)l++,P=oe[l+1]=oe[l]+1,fe[l]=B[P];e.yield1(R,fe.slice()),l++;do v=l===0,oe[l]++,l--;while(oe[l+1]+W===B.length+l+1)}}return B}),S(u,"$repeated_combination",function ie(z){var R=ie.$$p||t,B=this,W=t;if(ie.$$p=null,W=C["$coerce_to!"](z,n("Integer"),"to_int"),R===t)return m(B,"enum_for",["repeated_combination",W],function se(){var oe=se.$$s==null?this:se.$$s;return ge(oe.length+W-1,W)},{$$s:B});function te(se,oe,fe,l){if(fe.length==se){var v=fe.slice();e.yield1(R,v);return}for(var P=oe;P<l.length;P++)fe.push(l[P]),te(se,P,fe,l),fe.pop()}return W>=0&&te(W,0,[],B),B}),S(u,"$compact",function(){for(var z=this,R=[],B=0,W=z.length,te;B<W;B++)(te=z[B])!==t&&R.push(te);return R}),S(u,"$compact!",function(){var z=this;g(z);for(var R=z.length,B=0,W=z.length;B<W;B++)z[B]===t&&(z.splice(B,1),W--,B--);return z.length===R?t:z}),S(u,"$concat",function(z){var R,B,W=this;return R=ee(arguments),B=R,g(W),B=m(B,"map",[],function te(se){var oe=te.$$s==null?this:te.$$s;return se==null&&(se=t),se=O(se),E(se["$equal?"](oe))&&(se=se.$dup()),se},{$$s:W}),m(B,"each",[],function te(se){var oe=te.$$s==null?this:te.$$s;se==null&&(se=t);for(var fe=0,l=se.length;fe<l;fe++)oe.push(se[fe])},{$$s:W}),W},-1),S(u,"$delete",function ie(z){var R=ie.$$p||t,B=this;ie.$$p=null;for(var W=B.length,te=0,se=W;te<se;te++)B[te]["$=="](z)&&(g(B),B.splice(te,1),se--,te--);return B.length===W?R!==t?e.yieldX(R,[]):t:z}),S(u,"$delete_at",function(z){var R=this;if(g(R),z=N(z,n("Integer"),"to_int"),z<0&&(z+=R.length),z<0||z>=R.length)return t;var B=R[z];return R.splice(z,1),B}),S(u,"$delete_if",function ie(){var z=ie.$$p||t,R=this;return ie.$$p=null,z===t?m(R,"enum_for",["delete_if"],function B(){var W=B.$$s==null?this:B.$$s;return W.$size()},{$$s:R}):(g(R),U(R,F,z),R)}),S(u,"$difference",function(z){var R,B,W=this;return R=ee(arguments),B=R,m(B,"reduce",[W.$to_a().$dup()],function(se,oe){return se==null&&(se=t),oe==null&&(oe=t),b(se,oe)})},-1),S(u,"$dig",function(z,R){var B,W,te=this,se=t;return B=ee(arguments,1),W=B,se=te["$[]"](z),se===t||W.length===0?se:(E(se["$respond_to?"]("dig"))||y.$raise(n("TypeError"),""+se.$class()+" does not have #dig method"),m(se,"dig",s(W)))},-2),S(u,"$drop",function(z){var R=this;return z=N(z,n("Integer"),"to_int"),z<0&&y.$raise(n("ArgumentError")),R.slice(z)}),S(u,"$dup",function ie(){var z=ie.$$p||t,R=this;return ie.$$p=null,R.$$class===e.Array&&R.$$class.$allocate.$$pristine&&R.$copy_instance_variables.$$pristine&&R.$initialize_dup.$$pristine?R.slice(0):k(R,D(R,"dup",ie,!1,!0),"dup",[],z)}),S(u,"$each",function ie(){var z=ie.$$p||t,R=this;if(ie.$$p=null,z===t)return m(R,"enum_for",["each"],function W(){var te=W.$$s==null?this:W.$$s;return te.$size()},{$$s:R});for(var B=0;B<R.length;B++)X(z,R[B]);return R}),S(u,"$each_index",function ie(){var z=ie.$$p||t,R=this;if(ie.$$p=null,z===t)return m(R,"enum_for",["each_index"],function W(){var te=W.$$s==null?this:W.$$s;return te.$size()},{$$s:R});for(var B=0;B<R.length;B++)X(z,B);return R}),S(u,"$empty?",function(){var z=this;return z.length===0}),S(u,"$eql?",function(z){var R=this,B={};function W(te,se){var oe,fe,l,v;if(!se.$$is_array||(se=se.$to_a(),te.length!==se.length))return!1;for(B[te.$object_id()]=!0,oe=0,fe=te.length;oe<fe;oe++)if(l=te[oe],v=se[oe],l.$$is_array){if(v.$$is_array&&v.length!==l.length||!B.hasOwnProperty(l.$object_id())&&!W(l,v))return!1}else if(!l["$eql?"](v))return!1;return!0}return W(R,z)}),S(u,"$fetch",function ie(z,R){var B=ie.$$p||t,W=this;ie.$$p=null;var te=z;if(z=N(z,n("Integer"),"to_int"),z<0&&(z+=W.length),z>=0&&z<W.length)return W[z];if(B!==t&&R!=null&&W.$warn("warning: block supersedes default value argument"),B!==t)return B(te);if(R!=null)return R;W.length===0?y.$raise(n("IndexError"),"index "+te+" outside of array bounds: 0...0"):y.$raise(n("IndexError"),"index "+te+" outside of array bounds: -"+W.length+"..."+W.length)},-2),S(u,"$fill",function ie(z){var R=ie.$$p||t,B,W,te,se,oe=this,fe=t,l=t,v=t,P=t,ne=t;ie.$$p=null,B=ee(arguments),W=B,g(oe);var ue,ce;if(E(R)?(E(W.length>2)&&y.$raise(n("ArgumentError"),"wrong number of arguments ("+W.$length()+" for 0..2)"),se=W,te=_(se),fe=te[0]==null?t:te[0],l=te[1]==null?t:te[1]):(E(W.length==0)?y.$raise(n("ArgumentError"),"wrong number of arguments (0 for 1..3)"):E(W.length>3)&&y.$raise(n("ArgumentError"),"wrong number of arguments ("+W.$length()+" for 1..3)"),se=W,te=_(se),v=te[0]==null?t:te[0],fe=te[1]==null?t:te[1],l=te[2]==null?t:te[2]),G(n("Range"),fe)){if(E(l)&&y.$raise(n("TypeError"),"length invalid with range"),P=fe.begin===t?0:N(fe.begin,n("Integer"),"to_int"),E(P<0)&&(P+=this.length),E(P<0)&&y.$raise(n("RangeError"),""+fe.$inspect()+" out of range"),ne=fe.end===t?-1:N(fe.end,n("Integer"),"to_int"),E(ne<0)&&(ne+=this.length),E(fe["$exclude_end?"]())||(ne+=1),E(ne<=P))return oe}else if(E(fe))if(P=N(fe,n("Integer"),"to_int"),E(P<0)&&(P+=this.length),E(P<0)&&(P=0),E(l)){if(ne=N(l,n("Integer"),"to_int"),E(ne==0))return oe;ne+=P}else ne=this.length;else P=0,ne=this.length;if(E(P>this.length))for(ue=this.length;ue<ne;ue++)oe[ue]=t;if(E(ne>this.length)&&(this.length=ne),E(R))for(this.length;P<ne;P++)ce=R(P),oe[P]=ce;else for(this.length;P<ne;P++)oe[P]=v;return oe},-1),S(u,"$first",function(z){var R=this;return z==null?R.length===0?t:R[0]:(z=N(z,n("Integer"),"to_int"),z<0&&y.$raise(n("ArgumentError"),"negative array size"),R.slice(0,z))},-1),S(u,"$flatten",function(z){var R=this;function B(W,te){var se=[],oe,fe,l,v;for(W=W.$to_a(),oe=0,fe=W.length;oe<fe;oe++){if(l=W[oe],!V(l,"$to_ary",!0)){se.push(l);continue}if(v=l.$to_ary(),v===t){se.push(l);continue}switch(v.$$is_array||y.$raise(n("TypeError")),v===R&&y.$raise(n("ArgumentError")),te){case void 0:se=se.concat(B(v));break;case 0:se.push(v);break;default:ae(se,B(v,te-1))}}return se}return z!==void 0&&(z=N(z,n("Integer"),"to_int")),B(R,z)},-1),S(u,"$flatten!",function(z){var R=this;g(R);var B=R.$flatten(z);if(R.length==B.length){for(var W=0,te=R.length;W<te&&R[W]===B[W];W++);if(W==te)return t}return R.$replace(B),R},-1),S(u,"$freeze",function(){var z=this;return E(z["$frozen?"]())?z:H(z)});var ve;S(u,"$hash",function(){var z=this,R=ve===void 0,B=$e(),W=z.$object_id(),te,se,oe;if(B=J(B,10),B=J(B,z.length),R)ve=Object.create(null);else if(ve[W])return J(B,16843009);try{for(oe in ve)if(te=ve[oe],z["$eql?"](te))return J(B,16843009);for(ve[W]=z,se=0;se<z.length;se++)te=z[se],B=J(B,te.$hash());return B}finally{R&&(ve=void 0)}}),S(u,"$include?",function(z){for(var R=this,B=0,W=R.length;B<W;B++)if(R[B]["$=="](z))return!0;return!1}),S(u,"$index",function ie(z){var R=ie.$$p||t,B=this;ie.$$p=null;var W,te,se;if(z!=null&&R!==t&&B.$warn("warning: given block not used"),z!=null){for(W=0,te=B.length;W<te;W++)if(B[W]["$=="](z))return W}else if(R!==t){for(W=0;W<B.length;W++)if(se=R(B[W]),se!==!1&&se!==t)return W}else return B.$enum_for("index");return t},-1),S(u,"$insert",function(z,R){var B,W,te=this;if(B=ee(arguments,1),W=B,g(te),z=N(z,n("Integer"),"to_int"),W.length>0){if(z<0&&(z+=te.length+1,z<0&&y.$raise(n("IndexError"),""+z+" is out of bounds")),z>te.length)for(var se=te.length;se<z;se++)te.push(t);te.splice.apply(te,[z,0].concat(W))}return te},-2);var me=[];S(u,"$inspect",function(){var z=this,R=[],B=z.$__id__(),W=!0;return function(){try{if(me.indexOf(B)!==-1)return W=!1,"[...]";me.push(B);for(var te=0,se=z.length;te<se;te++){var oe=z["$[]"](te);R.push(A("Opal").$inspect(oe))}return"["+R.join(", ")+"]"}finally{W&&me.pop()}}()}),S(u,"$intersection",function(z){var R,B,W=this,te=t,se=t;return R=ee(arguments),B=R,B.length===0?W.$to_a().$dup():(B=B.map(O),W.length===0?[]:(B=m(B,"sort_by",[],"length".$to_proc()),E(W.length<B[0].length)?m(B,"reduce",[W],"&".$to_proc()):(te=B.pop(),se=m(B,"reduce",[te],"&".$to_proc()),W["$&"](se))))},-1),S(u,"$intersect?",function(z){var R=this,B,W,te=new Map,se,oe;for(R.length<z.length?(B=R,W=z):(B=z,W=R),se=0,oe=B.length;se<oe;se++)re(te,B[se],!0);for(se=0,oe=W.length;se<oe;se++)if(q(te,W[se]))return!0;return!1}),S(u,"$join",function(z){var R=this;if(x[","]==null&&(x[","]=t),z==null&&(z=t),E(R.length===0))return"";E(z===t)&&(z=x[","]);var B=[],W,te,se,oe;for(W=0,te=R.length;W<te;W++){if(se=R[W],V(se,"$to_str")&&(oe=se.$to_str(),oe!==t)){B.push(oe.$to_s());continue}if(V(se,"$to_ary")&&(oe=se.$to_ary(),oe===R&&y.$raise(n("ArgumentError")),oe!==t)){B.push(oe.$join(z));continue}if(V(se,"$to_s")&&(oe=se.$to_s(),oe!==t)){B.push(oe);continue}y.$raise(n("NoMethodError").$new(""+A("Opal").$inspect(R.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return z===t?B.join(""):B.join(C["$coerce_to!"](z,n("String"),"to_str").$to_s())},-1),S(u,"$keep_if",function ie(){var z=ie.$$p||t,R=this;return ie.$$p=null,z===t?m(R,"enum_for",["keep_if"],function B(){var W=B.$$s==null?this:B.$$s;return W.$size()},{$$s:R}):(g(R),U(R,E,z),R)}),S(u,"$last",function(z){var R=this;return z==null?R.length===0?t:R[R.length-1]:(z=N(z,n("Integer"),"to_int"),z<0&&y.$raise(n("ArgumentError"),"negative array size"),z>R.length&&(z=R.length),R.slice(R.length-z,R.length))},-1),S(u,"$length",function(){var z=this;return z.length}),S(u,"$max",function ie(z){var R=ie.$$p||t,B=this;return ie.$$p=null,m(B.$each(),"max",[z],R.$to_proc())},-1),S(u,"$min",function ie(){var z=ie.$$p||t,R=this;return ie.$$p=null,m(R.$each(),"min",[],z.$to_proc())});function be(ie,z){for(var R=z>=0?1:0;z;)R*=ie,ie--,z--;return R}return S(u,"$permutation",function ie(z){var R=ie.$$p||t,B=this,W=t,te=t;if(ie.$$p=null,R===t)return m(B,"enum_for",["permutation",z],function v(){var P=v.$$s==null?this:v.$$s;return be(P.length,z===void 0?P.length:z)},{$$s:B});var se,oe,fe;if(z===void 0?z=B.length:z=N(z,n("Integer"),"to_int"),!(z<0||B.length<z))if(z===0)e.yield1(R,[]);else if(z===1)for(var l=0;l<B.length;l++)e.yield1(R,[B[l]]);else W=A("Array").$new(z),te=A("Array").$new(B.length,!1),se=function(v,P,ne,ue,ce){B=this;for(var he=0;he<B.length;he++)if(ue["$[]"](he)["$!"]())if(P[ne]=he,ne<v-1)ue[he]=!0,se.call(B,v,P,ne+1,ue,ce),ue[he]=!1;else{fe=[];for(var pe=0;pe<P.length;pe++)fe.push(B[P[pe]]);X(ce,fe)}},R!==t?(oe=B.slice(),se.call(oe,z,W,0,te,R)):se.call(B,z,W,0,te,R);return B},-1),S(u,"$repeated_permutation",function ie(z){var R=ie.$$p||t,B=this,W=t;if(ie.$$p=null,W=C["$coerce_to!"](z,n("Integer"),"to_int"),R===t)return m(B,"enum_for",["repeated_permutation",W],function se(){var oe=se.$$s==null?this:se.$$s;return E(h(W,0))?oe.$size()["$**"](W):0},{$$s:B});function te(se,oe,fe){if(oe.length==se){var l=oe.slice();e.yield1(R,l);return}for(var v=0;v<fe.length;v++)oe.push(fe[v]),te(se,oe,fe),oe.pop()}return te(W,[],B.slice()),B}),S(u,"$pop",function(z){var R=this;return g(R),E(z===void 0)?E(R.length===0)?t:R.pop():(z=N(z,n("Integer"),"to_int"),E(z<0)&&y.$raise(n("ArgumentError"),"negative array size"),E(R.length===0)?[]:E(z===1)?[R.pop()]:E(z>R.length)?R.splice(0,R.length):R.splice(R.length-z,R.length))},-1),S(u,"$product",function ie(z){var R=ie.$$p||t,B,W,te=this;ie.$$p=null,B=ee(arguments),W=B;var se=R!==t?null:[],oe=W.length+1,fe=new Array(oe),l=new Array(oe),v=new Array(oe),P,ne,ue,ce,he=1;for(v[0]=te,P=1;P<oe;P++)v[P]=N(W[P-1],n("Array"),"to_ary");for(P=0;P<oe;P++){if(ce=v[P].length,ce===0)return se||te;he*=ce,he>2147483647&&y.$raise(n("RangeError"),"too big to product"),l[P]=ce,fe[P]=0}e:for(;;){for(ue=[],P=0;P<oe;P++)ue.push(v[P][fe[P]]);for(se?se.push(ue):e.yield1(R,ue),ne=oe-1,fe[ne]++;fe[ne]===l[ne];){if(fe[ne]=0,--ne<0)break e;fe[ne]++}}return se||te},-1),S(u,"$push",function(z){var R,B,W=this;return R=ee(arguments),B=R,g(W),ae(W,B),W},-1),S(u,"$rassoc",function(z){for(var R=this,B=0,W=R.length,te;B<W;B++)if(te=R[B],te.length&&te[1]!==void 0&&te[1]["$=="](z))return te;return t}),S(u,"$reject",function ie(){var z=ie.$$p||t,R=this;if(ie.$$p=null,z===t)return m(R,"enum_for",["reject"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:R});for(var B=[],W=0,te;W<R.length;W++)te=z(R[W]),(te===!1||te===t)&&B.push(R[W]);return B}),S(u,"$reject!",function ie(){var z=ie.$$p||t,R=this,B=t;return ie.$$p=null,z===t?m(R,"enum_for",["reject!"],function W(){var te=W.$$s==null?this:W.$$s;return te.$size()},{$$s:R}):(g(R),B=R.$length(),m(R,"delete_if",[],z.$to_proc()),T(R.$length(),B)?t:R)}),S(u,"$replace",function(z){var R=this;return g(R),z=O(z),R.length>0&&R.splice(0,R.length),ae(R,z),R}),S(u,"$reverse",function(){var z=this;return z.slice(0).reverse()}),S(u,"$reverse!",function(){var z=this;return g(z),z.reverse()}),S(u,"$reverse_each",function ie(){var z=ie.$$p||t,R=this;if(ie.$$p=null,z===t)return m(R,"enum_for",["reverse_each"],function W(){var te=W.$$s==null?this:W.$$s;return te.$size()},{$$s:R});for(var B=R.length-1;B>=0;B--)X(z,R[B]);return R}),S(u,"$rindex",function ie(z){var R=ie.$$p||t,B=this;ie.$$p=null;var W,te;if(z!=null&&R!==t&&B.$warn("warning: given block not used"),z!=null){for(W=B.length-1;W>=0&&!(W>=B.length);W--)if(B[W]["$=="](z))return W}else if(R!==t){for(W=B.length-1;W>=0&&!(W>=B.length);W--)if(te=R(B[W]),te!==!1&&te!==t)return W}else if(z==null)return B.$enum_for("rindex");return t},-1),S(u,"$rotate",function(z){var R=this;z==null&&(z=1);var B,W,te,se;return z=N(z,n("Integer"),"to_int"),R.length===1?R.slice():R.length===0?[]:(B=R.slice(),W=z%B.length,te=B.slice(W),se=B.slice(0,W),te.concat(se))},-1),S(u,"$rotate!",function(z){var R=this,B=t;return z==null&&(z=1),g(R),R.length===0||R.length===1?R:(z=N(z,n("Integer"),"to_int"),B=R.$rotate(z),R.$replace(B))},-1),function(ie,z){var R=Y(ie,z,"SampleRandom"),B=R.$$prototype;return B.rng=t,S(R,"$initialize",c("rng")),S(R,"$rand",function(te){var se=this,oe=t;return oe=N(se.rng.$rand(te),n("Integer"),"to_int"),E(oe<0)&&y.$raise(n("RangeError"),"random value must be >= 0"),E(oe<te)||y.$raise(n("RangeError"),"random value must be less than Array size"),oe})}(u,null),S(u,"$sample",function(z,R){var B=this,W=t,te=t;if(E(z===void 0))return B.$at(y.$rand(B.length));if(E(R===void 0)?E(W=C["$coerce_to?"](z,n("Hash"),"to_hash"))?(R=W,z=t):(R=t,z=N(z,n("Integer"),"to_int")):(z=N(z,n("Integer"),"to_int"),R=N(R,n("Hash"),"to_hash")),E(z)&&E(z<0)&&y.$raise(n("ArgumentError"),"count must be greater than 0"),E(R)&&(te=R["$[]"]("random")),te=E(te)&&E(te["$respond_to?"]("rand"))?A("SampleRandom").$new(te):y,!E(z))return B[te.$rand(B.length)];var se,oe,fe,l,v,P,ne,ue;switch(z>B.length&&(z=B.length),z){case 0:return[];case 1:return[B[te.$rand(B.length)]];case 2:return l=te.$rand(B.length),v=te.$rand(B.length-1),l<=v&&v++,[B[l],B[v]];default:if(B.length/z>3){for(se=!1,oe=0,fe=A("Array").$new(z),l=1,fe[0]=te.$rand(B.length);l<z;){for(P=te.$rand(B.length),v=0;v<l;){for(;P===fe[v];){if(oe++,oe>100){se=!0;break}P=te.$rand(B.length)}if(se)break;v++}if(se)break;fe[l]=P,l++}if(!se){for(l=0;l<z;)fe[l]=B[fe[l]],l++;return fe}}fe=B.slice();for(var ce=0;ce<z;ce++)ne=te.$rand(B.length-ce)+ce,ue=fe[ce],fe[ce]=fe[ne],fe[ne]=ue;return z===B.length?fe:fe["$[]"](0,z)}},-1),S(u,"$select",function ie(){var z=ie.$$p||t,R=this;if(ie.$$p=null,z===t)return m(R,"enum_for",["select"],function oe(){var fe=oe.$$s==null?this:oe.$$s;return fe.$size()},{$$s:R});for(var B=[],W=0,te,se;W<R.length;W++)te=R[W],se=X(z,te),E(se)&&B.push(te);return B}),S(u,"$select!",function ie(){var z=ie.$$p||t,R=this;if(ie.$$p=null,z===t)return m(R,"enum_for",["select!"],function W(){var te=W.$$s==null?this:W.$$s;return te.$size()},{$$s:R});g(R);var B=R.length;return m(R,"keep_if",[],z.$to_proc()),R.length===B?t:R}),S(u,"$shift",function(z){var R=this;return g(R),E(z===void 0)?E(R.length===0)?t:M(R):(z=N(z,n("Integer"),"to_int"),E(z<0)&&y.$raise(n("ArgumentError"),"negative array size"),E(R.length===0)?[]:R.splice(0,z))},-1),S(u,"$shuffle",function(z){var R=this;return R.$dup().$to_a()["$shuffle!"](z)},-1),S(u,"$shuffle!",function(z){var R=this;g(R);var B,W=R.length,te,se;for(z!==void 0&&(z=C["$coerce_to?"](z,n("Hash"),"to_hash"),z!==t&&(z=z["$[]"]("random"),z!==t&&z["$respond_to?"]("rand")&&(B=z)));W;)B?(te=B.$rand(W).$to_int(),te<0&&y.$raise(n("RangeError"),"random number too small "+te),te>=W&&y.$raise(n("RangeError"),"random number too big "+te)):te=R.$rand(W),se=R[--W],R[W]=R[te],R[te]=se;return R},-1),S(u,"$slice!",function(z,R){var B=this,W=t,te=t,se=t,oe=t,fe=t;if(g(B),W=t,E(R===void 0))if(G(n("Range"),z)){te=z,W=B["$[]"](te),se=te.begin===t?0:N(te.begin,n("Integer"),"to_int"),oe=te.end===t?-1:N(te.end,n("Integer"),"to_int"),se<0&&(se+=B.length),oe<0?oe+=B.length:oe>=B.length&&(oe=B.length-1,te.excl&&(oe+=1));var l=oe-se;te.excl&&te.end!==t?oe-=1:l+=1,se<B.length&&se>=0&&oe<B.length&&oe>=0&&l>0&&B.splice(se,l)}else{if(fe=N(z,n("Integer"),"to_int"),fe<0&&(fe+=B.length),fe<0||fe>=B.length)return t;W=B[fe],fe===0?B.shift():B.splice(fe,1)}else{if(fe=N(z,n("Integer"),"to_int"),R=N(R,n("Integer"),"to_int"),R<0)return t;W=B["$[]"](fe,R),fe<0&&(fe+=B.length),fe+R>B.length&&(R=B.length-fe),fe<B.length&&fe>=0&&B.splice(fe,R)}return W},-2),S(u,"$sort",function ie(){var z=ie.$$p||t,R=this;return ie.$$p=null,E(R.length>1)?(z===t&&(z=function(B,W){return B["$<=>"](W)}),R.slice().sort(function(B,W){var te=z(B,W);return te===t&&y.$raise(n("ArgumentError"),"comparison of "+B.$inspect()+" with "+W.$inspect()+" failed"),w(te,0)?1:o(te,0)?-1:0})):R}),S(u,"$sort!",function ie(){var z=ie.$$p||t,R=this;ie.$$p=null,g(R);var B;z!==t?B=m(R.slice(),"sort",[],z.$to_proc()):B=R.slice().$sort(),R.length=0;for(var W=0,te=B.length;W<te;W++)R.push(B[W]);return R}),S(u,"$sort_by!",function ie(){var z=ie.$$p||t,R=this;return ie.$$p=null,z===t?m(R,"enum_for",["sort_by!"],function B(){var W=B.$$s==null?this:B.$$s;return W.$size()},{$$s:R}):(g(R),R.$replace(m(R,"sort_by",[],z.$to_proc())))}),S(u,"$take",function(z){var R=this;return z<0&&y.$raise(n("ArgumentError")),R.slice(0,z)}),S(u,"$take_while",function ie(){var z=ie.$$p||t,R=this;ie.$$p=null;for(var B=[],W=0,te,se;W<R.length;W++){if(te=R[W],se=z(te),se===!1||se===t)return B;B.push(te)}return B}),S(u,"$to_a",function(){var z=this;return z.$$class===e.Array?z:e.Array.$new(z)}),S(u,"$to_ary",L),S(u,"$to_h",function ie(){var z=ie.$$p||t,R=this,B=t;ie.$$p=null,B=R,z!==t&&(B=m(B,"map",[],z.$to_proc()));var W,te=B.length,se,oe,fe,l=new Map;for(W=0;W<te;W++)se=C["$coerce_to?"](B[W],n("Array"),"to_ary"),se.$$is_array||y.$raise(n("TypeError"),"wrong element type "+B[W].$class()+" at "+W+" (expected array)"),se.length!==2&&y.$raise(n("ArgumentError"),"element has wrong array length at "+W+" (expected 2, was "+se.$length()+")"),oe=se[0],fe=se[1],re(l,oe,fe);return l}),S(u,"$transpose",function(){var z=this,R=t,B=t;return E(z["$empty?"]())?[]:(R=[],B=t,m(z,"each",[],function(te){var se=t;return te==null&&(te=t),te=O(te),B=E(se=B)?se:te.length,K(te.length,B)&&y.$raise(n("IndexError"),"element size differs ("+te.length+" should be "+B+")"),m(te.length,"times",[],function(fe){var l,v=t;return fe==null&&(fe=t),v=E(se=R["$[]"](fe))?se:(l=[fe,[]],m(R,"[]=",l),l[l.length-1]),v["$<<"](te.$at(fe))})}),R)}),S(u,"$union",function(z){var R,B,W=this;return R=ee(arguments),B=R,m(B,"reduce",[W.$uniq()],function(se,oe){return se==null&&(se=t),oe==null&&(oe=t),se["$|"](oe)})},-1),S(u,"$uniq",function ie(){var z=ie.$$p||t,R=this;ie.$$p=null;var B=new Map,W,te,se,oe;if(z===t)for(W=0,te=R.length;W<te;W++)se=R[W],q(B,se)===void 0&&re(B,se,se);else for(W=0;W<R.length;W++)se=R[W],oe=X(z,se),q(B,oe)===void 0&&re(B,oe,se);return B.$values()}),S(u,"$uniq!",function ie(){var z=ie.$$p||t,R=this;ie.$$p=null,g(R);var B=new Map,W,te,se,oe=[];for(W=0;W<R.length;W++)te=R[W],se=z===t?te:X(z,te),q(B,se)===void 0?re(B,se,te):oe.push(W);for(W=oe.length-1;W>=0;W--)R.splice(oe[W],1);return oe.length===0?t:R}),S(u,"$unshift",function(z){var R,B,W=this;R=ee(arguments),B=R,g(W);var te=W.length,se=B.length;if(se==0)return W;for(var oe=te-se,fe=0;fe<se;fe++)W.push(W[oe+fe]);for(var l=te-1;l-se>=0;)W[l]=W[l-se],l--;for(var v=0;v<se;v++)W[v]=B[v];return W},-1),S(u,"$values_at",function(z){var R,B,W=this,te=t;return R=ee(arguments),B=R,te=[],m(B,"each",[],function se(oe){var fe=se.$$s==null?this:se.$$s,l=t,v=t,P=t;return oe==null&&(oe=t),E(oe["$is_a?"](n("Range")))?(l=oe.$end()===t?-1:N(oe.$end(),n("Integer"),"to_int"),v=oe.$begin()===t?0:N(oe.$begin(),n("Integer"),"to_int"),v<0?(v=v+fe.length,t):(l<0&&(l=l+fe.length),oe["$exclude_end?"]()&&oe.$end()!==t&&l--,l<v?t:m(v,"upto",[l],function ne(ue){var ce=ne.$$s==null?this:ne.$$s;return ue==null&&(ue=t),te["$<<"](ce.$at(ue))},{$$s:fe}))):(P=N(oe,n("Integer"),"to_int"),te["$<<"](fe.$at(P)))},{$$s:W}),te},-1),S(u,"$zip",function ie(z){var R=ie.$$p||t,B,W,te=this,se=t;ie.$$p=null,B=ee(arguments),W=B;var oe=[],fe=te.length,l,v,P,ne,ue;for(ne=0,ue=W.length;ne<ue;ne++)if(v=W[ne],!v.$$is_array){if(v.$$is_range||v.$$is_enumerator){W[ne]=v.$take(fe);continue}W[ne]=(E(se=C["$coerce_to?"](v,n("Array"),"to_ary"))?se:C["$coerce_to!"](v,n("Enumerator"),"to_enum","each")).$to_a()}for(P=0;P<fe;P++){for(l=[te[P]],ne=0,ue=W.length;ne<ue;ne++)v=W[ne][P],v==null&&(v=t),l[ne+1]=v;oe[P]=l}if(R!==t){for(P=0;P<fe;P++)e.yield1(R,oe[P]);return t}return oe},-1),Q(u,"$inherited",function(z){z.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),S(u,"$instance_variables",function ie(){var z=ie.$$p||t,R=this;return ie.$$p=null,m(k(R,D(R,"instance_variables",ie,!1,!0),"instance_variables",[],z),"reject",[],function(W){var te=t;return W==null&&(W=t),E(te=/^@\d+$/.test(W))?te:W["$=="]("@length")})}),S(u,"$pack",function(z){return ee(arguments),y.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),d(u,"append","push"),d(u,"filter","select"),d(u,"filter!","select!"),d(u,"map","collect"),d(u,"map!","collect!"),d(u,"prepend","unshift"),d(u,"size","length"),d(u,"slice","[]"),d(u,"to_s","inspect"),C.$pristine(u.$singleton_class(),"allocate"),C.$pristine(u,"copy_instance_variables","initialize_dup")}("::",Array,a)};Opal.modules["corelib/hash"]=function(e){var E=e.yield1,F=e.hash_clone,X=e.hash_delete,q=e.hash_each,re=e.hash_get,Z=e.hash_put,N=e.deny_frozen_access,V=e.freeze,g=e.opal32_init,H=e.opal32_add,$e=e.klass,J=e.slice,Y=e.Opal,ee=e.Kernel,Q=e.defs,y=e.def,S=e.send,C=e.rb_ge,G=e.rb_gt,k=e.truthy,D=e.to_a,m=e.return_self,w=e.not,j=e.alias,T=e.top,b=[],s=e.nil,_=e.$$$;return e.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),T.$require("corelib/enumerable"),function(x,h,c){var o=$e(x,h,"Hash"),L=[o].concat(c),K=e.$r(L);o.$include(_("Enumerable")),o.$$prototype.$$is_hash=!0,Q(o,"$[]",function(t){var n,r,$=this;n=J(arguments),r=n;var i,u=r.length,p,A;if(u===1){if(i=Y["$coerce_to?"](r["$[]"](0),_("Hash"),"to_hash"),i!==s)return $.$allocate()["$merge!"](i);for(r=Y["$coerce_to?"](r["$[]"](0),_("Array"),"to_ary"),r===s&&ee.$raise(_("ArgumentError"),"odd number of arguments for Hash"),u=r.length,i=$.$allocate(),A=0;A<u;A++)p=r[A],p.$$is_array||ee.$raise(_("ArgumentError"),"invalid element "+p.$inspect()+" for Hash"),p.length===1?i.$store(p[0],s):p.length===2?i.$store(p[0],p[1]):ee.$raise(_("ArgumentError"),"invalid number of elements ("+p.length+" for "+p.$inspect()+"), must be 1..2");return i}for(u%2!==0&&ee.$raise(_("ArgumentError"),"odd number of arguments for Hash"),i=$.$allocate(),A=0;A<u;A+=2)i.$store(r[A],r[A+1]);return i},-1),Q(o,"$allocate",function(){var t=this,n=new t.$$constructor;return n.$$none=s,n.$$proc=s,n}),Q(o,"$try_convert",function(t){return Y["$coerce_to?"](t,_("Hash"),"to_hash")}),y(o,"$initialize",function a(t){var n=a.$$p||s,r=this;return a.$$p=null,N(r),t!==void 0&&n!==s&&ee.$raise(_("ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=t===void 0?s:t,r.$$proc=n,r},-1),y(o,"$==",function(t){var n=this;return n===t?!0:!t.$$is_hash||n.size!==t.size?!1:q(n,!0,function(r,$){var i=re(t,r);return i===void 0||!$["$eql?"](i)?[!0,!1]:[!1,!0]})}),y(o,"$>=",function(t){var n=this,r=s;return t=Y["$coerce_to!"](t,_("Hash"),"to_hash"),n.size<t.size?!1:(r=!0,S(t,"each",[],function $(i,u){var p=$.$$s==null?this:$.$$s,A=s;if(i==null&&(i=s),u==null&&(u=s),A=p.$fetch(i,null),A==null||A!==u){r=!1;return}},{$$s:n}),r)}),y(o,"$>",function(t){var n=this;return t=Y["$coerce_to!"](t,_("Hash"),"to_hash"),n.size<=t.size?!1:C(n,t)}),y(o,"$<",function(t){var n=this;return t=Y["$coerce_to!"](t,_("Hash"),"to_hash"),G(t,n)}),y(o,"$<=",function(t){var n=this;return t=Y["$coerce_to!"](t,_("Hash"),"to_hash"),C(t,n)}),y(o,"$[]",function(t){var n=this,r=re(n,t);return r!==void 0?r:n.$default(t)}),y(o,"$[]=",function(t,n){var r=this;return N(r),Z(r,t,n),n}),y(o,"$assoc",function(t){var n=this;return q(n,s,function(r,$){return r["$=="](t)?[!0,[r,$]]:[!1,s]})}),y(o,"$clear",function(){var t=this;return N(t),t.clear(),t.$$keys&&t.$$keys.clear(),t}),y(o,"$clone",function(){var t=this,n=t.$class().$new();return F(t,n),t["$frozen?"]()?n.$freeze():n}),y(o,"$compact",function(){var t=this,n=new Map;return q(t,n,function(r,$){return $!==s&&Z(n,r,$),[!1,n]})}),y(o,"$compact!",function(){var t=this;N(t);var n=s;return q(t,n,function(r,$){return $===s&&(X(t,r),n=t),[!1,n]})}),y(o,"$compare_by_identity",function(){var t=this;return N(t),t.$$by_identity||(t.$$by_identity=!0,t.size!==0&&e.hash_rehash(t)),t}),y(o,"$compare_by_identity?",function(){var t=this;return t.$$by_identity===!0}),y(o,"$default",function(t){var n=this;return t!==void 0&&n.$$proc!==s&&n.$$proc!==void 0?n.$$proc.$call(n,t):n.$$none===void 0?s:n.$$none},-1),y(o,"$default=",function(t){var n=this;return N(n),n.$$proc=s,n.$$none=t,t}),y(o,"$default_proc",function(){var t=this;return t.$$proc!==void 0?t.$$proc:s}),y(o,"$default_proc=",function(t){var n=this;N(n);var r=t;return r!==s&&(r=Y["$coerce_to!"](r,_("Proc"),"to_proc"),r["$lambda?"]()&&r.$arity().$abs()!==2&&ee.$raise(_("TypeError"),"default_proc takes two arguments")),n.$$none=s,n.$$proc=r,t}),y(o,"$delete",function a(t){var n=a.$$p||s,r=this;a.$$p=null,N(r);var $=X(r,t);return $!==void 0?$:n!==s?e.yield1(n,t):s}),y(o,"$delete_if",function a(){var t=a.$$p||s,n=this;return a.$$p=null,k(t)?(N(n),q(n,n,function(r,$){var i=t(r,$);return i!==!1&&i!==s&&X(n,r),[!1,n]})):S(n,"enum_for",["delete_if"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:n})}),y(o,"$dig",function(t,n){var r,$,i=this,u=s;return r=J(arguments,1),$=r,u=i["$[]"](t),u===s||$.length===0?u:(k(u["$respond_to?"]("dig"))||ee.$raise(_("TypeError"),""+u.$class()+" does not have #dig method"),S(u,"dig",D($)))},-2),y(o,"$dup",function(){var t=this;return F(t,t.$class().$new())}),y(o,"$each",function a(){var t=a.$$p||s,n=this;return a.$$p=null,k(t)?q(n,n,function(r,$){return E(t,[r,$]),[!1,n]}):S(n,"enum_for",["each"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:n})}),y(o,"$each_key",function a(){var t=a.$$p||s,n=this;return a.$$p=null,k(t)?q(n,n,function(r,$){return t(r),[!1,n]}):S(n,"enum_for",["each_key"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:n})}),y(o,"$each_value",function a(){var t=a.$$p||s,n=this;return a.$$p=null,k(t)?q(n,n,function(r,$){return t($),[!1,n]}):S(n,"enum_for",["each_value"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:n})}),y(o,"$empty?",function(){var t=this;return t.size===0}),y(o,"$except",function(t){var n,r,$=this;return n=J(arguments),r=n,S($.$dup(),"except!",D(r))},-1),y(o,"$except!",function(t){var n,r,$=this;return n=J(arguments),r=n,S(r,"each",[],function i(u){var p=i.$$s==null?this:i.$$s;return u==null&&(u=s),p.$delete(u)},{$$s:$}),$},-1),y(o,"$fetch",function a(t,n){var r=a.$$p||s,$=this;a.$$p=null;var i=re($,t);return i!==void 0?i:r!==s?r(t):n!==void 0?n:ee.$raise(_("KeyError").$new("key not found: "+t.$inspect(),new Map([["key",t],["receiver",$]])))},-2),y(o,"$fetch_values",function a(t){var n=a.$$p||s,r,$,i=this;return a.$$p=null,r=J(arguments),$=r,S($,"map",[],function u(p){var A=u.$$s==null?this:u.$$s;return p==null&&(p=s),S(A,"fetch",[p],n.$to_proc())},{$$s:i})},-1),y(o,"$flatten",function(t){var n=this;t==null&&(t=1),t=Y["$coerce_to!"](t,_("Integer"),"to_int");var r=[];return q(n,r,function($,i){return r.push($),i.$$is_array?t===1?(r.push(i),[!1,r]):(r=r.concat(i.$flatten(t-2)),[!1,r]):(r.push(i),[!1,r])})},-1),y(o,"$freeze",function(){var t=this;return k(t["$frozen?"]())?t:V(t)}),y(o,"$has_key?",function(t){var n=this;return re(n,t)!==void 0}),y(o,"$has_value?",function(t){var n=this;return q(n,!1,function(r,$){return $["$=="](t)?[!0,!0]:[!1,!1]})});var d;y(o,"$hash",function(){var t=this,n=d===void 0,r=t.$object_id(),$=g(),i,u,p,A=t.size,M=new Int32Array(A);if($=H($,4),$=H($,A),n)d=Object.create(null);else if(d[r])return H($,16843009);try{for(i in d)if(u=d[i],t["$eql?"](u))return H($,16843009);for(d[r]=t,p=0,q(t,!1,function(I,U){return M[p]=[1883326802,I,U].$hash(),p++,[!1,!1]}),M=M.sort(),p=0;p<M.length;p++)$=H($,M[p]);return $}finally{n&&(d=void 0)}}),y(o,"$index",function(t){var n=this;return q(n,s,function(r,$){return $["$=="](t)?[!0,r]:[!1,s]})}),y(o,"$indexes",function(t){var n,r,$=this;n=J(arguments),r=n;for(var i=[],u=0,p=r.length,A,M;u<p;u++){if(A=r[u],M=re($,A),M===void 0){i.push($.$default());continue}i.push(M)}return i},-1);var f;return y(o,"$inspect",function(){var t=this,n=f===void 0,r=t.$object_id(),$=[];return function(){try{if(n&&(f={}),f.hasOwnProperty(r))return"{...}";return f[r]=!0,q(t,!1,function(i,u){return u=K("Opal").$inspect(u),i=K("Opal").$inspect(i),$.push(i+"=>"+u),[!1,!1]}),"{"+$.join(", ")+"}";return s}finally{n&&(f=void 0)}}()}),y(o,"$invert",function(){var t=this,n=new Map;return q(t,n,function(r,$){return Z(n,$,r),[!1,n]})}),y(o,"$keep_if",function a(){var t=a.$$p||s,n=this;return a.$$p=null,k(t)?(N(n),q(n,n,function(r,$){var i=t(r,$);return(i===!1||i===s)&&X(n,r),[!1,n]})):S(n,"enum_for",["keep_if"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:n})}),y(o,"$keys",function(){var t=this;return Array.from(t.keys())}),y(o,"$length",function(){var t=this;return t.size}),y(o,"$merge",function a(t){var n=a.$$p||s,r,$,i=this;return a.$$p=null,r=J(arguments),$=r,S(i.$dup(),"merge!",D($),n.$to_proc())},-1),y(o,"$merge!",function a(t){var n=a.$$p||s,r,$,i=this;a.$$p=null,r=J(arguments),$=r,N(i);var u,p;for(u=0;u<$.length;++u)p=Y["$coerce_to!"]($[u],_("Hash"),"to_hash"),n===s?q(p,!1,function(A,M){return Z(i,A,M),[!1,!1]}):q(p,!1,function(A,M){var I=re(i,A);return I===void 0?(Z(i,A,M),[!1,!1]):(Z(i,A,n(A,I,M)),[!1,!1])});return i},-1),y(o,"$rassoc",function(t){var n=this;return q(n,s,function(r,$){return $["$=="](t)?[!0,[r,$]]:[!1,s]})}),y(o,"$rehash",function(){var t=this;return N(t),e.hash_rehash(t)}),y(o,"$reject",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,!k(t))return S(n,"enum_for",["reject"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:n});var r=new Map;return q(n,r,function($,i){var u=t($,i);return(u===!1||u===s)&&Z(r,$,i),[!1,r]})}),y(o,"$reject!",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,!k(t))return S(n,"enum_for",["reject!"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:n});N(n);var r=s;return q(n,r,function($,i){var u=t($,i);return u!==!1&&u!==s&&(X(n,$),r=n),[!1,r]})}),y(o,"$replace",function(t){var n=this;return N(n),t=Y["$coerce_to!"](t,_("Hash"),"to_hash"),n.$clear(),q(t,!1,function(r,$){return Z(n,r,$),[!1,!1]}),k(t.$default_proc())?n["$default_proc="](t.$default_proc()):n["$default="](t.$default()),n}),y(o,"$select",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,!k(t))return S(n,"enum_for",["select"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:n});var r=new Map;return q(n,r,function($,i){var u=t($,i);return u!==!1&&u!==s&&Z(r,$,i),[!1,r]})}),y(o,"$select!",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,!k(t))return S(n,"enum_for",["select!"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:n});N(n);var r=s;return q(n,r,function($,i){var u=t($,i);return(u===!1||u===s)&&(X(n,$),r=n),[!1,r]})}),y(o,"$shift",function(){var t=this;return N(t),q(t,s,function(n,r){return[!0,[n,X(t,n)]]})}),y(o,"$slice",function(t){var n,r,$=this;n=J(arguments),r=n;for(var i=new Map,u=0,p=r.length;u<p;u++){var A=r[u],M=re($,A);M!==void 0&&Z(i,A,M)}return i},-1),y(o,"$to_a",function(){var t=this,n=[];return q(t,n,function(r,$){return n.push([r,$]),[!1,n]})}),y(o,"$to_h",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,t!==s)return S(n,"map",[],t.$to_proc()).$to_h();if(n.$$class===e.Hash)return n;var r=new Map;return F(n,r),r}),y(o,"$to_hash",m),y(o,"$to_proc",function(){var t=this;return S(t,"proc",[],function n(r){var $=n.$$s==null?this:n.$$s;return r==null&&ee.$raise(_("ArgumentError"),"no key given"),$["$[]"](r)},{$$arity:-1,$$s:t})}),y(o,"$transform_keys",function a(t){var n=a.$$p||s,r=this;if(a.$$p=null,t==null&&(t=s),w(n)&&w(t))return S(r,"enum_for",["transform_keys"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:r});var $=new Map;return q(r,$,function(i,u){var p;return t!==s&&(p=re(t,i)),p===void 0&&n&&n!==s&&(p=n(i)),p===void 0&&(p=i),Z($,p,u),[!1,$]})},-1),y(o,"$transform_keys!",function a(t){var n=a.$$p||s,r=this;if(a.$$p=null,t==null&&(t=s),w(n)&&w(t))return S(r,"enum_for",["transform_keys!"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:r});N(r);var $=new Map;return q(r,r,function(i,u){var p;return t!==s&&(p=re(t,i)),p===void 0&&n&&n!==s&&(p=n(i)),p===void 0?[!1,r]:(re($,i)||X(r,i),Z(r,p,u),Z($,p,!0),[!1,r])})},-1),y(o,"$transform_values",function a(){var t=a.$$p||s,n=this;if(a.$$p=null,!k(t))return S(n,"enum_for",["transform_values"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:n});var r=new Map;return q(n,r,function($,i){return Z(r,$,t(i)),[!1,r]})}),y(o,"$transform_values!",function a(){var t=a.$$p||s,n=this;return a.$$p=null,k(t)?(N(n),q(n,n,function(r,$){return Z(n,r,t($)),[!1,n]})):S(n,"enum_for",["transform_values!"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:n})}),y(o,"$values",function(){var t=this;return Array.from(t.values())}),j(o,"each_pair","each"),j(o,"eql?","=="),j(o,"filter","select"),j(o,"filter!","select!"),j(o,"include?","has_key?"),j(o,"indices","indexes"),j(o,"key","index"),j(o,"key?","has_key?"),j(o,"member?","has_key?"),j(o,"size","length"),j(o,"store","[]="),j(o,"to_s","inspect"),j(o,"update","merge!"),j(o,"value?","has_value?"),j(o,"values_at","indexes")}("::",Map,b)};Opal.modules["corelib/number"]=function(e){var E=e.klass,F=e.Opal,X=e.Kernel,q=e.def,re=e.eqeqeq,Z=e.truthy,N=e.rb_gt,V=e.not,g=e.rb_lt,H=e.alias,$e=e.send2,J=e.find_super,Y=e.send,ee=e.rb_plus,Q=e.rb_minus,y=e.eqeq,S=e.return_self,C=e.rb_divide,G=e.to_ary,k=e.rb_times,D=e.rb_le,m=e.rb_ge,w=e.return_val,j=e.const_set,T=e.top,b=[],s=e.nil,_=e.$$$;return e.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),T.$require("corelib/numeric"),function(x,h,c){var o=E(x,h,"Number");F.$bridge(Number,o),e.prop(o.$$prototype,"$$is_number",!0),o.$$is_number_class=!0;var L=new Map;(function(n,r){return q(n,"$allocate",function(){var i=this;return X.$raise(_("TypeError"),"allocator undefined for "+i.$name())}),e.udef(n,"$new"),s})(e.get_singleton_class(o)),q(o,"$coerce",function(r){var $=this;if(r===s)X.$raise(_("TypeError"),"can't convert "+r.$class()+" into Float");else{if(r.$$is_string)return[X.$Float(r),$];if(r["$respond_to?"]("to_f"))return[F["$coerce_to!"](r,_("Float"),"to_f"),$];if(r.$$is_number)return[r,$];X.$raise(_("TypeError"),"can't convert "+r.$class()+" into Float")}}),q(o,"$__id__",function(){var r=this;if(r|r===0)return r*2+1;if(L.has(r))return L.get(r);var $=e.uid();return L.set(r,$),$}),q(o,"$hash",function(){var r=this;return r|r===0?r.$__id__():r.toString().$hash()}),q(o,"$+",function(r){var $=this;return r.$$is_number?$+r:$.$__coerced__("+",r)}),q(o,"$-",function(r){var $=this;return r.$$is_number?$-r:$.$__coerced__("-",r)}),q(o,"$*",function(r){var $=this;return r.$$is_number?$*r:$.$__coerced__("*",r)}),q(o,"$/",function(r){var $=this;return r.$$is_number?$/r:$.$__coerced__("/",r)}),q(o,"$%",function(r){var $=this;if(r.$$is_number){if(r==-1/0)return r;if(r==0)X.$raise(_("ZeroDivisionError"),"divided by 0");else return r<0||$<0?($%r+r)%r:$%r}else return $.$__coerced__("%",r)}),q(o,"$&",function(r){var $=this;return r.$$is_number?$&r:$.$__coerced__("&",r)}),q(o,"$|",function(r){var $=this;return r.$$is_number?$|r:$.$__coerced__("|",r)}),q(o,"$^",function(r){var $=this;return r.$$is_number?$^r:$.$__coerced__("^",r)}),q(o,"$<",function(r){var $=this;return r.$$is_number?$<r:$.$__coerced__("<",r)}),q(o,"$<=",function(r){var $=this;return r.$$is_number?$<=r:$.$__coerced__("<=",r)}),q(o,"$>",function(r){var $=this;return r.$$is_number?$>r:$.$__coerced__(">",r)}),q(o,"$>=",function(r){var $=this;return r.$$is_number?$>=r:$.$__coerced__(">=",r)});var K=function(n,r){return r.$$is_number?isNaN(n)||isNaN(r)?s:n>r?1:n<r?-1:0:n.$__coerced__("<=>",r)};q(o,"$<=>",function(r){var $=this;try{return K($,r)}catch(i){if(e.rescue(i,[_("ArgumentError")]))try{return s}finally{e.pop_exception(i)}else throw i}}),q(o,"$<<",function(r){var $=this;return r=F["$coerce_to!"](r,_("Integer"),"to_int"),r>0?$<<r:$>>-r}),q(o,"$>>",function(r){var $=this;return r=F["$coerce_to!"](r,_("Integer"),"to_int"),r>0?$>>r:$<<-r}),q(o,"$[]",function(r){var $=this;return r=F["$coerce_to!"](r,_("Integer"),"to_int"),r<0?0:r>=32?$<0?1:0:$>>r&1}),q(o,"$+@",function(){var r=this;return+r}),q(o,"$-@",function(){var r=this;return-r}),q(o,"$~",function(){var r=this;return~r}),q(o,"$**",function(r){var $=this;return re(_("Integer"),r)?V(_("Integer")["$==="]($))||Z(N(r,0))?Math.pow($,r):_("Rational").$new($,1)["$**"](r):Z(g($,0))&&(re(_("Float"),r)||re(_("Rational"),r))?_("Complex").$new($,0)["$**"](r.$to_f()):Z(r.$$is_number!=null)?Math.pow($,r):$.$__coerced__("**",r)}),q(o,"$==",function(r){var $=this;return r.$$is_number?$.valueOf()===r.valueOf():r["$respond_to?"]("==")?r["$=="]($):!1}),H(o,"===","=="),q(o,"$abs",function(){var r=this;return Math.abs(r)}),q(o,"$abs2",function(){var r=this;return Math.abs(r*r)}),q(o,"$allbits?",function(r){var $=this;return r=F["$coerce_to!"](r,_("Integer"),"to_int"),($&r)==r}),q(o,"$anybits?",function(r){var $=this;return r=F["$coerce_to!"](r,_("Integer"),"to_int"),($&r)!==0}),q(o,"$angle",function(){var r=this;return Z(r["$nan?"]())?r:r==0?1/r>0?0:Math.PI:r<0?Math.PI:0}),q(o,"$bit_length",function(){var r=this;if(re(_("Integer"),r)||X.$raise(_("NoMethodError").$new("undefined method `bit_length` for "+r+":Float","bit_length")),r===0||r===-1)return 0;for(var $=0,i=r<0?~r:r;i!=0;)$+=1,i>>>=1;return $}),q(o,"$ceil",function(r){var $=this;r==null&&(r=0);var i=$.$to_f();if(i%1===0&&r>=0)return i;var u=Math.pow(10,r),p=Math.ceil(i*u)/u;return i%1===0&&(p=Math.round(p)),p},-1),q(o,"$chr",function(r){var $=this;return e.enc(String.fromCharCode($),r||"BINARY")},-1),q(o,"$denominator",function n(){var r=n.$$p||s,$=this;return n.$$p=null,Z($["$nan?"]())||Z($["$infinite?"]())?1:$e($,J($,"denominator",n,!1,!0),"denominator",[],r)}),q(o,"$downto",function n(r){var $=n.$$p||s,i=this;if(n.$$p=null,$===s)return Y(i,"enum_for",["downto",r],function p(){var A=p.$$s==null?this:p.$$s;return re(_("Numeric"),r)||X.$raise(_("ArgumentError"),"comparison of "+A.$class()+" with "+r.$class()+" failed"),Z(N(r,A))?0:ee(Q(A,r),1)},{$$s:i});r.$$is_number||X.$raise(_("ArgumentError"),"comparison of "+i.$class()+" with "+r.$class()+" failed");for(var u=i;u>=r;u--)$(u);return i}),q(o,"$equal?",function(r){var $=this,i=s;return Z(i=$["$=="](r))?i:isNaN($)&&isNaN(r)}),q(o,"$even?",function(){var r=this;return r%2===0}),q(o,"$floor",function(r){var $=this;r==null&&(r=0);var i=$.$to_f();if(i%1===0&&r>=0)return i;var u=Math.pow(10,r),p=Math.floor(i*u)/u;return i%1===0&&(p=Math.round(p)),p},-1),q(o,"$gcd",function(r){var $=this;re(_("Integer"),r)||X.$raise(_("TypeError"),"not an integer");for(var i=Math.abs($),u=Math.abs(r);i>0;){var p=i;i=u%i,u=p}return u}),q(o,"$gcdlcm",function(r){var $=this;return[$.$gcd(r),$.$lcm(r)]}),q(o,"$integer?",function(){var r=this;return r%1===0}),q(o,"$is_a?",function n(r){var $=n.$$p||s,i=this;return n.$$p=null,y(r,_("Integer"))&&re(_("Integer"),i)||y(r,_("Integer"))&&re(_("Integer"),i)||y(r,_("Float"))&&re(_("Float"),i)?!0:$e(i,J(i,"is_a?",n,!1,!0),"is_a?",[r],$)}),q(o,"$instance_of?",function n(r){var $=n.$$p||s,i=this;return n.$$p=null,y(r,_("Integer"))&&re(_("Integer"),i)||y(r,_("Integer"))&&re(_("Integer"),i)||y(r,_("Float"))&&re(_("Float"),i)?!0:$e(i,J(i,"instance_of?",n,!1,!0),"instance_of?",[r],$)}),q(o,"$lcm",function(r){var $=this;return re(_("Integer"),r)||X.$raise(_("TypeError"),"not an integer"),$==0||r==0?0:Math.abs($*r/$.$gcd(r))}),q(o,"$next",function(){var r=this;return r+1}),q(o,"$nobits?",function(r){var $=this;return r=F["$coerce_to!"](r,_("Integer"),"to_int"),($&r)==0}),q(o,"$nonzero?",function(){var r=this;return r==0?s:r}),q(o,"$numerator",function n(){var r=n.$$p||s,$=this;return n.$$p=null,Z($["$nan?"]())||Z($["$infinite?"]())?$:$e($,J($,"numerator",n,!1,!0),"numerator",[],r)}),q(o,"$odd?",function(){var r=this;return r%2!==0}),q(o,"$ord",S),q(o,"$pow",function(r,$){var i=this;return i==0&&X.$raise(_("ZeroDivisionError"),"divided by 0"),$===void 0?i["$**"](r):(_("Integer")["$==="](r)||X.$raise(_("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),r<0&&X.$raise(_("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),_("Integer")["$==="]($)||X.$raise(_("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),$===0&&X.$raise(_("ZeroDivisionError"),"divided by 0"),i["$**"](r)["$%"]($))},-2),q(o,"$pred",function(){var r=this;return r-1}),q(o,"$quo",function n(r){var $=n.$$p||s,i=this;return n.$$p=null,re(_("Integer"),i)?$e(i,J(i,"quo",n,!1,!0),"quo",[r],$):C(i,r)}),q(o,"$rationalize",function(r){var $,i,u=this,p=s,A=s;return arguments.length>1&&X.$raise(_("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),re(_("Integer"),u)?_("Rational").$new(u,1):Z(u["$infinite?"]())?X.$raise(_("FloatDomainError"),"Infinity"):Z(u["$nan?"]())?X.$raise(_("FloatDomainError"),"NaN"):Z(r==null)?(i=_("Math").$frexp(u),$=G(i),p=$[0]==null?s:$[0],A=$[1]==null?s:$[1],p=_("Math").$ldexp(p,_(_("Float"),"MANT_DIG")).$to_i(),A=Q(A,_(_("Float"),"MANT_DIG")),_("Rational").$new(k(2,p),1["$<<"](Q(1,A))).$rationalize(_("Rational").$new(1,1["$<<"](Q(1,A))))):u.$to_r().$rationalize(r)},-1),q(o,"$remainder",function(r){var $=this;return Q($,k(r,C($,r).$truncate()))}),q(o,"$round",function(r){var $,i,u=this,p=s;if(re(_("Integer"),u)){if(Z(r==null)||(re(_("Float"),r)&&Z(r["$infinite?"]())&&X.$raise(_("RangeError"),"Infinity"),r=F["$coerce_to!"](r,_("Integer"),"to_int"),Z(g(r,_(_("Integer"),"MIN")))&&X.$raise(_("RangeError"),"out of bounds"),Z(r>=0)))return u;if(r=r["$-@"](),.415241*r-.125>u.$size())return 0;var A=Math.pow(10,r),M=Math.floor((Math.abs(u)+A/2)/A)*A;return u<0?-M:M}else{if(Z(u["$nan?"]())&&Z(r==null)&&X.$raise(_("FloatDomainError"),"NaN"),r=F["$coerce_to!"](r||0,_("Integer"),"to_int"),Z(D(r,0)))Z(u["$nan?"]())?X.$raise(_("RangeError"),"NaN"):Z(u["$infinite?"]())&&X.$raise(_("FloatDomainError"),"Infinity");else{if(y(r,0))return Math.round(u);if(Z(u["$nan?"]())||Z(u["$infinite?"]()))return u}return i=_("Math").$frexp(u),$=G(i),$[0]==null||$[0],p=$[1]==null?s:$[1],Z(m(r,Q(ee(_(_("Float"),"DIG"),2),Z(N(p,0))?C(p,4):Q(C(p,3),1))))?u:Z(g(r,(Z(N(p,0))?ee(C(p,3),1):C(p,4))["$-@"]()))?0:Math.round(u*Math.pow(10,r))/Math.pow(10,r)}},-1),q(o,"$times",function n(){var r=n.$$p||s,$=this;if(n.$$p=null,!Z(r))return Y($,"enum_for",["times"],function u(){var p=u.$$s==null?this:u.$$s;return p},{$$s:$});for(var i=0;i<$;i++)r(i);return $}),q(o,"$to_f",S),q(o,"$to_i",function(){var r=this;return r<0?Math.ceil(r):Math.floor(r)}),q(o,"$to_r",function(){var r,$,i=this,u=s,p=s;return re(_("Integer"),i)?_("Rational").$new(i,1):($=_("Math").$frexp(i),r=G($),u=r[0]==null?s:r[0],p=r[1]==null?s:r[1],u=_("Math").$ldexp(u,_(_("Float"),"MANT_DIG")).$to_i(),p=Q(p,_(_("Float"),"MANT_DIG")),k(u,_(_("Float"),"RADIX")["$**"](p)).$to_r())}),q(o,"$to_s",function(r){var $=this;return r==null&&(r=10),r=F["$coerce_to!"](r,_("Integer"),"to_int"),(Z(g(r,2))||Z(N(r,36)))&&X.$raise(_("ArgumentError"),"invalid radix "+r),y($,0)&&Z(1/$===-1/0)?"-0.0":$.toString(r)},-1),q(o,"$truncate",function(r){var $=this;r==null&&(r=0);var i=$.$to_f();if(i%1===0&&r>=0)return i;var u=Math.pow(10,r),p=parseInt(i*u,10)/u;return i%1===0&&(p=Math.round(p)),p},-1),q(o,"$digits",function(r){var $=this;r==null&&(r=10),Z(g($,0))&&X.$raise(_(_("Math"),"DomainError"),"out of domain"),r=F["$coerce_to!"](r,_("Integer"),"to_int"),Z(g(r,2))&&X.$raise(_("ArgumentError"),"invalid radix "+r),$!=parseInt($)&&X.$raise(_("NoMethodError"),"undefined method `digits' for "+$.$inspect());var i=$,u=[];if($==0)return[0];for(;i!=0;)u.push(i%r),i=parseInt(i/r,10);return u},-1),q(o,"$divmod",function n(r){var $=n.$$p||s,i=this;return n.$$p=null,Z(i["$nan?"]())||Z(r["$nan?"]())?X.$raise(_("FloatDomainError"),"NaN"):Z(i["$infinite?"]())?X.$raise(_("FloatDomainError"),"Infinity"):$e(i,J(i,"divmod",n,!1,!0),"divmod",[r],$)}),q(o,"$upto",function n(r){var $=n.$$p||s,i=this;if(n.$$p=null,$===s)return Y(i,"enum_for",["upto",r],function p(){var A=p.$$s==null?this:p.$$s;return re(_("Numeric"),r)||X.$raise(_("ArgumentError"),"comparison of "+A.$class()+" with "+r.$class()+" failed"),Z(g(r,A))?0:ee(Q(r,A),1)},{$$s:i});r.$$is_number||X.$raise(_("ArgumentError"),"comparison of "+i.$class()+" with "+r.$class()+" failed");for(var u=i;u<=r;u++)$(u);return i}),q(o,"$zero?",function(){var r=this;return r==0}),q(o,"$size",w(4)),q(o,"$nan?",function(){var r=this;return isNaN(r)}),q(o,"$finite?",function(){var r=this;return r!=1/0&&r!=-1/0&&!isNaN(r)}),q(o,"$infinite?",function(){var r=this;return r==1/0?1:r==-1/0?-1:s}),q(o,"$positive?",function(){var r=this;return r!=0&&(r==1/0||1/r>0)}),q(o,"$negative?",function(){var r=this;return r==-1/0||1/r<0});function d(n){var r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,n,!0),r}function f(n){return new DataView(n.buffer).getFloat64(0,!0)}function a(n){for(var r=d(n),$=0;$<r.length;$++)if(r[$]===255)r[$]=0;else{r[$]++;break}return f(r)}function t(n){for(var r=d(n),$=0;$<r.length;$++)if(r[$]===0)r[$]=255;else{r[$]--;break}return f(r)}return q(o,"$next_float",function(){var r=this;return y(r,_(_("Float"),"INFINITY"))?_(_("Float"),"INFINITY"):Z(r["$nan?"]())?_(_("Float"),"NAN"):Z(m(r,0))?a(Math.abs(r)):t(r)}),q(o,"$prev_float",function(){var r=this;return y(r,_(_("Float"),"INFINITY")["$-@"]())?_(_("Float"),"INFINITY")["$-@"]():Z(r["$nan?"]())?_(_("Float"),"NAN"):Z(N(r,0))?t(r):-a(Math.abs(r))}),H(o,"arg","angle"),H(o,"eql?","=="),H(o,"fdiv","/"),H(o,"inspect","to_s"),H(o,"kind_of?","is_a?"),H(o,"magnitude","abs"),H(o,"modulo","%"),H(o,"object_id","__id__"),H(o,"phase","angle"),H(o,"succ","next"),H(o,"to_int","to_i")}("::",_("Numeric")),j("::","Fixnum",_("Number")),function(x,h,c){var o=E(x,h,"Integer"),L=[o].concat(c);return o.$$is_number_class=!0,o.$$is_integer_class=!0,function(K,d){var f=[K].concat(d),a=e.$r(f);return q(K,"$allocate",function(){var n=this;return X.$raise(_("TypeError"),"allocator undefined for "+n.$name())}),e.udef(K,"$new"),q(K,"$sqrt",function(n){return n=F["$coerce_to!"](n,_("Integer"),"to_int"),n<0&&X.$raise(_(_("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(n),10)}),q(K,"$try_convert",function(n){var r=this;return a("Opal")["$coerce_to?"](n,r,"to_int")})}(e.get_singleton_class(o),L),j(o,"MAX",Math.pow(2,30)-1),j(o,"MIN",-Math.pow(2,30))}("::",_("Numeric"),b),function(x,h,c){var o=E(x,h,"Float");return o.$$is_number_class=!0,function(L,K){return q(L,"$allocate",function(){var f=this;return X.$raise(_("TypeError"),"allocator undefined for "+f.$name())}),e.udef(L,"$new"),q(L,"$===",function(f){return!!f.$$is_number})}(e.get_singleton_class(o)),j(o,"INFINITY",1/0),j(o,"MAX",Number.MAX_VALUE),j(o,"MIN",Number.MIN_VALUE),j(o,"NAN",NaN),j(o,"DIG",15),j(o,"MANT_DIG",53),j(o,"RADIX",2),j(o,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",_("Numeric"))};Opal.modules["corelib/range"]=function(e){var E=e.klass,F=e.truthy,X=e.Kernel,q=e.def,re=e.not,Z=e.send2,N=e.find_super,V=e.lambda,g=e.send,H=e.rb_ge,$e=e.rb_gt,J=e.eqeq,Y=e.rb_le,ee=e.rb_lt,Q=e.eqeqeq,y=e.return_ivar,S=e.rb_minus,C=e.Opal,G=e.rb_divide,k=e.rb_plus,D=e.rb_times,m=e.thrower,w=e.alias,j=e.top,T=[],b=e.nil,s=e.$$$;return e.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),j.$require("corelib/enumerable"),function(_,x,h){var c=E(_,x,"Range"),o=[c].concat(h),L=e.$r(o),K=c.$$prototype;K.begin=K.end=K.excl=b,c.$include(s("Enumerable")),c.$$prototype.$$is_range=!0,c.$attr_reader("begin","end"),q(c,"$initialize",function(a,t,n){var r=this;return n==null&&(n=!1),F(r.begin)&&X.$raise(s("NameError"),"'initialize' called twice"),F(a["$<=>"](t))||F(a["$nil?"]())||F(t["$nil?"]())||X.$raise(s("ArgumentError"),"bad value for range"),r.begin=a,r.end=t,r.excl=n},-3),q(c,"$===",function(a){var t=this;return F(a.$$is_range)?!1:t["$cover?"](a)});function d(f){return f.begin===b||f.end===b||f.begin===-1/0||f.end===1/0||f.begin===1/0||f.end===-1/0}return q(c,"$count",function f(){var a=f.$$p||b,t=this;return f.$$p=null,re(a!==b)&&F(d(t))?s(s("Float"),"INFINITY"):Z(t,N(t,"count",f,!1,!0),"count",[],a)}),q(c,"$to_a",function f(){var a=f.$$p||b,t=this;return f.$$p=null,F(d(t))&&X.$raise(s("TypeError"),"cannot convert endless range to an array"),Z(t,N(t,"to_a",f,!1,!0),"to_a",[],a)}),q(c,"$cover?",function(a){var t=this,n=b,r=b,$=b,i=b,u=b,p=b,A=b,M=b;return n=V(function(U,O){var ae=b;return U==null&&(U=b),O==null&&(O=b),F(ae=U["$<=>"](O))?ae:1}),F(a.$$is_range)?(r=a.$begin(),$=a.$end(),i=a["$exclude_end?"](),F(t.begin)&&F(r["$nil?"]())||F(t.end)&&F($["$nil?"]())||F(r)&&F($)&&F(g(n.$call(r,$),"then",[],function(U){return U==null&&(U=b),F(i)?H(U,0):$e(U,0)}))||F(r)&&re(t["$cover?"](r))?!1:(u=n.$call(t.end,$),J(t.excl,i)?H(u,0):F(t.excl)?$e(u,0):F(H(u,0))?!0:(p=a.$max(),F(A=p["$nil?"]()["$!"]())?Y(n.$call(p,t.end),0):A))):F(t.begin)&&F($e(n.$call(t.begin,a),0))?!1:F(t.end["$nil?"]())?!0:(M=n.$call(a,t.end),F(t.excl)?ee(M,0):Y(M,0))}),q(c,"$each",function f(){var a=f.$$p||b,t=this,n=b,r=b,$=b;if(f.$$p=null,a===b)return g(t,"enum_for",["each"],function p(){var A=p.$$s==null?this:p.$$s;return A.$size()},{$$s:t});var i,u;if(t.begin.$$is_number&&t.end.$$is_number){for((t.begin%1!==0||t.end%1!==0)&&X.$raise(s("TypeError"),"can't iterate from Float"),i=t.begin,u=t.end+(F(t.excl)?0:1);i<u;i++)a(i);return t}if(t.begin.$$is_string&&t.end.$$is_string)return g(t.begin,"upto",[t.end,t.excl],a.$to_proc()),t;for(n=t.begin,r=t.end,F(n["$respond_to?"]("succ"))||X.$raise(s("TypeError"),"can't iterate from "+n.$class());F(F($=t.end["$nil?"]())?$:ee(n["$<=>"](r),0));)e.yield1(a,n),n=n.$succ();return re(t.excl)&&J(n,r)&&e.yield1(a,n),t}),q(c,"$eql?",function(a){var t=this,n=b,r=b;return Q(s("Range"),a)?F(n=F(r=t.excl["$==="](a["$exclude_end?"]()))?t.begin["$eql?"](a.$begin()):r)?t.end["$eql?"](a.$end()):n:!1}),q(c,"$exclude_end?",y("excl")),q(c,"$first",function f(a){var t=f.$$p||b,n=this;return f.$$p=null,F(n.begin["$nil?"]())&&X.$raise(s("RangeError"),"cannot get the minimum of beginless range"),F(a==null)?n.begin:Z(n,N(n,"first",f,!1,!0),"first",[a],t)},-1),q(c,"$include?",function f(a){var t=f.$$p||b,n=this,r=b,$=b;if(f.$$p=null,F(n.begin.$$is_number||n.end.$$is_number)||F(n.begin["$is_a?"](s("Time")))||F(n.end["$is_a?"](s("Time")))||F(s("Integer").$try_convert(n.begin))||F(s("Integer").$try_convert(n.end)))return n["$cover?"](a);if(F(n.begin.$$is_string||n.end.$$is_string)){if(F(n.begin.$$is_string&&n.end.$$is_string))return g(n.begin.$upto(n.end,n.excl),"any?",[],function(u){return u==null&&(u=b),u["$=="](a)});if(F(n.begin["$nil?"]()))return r=a["$<=>"](n.end),F($=r["$nil?"]()["$!"]())?F(n.excl)?ee(r,0):Y(r,0):$;if(F(n.end["$nil?"]()))return r=n.begin["$<=>"](a),F($=r["$nil?"]()["$!"]())?Y(r,0):$}return Z(n,N(n,"include?",f,!1,!0),"include?",[a],t)}),q(c,"$last",function(a){var t=this;return F(t.end["$nil?"]())&&X.$raise(s("RangeError"),"cannot get the maximum of endless range"),F(a==null)?t.end:t.$to_a().$last(a)},-1),q(c,"$max",function f(){var a=f.$$p||b,t=this;return f.$$p=null,F(t.end["$nil?"]())?X.$raise(s("RangeError"),"cannot get the maximum of endless range"):a!==b?Z(t,N(t,"max",f,!1,!0),"max",[],a):re(t.begin["$nil?"]())&&(F($e(t.begin,t.end))||F(t.excl)&&J(t.begin,t.end))?b:t.excl?t.end-1:t.end}),q(c,"$min",function f(){var a=f.$$p||b,t=this;return f.$$p=null,F(t.begin["$nil?"]())?X.$raise(s("RangeError"),"cannot get the minimum of beginless range"):a!==b?Z(t,N(t,"min",f,!1,!0),"min",[],a):re(t.end["$nil?"]())&&(F($e(t.begin,t.end))||F(t.excl)&&J(t.begin,t.end))?b:t.begin}),q(c,"$size",function(){var a=this.begin,t=this.end;if(s("Numeric")["$==="](a)){if(s("Numeric")["$==="](t)){var n=S(t,a);return n<0?0:(this.excl||(n+=1),s("Float")["$==="](a)||s("Float")["$==="](t)?Math.floor(n):n)}else if(t===b)return 1/0}else if(a===b&&s("Numeric")["$==="](t))return 1/0;return b}),q(c,"$step",function f(a){var t=f.$$p||b,n=this,r=b,$=b;f.$$p=null;function i(){a==null?a=1:a.$$is_number||(a=C["$coerce_to!"](a,s("Integer"),"to_int")),a<0?X.$raise(s("ArgumentError"),"step can't be negative"):a===0&&X.$raise(s("ArgumentError"),"step can't be 0")}function u(){if(!n.begin["$respond_to?"]("succ")||n.begin.$$is_string&&n.end.$$is_string)return b;if(a%1===0)return G(n.$size(),a).$ceil();var p=n.begin,A=n.end,M=Math.abs,I=Math.floor,U=(M(p)+M(A)+M(A-p))/M(a)*s(s("Float"),"EPSILON"),O;return U>.5&&(U=.5),n.excl?(O=I((A-p)/a-U),O*a+p<A&&O++):O=I((A-p)/a+U)+1,O}return t===b?(F(n.begin["$is_a?"](L("Numeric")))||F(n.begin["$nil?"]()))&&(F(n.end["$is_a?"](L("Numeric")))||F(n.end["$nil?"]()))&&re(F(r=n.begin["$nil?"]())?n.end["$nil?"]():r)?s(s("Enumerator"),"ArithmeticSequence").$new(n,a,"step"):g(n,"enum_for",["step",a],function(){return i(),u()}):(i(),F(n.begin.$$is_number&&n.end.$$is_number)?($=0,function(){try{var p=m("break");return g(n,"loop",[],function A(){var M=A.$$s==null?this:A.$$s,I=b;return M.begin==null&&(M.begin=b),M.excl==null&&(M.excl=b),M.end==null&&(M.end=b),I=k(M.begin,D($,a)),F(M.excl)?F(H(I,M.end))&&p.$throw(b,A.$$is_lambda):F($e(I,M.end))&&p.$throw(b,A.$$is_lambda),e.yield1(t,I),$=k($,1)},{$$s:n})}catch(A){if(A===p)return A.$v;throw A}finally{p.is_orphan=!0}}()):(n.begin.$$is_string&&n.end.$$is_string&&a%1!==0&&X.$raise(s("TypeError"),"no implicit conversion to float from string"),g(n,"each_with_index",[],function(A,M){return A==null&&(A=b),M==null&&(M=b),J(M["$%"](a),0)?e.yield1(t,A):b})),n)},-1),q(c,"$%",function(a){var t=this;return F(t.begin["$is_a?"](L("Numeric")))&&F(t.end["$is_a?"](L("Numeric")))?s(s("Enumerator"),"ArithmeticSequence").$new(t,a,"%"):t.$step(a)}),q(c,"$bsearch",function f(){var a=f.$$p||b,t=this;return f.$$p=null,a===b?t.$enum_for("bsearch"):(F(d(t)&&(t.begin.$$is_number||t.end.$$is_number))&&X.$raise(s("NotImplementedError"),"Can't #bsearch an infinite range"),F(t.begin.$$is_number&&t.end.$$is_number)||X.$raise(s("TypeError"),"can't do binary search for "+t.begin.$class()),g(t.$to_a(),"bsearch",[],a.$to_proc()))}),q(c,"$to_s",function(){var a=this,t=b;return""+(F(t=a.begin)?t:"")+(F(a.excl)?"...":"..")+(F(t=a.end)?t:"")}),q(c,"$inspect",function(){var a=this,t=b;return""+(F(t=a.begin)?a.begin.$inspect():t)+(F(a.excl)?"...":"..")+(F(t=a.end)?a.end.$inspect():t)}),q(c,"$marshal_load",function(a){var t=this;return t.begin=a["$[]"]("begin"),t.end=a["$[]"]("end"),t.excl=a["$[]"]("excl")}),q(c,"$hash",function(){var a=this;return[s("Range"),a.begin,a.end,a.excl].$hash()}),w(c,"==","eql?"),w(c,"member?","include?")}("::",null,T)};Opal.modules["corelib/proc"]=function(e){var E=e.slice,F=e.each_ivar,X=e.klass,q=e.truthy,re=e.Kernel,Z=e.defs,N=e.def,V=e.send,g=e.to_a,H=e.return_self,$e=e.ensure_kwargs,J=e.hash_get,Y=e.Opal,ee=e.alias,Q=e.nil,y=e.$$$;return e.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(S,C){var G=X(S,C,"Proc");e.prop(G.$$prototype,"$$is_proc",!0),e.prop(G.$$prototype,"$$is_lambda",!1),Z(G,"$new",function m(){var w=m.$$p||Q;return m.$$p=null,q(w)||re.$raise(y("ArgumentError"),"tried to create a Proc object without a block"),w});function k(m,w){if(m.$$ret)try{return m.apply(null,w)}catch(j){if(j===m.$$ret)return j.$v;throw j}else return m.apply(null,w)}function D(m,w){if(m.$$brk)try{return e.yieldX(m,w)}catch(j){if(j===m.$$brk)return j.$v;throw j}else return e.yieldX(m,w)}return N(G,"$call",function m(w){var j=m.$$p||Q,T,b,s=this;return m.$$p=null,T=E(arguments),b=T,j!==Q&&(s.$$p=j),s.$$is_lambda?k(s,b):D(s,b)},-1),N(G,"$>>",function m(w){m.$$p;var j=this;return m.$$p=null,V(re,"proc",[],function T(b){var s=T.$$p||Q,_,x,h=T.$$s==null?this:T.$$s,c=Q;return T.$$p=null,_=E(arguments),x=_,c=V(h,"call",g(x),s.$to_proc()),w.$call(c)},{$$arity:-1,$$s:j})}),N(G,"$<<",function m(w){m.$$p;var j=this;return m.$$p=null,V(re,"proc",[],function T(b){var s=T.$$p||Q,_,x,h=T.$$s==null?this:T.$$s,c=Q;return T.$$p=null,_=E(arguments),x=_,c=V(w,"call",g(x),s.$to_proc()),h.$call(c)},{$$arity:-1,$$s:j})}),N(G,"$to_proc",H),N(G,"$lambda?",function(){var w=this;return!!w.$$is_lambda}),N(G,"$arity",function(){var w=this;return w.$$is_curried?-1:w.$$arity!=null?w.$$arity:w.length}),N(G,"$source_location",function(){var w=this,j=Q;return w.$$is_curried?Q:q(j=w.$$source_location)?j:Q}),N(G,"$binding",function(){var w=this;return w.$$is_curried&&re.$raise(y("ArgumentError"),"Can't create Binding"),q(y("::","Binding","skip_raise")?"constant":Q)?y("Binding").$new(Q,[],w.$$s,w.$source_location()):Q}),N(G,"$parameters",function(w){var j,T=this;if(w=$e(w),j=J(w,"lambda"),T.$$is_curried)return[["rest"]];if(T.$$parameters){if(j??T.$$is_lambda)return T.$$parameters;var b=[],s,_;for(s=0,_=T.$$parameters.length;s<_;s++){var x=T.$$parameters[s];x[0]==="req"&&(x=["opt",x[1]]),b.push(x)}return b}else return[]},-1),N(G,"$curry",function(w){var j=this;w===void 0?w=j.length:(w=Y["$coerce_to!"](w,y("Integer"),"to_int"),j.$$is_lambda&&w!==j.length&&re.$raise(y("ArgumentError"),"wrong number of arguments ("+w+" for "+j.length+")"));function T(){var b=E(arguments),s=b.length,_;return s>w&&j.$$is_lambda&&!j.$$is_curried&&re.$raise(y("ArgumentError"),"wrong number of arguments ("+s+" for "+w+")"),s>=w?j.$call.apply(j,b):(_=function(){return T.apply(null,b.concat(E(arguments)))},_.$$is_lambda=j.$$is_lambda,_.$$is_curried=!0,_)}return T.$$is_lambda=j.$$is_lambda,T.$$is_curried=!0,T},-1),N(G,"$dup",function(){var w=this,j=w.$$original_proc||w,T=function(){return j.apply(this,arguments)};return F(w,function(b){T[b]=w[b]}),T}),ee(G,"===","call"),ee(G,"clone","dup"),ee(G,"yield","call"),ee(G,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(e){var E=e.klass,F=e.def,X=e.truthy,q=e.slice,re=e.alias,Z=e.Kernel,N=e.send,V=e.to_a,g=e.nil,H=e.$$$;return e.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function($e,J){var Y=E($e,J,"Method"),ee=Y.$$prototype;return ee.method=ee.receiver=ee.owner=ee.name=g,Y.$attr_reader("owner","receiver","name"),F(Y,"$initialize",function(y,S,C,G){var k=this;return k.receiver=y,k.owner=S,k.name=G,k.method=C}),F(Y,"$arity",function(){var y=this;return y.method.$arity()}),F(Y,"$parameters",function(){var y=this;return y.method.$$parameters}),F(Y,"$source_location",function(){var y=this,S=g;return X(S=y.method.$$source_location)?S:["(eval)",0]}),F(Y,"$comments",function(){var y=this,S=g;return X(S=y.method.$$comments)?S:[]}),F(Y,"$call",function Q(y){var S=Q.$$p||g,C,G,k=this;return Q.$$p=null,C=q(arguments),G=C,k.method.$$p=S,k.method.apply(k.receiver,G)},-1),F(Y,"$curry",function(y){var S=this;return S.method.$curry(y)},-1),F(Y,"$>>",function(y){var S=this;return S.method["$>>"](y)}),F(Y,"$<<",function(y){var S=this;return S.method["$<<"](y)}),F(Y,"$unbind",function(){var y=this;return H("UnboundMethod").$new(y.receiver.$class(),y.owner,y.method,y.name)}),F(Y,"$to_proc",function(){var y=this,S=y.$call.bind(y);return S.$$unbound=y.method,S.$$is_lambda=!0,S.$$arity=y.method.$$arity==null?y.method.length:y.method.$$arity,S.$$parameters=y.method.$$parameters,S}),F(Y,"$inspect",function(){var y=this;return"#<"+y.$class()+": "+y.receiver.$class()+"#"+y.name+" (defined in "+y.owner+" in "+y.$source_location().$join(":")+")>"}),re(Y,"[]","call"),re(Y,"===","call")}("::",null),function($e,J){var Y=E($e,J,"UnboundMethod"),ee=Y.$$prototype;return ee.method=ee.owner=ee.name=ee.source=g,Y.$attr_reader("source","owner","name"),F(Y,"$initialize",function(y,S,C,G){var k=this;return k.source=y,k.owner=S,k.method=C,k.name=G,k.$$method=C}),F(Y,"$arity",function(){var y=this;return y.method.$arity()}),F(Y,"$parameters",function(){var y=this;return y.method.$$parameters}),F(Y,"$source_location",function(){var y=this,S=g;return X(S=y.method.$$source_location)?S:["(eval)",0]}),F(Y,"$comments",function(){var y=this,S=g;return X(S=y.method.$$comments)?S:[]}),F(Y,"$bind",function(y){var S=this;if(S.owner.$$is_module||e.is_a(y,S.owner))return H("Method").$new(y,S.owner,S.method,S.name);Z.$raise(H("TypeError"),"can't bind singleton method to a different class (expected "+y+".kind_of?("+S.owner+" to be true)")}),F(Y,"$bind_call",function Q(y,S){var C=Q.$$p||g,G,k,D=this;return Q.$$p=null,G=q(arguments,1),k=G,N(D.$bind(y),"call",V(k),C.$to_proc())},-2),F(Y,"$inspect",function(){var y=this;return"#<"+y.$class()+": "+y.source+"#"+y.name+" (defined in "+y.owner+" in "+y.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(e){var E=e.gvars,F=e.const_set,X=e.Object,q=e.nil;return e.add_stubs("new"),E["&"]=E["~"]=E["`"]=E["'"]=q,E.LOADED_FEATURES=E['"']=e.loaded_features,E.LOAD_PATH=E[":"]=[],E["/"]=`
`,E[","]=q,F("::","ARGV",[]),F("::","ARGF",X.$new()),F("::","ENV",new Map),E.VERBOSE=!1,E.DEBUG=!1,E.SAFE=0};Opal.modules["corelib/io"]=function(e){var E=e.klass,F=e.const_set,X=e.not,q=e.truthy,re=e.def,Z=e.return_ivar,N=e.return_val,V=e.slice,g=e.Kernel,H=e.gvars,$e=e.send,J=e.to_a,Y=e.rb_plus,ee=e.neqeq,Q=e.range,y=e.eqeq,S=e.to_ary,C=e.rb_gt,G=e.assign_ivar_val,k=e.alias,D,m=e.nil,w=e.$$$;e.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(T,b){var s=E(T,b,"IO"),_=s.$$prototype;return _.read_buffer=_.closed=m,F(s,"SEEK_SET",0),F(s,"SEEK_CUR",1),F(s,"SEEK_END",2),F(s,"SEEK_DATA",3),F(s,"SEEK_HOLE",4),F(s,"READABLE",1),F(s,"WRITABLE",4),s.$attr_reader("eof"),s.$attr_accessor("read_proc","sync","tty","write_proc"),re(s,"$initialize",function(h,c){var o=this;return c==null&&(c="r"),o.fd=h,o.flags=c,o.eof=!1,q(c["$include?"]("r"))&&X(c["$match?"](/[wa+]/))?o.closed="write":q(c["$match?"](/[wa]/))&&X(c["$match?"](/[r+]/))?o.closed="read":m},-2),re(s,"$fileno",Z("fd")),re(s,"$tty?",function(){var h=this;return h.tty==!0}),re(s,"$write",function(h){var c=this;return c.write_proc(h),h.$size()}),re(s,"$flush",N(m)),re(s,"$<<",function(h){var c=this;return c.$write(h),c}),re(s,"$print",function(h){var c,o,L=this;H[","]==null&&(H[","]=m),c=V(arguments),o=c;for(var K=0,d=o.length;K<d;K++)o[K]=g.$String(o[K]);return L.$write(o.join(H[","])),m},-1),re(s,"$puts",function(h){var c,o,L=this;c=V(arguments),o=c;var K;if(o.length===0)return L.$write(`
`),m;for(var d=0,f=o.length;d<f;d++)if(o[d].$$is_array){var a=o[d].$flatten();a.length>0&&$e(L,"puts",J(a))}else o[d].$$is_string?K=o[d].valueOf():K=g.$String(o[d]),K.endsWith(`
`)||(K+=`
`),L.$write(K);return m},-1),re(s,"$getc",function(){var h=this,c=m,o=m,L=m;h.read_buffer=q(c=h.read_buffer)?c:"",o="";do if(h.read_buffer=Y(h.read_buffer,o),ee(h.read_buffer,""))return L=h.read_buffer["$[]"](0),h.read_buffer=h.read_buffer["$[]"](Q(1,-1,!1)),L;while(q(o=h.$sysread_noraise(1)));return m}),re(s,"$getbyte",function(){var h,c=this;return h=c.$getc(),h===m||h==null?m:h.$ord()}),re(s,"$readbyte",function(){var h=this;return h.$readchar().$ord()}),re(s,"$readchar",function(){var h=this,c=m;return q(c=h.$getc())?c:g.$raise(w("EOFError"),"end of file reached")}),re(s,"$readline",function(h){var c,o,L=this,K=m;return c=V(arguments),o=c,q(K=$e(L,"gets",J(o)))?K:g.$raise(w("EOFError"),"end of file reached")},-1),re(s,"$gets",function(h,c,o){var L,K,d=this,f=m,a=m,t=m,n=m,r=m,$=m;H["/"]==null&&(H["/"]=m),h==null&&(h=!1),c==null&&(c=m),o==null&&(o=new Map),q(h.$$is_number)&&X(c)&&(L=[!1,h,c],h=L[0],c=L[1],o=L[2]),q(h.$$is_hash)&&X(c)&&y(o,new Map)?(L=[!1,m,h],h=L[0],c=L[1],o=L[2]):q(c.$$is_hash)&&y(o,new Map)&&(L=[h,m,c],h=L[0],c=L[1],o=L[2]),f=h,y(h,!1)&&(h=H["/"]),y(h,"")&&(h=/\r?\n\r?\n/),h=q(a=h)?a:"",y(f,"")||(h=h.$to_str()),t=y(f,"")?2:h.$length(),y(h," ")&&(h=/ /),d.read_buffer=q(a=d.read_buffer)?a:"",n="",r=m;do if(d.read_buffer=Y(d.read_buffer,n),ee(h,"")&&q(q(h.$$is_regexp)?d.read_buffer["$match?"](h):d.read_buffer["$include?"](h))){$=d.read_buffer,K=d.read_buffer.$split(h,2),L=S(K),r=L[0]==null?m:L[0],d.read_buffer=L[1]==null?m:L[1],ee(r,$)&&(r=Y(r,$["$[]"](r.$length(),t)));break}while(q(n=d.$sysread_noraise(y(h,"")?65536:1)));return q(r)||(L=[q(a=d.read_buffer)?a:"",""],r=L[0],d.read_buffer=L[1],y(r,"")&&(r=m)),q(r)&&(q(c)&&(r=r["$[]"](e.Range.$new(0,c,!0)),d.read_buffer=Y(r["$[]"](e.Range.$new(c,-1,!1)),d.read_buffer)),q(o["$[]"]("chomp"))&&(r=r.$sub(/\r?\n$/,"")),y(f,"")&&(r=r.$sub(/^[\r\n]+/,""))),y(f,!1)&&(H._=r),r},-1),re(s,"$sysread",function(h){var c=this,o=m;return q(o=c.read_proc(h))?o:(c.eof=!0,g.$raise(w("EOFError"),"end of file reached"))}),re(s,"$sysread_noraise",function(h){var c=this;try{return c.$sysread(h)}catch(o){if(e.rescue(o,[w("EOFError")]))try{return m}finally{e.pop_exception(o)}else throw o}}),re(s,"$readpartial",function(h){var c,o=this,L=m,K=m,d=m;return o.read_buffer=q(L=o.read_buffer)?L:"",K=o.$sysread(h),c=[Y(o.read_buffer,q(L=K)?L:""),""],d=c[0],o.read_buffer=c[1],y(d,"")&&(d=m),d}),re(s,"$read",function(h){var c,o=this,L=m,K=m,d=m;h==null&&(h=m),o.read_buffer=q(L=o.read_buffer)?L:"",K="",d=m;do if(o.read_buffer=Y(o.read_buffer,K),q(h)&&q(C(o.read_buffer.$length(),h)))return c=[o.read_buffer["$[]"](e.Range.$new(0,h,!0)),o.read_buffer["$[]"](e.Range.$new(h,-1,!1))],d=c[0],o.read_buffer=c[1],d;while(q(K=o.$sysread_noraise(q(L=h)?L:65536)));return c=[o.read_buffer,""],d=c[0],o.read_buffer=c[1],d},-1),re(s,"$readlines",function(h){var c=this;return H["/"]==null&&(H["/"]=m),h==null&&(h=H["/"]),c.$each_line(h).$to_a()},-1),re(s,"$each",function x(h,c){var o=x.$$p||m,L,K,d,f=this,a=m;if(H["/"]==null&&(H["/"]=m),x.$$p=null,L=V(arguments),L.length>0&&(K=L.shift()),K==null&&(K=H["/"]),d=L,o===m)return $e(f,"enum_for",["each",K].concat(J(d)));for(;q(a=$e(f,"gets",[K].concat(J(d))));)e.yield1(o,a);return f},-1),re(s,"$each_byte",function x(){var h=x.$$p||m,c=this,o=m;if(x.$$p=null,h===m)return c.$enum_for("each_byte");for(;q(o=c.$getbyte());)e.yield1(h,o);return c}),re(s,"$each_char",function x(){var h=x.$$p||m,c=this,o=m;if(x.$$p=null,h===m)return c.$enum_for("each_char");for(;q(o=c.$getc());)e.yield1(h,o);return c}),re(s,"$close",G("closed","both")),re(s,"$close_read",function(){var h=this;return y(h.closed,"write")?h.closed="both":h.closed="read"}),re(s,"$close_write",function(){var h=this;return y(h.closed,"read")?h.closed="both":h.closed="write"}),re(s,"$closed?",function(){var h=this;return h.closed["$=="]("both")}),re(s,"$closed_read?",function(){var h=this,c=m;return q(c=h.closed["$=="]("read"))?c:h.closed["$=="]("both")}),re(s,"$closed_write?",function(){var h=this,c=m;return q(c=h.closed["$=="]("write"))?c:h.closed["$=="]("both")}),re(s,"$check_writable",function(){var h=this;return q(h["$closed_write?"]())?g.$raise(w("IOError"),"not opened for writing"):m}),re(s,"$check_readable",function(){var h=this;return q(h["$closed_read?"]())?g.$raise(w("IOError"),"not opened for reading"):m}),k(s,"each_line","each"),k(s,"eof?","eof")}("::",null),F("::","STDIN",H.stdin=w("IO").$new(0,"r")),F("::","STDOUT",H.stdout=w("IO").$new(1,"w")),F("::","STDERR",H.stderr=w("IO").$new(2,"w"));var j=e.global.console;return w("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(T){process.stdout.write(T)}:function(T){j.log(T)}),w("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(T){process.stderr.write(T)}:function(T){j.warn(T)}),D=[function(T){var b=prompt();return b!==null?b+`
`:m}],$e(w("STDIN"),"read_proc=",D),D[D.length-1]};Opal.modules["opal/regexp_anchors"]=function(e){var E=e.module,F=e.const_set,X=[];e.nil;var q=e.$$$;return e.add_stubs("new"),function(re,Z){var N=E(re,"Opal"),V=[N].concat(Z),g=e.$r(V);return F(N,"REGEXP_START","^"),F(N,"REGEXP_END","$"),F(N,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),F(N,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),F(N,"INLINE_IDENTIFIER_REGEXP",g("Regexp").$new("[^"+q(N,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+q(N,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),F(N,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),F(N,"CONST_NAME_REGEXP",g("Regexp").$new(""+q(N,"REGEXP_START")+"(::)?[A-Z][^"+q(N,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+q(N,"REGEXP_END")))}(X[0],X)};Opal.modules["opal/mini"]=function(e){var E=e.Object;return e.nil,e.add_stubs("require"),E.$require("opal/base"),E.$require("corelib/nil"),E.$require("corelib/boolean"),E.$require("corelib/string"),E.$require("corelib/comparable"),E.$require("corelib/enumerable"),E.$require("corelib/enumerator"),E.$require("corelib/array"),E.$require("corelib/hash"),E.$require("corelib/number"),E.$require("corelib/range"),E.$require("corelib/proc"),E.$require("corelib/method"),E.$require("corelib/regexp"),E.$require("corelib/variables"),E.$require("corelib/io"),E.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(e){var E=e.coerce_to,F=e.module,X=e.slice,q=e.truthy,re=e.eqeq,Z=e.Opal,N=e.Kernel,V=e.gvars,g=e.def,H=e.alias,$e=e.nil,J=e.$$$;return e.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(Y){var ee=F(Y,"Kernel");return g(ee,"$format",function(y,S){var C,G,k=$e;V.DEBUG==null&&(V.DEBUG=$e),C=X(arguments,1),G=C,re(G.$length(),1)&&q(G["$[]"](0)["$respond_to?"]("to_ary"))&&(k=Z["$coerce_to?"](G["$[]"](0),J("Array"),"to_ary"),q(k["$nil?"]())||(G=k.$to_a()));var D="",m=0,w,j,T=y.length,b,s,_,x,h,c,o,L,K,d,f,a,t,n=1,r=0,$,i=0,u=1,p=2,A=4,M=8,I=16,U=32,O=64,ae=128;function le(){$&U&&N.$raise(J("ArgumentError"),"flag after width"),$&ae&&N.$raise(J("ArgumentError"),"flag after precision")}function _e(){$&U&&N.$raise(J("ArgumentError"),"width given twice"),$&ae&&N.$raise(J("ArgumentError"),"width after precision")}function de(z){return z>=G.length&&N.$raise(J("ArgumentError"),"too few arguments"),G[z]}function ge(){switch(r){case-1:N.$raise(J("ArgumentError"),"unnumbered("+n+") mixed with numbered");case-2:N.$raise(J("ArgumentError"),"unnumbered("+n+") mixed with named")}return r=n++,de(r-1)}function ve(z){return r>0&&N.$raise(J("ArgumentError"),"numbered("+z+") after unnumbered("+r+")"),r===-2&&N.$raise(J("ArgumentError"),"numbered("+z+") after named"),z<1&&N.$raise(J("ArgumentError"),"invalid index - "+z+"$"),r=-1,de(z-1)}function me(){return t===void 0?ge():t}function be(z){for(var R,B="";;j++){if(j===T&&N.$raise(J("ArgumentError"),"malformed format string - %*[0-9]"),y.charCodeAt(j)<48||y.charCodeAt(j)>57)return j--,R=parseInt(B,10)||0,R>2147483647&&N.$raise(J("ArgumentError"),""+z+" too big"),R;B+=y.charAt(j)}}function ie(z){var R,B=be(z);return y.charAt(j+1)==="$"?(j++,R=ve(B)):R=ge(),R.$to_int()}for(j=y.indexOf("%");j!==-1;j=y.indexOf("%",j)){switch(s=void 0,$=i,x=-1,h=-1,t=void 0,w=j,j++,y.charAt(j)){case"%":m=j;case"":case`
`:case"\0":j++;continue}e:for(;j<T;j++)switch(y.charAt(j)){case" ":le(),$|=I;continue e;case"#":le(),$|=u;continue e;case"+":le(),$|=A;continue e;case"-":le(),$|=p;continue e;case"0":le(),$|=M;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(c=be("width"),y.charAt(j+1)==="$"){if(j+2===T){s="%",j++;break e}t!==void 0&&N.$raise(J("ArgumentError"),"value given twice - %"+c+"$"),t=ve(c),j++}else _e(),$|=U,x=c;continue e;case"<":case"{":for(L=y.charAt(j)==="<"?">":"}",o="",j++;;j++){if(j===T&&N.$raise(J("ArgumentError"),"malformed name - unmatched parenthesis"),y.charAt(j)===L){if(r>0&&N.$raise(J("ArgumentError"),"named "+o+" after unnumbered("+r+")"),r===-1&&N.$raise(J("ArgumentError"),"named "+o+" after numbered"),r=-2,(G[0]===void 0||!G[0].$$is_hash)&&N.$raise(J("ArgumentError"),"one hash required"),t=G[0].$fetch(o),L===">")continue e;if(s=t.toString(),h!==-1&&(s=s.slice(0,h)),$&p)for(;s.length<x;)s=s+" ";else for(;s.length<x;)s=" "+s;break e}o+=y.charAt(j)}case"*":j++,_e(),$|=U,x=ie("width"),x<0&&($|=p,x=-x);continue e;case".":if($&ae&&N.$raise(J("ArgumentError"),"precision given twice"),$|=O|ae,h=0,j++,y.charAt(j)==="*"){j++,h=ie("precision"),h<0&&($&=~O);continue e}h=be("precision");continue e;case"d":case"i":case"u":if(b=N.$Integer(me()),b>=0){for(s=b.toString();s.length<h;)s="0"+s;if($&p)for(($&A||$&I)&&(s=($&A?"+":" ")+s);s.length<x;)s=s+" ";else if($&M&&h===-1){for(;s.length<x-($&A||$&I?1:0);)s="0"+s;($&A||$&I)&&(s=($&A?"+":" ")+s)}else for(($&A||$&I)&&(s=($&A?"+":" ")+s);s.length<x;)s=" "+s}else{for(s=(-b).toString();s.length<h;)s="0"+s;if($&p)for(s="-"+s;s.length<x;)s=s+" ";else if($&M&&h===-1){for(;s.length<x-1;)s="0"+s;s="-"+s}else for(s="-"+s;s.length<x;)s=" "+s}break e;case"b":case"B":case"o":case"x":case"X":switch(y.charAt(j)){case"b":case"B":K=2,d="0b",f=/^1+/,a="1";break;case"o":K=8,d="0",f=/^3?7+/,a="7";break;case"x":case"X":K=16,d="0x",f=/^f+/,a="f";break}if(b=N.$Integer(me()),b>=0){for(s=b.toString(K);s.length<h;)s="0"+s;if($&p)for(($&A||$&I)&&(s=($&A?"+":" ")+s),$&u&&b!==0&&(s=d+s);s.length<x;)s=s+" ";else if($&M&&h===-1){for(;s.length<x-($&A||$&I?1:0)-($&u&&b!==0?d.length:0);)s="0"+s;$&u&&b!==0&&(s=d+s),($&A||$&I)&&(s=($&A?"+":" ")+s)}else for($&u&&b!==0&&(s=d+s),($&A||$&I)&&(s=($&A?"+":" ")+s);s.length<x;)s=" "+s}else if($&A||$&I){for(s=(-b).toString(K);s.length<h;)s="0"+s;if($&p)for($&u&&(s=d+s),s="-"+s;s.length<x;)s=s+" ";else if($&M&&h===-1){for(;s.length<x-1-($&u?2:0);)s="0"+s;$&u&&(s=d+s),s="-"+s}else for($&u&&(s=d+s),s="-"+s;s.length<x;)s=" "+s}else{for(s=(b>>>0).toString(K).replace(f,a);s.length<h-2;)s=a+s;if($&p)for(s=".."+s,$&u&&(s=d+s);s.length<x;)s=s+" ";else if($&M&&h===-1){for(;s.length<x-2-($&u?d.length:0);)s=a+s;s=".."+s,$&u&&(s=d+s)}else for(s=".."+s,$&u&&(s=d+s);s.length<x;)s=" "+s}y.charAt(j)===y.charAt(j).toUpperCase()&&(s=s.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(b=N.$Float(me()),b>=0||isNaN(b)){if(b===1/0)s="Inf";else switch(y.charAt(j)){case"f":s=b.toFixed(h===-1?6:h);break;case"e":case"E":s=b.toExponential(h===-1?6:h);break;case"g":case"G":s=b.toExponential(),_=parseInt(s.split("e")[1],10),_<-4||_>=(h===-1?6:h)||(s=b.toPrecision(h===-1?$&u?6:void 0:h));break}if($&p)for(($&A||$&I)&&(s=($&A?"+":" ")+s);s.length<x;)s=s+" ";else if($&M&&b!==1/0&&!isNaN(b)){for(;s.length<x-($&A||$&I?1:0);)s="0"+s;($&A||$&I)&&(s=($&A?"+":" ")+s)}else for(($&A||$&I)&&(s=($&A?"+":" ")+s);s.length<x;)s=" "+s}else{if(b===-1/0)s="Inf";else switch(y.charAt(j)){case"f":s=(-b).toFixed(h===-1?6:h);break;case"e":case"E":s=(-b).toExponential(h===-1?6:h);break;case"g":case"G":s=(-b).toExponential(),_=parseInt(s.split("e")[1],10),_<-4||_>=(h===-1?6:h)||(s=(-b).toPrecision(h===-1?$&u?6:void 0:h));break}if($&p)for(s="-"+s;s.length<x;)s=s+" ";else if($&M&&b!==-1/0){for(;s.length<x-1;)s="0"+s;s="-"+s}else for(s="-"+s;s.length<x;)s=" "+s}y.charAt(j)===y.charAt(j).toUpperCase()&&b!==1/0&&b!==-1/0&&!isNaN(b)&&(s=s.toUpperCase()),s=s.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":N.$raise(J("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(b=me(),b["$respond_to?"]("to_ary")&&(b=b.$to_ary()[0]),b["$respond_to?"]("to_str")?s=b.$to_str():s=String.fromCharCode(E(b,J("Integer"),"to_int")),s.length!==1&&N.$raise(J("ArgumentError"),"%c requires a character"),$&p)for(;s.length<x;)s=s+" ";else for(;s.length<x;)s=" "+s;break e;case"p":if(s=me().$inspect(),h!==-1&&(s=s.slice(0,h)),$&p)for(;s.length<x;)s=s+" ";else for(;s.length<x;)s=" "+s;break e;case"s":if(s=me().$to_s(),h!==-1&&(s=s.slice(0,h)),$&p)for(;s.length<x;)s=s+" ";else for(;s.length<x;)s=" "+s;break e;default:N.$raise(J("ArgumentError"),"malformed format string - %"+y.charAt(j))}s===void 0&&N.$raise(J("ArgumentError"),"malformed format string - %"),D+=y.slice(m,w)+s,m=j+1}return V.DEBUG&&r>=0&&n<G.length&&N.$raise(J("ArgumentError"),"too many arguments for format string"),D+y.slice(m)},-2),H(ee,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(e){var E=e.klass,F=e.rb_plus,X=e.truthy,q=e.send,re=e.defs,Z=e.eqeq,N=e.def,V=e.return_ivar,g=e.return_val,H=e.slice,$e=e.Kernel,J=e.Opal,Y=e.rb_lt,ee,Q=e.top,y=[],S=e.$r(y),C=e.nil,G=e.$$$;return e.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),Q.$require("corelib/string"),function(k,D,m){var w=E(k,D,"Encoding"),j=[w].concat(m),T=w.$$prototype;return T.name=T.dummy=C,re(w,"$register",function b(s,_){var x=b.$$p||C,h=this,c=C,o=C,L=C,K=C,d=C,f=C;return b.$$p=null,_==null&&(_=new Map),c=F([s],X(o=_["$[]"]("aliases"))?o:[]),L=X(o=_["$[]"]("ascii"))&&o,K=X(o=_["$[]"]("dummy"))&&o,X(_["$[]"]("inherits"))?(d=_["$[]"]("inherits").$clone(),d.$initialize(s,c,L,K)):d=h.$new(s,c,L,K),x!==C&&q(d,"instance_eval",[],x.$to_proc()),f=e.encodings,q(c,"each",[],function a(t){var n=a.$$s==null?this:a.$$s;return t==null&&(t=C),n.$const_set(t.$tr("-","_"),d),f[t]=d},{$$s:h})},-2),re(w,"$find",function(s){var _=this;return Z(s,"default_external")?_.$default_external():e.find_encoding(s)}),w.$singleton_class().$attr_accessor("default_external"),w.$attr_reader("name","names"),N(w,"$initialize",function(s,_,x,h){var c=this;return c.name=s,c.names=_,c.ascii=x,c.dummy=h}),N(w,"$ascii_compatible?",V("ascii")),N(w,"$dummy?",V("dummy")),N(w,"$binary?",g(!1)),N(w,"$to_s",V("name")),N(w,"$inspect",function(){var s=this;return"#<Encoding:"+s.name+(X(s.dummy)?" (dummy)":C)+">"}),N(w,"$charsize",function(s){for(var _=0,x=0,h=s.length;x<h;x++){var c=s.charCodeAt(x);c>=55296&&c<=56319||_++}return _}),N(w,"$each_char",function b(s){var _=b.$$p||C;b.$$p=null;for(var x="",h=0,c=s.length;h<c;h++){var o=s.charCodeAt(h),L=s.charAt(h);if(o>=56320&&o<=57343){x=L;continue}else o>=55296&&o<=56319&&(L=x+L);s.encoding.name!="UTF-8"&&(L=new String(L),L.encoding=s.encoding),e.yield1(_,L)}}),N(w,"$each_byte",function(s){return H(arguments),$e.$raise(G("NotImplementedError"))},-1),N(w,"$bytesize",function(s){return H(arguments),$e.$raise(G("NotImplementedError"))},-1),E("::",G("StandardError"),"EncodingError"),E("::",G("EncodingError"),"CompatibilityError"),E(j[0],G("EncodingError"),"UndefinedConversionError"),C}("::",null,y),q(G("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function k(){var D=k.$$s==null?this:k.$$s;return N(D,"$each_byte",function m(w){var j=m.$$p||C;m.$$p=null;for(var T=1/0,b,s=w.length,_=null,x=0;x<s;++x){if(b=w.charCodeAt(x),b>55295&&b<57344){if(!_){if(b>56319){(T-=3)>-1&&(e.yield1(j,239),e.yield1(j,191),e.yield1(j,189));continue}else if(x+1===s){(T-=3)>-1&&(e.yield1(j,239),e.yield1(j,191),e.yield1(j,189));continue}_=b;continue}if(b<56320){(T-=3)>-1&&(e.yield1(j,239),e.yield1(j,191),e.yield1(j,189)),_=b;continue}b=(_-55296<<10|b-56320)+65536}else _&&(T-=3)>-1&&(e.yield1(j,239),e.yield1(j,191),e.yield1(j,189));if(_=null,b<128){if((T-=1)<0)break;e.yield1(j,b)}else if(b<2048){if((T-=2)<0)break;e.yield1(j,b>>6|192),e.yield1(j,b&63|128)}else if(b<65536){if((T-=3)<0)break;e.yield1(j,b>>12|224),e.yield1(j,b>>6&63|128),e.yield1(j,b&63|128)}else if(b<1114112){if((T-=4)<0)break;e.yield1(j,b>>18|240),e.yield1(j,b>>12&63|128),e.yield1(j,b>>6&63|128),e.yield1(j,b&63|128)}}}),N(D,"$bytesize",function(w){return w.$bytes().$length()})},{$$s:Q}),q(G("Encoding"),"register",["UTF-16LE"],function k(){var D=k.$$s==null?this:k.$$s;return N(D,"$each_byte",function m(w){var j=m.$$p||C;m.$$p=null;for(var T=0,b=w.length;T<b;T++){var s=w.charCodeAt(T);e.yield1(j,s&255),e.yield1(j,s>>8)}}),N(D,"$bytesize",function(w){return w.length*2})},{$$s:Q}),q(G("Encoding"),"register",["UTF-16BE",new Map([["inherits",G(G("Encoding"),"UTF_16LE")]])],function k(){var D=k.$$s==null?this:k.$$s;return N(D,"$each_byte",function m(w){var j=m.$$p||C;m.$$p=null;for(var T=0,b=w.length;T<b;T++){var s=w.charCodeAt(T);e.yield1(j,s>>8),e.yield1(j,s&255)}})},{$$s:Q}),q(G("Encoding"),"register",["UTF-32LE"],function k(){var D=k.$$s==null?this:k.$$s;return N(D,"$each_byte",function m(w){var j=m.$$p||C;m.$$p=null;for(var T=0,b=w.length;T<b;T++){var s=w.charCodeAt(T);e.yield1(j,s&255),e.yield1(j,s>>8),e.yield1(j,0),e.yield1(j,0)}}),N(D,"$bytesize",function(w){return w.length*4})},{$$s:Q}),q(G("Encoding"),"register",["UTF-32BE",new Map([["inherits",G(G("Encoding"),"UTF_32LE")]])],function k(){var D=k.$$s==null?this:k.$$s;return N(D,"$each_byte",function m(w){var j=m.$$p||C;m.$$p=null;for(var T=0,b=w.length;T<b;T++){var s=w.charCodeAt(T);e.yield1(j,0),e.yield1(j,0),e.yield1(j,s>>8),e.yield1(j,s&255)}})},{$$s:Q}),q(G("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function k(){var D=k.$$s==null?this:k.$$s;return N(D,"$each_char",function m(w){var j=m.$$p||C;m.$$p=null;for(var T=0,b=w.length;T<b;T++){var s=new String(w.charAt(T));s.encoding=w.encoding,e.yield1(j,s)}}),N(D,"$charsize",function(w){return w.length}),N(D,"$each_byte",function m(w){var j=m.$$p||C;m.$$p=null;for(var T=0,b=w.length;T<b;T++){var s=w.charCodeAt(T);e.yield1(j,s&255)}}),N(D,"$bytesize",function(w){return w.length}),N(D,"$binary?",g(!0))},{$$s:Q}),G("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",G(G("Encoding"),"ASCII_8BIT")]])),G("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",G(G("Encoding"),"ASCII_8BIT")]])),function(k,D){var m=E(k,D,"String"),w=m.$$prototype;return w.internal_encoding=w.bytes=w.encoding=C,m.$attr_reader("encoding"),m.$attr_reader("internal_encoding"),e.prop(String.prototype,"bytes",C),e.prop(String.prototype,"encoding",G(G("Encoding"),"UTF_8")),e.prop(String.prototype,"internal_encoding",G(G("Encoding"),"UTF_8")),N(m,"$b",function(){var T=this;return T.$dup().$force_encoding("binary")}),N(m,"$bytesize",function(){var T=this;return T.internal_encoding.$bytesize(T)}),N(m,"$each_byte",function j(){var T=j.$$p||C,b=this;return j.$$p=null,T===C?q(b,"enum_for",["each_byte"],function s(){var _=s.$$s==null?this:s.$$s;return _.$bytesize()},{$$s:b}):(q(b.internal_encoding,"each_byte",[b],T.$to_proc()),b)}),N(m,"$bytes",function(){var T=this,b=C;return typeof T=="string"?new String(T).$each_byte().$to_a():(T.bytes=X(b=T.bytes)?b:T.$each_byte().$to_a(),T.bytes.$dup())}),N(m,"$each_char",function j(){var T=j.$$p||C,b=this;return j.$$p=null,T===C?q(b,"enum_for",["each_char"],function s(){var _=s.$$s==null?this:s.$$s;return _.$length()},{$$s:b}):(q(b.encoding,"each_char",[b],T.$to_proc()),b)}),N(m,"$chars",function j(){var T=j.$$p||C,b=this;return j.$$p=null,X(T)?q(b,"each_char",[],T.$to_proc()):b.$each_char().$to_a()}),N(m,"$each_codepoint",function j(){var T=j.$$p||C,b=this;if(j.$$p=null,T===C)return b.$enum_for("each_codepoint");for(var s=0,_=b.length;s<_;s++)e.yield1(T,b.codePointAt(s));return b}),N(m,"$codepoints",function j(){var T=j.$$p||C,b=this;return j.$$p=null,T!==C?q(b,"each_codepoint",[],T.$to_proc()):b.$each_codepoint().$to_a()}),N(m,"$encode",function(T){var b=this;return e.enc(b,T)}),N(m,"$force_encoding",function(T){var b=this,s=b;return T===s.encoding||(T=J["$coerce_to!"](T,G("String"),"to_s"),T=G("Encoding").$find(T),T===s.encoding)||(s=e.set_encoding(s,T)),s}),N(m,"$getbyte",function(T){var b=this,s=C;return s=b.$bytes(),T=J["$coerce_to!"](T,G("Integer"),"to_int"),X(Y(s.$length(),T))?C:s["$[]"](T)}),N(m,"$initialize_copy",function(T){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),N(m,"$valid_encoding?",g(!0))}("::",null),ee=[G(S("Encoding"),"UTF_8")],q(G("Encoding"),"default_external=",ee),ee[ee.length-1]};Opal.modules["corelib/math"]=function(e){var E=e.type_error,F=e.module,X=e.const_set,q=e.Class,re=e.slice,Z=e.Kernel,N=e.defs,V=e.truthy,g=e.send,H=e.def,$e=e.rb_minus,J=e.eqeqeq,Y=e.rb_divide,ee=[],Q=e.nil,y=e.$$$;return e.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(S,C){var G=F(S,"Math"),k=[G].concat(C),D=e.$r(k);return X(G,"E",Math.E),X(G,"PI",Math.PI),X(G,"DomainError",q.$new(y("StandardError"))),N(G,"$checked",function(w,j){var T,b;if(T=re(arguments,1),b=T,isNaN(b[0])||b.length==2&&isNaN(b[1]))return NaN;var s=Math[w].apply(null,b);return isNaN(s)&&Z.$raise(D("DomainError"),'Numerical argument is out of domain - "'+w+'"'),s},-2),N(G,"$float!",function(w){try{return Z.$Float(w)}catch(j){if(e.rescue(j,[y("ArgumentError")]))try{return Z.$raise(E(w,y("Float")))}finally{e.pop_exception(j)}else throw j}}),N(G,"$integer!",function(w){try{return Z.$Integer(w)}catch(j){if(e.rescue(j,[y("ArgumentError")]))try{return Z.$raise(E(w,y("Integer")))}finally{e.pop_exception(j)}else throw j}}),G.$module_function(),V(typeof Math.erf<"u")||e.prop(Math,"erf",function(m){var w=.254829592,j=-.284496736,T=1.421413741,b=-1.453152027,s=1.061405429,_=.3275911,x=1;m<0&&(x=-1),m=Math.abs(m);var h=1/(1+_*m),c=1-((((s*h+b)*h+T)*h+j)*h+w)*h*Math.exp(-m*m);return x*c}),V(typeof Math.erfc<"u")||e.prop(Math,"erfc",function(m){var w=Math.abs(m),j=1/(.5*w+1),T=j*.17087277+-.82215223,b=j*T+1.48851587,s=j*b+-1.13520398,_=j*s+.27886807,x=j*_+-.18628806,h=j*x+.09678418,c=j*h+.37409196,o=j*c+1.00002368,L=j*o,K=-w*w-1.26551223+L,d=j*Math.exp(K);return m<0?2-d:d}),g(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function m(w){var j=m.$$s==null?this:m.$$s;return w==null&&(w=Q),g(j,"define_method",[w],function(b){return b==null&&(b=Q),y("Math").$checked(w,y("Math")["$float!"](b))})},{$$s:G}),H(G,"$atan2",function(w,j){return y("Math").$checked("atan2",y("Math")["$float!"](w),y("Math")["$float!"](j))}),H(G,"$hypot",function(w,j){return y("Math").$checked("hypot",y("Math")["$float!"](w),y("Math")["$float!"](j))}),H(G,"$frexp",function(w){if(w=D("Math")["$float!"](w),isNaN(w))return[NaN,0];var j=Math.floor(Math.log(Math.abs(w))/Math.log(2))+1,T=w/Math.pow(2,j);return[T,j]}),H(G,"$gamma",function(w){w=D("Math")["$float!"](w);var j,T,b,s,_,x,h,c,o,L=4.7421875,K=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(w))return NaN;if(w===0&&1/w<0)return-1/0;if((w===-1||w===-1/0)&&Z.$raise(D("DomainError"),'Numerical argument is out of domain - "gamma"'),D("Integer")["$==="](w)){if(w<=0)return isFinite(w)?1/0:NaN;if(w>171)return 1/0;for(s=w-2,_=w-1;s>1;)_*=s,s--;return _==0&&(_=1),_}if(w<.5)return Math.PI/(Math.sin(Math.PI*w)*y("Math").$gamma($e(1,w)));if(w>=171.35)return 1/0;if(w>85)return x=w*w,h=x*w,c=h*w,o=c*w,Math.sqrt(2*Math.PI/w)*Math.pow(w/Math.E,w)*(1+1/(12*w)+1/(288*x)-139/(51840*h)-571/(2488320*c)+163879/(209018880*o)+5246819/(75246796800*o*w));for(w-=1,b=K[0],j=1;j<K.length;++j)b+=K[j]/(w+j);return T=w+L+.5,Math.sqrt(2*Math.PI)*Math.pow(T,w+.5)*Math.exp(-T)*b}),H(G,"$ldexp",function(w,j){return w=D("Math")["$float!"](w),j=D("Math")["$integer!"](j),isNaN(j)&&Z.$raise(y("RangeError"),"float NaN out of range of integer"),w*Math.pow(2,j)}),H(G,"$lgamma",function(w){return w==-1?[1/0,1]:[Math.log(Math.abs(y("Math").$gamma(w))),y("Math").$gamma(w)<0?-1:1]}),H(G,"$log",function(w,j){return J(y("String"),w)&&Z.$raise(E(w,y("Float"))),V(j==null)?y("Math").$checked("log",y("Math")["$float!"](w)):(J(y("String"),j)&&Z.$raise(E(j,y("Float"))),Y(y("Math").$checked("log",y("Math")["$float!"](w)),y("Math").$checked("log",y("Math")["$float!"](j))))},-2),H(G,"$log10",function(w){return J(y("String"),w)&&Z.$raise(E(w,y("Float"))),y("Math").$checked("log10",y("Math")["$float!"](w))}),H(G,"$log2",function(w){return J(y("String"),w)&&Z.$raise(E(w,y("Float"))),y("Math").$checked("log2",y("Math")["$float!"](w))}),H(G,"$tan",function(w){return w=y("Math")["$float!"](w),V(w["$infinite?"]())?y(y("Float"),"NAN"):y("Math").$checked("tan",y("Math")["$float!"](w))})}("::",ee)};Opal.modules["corelib/complex/base"]=function(e){var E=e.module,F=e.truthy,X=e.def,q=e.klass,re=[],Z=e.nil;return e.add_stubs("new,from_string"),function(N,V){var g=E(N,"Kernel"),H=[g].concat(V),$e=e.$r(H);return X(g,"$Complex",function(Y,ee){return ee==null&&(ee=Z),F(ee)?$e("Complex").$new(Y,ee):$e("Complex").$new(Y,0)},-2)}("::",re),function(N,V,g){var H=q(N,V,"String"),$e=[H].concat(g),J=e.$r($e);return X(H,"$to_c",function(){var ee=this;return J("Complex").$from_string(ee)})}("::",null,re)};Opal.modules["corelib/complex"]=function(e){var E=e.klass,F=e.truthy,X=e.eqeqeq,q=e.Kernel,re=e.defs,Z=e.rb_times,N=e.def,V=e.rb_plus,g=e.rb_minus,H=e.rb_divide,$e=e.eqeq,J=e.to_ary,Y=e.rb_gt,ee=e.neqeq,Q=e.return_val,y=e.const_set,S=e.alias,C=e.top,G=[],k=e.nil,D=e.$$$;return e.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),C.$require("corelib/numeric"),C.$require("corelib/complex/base"),function(m,w,j){var T=E(m,w,"Complex"),b=[T].concat(j),s=e.$r(b),_=T.$$prototype;return _.real=_.imag=k,re(T,"$rect",function(h,c){var o=this;return c==null&&(c=0),X(D("Numeric"),h)&&F(h["$real?"]())&&X(D("Numeric"),c)&&F(c["$real?"]())||q.$raise(D("TypeError"),"not a real"),o.$new(h,c)},-2),re(T,"$polar",function(h,c){var o=this;return c==null&&(c=0),X(D("Numeric"),h)&&F(h["$real?"]())&&X(D("Numeric"),c)&&F(c["$real?"]())||q.$raise(D("TypeError"),"not a real"),o.$new(Z(h,D("Math").$cos(c)),Z(h,D("Math").$sin(c)))},-2),T.$attr_reader("real","imag"),N(T,"$initialize",function(h,c){var o=this;return c==null&&(c=0),o.real=h,o.imag=c,o.$freeze()},-2),N(T,"$coerce",function(h){var c=this;return X(D("Complex"),h)?[h,c]:X(D("Numeric"),h)&&F(h["$real?"]())?[D("Complex").$new(h,0),c]:q.$raise(D("TypeError"),""+h.$class()+" can't be coerced into Complex")}),N(T,"$==",function(h){var c=this,o=k;return X(D("Complex"),h)?F(o=c.real["$=="](h.$real()))?c.imag["$=="](h.$imag()):o:X(D("Numeric"),h)&&F(h["$real?"]())?F(o=c.real["$=="](h))?c.imag["$=="](0):o:h["$=="](c)}),N(T,"$-@",function(){var h=this;return q.$Complex(h.real["$-@"](),h.imag["$-@"]())}),N(T,"$+",function(h){var c=this;return X(D("Complex"),h)?q.$Complex(V(c.real,h.$real()),V(c.imag,h.$imag())):X(D("Numeric"),h)&&F(h["$real?"]())?q.$Complex(V(c.real,h),c.imag):c.$__coerced__("+",h)}),N(T,"$-",function(h){var c=this;return X(D("Complex"),h)?q.$Complex(g(c.real,h.$real()),g(c.imag,h.$imag())):X(D("Numeric"),h)&&F(h["$real?"]())?q.$Complex(g(c.real,h),c.imag):c.$__coerced__("-",h)}),N(T,"$*",function(h){var c=this;return X(D("Complex"),h)?q.$Complex(g(Z(c.real,h.$real()),Z(c.imag,h.$imag())),V(Z(c.real,h.$imag()),Z(c.imag,h.$real()))):X(D("Numeric"),h)&&F(h["$real?"]())?q.$Complex(Z(c.real,h),Z(c.imag,h)):c.$__coerced__("*",h)}),N(T,"$/",function(h){var c=this;return X(D("Complex"),h)?X(D("Number"),c.real)&&F(c.real["$nan?"]())||X(D("Number"),c.imag)&&F(c.imag["$nan?"]())||X(D("Number"),h.$real())&&F(h.$real()["$nan?"]())||X(D("Number"),h.$imag())&&F(h.$imag()["$nan?"]())?D("Complex").$new(D(D("Float"),"NAN"),D(D("Float"),"NAN")):H(Z(c,h.$conj()),h.$abs2()):X(D("Numeric"),h)&&F(h["$real?"]())?q.$Complex(c.real.$quo(h),c.imag.$quo(h)):c.$__coerced__("/",h)}),N(T,"$**",function(h){var c,o,L=this,K=k,d=k,f=k,a=k,t=k,n=k,r=k,$=k,i=k,u=k,p=k;if($e(h,0))return D("Complex").$new(1,0);if(X(D("Complex"),h))return o=L.$polar(),c=J(o),K=c[0]==null?k:c[0],d=c[1]==null?k:c[1],f=h.$real(),a=h.$imag(),t=D("Math").$exp(g(Z(f,D("Math").$log(K)),Z(a,d))),n=V(Z(d,f),Z(a,D("Math").$log(K))),D("Complex").$polar(t,n);if(X(D("Integer"),h))if(F(Y(h,0))){for(r=L,$=r,i=g(h,1);ee(i,0);){for(o=i.$divmod(2),c=J(o),u=c[0]==null?k:c[0],p=c[1]==null?k:c[1];$e(p,0);)r=q.$Complex(g(Z(r.$real(),r.$real()),Z(r.$imag(),r.$imag())),Z(Z(2,r.$real()),r.$imag())),i=u,o=i.$divmod(2),c=J(o),u=c[0]==null?k:c[0],p=c[1]==null?k:c[1];$=Z($,r),i=g(i,1)}return $}else return H(D("Rational").$new(1,1),L)["$**"](h["$-@"]());else return X(D("Float"),h)||X(D("Rational"),h)?(o=L.$polar(),c=J(o),K=c[0]==null?k:c[0],d=c[1]==null?k:c[1],D("Complex").$polar(K["$**"](h),Z(d,h))):L.$__coerced__("**",h)}),N(T,"$abs",function(){var h=this;return D("Math").$hypot(h.real,h.imag)}),N(T,"$abs2",function(){var h=this;return V(Z(h.real,h.real),Z(h.imag,h.imag))}),N(T,"$angle",function(){var h=this;return D("Math").$atan2(h.imag,h.real)}),N(T,"$conj",function(){var h=this;return q.$Complex(h.real,h.imag["$-@"]())}),N(T,"$denominator",function(){var h=this;return h.real.$denominator().$lcm(h.imag.$denominator())}),N(T,"$eql?",function(h){var c=this,o=k,L=k;return F(o=F(L=s("Complex")["$==="](h))?c.real.$class()["$=="](c.imag.$class()):L)?c["$=="](h):o}),N(T,"$fdiv",function(h){var c=this;return X(D("Numeric"),h)||q.$raise(D("TypeError"),""+h.$class()+" can't be coerced into Complex"),H(c,h)}),N(T,"$finite?",function(){var h=this,c=k;return F(c=h.real["$finite?"]())?h.imag["$finite?"]():c}),N(T,"$hash",function(){var h=this;return[D("Complex"),h.real,h.imag].$hash()}),N(T,"$infinite?",function(){var h=this,c=k;return F(c=h.real["$infinite?"]())?c:h.imag["$infinite?"]()}),N(T,"$inspect",function(){var h=this;return"("+h+")"}),N(T,"$numerator",function(){var h=this,c=k;return c=h.$denominator(),q.$Complex(Z(h.real.$numerator(),H(c,h.real.$denominator())),Z(h.imag.$numerator(),H(c,h.imag.$denominator())))}),N(T,"$polar",function(){var h=this;return[h.$abs(),h.$arg()]}),N(T,"$rationalize",function(h){var c=this;return arguments.length>1&&q.$raise(D("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(c.imag,0)&&q.$raise(D("RangeError"),"can't convert "+c+" into Rational"),c.$real().$rationalize(h)},-1),N(T,"$real?",Q(!1)),N(T,"$rect",function(){var h=this;return[h.real,h.imag]}),N(T,"$to_f",function(){var h=this;return $e(h.imag,0)||q.$raise(D("RangeError"),"can't convert "+h+" into Float"),h.real.$to_f()}),N(T,"$to_i",function(){var h=this;return $e(h.imag,0)||q.$raise(D("RangeError"),"can't convert "+h+" into Integer"),h.real.$to_i()}),N(T,"$to_r",function(){var h=this;return $e(h.imag,0)||q.$raise(D("RangeError"),"can't convert "+h+" into Rational"),h.real.$to_r()}),N(T,"$to_s",function(){var h=this,c=k;return c=h.real.$inspect(),c=V(c,X(D("Number"),h.imag)&&F(h.imag["$nan?"]())||F(h.imag["$positive?"]())||F(h.imag["$zero?"]())?"+":"-"),c=V(c,h.imag.$abs().$inspect()),X(D("Number"),h.imag)&&(F(h.imag["$nan?"]())||F(h.imag["$infinite?"]()))&&(c=V(c,"*")),V(c,"i")}),y(b[0],"I",T.$new(0,1)),re(T,"$from_string",function(h){var c=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;h.match(c);var o,L;function K(){return c.test(h)}function d(){var a=h.match(c),t=a[0];return h=h.slice(t.length),t.replace(/_/g,"")}function f(){if(K()){var a=parseFloat(d());if(h[0]==="/")if(h=h.slice(1),K()){var t=parseFloat(d());return q.$Rational(a,t)}else return h="/"+h,a;else return a}else return null}return o=f(),o?(L=f(),L?q.$Complex(o,L):h[0]==="i"?q.$Complex(0,o):q.$Complex(o,0)):h[0]==="i"?q.$Complex(0,1):h[0]==="-"&&h[1]==="i"?q.$Complex(0,-1):h[0]==="+"&&h[1]==="i"?q.$Complex(0,1):q.$Complex(0,0)}),function(x,h){return S(x,"rectangular","rect")}(e.get_singleton_class(T)),S(T,"arg","angle"),S(T,"conjugate","conj"),S(T,"divide","/"),S(T,"imaginary","imag"),S(T,"magnitude","abs"),S(T,"phase","arg"),S(T,"quo","/"),S(T,"rectangular","rect"),e.udef(T,"$negative?"),e.udef(T,"$positive?"),e.udef(T,"$step"),k}("::",D("Numeric"),G)};Opal.modules["corelib/rational/base"]=function(e){var E=e.module,F=e.def,X=e.klass;e.nil;var q=e.$$$;return e.add_stubs("convert,from_string"),function(re){var Z=E(re,"Kernel");return F(Z,"$Rational",function(V,g){return g==null&&(g=1),q("Rational").$convert(V,g)},-2)}("::"),function(re,Z){var N=X(re,Z,"String");return F(N,"$to_r",function(){var g=this;return q("Rational").$from_string(g)})}("::",null)};Opal.modules["corelib/rational"]=function(e){var E=e.klass,F=e.eqeq,X=e.Kernel,q=e.truthy,re=e.rb_lt,Z=e.rb_divide,N=e.defs,V=e.eqeqeq,g=e.not,H=e.Opal,$e=e.def,J=e.return_ivar,Y=e.rb_minus,ee=e.rb_times,Q=e.rb_plus,y=e.rb_gt,S=e.rb_le,C=e.return_self,G=e.alias,k=e.top,D=e.nil,m=e.$$$;return e.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),k.$require("corelib/numeric"),k.$require("corelib/rational/base"),function(w,j){var T=E(w,j,"Rational"),b=T.$$prototype;return b.num=b.den=D,N(T,"$reduce",function(_,x){var h=this,c=D;if(_=_.$to_i(),x=x.$to_i(),F(x,0))X.$raise(m("ZeroDivisionError"),"divided by 0");else if(q(re(x,0)))_=_["$-@"](),x=x["$-@"]();else if(F(x,1))return h.$new(_,x);return c=_.$gcd(x),h.$new(Z(_,c),Z(x,c))}),N(T,"$convert",function(_,x){var h=this;return(q(_["$nil?"]())||q(x["$nil?"]()))&&X.$raise(m("TypeError"),"cannot convert nil into Rational"),V(m("Integer"),_)&&V(m("Integer"),x)?h.$reduce(_,x):((V(m("Float"),_)||V(m("String"),_)||V(m("Complex"),_))&&(_=_.$to_r()),(V(m("Float"),x)||V(m("String"),x)||V(m("Complex"),x))&&(x=x.$to_r()),q(x["$equal?"](1))&&g(m("Integer")["$==="](_))?H["$coerce_to!"](_,m("Rational"),"to_r"):V(m("Numeric"),_)&&V(m("Numeric"),x)?Z(_,x):h.$reduce(_,x))}),$e(T,"$initialize",function(_,x){var h=this;return h.num=_,h.den=x,h.$freeze()}),$e(T,"$numerator",J("num")),$e(T,"$denominator",J("den")),$e(T,"$coerce",function(_){var x=this,h=D;return V(m("Rational"),h=_)?[_,x]:V(m("Integer"),h)?[_.$to_r(),x]:V(m("Float"),h)?[_,x.$to_f()]:D}),$e(T,"$==",function(_){var x=this,h=D,c=D;return V(m("Rational"),h=_)?q(c=x.num["$=="](_.$numerator()))?x.den["$=="](_.$denominator()):c:V(m("Integer"),h)?q(c=x.num["$=="](_))?x.den["$=="](1):c:V(m("Float"),h)?x.$to_f()["$=="](_):_["$=="](x)}),$e(T,"$<=>",function(_){var x=this,h=D;return V(m("Rational"),h=_)?Y(ee(x.num,_.$denominator()),ee(x.den,_.$numerator()))["$<=>"](0):V(m("Integer"),h)?Y(x.num,ee(x.den,_))["$<=>"](0):V(m("Float"),h)?x.$to_f()["$<=>"](_):x.$__coerced__("<=>",_)}),$e(T,"$+",function(_){var x=this,h=D,c=D,o=D;return V(m("Rational"),h=_)?(c=Q(ee(x.num,_.$denominator()),ee(x.den,_.$numerator())),o=ee(x.den,_.$denominator()),X.$Rational(c,o)):V(m("Integer"),h)?X.$Rational(Q(x.num,ee(_,x.den)),x.den):V(m("Float"),h)?Q(x.$to_f(),_):x.$__coerced__("+",_)}),$e(T,"$-",function(_){var x=this,h=D,c=D,o=D;return V(m("Rational"),h=_)?(c=Y(ee(x.num,_.$denominator()),ee(x.den,_.$numerator())),o=ee(x.den,_.$denominator()),X.$Rational(c,o)):V(m("Integer"),h)?X.$Rational(Y(x.num,ee(_,x.den)),x.den):V(m("Float"),h)?Y(x.$to_f(),_):x.$__coerced__("-",_)}),$e(T,"$*",function(_){var x=this,h=D,c=D,o=D;return V(m("Rational"),h=_)?(c=ee(x.num,_.$numerator()),o=ee(x.den,_.$denominator()),X.$Rational(c,o)):V(m("Integer"),h)?X.$Rational(ee(x.num,_),x.den):V(m("Float"),h)?ee(x.$to_f(),_):x.$__coerced__("*",_)}),$e(T,"$/",function(_){var x=this,h=D,c=D,o=D;return V(m("Rational"),h=_)?(c=ee(x.num,_.$denominator()),o=ee(x.den,_.$numerator()),X.$Rational(c,o)):V(m("Integer"),h)?F(_,0)?Z(x.$to_f(),0):X.$Rational(x.num,ee(x.den,_)):V(m("Float"),h)?Z(x.$to_f(),_):x.$__coerced__("/",_)}),$e(T,"$**",function(_){var x=this,h=D;return V(m("Integer"),h=_)?F(x,0)&&q(re(_,0))?m(m("Float"),"INFINITY"):q(y(_,0))?X.$Rational(x.num["$**"](_),x.den["$**"](_)):q(re(_,0))?X.$Rational(x.den["$**"](_["$-@"]()),x.num["$**"](_["$-@"]())):X.$Rational(1,1):V(m("Float"),h)?x.$to_f()["$**"](_):V(m("Rational"),h)?F(_,0)?X.$Rational(1,1):F(_.$denominator(),1)?q(re(_,0))?X.$Rational(x.den["$**"](_.$numerator().$abs()),x.num["$**"](_.$numerator().$abs())):X.$Rational(x.num["$**"](_.$numerator()),x.den["$**"](_.$numerator())):F(x,0)&&q(re(_,0))?X.$raise(m("ZeroDivisionError"),"divided by 0"):x.$to_f()["$**"](_):x.$__coerced__("**",_)}),$e(T,"$abs",function(){var _=this;return X.$Rational(_.num.$abs(),_.den.$abs())}),$e(T,"$ceil",function(_){var x=this;return _==null&&(_=0),F(_,0)?Z(x.num["$-@"](),x.den)["$-@"]().$ceil():x.$with_precision("ceil",_)},-1),$e(T,"$floor",function(_){var x=this;return _==null&&(_=0),F(_,0)?Z(x.num["$-@"](),x.den)["$-@"]().$floor():x.$with_precision("floor",_)},-1),$e(T,"$hash",function(){var _=this;return[m("Rational"),_.num,_.den].$hash()}),$e(T,"$inspect",function(){var _=this;return"("+_+")"}),$e(T,"$rationalize",function(_){var x=this;if(arguments.length>1&&X.$raise(m("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),_==null)return x;for(var h=_.$abs(),c=Y(x,h),o=Q(x,h),L=0,K=1,d=1,f=0,a,t,n,r,$;n=c.$ceil(),!S(n,o);)r=n-1,a=r*K+L,t=r*f+d,$=Z(1,Y(o,r)),o=Z(1,Y(c,r)),c=$,L=K,d=f,K=a,f=t;return X.$Rational(n*K+L,n*f+d)},-1),$e(T,"$round",function(_){var x=this,h=D,c=D,o=D;return _==null&&(_=0),F(_,0)?F(x.num,0)?0:F(x.den,1)?x.num:(h=Q(ee(x.num.$abs(),2),x.den),c=ee(x.den,2),o=Z(h,c).$truncate(),q(re(x.num,0))?o["$-@"]():o):x.$with_precision("round",_)},-1),$e(T,"$to_f",function(){var _=this;return Z(_.num,_.den)}),$e(T,"$to_i",function(){var _=this;return _.$truncate()}),$e(T,"$to_r",C),$e(T,"$to_s",function(){var _=this;return""+_.num+"/"+_.den}),$e(T,"$truncate",function(_){var x=this;return _==null&&(_=0),F(_,0)?q(re(x.num,0))?x.$ceil():x.$floor():x.$with_precision("truncate",_)},-1),$e(T,"$with_precision",function(_,x){var h=this,c=D,o=D;return V(m("Integer"),x)||X.$raise(m("TypeError"),"not an Integer"),c=10["$**"](x),o=ee(h,c),q(re(x,1))?Z(o.$send(_),c).$to_i():X.$Rational(o.$send(_),c)}),N(T,"$from_string",function(_){var x=_.trimLeft(),h=/^[+-]?[\d_]+(\.[\d_]+)?/;x.match(h);var c,o;function L(){return h.test(x)}function K(){var d=x.match(h),f=d[0];return x=x.slice(f.length),f.replace(/_/g,"")}return L()?(c=parseFloat(K()),x[0]==="/"?(x=x.slice(1),L()?(o=parseFloat(K()),X.$Rational(c,o)):X.$Rational(c,1)):X.$Rational(c,1)):X.$Rational(0,1)}),G(T,"divide","/"),G(T,"quo","/")}("::",m("Numeric"))};Opal.modules["corelib/time"]=function(e){var E=e.slice,F=e.deny_frozen_access,X=e.klass,q=e.Kernel,re=e.Opal,Z=e.defs,N=e.eqeqeq,V=e.def,g=e.truthy,H=e.rb_gt,$e=e.rb_lt,J=e.send,Y=e.rb_plus,ee=e.rb_divide,Q=e.rb_minus,y=e.range,S=e.neqeq,C=e.rb_le,G=e.eqeq,k=e.alias,D=e.top,m=[],w=e.nil,j=e.$$$;return e.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),D.$require("corelib/comparable"),function(T,b,s){var _=X(T,b,"Time"),x=[_].concat(s),h=e.$r(x);_.$include(j("Comparable"));var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],K=["January","February","March","April","May","June","July","August","September","October","November","December"];Z(_,"$at",function(a,t){var n;return j("Time")["$==="](a)?(t!==void 0&&q.$raise(j("TypeError"),"can't convert Time into an exact number"),n=new Date(a.getTime()),n.timezone=a.timezone,n):(a.$$is_number||(a=re["$coerce_to!"](a,j("Integer"),"to_int")),t===void 0?new Date(a*1e3):(t.$$is_number||(t=re["$coerce_to!"](t,j("Integer"),"to_int")),new Date(a*1e3+t/1e3)))},-2);function d(f,a,t,n,r,$){if(f.$$is_string?f=parseInt(f,10):f=re["$coerce_to!"](f,j("Integer"),"to_int"),a===w)a=1;else if(!a.$$is_number)if(a["$respond_to?"]("to_str"))switch(a=a.$to_str(),a.toLowerCase()){case"jan":a=1;break;case"feb":a=2;break;case"mar":a=3;break;case"apr":a=4;break;case"may":a=5;break;case"jun":a=6;break;case"jul":a=7;break;case"aug":a=8;break;case"sep":a=9;break;case"oct":a=10;break;case"nov":a=11;break;case"dec":a=12;break;default:a=a.$to_i()}else a=re["$coerce_to!"](a,j("Integer"),"to_int");return(a<1||a>12)&&q.$raise(j("ArgumentError"),"month out of range: "+a),a=a-1,t===w?t=1:t.$$is_string?t=parseInt(t,10):t=re["$coerce_to!"](t,j("Integer"),"to_int"),(t<1||t>31)&&q.$raise(j("ArgumentError"),"day out of range: "+t),n===w?n=0:n.$$is_string?n=parseInt(n,10):n=re["$coerce_to!"](n,j("Integer"),"to_int"),(n<0||n>24)&&q.$raise(j("ArgumentError"),"hour out of range: "+n),r===w?r=0:r.$$is_string?r=parseInt(r,10):r=re["$coerce_to!"](r,j("Integer"),"to_int"),(r<0||r>59)&&q.$raise(j("ArgumentError"),"min out of range: "+r),$===w?$=0:$.$$is_number||($.$$is_string?$=parseInt($,10):$=re["$coerce_to!"]($,j("Integer"),"to_int")),($<0||$>60)&&q.$raise(j("ArgumentError"),"sec out of range: "+$),[f,a,t,n,r,$]}return Z(_,"$new",function(a,t,n,r,$,i,u){var p=this;t==null&&(t=w),n==null&&(n=w),r==null&&(r=w),$==null&&($=w),i==null&&(i=w),u==null&&(u=w);var A,M,I,U;return a===void 0?new Date:(A=d(a,t,n,r,$,i),a=A[0],t=A[1],n=A[2],r=A[3],$=A[4],i=A[5],u===w?(M=new Date(a,t,n,r,$,0,i*1e3),a<100&&M.setFullYear(a),M):(I=p.$_parse_offset(u),U=new Date(Date.UTC(a,t,n,r,$,0,i*1e3)),a<100&&U.setUTCFullYear(a),M=new Date(U.getTime()-I*36e5),M.timezone=I,M))},-1),Z(_,"$_parse_offset",function(a){var t;if(a.$$is_string)if(a=="UTC")t=0;else if(/^[+-]\d\d:[0-5]\d$/.test(a)){var n,r,$;n=a[0],r=+(a[1]+a[2]),$=+(a[4]+a[5]),t=(n=="-"?-1:1)*(r+$/60)}else q.$raise(j("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+a);else a.$$is_number?t=a/3600:q.$raise(j("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return t}),Z(_,"$local",function(a,t,n,r,$,i,u,p,A,M){t==null&&(t=w),n==null&&(n=w),r==null&&(r=w),$==null&&($=w),i==null&&(i=w),u==null&&(u=w),p==null&&(p=w),A==null&&(A=w),M==null&&(M=w);var I,U;return arguments.length===10&&(I=E(arguments),a=I[5],t=I[4],n=I[3],r=I[2],$=I[1],i=I[0]),I=d(a,t,n,r,$,i),a=I[0],t=I[1],n=I[2],r=I[3],$=I[4],i=I[5],U=new Date(a,t,n,r,$,0,i*1e3),a<100&&U.setFullYear(a),U},-2),Z(_,"$gm",function(a,t,n,r,$,i,u,p,A,M){t==null&&(t=w),n==null&&(n=w),r==null&&(r=w),$==null&&($=w),i==null&&(i=w),u==null&&(u=w),p==null&&(p=w),A==null&&(A=w),M==null&&(M=w);var I,U;return arguments.length===10&&(I=E(arguments),a=I[5],t=I[4],n=I[3],r=I[2],$=I[1],i=I[0]),I=d(a,t,n,r,$,i),a=I[0],t=I[1],n=I[2],r=I[3],$=I[4],i=I[5],U=new Date(Date.UTC(a,t,n,r,$,0,i*1e3)),a<100&&U.setUTCFullYear(a),U.timezone=0,U},-2),Z(_,"$now",function(){var a=this;return a.$new()}),V(_,"$+",function(a){var t=this;N(j("Time"),a)&&q.$raise(j("TypeError"),"time + time?"),a.$$is_number||(a=re["$coerce_to!"](a,j("Integer"),"to_int"));var n=new Date(t.getTime()+a*1e3);return n.timezone=t.timezone,n}),V(_,"$-",function(a){var t=this;if(N(j("Time"),a))return(t.getTime()-a.getTime())/1e3;a.$$is_number||(a=re["$coerce_to!"](a,j("Integer"),"to_int"));var n=new Date(t.getTime()-a*1e3);return n.timezone=t.timezone,n}),V(_,"$<=>",function(a){var t=this,n=w;return N(j("Time"),a)?t.$to_f()["$<=>"](a.$to_f()):(n=a["$<=>"](t),g(n["$nil?"]())?w:g(H(n,0))?-1:g($e(n,0))?1:0)}),V(_,"$==",function(a){var t=this,n=w;return g(n=j("Time")["$==="](a))?t.$to_f()===a.$to_f():n}),V(_,"$asctime",function(){var a=this;return a.$strftime("%a %b %e %H:%M:%S %Y")}),J([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function f(a,t,n,r){var $=f.$$s==null?this:f.$$s;return a==null&&(a=w),t==null&&(t=w),n==null&&(n=w),r==null&&(r=0),J($,"define_method",[a],function i(){var u=i.$$s==null?this:i.$$s;return r+(u.timezone!=null?new Date(u.getTime()+u.timezone*36e5)[n]():u[t]())},{$$s:$})},{$$arity:-4,$$s:_}),V(_,"$yday",function(){var a=this,t=w,n=w,r=w;return t=h("Time").$new(a.$year()).$to_i(),n=h("Time").$new(a.$year(),a.$month(),a.$day()).$to_i(),r=86400,Y(ee(Q(n,t),r).$round(),1)}),V(_,"$isdst",function(){var a=this,t=new Date(a.getFullYear(),0,1),n=new Date(a.getFullYear(),6,1);return a.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),n.getTimezoneOffset())}),V(_,"$dup",function(){var a=this,t=w;return t=new Date(a.getTime()),t.$copy_instance_variables(a),t.$initialize_dup(a),t}),V(_,"$eql?",function(a){var t=this,n=w;return g(n=a["$is_a?"](j("Time")))?t["$<=>"](a)["$zero?"]():n}),J([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function f(a,t){var n=f.$$s==null?this:f.$$s;return a==null&&(a=w),t==null&&(t=w),J(n,"define_method",[a],function r(){var $=r.$$s==null?this:r.$$s;return $.$wday()===t},{$$s:n})},{$$s:_}),V(_,"$hash",function(){var a=this;return[j("Time"),a.getTime()].$hash()}),V(_,"$inspect",function(){var a=this;return g(a["$utc?"]())?a.$strftime("%Y-%m-%d %H:%M:%S UTC"):a.$strftime("%Y-%m-%d %H:%M:%S %z")}),V(_,"$succ",function(){var a=this,t=new Date(a.getTime()+1e3);return t.timezone=a.timezone,t}),V(_,"$usec",function(){var a=this;return a.getMilliseconds()*1e3}),V(_,"$zone",function(){var a=this;if(a.timezone===0)return"UTC";if(a.timezone!=null)return w;var t=a.toString(),n;return t.indexOf("(")==-1?n=t.match(/[A-Z]{3,4}/)[0]:n=t.match(/\((.+)\)(?:\s|$)/)[1],n=="GMT"&&/(GMT\W*\d{4})/.test(t)?RegExp.$1:n}),V(_,"$getgm",function(){var a=this,t=new Date(a.getTime());return t.timezone=0,t}),V(_,"$gmtime",function(){var a=this;return a.timezone!==0&&(F(a),a.timezone=0),a}),V(_,"$gmt?",function(){var a=this;return a.timezone===0}),V(_,"$gmt_offset",function(){var a=this;return a.timezone!=null?a.timezone*60:-a.getTimezoneOffset()*60}),V(_,"$strftime",function(a){var t=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(n,r,$,i,u){var p="",A,M,I,U=r.indexOf("0")!==-1,O=r.indexOf("-")===-1,ae=r.indexOf("_")!==-1,le=r.indexOf("^")!==-1,_e=r.indexOf("#")!==-1,de=(r.match(":")||[]).length;switch($=parseInt($,10),U&&ae&&(r.indexOf("0")<r.indexOf("_")?U=!1:ae=!1),u){case"Y":p+=t.$year();break;case"C":U=!ae,p+=Math.round(t.$year()/100);break;case"y":U=!ae,p+=t.$year()%100;break;case"m":U=!ae,p+=t.$mon();break;case"B":p+=K[t.$mon()-1];break;case"b":case"h":ae=!U,p+=L[t.$mon()-1];break;case"d":U=!ae,p+=t.$day();break;case"e":ae=!U,p+=t.$day();break;case"j":U=!ae,$=isNaN($)?3:$,p+=t.$yday();break;case"H":U=!ae,p+=t.$hour();break;case"k":ae=!U,p+=t.$hour();break;case"I":U=!ae,p+=t.$hour()%12||12;break;case"l":ae=!U,p+=t.$hour()%12||12;break;case"P":p+=t.$hour()>=12?"pm":"am";break;case"p":p+=t.$hour()>=12?"PM":"AM";break;case"M":U=!ae,p+=t.$min();break;case"S":U=!ae,p+=t.$sec();break;case"L":U=!ae,$=isNaN($)?3:$,p+=t.getMilliseconds();break;case"N":$=isNaN($)?9:$,p+=t.getMilliseconds().toString().$rjust(3,"0"),p=p.$ljust($,"0");break;case"z":var ge=t.timezone==null?t.getTimezoneOffset():-t.timezone*60,ve=Math.floor(Math.abs(ge)/60),me=Math.abs(ge)%60;p+=ge<0?"+":"-",p+=ve<10?"0":"",p+=ve,de>0&&(p+=":"),p+=me<10?"0":"",p+=me,de>1&&(p+=":00");break;case"Z":p+=t.$zone();break;case"A":p+=c[t.$wday()];break;case"a":p+=o[t.$wday()];break;case"u":p+=t.$wday()+1;break;case"w":p+=t.$wday();break;case"V":p+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":p+=t.$cweek_cyear()["$[]"](1);break;case"g":p+=t.$cweek_cyear()["$[]"](1)["$[]"](y(-2,-1,!1));break;case"s":p+=t.$to_i();break;case"n":p+=`
`;break;case"t":p+="	";break;case"%":p+="%";break;case"c":p+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":p+=t.$strftime("%m/%d/%y");break;case"F":p+=t.$strftime("%Y-%m-%d");break;case"v":p+=t.$strftime("%e-%^b-%4Y");break;case"r":p+=t.$strftime("%I:%M:%S %p");break;case"R":p+=t.$strftime("%H:%M");break;case"T":case"X":p+=t.$strftime("%H:%M:%S");break;case"J":if(A=t.$to_date().$jd(),A<2405160){p+=t.$strftime("%Y-%m-%d");break}else A<2419614?(M="M",I=1867):A<2424875?(M="T",I=1911):A<2447535?(M="S",I=1925):A<2458605?(M="H",I=1988):(M="R",I=2018);p+=t.$format("%c%02d",M,Q(t.$year(),I)),p+=t.$strftime("-%m-%d");break;default:return n}return le&&(p=p.toUpperCase()),_e&&(p=p.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),O&&(U||ae)&&(p=p.$rjust(isNaN($)?2:$,ae?" ":"0")),p})}),V(_,"$to_a",function(){var a=this;return[a.$sec(),a.$min(),a.$hour(),a.$day(),a.$month(),a.$year(),a.$wday(),a.$yday(),a.$isdst(),a.$zone()]}),V(_,"$to_f",function(){var a=this;return a.getTime()/1e3}),V(_,"$to_i",function(){var a=this;return parseInt(a.getTime()/1e3,10)}),V(_,"$cweek_cyear",function(){var a=this,t=w,n=w,r=w,$=w,i=w,u=w,p=w;return t=j("Time").$new(a.$year(),1,1),n=t.$wday(),r=a.$year(),g(C(n,4))&&S(n,0)?$=Q(n,1):($=Q(Q(n,7),1),G($,-8)&&($=-1)),i=ee(Y(a.$yday(),$),7).$ceil(),g(C(i,0))?j("Time").$new(Q(a.$year(),1),12,31).$cweek_cyear():(G(i,53)&&(u=j("Time").$new(a.$year(),12,31),p=u.$wday(),g(C(p,3))&&S(p,0)&&(i=1,r=Y(r,1))),[i,r])}),function(f,a){return k(f,"mktime","local"),k(f,"utc","gm")}(e.get_singleton_class(_)),k(_,"ctime","asctime"),k(_,"dst?","isdst"),k(_,"getutc","getgm"),k(_,"gmtoff","gmt_offset"),k(_,"mday","day"),k(_,"month","mon"),k(_,"to_s","inspect"),k(_,"tv_sec","to_i"),k(_,"tv_usec","usec"),k(_,"utc","gmtime"),k(_,"utc?","gmt?"),k(_,"utc_offset","gmt_offset")}("::",Date,m)};Opal.modules["corelib/struct"]=function(e){var E=e.klass,F=e.slice,X=e.extract_kwargs,q=e.ensure_kwargs,re=e.hash_get,Z=e.truthy,N=e.neqeq,V=e.eqeq,g=e.Opal,H=e.send,$e=e.Class,J=e.to_a,Y=e.def,ee=e.defs,Q=e.Kernel,y=e.rb_gt,S=e.rb_minus,C=e.eqeqeq,G=e.rb_lt,k=e.rb_ge,D=e.rb_plus,m=e.alias,w=e.top,j=[],T=e.nil,b=e.$$$;return e.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),w.$require("corelib/enumerable"),function(s,_,x){var h=E(s,_,"Struct"),c=[h].concat(x),o=e.$r(c);h.$include(b("Enumerable")),ee(h,"$new",function K(d,f,a){var t=K.$$p||T,n,r,$,i,u=this,p=T;if(K.$$p=null,n=F(arguments,1),r=X(n),r=q(r),$=n,i=re(r,"keyword_init"),i==null&&(i=!1),Z(d))if(V(d.$class(),b("String"))&&N(d["$[]"](0).$upcase(),d["$[]"](0)))$.$unshift(d),d=T;else try{d=g["$const_name!"](d)}catch(A){if(e.rescue(A,[b("TypeError"),b("NameError")]))try{$.$unshift(d),d=T}finally{e.pop_exception(A)}else throw A}return H($,"map",[],function(M){return M==null&&(M=T),g["$coerce_to!"](M,b("String"),"to_str")}),p=H($e,"new",[u],function A(){var M=A.$$s==null?this:A.$$s;return H($,"each",[],function I(U){var O=I.$$s==null?this:I.$$s;return U==null&&(U=T),O.$define_struct_attribute(U)},{$$s:M}),function(I,U){return Y(I,"$new",function(ae){var le,_e,de=this,ge=T;return le=F(arguments),_e=le,ge=de.$allocate(),ge.$$data={},H(ge,"initialize",J(_e)),ge},-1),I.$alias_method("[]","new")}(e.get_singleton_class(M))},{$$s:u}),Z(t)&&H(p,"module_eval",[],t.$to_proc()),p.$$keyword_init=i,Z(d)&&b("Struct").$const_set(d,p),p},-2),ee(h,"$define_struct_attribute",function(d){var f=this;return V(f,b("Struct"))&&Q.$raise(b("ArgumentError"),"you cannot define attributes to the Struct class"),f.$members()["$<<"](d),H(f,"define_method",[d],function a(){var t=a.$$s==null?this:a.$$s;return t.$$data[d]},{$$s:f}),H(f,"define_method",[""+d+"="],function a(t){var n=a.$$s==null?this:a.$$s;return t==null&&(t=T),n.$$data[d]=t},{$$s:f})}),ee(h,"$members",function(){var d=this,f=T;return d.members==null&&(d.members=T),V(d,b("Struct"))&&Q.$raise(b("ArgumentError"),"the Struct class has no members"),d.members=Z(f=d.members)?f:[]}),ee(h,"$inherited",function(d){var f=this,a=T;return f.members==null&&(f.members=T),a=f.members,H(d,"instance_eval",[],function t(){var n=t.$$s==null?this:t.$$s;return n.members=a},{$$s:f})}),Y(h,"$initialize",function(d){var f,a,t=this,n=T,r=T,$=T;return f=F(arguments),a=f,Z(t.$class().$$keyword_init)?(n=Z(r=a.$last())?r:new Map,(Z(y(a.$length(),1))||Z(a.length===1&&!n.$$is_hash))&&Q.$raise(b("ArgumentError"),"wrong number of arguments (given "+a.$length()+", expected 0)"),$=S(n.$keys(),t.$class().$members()),Z($["$any?"]())&&Q.$raise(b("ArgumentError"),"unknown keywords: "+$.$join(", ")),H(t.$class().$members(),"each",[],function i(u){var p,A=i.$$s==null?this:i.$$s;return u==null&&(u=T),p=[u,n["$[]"](u)],H(A,"[]=",p),p[p.length-1]},{$$s:t})):(Z(y(a.$length(),t.$class().$members().$length()))&&Q.$raise(b("ArgumentError"),"struct size differs"),H(t.$class().$members(),"each_with_index",[],function i(u,p){var A,M=i.$$s==null?this:i.$$s;return u==null&&(u=T),p==null&&(p=T),A=[u,a["$[]"](p)],H(M,"[]=",A),A[A.length-1]},{$$s:t}))},-1),Y(h,"$initialize_copy",function(d){var f=this;f.$$data={};var a=Object.keys(d.$$data),t,n,r;for(t=0,n=a.length;t<n;t++)r=a[t],f.$$data[r]=d.$$data[r]}),ee(h,"$keyword_init?",function(){var d=this;return d.$$keyword_init}),Y(h,"$members",function(){var d=this;return d.$class().$members()}),Y(h,"$hash",function(){var d=this;return[d.$class(),d.$to_a()].$hash()}),Y(h,"$[]",function(d){var f=this;return C(b("Integer"),d)?(Z(G(d,f.$class().$members().$size()["$-@"]()))&&Q.$raise(b("IndexError"),"offset "+d+" too small for struct(size:"+f.$class().$members().$size()+")"),Z(k(d,f.$class().$members().$size()))&&Q.$raise(b("IndexError"),"offset "+d+" too large for struct(size:"+f.$class().$members().$size()+")"),d=f.$class().$members()["$[]"](d)):C(b("String"),d)?f.$$data.hasOwnProperty(d)||Q.$raise(b("NameError").$new("no member '"+d+"' in struct",d)):Q.$raise(b("TypeError"),"no implicit conversion of "+d.$class()+" into Integer"),d=g["$coerce_to!"](d,b("String"),"to_str"),f.$$data[d]}),Y(h,"$[]=",function(d,f){var a=this;return C(b("Integer"),d)?(Z(G(d,a.$class().$members().$size()["$-@"]()))&&Q.$raise(b("IndexError"),"offset "+d+" too small for struct(size:"+a.$class().$members().$size()+")"),Z(k(d,a.$class().$members().$size()))&&Q.$raise(b("IndexError"),"offset "+d+" too large for struct(size:"+a.$class().$members().$size()+")"),d=a.$class().$members()["$[]"](d)):C(b("String"),d)?Z(a.$class().$members()["$include?"](d.$to_sym()))||Q.$raise(b("NameError").$new("no member '"+d+"' in struct",d)):Q.$raise(b("TypeError"),"no implicit conversion of "+d.$class()+" into Integer"),d=g["$coerce_to!"](d,b("String"),"to_str"),a.$$data[d]=f}),Y(h,"$==",function(d){var f=this;if(!Z(d["$instance_of?"](f.$class())))return!1;var a={},t={};function n(r,$){var i,u,p;a[r.$__id__()]=!0,t[$.$__id__()]=!0;for(i in r.$$data)if(u=r.$$data[i],p=$.$$data[i],b("Struct")["$==="](u)){if((!a.hasOwnProperty(u.$__id__())||!t.hasOwnProperty(p.$__id__()))&&!n(u,p))return!1}else if(!u["$=="](p))return!1;return!0}return n(f,d)}),Y(h,"$eql?",function(d){var f=this;if(!Z(d["$instance_of?"](f.$class())))return!1;var a={},t={};function n(r,$){var i,u,p;a[r.$__id__()]=!0,t[$.$__id__()]=!0;for(i in r.$$data)if(u=r.$$data[i],p=$.$$data[i],b("Struct")["$==="](u)){if((!a.hasOwnProperty(u.$__id__())||!t.hasOwnProperty(p.$__id__()))&&!n(u,p))return!1}else if(!u["$eql?"](p))return!1;return!0}return n(f,d)}),Y(h,"$each",function K(){var d=K.$$p||T,f=this;return K.$$p=null,d===T?H(f,"enum_for",["each"],function a(){var t=a.$$s==null?this:a.$$s;return t.$size()},{$$s:f}):(H(f.$class().$members(),"each",[],function a(t){var n=a.$$s==null?this:a.$$s;return t==null&&(t=T),e.yield1(d,n["$[]"](t))},{$$s:f}),f)}),Y(h,"$each_pair",function K(){var d=K.$$p||T,f=this;return K.$$p=null,d===T?H(f,"enum_for",["each_pair"],function a(){var t=a.$$s==null?this:a.$$s;return t.$size()},{$$s:f}):(H(f.$class().$members(),"each",[],function a(t){var n=a.$$s==null?this:a.$$s;return t==null&&(t=T),e.yield1(d,[t,n["$[]"](t)])},{$$s:f}),f)}),Y(h,"$length",function(){var d=this;return d.$class().$members().$length()}),Y(h,"$to_a",function(){var d=this;return H(d.$class().$members(),"map",[],function f(a){var t=f.$$s==null?this:f.$$s;return a==null&&(a=T),t["$[]"](a)},{$$s:d})});var L=[];return Y(h,"$inspect",function(){var d=this,f=T,a=T;return function(){try{return f="#<struct ",Z(L["$include?"](d.$__id__()))?D(f,":...>"):(L["$<<"](d.$__id__()),a=!0,C(b("Struct"),d)&&Z(d.$class().$name())&&(f=D(f,""+d.$class()+" ")),f=D(f,H(d.$each_pair(),"map",[],function(n,r){return n==null&&(n=T),r==null&&(r=T),""+n+"="+o("Opal").$inspect(r)}).$join(", ")),f=D(f,">"),f)}finally{Z(a)&&L.pop()}}()}),Y(h,"$to_h",function K(d){var f=K.$$p||T,a,t,n=this;return K.$$p=null,a=F(arguments),t=a,f!==T?H(H(n,"map",[],f.$to_proc()),"to_h",J(t)):H(n.$class().$members(),"each_with_object",[new Map],function r($,i){var u,p=r.$$s==null?this:r.$$s;return $==null&&($=T),i==null&&(i=T),u=[$,p["$[]"]($)],H(i,"[]=",u),u[u.length-1]},{$$s:n})},-1),Y(h,"$values_at",function(d){var f,a,t=this;f=F(arguments),a=f,a=H(a,"map",[],function(u){return u==null&&(u=T),u.$$is_range?u.$to_a():u}).$flatten();for(var n=[],r=0,$=a.length;r<$;r++)a[r].$$is_number||Q.$raise(b("TypeError"),"no implicit conversion of "+a[r].$class()+" into Integer"),n.push(t["$[]"](a[r]));return n},-1),Y(h,"$dig",function(d,f){var a,t,n=this,r=T;return a=F(arguments,1),t=a,r=Z(d.$$is_string&&n.$$data.hasOwnProperty(d))&&n.$$data[d]||T,r===T||t.length===0?r:(Z(r["$respond_to?"]("dig"))||Q.$raise(b("TypeError"),""+r.$class()+" does not have #dig method"),H(r,"dig",J(t)))},-2),m(h,"size","length"),m(h,"to_s","inspect"),m(h,"values","to_a")}("::",null,j)};Opal.modules["corelib/set"]=function(e){var E=e.freeze,F=e.klass,X=e.slice,q=e.defs,re=e.truthy,Z=e.eqeqeq,N=e.Kernel,V=e.send,g=e.def,H=e.eqeq,$e=e.rb_lt,J=e.rb_le,Y=e.alias,ee=[],Q=e.nil,y=e.$$$;return e.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(S,C,G){var k=F(S,C,"Set"),D=[k].concat(G),m=e.$r(D),w=Q,j=k.$$prototype;j.hash=Q,k.$include(y("Enumerable")),q(k,"$[]",function(s){var _,x,h=this;return _=X(arguments),x=_,h.$new(x)},-1),g(k,"$initialize",function b(s){var _=b.$$p||Q,x=this;return b.$$p=null,s==null&&(s=Q),x.hash=new Map,re(s["$nil?"]())?Q:(Z(y("Enumerable"),s)||N.$raise(y("ArgumentError"),"value must be enumerable"),re(_)?V(s,"each",[],function h(c){var o=h.$$s==null?this:h.$$s;return c==null&&(c=Q),o.$add(e.yield1(_,c))},{$$s:x}):x.$merge(s))},-1),g(k,"$dup",function(){var s=this,_=Q;return _=s.$class().$new(),_.$merge(s)}),g(k,"$-",function(s){var _=this;return re(s["$respond_to?"]("each"))||N.$raise(y("ArgumentError"),"value must be enumerable"),_.$dup().$subtract(s)}),g(k,"$inspect",function(){var s=this;return"#<Set: {"+s.$to_a().$join(",")+"}>"}),g(k,"$==",function(s){var _=this;return re(_["$equal?"](s))?!0:re(s["$instance_of?"](_.$class()))?_.hash["$=="](s.$instance_variable_get("@hash")):re(s["$is_a?"](y("Set")))&&H(_.$size(),s.$size())?V(s,"all?",[],function x(h){var c=x.$$s==null?this:x.$$s;return c.hash==null&&(c.hash=Q),h==null&&(h=Q),c.hash["$include?"](h)},{$$s:_}):!1}),g(k,"$add",function(s){var _=this;return _.hash["$[]="](s,!0),_}),g(k,"$classify",function b(){var s=b.$$p||Q,_=this,x=Q;return b.$$p=null,s===Q?_.$enum_for("classify"):(x=V(y("Hash"),"new",[],function h(c,o){var L,K=h.$$s==null?this:h.$$s;return c==null&&(c=Q),o==null&&(o=Q),L=[o,K.$class().$new()],V(c,"[]=",L),L[L.length-1]},{$$s:_}),V(_,"each",[],function(c){return c==null&&(c=Q),x["$[]"](e.yield1(s,c)).$add(c)}),x)}),g(k,"$collect!",function b(){var s=b.$$p||Q,_=this,x=Q;return b.$$p=null,s===Q?_.$enum_for("collect!"):(x=_.$class().$new(),V(_,"each",[],function(c){return c==null&&(c=Q),x["$<<"](e.yield1(s,c))}),_.$replace(x))}),g(k,"$compare_by_identity",function(){var s=this;return re(s.hash["$respond_to?"]("compare_by_identity"))?(s.hash.$compare_by_identity(),s):s.$raise(m("NotImplementedError"),""+s.$class().$name()+"#compare_by_identity is not implemented")}),g(k,"$compare_by_identity?",function(){var s=this,_=Q;return re(_=s.hash["$respond_to?"]("compare_by_identity?"))?s.hash["$compare_by_identity?"]():_}),g(k,"$delete",function(s){var _=this;return _.hash.$delete(s),_}),g(k,"$delete?",function(s){var _=this;return re(_["$include?"](s))?(_.$delete(s),_):Q}),g(k,"$delete_if",function b(){var s=b.$$p||Q,_=this;return b.$$p=null,s===Q?_.$enum_for("delete_if"):(V(V(_,"select",[],function(h){return h==null&&(h=Q),e.yield1(s,h)}),"each",[],function x(h){var c=x.$$s==null?this:x.$$s;return c.hash==null&&(c.hash=Q),h==null&&(h=Q),c.hash.$delete(h)},{$$s:_}),_)}),g(k,"$freeze",function(){var s=this;return re(s["$frozen?"]())?s:(s.hash.$freeze(),E(s))}),g(k,"$keep_if",function b(){var s=b.$$p||Q,_=this;return b.$$p=null,s===Q?_.$enum_for("keep_if"):(V(V(_,"reject",[],function(h){return h==null&&(h=Q),e.yield1(s,h)}),"each",[],function x(h){var c=x.$$s==null?this:x.$$s;return c.hash==null&&(c.hash=Q),h==null&&(h=Q),c.hash.$delete(h)},{$$s:_}),_)}),g(k,"$reject!",function b(){var s=b.$$p||Q,_=this,x=Q;return b.$$p=null,s===Q?_.$enum_for("reject!"):(x=_.$size(),V(_,"delete_if",[],s.$to_proc()),H(_.$size(),x)?Q:_)}),g(k,"$select!",function b(){var s=b.$$p||Q,_=this,x=Q;return b.$$p=null,s===Q?_.$enum_for("select!"):(x=_.$size(),V(_,"keep_if",[],s.$to_proc()),H(_.$size(),x)?Q:_)}),g(k,"$add?",function(s){var _=this;return re(_["$include?"](s))?Q:_.$add(s)}),g(k,"$each",function b(){var s=b.$$p||Q,_=this;return b.$$p=null,s===Q?_.$enum_for("each"):(V(_.hash,"each_key",[],s.$to_proc()),_)}),g(k,"$empty?",function(){var s=this;return s.hash["$empty?"]()}),g(k,"$eql?",function(s){var _=this;return _.hash["$eql?"](V(s,"instance_eval",[],function x(){var h=x.$$s==null?this:x.$$s;return h.hash==null&&(h.hash=Q),h.hash},{$$s:_}))}),g(k,"$clear",function(){var s=this;return s.hash.$clear(),s}),g(k,"$include?",function(s){var _=this;return _.hash["$include?"](s)}),g(k,"$merge",function(s){var _=this;return V(s,"each",[],function x(h){var c=x.$$s==null?this:x.$$s;return h==null&&(h=Q),c.$add(h)},{$$s:_}),_}),g(k,"$replace",function(s){var _=this;return _.$clear(),_.$merge(s),_}),g(k,"$size",function(){var s=this;return s.hash.$size()}),g(k,"$subtract",function(s){var _=this;return V(s,"each",[],function x(h){var c=x.$$s==null?this:x.$$s;return h==null&&(h=Q),c.$delete(h)},{$$s:_}),_}),g(k,"$|",function(s){var _=this;return re(s["$respond_to?"]("each"))||N.$raise(y("ArgumentError"),"value must be enumerable"),_.$dup().$merge(s)});function T(b){re(w=b["$is_a?"](y("Set")))||N.$raise(y("ArgumentError"),"value must be a set")}return g(k,"$superset?",function(s){var _=this;return T(s),re($e(_.$size(),s.$size()))?!1:V(s,"all?",[],function x(h){var c=x.$$s==null?this:x.$$s;return h==null&&(h=Q),c["$include?"](h)},{$$s:_})}),g(k,"$proper_superset?",function(s){var _=this;return T(s),re(J(_.$size(),s.$size()))?!1:V(s,"all?",[],function x(h){var c=x.$$s==null?this:x.$$s;return h==null&&(h=Q),c["$include?"](h)},{$$s:_})}),g(k,"$subset?",function(s){var _=this;return T(s),re($e(s.$size(),_.$size()))?!1:V(_,"all?",[],function(h){return h==null&&(h=Q),s["$include?"](h)})}),g(k,"$proper_subset?",function(s){var _=this;return T(s),re(J(s.$size(),_.$size()))?!1:V(_,"all?",[],function(h){return h==null&&(h=Q),s["$include?"](h)})}),g(k,"$intersect?",function(s){var _=this;return T(s),re($e(_.$size(),s.$size()))?V(_,"any?",[],function(h){return h==null&&(h=Q),s["$include?"](h)}):V(s,"any?",[],function x(h){var c=x.$$s==null?this:x.$$s;return h==null&&(h=Q),c["$include?"](h)},{$$s:_})}),g(k,"$disjoint?",function(s){var _=this;return _["$intersect?"](s)["$!"]()}),g(k,"$to_a",function(){var s=this;return s.hash.$keys()}),Y(k,"+","|"),Y(k,"<","proper_subset?"),Y(k,"<<","add"),Y(k,"<=","subset?"),Y(k,">","proper_superset?"),Y(k,">=","superset?"),Y(k,"difference","-"),Y(k,"filter!","select!"),Y(k,"length","size"),Y(k,"map!","collect!"),Y(k,"member?","include?"),Y(k,"union","|")}("::",null,ee)};Opal.modules["corelib/dir"]=function(e){var E=e.klass,F=e.def,X=e.truthy,q=e.alias,re=e.nil,Z=e.$$$;return e.add_stubs("[],pwd"),function(N,V,g){var H=E(N,V,"Dir");return function($e,J){return F($e,"$chdir",function Y(ee){var Q=Y.$$p||re,y=re;return Y.$$p=null,function(){try{return y=e.current_dir,e.current_dir=ee,e.yieldX(Q,[])}finally{e.current_dir=y}}()}),F($e,"$pwd",function(){return e.current_dir||"."}),F($e,"$home",function(){var ee=re;return X(ee=Z("ENV")["$[]"]("HOME"))?ee:"."}),q($e,"getwd","pwd")}(e.get_singleton_class(H))}("::",null)};Opal.modules["corelib/file"]=function(e){var E=e.truthy,F=e.klass,X=e.const_set,q=e.Opal,re=e.regexp,Z=e.rb_plus,N=e.def,V=e.Kernel,g=e.eqeq,H=e.rb_lt,$e=e.rb_minus,J=e.range,Y=e.send,ee=e.slice,Q=e.alias,y=[],S=e.nil,C=e.$$$;return e.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(G,k,D){var m=F(G,k,"File"),w=[m].concat(D),j=S;return X(w[0],"Separator",X(w[0],"SEPARATOR","/")),X(w[0],"ALT_SEPARATOR",S),X(w[0],"PATH_SEPARATOR",":"),X(w[0],"FNM_SYSCASE",0),j=/^[a-zA-Z]:(?:\\|\/)/,function(T,b){var s=[T].concat(b),_=e.$r(s);N(T,"$absolute_path",function(o,L){var K=S,d=S,f=S,a=S,t=S,n=S,r=S,$=S,i=S,u=S;L==null&&(L=S),K=_("SEPARATOR"),d=h(),f=[],o=E(o["$respond_to?"]("to_path"))?o.$to_path():o,o=q["$coerce_to!"](o,C("String"),"to_str"),L=E(a=L)?a:C("Dir").$pwd(),t=o.substr(0,K.length)===K||j.test(o),n=L.substr(0,K.length)===K||j.test(L),E(t)?(r=o.$split(re(["[",d,"]"])),$=j.test(o)?"":o.$sub(re(["^([",d,"]+).*$"]),"\\1"),i=!0):(r=Z(L.$split(re(["[",d,"]"])),o.$split(re(["[",d,"]"]))),$=j.test(L)?"":L.$sub(re(["^([",d,"]+).*$"]),"\\1"),i=n);for(var p,A=0,M=r.length;A<M;A++)p=r[A],!(p===S||p===""&&(f.length===0||i)||p==="."&&(f.length===0||i))&&(p===".."?f.pop():f.push(p));return!i&&r[0]!=="."&&f.$unshift("."),u=f.$join(K),E(i)&&(u=Z($,u)),u},-2),N(T,"$expand_path",function(o,L){var K=this,d=S,f=S,a=S,t=S,n=S;return L==null&&(L=S),d=_("SEPARATOR"),f=h(),E(o[0]==="~"||L&&L[0]==="~")&&(a=_("Dir").$home(),E(a)||V.$raise(C("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),t=j.test(a)?"":a.$sub(re(["^([",f,"]+).*$"]),"\\1"),E(a["$start_with?"](t))||V.$raise(C("ArgumentError"),"non-absolute home"),a=Z(a,d),n=re(["^\\~(?:",d,"|$)"]),o=o.$sub(n,a),E(L)&&(L=L.$sub(n,a))),K.$absolute_path(o,L)},-2);function x(c){return E(c["$respond_to?"]("to_path"))&&(c=c.$to_path()),c=q["$coerce_to!"](c,C("String"),"to_str"),c}function h(){return _("ALT_SEPARATOR")===S?e.escape_regexp(_("SEPARATOR")):e.escape_regexp(Z(_("SEPARATOR"),_("ALT_SEPARATOR")))}return N(T,"$dirname",function(o,L){var K=this,d=S;if(L==null&&(L=1),g(L,0))return o;E(H(L,0))&&V.$raise(C("ArgumentError"),"level can't be negative"),d=h(),o=x(o);var f=o.match(new RegExp("^["+d+"]")),a;return o=o.replace(new RegExp("["+d+"]+$"),""),o=o.replace(new RegExp("[^"+d+"]+$"),""),o=o.replace(new RegExp("["+d+"]+$"),""),o===""?a=f?"/":".":a=o,L==1?a:K.$dirname(a,$e(L,1))},-2),N(T,"$basename",function(o,L){var K=S;return L==null&&(L=S),K=h(),o=x(o),o.length==0||(L!==S?L=q["$coerce_to!"](L,C("String"),"to_str"):L=null,o=o.replace(new RegExp("(.)["+K+"]*$"),"$1"),o=o.replace(new RegExp("^(?:.*["+K+"])?([^"+K+"]+)$"),"$1"),L===".*"?o=o.replace(/\.[^\.]+$/,""):L!==null&&(L=e.escape_regexp(L),o=o.replace(new RegExp(""+L+"$"),""))),o},-2),N(T,"$extname",function(o){var L=this,K=S,d=S;return o=x(o),K=L.$basename(o),E(K["$empty?"]())||(d=K["$[]"](J(1,-1,!1)).$rindex("."),E(d["$nil?"]())||g(Z(d,1),$e(K.$length(),1)))?"":K["$[]"](e.Range.$new(Z(d,1),-1,!1))}),N(T,"$exist?",function(o){return e.modules[o]!=null}),N(T,"$directory?",function(o){var L=S;L=[];for(var K in e.modules)L.push(K);return o=o.$gsub(re(["(^.",_("SEPARATOR"),"+|",_("SEPARATOR"),"+$)"])),Y(L,"find",[],function(f){return f==null&&(f=S),f["$=~"](re(["^",o]))})}),N(T,"$join",function(o){var L,K,d=S;return L=ee(arguments),K=L,E(K["$empty?"]())?"":(d="",K=Y(K.$flatten().$each_with_index(),"map",[],function(a,t){return a==null&&(a=S),t==null&&(t=S),g(t,0)&&E(a["$empty?"]())||g(K.$length(),Z(t,1))&&E(a["$empty?"]())?_("SEPARATOR"):a}),K=Y(K,"reject",[],"empty?".$to_proc()),Y(K,"each_with_index",[],function(a,t){var n=S;return a==null&&(a=S),t==null&&(t=S),n=K["$[]"](Z(t,1)),E(n["$nil?"]())?d=""+d+a:(E(a["$end_with?"](_("SEPARATOR")))&&E(n["$start_with?"](_("SEPARATOR")))&&(a=a.$sub(re([_("SEPARATOR"),"+$"]),"")),d=E(a["$end_with?"](_("SEPARATOR")))||E(n["$start_with?"](_("SEPARATOR")))?""+d+a:""+d+a+_("SEPARATOR"))}),d)},-1),N(T,"$split",function(o){return o.$split(_("SEPARATOR"))}),Q(T,"realpath","expand_path"),Q(T,"exists?","exist?")}(e.get_singleton_class(m),w)}("::",C("IO"),y)};Opal.modules["corelib/process/base"]=function(e){var E=e.klass,F=e.slice,X=e.defs,q=e.return_val,re=e.nil;return function(Z,N){var V=E(Z,N,"Signal");return X(V,"$trap",function(H){return F(arguments),re},-1)}("::",null),function(Z,N){var V=E(Z,N,"GC");return X(V,"$start",q(re))}("::",null)};Opal.modules["corelib/process"]=function(e){var E=e.module,F=e.defs,X=e.truthy,q=e.return_val,re=e.Kernel,Z=e.nil,N=e.$$$;return e.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(V){var g=E(V,"Process"),H=Z;if(g.__clocks__=[],F(g,"$__register_clock__",function(Y,ee){var Q=this;return Q.__clocks__==null&&(Q.__clocks__=Z),Q.$const_set(Y,Q.__clocks__.$size()),Q.__clocks__["$<<"](ee)}),g.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),H=!1,e.global.performance)H=function(){return performance.now()};else if(e.global.process&&process.hrtime){var $e=process.hrtime();H=function(){var J=process.hrtime($e),Y=J[1]/1e3|0;return J[0]*1e3+Y/1e3}}return X(H)&&g.$__register_clock__("CLOCK_MONOTONIC",H),F(g,"$pid",q(0)),F(g,"$times",function(){var Y=Z;return Y=N("Time").$now().$to_f(),N(N("Benchmark"),"Tms").$new(Y,Y,Y,Y,Y)}),F(g,"$clock_gettime",function(Y,ee){var Q=this,y=Z;Q.__clocks__==null&&(Q.__clocks__=Z),ee==null&&(ee="float_second"),X(y=Q.__clocks__["$[]"](Y))||re.$raise(N(N("Errno"),"EINVAL"),"clock_gettime("+Y+") "+Q.__clocks__["$[]"](Y));var S=y();switch(ee){case"float_second":return S/1e3;case"float_millisecond":return S/1;case"float_microsecond":return S*1e3;case"second":return S/1e3|0;case"millisecond":return S/1|0;case"microsecond":return S*1e3|0;case"nanosecond":return S*1e6|0;default:re.$raise(N("ArgumentError"),"unexpected unit: "+ee)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(e){var E=e.klass,F=e.module,X=e.def,q=e.range,re=e.send,Z=e.rb_divide,N=e.Kernel,V=e.Opal,g=[],H=e.nil,$e=e.$$$;return e.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(J,Y,ee){var Q=E(J,Y,"Random"),y=[Q].concat(ee);return function(S,C){var G=F(S,"Formatter"),k=[G].concat(C),D=e.$r(k);return X(G,"$hex",function(w){var j=this;w==null&&(w=H),w=$e("Random").$_verify_count(w);for(var T=j.$bytes(w),b="",s=0;s<w;s++)b+=T.charCodeAt(s).toString(16).padStart(2,"0");return b.$encode("US-ASCII")},-1),X(G,"$random_bytes",function(w){var j=this;return w==null&&(w=H),j.$bytes(w)},-1),X(G,"$base64",function(w){var j=this;return w==null&&(w=H),$e("Base64").$strict_encode64(j.$random_bytes(w)).$encode("US-ASCII")},-1),X(G,"$urlsafe_base64",function(w,j){var T=this;return w==null&&(w=H),j==null&&(j=!1),$e("Base64").$urlsafe_encode64(T.$random_bytes(w),j).$encode("US-ASCII")},-1),X(G,"$uuid",function(){var w=this,j=H;return j=w.$hex(16).$split(""),j["$[]="](12,"4"),j["$[]="](16,(parseInt(j["$[]"](16),16)&3|8).toString(16)),j=[j["$[]"](q(0,8,!0)),j["$[]"](q(8,12,!0)),j["$[]"](q(12,16,!0)),j["$[]"](q(16,20,!0)),j["$[]"](q(20,32,!0))],j=re(j,"map",[],"join".$to_proc()),j.$join("-")}),X(G,"$random_float",function(){var w=this,j=H,T=H;return j=w.$bytes(4),T=0,re(4,"times",[],function(s){return s==null&&(s=H),T=T["$<<"](8),T=T["$|"](j["$[]"](s).$ord())}),Z(T.$abs(),2147483647)}),X(G,"$random_number",function(w){var j=this;function T(){return j.$random_float()}function b(_){return Math.floor(T()*_)}function s(){var _=w.begin,x=w.end;if(_===H||x===H)return H;var h=x-_;return h<0?H:h===0?_:(x%1===0&&_%1===0&&!w.excl&&h++,b(h)+_)}return w==null?T():w.$$is_range?s():w.$$is_number?(w<=0&&N.$raise($e("ArgumentError"),"invalid argument - "+w),w%1===0?b(w):T()*w):(w=V["$coerce_to!"](w,$e("Integer"),"to_int"),w<=0&&N.$raise($e("ArgumentError"),"invalid argument - "+w),b(w))},-1),X(G,"$alphanumeric",function(w){var j=this,T=H;return w==null&&(w=H),w=D("Random").$_verify_count(w),T=re([q("0","9",!1),q("a","z",!1),q("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),re($e("Array"),"new",[w],function b(s){var _=b.$$s==null?this:b.$$s;return T["$[]"](_.$random_number(T.$length()))},{$$s:j}).$join()},-1)}(Q,y),Q.$include($e($e("Random"),"Formatter")),Q.$extend($e($e("Random"),"Formatter"))}("::",null,g)};Opal.modules["corelib/random/mersenne_twister"]=function(e){var E=e.klass,F=e.const_set,X=e.send,q=e.nil,re=e.$$$,Z=q;return e.add_stubs("generator="),Z=function(){var N=624,V=397,g=2567483615,H=2147483648,$e=2147483647,J=function(k,D){return k&H|D&$e},Y=function(k,D){return J(k,D)>>>1^(D&1?g:0)};function ee(k){var D={left:0,next:N,state:new Array(N)};return Q(D,k),D}function Q(k,D){var m;for(k.state[0]=D>>>0,m=1;m<N;m++)k.state[m]=1812433253*(k.state[m-1]^k.state[m-1]>>30>>>0)+m,k.state[m]&=4294967295;k.left=1,k.next=N}function y(k){var D=0,m=k.state,w;for(k.left=N,k.next=0,w=N-V+1;--w;D++)m[D]=m[D+V]^Y(m[D+0],m[D+1]);for(w=V;--w;D++)m[D]=m[D+(V-N)]^Y(m[D+0],m[D+1]);m[D]=m[D+(V-N)]^Y(m[D+0],m[0])}function S(k){var D;return--k.left<=0&&y(k),D=k.state[k.next++],D^=D>>>11,D^=D<<7&2636928640,D^=D<<15&4022730752,D^=D>>>18,D>>>0}function C(k,D){return k>>>=5,D>>>=6,(k*67108864+D)*(1/9007199254740992)}function G(k){var D=S(k),m=S(k);return C(D,m)}return{genrand_real:G,init:ee}}(),function(N,V){var g=E(N,V,"Random"),H,$e=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return F(g,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*$e)},reseed:function(J){return Z.init(J)},rand:function(J){return Z.genrand_real(J)}}),H=[re(g,"MERSENNE_TWISTER_GENERATOR")],X(g,"generator=",H),H[H.length-1]}("::",null)};Opal.modules["corelib/random"]=function(e){var E=e.truthy,F=e.klass,X=e.Kernel,q=e.defs,re=e.Opal,Z=e.def,N=e.eqeqeq,V=e.send,g=e.top,H=e.nil,$e=e.$$$;return e.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),g.$require("corelib/random/formatter"),function(J,Y){var ee=F(J,Y,"Random");return ee.$attr_reader("seed","state"),q(ee,"$_verify_count",function(y){return E(y)||(y=16),typeof y!="number"&&(y=y.$to_int()),y<0&&X.$raise($e("ArgumentError"),"negative string size (or size too big)"),y=Math.floor(y),y}),Z(ee,"$initialize",function(y){var S=this;return y==null&&(y=$e("Random").$new_seed()),y=re["$coerce_to!"](y,$e("Integer"),"to_int"),S.state=y,S.$reseed(y)},-1),Z(ee,"$reseed",function(y){var S=this;return S.seed=y,S.$rng=e.$$rand.reseed(y)}),q(ee,"$new_seed",function(){return e.$$rand.new_seed()}),q(ee,"$rand",function(y){var S=this;return $e(S,"DEFAULT").$rand(y)},-1),q(ee,"$srand",function(y){var S=this,C=H;return y==null&&(y=$e("Random").$new_seed()),y=re["$coerce_to!"](y,$e("Integer"),"to_int"),C=$e(S,"DEFAULT").$seed(),$e(S,"DEFAULT").$reseed(y),C},-1),q(ee,"$urandom",function(y){return $e("SecureRandom").$bytes(y)}),Z(ee,"$==",function(y){var S=this,C=H;return N($e("Random"),y)?E(C=S.$seed()["$=="](y.$seed()))?S.$state()["$=="](y.$state()):C:!1}),Z(ee,"$bytes",function(y){var S=this;return y=$e("Random").$_verify_count(y),V($e("Array"),"new",[y],function C(){var G=C.$$s==null?this:C.$$s;return G.$rand(255).$chr()},{$$s:S}).$join().$encode("ASCII-8BIT")}),q(ee,"$bytes",function(y){var S=this;return $e(S,"DEFAULT").$bytes(y)}),Z(ee,"$rand",function(y){var S=this;return S.$random_number(y)},-1),Z(ee,"$random_float",function(){var y=this;return y.state++,e.$$rand.rand(y.$rng)}),q(ee,"$random_float",function(){var y=this;return $e(y,"DEFAULT").$random_float()}),q(ee,"$generator=",function(y){var S=this;return e.$$rand=y,E(S["$const_defined?"]("DEFAULT"))?$e(S,"DEFAULT").$reseed():S.$const_set("DEFAULT",S.$new(S.$new_seed()))})}("::",null),g.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(e){var E=e.Kernel,F=e.klass,X=e.send,q=e.slice,re=e.module,Z=e.def,N=e.return_val,V=e.alias,g=e.defs,H=e.top,$e=[],J=e.nil,Y=e.$$$;e.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var ee={};function Q(S){switch(e.config.unsupported_features_severity){case"error":E.$raise(Y("NotImplementedError"),S);break;case"warning":y(S);break}}function y(S){ee[S]||(ee[S]=!0,H.$warn(S))}return function(S,C){var G=F(S,C,"String"),k="String#%s not supported. Mutable String methods are not supported in Opal.";return X(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function D(m){var w=D.$$s==null?this:D.$$s;return m==null&&(m=J),X(w,"define_method",[m],function(T){return q(arguments),E.$raise(Y("NotImplementedError"),k["$%"](m))},-1)},{$$s:G})}("::",null),function(S){var C=re(S,"Kernel"),G="Object tainting is not supported by Opal";return Z(C,"$taint",function(){var D=this;return Q(G),D}),Z(C,"$untaint",function(){var D=this;return Q(G),D}),Z(C,"$tainted?",function(){return Q(G),!1})}("::"),function(S,C){var G=F(S,C,"Module");return Z(G,"$public",function(D){var m,w,j=this;return m=q(arguments),w=m,w.length===0?(j.$$module_function=!1,J):w.length===1?w[0]:w},-1),Z(G,"$private_class_method",function(D){var m,w;return m=q(arguments),w=m,w.length===1?w[0]:w},-1),Z(G,"$private_method_defined?",N(!1)),Z(G,"$private_constant",function(D){return q(arguments),J},-1),V(G,"nesting","public"),V(G,"private","public"),V(G,"protected","public"),V(G,"protected_method_defined?","private_method_defined?"),V(G,"public_class_method","private_class_method"),V(G,"public_instance_method","instance_method"),V(G,"public_instance_methods","instance_methods"),V(G,"public_method_defined?","method_defined?")}("::",null),function(S){var C=re(S,"Kernel");return Z(C,"$private_methods",function(k){return q(arguments),[]},-1),V(C,"protected_methods","private_methods"),V(C,"private_instance_methods","private_methods"),V(C,"protected_instance_methods","private_methods")}("::"),function(S,C){var G=re(S,"Kernel"),k=[G].concat(C),D=e.$r(k);return Z(G,"$eval",function(w){return q(arguments),E.$raise(Y("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+D("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",$e),g(H,"$public",function(C){var G,k;return G=q(arguments),k=G,k.length===1?k[0]:k},-1),g(H,"$private",function(C){var G,k;return G=q(arguments),k=G,k.length===1?k[0]:k},-1)};Opal.modules["corelib/binding"]=function(e){var E=e.klass,F=e.truthy,X=e.def,q=e.slice,re=e.send,Z=e.to_a,N=e.Kernel,V=e.return_ivar,g=e.eqeq;e.thrower;var H=e.module,$e=e.const_set,J=e.top,Y=[],ee=e.nil,Q=e.$$$;return e.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(y,S){var C=E(y,S,"Binding"),G=C.$$prototype;return G.jseval=G.scope_variables=ee,X(C,"$initialize",function(D,m,w,j){var T,b=this;return m==null&&(m=[]),j==null&&(j=ee),T=[D,m,w,j],b.jseval=T[0],b.scope_variables=T[1],b.receiver=T[2],b.source_location=T[3],F(typeof w!==void 0)?ee:w=b.$js_eval("self")},-2),X(C,"$js_eval",function(D){var m,w,j=this;return m=q(arguments),w=m,F(j.jseval)?re(j.jseval,"call",Z(w)):N.$raise("Evaluation on a Proc#binding is not supported")},-1),X(C,"$local_variable_get",function(D){var m=this;try{return m.$js_eval(D)}catch(w){if(e.rescue(w,[Q("Exception")]))try{return N.$raise(Q("NameError"),"local variable `"+D+"' is not defined for "+m.$inspect())}finally{e.pop_exception(w)}else throw w}}),X(C,"$local_variable_set",function(D,m){var w=this;return e.Binding.tmp_value=m,w.$js_eval(""+D+" = Opal.Binding.tmp_value"),delete e.Binding.tmp_value,m}),X(C,"$local_variables",V("scope_variables")),X(C,"$local_variable_defined?",function(D){var m=this;return m.scope_variables["$include?"](D)}),X(C,"$eval",function(D,m,w){try{var j=this;return m==null&&(m=ee),w==null&&(w=ee),g(D,"self")?j.$receiver():N.$eval(D,j,m,w)}catch(T){if(T===e.t_eval_return)return T.$v;throw T}},-2),C.$attr_reader("receiver","source_location")}("::",null),function(y){var S=H(y,"Kernel");return X(S,"$binding",function(){return N.$raise("Opal doesn't support dynamic calls to binding")})}("::"),$e(Y[0],"TOPLEVEL_BINDING",Q("Binding").$new(function(y){return new Function("self","return "+y)(J)},[],J,["<main>",0]))};Opal.modules["corelib/irb"]=function(e){var E=e.module,F=e.truthy,X=e.Kernel,q=e.defs,re=e.gvars,Z=e.lambda,N=e.hash_rehash,V=e.send,g=e.rb_plus,H=e.const_set,$e=e.klass,J=e.def,Y=e.Opal,ee=e.range,Q=e.eqeq,y=e.thrower,S=[],C=e.nil,G=e.$$$;e.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(k,D){var m=E(k,"Opal"),w=[m].concat(D);return function(j,T){var b=E(j,"IRB"),s=[b].concat(T),_=e.$r(s);return q(b,"$ensure_loaded",function(h){var c=C,o=C;if(F(e.loaded_features["$include?"](h)))return C;c=F(_("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":_("RUBY_ENGINE_VERSION"),o="https://cdn.opalrb.com/opal/"+c+"/"+h+".js";var L;if(typeof XMLHttpRequest<"u"){var K=new XMLHttpRequest;K.open("GET",o,!1),K.send(""),L=K.responseText}else X.$raise("You need to provision "+h+" yourself in this environment");return new Function("Opal",L)(e),e.require(h),F(e.loaded_features["$include?"](h))?C:X.$raise("Could not load "+h+" for some reason")}),b.$singleton_class().$attr_accessor("output"),q(b,"$prepare_console",function x(){var h=x.$$p||C,c,o=this,L=C,K=C;return re.stdout==null&&(re.stdout=C),re.stderr==null&&(re.stderr=C),re.stdin==null&&(re.stdin=C),x.$$p=null,function(){try{return o["$output="](""),L=N(new Map([[re.stdout,Z(function(f){return f==null&&(f=C),re.stdout=f})],[re.stderr,Z(function(f){return f==null&&(f=C),re.stderr=f})]])),F(o["$browser?"]())&&(V(L,"each",[],function d(f,a){var t=d.$$s==null?this:d.$$s,n=C;return f==null&&(f=C),a==null&&(a=C),n=f.$dup(),n["$write_proc="](V(t,"proc",[],function r($){var i=r.$$s==null?this:r.$$s;return $==null&&($=C),i["$output="](g(i.$output(),$)),i["$output="](i.$output().$split(`
`).$last(30).$join(`
`)),F($["$end_with?"](`
`))&&i["$output="](g(i.$output(),`
`)),f.$write_proc().$call($)},{$$s:t})),n["$tty="](!1),a.$call(n)},{$$s:o}),K=re.stdin.$read_proc(),re.stdin["$read_proc="](function(d){var f=prompt(o.$output());return f!==null?f+`
`:C})),e.yieldX(h,[])}finally{V(L,"each",[],function(f,a){return f==null&&(f=C),a==null&&(a=C),a.$call(f)}),c=[K],V(re.stdin,"read_proc=",c),c[c.length-1],c=[""],V(o,"output=",c),c[c.length-1]}}()}),q(b,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),H(s[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(x,h){var c=$e(x,h,"Silencer"),o=c.$$prototype;return o.collector=o.stderr=C,J(c,"$initialize",function(){var K=this;return re.stderr==null&&(re.stderr=C),K.stderr=re.stderr}),J(c,"$silence",function L(){var K=L.$$p||C,d=this;return L.$$p=null,function(){try{return d.collector=G("StringIO").$new(),re.stderr=d.collector,e.yieldX(K,[])}finally{re.stderr=d.stderr}}()}),J(c,"$warnings",function(){var K=this;return K.collector.$string()})}(s[0],null)}(w[0],w)}(S[0],S),function(k,D,m){var w=$e(k,D,"Binding"),j=[w].concat(m),T=e.$r(j);return J(w,"$irb",function(){try{var s=y("return"),_=this,x=C;return G(Y,"IRB").$ensure_loaded("opal-replutils"),x=G(G(Y,"IRB"),"Silencer").$new(),V(G(Y,"IRB"),"prepare_console",[],function h(){var c=h.$$s==null?this:h.$$s;return function(){try{var o=y("break");return V(c,"loop",[],function L(){var K=L.$$s==null?this:L.$$s,d=C,f=C,a=C,t=C,n=C;K.$print(">> "),d=K.$gets(),F(d)||o.$throw(C,L.$$is_lambda),f="",F(G(Y,"IRB")["$browser?"]())&&K.$puts(d),F(d["$start_with?"]("ls "))?(f=d["$[]"](ee(3,-1,!1)),a="ls"):Q(d,`ls
`)?(f="self",a="ls"):F(d["$start_with?"]("show "))?(f=d["$[]"](ee(5,-1,!1)),a="show"):(f=d,a="inspect"),t=C;do{try{V(x,"silence",[],function(){return t=e.compile(f,{irb:!0})})}catch(r){if(e.rescue(r,[T("SyntaxError")])){n=r;try{if(F(G(G(Y,"IRB"),"LINEBREAKS")["$include?"](n.$message()))){K.$print(".. "),d=K.$gets(),F(d)||s.$throw(C,L.$$is_lambda),F(G(Y,"IRB")["$browser?"]())&&K.$puts(d),f=g(f,d);continue}else F(x.$warnings()["$empty?"]())?K.$warn(n.$full_message()):K.$warn(x.$warnings())}finally{e.pop_exception(r)}}else throw r}break}while(!0);return Q(a,"show")&&(K.$puts(t),s.$throw(C,L.$$is_lambda)),K.$puts(G("REPLUtils").$eval_and_print(t,a,!1,K))},{$$s:c,$$ret:s})}catch(L){if(L===o)return L.$v;throw L}finally{o.is_orphan=!0}}()},{$$s:_})}catch(h){if(h===s)return h.$v;throw h}finally{s.is_orphan=!0}})}("::",null,S),e.irb=function(k){G("Binding").$new(k).$irb()},e.load_parser=function(){e.Opal.IRB.$ensure_loaded("opal-parser")},typeof e.eval>"u"&&(e.eval=function(k){return e.load_parser(),e.eval(k)}),typeof e.compile>"u"&&(e.compile=function(k,D){return e.load_parser(),e.compile(k,D)})};Opal.queue(function(e){var E=e.Object;return e.nil,e.add_stubs("require,autoload"),E.$require("opal/base"),E.$require("opal/mini"),E.$require("corelib/kernel/format"),E.$require("corelib/string/encoding"),E.$autoload("Math","corelib/math"),E.$require("corelib/complex/base"),E.$autoload("Complex","corelib/complex"),E.$require("corelib/rational/base"),E.$autoload("Rational","corelib/rational"),E.$require("corelib/time"),E.$autoload("Struct","corelib/struct"),E.$autoload("Set","corelib/set"),E.$autoload("Dir","corelib/dir"),E.$autoload("File","corelib/file"),E.$require("corelib/process/base"),E.$autoload("Process","corelib/process"),E.$autoload("Random","corelib/random"),E.$require("corelib/unsupported"),E.$require("corelib/binding"),E.$require("corelib/irb")});Opal.modules.native=function(e){var E=e.hash_put,F=e.module,X=e.defs,q=e.slice,re=e.truthy,Z=e.send,N=e.Kernel,V=e.extract_kwargs,g=e.ensure_kwargs,H=e.hash_get,$e=e.range,J=e.to_a,Y=e.def,ee=e.return_ivar,Q=e.alias,y=e.klass,S=e.rb_minus,C=e.return_val,G=e.send2,k=e.find_super,D=e.eqeqeq,m=e.rb_ge,w=e.return_self,j=e.gvars,T=e.top,b=[],s=e.$r(b),_=e.nil,x=e.$$$;return e.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(h,c){var o=F(h,"Native"),L=[o].concat(c),K=e.$r(L);return X(o,"$is_a?",function(f,a){var t=this;try{return f instanceof t.$try_convert(a)}catch{return!1}}),X(o,"$try_convert",function(f,a){var t=this;return a==null&&(a=_),t["$native?"](f)?f:f["$respond_to?"]("to_n")?f.$to_n():a},-2),X(o,"$convert",function(f){var a=this;if(a["$native?"](f))return f;if(f["$respond_to?"]("to_n"))return f.$to_n();a.$raise(K("ArgumentError"),""+f.$inspect()+" isn't native")}),X(o,"$call",function d(f,a,t){var n=d.$$p||_,r,$,i=this;d.$$p=null,r=q(arguments,2),$=r;var u=f[a];if(u instanceof Function){for(var p=new Array($.length),A=0,M=$.length;A<M;A++){var I=$[A],U=i.$try_convert(I);p[A]=U===_?I:U}return n!==_&&p.push(n),i.$Native(u.apply(f,p))}else return i.$Native(u)},-3),X(o,"$proc",function d(){var f=d.$$p||_,a=this;return d.$$p=null,re(f)||a.$raise(K("LocalJumpError"),"no block given"),Z(N,"proc",[],function t(n){var r,$,i=t.$$s==null?this:t.$$s,u=_;if(r=q(arguments),$=r,Z($,"map!",[],function A(M){var I=A.$$s==null?this:A.$$s;return M==null&&(M=_),I.$Native(M)},{$$s:i}),u=i.$Native(this),this===e.global)return f.apply(i,$);var p=f.$$s;f.$$s=null;try{return f.apply(u,$)}finally{f.$$s=p}},{$$arity:-1,$$s:a})}),function(d,f){var a=F(d,"Helpers"),t=[a].concat(f),n=e.$r(t);return Y(a,"$alias_native",function r($,i,u){var p,A,M,I;r.$$p;var U=this;return r.$$p=null,p=q(arguments,1),A=V(p),A=g(A),p.length>0&&(M=p.shift()),M==null&&(M=$),I=H(A,"as"),I==null&&(I=_),re(M["$end_with?"]("="))?Z(U,"define_method",[$],function O(ae){var le=O.$$s==null?this:O.$$s;return le.native==null&&(le.native=_),ae==null&&(ae=_),le.native[M["$[]"]($e(0,-2,!1))]=n("Native").$convert(ae),ae},{$$s:U}):re(I)?Z(U,"define_method",[$],function O(ae){var le=O.$$p||_,_e,de,ge=O.$$s==null?this:O.$$s,ve=_;return ge.native==null&&(ge.native=_),O.$$p=null,_e=q(arguments),de=_e,ve=Z(n("Native"),"call",[ge.native,M].concat(J(de)),le.$to_proc()),re(ve)?I.$new(ve.$to_n()):_},{$$arity:-1,$$s:U}):Z(U,"define_method",[$],function O(ae){var le=O.$$p||_,_e,de,ge=O.$$s==null?this:O.$$s;return ge.native==null&&(ge.native=_),O.$$p=null,_e=q(arguments),de=_e,Z(n("Native"),"call",[ge.native,M].concat(J(de)),le.$to_proc())},{$$arity:-1,$$s:U})},-2),Y(a,"$native_reader",function($){var i,u,p=this;return i=q(arguments),u=i,Z(u,"each",[],function A(M){var I=A.$$s==null?this:A.$$s;return M==null&&(M=_),Z(I,"define_method",[M],function U(){var O=U.$$s==null?this:U.$$s;return O.native==null&&(O.native=_),O.$Native(O.native[M])},{$$s:I})},{$$s:p})},-1),Y(a,"$native_writer",function($){var i,u,p=this;return i=q(arguments),u=i,Z(u,"each",[],function A(M){var I=A.$$s==null?this:A.$$s;return M==null&&(M=_),Z(I,"define_method",[""+M+"="],function U(O){var ae=U.$$s==null?this:U.$$s;return ae.native==null&&(ae.native=_),O==null&&(O=_),ae.$Native(ae.native[M]=O)},{$$s:I})},{$$s:p})},-1),Y(a,"$native_accessor",function($){var i,u,p=this;return i=q(arguments),u=i,Z(p,"native_reader",J(u)),Z(p,"native_writer",J(u))},-1)}(L[0],L),function(d,f){var a=F(d,"Wrapper"),t=[a].concat(f),n=e.$r(t);return Y(a,"$initialize",function($){var i=this;return re(N["$native?"]($))||N.$raise(n("ArgumentError"),""+$.$inspect()+" isn't native"),i.native=$}),Y(a,"$to_n",ee("native")),X(a,"$included",function($){return $.$extend(n("Helpers"))})}(L[0],L),X(o,"$included",function(f){var a=this;return a.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),f.$include(K("Wrapper"))})}(b[0],b),function(h,c){var o=F(h,"Kernel"),L=[o].concat(c),K=e.$r(L);return Y(o,"$native?",function(f){return f==null||!f.$$class}),Y(o,"$Native",function d(f){d.$$p;var a=this;return d.$$p=null,re(f==null)?_:re(a["$native?"](f))?x(K("Native"),"Object").$new(f):re(f["$is_a?"](K("Array")))?Z(f,"map",[],function t(n){var r=t.$$s==null?this:t.$$s;return n==null&&(n=_),r.$Native(n)},{$$s:a}):re(f["$is_a?"](K("Proc")))?Z(a,"proc",[],function t(n){var r=t.$$p||_,$,i,u=t.$$s==null?this:t.$$s;return t.$$p=null,$=q(arguments),i=$,u.$Native(Z(f,"call",J(i),r.$to_proc()))},{$$arity:-1,$$s:a}):f}),Q(o,"_Array","Array"),Y(o,"$Array",function d(f,a){var t=d.$$p||_,n,r,$=this;return d.$$p=null,n=q(arguments,1),r=n,re($["$native?"](f))?Z(x(K("Native"),"Array"),"new",[f].concat(J(r)),t.$to_proc()).$to_a():$.$_Array(f)},-2)}(b[0],b),function(h,c){var o=y(h,c,"Object"),L=o.$$prototype;return L.native=_,o.$include(x(x("Native"),"Wrapper")),Y(o,"$==",function(d){var f=this;return f.native===x("Native").$try_convert(d)}),Y(o,"$has_key?",function(d){var f=this;return e.hasOwnProperty.call(f.native,d)}),Y(o,"$each",function K(d){var f,a,t=K.$$p||_,n=this;if(K.$$p=null,f=q(arguments),a=f,t!==_){for(var r in n.native)e.yieldX(t,[r,n.native[r]]);return n}else return Z(n,"method_missing",["each"].concat(J(a)))},-1),Y(o,"$[]",function(d){var f=this,a=f.native[d];return a instanceof Function?a:x("Native").$call(f.native,d)}),Y(o,"$[]=",function(d,f){var a=this,t=_;return t=x("Native").$try_convert(f),re(t===_)?a.native[d]=f:a.native[d]=t}),Y(o,"$merge!",function(d){var f=this;d=x("Native").$convert(d);for(var a in d)f.native[a]=d[a];return f}),Y(o,"$respond_to?",function(d,f){var a=this;return f==null&&(f=!1),N.$instance_method("respond_to?").$bind(a).$call(d,f)},-2),Y(o,"$respond_to_missing?",function(d,f){var a=this;return e.hasOwnProperty.call(a.native,d)},-2),Y(o,"$method_missing",function K(d,f){var a=K.$$p||_,t,n,r,$=this;return K.$$p=null,t=q(arguments,1),n=t,d.charAt(d.length-1)==="="?(r=[d.$slice(0,S(d.$length(),1)),n["$[]"](0)],Z($,"[]=",r),r[r.length-1]):Z(x("Native"),"call",[$.native,d].concat(J(n)),a.$to_proc())},-2),Y(o,"$nil?",C(!1)),Y(o,"$is_a?",function(d){var f=this;return e.is_a(f,d)}),Y(o,"$instance_of?",function(d){var f=this;return f.$$class===d}),Y(o,"$class",function(){var d=this;return d.$$class}),Y(o,"$to_a",function K(d){var f=K.$$p||_,a=this;return K.$$p=null,d==null&&(d=new Map),Z(x(x("Native"),"Array"),"new",[a.native,d],f.$to_proc()).$to_a()},-1),Y(o,"$inspect",function(){var d=this;return"#<Native:"+String(d.native)+">"}),Q(o,"include?","has_key?"),Q(o,"key?","has_key?"),Q(o,"kind_of?","is_a?"),Q(o,"member?","has_key?")}(s("Native"),s("BasicObject")),function(h,c,o){var L=y(h,c,"Array"),K=[L].concat(o),d=e.$r(K),f=L.$$prototype;return f.named=f.native=f.get=f.block=f.set=f.length=_,L.$include(x(d("Native"),"Wrapper")),L.$include(d("Enumerable")),Y(L,"$initialize",function a(t,n){var r=a.$$p||_,$=this,i=_;return a.$$p=null,n==null&&(n=new Map),G($,k($,"initialize",a,!1,!0),"initialize",[t],null),$.get=re(i=n["$[]"]("get"))?i:n["$[]"]("access"),$.named=n["$[]"]("named"),$.set=re(i=n["$[]"]("set"))?i:n["$[]"]("access"),$.length=re(i=n["$[]"]("length"))?i:"length",$.block=r,re($.$length()==null)?$.$raise(d("ArgumentError"),"no length found on the array-like object"):_},-2),Y(L,"$each",function a(){var t=a.$$p||_,n=this;if(a.$$p=null,!re(t))return n.$enum_for("each");for(var r=0,$=n.$length();r<$;r++)e.yield1(t,n["$[]"](r));return n}),Y(L,"$[]",function(t){var n=this,r=_,$=_;return r=D(d("String"),$=t)||D(d("Symbol"),$)?re(n.named)?n.native[n.named](t):n.native[t]:D(d("Integer"),$)?re(n.get)?n.native[n.get](t):n.native[t]:_,re(r)?re(n.block)?n.block.$call(r):n.$Native(r):_}),Y(L,"$[]=",function(t,n){var r=this;return re(r.set)?r.native[r.set](t,d("Native").$convert(n)):r.native[t]=d("Native").$convert(n)}),Y(L,"$last",function(t){var n=this,r=_,$=_;if(t==null&&(t=_),re(t)){for(r=S(n.$length(),1),$=[];re(m(r,0));)$["$<<"](n["$[]"](r)),r=S(r,1);return $}else return n["$[]"](S(n.$length(),1))},-1),Y(L,"$length",function(){var t=this;return t.native[t.length]}),Y(L,"$inspect",function(){var t=this;return t.$to_a().$inspect()}),Q(L,"to_ary","to_a")}(s("Native"),null,b),function(h,c){var o=y(h,c,"Numeric");return Y(o,"$to_n",function(){var K=this;return K.valueOf()})}(b[0],null),function(h,c){var o=y(h,c,"Proc");return Y(o,"$to_n",w)}(b[0],null),function(h,c){var o=y(h,c,"String");return Y(o,"$to_n",function(){var K=this;return K.valueOf()})}(b[0],null),function(h,c){var o=y(h,c,"Regexp");return Y(o,"$to_n",function(){var K=this;return K.valueOf()})}(b[0],null),function(h,c){var o=y(h,c,"MatchData");return Y(o,"$to_n",ee("matches"))}(b[0],null),function(h,c,o){var L=y(h,c,"Struct"),K=[L].concat(o),d=e.$r(K);return Y(L,"$to_n",function(){var a=this,t=_;return t={},Z(a,"each_pair",[],function(r,$){return r==null&&(r=_),$==null&&($=_),t[r]=d("Native").$try_convert($,$)}),t})}(b[0],null,b),function(h,c,o){var L=y(h,c,"Array"),K=[L].concat(o),d=e.$r(K);return Y(L,"$to_n",function(){for(var a=this,t=[],n=0,r=a.length;n<r;n++){var $=a[n];t.push(d("Native").$try_convert($,$))}return t})}(b[0],null,b),function(h,c){var o=y(h,c,"Boolean");return Y(o,"$to_n",function(){var K=this;return K.valueOf()})}(b[0],null),function(h,c){var o=y(h,c,"Time");return Y(o,"$to_n",w)}(b[0],null),function(h,c){var o=y(h,c,"NilClass");return Y(o,"$to_n",function(){return null})}(b[0],null),re(s("Hash")["$method_defined?"]("_initialize"))||function(h,c,o){var L=y(h,c,"Hash"),K=[L].concat(o),d=e.$r(K);Q(L,"_initialize","initialize");function f(a,t,n){n&&(n.constructor===void 0||n.constructor===Object||n instanceof Map)?E(a,t,d("Hash").$new(n)):n&&n.$$is_array?(n=n.map(function(r){return r&&(r.constructor===void 0||r.constructor===Object||n instanceof Map)?d("Hash").$new(r):L.$Native(r)}),E(a,t,n)):E(a,t,L.$Native(n))}return Y(L,"$initialize",function a(t){var n=a.$$p||_,r=this;if(a.$$p=null,t!=null)if(t.constructor===void 0||t.constructor===Object){var $,i;for($ in t)i=t[$],f(r,$,i);return r}else t instanceof Map&&e.hash_each(t,!1,function(u,p){return f(r,u,p),[!1,!1]});return Z(r,"_initialize",[t],n.$to_proc())},-1),Y(L,"$to_n",function(){var t=this,n={};return e.hash_each(t,!1,function(r,$){return n[d("Native").$try_convert(r,r)]=d("Native").$try_convert($,$),[!1,!1]}),n})}(b[0],null,b),function(h,c){var o=y(h,c,"Module");return Y(o,"$native_module",function(){var K=this;return e.global[K.$name()]=K})}(b[0],null),function(h,c,o){var L=y(h,c,"Class"),K=[L].concat(o),d=e.$r(K);return Y(L,"$native_alias",function(a,t){var n=this,r=n.prototype[e.jsid(t)];r||n.$raise(d("NameError").$new("undefined method `"+t+"' for class `"+n.$inspect()+"'",t)),n.prototype[a]=r}),Y(L,"$native_class",function(){var a=this;return a.$native_module(),a.new=a.$new})}(b[0],null,b),j.$=j.global=T.$Native(e.global)};Opal.modules["opal_vite/concerns/v1/vue_helpers"]=function(e){var E=e.module,F=e.def,X=e.lambda,q=e.send,re=e.slice,Z=e.to_a,N=e.truthy,V=e.const_set,g=[],H=e.$r(g),$e=e.nil,J=e.$$$;return e.add_stubs("extend,Native,to_n,each,[]=,proc,call,map,to_a"),function(Y,ee){var Q=E(Y,"OpalVite"),y=[Q].concat(ee);return function(S,C){var G=E(S,"Concerns"),k=[G].concat(C);return function(D,m){var w=E(D,"V1"),j=[w].concat(m);return function(T){var b=E(T,"VueHelpers");return b.$extend(b),F(b,"$vue",function(){return window.Vue}),F(b,"$create_app",function(_){var x=this;return _==null&&(_=new Map),x.$Native(window.Vue.createApp(_.$to_n()))},-1),F(b,"$vue_ref",function(_){var x=this;return x.$Native(window.Vue.ref(_))}),F(b,"$vue_reactive",function(_){var x=this;return x.$Native(window.Vue.reactive(_.$to_n()))}),F(b,"$vue_computed",function s(){var _=s.$$p||$e,x=this;return s.$$p=null,x.$Native(window.Vue.computed(_))}),F(b,"$vue_watch",function s(_){var x=s.$$p||$e;return s.$$p=null,window.Vue.watch(_,x)}),F(b,"$data_fn",function(_){return X(function(){return _.$to_n()})}),F(b,"$methods_obj",function(_){var x=$e;return x=new Map,q(_,"each",[],function(c,o){var L;return c==null&&(c=$e),o==null&&(o=$e),L=[c,o],q(x,"[]=",L),L[L.length-1]}),x.$to_n()}),F(b,"$computed_obj",function(_){var x=$e;return x=new Map,q(_,"each",[],function(c,o){var L;return c==null&&(c=$e),o==null&&(o=$e),L=[c,o],q(x,"[]=",L),L[L.length-1]}),x.$to_n()}),F(b,"$vue_fn",function s(){var _=s.$$p||$e;return s.$$p=null,function(){var x=_;return function(){return x.apply(this,arguments)}}()}),F(b,"$vue_method",function s(){var _=s.$$p||$e,x=this,h=$e;return s.$$p=null,h=q(x,"proc",[],function c(o){var L,K,d=c.$$s==null?this:c.$$s,f=$e;return L=re(arguments),K=L,f=d.$Native(this),q(_,"call",[f].concat(Z(K)))},{$$arity:-1,$$s:x}),function(){var c=h;return function(){return c.apply(this,arguments)}}()}),F(b,"$vue_computed_fn",function s(){var _=s.$$p||$e,x=this,h=$e;return s.$$p=null,h=q(x,"proc",[],function c(){var o=c.$$s==null?this:c.$$s,L=$e;return L=o.$Native(this),_.$call(L)},{$$s:x}),function(){var c=h;return function(){return c.apply(this,arguments)}}()}),F(b,"$vue_hook",function s(){var _=s.$$p||$e,x=this,h=$e;return s.$$p=null,h=q(x,"proc",[],function c(){var o=c.$$s==null?this:c.$$s,L=$e;return L=o.$Native(this),_.$call(L)},{$$s:x}),function(){var c=h;return function(){return c.apply(this,arguments)}}()}),F(b,"$on_mounted",function s(){var _=s.$$p||$e;return s.$$p=null,window.Vue.onMounted(_)}),F(b,"$on_unmounted",function s(){var _=s.$$p||$e;return s.$$p=null,window.Vue.onUnmounted(_)}),F(b,"$on_updated",function s(){var _=s.$$p||$e;return s.$$p=null,window.Vue.onUpdated(_)}),F(b,"$on_before_mount",function s(){var _=s.$$p||$e;return s.$$p=null,window.Vue.onBeforeMount(_)}),F(b,"$on_before_unmount",function s(){var _=s.$$p||$e;return s.$$p=null,window.Vue.onBeforeUnmount(_)}),F(b,"$window_get",function(_){return window[_]}),F(b,"$window_set",function(_,x){return window[_]=x}),F(b,"$console_log",function(_){var x,h;return x=re(arguments),h=x,console.log(...h)},-1),F(b,"$console_warn",function(_){var x,h;return x=re(arguments),h=x,console.warn(...h)},-1),F(b,"$console_error",function(_){var x,h;return x=re(arguments),h=x,console.error(...h)},-1),F(b,"$on_dom_ready",function s(){var _=s.$$p||$e;return s.$$p=null,document.addEventListener("DOMContentLoaded",_)}),F(b,"$query",function(_){var x=this,h=$e;return h=document.querySelector(_),N(h===null)?$e:x.$Native(h)}),F(b,"$query_all",function(_){var x=this,h=$e;return h=Array.from(document.querySelectorAll(_)),q(x.$Native(h).$to_a(),"map",[],function c(o){var L=c.$$s==null?this:c.$$s;return o==null&&(o=$e),L.$Native(o)},{$$s:x})}),F(b,"$get_element_by_id",function(_){var x=this,h=$e;return h=document.getElementById(_),N(h===null)?$e:x.$Native(h)}),F(b,"$set_timeout",function s(_){var x=s.$$p||$e;return s.$$p=null,setTimeout(x,_)}),F(b,"$set_interval",function s(_){var x=s.$$p||$e;return s.$$p=null,setInterval(x,_)}),F(b,"$clear_timeout",function(_){return clearTimeout(_)}),F(b,"$clear_interval",function(_){return clearInterval(_)}),F(b,"$storage_get",function(_){return localStorage.getItem(_)}),F(b,"$storage_set",function(_,x){return localStorage.setItem(_,x)}),F(b,"$storage_remove",function(_){return localStorage.removeItem(_)}),F(b,"$parse_json",function(_){return JSON.parse(_)}),F(b,"$to_json_string",function(_){return JSON.stringify(_)}),F(b,"$parse_int",function(_,x){return x==null&&(x=10),parseInt(_,x)},-2),F(b,"$parse_float",function(_){return parseFloat(_)}),F(b,"$is_nan?",function(_){return Number.isNaN(_)})}(j[0])}(k[0],k)}(y[0],y)}(g[0],g),V(g[0],"VueHelpers",J(J(J(H("OpalVite"),"Concerns"),"V1"),"VueHelpers"))};Opal.modules["services/counter_service"]=function(e){var E=e.klass,F=e.def,X=e.rb_plus,q=e.rb_minus,re=e.assign_ivar_val,Z=e.rb_times,N=e.truthy,V=e.rb_gt,g=e.rb_lt,H=[],$e=e.nil;return e.add_stubs("attr_reader,+,-,*,abs,>,<"),function(J,Y){var ee=E(J,Y,"CounterService"),Q=ee.$$prototype;return Q.count=$e,ee.$attr_reader("count"),F(ee,"$initialize",function(S){var C=this;return S==null&&(S=0),C.count=S},-1),F(ee,"$increment",function(){var S=this;return S.count=X(S.count,1)}),F(ee,"$decrement",function(){var S=this;return S.count=q(S.count,1)}),F(ee,"$reset",re("count",0)),F(ee,"$doubled",function(){var S=this;return Z(S.count,2)}),F(ee,"$absolute",function(){var S=this;return S.count.$abs()}),F(ee,"$status",function(){var S=this;return N(V(S.count,0))?"positive":N(g(S.count,0))?"negative":"zero"})}(H[0],null)};Opal.modules["components/counter"]=function(e){var E=e.klass,F=e.const_set,X=e.send,q=e.rb_times,re=e.truthy,Z=e.rb_lt,N=e.defs,V=e.top,g=[],H=e.nil;return e.add_stubs("require,extend,new,vue_fn,to_n,count,vue_computed_fn,*,[],<,-@,vue_method,increment,[]=,console_log,decrement,reset,vue_hook,create_app,mount"),V.$require("native"),V.$require("opal_vite/concerns/v1/vue_helpers"),V.$require("components/counter.rb/../../services/counter_service"),function($e,J,Y){var ee=E($e,J,"CounterApp"),Q=[ee].concat(Y),y=e.$r(Q);return ee.$extend(y("VueHelpers")),F(Q[0],"TEMPLATE",`<div>
  <div class="counter-display">
    <div class="count-value">{{ count }}</div>
  </div>
  <div class="counter-controls">
    <button class="btn btn-decrement" @click="decrement"></button>
    <button class="btn btn-reset" @click="reset">Reset</button>
    <button class="btn btn-increment" @click="increment">+</button>
  </div>
  <div class="counter-info">
    <p>Current count: {{ count }}</p>
    <p class="status">
      <span v-if="count > 0" class="positive"> Positive</span>
      <span v-else-if="count < 0" class="negative"> Negative</span>
      <span v-else class="zero"> Zero</span>
    </p>
    <p style="margin-top: 0.5rem; font-size: 0.85rem; color: #999;">
      Double: {{ doubled }} | Absolute: {{ absolute }}
    </p>
  </div>
</div>
`),N(ee,"$create_app",function(){var C=this,G=H,k=H;return G=y("CounterService").$new(),k=new Map([["data",X(C,"vue_fn",[],function(){return new Map([["count",G.$count()]]).$to_n()})],["computed",new Map([["doubled",X(C,"vue_computed_fn",[],function(m){return m==null&&(m=H),q(m["$[]"]("count"),2)})],["absolute",X(C,"vue_computed_fn",[],function(m){var w=H;return m==null&&(m=H),w=m["$[]"]("count"),re(Z(w,0))?w["$-@"]():w})]])],["methods",new Map([["increment",X(C,"vue_method",[],function D(m){var w=D.$$s==null?this:D.$$s;return m==null&&(m=H),G.$increment(),m["$[]="]("count",G.$count()),w.$console_log("Incremented to: "+G.$count())},{$$s:C})],["decrement",X(C,"vue_method",[],function D(m){var w=D.$$s==null?this:D.$$s;return m==null&&(m=H),G.$decrement(),m["$[]="]("count",G.$count()),w.$console_log("Decremented to: "+G.$count())},{$$s:C})],["reset",X(C,"vue_method",[],function D(m){var w=D.$$s==null?this:D.$$s;return m==null&&(m=H),G.$reset(),m["$[]="]("count",G.$count()),w.$console_log("Reset to zero")},{$$s:C})]])],["template",y("TEMPLATE")],["mounted",X(C,"vue_hook",[],function D(m){var w=D.$$s==null?this:D.$$s;return w.$console_log("Counter component mounted (from Ruby with Service pattern!)")},{$$s:C})]]),y("VueHelpers").$create_app(k)}),N(ee,"$mount",function(C){var G=this,k=H;return k=G.$create_app(),k.$mount(C),G.$console_log("CounterApp mounted to "+C),k})}(g[0],null,g)};Opal.modules["components/todo"]=function(e){var E=e.klass,F=e.const_set,X=e.defs,q=e.send,re=e.truthy,Z=e.top,N=[],V=e.nil;return e.add_stubs("require,extend,get_template,vue_fn,to_n,vue_method,console_log,vue_hook,[],create_app,mount"),Z.$require("native"),Z.$require("opal_vite/concerns/v1/vue_helpers"),function(g,H,$e){var J=E(g,H,"TodoApp"),Y=[J].concat($e),ee=e.$r(Y);return J.$extend(ee("VueHelpers")),F(Y[0],"STORAGE_KEY","opal-vue-todos"),X(J,"$get_template",function(){return document.getElementById("todo-template").innerHTML}),X(J,"$create_app",function(){var y=this,S=V,C=V;return S=y.$get_template(),C=new Map([["data",q(y,"vue_fn",[],function(){var k=V,D=V,m=V;return k=localStorage.getItem(ee("STORAGE_KEY")),D=k?JSON.parse(k):[],m=1,D.length>0&&(m=Math.max.apply(null,D.map(function(w){return w.id}))+1),new Map([["newTodo",""],["todos",D],["nextId",m],["storageKey",ee("STORAGE_KEY")]]).$to_n()})],["computed",{remaining:function(){return this.todos.filter(function(G){return!G.completed}).length},completed:function(){return this.todos.filter(function(G){return G.completed}).length}}],["methods",new Map([["addTodo",q(y,"vue_method",[],function G(k){var D=G.$$s==null?this:G.$$s,m=V,w=V,j=V,T=V,b=V;return k==null&&(k=V),m=k.$to_n(),w=m.newTodo.trim(),re(w==="")?V:(j=m.nextId,T=new Map([["id",j],["text",w],["completed",!1]]).$to_n(),m.todos.push(T),m.nextId=j+1,m.newTodo="",b=m.storageKey,localStorage.setItem(b,JSON.stringify(m.todos)),D.$console_log("Todo added: "+w))},{$$s:y})],["removeTodo",q(y,"vue_method",[],function G(k,D){var m=G.$$s==null?this:G.$$s,w=V,j=V;k==null&&(k=V),D==null&&(D=V),w=k.$to_n();var T=w.todos.findIndex(function(b){return b.id===D});return T>-1&&w.todos.splice(T,1),j=w.storageKey,localStorage.setItem(j,JSON.stringify(w.todos)),m.$console_log("Todo removed")},{$$s:y})],["clearCompleted",q(y,"vue_method",[],function G(k){var D=G.$$s==null?this:G.$$s,m=V,w=V;return k==null&&(k=V),m=k.$to_n(),m.todos=m.todos.filter(function(j){return!j.completed}),w=m.storageKey,localStorage.setItem(w,JSON.stringify(m.todos)),D.$console_log("Cleared completed todos")},{$$s:y})],["saveTodos",q(y,"vue_method",[],function G(k){var D=G.$$s==null?this:G.$$s,m=V,w=V;return k==null&&(k=V),m=k.$to_n(),w=m.storageKey,localStorage.setItem(w,JSON.stringify(m.todos)),D.$console_log("Todos saved to localStorage")},{$$s:y})]])],["template",S],["mounted",q(y,"vue_hook",[],function G(k){var D=G.$$s==null?this:G.$$s,m=V,w=V;return k==null&&(k=V),m=k["$[]"]("todos"),w=m.length,D.$console_log("Todo component mounted (from Ruby!)"),D.$console_log("Loaded "+w+" todos from localStorage")},{$$s:y})]]),ee("VueHelpers").$create_app(C)}),X(J,"$mount",function(y){var S=this,C=V;return C=S.$create_app(),C.$mount(y),S.$console_log("TodoApp mounted to "+y),C})}(N[0],null,N)};Opal.queue(function(e){var E=e.klass,F=e.defs,X=e.send,q=e.top,re=[],Z=e.$r(re);return e.nil,e.add_stubs("require,puts,extend,console_log,mount,on_dom_ready,initialize_apps"),q.$require("native"),q.$require("opal_vite/concerns/v1/vue_helpers"),q.$require("components/counter"),q.$require("components/todo"),q.$puts("Opal + Vue.js 3 + Vite Example"),q.$puts("Ruby version: "+Z("RUBY_VERSION")),function(N,V,g){var H=E(N,V,"App"),$e=[H].concat(g),J=e.$r($e);return H.$extend(J("VueHelpers")),F(H,"$initialize_apps",function(){var ee=this;return ee.$console_log("Initializing Vue.js apps from Ruby..."),J("CounterApp").$mount("#counter-app"),ee.$console_log("Counter app mounted"),J("TodoApp").$mount("#todo-app"),ee.$console_log("Todo app mounted"),ee.$console_log("All Vue.js apps initialized!")})}(re[0],null,re),X(Z("App"),"on_dom_ready",[],function(){return Z("App").$console_log("DOM ready, starting Vue.js apps..."),Z("App").$initialize_apps()}),q.$puts("Ruby code loaded successfully!")});console.log("Loading Opal + Vue.js application...");console.log("Opal + Vue.js application loaded!");
