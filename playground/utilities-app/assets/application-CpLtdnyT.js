Opal.modules.native=function(n){var A=n.hash_put,h=n.module,N=n.defs,M=n.slice,Q=n.truthy,Z=n.send,D=n.Kernel,V=n.extract_kwargs,p=n.ensure_kwargs,U=n.hash_get,$e=n.range,X=n.to_a,H=n.def,ee=n.return_ivar,W=n.alias,j=n.klass,v=n.rb_minus,k=n.return_val,I=n.send2,z=n.find_super,L=n.eqeqeq,w=n.rb_ge,S=n.return_self,B=n.gvars,x=n.top,b=[],s=n.$r(b),f=n.nil,E=n.$$$;return n.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(g,c){var l=h(g,"Native"),m=[l].concat(c),C=n.$r(m);return N(l,"$is_a?",function(a,$){var t=this;try{return a instanceof t.$try_convert($)}catch{return!1}}),N(l,"$try_convert",function(a,$){var t=this;return $==null&&($=f),t["$native?"](a)?a:a["$respond_to?"]("to_n")?a.$to_n():$},-2),N(l,"$convert",function(a){var $=this;if($["$native?"](a))return a;if(a["$respond_to?"]("to_n"))return a.$to_n();$.$raise(C("ArgumentError"),""+a.$inspect()+" isn't native")}),N(l,"$call",function _(a,$,t){var e=_.$$p||f,r,i,u=this;_.$$p=null,r=M(arguments,2),i=r;var o=a[$];if(o instanceof Function){for(var y=new Array(i.length),R=0,P=i.length;R<P;R++){var F=i[R],G=u.$try_convert(F);y[R]=G===f?F:G}return e!==f&&y.push(e),u.$Native(o.apply(a,y))}else return u.$Native(o)},-3),N(l,"$proc",function _(){var a=_.$$p||f,$=this;return _.$$p=null,Q(a)||$.$raise(C("LocalJumpError"),"no block given"),Z(D,"proc",[],function t(e){var r,i,u=t.$$s==null?this:t.$$s,o=f;if(r=M(arguments),i=r,Z(i,"map!",[],function R(P){var F=R.$$s==null?this:R.$$s;return P==null&&(P=f),F.$Native(P)},{$$s:u}),o=u.$Native(this),this===n.global)return a.apply(u,i);var y=a.$$s;a.$$s=null;try{return a.apply(o,i)}finally{a.$$s=y}},{$$arity:-1,$$s:$})}),function(_,a){var $=h(_,"Helpers"),t=[$].concat(a),e=n.$r(t);return H($,"$alias_native",function r(i,u,o){var y,R,P,F;r.$$p;var G=this;return r.$$p=null,y=M(arguments,1),R=V(y),R=p(R),y.length>0&&(P=y.shift()),P==null&&(P=i),F=U(R,"as"),F==null&&(F=f),Q(P["$end_with?"]("="))?Z(G,"define_method",[i],function re(ae){var le=re.$$s==null?this:re.$$s;return le.native==null&&(le.native=f),ae==null&&(ae=f),le.native[P["$[]"]($e(0,-2,!1))]=e("Native").$convert(ae),ae},{$$s:G}):Q(F)?Z(G,"define_method",[i],function re(ae){var le=re.$$p||f,ce,de,he=re.$$s==null?this:re.$$s,ve=f;return he.native==null&&(he.native=f),re.$$p=null,ce=M(arguments),de=ce,ve=Z(e("Native"),"call",[he.native,P].concat(X(de)),le.$to_proc()),Q(ve)?F.$new(ve.$to_n()):f},{$$arity:-1,$$s:G}):Z(G,"define_method",[i],function re(ae){var le=re.$$p||f,ce,de,he=re.$$s==null?this:re.$$s;return he.native==null&&(he.native=f),re.$$p=null,ce=M(arguments),de=ce,Z(e("Native"),"call",[he.native,P].concat(X(de)),le.$to_proc())},{$$arity:-1,$$s:G})},-2),H($,"$native_reader",function(i){var u,o,y=this;return u=M(arguments),o=u,Z(o,"each",[],function R(P){var F=R.$$s==null?this:R.$$s;return P==null&&(P=f),Z(F,"define_method",[P],function G(){var re=G.$$s==null?this:G.$$s;return re.native==null&&(re.native=f),re.$Native(re.native[P])},{$$s:F})},{$$s:y})},-1),H($,"$native_writer",function(i){var u,o,y=this;return u=M(arguments),o=u,Z(o,"each",[],function R(P){var F=R.$$s==null?this:R.$$s;return P==null&&(P=f),Z(F,"define_method",[""+P+"="],function G(re){var ae=G.$$s==null?this:G.$$s;return ae.native==null&&(ae.native=f),re==null&&(re=f),ae.$Native(ae.native[P]=re)},{$$s:F})},{$$s:y})},-1),H($,"$native_accessor",function(i){var u,o,y=this;return u=M(arguments),o=u,Z(y,"native_reader",X(o)),Z(y,"native_writer",X(o))},-1)}(m[0],m),function(_,a){var $=h(_,"Wrapper"),t=[$].concat(a),e=n.$r(t);return H($,"$initialize",function(i){var u=this;return Q(D["$native?"](i))||D.$raise(e("ArgumentError"),""+i.$inspect()+" isn't native"),u.native=i}),H($,"$to_n",ee("native")),N($,"$included",function(i){return i.$extend(e("Helpers"))})}(m[0],m),N(l,"$included",function(a){var $=this;return $.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),a.$include(C("Wrapper"))})}(b[0],b),function(g,c){var l=h(g,"Kernel"),m=[l].concat(c),C=n.$r(m);return H(l,"$native?",function(a){return a==null||!a.$$class}),H(l,"$Native",function _(a){_.$$p;var $=this;return _.$$p=null,Q(a==null)?f:Q($["$native?"](a))?E(C("Native"),"Object").$new(a):Q(a["$is_a?"](C("Array")))?Z(a,"map",[],function t(e){var r=t.$$s==null?this:t.$$s;return e==null&&(e=f),r.$Native(e)},{$$s:$}):Q(a["$is_a?"](C("Proc")))?Z($,"proc",[],function t(e){var r=t.$$p||f,i,u,o=t.$$s==null?this:t.$$s;return t.$$p=null,i=M(arguments),u=i,o.$Native(Z(a,"call",X(u),r.$to_proc()))},{$$arity:-1,$$s:$}):a}),W(l,"_Array","Array"),H(l,"$Array",function _(a,$){var t=_.$$p||f,e,r,i=this;return _.$$p=null,e=M(arguments,1),r=e,Q(i["$native?"](a))?Z(E(C("Native"),"Array"),"new",[a].concat(X(r)),t.$to_proc()).$to_a():i.$_Array(a)},-2)}(b[0],b),function(g,c){var l=j(g,c,"Object"),m=l.$$prototype;return m.native=f,l.$include(E(E("Native"),"Wrapper")),H(l,"$==",function(_){var a=this;return a.native===E("Native").$try_convert(_)}),H(l,"$has_key?",function(_){var a=this;return n.hasOwnProperty.call(a.native,_)}),H(l,"$each",function C(_){var a,$,t=C.$$p||f,e=this;if(C.$$p=null,a=M(arguments),$=a,t!==f){for(var r in e.native)n.yieldX(t,[r,e.native[r]]);return e}else return Z(e,"method_missing",["each"].concat(X($)))},-1),H(l,"$[]",function(_){var a=this,$=a.native[_];return $ instanceof Function?$:E("Native").$call(a.native,_)}),H(l,"$[]=",function(_,a){var $=this,t=f;return t=E("Native").$try_convert(a),Q(t===f)?$.native[_]=a:$.native[_]=t}),H(l,"$merge!",function(_){var a=this;_=E("Native").$convert(_);for(var $ in _)a.native[$]=_[$];return a}),H(l,"$respond_to?",function(_,a){var $=this;return a==null&&(a=!1),D.$instance_method("respond_to?").$bind($).$call(_,a)},-2),H(l,"$respond_to_missing?",function(_,a){var $=this;return n.hasOwnProperty.call($.native,_)},-2),H(l,"$method_missing",function C(_,a){var $=C.$$p||f,t,e,r,i=this;return C.$$p=null,t=M(arguments,1),e=t,_.charAt(_.length-1)==="="?(r=[_.$slice(0,v(_.$length(),1)),e["$[]"](0)],Z(i,"[]=",r),r[r.length-1]):Z(E("Native"),"call",[i.native,_].concat(X(e)),$.$to_proc())},-2),H(l,"$nil?",k(!1)),H(l,"$is_a?",function(_){var a=this;return n.is_a(a,_)}),H(l,"$instance_of?",function(_){var a=this;return a.$$class===_}),H(l,"$class",function(){var _=this;return _.$$class}),H(l,"$to_a",function C(_){var a=C.$$p||f,$=this;return C.$$p=null,_==null&&(_=new Map),Z(E(E("Native"),"Array"),"new",[$.native,_],a.$to_proc()).$to_a()},-1),H(l,"$inspect",function(){var _=this;return"#<Native:"+String(_.native)+">"}),W(l,"include?","has_key?"),W(l,"key?","has_key?"),W(l,"kind_of?","is_a?"),W(l,"member?","has_key?")}(s("Native"),s("BasicObject")),function(g,c,l){var m=j(g,c,"Array"),C=[m].concat(l),_=n.$r(C),a=m.$$prototype;return a.named=a.native=a.get=a.block=a.set=a.length=f,m.$include(E(_("Native"),"Wrapper")),m.$include(_("Enumerable")),H(m,"$initialize",function $(t,e){var r=$.$$p||f,i=this,u=f;return $.$$p=null,e==null&&(e=new Map),I(i,z(i,"initialize",$,!1,!0),"initialize",[t],null),i.get=Q(u=e["$[]"]("get"))?u:e["$[]"]("access"),i.named=e["$[]"]("named"),i.set=Q(u=e["$[]"]("set"))?u:e["$[]"]("access"),i.length=Q(u=e["$[]"]("length"))?u:"length",i.block=r,Q(i.$length()==null)?i.$raise(_("ArgumentError"),"no length found on the array-like object"):f},-2),H(m,"$each",function $(){var t=$.$$p||f,e=this;if($.$$p=null,!Q(t))return e.$enum_for("each");for(var r=0,i=e.$length();r<i;r++)n.yield1(t,e["$[]"](r));return e}),H(m,"$[]",function(t){var e=this,r=f,i=f;return r=L(_("String"),i=t)||L(_("Symbol"),i)?Q(e.named)?e.native[e.named](t):e.native[t]:L(_("Integer"),i)?Q(e.get)?e.native[e.get](t):e.native[t]:f,Q(r)?Q(e.block)?e.block.$call(r):e.$Native(r):f}),H(m,"$[]=",function(t,e){var r=this;return Q(r.set)?r.native[r.set](t,_("Native").$convert(e)):r.native[t]=_("Native").$convert(e)}),H(m,"$last",function(t){var e=this,r=f,i=f;if(t==null&&(t=f),Q(t)){for(r=v(e.$length(),1),i=[];Q(w(r,0));)i["$<<"](e["$[]"](r)),r=v(r,1);return i}else return e["$[]"](v(e.$length(),1))},-1),H(m,"$length",function(){var t=this;return t.native[t.length]}),H(m,"$inspect",function(){var t=this;return t.$to_a().$inspect()}),W(m,"to_ary","to_a")}(s("Native"),null,b),function(g,c){var l=j(g,c,"Numeric");return H(l,"$to_n",function(){var C=this;return C.valueOf()})}(b[0],null),function(g,c){var l=j(g,c,"Proc");return H(l,"$to_n",S)}(b[0],null),function(g,c){var l=j(g,c,"String");return H(l,"$to_n",function(){var C=this;return C.valueOf()})}(b[0],null),function(g,c){var l=j(g,c,"Regexp");return H(l,"$to_n",function(){var C=this;return C.valueOf()})}(b[0],null),function(g,c){var l=j(g,c,"MatchData");return H(l,"$to_n",ee("matches"))}(b[0],null),function(g,c,l){var m=j(g,c,"Struct"),C=[m].concat(l),_=n.$r(C);return H(m,"$to_n",function(){var $=this,t=f;return t={},Z($,"each_pair",[],function(r,i){return r==null&&(r=f),i==null&&(i=f),t[r]=_("Native").$try_convert(i,i)}),t})}(b[0],null,b),function(g,c,l){var m=j(g,c,"Array"),C=[m].concat(l),_=n.$r(C);return H(m,"$to_n",function(){for(var $=this,t=[],e=0,r=$.length;e<r;e++){var i=$[e];t.push(_("Native").$try_convert(i,i))}return t})}(b[0],null,b),function(g,c){var l=j(g,c,"Boolean");return H(l,"$to_n",function(){var C=this;return C.valueOf()})}(b[0],null),function(g,c){var l=j(g,c,"Time");return H(l,"$to_n",S)}(b[0],null),function(g,c){var l=j(g,c,"NilClass");return H(l,"$to_n",function(){return null})}(b[0],null),Q(s("Hash")["$method_defined?"]("_initialize"))||function(g,c,l){var m=j(g,c,"Hash"),C=[m].concat(l),_=n.$r(C);W(m,"_initialize","initialize");function a($,t,e){e&&(e.constructor===void 0||e.constructor===Object||e instanceof Map)?A($,t,_("Hash").$new(e)):e&&e.$$is_array?(e=e.map(function(r){return r&&(r.constructor===void 0||r.constructor===Object||e instanceof Map)?_("Hash").$new(r):m.$Native(r)}),A($,t,e)):A($,t,m.$Native(e))}return H(m,"$initialize",function $(t){var e=$.$$p||f,r=this;if($.$$p=null,t!=null)if(t.constructor===void 0||t.constructor===Object){var i,u;for(i in t)u=t[i],a(r,i,u);return r}else t instanceof Map&&n.hash_each(t,!1,function(o,y){return a(r,o,y),[!1,!1]});return Z(r,"_initialize",[t],e.$to_proc())},-1),H(m,"$to_n",function(){var t=this,e={};return n.hash_each(t,!1,function(r,i){return e[_("Native").$try_convert(r,r)]=_("Native").$try_convert(i,i),[!1,!1]}),e})}(b[0],null,b),function(g,c){var l=j(g,c,"Module");return H(l,"$native_module",function(){var C=this;return n.global[C.$name()]=C})}(b[0],null),function(g,c,l){var m=j(g,c,"Class"),C=[m].concat(l),_=n.$r(C);return H(m,"$native_alias",function($,t){var e=this,r=e.prototype[n.jsid(t)];r||e.$raise(_("NameError").$new("undefined method `"+t+"' for class `"+e.$inspect()+"'",t)),e.prototype[$]=r}),H(m,"$native_class",function(){var $=this;return $.$native_module(),$.new=$.$new})}(b[0],null,b),B.$=B.global=x.$Native(n.global)};(function(n){var A;if(typeof globalThis<"u"?n=globalThis:typeof global<"u"?n=global:typeof window<"u"&&(n=window),n.console==null&&(n.console={}),typeof n.console=="object"?A=n.console:A={},"log"in A||(A.log=function(){}),"warn"in A||(A.warn=A.log),typeof n.Opal<"u")return A.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),n.Opal;var h,N,M,Q,Z,D,V,p=n.Opal={};p.global=n,p.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var U=Function.prototype.call,$e=Function.prototype.bind,X=Object.hasOwn||U.bind(Object.prototype.hasOwnProperty),H=Object.setPrototypeOf,ee=U.bind(Array.prototype.slice),W=U.bind(Array.prototype.splice),j=4,v=j;function k(){return v+=2,v}p.uid=k,p.id=function(d){return d.$$is_number?d*2+1:(d.$$id==null&&w(d,"$$id",k()),d.$$id)};var I=p.gvars={};p.exit=function(d){I.DEBUG&&A.log("Exited with status "+d)},p.exceptions=[],p.pop_exception=function(d){var q=p.exceptions.pop();q===d||(q?I["!"]=q:I["!"]=h)};function z(d,q){if(d||(d=p.Exception||Error),V&&V.$raise)arguments.length>2?V.$raise(d.$new.apply(d,ee(arguments,1))):V.$raise(d,q);else throw d.$new?d.$new(q):new d(q)}var L={value:void 0,enumerable:!1,configurable:!0,writable:!0};function w(d,q,J){typeof d=="string"?d[q]=J:(L.value=J,Object.defineProperty(d,q,L))}p.prop=w,p.defineProperty=p.prop,p.slice=ee;var S=p.truthy=function(d){return d!==!1&&h!==d&&d!==void 0&&d!==null&&(!(d instanceof Boolean)||d.valueOf()===!0)};p.falsy=function(d){return!S(d)},p.type_error=function(d,q,J,te){d=d.$$class,te&&J?(te=te.$$class,z(p.TypeError,"can't convert "+d+" into "+q+" ("+d+"#"+J+" gives "+te+")")):z(p.TypeError,"no implicit conversion of "+d+" into "+q)},p.coerce_to=function(d,q,J,te){var ue;return J==="to_int"&&q===p.Integer&&d.$$is_number?d<0?Math.ceil(d):Math.floor(d):J==="to_str"&&q===p.String&&d.$$is_string||p.is_a(d,q)?d:d["$respond_to?"].$$pristine&&d.$method_missing.$$pristine?(ue=d[de(J)],(ue==null||ue.$$stub)&&p.type_error(d,q),ue.apply(d,te)):(d["$respond_to?"](J)||p.type_error(d,q),te==null&&(te=[]),p.send(d,J,te))},p.respond_to=function(d,q,J){if(d==null||!d.$$class)return!1;J=!!J;var te=d[q];if(d["$respond_to?"].$$pristine){if(typeof te=="function"&&!te.$$stub)return!0;if(!d["$respond_to_missing?"].$$pristine)return p.send(d,d["$respond_to_missing?"],[q.substr(1),J])}else return p.send(d,d["$respond_to?"],[q.substr(1),J])},p.trace_class=!1,p.tracers_for_class=[];function B(d){var q,J,te;for(q=0,J=p.tracers_for_class.length;q<J;q++)te=p.tracers_for_class[q],te.trace_object=d,te.block.$call(te)}function x(d,q){if(d.$$autoload[q].loaded){if(d.$$autoload[q].loaded&&!d.$$autoload[q].required&&d.$$autoload[q].exception)throw d.$$autoload[q].exception}else{d.$$autoload[q].loaded=!0;try{p.Kernel.$require(d.$$autoload[q].path)}catch(J){throw d.$$autoload[q].exception=J,J}if(d.$$autoload[q].required=!0,d.$$const[q]!=null)return d.$$autoload[q].success=!0,d.$$const[q]}}function b(d,q){if(d){if(d.$$const[q]!=null)return d.$$const[q];if(d.$$autoload&&d.$$autoload[q])return x(d,q)}}function s(d,q){var J,te,ue;if(d.length!==0)for(J=0,te=d.length;J<te;J++){if(ue=d[J].$$const[q],ue!=null)return ue;if(d[J].$$autoload&&d[J].$$autoload[q])return x(d[J],q)}}function f(d,q){var J,te,ue;if(d!=null)for(ue=G(d),J=0,te=ue.length;J<te;J++){if(ue[J].$$const&&X(ue[J].$$const,q))return ue[J].$$const[q];if(ue[J].$$autoload&&ue[J].$$autoload[q])return x(ue[J],q)}}function E(d,q){if(d==null||d.$$is_module)return f(M,q)}function g(d,q){return(d||M).$const_missing(q)}p.const_get_local=function(d,q,J){var te;if(d!=null)return d==="::"&&(d=M),!d.$$is_module&&!d.$$is_class&&z(p.TypeError,d.toString()+" is not a class/module"),te=b(d,q),te!=null||J?te:g(d,q)},p.const_get_qualified=function(d,q,J){var te,ue,_e,ge=p.const_cache_version;if(q==null)return te=b(M,d),te??p.const_get_qualified(M,d,J);if(d!=null)return d==="::"&&(d=M),!d.$$is_module&&!d.$$is_class&&z(p.TypeError,d.toString()+" is not a class/module"),(ue=d.$$const_cache)==null&&(w(d,"$$const_cache",Object.create(null)),ue=d.$$const_cache),_e=ue[q],_e==null||_e[0]!==ge?((te=b(d,q))!=null||(te=f(d,q))!=null,ue[q]=[ge,te]):te=_e[1],te!=null||J?te:g(d,q)},p.const_cache_version=1,p.const_get_relative=function(d,q,J){var te=d[0],ue,_e=p.const_cache_version,ge,pe;return(ge=d.$$const_cache)==null&&(w(d,"$$const_cache",Object.create(null)),ge=d.$$const_cache),pe=ge[q],pe==null||pe[0]!==_e?((ue=b(te,q))!=null||(ue=s(d,q))!=null||(ue=f(te,q))!=null||(ue=E(te,q))!=null,ge[q]=[_e,ue]):ue=pe[1],ue!=null||J?ue:g(te,q)};function c(d,q,J){var te=!0;return(d==null||d==="::")&&(d=M),J.$$is_a_module&&((J.$$name==null||J.$$name===h)&&(J.$$name=q),J.$$base_module==null&&(J.$$base_module=d)),d.$$const=d.$$const||Object.create(null),(q in d.$$const||"$$autoload"in d&&q in d.$$autoload)&&(te=!1),d.$$const[q]=J,d.$$=d.$$const,p.const_cache_version++,d===M&&(p[q]=J),w(d,q,J),te&&d.$const_added&&!d.$const_added.$$pristine&&d.$const_added(q),J}p.const_set=c,p.constants=function(d,q){q==null&&(q=!0);var J,te=[d],ue,_e,ge={},pe;for(q&&(te=te.concat(G(d))),q&&d.$$is_module&&(te=te.concat([p.Object]).concat(G(p.Object))),ue=0,_e=te.length;ue<_e&&(J=te[ue],!(d!==M&&J==M));ue++){for(pe in J.$$const)ge[pe]=!0;if(J.$$autoload)for(pe in J.$$autoload)ge[pe]=!0}return Object.keys(ge)},p.const_remove=function(d,q){if(p.const_cache_version++,d.$$const[q]!=null){var J=d.$$const[q];return delete d.$$const[q],J}if(d.$$autoload&&d.$$autoload[q])return delete d.$$autoload[q],h;z(p.NameError,"constant "+d+"::"+d.$name()+" not defined")},p.const_get_relative_factory=function(d){return function(q,J){return p.$$(d,q,J)}},p.$$=p.const_get_relative,p.$$$=p.const_get_qualified,p.$r=p.const_get_relative_factory;function l(d){return d==null?!1:d.$$bridge?d:d.$$super?l(d.$$super):!1}function m(d,q,J){var te,ue;if((ue=l(q))?te=function(){var ye=new($e.apply(ue.$$constructor,he(null,arguments)));return H(ye,te.$$prototype),ye}:te=function(){},d&&d!==h&&w(te,"displayName","::"+d),w(te,"$$name",d),w(te,"$$constructor",te),w(te,"$$prototype",te.prototype),w(te,"$$const",{}),w(te,"$$is_class",!0),w(te,"$$is_a_module",!0),w(te,"$$super",q),w(te,"$$cvars",{}),w(te,"$$own_included_modules",[]),w(te,"$$own_prepended_modules",[]),w(te,"$$ancestors",[]),w(te,"$$ancestors_cache_version",null),w(te,"$$subclasses",[]),w(te,"$$cloned_from",[]),w(te.$$prototype,"$$class",te),p.Class&&H(te,p.Class.prototype),q!=null){if(H(te.$$prototype,q.$$prototype),J!==!0)if(typeof WeakRef<"u"){var _e,ge,pe=[];for(_e=0;_e<q.$$subclasses.length;_e++)ge=q.$$subclasses[_e],ge.deref()!==void 0&&pe.push(ge);pe.push(new WeakRef(te)),q.$$subclasses=pe}else q.$$subclasses.push(te);q.$$meta&&p.build_class_singleton_class(te)}return te}p.allocate_class=m;function C(d,q){var J=b(d,q);if(J)return J.$$is_class||z(p.TypeError,q+" is not a class"),J}function _(d,q){d.$$super!==q&&z(p.TypeError,"superclass mismatch for class "+d.$$name)}p.klass=function(d,q,J){var te;d==null||d=="::"?d=M:!d.$$is_class&&!d.$$is_module&&(d=d.$$class),q!=null&&(!q.hasOwnProperty||q.hasOwnProperty&&!q.hasOwnProperty("$$is_class"))&&(q.constructor&&q.constructor.name=="Function"?(te=q,q=M):z(p.TypeError,"superclass must be a Class ("+(q.constructor&&(q.constructor.name||q.constructor.$$name)||typeof q)+" given)"));var ue=C(d,J);return ue!=null?q&&_(ue,q):(q==null&&(q=M),ue=m(J,q),c(d,J,ue),q.$inherited&&q.$inherited(ue),te&&p.bridge(te,ue)),p.trace_class&&B(ue),ue};function a(d){var q=function(){},J=q;return d&&w(q,"displayName",d+".constructor"),w(J,"$$name",d),w(J,"$$prototype",q.prototype),w(J,"$$const",{}),w(J,"$$is_module",!0),w(J,"$$is_a_module",!0),w(J,"$$cvars",{}),w(J,"$$iclasses",[]),w(J,"$$own_included_modules",[]),w(J,"$$own_prepended_modules",[]),w(J,"$$ancestors",[J]),w(J,"$$ancestors_cache_version",null),w(J,"$$cloned_from",[]),H(J,p.Module.prototype),J}p.allocate_module=a;function $(d,q){var J=b(d,q);return J==null&&d===M&&(J=f(M,q)),J&&!J.$$is_module&&J!==M&&z(p.TypeError,q+" is not a module"),J}p.module=function(d,q){var J;return d==null||d=="::"?d=M:!d.$$is_class&&!d.$$is_module&&(d=d.$$class),J=$(d,q),J==null&&(J=a(q),c(d,q,J)),p.trace_class&&B(J),J},p.get_singleton_class=function(d){return d.$$is_number&&z(p.TypeError,"can't define singleton"),d.$$meta?d.$$meta:d.hasOwnProperty("$$is_class")?p.build_class_singleton_class(d):d.hasOwnProperty("$$is_module")?p.build_module_singleton_class(d):p.build_object_singleton_class(d)};function t(d,q){d.hasOwnProperty("$$meta")?d.$$meta=q:w(d,"$$meta",q),d.$$frozen?d.$$meta.$freeze():H(d,q.$$prototype)}p.build_class_singleton_class=function(d){if(d.$$meta)return d.$$meta;var q=d===N?Z:p.get_singleton_class(d.$$super),J=m(null,q,!0);return w(J,"$$is_singleton",!0),w(J,"$$singleton_of",d),t(d,J),w(d,"$$class",p.Class),J},p.build_module_singleton_class=function(d){if(d.$$meta)return d.$$meta;var q=m(null,p.Module,!0);return w(q,"$$is_singleton",!0),w(q,"$$singleton_of",d),t(d,q),w(d,"$$class",p.Module),q},p.build_object_singleton_class=function(d){var q=d.$$class,J=m(h,q,!0);return w(J,"$$is_singleton",!0),w(J,"$$singleton_of",d),delete J.$$prototype.$$class,t(d,J),J},p.is_method=function(d){return d[0]==="$"&&d[1]!=="$"},p.instance_methods=function(d){for(var q=Object.create(null),J=[],te=G(d),ue=0,_e=te.length;ue<_e;ue++){var ge=te[ue],pe=ge.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ke=ye.length;we<ke;we++){var Ee=ye[we];if(!q[Ee]){if(p.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);J.push(qe)}}q[Ee]=!0}}}return J},p.own_instance_methods=function(d){var q=[],J=d.$$prototype;J.hasOwnProperty("$$dummy")&&(J=J.$$define_methods_on);for(var te=Object.getOwnPropertyNames(J),ue=0,_e=te.length;ue<_e;ue++){var ge=te[ue];if(p.is_method(ge)){var pe=J[ge];if(!pe.$$stub){var ye=ge.slice(1);q.push(ye)}}}return q},p.methods=function(d){return p.instance_methods(d.$$meta||d.$$class)},p.own_methods=function(d){return d.$$meta?p.own_instance_methods(d.$$meta):[]},p.receiver_methods=function(d){var q=p.get_singleton_class(d),J=p.own_instance_methods(q),te=p.own_instance_methods(q.$$super);return J.concat(te)},p.class_variables=function(d){var q=G(d),J,te=q.length,ue={};for(J=te-1;J>=0;J--){var _e=q[J];for(var ge in _e.$$cvars)ue[ge]=_e.$$cvars[ge]}return ue},p.class_variable_set=function(d,q,J){var te=G(d),ue,_e=te.length;for(ue=_e-2;ue>=0;ue--){var ge=te[ue];if(X(ge.$$cvars,q))return ge.$$cvars[q]=J,J}return d.$$cvars[q]=J,J},p.class_variable_get=function(d,q,J){if(X(d.$$cvars,q))return d.$$cvars[q];var te=G(d),ue,_e=te.length;for(ue=0;ue<_e;ue++){var ge=te[ue];if(X(ge.$$cvars,q))return ge.$$cvars[q]}return J||z(p.NameError,"uninitialized class variable "+q+" in "+d.$name()),h};function e(d){return d.hasOwnProperty("$$iclass")&&d.hasOwnProperty("$$root")}function r(d){for(var q=[],J,te=Object.getPrototypeOf(d.$$prototype);te&&!te.hasOwnProperty("$$class");)J=P(te),J&&q.push(J),te=Object.getPrototypeOf(te);return q}function i(d){var q=[],J,te=Object.getPrototypeOf(d.$$prototype);if(d.$$prototype.hasOwnProperty("$$dummy"))for(;te&&te!==d.$$prototype.$$define_methods_on;)J=P(te),J&&q.push(J),te=Object.getPrototypeOf(te);return q}p.append_features=function(d,q){var J=G(d),te=[];J.indexOf(q)!==-1&&z(p.ArgumentError,"cyclic include detected");for(var ue=0,_e=J.length;ue<_e;ue++){var ge=J[ue],pe=o(ge);w(pe,"$$included",!0),te.push(pe)}var ye=G(q),we=R(te),ke,Ee;if(ye.indexOf(d)===-1)ke=q.$$prototype,Ee=Object.getPrototypeOf(q.$$prototype);else{for(var xe=q.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===d&&e(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var ze=Object.getPrototypeOf(qe);ze.hasOwnProperty("$$iclass")&&!e(ze);)ze=Object.getPrototypeOf(ze);ke=xe,Ee=ze}else ke=q.$$prototype,Ee=Object.getPrototypeOf(q.$$prototype)}H(ke,we.first),H(we.last,Ee),q.$$own_included_modules=r(q),p.const_cache_version++},p.prepend_features=function(d,q){var J=G(d),te=[];J.indexOf(q)!==-1&&z(p.ArgumentError,"cyclic prepend detected");for(var ue=0,_e=J.length;ue<_e;ue++){var ge=J[ue],pe=o(ge);w(pe,"$$prepended",!0),te.push(pe)}var ye=R(te),we=q.$$prototype,ke=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=y(q),u(q),w(we,"$$dummy",!0),w(we,"$$define_methods_on",Ee),H(we,Ee),H(Ee,ke));var ze=G(q);if(ze.indexOf(d)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else z(p.RuntimeError,"Prepending a module multiple times is not supported");H(xe,ye.first),H(ye.last,qe),q.$$own_prepended_modules=i(q),p.const_cache_version++};function u(d){for(var q=d.$$prototype,J=Object.getOwnPropertyNames(q),te=0;te<J.length;te++){var ue=J[te];p.is_method(ue)&&delete q[ue]}}function o(d){var q=y(d);return d.$$is_module&&d.$$iclasses.push(q),q}function y(d){var q={},J=d.$$prototype;J.hasOwnProperty("$$dummy")&&(J=J.$$define_methods_on);var te=Object.getOwnPropertyNames(J),ue=te.length,_e;for(_e=0;_e<ue;_e++){var ge=te[_e];w(q,ge,J[ge])}return w(q,"$$iclass",!0),w(q,"$$module",d),q}function R(d){var q=d.length,J=d[0];if(w(J,"$$root",!0),q===1)return{first:J,last:J};for(var te=J,ue=1;ue<q;ue++){var _e=d[ue];H(te,_e),te=_e}return{first:d[0],last:d[q-1]}}p.bridge=function(d,q){d.hasOwnProperty("$$bridge")&&z(p.ArgumentError,"already bridged"),w(d,"$$bridge",q),H(d.prototype,(q.$$super||p.Object).$$prototype),w(q,"$$prototype",d.prototype),w(q.$$prototype,"$$class",q),w(q,"$$constructor",d),w(q,"$$bridge",!0)};function P(d){if(!d.hasOwnProperty("$$dummy")){if(d.hasOwnProperty("$$iclass"))return d.$$module;if(d.hasOwnProperty("$$class"))return d.$$class}}function F(d){return d.$$own_prepended_modules.concat([d]).concat(d.$$own_included_modules)}function G(d){if(!d)return[];if(d.$$ancestors_cache_version===p.const_cache_version)return d.$$ancestors;var q=[],J,te,ue;for(J=0,te=F(d),ue=te.length;J<ue;J++)q.push(te[J]);if(d.$$super)for(J=0,te=G(d.$$super),ue=te.length;J<ue;J++)q.push(te[J]);return d.$$ancestors_cache_version=p.const_cache_version,d.$$ancestors=q,q}p.ancestors=G,p.included_modules=function(d){for(var q=[],J=null,te=Object.getPrototypeOf(d.$$prototype);te&&Object.getPrototypeOf(te);te=Object.getPrototypeOf(te))J=P(te),J&&J.$$is_module&&te.$$iclass&&te.$$included&&q.push(J);return q},p.add_stubs=function(d){var q=p.BasicObject.$$prototype,J,te;d=d.split(",");for(var ue=0,_e=d.length;ue<_e;ue++)J=de(d[ue]),te=q[J],(te==null||te.$$stub)&&p.add_stub_for(q,J)},p.add_stub_for=function(d,q){w(d,q,p.stub_for(q))},p.stub_for=function(d){function q(){return this.$method_missing.$$p=q.$$p,q.$$p=null,this.$method_missing.apply(this,he(d.slice(1),arguments))}return q.$$stub=!0,q},p.ac=function(d,q,J,te){var ue="";J.$$is_a_module?ue+=J.$$name+".":ue+=J.$$class.$$name+"#",ue+=te,z(p.ArgumentError,"["+ue+"] wrong number of arguments (given "+d+", expected "+q+")")},p.block_ac=function(d,q,J){var te="`block in "+J+"'";z(p.ArgumentError,te+": wrong number of arguments (given "+d+", expected "+q+")")};function re(d){return d.hasOwnProperty("$$meta")&&d.$$meta!==null?G(d.$$meta):G(d.$$class)}p.find_super=function(d,q,J,te,ue){var _e=de(q),ge,pe,ye,we,ke=-1,Ee;for(ge=re(d),we=J.$$owner,Ee=0;Ee<ge.length;Ee++)if(pe=ge[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ke=Ee;break}for(Ee=ke+1;Ee<ge.length;Ee++){pe=ge[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(_e)){ye=xe[_e];break}}return!te&&ye&&ye.$$stub&&d.$method_missing.$$pristine&&z(p.NoMethodError,"super: no superclass method `"+q+"' for "+d,q),ye.$$stub&&!ue?null:ye},p.find_block_super=function(d,q,J,te,ue){var _e=q;return J||z(p.RuntimeError,"super called outside of method"),ue&&J.$$define_meth&&z(p.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),J.$$def&&(_e=J.$$jsid),p.find_super(d,_e,J,te)},p.find_super_dispatcher=p.find_super,p.find_iter_super_dispatcher=p.find_block_super;function ae(d,q,J){try{d(q)}catch(te){if(te===J)return J.$v;throw te}}p.yield1=function(d,q){typeof d!="function"&&z(p.LocalJumpError,"no block given");var J=d.$$has_top_level_mlhs_arg,te=d.$$has_trailing_comma_in_args,ue=d.$$is_lambda&&d.$$ret;return(d.length>1||(J||te)&&d.length===1)&&(q=p.to_ary(q)),(d.length>1||te&&d.length===1)&&q.$$is_array?ue?ae(d.apply.bind(d,null),q,d.$$ret):d.apply(null,q):ue?ae(d,q,d.$$ret):d(q)},p.yieldX=function(d,q){return typeof d!="function"&&z(p.LocalJumpError,"no block given"),d.length>1&&q.length===1&&q[0].$$is_array&&(q=q[0]),d.$$is_lambda&&d.$$ret?ae(d.apply.bind(d,null),q,d.$$ret):d.apply(null,q)},p.rescue=function(d,q){for(var J=0;J<q.length;J++){var te=q[J];if(te.$$is_array){var ue=p.rescue(d,te);if(ue)return ue}else if(te===p.JS.Error||te["$==="](d))return te}return null},p.is_a=function(d,q){if(q!=null&&d.$$meta===q||d.$$class===q)return!0;if(d.$$is_number&&q.$$is_number_class)return q.$$is_integer_class?d%1===0:!0;var J=G(d.$$is_class?p.get_singleton_class(d):d.$$meta||d.$$class);return J.indexOf(q)!==-1},p.to_hash=function(d){if(d.$$is_hash)return d;if(d["$respond_to?"]("to_hash",!0)){var q=d.$to_hash();if(q.$$is_hash)return q;z(p.TypeError,"Can't convert "+d.$$class+" to Hash ("+d.$$class+"#to_hash gives "+q.$$class+")")}else z(p.TypeError,"no implicit conversion of "+d.$$class+" into Hash")},p.to_ary=function(d){if(d.$$is_array)return d;if(d["$respond_to?"]("to_ary",!0)){var q=d.$to_ary();if(q===h)return[d];if(q.$$is_array)return q;z(p.TypeError,"Can't convert "+d.$$class+" to Array ("+d.$$class+"#to_ary gives "+q.$$class+")")}else return[d]},p.to_a=function(d){if(d.$$is_array)return d.slice();if(d["$respond_to?"]("to_a",!0)){var q=d.$to_a();if(q===h)return[d];if(q.$$is_array)return q;z(p.TypeError,"Can't convert "+d.$$class+" to Array ("+d.$$class+"#to_a gives "+q.$$class+")")}else return[d]},p.extract_kwargs=function(d){var q=d[d.length-1];if(q!=null&&p.respond_to(q,"$to_hash",!0))return W(d,d.length-1),q},p.kwrestargs=function(d,q){var J=new Map;return p.hash_each(d,!1,function(te,ue){return q[te]||p.hash_put(J,te,ue),[!1,!1]}),J};function le(d,q){typeof q=="number"?d.$$arity=q:typeof q=="object"&&Object.assign(d,q)}var ce=new Map;function de(d){var q=ce.get(d);return q||(q="$"+d,ce.set(d,q)),q}p.jsid=de;function he(d,q){return q.$$is_array||(q=ee(q)),[d].concat(q)}p.send=function(d,q,J,te,ue){var _e;return typeof q=="function"?(_e=q,q=null):typeof q=="string"?_e=d[de(q)]:z(p.NameError,"Passed method should be a string or a function"),p.send2(d,_e,q,J,te,ue)},p.send2=function(d,q,J,te,ue,_e){return q==null&&J!=null&&d.$method_missing&&(q=d.$method_missing,te=he(J,te)),le(ue,_e),typeof ue=="function"&&(q.$$p=ue),q.apply(d,te)},p.refined_send=function(d,q,J,te,ue,_e){var ge,pe,ye,we,ke,Ee,xe,qe,ze,Ae;for(we=re(q),ge=0;ge<we.length;ge++)for(ke=p.id(we[ge]),pe=0;pe<d.length;pe++)for(Ee=d[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ke]>"u")&&(ze=qe[ke],typeof ze.$$prototype[de(J)]<"u")))return Ae=ze.$$prototype[de(J)],p.send2(q,Ae,J,te,ue,_e);return p.send(q,J,te,ue,_e)},p.lambda=function(d,q){return d.$$is_lambda=!0,le(d,q),d},p.def=function(d,q,J,te){return le(J,te),d===p.top?p.defn(p.Object,q,J):!d.$$eval&&d.$$is_a_module?p.defn(d,q,J):p.defs(d,q,J)},p.defn=function(d,q,J){T(d),J.displayName=q,J.$$owner=d;var te=q.substr(1),ue=d.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),w(ue,q,J),d.$$is_module){d.$$module_function&&p.defs(d,q,J);for(var _e=0,ge=d.$$iclasses,pe=ge.length;_e<pe;_e++){var ye=ge[_e];w(ye,q,J)}}var we=d.$$singleton_of;return d.$method_added&&!d.$method_added.$$stub&&!we?d.$method_added(te):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(te),te},p.defs=function(d,q,J,te){return le(J,te),(d.$$is_string||d.$$is_number)&&z(p.TypeError,"can't define singleton"),p.defn(p.get_singleton_class(d),q,J)};function ve(d,q){if(d.$$is_module)for(var J=0,te=d.$$iclasses,ue=te.length;J<ue;J++){var _e=te[J];delete _e[q]}}p.rdef=function(d,q){X(d.$$prototype,q)||z(p.NameError,"method '"+q.substr(1)+"' not defined in "+d.$name()),delete d.$$prototype[q],ve(d,q),d.$$is_singleton?d.$$prototype.$singleton_method_removed&&!d.$$prototype.$singleton_method_removed.$$stub&&d.$$prototype.$singleton_method_removed(q.substr(1)):d.$method_removed&&!d.$method_removed.$$stub&&d.$method_removed(q.substr(1))},p.udef=function(d,q){(!d.$$prototype[q]||d.$$prototype[q].$$stub)&&z(p.NameError,"method '"+q.substr(1)+"' not defined in "+d.$name()),p.add_stub_for(d.$$prototype,q),ve(d,q),d.$$is_singleton?d.$$prototype.$singleton_method_undefined&&!d.$$prototype.$singleton_method_undefined.$$stub&&d.$$prototype.$singleton_method_undefined(q.substr(1)):d.$method_undefined&&!d.$method_undefined.$$stub&&d.$method_undefined(q.substr(1))};function me(d){return typeof d=="function"&&!d.$$stub}p.alias=function(d,q,J){var te=de(q),ue=de(J),_e,ge;if(typeof d.$$prototype>"u"&&(d=p.Object),_e=d.$$prototype[ue],d.$$eval)return p.alias(p.get_singleton_class(d),q,J);if(!me(_e)){for(var pe=d.$$super;typeof _e!="function"&&pe;)_e=pe[ue],pe=pe.$$super;!me(_e)&&d.$$is_module&&(_e=p.Object.$$prototype[ue]),me(_e)||z(p.NameError,"undefined method `"+J+"' for class `"+d.$name()+"'")}return _e.$$alias_of&&(_e=_e.$$alias_of),ge=p.wrap_method_body(_e),ge.displayName=q,ge.$$alias_of=_e,ge.$$alias_name=q,p.defn(d,te,ge),d},p.wrap_method_body=function(d){var q=function(){var J=q.$$p;return q.$$p=null,p.send(this,d,arguments,J)};try{Object.defineProperty(q,"length",{value:d.length})}catch{}return q.$$arity=d.$$arity==null?d.length:d.$$arity,q.$$parameters=d.$$parameters,q.$$source_location=d.$$source_location,q},p.alias_gvar=function(d,q){return Object.defineProperty(I,d,{configurable:!0,enumerable:!0,get:function(){return I[q]},set:function(J){I[q]=J}}),h},p.alias_native=function(d,q,J){var te=de(q),ue=d.$$prototype[J];return(typeof ue!="function"||ue.$$stub)&&z(p.NameError,"undefined native method `"+J+"' for class `"+d.$name()+"'"),p.defn(d,te,ue),d},p.hash_init=function(d){A.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},p.hash_clone=function(d,q){return q.$$none=d.$$none,q.$$proc=d.$$proc,p.hash_each(d,q,function(J,te){return p.hash_put(q,J,te),[!1,q]})},p.hash_put=function(d,q,J){var te=typeof q;if(te==="string"||te==="symbol"||te==="number"||te==="boolean"||te==="bigint")d.set(q,J);else if(q.$$is_string)d.set(q.valueOf(),J);else{d.$$keys||(d.$$keys=new Map);var ue=q.$$is_string?q.valueOf():d.$$by_identity?p.id(q):q.$hash(),_e=d.$$keys;if(!_e.has(ue)){_e.set(ue,[q]),d.set(q,J);return}for(var ge=_e.get(ue),pe,ye=0;ye<ge.length;ye++)if(pe=ge[ye],q===pe||q["$eql?"](pe)){d.set(pe,J);return}ge.push(q),d.set(q,J)}},p.hash_get=function(d,q){var J=typeof q;if(J==="string"||J==="symbol"||J==="number"||J==="boolean"||J==="bigint")return d.get(q);if(d.$$keys){var te=q.$$is_string?q.valueOf():d.$$by_identity?p.id(q):q.$hash(),ue=d.$$keys.get(te),_e;if(ue!==void 0){for(var ge=0;ge<ue.length;ge++)if(_e=ue[ge],q===_e||q["$eql?"](_e))return d.get(_e)}else if(q.$$is_string)return d.get(te)}else if(q.$$is_string)return d.get(q.valueOf())};function be(d,q){var J=d.get(q);if(J!==void 0)return d.delete(q),J}p.hash_delete=function(d,q){var J=typeof q;if(J==="string"||J==="symbol"||J==="number"||J==="boolean"||J==="bigint")return be(d,q);if(d.$$keys){var te=q.$$is_string?q.valueOf():d.$$by_identity?p.id(q):q.$hash(),ue=d.$$keys.get(te),_e;if(ue!==void 0){for(var ge=0;ge<ue.length;ge++)if(_e=ue[ge],q===_e||q["$eql?"](_e))return ue.splice(ge,1),ue.length===0&&d.$$keys.delete(te),be(d,_e)}else if(q.$$is_string)return be(d,te)}else if(q.$$is_string)return be(d,q.valueOf())},p.hash_rehash=function(d){var q=d.$$keys;return q&&q.clear(),p.hash_each(d,!1,function(J,te){var ue=typeof J;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var _e=J.$$is_string?J.valueOf():d.$$by_identity?p.id(J):J.$hash();if(q||(d.$$keys=q=new Map),!q.has(_e))return q.set(_e,[J]),[!1,!1];for(var ge=q.get(_e),pe=ge.length===1?ge:ee(ge),ye,we=0;we<pe.length;we++)ye=pe[we],(J===ye||J["$eql?"](ye))&&(ge.splice(ge.indexOf(ye),1),d.delete(ye));return ge.push(J),[!1,!1]}),d},p.hash=function(){var d=arguments.length,q,J,te,ue,_e,ge;if(d===1&&arguments[0].$$is_hash)return arguments[0];if(J=new Map,d===1)if(q=arguments[0],arguments[0].$$is_array){for(ue=q.length,te=0;te<ue;te++)q[te].length!==2&&z(p.ArgumentError,"value not of length 2: "+q[te].$inspect()),_e=q[te][0],ge=q[te][1],p.hash_put(J,_e,ge);return J}else{q=arguments[0];for(_e in q)X(q,_e)&&(ge=q[_e],p.hash_put(J,_e,ge));return J}for(d%2!==0&&z(p.ArgumentError,"odd number of arguments for Hash"),te=0;te<d;te+=2)_e=arguments[te],ge=arguments[te+1],p.hash_put(J,_e,ge);return J},p.hash2=function(d,q){A.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var J=new Map,te=0,ue=d.length;te<ue;te++)J.set(d[te],q[d[te]]);return J},p.hash_each=function(d,q,J){for(var te,ue=0,_e,ge=Array.from(d.entries()),pe=ge.length;ue<pe;ue++)if(_e=ge[ue],te=J(_e[0],_e[1]),te[0])return te[1];return te?te[1]:q},p.range=function(d,q,J){var te=new p.Range;return te.begin=d,te.end=q,te.excl=J,te};var ie=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];p.ivar=function(d){return ie.indexOf(d)!==-1&&(d+="$"),d};function T(d){d.$$frozen&&z(p.FrozenError,"can't modify frozen "+d.$class()+": "+d,new Map([["receiver",d]]))}p.deny_frozen_access=T,p.freeze=function(d){return w(d,"$$frozen",!0),d.hasOwnProperty("$$id")||w(d,"$$id",k()),d.hasOwnProperty("$$meta")?d.$$meta.$freeze():w(d,"$$meta",null),d.hasOwnProperty("$$comparable")||w(d,"$$comparable",null),Object.seal(d),d};function K(d,q){var J=Object.getOwnPropertyNames(d),te=J.length,ue,_e,ge;for(ue=0;ue<te;ue++)_e=J[ue],_e[0]!=="$"&&(ge=Object.getOwnPropertyDescriptor(d,_e),ge&&ge.enumerable&&q(_e,ge))}p.each_ivar=K,p.freeze_props=function(d){var q={get:null,set:function(J){T(d)},enumerable:!0};K(d,function(J,te){te.writable&&(q.get=se(te.value),Object.defineProperty(d,J,q))})},p.escape_regexp=function(d){return d.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},p.global_regexp=function(d){return d.global?d:(d.$$g==null?d.$$g=new RegExp(d.source,(d.multiline?"gm":"g")+(d.ignoreCase?"i":"")):d.$$g.lastIndex=null,d.$$g)},p.global_multiline_regexp=function(d){var q,J;return d.global&&d.multiline?d:(J="gm"+(d.ignoreCase?"i":""),d.multiline?(d.$$g==null&&(d.$$g=new RegExp(d.source,J)),q=d.$$g):(d.$$gm==null&&(d.$$gm=new RegExp(d.source,J)),q=d.$$gm),q.lastIndex=null,q)},p.regexp=function(d,q){for(var J,te=typeof q<"u"&&q&&q.indexOf("i")>=0,ue=0,_e=d.length;ue<_e;ue++)J=d[ue],J instanceof RegExp&&(J.ignoreCase!==te&&p.Kernel.$warn("ignore case doesn't match for "+J.source.$inspect(),new Map([["uplevel",1]])),J=J.source),J===""&&(J="(?:"+J+")"),d[ue]=J;return q?new RegExp(d.join(""),q):new RegExp(d.join(""))},p.modules={},p.loaded_features=["corelib/runtime"],p.current_dir=".",p.require_table={"corelib/runtime":!0},p.normalize=function(d){var q,J,te=[],ue="/";p.current_dir!=="."&&(d=p.current_dir.replace(/\/*$/,"/")+d),d=d.replace(/^\.\//,""),d=d.replace(/\.(rb|opal|js)$/,""),q=d.split(ue);for(var _e=0,ge=q.length;_e<ge;_e++)J=q[_e],J!==""&&(J===".."?te.pop():te.push(J));return te.join(ue)},p.loaded=function(d){var q,J,te;for(q=0,J=d.length;q<J;q++)te=p.normalize(d[q]),!p.require_table[te]&&(p.loaded_features.push(te),p.require_table[te]=!0)},p.load_normalized=function(d){p.loaded([d]);var q=p.modules[d];if(q){var J=q(p);if(typeof Promise<"u"&&J instanceof Promise)return J.then(se(!0))}else{var te=p.config.missing_require_severity,ue="cannot load such file -- "+d;te==="error"?z(p.LoadError,ue):te==="warning"&&A.warn("WARNING: LoadError: "+ue)}return!0},p.load=function(d){return d=p.normalize(d),p.load_normalized(d)},p.require=function(d){return d=p.normalize(d),p.require_table[d]?!1:p.load_normalized(d)},p.encodings=Object.create(null),p.set_encoding=function(d,q,J){typeof J>"u"&&(J="encoding"),(typeof d=="string"||d.$$frozen===!0)&&z(p.FrozenError,"can't modify frozen String");var te=p.find_encoding(q);return te===d[J]||(d[J]=te),d},p.find_encoding=function(d){var q=p.encodings,J=q[d]||q[d.toUpperCase()];return J||z(p.ArgumentError,"unknown encoding name - "+d),J},p.enc=function(d,q){var J=new String(d);return J=p.set_encoding(J,q),J.internal_encoding=J.encoding,J},p.binary=function(d){var q=new String(d);return p.set_encoding(q,"binary","internal_encoding")},p.last_promise=null,p.promise_unhandled_exception=!1,p.queue=function(d){if(p.last_promise)return p.last_promise=p.last_promise.then(function(){if(!p.promise_unhandled_exception)return d(p)}).catch(function(J){p.respond_to(J,"$full_message")&&(J=J.$full_message()),A.error(J),p.promise_unhandled_exception=!0,p.exit(1)}),p.last_promise;var q=d(p);return typeof Promise=="function"&&typeof q=="object"&&q instanceof Promise&&(p.last_promise=q),q};function Y(d,q){return typeof d=="number"&&typeof q=="number"}p.rb_plus=function(d,q){return Y(d,q)?d+q:d["$+"](q)},p.rb_minus=function(d,q){return Y(d,q)?d-q:d["$-"](q)},p.rb_times=function(d,q){return Y(d,q)?d*q:d["$*"](q)},p.rb_divide=function(d,q){return Y(d,q)?d/q:d["$/"](q)},p.rb_lt=function(d,q){return Y(d,q)?d<q:d["$<"](q)},p.rb_gt=function(d,q){return Y(d,q)?d>q:d["$>"](q)},p.rb_le=function(d,q){return Y(d,q)?d<=q:d["$<="](q)},p.rb_ge=function(d,q){return Y(d,q)?d>=q:d["$>="](q)};function O(d,q){return typeof d=="number"&&typeof q=="number"||typeof d=="string"&&typeof q=="string"}function ne(d,q){return O(d,q)?d===q:S(d["$=="](q))}p.eqeq=ne,p.eqeqeq=function(d,q){return O(d,q)?d===q:S(d["$==="](q))},p.neqeq=function(d,q){return O(d,q)?d!==q:S(d["$!="](q))},p.not=function(d){return d==null||d===!1||h===d?!0:d===!0||d["$!"].$$pristine?!1:S(d["$!"]())};function se(d){return function(){return d}}p.return_val=se,p.return_self=function(){return this},p.return_ivar=function(d){return function(){return this[d]==null?h:this[d]}},p.assign_ivar=function(d){return function(q){return T(this),this[d]=q}},p.assign_ivar_val=function(d,q){return function(){return T(this),this[d]=q}},p.ensure_kwargs=function(d){if(d==null)return new Map;if(d.$$is_hash)return d;z(p.ArgumentError,"expected kwargs")},p.get_kwarg=function(d,q){var J=p.hash_get(d,q);return J===void 0&&z(p.ArgumentError,"missing keyword: "+q),J},p.large_array_unpack=function(d){var q=d.split(","),J=q.length,te;for(te=0;te<J;te++)switch(q[te][0]){case void 0:q[te]=h;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":q[te]=+q[te]}return q},p.opal32_init=se(1332765036);function oe(d,q){return d<<q|d>>>32-q}p.opal32_add=function(d,q){return d^=q,d=oe(d,1),d},p.BasicObject=N=m("BasicObject",null),p.Object=M=m("Object",p.BasicObject),p.Module=Q=m("Module",p.Object),p.Class=Z=m("Class",p.Module),p.Opal=D=a("Opal"),p.Kernel=V=a("Kernel"),H(p.BasicObject,p.Class.$$prototype),H(p.Object,p.Class.$$prototype),H(p.Module,p.Class.$$prototype),H(p.Class,p.Class.$$prototype),N.$$const.BasicObject=N,c(M,"BasicObject",N),c(M,"Object",M),c(M,"Module",Q),c(M,"Class",Z),c(M,"Opal",D),c(M,"Kernel",V),N.$$class=Z,M.$$class=Z,Q.$$class=Z,Z.$$class=Z,D.$$class=Q,V.$$class=Q,w(M.$$prototype,"toString",function(){var d=this.$to_s();return d.$$is_string&&typeof d=="object"?d.valueOf():d}),w(M.$$prototype,"$require",p.require),p.top=new M,p.top.$to_s=p.top.$inspect=se("main"),p.top.$define_method=fe;function fe(){var d=fe.$$p;return fe.$$p=null,p.send(M,"define_method",arguments,d)}p.NilClass=m("NilClass",p.Object),c(M,"NilClass",p.NilClass),h=p.nil=new p.NilClass,h.$$id=j,h.call=h.apply=function(){z(p.LocalJumpError,"no block given")},h.$$frozen=!0,h.$$comparable=!1,Object.seal(h),p.thrower=function(d){var q={$thrower_type:d,$throw:function(J,te){throw J==null&&(J=h),this.is_orphan&&!te&&z(p.LocalJumpError,"unexpected "+d,J,d.$to_sym()),this.$v=J,this},is_orphan:!1};return q},Object.defineProperty(I,"@",{enumerable:!0,configurable:!0,get:function(){return S(I["!"])?I["!"].$backtrace():h},set:function(d){S(I["!"])?I["!"].$set_backtrace(d):z(p.ArgumentError,"$! not set")}}),p.t_eval_return=p.thrower("return"),TypeError.$$super=Error,p.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(n){var A=n.type_error,h=n.coerce_to,N=n.module,M=n.defs,Q=n.slice,Z=n.eqeqeq,D=n.Kernel,V=n.truthy,p=n.Opal,U=n.nil,$e=n.$$$;return n.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(X){var H=N(X,"Opal");M(H,"$bridge",function(j,v){return n.bridge(j,v)}),M(H,"$coerce_to!",function(j,v,k,I){var z,L,w=U;return z=Q(arguments,3),L=z,w=h(j,v,k,L),Z(v,w)||D.$raise(A(j,v,k,w)),w},-4),M(H,"$coerce_to?",function(j,v,k,I){var z,L,w=U;return z=Q(arguments,3),L=z,!V(j["$respond_to?"](k))||(w=h(j,v,k,L),V(w["$nil?"]()))?U:(Z(v,w)||D.$raise(A(j,v,k,w)),w)},-4),M(H,"$try_convert",function(j,v,k){return Z(v,j)?j:V(j["$respond_to?"](k))?j.$__send__(k):U}),M(H,"$compare",function(j,v){var k=U;return k=j["$<=>"](v),V(k===U)&&D.$raise($e("ArgumentError"),"comparison of "+j.$class()+" with "+v.$class()+" failed"),k}),M(H,"$destructure",function(j){if(j.length==1)return j[0];if(j.$$is_array)return j;for(var v=new Array(j.length),k=0,I=v.length;k<I;k++)v[k]=j[k];return v}),M(H,"$respond_to?",function(j,v,k){return k==null&&(k=!1),j==null||!j.$$class?!1:j["$respond_to?"](v,k)},-3),M(H,"$instance_variable_name!",function(j){return j=p["$coerce_to!"](j,$e("String"),"to_str"),V(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(j))||D.$raise($e("NameError").$new("'"+j+"' is not allowed as an instance variable name",j)),j}),M(H,"$class_variable_name!",function(j){return j=p["$coerce_to!"](j,$e("String"),"to_str"),V(j.length<3||j.slice(0,2)!=="@@")&&D.$raise($e("NameError").$new("`"+j+"' is not allowed as a class variable name",j)),j}),M(H,"$const_name?",function(j){return typeof j!="string"&&(j=p["$coerce_to!"](j,$e("String"),"to_str")),j[0]===j[0].toUpperCase()}),M(H,"$const_name!",function(j){var v=this;return V($e("::","String","skip_raise")?"constant":U)&&(j=p["$coerce_to!"](j,$e("String"),"to_str")),(!j||j[0]!=j[0].toUpperCase())&&v.$raise($e("NameError"),"wrong constant name "+j),j}),M(H,"$pristine",function(j,v){var k,I;k=Q(arguments,1),I=k;for(var z,L,w=I.length-1;w>=0;w--)z=I[w],L=j.$$prototype[n.jsid(z)],L&&!L.$$stub&&(L.$$pristine=!0);return U},-2);var ee=[];return M(H,"$inspect",function(j){var v=U,k=!1;return function(){try{try{return j===null?"null":j===void 0?"undefined":typeof j.$$class>"u"?Object.prototype.toString.apply(j):typeof j.$inspect!="function"||j.$inspect.$$stub||ee.indexOf(j.$__id__())!==-1?"#<"+j.$$class+":0x"+j.$__id__().$to_s(16)+">":(ee.push(j.$__id__()),k=!0,j.$inspect())}catch(I){if(n.rescue(I,[$e("Exception")])){v=I;try{return"#<"+j.$$class+":0x"+j.$__id__().$to_s(16)+">"}finally{n.pop_exception(I)}}else throw I}}finally{k&&ee.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(n){var A=n.truthy,h=n.coerce_to,N=n.const_set,M=n.Object,Q=n.return_ivar,Z=n.assign_ivar,D=n.ivar,V=n.deny_frozen_access,p=n.freeze,U=n.prop,$e=n.jsid,X=n.each_ivar,H=n.klass,ee=n.Opal,W=n.Kernel,j=n.defs,v=n.send,k=n.def,I=n.eqeqeq,z=n.Module,L=n.rb_lt,w=n.rb_gt,S=n.slice,B=n.to_a,x=n.return_val,b=n.eqeq,s=n.not,f=n.rb_le,E=n.range,g=n.send2,c=n.find_super,l=n.alias,m=[],C=n.nil,_=n.$$$;return n.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(a,$,t){var e=H(a,$,"Module"),r=[e].concat(t),i=n.$r(r);function u(P){if(P.$$is_string)return P;var F=ee.$try_convert(P,_("String"),"to_str");if(F.$$is_string)return F;F===C?W.$raise(_("TypeError"),""+P+" is not a symbol nor a string"):W.$raise(_("TypeError"),"can't convert "+P.$class()+" to String ("+P.$class()+"#to_str gives "+F.$class())}j(e,"$allocate",function(){var F=this,G=n.allocate_module(C,function(){});return F!==n.Module&&Object.setPrototypeOf(G,F.$$prototype),G}),k(e,"$initialize",function P(){var F=P.$$p||C,G=this;return P.$$p=null,F!==C?v(G,"module_eval",[],F.$to_proc()):C}),k(e,"$===",function(F){var G=this;return A(F==null)?!1:n.is_a(F,G)}),k(e,"$<",function(F){var G=this;I(z,F)||W.$raise(_("TypeError"),"compared with non class/module");var re=G,ae,le,ce;if(re===F)return!1;for(le=0,ae=n.ancestors(G),ce=ae.length;le<ce;le++)if(ae[le]===F)return!0;for(le=0,ae=n.ancestors(F),ce=ae.length;le<ce;le++)if(ae[le]===G)return!1;return C}),k(e,"$<=",function(F){var G=this,re=C;return A(re=G["$equal?"](F))?re:L(G,F)}),k(e,"$>",function(F){var G=this;return I(z,F)||W.$raise(_("TypeError"),"compared with non class/module"),L(F,G)}),k(e,"$>=",function(F){var G=this,re=C;return A(re=G["$equal?"](F))?re:w(G,F)}),k(e,"$<=>",function(F){var G=this,re=C;return G===F?0:!I(z,F)||(re=L(G,F),A(re["$nil?"]()))?C:A(re)?-1:1}),k(e,"$alias_method",function(F,G){var re=this;return V(re),F=h(F,_("String"),"to_str"),G=h(G,_("String"),"to_str"),n.alias(re,F,G),re}),k(e,"$alias_native",function(F,G){var re=this;return G==null&&(G=F),V(re),n.alias_native(re,F,G),re},-2),k(e,"$ancestors",function(){var F=this;return n.ancestors(F)}),k(e,"$append_features",function(F){var G=this;return V(F),n.append_features(G,F),G}),k(e,"$attr_accessor",function(F){var G,re,ae=this;return G=S(arguments),re=G,v(ae,"attr_reader",B(re)),v(ae,"attr_writer",B(re))},-1),k(e,"$attr",function(F){var G,re,ae=this;return G=S(arguments),re=G,re.length==2&&(re[1]===!0||re[1]===!1)?(ae.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),re[1]?ae.$attr_accessor(re[0]):ae.$attr_reader(re[0]),C):v(ae,"attr_reader",B(re))},-1),k(e,"$attr_reader",function(F){var G,re,ae=this;G=S(arguments),re=G,V(ae);for(var le=ae.$$prototype,ce=re.length-1;ce>=0;ce--){var de=re[ce],he=$e(de),ve=D(de),me=Q(ve);n.prop(le,ve,C),me.$$parameters=[],me.$$arity=0,n.defn(ae,he,me)}return C},-1),k(e,"$attr_writer",function(F){var G,re,ae=this;G=S(arguments),re=G,V(ae);for(var le=ae.$$prototype,ce=re.length-1;ce>=0;ce--){var de=re[ce],he=$e(de+"="),ve=D(de),me=Z(ve);me.$$parameters=[["req"]],me.$$arity=1,n.prop(le,ve,C),n.defn(ae,he,me)}return C},-1),k(e,"$autoload",function(F,G){var re=this;return V(re),i("Opal")["$const_name?"](F)||W.$raise(_("NameError"),"autoload must be constant name: "+F),G==""&&W.$raise(_("ArgumentError"),"empty file name"),re.$$const.hasOwnProperty(F)||(re.$$autoload||(re.$$autoload={}),n.const_cache_version++,re.$$autoload[F]={path:G,loaded:!1,required:!1,success:!1,exception:!1},re.$const_added&&!re.$const_added.$$pristine&&re.$const_added(F)),C}),k(e,"$autoload?",function(F){var G=this;if(G.$$autoload&&G.$$autoload[F]&&!G.$$autoload[F].required&&!G.$$autoload[F].success)return G.$$autoload[F].path;for(var re=G.$ancestors(),ae=0,le=re.length;ae<le;ae++)if(re[ae].$$autoload&&re[ae].$$autoload[F]&&!re[ae].$$autoload[F].required&&!re[ae].$$autoload[F].success)return re[ae].$$autoload[F].path;return C}),k(e,"$class_variables",function(){var F=this;return Object.keys(n.class_variables(F))}),k(e,"$class_variable_get",function(F){var G=this;return F=ee["$class_variable_name!"](F),n.class_variable_get(G,F,!1)}),k(e,"$class_variable_set",function(F,G){var re=this;return V(re),F=ee["$class_variable_name!"](F),n.class_variable_set(re,F,G)}),k(e,"$class_variable_defined?",function(F){var G=this;return F=ee["$class_variable_name!"](F),n.class_variables(G).hasOwnProperty(F)}),k(e,"$const_added",x(C)),ee.$pristine(e,"const_added"),k(e,"$remove_class_variable",function(F){var G=this;if(V(G),F=ee["$class_variable_name!"](F),n.hasOwnProperty.call(G.$$cvars,F)){var re=G.$$cvars[F];return delete G.$$cvars[F],re}else W.$raise(_("NameError"),"cannot remove "+F+" for "+G)}),k(e,"$constants",function(F){var G=this;return F==null&&(F=!0),n.constants(G,F)},-1),j(e,"$constants",function(F){var G=this;if(F==null){var re=(G.$$nesting||[]).concat(M),ae,le={},ce,de;for(ce=0,de=re.length;ce<de;ce++)for(ae in re[ce].$$const)le[ae]=!0;return Object.keys(le)}else return n.constants(G,F)},-1),j(e,"$nesting",function(){var F=this;return F.$$nesting||[]}),k(e,"$const_defined?",function(F,G){var re=this;G==null&&(G=!0),F=i("Opal")["$const_name!"](F),A(F["$=~"](_(ee,"CONST_NAME_REGEXP")))||W.$raise(_("NameError").$new("wrong constant name "+F,F));var ae,le=[re],ce,de;for(G&&(le=le.concat(n.ancestors(re)),re.$$is_module&&(le=le.concat([M]).concat(n.ancestors(M)))),ce=0,de=le.length;ce<de;ce++)if(ae=le[ce],ae.$$const[F]!=null||ae.$$autoload&&ae.$$autoload[F]&&!ae.$$autoload[F].required&&!ae.$$autoload[F].success)return!0;return!1},-2),k(e,"$const_get",function(F,G){var re=this;return G==null&&(G=!0),F=i("Opal")["$const_name!"](F),F.indexOf("::")===0&&F!=="::"&&(F=F.slice(2)),A(F.indexOf("::")!=-1&&F!="::")?v(F.$split("::"),"inject",[re],function(le,ce){return le==null&&(le=C),ce==null&&(ce=C),le.$const_get(ce)}):(A(F["$=~"](_(ee,"CONST_NAME_REGEXP")))||W.$raise(_("NameError").$new("wrong constant name "+F,F)),G?n.$$([re],F):n.const_get_local(re,F))},-2),k(e,"$const_missing",function(F){var G=this,re=C;return re=b(G,M)?F:""+G+"::"+F,W.$raise(_("NameError").$new("uninitialized constant "+re,F))}),k(e,"$const_set",function(F,G){var re=this;return V(re),F=ee["$const_name!"](F),(A(F["$!~"](_(ee,"CONST_NAME_REGEXP")))||A(F["$start_with?"]("::")))&&W.$raise(_("NameError").$new("wrong constant name "+F,F)),N(re,F,G),G}),k(e,"$public_constant",x(C)),k(e,"$define_method",function P(F,G){var re=P.$$p||C,ae=this,le=C,ce=C,de=C;return P.$$p=null,V(ae),G===void 0&&re===C&&W.$raise(_("ArgumentError"),"tried to create a Proc object without a block"),F=u(F),A(G!==void 0)&&(re=I(_("Proc"),le=G)?G:I(_("Method"),le)?G.$to_proc().$$unbound:I(_("UnboundMethod"),le)?n.wrap_method_body(G.$$method):W.$raise(_("TypeError"),"wrong argument type "+G.$class()+" (expected Proc/Method/UnboundMethod)"),A(!G.$$is_proc)&&(ce=G.$owner(),A(ce.$$is_class)&&s(f(ae,ce))&&(de=A(ce.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+ce,W.$raise(_("TypeError"),de)))),typeof Proxy<"u"&&(re.$$proxy_target=re,re=new Proxy(re,{apply:function(he,ve,me){var be=he.$$jsid,ie=he.$$is_lambda;he.$$jsid=F,he.$$is_lambda=!0;try{return he.apply(ve,me)}catch(T){if(T===he.$$brk||T===he.$$ret)return T.$v;throw T}finally{he.$$jsid=be,he.$$is_lambda=ie}}})),re.$$jsid=F,re.$$s=null,re.$$def=re,re.$$define_meth=!0,n.defn(ae,$e(F),re)},-2),k(e,"$freeze",function(){var F=this;return A(F["$frozen?"]())?F:(F.hasOwnProperty("$$base_module")||U(F,"$$base_module",null),p(F))}),k(e,"$remove_method",function(F){var G,re,ae=this;G=S(arguments),re=G;for(var le=0;le<re.length;le++){var ce=u(re[le]);V(ae),n.rdef(ae,"$"+ce)}return ae},-1),k(e,"$singleton_class?",function(){var F=this;return!!F.$$is_singleton}),k(e,"$include",function(F){var G,re,ae=this;G=S(arguments),re=G;for(var le=re.length-1;le>=0;le--){var ce=re[le];ce.$$is_module||W.$raise(_("TypeError"),"wrong argument type "+ce.$class()+" (expected Module)"),ce.$append_features(ae),ce.$included(ae)}return ae},-1),k(e,"$included_modules",function(){var F=this;return n.included_modules(F)}),k(e,"$include?",function(F){var G=this;F.$$is_module||W.$raise(_("TypeError"),"wrong argument type "+F.$class()+" (expected Module)");var re,ae,le,ce=n.ancestors(G);for(re=0,ae=ce.length;re<ae;re++)if(le=ce[re],le===F&&le!==G)return!0;return!1}),k(e,"$instance_method",function(F){var G=this,re=G.$$prototype[$e(F)];return(!re||re.$$stub)&&W.$raise(_("NameError").$new("undefined method `"+F+"' for class `"+G.$name()+"'",F)),_("UnboundMethod").$new(G,re.$$owner||G,re,F)}),k(e,"$instance_methods",function(F){var G=this;return F==null&&(F=!0),A(F)?n.instance_methods(G):n.own_instance_methods(G)},-1),k(e,"$included",x(C)),k(e,"$extended",x(C)),k(e,"$extend_object",function(F){return V(F),C}),k(e,"$method_added",function(F){return S(arguments),C},-1),k(e,"$method_removed",function(F){return S(arguments),C},-1),k(e,"$method_undefined",function(F){return S(arguments),C},-1),k(e,"$module_eval",function P(F){var G=P.$$p||C,re,ae,le,ce=this,de=C,he=C,ve=C,me=C,be=C,ie=C;P.$$p=null,re=S(arguments),ae=re,A(G["$nil?"]())&&A(!!n.compile)?(A(E(1,3,!1)["$cover?"](ae.$size()))||W.$raise(_("ArgumentError"),"wrong number of arguments (0 for 1..3)"),le=[].concat(B(ae)),de=le[0]==null?C:le[0],he=le[1]==null?C:le[1],le[2]==null||le[2],ve=new Map([["file",A(me=he)?me:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(ve),ie=ee.$compile(de,be),G=v(W,"proc",[],function Y(){var O=Y.$$s==null?this:Y.$$s;return new Function("Opal,self","return "+ie)(n,O)},{$$s:ce})):A(ae["$any?"]())&&W.$raise(_("ArgumentError"),"wrong number of arguments ("+ae.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var T=G.$$s,K;return G.$$s=null,K=G.apply(ce,[ce]),G.$$s=T,K},-1),k(e,"$module_exec",function P(F){var G=P.$$p||C,re,ae,le=this;P.$$p=null,re=S(arguments),ae=re,G===C&&W.$raise(_("LocalJumpError"),"no block given");var ce=G.$$s,de;return G.$$s=null,de=G.apply(le,ae),G.$$s=ce,de},-1),k(e,"$method_defined?",function(F){var G=this,re=G.$$prototype[$e(F)];return!!re&&!re.$$stub}),k(e,"$module_function",function(F){var G,re,ae=this;if(G=S(arguments),re=G,V(ae),re.length===0)return ae.$$module_function=!0,C;for(var le=0,ce=re.length;le<ce;le++){var de=re[le],he=$e(de),ve=ae.$$prototype[he];n.defs(ae,he,ve)}return re.length===1?re[0]:re},-1),k(e,"$name",function(){var F=this;if(F.$$full_name)return F.$$full_name;for(var G=[],re=F;re;){if(re.$$name===C||re.$$name==null)return C;if(G.unshift(re.$$name),re=re.$$base_module,re===M)break}return G.length===0?C:F.$$full_name=G.join("::")}),k(e,"$prepend",function(F){var G,re,ae=this;G=S(arguments),re=G,re.length===0&&W.$raise(_("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var le=re.length-1;le>=0;le--){var ce=re[le];ce.$$is_module||W.$raise(_("TypeError"),"wrong argument type "+ce.$class()+" (expected Module)"),ce.$prepend_features(ae),ce.$prepended(ae)}return ae},-1),k(e,"$prepend_features",function(F){var G=this;return V(F),G.$$is_module||W.$raise(_("TypeError"),"wrong argument type "+G.$class()+" (expected Module)"),n.prepend_features(G,F),G}),k(e,"$prepended",x(C)),k(e,"$remove_const",function(F){var G=this;return V(G),n.const_remove(G,F)}),k(e,"$to_s",function(){var F=this,G=C;return A(G=n.Module.$name.call(F))?G:"#<"+(F.$$is_module?"Module":"Class")+":0x"+F.$__id__().$to_s(16)+">"}),k(e,"$undef_method",function(F){var G,re,ae=this;G=S(arguments),re=G;for(var le=0;le<re.length;le++){var ce=u(re[le]);V(ae),n.udef(ae,"$"+ce)}return ae},-1),k(e,"$instance_variables",function(){var F=this,G=C;G=(n.Module.$$nesting=r,F.$constants());var re=[];return X(F,function(ae){ae!=="constructor"&&!G["$include?"](ae)&&re.push("@"+ae)}),re});function o(P,F){var G,re=n.own_instance_methods(P);for(G=0;G<re.length;G++){var ae=re[G],le=$e(ae),ce=P.$$prototype[le],de=n.wrap_method_body(ce);de.$$jsid=ae,n.defn(F,le,de)}}function y(P,F){for(var G=P.$$own_included_modules,re=G.length-1;re>=0;re--)n.append_features(G[re],F)}function R(P,F){for(var G=P.$$own_prepended_modules,re=G.length-1;re>=0;re--)n.prepend_features(G[re],F)}return k(e,"$initialize_copy",function(F){var G=this;return o(F,G),y(F,G),R(F,G),G.$$cloned_from=F.$$cloned_from.concat(F),G.$copy_class_variables(F),G.$copy_constants(F)}),k(e,"$initialize_dup",function P(F){var G=P.$$p||C,re=this;return P.$$p=null,g(re,c(re,"initialize_dup",P,!1,!0),"initialize_dup",[F],G),re.$copy_singleton_methods(F)}),k(e,"$copy_class_variables",function(F){var G=this;for(var re in F.$$cvars)G.$$cvars[re]=F.$$cvars[re]}),k(e,"$copy_constants",function(F){var G=this,re,ae=F.$$const;for(re in ae)N(G,re,ae[re])}),k(e,"$refine",function P(F){var G=P.$$p||C,re,ae=this,le=C,ce=C,de=C;return P.$$p=null,re=[ae,C,C],le=re[0],ce=re[1],de=re[2],de=n.id(F),typeof ae.$$refine_modules>"u"&&(ae.$$refine_modules=Object.create(null)),typeof ae.$$refine_modules[de]>"u"?ce=ae.$$refine_modules[de]=_("Refinement").$new():ce=ae.$$refine_modules[de],ce.refinement_module=le,ce.refined_class=F,v(ce,"class_exec",[],G.$to_proc()),ce}),k(e,"$refinements",function(){var F=this,G=F.$$refine_modules,re=new Map;if(typeof G>"u")return re;for(var ae in G)re["$[]="](G[ae].refined_class,G[ae]);return re}),k(e,"$using",function(F){return W.$raise("Module#using is not permitted in methods")}),l(e,"class_eval","module_eval"),l(e,"class_exec","module_exec"),l(e,"inspect","to_s")}("::",null,m),function(a,$){var t=H(a,$,"Refinement"),e=t.$$prototype;return e.refinement_module=e.refined_class=C,t.$attr_reader("refined_class"),k(t,"$inspect",function r(){var i=r.$$p||C,u=this;return r.$$p=null,A(u.refinement_module)?"#<refinement:"+u.refined_class.$inspect()+"@"+u.refinement_module.$inspect()+">":g(u,c(u,"inspect",r,!1,!0),"inspect",[],i)})}("::",z)};Opal.modules["corelib/class"]=function(n){var A=n.klass,h=n.send,N=n.defs,M=n.def,Q=n.ensure_kwargs,Z=n.hash_get,D=n.eqeq,V=n.truthy,p=n.rb_plus,U=n.return_val,$e=n.slice,X=n.send2,H=n.find_super,ee=n.Kernel,W=n.alias,j=n.top,v=[],k=n.nil,I=n.$$$;return n.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),j.$require("corelib/module"),function(z,L,w){var S=A(z,L,"Class"),B=[S].concat(w),x=n.$r(B);return N(S,"$new",function b(s){var f=b.$$p||k;if(b.$$p=null,s==null&&(s=x("Object")),!s.$$is_class)throw n.TypeError.$new("superclass must be a Class");var E=n.allocate_class(k,s);return s.$inherited(E),f!==k&&h(E,"class_eval",[],f.$to_proc()),E},-1),M(S,"$allocate",function(){var s=this,f=new s.$$constructor;return f.$$id=n.uid(),f}),M(S,"$clone",function(s){var f,E=this,g=k;return s=Q(s),f=Z(s,"freeze"),f==null&&(f=k),V(f["$nil?"]())||D(f,!0)||D(f,!1)||E.$raise(x("ArgumentError"),"unexpected value for freeze: "+f.$class()),g=n.allocate_class(k,E.$$super),g.$copy_instance_variables(E),g.$copy_singleton_methods(E),g.$initialize_clone(E,new Map([["freeze",f]])),(D(f,!0)||V(f["$nil?"]())&&V(E["$frozen?"]()))&&g.$freeze(),g},-1),M(S,"$dup",function(){var s=this,f=k;return f=n.allocate_class(k,s.$$super),f.$copy_instance_variables(s),f.$initialize_dup(s),f}),M(S,"$descendants",function(){var s=this;return p(s.$subclasses(),h(s.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),M(S,"$inherited",U(k)),M(S,"$new",function b(s){var f=b.$$p||k,E,g,c=this;b.$$p=null,E=$e(arguments),g=E;var l=c.$allocate();return n.send(l,l.$initialize,g,f),l},-1),M(S,"$subclasses",function(){var s=this;if(typeof WeakRef<"u"){var f,E,g=[];for(f=0;f<s.$$subclasses.length;f++)E=s.$$subclasses[f].deref(),E!==void 0&&g.push(E);return g}else return s.$$subclasses}),M(S,"$superclass",function(){var s=this;return s.$$super||k}),M(S,"$to_s",function b(){b.$$p;var s=this;b.$$p=null;var f=s.$$singleton_of;return f&&f.$$is_a_module?"#<Class:"+f.$name()+">":f?"#<Class:#<"+f.$$class.$name()+":0x"+n.id(f).$to_s(16)+">>":X(s,H(s,"to_s",b,!1,!0),"to_s",[],null)}),M(S,"$attached_object",function(){var s=this;if(s.$$singleton_of!=null)return s.$$singleton_of;ee.$raise(I("TypeError"),"`"+s+"' is not a singleton class")}),W(S,"inspect","to_s")}("::",null,v)};Opal.modules["corelib/basic_object"]=function(n){var A=n.klass,h=n.slice,N=n.def,M=n.alias,Q=n.return_val,Z=n.Opal,D=n.truthy,V=n.range,p=n.Kernel,U=n.to_a,$e=n.send,X=n.eqeq,H=n.rb_ge,ee=n.nil,W=n.$$$;return n.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(j,v){var k=A(j,v,"BasicObject");return N(k,"$initialize",function(z){return h(arguments),ee},-1),N(k,"$==",function(z){var L=this;return L===z}),N(k,"$eql?",function(z){var L=this;return L["$=="](z)}),M(k,"equal?","=="),N(k,"$__id__",function(){var z=this;return z.$$id!=null||n.prop(z,"$$id",n.uid()),z.$$id}),N(k,"$__send__",function I(z,L){var w=I.$$p||ee,S,B,x=this;I.$$p=null,S=h(arguments,1),B=S,z.$$is_string||x.$raise(W("TypeError"),""+x.$inspect()+" is not a symbol nor a string");var b=x[n.jsid(z)];return b?(w!==ee&&(b.$$p=w),b.apply(x,B)):(w!==ee&&(x.$method_missing.$$p=w),x.$method_missing.apply(x,[z].concat(B)))},-2),N(k,"$!",Q(!1)),Z.$pristine("!"),N(k,"$!=",function(z){var L=this;return L["$=="](z)["$!"]()}),N(k,"$instance_eval",function I(z){var L=I.$$p||ee,w,S,B,x=this,b=ee,s=ee,f=ee,E=ee,g=ee,c=ee;if(I.$$p=null,w=h(arguments),S=w,D(L["$nil?"]())&&D(!!n.compile))D(V(1,3,!1)["$cover?"](S.$size()))||p.$raise(W("ArgumentError"),"wrong number of arguments (0 for 1..3)"),B=[].concat(U(S)),b=B[0]==null?ee:B[0],s=B[1]==null?ee:B[1],B[2]==null||B[2],f=new Map([["file",D(E=s)?E:"(eval)"],["eval",!0]]),g=new Map([["arity_check",!1]]).$merge(f),c=Z.$compile(b,g),L=$e(p,"proc",[],function C(){var _=C.$$s==null?this:C.$$s;return new Function("Opal,self","return "+c)(n,_)},{$$s:x});else{if(D(L["$nil?"]())&&D(H(S.$length(),1))&&X(S.$first()["$[]"](0),"@"))return x.$instance_variable_get(S.$first());D(S["$any?"]())&&p.$raise(W("ArgumentError"),"wrong number of arguments ("+S.$size()+" for 0)")}var l=L.$$s,m;if(L.$$s=null,x.$$is_a_module){x.$$eval=!0;try{m=L.call(x,x)}finally{x.$$eval=!1}}else m=L.call(x,x);return L.$$s=l,m},-1),N(k,"$instance_exec",function I(z){var L=I.$$p||ee,w,S,B=this;I.$$p=null,w=h(arguments),S=w,D(L)||p.$raise(W("ArgumentError"),"no block given");var x=L.$$s,b;if(L.$$s=null,B.$$is_a_module){B.$$eval=!0;try{b=L.apply(B,S)}finally{B.$$eval=!1}}else b=L.apply(B,S);return L.$$s=x,b},-1),N(k,"$singleton_method_added",function(z){return h(arguments),ee},-1),N(k,"$singleton_method_removed",function(z){return h(arguments),ee},-1),N(k,"$singleton_method_undefined",function(z){return h(arguments),ee},-1),N(k,"$method_missing",function I(z,L){I.$$p;var w,S,B=this,x=ee;return I.$$p=null,w=h(arguments,1),S=w,x=Z.$inspect(B),p.$raise(W("NoMethodError").$new("undefined method `"+z+"' for "+x,z,S),ee,p.$caller(1))},-2),Z.$pristine(k,"method_missing"),N(k,"$respond_to_missing?",function(z,L){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(n){var A=n.truthy,h=n.coerce_to,N=n.respond_to,M=n.Opal,Q=n.deny_frozen_access,Z=n.freeze,D=n.freeze_props,V=n.jsid,p=n.each_ivar,U=n.module,$e=n.return_val,X=n.def,H=n.Kernel,ee=n.gvars,W=n.slice,j=n.send,v=n.to_a,k=n.ensure_kwargs,I=n.hash_get,z=n.eqeq,L=n.rb_plus,w=n.extract_kwargs,S=n.eqeqeq,B=n.return_self,x=n.rb_le,b=n.rb_lt,s=n.Object,f=n.alias,E=n.klass,g=[],c=n.nil,l=n.$$$;return n.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(m,C){var _=U(m,"Kernel"),a=[_].concat(C),$=n.$r(a);X(_,"$=~",$e(!1)),X(_,"$!~",function(r){var i=this;return i["$=~"](r)["$!"]()}),X(_,"$===",function(r){var i=this,u=c;return A(u=i.$object_id()["$=="](r.$object_id()))?u:i["$=="](r)}),X(_,"$<=>",function(r){var i=this;i.$$comparable=!0;var u=i["$=="](r);return u&&u!==c?0:c}),X(_,"$method",function(r){var i=this,u=i[V(r)];return(!u||u.$$stub)&&H.$raise(l("NameError").$new("undefined method `"+r+"' for class `"+i.$class()+"'",r)),l("Method").$new(i,u.$$owner||i.$class(),u,r)}),X(_,"$methods",function(r){var i=this;return r==null&&(r=!0),A(r)?n.methods(i):n.own_methods(i)},-1),X(_,"$public_methods",function(r){var i=this;return r==null&&(r=!0),A(r)?n.methods(i):n.receiver_methods(i)},-1),X(_,"$Array",function(r){var i;return r===c?[]:r.$$is_array?r:(i=M["$coerce_to?"](r,l("Array"),"to_ary"),i!==c||(i=M["$coerce_to?"](r,l("Array"),"to_a"),i!==c)?i:[r])}),X(_,"$at_exit",function e(){var r=e.$$p||c,i=c;return ee.__at_exit__==null&&(ee.__at_exit__=c),e.$$p=null,ee.__at_exit__=A(i=ee.__at_exit__)?i:[],ee.__at_exit__["$<<"](r),r}),X(_,"$caller",function(r,i){r==null&&(r=1),i==null&&(i=c);var u,o;u=new Error().$backtrace(),o=[];for(var y=r+1,R=u.length;y<R;y++)u[y].match(/runtime\.js/)||o.push(u[y]);return i!=c&&(o=o.slice(0,i)),o},-1),X(_,"$caller_locations",function(r){var i,u,o=this;return i=W(arguments),u=i,j(j(o,"caller",v(u)),"map",[],function(R){return R==null&&(R=c),l(l(l("Thread"),"Backtrace"),"Location").$new(R)})},-1),X(_,"$class",function(){var r=this;return r.$$class}),X(_,"$copy_instance_variables",function(r){var i=this,u=Object.keys(r),o,y,R;for(o=0,y=u.length;o<y;o++)R=u[o],R.charAt(0)!=="$"&&r.hasOwnProperty(R)&&(i[R]=r[R])}),X(_,"$copy_singleton_methods",function(r){var i=this,u,o,y,R;if(r.hasOwnProperty("$$meta")&&r.$$meta!==null){var P=n.get_singleton_class(r),F=n.get_singleton_class(i);for(y=Object.getOwnPropertyNames(P.$$prototype),u=0,R=y.length;u<R;u++)o=y[u],n.is_method(o)&&(F.$$prototype[o]=P.$$prototype[o]);F.$$const=Object.assign({},P.$$const),Object.setPrototypeOf(F.$$prototype,Object.getPrototypeOf(P.$$prototype))}for(u=0,y=Object.getOwnPropertyNames(r),R=y.length;u<R;u++)o=y[u],o.charAt(0)==="$"&&o.charAt(1)!=="$"&&r.hasOwnProperty(o)&&(i[o]=r[o])}),X(_,"$clone",function(r){var i,u=this,o=c;return r=k(r),i=I(r,"freeze"),i==null&&(i=c),A(i["$nil?"]())||z(i,!0)||z(i,!1)||u.$raise($("ArgumentError"),"unexpected value for freeze: "+i.$class()),o=u.$class().$allocate(),o.$copy_instance_variables(u),o.$copy_singleton_methods(u),o.$initialize_clone(u,new Map([["freeze",i]])),(z(i,!0)||A(i["$nil?"]())&&A(u["$frozen?"]()))&&o.$freeze(),o},-1),X(_,"$initialize_clone",function(r,i){var u=this;return i=k(i),I(i,"freeze"),u.$initialize_copy(r),u},-2),X(_,"$define_singleton_method",function e(r,i){var u=e.$$p||c,o=this;return e.$$p=null,j(o.$singleton_class(),"define_method",[r,i],u.$to_proc())},-2),X(_,"$dup",function(){var r=this,i=c;return i=r.$class().$allocate(),i.$copy_instance_variables(r),i.$initialize_dup(r),i}),X(_,"$initialize_dup",function(r){var i=this;return i.$initialize_copy(r)}),X(_,"$enum_for",function e(r,i){var u=e.$$p||c,o,y,R,P=this;return e.$$p=null,o=W(arguments),o.length>0&&(y=o.shift()),y==null&&(y="each"),R=o,j(l("Enumerator"),"for",[P,y].concat(v(R)),u.$to_proc())},-1),X(_,"$equal?",function(r){var i=this;return i===r}),X(_,"$exit",function(r){var i=c,u=c;for(ee.__at_exit__==null&&(ee.__at_exit__=c),r==null&&(r=!0),ee.__at_exit__=A(i=ee.__at_exit__)?i:[];!A(ee.__at_exit__["$empty?"]());)u=ee.__at_exit__.$pop(),u.$call();return r.$$is_boolean?r=r?0:1:r=h(r,l("Integer"),"to_int"),n.exit(r),c},-1),X(_,"$extend",function(r){var i,u,o=this;i=W(arguments),u=i,u.length==0&&o.$raise(l("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),Q(o);for(var y=o.$singleton_class(),R=u.length-1;R>=0;R--){var P=u[R];P.$$is_module||H.$raise(l("TypeError"),"wrong argument type "+P.$class()+" (expected Module)"),P.$append_features(y),P.$extend_object(o),P.$extended(o)}return o},-1),X(_,"$freeze",function(){var r=this;return A(r["$frozen?"]())?r:typeof r=="object"?(D(r),Z(r)):r}),X(_,"$frozen?",function(){var r=this;switch(typeof r){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return r.$$frozen||!1;default:return!1}}),X(_,"$gets",function(r){var i,u;return ee.stdin==null&&(ee.stdin=c),i=W(arguments),u=i,j(ee.stdin,"gets",v(u))},-1),X(_,"$hash",function(){var r=this;return r.$__id__()}),X(_,"$initialize_copy",$e(c));var t=[];return X(_,"$inspect",function(){var r=this,i=c,u=c,o=c,y=c;return function(){try{try{return i="",u=r.$__id__(),A(t["$include?"](u))?i=" ...":(t["$<<"](u),o=!0,j(r.$instance_variables(),"each",[],function R(P){var F=R.$$s==null?this:R.$$s,G=c,re=c;return P==null&&(P=c),G=F.$instance_variable_get(P),re=$("Opal").$inspect(G),i=L(i," "+P+"="+re)},{$$s:r})),"#<"+r.$class()+":0x"+u.$to_s(16)+i+">"}catch(R){if(n.rescue(R,[$("StandardError")])){y=R;try{return"#<"+r.$class()+":0x"+u.$to_s(16)+">"}finally{n.pop_exception(R)}}else throw R}}finally{A(o)&&t.$pop()}}()}),X(_,"$instance_of?",function(r){var i=this;return!r.$$is_class&&!r.$$is_module&&H.$raise(l("TypeError"),"class or module required"),i.$$class===r}),X(_,"$instance_variable_defined?",function(r){var i=this;return r=M["$instance_variable_name!"](r),n.hasOwnProperty.call(i,r.substr(1))}),X(_,"$instance_variable_get",function(r){var i=this;r=M["$instance_variable_name!"](r);var u=i[n.ivar(r.substr(1))];return u??c}),X(_,"$instance_variable_set",function(r,i){var u=this;return Q(u),r=M["$instance_variable_name!"](r),u[n.ivar(r.substr(1))]=i}),X(_,"$remove_instance_variable",function(r){var i=this;r=M["$instance_variable_name!"](r);var u=n.ivar(r.substr(1)),o;return i.hasOwnProperty(u)?(o=i[u],delete i[u],o):H.$raise(l("NameError"),"instance variable "+r+" not defined")}),X(_,"$instance_variables",function(){var r=this,i=[];return p(r,function(u){u.substr(-1)==="$"&&(u=u.slice(0,u.length-1)),i.push("@"+u)}),i}),X(_,"$Integer",function(r,i,u){var o,y,R,P;o=W(arguments,1),y=w(o),y=k(y),o.length>0&&(R=o.shift()),P=I(y,"exception"),P==null&&(P=!0);var F,G,re;if(P=A(P),!r.$$is_string){if(R!==void 0)if(P)H.$raise(l("ArgumentError"),"base specified for non string value");else return c;if(r===c)if(P)H.$raise(l("TypeError"),"can't convert nil into Integer");else return c;if(r.$$is_number){if(r===1/0||r===-1/0||isNaN(r))if(P)H.$raise(l("FloatDomainError"),r);else return c;return Math.floor(r)}if(r["$respond_to?"]("to_int")&&(F=r.$to_int(),n.is_a(F,l("Integer")))||r["$respond_to?"]("to_i")&&(F=r.$to_i(),n.is_a(F,l("Integer"))))return F;if(P)H.$raise(l("TypeError"),"can't convert "+r.$class()+" into Integer");else return c}if(r==="0")return 0;if(R===void 0)R=0;else if(R=h(R,l("Integer"),"to_int"),R===1||R<0||R>36)if(P)H.$raise(l("ArgumentError"),"invalid radix "+R);else return c;if(G=r.toLowerCase(),G=G.replace(/(\d)_(?=\d)/g,"$1"),G=G.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ae,le,ce){switch(ce){case"0b":if(R===0||R===2)return R=2,le;case"0":case"0o":if(R===0||R===8)return R=8,le;case"0d":if(R===0||R===10)return R=10,le;case"0x":if(R===0||R===16)return R=16,le}if(P)H.$raise(l("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c}),R=R===0?10:R,re="0-"+(R<=10?R-1:"9a-"+String.fromCharCode(97+(R-11))),!new RegExp("^\\s*[+-]?["+re+"]+\\s*$").test(G))if(P)H.$raise(l("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c;if(F=parseInt(G,R),isNaN(F))if(P)H.$raise(l("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c;return F},-2),X(_,"$Float",function(r,i){var u;i=k(i),u=I(i,"exception"),u==null&&(u=!0);var o;if(u=A(u),r===c)if(u)H.$raise(l("TypeError"),"can't convert nil into Float");else return c;if(r.$$is_string){if(o=r.toString(),o=o.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(o))return H.$Integer(o);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(o))if(u)H.$raise(l("ArgumentError"),'invalid value for Float(): "'+r+'"');else return c;return parseFloat(o)}return u?M["$coerce_to!"](r,l("Float"),"to_f"):h(r,l("Float"),"to_f")},-2),X(_,"$Hash",function(r){return A(r["$nil?"]())||z(r,[])?new Map:S(l("Hash"),r)?r:M["$coerce_to!"](r,l("Hash"),"to_hash")}),X(_,"$is_a?",function(r){var i=this;return!r.$$is_class&&!r.$$is_module&&H.$raise(l("TypeError"),"class or module required"),n.is_a(i,r)}),X(_,"$itself",B),X(_,"$lambda",function e(){var r=e.$$p||c;return e.$$p=null,n.lambda(r)}),X(_,"$load",function(r){return r=M["$coerce_to!"](r,l("String"),"to_str"),n.load(r)}),X(_,"$loop",function e(){var r=e.$$p||c,i=this,u=c;if(e.$$p=null,r===c)return j(i,"enum_for",["loop"],function(){return l(l("Float"),"INFINITY")});for(;A(!0);)try{n.yieldX(r,[])}catch(o){if(n.rescue(o,[l("StopIteration")])){u=o;try{return u.$result()}finally{n.pop_exception(o)}}else throw o}return i}),X(_,"$nil?",$e(!1)),X(_,"$printf",function(r){var i,u,o=this,y=c;return ee.stdout==null&&(ee.stdout=c),i=W(arguments),u=i,A(u["$empty?"]())||(y=A(u[0].$$is_string)?ee.stdout:u.$shift(),y.$write(j(o,"format",v(u)))),c},-1),X(_,"$proc",function e(){var r=e.$$p||c;return e.$$p=null,A(r)||H.$raise(l("ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r}),X(_,"$puts",function(r){var i,u;return ee.stdout==null&&(ee.stdout=c),i=W(arguments),u=i,j(ee.stdout,"puts",v(u))},-1),X(_,"$p",function(r){var i,u;return i=W(arguments),u=i,j(u,"each",[],function(y){return ee.stdout==null&&(ee.stdout=c),y==null&&(y=c),ee.stdout.$puts(y.$inspect())}),A(x(u.$length(),1))?u["$[]"](0):u},-1),X(_,"$print",function(r){var i,u;return ee.stdout==null&&(ee.stdout=c),i=W(arguments),u=i,j(ee.stdout,"print",v(u))},-1),X(_,"$readline",function(r){var i,u;return ee.stdin==null&&(ee.stdin=c),i=W(arguments),u=i,j(ee.stdin,"readline",v(u))},-1),X(_,"$warn",function(r,i){var u,o,y,R,P,F,G=this,re=c;return ee.VERBOSE==null&&(ee.VERBOSE=c),ee.stderr==null&&(ee.stderr=c),u=W(arguments),o=w(u),o=k(o),y=u,R=I(o,"uplevel"),R==null&&(R=c),A(R)&&(R=M["$coerce_to!"](R,l("Integer"),"to_str"),A(b(R,0))&&H.$raise(l("ArgumentError"),"negative level ("+R+")"),re=(P=(F=G.$caller(L(R,1),1).$first(),F===c||F==null?c:F.$split(":in `")),P===c||P==null?c:P.$first()),A(re)&&(re=""+re+": "),y=j(y,"map",[],function(le){return le==null&&(le=c),""+re+"warning: "+le})),A(ee.VERBOSE["$nil?"]())||A(y["$empty?"]())?c:j(ee.stderr,"puts",v(y))},-1),X(_,"$raise",function(r,i,u){throw ee["!"]==null&&(ee["!"]=c),i==null&&(i=c),u==null&&(u=c),r==null&&ee["!"]!==c?ee["!"]:(r==null?r=l("RuntimeError").$new(""):N(r,"$to_str")?r=l("RuntimeError").$new(r.$to_str()):r.$$is_class&&N(r,"$exception")?r=r.$exception(i):r.$$is_exception||(r=l("TypeError").$new("exception class/object expected")),u!==c&&r.$set_backtrace(u),ee["!"]!==c&&n.exceptions.push(ee["!"]),ee["!"]=r,r)},-1),X(_,"$rand",function(r){return r===void 0?l(l("Random"),"DEFAULT").$rand():(r.$$is_number&&(r<0&&(r=Math.abs(r)),r%1!==0&&(r=r.$to_i()),r===0&&(r=void 0)),l(l("Random"),"DEFAULT").$rand(r))},-1),X(_,"$respond_to?",function(r,i){var u=this;i==null&&(i=!1);var o=u[V(r)];return typeof o=="function"&&!o.$$stub?!0:u["$respond_to_missing?"].$$pristine===!0?!1:u["$respond_to_missing?"](r,i)},-2),X(_,"$respond_to_missing?",function(r,i){return!1},-2),M.$pristine(_,"respond_to?","respond_to_missing?"),X(_,"$require",function(r){return typeof r!="string"&&n.String&&n.Array&&(r=M["$coerce_to!"](r,l("String"),"to_str")),n.require(r)}),X(_,"$require_relative",function(r){return M["$try_convert!"](r,l("String"),"to_str"),r=l("File").$expand_path(l("File").$join(n.current_file,"..",r)),n.require(r)}),X(_,"$require_tree",function(r,i){var u;i=k(i),u=I(i,"autoload"),u==null&&(u=!1);var o=[];r=l("File").$expand_path(r),r=n.normalize(r),r==="."&&(r="");for(var y in n.modules)y["$start_with?"](r)&&(u?o.push([y,!0]):o.push([y,n.require(y)]));return o},-2),X(_,"$singleton_class",function(){var r=this;return n.get_singleton_class(r)}),X(_,"$sleep",function(r){r==null&&(r=c),r===c&&H.$raise(l("TypeError"),"can't convert NilClass into time interval"),r.$$is_number||H.$raise(l("TypeError"),"can't convert "+r.$class()+" into time interval"),r<0&&H.$raise(l("ArgumentError"),"time interval must be positive");for(var i=n.global.performance?function(){return performance.now()}:function(){return new Date},u=i();i()-u<=r*1e3;);return Math.round(r)},-1),X(_,"$srand",function(r){return r==null&&(r=$("Random").$new_seed()),l("Random").$srand(r)},-1),X(_,"$String",function(r){var i=c;return A(i=M["$coerce_to?"](r,l("String"),"to_str"))?i:M["$coerce_to!"](r,l("String"),"to_s")}),X(_,"$tap",function e(){var r=e.$$p||c,i=this;return e.$$p=null,n.yield1(r,i),i}),X(_,"$to_proc",B),X(_,"$to_s",function(){var r=this;return"#<"+r.$class()+":0x"+r.$__id__().$to_s(16)+">"}),X(_,"$catch",function e(r){var i=e.$$p||c,u=c,o=c;e.$$p=null,r==null&&(r=c);try{return r=A(u=r)?u:s.$new(),n.yield1(i,r)}catch(y){if(n.rescue(y,[l("UncaughtThrowError")])){o=y;try{return z(o.$tag(),r)?o.$value():H.$raise()}finally{n.pop_exception(y)}}else throw y}},-1),X(_,"$throw",function(r,i){return i==null&&(i=c),H.$raise(l("UncaughtThrowError").$new(r,i))},-2),X(_,"$open",function e(r){var i=e.$$p||c,u,o;return e.$$p=null,u=W(arguments),o=u,j(l("File"),"open",v(o),i.$to_proc())},-1),X(_,"$yield_self",function e(){var r=e.$$p||c,i=this;return e.$$p=null,r===c?j(i,"enum_for",["yield_self"],$e(1)):n.yield1(r,i)}),f(_,"fail","raise"),f(_,"kind_of?","is_a?"),f(_,"object_id","__id__"),f(_,"public_send","__send__"),f(_,"send","__send__"),f(_,"then","yield_self"),f(_,"to_enum","enum_for")}("::",g),function(m,C){var _=E(m,C,"Object");return delete s.$$prototype.$require,_.$include(H)}("::",null)};Opal.modules["corelib/main"]=function(n){var A=n.return_val,h=n.def,N=n.Object,M=n.slice,Q=n.Kernel,Z=n.top;return n.nil,n.add_stubs("include,raise"),function(D,V){return h(D,"$to_s",A("main")),h(D,"$include",function(U){return N.$include(U)}),h(D,"$autoload",function(U){var $e,X;return $e=M(arguments),X=$e,n.Object.$autoload.apply(n.Object,X)},-1),h(D,"$using",function(U){return Q.$raise("main.using is permitted only at toplevel")})}(n.get_singleton_class(Z))};Opal.modules["corelib/error/errno"]=function(n){var A=n.module,h=n.truthy,N=n.rb_plus,M=n.send2,Q=n.find_super,Z=n.def,D=n.klass,V=n.nil,p=n.$$$;return n.add_stubs("+,errno,class,attr_reader"),function(U,$e){var X=A(U,"Errno"),H=V,ee=V;H=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],ee=V;var W;for(W=0;W<H.length;W++)(function(){var j=H[W][0],v=H[W][1],k=H[W][2];ee=n.klass(X,n.SystemCallError,j),ee.errno=k,function(I,z){return Z(I,"$new",function L(w){L.$$p;var S=this,B=V;return L.$$p=null,w==null&&(w=V),B=v,h(w)&&(B=N(B," - "+w)),M(S,Q(S,"new",L,!1,!0),"new",[B],null)},-1)}(n.get_singleton_class(ee))})()}("::"),function(U,$e,X){var H=D(U,$e,"SystemCallError");return Z(H,"$errno",function(){var W=this;return W.$class().$errno()}),function(ee,W){return ee.$attr_reader("errno")}(n.get_singleton_class(H))}("::",p("StandardError"))};Opal.modules["corelib/error"]=function(n){var A=n.klass,h=n.slice,N=n.gvars,M=n.defs,Q=n.send,Z=n.to_a,D=n.def,V=n.send2,p=n.find_super,U=n.truthy,$e=n.Kernel,X=n.not,H=n.rb_plus,ee=n.eqeq,W=n.Object,j=n.ensure_kwargs,v=n.hash_get,k=n.module,I=[],z=n.nil,L=n.$$$;return n.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(w,S,B){var x=A(w,S,"Exception"),b=[x].concat(B),s=n.$r(b),f=x.$$prototype;f.message=z,n.prop(x.$$prototype,"$$is_exception",!0);var E;Error.stackTraceLimit=100,M(x,"$new",function(l){var m,C,_=this;N["!"]==null&&(N["!"]=z),m=h(arguments),C=m;var a=C.length>0?C[0]:z,$=new _.$$constructor(a);return $.name=_.$$name,$.message=a,$.cause=N["!"],n.send($,$.$initialize,C),n.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace($,E),$},-1),E=x.$new,M(x,"$exception",function(l){var m,C,_=this;return m=h(arguments),C=m,Q(_,"new",Z(C))},-1),D(x,"$initialize",function(l){var m,C,_=this;return m=h(arguments),C=m,_.message=C.length>0?C[0]:z},-1),D(x,"$copy_instance_variables",function c(l){var m=c.$$p||z,C=this;c.$$p=null,V(C,p(C,"copy_instance_variables",c,!1,!0),"copy_instance_variables",[l],m),C.message=l.message,C.cause=l.cause,C.stack=l.stack});function g(c){for(var l=[],m,C=0;C<c.length;C++){var _=c[C];!_||!_.$$is_string||((m=_.match(/^    at (.*?) \((.*?)\)$/))?l.push(m[2]+":in `"+m[1]+"'"):(m=_.match(/^    at (.*?)$/))?l.push(m[1]+":in `undefined'"):(m=_.match(/^  from (.*?)$/))?l.push(m[1]):(m=_.match(/^(.*?)@(.*?)$/))&&l.push(m[2]+":in `"+m[1]+"'"))}return l}return D(x,"$backtrace",function(){var l=this;if(l.backtrace)return l.backtrace;var m=l.stack;return typeof m<"u"&&m.$$is_string?l.backtrace=g(m.split(`
`)):m?l.backtrace=g(m):[]}),D(x,"$backtrace_locations",function(){var l,m=this;return m.backtrace_locations||(m.backtrace_locations=(l=m.$backtrace(),l===z||l==null?z:Q(l,"map",[],function(_){return _==null&&(_=z),L(L(L("Thread"),"Backtrace"),"Location").$new(_)}))),m.backtrace_locations}),D(x,"$cause",function(){var l=this;return l.cause||z}),D(x,"$exception",function(l){var m=this;if(l==null&&(l=z),l===z||m===l)return m;var C=m.$clone();return C.message=l,m.backtrace&&(C.backtrace=m.backtrace.$dup()),C.stack=m.stack,C.cause=m.cause,C},-1),D(x,"$message",function(){var l=this;return l.$to_s()}),D(x,"$full_message",function(l){var m,C=this,_=z,a=z,$=z,t=z,e=z,r=z,i=z,u=z,o=z;return N.stderr==null&&(N.stderr=z),l==null&&(l=z),U(s("Hash","skip_raise")?"constant":z)?(l=new Map([["highlight",N.stderr["$tty?"]()],["order","top"]]).$merge(U(_=l)?_:new Map),m=[l["$[]"]("highlight"),l["$[]"]("order")],a=m[0],$=m[1],U([!0,!1]["$include?"](a))||$e.$raise(L("ArgumentError"),"expected true or false as highlight: "+a),U(["top","bottom"]["$include?"]($))||$e.$raise(L("ArgumentError"),"expected :top or :bottom as order: "+$),U(a)?(t="\x1B[1;4m",e="\x1B[1m",r="\x1B[m"):t=e=r="",i=C.$backtrace().$dup(),(X(i)||U(i["$empty?"]()))&&(i=C.$caller()),u=i.$shift(),o=""+u+": ",o=H(o,""+e+C.$to_s()+" ("+t+C.$class()+r+e+")"+r+`
`),o=H(o,Q(i,"map",[],function(R){return R==null&&(R=z),"	from "+R+`
`}).$join()),U(C.$cause())&&(o=H(o,C.$cause().$full_message(new Map([["highlight",a]])))),ee($,"bottom")&&(o=o.$split(`
`).$reverse().$join(`
`),o=H(""+e+"Traceback"+r+` (most recent call last):
`,o)),o):""+C.message+`
`+C.stack},-1),D(x,"$inspect",function(){var l=this,m=z;return m=l.$to_s(),U(m["$empty?"]())?l.$class().$to_s():"#<"+l.$class().$to_s()+": "+l.$to_s()+">"}),D(x,"$set_backtrace",function(l){var m=this,C=!0,_,a;if(l===z)m.backtrace=z,m.stack="";else if(l.$$is_string)m.backtrace=[l],m.stack="  from "+l;else{if(l.$$is_array){for(_=0,a=l.length;_<a;_++)if(!l[_].$$is_string){C=!1;break}}else C=!1;C===!1&&$e.$raise(L("TypeError"),"backtrace must be Array of String"),m.backtrace=l,m.stack=Q(l,"map",[],function(t){return t==null&&(t=z),H("  from ",t)}).join(`
`)}return l}),D(x,"$to_s",function(){var l=this,m=z,C=z;return U(m=U(C=l.message)?l.message.$to_s():C)?m:l.$class().$to_s()})}("::",Error,I),A("::",L("Exception"),"ScriptError"),A("::",L("ScriptError"),"SyntaxError"),A("::",L("ScriptError"),"LoadError"),A("::",L("ScriptError"),"NotImplementedError"),A("::",L("Exception"),"SystemExit"),A("::",L("Exception"),"NoMemoryError"),A("::",L("Exception"),"SignalException"),A("::",L("SignalException"),"Interrupt"),A("::",L("Exception"),"SecurityError"),A("::",L("Exception"),"SystemStackError"),A("::",L("Exception"),"StandardError"),A("::",L("StandardError"),"EncodingError"),A("::",L("StandardError"),"ZeroDivisionError"),A("::",L("StandardError"),"NameError"),A("::",L("NameError"),"NoMethodError"),A("::",L("StandardError"),"RuntimeError"),A("::",L("RuntimeError"),"FrozenError"),A("::",L("StandardError"),"LocalJumpError"),A("::",L("StandardError"),"TypeError"),A("::",L("StandardError"),"ArgumentError"),A("::",L("ArgumentError"),"UncaughtThrowError"),A("::",L("StandardError"),"IndexError"),A("::",L("IndexError"),"StopIteration"),A("::",L("StopIteration"),"ClosedQueueError"),A("::",L("IndexError"),"KeyError"),A("::",L("StandardError"),"RangeError"),A("::",L("RangeError"),"FloatDomainError"),A("::",L("StandardError"),"IOError"),A("::",L("IOError"),"EOFError"),A("::",L("StandardError"),"SystemCallError"),A("::",L("StandardError"),"RegexpError"),A("::",L("StandardError"),"ThreadError"),A("::",L("StandardError"),"FiberError"),W.$autoload("Errno","corelib/error/errno"),function(w,S){var B=A(w,S,"FrozenError");return B.$attr_reader("receiver"),D(B,"$initialize",function x(b,s){var f;x.$$p;var E=this;return x.$$p=null,s=j(s),f=v(s,"receiver"),f==null&&(f=z),V(E,p(E,"initialize",x,!1,!0),"initialize",[b],null),E.receiver=f},-2)}("::",L("RuntimeError")),function(w,S){var B=A(w,S,"UncaughtThrowError"),x=B.$$prototype;return x.tag=z,B.$attr_reader("tag","value"),D(B,"$initialize",function b(s,f){b.$$p;var E=this;return b.$$p=null,f==null&&(f=z),E.tag=s,E.value=f,V(E,p(E,"initialize",b,!1,!0),"initialize",["uncaught throw "+E.tag.$inspect()],null)},-2)}("::",L("ArgumentError")),function(w,S){var B=A(w,S,"NameError");return B.$attr_reader("name"),D(B,"$initialize",function x(b,s){x.$$p;var f=this;return x.$$p=null,s==null&&(s=z),V(f,p(f,"initialize",x,!1,!0),"initialize",[b],null),f.name=s},-2)}("::",null),function(w,S){var B=A(w,S,"NoMethodError");return B.$attr_reader("args"),D(B,"$initialize",function x(b,s,f){x.$$p;var E=this;return x.$$p=null,s==null&&(s=z),f==null&&(f=[]),V(E,p(E,"initialize",x,!1,!0),"initialize",[b,s],null),E.args=f},-2)}("::",null),function(w,S){var B=A(w,S,"StopIteration");return B.$attr_reader("result")}("::",null),function(w,S){var B=A(w,S,"KeyError"),x=B.$$prototype;return x.receiver=x.key=z,D(B,"$initialize",function b(s,f){var E,g;b.$$p;var c=this;return b.$$p=null,f=j(f),E=v(f,"receiver"),E==null&&(E=z),g=v(f,"key"),g==null&&(g=z),V(c,p(c,"initialize",b,!1,!0),"initialize",[s],null),c.receiver=E,c.key=g},-2),D(B,"$receiver",function(){var s=this,f=z;return U(f=s.receiver)?f:$e.$raise(L("ArgumentError"),"no receiver is available")}),D(B,"$key",function(){var s=this,f=z;return U(f=s.key)?f:$e.$raise(L("ArgumentError"),"no key is available")})}("::",null),function(w,S){var B=A(w,S,"LocalJumpError");return B.$attr_reader("exit_value","reason"),D(B,"$initialize",function x(b,s,f){x.$$p;var E=this;return x.$$p=null,s==null&&(s=z),f==null&&(f="noreason"),V(E,p(E,"initialize",x,!1,!0),"initialize",[b],null),E.exit_value=s,E.reason=f},-2)}("::",null),function(w,S){var B=k(w,"JS"),x=[B].concat(S);return A(x[0],null,"Error"),z}("::",I)};Opal.modules["corelib/constants"]=function(n){var A=n.const_set;n.nil;var h=n.$$$;return A("::","RUBY_PLATFORM","opal"),A("::","RUBY_ENGINE","opal"),A("::","RUBY_VERSION","3.2.0"),A("::","RUBY_ENGINE_VERSION","1.8.2"),A("::","RUBY_RELEASE_DATE","2023-11-23"),A("::","RUBY_PATCHLEVEL",0),A("::","RUBY_REVISION","0"),A("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),A("::","RUBY_DESCRIPTION","opal "+h("RUBY_ENGINE_VERSION")+" ("+h("RUBY_RELEASE_DATE")+" revision "+h("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(n){var A=n.Object;return n.nil,n.add_stubs("require"),A.$require("corelib/runtime"),A.$require("corelib/helpers"),A.$require("corelib/module"),A.$require("corelib/class"),A.$require("corelib/basic_object"),A.$require("corelib/kernel"),A.$require("corelib/main"),A.$require("corelib/error"),A.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(n){var A=n.klass,h=n.Kernel,N=n.def,M=n.return_val,Q=n.ensure_kwargs,Z=n.hash_get,D=n.NilClass,V=n.slice,p=n.truthy,U=n.rb_gt,$e=n.alias,X=n.nil,H=n.$$$;return n.add_stubs("raise,name,new,>,length,Rational,to_i"),function(ee,W,j){var v=A(ee,W,"NilClass");return v.$$prototype.$$meta=v,function(k,I){return N(k,"$allocate",function(){var L=this;return h.$raise(H("TypeError"),"allocator undefined for "+L.$name())}),n.udef(k,"$new"),X}(n.get_singleton_class(v)),N(v,"$!",M(!0)),N(v,"$&",M(!1)),N(v,"$|",function(I){return I!==!1&&I!==X}),N(v,"$^",function(I){return I!==!1&&I!==X}),N(v,"$==",function(I){return I===X}),N(v,"$dup",M(X)),N(v,"$clone",function(I){return I=Q(I),Z(I,"freeze"),X},-1),N(v,"$inspect",M("nil")),N(v,"$nil?",M(!0)),N(v,"$singleton_class",function(){return D}),N(v,"$to_a",function(){return[]}),N(v,"$to_h",function(){return new Map}),N(v,"$to_i",M(0)),N(v,"$to_s",M("")),N(v,"$to_c",function(){return H("Complex").$new(0,0)}),N(v,"$rationalize",function(I){var z,L;return z=V(arguments),L=z,p(U(L.$length(),1))&&h.$raise(H("ArgumentError")),h.$Rational(0,1)},-1),N(v,"$to_r",function(){return h.$Rational(0,1)}),N(v,"$instance_variables",function(){return[]}),$e(v,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(n){var A=n.klass,h=n.Kernel,N=n.def,M=n.return_self,Q=n.ensure_kwargs,Z=n.hash_get,D=n.slice,V=n.truthy,p=n.send2,U=n.find_super,$e=n.to_a,X=n.alias,H=n.nil,ee=n.$$$;return n.add_stubs("raise,name,==,to_s,__id__"),function(W,j,v){var k=A(W,j,"Boolean");n.prop(k.$$prototype,"$$is_boolean",!0);for(var I=["$$class","$$meta"],z=0;z<I.length;z++)Object.defineProperty(k.$$prototype,I[z],{configurable:!0,enumerable:!1,get:function(){return this==!0?n.TrueClass:this==!1?n.FalseClass:n.Boolean}});return Object.defineProperty(k.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:H}}),function(L,w){return N(L,"$allocate",function(){var B=this;return h.$raise(ee("TypeError"),"allocator undefined for "+B.$name())}),n.udef(L,"$new"),H}(n.get_singleton_class(k)),N(k,"$__id__",function(){var w=this;return w.valueOf()?2:0}),N(k,"$!",function(){var w=this;return w!=!0}),N(k,"$&",function(w){var S=this;return S==!0?w!==!1&&w!==H:!1}),N(k,"$|",function(w){var S=this;return S==!0?!0:w!==!1&&w!==H}),N(k,"$^",function(w){var S=this;return S==!0?w===!1||w===H:w!==!1&&w!==H}),N(k,"$==",function(w){var S=this;return S==!0===w.valueOf()}),N(k,"$singleton_class",function(){var w=this;return w.$$meta}),N(k,"$to_s",function(){var w=this;return w==!0?"true":"false"}),N(k,"$dup",M),N(k,"$clone",function(w){var S=this;return w=Q(w),Z(w,"freeze"),S},-1),N(k,"$method_missing",function L(w,S){var B=L.$$p||H,x,b,s=this;L.$$p=null,x=D(arguments,1),b=x;var f=s.$$class.$$prototype[n.jsid(w)];return V(typeof f<"u"&&!f.$$stub)||p(s,U(s,"method_missing",L,!1,!0),"method_missing",[w].concat($e(b)),B),n.send(s,f,b,B)},-2),N(k,"$respond_to_missing?",function(w,S){var B=this,x=B.$$class.$$prototype[n.jsid(w)];return typeof x<"u"&&!x.$$stub},-2),X(k,"eql?","=="),X(k,"equal?","=="),X(k,"inspect","to_s"),X(k,"object_id","__id__")}("::",Boolean),A("::",ee("Boolean"),"TrueClass"),A("::",ee("Boolean"),"FalseClass"),H};Opal.modules["corelib/comparable"]=function(n){var A=n.truthy,h=n.module,N=n.rb_gt,M=n.rb_lt,Q=n.eqeqeq,Z=n.Kernel,D=n.def,V=n.nil,p=n.$$$;return n.add_stubs(">,<,===,raise,class,<=>,equal?"),function(U){var $e=h(U,"Comparable"),X=V;function H(j){return n.is_a(j,n.Integer)?j:N(j,0)?1:M(j,0)?-1:0}function ee(j,v){var k;Q(V,X=v)||Q(!0,X)||Q(!1,X)||Q(p("Integer"),X)||Q(p("Float"),X)?k=v.$inspect():k=v.$$class,Z.$raise(p("ArgumentError"),"comparison of "+j.$class()+" with "+k+" failed")}function W(j,v){var k=j["$<=>"](v);return A(k)||ee(j,v),H(k)}return D($e,"$==",function(v){var k=this,I=V;return A(k["$equal?"](v))?!0:k["$<=>"]==n.Kernel["$<=>"]?!1:k.$$comparable?(k.$$comparable=!1,!1):A(I=k["$<=>"](v))?H(I)==0:!1}),D($e,"$>",function(v){var k=this;return W(k,v)>0}),D($e,"$>=",function(v){var k=this;return W(k,v)>=0}),D($e,"$<",function(v){var k=this;return W(k,v)<0}),D($e,"$<=",function(v){var k=this;return W(k,v)<=0}),D($e,"$between?",function(v,k){var I=this;return!(A(M(I,v))||A(N(I,k)))}),D($e,"$clamp",function(v,k){var I=this;k==null&&(k=V);var z,L;if(k===V&&(n.is_a(v,n.Range)||Z.$raise(p("TypeError"),"wrong argument type "+v.$class()+" (expected Range)"),L=v.excl,k=v.end,v=v.begin,k!==V&&L&&Z.$raise(p("ArgumentError"),"cannot clamp with an exclusive range")),v!==V&&k!==V&&W(v,k)>0&&Z.$raise(p("ArgumentError"),"min argument must be smaller than max argument"),v!==V){if(z=W(I,v),z==0)return I;if(z<0)return v}return k!==V&&(z=W(I,k),z>0)?k:I},-2)}("::")};Opal.modules["corelib/regexp"]=function(n){var A=n.coerce_to,h=n.prop,N=n.freeze,M=n.klass,Q=n.const_set,Z=n.send2,D=n.find_super,V=n.def,p=n.truthy,U=n.gvars,$e=n.slice,X=n.Kernel,H=n.Opal,ee=n.alias,W=n.send,j=n.regexp,v=n.rb_plus,k=n.ensure_kwargs,I=n.hash_get,z=n.rb_ge,L=n.to_a,w=n.eqeqeq,S=n.rb_minus,B=n.return_ivar,x=[],b=n.nil,s=n.$$$;return n.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),M("::",s("StandardError"),"RegexpError"),function(f,E,g){var c=M(f,E,"Regexp"),l=[c].concat(g),m=n.$r(l);return Q(c,"IGNORECASE",1),Q(c,"EXTENDED",2),Q(c,"MULTILINE",4),n.prop(c.$$prototype,"$$is_regexp",!0),function(C,_){var a=[C].concat(_),$=n.$r(a);return V(C,"$allocate",function t(){var e=t.$$p||b,r=this,i=b;return t.$$p=null,i=Z(r,D(r,"allocate",t,!1,!0),"allocate",[],e),i.uninitialized=!0,i}),V(C,"$escape",function(e){return e=A(e,s("String"),"to_str"),n.escape_regexp(e)}),V(C,"$last_match",function(e){return U["~"]==null&&(U["~"]=b),e==null&&(e=b),p(e["$nil?"]())?U["~"]:p(U["~"])?U["~"]["$[]"](e):b},-1),V(C,"$union",function(e){var r,i,u=this;r=$e(arguments),i=r;var o,y,R,P,F;if(i.length==0)return/(?!)/;if(i.length==1&&i[0].$$is_regexp)return i[0];o=i[0].$$is_array,i.length>1&&o&&X.$raise(s("TypeError"),"no implicit conversion of Array into String"),o&&(i=i[0]),P=void 0,y=[];for(var G=0;G<i.length;G++)R=i[G],R.$$is_string?y.push(u.$escape(R)):R.$$is_regexp?(F=R.$options(),P!=null&&P!=F&&X.$raise(s("TypeError"),"All expressions must use the same options"),P=F,y.push("("+R.source+")")):y.push(u.$escape(R.$to_str()));return u.$new(y.$join("|"),P)},-1),V(C,"$new",function(e,r){if(e.$$is_regexp)return new RegExp(e);if(e=H["$coerce_to!"](e,s("String"),"to_str"),e.charAt(e.length-1)==="\\"&&e.charAt(e.length-2)!=="\\"&&X.$raise(s("RegexpError"),"too short escape sequence: /"+e+"/"),e=e.replace("\\A","^").replace("\\z","$"),r===void 0||r["$!"]())return new RegExp(e);if(r.$$is_number){var i="";$("IGNORECASE")&r&&(i+="i"),$("MULTILINE")&r&&(i+="m"),r=i}else r="i";return new RegExp(e,r)},-2),ee(C,"compile","new"),ee(C,"quote","escape")}(n.get_singleton_class(c),l),V(c,"$==",function(_){var a=this;return _ instanceof RegExp&&a.toString()===_.toString()}),V(c,"$===",function(_){var a=this;return a.$match(H["$coerce_to?"](_,s("String"),"to_str"))!==b}),V(c,"$=~",function(_){var a=this,$=b;return U["~"]==null&&(U["~"]=b),p($=a.$match(_))?U["~"].$begin(0):$}),V(c,"$freeze",function(){var _=this;return p(_["$frozen?"]())?_:(_.hasOwnProperty("$$g")||h(_,"$$g",null),_.hasOwnProperty("$$gm")||h(_,"$$gm",null),N(_))}),V(c,"$inspect",function(){var _=this,a=/^\/(.*)\/([^\/]*)$/,$=_.toString(),t=a.exec($);if(t){for(var e=t[1],r=t[2],i=e.split(""),u=i.length,o=!1,y="",R=0;R<u;R++){var P=i[R];!o&&P=="/"&&(y=y.concat("\\")),y=y.concat(P),P=="\\"?o?o=!1:o=!0:o=!1}return"/"+y+"/"+r}else return $}),V(c,"$match",function C(_,a){var $=C.$$p||b,t=this;if(U["~"]==null&&(U["~"]=b),C.$$p=null,t.uninitialized&&X.$raise(s("TypeError"),"uninitialized Regexp"),a===void 0){if(_===b)return U["~"]=b;var e=t.exec(A(_,s("String"),"to_str"));return e?(U["~"]=s("MatchData").$new(t,e),$===b?U["~"]:n.yield1($,U["~"])):U["~"]=b}if(a=A(a,s("Integer"),"to_int"),_===b||(_=A(_,s("String"),"to_str"),a<0&&(a+=_.length,a<0)))return U["~"]=b;for(var r,i=n.global_regexp(t);;){if(r=i.exec(_),r===null)return U["~"]=b;if(r.index>=a)return U["~"]=s("MatchData").$new(i,r),$===b?U["~"]:n.yield1($,U["~"]);i.lastIndex=r.index+1}},-2),V(c,"$match?",function(_,a){var $=this;if($.uninitialized&&X.$raise(s("TypeError"),"uninitialized Regexp"),a===void 0)return _===b?!1:$.test(A(_,s("String"),"to_str"));if(a=A(a,s("Integer"),"to_int"),_===b||(_=A(_,s("String"),"to_str"),a<0&&(a+=_.length,a<0)))return!1;var t,e=n.global_regexp($);return t=e.exec(_),!(t===null||t.index<a)},-2),V(c,"$names",function(){var _=this;return W(_.$source().$scan(j(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),V(c,"$named_captures",function(){var _=this;return W(W(W(_.$source().$scan(j(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function($){return $==null&&($=b),W($,"map",[],function(e){return e==null&&(e=b),v(e.$last(),1)})})}),V(c,"$~",function(){var _=this;return U._==null&&(U._=b),_["$=~"](U._)}),V(c,"$source",function(){var _=this;return _.source}),V(c,"$options",function(){var _=this;_.uninitialized&&X.$raise(s("TypeError"),"uninitialized Regexp");var a=0;return _.multiline&&(a|=m("MULTILINE")),_.ignoreCase&&(a|=m("IGNORECASE")),a}),V(c,"$casefold?",function(){var _=this;return _.ignoreCase}),ee(c,"eql?","=="),ee(c,"to_s","source")}("::",RegExp,x),function(f,E,g){var c=M(f,E,"MatchData"),l=[c].concat(g),m=n.$r(l),C=c.$$prototype;return C.matches=b,c.$attr_reader("post_match","pre_match","regexp","string"),V(c,"$initialize",function(a,$,t){var e,r=this;t=k(t),e=I(t,"no_matchdata"),e==null&&(e=!1),p(e)||(U["~"]=r),r.regexp=a,r.begin=$.index,r.string=$.input,r.pre_match=$.input.slice(0,$.index),r.post_match=$.input.slice($.index+$[0].length),r.matches=[];for(var i=0,u=$.length;i<u;i++){var o=$[i];o==null?r.matches.push(b):r.matches.push(o)}},-3),V(c,"$match",function(a){var $=this,t=b;return p(t=$["$[]"](a))?t:p(a["$is_a?"](m("Integer")))&&p(z(a,$.$length()))?X.$raise(s("IndexError"),"index "+a+" out of matches"):b}),V(c,"$match_length",function(a){var $,t=this;return $=t.$match(a),$===b||$==null?b:$.$length()}),V(c,"$[]",function(a){var $,t,e=this;return $=$e(arguments),t=$,t[0].$$is_string?(e.$regexp().$names()["$include?"](t["$[]"](0))["$!"]()&&X.$raise(s("IndexError"),"undefined group name reference: "+t["$[]"](0)),e.$named_captures()["$[]"](t["$[]"](0))):W(e.matches,"[]",L(t))},-1),V(c,"$offset",function(a){var $=this;return a!==0&&X.$raise(s("ArgumentError"),"MatchData#offset only supports 0th element"),[$.begin,$.begin+$.matches[a].length]}),V(c,"$==",function(a){var $=this,t=b,e=b,r=b,i=b;return w(s("MatchData"),a)?p(t=p(e=p(r=p(i=$.string==a.string)?$.regexp.toString()==a.regexp.toString():i)?$.pre_match==a.pre_match:r)?$.post_match==a.post_match:e)?$.begin==a.begin:t:!1}),V(c,"$begin",function(a){var $=this;return a!==0&&X.$raise(s("ArgumentError"),"MatchData#begin only supports 0th element"),$.begin}),V(c,"$end",function(a){var $=this;return a!==0&&X.$raise(s("ArgumentError"),"MatchData#end only supports 0th element"),$.begin+$.matches[a].length}),V(c,"$captures",function(){var a=this;return a.matches.slice(1)}),V(c,"$named_captures",function(){var a=this,$=b;return $=a.$captures(),W(a.$regexp().$named_captures(),"transform_values",[],function(e){return e==null&&(e=b),$["$[]"](S(e.$last(),1))})}),V(c,"$names",function(){var a=this;return a.$regexp().$names()}),V(c,"$inspect",function(){var a=this,$="#<MatchData "+a.matches[0].$inspect();if(a.$regexp().$names()["$empty?"]())for(var t=1,e=a.matches.length;t<e;t++)$+=" "+t+":"+a.matches[t].$inspect();else W(a.$named_captures(),"each",[],function(i,u){return i==null&&(i=b),u==null&&(u=b),$+=" "+i+":"+u.$inspect()});return $+">"}),V(c,"$length",function(){var a=this;return a.matches.length}),V(c,"$to_a",B("matches")),V(c,"$to_s",function(){var a=this;return a.matches[0]}),V(c,"$values_at",function(a){var $,t,e=this;$=$e(arguments),t=$;var r,i,u,o=[];for(r=0;r<t.length;r++){if(t[r].$$is_range&&(i=t[r].$to_a(),i.unshift(r,1),Array.prototype.splice.apply(t,i)),u=H["$coerce_to!"](t[r],s("Integer"),"to_int"),u<0&&(u+=e.matches.length,u<0)){o.push(b);continue}o.push(e.matches[u])}return o},-1),ee(c,"eql?","=="),ee(c,"size","length")}(x[0],null,x)};Opal.modules["corelib/string"]=function(n){var A=n.coerce_to,h=n.respond_to,N=n.global_multiline_regexp,M=n.prop,Q=n.opal32_init,Z=n.opal32_add,D=n.klass,V=n.send2,p=n.find_super,U=n.def,$e=n.Opal,X=n.defs,H=n.slice,ee=n.send,W=n.to_a,j=n.extract_kwargs,v=n.ensure_kwargs,k=n.hash_get,I=n.eqeqeq,z=n.Kernel,L=n.truthy,w=n.gvars,S=n.rb_divide,B=n.rb_plus,x=n.eqeq,b=n.alias,s=n.const_set,f=n.top,E=[],g=n.$r(E),c=n.nil,l=n.$$$;return n.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),f.$require("corelib/comparable"),f.$require("corelib/regexp"),function(m,C,_){var a=D(m,C,"String"),$=[a].concat(_),t=n.$r($);a.$include(l("Comparable")),n.prop(a.$$prototype,"$$is_string",!0);var e=new Map;(function(){U(a,"$__id__",function i(){var u=i.$$p||c,o=this;if(i.$$p=null,typeof o=="object")return V(o,p(o,"__id__",i,!1,!0),"__id__",[],u);if(e.has(o))return e.get(o);var y=n.uid();return e.set(o,y),y}),U(a,"$hash",function(){var u=this,o=Q(),y,R=u.length;for(o=Z(o,5),o=Z(o,R),y=0;y<R;y++)o=Z(o,u.charCodeAt(y));return o})})(),X(a,"$try_convert",function(u){return $e["$coerce_to?"](u,l("String"),"to_str")}),X(a,"$new",function(u){var o,y,R=this;o=H(arguments),y=o;var P=y[0]||"",F=y[y.length-1];return P=A(P,l("String"),"to_str"),F&&F.$$is_hash&&F.has("encoding")&&(P=P.$force_encoding(F.get("encoding").value)),P=new R.$$constructor(P),P.$initialize.$$pristine||ee(P,"initialize",W(y)),P},-1),U(a,"$initialize",function(u,o){var y,R;return y=H(arguments),R=j(y),R=v(R),y.length>0&&y.shift(),k(R,"encoding"),k(R,"capacity"),c},-1),U(a,"$%",function(u){var o=this;return I(l("Array"),u)?ee(o,"format",[o].concat(W(u))):o.$format(o,u)}),U(a,"$*",function(u){var o=this;if(u=A(u,l("Integer"),"to_int"),u<0&&z.$raise(l("ArgumentError"),"negative argument"),u===0)return"";var y="",R=o.toString();for(R.length*u>=1<<28&&z.$raise(l("RangeError"),"multiply count must not overflow maximum string size");(u&1)===1&&(y+=R),u>>>=1,u!==0;)R+=R;return y}),U(a,"$+",function(u){var o=this;if(u=A(u,l("String"),"to_str"),u==""&&o.$$class===n.String)return o;if(o==""&&u.$$class===n.String)return u;var y=o+u;return o.encoding===y.encoding&&u.encoding===y.encoding||o.encoding.name==="UTF-8"||u.encoding.name==="UTF-8"?y:n.enc(y,o.encoding)}),U(a,"$<=>",function(u){var o=this;if(L(u["$respond_to?"]("to_str")))return u=u.$to_str().$to_s(),o>u?1:o<u?-1:0;var y=u["$<=>"](o);return y===c?c:y>0?-1:y<0?1:0}),U(a,"$==",function(u){var o=this;return u.$$is_string?o.toString()===u.toString():h(u,"$to_str")?u["$=="](o):!1}),U(a,"$=~",function(u){var o=this;return u.$$is_string&&z.$raise(l("TypeError"),"type mismatch: String given"),u["$=~"](o)}),U(a,"$[]",function(u,o){var y=this,R=y.length,P,F;if(u.$$is_range)return P=u.excl,F=u,o=u.end===c?-1:A(u.end,l("Integer"),"to_int"),u=u.begin===c?0:A(u.begin,l("Integer"),"to_int"),Math.abs(u)>R?c:(u<0&&(u+=R),o<0&&(o+=R),(!P||F.end===c)&&(o+=1),o=o-u,o<0&&(o=0),y.substr(u,o));if(u.$$is_string)return o!=null&&z.$raise(l("TypeError")),y.indexOf(u)!==-1?u:c;if(u.$$is_regexp){var G=y.match(u);return G===null?(w["~"]=c,c):(w["~"]=l("MatchData").$new(u,G),o==null?G[0]:(o=A(o,l("Integer"),"to_int"),o<0&&-o<G.length?G[o+=G.length]:o>=0&&o<G.length?G[o]:c))}return u=A(u,l("Integer"),"to_int"),u<0&&(u+=R),o==null?u>=R||u<0?c:y.substr(u,1):(o=A(o,l("Integer"),"to_int"),o<0||u>R||u<0?c:y.substr(u,o))},-2),U(a,"$b",function(){var u=this;return new String(u).$force_encoding("binary")}),U(a,"$capitalize",function(){var u=this;return u.charAt(0).toUpperCase()+u.substr(1).toLowerCase()}),U(a,"$casecmp",function(u){var o=this;if(!L(u["$respond_to?"]("to_str")))return c;u=A(u,l("String"),"to_str").$to_s();var y=/^[\x00-\x7F]*$/;return y.test(o)&&y.test(u)&&(o=o.toLowerCase(),u=u.toLowerCase()),o["$<=>"](u)}),U(a,"$casecmp?",function(u){var o=this,y=o.$casecmp(u);return y===c?c:y===0}),U(a,"$center",function(u,o){var y=this;if(o==null&&(o=" "),u=A(u,l("Integer"),"to_int"),o=A(o,l("String"),"to_str").$to_s(),L(o["$empty?"]())&&z.$raise(l("ArgumentError"),"zero width padding"),L(u<=y.length))return y;var R=y.$ljust(S(B(u,y.length),2).$ceil(),o),P=y.$rjust(S(B(u,y.length),2).$floor(),o);return P+R.slice(y.length)},-2),U(a,"$chomp",function(u){var o=this;if(w["/"]==null&&(w["/"]=c),u==null&&(u=w["/"]),L(u===c||o.length===0))return o;u=$e["$coerce_to!"](u,l("String"),"to_str").$to_s();var y;if(u===`
`)y=o.replace(/\r?\n?$/,"");else if(u==="")y=o.replace(/(\r?\n)+$/,"");else if(o.length>=u.length){var R=o.substr(o.length-u.length,u.length);R===u&&(y=o.substr(0,o.length-u.length))}return y??o},-1),U(a,"$chop",function(){var u=this,o=u.length,y;return o<=1?y="":u.charAt(o-1)===`
`&&u.charAt(o-2)==="\r"?y=u.substr(0,o-2):y=u.substr(0,o-1),y}),U(a,"$chr",function(){var u=this;return u.charAt(0)}),U(a,"$clone",function(u){var o,y=this,R=c;return u=v(u),o=k(u,"freeze"),o==null&&(o=c),L(o["$nil?"]())||x(o,!0)||x(o,!1)||y.$raise(t("ArgumentError"),"unexpected value for freeze: "+o.$class()),R=new String(y),R.$copy_singleton_methods(y),R.$initialize_clone(y,new Map([["freeze",o]])),x(o,!0)?R.$$frozen||(R.$$frozen=!0):L(o["$nil?"]())&&y.$$frozen&&(R.$$frozen=!0),R},-1),U(a,"$dup",function(){var u=this,o=c;return o=new String(u),o.$initialize_dup(u),o}),U(a,"$count",function(u){var o,y,R=this;o=H(arguments),y=o,y.length===0&&z.$raise(l("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var P=r(y);return P===null?0:R.length-R.replace(new RegExp(P,"g"),"").length},-1),U(a,"$delete",function(u){var o,y,R=this;o=H(arguments),y=o,y.length===0&&z.$raise(l("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var P=r(y);return P===null?R:R.replace(new RegExp(P,"g"),"")},-1),U(a,"$delete_prefix",function(u){var o=this;return u.$$is_string||(u=A(u,l("String"),"to_str")),o.slice(0,u.length)===u?o.slice(u.length):o}),U(a,"$delete_suffix",function(u){var o=this;return u.$$is_string||(u=A(u,l("String"),"to_str")),o.slice(o.length-u.length)===u?o.slice(0,o.length-u.length):o}),U(a,"$downcase",function(){var u=this;return u.toLowerCase()}),U(a,"$each_line",function i(u,o){var y=i.$$p||c,R,P,F,G,re=this;if(w["/"]==null&&(w["/"]=c),i.$$p=null,R=H(arguments),P=j(R),P=v(P),R.length>0&&(F=R.shift()),F==null&&(F=w["/"]),G=k(P,"chomp"),G==null&&(G=!1),y===c)return re.$enum_for("each_line",F,new Map([["chomp",G]]));if(F===c)return n.yield1(y,re),re;F=A(F,l("String"),"to_str");var ae,le,ce,de,he,ve,me,be;if(F.length===0){for(ae=re.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),le=0,ce=ae.length;le<ce;le+=2)(ae[le]||ae[le+1])&&(be=(ae[le]||"")+(ae[le+1]||""),G&&(be=be.$chomp(`
`)),n.yield1(y,be));return re}for(he=re.$chomp(F),ve=re.length!=he.length,me=he.split(F),le=0,de=me.length;le<de;le++)be=me[le],(le<de-1||ve)&&(be+=F),G&&(be=be.$chomp(F)),n.yield1(y,be);return re},-1),U(a,"$empty?",function(){var u=this;return u.length===0}),U(a,"$end_with?",function(u){var o,y,R=this;o=H(arguments),y=o;for(var P=0,F=y.length;P<F;P++){var G=A(y[P],l("String"),"to_str").$to_s();if(R.length>=G.length&&R.substr(R.length-G.length,G.length)==G)return!0}return!1},-1),U(a,"$gsub",function i(u,o){var y=i.$$p||c,R=this;if(i.$$p=null,o===void 0&&y===c)return R.$enum_for("gsub",u);var P="",F=c,G=0,re,ae;u.$$is_regexp?u=N(u):(u=A(u,l("String"),"to_str"),u=new RegExp(u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var le;;){if(re=u.exec(R),re===null){w["~"]=c,P+=R.slice(G);break}F=l("MatchData").$new(u,re),o===void 0?(le=u.lastIndex,ae=y(re[0]),u.lastIndex=le):o.$$is_hash?ae=o["$[]"](re[0]).$to_s():(o.$$is_string||(o=A(o,l("String"),"to_str")),ae=o.replace(/([\\]+)([0-9+&`'])/g,function(ce,de,he){if(de.length%2===0)return ce;switch(he){case"+":for(var ve=re.length-1;ve>0;ve--)if(re[ve]!==void 0)return de.slice(1)+re[ve];return"";case"&":return de.slice(1)+re[0];case"`":return de.slice(1)+R.slice(0,re.index);case"'":return de.slice(1)+R.slice(re.index+re[0].length);default:return de.slice(1)+(re[he]||"")}}).replace(/\\\\/g,"\\")),u.lastIndex===re.index?(P+=R.slice(G,re.index)+ae+(R[re.index]||""),u.lastIndex+=1):P+=R.slice(G,re.index)+ae,G=u.lastIndex}return w["~"]=F,P},-2),U(a,"$hex",function(){var u=this;return u.$to_i(16)}),U(a,"$include?",function(u){var o=this;return u.$$is_string||(u=A(u,l("String"),"to_str")),o.indexOf(u)!==-1}),U(a,"$index",function(u,o){var y=this,R,P,F;if(o===void 0)o=0;else if(o=A(o,l("Integer"),"to_int"),o<0&&(o+=y.length,o<0))return c;if(u.$$is_regexp)for(F=N(u);;){if(P=F.exec(y),P===null){w["~"]=c,R=-1;break}if(P.index>=o){w["~"]=l("MatchData").$new(F,P),R=P.index;break}F.lastIndex=P.index+1}else u=A(u,l("String"),"to_str"),u.length===0&&o>y.length?R=-1:R=y.indexOf(u,o);return R===-1?c:R},-2),U(a,"$inspect",function(){var u=this,o=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,y={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},R=u.replace(o,function(P){return y[P]?y[P]:(P=P.charCodeAt(0),P<=255&&(u.encoding["$binary?"]()||u.internal_encoding["$binary?"]())?"\\x"+("00"+P.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+P.toString(16).toUpperCase()).slice(-4))});return'"'+R.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),U(a,"$intern",function(){var u=this;return u.toString()}),U(a,"$length",function(){var u=this;return u.length}),b(a,"size","length"),U(a,"$lines",function i(u,o){var y=i.$$p||c,R,P,F,G,re=this,ae=c;return w["/"]==null&&(w["/"]=c),i.$$p=null,R=H(arguments),P=j(R),P=v(P),R.length>0&&(F=R.shift()),F==null&&(F=w["/"]),G=k(P,"chomp"),G==null&&(G=!1),ae=ee(re,"each_line",[F,new Map([["chomp",G]])],y.$to_proc()),L(y)?re:ae.$to_a()},-1),U(a,"$ljust",function(u,o){var y=this;if(o==null&&(o=" "),u=A(u,l("Integer"),"to_int"),o=A(o,l("String"),"to_str").$to_s(),L(o["$empty?"]())&&z.$raise(l("ArgumentError"),"zero width padding"),L(u<=y.length))return y;var R=-1,P="";for(u-=y.length;++R<u;)P+=o;return y+P.slice(0,u)},-2),U(a,"$lstrip",function(){var u=this;return u.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),U(a,"$ascii_only?",function(){var u=this;return u.encoding.ascii?/^[\x00-\x7F]*$/.test(u):!1}),U(a,"$match",function i(u,o){var y=i.$$p||c,R=this;return i.$$p=null,(I(t("String"),u)||L(u["$respond_to?"]("to_str")))&&(u=l("Regexp").$new(u.$to_str())),I(l("Regexp"),u)||z.$raise(l("TypeError"),"wrong argument type "+u.$class()+" (expected Regexp)"),ee(u,"match",[R,o],y.$to_proc())},-2),U(a,"$match?",function(u,o){var y=this;return(I(t("String"),u)||L(u["$respond_to?"]("to_str")))&&(u=l("Regexp").$new(u.$to_str())),I(l("Regexp"),u)||z.$raise(l("TypeError"),"wrong argument type "+u.$class()+" (expected Regexp)"),u["$match?"](y,o)},-2),U(a,"$next",function(){var u=this,o=u.length;if(o===0)return"";for(var y=u,R=u.search(/[a-zA-Z0-9]/),P=!1,F;o--;){if(F=u.charCodeAt(o),F>=48&&F<=57||F>=65&&F<=90||F>=97&&F<=122)switch(F){case 57:P=!0,F=48;break;case 90:P=!0,F=65;break;case 122:P=!0,F=97;break;default:P=!1,F+=1}else R===-1?F===255?(P=!0,F=0):(P=!1,F+=1):P=!0;if(y=y.slice(0,o)+String.fromCharCode(F)+y.slice(o+1),P&&(o===0||o===R)){switch(F){case 65:break;case 97:break;default:F+=1}o===0?y=String.fromCharCode(F)+y:y=y.slice(0,o)+String.fromCharCode(F)+y.slice(o),P=!1}if(!P)break}return y}),U(a,"$oct",function(){var u=this,o,y=u,R=8;return/^\s*_/.test(y)?0:(y=y.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(P,F,G,re){switch(re.charAt(0)){case"+":case"-":return P;case"0":if(re.charAt(1)==="x"&&G==="0x")return P}switch(G){case"0b":R=2;break;case"0":case"0o":R=8;break;case"0d":R=10;break;case"0x":R=16;break}return F+re}),o=parseInt(y.replace(/_(?!_)/g,""),R),isNaN(o)?0:o)}),U(a,"$ord",function(){var u=this;return typeof u.codePointAt=="function"?u.codePointAt(0):u.charCodeAt(0)}),U(a,"$partition",function(u){var o=this,y,R;return u.$$is_regexp?(R=u.exec(o),R===null?y=-1:(l("MatchData").$new(u,R),u=R[0],y=R.index)):(u=A(u,l("String"),"to_str"),y=o.indexOf(u)),y===-1?[o,"",""]:[o.slice(0,y),o.slice(y,y+u.length),o.slice(y+u.length)]}),U(a,"$reverse",function(){var u=this;return u.split("").reverse().join("")}),U(a,"$rindex",function(u,o){var y=this,R,P,F,G;if(o===void 0)o=y.length;else if(o=A(o,l("Integer"),"to_int"),o<0&&(o+=y.length,o<0))return c;if(u.$$is_regexp){for(P=null,F=N(u);G=F.exec(y),!(G===null||G.index>o);)P=G,F.lastIndex=P.index+1;P===null?(w["~"]=c,R=-1):(l("MatchData").$new(F,P),R=P.index)}else u=A(u,l("String"),"to_str"),R=y.lastIndexOf(u,o);return R===-1?c:R},-2),U(a,"$rjust",function(u,o){var y=this;if(o==null&&(o=" "),u=A(u,l("Integer"),"to_int"),o=A(o,l("String"),"to_str").$to_s(),L(o["$empty?"]())&&z.$raise(l("ArgumentError"),"zero width padding"),L(u<=y.length))return y;var R=Math.floor(u-y.length),P=Math.floor(R/o.length),F=Array(P+1).join(o),G=R-F.length;return F+o.slice(0,G)+y},-2),U(a,"$rpartition",function(u){var o=this,y,R,P,F;if(u.$$is_regexp){for(R=null,P=N(u);F=P.exec(o),F!==null;)R=F,P.lastIndex=R.index+1;R===null?y=-1:(l("MatchData").$new(P,R),u=R[0],y=R.index)}else u=A(u,l("String"),"to_str"),y=o.lastIndexOf(u);return y===-1?["","",o]:[o.slice(0,y),o.slice(y,y+u.length),o.slice(y+u.length)]}),U(a,"$rstrip",function(){var u=this;return u.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),U(a,"$scan",function i(u,o){var y=i.$$p||c,R,P=this;i.$$p=null,o=v(o),R=k(o,"no_matchdata"),R==null&&(R=!1);var F=[],G=c,re;for(u.$$is_regexp?u=N(u):(u=A(u,l("String"),"to_str"),u=new RegExp(u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(re=u.exec(P))!=null;)G=l("MatchData").$new(u,re,new Map([["no_matchdata",R]])),y===c?re.length==1?F.push(re[0]):F.push(G.$captures()):re.length==1?n.yield1(y,re[0]):n.yield1(y,G.$captures()),u.lastIndex===re.index&&(u.lastIndex+=1);return R||(w["~"]=G),y!==c?P:F},-2),U(a,"$singleton_class",function(){var u=this;return n.get_singleton_class(u)}),U(a,"$split",function(u,o){var y=this,R=c;if(w[";"]==null&&(w[";"]=c),y.length===0)return[];if(o===void 0)o=0;else if(o=$e["$coerce_to!"](o,l("Integer"),"to_int"),o===1)return[y];(u===void 0||u===c)&&(u=L(R=w[";"])?R:" ");var P=[],F=y.toString(),G=0,re,ae=0,le=0,ce,de;if(u.$$is_regexp?u=N(u):(u=A(u,l("String"),"to_str").$to_s(),u===" "&&(u=/\s+/gm,F=F.replace(/^\s+/,""))),P=F.split(u),P.length===1&&P[0]===F)return[P[0]];for(;(ce=P.indexOf(void 0))!==-1;)P.splice(ce,1);if(o===0){for(;P[P.length-1]==="";)P.pop();return P}if(u.$$is_regexp||(u=n.escape_regexp(u),u=new RegExp(u,"gm")),re=u.exec(F),o<0){if(re!==null&&re[0]===""&&u.source.indexOf("(?=")===-1)for(ce=0,de=re.length;ce<de;ce++)P.push("");return P}if(re!==null&&re[0]==="")return le=(re.length-1)*(o-1)+o,P.splice(le-1,P.length-1,P.slice(le-1).join("")),P;if(o>=P.length)return P;for(;re!==null&&(ae++,G=u.lastIndex,le+=re.length,ae+1!==o);)re=u.exec(F);return P.splice(le,P.length-1,F.slice(G)),P},-1),U(a,"$squeeze",function(u){var o,y,R=this;if(o=H(arguments),y=o,y.length===0)return R.replace(/(.)\1+/g,"$1");var P=r(y);return P===null?R:R.replace(new RegExp("("+P+")\\1+","g"),"$1")},-1),U(a,"$start_with?",function(u){var o,y,R=this;o=H(arguments),y=o;for(var P=0,F=y.length;P<F;P++)if(y[P].$$is_regexp){var G=y[P],re=G.exec(R);if(re!=null&&re.index===0)return w["~"]=l("MatchData").$new(G,re),!0;w["~"]=c}else{var ae=A(y[P],l("String"),"to_str").$to_s();if(R.length>=ae.length&&R.startsWith(ae))return!0}return!1},-1),U(a,"$strip",function(){var u=this;return u.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),U(a,"$sub",function i(u,o){var y=i.$$p||c,R=this;i.$$p=null,u.$$is_regexp||(u=A(u,l("String"),"to_str"),u=new RegExp(u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var P,F=u.exec(R);return F===null?(w["~"]=c,P=R.toString()):(l("MatchData").$new(u,F),o===void 0?(y===c&&z.$raise(l("ArgumentError"),"wrong number of arguments (1 for 2)"),P=R.slice(0,F.index)+y(F[0])+R.slice(F.index+F[0].length)):o.$$is_hash?P=R.slice(0,F.index)+o["$[]"](F[0]).$to_s()+R.slice(F.index+F[0].length):(o=A(o,l("String"),"to_str"),o=o.replace(/([\\]+)([0-9+&`'])/g,function(G,re,ae){if(re.length%2===0)return G;switch(ae){case"+":for(var le=F.length-1;le>0;le--)if(F[le]!==void 0)return re.slice(1)+F[le];return"";case"&":return re.slice(1)+F[0];case"`":return re.slice(1)+R.slice(0,F.index);case"'":return re.slice(1)+R.slice(F.index+F[0].length);default:return re.slice(1)+(F[ae]||"")}}).replace(/\\\\/g,"\\"),P=R.slice(0,F.index)+o+R.slice(F.index+F[0].length))),P},-2),U(a,"$sum",function(u){var o=this;u==null&&(u=16),u=A(u,l("Integer"),"to_int");for(var y=0,R=o.length,P=0;P<R;P++)y+=o.charCodeAt(P);return u<=0?y:y&Math.pow(2,u)-1},-1),U(a,"$swapcase",function(){var u=this,o=u.replace(/([a-z]+)|([A-Z]+)/g,function(y,R,P){return R?y.toUpperCase():y.toLowerCase()});return o}),U(a,"$to_f",function(){var u=this;if(u.charAt(0)==="_")return 0;var o=parseFloat(u.replace(/_/g,""));return isNaN(o)||o==1/0||o==-1/0?0:o}),U(a,"$to_i",function(u){var o=this;u==null&&(u=10);var y,R=o.toLowerCase(),P=A(u,l("Integer"),"to_int");return(P===1||P<0||P>36)&&z.$raise(l("ArgumentError"),"invalid radix "+P),/^\s*_/.test(R)?0:(R=R.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(F,G,re,ae){switch(ae.charAt(0)){case"+":case"-":return F;case"0":if(ae.charAt(1)==="x"&&re==="0x"&&(P===0||P===16))return F}switch(re){case"0b":if(P===0||P===2)return P=2,G+ae;break;case"0":case"0o":if(P===0||P===8)return P=8,G+ae;break;case"0d":if(P===0||P===10)return P=10,G+ae;break;case"0x":if(P===0||P===16)return P=16,G+ae;break}return F}),y=parseInt(R.replace(/_(?!_)/g,""),P),isNaN(y)?0:y)},-1),U(a,"$to_proc",function i(){i.$$p;var u=this,o=c,y=c,R=c;return i.$$p=null,o=u.valueOf(),y=n.jsid(o),R=ee(z,"proc",[],function P(F){var G=P.$$p||c,re,ae;P.$$p=null,re=H(arguments),ae=re,ae.length===0&&z.$raise(l("ArgumentError"),"no receiver given");var le=ae[0];le==null&&(le=c);var ce=le[y];return ce?ae=ae.slice(1):(ce=le.$method_missing,ae[0]=o),typeof G=="function"&&(ce.$$p=G),ae.length===0?ce.call(le):ce.apply(le,ae)},-1),R.$$source_location=c,R}),U(a,"$to_s",function(){var u=this;return u.toString()}),U(a,"$tr",function(u,o){var y=this;if(u=A(u,l("String"),"to_str").$to_s(),o=A(o,l("String"),"to_str").$to_s(),u.length==0||u===o)return y;var R,P,F,G,re,ae,le,ce={},de=u.split(""),he=de.length,ve=o.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],he-=1);var T=[],K=null;for(P=!1,R=0;R<he;R++)if(G=de[R],K==null)K=G,T.push(G);else if(G==="-")K==="-"?(T.push("-"),T.push("-")):R==he-1?T.push("-"):P=!0;else if(P){for(re=K.charCodeAt(0),ae=G.charCodeAt(0),re>ae&&z.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(re)+"-"+String.fromCharCode(ae)+'" in string transliteration'),F=re+1;F<ae;F++)T.push(String.fromCharCode(F));T.push(G),P=null,K=null}else T.push(G);if(de=T,he=de.length,be)for(R=0;R<he;R++)ce[de[R]]=!0;else{if(me>0){var Y=[],O=null;for(P=!1,R=0;R<me;R++)if(G=ve[R],O==null)O=G,Y.push(G);else if(G==="-")O==="-"?(Y.push("-"),Y.push("-")):R==me-1?Y.push("-"):P=!0;else if(P){for(re=O.charCodeAt(0),ae=G.charCodeAt(0),re>ae&&z.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(re)+"-"+String.fromCharCode(ae)+'" in string transliteration'),F=re+1;F<ae;F++)Y.push(String.fromCharCode(F));Y.push(G),P=null,O=null}else Y.push(G);ve=Y,me=ve.length}var ne=he-me;if(ne>0){var se=me>0?ve[me-1]:"";for(R=0;R<ne;R++)ve.push(se)}for(R=0;R<he;R++)ce[de[R]]=ve[R]}var oe="";for(R=0,le=y.length;R<le;R++){G=y.charAt(R);var fe=ce[G];be?oe+=fe==null?ie:G:oe+=fe??G}return oe}),U(a,"$tr_s",function(u,o){var y=this;if(u=A(u,l("String"),"to_str").$to_s(),o=A(o,l("String"),"to_str").$to_s(),u.length==0)return y;var R,P,F,G,re,ae,le,ce={},de=u.split(""),he=de.length,ve=o.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],he-=1);var T=[],K=null;for(P=!1,R=0;R<he;R++)if(G=de[R],K==null)K=G,T.push(G);else if(G==="-")K==="-"?(T.push("-"),T.push("-")):R==he-1?T.push("-"):P=!0;else if(P){for(re=K.charCodeAt(0),ae=G.charCodeAt(0),re>ae&&z.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(re)+"-"+String.fromCharCode(ae)+'" in string transliteration'),F=re+1;F<ae;F++)T.push(String.fromCharCode(F));T.push(G),P=null,K=null}else T.push(G);if(de=T,he=de.length,be)for(R=0;R<he;R++)ce[de[R]]=!0;else{if(me>0){var Y=[],O=null;for(P=!1,R=0;R<me;R++)if(G=ve[R],K==null)K=G,Y.push(G);else if(G==="-")O==="-"?(Y.push("-"),Y.push("-")):R==me-1?Y.push("-"):P=!0;else if(P){for(re=K.charCodeAt(0),ae=G.charCodeAt(0),re>ae&&z.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(re)+"-"+String.fromCharCode(ae)+'" in string transliteration'),F=re+1;F<ae;F++)Y.push(String.fromCharCode(F));Y.push(G),P=null,K=null}else Y.push(G);ve=Y,me=ve.length}var ne=he-me;if(ne>0){var se=me>0?ve[me-1]:"";for(R=0;R<ne;R++)ve.push(se)}for(R=0;R<he;R++)ce[de[R]]=ve[R]}var oe="",fe=null;for(R=0,le=y.length;R<le;R++){G=y.charAt(R);var d=ce[G];be?d==null?fe==null&&(oe+=ie,fe=!0):(oe+=G,fe=null):d!=null?(fe==null||fe!==d)&&(oe+=d,fe=d):(oe+=G,fe=null)}return oe}),U(a,"$upcase",function(){var u=this;return u.toUpperCase()}),U(a,"$upto",function i(u,o){var y=i.$$p||c,R=this;if(i.$$p=null,o==null&&(o=!1),y===c)return R.$enum_for("upto",u,o);var P,F,G=R.toString();if(u=A(u,l("String"),"to_str"),G.length===1&&u.length===1)for(P=G.charCodeAt(0),F=u.charCodeAt(0);P<=F&&!(o&&P===F);)y(String.fromCharCode(P)),P+=1;else if(parseInt(G,10).toString()===G&&parseInt(u,10).toString()===u)for(P=parseInt(G,10),F=parseInt(u,10);P<=F&&!(o&&P===F);)y(P.toString()),P+=1;else for(;G.length<=u.length&&G<=u&&!(o&&G===u);)y(G),G=G.$succ();return R},-2);function r(i){function u(ce){var de="",he,ve=ce.length,me,be,ie,T,K;for(he=0;he<ve;he++)if(me=ce.charAt(he),me==="-"&&he>0&&he<ve-1&&!be){for(ie=ce.charCodeAt(he-1),T=ce.charCodeAt(he+1),ie>T&&z.$raise(l("ArgumentError"),'invalid range "'+ie+"-"+T+'" in string transliteration'),K=ie+1;K<T+1;K++)de+=String.fromCharCode(K);be=!0,he++}else be=me==="\\",de+=me;return de}function o(ce,de){if(ce.length===0)return de;var he="",ve,me=ce.length,be;for(ve=0;ve<me;ve++)be=ce.charAt(ve),de.indexOf(be)!==-1&&(he+=be);return he}var y,R,P,F,G,re,ae="",le="";for(y=0,R=i.length;y<R;y++)P=A(i[y],l("String"),"to_str"),F=P.charAt(0)==="^"&&P.length>1,P=u(F?P.slice(1):P),F?le=o(le,P):ae=o(ae,P);if(ae.length>0&&le.length>0){for(re="",y=0,R=ae.length;y<R;y++)G=ae.charAt(y),le.indexOf(G)===-1&&(re+=G);ae=re,le=""}return ae.length>0?"["+l("Regexp").$escape(ae)+"]":le.length>0?"[^"+l("Regexp").$escape(le)+"]":null}return U(a,"$instance_variables",function(){return[]}),X(a,"$_load",function(u){var o,y,R=this;return o=H(arguments),y=o,ee(R,"new",W(y))},-1),U(a,"$unicode_normalize",function(u){var o=this;return u==null&&(u="nfc"),L(["nfc","nfd","nfkc","nfkd"]["$include?"](u))||z.$raise(l("ArgumentError"),"Invalid normalization form "+u),o.normalize(u.$upcase())},-1),U(a,"$unicode_normalized?",function(u){var o=this;return u==null&&(u="nfc"),o.$unicode_normalize(u)["$=="](o)},-1),U(a,"$unpack",function(u){return z.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),U(a,"$unpack1",function(u){return z.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),U(a,"$freeze",function(){var u=this;return typeof u=="string"||M(u,"$$frozen",!0),u}),U(a,"$-@",function(){var u=this;return typeof u=="string"||u.$$frozen?u:u.encoding.name=="UTF-8"&&u.internal_encoding.name=="UTF-8"?u.toString():u.$dup().$freeze()}),U(a,"$frozen?",function(){var u=this;return typeof u=="string"||u.$$frozen===!0}),b(a,"+@","dup"),b(a,"===","=="),b(a,"byteslice","[]"),b(a,"eql?","=="),b(a,"equal?","==="),b(a,"object_id","__id__"),b(a,"slice","[]"),b(a,"succ","next"),b(a,"to_str","to_s"),b(a,"to_sym","intern"),$e.$pristine(a,"initialize")}("::",String,E),s(E[0],"Symbol",g("String"))};Opal.modules["corelib/enumerable"]=function(n){var A=n.truthy,h=n.coerce_to,N=n.yield1,M=n.yieldX,Q=n.deny_frozen_access,Z=n.module,D=n.send,V=n.slice,p=n.to_a,U=n.Opal,$e=n.thrower,X=n.def,H=n.Kernel,ee=n.return_val,W=n.rb_gt,j=n.rb_times,v=n.rb_lt,k=n.eqeq,I=n.rb_plus,z=n.rb_minus,L=n.rb_divide,w=n.rb_le,S=n.lambda,B=n.not,x=n.alias,b=[],s=n.nil,f=n.$$$;return n.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(E,g){var c=Z(E,"Enumerable"),l=[c].concat(g),m=n.$r(l);function C(_){return _.length===0&&(_=[s]),_.length>1&&(_=[_]),_}return X(c,"$all?",function _(a){try{var $=$e("return"),t=_.$$p||s,e=this;return _.$$p=null,A(a!==void 0)?D(e,"each",[],function r(i){var u,o,y=s;if(u=V(arguments),o=u,y=C(o),A(D(a,"public_send",["==="].concat(p(y)))))return s;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}):t!==s?D(e,"each",[],function r(i){var u,o;if(u=V(arguments),o=u,A(n.yieldX(t,p(o))))return s;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}):D(e,"each",[],function r(i){var u,o;if(u=V(arguments),o=u,A(U.$destructure(o)))return s;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}),!0}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),X(c,"$any?",function _(a){try{var $=$e("return"),t=_.$$p||s,e=this;return _.$$p=null,A(a!==void 0)?D(e,"each",[],function r(i){var u,o,y=s;if(u=V(arguments),o=u,y=C(o),A(D(a,"public_send",["==="].concat(p(y)))))$.$throw(!0,r.$$is_lambda);else return s},{$$arity:-1,$$ret:$}):t!==s?D(e,"each",[],function r(i){var u,o;if(u=V(arguments),o=u,A(n.yieldX(t,p(o))))$.$throw(!0,r.$$is_lambda);else return s},{$$arity:-1,$$ret:$}):D(e,"each",[],function r(i){var u,o;if(u=V(arguments),o=u,A(U.$destructure(o)))$.$throw(!0,r.$$is_lambda);else return s},{$$arity:-1,$$ret:$}),!1}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),X(c,"$chunk",function _(){var a=_.$$p||s,$=this;return _.$$p=null,a===s?D($,"to_enum",["chunk"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:$}):D(f("Enumerator"),"new",[],function t(e){var r=t.$$s==null?this:t.$$s;e==null&&(e=s);var i=s,u=[];function o(){u.length>0&&e.$yield(i,u)}r.$each.$$p=function(y){var R=N(a,y);R===s?(o(),u=[],i=s):(i===s||i===R?u.push(y):(o(),u=[y]),i=R)},r.$each(),o()},{$$s:$})}),X(c,"$chunk_while",function _(){var a=_.$$p||s,$=this;return _.$$p=null,a===s&&H.$raise(f("ArgumentError"),"no block given"),D($,"slice_when",[],function(e,r){return e==null&&(e=s),r==null&&(r=s),n.yieldX(a,[e,r])["$!"]()})}),X(c,"$collect",function _(){var a=_.$$p||s,$=this;if(_.$$p=null,a===s)return D($,"enum_for",["collect"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$});var t=[];return $.$each.$$p=function(){var e=M(a,arguments);t.push(e)},$.$each(),t}),X(c,"$collect_concat",function _(){var a=_.$$p||s,$=this;return _.$$p=null,a===s?D($,"enum_for",["collect_concat"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:$}):D($,"map",[],a.$to_proc()).$flatten(1)}),X(c,"$compact",function(){var a=this;return a.$to_a().$compact()}),X(c,"$count",function _(a){var $=_.$$p||s,t=this,e=s;return _.$$p=null,e=0,a!=null&&$!==s&&t.$warn("warning: given block not used"),A(a!=null)?$=D(H,"proc",[],function(i){var u,o;return u=V(arguments),o=u,U.$destructure(o)["$=="](a)},-1):A($["$nil?"]())&&($=D(H,"proc",[],ee(!0))),D(t,"each",[],function(i){var u,o;return u=V(arguments),o=u,A(M($,o))?e++:s},-1),e},-1),X(c,"$cycle",function _(a){var $=_.$$p||s,t=this;if(_.$$p=null,a==null&&(a=s),$===s)return D(t,"enum_for",["cycle",a],function u(){var o=u.$$s==null?this:u.$$s;return A(a["$nil?"]())?A(o["$respond_to?"]("size"))?f(f("Float"),"INFINITY"):s:(a=U["$coerce_to!"](a,f("Integer"),"to_int"),A(W(a,0))?j(o.$enumerator_size(),a):0)},{$$s:t});if(!A(a["$nil?"]())&&(a=U["$coerce_to!"](a,f("Integer"),"to_int"),A(a<=0)))return s;var e=[],r,i;if(t.$each.$$p=function(){var u=U.$destructure(arguments);N($,u),e.push(u)},t.$each(),e.length===0)return s;if(a===s)for(;;)for(r=0,i=e.length;r<i;r++)N($,e[r]);else for(;a>1;){for(r=0,i=e.length;r<i;r++)N($,e[r]);a--}},-1),X(c,"$detect",function _(a){try{var $=$e("return"),t=_.$$p||s,e=this;return _.$$p=null,t===s?e.$enum_for("detect",a):(D(e,"each",[],function r(i){var u,o,y=s;if(u=V(arguments),o=u,y=U.$destructure(o),A(n.yield1(t,y)))$.$throw(y,r.$$is_lambda);else return s},{$$arity:-1,$$ret:$}),a!==void 0?typeof a=="function"?a():a:s)}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),X(c,"$drop",function(a){var $=this;a=h(a,f("Integer"),"to_int"),A(a<0)&&H.$raise(f("ArgumentError"),"attempt to drop negative size");var t=[],e=0;return $.$each.$$p=function(){a<=e&&t.push(U.$destructure(arguments)),e++},$.$each(),t}),X(c,"$drop_while",function _(){var a=_.$$p||s,$=this;if(_.$$p=null,a===s)return $.$enum_for("drop_while");var t=[],e=!0;return $.$each.$$p=function(){var r=U.$destructure(arguments);if(e){var i=N(a,r);A(i)||(e=!1,t.push(r))}else t.push(r)},$.$each(),t}),X(c,"$each_cons",function _(a){var $=_.$$p||s,t=this;if(_.$$p=null,A(arguments.length!=1)&&H.$raise(f("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),a=U.$try_convert(a,f("Integer"),"to_int"),A(a<=0)&&H.$raise(f("ArgumentError"),"invalid size"),$===s)return D(t,"enum_for",["each_cons",a],function r(){var i=r.$$s==null?this:r.$$s,u=s;return u=i.$enumerator_size(),A(u["$nil?"]())?s:k(u,0)||A(v(u,a))?0:I(z(u,a),1)},{$$s:t});var e=[];return t.$each.$$p=function(){var r=U.$destructure(arguments);e.push(r),e.length>a&&e.shift(),e.length==a&&N($,e.slice(0,a))},t.$each(),t}),X(c,"$each_entry",function _(a){var $=_.$$p||s,t,e,r=this;return _.$$p=null,t=V(arguments),e=t,$===s?D(r,"to_enum",["each_entry"].concat(p(e)),function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:r}):(r.$each.$$p=function(){var i=U.$destructure(arguments);N($,i)},r.$each.apply(r,e),r)},-1),X(c,"$each_slice",function _(a){var $=_.$$p||s,t=this;if(_.$$p=null,a=h(a,f("Integer"),"to_int"),A(a<=0)&&H.$raise(f("ArgumentError"),"invalid slice size"),$===s)return D(t,"enum_for",["each_slice",a],function r(){var i=r.$$s==null?this:r.$$s;return A(i["$respond_to?"]("size"))?L(i.$size(),a).$ceil():s},{$$s:t});var e=[];return t.$each.$$p=function(){var r=U.$destructure(arguments);e.push(r),e.length===a&&(N($,e),e=[])},t.$each(),e.length>0&&N($,e),t}),X(c,"$each_with_index",function _(a){var $=_.$$p||s,t,e,r=this;if(_.$$p=null,t=V(arguments),e=t,$===s)return D(r,"enum_for",["each_with_index"].concat(p(e)),function u(){var o=u.$$s==null?this:u.$$s;return o.$enumerator_size()},{$$s:r});var i=0;return r.$each.$$p=function(){var u=U.$destructure(arguments);$(u,i),i++},r.$each.apply(r,e),r},-1),X(c,"$each_with_object",function _(a){var $=_.$$p||s,t=this;return _.$$p=null,$===s?D(t,"enum_for",["each_with_object",a],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:t}):(t.$each.$$p=function(){var e=U.$destructure(arguments);$(e,a)},t.$each(),a)}),X(c,"$entries",function(a){var $,t,e=this;$=V(arguments),t=$;var r=[];return e.$each.$$p=function(){r.push(U.$destructure(arguments))},e.$each.apply(e,t),r},-1),X(c,"$filter_map",function _(){var a=_.$$p||s,$=this;return _.$$p=null,a===s?D($,"enum_for",["filter_map"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:$}):D(D($,"map",[],a.$to_proc()),"select",[],"itself".$to_proc())}),X(c,"$find_all",function _(){var a=_.$$p||s,$=this;if(_.$$p=null,a===s)return D($,"enum_for",["find_all"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$});var t=[];return $.$each.$$p=function(){var e=U.$destructure(arguments),r=N(a,e);A(r)&&t.push(e)},$.$each(),t}),X(c,"$find_index",function _(a){try{var $=$e("return"),t=_.$$p||s,e=this,r=s;return _.$$p=null,A(a===void 0&&t===s)?e.$enum_for("find_index"):(a!=null&&t!==s&&e.$warn("warning: given block not used"),r=0,A(a!=null)?D(e,"each",[],function i(u){var o,y;return o=V(arguments),y=o,k(U.$destructure(y),a)&&$.$throw(r,i.$$is_lambda),r+=1},{$$arity:-1,$$ret:$}):D(e,"each",[],function i(u){var o,y;return o=V(arguments),y=o,A(n.yieldX(t,p(y)))&&$.$throw(r,i.$$is_lambda),r+=1},{$$arity:-1,$$ret:$}),s)}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),X(c,"$first",function(a){try{var $=$e("return"),t=this,e=s,r=s;return A(a===void 0)?D(t,"each",[],function i(u){u==null&&(u=s),$.$throw(u,i.$$is_lambda)},{$$ret:$}):(e=[],a=h(a,f("Integer"),"to_int"),A(a<0)&&H.$raise(f("ArgumentError"),"attempt to take negative size"),A(a==0)?[]:(r=0,D(t,"each",[],function i(u){var o,y;if(o=V(arguments),y=o,e.push(U.$destructure(y)),A(a<=++r))$.$throw(e,i.$$is_lambda);else return s},{$$arity:-1,$$ret:$}),e))}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),X(c,"$grep",function _(a){var $=_.$$p||s,t=this,e=s;return _.$$p=null,e=[],D(t,"each",[],function(i){var u,o,y=s;return u=V(arguments),o=u,y=C(o),A(D(a,"__send__",["==="].concat(p(y))))?($!==s?(A(W(o.$length(),1))&&(o=[o]),o=n.yieldX($,p(o))):A(w(o.$length(),1))&&(o=o["$[]"](0)),e.$push(o)):s},-1),e}),X(c,"$grep_v",function _(a){var $=_.$$p||s,t=this,e=s;return _.$$p=null,e=[],D(t,"each",[],function(i){var u,o,y=s;return u=V(arguments),o=u,y=C(o),A(D(a,"__send__",["==="].concat(p(y))))?s:($!==s?(A(W(o.$length(),1))&&(o=[o]),o=n.yieldX($,p(o))):A(w(o.$length(),1))&&(o=o["$[]"](0)),e.$push(o))},-1),e}),X(c,"$group_by",function _(){var a=_.$$p||s,$,t=this,e=s,r=s;return _.$$p=null,a===s?D(t,"enum_for",["group_by"],function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:t}):(e=new Map,t.$each.$$p=function(){var i=U.$destructure(arguments),u=N(a,i);(A(r=e["$[]"](u))?r:($=[u,[]],D(e,"[]=",$),$[$.length-1]))["$<<"](i)},t.$each(),e)}),X(c,"$include?",function(a){try{var $=$e("return"),t=this;return D(t,"each",[],function e(r){var i,u;if(i=V(arguments),u=i,k(U.$destructure(u),a))$.$throw(!0,e.$$is_lambda);else return s},{$$arity:-1,$$ret:$}),!1}catch(e){if(e===$)return e.$v;throw e}finally{$.is_orphan=!0}}),X(c,"$inject",function _(a,$){var t=_.$$p||s,e=this;_.$$p=null;var r=a;return t!==s&&$===void 0?e.$each.$$p=function(){var i=U.$destructure(arguments);if(r===void 0){r=i;return}i=M(t,[r,i]),r=i}:($===void 0&&(f("Symbol")["$==="](a)||H.$raise(f("TypeError"),""+a.$inspect()+" is not a Symbol"),$=a,r=void 0),e.$each.$$p=function(){var i=U.$destructure(arguments);if(r===void 0){r=i;return}r=r.$__send__($,i)}),e.$each(),r??s},-1),X(c,"$lazy",function(){var a=this;return D(f(f("Enumerator"),"Lazy"),"new",[a,a.$enumerator_size()],function(t,e){var r,i;return t==null&&(t=s),r=V(arguments,1),i=r,D(t,"yield",p(i))},-2)}),X(c,"$enumerator_size",function(){var a=this;return A(a["$respond_to?"]("size"))?a.$size():s}),X(c,"$max",function _(a){var $=_.$$p||s,t=this;if(_.$$p=null,a===void 0||a===s){var e,r;return t.$each.$$p=function(){var i=U.$destructure(arguments);if(e===void 0){e=i;return}$!==s?r=M($,[i,e]):r=i["$<=>"](e),r===s&&H.$raise(f("ArgumentError"),"comparison failed"),r>0&&(e=i)},t.$each(),e===void 0?s:e}return a=h(a,f("Integer"),"to_int"),D(t,"sort",[],$.$to_proc()).$reverse().$first(a)},-1),X(c,"$max_by",function _(a){var $=_.$$p||s,t=this;if(_.$$p=null,a==null&&(a=s),!A($))return D(t,"enum_for",["max_by",a],function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:t});if(!A(a["$nil?"]()))return D(t,"sort_by",[],$.$to_proc()).$reverse().$take(a);var e,r;return t.$each.$$p=function(){var i=U.$destructure(arguments),u=N($,i);if(e===void 0){e=i,r=u;return}u["$<=>"](r)>0&&(e=i,r=u)},t.$each(),e===void 0?s:e},-1),X(c,"$min",function _(a){var $=_.$$p||s,t=this;if(_.$$p=null,a==null&&(a=s),!A(a["$nil?"]()))return $!==s?D(t,"sort",[],function(i,u){return i==null&&(i=s),u==null&&(u=s),n.yieldX($,[i,u])}).$take(a):t.$sort().$take(a);var e;return $!==s?t.$each.$$p=function(){var r=U.$destructure(arguments);if(e===void 0){e=r;return}var i=$(r,e);i===s&&H.$raise(f("ArgumentError"),"comparison failed"),i<0&&(e=r)}:t.$each.$$p=function(){var r=U.$destructure(arguments);if(e===void 0){e=r;return}U.$compare(r,e)<0&&(e=r)},t.$each(),e===void 0?s:e},-1),X(c,"$min_by",function _(a){var $=_.$$p||s,t=this;if(_.$$p=null,a==null&&(a=s),!A($))return D(t,"enum_for",["min_by",a],function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:t});if(!A(a["$nil?"]()))return D(t,"sort_by",[],$.$to_proc()).$take(a);var e,r;return t.$each.$$p=function(){var i=U.$destructure(arguments),u=N($,i);if(e===void 0){e=i,r=u;return}u["$<=>"](r)<0&&(e=i,r=u)},t.$each(),e===void 0?s:e},-1),X(c,"$minmax",function _(){var a=_.$$p||s,$=this,t=s;_.$$p=null,a=A(t=a)?t:D(H,"proc",[],function(o,y){return o==null&&(o=s),y==null&&(y=s),o["$<=>"](y)});var e=s,r=s,i=!0;return $.$each.$$p=function(){var u=U.$destructure(arguments);if(i)e=r=u,i=!1;else{var o=a.$call(e,u);o===s?H.$raise(f("ArgumentError"),"comparison failed"):o>0&&(e=u);var y=a.$call(r,u);y===s?H.$raise(f("ArgumentError"),"comparison failed"):y<0&&(r=u)}},$.$each(),[e,r]}),X(c,"$minmax_by",function _(){var a=_.$$p||s,$=this;if(_.$$p=null,!A(a))return D($,"enum_for",["minmax_by"],function u(){var o=u.$$s==null?this:u.$$s;return o.$enumerator_size()},{$$s:$});var t=s,e=s,r,i;return $.$each.$$p=function(){var u=U.$destructure(arguments),o=N(a,u);(r===void 0||o["$<=>"](r)<0)&&(t=u,r=o),(i===void 0||o["$<=>"](i)>0)&&(e=u,i=o)},$.$each(),[t,e]}),X(c,"$none?",function _(a){try{var $=$e("return"),t=_.$$p||s,e=this;return _.$$p=null,A(a!==void 0)?D(e,"each",[],function r(i){var u,o,y=s;if(u=V(arguments),o=u,y=C(o),A(D(a,"public_send",["==="].concat(p(y)))))$.$throw(!1,r.$$is_lambda);else return s},{$$arity:-1,$$ret:$}):t!==s?D(e,"each",[],function r(i){var u,o;if(u=V(arguments),o=u,A(n.yieldX(t,p(o))))$.$throw(!1,r.$$is_lambda);else return s},{$$arity:-1,$$ret:$}):D(e,"each",[],function r(i){var u,o,y=s;if(u=V(arguments),o=u,y=U.$destructure(o),A(y))$.$throw(!1,r.$$is_lambda);else return s},{$$arity:-1,$$ret:$}),!0}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),X(c,"$one?",function _(a){try{var $=$e("return"),t=_.$$p||s,e=this,r=s;return _.$$p=null,r=0,A(a!==void 0)?D(e,"each",[],function i(u){var o,y,R=s;if(o=V(arguments),y=o,R=C(y),A(D(a,"public_send",["==="].concat(p(R)))))if(r=I(r,1),A(W(r,1)))$.$throw(!1,i.$$is_lambda);else return s;else return s},{$$arity:-1,$$ret:$}):t!==s?D(e,"each",[],function i(u){var o,y;if(o=V(arguments),y=o,!A(n.yieldX(t,p(y))))return s;if(r=I(r,1),A(W(r,1)))$.$throw(!1,i.$$is_lambda);else return s},{$$arity:-1,$$ret:$}):D(e,"each",[],function i(u){var o,y;if(o=V(arguments),y=o,!A(U.$destructure(y)))return s;if(r=I(r,1),A(W(r,1)))$.$throw(!1,i.$$is_lambda);else return s},{$$arity:-1,$$ret:$}),r["$=="](1)}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),X(c,"$partition",function _(){var a=_.$$p||s,$=this;if(_.$$p=null,a===s)return D($,"enum_for",["partition"],function r(){var i=r.$$s==null?this:r.$$s;return i.$enumerator_size()},{$$s:$});var t=[],e=[];return $.$each.$$p=function(){var r=U.$destructure(arguments),i=N(a,r);A(i)?t.push(r):e.push(r)},$.$each(),[t,e]}),X(c,"$reject",function _(){var a=_.$$p||s,$=this;if(_.$$p=null,a===s)return D($,"enum_for",["reject"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$});var t=[];return $.$each.$$p=function(){var e=U.$destructure(arguments),r=N(a,e);A(r)||t.push(e)},$.$each(),t}),X(c,"$reverse_each",function _(){var a=_.$$p||s,$=this;if(_.$$p=null,a===s)return D($,"enum_for",["reverse_each"],function r(){var i=r.$$s==null?this:r.$$s;return i.$enumerator_size()},{$$s:$});var t=[];$.$each.$$p=function(){t.push(arguments)},$.$each();for(var e=t.length-1;e>=0;e--)M(a,t[e]);return t}),X(c,"$slice_before",function _(a){var $=_.$$p||s,t=this;return _.$$p=null,A(a===void 0&&$===s)&&H.$raise(f("ArgumentError"),"both pattern and block are given"),A(a!==void 0&&$!==s||arguments.length>1)&&H.$raise(f("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),D(f("Enumerator"),"new",[],function e(r){var i=e.$$s==null?this:e.$$s;r==null&&(r=s);var u=[];$!==s?a===void 0?i.$each.$$p=function(){var o=U.$destructure(arguments),y=N($,o);A(y)&&u.length>0&&(r["$<<"](u),u=[]),u.push(o)}:i.$each.$$p=function(){var o=U.$destructure(arguments),y=$(o,a.$dup());A(y)&&u.length>0&&(r["$<<"](u),u=[]),u.push(o)}:i.$each.$$p=function(){var o=U.$destructure(arguments),y=a["$==="](o);A(y)&&u.length>0&&(r["$<<"](u),u=[]),u.push(o)},i.$each(),u.length>0&&r["$<<"](u)},{$$s:t})},-1),X(c,"$slice_after",function _(a){var $=_.$$p||s,t=this;return _.$$p=null,A(a===void 0&&$===s)&&H.$raise(f("ArgumentError"),"both pattern and block are given"),A(a!==void 0&&$!==s||arguments.length>1)&&H.$raise(f("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),A(a!==void 0)&&($=D(H,"proc",[],function(r){return r==null&&(r=s),a["$==="](r)})),D(f("Enumerator"),"new",[],function e(r){var i=e.$$s==null?this:e.$$s;r==null&&(r=s);var u;i.$each.$$p=function(){var o=U.$destructure(arguments),y=N($,o);u==null&&(u=[]),A(y)?(u.push(o),r.$yield(u),u=null):u.push(o)},i.$each(),u!=null&&r.$yield(u)},{$$s:t})},-1),X(c,"$slice_when",function _(){var a=_.$$p||s,$=this;return _.$$p=null,a===s&&H.$raise(f("ArgumentError"),"wrong number of arguments (0 for 1)"),D(f("Enumerator"),"new",[],function t(e){var r=t.$$s==null?this:t.$$s;e==null&&(e=s);var i=s,u=s;r.$each_cons.$$p=function(){var o=U.$destructure(arguments),y=o[0],R=o[1],P=M(a,[y,R]);u=R,i===s&&(i=[]),A(P)?(i.push(y),e.$yield(i),i=[]):i.push(y)},r.$each_cons(2),i!==s&&(i.push(u),e.$yield(i))},{$$s:$})}),X(c,"$sort",function _(){var a=_.$$p||s,$=this,t=s;return _.$$p=null,t=$.$to_a(),a===s&&(a=S(function(r,i){return r==null&&(r=s),i==null&&(i=s),r["$<=>"](i)})),D(t,"sort",[],a.$to_proc())}),X(c,"$sort_by",function _(){var a=_.$$p||s,$=this,t=s;return _.$$p=null,a===s?D($,"enum_for",["sort_by"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$}):(t=D($,"map",[],function(){var r=s;return r=U.$destructure(arguments),[n.yield1(a,r),r]}),D(t,"sort!",[],function(r,i){return r==null&&(r=s),i==null&&(i=s),r[0]["$<=>"](i[0])}),D(t,"map!",[],function(r){return r==null&&(r=s),r[1]}))}),X(c,"$sum",function _(a){var $=_.$$p||s,t=this,e=s,r=s;return _.$$p=null,a==null&&(a=0),e=a,r=0,D(t,"each",[],function(u){var o,y,R=s,P=s,F=s;return o=V(arguments),y=o,R=$!==s?n.yieldX($,p(y)):U.$destructure(y),B([f(f("Float"),"INFINITY"),f(f("Float"),"INFINITY")["$-@"]()]["$include?"](R))&&A(R["$respond_to?"]("-"))?(P=z(R,r),F=I(e,P),r=z(z(F,e),P),e=F):e=I(e,R)},-1),e},-1),X(c,"$take",function(a){var $=this;return $.$first(a)}),X(c,"$take_while",function _(){try{var a=$e("return"),$=_.$$p||s,t=this,e=s;return _.$$p=null,A($)?(e=[],D(t,"each",[],function r(i){var u,o,y=s;return u=V(arguments),o=u,y=U.$destructure(o),A(n.yield1($,y))||a.$throw(e,r.$$is_lambda),e.push(y)},{$$arity:-1,$$ret:a})):t.$enum_for("take_while")}catch(r){if(r===a)return r.$v;throw r}finally{a.is_orphan=!0}}),X(c,"$uniq",function _(){var a=_.$$p||s,$=this,t=s;return _.$$p=null,t=new Map,D($,"each",[],function(r){var i,u,o,y=s,R=s;return i=V(arguments),u=i,y=U.$destructure(u),R=a!==s?n.yield1(a,y):y,A(t["$key?"](R))?s:(o=[R,y],D(t,"[]=",o),o[o.length-1])},-1),t.$values()}),X(c,"$tally",function(a){var $=this,t=s;return a&&a!==s&&Q(a),t=D(D($,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),A(a)?(D(t,"each",[],function(r,i){var u;return r==null&&(r=s),i==null&&(i=s),u=[r,I(a.$fetch(r,0),i)],D(a,"[]=",u),u[u.length-1]}),a):t},-1),X(c,"$to_h",function _(a){var $=_.$$p||s,t,e,r=this;if(_.$$p=null,t=V(arguments),e=t,$!==s)return D(D(r,"map",[],$.$to_proc()),"to_h",p(e));var i=new Map;return r.$each.$$p=function(){var u=U.$destructure(arguments),o=U["$coerce_to?"](u,f("Array"),"to_ary"),y,R;o.$$is_array||H.$raise(f("TypeError"),"wrong element type "+u.$class()+" (expected array)"),o.length!==2&&H.$raise(f("ArgumentError"),"element has wrong array length (expected 2, was "+o.$length()+")"),y=o[0],R=o[1],n.hash_put(i,y,R)},r.$each.apply(r,e),i},-1),X(c,"$to_set",function _(a,$){var t=_.$$p||s,e,r,i,u=this;return _.$$p=null,e=V(arguments),e.length>0&&(r=e.shift()),r==null&&(r=m("Set")),i=e,D(r,"new",[u].concat(p(i)),t.$to_proc())},-1),X(c,"$zip",function _(a){_.$$p;var $,t,e=this;return _.$$p=null,$=V(arguments),t=$,D(e.$to_a(),"zip",p(t))},-1),x(c,"find","detect"),x(c,"filter","find_all"),x(c,"flat_map","collect_concat"),x(c,"map","collect"),x(c,"member?","include?"),x(c,"reduce","inject"),x(c,"select","find_all"),x(c,"to_a","entries")}("::",b)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(n){var A=n.klass,h=n.truthy,N=n.to_a,M=n.eqeq,Q=n.Kernel,Z=n.def,D=n.rb_gt,V=n.rb_lt,p=n.rb_le,U=n.rb_ge,$e=n.rb_plus,X=n.rb_minus,H=n.eqeqeq,ee=n.not,W=n.rb_times,j=n.rb_divide,v=n.alias,k=[],I=n.nil,z=n.$$$;return n.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(L,w,S){var B=A(L,w,"Enumerator"),x=[B].concat(S);return function(b,s,f){var E=A(b,s,"ArithmeticSequence"),g=[E].concat(f),c=n.$r(g),l=E.$$prototype;l.step_arg2=l.receiver_num=l.step_arg1=l.step=l.range=l.topfx=l.bypfx=l.creation_method=l.skipped_arg=I,n.prop(E.$$prototype,"$$is_arithmetic_seq",!0);var m=1/0;return Z(E,"$initialize",function(_,a,$){var t,e=this,r=I;return $==null&&($="step"),e.creation_method=$,h(_["$is_a?"](z("Array")))?(t=[].concat(N(_)),e.step_arg1=t[0]==null?I:t[0],e.step_arg2=t[1]==null?I:t[1],e.topfx=t[2]==null?I:t[2],e.bypfx=t[3]==null?I:t[3],e.receiver_num=a,e.step=1,e.range=h(e.step_arg2)?(e.step=e.step_arg2,n.Range.$new(e.receiver_num,e.step_arg1,!1)):h(e.step_arg1)?n.Range.$new(e.receiver_num,e.step_arg1,!1):n.Range.$new(e.receiver_num,I,!1)):(h(a)||(e.skipped_arg=!0),t=[_,h(r=a)?r:1],e.range=t[0],e.step=t[1]),e.object=e,M(e.step,0)&&Q.$raise(c("ArgumentError"),"step can't be 0"),h(e.step["$respond_to?"]("to_int"))?I:Q.$raise(c("ArgumentError"),"no implicit conversion of "+e.step.$class()+" into Integer")},-2),E.$attr_reader("step"),Z(E,"$begin",function(){var _=this;return _.range.$begin()}),Z(E,"$end",function(){var _=this;return _.range.$end()}),Z(E,"$exclude_end?",function(){var _=this;return _.range["$exclude_end?"]()}),Z(E,"$_lesser_than_end?",function(_){var a=this,$=I,t=I;return $=h(t=a.$end())?t:m,h(D(a.$step(),0))?h(a["$exclude_end?"]())?V(_,$):p(_,$):h(a["$exclude_end?"]())?D(_,$):U(_,$)}),Z(E,"$_greater_than_begin?",function(_){var a=this,$=I,t=I;return $=h(t=a.$begin())?t:m["$-@"](),h(D(a.$step(),0))?D(_,$):V(_,$)}),Z(E,"$first",function(_){var a=this,$=I,t=I,e=I;if($=h(t=a.$begin())?t:m["$-@"](),!h(_))return h(a["$_lesser_than_end?"]($))?$:I;for(e=[];h(h(t=a["$_lesser_than_end?"]($))?D(_,0):t);)e["$<<"]($),$=$e($,a.$step()),_=X(_,1);return e},-1),Z(E,"$each",function C(){var _=C.$$p||I,a=this,$=I,t=I;if(C.$$p=null,_===I)return a;for(H(I,$=a.$begin())&&Q.$raise(c("TypeError"),"nil can't be coerced into Integer"),t=h($=a.$begin())?$:m["$-@"]();h(a["$_lesser_than_end?"](t));)n.yield1(_,t),t=$e(t,a.$step());return a}),Z(E,"$last",function(_){var a=this,$=I,t=I,e=I;if(H(m,$=a.$end())||H(m["$-@"](),$)?Q.$raise(z("FloatDomainError"),a.$end()):H(I,$)&&Q.$raise(z("RangeError"),"cannot get the last element of endless arithmetic sequence"),t=X(a.$end(),X(a.$end(),a.$begin())["$%"](a.$step())),h(a["$_lesser_than_end?"](t))||(t=X(t,a.$step())),!h(_))return h(a["$_greater_than_begin?"](t))?t:I;for(e=[];h(h($=a["$_greater_than_begin?"](t))?D(_,0):$);)e["$<<"](t),t=X(t,a.$step()),_=X(_,1);return e.$reverse()},-1),Z(E,"$size",function(){var _=this,a=I,$=I;return a=h(D(_.$step(),0))?1:-1,ee(_["$_lesser_than_end?"](_.$begin()))?0:h([m["$-@"](),m]["$include?"](_.$step()))?1:h([W(m["$-@"](),a),I]["$include?"](_.$begin()))||h([W(m,a),I]["$include?"](_.$end()))?m:($=X(_.$end(),X(_.$end(),_.$begin())["$%"](_.$step())),h(_["$_lesser_than_end?"]($))||($=X($,_.$step())),$e(j(X($,_.$begin()),_.$step()).$abs().$to_i(),1))}),Z(E,"$==",function(_){var a=this,$=I,t=I,e=I,r=I;return h($=h(t=h(e=h(r=a.$class()["$=="](_.$class()))?a.$begin()["$=="](_.$begin()):r)?a.$end()["$=="](_.$end()):e)?a.$step()["$=="](_.$step()):t)?a["$exclude_end?"]()["$=="](_["$exclude_end?"]()):$}),Z(E,"$hash",function(){var _=this;return[c("ArithmeticSequence"),_.$begin(),_.$end(),_.$step(),_["$exclude_end?"]()].$hash()}),Z(E,"$inspect",function(){var _=this,a=I;return h(_.receiver_num)?(a=h(_.step_arg2)?"("+_.topfx+_.step_arg1.$inspect()+", "+_.bypfx+_.step_arg2.$inspect()+")":h(_.step_arg1)?"("+_.topfx+_.step_arg1.$inspect()+")":I,"("+_.receiver_num.$inspect()+"."+_.creation_method+a+")"):(a=h(_.skipped_arg)?I:"("+_.step+")","(("+_.range.$inspect()+")."+_.creation_method+a+")")}),v(E,"===","=="),v(E,"eql?","==")}(B,B,x)}("::",null,k)};Opal.modules["corelib/enumerator/chain"]=function(n){var A=n.deny_frozen_access,h=n.klass,N=n.slice,M=n.def,Q=n.send,Z=n.to_a,D=n.truthy,V=n.rb_plus,p=n.thrower,U=n.nil,$e=n.$$$;return n.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(X,H){var ee=h(X,H,"Enumerator");return function(W,j){var v=h(W,j,"Chain"),k=v.$$prototype;return k.enums=k.iterated=U,M(v,"$initialize",function(z){var L,w,S=this;return L=N(arguments),w=L,A(S),S.enums=w,S.iterated=[],S.object=S},-1),M(v,"$each",function I(z){var L=I.$$p||U,w,S,B=this;return I.$$p=null,w=N(arguments),S=w,L===U?Q(B,"to_enum",["each"].concat(Z(S)),function x(){var b=x.$$s==null?this:x.$$s;return b.$size()},{$$s:B}):(Q(B.enums,"each",[],function x(b){var s=x.$$s==null?this:x.$$s;return s.iterated==null&&(s.iterated=U),b==null&&(b=U),s.iterated["$<<"](b),Q(b,"each",Z(S),L.$to_proc())},{$$s:B}),B)},-1),M(v,"$size",function(z){try{var L=p("return"),w,S,B=this,x=U;return w=N(arguments),S=w,x=0,Q(B.enums,"each",[],function b(s){var f=U;return s==null&&(s=U),f=Q(s,"size",Z(S)),D([U,$e($e("Float"),"INFINITY")]["$include?"](f))&&L.$throw(f,b.$$is_lambda),x=V(x,f)},{$$ret:L}),x}catch(b){if(b===L)return b.$v;throw b}finally{L.is_orphan=!0}},-1),M(v,"$rewind",function(){var z=this;return Q(z.iterated,"reverse_each",[],function(w){return w==null&&(w=U),D(w["$respond_to?"]("rewind"))?w.$rewind():U}),z.iterated=[],z}),M(v,"$inspect",function(){var z=this;return"#<Enumerator::Chain: "+z.enums.$inspect()+">"})}(ee,ee)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(n){var A=n.deny_frozen_access,h=n.klass,N=n.truthy,M=n.Kernel,Q=n.def,Z=n.slice,D=n.send,V=[],p=n.nil,U=n.$$$;return n.add_stubs("include,raise,new,to_proc"),function($e,X,H){var ee=h($e,X,"Enumerator"),W=[ee].concat(H);return function(j,v,k){var I=h(j,v,"Generator"),z=[I].concat(k),L=n.$r(z),w=I.$$prototype;return w.block=p,I.$include(U("Enumerable")),Q(I,"$initialize",function S(){var B=S.$$p||p,x=this;return S.$$p=null,A(x),N(B)||M.$raise(U("LocalJumpError"),"no block given"),x.block=B}),Q(I,"$each",function S(B){var x=S.$$p||p,b,s,f=this,E=p;S.$$p=null,b=Z(arguments),s=b,E=D(L("Yielder"),"new",[],x.$to_proc());try{s.unshift(E),n.yieldX(f.block,s)}catch(g){if(g&&g.$thrower_type=="breaker")return g.$v;throw g}return f},-1)}(W[0],null,W)}(V[0],null,V)};Opal.modules["corelib/enumerator/lazy"]=function(n){var A=n.truthy,h=n.coerce_to,N=n.yield1,M=n.yieldX,Q=n.deny_frozen_access,Z=n.klass,D=n.slice,V=n.send2,p=n.find_super,U=n.to_a,$e=n.defs,X=n.Kernel,H=n.send,ee=n.def,W=n.return_self,j=n.Opal,v=n.rb_lt,k=n.eqeqeq,I=n.rb_plus,z=n.alias,L=[],w=n.nil,S=n.$$$;return n.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(B,x,b){var s=Z(B,x,"Enumerator"),f=[s].concat(b);return function(E,g,c){var l=Z(E,g,"Lazy"),m=[l].concat(c),C=n.$r(m),_=l.$$prototype;return _.enumerator=w,Z(l,S("Exception"),"StopLazyError"),$e(l,"$for",function a($,t){var e,r,i=a.$$p||w,u=this,o=w;return a.$$p=null,e=D(arguments,1),r=e,o=V(u,p(u,"for",a,!1,!0),"for",[$].concat(U(r)),i),o.enumerator=$,o},-2),ee(l,"$initialize",function a($,t){var e=a.$$p||w,r=this;return a.$$p=null,t==null&&(t=w),Q(r),e===w&&X.$raise(S("ArgumentError"),"tried to call lazy new without a block"),r.enumerator=$,V(r,p(r,"initialize",a,!1,!0),"initialize",[t],function(u,o){var y,R;u==null&&(u=w),y=D(arguments,1),R=y;try{return H($,"each",U(R),function(F){var G,re;G=D(arguments),re=G,re.unshift(u),M(e,re)},-1)}catch(P){if(n.rescue(P,[C("StopLazyError")]))try{return w}finally{n.pop_exception(P)}else throw P}},-2)},-2),ee(l,"$lazy",W),ee(l,"$collect",function a(){var $=a.$$p||w,t=this;return a.$$p=null,A($)||X.$raise(S("ArgumentError"),"tried to call lazy map without a block"),H(C("Lazy"),"new",[t,t.$enumerator_size()],function(r,i){var u,o;r==null&&(r=w),u=D(arguments,1),o=u;var y=M($,o);r.$yield(y)},-2)}),ee(l,"$collect_concat",function a(){var $=a.$$p||w,t=this;return a.$$p=null,A($)||X.$raise(S("ArgumentError"),"tried to call lazy map without a block"),H(C("Lazy"),"new",[t,w],function(r,i){var u,o;r==null&&(r=w),u=D(arguments,1),o=u;var y=M($,o);if(y["$respond_to?"]("force")&&y["$respond_to?"]("each"))H(y,"each",[],function(F){return F==null&&(F=w),r.$yield(F)});else{var R=j.$try_convert(y,S("Array"),"to_ary");R===w?r.$yield(y):H(y,"each",[],function(F){return F==null&&(F=w),r.$yield(F)})}},-2)}),ee(l,"$drop",function($){var t=this,e=w,r=w,i=w;return $=h($,S("Integer"),"to_int"),A(v($,0))&&X.$raise(S("ArgumentError"),"attempt to drop negative size"),e=t.$enumerator_size(),r=k(S("Integer"),e)&&A(v($,e))?$:e,i=0,H(C("Lazy"),"new",[t,r],function(o,y){var R,P;return o==null&&(o=w),R=D(arguments,1),P=R,A(v(i,$))?i=I(i,1):H(o,"yield",U(P))},-2)}),ee(l,"$drop_while",function a(){var $=a.$$p||w,t=this,e=w;return a.$$p=null,A($)||X.$raise(S("ArgumentError"),"tried to call lazy drop_while without a block"),e=!0,H(C("Lazy"),"new",[t,w],function(i,u){var o,y;if(i==null&&(i=w),o=D(arguments,1),y=o,A(e)){var R=M($,y);A(R)||(e=!1,H(i,"yield",U(y)))}else return H(i,"yield",U(y))},-2)}),ee(l,"$enum_for",function a($,t){var e=a.$$p||w,r,i,u,o=this;return a.$$p=null,r=D(arguments),r.length>0&&(i=r.shift()),i==null&&(i="each"),u=r,H(o.$class(),"for",[o,i].concat(U(u)),e.$to_proc())},-1),ee(l,"$find_all",function a(){var $=a.$$p||w,t=this;return a.$$p=null,A($)||X.$raise(S("ArgumentError"),"tried to call lazy select without a block"),H(C("Lazy"),"new",[t,w],function(r,i){var u,o;r==null&&(r=w),u=D(arguments,1),o=u;var y=M($,o);A(y)&&H(r,"yield",U(o))},-2)}),ee(l,"$grep",function a($){var t=a.$$p||w,e=this;return a.$$p=null,A(t)?H(C("Lazy"),"new",[e,w],function(i,u){var o,y;i==null&&(i=w),o=D(arguments,1),y=o;var R=j.$destructure(y),P=$["$==="](R);A(P)&&(P=N(t,R),i.$yield(N(t,R)))},-2):H(C("Lazy"),"new",[e,w],function(i,u){var o,y;i==null&&(i=w),o=D(arguments,1),y=o;var R=j.$destructure(y),P=$["$==="](R);A(P)&&i.$yield(R)},-2)}),ee(l,"$reject",function a(){var $=a.$$p||w,t=this;return a.$$p=null,A($)||X.$raise(S("ArgumentError"),"tried to call lazy reject without a block"),H(C("Lazy"),"new",[t,w],function(r,i){var u,o;r==null&&(r=w),u=D(arguments,1),o=u;var y=M($,o);A(y)||H(r,"yield",U(o))},-2)}),ee(l,"$take",function($){var t=this,e=w,r=w,i=w;return $=h($,S("Integer"),"to_int"),A(v($,0))&&X.$raise(S("ArgumentError"),"attempt to take negative size"),e=t.$enumerator_size(),r=k(S("Integer"),e)&&A(v($,e))?$:e,i=0,H(C("Lazy"),"new",[t,r],function(o,y){var R,P;return o==null&&(o=w),R=D(arguments,1),P=R,A(v(i,$))?(H(o,"yield",U(P)),i=I(i,1)):X.$raise(C("StopLazyError"))},-2)}),ee(l,"$take_while",function a(){var $=a.$$p||w,t=this;return a.$$p=null,A($)||X.$raise(S("ArgumentError"),"tried to call lazy take_while without a block"),H(C("Lazy"),"new",[t,w],function(r,i){var u,o;r==null&&(r=w),u=D(arguments,1),o=u;var y=M($,o);A(y)?H(r,"yield",U(o)):X.$raise(C("StopLazyError"))},-2)}),ee(l,"$inspect",function(){var $=this;return"#<"+$.$class()+": "+$.enumerator.$inspect()+">"}),z(l,"force","to_a"),z(l,"filter","find_all"),z(l,"flat_map","collect_concat"),z(l,"map","collect"),z(l,"select","find_all"),z(l,"to_enum","enum_for")}(s,s,f)}("::",null,L)};Opal.modules["corelib/enumerator/yielder"]=function(n){var A=n.klass,h=n.def,N=n.slice,M=n.send,Q=n.to_a,Z=[],D=n.nil;return n.add_stubs("yield,proc"),function(V,p,U){var $e=A(V,p,"Enumerator"),X=[$e].concat(U);return function(H,ee){var W=A(H,ee,"Yielder"),j=W.$$prototype;return j.block=D,h(W,"$initialize",function v(){var k=v.$$p||D,I=this;return v.$$p=null,I.block=k,I}),h(W,"$yield",function(k){var I,z,L=this;I=N(arguments),z=I;var w=n.yieldX(L.block,z);if(w&&w.$thrower_type=="break")throw w;return w},-1),h(W,"$<<",function(k){var I=this;return I.$yield(k),I}),h(W,"$to_proc",function(){var k=this;return M(k,"proc",[],function I(z){var L,w,S=I.$$s==null?this:I.$$s;return L=N(arguments),w=L,M(S,"yield",Q(w))},{$$arity:-1,$$s:k})})}(X[0],null)}(Z[0],null,Z)};Opal.modules["corelib/enumerator"]=function(n){var A=n.slice,h=n.coerce_to,N=n.deny_frozen_access,M=n.klass,Q=n.defs,Z=n.truthy,D=n.send,V=n.not,p=n.def,U=n.rb_plus,$e=n.to_a,X=n.Opal,H=n.send2,ee=n.find_super,W=n.rb_ge,j=n.Kernel,v=n.rb_le,k=n.alias,I=n.top,z=[],L=n.nil,w=n.$$$;return n.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),I.$require("corelib/enumerable"),function(S,B,x){var b=M(S,B,"Enumerator"),s=[b].concat(x),f=n.$r(s),E=b.$$prototype;return E.size=E.args=E.object=E.method=E.values=E.cursor=L,b.$include(w("Enumerable")),b.$$prototype.$$is_enumerator=!0,Q(b,"$for",function g(c,l,m){var C=g.$$p||L,_,a,$,t=this;g.$$p=null,_=A(arguments,1),_.length>0&&(a=_.shift()),a==null&&(a="each"),$=_;var e=t.$allocate();return e.object=c,e.size=C,e.method=a,e.args=$,e.cursor=0,e},-2),p(b,"$initialize",function g(c){var l=g.$$p||L,m=this;return g.$$p=null,A(arguments),N(m),m.cursor=0,Z(l)?(m.object=D(f("Generator"),"new",[],l.$to_proc()),m.method="each",m.args=[],m.size=arguments[0]||L,Z(m.size)&&V(m.size["$respond_to?"]("call"))?m.size=h(m.size,w("Integer"),"to_int"):L):(m.object=arguments[0],m.method=arguments[1]||"each",m.args=A(arguments,2),m.size=L)},-1),p(b,"$each",function g(c){var l=g.$$p||L,m,C,_=this;return g.$$p=null,m=A(arguments),C=m,Z(l["$nil?"]())&&Z(C["$empty?"]())?_:(C=U(_.args,C),Z(l["$nil?"]())?D(_.$class(),"new",[_.object,_.method].concat($e(C))):D(_.object,"__send__",[_.method].concat($e(C)),l.$to_proc()))},-1),p(b,"$size",function(){var c=this;return Z(c.size["$respond_to?"]("call"))?D(c.size,"call",$e(c.args)):c.size}),p(b,"$with_index",function g(c){var l=g.$$p||L,m=this;if(g.$$p=null,c==null&&(c=0),c=Z(c)?h(c,w("Integer"),"to_int"):0,!Z(l))return D(m,"enum_for",["with_index",c],function _(){var a=_.$$s==null?this:_.$$s;return a.$size()},{$$s:m});var C=c;return m.$each.$$p=function(){var _=X.$destructure(arguments),a=l(_,C);return C++,a},m.$each()},-1),p(b,"$each_with_index",function g(){var c=g.$$p||L,l=this;return g.$$p=null,c===L?D(l,"enum_for",["each_with_index"],function m(){var C=m.$$s==null?this:m.$$s;return C.$size()},{$$s:l}):(H(l,ee(l,"each_with_index",g,!1,!0),"each_with_index",[],c),l.object)}),p(b,"$rewind",function(){var c=this;return c.cursor=0,c}),p(b,"$peek_values",function(){var c=this,l=L;return c.values=Z(l=c.values)?l:D(c,"map",[],function(C){var _,a;return _=A(arguments),a=_,a},-1),Z(W(c.cursor,c.values.$length()))&&j.$raise(w("StopIteration"),"iteration reached an end"),c.values["$[]"](c.cursor)}),p(b,"$peek",function(){var c=this,l=L;return l=c.$peek_values(),Z(v(l.$length(),1))?l["$[]"](0):l}),p(b,"$next_values",function(){var c=this,l=L;return l=c.$peek_values(),c.cursor=U(c.cursor,1),l}),p(b,"$next",function(){var c=this,l=L;return l=c.$next_values(),Z(v(l.$length(),1))?l["$[]"](0):l}),p(b,"$feed",function(c){var l=this;return l.$raise(f("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),p(b,"$+",function(c){var l=this;return w(w("Enumerator"),"Chain").$new(l,c)}),p(b,"$inspect",function(){var c=this,l=L;return l="#<"+c.$class()+": "+c.object.$inspect()+":"+c.method,Z(c.args["$any?"]())&&(l=U(l,"("+c.args.$inspect()["$[]"](w("Range").$new(1,-2))+")")),U(l,">")}),k(b,"with_object","each_with_object"),b.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),b.$autoload("Chain","corelib/enumerator/chain"),b.$autoload("Generator","corelib/enumerator/generator"),b.$autoload("Lazy","corelib/enumerator/lazy"),b.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,z)};Opal.modules["corelib/numeric"]=function(n){var A=n.klass,h=n.truthy,N=n.Kernel,M=n.def,Q=n.to_ary,Z=n.return_self,D=n.rb_minus,V=n.rb_times,p=n.rb_lt,U=n.eqeq,$e=n.rb_divide,X=n.return_val,H=n.Opal,ee=n.slice,W=n.extract_kwargs,j=n.ensure_kwargs,v=n.hash_get,k=n.not,I=n.send,z=n.rb_ge,L=n.rb_le,w=n.rb_plus,S=n.rb_gt,B=n.alias,x=n.top,b=n.nil,s=n.$$$;return n.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),x.$require("corelib/comparable"),function(f,E){var g=A(f,E,"Numeric");return g.$include(s("Comparable")),M(g,"$coerce",function(l){var m=this;return h(l["$instance_of?"](m.$class()))?[l,m]:[N.$Float(l),N.$Float(m)]}),M(g,"$__coerced__",function(l,m){var C,_,a=this,$=b,t=b;if(h(m["$respond_to?"]("coerce")))return _=m.$coerce(a),C=Q(_),$=C[0]==null?b:C[0],t=C[1]==null?b:C[1],$.$__send__(l,t);switch(l.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return N.$raise(s("TypeError"),""+m.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return N.$raise(s("ArgumentError"),"comparison of "+a.$class()+" with "+m.$class()+" failed");default:return b}}),M(g,"$<=>",function(l){var m=this;return h(m["$equal?"](l))?0:b}),M(g,"$+@",Z),M(g,"$-@",function(){var l=this;return D(0,l)}),M(g,"$%",function(l){var m=this;return D(m,V(l,m.$div(l)))}),M(g,"$abs",function(){var l=this;return h(p(l,0))?l["$-@"]():l}),M(g,"$abs2",function(){var l=this;return V(l,l)}),M(g,"$angle",function(){var l=this;return h(p(l,0))?s(s("Math"),"PI"):0}),M(g,"$ceil",function(l){var m=this;return l==null&&(l=0),m.$to_f().$ceil(l)},-1),M(g,"$conj",Z),M(g,"$denominator",function(){var l=this;return l.$to_r().$denominator()}),M(g,"$div",function(l){var m=this;return U(l,0)&&N.$raise(s("ZeroDivisionError"),"divided by o"),$e(m,l).$floor()}),M(g,"$divmod",function(l){var m=this;return[m.$div(l),m["$%"](l)]}),M(g,"$fdiv",function(l){var m=this;return $e(m.$to_f(),l)}),M(g,"$floor",function(l){var m=this;return l==null&&(l=0),m.$to_f().$floor(l)},-1),M(g,"$i",function(){var l=this;return N.$Complex(0,l)}),M(g,"$imag",X(0)),M(g,"$integer?",X(!1)),M(g,"$nonzero?",function(){var l=this;return h(l["$zero?"]())?b:l}),M(g,"$numerator",function(){var l=this;return l.$to_r().$numerator()}),M(g,"$polar",function(){var l=this;return[l.$abs(),l.$arg()]}),M(g,"$quo",function(l){var m=this;return $e(H["$coerce_to!"](m,s("Rational"),"to_r"),l)}),M(g,"$real",Z),M(g,"$real?",X(!0)),M(g,"$rect",function(){var l=this;return[l,0]}),M(g,"$round",function(l){var m=this;return m.$to_f().$round(l)},-1),M(g,"$step",function c(l,m,C){var _=c.$$p||b,a,$,t,e,r,i,u=this,o=b;c.$$p=null,a=ee(arguments),$=W(a),$=j($),a.length>0&&(t=a.shift()),a.length>0&&(e=a.shift()),r=v($,"to"),i=v($,"by"),t!==void 0&&r!==void 0&&N.$raise(s("ArgumentError"),"to is given twice"),e!==void 0&&i!==void 0&&N.$raise(s("ArgumentError"),"step is given twice"),r!==void 0&&(t=r),i!==void 0&&(e=i),t===void 0&&(t=b);function y(){e===b&&N.$raise(s("TypeError"),"step must be numeric"),e!=null&&e["$=="](0)&&N.$raise(s("ArgumentError"),"step can't be 0"),(e===b||e==null)&&(e=1);var he=e["$<=>"](0);he===b&&N.$raise(s("ArgumentError"),"0 can't be coerced into "+e.$class()),(t===b||t==null)&&(t=he>0?s(s("Float"),"INFINITY"):s(s("Float"),"INFINITY")["$-@"]()),H.$compare(u,t)}function R(){if(e>0&&u>t||e<0&&u<t)return 0;if(e===1/0||e===-1/0)return 1;var he=Math.abs,ve=Math.floor,me=(he(u)+he(t)+he(t-u))/he(e)*s(s("Float"),"EPSILON");return me===1/0||me===-1/0?0:(me>.5&&(me=.5),ve((t-u)/e+me)+1)}function P(){if(y(),e===0)return 1/0;if(e%1!==0)return R();if(e>0&&u>t||e<0&&u<t)return 0;var he=Math.ceil,ve=Math.abs,me=ve(u-t)+1,be=ve(e);return he(me/be)}if(_===b)return(k(t)||h(t["$is_a?"](s("Numeric"))))&&(k(e)||h(e["$is_a?"](s("Numeric"))))?s(s("Enumerator"),"ArithmeticSequence").$new([t,e,h(r)?"to: ":b,h(i)?"by: ":b],u):I(u,"enum_for",["step",t,e],P.$to_proc());y();var F=e["$negative?"](),G=e["$=="](0)||t===1/0&&!F||t===-1/0&&F;if(u.$$is_number&&e.$$is_number&&t.$$is_number)if(u%1===0&&(G||t%1===0)&&e%1===0){var re=u;if(G)for(;;re+=e)_(re);else if(F)for(;re>=t;re+=e)_(re);else for(;re<=t;re+=e)_(re);return u}else{var ae=u.$to_f().valueOf();e=e.$to_f().valueOf(),t=t.$to_f().valueOf();var le=R();if(!isFinite(e))le!==0&&_(ae);else if(e===0)for(;;)_(ae);else for(var ce=0;ce<le;ce++){var de=ce*e+u;(e>=0?t<de:t>de)&&(de=t),_(de)}return u}for(o=u;h(F?z(o,t):L(o,t));)n.yield1(_,o),o=w(o,e)},-1),M(g,"$to_c",function(){var l=this;return N.$Complex(l,0)}),M(g,"$to_int",function(){var l=this;return l.$to_i()}),M(g,"$truncate",function(l){var m=this;return l==null&&(l=0),m.$to_f().$truncate(l)},-1),M(g,"$zero?",function(){var l=this;return l["$=="](0)}),M(g,"$positive?",function(){var l=this;return S(l,0)}),M(g,"$negative?",function(){var l=this;return p(l,0)}),M(g,"$dup",Z),M(g,"$clone",function(l){var m=this;return l=j(l),v(l,"freeze"),m},-1),M(g,"$finite?",X(!0)),M(g,"$infinite?",X(b)),B(g,"arg","angle"),B(g,"conjugate","conj"),B(g,"imaginary","imag"),B(g,"magnitude","abs"),B(g,"modulo","%"),B(g,"phase","arg"),B(g,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(n){var A=n.truthy,h=n.falsy,N=n.yield1,M=n.hash_get,Q=n.hash_put,Z=n.hash_delete,D=n.coerce_to,V=n.respond_to,p=n.deny_frozen_access,U=n.freeze,$e=n.opal32_init,X=n.opal32_add,H=n.klass,ee=n.slice,W=n.defs,j=n.Kernel,v=n.def,k=n.Opal,I=n.eqeqeq,z=n.send2,L=n.find_super,w=n.send,S=n.rb_gt,B=n.rb_times,x=n.eqeq,b=n.rb_minus,s=n.to_a,f=n.to_ary,E=n.gvars,g=n.rb_ge,c=n.assign_ivar,l=n.rb_lt,m=n.return_self,C=n.neqeq,_=n.alias,a=n.top,$=[],t=n.nil,e=n.$$$;return n.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),a.$require("corelib/enumerable"),a.$require("corelib/numeric"),function(r,i,u){var o=H(r,i,"Array"),y=[o].concat(u),R=n.$r(y);o.$include(e("Enumerable")),n.prop(o.$$prototype,"$$is_array",!0);function P(ie){for(var T=ie[0],K=1,Y=ie.length;K<Y;K++)ie[K-1]=ie[K];return ie.pop(),T}function F(ie,T){return T.$$name===n.Array?ie:T.$allocate().$replace(ie.$to_a())}function G(ie,T,K){for(var Y,O=null,ne=new Array(ie.length),se=0,oe=0;se<ie.length;se++){if(!O)try{Y=N(K,ie[se])}catch(fe){O=fe}(O||T(Y))&&(ne[oe]=ie[se],oe+=1)}if(oe!==se&&(ie.splice.apply(ie,[0,ne.length].concat(ne)),ie.splice(oe,ne.length)),O)throw O}function re(ie){return ie.$$is_array||(ie=D(ie,e("Array"),"to_ary")),ie.$to_a()}function ae(ie,T){var K=T.length;if(K>6&&K<32767)ie.push.apply(ie,T);else for(var Y=0;Y<K;Y++)ie.push(T[Y])}W(o,"$[]",function(T){var K,Y,O=this;return K=ee(arguments),Y=K,F(Y,O)},-1),v(o,"$initialize",function ie(T,K){var Y=ie.$$p||t,O=this;if(ie.$$p=null,T==null&&(T=t),K==null&&(K=t),p(O),K!==t&&Y!==t&&j.$warn("warning: block supersedes default value argument"),T>e(e("Integer"),"MAX")&&j.$raise(e("ArgumentError"),"array size too big"),arguments.length>2&&j.$raise(e("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return O.length>0&&O.splice(0,O.length),O;if(arguments.length===1){if(T.$$is_array)return O.$replace(T.$to_a()),O;if(T["$respond_to?"]("to_ary"))return O.$replace(T.$to_ary()),O}T=D(T,e("Integer"),"to_int"),T<0&&j.$raise(e("ArgumentError"),"negative array size"),O.splice(0,O.length);var ne,se;if(Y===t)for(ne=0;ne<T;ne++)O.push(K);else for(ne=0,se;ne<T;ne++)se=Y(ne),O[ne]=se;return O},-1),W(o,"$try_convert",function(T){return k["$coerce_to?"](T,e("Array"),"to_ary")}),v(o,"$&",function(T){var K=this;if(T=re(T),K.length===0||T.length===0)return[];var Y=[],O=new Map,ne,se,oe;for(ne=0,se=T.length;ne<se;ne++)Q(O,T[ne],!0);for(ne=0,se=K.length;ne<se;ne++)oe=K[ne],Z(O,oe)!==void 0&&Y.push(oe);return Y}),v(o,"$|",function(T){var K=this;T=re(T);var Y=new Map,O,ne;for(O=0,ne=K.length;O<ne;O++)Q(Y,K[O],!0);for(O=0,ne=T.length;O<ne;O++)Q(Y,T[O],!0);return Y.$keys()}),v(o,"$*",function(T){var K=this;if(A(T["$respond_to?"]("to_str")))return K.$join(T.$to_str());T=D(T,e("Integer"),"to_int"),A(T<0)&&j.$raise(e("ArgumentError"),"negative argument");for(var Y=[],O=K.$to_a(),ne=0;ne<T;ne++)Y=Y.concat(O);return Y}),v(o,"$+",function(T){var K=this;return T=re(T),K.concat(T)}),v(o,"$-",function(T){var K=this;if(T=re(T),A(K.length===0))return[];if(A(T.length===0))return K.slice();var Y=[],O=new Map,ne,se,oe;for(ne=0,se=T.length;ne<se;ne++)Q(O,T[ne],!0);for(ne=0,se=K.length;ne<se;ne++)oe=K[ne],M(O,oe)===void 0&&Y.push(oe);return Y}),v(o,"$<<",function(T){var K=this;return p(K),K.push(T),K}),v(o,"$<=>",function(T){var K=this;if(I(e("Array"),T))T=T.$to_a();else if(A(T["$respond_to?"]("to_ary")))T=T.$to_ary().$to_a();else return t;if(K===T)return 0;for(var Y=Math.min(K.length,T.length),O=0;O<Y;O++){var ne=K[O]["$<=>"](T[O]);if(ne!==0)return ne}return K.length["$<=>"](T.length)}),v(o,"$==",function(T){var K=this,Y={};function O(ne,se){var oe,fe,d,q;if(ne===se)return!0;if(!se.$$is_array)return V(se,"$to_ary")?se["$=="](ne):!1;if(ne.$$constructor!==Array&&(ne=ne.$to_a()),se.$$constructor!==Array&&(se=se.$to_a()),ne.length!==se.length)return!1;for(Y[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(d=ne[oe],q=se[oe],d.$$is_array){if(q.$$is_array&&q.length!==d.length||!Y.hasOwnProperty(d.$object_id())&&!O(d,q))return!1}else if(!d["$=="](q))return!1;return!0}return O(K,T)});function le(ie,T){var K=ie.length,Y,O,ne,se;return Y=T.excl,O=T.begin===t?0:D(T.begin,n.Integer,"to_int"),ne=T.end===t?-1:D(T.end,n.Integer,"to_int"),O<0&&(O+=K,O<0)||(T.excl_rev&&T.begin!==t&&(O+=1),O>K)?t:ne<0&&(ne+=K,ne<0)?[]:((!Y||T.end===t)&&(ne+=1),se=ie.slice(O,ne),se)}function ce(ie,T){var K,Y=[],O=0,ne;for(T.step<0?(ne={begin:T.range.end,end:T.range.begin,excl:!1,excl_rev:T.range.excl},K=le(ie,ne).$reverse()):K=le(ie,T.range);O<K.length;)Y.push(K[O]),O+=Math.abs(T.step);return Y}function de(ie,T,K){var Y=ie.length,O;return T=D(T,n.Integer,"to_int"),T<0&&(T+=Y,T<0)?t:K===void 0?T>=Y||T<0?t:ie[T]:(K=D(K,n.Integer,"to_int"),K<0||T>Y||T<0?t:(O=ie.slice(T,T+K),O))}v(o,"$[]",function(T,K){var Y=this;return T.$$is_range?le(Y,T):T.$$is_arithmetic_seq?ce(Y,T):de(Y,T,K)},-2),v(o,"$[]=",function(T,K,Y){var O=this,ne=t,se=t;p(O),ne=t;var oe,fe=O.length;if(T.$$is_range){K.$$is_array?ne=K.$to_a():K["$respond_to?"]("to_ary")?ne=K.$to_ary().$to_a():ne=[K];var d=T.excl,q=T.begin===t?0:D(T.begin,n.Integer,"to_int"),J=T.end===t?-1:D(T.end,n.Integer,"to_int");if(q<0&&(q+=fe,q<0&&j.$raise(e("RangeError"),""+T.$inspect()+" out of range")),J<0&&(J+=fe),(!d||T.end===t)&&(J+=1),q>fe)for(oe=fe;oe<q;oe++)O[oe]=t;return J<0?O.splice.apply(O,[q,0].concat(ne)):O.splice.apply(O,[q,J-q].concat(ne)),K}else{Y===void 0?se=1:(se=K,K=Y,K.$$is_array?ne=K.$to_a():K["$respond_to?"]("to_ary")?ne=K.$to_ary().$to_a():ne=[K]);var te;if(T=D(T,e("Integer"),"to_int"),se=D(se,e("Integer"),"to_int"),T<0&&(te=T,T+=fe,T<0&&j.$raise(e("IndexError"),"index "+te+" too small for array; minimum "+-O.length)),se<0&&j.$raise(e("IndexError"),"negative length ("+se+")"),T>fe)for(oe=fe;oe<T;oe++)O[oe]=t;return Y===void 0?O[T]=K:O.splice.apply(O,[T,se].concat(ne)),K}},-3),v(o,"$any?",function ie(T){var K=ie.$$p||t,Y=this;return ie.$$p=null,Y.length===0?!1:z(Y,L(Y,"any?",ie,!1,!0),"any?",[T],K)},-1),v(o,"$assoc",function(T){for(var K=this,Y=0,O=K.length,ne;Y<O;Y++)if(ne=K[Y],ne.length&&ne[0]["$=="](T))return ne;return t}),v(o,"$at",function(T){var K=this;return T=D(T,e("Integer"),"to_int"),T<0&&(T+=K.length),T<0||T>=K.length?t:K[T]}),v(o,"$bsearch_index",function ie(){var T=ie.$$p||t,K=this;if(ie.$$p=null,T===t)return K.$enum_for("bsearch_index");for(var Y=0,O=K.length,ne,se,oe,fe=!1,d=t;Y<O;){if(ne=Y+Math.floor((O-Y)/2),se=K[ne],oe=N(T,se),oe===!0)d=ne,fe=!0;else if(oe===!1||oe===t)fe=!1;else if(oe.$$is_number){if(oe===0)return ne;fe=oe<0}else j.$raise(e("TypeError"),"wrong argument type "+oe.$class()+" (must be numeric, true, false or nil)");fe?O=ne:Y=ne+1}return d}),v(o,"$bsearch",function ie(){var T=ie.$$p||t,K=this,Y=t;return ie.$$p=null,T===t?K.$enum_for("bsearch"):(Y=w(K,"bsearch_index",[],T.$to_proc()),Y!=null&&Y.$$is_number?K[Y]:Y)}),v(o,"$cycle",function ie(T){var K=ie.$$p||t,Y=this;if(ie.$$p=null,T==null&&(T=t),K===t)return w(Y,"enum_for",["cycle",T],function se(){var oe=se.$$s==null?this:se.$$s;return A(T["$nil?"]())?e(e("Float"),"INFINITY"):(T=k["$coerce_to!"](T,e("Integer"),"to_int"),A(S(T,0))?B(oe.$enumerator_size(),T):0)},{$$s:Y});if(A(Y["$empty?"]())||x(T,0))return t;var O,ne;if(T===t)for(;;)for(O=0,ne=Y.length;O<ne;O++)N(K,Y[O]);else{if(T=k["$coerce_to!"](T,e("Integer"),"to_int"),T<=0)return Y;for(;T>0;){for(O=0,ne=Y.length;O<ne;O++)N(K,Y[O]);T--}}return Y},-1),v(o,"$clear",function(){var T=this;return p(T),T.splice(0,T.length),T}),v(o,"$count",function ie(T){var K=ie.$$p||t,Y=this;return ie.$$p=null,A(T!==void 0)||A(K)?z(Y,L(Y,"count",ie,!1,!0),"count",[T],K):Y.$size()},-1),v(o,"$initialize_copy",function(T){var K=this;return K.$replace(T)}),v(o,"$collect",function ie(){var T=ie.$$p||t,K=this;if(ie.$$p=null,T===t)return w(K,"enum_for",["collect"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:K});for(var Y=[],O=0;O<K.length;O++){var ne=N(T,K[O]);Y[O]=ne}return Y}),v(o,"$collect!",function ie(){var T=ie.$$p||t,K=this;if(ie.$$p=null,T===t)return w(K,"enum_for",["collect!"],function ne(){var se=ne.$$s==null?this:ne.$$s;return se.$size()},{$$s:K});p(K);for(var Y=0;Y<K.length;Y++){var O=N(T,K[Y]);K[Y]=O}return K});function he(ie,T){return ie===T||T===0?1:T>0&&ie>T?he(ie-1,T-1)+he(ie-1,T):0}v(o,"$combination",function ie(T){var K=ie.$$p||t,Y=this,O=t;if(ie.$$p=null,O=k["$coerce_to!"](T,e("Integer"),"to_int"),K===t)return w(Y,"enum_for",["combination",O],function te(){var ue=te.$$s==null?this:te.$$s;return he(ue.length,O)},{$$s:Y});var ne,se,oe,fe,d,q,J;if(O===0)n.yield1(K,[]);else if(O===1)for(ne=0,se=Y.length;ne<se;ne++)n.yield1(K,[Y[ne]]);else if(O===Y.length)n.yield1(K,Y.slice());else if(O>=0&&O<Y.length){for(oe=[],ne=0;ne<=O+1;ne++)oe.push(0);for(fe=[],d=0,q=!1,oe[0]=-1;!q;){for(fe[d]=Y[oe[d+1]];d<O-1;)d++,J=oe[d+1]=oe[d]+1,fe[d]=Y[J];n.yield1(K,fe.slice()),d++;do q=d===0,oe[d]++,d--;while(oe[d+1]+O===Y.length+d+1)}}return Y}),v(o,"$repeated_combination",function ie(T){var K=ie.$$p||t,Y=this,O=t;if(ie.$$p=null,O=k["$coerce_to!"](T,e("Integer"),"to_int"),K===t)return w(Y,"enum_for",["repeated_combination",O],function se(){var oe=se.$$s==null?this:se.$$s;return he(oe.length+O-1,O)},{$$s:Y});function ne(se,oe,fe,d){if(fe.length==se){var q=fe.slice();n.yield1(K,q);return}for(var J=oe;J<d.length;J++)fe.push(d[J]),ne(se,J,fe,d),fe.pop()}return O>=0&&ne(O,0,[],Y),Y}),v(o,"$compact",function(){for(var T=this,K=[],Y=0,O=T.length,ne;Y<O;Y++)(ne=T[Y])!==t&&K.push(ne);return K}),v(o,"$compact!",function(){var T=this;p(T);for(var K=T.length,Y=0,O=T.length;Y<O;Y++)T[Y]===t&&(T.splice(Y,1),O--,Y--);return T.length===K?t:T}),v(o,"$concat",function(T){var K,Y,O=this;return K=ee(arguments),Y=K,p(O),Y=w(Y,"map",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;return se==null&&(se=t),se=re(se),A(se["$equal?"](oe))&&(se=se.$dup()),se},{$$s:O}),w(Y,"each",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;se==null&&(se=t);for(var fe=0,d=se.length;fe<d;fe++)oe.push(se[fe])},{$$s:O}),O},-1),v(o,"$delete",function ie(T){var K=ie.$$p||t,Y=this;ie.$$p=null;for(var O=Y.length,ne=0,se=O;ne<se;ne++)Y[ne]["$=="](T)&&(p(Y),Y.splice(ne,1),se--,ne--);return Y.length===O?K!==t?n.yieldX(K,[]):t:T}),v(o,"$delete_at",function(T){var K=this;if(p(K),T=D(T,e("Integer"),"to_int"),T<0&&(T+=K.length),T<0||T>=K.length)return t;var Y=K[T];return K.splice(T,1),Y}),v(o,"$delete_if",function ie(){var T=ie.$$p||t,K=this;return ie.$$p=null,T===t?w(K,"enum_for",["delete_if"],function Y(){var O=Y.$$s==null?this:Y.$$s;return O.$size()},{$$s:K}):(p(K),G(K,h,T),K)}),v(o,"$difference",function(T){var K,Y,O=this;return K=ee(arguments),Y=K,w(Y,"reduce",[O.$to_a().$dup()],function(se,oe){return se==null&&(se=t),oe==null&&(oe=t),b(se,oe)})},-1),v(o,"$dig",function(T,K){var Y,O,ne=this,se=t;return Y=ee(arguments,1),O=Y,se=ne["$[]"](T),se===t||O.length===0?se:(A(se["$respond_to?"]("dig"))||j.$raise(e("TypeError"),""+se.$class()+" does not have #dig method"),w(se,"dig",s(O)))},-2),v(o,"$drop",function(T){var K=this;return T=D(T,e("Integer"),"to_int"),T<0&&j.$raise(e("ArgumentError")),K.slice(T)}),v(o,"$dup",function ie(){var T=ie.$$p||t,K=this;return ie.$$p=null,K.$$class===n.Array&&K.$$class.$allocate.$$pristine&&K.$copy_instance_variables.$$pristine&&K.$initialize_dup.$$pristine?K.slice(0):z(K,L(K,"dup",ie,!1,!0),"dup",[],T)}),v(o,"$each",function ie(){var T=ie.$$p||t,K=this;if(ie.$$p=null,T===t)return w(K,"enum_for",["each"],function O(){var ne=O.$$s==null?this:O.$$s;return ne.$size()},{$$s:K});for(var Y=0;Y<K.length;Y++)N(T,K[Y]);return K}),v(o,"$each_index",function ie(){var T=ie.$$p||t,K=this;if(ie.$$p=null,T===t)return w(K,"enum_for",["each_index"],function O(){var ne=O.$$s==null?this:O.$$s;return ne.$size()},{$$s:K});for(var Y=0;Y<K.length;Y++)N(T,Y);return K}),v(o,"$empty?",function(){var T=this;return T.length===0}),v(o,"$eql?",function(T){var K=this,Y={};function O(ne,se){var oe,fe,d,q;if(!se.$$is_array||(se=se.$to_a(),ne.length!==se.length))return!1;for(Y[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(d=ne[oe],q=se[oe],d.$$is_array){if(q.$$is_array&&q.length!==d.length||!Y.hasOwnProperty(d.$object_id())&&!O(d,q))return!1}else if(!d["$eql?"](q))return!1;return!0}return O(K,T)}),v(o,"$fetch",function ie(T,K){var Y=ie.$$p||t,O=this;ie.$$p=null;var ne=T;if(T=D(T,e("Integer"),"to_int"),T<0&&(T+=O.length),T>=0&&T<O.length)return O[T];if(Y!==t&&K!=null&&O.$warn("warning: block supersedes default value argument"),Y!==t)return Y(ne);if(K!=null)return K;O.length===0?j.$raise(e("IndexError"),"index "+ne+" outside of array bounds: 0...0"):j.$raise(e("IndexError"),"index "+ne+" outside of array bounds: -"+O.length+"..."+O.length)},-2),v(o,"$fill",function ie(T){var K=ie.$$p||t,Y,O,ne,se,oe=this,fe=t,d=t,q=t,J=t,te=t;ie.$$p=null,Y=ee(arguments),O=Y,p(oe);var ue,_e;if(A(K)?(A(O.length>2)&&j.$raise(e("ArgumentError"),"wrong number of arguments ("+O.$length()+" for 0..2)"),se=O,ne=f(se),fe=ne[0]==null?t:ne[0],d=ne[1]==null?t:ne[1]):(A(O.length==0)?j.$raise(e("ArgumentError"),"wrong number of arguments (0 for 1..3)"):A(O.length>3)&&j.$raise(e("ArgumentError"),"wrong number of arguments ("+O.$length()+" for 1..3)"),se=O,ne=f(se),q=ne[0]==null?t:ne[0],fe=ne[1]==null?t:ne[1],d=ne[2]==null?t:ne[2]),I(e("Range"),fe)){if(A(d)&&j.$raise(e("TypeError"),"length invalid with range"),J=fe.begin===t?0:D(fe.begin,e("Integer"),"to_int"),A(J<0)&&(J+=this.length),A(J<0)&&j.$raise(e("RangeError"),""+fe.$inspect()+" out of range"),te=fe.end===t?-1:D(fe.end,e("Integer"),"to_int"),A(te<0)&&(te+=this.length),A(fe["$exclude_end?"]())||(te+=1),A(te<=J))return oe}else if(A(fe))if(J=D(fe,e("Integer"),"to_int"),A(J<0)&&(J+=this.length),A(J<0)&&(J=0),A(d)){if(te=D(d,e("Integer"),"to_int"),A(te==0))return oe;te+=J}else te=this.length;else J=0,te=this.length;if(A(J>this.length))for(ue=this.length;ue<te;ue++)oe[ue]=t;if(A(te>this.length)&&(this.length=te),A(K))for(this.length;J<te;J++)_e=K(J),oe[J]=_e;else for(this.length;J<te;J++)oe[J]=q;return oe},-1),v(o,"$first",function(T){var K=this;return T==null?K.length===0?t:K[0]:(T=D(T,e("Integer"),"to_int"),T<0&&j.$raise(e("ArgumentError"),"negative array size"),K.slice(0,T))},-1),v(o,"$flatten",function(T){var K=this;function Y(O,ne){var se=[],oe,fe,d,q;for(O=O.$to_a(),oe=0,fe=O.length;oe<fe;oe++){if(d=O[oe],!V(d,"$to_ary",!0)){se.push(d);continue}if(q=d.$to_ary(),q===t){se.push(d);continue}switch(q.$$is_array||j.$raise(e("TypeError")),q===K&&j.$raise(e("ArgumentError")),ne){case void 0:se=se.concat(Y(q));break;case 0:se.push(q);break;default:ae(se,Y(q,ne-1))}}return se}return T!==void 0&&(T=D(T,e("Integer"),"to_int")),Y(K,T)},-1),v(o,"$flatten!",function(T){var K=this;p(K);var Y=K.$flatten(T);if(K.length==Y.length){for(var O=0,ne=K.length;O<ne&&K[O]===Y[O];O++);if(O==ne)return t}return K.$replace(Y),K},-1),v(o,"$freeze",function(){var T=this;return A(T["$frozen?"]())?T:U(T)});var ve;v(o,"$hash",function(){var T=this,K=ve===void 0,Y=$e(),O=T.$object_id(),ne,se,oe;if(Y=X(Y,10),Y=X(Y,T.length),K)ve=Object.create(null);else if(ve[O])return X(Y,16843009);try{for(oe in ve)if(ne=ve[oe],T["$eql?"](ne))return X(Y,16843009);for(ve[O]=T,se=0;se<T.length;se++)ne=T[se],Y=X(Y,ne.$hash());return Y}finally{K&&(ve=void 0)}}),v(o,"$include?",function(T){for(var K=this,Y=0,O=K.length;Y<O;Y++)if(K[Y]["$=="](T))return!0;return!1}),v(o,"$index",function ie(T){var K=ie.$$p||t,Y=this;ie.$$p=null;var O,ne,se;if(T!=null&&K!==t&&Y.$warn("warning: given block not used"),T!=null){for(O=0,ne=Y.length;O<ne;O++)if(Y[O]["$=="](T))return O}else if(K!==t){for(O=0;O<Y.length;O++)if(se=K(Y[O]),se!==!1&&se!==t)return O}else return Y.$enum_for("index");return t},-1),v(o,"$insert",function(T,K){var Y,O,ne=this;if(Y=ee(arguments,1),O=Y,p(ne),T=D(T,e("Integer"),"to_int"),O.length>0){if(T<0&&(T+=ne.length+1,T<0&&j.$raise(e("IndexError"),""+T+" is out of bounds")),T>ne.length)for(var se=ne.length;se<T;se++)ne.push(t);ne.splice.apply(ne,[T,0].concat(O))}return ne},-2);var me=[];v(o,"$inspect",function(){var T=this,K=[],Y=T.$__id__(),O=!0;return function(){try{if(me.indexOf(Y)!==-1)return O=!1,"[...]";me.push(Y);for(var ne=0,se=T.length;ne<se;ne++){var oe=T["$[]"](ne);K.push(R("Opal").$inspect(oe))}return"["+K.join(", ")+"]"}finally{O&&me.pop()}}()}),v(o,"$intersection",function(T){var K,Y,O=this,ne=t,se=t;return K=ee(arguments),Y=K,Y.length===0?O.$to_a().$dup():(Y=Y.map(re),O.length===0?[]:(Y=w(Y,"sort_by",[],"length".$to_proc()),A(O.length<Y[0].length)?w(Y,"reduce",[O],"&".$to_proc()):(ne=Y.pop(),se=w(Y,"reduce",[ne],"&".$to_proc()),O["$&"](se))))},-1),v(o,"$intersect?",function(T){var K=this,Y,O,ne=new Map,se,oe;for(K.length<T.length?(Y=K,O=T):(Y=T,O=K),se=0,oe=Y.length;se<oe;se++)Q(ne,Y[se],!0);for(se=0,oe=O.length;se<oe;se++)if(M(ne,O[se]))return!0;return!1}),v(o,"$join",function(T){var K=this;if(E[","]==null&&(E[","]=t),T==null&&(T=t),A(K.length===0))return"";A(T===t)&&(T=E[","]);var Y=[],O,ne,se,oe;for(O=0,ne=K.length;O<ne;O++){if(se=K[O],V(se,"$to_str")&&(oe=se.$to_str(),oe!==t)){Y.push(oe.$to_s());continue}if(V(se,"$to_ary")&&(oe=se.$to_ary(),oe===K&&j.$raise(e("ArgumentError")),oe!==t)){Y.push(oe.$join(T));continue}if(V(se,"$to_s")&&(oe=se.$to_s(),oe!==t)){Y.push(oe);continue}j.$raise(e("NoMethodError").$new(""+R("Opal").$inspect(K.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return T===t?Y.join(""):Y.join(k["$coerce_to!"](T,e("String"),"to_str").$to_s())},-1),v(o,"$keep_if",function ie(){var T=ie.$$p||t,K=this;return ie.$$p=null,T===t?w(K,"enum_for",["keep_if"],function Y(){var O=Y.$$s==null?this:Y.$$s;return O.$size()},{$$s:K}):(p(K),G(K,A,T),K)}),v(o,"$last",function(T){var K=this;return T==null?K.length===0?t:K[K.length-1]:(T=D(T,e("Integer"),"to_int"),T<0&&j.$raise(e("ArgumentError"),"negative array size"),T>K.length&&(T=K.length),K.slice(K.length-T,K.length))},-1),v(o,"$length",function(){var T=this;return T.length}),v(o,"$max",function ie(T){var K=ie.$$p||t,Y=this;return ie.$$p=null,w(Y.$each(),"max",[T],K.$to_proc())},-1),v(o,"$min",function ie(){var T=ie.$$p||t,K=this;return ie.$$p=null,w(K.$each(),"min",[],T.$to_proc())});function be(ie,T){for(var K=T>=0?1:0;T;)K*=ie,ie--,T--;return K}return v(o,"$permutation",function ie(T){var K=ie.$$p||t,Y=this,O=t,ne=t;if(ie.$$p=null,K===t)return w(Y,"enum_for",["permutation",T],function q(){var J=q.$$s==null?this:q.$$s;return be(J.length,T===void 0?J.length:T)},{$$s:Y});var se,oe,fe;if(T===void 0?T=Y.length:T=D(T,e("Integer"),"to_int"),!(T<0||Y.length<T))if(T===0)n.yield1(K,[]);else if(T===1)for(var d=0;d<Y.length;d++)n.yield1(K,[Y[d]]);else O=R("Array").$new(T),ne=R("Array").$new(Y.length,!1),se=function(q,J,te,ue,_e){Y=this;for(var ge=0;ge<Y.length;ge++)if(ue["$[]"](ge)["$!"]())if(J[te]=ge,te<q-1)ue[ge]=!0,se.call(Y,q,J,te+1,ue,_e),ue[ge]=!1;else{fe=[];for(var pe=0;pe<J.length;pe++)fe.push(Y[J[pe]]);N(_e,fe)}},K!==t?(oe=Y.slice(),se.call(oe,T,O,0,ne,K)):se.call(Y,T,O,0,ne,K);return Y},-1),v(o,"$repeated_permutation",function ie(T){var K=ie.$$p||t,Y=this,O=t;if(ie.$$p=null,O=k["$coerce_to!"](T,e("Integer"),"to_int"),K===t)return w(Y,"enum_for",["repeated_permutation",O],function se(){var oe=se.$$s==null?this:se.$$s;return A(g(O,0))?oe.$size()["$**"](O):0},{$$s:Y});function ne(se,oe,fe){if(oe.length==se){var d=oe.slice();n.yield1(K,d);return}for(var q=0;q<fe.length;q++)oe.push(fe[q]),ne(se,oe,fe),oe.pop()}return ne(O,[],Y.slice()),Y}),v(o,"$pop",function(T){var K=this;return p(K),A(T===void 0)?A(K.length===0)?t:K.pop():(T=D(T,e("Integer"),"to_int"),A(T<0)&&j.$raise(e("ArgumentError"),"negative array size"),A(K.length===0)?[]:A(T===1)?[K.pop()]:A(T>K.length)?K.splice(0,K.length):K.splice(K.length-T,K.length))},-1),v(o,"$product",function ie(T){var K=ie.$$p||t,Y,O,ne=this;ie.$$p=null,Y=ee(arguments),O=Y;var se=K!==t?null:[],oe=O.length+1,fe=new Array(oe),d=new Array(oe),q=new Array(oe),J,te,ue,_e,ge=1;for(q[0]=ne,J=1;J<oe;J++)q[J]=D(O[J-1],e("Array"),"to_ary");for(J=0;J<oe;J++){if(_e=q[J].length,_e===0)return se||ne;ge*=_e,ge>2147483647&&j.$raise(e("RangeError"),"too big to product"),d[J]=_e,fe[J]=0}e:for(;;){for(ue=[],J=0;J<oe;J++)ue.push(q[J][fe[J]]);for(se?se.push(ue):n.yield1(K,ue),te=oe-1,fe[te]++;fe[te]===d[te];){if(fe[te]=0,--te<0)break e;fe[te]++}}return se||ne},-1),v(o,"$push",function(T){var K,Y,O=this;return K=ee(arguments),Y=K,p(O),ae(O,Y),O},-1),v(o,"$rassoc",function(T){for(var K=this,Y=0,O=K.length,ne;Y<O;Y++)if(ne=K[Y],ne.length&&ne[1]!==void 0&&ne[1]["$=="](T))return ne;return t}),v(o,"$reject",function ie(){var T=ie.$$p||t,K=this;if(ie.$$p=null,T===t)return w(K,"enum_for",["reject"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:K});for(var Y=[],O=0,ne;O<K.length;O++)ne=T(K[O]),(ne===!1||ne===t)&&Y.push(K[O]);return Y}),v(o,"$reject!",function ie(){var T=ie.$$p||t,K=this,Y=t;return ie.$$p=null,T===t?w(K,"enum_for",["reject!"],function O(){var ne=O.$$s==null?this:O.$$s;return ne.$size()},{$$s:K}):(p(K),Y=K.$length(),w(K,"delete_if",[],T.$to_proc()),x(K.$length(),Y)?t:K)}),v(o,"$replace",function(T){var K=this;return p(K),T=re(T),K.length>0&&K.splice(0,K.length),ae(K,T),K}),v(o,"$reverse",function(){var T=this;return T.slice(0).reverse()}),v(o,"$reverse!",function(){var T=this;return p(T),T.reverse()}),v(o,"$reverse_each",function ie(){var T=ie.$$p||t,K=this;if(ie.$$p=null,T===t)return w(K,"enum_for",["reverse_each"],function O(){var ne=O.$$s==null?this:O.$$s;return ne.$size()},{$$s:K});for(var Y=K.length-1;Y>=0;Y--)N(T,K[Y]);return K}),v(o,"$rindex",function ie(T){var K=ie.$$p||t,Y=this;ie.$$p=null;var O,ne;if(T!=null&&K!==t&&Y.$warn("warning: given block not used"),T!=null){for(O=Y.length-1;O>=0&&!(O>=Y.length);O--)if(Y[O]["$=="](T))return O}else if(K!==t){for(O=Y.length-1;O>=0&&!(O>=Y.length);O--)if(ne=K(Y[O]),ne!==!1&&ne!==t)return O}else if(T==null)return Y.$enum_for("rindex");return t},-1),v(o,"$rotate",function(T){var K=this;T==null&&(T=1);var Y,O,ne,se;return T=D(T,e("Integer"),"to_int"),K.length===1?K.slice():K.length===0?[]:(Y=K.slice(),O=T%Y.length,ne=Y.slice(O),se=Y.slice(0,O),ne.concat(se))},-1),v(o,"$rotate!",function(T){var K=this,Y=t;return T==null&&(T=1),p(K),K.length===0||K.length===1?K:(T=D(T,e("Integer"),"to_int"),Y=K.$rotate(T),K.$replace(Y))},-1),function(ie,T){var K=H(ie,T,"SampleRandom"),Y=K.$$prototype;return Y.rng=t,v(K,"$initialize",c("rng")),v(K,"$rand",function(ne){var se=this,oe=t;return oe=D(se.rng.$rand(ne),e("Integer"),"to_int"),A(oe<0)&&j.$raise(e("RangeError"),"random value must be >= 0"),A(oe<ne)||j.$raise(e("RangeError"),"random value must be less than Array size"),oe})}(o,null),v(o,"$sample",function(T,K){var Y=this,O=t,ne=t;if(A(T===void 0))return Y.$at(j.$rand(Y.length));if(A(K===void 0)?A(O=k["$coerce_to?"](T,e("Hash"),"to_hash"))?(K=O,T=t):(K=t,T=D(T,e("Integer"),"to_int")):(T=D(T,e("Integer"),"to_int"),K=D(K,e("Hash"),"to_hash")),A(T)&&A(T<0)&&j.$raise(e("ArgumentError"),"count must be greater than 0"),A(K)&&(ne=K["$[]"]("random")),ne=A(ne)&&A(ne["$respond_to?"]("rand"))?R("SampleRandom").$new(ne):j,!A(T))return Y[ne.$rand(Y.length)];var se,oe,fe,d,q,J,te,ue;switch(T>Y.length&&(T=Y.length),T){case 0:return[];case 1:return[Y[ne.$rand(Y.length)]];case 2:return d=ne.$rand(Y.length),q=ne.$rand(Y.length-1),d<=q&&q++,[Y[d],Y[q]];default:if(Y.length/T>3){for(se=!1,oe=0,fe=R("Array").$new(T),d=1,fe[0]=ne.$rand(Y.length);d<T;){for(J=ne.$rand(Y.length),q=0;q<d;){for(;J===fe[q];){if(oe++,oe>100){se=!0;break}J=ne.$rand(Y.length)}if(se)break;q++}if(se)break;fe[d]=J,d++}if(!se){for(d=0;d<T;)fe[d]=Y[fe[d]],d++;return fe}}fe=Y.slice();for(var _e=0;_e<T;_e++)te=ne.$rand(Y.length-_e)+_e,ue=fe[_e],fe[_e]=fe[te],fe[te]=ue;return T===Y.length?fe:fe["$[]"](0,T)}},-1),v(o,"$select",function ie(){var T=ie.$$p||t,K=this;if(ie.$$p=null,T===t)return w(K,"enum_for",["select"],function oe(){var fe=oe.$$s==null?this:oe.$$s;return fe.$size()},{$$s:K});for(var Y=[],O=0,ne,se;O<K.length;O++)ne=K[O],se=N(T,ne),A(se)&&Y.push(ne);return Y}),v(o,"$select!",function ie(){var T=ie.$$p||t,K=this;if(ie.$$p=null,T===t)return w(K,"enum_for",["select!"],function O(){var ne=O.$$s==null?this:O.$$s;return ne.$size()},{$$s:K});p(K);var Y=K.length;return w(K,"keep_if",[],T.$to_proc()),K.length===Y?t:K}),v(o,"$shift",function(T){var K=this;return p(K),A(T===void 0)?A(K.length===0)?t:P(K):(T=D(T,e("Integer"),"to_int"),A(T<0)&&j.$raise(e("ArgumentError"),"negative array size"),A(K.length===0)?[]:K.splice(0,T))},-1),v(o,"$shuffle",function(T){var K=this;return K.$dup().$to_a()["$shuffle!"](T)},-1),v(o,"$shuffle!",function(T){var K=this;p(K);var Y,O=K.length,ne,se;for(T!==void 0&&(T=k["$coerce_to?"](T,e("Hash"),"to_hash"),T!==t&&(T=T["$[]"]("random"),T!==t&&T["$respond_to?"]("rand")&&(Y=T)));O;)Y?(ne=Y.$rand(O).$to_int(),ne<0&&j.$raise(e("RangeError"),"random number too small "+ne),ne>=O&&j.$raise(e("RangeError"),"random number too big "+ne)):ne=K.$rand(O),se=K[--O],K[O]=K[ne],K[ne]=se;return K},-1),v(o,"$slice!",function(T,K){var Y=this,O=t,ne=t,se=t,oe=t,fe=t;if(p(Y),O=t,A(K===void 0))if(I(e("Range"),T)){ne=T,O=Y["$[]"](ne),se=ne.begin===t?0:D(ne.begin,e("Integer"),"to_int"),oe=ne.end===t?-1:D(ne.end,e("Integer"),"to_int"),se<0&&(se+=Y.length),oe<0?oe+=Y.length:oe>=Y.length&&(oe=Y.length-1,ne.excl&&(oe+=1));var d=oe-se;ne.excl&&ne.end!==t?oe-=1:d+=1,se<Y.length&&se>=0&&oe<Y.length&&oe>=0&&d>0&&Y.splice(se,d)}else{if(fe=D(T,e("Integer"),"to_int"),fe<0&&(fe+=Y.length),fe<0||fe>=Y.length)return t;O=Y[fe],fe===0?Y.shift():Y.splice(fe,1)}else{if(fe=D(T,e("Integer"),"to_int"),K=D(K,e("Integer"),"to_int"),K<0)return t;O=Y["$[]"](fe,K),fe<0&&(fe+=Y.length),fe+K>Y.length&&(K=Y.length-fe),fe<Y.length&&fe>=0&&Y.splice(fe,K)}return O},-2),v(o,"$sort",function ie(){var T=ie.$$p||t,K=this;return ie.$$p=null,A(K.length>1)?(T===t&&(T=function(Y,O){return Y["$<=>"](O)}),K.slice().sort(function(Y,O){var ne=T(Y,O);return ne===t&&j.$raise(e("ArgumentError"),"comparison of "+Y.$inspect()+" with "+O.$inspect()+" failed"),S(ne,0)?1:l(ne,0)?-1:0})):K}),v(o,"$sort!",function ie(){var T=ie.$$p||t,K=this;ie.$$p=null,p(K);var Y;T!==t?Y=w(K.slice(),"sort",[],T.$to_proc()):Y=K.slice().$sort(),K.length=0;for(var O=0,ne=Y.length;O<ne;O++)K.push(Y[O]);return K}),v(o,"$sort_by!",function ie(){var T=ie.$$p||t,K=this;return ie.$$p=null,T===t?w(K,"enum_for",["sort_by!"],function Y(){var O=Y.$$s==null?this:Y.$$s;return O.$size()},{$$s:K}):(p(K),K.$replace(w(K,"sort_by",[],T.$to_proc())))}),v(o,"$take",function(T){var K=this;return T<0&&j.$raise(e("ArgumentError")),K.slice(0,T)}),v(o,"$take_while",function ie(){var T=ie.$$p||t,K=this;ie.$$p=null;for(var Y=[],O=0,ne,se;O<K.length;O++){if(ne=K[O],se=T(ne),se===!1||se===t)return Y;Y.push(ne)}return Y}),v(o,"$to_a",function(){var T=this;return T.$$class===n.Array?T:n.Array.$new(T)}),v(o,"$to_ary",m),v(o,"$to_h",function ie(){var T=ie.$$p||t,K=this,Y=t;ie.$$p=null,Y=K,T!==t&&(Y=w(Y,"map",[],T.$to_proc()));var O,ne=Y.length,se,oe,fe,d=new Map;for(O=0;O<ne;O++)se=k["$coerce_to?"](Y[O],e("Array"),"to_ary"),se.$$is_array||j.$raise(e("TypeError"),"wrong element type "+Y[O].$class()+" at "+O+" (expected array)"),se.length!==2&&j.$raise(e("ArgumentError"),"element has wrong array length at "+O+" (expected 2, was "+se.$length()+")"),oe=se[0],fe=se[1],Q(d,oe,fe);return d}),v(o,"$transpose",function(){var T=this,K=t,Y=t;return A(T["$empty?"]())?[]:(K=[],Y=t,w(T,"each",[],function(ne){var se=t;return ne==null&&(ne=t),ne=re(ne),Y=A(se=Y)?se:ne.length,C(ne.length,Y)&&j.$raise(e("IndexError"),"element size differs ("+ne.length+" should be "+Y+")"),w(ne.length,"times",[],function(fe){var d,q=t;return fe==null&&(fe=t),q=A(se=K["$[]"](fe))?se:(d=[fe,[]],w(K,"[]=",d),d[d.length-1]),q["$<<"](ne.$at(fe))})}),K)}),v(o,"$union",function(T){var K,Y,O=this;return K=ee(arguments),Y=K,w(Y,"reduce",[O.$uniq()],function(se,oe){return se==null&&(se=t),oe==null&&(oe=t),se["$|"](oe)})},-1),v(o,"$uniq",function ie(){var T=ie.$$p||t,K=this;ie.$$p=null;var Y=new Map,O,ne,se,oe;if(T===t)for(O=0,ne=K.length;O<ne;O++)se=K[O],M(Y,se)===void 0&&Q(Y,se,se);else for(O=0;O<K.length;O++)se=K[O],oe=N(T,se),M(Y,oe)===void 0&&Q(Y,oe,se);return Y.$values()}),v(o,"$uniq!",function ie(){var T=ie.$$p||t,K=this;ie.$$p=null,p(K);var Y=new Map,O,ne,se,oe=[];for(O=0;O<K.length;O++)ne=K[O],se=T===t?ne:N(T,ne),M(Y,se)===void 0?Q(Y,se,ne):oe.push(O);for(O=oe.length-1;O>=0;O--)K.splice(oe[O],1);return oe.length===0?t:K}),v(o,"$unshift",function(T){var K,Y,O=this;K=ee(arguments),Y=K,p(O);var ne=O.length,se=Y.length;if(se==0)return O;for(var oe=ne-se,fe=0;fe<se;fe++)O.push(O[oe+fe]);for(var d=ne-1;d-se>=0;)O[d]=O[d-se],d--;for(var q=0;q<se;q++)O[q]=Y[q];return O},-1),v(o,"$values_at",function(T){var K,Y,O=this,ne=t;return K=ee(arguments),Y=K,ne=[],w(Y,"each",[],function se(oe){var fe=se.$$s==null?this:se.$$s,d=t,q=t,J=t;return oe==null&&(oe=t),A(oe["$is_a?"](e("Range")))?(d=oe.$end()===t?-1:D(oe.$end(),e("Integer"),"to_int"),q=oe.$begin()===t?0:D(oe.$begin(),e("Integer"),"to_int"),q<0?(q=q+fe.length,t):(d<0&&(d=d+fe.length),oe["$exclude_end?"]()&&oe.$end()!==t&&d--,d<q?t:w(q,"upto",[d],function te(ue){var _e=te.$$s==null?this:te.$$s;return ue==null&&(ue=t),ne["$<<"](_e.$at(ue))},{$$s:fe}))):(J=D(oe,e("Integer"),"to_int"),ne["$<<"](fe.$at(J)))},{$$s:O}),ne},-1),v(o,"$zip",function ie(T){var K=ie.$$p||t,Y,O,ne=this,se=t;ie.$$p=null,Y=ee(arguments),O=Y;var oe=[],fe=ne.length,d,q,J,te,ue;for(te=0,ue=O.length;te<ue;te++)if(q=O[te],!q.$$is_array){if(q.$$is_range||q.$$is_enumerator){O[te]=q.$take(fe);continue}O[te]=(A(se=k["$coerce_to?"](q,e("Array"),"to_ary"))?se:k["$coerce_to!"](q,e("Enumerator"),"to_enum","each")).$to_a()}for(J=0;J<fe;J++){for(d=[ne[J]],te=0,ue=O.length;te<ue;te++)q=O[te][J],q==null&&(q=t),d[te+1]=q;oe[J]=d}if(K!==t){for(J=0;J<fe;J++)n.yield1(K,oe[J]);return t}return oe},-1),W(o,"$inherited",function(T){T.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),v(o,"$instance_variables",function ie(){var T=ie.$$p||t,K=this;return ie.$$p=null,w(z(K,L(K,"instance_variables",ie,!1,!0),"instance_variables",[],T),"reject",[],function(O){var ne=t;return O==null&&(O=t),A(ne=/^@\d+$/.test(O))?ne:O["$=="]("@length")})}),v(o,"$pack",function(T){return ee(arguments),j.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),_(o,"append","push"),_(o,"filter","select"),_(o,"filter!","select!"),_(o,"map","collect"),_(o,"map!","collect!"),_(o,"prepend","unshift"),_(o,"size","length"),_(o,"slice","[]"),_(o,"to_s","inspect"),k.$pristine(o.$singleton_class(),"allocate"),k.$pristine(o,"copy_instance_variables","initialize_dup")}("::",Array,$)};Opal.modules["corelib/hash"]=function(n){var A=n.yield1,h=n.hash_clone,N=n.hash_delete,M=n.hash_each,Q=n.hash_get,Z=n.hash_put,D=n.deny_frozen_access,V=n.freeze,p=n.opal32_init,U=n.opal32_add,$e=n.klass,X=n.slice,H=n.Opal,ee=n.Kernel,W=n.defs,j=n.def,v=n.send,k=n.rb_ge,I=n.rb_gt,z=n.truthy,L=n.to_a,w=n.return_self,S=n.not,B=n.alias,x=n.top,b=[],s=n.nil,f=n.$$$;return n.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),x.$require("corelib/enumerable"),function(E,g,c){var l=$e(E,g,"Hash"),m=[l].concat(c),C=n.$r(m);l.$include(f("Enumerable")),l.$$prototype.$$is_hash=!0,W(l,"$[]",function(t){var e,r,i=this;e=X(arguments),r=e;var u,o=r.length,y,R;if(o===1){if(u=H["$coerce_to?"](r["$[]"](0),f("Hash"),"to_hash"),u!==s)return i.$allocate()["$merge!"](u);for(r=H["$coerce_to?"](r["$[]"](0),f("Array"),"to_ary"),r===s&&ee.$raise(f("ArgumentError"),"odd number of arguments for Hash"),o=r.length,u=i.$allocate(),R=0;R<o;R++)y=r[R],y.$$is_array||ee.$raise(f("ArgumentError"),"invalid element "+y.$inspect()+" for Hash"),y.length===1?u.$store(y[0],s):y.length===2?u.$store(y[0],y[1]):ee.$raise(f("ArgumentError"),"invalid number of elements ("+y.length+" for "+y.$inspect()+"), must be 1..2");return u}for(o%2!==0&&ee.$raise(f("ArgumentError"),"odd number of arguments for Hash"),u=i.$allocate(),R=0;R<o;R+=2)u.$store(r[R],r[R+1]);return u},-1),W(l,"$allocate",function(){var t=this,e=new t.$$constructor;return e.$$none=s,e.$$proc=s,e}),W(l,"$try_convert",function(t){return H["$coerce_to?"](t,f("Hash"),"to_hash")}),j(l,"$initialize",function $(t){var e=$.$$p||s,r=this;return $.$$p=null,D(r),t!==void 0&&e!==s&&ee.$raise(f("ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=t===void 0?s:t,r.$$proc=e,r},-1),j(l,"$==",function(t){var e=this;return e===t?!0:!t.$$is_hash||e.size!==t.size?!1:M(e,!0,function(r,i){var u=Q(t,r);return u===void 0||!i["$eql?"](u)?[!0,!1]:[!1,!0]})}),j(l,"$>=",function(t){var e=this,r=s;return t=H["$coerce_to!"](t,f("Hash"),"to_hash"),e.size<t.size?!1:(r=!0,v(t,"each",[],function i(u,o){var y=i.$$s==null?this:i.$$s,R=s;if(u==null&&(u=s),o==null&&(o=s),R=y.$fetch(u,null),R==null||R!==o){r=!1;return}},{$$s:e}),r)}),j(l,"$>",function(t){var e=this;return t=H["$coerce_to!"](t,f("Hash"),"to_hash"),e.size<=t.size?!1:k(e,t)}),j(l,"$<",function(t){var e=this;return t=H["$coerce_to!"](t,f("Hash"),"to_hash"),I(t,e)}),j(l,"$<=",function(t){var e=this;return t=H["$coerce_to!"](t,f("Hash"),"to_hash"),k(t,e)}),j(l,"$[]",function(t){var e=this,r=Q(e,t);return r!==void 0?r:e.$default(t)}),j(l,"$[]=",function(t,e){var r=this;return D(r),Z(r,t,e),e}),j(l,"$assoc",function(t){var e=this;return M(e,s,function(r,i){return r["$=="](t)?[!0,[r,i]]:[!1,s]})}),j(l,"$clear",function(){var t=this;return D(t),t.clear(),t.$$keys&&t.$$keys.clear(),t}),j(l,"$clone",function(){var t=this,e=t.$class().$new();return h(t,e),t["$frozen?"]()?e.$freeze():e}),j(l,"$compact",function(){var t=this,e=new Map;return M(t,e,function(r,i){return i!==s&&Z(e,r,i),[!1,e]})}),j(l,"$compact!",function(){var t=this;D(t);var e=s;return M(t,e,function(r,i){return i===s&&(N(t,r),e=t),[!1,e]})}),j(l,"$compare_by_identity",function(){var t=this;return D(t),t.$$by_identity||(t.$$by_identity=!0,t.size!==0&&n.hash_rehash(t)),t}),j(l,"$compare_by_identity?",function(){var t=this;return t.$$by_identity===!0}),j(l,"$default",function(t){var e=this;return t!==void 0&&e.$$proc!==s&&e.$$proc!==void 0?e.$$proc.$call(e,t):e.$$none===void 0?s:e.$$none},-1),j(l,"$default=",function(t){var e=this;return D(e),e.$$proc=s,e.$$none=t,t}),j(l,"$default_proc",function(){var t=this;return t.$$proc!==void 0?t.$$proc:s}),j(l,"$default_proc=",function(t){var e=this;D(e);var r=t;return r!==s&&(r=H["$coerce_to!"](r,f("Proc"),"to_proc"),r["$lambda?"]()&&r.$arity().$abs()!==2&&ee.$raise(f("TypeError"),"default_proc takes two arguments")),e.$$none=s,e.$$proc=r,t}),j(l,"$delete",function $(t){var e=$.$$p||s,r=this;$.$$p=null,D(r);var i=N(r,t);return i!==void 0?i:e!==s?n.yield1(e,t):s}),j(l,"$delete_if",function $(){var t=$.$$p||s,e=this;return $.$$p=null,z(t)?(D(e),M(e,e,function(r,i){var u=t(r,i);return u!==!1&&u!==s&&N(e,r),[!1,e]})):v(e,"enum_for",["delete_if"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),j(l,"$dig",function(t,e){var r,i,u=this,o=s;return r=X(arguments,1),i=r,o=u["$[]"](t),o===s||i.length===0?o:(z(o["$respond_to?"]("dig"))||ee.$raise(f("TypeError"),""+o.$class()+" does not have #dig method"),v(o,"dig",L(i)))},-2),j(l,"$dup",function(){var t=this;return h(t,t.$class().$new())}),j(l,"$each",function $(){var t=$.$$p||s,e=this;return $.$$p=null,z(t)?M(e,e,function(r,i){return A(t,[r,i]),[!1,e]}):v(e,"enum_for",["each"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),j(l,"$each_key",function $(){var t=$.$$p||s,e=this;return $.$$p=null,z(t)?M(e,e,function(r,i){return t(r),[!1,e]}):v(e,"enum_for",["each_key"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),j(l,"$each_value",function $(){var t=$.$$p||s,e=this;return $.$$p=null,z(t)?M(e,e,function(r,i){return t(i),[!1,e]}):v(e,"enum_for",["each_value"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),j(l,"$empty?",function(){var t=this;return t.size===0}),j(l,"$except",function(t){var e,r,i=this;return e=X(arguments),r=e,v(i.$dup(),"except!",L(r))},-1),j(l,"$except!",function(t){var e,r,i=this;return e=X(arguments),r=e,v(r,"each",[],function u(o){var y=u.$$s==null?this:u.$$s;return o==null&&(o=s),y.$delete(o)},{$$s:i}),i},-1),j(l,"$fetch",function $(t,e){var r=$.$$p||s,i=this;$.$$p=null;var u=Q(i,t);return u!==void 0?u:r!==s?r(t):e!==void 0?e:ee.$raise(f("KeyError").$new("key not found: "+t.$inspect(),new Map([["key",t],["receiver",i]])))},-2),j(l,"$fetch_values",function $(t){var e=$.$$p||s,r,i,u=this;return $.$$p=null,r=X(arguments),i=r,v(i,"map",[],function o(y){var R=o.$$s==null?this:o.$$s;return y==null&&(y=s),v(R,"fetch",[y],e.$to_proc())},{$$s:u})},-1),j(l,"$flatten",function(t){var e=this;t==null&&(t=1),t=H["$coerce_to!"](t,f("Integer"),"to_int");var r=[];return M(e,r,function(i,u){return r.push(i),u.$$is_array?t===1?(r.push(u),[!1,r]):(r=r.concat(u.$flatten(t-2)),[!1,r]):(r.push(u),[!1,r])})},-1),j(l,"$freeze",function(){var t=this;return z(t["$frozen?"]())?t:V(t)}),j(l,"$has_key?",function(t){var e=this;return Q(e,t)!==void 0}),j(l,"$has_value?",function(t){var e=this;return M(e,!1,function(r,i){return i["$=="](t)?[!0,!0]:[!1,!1]})});var _;j(l,"$hash",function(){var t=this,e=_===void 0,r=t.$object_id(),i=p(),u,o,y,R=t.size,P=new Int32Array(R);if(i=U(i,4),i=U(i,R),e)_=Object.create(null);else if(_[r])return U(i,16843009);try{for(u in _)if(o=_[u],t["$eql?"](o))return U(i,16843009);for(_[r]=t,y=0,M(t,!1,function(F,G){return P[y]=[1883326802,F,G].$hash(),y++,[!1,!1]}),P=P.sort(),y=0;y<P.length;y++)i=U(i,P[y]);return i}finally{e&&(_=void 0)}}),j(l,"$index",function(t){var e=this;return M(e,s,function(r,i){return i["$=="](t)?[!0,r]:[!1,s]})}),j(l,"$indexes",function(t){var e,r,i=this;e=X(arguments),r=e;for(var u=[],o=0,y=r.length,R,P;o<y;o++){if(R=r[o],P=Q(i,R),P===void 0){u.push(i.$default());continue}u.push(P)}return u},-1);var a;return j(l,"$inspect",function(){var t=this,e=a===void 0,r=t.$object_id(),i=[];return function(){try{if(e&&(a={}),a.hasOwnProperty(r))return"{...}";return a[r]=!0,M(t,!1,function(u,o){return o=C("Opal").$inspect(o),u=C("Opal").$inspect(u),i.push(u+"=>"+o),[!1,!1]}),"{"+i.join(", ")+"}";return s}finally{e&&(a=void 0)}}()}),j(l,"$invert",function(){var t=this,e=new Map;return M(t,e,function(r,i){return Z(e,i,r),[!1,e]})}),j(l,"$keep_if",function $(){var t=$.$$p||s,e=this;return $.$$p=null,z(t)?(D(e),M(e,e,function(r,i){var u=t(r,i);return(u===!1||u===s)&&N(e,r),[!1,e]})):v(e,"enum_for",["keep_if"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),j(l,"$keys",function(){var t=this;return Array.from(t.keys())}),j(l,"$length",function(){var t=this;return t.size}),j(l,"$merge",function $(t){var e=$.$$p||s,r,i,u=this;return $.$$p=null,r=X(arguments),i=r,v(u.$dup(),"merge!",L(i),e.$to_proc())},-1),j(l,"$merge!",function $(t){var e=$.$$p||s,r,i,u=this;$.$$p=null,r=X(arguments),i=r,D(u);var o,y;for(o=0;o<i.length;++o)y=H["$coerce_to!"](i[o],f("Hash"),"to_hash"),e===s?M(y,!1,function(R,P){return Z(u,R,P),[!1,!1]}):M(y,!1,function(R,P){var F=Q(u,R);return F===void 0?(Z(u,R,P),[!1,!1]):(Z(u,R,e(R,F,P)),[!1,!1])});return u},-1),j(l,"$rassoc",function(t){var e=this;return M(e,s,function(r,i){return i["$=="](t)?[!0,[r,i]]:[!1,s]})}),j(l,"$rehash",function(){var t=this;return D(t),n.hash_rehash(t)}),j(l,"$reject",function $(){var t=$.$$p||s,e=this;if($.$$p=null,!z(t))return v(e,"enum_for",["reject"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:e});var r=new Map;return M(e,r,function(i,u){var o=t(i,u);return(o===!1||o===s)&&Z(r,i,u),[!1,r]})}),j(l,"$reject!",function $(){var t=$.$$p||s,e=this;if($.$$p=null,!z(t))return v(e,"enum_for",["reject!"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:e});D(e);var r=s;return M(e,r,function(i,u){var o=t(i,u);return o!==!1&&o!==s&&(N(e,i),r=e),[!1,r]})}),j(l,"$replace",function(t){var e=this;return D(e),t=H["$coerce_to!"](t,f("Hash"),"to_hash"),e.$clear(),M(t,!1,function(r,i){return Z(e,r,i),[!1,!1]}),z(t.$default_proc())?e["$default_proc="](t.$default_proc()):e["$default="](t.$default()),e}),j(l,"$select",function $(){var t=$.$$p||s,e=this;if($.$$p=null,!z(t))return v(e,"enum_for",["select"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:e});var r=new Map;return M(e,r,function(i,u){var o=t(i,u);return o!==!1&&o!==s&&Z(r,i,u),[!1,r]})}),j(l,"$select!",function $(){var t=$.$$p||s,e=this;if($.$$p=null,!z(t))return v(e,"enum_for",["select!"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:e});D(e);var r=s;return M(e,r,function(i,u){var o=t(i,u);return(o===!1||o===s)&&(N(e,i),r=e),[!1,r]})}),j(l,"$shift",function(){var t=this;return D(t),M(t,s,function(e,r){return[!0,[e,N(t,e)]]})}),j(l,"$slice",function(t){var e,r,i=this;e=X(arguments),r=e;for(var u=new Map,o=0,y=r.length;o<y;o++){var R=r[o],P=Q(i,R);P!==void 0&&Z(u,R,P)}return u},-1),j(l,"$to_a",function(){var t=this,e=[];return M(t,e,function(r,i){return e.push([r,i]),[!1,e]})}),j(l,"$to_h",function $(){var t=$.$$p||s,e=this;if($.$$p=null,t!==s)return v(e,"map",[],t.$to_proc()).$to_h();if(e.$$class===n.Hash)return e;var r=new Map;return h(e,r),r}),j(l,"$to_hash",w),j(l,"$to_proc",function(){var t=this;return v(t,"proc",[],function e(r){var i=e.$$s==null?this:e.$$s;return r==null&&ee.$raise(f("ArgumentError"),"no key given"),i["$[]"](r)},{$$arity:-1,$$s:t})}),j(l,"$transform_keys",function $(t){var e=$.$$p||s,r=this;if($.$$p=null,t==null&&(t=s),S(e)&&S(t))return v(r,"enum_for",["transform_keys"],function u(){var o=u.$$s==null?this:u.$$s;return o.$size()},{$$s:r});var i=new Map;return M(r,i,function(u,o){var y;return t!==s&&(y=Q(t,u)),y===void 0&&e&&e!==s&&(y=e(u)),y===void 0&&(y=u),Z(i,y,o),[!1,i]})},-1),j(l,"$transform_keys!",function $(t){var e=$.$$p||s,r=this;if($.$$p=null,t==null&&(t=s),S(e)&&S(t))return v(r,"enum_for",["transform_keys!"],function u(){var o=u.$$s==null?this:u.$$s;return o.$size()},{$$s:r});D(r);var i=new Map;return M(r,r,function(u,o){var y;return t!==s&&(y=Q(t,u)),y===void 0&&e&&e!==s&&(y=e(u)),y===void 0?[!1,r]:(Q(i,u)||N(r,u),Z(r,y,o),Z(i,y,!0),[!1,r])})},-1),j(l,"$transform_values",function $(){var t=$.$$p||s,e=this;if($.$$p=null,!z(t))return v(e,"enum_for",["transform_values"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:e});var r=new Map;return M(e,r,function(i,u){return Z(r,i,t(u)),[!1,r]})}),j(l,"$transform_values!",function $(){var t=$.$$p||s,e=this;return $.$$p=null,z(t)?(D(e),M(e,e,function(r,i){return Z(e,r,t(i)),[!1,e]})):v(e,"enum_for",["transform_values!"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),j(l,"$values",function(){var t=this;return Array.from(t.values())}),B(l,"each_pair","each"),B(l,"eql?","=="),B(l,"filter","select"),B(l,"filter!","select!"),B(l,"include?","has_key?"),B(l,"indices","indexes"),B(l,"key","index"),B(l,"key?","has_key?"),B(l,"member?","has_key?"),B(l,"size","length"),B(l,"store","[]="),B(l,"to_s","inspect"),B(l,"update","merge!"),B(l,"value?","has_value?"),B(l,"values_at","indexes")}("::",Map,b)};Opal.modules["corelib/number"]=function(n){var A=n.klass,h=n.Opal,N=n.Kernel,M=n.def,Q=n.eqeqeq,Z=n.truthy,D=n.rb_gt,V=n.not,p=n.rb_lt,U=n.alias,$e=n.send2,X=n.find_super,H=n.send,ee=n.rb_plus,W=n.rb_minus,j=n.eqeq,v=n.return_self,k=n.rb_divide,I=n.to_ary,z=n.rb_times,L=n.rb_le,w=n.rb_ge,S=n.return_val,B=n.const_set,x=n.top,b=[],s=n.nil,f=n.$$$;return n.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),x.$require("corelib/numeric"),function(E,g,c){var l=A(E,g,"Number");h.$bridge(Number,l),n.prop(l.$$prototype,"$$is_number",!0),l.$$is_number_class=!0;var m=new Map;(function(e,r){return M(e,"$allocate",function(){var u=this;return N.$raise(f("TypeError"),"allocator undefined for "+u.$name())}),n.udef(e,"$new"),s})(n.get_singleton_class(l)),M(l,"$coerce",function(r){var i=this;if(r===s)N.$raise(f("TypeError"),"can't convert "+r.$class()+" into Float");else{if(r.$$is_string)return[N.$Float(r),i];if(r["$respond_to?"]("to_f"))return[h["$coerce_to!"](r,f("Float"),"to_f"),i];if(r.$$is_number)return[r,i];N.$raise(f("TypeError"),"can't convert "+r.$class()+" into Float")}}),M(l,"$__id__",function(){var r=this;if(r|r===0)return r*2+1;if(m.has(r))return m.get(r);var i=n.uid();return m.set(r,i),i}),M(l,"$hash",function(){var r=this;return r|r===0?r.$__id__():r.toString().$hash()}),M(l,"$+",function(r){var i=this;return r.$$is_number?i+r:i.$__coerced__("+",r)}),M(l,"$-",function(r){var i=this;return r.$$is_number?i-r:i.$__coerced__("-",r)}),M(l,"$*",function(r){var i=this;return r.$$is_number?i*r:i.$__coerced__("*",r)}),M(l,"$/",function(r){var i=this;return r.$$is_number?i/r:i.$__coerced__("/",r)}),M(l,"$%",function(r){var i=this;if(r.$$is_number){if(r==-1/0)return r;if(r==0)N.$raise(f("ZeroDivisionError"),"divided by 0");else return r<0||i<0?(i%r+r)%r:i%r}else return i.$__coerced__("%",r)}),M(l,"$&",function(r){var i=this;return r.$$is_number?i&r:i.$__coerced__("&",r)}),M(l,"$|",function(r){var i=this;return r.$$is_number?i|r:i.$__coerced__("|",r)}),M(l,"$^",function(r){var i=this;return r.$$is_number?i^r:i.$__coerced__("^",r)}),M(l,"$<",function(r){var i=this;return r.$$is_number?i<r:i.$__coerced__("<",r)}),M(l,"$<=",function(r){var i=this;return r.$$is_number?i<=r:i.$__coerced__("<=",r)}),M(l,"$>",function(r){var i=this;return r.$$is_number?i>r:i.$__coerced__(">",r)}),M(l,"$>=",function(r){var i=this;return r.$$is_number?i>=r:i.$__coerced__(">=",r)});var C=function(e,r){return r.$$is_number?isNaN(e)||isNaN(r)?s:e>r?1:e<r?-1:0:e.$__coerced__("<=>",r)};M(l,"$<=>",function(r){var i=this;try{return C(i,r)}catch(u){if(n.rescue(u,[f("ArgumentError")]))try{return s}finally{n.pop_exception(u)}else throw u}}),M(l,"$<<",function(r){var i=this;return r=h["$coerce_to!"](r,f("Integer"),"to_int"),r>0?i<<r:i>>-r}),M(l,"$>>",function(r){var i=this;return r=h["$coerce_to!"](r,f("Integer"),"to_int"),r>0?i>>r:i<<-r}),M(l,"$[]",function(r){var i=this;return r=h["$coerce_to!"](r,f("Integer"),"to_int"),r<0?0:r>=32?i<0?1:0:i>>r&1}),M(l,"$+@",function(){var r=this;return+r}),M(l,"$-@",function(){var r=this;return-r}),M(l,"$~",function(){var r=this;return~r}),M(l,"$**",function(r){var i=this;return Q(f("Integer"),r)?V(f("Integer")["$==="](i))||Z(D(r,0))?Math.pow(i,r):f("Rational").$new(i,1)["$**"](r):Z(p(i,0))&&(Q(f("Float"),r)||Q(f("Rational"),r))?f("Complex").$new(i,0)["$**"](r.$to_f()):Z(r.$$is_number!=null)?Math.pow(i,r):i.$__coerced__("**",r)}),M(l,"$==",function(r){var i=this;return r.$$is_number?i.valueOf()===r.valueOf():r["$respond_to?"]("==")?r["$=="](i):!1}),U(l,"===","=="),M(l,"$abs",function(){var r=this;return Math.abs(r)}),M(l,"$abs2",function(){var r=this;return Math.abs(r*r)}),M(l,"$allbits?",function(r){var i=this;return r=h["$coerce_to!"](r,f("Integer"),"to_int"),(i&r)==r}),M(l,"$anybits?",function(r){var i=this;return r=h["$coerce_to!"](r,f("Integer"),"to_int"),(i&r)!==0}),M(l,"$angle",function(){var r=this;return Z(r["$nan?"]())?r:r==0?1/r>0?0:Math.PI:r<0?Math.PI:0}),M(l,"$bit_length",function(){var r=this;if(Q(f("Integer"),r)||N.$raise(f("NoMethodError").$new("undefined method `bit_length` for "+r+":Float","bit_length")),r===0||r===-1)return 0;for(var i=0,u=r<0?~r:r;u!=0;)i+=1,u>>>=1;return i}),M(l,"$ceil",function(r){var i=this;r==null&&(r=0);var u=i.$to_f();if(u%1===0&&r>=0)return u;var o=Math.pow(10,r),y=Math.ceil(u*o)/o;return u%1===0&&(y=Math.round(y)),y},-1),M(l,"$chr",function(r){var i=this;return n.enc(String.fromCharCode(i),r||"BINARY")},-1),M(l,"$denominator",function e(){var r=e.$$p||s,i=this;return e.$$p=null,Z(i["$nan?"]())||Z(i["$infinite?"]())?1:$e(i,X(i,"denominator",e,!1,!0),"denominator",[],r)}),M(l,"$downto",function e(r){var i=e.$$p||s,u=this;if(e.$$p=null,i===s)return H(u,"enum_for",["downto",r],function y(){var R=y.$$s==null?this:y.$$s;return Q(f("Numeric"),r)||N.$raise(f("ArgumentError"),"comparison of "+R.$class()+" with "+r.$class()+" failed"),Z(D(r,R))?0:ee(W(R,r),1)},{$$s:u});r.$$is_number||N.$raise(f("ArgumentError"),"comparison of "+u.$class()+" with "+r.$class()+" failed");for(var o=u;o>=r;o--)i(o);return u}),M(l,"$equal?",function(r){var i=this,u=s;return Z(u=i["$=="](r))?u:isNaN(i)&&isNaN(r)}),M(l,"$even?",function(){var r=this;return r%2===0}),M(l,"$floor",function(r){var i=this;r==null&&(r=0);var u=i.$to_f();if(u%1===0&&r>=0)return u;var o=Math.pow(10,r),y=Math.floor(u*o)/o;return u%1===0&&(y=Math.round(y)),y},-1),M(l,"$gcd",function(r){var i=this;Q(f("Integer"),r)||N.$raise(f("TypeError"),"not an integer");for(var u=Math.abs(i),o=Math.abs(r);u>0;){var y=u;u=o%u,o=y}return o}),M(l,"$gcdlcm",function(r){var i=this;return[i.$gcd(r),i.$lcm(r)]}),M(l,"$integer?",function(){var r=this;return r%1===0}),M(l,"$is_a?",function e(r){var i=e.$$p||s,u=this;return e.$$p=null,j(r,f("Integer"))&&Q(f("Integer"),u)||j(r,f("Integer"))&&Q(f("Integer"),u)||j(r,f("Float"))&&Q(f("Float"),u)?!0:$e(u,X(u,"is_a?",e,!1,!0),"is_a?",[r],i)}),M(l,"$instance_of?",function e(r){var i=e.$$p||s,u=this;return e.$$p=null,j(r,f("Integer"))&&Q(f("Integer"),u)||j(r,f("Integer"))&&Q(f("Integer"),u)||j(r,f("Float"))&&Q(f("Float"),u)?!0:$e(u,X(u,"instance_of?",e,!1,!0),"instance_of?",[r],i)}),M(l,"$lcm",function(r){var i=this;return Q(f("Integer"),r)||N.$raise(f("TypeError"),"not an integer"),i==0||r==0?0:Math.abs(i*r/i.$gcd(r))}),M(l,"$next",function(){var r=this;return r+1}),M(l,"$nobits?",function(r){var i=this;return r=h["$coerce_to!"](r,f("Integer"),"to_int"),(i&r)==0}),M(l,"$nonzero?",function(){var r=this;return r==0?s:r}),M(l,"$numerator",function e(){var r=e.$$p||s,i=this;return e.$$p=null,Z(i["$nan?"]())||Z(i["$infinite?"]())?i:$e(i,X(i,"numerator",e,!1,!0),"numerator",[],r)}),M(l,"$odd?",function(){var r=this;return r%2!==0}),M(l,"$ord",v),M(l,"$pow",function(r,i){var u=this;return u==0&&N.$raise(f("ZeroDivisionError"),"divided by 0"),i===void 0?u["$**"](r):(f("Integer")["$==="](r)||N.$raise(f("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),r<0&&N.$raise(f("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),f("Integer")["$==="](i)||N.$raise(f("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),i===0&&N.$raise(f("ZeroDivisionError"),"divided by 0"),u["$**"](r)["$%"](i))},-2),M(l,"$pred",function(){var r=this;return r-1}),M(l,"$quo",function e(r){var i=e.$$p||s,u=this;return e.$$p=null,Q(f("Integer"),u)?$e(u,X(u,"quo",e,!1,!0),"quo",[r],i):k(u,r)}),M(l,"$rationalize",function(r){var i,u,o=this,y=s,R=s;return arguments.length>1&&N.$raise(f("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),Q(f("Integer"),o)?f("Rational").$new(o,1):Z(o["$infinite?"]())?N.$raise(f("FloatDomainError"),"Infinity"):Z(o["$nan?"]())?N.$raise(f("FloatDomainError"),"NaN"):Z(r==null)?(u=f("Math").$frexp(o),i=I(u),y=i[0]==null?s:i[0],R=i[1]==null?s:i[1],y=f("Math").$ldexp(y,f(f("Float"),"MANT_DIG")).$to_i(),R=W(R,f(f("Float"),"MANT_DIG")),f("Rational").$new(z(2,y),1["$<<"](W(1,R))).$rationalize(f("Rational").$new(1,1["$<<"](W(1,R))))):o.$to_r().$rationalize(r)},-1),M(l,"$remainder",function(r){var i=this;return W(i,z(r,k(i,r).$truncate()))}),M(l,"$round",function(r){var i,u,o=this,y=s;if(Q(f("Integer"),o)){if(Z(r==null)||(Q(f("Float"),r)&&Z(r["$infinite?"]())&&N.$raise(f("RangeError"),"Infinity"),r=h["$coerce_to!"](r,f("Integer"),"to_int"),Z(p(r,f(f("Integer"),"MIN")))&&N.$raise(f("RangeError"),"out of bounds"),Z(r>=0)))return o;if(r=r["$-@"](),.415241*r-.125>o.$size())return 0;var R=Math.pow(10,r),P=Math.floor((Math.abs(o)+R/2)/R)*R;return o<0?-P:P}else{if(Z(o["$nan?"]())&&Z(r==null)&&N.$raise(f("FloatDomainError"),"NaN"),r=h["$coerce_to!"](r||0,f("Integer"),"to_int"),Z(L(r,0)))Z(o["$nan?"]())?N.$raise(f("RangeError"),"NaN"):Z(o["$infinite?"]())&&N.$raise(f("FloatDomainError"),"Infinity");else{if(j(r,0))return Math.round(o);if(Z(o["$nan?"]())||Z(o["$infinite?"]()))return o}return u=f("Math").$frexp(o),i=I(u),i[0]==null||i[0],y=i[1]==null?s:i[1],Z(w(r,W(ee(f(f("Float"),"DIG"),2),Z(D(y,0))?k(y,4):W(k(y,3),1))))?o:Z(p(r,(Z(D(y,0))?ee(k(y,3),1):k(y,4))["$-@"]()))?0:Math.round(o*Math.pow(10,r))/Math.pow(10,r)}},-1),M(l,"$times",function e(){var r=e.$$p||s,i=this;if(e.$$p=null,!Z(r))return H(i,"enum_for",["times"],function o(){var y=o.$$s==null?this:o.$$s;return y},{$$s:i});for(var u=0;u<i;u++)r(u);return i}),M(l,"$to_f",v),M(l,"$to_i",function(){var r=this;return r<0?Math.ceil(r):Math.floor(r)}),M(l,"$to_r",function(){var r,i,u=this,o=s,y=s;return Q(f("Integer"),u)?f("Rational").$new(u,1):(i=f("Math").$frexp(u),r=I(i),o=r[0]==null?s:r[0],y=r[1]==null?s:r[1],o=f("Math").$ldexp(o,f(f("Float"),"MANT_DIG")).$to_i(),y=W(y,f(f("Float"),"MANT_DIG")),z(o,f(f("Float"),"RADIX")["$**"](y)).$to_r())}),M(l,"$to_s",function(r){var i=this;return r==null&&(r=10),r=h["$coerce_to!"](r,f("Integer"),"to_int"),(Z(p(r,2))||Z(D(r,36)))&&N.$raise(f("ArgumentError"),"invalid radix "+r),j(i,0)&&Z(1/i===-1/0)?"-0.0":i.toString(r)},-1),M(l,"$truncate",function(r){var i=this;r==null&&(r=0);var u=i.$to_f();if(u%1===0&&r>=0)return u;var o=Math.pow(10,r),y=parseInt(u*o,10)/o;return u%1===0&&(y=Math.round(y)),y},-1),M(l,"$digits",function(r){var i=this;r==null&&(r=10),Z(p(i,0))&&N.$raise(f(f("Math"),"DomainError"),"out of domain"),r=h["$coerce_to!"](r,f("Integer"),"to_int"),Z(p(r,2))&&N.$raise(f("ArgumentError"),"invalid radix "+r),i!=parseInt(i)&&N.$raise(f("NoMethodError"),"undefined method `digits' for "+i.$inspect());var u=i,o=[];if(i==0)return[0];for(;u!=0;)o.push(u%r),u=parseInt(u/r,10);return o},-1),M(l,"$divmod",function e(r){var i=e.$$p||s,u=this;return e.$$p=null,Z(u["$nan?"]())||Z(r["$nan?"]())?N.$raise(f("FloatDomainError"),"NaN"):Z(u["$infinite?"]())?N.$raise(f("FloatDomainError"),"Infinity"):$e(u,X(u,"divmod",e,!1,!0),"divmod",[r],i)}),M(l,"$upto",function e(r){var i=e.$$p||s,u=this;if(e.$$p=null,i===s)return H(u,"enum_for",["upto",r],function y(){var R=y.$$s==null?this:y.$$s;return Q(f("Numeric"),r)||N.$raise(f("ArgumentError"),"comparison of "+R.$class()+" with "+r.$class()+" failed"),Z(p(r,R))?0:ee(W(r,R),1)},{$$s:u});r.$$is_number||N.$raise(f("ArgumentError"),"comparison of "+u.$class()+" with "+r.$class()+" failed");for(var o=u;o<=r;o++)i(o);return u}),M(l,"$zero?",function(){var r=this;return r==0}),M(l,"$size",S(4)),M(l,"$nan?",function(){var r=this;return isNaN(r)}),M(l,"$finite?",function(){var r=this;return r!=1/0&&r!=-1/0&&!isNaN(r)}),M(l,"$infinite?",function(){var r=this;return r==1/0?1:r==-1/0?-1:s}),M(l,"$positive?",function(){var r=this;return r!=0&&(r==1/0||1/r>0)}),M(l,"$negative?",function(){var r=this;return r==-1/0||1/r<0});function _(e){var r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}function a(e){return new DataView(e.buffer).getFloat64(0,!0)}function $(e){for(var r=_(e),i=0;i<r.length;i++)if(r[i]===255)r[i]=0;else{r[i]++;break}return a(r)}function t(e){for(var r=_(e),i=0;i<r.length;i++)if(r[i]===0)r[i]=255;else{r[i]--;break}return a(r)}return M(l,"$next_float",function(){var r=this;return j(r,f(f("Float"),"INFINITY"))?f(f("Float"),"INFINITY"):Z(r["$nan?"]())?f(f("Float"),"NAN"):Z(w(r,0))?$(Math.abs(r)):t(r)}),M(l,"$prev_float",function(){var r=this;return j(r,f(f("Float"),"INFINITY")["$-@"]())?f(f("Float"),"INFINITY")["$-@"]():Z(r["$nan?"]())?f(f("Float"),"NAN"):Z(D(r,0))?t(r):-$(Math.abs(r))}),U(l,"arg","angle"),U(l,"eql?","=="),U(l,"fdiv","/"),U(l,"inspect","to_s"),U(l,"kind_of?","is_a?"),U(l,"magnitude","abs"),U(l,"modulo","%"),U(l,"object_id","__id__"),U(l,"phase","angle"),U(l,"succ","next"),U(l,"to_int","to_i")}("::",f("Numeric")),B("::","Fixnum",f("Number")),function(E,g,c){var l=A(E,g,"Integer"),m=[l].concat(c);return l.$$is_number_class=!0,l.$$is_integer_class=!0,function(C,_){var a=[C].concat(_),$=n.$r(a);return M(C,"$allocate",function(){var e=this;return N.$raise(f("TypeError"),"allocator undefined for "+e.$name())}),n.udef(C,"$new"),M(C,"$sqrt",function(e){return e=h["$coerce_to!"](e,f("Integer"),"to_int"),e<0&&N.$raise(f(f("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(e),10)}),M(C,"$try_convert",function(e){var r=this;return $("Opal")["$coerce_to?"](e,r,"to_int")})}(n.get_singleton_class(l),m),B(l,"MAX",Math.pow(2,30)-1),B(l,"MIN",-Math.pow(2,30))}("::",f("Numeric"),b),function(E,g,c){var l=A(E,g,"Float");return l.$$is_number_class=!0,function(m,C){return M(m,"$allocate",function(){var a=this;return N.$raise(f("TypeError"),"allocator undefined for "+a.$name())}),n.udef(m,"$new"),M(m,"$===",function(a){return!!a.$$is_number})}(n.get_singleton_class(l)),B(l,"INFINITY",1/0),B(l,"MAX",Number.MAX_VALUE),B(l,"MIN",Number.MIN_VALUE),B(l,"NAN",NaN),B(l,"DIG",15),B(l,"MANT_DIG",53),B(l,"RADIX",2),B(l,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",f("Numeric"))};Opal.modules["corelib/range"]=function(n){var A=n.klass,h=n.truthy,N=n.Kernel,M=n.def,Q=n.not,Z=n.send2,D=n.find_super,V=n.lambda,p=n.send,U=n.rb_ge,$e=n.rb_gt,X=n.eqeq,H=n.rb_le,ee=n.rb_lt,W=n.eqeqeq,j=n.return_ivar,v=n.rb_minus,k=n.Opal,I=n.rb_divide,z=n.rb_plus,L=n.rb_times,w=n.thrower,S=n.alias,B=n.top,x=[],b=n.nil,s=n.$$$;return n.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),B.$require("corelib/enumerable"),function(f,E,g){var c=A(f,E,"Range"),l=[c].concat(g),m=n.$r(l),C=c.$$prototype;C.begin=C.end=C.excl=b,c.$include(s("Enumerable")),c.$$prototype.$$is_range=!0,c.$attr_reader("begin","end"),M(c,"$initialize",function($,t,e){var r=this;return e==null&&(e=!1),h(r.begin)&&N.$raise(s("NameError"),"'initialize' called twice"),h($["$<=>"](t))||h($["$nil?"]())||h(t["$nil?"]())||N.$raise(s("ArgumentError"),"bad value for range"),r.begin=$,r.end=t,r.excl=e},-3),M(c,"$===",function($){var t=this;return h($.$$is_range)?!1:t["$cover?"]($)});function _(a){return a.begin===b||a.end===b||a.begin===-1/0||a.end===1/0||a.begin===1/0||a.end===-1/0}return M(c,"$count",function a(){var $=a.$$p||b,t=this;return a.$$p=null,Q($!==b)&&h(_(t))?s(s("Float"),"INFINITY"):Z(t,D(t,"count",a,!1,!0),"count",[],$)}),M(c,"$to_a",function a(){var $=a.$$p||b,t=this;return a.$$p=null,h(_(t))&&N.$raise(s("TypeError"),"cannot convert endless range to an array"),Z(t,D(t,"to_a",a,!1,!0),"to_a",[],$)}),M(c,"$cover?",function($){var t=this,e=b,r=b,i=b,u=b,o=b,y=b,R=b,P=b;return e=V(function(G,re){var ae=b;return G==null&&(G=b),re==null&&(re=b),h(ae=G["$<=>"](re))?ae:1}),h($.$$is_range)?(r=$.$begin(),i=$.$end(),u=$["$exclude_end?"](),h(t.begin)&&h(r["$nil?"]())||h(t.end)&&h(i["$nil?"]())||h(r)&&h(i)&&h(p(e.$call(r,i),"then",[],function(G){return G==null&&(G=b),h(u)?U(G,0):$e(G,0)}))||h(r)&&Q(t["$cover?"](r))?!1:(o=e.$call(t.end,i),X(t.excl,u)?U(o,0):h(t.excl)?$e(o,0):h(U(o,0))?!0:(y=$.$max(),h(R=y["$nil?"]()["$!"]())?H(e.$call(y,t.end),0):R))):h(t.begin)&&h($e(e.$call(t.begin,$),0))?!1:h(t.end["$nil?"]())?!0:(P=e.$call($,t.end),h(t.excl)?ee(P,0):H(P,0))}),M(c,"$each",function a(){var $=a.$$p||b,t=this,e=b,r=b,i=b;if(a.$$p=null,$===b)return p(t,"enum_for",["each"],function y(){var R=y.$$s==null?this:y.$$s;return R.$size()},{$$s:t});var u,o;if(t.begin.$$is_number&&t.end.$$is_number){for((t.begin%1!==0||t.end%1!==0)&&N.$raise(s("TypeError"),"can't iterate from Float"),u=t.begin,o=t.end+(h(t.excl)?0:1);u<o;u++)$(u);return t}if(t.begin.$$is_string&&t.end.$$is_string)return p(t.begin,"upto",[t.end,t.excl],$.$to_proc()),t;for(e=t.begin,r=t.end,h(e["$respond_to?"]("succ"))||N.$raise(s("TypeError"),"can't iterate from "+e.$class());h(h(i=t.end["$nil?"]())?i:ee(e["$<=>"](r),0));)n.yield1($,e),e=e.$succ();return Q(t.excl)&&X(e,r)&&n.yield1($,e),t}),M(c,"$eql?",function($){var t=this,e=b,r=b;return W(s("Range"),$)?h(e=h(r=t.excl["$==="]($["$exclude_end?"]()))?t.begin["$eql?"]($.$begin()):r)?t.end["$eql?"]($.$end()):e:!1}),M(c,"$exclude_end?",j("excl")),M(c,"$first",function a($){var t=a.$$p||b,e=this;return a.$$p=null,h(e.begin["$nil?"]())&&N.$raise(s("RangeError"),"cannot get the minimum of beginless range"),h($==null)?e.begin:Z(e,D(e,"first",a,!1,!0),"first",[$],t)},-1),M(c,"$include?",function a($){var t=a.$$p||b,e=this,r=b,i=b;if(a.$$p=null,h(e.begin.$$is_number||e.end.$$is_number)||h(e.begin["$is_a?"](s("Time")))||h(e.end["$is_a?"](s("Time")))||h(s("Integer").$try_convert(e.begin))||h(s("Integer").$try_convert(e.end)))return e["$cover?"]($);if(h(e.begin.$$is_string||e.end.$$is_string)){if(h(e.begin.$$is_string&&e.end.$$is_string))return p(e.begin.$upto(e.end,e.excl),"any?",[],function(o){return o==null&&(o=b),o["$=="]($)});if(h(e.begin["$nil?"]()))return r=$["$<=>"](e.end),h(i=r["$nil?"]()["$!"]())?h(e.excl)?ee(r,0):H(r,0):i;if(h(e.end["$nil?"]()))return r=e.begin["$<=>"]($),h(i=r["$nil?"]()["$!"]())?H(r,0):i}return Z(e,D(e,"include?",a,!1,!0),"include?",[$],t)}),M(c,"$last",function($){var t=this;return h(t.end["$nil?"]())&&N.$raise(s("RangeError"),"cannot get the maximum of endless range"),h($==null)?t.end:t.$to_a().$last($)},-1),M(c,"$max",function a(){var $=a.$$p||b,t=this;return a.$$p=null,h(t.end["$nil?"]())?N.$raise(s("RangeError"),"cannot get the maximum of endless range"):$!==b?Z(t,D(t,"max",a,!1,!0),"max",[],$):Q(t.begin["$nil?"]())&&(h($e(t.begin,t.end))||h(t.excl)&&X(t.begin,t.end))?b:t.excl?t.end-1:t.end}),M(c,"$min",function a(){var $=a.$$p||b,t=this;return a.$$p=null,h(t.begin["$nil?"]())?N.$raise(s("RangeError"),"cannot get the minimum of beginless range"):$!==b?Z(t,D(t,"min",a,!1,!0),"min",[],$):Q(t.end["$nil?"]())&&(h($e(t.begin,t.end))||h(t.excl)&&X(t.begin,t.end))?b:t.begin}),M(c,"$size",function(){var $=this.begin,t=this.end;if(s("Numeric")["$==="]($)){if(s("Numeric")["$==="](t)){var e=v(t,$);return e<0?0:(this.excl||(e+=1),s("Float")["$==="]($)||s("Float")["$==="](t)?Math.floor(e):e)}else if(t===b)return 1/0}else if($===b&&s("Numeric")["$==="](t))return 1/0;return b}),M(c,"$step",function a($){var t=a.$$p||b,e=this,r=b,i=b;a.$$p=null;function u(){$==null?$=1:$.$$is_number||($=k["$coerce_to!"]($,s("Integer"),"to_int")),$<0?N.$raise(s("ArgumentError"),"step can't be negative"):$===0&&N.$raise(s("ArgumentError"),"step can't be 0")}function o(){if(!e.begin["$respond_to?"]("succ")||e.begin.$$is_string&&e.end.$$is_string)return b;if($%1===0)return I(e.$size(),$).$ceil();var y=e.begin,R=e.end,P=Math.abs,F=Math.floor,G=(P(y)+P(R)+P(R-y))/P($)*s(s("Float"),"EPSILON"),re;return G>.5&&(G=.5),e.excl?(re=F((R-y)/$-G),re*$+y<R&&re++):re=F((R-y)/$+G)+1,re}return t===b?(h(e.begin["$is_a?"](m("Numeric")))||h(e.begin["$nil?"]()))&&(h(e.end["$is_a?"](m("Numeric")))||h(e.end["$nil?"]()))&&Q(h(r=e.begin["$nil?"]())?e.end["$nil?"]():r)?s(s("Enumerator"),"ArithmeticSequence").$new(e,$,"step"):p(e,"enum_for",["step",$],function(){return u(),o()}):(u(),h(e.begin.$$is_number&&e.end.$$is_number)?(i=0,function(){try{var y=w("break");return p(e,"loop",[],function R(){var P=R.$$s==null?this:R.$$s,F=b;return P.begin==null&&(P.begin=b),P.excl==null&&(P.excl=b),P.end==null&&(P.end=b),F=z(P.begin,L(i,$)),h(P.excl)?h(U(F,P.end))&&y.$throw(b,R.$$is_lambda):h($e(F,P.end))&&y.$throw(b,R.$$is_lambda),n.yield1(t,F),i=z(i,1)},{$$s:e})}catch(R){if(R===y)return R.$v;throw R}finally{y.is_orphan=!0}}()):(e.begin.$$is_string&&e.end.$$is_string&&$%1!==0&&N.$raise(s("TypeError"),"no implicit conversion to float from string"),p(e,"each_with_index",[],function(R,P){return R==null&&(R=b),P==null&&(P=b),X(P["$%"]($),0)?n.yield1(t,R):b})),e)},-1),M(c,"$%",function($){var t=this;return h(t.begin["$is_a?"](m("Numeric")))&&h(t.end["$is_a?"](m("Numeric")))?s(s("Enumerator"),"ArithmeticSequence").$new(t,$,"%"):t.$step($)}),M(c,"$bsearch",function a(){var $=a.$$p||b,t=this;return a.$$p=null,$===b?t.$enum_for("bsearch"):(h(_(t)&&(t.begin.$$is_number||t.end.$$is_number))&&N.$raise(s("NotImplementedError"),"Can't #bsearch an infinite range"),h(t.begin.$$is_number&&t.end.$$is_number)||N.$raise(s("TypeError"),"can't do binary search for "+t.begin.$class()),p(t.$to_a(),"bsearch",[],$.$to_proc()))}),M(c,"$to_s",function(){var $=this,t=b;return""+(h(t=$.begin)?t:"")+(h($.excl)?"...":"..")+(h(t=$.end)?t:"")}),M(c,"$inspect",function(){var $=this,t=b;return""+(h(t=$.begin)?$.begin.$inspect():t)+(h($.excl)?"...":"..")+(h(t=$.end)?$.end.$inspect():t)}),M(c,"$marshal_load",function($){var t=this;return t.begin=$["$[]"]("begin"),t.end=$["$[]"]("end"),t.excl=$["$[]"]("excl")}),M(c,"$hash",function(){var $=this;return[s("Range"),$.begin,$.end,$.excl].$hash()}),S(c,"==","eql?"),S(c,"member?","include?")}("::",null,x)};Opal.modules["corelib/proc"]=function(n){var A=n.slice,h=n.each_ivar,N=n.klass,M=n.truthy,Q=n.Kernel,Z=n.defs,D=n.def,V=n.send,p=n.to_a,U=n.return_self,$e=n.ensure_kwargs,X=n.hash_get,H=n.Opal,ee=n.alias,W=n.nil,j=n.$$$;return n.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(v,k){var I=N(v,k,"Proc");n.prop(I.$$prototype,"$$is_proc",!0),n.prop(I.$$prototype,"$$is_lambda",!1),Z(I,"$new",function w(){var S=w.$$p||W;return w.$$p=null,M(S)||Q.$raise(j("ArgumentError"),"tried to create a Proc object without a block"),S});function z(w,S){if(w.$$ret)try{return w.apply(null,S)}catch(B){if(B===w.$$ret)return B.$v;throw B}else return w.apply(null,S)}function L(w,S){if(w.$$brk)try{return n.yieldX(w,S)}catch(B){if(B===w.$$brk)return B.$v;throw B}else return n.yieldX(w,S)}return D(I,"$call",function w(S){var B=w.$$p||W,x,b,s=this;return w.$$p=null,x=A(arguments),b=x,B!==W&&(s.$$p=B),s.$$is_lambda?z(s,b):L(s,b)},-1),D(I,"$>>",function w(S){w.$$p;var B=this;return w.$$p=null,V(Q,"proc",[],function x(b){var s=x.$$p||W,f,E,g=x.$$s==null?this:x.$$s,c=W;return x.$$p=null,f=A(arguments),E=f,c=V(g,"call",p(E),s.$to_proc()),S.$call(c)},{$$arity:-1,$$s:B})}),D(I,"$<<",function w(S){w.$$p;var B=this;return w.$$p=null,V(Q,"proc",[],function x(b){var s=x.$$p||W,f,E,g=x.$$s==null?this:x.$$s,c=W;return x.$$p=null,f=A(arguments),E=f,c=V(S,"call",p(E),s.$to_proc()),g.$call(c)},{$$arity:-1,$$s:B})}),D(I,"$to_proc",U),D(I,"$lambda?",function(){var S=this;return!!S.$$is_lambda}),D(I,"$arity",function(){var S=this;return S.$$is_curried?-1:S.$$arity!=null?S.$$arity:S.length}),D(I,"$source_location",function(){var S=this,B=W;return S.$$is_curried?W:M(B=S.$$source_location)?B:W}),D(I,"$binding",function(){var S=this;return S.$$is_curried&&Q.$raise(j("ArgumentError"),"Can't create Binding"),M(j("::","Binding","skip_raise")?"constant":W)?j("Binding").$new(W,[],S.$$s,S.$source_location()):W}),D(I,"$parameters",function(S){var B,x=this;if(S=$e(S),B=X(S,"lambda"),x.$$is_curried)return[["rest"]];if(x.$$parameters){if(B??x.$$is_lambda)return x.$$parameters;var b=[],s,f;for(s=0,f=x.$$parameters.length;s<f;s++){var E=x.$$parameters[s];E[0]==="req"&&(E=["opt",E[1]]),b.push(E)}return b}else return[]},-1),D(I,"$curry",function(S){var B=this;S===void 0?S=B.length:(S=H["$coerce_to!"](S,j("Integer"),"to_int"),B.$$is_lambda&&S!==B.length&&Q.$raise(j("ArgumentError"),"wrong number of arguments ("+S+" for "+B.length+")"));function x(){var b=A(arguments),s=b.length,f;return s>S&&B.$$is_lambda&&!B.$$is_curried&&Q.$raise(j("ArgumentError"),"wrong number of arguments ("+s+" for "+S+")"),s>=S?B.$call.apply(B,b):(f=function(){return x.apply(null,b.concat(A(arguments)))},f.$$is_lambda=B.$$is_lambda,f.$$is_curried=!0,f)}return x.$$is_lambda=B.$$is_lambda,x.$$is_curried=!0,x},-1),D(I,"$dup",function(){var S=this,B=S.$$original_proc||S,x=function(){return B.apply(this,arguments)};return h(S,function(b){x[b]=S[b]}),x}),ee(I,"===","call"),ee(I,"clone","dup"),ee(I,"yield","call"),ee(I,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(n){var A=n.klass,h=n.def,N=n.truthy,M=n.slice,Q=n.alias,Z=n.Kernel,D=n.send,V=n.to_a,p=n.nil,U=n.$$$;return n.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function($e,X){var H=A($e,X,"Method"),ee=H.$$prototype;return ee.method=ee.receiver=ee.owner=ee.name=p,H.$attr_reader("owner","receiver","name"),h(H,"$initialize",function(j,v,k,I){var z=this;return z.receiver=j,z.owner=v,z.name=I,z.method=k}),h(H,"$arity",function(){var j=this;return j.method.$arity()}),h(H,"$parameters",function(){var j=this;return j.method.$$parameters}),h(H,"$source_location",function(){var j=this,v=p;return N(v=j.method.$$source_location)?v:["(eval)",0]}),h(H,"$comments",function(){var j=this,v=p;return N(v=j.method.$$comments)?v:[]}),h(H,"$call",function W(j){var v=W.$$p||p,k,I,z=this;return W.$$p=null,k=M(arguments),I=k,z.method.$$p=v,z.method.apply(z.receiver,I)},-1),h(H,"$curry",function(j){var v=this;return v.method.$curry(j)},-1),h(H,"$>>",function(j){var v=this;return v.method["$>>"](j)}),h(H,"$<<",function(j){var v=this;return v.method["$<<"](j)}),h(H,"$unbind",function(){var j=this;return U("UnboundMethod").$new(j.receiver.$class(),j.owner,j.method,j.name)}),h(H,"$to_proc",function(){var j=this,v=j.$call.bind(j);return v.$$unbound=j.method,v.$$is_lambda=!0,v.$$arity=j.method.$$arity==null?j.method.length:j.method.$$arity,v.$$parameters=j.method.$$parameters,v}),h(H,"$inspect",function(){var j=this;return"#<"+j.$class()+": "+j.receiver.$class()+"#"+j.name+" (defined in "+j.owner+" in "+j.$source_location().$join(":")+")>"}),Q(H,"[]","call"),Q(H,"===","call")}("::",null),function($e,X){var H=A($e,X,"UnboundMethod"),ee=H.$$prototype;return ee.method=ee.owner=ee.name=ee.source=p,H.$attr_reader("source","owner","name"),h(H,"$initialize",function(j,v,k,I){var z=this;return z.source=j,z.owner=v,z.method=k,z.name=I,z.$$method=k}),h(H,"$arity",function(){var j=this;return j.method.$arity()}),h(H,"$parameters",function(){var j=this;return j.method.$$parameters}),h(H,"$source_location",function(){var j=this,v=p;return N(v=j.method.$$source_location)?v:["(eval)",0]}),h(H,"$comments",function(){var j=this,v=p;return N(v=j.method.$$comments)?v:[]}),h(H,"$bind",function(j){var v=this;if(v.owner.$$is_module||n.is_a(j,v.owner))return U("Method").$new(j,v.owner,v.method,v.name);Z.$raise(U("TypeError"),"can't bind singleton method to a different class (expected "+j+".kind_of?("+v.owner+" to be true)")}),h(H,"$bind_call",function W(j,v){var k=W.$$p||p,I,z,L=this;return W.$$p=null,I=M(arguments,1),z=I,D(L.$bind(j),"call",V(z),k.$to_proc())},-2),h(H,"$inspect",function(){var j=this;return"#<"+j.$class()+": "+j.source+"#"+j.name+" (defined in "+j.owner+" in "+j.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(n){var A=n.gvars,h=n.const_set,N=n.Object,M=n.nil;return n.add_stubs("new"),A["&"]=A["~"]=A["`"]=A["'"]=M,A.LOADED_FEATURES=A['"']=n.loaded_features,A.LOAD_PATH=A[":"]=[],A["/"]=`
`,A[","]=M,h("::","ARGV",[]),h("::","ARGF",N.$new()),h("::","ENV",new Map),A.VERBOSE=!1,A.DEBUG=!1,A.SAFE=0};Opal.modules["corelib/io"]=function(n){var A=n.klass,h=n.const_set,N=n.not,M=n.truthy,Q=n.def,Z=n.return_ivar,D=n.return_val,V=n.slice,p=n.Kernel,U=n.gvars,$e=n.send,X=n.to_a,H=n.rb_plus,ee=n.neqeq,W=n.range,j=n.eqeq,v=n.to_ary,k=n.rb_gt,I=n.assign_ivar_val,z=n.alias,L,w=n.nil,S=n.$$$;n.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(x,b){var s=A(x,b,"IO"),f=s.$$prototype;return f.read_buffer=f.closed=w,h(s,"SEEK_SET",0),h(s,"SEEK_CUR",1),h(s,"SEEK_END",2),h(s,"SEEK_DATA",3),h(s,"SEEK_HOLE",4),h(s,"READABLE",1),h(s,"WRITABLE",4),s.$attr_reader("eof"),s.$attr_accessor("read_proc","sync","tty","write_proc"),Q(s,"$initialize",function(g,c){var l=this;return c==null&&(c="r"),l.fd=g,l.flags=c,l.eof=!1,M(c["$include?"]("r"))&&N(c["$match?"](/[wa+]/))?l.closed="write":M(c["$match?"](/[wa]/))&&N(c["$match?"](/[r+]/))?l.closed="read":w},-2),Q(s,"$fileno",Z("fd")),Q(s,"$tty?",function(){var g=this;return g.tty==!0}),Q(s,"$write",function(g){var c=this;return c.write_proc(g),g.$size()}),Q(s,"$flush",D(w)),Q(s,"$<<",function(g){var c=this;return c.$write(g),c}),Q(s,"$print",function(g){var c,l,m=this;U[","]==null&&(U[","]=w),c=V(arguments),l=c;for(var C=0,_=l.length;C<_;C++)l[C]=p.$String(l[C]);return m.$write(l.join(U[","])),w},-1),Q(s,"$puts",function(g){var c,l,m=this;c=V(arguments),l=c;var C;if(l.length===0)return m.$write(`
`),w;for(var _=0,a=l.length;_<a;_++)if(l[_].$$is_array){var $=l[_].$flatten();$.length>0&&$e(m,"puts",X($))}else l[_].$$is_string?C=l[_].valueOf():C=p.$String(l[_]),C.endsWith(`
`)||(C+=`
`),m.$write(C);return w},-1),Q(s,"$getc",function(){var g=this,c=w,l=w,m=w;g.read_buffer=M(c=g.read_buffer)?c:"",l="";do if(g.read_buffer=H(g.read_buffer,l),ee(g.read_buffer,""))return m=g.read_buffer["$[]"](0),g.read_buffer=g.read_buffer["$[]"](W(1,-1,!1)),m;while(M(l=g.$sysread_noraise(1)));return w}),Q(s,"$getbyte",function(){var g,c=this;return g=c.$getc(),g===w||g==null?w:g.$ord()}),Q(s,"$readbyte",function(){var g=this;return g.$readchar().$ord()}),Q(s,"$readchar",function(){var g=this,c=w;return M(c=g.$getc())?c:p.$raise(S("EOFError"),"end of file reached")}),Q(s,"$readline",function(g){var c,l,m=this,C=w;return c=V(arguments),l=c,M(C=$e(m,"gets",X(l)))?C:p.$raise(S("EOFError"),"end of file reached")},-1),Q(s,"$gets",function(g,c,l){var m,C,_=this,a=w,$=w,t=w,e=w,r=w,i=w;U["/"]==null&&(U["/"]=w),g==null&&(g=!1),c==null&&(c=w),l==null&&(l=new Map),M(g.$$is_number)&&N(c)&&(m=[!1,g,c],g=m[0],c=m[1],l=m[2]),M(g.$$is_hash)&&N(c)&&j(l,new Map)?(m=[!1,w,g],g=m[0],c=m[1],l=m[2]):M(c.$$is_hash)&&j(l,new Map)&&(m=[g,w,c],g=m[0],c=m[1],l=m[2]),a=g,j(g,!1)&&(g=U["/"]),j(g,"")&&(g=/\r?\n\r?\n/),g=M($=g)?$:"",j(a,"")||(g=g.$to_str()),t=j(a,"")?2:g.$length(),j(g," ")&&(g=/ /),_.read_buffer=M($=_.read_buffer)?$:"",e="",r=w;do if(_.read_buffer=H(_.read_buffer,e),ee(g,"")&&M(M(g.$$is_regexp)?_.read_buffer["$match?"](g):_.read_buffer["$include?"](g))){i=_.read_buffer,C=_.read_buffer.$split(g,2),m=v(C),r=m[0]==null?w:m[0],_.read_buffer=m[1]==null?w:m[1],ee(r,i)&&(r=H(r,i["$[]"](r.$length(),t)));break}while(M(e=_.$sysread_noraise(j(g,"")?65536:1)));return M(r)||(m=[M($=_.read_buffer)?$:"",""],r=m[0],_.read_buffer=m[1],j(r,"")&&(r=w)),M(r)&&(M(c)&&(r=r["$[]"](n.Range.$new(0,c,!0)),_.read_buffer=H(r["$[]"](n.Range.$new(c,-1,!1)),_.read_buffer)),M(l["$[]"]("chomp"))&&(r=r.$sub(/\r?\n$/,"")),j(a,"")&&(r=r.$sub(/^[\r\n]+/,""))),j(a,!1)&&(U._=r),r},-1),Q(s,"$sysread",function(g){var c=this,l=w;return M(l=c.read_proc(g))?l:(c.eof=!0,p.$raise(S("EOFError"),"end of file reached"))}),Q(s,"$sysread_noraise",function(g){var c=this;try{return c.$sysread(g)}catch(l){if(n.rescue(l,[S("EOFError")]))try{return w}finally{n.pop_exception(l)}else throw l}}),Q(s,"$readpartial",function(g){var c,l=this,m=w,C=w,_=w;return l.read_buffer=M(m=l.read_buffer)?m:"",C=l.$sysread(g),c=[H(l.read_buffer,M(m=C)?m:""),""],_=c[0],l.read_buffer=c[1],j(_,"")&&(_=w),_}),Q(s,"$read",function(g){var c,l=this,m=w,C=w,_=w;g==null&&(g=w),l.read_buffer=M(m=l.read_buffer)?m:"",C="",_=w;do if(l.read_buffer=H(l.read_buffer,C),M(g)&&M(k(l.read_buffer.$length(),g)))return c=[l.read_buffer["$[]"](n.Range.$new(0,g,!0)),l.read_buffer["$[]"](n.Range.$new(g,-1,!1))],_=c[0],l.read_buffer=c[1],_;while(M(C=l.$sysread_noraise(M(m=g)?m:65536)));return c=[l.read_buffer,""],_=c[0],l.read_buffer=c[1],_},-1),Q(s,"$readlines",function(g){var c=this;return U["/"]==null&&(U["/"]=w),g==null&&(g=U["/"]),c.$each_line(g).$to_a()},-1),Q(s,"$each",function E(g,c){var l=E.$$p||w,m,C,_,a=this,$=w;if(U["/"]==null&&(U["/"]=w),E.$$p=null,m=V(arguments),m.length>0&&(C=m.shift()),C==null&&(C=U["/"]),_=m,l===w)return $e(a,"enum_for",["each",C].concat(X(_)));for(;M($=$e(a,"gets",[C].concat(X(_))));)n.yield1(l,$);return a},-1),Q(s,"$each_byte",function E(){var g=E.$$p||w,c=this,l=w;if(E.$$p=null,g===w)return c.$enum_for("each_byte");for(;M(l=c.$getbyte());)n.yield1(g,l);return c}),Q(s,"$each_char",function E(){var g=E.$$p||w,c=this,l=w;if(E.$$p=null,g===w)return c.$enum_for("each_char");for(;M(l=c.$getc());)n.yield1(g,l);return c}),Q(s,"$close",I("closed","both")),Q(s,"$close_read",function(){var g=this;return j(g.closed,"write")?g.closed="both":g.closed="read"}),Q(s,"$close_write",function(){var g=this;return j(g.closed,"read")?g.closed="both":g.closed="write"}),Q(s,"$closed?",function(){var g=this;return g.closed["$=="]("both")}),Q(s,"$closed_read?",function(){var g=this,c=w;return M(c=g.closed["$=="]("read"))?c:g.closed["$=="]("both")}),Q(s,"$closed_write?",function(){var g=this,c=w;return M(c=g.closed["$=="]("write"))?c:g.closed["$=="]("both")}),Q(s,"$check_writable",function(){var g=this;return M(g["$closed_write?"]())?p.$raise(S("IOError"),"not opened for writing"):w}),Q(s,"$check_readable",function(){var g=this;return M(g["$closed_read?"]())?p.$raise(S("IOError"),"not opened for reading"):w}),z(s,"each_line","each"),z(s,"eof?","eof")}("::",null),h("::","STDIN",U.stdin=S("IO").$new(0,"r")),h("::","STDOUT",U.stdout=S("IO").$new(1,"w")),h("::","STDERR",U.stderr=S("IO").$new(2,"w"));var B=n.global.console;return S("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(x){process.stdout.write(x)}:function(x){B.log(x)}),S("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(x){process.stderr.write(x)}:function(x){B.warn(x)}),L=[function(x){var b=prompt();return b!==null?b+`
`:w}],$e(S("STDIN"),"read_proc=",L),L[L.length-1]};Opal.modules["opal/regexp_anchors"]=function(n){var A=n.module,h=n.const_set,N=[];n.nil;var M=n.$$$;return n.add_stubs("new"),function(Q,Z){var D=A(Q,"Opal"),V=[D].concat(Z),p=n.$r(V);return h(D,"REGEXP_START","^"),h(D,"REGEXP_END","$"),h(D,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),h(D,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),h(D,"INLINE_IDENTIFIER_REGEXP",p("Regexp").$new("[^"+M(D,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+M(D,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),h(D,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),h(D,"CONST_NAME_REGEXP",p("Regexp").$new(""+M(D,"REGEXP_START")+"(::)?[A-Z][^"+M(D,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+M(D,"REGEXP_END")))}(N[0],N)};Opal.modules["opal/mini"]=function(n){var A=n.Object;return n.nil,n.add_stubs("require"),A.$require("opal/base"),A.$require("corelib/nil"),A.$require("corelib/boolean"),A.$require("corelib/string"),A.$require("corelib/comparable"),A.$require("corelib/enumerable"),A.$require("corelib/enumerator"),A.$require("corelib/array"),A.$require("corelib/hash"),A.$require("corelib/number"),A.$require("corelib/range"),A.$require("corelib/proc"),A.$require("corelib/method"),A.$require("corelib/regexp"),A.$require("corelib/variables"),A.$require("corelib/io"),A.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(n){var A=n.coerce_to,h=n.module,N=n.slice,M=n.truthy,Q=n.eqeq,Z=n.Opal,D=n.Kernel,V=n.gvars,p=n.def,U=n.alias,$e=n.nil,X=n.$$$;return n.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(H){var ee=h(H,"Kernel");return p(ee,"$format",function(j,v){var k,I,z=$e;V.DEBUG==null&&(V.DEBUG=$e),k=N(arguments,1),I=k,Q(I.$length(),1)&&M(I["$[]"](0)["$respond_to?"]("to_ary"))&&(z=Z["$coerce_to?"](I["$[]"](0),X("Array"),"to_ary"),M(z["$nil?"]())||(I=z.$to_a()));var L="",w=0,S,B,x=j.length,b,s,f,E,g,c,l,m,C,_,a,$,t,e=1,r=0,i,u=0,o=1,y=2,R=4,P=8,F=16,G=32,re=64,ae=128;function le(){i&G&&D.$raise(X("ArgumentError"),"flag after width"),i&ae&&D.$raise(X("ArgumentError"),"flag after precision")}function ce(){i&G&&D.$raise(X("ArgumentError"),"width given twice"),i&ae&&D.$raise(X("ArgumentError"),"width after precision")}function de(T){return T>=I.length&&D.$raise(X("ArgumentError"),"too few arguments"),I[T]}function he(){switch(r){case-1:D.$raise(X("ArgumentError"),"unnumbered("+e+") mixed with numbered");case-2:D.$raise(X("ArgumentError"),"unnumbered("+e+") mixed with named")}return r=e++,de(r-1)}function ve(T){return r>0&&D.$raise(X("ArgumentError"),"numbered("+T+") after unnumbered("+r+")"),r===-2&&D.$raise(X("ArgumentError"),"numbered("+T+") after named"),T<1&&D.$raise(X("ArgumentError"),"invalid index - "+T+"$"),r=-1,de(T-1)}function me(){return t===void 0?he():t}function be(T){for(var K,Y="";;B++){if(B===x&&D.$raise(X("ArgumentError"),"malformed format string - %*[0-9]"),j.charCodeAt(B)<48||j.charCodeAt(B)>57)return B--,K=parseInt(Y,10)||0,K>2147483647&&D.$raise(X("ArgumentError"),""+T+" too big"),K;Y+=j.charAt(B)}}function ie(T){var K,Y=be(T);return j.charAt(B+1)==="$"?(B++,K=ve(Y)):K=he(),K.$to_int()}for(B=j.indexOf("%");B!==-1;B=j.indexOf("%",B)){switch(s=void 0,i=u,E=-1,g=-1,t=void 0,S=B,B++,j.charAt(B)){case"%":w=B;case"":case`
`:case"\0":B++;continue}e:for(;B<x;B++)switch(j.charAt(B)){case" ":le(),i|=F;continue e;case"#":le(),i|=o;continue e;case"+":le(),i|=R;continue e;case"-":le(),i|=y;continue e;case"0":le(),i|=P;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(c=be("width"),j.charAt(B+1)==="$"){if(B+2===x){s="%",B++;break e}t!==void 0&&D.$raise(X("ArgumentError"),"value given twice - %"+c+"$"),t=ve(c),B++}else ce(),i|=G,E=c;continue e;case"<":case"{":for(m=j.charAt(B)==="<"?">":"}",l="",B++;;B++){if(B===x&&D.$raise(X("ArgumentError"),"malformed name - unmatched parenthesis"),j.charAt(B)===m){if(r>0&&D.$raise(X("ArgumentError"),"named "+l+" after unnumbered("+r+")"),r===-1&&D.$raise(X("ArgumentError"),"named "+l+" after numbered"),r=-2,(I[0]===void 0||!I[0].$$is_hash)&&D.$raise(X("ArgumentError"),"one hash required"),t=I[0].$fetch(l),m===">")continue e;if(s=t.toString(),g!==-1&&(s=s.slice(0,g)),i&y)for(;s.length<E;)s=s+" ";else for(;s.length<E;)s=" "+s;break e}l+=j.charAt(B)}case"*":B++,ce(),i|=G,E=ie("width"),E<0&&(i|=y,E=-E);continue e;case".":if(i&ae&&D.$raise(X("ArgumentError"),"precision given twice"),i|=re|ae,g=0,B++,j.charAt(B)==="*"){B++,g=ie("precision"),g<0&&(i&=~re);continue e}g=be("precision");continue e;case"d":case"i":case"u":if(b=D.$Integer(me()),b>=0){for(s=b.toString();s.length<g;)s="0"+s;if(i&y)for((i&R||i&F)&&(s=(i&R?"+":" ")+s);s.length<E;)s=s+" ";else if(i&P&&g===-1){for(;s.length<E-(i&R||i&F?1:0);)s="0"+s;(i&R||i&F)&&(s=(i&R?"+":" ")+s)}else for((i&R||i&F)&&(s=(i&R?"+":" ")+s);s.length<E;)s=" "+s}else{for(s=(-b).toString();s.length<g;)s="0"+s;if(i&y)for(s="-"+s;s.length<E;)s=s+" ";else if(i&P&&g===-1){for(;s.length<E-1;)s="0"+s;s="-"+s}else for(s="-"+s;s.length<E;)s=" "+s}break e;case"b":case"B":case"o":case"x":case"X":switch(j.charAt(B)){case"b":case"B":C=2,_="0b",a=/^1+/,$="1";break;case"o":C=8,_="0",a=/^3?7+/,$="7";break;case"x":case"X":C=16,_="0x",a=/^f+/,$="f";break}if(b=D.$Integer(me()),b>=0){for(s=b.toString(C);s.length<g;)s="0"+s;if(i&y)for((i&R||i&F)&&(s=(i&R?"+":" ")+s),i&o&&b!==0&&(s=_+s);s.length<E;)s=s+" ";else if(i&P&&g===-1){for(;s.length<E-(i&R||i&F?1:0)-(i&o&&b!==0?_.length:0);)s="0"+s;i&o&&b!==0&&(s=_+s),(i&R||i&F)&&(s=(i&R?"+":" ")+s)}else for(i&o&&b!==0&&(s=_+s),(i&R||i&F)&&(s=(i&R?"+":" ")+s);s.length<E;)s=" "+s}else if(i&R||i&F){for(s=(-b).toString(C);s.length<g;)s="0"+s;if(i&y)for(i&o&&(s=_+s),s="-"+s;s.length<E;)s=s+" ";else if(i&P&&g===-1){for(;s.length<E-1-(i&o?2:0);)s="0"+s;i&o&&(s=_+s),s="-"+s}else for(i&o&&(s=_+s),s="-"+s;s.length<E;)s=" "+s}else{for(s=(b>>>0).toString(C).replace(a,$);s.length<g-2;)s=$+s;if(i&y)for(s=".."+s,i&o&&(s=_+s);s.length<E;)s=s+" ";else if(i&P&&g===-1){for(;s.length<E-2-(i&o?_.length:0);)s=$+s;s=".."+s,i&o&&(s=_+s)}else for(s=".."+s,i&o&&(s=_+s);s.length<E;)s=" "+s}j.charAt(B)===j.charAt(B).toUpperCase()&&(s=s.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(b=D.$Float(me()),b>=0||isNaN(b)){if(b===1/0)s="Inf";else switch(j.charAt(B)){case"f":s=b.toFixed(g===-1?6:g);break;case"e":case"E":s=b.toExponential(g===-1?6:g);break;case"g":case"G":s=b.toExponential(),f=parseInt(s.split("e")[1],10),f<-4||f>=(g===-1?6:g)||(s=b.toPrecision(g===-1?i&o?6:void 0:g));break}if(i&y)for((i&R||i&F)&&(s=(i&R?"+":" ")+s);s.length<E;)s=s+" ";else if(i&P&&b!==1/0&&!isNaN(b)){for(;s.length<E-(i&R||i&F?1:0);)s="0"+s;(i&R||i&F)&&(s=(i&R?"+":" ")+s)}else for((i&R||i&F)&&(s=(i&R?"+":" ")+s);s.length<E;)s=" "+s}else{if(b===-1/0)s="Inf";else switch(j.charAt(B)){case"f":s=(-b).toFixed(g===-1?6:g);break;case"e":case"E":s=(-b).toExponential(g===-1?6:g);break;case"g":case"G":s=(-b).toExponential(),f=parseInt(s.split("e")[1],10),f<-4||f>=(g===-1?6:g)||(s=(-b).toPrecision(g===-1?i&o?6:void 0:g));break}if(i&y)for(s="-"+s;s.length<E;)s=s+" ";else if(i&P&&b!==-1/0){for(;s.length<E-1;)s="0"+s;s="-"+s}else for(s="-"+s;s.length<E;)s=" "+s}j.charAt(B)===j.charAt(B).toUpperCase()&&b!==1/0&&b!==-1/0&&!isNaN(b)&&(s=s.toUpperCase()),s=s.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":D.$raise(X("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(b=me(),b["$respond_to?"]("to_ary")&&(b=b.$to_ary()[0]),b["$respond_to?"]("to_str")?s=b.$to_str():s=String.fromCharCode(A(b,X("Integer"),"to_int")),s.length!==1&&D.$raise(X("ArgumentError"),"%c requires a character"),i&y)for(;s.length<E;)s=s+" ";else for(;s.length<E;)s=" "+s;break e;case"p":if(s=me().$inspect(),g!==-1&&(s=s.slice(0,g)),i&y)for(;s.length<E;)s=s+" ";else for(;s.length<E;)s=" "+s;break e;case"s":if(s=me().$to_s(),g!==-1&&(s=s.slice(0,g)),i&y)for(;s.length<E;)s=s+" ";else for(;s.length<E;)s=" "+s;break e;default:D.$raise(X("ArgumentError"),"malformed format string - %"+j.charAt(B))}s===void 0&&D.$raise(X("ArgumentError"),"malformed format string - %"),L+=j.slice(w,S)+s,w=B+1}return V.DEBUG&&r>=0&&e<I.length&&D.$raise(X("ArgumentError"),"too many arguments for format string"),L+j.slice(w)},-2),U(ee,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(n){var A=n.klass,h=n.rb_plus,N=n.truthy,M=n.send,Q=n.defs,Z=n.eqeq,D=n.def,V=n.return_ivar,p=n.return_val,U=n.slice,$e=n.Kernel,X=n.Opal,H=n.rb_lt,ee,W=n.top,j=[],v=n.$r(j),k=n.nil,I=n.$$$;return n.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),W.$require("corelib/string"),function(z,L,w){var S=A(z,L,"Encoding"),B=[S].concat(w),x=S.$$prototype;return x.name=x.dummy=k,Q(S,"$register",function b(s,f){var E=b.$$p||k,g=this,c=k,l=k,m=k,C=k,_=k,a=k;return b.$$p=null,f==null&&(f=new Map),c=h([s],N(l=f["$[]"]("aliases"))?l:[]),m=N(l=f["$[]"]("ascii"))&&l,C=N(l=f["$[]"]("dummy"))&&l,N(f["$[]"]("inherits"))?(_=f["$[]"]("inherits").$clone(),_.$initialize(s,c,m,C)):_=g.$new(s,c,m,C),E!==k&&M(_,"instance_eval",[],E.$to_proc()),a=n.encodings,M(c,"each",[],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=k),e.$const_set(t.$tr("-","_"),_),a[t]=_},{$$s:g})},-2),Q(S,"$find",function(s){var f=this;return Z(s,"default_external")?f.$default_external():n.find_encoding(s)}),S.$singleton_class().$attr_accessor("default_external"),S.$attr_reader("name","names"),D(S,"$initialize",function(s,f,E,g){var c=this;return c.name=s,c.names=f,c.ascii=E,c.dummy=g}),D(S,"$ascii_compatible?",V("ascii")),D(S,"$dummy?",V("dummy")),D(S,"$binary?",p(!1)),D(S,"$to_s",V("name")),D(S,"$inspect",function(){var s=this;return"#<Encoding:"+s.name+(N(s.dummy)?" (dummy)":k)+">"}),D(S,"$charsize",function(s){for(var f=0,E=0,g=s.length;E<g;E++){var c=s.charCodeAt(E);c>=55296&&c<=56319||f++}return f}),D(S,"$each_char",function b(s){var f=b.$$p||k;b.$$p=null;for(var E="",g=0,c=s.length;g<c;g++){var l=s.charCodeAt(g),m=s.charAt(g);if(l>=56320&&l<=57343){E=m;continue}else l>=55296&&l<=56319&&(m=E+m);s.encoding.name!="UTF-8"&&(m=new String(m),m.encoding=s.encoding),n.yield1(f,m)}}),D(S,"$each_byte",function(s){return U(arguments),$e.$raise(I("NotImplementedError"))},-1),D(S,"$bytesize",function(s){return U(arguments),$e.$raise(I("NotImplementedError"))},-1),A("::",I("StandardError"),"EncodingError"),A("::",I("EncodingError"),"CompatibilityError"),A(B[0],I("EncodingError"),"UndefinedConversionError"),k}("::",null,j),M(I("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function z(){var L=z.$$s==null?this:z.$$s;return D(L,"$each_byte",function w(S){var B=w.$$p||k;w.$$p=null;for(var x=1/0,b,s=S.length,f=null,E=0;E<s;++E){if(b=S.charCodeAt(E),b>55295&&b<57344){if(!f){if(b>56319){(x-=3)>-1&&(n.yield1(B,239),n.yield1(B,191),n.yield1(B,189));continue}else if(E+1===s){(x-=3)>-1&&(n.yield1(B,239),n.yield1(B,191),n.yield1(B,189));continue}f=b;continue}if(b<56320){(x-=3)>-1&&(n.yield1(B,239),n.yield1(B,191),n.yield1(B,189)),f=b;continue}b=(f-55296<<10|b-56320)+65536}else f&&(x-=3)>-1&&(n.yield1(B,239),n.yield1(B,191),n.yield1(B,189));if(f=null,b<128){if((x-=1)<0)break;n.yield1(B,b)}else if(b<2048){if((x-=2)<0)break;n.yield1(B,b>>6|192),n.yield1(B,b&63|128)}else if(b<65536){if((x-=3)<0)break;n.yield1(B,b>>12|224),n.yield1(B,b>>6&63|128),n.yield1(B,b&63|128)}else if(b<1114112){if((x-=4)<0)break;n.yield1(B,b>>18|240),n.yield1(B,b>>12&63|128),n.yield1(B,b>>6&63|128),n.yield1(B,b&63|128)}}}),D(L,"$bytesize",function(S){return S.$bytes().$length()})},{$$s:W}),M(I("Encoding"),"register",["UTF-16LE"],function z(){var L=z.$$s==null?this:z.$$s;return D(L,"$each_byte",function w(S){var B=w.$$p||k;w.$$p=null;for(var x=0,b=S.length;x<b;x++){var s=S.charCodeAt(x);n.yield1(B,s&255),n.yield1(B,s>>8)}}),D(L,"$bytesize",function(S){return S.length*2})},{$$s:W}),M(I("Encoding"),"register",["UTF-16BE",new Map([["inherits",I(I("Encoding"),"UTF_16LE")]])],function z(){var L=z.$$s==null?this:z.$$s;return D(L,"$each_byte",function w(S){var B=w.$$p||k;w.$$p=null;for(var x=0,b=S.length;x<b;x++){var s=S.charCodeAt(x);n.yield1(B,s>>8),n.yield1(B,s&255)}})},{$$s:W}),M(I("Encoding"),"register",["UTF-32LE"],function z(){var L=z.$$s==null?this:z.$$s;return D(L,"$each_byte",function w(S){var B=w.$$p||k;w.$$p=null;for(var x=0,b=S.length;x<b;x++){var s=S.charCodeAt(x);n.yield1(B,s&255),n.yield1(B,s>>8),n.yield1(B,0),n.yield1(B,0)}}),D(L,"$bytesize",function(S){return S.length*4})},{$$s:W}),M(I("Encoding"),"register",["UTF-32BE",new Map([["inherits",I(I("Encoding"),"UTF_32LE")]])],function z(){var L=z.$$s==null?this:z.$$s;return D(L,"$each_byte",function w(S){var B=w.$$p||k;w.$$p=null;for(var x=0,b=S.length;x<b;x++){var s=S.charCodeAt(x);n.yield1(B,0),n.yield1(B,0),n.yield1(B,s>>8),n.yield1(B,s&255)}})},{$$s:W}),M(I("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function z(){var L=z.$$s==null?this:z.$$s;return D(L,"$each_char",function w(S){var B=w.$$p||k;w.$$p=null;for(var x=0,b=S.length;x<b;x++){var s=new String(S.charAt(x));s.encoding=S.encoding,n.yield1(B,s)}}),D(L,"$charsize",function(S){return S.length}),D(L,"$each_byte",function w(S){var B=w.$$p||k;w.$$p=null;for(var x=0,b=S.length;x<b;x++){var s=S.charCodeAt(x);n.yield1(B,s&255)}}),D(L,"$bytesize",function(S){return S.length}),D(L,"$binary?",p(!0))},{$$s:W}),I("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",I(I("Encoding"),"ASCII_8BIT")]])),I("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",I(I("Encoding"),"ASCII_8BIT")]])),function(z,L){var w=A(z,L,"String"),S=w.$$prototype;return S.internal_encoding=S.bytes=S.encoding=k,w.$attr_reader("encoding"),w.$attr_reader("internal_encoding"),n.prop(String.prototype,"bytes",k),n.prop(String.prototype,"encoding",I(I("Encoding"),"UTF_8")),n.prop(String.prototype,"internal_encoding",I(I("Encoding"),"UTF_8")),D(w,"$b",function(){var x=this;return x.$dup().$force_encoding("binary")}),D(w,"$bytesize",function(){var x=this;return x.internal_encoding.$bytesize(x)}),D(w,"$each_byte",function B(){var x=B.$$p||k,b=this;return B.$$p=null,x===k?M(b,"enum_for",["each_byte"],function s(){var f=s.$$s==null?this:s.$$s;return f.$bytesize()},{$$s:b}):(M(b.internal_encoding,"each_byte",[b],x.$to_proc()),b)}),D(w,"$bytes",function(){var x=this,b=k;return typeof x=="string"?new String(x).$each_byte().$to_a():(x.bytes=N(b=x.bytes)?b:x.$each_byte().$to_a(),x.bytes.$dup())}),D(w,"$each_char",function B(){var x=B.$$p||k,b=this;return B.$$p=null,x===k?M(b,"enum_for",["each_char"],function s(){var f=s.$$s==null?this:s.$$s;return f.$length()},{$$s:b}):(M(b.encoding,"each_char",[b],x.$to_proc()),b)}),D(w,"$chars",function B(){var x=B.$$p||k,b=this;return B.$$p=null,N(x)?M(b,"each_char",[],x.$to_proc()):b.$each_char().$to_a()}),D(w,"$each_codepoint",function B(){var x=B.$$p||k,b=this;if(B.$$p=null,x===k)return b.$enum_for("each_codepoint");for(var s=0,f=b.length;s<f;s++)n.yield1(x,b.codePointAt(s));return b}),D(w,"$codepoints",function B(){var x=B.$$p||k,b=this;return B.$$p=null,x!==k?M(b,"each_codepoint",[],x.$to_proc()):b.$each_codepoint().$to_a()}),D(w,"$encode",function(x){var b=this;return n.enc(b,x)}),D(w,"$force_encoding",function(x){var b=this,s=b;return x===s.encoding||(x=X["$coerce_to!"](x,I("String"),"to_s"),x=I("Encoding").$find(x),x===s.encoding)||(s=n.set_encoding(s,x)),s}),D(w,"$getbyte",function(x){var b=this,s=k;return s=b.$bytes(),x=X["$coerce_to!"](x,I("Integer"),"to_int"),N(H(s.$length(),x))?k:s["$[]"](x)}),D(w,"$initialize_copy",function(x){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),D(w,"$valid_encoding?",p(!0))}("::",null),ee=[I(v("Encoding"),"UTF_8")],M(I("Encoding"),"default_external=",ee),ee[ee.length-1]};Opal.modules["corelib/math"]=function(n){var A=n.type_error,h=n.module,N=n.const_set,M=n.Class,Q=n.slice,Z=n.Kernel,D=n.defs,V=n.truthy,p=n.send,U=n.def,$e=n.rb_minus,X=n.eqeqeq,H=n.rb_divide,ee=[],W=n.nil,j=n.$$$;return n.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(v,k){var I=h(v,"Math"),z=[I].concat(k),L=n.$r(z);return N(I,"E",Math.E),N(I,"PI",Math.PI),N(I,"DomainError",M.$new(j("StandardError"))),D(I,"$checked",function(S,B){var x,b;if(x=Q(arguments,1),b=x,isNaN(b[0])||b.length==2&&isNaN(b[1]))return NaN;var s=Math[S].apply(null,b);return isNaN(s)&&Z.$raise(L("DomainError"),'Numerical argument is out of domain - "'+S+'"'),s},-2),D(I,"$float!",function(S){try{return Z.$Float(S)}catch(B){if(n.rescue(B,[j("ArgumentError")]))try{return Z.$raise(A(S,j("Float")))}finally{n.pop_exception(B)}else throw B}}),D(I,"$integer!",function(S){try{return Z.$Integer(S)}catch(B){if(n.rescue(B,[j("ArgumentError")]))try{return Z.$raise(A(S,j("Integer")))}finally{n.pop_exception(B)}else throw B}}),I.$module_function(),V(typeof Math.erf<"u")||n.prop(Math,"erf",function(w){var S=.254829592,B=-.284496736,x=1.421413741,b=-1.453152027,s=1.061405429,f=.3275911,E=1;w<0&&(E=-1),w=Math.abs(w);var g=1/(1+f*w),c=1-((((s*g+b)*g+x)*g+B)*g+S)*g*Math.exp(-w*w);return E*c}),V(typeof Math.erfc<"u")||n.prop(Math,"erfc",function(w){var S=Math.abs(w),B=1/(.5*S+1),x=B*.17087277+-.82215223,b=B*x+1.48851587,s=B*b+-1.13520398,f=B*s+.27886807,E=B*f+-.18628806,g=B*E+.09678418,c=B*g+.37409196,l=B*c+1.00002368,m=B*l,C=-S*S-1.26551223+m,_=B*Math.exp(C);return w<0?2-_:_}),p(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function w(S){var B=w.$$s==null?this:w.$$s;return S==null&&(S=W),p(B,"define_method",[S],function(b){return b==null&&(b=W),j("Math").$checked(S,j("Math")["$float!"](b))})},{$$s:I}),U(I,"$atan2",function(S,B){return j("Math").$checked("atan2",j("Math")["$float!"](S),j("Math")["$float!"](B))}),U(I,"$hypot",function(S,B){return j("Math").$checked("hypot",j("Math")["$float!"](S),j("Math")["$float!"](B))}),U(I,"$frexp",function(S){if(S=L("Math")["$float!"](S),isNaN(S))return[NaN,0];var B=Math.floor(Math.log(Math.abs(S))/Math.log(2))+1,x=S/Math.pow(2,B);return[x,B]}),U(I,"$gamma",function(S){S=L("Math")["$float!"](S);var B,x,b,s,f,E,g,c,l,m=4.7421875,C=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(S))return NaN;if(S===0&&1/S<0)return-1/0;if((S===-1||S===-1/0)&&Z.$raise(L("DomainError"),'Numerical argument is out of domain - "gamma"'),L("Integer")["$==="](S)){if(S<=0)return isFinite(S)?1/0:NaN;if(S>171)return 1/0;for(s=S-2,f=S-1;s>1;)f*=s,s--;return f==0&&(f=1),f}if(S<.5)return Math.PI/(Math.sin(Math.PI*S)*j("Math").$gamma($e(1,S)));if(S>=171.35)return 1/0;if(S>85)return E=S*S,g=E*S,c=g*S,l=c*S,Math.sqrt(2*Math.PI/S)*Math.pow(S/Math.E,S)*(1+1/(12*S)+1/(288*E)-139/(51840*g)-571/(2488320*c)+163879/(209018880*l)+5246819/(75246796800*l*S));for(S-=1,b=C[0],B=1;B<C.length;++B)b+=C[B]/(S+B);return x=S+m+.5,Math.sqrt(2*Math.PI)*Math.pow(x,S+.5)*Math.exp(-x)*b}),U(I,"$ldexp",function(S,B){return S=L("Math")["$float!"](S),B=L("Math")["$integer!"](B),isNaN(B)&&Z.$raise(j("RangeError"),"float NaN out of range of integer"),S*Math.pow(2,B)}),U(I,"$lgamma",function(S){return S==-1?[1/0,1]:[Math.log(Math.abs(j("Math").$gamma(S))),j("Math").$gamma(S)<0?-1:1]}),U(I,"$log",function(S,B){return X(j("String"),S)&&Z.$raise(A(S,j("Float"))),V(B==null)?j("Math").$checked("log",j("Math")["$float!"](S)):(X(j("String"),B)&&Z.$raise(A(B,j("Float"))),H(j("Math").$checked("log",j("Math")["$float!"](S)),j("Math").$checked("log",j("Math")["$float!"](B))))},-2),U(I,"$log10",function(S){return X(j("String"),S)&&Z.$raise(A(S,j("Float"))),j("Math").$checked("log10",j("Math")["$float!"](S))}),U(I,"$log2",function(S){return X(j("String"),S)&&Z.$raise(A(S,j("Float"))),j("Math").$checked("log2",j("Math")["$float!"](S))}),U(I,"$tan",function(S){return S=j("Math")["$float!"](S),V(S["$infinite?"]())?j(j("Float"),"NAN"):j("Math").$checked("tan",j("Math")["$float!"](S))})}("::",ee)};Opal.modules["corelib/complex/base"]=function(n){var A=n.module,h=n.truthy,N=n.def,M=n.klass,Q=[],Z=n.nil;return n.add_stubs("new,from_string"),function(D,V){var p=A(D,"Kernel"),U=[p].concat(V),$e=n.$r(U);return N(p,"$Complex",function(H,ee){return ee==null&&(ee=Z),h(ee)?$e("Complex").$new(H,ee):$e("Complex").$new(H,0)},-2)}("::",Q),function(D,V,p){var U=M(D,V,"String"),$e=[U].concat(p),X=n.$r($e);return N(U,"$to_c",function(){var ee=this;return X("Complex").$from_string(ee)})}("::",null,Q)};Opal.modules["corelib/complex"]=function(n){var A=n.klass,h=n.truthy,N=n.eqeqeq,M=n.Kernel,Q=n.defs,Z=n.rb_times,D=n.def,V=n.rb_plus,p=n.rb_minus,U=n.rb_divide,$e=n.eqeq,X=n.to_ary,H=n.rb_gt,ee=n.neqeq,W=n.return_val,j=n.const_set,v=n.alias,k=n.top,I=[],z=n.nil,L=n.$$$;return n.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),k.$require("corelib/numeric"),k.$require("corelib/complex/base"),function(w,S,B){var x=A(w,S,"Complex"),b=[x].concat(B),s=n.$r(b),f=x.$$prototype;return f.real=f.imag=z,Q(x,"$rect",function(g,c){var l=this;return c==null&&(c=0),N(L("Numeric"),g)&&h(g["$real?"]())&&N(L("Numeric"),c)&&h(c["$real?"]())||M.$raise(L("TypeError"),"not a real"),l.$new(g,c)},-2),Q(x,"$polar",function(g,c){var l=this;return c==null&&(c=0),N(L("Numeric"),g)&&h(g["$real?"]())&&N(L("Numeric"),c)&&h(c["$real?"]())||M.$raise(L("TypeError"),"not a real"),l.$new(Z(g,L("Math").$cos(c)),Z(g,L("Math").$sin(c)))},-2),x.$attr_reader("real","imag"),D(x,"$initialize",function(g,c){var l=this;return c==null&&(c=0),l.real=g,l.imag=c,l.$freeze()},-2),D(x,"$coerce",function(g){var c=this;return N(L("Complex"),g)?[g,c]:N(L("Numeric"),g)&&h(g["$real?"]())?[L("Complex").$new(g,0),c]:M.$raise(L("TypeError"),""+g.$class()+" can't be coerced into Complex")}),D(x,"$==",function(g){var c=this,l=z;return N(L("Complex"),g)?h(l=c.real["$=="](g.$real()))?c.imag["$=="](g.$imag()):l:N(L("Numeric"),g)&&h(g["$real?"]())?h(l=c.real["$=="](g))?c.imag["$=="](0):l:g["$=="](c)}),D(x,"$-@",function(){var g=this;return M.$Complex(g.real["$-@"](),g.imag["$-@"]())}),D(x,"$+",function(g){var c=this;return N(L("Complex"),g)?M.$Complex(V(c.real,g.$real()),V(c.imag,g.$imag())):N(L("Numeric"),g)&&h(g["$real?"]())?M.$Complex(V(c.real,g),c.imag):c.$__coerced__("+",g)}),D(x,"$-",function(g){var c=this;return N(L("Complex"),g)?M.$Complex(p(c.real,g.$real()),p(c.imag,g.$imag())):N(L("Numeric"),g)&&h(g["$real?"]())?M.$Complex(p(c.real,g),c.imag):c.$__coerced__("-",g)}),D(x,"$*",function(g){var c=this;return N(L("Complex"),g)?M.$Complex(p(Z(c.real,g.$real()),Z(c.imag,g.$imag())),V(Z(c.real,g.$imag()),Z(c.imag,g.$real()))):N(L("Numeric"),g)&&h(g["$real?"]())?M.$Complex(Z(c.real,g),Z(c.imag,g)):c.$__coerced__("*",g)}),D(x,"$/",function(g){var c=this;return N(L("Complex"),g)?N(L("Number"),c.real)&&h(c.real["$nan?"]())||N(L("Number"),c.imag)&&h(c.imag["$nan?"]())||N(L("Number"),g.$real())&&h(g.$real()["$nan?"]())||N(L("Number"),g.$imag())&&h(g.$imag()["$nan?"]())?L("Complex").$new(L(L("Float"),"NAN"),L(L("Float"),"NAN")):U(Z(c,g.$conj()),g.$abs2()):N(L("Numeric"),g)&&h(g["$real?"]())?M.$Complex(c.real.$quo(g),c.imag.$quo(g)):c.$__coerced__("/",g)}),D(x,"$**",function(g){var c,l,m=this,C=z,_=z,a=z,$=z,t=z,e=z,r=z,i=z,u=z,o=z,y=z;if($e(g,0))return L("Complex").$new(1,0);if(N(L("Complex"),g))return l=m.$polar(),c=X(l),C=c[0]==null?z:c[0],_=c[1]==null?z:c[1],a=g.$real(),$=g.$imag(),t=L("Math").$exp(p(Z(a,L("Math").$log(C)),Z($,_))),e=V(Z(_,a),Z($,L("Math").$log(C))),L("Complex").$polar(t,e);if(N(L("Integer"),g))if(h(H(g,0))){for(r=m,i=r,u=p(g,1);ee(u,0);){for(l=u.$divmod(2),c=X(l),o=c[0]==null?z:c[0],y=c[1]==null?z:c[1];$e(y,0);)r=M.$Complex(p(Z(r.$real(),r.$real()),Z(r.$imag(),r.$imag())),Z(Z(2,r.$real()),r.$imag())),u=o,l=u.$divmod(2),c=X(l),o=c[0]==null?z:c[0],y=c[1]==null?z:c[1];i=Z(i,r),u=p(u,1)}return i}else return U(L("Rational").$new(1,1),m)["$**"](g["$-@"]());else return N(L("Float"),g)||N(L("Rational"),g)?(l=m.$polar(),c=X(l),C=c[0]==null?z:c[0],_=c[1]==null?z:c[1],L("Complex").$polar(C["$**"](g),Z(_,g))):m.$__coerced__("**",g)}),D(x,"$abs",function(){var g=this;return L("Math").$hypot(g.real,g.imag)}),D(x,"$abs2",function(){var g=this;return V(Z(g.real,g.real),Z(g.imag,g.imag))}),D(x,"$angle",function(){var g=this;return L("Math").$atan2(g.imag,g.real)}),D(x,"$conj",function(){var g=this;return M.$Complex(g.real,g.imag["$-@"]())}),D(x,"$denominator",function(){var g=this;return g.real.$denominator().$lcm(g.imag.$denominator())}),D(x,"$eql?",function(g){var c=this,l=z,m=z;return h(l=h(m=s("Complex")["$==="](g))?c.real.$class()["$=="](c.imag.$class()):m)?c["$=="](g):l}),D(x,"$fdiv",function(g){var c=this;return N(L("Numeric"),g)||M.$raise(L("TypeError"),""+g.$class()+" can't be coerced into Complex"),U(c,g)}),D(x,"$finite?",function(){var g=this,c=z;return h(c=g.real["$finite?"]())?g.imag["$finite?"]():c}),D(x,"$hash",function(){var g=this;return[L("Complex"),g.real,g.imag].$hash()}),D(x,"$infinite?",function(){var g=this,c=z;return h(c=g.real["$infinite?"]())?c:g.imag["$infinite?"]()}),D(x,"$inspect",function(){var g=this;return"("+g+")"}),D(x,"$numerator",function(){var g=this,c=z;return c=g.$denominator(),M.$Complex(Z(g.real.$numerator(),U(c,g.real.$denominator())),Z(g.imag.$numerator(),U(c,g.imag.$denominator())))}),D(x,"$polar",function(){var g=this;return[g.$abs(),g.$arg()]}),D(x,"$rationalize",function(g){var c=this;return arguments.length>1&&M.$raise(L("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(c.imag,0)&&M.$raise(L("RangeError"),"can't convert "+c+" into Rational"),c.$real().$rationalize(g)},-1),D(x,"$real?",W(!1)),D(x,"$rect",function(){var g=this;return[g.real,g.imag]}),D(x,"$to_f",function(){var g=this;return $e(g.imag,0)||M.$raise(L("RangeError"),"can't convert "+g+" into Float"),g.real.$to_f()}),D(x,"$to_i",function(){var g=this;return $e(g.imag,0)||M.$raise(L("RangeError"),"can't convert "+g+" into Integer"),g.real.$to_i()}),D(x,"$to_r",function(){var g=this;return $e(g.imag,0)||M.$raise(L("RangeError"),"can't convert "+g+" into Rational"),g.real.$to_r()}),D(x,"$to_s",function(){var g=this,c=z;return c=g.real.$inspect(),c=V(c,N(L("Number"),g.imag)&&h(g.imag["$nan?"]())||h(g.imag["$positive?"]())||h(g.imag["$zero?"]())?"+":"-"),c=V(c,g.imag.$abs().$inspect()),N(L("Number"),g.imag)&&(h(g.imag["$nan?"]())||h(g.imag["$infinite?"]()))&&(c=V(c,"*")),V(c,"i")}),j(b[0],"I",x.$new(0,1)),Q(x,"$from_string",function(g){var c=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;g.match(c);var l,m;function C(){return c.test(g)}function _(){var $=g.match(c),t=$[0];return g=g.slice(t.length),t.replace(/_/g,"")}function a(){if(C()){var $=parseFloat(_());if(g[0]==="/")if(g=g.slice(1),C()){var t=parseFloat(_());return M.$Rational($,t)}else return g="/"+g,$;else return $}else return null}return l=a(),l?(m=a(),m?M.$Complex(l,m):g[0]==="i"?M.$Complex(0,l):M.$Complex(l,0)):g[0]==="i"?M.$Complex(0,1):g[0]==="-"&&g[1]==="i"?M.$Complex(0,-1):g[0]==="+"&&g[1]==="i"?M.$Complex(0,1):M.$Complex(0,0)}),function(E,g){return v(E,"rectangular","rect")}(n.get_singleton_class(x)),v(x,"arg","angle"),v(x,"conjugate","conj"),v(x,"divide","/"),v(x,"imaginary","imag"),v(x,"magnitude","abs"),v(x,"phase","arg"),v(x,"quo","/"),v(x,"rectangular","rect"),n.udef(x,"$negative?"),n.udef(x,"$positive?"),n.udef(x,"$step"),z}("::",L("Numeric"),I)};Opal.modules["corelib/rational/base"]=function(n){var A=n.module,h=n.def,N=n.klass;n.nil;var M=n.$$$;return n.add_stubs("convert,from_string"),function(Q){var Z=A(Q,"Kernel");return h(Z,"$Rational",function(V,p){return p==null&&(p=1),M("Rational").$convert(V,p)},-2)}("::"),function(Q,Z){var D=N(Q,Z,"String");return h(D,"$to_r",function(){var p=this;return M("Rational").$from_string(p)})}("::",null)};Opal.modules["corelib/rational"]=function(n){var A=n.klass,h=n.eqeq,N=n.Kernel,M=n.truthy,Q=n.rb_lt,Z=n.rb_divide,D=n.defs,V=n.eqeqeq,p=n.not,U=n.Opal,$e=n.def,X=n.return_ivar,H=n.rb_minus,ee=n.rb_times,W=n.rb_plus,j=n.rb_gt,v=n.rb_le,k=n.return_self,I=n.alias,z=n.top,L=n.nil,w=n.$$$;return n.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),z.$require("corelib/numeric"),z.$require("corelib/rational/base"),function(S,B){var x=A(S,B,"Rational"),b=x.$$prototype;return b.num=b.den=L,D(x,"$reduce",function(f,E){var g=this,c=L;if(f=f.$to_i(),E=E.$to_i(),h(E,0))N.$raise(w("ZeroDivisionError"),"divided by 0");else if(M(Q(E,0)))f=f["$-@"](),E=E["$-@"]();else if(h(E,1))return g.$new(f,E);return c=f.$gcd(E),g.$new(Z(f,c),Z(E,c))}),D(x,"$convert",function(f,E){var g=this;return(M(f["$nil?"]())||M(E["$nil?"]()))&&N.$raise(w("TypeError"),"cannot convert nil into Rational"),V(w("Integer"),f)&&V(w("Integer"),E)?g.$reduce(f,E):((V(w("Float"),f)||V(w("String"),f)||V(w("Complex"),f))&&(f=f.$to_r()),(V(w("Float"),E)||V(w("String"),E)||V(w("Complex"),E))&&(E=E.$to_r()),M(E["$equal?"](1))&&p(w("Integer")["$==="](f))?U["$coerce_to!"](f,w("Rational"),"to_r"):V(w("Numeric"),f)&&V(w("Numeric"),E)?Z(f,E):g.$reduce(f,E))}),$e(x,"$initialize",function(f,E){var g=this;return g.num=f,g.den=E,g.$freeze()}),$e(x,"$numerator",X("num")),$e(x,"$denominator",X("den")),$e(x,"$coerce",function(f){var E=this,g=L;return V(w("Rational"),g=f)?[f,E]:V(w("Integer"),g)?[f.$to_r(),E]:V(w("Float"),g)?[f,E.$to_f()]:L}),$e(x,"$==",function(f){var E=this,g=L,c=L;return V(w("Rational"),g=f)?M(c=E.num["$=="](f.$numerator()))?E.den["$=="](f.$denominator()):c:V(w("Integer"),g)?M(c=E.num["$=="](f))?E.den["$=="](1):c:V(w("Float"),g)?E.$to_f()["$=="](f):f["$=="](E)}),$e(x,"$<=>",function(f){var E=this,g=L;return V(w("Rational"),g=f)?H(ee(E.num,f.$denominator()),ee(E.den,f.$numerator()))["$<=>"](0):V(w("Integer"),g)?H(E.num,ee(E.den,f))["$<=>"](0):V(w("Float"),g)?E.$to_f()["$<=>"](f):E.$__coerced__("<=>",f)}),$e(x,"$+",function(f){var E=this,g=L,c=L,l=L;return V(w("Rational"),g=f)?(c=W(ee(E.num,f.$denominator()),ee(E.den,f.$numerator())),l=ee(E.den,f.$denominator()),N.$Rational(c,l)):V(w("Integer"),g)?N.$Rational(W(E.num,ee(f,E.den)),E.den):V(w("Float"),g)?W(E.$to_f(),f):E.$__coerced__("+",f)}),$e(x,"$-",function(f){var E=this,g=L,c=L,l=L;return V(w("Rational"),g=f)?(c=H(ee(E.num,f.$denominator()),ee(E.den,f.$numerator())),l=ee(E.den,f.$denominator()),N.$Rational(c,l)):V(w("Integer"),g)?N.$Rational(H(E.num,ee(f,E.den)),E.den):V(w("Float"),g)?H(E.$to_f(),f):E.$__coerced__("-",f)}),$e(x,"$*",function(f){var E=this,g=L,c=L,l=L;return V(w("Rational"),g=f)?(c=ee(E.num,f.$numerator()),l=ee(E.den,f.$denominator()),N.$Rational(c,l)):V(w("Integer"),g)?N.$Rational(ee(E.num,f),E.den):V(w("Float"),g)?ee(E.$to_f(),f):E.$__coerced__("*",f)}),$e(x,"$/",function(f){var E=this,g=L,c=L,l=L;return V(w("Rational"),g=f)?(c=ee(E.num,f.$denominator()),l=ee(E.den,f.$numerator()),N.$Rational(c,l)):V(w("Integer"),g)?h(f,0)?Z(E.$to_f(),0):N.$Rational(E.num,ee(E.den,f)):V(w("Float"),g)?Z(E.$to_f(),f):E.$__coerced__("/",f)}),$e(x,"$**",function(f){var E=this,g=L;return V(w("Integer"),g=f)?h(E,0)&&M(Q(f,0))?w(w("Float"),"INFINITY"):M(j(f,0))?N.$Rational(E.num["$**"](f),E.den["$**"](f)):M(Q(f,0))?N.$Rational(E.den["$**"](f["$-@"]()),E.num["$**"](f["$-@"]())):N.$Rational(1,1):V(w("Float"),g)?E.$to_f()["$**"](f):V(w("Rational"),g)?h(f,0)?N.$Rational(1,1):h(f.$denominator(),1)?M(Q(f,0))?N.$Rational(E.den["$**"](f.$numerator().$abs()),E.num["$**"](f.$numerator().$abs())):N.$Rational(E.num["$**"](f.$numerator()),E.den["$**"](f.$numerator())):h(E,0)&&M(Q(f,0))?N.$raise(w("ZeroDivisionError"),"divided by 0"):E.$to_f()["$**"](f):E.$__coerced__("**",f)}),$e(x,"$abs",function(){var f=this;return N.$Rational(f.num.$abs(),f.den.$abs())}),$e(x,"$ceil",function(f){var E=this;return f==null&&(f=0),h(f,0)?Z(E.num["$-@"](),E.den)["$-@"]().$ceil():E.$with_precision("ceil",f)},-1),$e(x,"$floor",function(f){var E=this;return f==null&&(f=0),h(f,0)?Z(E.num["$-@"](),E.den)["$-@"]().$floor():E.$with_precision("floor",f)},-1),$e(x,"$hash",function(){var f=this;return[w("Rational"),f.num,f.den].$hash()}),$e(x,"$inspect",function(){var f=this;return"("+f+")"}),$e(x,"$rationalize",function(f){var E=this;if(arguments.length>1&&N.$raise(w("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),f==null)return E;for(var g=f.$abs(),c=H(E,g),l=W(E,g),m=0,C=1,_=1,a=0,$,t,e,r,i;e=c.$ceil(),!v(e,l);)r=e-1,$=r*C+m,t=r*a+_,i=Z(1,H(l,r)),l=Z(1,H(c,r)),c=i,m=C,_=a,C=$,a=t;return N.$Rational(e*C+m,e*a+_)},-1),$e(x,"$round",function(f){var E=this,g=L,c=L,l=L;return f==null&&(f=0),h(f,0)?h(E.num,0)?0:h(E.den,1)?E.num:(g=W(ee(E.num.$abs(),2),E.den),c=ee(E.den,2),l=Z(g,c).$truncate(),M(Q(E.num,0))?l["$-@"]():l):E.$with_precision("round",f)},-1),$e(x,"$to_f",function(){var f=this;return Z(f.num,f.den)}),$e(x,"$to_i",function(){var f=this;return f.$truncate()}),$e(x,"$to_r",k),$e(x,"$to_s",function(){var f=this;return""+f.num+"/"+f.den}),$e(x,"$truncate",function(f){var E=this;return f==null&&(f=0),h(f,0)?M(Q(E.num,0))?E.$ceil():E.$floor():E.$with_precision("truncate",f)},-1),$e(x,"$with_precision",function(f,E){var g=this,c=L,l=L;return V(w("Integer"),E)||N.$raise(w("TypeError"),"not an Integer"),c=10["$**"](E),l=ee(g,c),M(Q(E,1))?Z(l.$send(f),c).$to_i():N.$Rational(l.$send(f),c)}),D(x,"$from_string",function(f){var E=f.trimLeft(),g=/^[+-]?[\d_]+(\.[\d_]+)?/;E.match(g);var c,l;function m(){return g.test(E)}function C(){var _=E.match(g),a=_[0];return E=E.slice(a.length),a.replace(/_/g,"")}return m()?(c=parseFloat(C()),E[0]==="/"?(E=E.slice(1),m()?(l=parseFloat(C()),N.$Rational(c,l)):N.$Rational(c,1)):N.$Rational(c,1)):N.$Rational(0,1)}),I(x,"divide","/"),I(x,"quo","/")}("::",w("Numeric"))};Opal.modules["corelib/time"]=function(n){var A=n.slice,h=n.deny_frozen_access,N=n.klass,M=n.Kernel,Q=n.Opal,Z=n.defs,D=n.eqeqeq,V=n.def,p=n.truthy,U=n.rb_gt,$e=n.rb_lt,X=n.send,H=n.rb_plus,ee=n.rb_divide,W=n.rb_minus,j=n.range,v=n.neqeq,k=n.rb_le,I=n.eqeq,z=n.alias,L=n.top,w=[],S=n.nil,B=n.$$$;return n.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),L.$require("corelib/comparable"),function(x,b,s){var f=N(x,b,"Time"),E=[f].concat(s),g=n.$r(E);f.$include(B("Comparable"));var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],C=["January","February","March","April","May","June","July","August","September","October","November","December"];Z(f,"$at",function($,t){var e;return B("Time")["$==="]($)?(t!==void 0&&M.$raise(B("TypeError"),"can't convert Time into an exact number"),e=new Date($.getTime()),e.timezone=$.timezone,e):($.$$is_number||($=Q["$coerce_to!"]($,B("Integer"),"to_int")),t===void 0?new Date($*1e3):(t.$$is_number||(t=Q["$coerce_to!"](t,B("Integer"),"to_int")),new Date($*1e3+t/1e3)))},-2);function _(a,$,t,e,r,i){if(a.$$is_string?a=parseInt(a,10):a=Q["$coerce_to!"](a,B("Integer"),"to_int"),$===S)$=1;else if(!$.$$is_number)if($["$respond_to?"]("to_str"))switch($=$.$to_str(),$.toLowerCase()){case"jan":$=1;break;case"feb":$=2;break;case"mar":$=3;break;case"apr":$=4;break;case"may":$=5;break;case"jun":$=6;break;case"jul":$=7;break;case"aug":$=8;break;case"sep":$=9;break;case"oct":$=10;break;case"nov":$=11;break;case"dec":$=12;break;default:$=$.$to_i()}else $=Q["$coerce_to!"]($,B("Integer"),"to_int");return($<1||$>12)&&M.$raise(B("ArgumentError"),"month out of range: "+$),$=$-1,t===S?t=1:t.$$is_string?t=parseInt(t,10):t=Q["$coerce_to!"](t,B("Integer"),"to_int"),(t<1||t>31)&&M.$raise(B("ArgumentError"),"day out of range: "+t),e===S?e=0:e.$$is_string?e=parseInt(e,10):e=Q["$coerce_to!"](e,B("Integer"),"to_int"),(e<0||e>24)&&M.$raise(B("ArgumentError"),"hour out of range: "+e),r===S?r=0:r.$$is_string?r=parseInt(r,10):r=Q["$coerce_to!"](r,B("Integer"),"to_int"),(r<0||r>59)&&M.$raise(B("ArgumentError"),"min out of range: "+r),i===S?i=0:i.$$is_number||(i.$$is_string?i=parseInt(i,10):i=Q["$coerce_to!"](i,B("Integer"),"to_int")),(i<0||i>60)&&M.$raise(B("ArgumentError"),"sec out of range: "+i),[a,$,t,e,r,i]}return Z(f,"$new",function($,t,e,r,i,u,o){var y=this;t==null&&(t=S),e==null&&(e=S),r==null&&(r=S),i==null&&(i=S),u==null&&(u=S),o==null&&(o=S);var R,P,F,G;return $===void 0?new Date:(R=_($,t,e,r,i,u),$=R[0],t=R[1],e=R[2],r=R[3],i=R[4],u=R[5],o===S?(P=new Date($,t,e,r,i,0,u*1e3),$<100&&P.setFullYear($),P):(F=y.$_parse_offset(o),G=new Date(Date.UTC($,t,e,r,i,0,u*1e3)),$<100&&G.setUTCFullYear($),P=new Date(G.getTime()-F*36e5),P.timezone=F,P))},-1),Z(f,"$_parse_offset",function($){var t;if($.$$is_string)if($=="UTC")t=0;else if(/^[+-]\d\d:[0-5]\d$/.test($)){var e,r,i;e=$[0],r=+($[1]+$[2]),i=+($[4]+$[5]),t=(e=="-"?-1:1)*(r+i/60)}else M.$raise(B("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+$);else $.$$is_number?t=$/3600:M.$raise(B("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return t}),Z(f,"$local",function($,t,e,r,i,u,o,y,R,P){t==null&&(t=S),e==null&&(e=S),r==null&&(r=S),i==null&&(i=S),u==null&&(u=S),o==null&&(o=S),y==null&&(y=S),R==null&&(R=S),P==null&&(P=S);var F,G;return arguments.length===10&&(F=A(arguments),$=F[5],t=F[4],e=F[3],r=F[2],i=F[1],u=F[0]),F=_($,t,e,r,i,u),$=F[0],t=F[1],e=F[2],r=F[3],i=F[4],u=F[5],G=new Date($,t,e,r,i,0,u*1e3),$<100&&G.setFullYear($),G},-2),Z(f,"$gm",function($,t,e,r,i,u,o,y,R,P){t==null&&(t=S),e==null&&(e=S),r==null&&(r=S),i==null&&(i=S),u==null&&(u=S),o==null&&(o=S),y==null&&(y=S),R==null&&(R=S),P==null&&(P=S);var F,G;return arguments.length===10&&(F=A(arguments),$=F[5],t=F[4],e=F[3],r=F[2],i=F[1],u=F[0]),F=_($,t,e,r,i,u),$=F[0],t=F[1],e=F[2],r=F[3],i=F[4],u=F[5],G=new Date(Date.UTC($,t,e,r,i,0,u*1e3)),$<100&&G.setUTCFullYear($),G.timezone=0,G},-2),Z(f,"$now",function(){var $=this;return $.$new()}),V(f,"$+",function($){var t=this;D(B("Time"),$)&&M.$raise(B("TypeError"),"time + time?"),$.$$is_number||($=Q["$coerce_to!"]($,B("Integer"),"to_int"));var e=new Date(t.getTime()+$*1e3);return e.timezone=t.timezone,e}),V(f,"$-",function($){var t=this;if(D(B("Time"),$))return(t.getTime()-$.getTime())/1e3;$.$$is_number||($=Q["$coerce_to!"]($,B("Integer"),"to_int"));var e=new Date(t.getTime()-$*1e3);return e.timezone=t.timezone,e}),V(f,"$<=>",function($){var t=this,e=S;return D(B("Time"),$)?t.$to_f()["$<=>"]($.$to_f()):(e=$["$<=>"](t),p(e["$nil?"]())?S:p(U(e,0))?-1:p($e(e,0))?1:0)}),V(f,"$==",function($){var t=this,e=S;return p(e=B("Time")["$==="]($))?t.$to_f()===$.$to_f():e}),V(f,"$asctime",function(){var $=this;return $.$strftime("%a %b %e %H:%M:%S %Y")}),X([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function a($,t,e,r){var i=a.$$s==null?this:a.$$s;return $==null&&($=S),t==null&&(t=S),e==null&&(e=S),r==null&&(r=0),X(i,"define_method",[$],function u(){var o=u.$$s==null?this:u.$$s;return r+(o.timezone!=null?new Date(o.getTime()+o.timezone*36e5)[e]():o[t]())},{$$s:i})},{$$arity:-4,$$s:f}),V(f,"$yday",function(){var $=this,t=S,e=S,r=S;return t=g("Time").$new($.$year()).$to_i(),e=g("Time").$new($.$year(),$.$month(),$.$day()).$to_i(),r=86400,H(ee(W(e,t),r).$round(),1)}),V(f,"$isdst",function(){var $=this,t=new Date($.getFullYear(),0,1),e=new Date($.getFullYear(),6,1);return $.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())}),V(f,"$dup",function(){var $=this,t=S;return t=new Date($.getTime()),t.$copy_instance_variables($),t.$initialize_dup($),t}),V(f,"$eql?",function($){var t=this,e=S;return p(e=$["$is_a?"](B("Time")))?t["$<=>"]($)["$zero?"]():e}),X([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function a($,t){var e=a.$$s==null?this:a.$$s;return $==null&&($=S),t==null&&(t=S),X(e,"define_method",[$],function r(){var i=r.$$s==null?this:r.$$s;return i.$wday()===t},{$$s:e})},{$$s:f}),V(f,"$hash",function(){var $=this;return[B("Time"),$.getTime()].$hash()}),V(f,"$inspect",function(){var $=this;return p($["$utc?"]())?$.$strftime("%Y-%m-%d %H:%M:%S UTC"):$.$strftime("%Y-%m-%d %H:%M:%S %z")}),V(f,"$succ",function(){var $=this,t=new Date($.getTime()+1e3);return t.timezone=$.timezone,t}),V(f,"$usec",function(){var $=this;return $.getMilliseconds()*1e3}),V(f,"$zone",function(){var $=this;if($.timezone===0)return"UTC";if($.timezone!=null)return S;var t=$.toString(),e;return t.indexOf("(")==-1?e=t.match(/[A-Z]{3,4}/)[0]:e=t.match(/\((.+)\)(?:\s|$)/)[1],e=="GMT"&&/(GMT\W*\d{4})/.test(t)?RegExp.$1:e}),V(f,"$getgm",function(){var $=this,t=new Date($.getTime());return t.timezone=0,t}),V(f,"$gmtime",function(){var $=this;return $.timezone!==0&&(h($),$.timezone=0),$}),V(f,"$gmt?",function(){var $=this;return $.timezone===0}),V(f,"$gmt_offset",function(){var $=this;return $.timezone!=null?$.timezone*60:-$.getTimezoneOffset()*60}),V(f,"$strftime",function($){var t=this;return $.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,r,i,u,o){var y="",R,P,F,G=r.indexOf("0")!==-1,re=r.indexOf("-")===-1,ae=r.indexOf("_")!==-1,le=r.indexOf("^")!==-1,ce=r.indexOf("#")!==-1,de=(r.match(":")||[]).length;switch(i=parseInt(i,10),G&&ae&&(r.indexOf("0")<r.indexOf("_")?G=!1:ae=!1),o){case"Y":y+=t.$year();break;case"C":G=!ae,y+=Math.round(t.$year()/100);break;case"y":G=!ae,y+=t.$year()%100;break;case"m":G=!ae,y+=t.$mon();break;case"B":y+=C[t.$mon()-1];break;case"b":case"h":ae=!G,y+=m[t.$mon()-1];break;case"d":G=!ae,y+=t.$day();break;case"e":ae=!G,y+=t.$day();break;case"j":G=!ae,i=isNaN(i)?3:i,y+=t.$yday();break;case"H":G=!ae,y+=t.$hour();break;case"k":ae=!G,y+=t.$hour();break;case"I":G=!ae,y+=t.$hour()%12||12;break;case"l":ae=!G,y+=t.$hour()%12||12;break;case"P":y+=t.$hour()>=12?"pm":"am";break;case"p":y+=t.$hour()>=12?"PM":"AM";break;case"M":G=!ae,y+=t.$min();break;case"S":G=!ae,y+=t.$sec();break;case"L":G=!ae,i=isNaN(i)?3:i,y+=t.getMilliseconds();break;case"N":i=isNaN(i)?9:i,y+=t.getMilliseconds().toString().$rjust(3,"0"),y=y.$ljust(i,"0");break;case"z":var he=t.timezone==null?t.getTimezoneOffset():-t.timezone*60,ve=Math.floor(Math.abs(he)/60),me=Math.abs(he)%60;y+=he<0?"+":"-",y+=ve<10?"0":"",y+=ve,de>0&&(y+=":"),y+=me<10?"0":"",y+=me,de>1&&(y+=":00");break;case"Z":y+=t.$zone();break;case"A":y+=c[t.$wday()];break;case"a":y+=l[t.$wday()];break;case"u":y+=t.$wday()+1;break;case"w":y+=t.$wday();break;case"V":y+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":y+=t.$cweek_cyear()["$[]"](1);break;case"g":y+=t.$cweek_cyear()["$[]"](1)["$[]"](j(-2,-1,!1));break;case"s":y+=t.$to_i();break;case"n":y+=`
`;break;case"t":y+="	";break;case"%":y+="%";break;case"c":y+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":y+=t.$strftime("%m/%d/%y");break;case"F":y+=t.$strftime("%Y-%m-%d");break;case"v":y+=t.$strftime("%e-%^b-%4Y");break;case"r":y+=t.$strftime("%I:%M:%S %p");break;case"R":y+=t.$strftime("%H:%M");break;case"T":case"X":y+=t.$strftime("%H:%M:%S");break;case"J":if(R=t.$to_date().$jd(),R<2405160){y+=t.$strftime("%Y-%m-%d");break}else R<2419614?(P="M",F=1867):R<2424875?(P="T",F=1911):R<2447535?(P="S",F=1925):R<2458605?(P="H",F=1988):(P="R",F=2018);y+=t.$format("%c%02d",P,W(t.$year(),F)),y+=t.$strftime("-%m-%d");break;default:return e}return le&&(y=y.toUpperCase()),ce&&(y=y.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),re&&(G||ae)&&(y=y.$rjust(isNaN(i)?2:i,ae?" ":"0")),y})}),V(f,"$to_a",function(){var $=this;return[$.$sec(),$.$min(),$.$hour(),$.$day(),$.$month(),$.$year(),$.$wday(),$.$yday(),$.$isdst(),$.$zone()]}),V(f,"$to_f",function(){var $=this;return $.getTime()/1e3}),V(f,"$to_i",function(){var $=this;return parseInt($.getTime()/1e3,10)}),V(f,"$cweek_cyear",function(){var $=this,t=S,e=S,r=S,i=S,u=S,o=S,y=S;return t=B("Time").$new($.$year(),1,1),e=t.$wday(),r=$.$year(),p(k(e,4))&&v(e,0)?i=W(e,1):(i=W(W(e,7),1),I(i,-8)&&(i=-1)),u=ee(H($.$yday(),i),7).$ceil(),p(k(u,0))?B("Time").$new(W($.$year(),1),12,31).$cweek_cyear():(I(u,53)&&(o=B("Time").$new($.$year(),12,31),y=o.$wday(),p(k(y,3))&&v(y,0)&&(u=1,r=H(r,1))),[u,r])}),function(a,$){return z(a,"mktime","local"),z(a,"utc","gm")}(n.get_singleton_class(f)),z(f,"ctime","asctime"),z(f,"dst?","isdst"),z(f,"getutc","getgm"),z(f,"gmtoff","gmt_offset"),z(f,"mday","day"),z(f,"month","mon"),z(f,"to_s","inspect"),z(f,"tv_sec","to_i"),z(f,"tv_usec","usec"),z(f,"utc","gmtime"),z(f,"utc?","gmt?"),z(f,"utc_offset","gmt_offset")}("::",Date,w)};Opal.modules["corelib/struct"]=function(n){var A=n.klass,h=n.slice,N=n.extract_kwargs,M=n.ensure_kwargs,Q=n.hash_get,Z=n.truthy,D=n.neqeq,V=n.eqeq,p=n.Opal,U=n.send,$e=n.Class,X=n.to_a,H=n.def,ee=n.defs,W=n.Kernel,j=n.rb_gt,v=n.rb_minus,k=n.eqeqeq,I=n.rb_lt,z=n.rb_ge,L=n.rb_plus,w=n.alias,S=n.top,B=[],x=n.nil,b=n.$$$;return n.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),S.$require("corelib/enumerable"),function(s,f,E){var g=A(s,f,"Struct"),c=[g].concat(E),l=n.$r(c);g.$include(b("Enumerable")),ee(g,"$new",function C(_,a,$){var t=C.$$p||x,e,r,i,u,o=this,y=x;if(C.$$p=null,e=h(arguments,1),r=N(e),r=M(r),i=e,u=Q(r,"keyword_init"),u==null&&(u=!1),Z(_))if(V(_.$class(),b("String"))&&D(_["$[]"](0).$upcase(),_["$[]"](0)))i.$unshift(_),_=x;else try{_=p["$const_name!"](_)}catch(R){if(n.rescue(R,[b("TypeError"),b("NameError")]))try{i.$unshift(_),_=x}finally{n.pop_exception(R)}else throw R}return U(i,"map",[],function(P){return P==null&&(P=x),p["$coerce_to!"](P,b("String"),"to_str")}),y=U($e,"new",[o],function R(){var P=R.$$s==null?this:R.$$s;return U(i,"each",[],function F(G){var re=F.$$s==null?this:F.$$s;return G==null&&(G=x),re.$define_struct_attribute(G)},{$$s:P}),function(F,G){return H(F,"$new",function(ae){var le,ce,de=this,he=x;return le=h(arguments),ce=le,he=de.$allocate(),he.$$data={},U(he,"initialize",X(ce)),he},-1),F.$alias_method("[]","new")}(n.get_singleton_class(P))},{$$s:o}),Z(t)&&U(y,"module_eval",[],t.$to_proc()),y.$$keyword_init=u,Z(_)&&b("Struct").$const_set(_,y),y},-2),ee(g,"$define_struct_attribute",function(_){var a=this;return V(a,b("Struct"))&&W.$raise(b("ArgumentError"),"you cannot define attributes to the Struct class"),a.$members()["$<<"](_),U(a,"define_method",[_],function $(){var t=$.$$s==null?this:$.$$s;return t.$$data[_]},{$$s:a}),U(a,"define_method",[""+_+"="],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=x),e.$$data[_]=t},{$$s:a})}),ee(g,"$members",function(){var _=this,a=x;return _.members==null&&(_.members=x),V(_,b("Struct"))&&W.$raise(b("ArgumentError"),"the Struct class has no members"),_.members=Z(a=_.members)?a:[]}),ee(g,"$inherited",function(_){var a=this,$=x;return a.members==null&&(a.members=x),$=a.members,U(_,"instance_eval",[],function t(){var e=t.$$s==null?this:t.$$s;return e.members=$},{$$s:a})}),H(g,"$initialize",function(_){var a,$,t=this,e=x,r=x,i=x;return a=h(arguments),$=a,Z(t.$class().$$keyword_init)?(e=Z(r=$.$last())?r:new Map,(Z(j($.$length(),1))||Z($.length===1&&!e.$$is_hash))&&W.$raise(b("ArgumentError"),"wrong number of arguments (given "+$.$length()+", expected 0)"),i=v(e.$keys(),t.$class().$members()),Z(i["$any?"]())&&W.$raise(b("ArgumentError"),"unknown keywords: "+i.$join(", ")),U(t.$class().$members(),"each",[],function u(o){var y,R=u.$$s==null?this:u.$$s;return o==null&&(o=x),y=[o,e["$[]"](o)],U(R,"[]=",y),y[y.length-1]},{$$s:t})):(Z(j($.$length(),t.$class().$members().$length()))&&W.$raise(b("ArgumentError"),"struct size differs"),U(t.$class().$members(),"each_with_index",[],function u(o,y){var R,P=u.$$s==null?this:u.$$s;return o==null&&(o=x),y==null&&(y=x),R=[o,$["$[]"](y)],U(P,"[]=",R),R[R.length-1]},{$$s:t}))},-1),H(g,"$initialize_copy",function(_){var a=this;a.$$data={};var $=Object.keys(_.$$data),t,e,r;for(t=0,e=$.length;t<e;t++)r=$[t],a.$$data[r]=_.$$data[r]}),ee(g,"$keyword_init?",function(){var _=this;return _.$$keyword_init}),H(g,"$members",function(){var _=this;return _.$class().$members()}),H(g,"$hash",function(){var _=this;return[_.$class(),_.$to_a()].$hash()}),H(g,"$[]",function(_){var a=this;return k(b("Integer"),_)?(Z(I(_,a.$class().$members().$size()["$-@"]()))&&W.$raise(b("IndexError"),"offset "+_+" too small for struct(size:"+a.$class().$members().$size()+")"),Z(z(_,a.$class().$members().$size()))&&W.$raise(b("IndexError"),"offset "+_+" too large for struct(size:"+a.$class().$members().$size()+")"),_=a.$class().$members()["$[]"](_)):k(b("String"),_)?a.$$data.hasOwnProperty(_)||W.$raise(b("NameError").$new("no member '"+_+"' in struct",_)):W.$raise(b("TypeError"),"no implicit conversion of "+_.$class()+" into Integer"),_=p["$coerce_to!"](_,b("String"),"to_str"),a.$$data[_]}),H(g,"$[]=",function(_,a){var $=this;return k(b("Integer"),_)?(Z(I(_,$.$class().$members().$size()["$-@"]()))&&W.$raise(b("IndexError"),"offset "+_+" too small for struct(size:"+$.$class().$members().$size()+")"),Z(z(_,$.$class().$members().$size()))&&W.$raise(b("IndexError"),"offset "+_+" too large for struct(size:"+$.$class().$members().$size()+")"),_=$.$class().$members()["$[]"](_)):k(b("String"),_)?Z($.$class().$members()["$include?"](_.$to_sym()))||W.$raise(b("NameError").$new("no member '"+_+"' in struct",_)):W.$raise(b("TypeError"),"no implicit conversion of "+_.$class()+" into Integer"),_=p["$coerce_to!"](_,b("String"),"to_str"),$.$$data[_]=a}),H(g,"$==",function(_){var a=this;if(!Z(_["$instance_of?"](a.$class())))return!1;var $={},t={};function e(r,i){var u,o,y;$[r.$__id__()]=!0,t[i.$__id__()]=!0;for(u in r.$$data)if(o=r.$$data[u],y=i.$$data[u],b("Struct")["$==="](o)){if((!$.hasOwnProperty(o.$__id__())||!t.hasOwnProperty(y.$__id__()))&&!e(o,y))return!1}else if(!o["$=="](y))return!1;return!0}return e(a,_)}),H(g,"$eql?",function(_){var a=this;if(!Z(_["$instance_of?"](a.$class())))return!1;var $={},t={};function e(r,i){var u,o,y;$[r.$__id__()]=!0,t[i.$__id__()]=!0;for(u in r.$$data)if(o=r.$$data[u],y=i.$$data[u],b("Struct")["$==="](o)){if((!$.hasOwnProperty(o.$__id__())||!t.hasOwnProperty(y.$__id__()))&&!e(o,y))return!1}else if(!o["$eql?"](y))return!1;return!0}return e(a,_)}),H(g,"$each",function C(){var _=C.$$p||x,a=this;return C.$$p=null,_===x?U(a,"enum_for",["each"],function $(){var t=$.$$s==null?this:$.$$s;return t.$size()},{$$s:a}):(U(a.$class().$members(),"each",[],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=x),n.yield1(_,e["$[]"](t))},{$$s:a}),a)}),H(g,"$each_pair",function C(){var _=C.$$p||x,a=this;return C.$$p=null,_===x?U(a,"enum_for",["each_pair"],function $(){var t=$.$$s==null?this:$.$$s;return t.$size()},{$$s:a}):(U(a.$class().$members(),"each",[],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=x),n.yield1(_,[t,e["$[]"](t)])},{$$s:a}),a)}),H(g,"$length",function(){var _=this;return _.$class().$members().$length()}),H(g,"$to_a",function(){var _=this;return U(_.$class().$members(),"map",[],function a($){var t=a.$$s==null?this:a.$$s;return $==null&&($=x),t["$[]"]($)},{$$s:_})});var m=[];return H(g,"$inspect",function(){var _=this,a=x,$=x;return function(){try{return a="#<struct ",Z(m["$include?"](_.$__id__()))?L(a,":...>"):(m["$<<"](_.$__id__()),$=!0,k(b("Struct"),_)&&Z(_.$class().$name())&&(a=L(a,""+_.$class()+" ")),a=L(a,U(_.$each_pair(),"map",[],function(e,r){return e==null&&(e=x),r==null&&(r=x),""+e+"="+l("Opal").$inspect(r)}).$join(", ")),a=L(a,">"),a)}finally{Z($)&&m.pop()}}()}),H(g,"$to_h",function C(_){var a=C.$$p||x,$,t,e=this;return C.$$p=null,$=h(arguments),t=$,a!==x?U(U(e,"map",[],a.$to_proc()),"to_h",X(t)):U(e.$class().$members(),"each_with_object",[new Map],function r(i,u){var o,y=r.$$s==null?this:r.$$s;return i==null&&(i=x),u==null&&(u=x),o=[i,y["$[]"](i)],U(u,"[]=",o),o[o.length-1]},{$$s:e})},-1),H(g,"$values_at",function(_){var a,$,t=this;a=h(arguments),$=a,$=U($,"map",[],function(o){return o==null&&(o=x),o.$$is_range?o.$to_a():o}).$flatten();for(var e=[],r=0,i=$.length;r<i;r++)$[r].$$is_number||W.$raise(b("TypeError"),"no implicit conversion of "+$[r].$class()+" into Integer"),e.push(t["$[]"]($[r]));return e},-1),H(g,"$dig",function(_,a){var $,t,e=this,r=x;return $=h(arguments,1),t=$,r=Z(_.$$is_string&&e.$$data.hasOwnProperty(_))&&e.$$data[_]||x,r===x||t.length===0?r:(Z(r["$respond_to?"]("dig"))||W.$raise(b("TypeError"),""+r.$class()+" does not have #dig method"),U(r,"dig",X(t)))},-2),w(g,"size","length"),w(g,"to_s","inspect"),w(g,"values","to_a")}("::",null,B)};Opal.modules["corelib/set"]=function(n){var A=n.freeze,h=n.klass,N=n.slice,M=n.defs,Q=n.truthy,Z=n.eqeqeq,D=n.Kernel,V=n.send,p=n.def,U=n.eqeq,$e=n.rb_lt,X=n.rb_le,H=n.alias,ee=[],W=n.nil,j=n.$$$;return n.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(v,k,I){var z=h(v,k,"Set"),L=[z].concat(I),w=n.$r(L),S=W,B=z.$$prototype;B.hash=W,z.$include(j("Enumerable")),M(z,"$[]",function(s){var f,E,g=this;return f=N(arguments),E=f,g.$new(E)},-1),p(z,"$initialize",function b(s){var f=b.$$p||W,E=this;return b.$$p=null,s==null&&(s=W),E.hash=new Map,Q(s["$nil?"]())?W:(Z(j("Enumerable"),s)||D.$raise(j("ArgumentError"),"value must be enumerable"),Q(f)?V(s,"each",[],function g(c){var l=g.$$s==null?this:g.$$s;return c==null&&(c=W),l.$add(n.yield1(f,c))},{$$s:E}):E.$merge(s))},-1),p(z,"$dup",function(){var s=this,f=W;return f=s.$class().$new(),f.$merge(s)}),p(z,"$-",function(s){var f=this;return Q(s["$respond_to?"]("each"))||D.$raise(j("ArgumentError"),"value must be enumerable"),f.$dup().$subtract(s)}),p(z,"$inspect",function(){var s=this;return"#<Set: {"+s.$to_a().$join(",")+"}>"}),p(z,"$==",function(s){var f=this;return Q(f["$equal?"](s))?!0:Q(s["$instance_of?"](f.$class()))?f.hash["$=="](s.$instance_variable_get("@hash")):Q(s["$is_a?"](j("Set")))&&U(f.$size(),s.$size())?V(s,"all?",[],function E(g){var c=E.$$s==null?this:E.$$s;return c.hash==null&&(c.hash=W),g==null&&(g=W),c.hash["$include?"](g)},{$$s:f}):!1}),p(z,"$add",function(s){var f=this;return f.hash["$[]="](s,!0),f}),p(z,"$classify",function b(){var s=b.$$p||W,f=this,E=W;return b.$$p=null,s===W?f.$enum_for("classify"):(E=V(j("Hash"),"new",[],function g(c,l){var m,C=g.$$s==null?this:g.$$s;return c==null&&(c=W),l==null&&(l=W),m=[l,C.$class().$new()],V(c,"[]=",m),m[m.length-1]},{$$s:f}),V(f,"each",[],function(c){return c==null&&(c=W),E["$[]"](n.yield1(s,c)).$add(c)}),E)}),p(z,"$collect!",function b(){var s=b.$$p||W,f=this,E=W;return b.$$p=null,s===W?f.$enum_for("collect!"):(E=f.$class().$new(),V(f,"each",[],function(c){return c==null&&(c=W),E["$<<"](n.yield1(s,c))}),f.$replace(E))}),p(z,"$compare_by_identity",function(){var s=this;return Q(s.hash["$respond_to?"]("compare_by_identity"))?(s.hash.$compare_by_identity(),s):s.$raise(w("NotImplementedError"),""+s.$class().$name()+"#compare_by_identity is not implemented")}),p(z,"$compare_by_identity?",function(){var s=this,f=W;return Q(f=s.hash["$respond_to?"]("compare_by_identity?"))?s.hash["$compare_by_identity?"]():f}),p(z,"$delete",function(s){var f=this;return f.hash.$delete(s),f}),p(z,"$delete?",function(s){var f=this;return Q(f["$include?"](s))?(f.$delete(s),f):W}),p(z,"$delete_if",function b(){var s=b.$$p||W,f=this;return b.$$p=null,s===W?f.$enum_for("delete_if"):(V(V(f,"select",[],function(g){return g==null&&(g=W),n.yield1(s,g)}),"each",[],function E(g){var c=E.$$s==null?this:E.$$s;return c.hash==null&&(c.hash=W),g==null&&(g=W),c.hash.$delete(g)},{$$s:f}),f)}),p(z,"$freeze",function(){var s=this;return Q(s["$frozen?"]())?s:(s.hash.$freeze(),A(s))}),p(z,"$keep_if",function b(){var s=b.$$p||W,f=this;return b.$$p=null,s===W?f.$enum_for("keep_if"):(V(V(f,"reject",[],function(g){return g==null&&(g=W),n.yield1(s,g)}),"each",[],function E(g){var c=E.$$s==null?this:E.$$s;return c.hash==null&&(c.hash=W),g==null&&(g=W),c.hash.$delete(g)},{$$s:f}),f)}),p(z,"$reject!",function b(){var s=b.$$p||W,f=this,E=W;return b.$$p=null,s===W?f.$enum_for("reject!"):(E=f.$size(),V(f,"delete_if",[],s.$to_proc()),U(f.$size(),E)?W:f)}),p(z,"$select!",function b(){var s=b.$$p||W,f=this,E=W;return b.$$p=null,s===W?f.$enum_for("select!"):(E=f.$size(),V(f,"keep_if",[],s.$to_proc()),U(f.$size(),E)?W:f)}),p(z,"$add?",function(s){var f=this;return Q(f["$include?"](s))?W:f.$add(s)}),p(z,"$each",function b(){var s=b.$$p||W,f=this;return b.$$p=null,s===W?f.$enum_for("each"):(V(f.hash,"each_key",[],s.$to_proc()),f)}),p(z,"$empty?",function(){var s=this;return s.hash["$empty?"]()}),p(z,"$eql?",function(s){var f=this;return f.hash["$eql?"](V(s,"instance_eval",[],function E(){var g=E.$$s==null?this:E.$$s;return g.hash==null&&(g.hash=W),g.hash},{$$s:f}))}),p(z,"$clear",function(){var s=this;return s.hash.$clear(),s}),p(z,"$include?",function(s){var f=this;return f.hash["$include?"](s)}),p(z,"$merge",function(s){var f=this;return V(s,"each",[],function E(g){var c=E.$$s==null?this:E.$$s;return g==null&&(g=W),c.$add(g)},{$$s:f}),f}),p(z,"$replace",function(s){var f=this;return f.$clear(),f.$merge(s),f}),p(z,"$size",function(){var s=this;return s.hash.$size()}),p(z,"$subtract",function(s){var f=this;return V(s,"each",[],function E(g){var c=E.$$s==null?this:E.$$s;return g==null&&(g=W),c.$delete(g)},{$$s:f}),f}),p(z,"$|",function(s){var f=this;return Q(s["$respond_to?"]("each"))||D.$raise(j("ArgumentError"),"value must be enumerable"),f.$dup().$merge(s)});function x(b){Q(S=b["$is_a?"](j("Set")))||D.$raise(j("ArgumentError"),"value must be a set")}return p(z,"$superset?",function(s){var f=this;return x(s),Q($e(f.$size(),s.$size()))?!1:V(s,"all?",[],function E(g){var c=E.$$s==null?this:E.$$s;return g==null&&(g=W),c["$include?"](g)},{$$s:f})}),p(z,"$proper_superset?",function(s){var f=this;return x(s),Q(X(f.$size(),s.$size()))?!1:V(s,"all?",[],function E(g){var c=E.$$s==null?this:E.$$s;return g==null&&(g=W),c["$include?"](g)},{$$s:f})}),p(z,"$subset?",function(s){var f=this;return x(s),Q($e(s.$size(),f.$size()))?!1:V(f,"all?",[],function(g){return g==null&&(g=W),s["$include?"](g)})}),p(z,"$proper_subset?",function(s){var f=this;return x(s),Q(X(s.$size(),f.$size()))?!1:V(f,"all?",[],function(g){return g==null&&(g=W),s["$include?"](g)})}),p(z,"$intersect?",function(s){var f=this;return x(s),Q($e(f.$size(),s.$size()))?V(f,"any?",[],function(g){return g==null&&(g=W),s["$include?"](g)}):V(s,"any?",[],function E(g){var c=E.$$s==null?this:E.$$s;return g==null&&(g=W),c["$include?"](g)},{$$s:f})}),p(z,"$disjoint?",function(s){var f=this;return f["$intersect?"](s)["$!"]()}),p(z,"$to_a",function(){var s=this;return s.hash.$keys()}),H(z,"+","|"),H(z,"<","proper_subset?"),H(z,"<<","add"),H(z,"<=","subset?"),H(z,">","proper_superset?"),H(z,">=","superset?"),H(z,"difference","-"),H(z,"filter!","select!"),H(z,"length","size"),H(z,"map!","collect!"),H(z,"member?","include?"),H(z,"union","|")}("::",null,ee)};Opal.modules["corelib/dir"]=function(n){var A=n.klass,h=n.def,N=n.truthy,M=n.alias,Q=n.nil,Z=n.$$$;return n.add_stubs("[],pwd"),function(D,V,p){var U=A(D,V,"Dir");return function($e,X){return h($e,"$chdir",function H(ee){var W=H.$$p||Q,j=Q;return H.$$p=null,function(){try{return j=n.current_dir,n.current_dir=ee,n.yieldX(W,[])}finally{n.current_dir=j}}()}),h($e,"$pwd",function(){return n.current_dir||"."}),h($e,"$home",function(){var ee=Q;return N(ee=Z("ENV")["$[]"]("HOME"))?ee:"."}),M($e,"getwd","pwd")}(n.get_singleton_class(U))}("::",null)};Opal.modules["corelib/file"]=function(n){var A=n.truthy,h=n.klass,N=n.const_set,M=n.Opal,Q=n.regexp,Z=n.rb_plus,D=n.def,V=n.Kernel,p=n.eqeq,U=n.rb_lt,$e=n.rb_minus,X=n.range,H=n.send,ee=n.slice,W=n.alias,j=[],v=n.nil,k=n.$$$;return n.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(I,z,L){var w=h(I,z,"File"),S=[w].concat(L),B=v;return N(S[0],"Separator",N(S[0],"SEPARATOR","/")),N(S[0],"ALT_SEPARATOR",v),N(S[0],"PATH_SEPARATOR",":"),N(S[0],"FNM_SYSCASE",0),B=/^[a-zA-Z]:(?:\\|\/)/,function(x,b){var s=[x].concat(b),f=n.$r(s);D(x,"$absolute_path",function(l,m){var C=v,_=v,a=v,$=v,t=v,e=v,r=v,i=v,u=v,o=v;m==null&&(m=v),C=f("SEPARATOR"),_=g(),a=[],l=A(l["$respond_to?"]("to_path"))?l.$to_path():l,l=M["$coerce_to!"](l,k("String"),"to_str"),m=A($=m)?$:k("Dir").$pwd(),t=l.substr(0,C.length)===C||B.test(l),e=m.substr(0,C.length)===C||B.test(m),A(t)?(r=l.$split(Q(["[",_,"]"])),i=B.test(l)?"":l.$sub(Q(["^([",_,"]+).*$"]),"\\1"),u=!0):(r=Z(m.$split(Q(["[",_,"]"])),l.$split(Q(["[",_,"]"]))),i=B.test(m)?"":m.$sub(Q(["^([",_,"]+).*$"]),"\\1"),u=e);for(var y,R=0,P=r.length;R<P;R++)y=r[R],!(y===v||y===""&&(a.length===0||u)||y==="."&&(a.length===0||u))&&(y===".."?a.pop():a.push(y));return!u&&r[0]!=="."&&a.$unshift("."),o=a.$join(C),A(u)&&(o=Z(i,o)),o},-2),D(x,"$expand_path",function(l,m){var C=this,_=v,a=v,$=v,t=v,e=v;return m==null&&(m=v),_=f("SEPARATOR"),a=g(),A(l[0]==="~"||m&&m[0]==="~")&&($=f("Dir").$home(),A($)||V.$raise(k("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),t=B.test($)?"":$.$sub(Q(["^([",a,"]+).*$"]),"\\1"),A($["$start_with?"](t))||V.$raise(k("ArgumentError"),"non-absolute home"),$=Z($,_),e=Q(["^\\~(?:",_,"|$)"]),l=l.$sub(e,$),A(m)&&(m=m.$sub(e,$))),C.$absolute_path(l,m)},-2);function E(c){return A(c["$respond_to?"]("to_path"))&&(c=c.$to_path()),c=M["$coerce_to!"](c,k("String"),"to_str"),c}function g(){return f("ALT_SEPARATOR")===v?n.escape_regexp(f("SEPARATOR")):n.escape_regexp(Z(f("SEPARATOR"),f("ALT_SEPARATOR")))}return D(x,"$dirname",function(l,m){var C=this,_=v;if(m==null&&(m=1),p(m,0))return l;A(U(m,0))&&V.$raise(k("ArgumentError"),"level can't be negative"),_=g(),l=E(l);var a=l.match(new RegExp("^["+_+"]")),$;return l=l.replace(new RegExp("["+_+"]+$"),""),l=l.replace(new RegExp("[^"+_+"]+$"),""),l=l.replace(new RegExp("["+_+"]+$"),""),l===""?$=a?"/":".":$=l,m==1?$:C.$dirname($,$e(m,1))},-2),D(x,"$basename",function(l,m){var C=v;return m==null&&(m=v),C=g(),l=E(l),l.length==0||(m!==v?m=M["$coerce_to!"](m,k("String"),"to_str"):m=null,l=l.replace(new RegExp("(.)["+C+"]*$"),"$1"),l=l.replace(new RegExp("^(?:.*["+C+"])?([^"+C+"]+)$"),"$1"),m===".*"?l=l.replace(/\.[^\.]+$/,""):m!==null&&(m=n.escape_regexp(m),l=l.replace(new RegExp(""+m+"$"),""))),l},-2),D(x,"$extname",function(l){var m=this,C=v,_=v;return l=E(l),C=m.$basename(l),A(C["$empty?"]())||(_=C["$[]"](X(1,-1,!1)).$rindex("."),A(_["$nil?"]())||p(Z(_,1),$e(C.$length(),1)))?"":C["$[]"](n.Range.$new(Z(_,1),-1,!1))}),D(x,"$exist?",function(l){return n.modules[l]!=null}),D(x,"$directory?",function(l){var m=v;m=[];for(var C in n.modules)m.push(C);return l=l.$gsub(Q(["(^.",f("SEPARATOR"),"+|",f("SEPARATOR"),"+$)"])),H(m,"find",[],function(a){return a==null&&(a=v),a["$=~"](Q(["^",l]))})}),D(x,"$join",function(l){var m,C,_=v;return m=ee(arguments),C=m,A(C["$empty?"]())?"":(_="",C=H(C.$flatten().$each_with_index(),"map",[],function($,t){return $==null&&($=v),t==null&&(t=v),p(t,0)&&A($["$empty?"]())||p(C.$length(),Z(t,1))&&A($["$empty?"]())?f("SEPARATOR"):$}),C=H(C,"reject",[],"empty?".$to_proc()),H(C,"each_with_index",[],function($,t){var e=v;return $==null&&($=v),t==null&&(t=v),e=C["$[]"](Z(t,1)),A(e["$nil?"]())?_=""+_+$:(A($["$end_with?"](f("SEPARATOR")))&&A(e["$start_with?"](f("SEPARATOR")))&&($=$.$sub(Q([f("SEPARATOR"),"+$"]),"")),_=A($["$end_with?"](f("SEPARATOR")))||A(e["$start_with?"](f("SEPARATOR")))?""+_+$:""+_+$+f("SEPARATOR"))}),_)},-1),D(x,"$split",function(l){return l.$split(f("SEPARATOR"))}),W(x,"realpath","expand_path"),W(x,"exists?","exist?")}(n.get_singleton_class(w),S)}("::",k("IO"),j)};Opal.modules["corelib/process/base"]=function(n){var A=n.klass,h=n.slice,N=n.defs,M=n.return_val,Q=n.nil;return function(Z,D){var V=A(Z,D,"Signal");return N(V,"$trap",function(U){return h(arguments),Q},-1)}("::",null),function(Z,D){var V=A(Z,D,"GC");return N(V,"$start",M(Q))}("::",null)};Opal.modules["corelib/process"]=function(n){var A=n.module,h=n.defs,N=n.truthy,M=n.return_val,Q=n.Kernel,Z=n.nil,D=n.$$$;return n.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(V){var p=A(V,"Process"),U=Z;if(p.__clocks__=[],h(p,"$__register_clock__",function(H,ee){var W=this;return W.__clocks__==null&&(W.__clocks__=Z),W.$const_set(H,W.__clocks__.$size()),W.__clocks__["$<<"](ee)}),p.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),U=!1,n.global.performance)U=function(){return performance.now()};else if(n.global.process&&process.hrtime){var $e=process.hrtime();U=function(){var X=process.hrtime($e),H=X[1]/1e3|0;return X[0]*1e3+H/1e3}}return N(U)&&p.$__register_clock__("CLOCK_MONOTONIC",U),h(p,"$pid",M(0)),h(p,"$times",function(){var H=Z;return H=D("Time").$now().$to_f(),D(D("Benchmark"),"Tms").$new(H,H,H,H,H)}),h(p,"$clock_gettime",function(H,ee){var W=this,j=Z;W.__clocks__==null&&(W.__clocks__=Z),ee==null&&(ee="float_second"),N(j=W.__clocks__["$[]"](H))||Q.$raise(D(D("Errno"),"EINVAL"),"clock_gettime("+H+") "+W.__clocks__["$[]"](H));var v=j();switch(ee){case"float_second":return v/1e3;case"float_millisecond":return v/1;case"float_microsecond":return v*1e3;case"second":return v/1e3|0;case"millisecond":return v/1|0;case"microsecond":return v*1e3|0;case"nanosecond":return v*1e6|0;default:Q.$raise(D("ArgumentError"),"unexpected unit: "+ee)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(n){var A=n.klass,h=n.module,N=n.def,M=n.range,Q=n.send,Z=n.rb_divide,D=n.Kernel,V=n.Opal,p=[],U=n.nil,$e=n.$$$;return n.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(X,H,ee){var W=A(X,H,"Random"),j=[W].concat(ee);return function(v,k){var I=h(v,"Formatter"),z=[I].concat(k),L=n.$r(z);return N(I,"$hex",function(S){var B=this;S==null&&(S=U),S=$e("Random").$_verify_count(S);for(var x=B.$bytes(S),b="",s=0;s<S;s++)b+=x.charCodeAt(s).toString(16).padStart(2,"0");return b.$encode("US-ASCII")},-1),N(I,"$random_bytes",function(S){var B=this;return S==null&&(S=U),B.$bytes(S)},-1),N(I,"$base64",function(S){var B=this;return S==null&&(S=U),$e("Base64").$strict_encode64(B.$random_bytes(S)).$encode("US-ASCII")},-1),N(I,"$urlsafe_base64",function(S,B){var x=this;return S==null&&(S=U),B==null&&(B=!1),$e("Base64").$urlsafe_encode64(x.$random_bytes(S),B).$encode("US-ASCII")},-1),N(I,"$uuid",function(){var S=this,B=U;return B=S.$hex(16).$split(""),B["$[]="](12,"4"),B["$[]="](16,(parseInt(B["$[]"](16),16)&3|8).toString(16)),B=[B["$[]"](M(0,8,!0)),B["$[]"](M(8,12,!0)),B["$[]"](M(12,16,!0)),B["$[]"](M(16,20,!0)),B["$[]"](M(20,32,!0))],B=Q(B,"map",[],"join".$to_proc()),B.$join("-")}),N(I,"$random_float",function(){var S=this,B=U,x=U;return B=S.$bytes(4),x=0,Q(4,"times",[],function(s){return s==null&&(s=U),x=x["$<<"](8),x=x["$|"](B["$[]"](s).$ord())}),Z(x.$abs(),2147483647)}),N(I,"$random_number",function(S){var B=this;function x(){return B.$random_float()}function b(f){return Math.floor(x()*f)}function s(){var f=S.begin,E=S.end;if(f===U||E===U)return U;var g=E-f;return g<0?U:g===0?f:(E%1===0&&f%1===0&&!S.excl&&g++,b(g)+f)}return S==null?x():S.$$is_range?s():S.$$is_number?(S<=0&&D.$raise($e("ArgumentError"),"invalid argument - "+S),S%1===0?b(S):x()*S):(S=V["$coerce_to!"](S,$e("Integer"),"to_int"),S<=0&&D.$raise($e("ArgumentError"),"invalid argument - "+S),b(S))},-1),N(I,"$alphanumeric",function(S){var B=this,x=U;return S==null&&(S=U),S=L("Random").$_verify_count(S),x=Q([M("0","9",!1),M("a","z",!1),M("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),Q($e("Array"),"new",[S],function b(s){var f=b.$$s==null?this:b.$$s;return x["$[]"](f.$random_number(x.$length()))},{$$s:B}).$join()},-1)}(W,j),W.$include($e($e("Random"),"Formatter")),W.$extend($e($e("Random"),"Formatter"))}("::",null,p)};Opal.modules["corelib/random/mersenne_twister"]=function(n){var A=n.klass,h=n.const_set,N=n.send,M=n.nil,Q=n.$$$,Z=M;return n.add_stubs("generator="),Z=function(){var D=624,V=397,p=2567483615,U=2147483648,$e=2147483647,X=function(z,L){return z&U|L&$e},H=function(z,L){return X(z,L)>>>1^(L&1?p:0)};function ee(z){var L={left:0,next:D,state:new Array(D)};return W(L,z),L}function W(z,L){var w;for(z.state[0]=L>>>0,w=1;w<D;w++)z.state[w]=1812433253*(z.state[w-1]^z.state[w-1]>>30>>>0)+w,z.state[w]&=4294967295;z.left=1,z.next=D}function j(z){var L=0,w=z.state,S;for(z.left=D,z.next=0,S=D-V+1;--S;L++)w[L]=w[L+V]^H(w[L+0],w[L+1]);for(S=V;--S;L++)w[L]=w[L+(V-D)]^H(w[L+0],w[L+1]);w[L]=w[L+(V-D)]^H(w[L+0],w[0])}function v(z){var L;return--z.left<=0&&j(z),L=z.state[z.next++],L^=L>>>11,L^=L<<7&2636928640,L^=L<<15&4022730752,L^=L>>>18,L>>>0}function k(z,L){return z>>>=5,L>>>=6,(z*67108864+L)*(1/9007199254740992)}function I(z){var L=v(z),w=v(z);return k(L,w)}return{genrand_real:I,init:ee}}(),function(D,V){var p=A(D,V,"Random"),U,$e=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return h(p,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*$e)},reseed:function(X){return Z.init(X)},rand:function(X){return Z.genrand_real(X)}}),U=[Q(p,"MERSENNE_TWISTER_GENERATOR")],N(p,"generator=",U),U[U.length-1]}("::",null)};Opal.modules["corelib/random"]=function(n){var A=n.truthy,h=n.klass,N=n.Kernel,M=n.defs,Q=n.Opal,Z=n.def,D=n.eqeqeq,V=n.send,p=n.top,U=n.nil,$e=n.$$$;return n.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),p.$require("corelib/random/formatter"),function(X,H){var ee=h(X,H,"Random");return ee.$attr_reader("seed","state"),M(ee,"$_verify_count",function(j){return A(j)||(j=16),typeof j!="number"&&(j=j.$to_int()),j<0&&N.$raise($e("ArgumentError"),"negative string size (or size too big)"),j=Math.floor(j),j}),Z(ee,"$initialize",function(j){var v=this;return j==null&&(j=$e("Random").$new_seed()),j=Q["$coerce_to!"](j,$e("Integer"),"to_int"),v.state=j,v.$reseed(j)},-1),Z(ee,"$reseed",function(j){var v=this;return v.seed=j,v.$rng=n.$$rand.reseed(j)}),M(ee,"$new_seed",function(){return n.$$rand.new_seed()}),M(ee,"$rand",function(j){var v=this;return $e(v,"DEFAULT").$rand(j)},-1),M(ee,"$srand",function(j){var v=this,k=U;return j==null&&(j=$e("Random").$new_seed()),j=Q["$coerce_to!"](j,$e("Integer"),"to_int"),k=$e(v,"DEFAULT").$seed(),$e(v,"DEFAULT").$reseed(j),k},-1),M(ee,"$urandom",function(j){return $e("SecureRandom").$bytes(j)}),Z(ee,"$==",function(j){var v=this,k=U;return D($e("Random"),j)?A(k=v.$seed()["$=="](j.$seed()))?v.$state()["$=="](j.$state()):k:!1}),Z(ee,"$bytes",function(j){var v=this;return j=$e("Random").$_verify_count(j),V($e("Array"),"new",[j],function k(){var I=k.$$s==null?this:k.$$s;return I.$rand(255).$chr()},{$$s:v}).$join().$encode("ASCII-8BIT")}),M(ee,"$bytes",function(j){var v=this;return $e(v,"DEFAULT").$bytes(j)}),Z(ee,"$rand",function(j){var v=this;return v.$random_number(j)},-1),Z(ee,"$random_float",function(){var j=this;return j.state++,n.$$rand.rand(j.$rng)}),M(ee,"$random_float",function(){var j=this;return $e(j,"DEFAULT").$random_float()}),M(ee,"$generator=",function(j){var v=this;return n.$$rand=j,A(v["$const_defined?"]("DEFAULT"))?$e(v,"DEFAULT").$reseed():v.$const_set("DEFAULT",v.$new(v.$new_seed()))})}("::",null),p.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(n){var A=n.Kernel,h=n.klass,N=n.send,M=n.slice,Q=n.module,Z=n.def,D=n.return_val,V=n.alias,p=n.defs,U=n.top,$e=[],X=n.nil,H=n.$$$;n.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var ee={};function W(v){switch(n.config.unsupported_features_severity){case"error":A.$raise(H("NotImplementedError"),v);break;case"warning":j(v);break}}function j(v){ee[v]||(ee[v]=!0,U.$warn(v))}return function(v,k){var I=h(v,k,"String"),z="String#%s not supported. Mutable String methods are not supported in Opal.";return N(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function L(w){var S=L.$$s==null?this:L.$$s;return w==null&&(w=X),N(S,"define_method",[w],function(x){return M(arguments),A.$raise(H("NotImplementedError"),z["$%"](w))},-1)},{$$s:I})}("::",null),function(v){var k=Q(v,"Kernel"),I="Object tainting is not supported by Opal";return Z(k,"$taint",function(){var L=this;return W(I),L}),Z(k,"$untaint",function(){var L=this;return W(I),L}),Z(k,"$tainted?",function(){return W(I),!1})}("::"),function(v,k){var I=h(v,k,"Module");return Z(I,"$public",function(L){var w,S,B=this;return w=M(arguments),S=w,S.length===0?(B.$$module_function=!1,X):S.length===1?S[0]:S},-1),Z(I,"$private_class_method",function(L){var w,S;return w=M(arguments),S=w,S.length===1?S[0]:S},-1),Z(I,"$private_method_defined?",D(!1)),Z(I,"$private_constant",function(L){return M(arguments),X},-1),V(I,"nesting","public"),V(I,"private","public"),V(I,"protected","public"),V(I,"protected_method_defined?","private_method_defined?"),V(I,"public_class_method","private_class_method"),V(I,"public_instance_method","instance_method"),V(I,"public_instance_methods","instance_methods"),V(I,"public_method_defined?","method_defined?")}("::",null),function(v){var k=Q(v,"Kernel");return Z(k,"$private_methods",function(z){return M(arguments),[]},-1),V(k,"protected_methods","private_methods"),V(k,"private_instance_methods","private_methods"),V(k,"protected_instance_methods","private_methods")}("::"),function(v,k){var I=Q(v,"Kernel"),z=[I].concat(k),L=n.$r(z);return Z(I,"$eval",function(S){return M(arguments),A.$raise(H("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+L("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",$e),p(U,"$public",function(k){var I,z;return I=M(arguments),z=I,z.length===1?z[0]:z},-1),p(U,"$private",function(k){var I,z;return I=M(arguments),z=I,z.length===1?z[0]:z},-1)};Opal.modules["corelib/binding"]=function(n){var A=n.klass,h=n.truthy,N=n.def,M=n.slice,Q=n.send,Z=n.to_a,D=n.Kernel,V=n.return_ivar,p=n.eqeq;n.thrower;var U=n.module,$e=n.const_set,X=n.top,H=[],ee=n.nil,W=n.$$$;return n.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(j,v){var k=A(j,v,"Binding"),I=k.$$prototype;return I.jseval=I.scope_variables=ee,N(k,"$initialize",function(L,w,S,B){var x,b=this;return w==null&&(w=[]),B==null&&(B=ee),x=[L,w,S,B],b.jseval=x[0],b.scope_variables=x[1],b.receiver=x[2],b.source_location=x[3],h(typeof S!==void 0)?ee:S=b.$js_eval("self")},-2),N(k,"$js_eval",function(L){var w,S,B=this;return w=M(arguments),S=w,h(B.jseval)?Q(B.jseval,"call",Z(S)):D.$raise("Evaluation on a Proc#binding is not supported")},-1),N(k,"$local_variable_get",function(L){var w=this;try{return w.$js_eval(L)}catch(S){if(n.rescue(S,[W("Exception")]))try{return D.$raise(W("NameError"),"local variable `"+L+"' is not defined for "+w.$inspect())}finally{n.pop_exception(S)}else throw S}}),N(k,"$local_variable_set",function(L,w){var S=this;return n.Binding.tmp_value=w,S.$js_eval(""+L+" = Opal.Binding.tmp_value"),delete n.Binding.tmp_value,w}),N(k,"$local_variables",V("scope_variables")),N(k,"$local_variable_defined?",function(L){var w=this;return w.scope_variables["$include?"](L)}),N(k,"$eval",function(L,w,S){try{var B=this;return w==null&&(w=ee),S==null&&(S=ee),p(L,"self")?B.$receiver():D.$eval(L,B,w,S)}catch(x){if(x===n.t_eval_return)return x.$v;throw x}},-2),k.$attr_reader("receiver","source_location")}("::",null),function(j){var v=U(j,"Kernel");return N(v,"$binding",function(){return D.$raise("Opal doesn't support dynamic calls to binding")})}("::"),$e(H[0],"TOPLEVEL_BINDING",W("Binding").$new(function(j){return new Function("self","return "+j)(X)},[],X,["<main>",0]))};Opal.modules["corelib/irb"]=function(n){var A=n.module,h=n.truthy,N=n.Kernel,M=n.defs,Q=n.gvars,Z=n.lambda,D=n.hash_rehash,V=n.send,p=n.rb_plus,U=n.const_set,$e=n.klass,X=n.def,H=n.Opal,ee=n.range,W=n.eqeq,j=n.thrower,v=[],k=n.nil,I=n.$$$;n.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(z,L){var w=A(z,"Opal"),S=[w].concat(L);return function(B,x){var b=A(B,"IRB"),s=[b].concat(x),f=n.$r(s);return M(b,"$ensure_loaded",function(g){var c=k,l=k;if(h(n.loaded_features["$include?"](g)))return k;c=h(f("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":f("RUBY_ENGINE_VERSION"),l="https://cdn.opalrb.com/opal/"+c+"/"+g+".js";var m;if(typeof XMLHttpRequest<"u"){var C=new XMLHttpRequest;C.open("GET",l,!1),C.send(""),m=C.responseText}else N.$raise("You need to provision "+g+" yourself in this environment");return new Function("Opal",m)(n),n.require(g),h(n.loaded_features["$include?"](g))?k:N.$raise("Could not load "+g+" for some reason")}),b.$singleton_class().$attr_accessor("output"),M(b,"$prepare_console",function E(){var g=E.$$p||k,c,l=this,m=k,C=k;return Q.stdout==null&&(Q.stdout=k),Q.stderr==null&&(Q.stderr=k),Q.stdin==null&&(Q.stdin=k),E.$$p=null,function(){try{return l["$output="](""),m=D(new Map([[Q.stdout,Z(function(a){return a==null&&(a=k),Q.stdout=a})],[Q.stderr,Z(function(a){return a==null&&(a=k),Q.stderr=a})]])),h(l["$browser?"]())&&(V(m,"each",[],function _(a,$){var t=_.$$s==null?this:_.$$s,e=k;return a==null&&(a=k),$==null&&($=k),e=a.$dup(),e["$write_proc="](V(t,"proc",[],function r(i){var u=r.$$s==null?this:r.$$s;return i==null&&(i=k),u["$output="](p(u.$output(),i)),u["$output="](u.$output().$split(`
`).$last(30).$join(`
`)),h(i["$end_with?"](`
`))&&u["$output="](p(u.$output(),`
`)),a.$write_proc().$call(i)},{$$s:t})),e["$tty="](!1),$.$call(e)},{$$s:l}),C=Q.stdin.$read_proc(),Q.stdin["$read_proc="](function(_){var a=prompt(l.$output());return a!==null?a+`
`:k})),n.yieldX(g,[])}finally{V(m,"each",[],function(a,$){return a==null&&(a=k),$==null&&($=k),$.$call(a)}),c=[C],V(Q.stdin,"read_proc=",c),c[c.length-1],c=[""],V(l,"output=",c),c[c.length-1]}}()}),M(b,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),U(s[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(E,g){var c=$e(E,g,"Silencer"),l=c.$$prototype;return l.collector=l.stderr=k,X(c,"$initialize",function(){var C=this;return Q.stderr==null&&(Q.stderr=k),C.stderr=Q.stderr}),X(c,"$silence",function m(){var C=m.$$p||k,_=this;return m.$$p=null,function(){try{return _.collector=I("StringIO").$new(),Q.stderr=_.collector,n.yieldX(C,[])}finally{Q.stderr=_.stderr}}()}),X(c,"$warnings",function(){var C=this;return C.collector.$string()})}(s[0],null)}(S[0],S)}(v[0],v),function(z,L,w){var S=$e(z,L,"Binding"),B=[S].concat(w),x=n.$r(B);return X(S,"$irb",function(){try{var s=j("return"),f=this,E=k;return I(H,"IRB").$ensure_loaded("opal-replutils"),E=I(I(H,"IRB"),"Silencer").$new(),V(I(H,"IRB"),"prepare_console",[],function g(){var c=g.$$s==null?this:g.$$s;return function(){try{var l=j("break");return V(c,"loop",[],function m(){var C=m.$$s==null?this:m.$$s,_=k,a=k,$=k,t=k,e=k;C.$print(">> "),_=C.$gets(),h(_)||l.$throw(k,m.$$is_lambda),a="",h(I(H,"IRB")["$browser?"]())&&C.$puts(_),h(_["$start_with?"]("ls "))?(a=_["$[]"](ee(3,-1,!1)),$="ls"):W(_,`ls
`)?(a="self",$="ls"):h(_["$start_with?"]("show "))?(a=_["$[]"](ee(5,-1,!1)),$="show"):(a=_,$="inspect"),t=k;do{try{V(E,"silence",[],function(){return t=n.compile(a,{irb:!0})})}catch(r){if(n.rescue(r,[x("SyntaxError")])){e=r;try{if(h(I(I(H,"IRB"),"LINEBREAKS")["$include?"](e.$message()))){C.$print(".. "),_=C.$gets(),h(_)||s.$throw(k,m.$$is_lambda),h(I(H,"IRB")["$browser?"]())&&C.$puts(_),a=p(a,_);continue}else h(E.$warnings()["$empty?"]())?C.$warn(e.$full_message()):C.$warn(E.$warnings())}finally{n.pop_exception(r)}}else throw r}break}while(!0);return W($,"show")&&(C.$puts(t),s.$throw(k,m.$$is_lambda)),C.$puts(I("REPLUtils").$eval_and_print(t,$,!1,C))},{$$s:c,$$ret:s})}catch(m){if(m===l)return m.$v;throw m}finally{l.is_orphan=!0}}()},{$$s:f})}catch(g){if(g===s)return g.$v;throw g}finally{s.is_orphan=!0}})}("::",null,v),n.irb=function(z){I("Binding").$new(z).$irb()},n.load_parser=function(){n.Opal.IRB.$ensure_loaded("opal-parser")},typeof n.eval>"u"&&(n.eval=function(z){return n.load_parser(),n.eval(z)}),typeof n.compile>"u"&&(n.compile=function(z,L){return n.load_parser(),n.compile(z,L)})};Opal.modules.opal=function(n){var A=n.Object;return n.nil,n.add_stubs("require,autoload"),A.$require("opal/base"),A.$require("opal/mini"),A.$require("corelib/kernel/format"),A.$require("corelib/string/encoding"),A.$autoload("Math","corelib/math"),A.$require("corelib/complex/base"),A.$autoload("Complex","corelib/complex"),A.$require("corelib/rational/base"),A.$autoload("Rational","corelib/rational"),A.$require("corelib/time"),A.$autoload("Struct","corelib/struct"),A.$autoload("Set","corelib/set"),A.$autoload("Dir","corelib/dir"),A.$autoload("File","corelib/file"),A.$require("corelib/process/base"),A.$autoload("Process","corelib/process"),A.$autoload("Random","corelib/random"),A.$require("corelib/unsupported"),A.$require("corelib/binding"),A.$require("corelib/irb")};Opal.modules["js/proxy"]=function(n){var A=n.module,h=n.truthy,N=n.def,M=n.klass,Q=n.const_set,Z=n.slice,D=n.range,V=n.send,p=n.to_a,U=n.gvars,$e=n.top,X=[],H=n.nil;return n.add_stubs("require,new,to_n,to_rb_name,include,attr_accessor,Native,to_js_name,end_with?,existing_property?,raise,[],[]=,first,native,dup,call,class,<<,wrap_result,respond_to?,enum_for,length,each,private,join,with_index,map,split,to_s,include?,downcase,gsub,upcase,zero?,capitalize,sub,native="),$e.$require("opal"),$e.$require("native"),function(ee,W){var j=A(ee,"JS"),v=[j].concat(W),k=n.$r(v);return function(I,z){var L=A(I,"Helpers"),w=[L].concat(z),S=n.$r(w);return N(L,"$wrap_result",function(x){return h(x&&typeof x.then=="function")?S("Promise").$new(x):h(typeof x=="object"&&x!==null)?S("Proxy").$new(x):x}),N(L,"$native_methods",function(){var x=this,b=H;return x.native_methods==null&&(x.native_methods=H),x.native_methods=function(){if(h(b=x.native_methods))return b;{let s=x.$to_n();const f=new Set;for(;s!==null;){for(const E of Reflect.ownKeys(s)){const g=E.toString(),c=x.$to_rb_name(g);typeof E!="symbol"&&g!==c&&f.add(c),f.add(g)}s=Object.getPrototypeOf(s)}return Array.from(f)}}()})}(v[0],v),function(I,z,L){var w=M(I,z,"Proxy"),S=[w].concat(L),B=n.$r(S);return w.$include(B("Enumerable")),w.$include(B("Helpers")),w.$attr_accessor("native"),Q(S[0],"IRREGULARS",["html","url","uri"]),N(w,"$initialize",function(b){var s=this;return s.native=s.$Native(b)}),N(w,"$method_missing",function x(b,s){var f=x.$$p||H,E,g,c,l=this,m=H,C=H,_=H,a=H,$=H,t=H;return x.$$p=null,E=Z(arguments,1),g=E,m=l.$to_js_name(b),h(l["$existing_property?"](m))||h(m["$end_with?"]("="))||l.$raise(B("NoMethodError"),"undefined method `"+b+"` for "+l),h(m["$end_with?"]("="))?(C=m["$[]"](D(0,-2,!1)),c=[C,g.$first()],V(l.$native(),"[]=",c),c[c.length-1]):(_=l.$native()["$[]"](m),h(typeof _=="function")?(a=g.$dup(),h(f)&&($=function(){let e=Array.prototype.slice.call(arguments);return V(f,"call",[l.$class().$new(this)].concat(p(e)))},a["$<<"]($)),t=_.apply(l.$to_n(),a.$to_n()),l.$wrap_result(t)):h(typeof _=="object"&&_!==null)?l.$wrap_result(_):_)},-2),N(w,"$to_str",function(){var b=this;return b.$to_n().toString()}),N(w,"$respond_to_missing?",function(b,s){return!0},-2),N(w,"$each",function x(){var b=x.$$p||H,s=this,f=H;return x.$$p=null,h(s["$respond_to?"]("length"))?(f=s.$length(),V(n.Range.$new(0,f,!0),"each",[],function E(g){var c=E.$$s==null?this:E.$$s;return g==null&&(g=H),n.yield1(b,c["$[]"](g))},{$$s:s})):s.$enum_for("each")}),N(w,"$[]",function(b){var s=this,f=H;return f=s.$native()["$[]"](b),s.$wrap_result(f)}),N(w,"$[]=",function(b,s){var f=this;return f.$native()["$[]="](b,s),f.$wrap_result(f.$native())}),N(w,"$to_n",function(){var b=this;return b.$native().$to_n()}),N(w,"$length",function(){var b=this;return b.$native().$length()}),w.$private(),N(w,"$to_js_name",function(b){return V(b.$to_s().$split("_").$map(),"with_index",[],function(f,E){return f==null&&(f=H),E==null&&(E=H),h(B("IRREGULARS")["$include?"](f.$gsub("=","").$downcase()))?f.$upcase():h(E["$zero?"]())?f:f.$capitalize()}).$join()}),N(w,"$to_rb_name",function(b){return V(b.$to_s(),"gsub",[/([A-Z]+)/],function(){var f;return"_"+((f=U["~"])===H?H:f["$[]"](1)).$downcase()}).$sub(/^_/,"")}),N(w,"$existing_property?",function(b){var s=this;return b in s.$to_n()})}(v[0],null,v),function(I,z,L){var w=M(I,z,"Promise"),S=[w].concat(L),B=n.$r(S);return w.$include(B("Helpers")),N(w,"$then",function x(){var b=x.$$p||H,s,f=this,E=H;return x.$$p=null,E=function(g){var c=b.$call(f.$wrap_result(g));return c&&typeof c.then=="function"?c:c&&typeof c.to_n=="function"?c.to_n():c},s=[f.$to_n().then(E)],V(f,"native=",s),s[s.length-1]}),N(w,"$catch",function x(){var b=x.$$p||H,s,f=this,E=H;return x.$$p=null,E=function(g){var c=b.$call(f.$wrap_result(g));return c&&typeof c.then=="function"?c:c&&typeof c.to_n=="function"?c.to_n():c},s=[f.$to_n().catch(E)],V(f,"native=",s),s[s.length-1]})}(v[0],k("Proxy"),v)}(X[0],X)};Opal.modules["opal_stimulus/stimulus_controller"]=function(n){var A=n.klass,h=n.const_set,N=n.Opal,M=n.defs,Q=n.truthy,Z=n.send,D=n.gvars,V=n.return_val,p=n.thrower,U=n.rb_plus,$e=n.eqeqeq,X=n.def,H=n.top,ee=[],W=n.nil,j=n.$$$;return n.add_stubs("require,bridge,stimulus_controller,downcase,gsub,name,include?,sub,to_s,each,subclasses,define_method,stimulus_name,to_ruby_name,+,new,map,capitalize,===,raise,[]=,to_n,Native,==,window,document"),H.$require("opal"),H.$require("native"),H.$require("js/proxy"),function(v,k,I){var z=A(v,k,"StimulusController"),L=[z].concat(I),w=n.$r(L),S=z.$$prototype;return S.window=S.document=W,h(L[0],"DEFAULT_METHODS",["initialize","connect","disconnect","dispatch"]),h(L[0],"DEFAULT_GETTERS",["element"]),M(z,"$inherited",function(x){return N.$bridge(x.$stimulus_controller(),x)}),M(z,"$stimulus_controller",function(){var x=this;return x.stimulus_controller==null&&(x.stimulus_controller=W),Q(x.stimulus_controller)||(x.stimulus_controller=class extends Controller{}),x.stimulus_controller}),M(z,"$stimulus_name",function(){var x=this;return x.$name().$gsub(/Controller$/,"").$gsub(/([a-z])([A-Z])/,"\\1-\\2").$gsub("::","--").$downcase()}),M(z,"$method_added",function(x){var b=this;if(Q(w("DEFAULT_GETTERS")["$include?"](x)))return W;b.$stimulus_controller().prototype[x]=function(...s){try{var f=s.map(function(E){return E&&typeof E=="object"&&!E.$$class?n.JS.Proxy.$new(E):E});return this["$"+x].apply(this,f)}catch(E){console.error("Uncaught",E)}}}),M(z,"$to_ruby_name",function(x){return Z(x.$to_s(),"gsub",[/([A-Z]+)/],function(){var s;return"_"+((s=D["~"])===W?W:s["$[]"](1)).$downcase()}).$sub(/^_/,"")}),M(z,"$register_all!",function(){try{var x=p("return"),b=this;return Z(b.$subclasses(),"each",[],function s(f){return f==null&&(f=W),Z(f,"define_method",["dummy"],V(W)),Q(application.controllers["$include?"](f.$stimulus_name()))&&x.$throw(W,s.$$is_lambda),application.register(f.$stimulus_name(),f.$stimulus_controller())},{$$ret:x})}catch(s){if(s===x)return s.$v;throw s}finally{x.is_orphan=!0}}),M(z,"$targets=",function(x){var b=this;return x==null&&(x=[]),b.$stimulus_controller().targets=x,Z(x,"each",[],function s(f){var E=s.$$s==null?this:s.$$s,g=W,c=W,l=W,m=W,C=W,_=W;f==null&&(f=W),g=f.$to_s(),c=E.$to_ruby_name(f),Z(E,"define_method",[U(c,"_target")],function(){return j(w("JS"),"Proxy").$new(this[U(g,"Target")])}),Z(E,"define_method",[U(c,"_targets")],function(){return Z(this[U(g,"Targets")],"map",[],function(t){return t==null&&(t=W),j(w("JS"),"Proxy").$new(t)})}),Z(E,"define_method",[U(U("has_",c),"_target")],function(){return this[U(U("has",g.$capitalize()),"Target")]}),l=U(c,"_target_connected"),m=U(g,"TargetConnected"),E.$stimulus_controller().prototype[m]=function(){if(this["$respond_to?"]&&this["$respond_to?"](l))return this["$"+l]()},C=U(c,"_target_disconnected"),_=U(g,"TargetDisconnected"),E.$stimulus_controller().prototype[_]=function(){if(this["$respond_to?"]&&this["$respond_to?"](C))return this["$"+C]()}},{$$s:b})},-1),M(z,"$outlets=",function(x){var b=this;return x==null&&(x=[]),b.$stimulus_controller().outlets=x,Z(x,"each",[],function s(f){var E=s.$$s==null?this:s.$$s,g=W,c=W,l=W,m=W,C=W,_=W;f==null&&(f=W),g=f.$to_s(),c=E.$to_ruby_name(f),Z(E,"define_method",[U(c,"_outlet")],function(){return this[U(g,"Outlet")]}),Z(E,"define_method",[U(c,"_outlets")],function(){return this[U(g,"Outlets")]}),Z(E,"define_method",[U(U("has_",c),"_outlet")],function(){return this[U(U("has",g.$capitalize()),"Outlet")]}),l=U(c,"_outlet_connected"),m=U(g,"OutletConnected"),E.$stimulus_controller().prototype[m]=function(){if(this["$respond_to?"]&&this["$respond_to?"](l))return this["$"+l]()},C=U(c,"_outlet_disconnected"),_=U(g,"OutletDisconnected"),E.$stimulus_controller().prototype[_]=function(){if(this["$respond_to?"]&&this["$respond_to?"](C))return this["$"+C]()}},{$$s:b})},-1),M(z,"$values=",function(x){var b=this,s=W;return x==null&&(x=new Map),s=new Map,Z(x,"each",[],function f(E,g){var c=f.$$s==null?this:f.$$s,l=W,m=W,C=W,_=W;E==null&&(E=W),g==null&&(g=W),E=c.$to_ruby_name(E),l=$e("string",m=g)?String:$e("number",m)?Number:$e("boolean",m)?Boolean:$e("array",m)?Array:$e("object",m)?Object:c.$raise(w("ArgumentError"),"Unsupported value type: "+g+", please use :string, :number, :boolean, :array, or :object"),s["$[]="](E,l),c.$stimulus_controller().values=s.$to_n(),Z(c,"define_method",[U(E,"_value")],function a(){var $=a.$$s==null?this:a.$$s;return $.$Native(this[U(E,"Value")])},{$$s:c}),Z(c,"define_method",[U(E,"_value=")],function a($){var t=a.$$s==null?this:a.$$s;return $==null&&($=W),t.$Native(this[U(E,"Value")]=$)},{$$s:c}),Z(c,"define_method",["has_"+E],function(){return this[U(U("has",E.$to_s().$capitalize()),"Value")]}),C=""+E+"_value_changed",_=""+E+"ValueChanged",c.$stimulus_controller().prototype[_]=function(a,$){if(g["$=="]("object")&&(a=JSON.stringify(a),$=JSON.stringify($)),this["$respond_to?"]&&this["$respond_to?"](C))return this["$"+C](a,$)}},{$$s:b})},-1),M(z,"$classes=",function(x){var b=this;return x==null&&(x=[]),b.$stimulus_controller().classes=x,Z(x,"each",[],function s(f){var E=s.$$s==null?this:s.$$s,g=W,c=W;return f==null&&(f=W),g=f.$to_s(),c=E.$to_ruby_name(f),Z(E,"define_method",[""+c+"_class"],function(){return this[U(g,"Class")]}),Z(E,"define_method",[""+c+"_classes"],function(){return this[U(g,"Classes")]}),Z(E,"define_method",["has_"+c+"_class"],function(){return this[U(U("has",g.$capitalize()),"Class")]})},{$$s:b})},-1),X(z,"$element",function(){return j(w("JS"),"Proxy").$new(this.element)}),X(z,"$window",function(){var x=this,b=W;return D.$==null&&(D.$=W),x.window=Q(b=x.window)?b:j(w("JS"),"Proxy").$new(D.$.$window())}),X(z,"$document",function(){var x=this,b=W;return D.$==null&&(D.$=W),x.document=Q(b=x.document)?b:j(w("JS"),"Proxy").$new(D.$.$document())})}(ee[0],Controller,ee)};Opal.modules["opal_vite/concerns/v1/js_proxy_ex"]=function(n){var A=n.module,h=n.truthy,N=n.def,M=n.send,Q=n.klass,Z=n.assign_ivar,D=n.return_ivar,V=n.slice,p=n.range,U=n.eqeq,$e=n.lambda,X=n.to_a,H=n.eqeqeq,ee=n.rb_plus,W=n.defs,j=n.const_set,v=[],k=n.$r(v),I=n.nil,z=n.$$$;return n.add_stubs("new,to_n,nil?,respond_to?,times,<<,to_s,snake_to_camel,wrap_result,end_with?,[],!,==,call,map,===,length,enum_for,private,upcase,split,+,join,to_proc,test,js_array_to_ruby"),function(L,w){var S=A(L,"OpalVite"),B=[S].concat(w);return function(x,b){var s=A(x,"Concerns"),f=[s].concat(b);return function(E,g){var c=A(E,"V1"),l=[c].concat(g);return function(m,C){var _=A(m,"JsProxyEx"),a=[_].concat(C),$=n.$r(a);return N(_,"$local_storage",function(){var e=this,r=I;return e.local_storage==null&&(e.local_storage=I),e.local_storage=h(r=e.local_storage)?r:$("JsObject").$new(localStorage)}),N(_,"$session_storage",function(){var e=this,r=I;return e.session_storage==null&&(e.session_storage=I),e.session_storage=h(r=e.session_storage)?r:$("JsObject").$new(sessionStorage)}),N(_,"$js_json",function(){var e=this,r=I;return e.js_json==null&&(e.js_json=I),e.js_json=h(r=e.js_json)?r:$("JsonWrapper").$new()}),N(_,"$js_date",function(){return $("DateWrapper")}),N(_,"$js_console",function(){var e=this,r=I;return e.js_console==null&&(e.js_console=I),e.js_console=h(r=e.js_console)?r:$("JsObject").$new(console)}),N(_,"$new_event",function(e,r){return r==null&&(r=new Map),$("JsObject").$new(new Event(e,r.$to_n()))},-2),N(_,"$new_custom_event",function(e,r){return r==null&&(r=new Map),$("JsObject").$new(new CustomEvent(e,{detail:r.$to_n()}))},-2),N(_,"$new_url",function(e){return $("JsObject").$new(new URL(e))}),N(_,"$new_regexp",function(e,r){return r==null&&(r=""),$("RegExpWrapper").$new(e,r)},-2),N(_,"$new_date",function(e){return e==null&&(e=I),h(e)?$("JsObject").$new(new Date(e)):$("JsObject").$new(new Date)},-1),N(_,"$date_now",function(){return Date.now()}),N(_,"$wrap_js",function(e){var r=I;return h(e["$nil?"]())?I:(r=h(e["$respond_to?"]("to_n"))?e.$to_n():e,$("JsObject").$new(r))}),N(_,"$js_array_to_ruby",function(e){var r=I,i=I;return r=[],i=e.length,M(i,"times",[],function(o){var y=I;return o==null&&(o=I),y=e[o],r["$<<"]($("JsObject").$new(y))}),r}),N(_,"$new_js_array",function(){return $("JsObject").$new([])}),function(t,e,r){var i=Q(t,e,"JsObject"),u=[i].concat(r),o=n.$r(u),y=i.$$prototype;return y.native=I,N(i,"$initialize",Z("native")),N(i,"$to_n",D("native")),N(i,"$[]",function(P){var F=this,G=I,re=I,ae=I;return G=P.$to_s(),re=F.$snake_to_camel(G),ae=F.native[re],F.$wrap_result(ae)}),N(i,"$[]=",function(P,F){var G=this,re=I,ae=I,le=I;return re=P.$to_s(),ae=G.$snake_to_camel(re),le=h(F["$respond_to?"]("to_n"))?F.$to_n():F,G.native[ae]=le}),N(i,"$method_missing",function R(P,F){var G=R.$$p||I,re,ae,le=this,ce=I,de=I,he=I,ve=I,me=I,be=I,ie=I,T=I,K=I,Y=I;return R.$$p=null,re=V(arguments,1),ae=re,ce=P.$to_s(),h(ce["$end_with?"]("="))?(de=ce["$[]"](p(0,-2,!1)),he=le.$snake_to_camel(de),ve=ae["$[]"](0),me=h(ve["$respond_to?"]("to_n"))?ve.$to_n():ve,le.native[he]=me,ve):h(ce["$end_with?"]("?"))?(de=ce["$[]"](p(0,-2,!1)),he=le.$snake_to_camel(de),le.native[he]["$!"]()["$!"]()):(he=le.$snake_to_camel(ce),be=typeof le.native[he]=="function",h(be)?U(he,"addEventListener")&&h(G)?(ie=$e(function(ne){return ne==null&&(ne=I),G.$call(o("JsObject").$new(ne))}),le.native.addEventListener(ae["$[]"](0),ie),I):(T=M(ae,"map",[],function(ne){return ne==null&&(ne=I),h(ne["$respond_to?"]("to_n"))?ne.$to_n():ne}),h(G)&&(ie=$e(function O(ne){var se,oe,fe=O.$$s==null?this:O.$$s,d=I;return se=V(arguments),oe=se,d=M(oe,"map",[],function q(J){var te=q.$$s==null?this:q.$$s;return J==null&&(J=I),te.$wrap_result(J)},{$$s:fe}),M(G,"call",X(d))},{$$arity:-1,$$s:le}),T["$<<"](ie)),K=H(0,Y=T.$length())?le.native[he]():H(1,Y)?le.native[he](T["$[]"](0)):H(2,Y)?le.native[he](T["$[]"](0),T["$[]"](1)):H(3,Y)?le.native[he](T["$[]"](0),T["$[]"](1),T["$[]"](2)):le.native[he].apply(le.native,T),le.$wrap_result(K)):(K=le.native[he],le.$wrap_result(K)))},-2),N(i,"$respond_to_missing?",function(P,F){return!0},-2),N(i,"$each",function R(){var P=R.$$p||I,F=this,G=I;return R.$$p=null,h(P)?(G=F.native.length,h(G)&&M(G,"times",[],function re(ae){var le=re.$$s==null?this:re.$$s,ce=I;return le.native==null&&(le.native=I),ae==null&&(ae=I),ce=le.native[ae],P.$call(le.$wrap_result(ce))},{$$s:F}),F):F.$enum_for("each")}),N(i,"$length",function(){var P=this;return P.native.length}),N(i,"$size",function(){var P=this;return P.$length()}),N(i,"$nil?",function(){var P=this;return P.native==null}),N(i,"$exists?",function(){var P=this;return P["$nil?"]()["$!"]()}),N(i,"$to_s",function(){var P=this;return String(P.native)}),N(i,"$inspect",function(){var P=this;return"#<JsObject: "+P.$to_s()+">"}),i.$private(),N(i,"$snake_to_camel",function(P){var F=I;return U(P,P.$upcase())||(F=P.$split("_"),U(F.$length(),1))?P:ee(F["$[]"](0),M(F["$[]"](p(1,-1,!1)),"map",[],"capitalize".$to_proc()).$join())}),N(i,"$wrap_result",function(P){return h(P==null)?I:h(typeof P=="number")||h(typeof P=="string")||h(typeof P=="boolean")?P:o("JsObject").$new(P)})}(a[0],null,a),function(t,e,r){var i=Q(t,e,"JsonWrapper"),u=[i].concat(r),o=n.$r(u);return N(i,"$parse",function(R){var P=I;return P=JSON.parse(R),o("JsObject").$new(P)}),N(i,"$stringify",function(R){var P=I;return P=h(R["$respond_to?"]("to_n"))?R.$to_n():R,JSON.stringify(P)})}(a[0],null,a),function(t,e,r){var i=Q(t,e,"RegExpWrapper"),u=[i].concat(r),o=n.$r(u),y=i.$$prototype;return y.native=I,N(i,"$initialize",function(P,F){var G=this;return F==null&&(F=""),G.native=new RegExp(P,F)},-2),N(i,"$to_n",D("native")),N(i,"$test",function(P){var F=this;return F.native.test(P)}),N(i,"$match",function(P){var F=this,G=I;return G=P.match(F.native),h(G===null)?I:o("JsObject").$new(G)}),N(i,"$=~",function(P){var F=this;return F.$test(P)})}(a[0],null,a),function(t,e){var r=A(t,"DateWrapper"),i=[r].concat(e),u=n.$r(i);return W(r,"$now",function(){return Date.now()}),W(r,"$new",function(y){return y==null&&(y=I),h(y)?u("JsObject").$new(new Date(y)):u("JsObject").$new(new Date)},-1),W(r,"$parse",function(y){return Date.parse(y)})}(a[0],a),N(_,"$has_target?",function(e){var r=this,i=I,u=I;return i=r.$snake_to_camel(e.$to_s()),u="has"+i["$[]"](0).$upcase()+i["$[]"](p(1,-1,!1))+"Target",this[u]}),N(_,"$target",function(e){var r=this,i=I,u=I,o=I;return i=r.$snake_to_camel(e.$to_s()),u=""+i+"Target",o=this[u],$("JsObject").$new(o)}),N(_,"$targets",function(e){var r=this,i=I,u=I,o=I;return i=r.$snake_to_camel(e.$to_s()),u=""+i+"Targets",o=this[u],r.$js_array_to_ruby(o)}),N(_,"$set_target_text",function(e,r){var i=this,u=I,o=I,y=I;u=i.$snake_to_camel(e.$to_s()),o="has"+u["$[]"](0).$upcase()+u["$[]"](p(1,-1,!1))+"Target",y=""+u+"Target",this[o]&&(this[y].textContent=r)}),N(_,"$set_target_class",function(e,r){var i=this,u=I,o=I,y=I;u=i.$snake_to_camel(e.$to_s()),o="has"+u["$[]"](0).$upcase()+u["$[]"](p(1,-1,!1))+"Target",y=""+u+"Target",this[o]&&(this[y].className=r)}),N(_,"$set_target_disabled",function(e,r){var i=this,u=I,o=I,y=I;u=i.$snake_to_camel(e.$to_s()),o="has"+u["$[]"](0).$upcase()+u["$[]"](p(1,-1,!1))+"Target",y=""+u+"Target",this[o]&&(this[y].disabled=r)}),_.$private(),N(_,"$snake_to_camel",function(e){var r=I;return U(e,e.$upcase())||(r=e.$to_s().$split("_"),U(r.$length(),1))?e:ee(r["$[]"](0),M(r["$[]"](p(1,-1,!1)),"map",[],"capitalize".$to_proc()).$join())})}(l[0],l)}(f[0],f)}(B[0],B)}(v[0],v),j(v[0],"JsProxyEx",z(z(z(k("OpalVite"),"Concerns"),"V1"),"JsProxyEx"))};Opal.modules["opal_vite/concerns/v1/dom_helpers"]=function(n){var A=n.module,h=n.truthy,N=n.def,M=n.send,Q=n.const_set,Z=[],D=n.$r(Z),V=n.nil,p=n.$$$;return n.add_stubs("window,to_n,query_selector,element,nil?,query_selector_all,map,to_a,Native,add,class_list,remove,toggle,contains,set_timeout,!,element_exists?,set_style"),function(U,$e){var X=A(U,"OpalVite"),H=[X].concat($e);return function(ee,W){var j=A(ee,"Concerns"),v=[j].concat(W);return function(k,I){var z=A(k,"V1"),L=[z].concat(I);return function(w){var S=A(w,"DomHelpers");return N(S,"$dispatch_custom_event",function(x,b,s){var f=this,E=V;b==null&&(b=new Map),s==null&&(s=V),s=h(E=s)?E:f.$window();const g=new CustomEvent(x,{detail:b.$to_n()});s.$to_n().dispatchEvent(g)},-2),N(S,"$create_event",function(x,b){return b==null&&(b=new Map([["bubbles",!0]])),new Event(x,b.$to_n())},-2),N(S,"$query",function(x){var b=this,s=V;return s=b.$element().$query_selector(x),h(s["$nil?"]())?V:s}),N(S,"$query_all",function(x){var b=this,s=V;return s=b.$element().$query_selector_all(x),M(b.$Native(Array.from(s.$to_n())).$to_a(),"map",[],function f(E){var g=f.$$s==null?this:f.$$s;return E==null&&(E=V),g.$Native(E)},{$$s:b})}),N(S,"$add_class",function(x,b){return x.$class_list().$add(b)}),N(S,"$remove_class",function(x,b){return x.$class_list().$remove(b)}),N(S,"$toggle_class",function(x,b){return x.$class_list().$toggle(b)}),N(S,"$has_class?",function(x,b){return x.$class_list().$contains(b)}),N(S,"$set_timeout",function B(x){var b=B.$$p||V,s=this;return B.$$p=null,s.$window().$set_timeout(b,x)}),N(S,"$element_exists?",function(x){var b=V;return h(b=x["$nil?"]()["$!"]())?x.$to_n():b}),N(S,"$set_style",function(x,b,s){var f=this;return h(f["$element_exists?"](x))?x.$to_n().style[b]=s:V}),N(S,"$get_style",function(x,b){var s=this;return h(s["$element_exists?"](x))?x.$to_n().style[b]:V}),N(S,"$show_element",function(x){var b=this;return b.$set_style(x,"display","block")}),N(S,"$hide_element",function(x){var b=this;return b.$set_style(x,"display","none")})}(L[0])}(v[0],v)}(H[0],H)}(Z[0],Z),Q(Z[0],"DomHelpers",p(p(p(D("OpalVite"),"Concerns"),"V1"),"DomHelpers"))};Opal.modules["opal_vite/concerns/v1/toastable"]=function(n){var A=n.module,h=n.def,N=n.const_set,M=[],Q=n.$r(M);n.nil;var Z=n.$$$;return n.add_stubs("dispatch_toast"),function(D,V){var p=A(D,"OpalVite"),U=[p].concat(V);return function($e,X){var H=A($e,"Concerns"),ee=[H].concat(X);return function(W,j){var v=A(W,"V1"),k=[v].concat(j);return function(I){var z=A(I,"Toastable");return h(z,"$dispatch_toast",function(w,S){S==null&&(S="info");const B=new CustomEvent("show-toast",{detail:{message:w,type:S}});window.dispatchEvent(B)},-2),h(z,"$show_success",function(w){var S=this;return S.$dispatch_toast(w,"success")}),h(z,"$show_error",function(w){var S=this;return S.$dispatch_toast(w,"error")}),h(z,"$show_warning",function(w){var S=this;return S.$dispatch_toast(w,"warning")}),h(z,"$show_info",function(w){var S=this;return S.$dispatch_toast(w,"info")})}(k[0])}(ee[0],ee)}(U[0],U)}(M[0],M),N(M[0],"Toastable",Z(Z(Z(Q("OpalVite"),"Concerns"),"V1"),"Toastable"))};Opal.modules["opal_vite/concerns/v1/storable"]=function(n){var A=n.module,h=n.truthy,N=n.def,M=n.const_set,Q=[],Z=n.$r(Q),D=n.nil,V=n.$$$;return n.add_stubs("to_n"),function(p,U){var $e=A(p,"OpalVite"),X=[$e].concat(U);return function(H,ee){var W=A(H,"Concerns"),j=[W].concat(ee);return function(v,k){var I=A(v,"V1"),z=[I].concat(k);return function(L,w){var S=A(L,"Storable"),B=[S].concat(w),x=n.$r(B);return N(S,"$storage_get",function(s){var f=D;if(f=localStorage.getItem(s),!h(f))return D;try{return JSON.parse(f)}catch(E){if(n.rescue(E,[x("StandardError")]))try{return D}finally{n.pop_exception(E)}else throw E}}),N(S,"$storage_set",function(s,f){var E=D;return E=JSON.stringify(f.$to_n()),localStorage.setItem(s,E)}),N(S,"$storage_remove",function(s){return localStorage.removeItem(s)})}(z[0],z)}(j[0],j)}(X[0],X)}(Q[0],Q),M(Q[0],"Storable",V(V(V(Z("OpalVite"),"Concerns"),"V1"),"Storable"))};Opal.modules["opal_vite/concerns/v1/stimulus_helpers"]=function(n){var A=n.module,h=n.def,N=n.truthy,M=n.eqeq,Q=n.send,Z=n.slice,D=n.ensure_kwargs,V=n.get_kwarg,p=n.hash_get,U=n.rb_plus,$e=n.rb_minus,X=n.to_a,H=n.range,ee=n.const_set,W=[],j=n.$r(W),v=n.nil,k=n.$$$;return n.add_stubs("camelize,has_target?,target_set_value,target_set_html,set_target_style,get_target_style,==,show_target,hide_target,call,body_style,to_n,storage_get,is_a?,parse_int,event_data,to_native_element,Native,map,to_a,js_timestamp,is_nan?,parse_float,to_s,empty?,respond_to?,fetch_json_promise,fetch_json_safe,js_then,js_catch,console_error,set_stimulus_value,+,stimulus_value,-,!,get_class,get_classes,has_outlet?,get_outlet,js_call_on,each,get_outlets,nil?,stimulus_dispatch,action_param,[],[]=,flatten,to_proc,blank?,private,include?,upcase,downcase,split,join,first"),function(I,z){var L=A(I,"OpalVite"),w=[L].concat(z);return function(S,B){var x=A(S,"Concerns"),b=[x].concat(B);return function(s,f){var E=A(s,"V1"),g=[E].concat(f);return function(c,l){var m=A(c,"StimulusHelpers"),C=[m].concat(l),_=n.$r(C);return h(m,"$has_target?",function($){var t=this,e=v;return e="has"+t.$camelize($)+"Target",this[e]}),h(m,"$get_target",function($){var t=this,e=v;return N(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e]):v}),h(m,"$get_targets",function($){var t=this,e=v;return e=""+t.$camelize($,!1)+"Targets",Array.from(this[e]||[])}),h(m,"$target_value",function($){var t=this,e=v;return N(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].value):v}),h(m,"$target_set_value",function($,t){var e=this,r=v;return N(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].value=t):v}),h(m,"$target_html",function($){var t=this,e=v;return N(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].innerHTML):v}),h(m,"$target_set_html",function($,t){var e=this,r=v;return N(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].innerHTML=t):v}),h(m,"$target_text",function($){var t=this,e=v;return N(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].textContent):v}),h(m,"$target_set_text",function($,t){var e=this,r=v;return N(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].textContent=t):v}),h(m,"$target_data",function($,t){var e=this,r=v;return N(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].getAttribute("data-"+t)):v}),h(m,"$target_set_data",function($,t,e){var r=this,i=v;return N(r["$has_target?"]($))?(i=""+r.$camelize($,!1)+"Target",this[i].setAttribute("data-"+t,e)):v}),h(m,"$target_clear",function($){var t=this;return t.$target_set_value($,"")}),h(m,"$target_clear_html",function($){var t=this;return t.$target_set_html($,"")}),h(m,"$set_target_style",function($,t,e){var r=this,i=v;return N(r["$has_target?"]($))?(i=""+r.$camelize($,!1)+"Target",this[i].style[t]=e):v}),h(m,"$get_target_style",function($,t){var e=this,r=v;return N(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].style[t]):v}),h(m,"$show_target",function($){var t=this;return t.$set_target_style($,"display","")}),h(m,"$hide_target",function($){var t=this;return t.$set_target_style($,"display","none")}),h(m,"$toggle_target_visibility",function($){var t=this,e=v;return e=t.$get_target_style($,"display"),M(e,"none")?t.$show_target($):t.$hide_target($)}),h(m,"$add_target_class",function($,t){var e=this,r=v;return N(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.add(t)):v}),h(m,"$remove_target_class",function($,t){var e=this,r=v;return N(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.remove(t)):v}),h(m,"$toggle_target_class",function($,t){var e=this,r=v;return N(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.toggle(t)):v}),h(m,"$has_target_class?",function($,t){var e=this,r=v;return N(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.contains(t)):!1}),h(m,"$js_timestamp",function(){return Date.now()}),h(m,"$js_iso_date",function(){return new Date().toISOString()}),h(m,"$js_date",function($){return $==null&&($=v),N($)?new Date($):new Date},-1),h(m,"$js_regexp",function($,t){return t==null&&(t=""),new RegExp($,t)},-2),h(m,"$js_regexp_test",function($,t,e){return e==null&&(e=""),new RegExp($,e).test(t)},-3),h(m,"$set_timeout",function a($){var t=a.$$p||v;return a.$$p=null,setTimeout(function(){t.$call()},$)}),h(m,"$set_interval",function a($){var t=a.$$p||v;return a.$$p=null,setInterval(function(){t.$call()},$)}),h(m,"$clear_timeout",function($){return clearTimeout($)}),h(m,"$clear_interval",function($){return clearInterval($)}),h(m,"$body_style",function($,t){return document.body.style[$]=t}),h(m,"$lock_body_scroll",function(){var $=this;return $.$body_style("overflow","hidden")}),h(m,"$unlock_body_scroll",function(){var $=this;return $.$body_style("overflow","")}),h(m,"$js_array",function(){return[]}),h(m,"$js_array_push",function($,t){return $.push(t.$to_n())}),h(m,"$js_array_length",function($){return $.length}),h(m,"$js_array_at",function($,t){return $[t]}),h(m,"$storage_get",function($){return localStorage.getItem($)}),h(m,"$storage_set",function($,t){return localStorage.setItem($,t)}),h(m,"$storage_remove",function($){return localStorage.removeItem($)}),h(m,"$storage_get_json",function($,t){var e=this,r=v;return t==null&&(t=v),r=e.$storage_get($),N(r===null)?t:JSON.parse(r)},-2),h(m,"$storage_set_json",function($,t){return localStorage.setItem($,JSON.stringify(t.$to_n()))}),h(m,"$dispatch_window_event",function($,t){var e=v;t==null&&(t=new Map),e=N(t["$is_a?"](_("Hash")))?t.$to_n():t;const r=new CustomEvent($,{detail:e});window.dispatchEvent(r)},-2),h(m,"$dispatch_event",function($,t){var e=v;t==null&&(t=new Map),e=N(t["$is_a?"](_("Hash")))?t.$to_n():t;const r=new CustomEvent($,{detail:e});this.element.dispatchEvent(r)},-2),h(m,"$on_window_event",function a($){var t=a.$$p||v;return a.$$p=null,window.addEventListener($,t)}),h(m,"$off_window_event",function($,t){return window.removeEventListener($,t)}),h(m,"$on_document_event",function a($){var t=a.$$p||v;return a.$$p=null,document.addEventListener($,t)}),h(m,"$on_dom_ready",function a(){var $=a.$$p||v;return a.$$p=null,document.addEventListener("DOMContentLoaded",$)}),h(m,"$on_element_event",function a($,t){var e=a.$$p||v;return a.$$p=null,$.addEventListener(t,e)}),h(m,"$off_element_event",function($,t,e){return $.removeEventListener(t,e)}),h(m,"$on_controller_event",function a($){var t=a.$$p||v;return a.$$p=null,this.element.addEventListener($,t)}),h(m,"$event_target",function(){return event.currentTarget}),h(m,"$event_data",function($){return event.currentTarget.getAttribute("data-"+$)}),h(m,"$event_data_int",function($){var t=this;return t.$parse_int(t.$event_data($))}),h(m,"$prevent_default",function(){return event.preventDefault()}),h(m,"$event_key",function(){return event.key}),h(m,"$to_native_element",function($){return N(typeof $.$to_n=="function")?$.$to_n():$}),h(m,"$add_class",function($,t){var e=this,r=v;return r=e.$to_native_element($),r.classList.add(t)}),h(m,"$remove_class",function($,t){var e=this,r=v;return r=e.$to_native_element($),r.classList.remove(t)}),h(m,"$toggle_class",function($,t){var e=this,r=v;return r=e.$to_native_element($),r.classList.toggle(t)}),h(m,"$has_class?",function($,t){var e=this,r=v;return r=e.$to_native_element($),r.classList.contains(t)}),h(m,"$set_attr",function($,t,e){var r=this,i=v;return i=r.$to_native_element($),i.setAttribute(t,e)}),h(m,"$get_attr",function($,t){var e=this,r=v;return r=e.$to_native_element($),r.getAttribute(t)}),h(m,"$remove_attr",function($,t){var e=this,r=v;return r=e.$to_native_element($),r.removeAttribute(t)}),h(m,"$set_style",function($,t,e){var r=this,i=v;return i=r.$to_native_element($),i.style[t]=e}),h(m,"$set_html",function($,t){var e=this,r=v;return r=e.$to_native_element($),r.innerHTML=t}),h(m,"$set_text",function($,t){var e=this,r=v;return r=e.$to_native_element($),r.textContent=t}),h(m,"$get_value",function($){var t=this,e=v;return e=t.$to_native_element($),e.value}),h(m,"$set_value",function($,t){var e=this,r=v;return r=e.$to_native_element($),r.value=t}),h(m,"$focus",function($){var t=this,e=v;return e=t.$to_native_element($),e.focus()}),h(m,"$has_attr?",function($,t){var e=this,r=v;return r=e.$to_native_element($),r.hasAttribute(t)}),h(m,"$create_element",function($){return document.createElement($)}),h(m,"$append_child",function($,t){var e=this,r=v,i=v;return r=e.$to_native_element($),i=e.$to_native_element(t),r.appendChild(i)}),h(m,"$remove_element",function($){var t=this,e=v;return e=t.$to_native_element($),e.remove()}),h(m,"$next_sibling",function($){var t=this,e=v;return e=t.$to_native_element($),e.nextElementSibling}),h(m,"$prev_sibling",function($){var t=this,e=v;return e=t.$to_native_element($),e.previousElementSibling}),h(m,"$parent",function($){var t=this,e=v;return e=t.$to_native_element($),e.parentElement}),h(m,"$query",function($){var t=this,e=v;return e=document.querySelector($),N(e===null)?v:t.$Native(e)}),h(m,"$query_all",function($){var t=this,e=v;return e=Array.from(document.querySelectorAll($)),Q(t.$Native(e).$to_a(),"map",[],function r(i){var u=r.$$s==null?this:r.$$s;return i==null&&(i=v),u.$Native(i)},{$$s:t})}),h(m,"$query_element",function($){var t=this,e=v;return e=this.element.querySelector($),N(e===null)?v:t.$Native(e)}),h(m,"$query_all_element",function($){var t=this,e=v;return e=Array.from(this.element.querySelectorAll($)),Q(t.$Native(e).$to_a(),"map",[],function r(i){var u=r.$$s==null?this:r.$$s;return i==null&&(i=v),u.$Native(i)},{$$s:t})}),h(m,"$doc_root",function(){return document.documentElement}),h(m,"$set_root_attr",function($,t){return document.documentElement.setAttribute($,t)}),h(m,"$get_root_attr",function($){return document.documentElement.getAttribute($)}),h(m,"$clone_template",function($){var t=this,e=v;return e=""+t.$camelize($,!1)+"Target",this[e].content.cloneNode(!0)}),h(m,"$template_first_child",function($){return $.firstElementChild}),h(m,"$element_add_class",function($){return this.element.classList.add($)}),h(m,"$element_remove_class",function($){return this.element.classList.remove($)}),h(m,"$element_toggle_class",function($){return this.element.classList.toggle($)}),h(m,"$generate_id",function(){var $=this;return $.$js_timestamp()}),h(m,"$target_focus",function($){var t=this,e=v;return N(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].focus()):v}),h(m,"$target_blur",function($){var t=this,e=v;return N(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].blur()):v}),h(m,"$parse_int",function($,t){return t==null&&(t=10),parseInt($,t)},-2),h(m,"$parse_float",function($){return parseFloat($)}),h(m,"$is_nan?",function($){return Number.isNaN($)}),h(m,"$parse_int_or",function($,t){var e=this,r=v;return t==null&&(t=0),r=e.$parse_int($),N(e["$is_nan?"](r))?t:r},-2),h(m,"$parse_float_or",function($,t){var e=this,r=v;return t==null&&(t=0),r=e.$parse_float($),N(e["$is_nan?"](r))?t:r},-2),h(m,"$js_prop",function($){return this[$.$to_s()]}),h(m,"$js_set_prop",function($,t){return this[$.$to_s()]=t}),h(m,"$js_has_prop?",function($){return!!this[$.$to_s()]}),h(m,"$js_call",function($,t){var e,r,i=v;return e=Z(arguments,1),r=e,N(r["$empty?"]())?this[$.$to_s()]():(i=Q(r,"map",[],function(o){return o==null&&(o=v),N(o["$respond_to?"]("to_n"))?o.$to_n():o}),this[$.$to_s()].apply(this,i))},-2),h(m,"$js_call_on",function($,t,e){var r,i,u=v;return r=Z(arguments,2),i=r,N(i["$empty?"]())?$[t.$to_s()]():(u=Q(i,"map",[],function(y){return y==null&&(y=v),N(y["$respond_to?"]("to_n"))?y.$to_n():y}),$[t.$to_s()].apply($,u))},-3),h(m,"$js_get",function($,t){return $[t.$to_s()]}),h(m,"$js_set",function($,t,e){return $[t.$to_s()]=e}),h(m,"$json_parse",function($){return JSON.parse($)}),h(m,"$json_stringify",function($){var t=v;return t=N($["$respond_to?"]("to_n"))?$.$to_n():$,JSON.stringify(t)}),h(m,"$console_log",function($){var t,e;return t=Z(arguments),e=t,console.log.apply(console,e)},-1),h(m,"$console_warn",function($){var t,e;return t=Z(arguments),e=t,console.warn.apply(console,e)},-1),h(m,"$console_error",function($){var t,e;return t=Z(arguments),e=t,console.error.apply(console,e)},-1),h(m,"$js_string_char_at",function($,t){return $.charAt(t)}),h(m,"$js_substring",function($,t,e){return e==null&&(e=v),N(e)?$.substring(t,e):$.substring(t)},-3),h(m,"$js_split",function($,t){return $.split(t)}),h(m,"$js_trim",function($){return $.trim()}),h(m,"$js_includes?",function($,t){return $.includes(t)}),h(m,"$js_equals?",function($,t){return $===t}),h(m,"$js_loose_equals?",function($,t){return $==t}),h(m,"$js_random",function(){return Math.random()}),h(m,"$js_min",function($,t){return Math.min($,t)}),h(m,"$js_max",function($,t){return Math.max($,t)}),h(m,"$js_abs",function($){return Math.abs($)}),h(m,"$js_round",function($){return Math.round($)}),h(m,"$js_ceil",function($){return Math.ceil($)}),h(m,"$js_to_fixed",function($,t){return $.toFixed(t)}),h(m,"$random_int",function($){return Math.floor(Math.random()*$)}),h(m,"$js_floor",function($){return Math.floor($)}),h(m,"$js_global_exists?",function($){return typeof window[$]<"u"}),h(m,"$js_global",function($){return window[$]}),h(m,"$js_new",function($,t){var e,r,i=v;return e=Z(arguments,1),r=e,N(r["$empty?"]())?new $:(i=Q(r,"map",[],function(o){return o==null&&(o=v),o!=null&&typeof o.$to_n=="function"?o.$to_n():o}),Reflect.construct($,i))},-2),h(m,"$js_define_method",function a($){var t=a.$$p||v;return a.$$p=null,this[$.$to_s()]=t}),h(m,"$js_define_method_on",function a($,t){var e=a.$$p||v;return a.$$p=null,$[t.$to_s()]=e}),h(m,"$js_length",function($){return $.length}),h(m,"$js_map",function a($){var t=a.$$p||v;return a.$$p=null,$.map(t)}),h(m,"$js_filter",function a($){var t=a.$$p||v;return a.$$p=null,$.filter(t)}),h(m,"$js_reduce",function a($,t){var e=a.$$p||v;return a.$$p=null,$.reduce(e,t)}),h(m,"$js_each",function a($){var t=a.$$p||v;return a.$$p=null,$.forEach(t)}),h(m,"$js_slice",function($,t,e){return e==null&&(e=v),N(e)?$.slice(t,e):$.slice(t)},-3),h(m,"$js_object",function(){return{}}),h(m,"$js_keys",function($){return Object.keys($)}),h(m,"$js_values",function($){return Object.values($)}),h(m,"$js_entries",function($){return Object.entries($)}),h(m,"$js_unique_count",function($){return new Set($).size}),h(m,"$js_fetch",function($){return fetch($)}),h(m,"$fetch_json",function a($){var t=a.$$p||v;a.$$p=null,fetch($).then(e=>e.json()).then(e=>t.$call(e)).catch(e=>console.error("Fetch error:",e))}),h(m,"$fetch_json_promise",function($){return fetch($).then(t=>t.json())}),h(m,"$fetch_json_safe",function($){return fetch($).then(function(t){if(!t.ok)throw new Error("Network response was not ok: "+t.status);return t.json()})}),h(m,"$fetch_all_json",function($){var t=this,e=v;return e=Q($,"map",[],function r(i){var u=r.$$s==null?this:r.$$s;return i==null&&(i=v),u.$fetch_json_promise(i)},{$$s:t}),Promise.all(e)}),h(m,"$fetch_json_with_handlers",function($,t){var e,r,i=this,u=v;return t=D(t),e=V(t,"on_success"),r=p(t,"on_error"),r==null&&(r=v),u=i.$fetch_json_safe($),u=Q(i,"js_then",[u],function(y){return y==null&&(y=v),e.$call(y)}),N(r)?Q(i,"js_catch",[u],function(y){return y==null&&(y=v),r.$call(y)}):Q(i,"js_catch",[u],function o(y){var R=o.$$s==null?this:o.$$s;return y==null&&(y=v),R.$console_error("Fetch error:",y)},{$$s:i})}),h(m,"$promise_all",function($){return Promise.all($)}),h(m,"$promise_race",function($){return Promise.race($)}),h(m,"$promise_resolve",function($){var t=v;return t=N($["$respond_to?"]("to_n"))?$.$to_n():$,Promise.resolve(t)}),h(m,"$promise_reject",function($){return Promise.reject($)}),h(m,"$js_then",function a($){var t=a.$$p||v;return a.$$p=null,$.then(t)}),h(m,"$js_catch",function a($){var t=a.$$p||v;return a.$$p=null,$.catch(t)}),h(m,"$js_finally",function a($){var t=a.$$p||v;return a.$$p=null,$.finally(t)}),h(m,"$stimulus_value",function($){var t=this,e=v;return e=""+t.$camelize($,!1)+"Value",this[e]}),h(m,"$set_stimulus_value",function($,t){var e=this,r=v,i=v;return r=""+e.$camelize($,!1)+"Value",i=N(t["$respond_to?"]("to_n"))?t.$to_n():t,this[r]=i}),h(m,"$has_stimulus_value?",function($){var t=this,e=v;return e="has"+t.$camelize($)+"Value",this[e]}),h(m,"$increment_stimulus_value",function($,t){var e=this;return t==null&&(t=1),e.$set_stimulus_value($,U(e.$stimulus_value($),t))},-2),h(m,"$decrement_stimulus_value",function($,t){var e=this;return t==null&&(t=1),e.$set_stimulus_value($,$e(e.$stimulus_value($),t))},-2),h(m,"$toggle_stimulus_value",function($){var t=this;return t.$set_stimulus_value($,t.$stimulus_value($)["$!"]())}),h(m,"$get_class",function($){var t=this,e=v;return e=""+t.$camelize($,!1)+"Class",this[e]}),h(m,"$get_classes",function($){var t=this,e=v;return e=""+t.$camelize($,!1)+"Classes",Array.from(this[e]||[])}),h(m,"$has_class_definition?",function($){var t=this,e=v;return e="has"+t.$camelize($)+"Class",this[e]}),h(m,"$apply_class",function($,t){var e=this,r=v,i=v;return r=e.$to_native_element($),i=e.$get_class(t),N(i)?r.classList.add(i):v}),h(m,"$apply_classes",function($,t){var e=this,r=v,i=v;return r=e.$to_native_element($),i=e.$get_classes(t),N(i)?r.classList.add(...i):v}),h(m,"$remove_applied_class",function($,t){var e=this,r=v,i=v;return r=e.$to_native_element($),i=e.$get_class(t),N(i)?r.classList.remove(i):v}),h(m,"$remove_applied_classes",function($,t){var e=this,r=v,i=v;return r=e.$to_native_element($),i=e.$get_classes(t),N(i)?r.classList.remove(...i):v}),h(m,"$has_outlet?",function($){var t=this,e=v;return e="has"+t.$camelize($)+"Outlet",this[e]}),h(m,"$get_outlet",function($){var t=this,e=v;return e=""+t.$camelize($,!1)+"Outlet",this[e]}),h(m,"$get_outlets",function($){var t=this,e=v;return e=""+t.$camelize($,!1)+"Outlets",Array.from(this[e]||[])}),h(m,"$get_outlet_element",function($){var t=this,e=v;return e=""+t.$camelize($,!1)+"OutletElement",this[e]}),h(m,"$get_outlet_elements",function($){var t=this,e=v;return e=""+t.$camelize($,!1)+"OutletElements",Array.from(this[e]||[])}),h(m,"$call_outlet",function($,t,e){var r,i,u=this,o=v;return r=Z(arguments,2),i=r,N(u["$has_outlet?"]($))?(o=u.$get_outlet($),Q(u,"js_call_on",[o,t].concat(X(i)))):v},-3),h(m,"$call_all_outlets",function($,t,e){var r,i,u=this;return r=Z(arguments,2),i=r,Q(u.$get_outlets($),"each",[],function o(y){var R=o.$$s==null?this:o.$$s;return y==null&&(y=v),Q(R,"js_call_on",[y,t].concat(X(i)))},{$$s:u})},-3),h(m,"$stimulus_dispatch",function($,t){var e,r,i,u,o,y=v,R=v;return t=D(t),e=p(t,"detail"),e==null&&(e=new Map),r=p(t,"target"),r==null&&(r=v),i=p(t,"prefix"),i==null&&(i=v),u=p(t,"bubbles"),u==null&&(u=!0),o=p(t,"cancelable"),o==null&&(o=!0),y=N(e["$respond_to?"]("to_n"))?e.$to_n():e,R={detail:y,bubbles:u,cancelable:o},N(r["$nil?"]())||(R.target=r),N(i["$nil?"]())||(R.prefix=i),this.dispatch($,R)},-2),h(m,"$stimulus_dispatch_confirm",function($,t){var e,r=this,i=v;return t=D(t),e=p(t,"detail"),e==null&&(e=new Map),i=r.$stimulus_dispatch($,new Map([["detail",e],["cancelable",!0]])),!i.defaultPrevented},-2),h(m,"$action_params",function(){return event.params||{}}),h(m,"$action_param",function($){return(event.params||{})[$.$to_s()]}),h(m,"$action_param_int",function($,t){var e=this,r=v,i=v;return t==null&&(t=0),r=e.$action_param($),i=e.$parse_int(r),N(e["$is_nan?"](i))?t:i},-2),h(m,"$action_param_bool",function($){var t=this,e=v;return e=t.$action_param($),!!e&&e!=="false"&&e!=="0"}),h(m,"$has_action_param?",function($){return(event.params||{}).hasOwnProperty($.$to_s())}),h(m,"$this_application",function(){return this.application}),h(m,"$this_identifier",function(){return this.identifier}),h(m,"$this_element",function(){return this.element}),h(m,"$get_controller",function($,t){var e=this,r=v;return r=e.$to_native_element($),this.application.getControllerForElementAndIdentifier(r,t)}),h(m,"$get_controllers",function($,t){var e=this,r=v;r=e.$to_native_element($),Array.from(r.querySelectorAll('[data-controller~="'+t+'"]')).map(i=>this.application.getControllerForElementAndIdentifier(i,t)).filter(i=>i!==null)}),h(m,"$this_scope",function(){return this.scope.element}),h(m,"$in_scope?",function($){var t=this,e=v;return e=t.$to_native_element($),this.element.contains(e)}),h(m,"$debounce",function a($){var t=a.$$p||v;a.$$p=null;var e;return function(...r){clearTimeout(e),e=setTimeout(()=>t.$call(),$)}}),h(m,"$throttle",function a($){var t=a.$$p||v;a.$$p=null;var e=0;return function(...r){var i=Date.now();i-e>=$&&(e=i,t.$call())}}),h(m,"$debounced",function a($,t){var e=a.$$p||v,r,i=this,u=v,o=v;return i._debounce_timers==null&&(i._debounce_timers=v),a.$$p=null,t==null&&(t="default"),i._debounce_timers=N(u=i._debounce_timers)?u:new Map,o="_debounce_"+t,clearTimeout(i._debounce_timers["$[]"](o)),r=[o,setTimeout(function(){e.$call()},$)],Q(i._debounce_timers,"[]=",r),r[r.length-1]},-2),h(m,"$throttled",function a($,t){var e=a.$$p||v,r=this,i=v,u=v,o=v,y=v;return r._throttle_times==null&&(r._throttle_times=v),a.$$p=null,t==null&&(t="default"),r._throttle_times=N(i=r._throttle_times)?i:new Map,u="_throttle_"+t,o=Date.now(),y=N(i=r._throttle_times["$[]"](u))?i:0,N(o-y>=$)?(r._throttle_times["$[]="](u,o),e.$call()):v},-2),h(m,"$copy_to_clipboard",function a($){var t=a.$$p||v;a.$$p=null,navigator.clipboard.writeText($).then(function(){N(t)&&t.$call()})}),h(m,"$read_from_clipboard",function a(){var $=a.$$p||v;a.$$p=null,navigator.clipboard.readText().then(function(t){$.$call(t)})}),h(m,"$deep_clone",function($){return JSON.parse(JSON.stringify($.$to_n()))}),h(m,"$deep_merge",function($,t){function e(r,i){var u=Object.assign({},r);for(var o in i)i.hasOwnProperty(o)&&(i[o]&&typeof i[o]=="object"&&!Array.isArray(i[o])?u[o]=e(u[o]||{},i[o]):u[o]=i[o]);return u}return e($.$to_n(),t.$to_n())}),h(m,"$pick",function($,t){var e,r,i=v;return e=Z(arguments,1),r=e,i=new Map,Q(r.$flatten(),"each",[],function(o){var y,R=v,P=v;return o==null&&(o=v),R=o.$to_s(),P=$.$to_n(),N(P.hasOwnProperty(R))?(y=[R,P[R]],Q(i,"[]=",y),y[y.length-1]):v}),i},-2),h(m,"$omit",function($,t){var e,r,i,u=v,o=v,y=v;return e=Z(arguments,1),r=e,u=Q(r.$flatten(),"map",[],"to_s".$to_proc()),o=new Map,y=$.$to_n(),Object.keys(y).forEach(function(R){u.includes(R)||(i=[R,y[R]],Q(o,"[]=",i),i[i.length-1])}),o},-2),h(m,"$unique",function($){return[...new Set($.$to_n())]}),h(m,"$intersection",function($,t){var e=v;return e=new Set(t.$to_n()),$.$to_n().filter(r=>e.has(r))}),h(m,"$difference",function($,t){var e=v;return e=new Set(t.$to_n()),$.$to_n().filter(r=>!e.has(r))}),h(m,"$union",function($,t){return[...new Set([...$.$to_n(),...t.$to_n()])]}),h(m,"$valid_email?",function($){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($)}),h(m,"$valid_url?",function($){try{return new URL($),!0}catch{return!1}}),h(m,"$valid_phone?",function($){var t=v;t=$.replace(/[\s\-\(\)\.]/g,"");var e=/^[\+]?[0-9]{10,15}$/;return e.test(t)}),h(m,"$blank?",function($){return N($["$nil?"]())?!0:N(typeof $=="string")?$.trim()==="":N(Array.isArray($))?$.length===0:!1}),h(m,"$present?",function($){var t=this;return t["$blank?"]($)["$!"]()}),h(m,"$min_length?",function($,t){return N($["$nil?"]())?!1:$.length>=t}),h(m,"$max_length?",function($,t){return N($["$nil?"]())?!1:$.length<=t}),h(m,"$matches_pattern?",function($,t){return N($["$nil?"]())?!1:new RegExp(t).test($)}),h(m,"$console_styled",function($,t){return t==null&&(t="color: blue; font-weight: bold;"),console.log("%c"+$,t)},-2),h(m,"$console_group",function a($,t){var e=a.$$p||v,r;return a.$$p=null,t=D(t),r=p(t,"collapsed"),r==null&&(r=!1),N(r)?console.groupCollapsed($):console.group($),e.$call(),console.groupEnd()},-2),h(m,"$console_table",function($){return console.table($.$to_n())}),h(m,"$console_time",function($){var t=v;return t=new Date().toISOString(),console.log("["+t+"] "+$)}),m.$private(),h(m,"$camelize",function($,t){var e=v,r=v;return t==null&&(t=!0),e=$.$to_s(),N(e["$include?"]("_"))?(r=e.$split("_"),N(t)?Q(r,"map",[],"capitalize".$to_proc()).$join():U([r.$first()],Q(r["$[]"](H(1,-1,!1)),"map",[],"capitalize".$to_proc())).$join()):N(t)?U(e["$[]"](0).$upcase(),e["$[]"](H(1,-1,!1)).$to_s()):U(e["$[]"](0).$downcase(),e["$[]"](H(1,-1,!1)).$to_s())},-2)}(g[0],g)}(b[0],b)}(w[0],w)}(W[0],W),ee(W[0],"StimulusHelpers",k(k(k(j("OpalVite"),"Concerns"),"V1"),"StimulusHelpers"))};Opal.modules["opal_vite/concerns/v1/vue_helpers"]=function(n){var A=n.module,h=n.def,N=n.lambda,M=n.send,Q=n.slice,Z=n.to_a,D=n.truthy,V=n.const_set,p=[],U=n.$r(p),$e=n.nil,X=n.$$$;return n.add_stubs("extend,Native,to_n,each,[]=,proc,call,map,to_a"),function(H,ee){var W=A(H,"OpalVite"),j=[W].concat(ee);return function(v,k){var I=A(v,"Concerns"),z=[I].concat(k);return function(L,w){var S=A(L,"V1"),B=[S].concat(w);return function(x){var b=A(x,"VueHelpers");return b.$extend(b),h(b,"$vue",function(){return window.Vue}),h(b,"$create_app",function(f){var E=this;return f==null&&(f=new Map),E.$Native(window.Vue.createApp(f.$to_n()))},-1),h(b,"$vue_ref",function(f){var E=this;return E.$Native(window.Vue.ref(f))}),h(b,"$vue_reactive",function(f){var E=this;return E.$Native(window.Vue.reactive(f.$to_n()))}),h(b,"$vue_computed",function s(){var f=s.$$p||$e,E=this;return s.$$p=null,E.$Native(window.Vue.computed(f))}),h(b,"$vue_watch",function s(f){var E=s.$$p||$e;return s.$$p=null,window.Vue.watch(f,E)}),h(b,"$data_fn",function(f){return N(function(){return f.$to_n()})}),h(b,"$methods_obj",function(f){var E=$e;return E=new Map,M(f,"each",[],function(c,l){var m;return c==null&&(c=$e),l==null&&(l=$e),m=[c,l],M(E,"[]=",m),m[m.length-1]}),E.$to_n()}),h(b,"$computed_obj",function(f){var E=$e;return E=new Map,M(f,"each",[],function(c,l){var m;return c==null&&(c=$e),l==null&&(l=$e),m=[c,l],M(E,"[]=",m),m[m.length-1]}),E.$to_n()}),h(b,"$vue_fn",function s(){var f=s.$$p||$e;return s.$$p=null,function(){var E=f;return function(){return E.apply(this,arguments)}}()}),h(b,"$vue_method",function s(){var f=s.$$p||$e,E=this,g=$e;return s.$$p=null,g=M(E,"proc",[],function c(l){var m,C,_=c.$$s==null?this:c.$$s,a=$e;return m=Q(arguments),C=m,a=_.$Native(this),M(f,"call",[a].concat(Z(C)))},{$$arity:-1,$$s:E}),function(){var c=g;return function(){return c.apply(this,arguments)}}()}),h(b,"$vue_computed_fn",function s(){var f=s.$$p||$e,E=this,g=$e;return s.$$p=null,g=M(E,"proc",[],function c(){var l=c.$$s==null?this:c.$$s,m=$e;return m=l.$Native(this),f.$call(m)},{$$s:E}),function(){var c=g;return function(){return c.apply(this,arguments)}}()}),h(b,"$vue_hook",function s(){var f=s.$$p||$e,E=this,g=$e;return s.$$p=null,g=M(E,"proc",[],function c(){var l=c.$$s==null?this:c.$$s,m=$e;return m=l.$Native(this),f.$call(m)},{$$s:E}),function(){var c=g;return function(){return c.apply(this,arguments)}}()}),h(b,"$on_mounted",function s(){var f=s.$$p||$e;return s.$$p=null,window.Vue.onMounted(f)}),h(b,"$on_unmounted",function s(){var f=s.$$p||$e;return s.$$p=null,window.Vue.onUnmounted(f)}),h(b,"$on_updated",function s(){var f=s.$$p||$e;return s.$$p=null,window.Vue.onUpdated(f)}),h(b,"$on_before_mount",function s(){var f=s.$$p||$e;return s.$$p=null,window.Vue.onBeforeMount(f)}),h(b,"$on_before_unmount",function s(){var f=s.$$p||$e;return s.$$p=null,window.Vue.onBeforeUnmount(f)}),h(b,"$window_get",function(f){return window[f]}),h(b,"$window_set",function(f,E){return window[f]=E}),h(b,"$console_log",function(f){var E,g;return E=Q(arguments),g=E,console.log(...g)},-1),h(b,"$console_warn",function(f){var E,g;return E=Q(arguments),g=E,console.warn(...g)},-1),h(b,"$console_error",function(f){var E,g;return E=Q(arguments),g=E,console.error(...g)},-1),h(b,"$on_dom_ready",function s(){var f=s.$$p||$e;return s.$$p=null,document.addEventListener("DOMContentLoaded",f)}),h(b,"$query",function(f){var E=this,g=$e;return g=document.querySelector(f),D(g===null)?$e:E.$Native(g)}),h(b,"$query_all",function(f){var E=this,g=$e;return g=Array.from(document.querySelectorAll(f)),M(E.$Native(g).$to_a(),"map",[],function c(l){var m=c.$$s==null?this:c.$$s;return l==null&&(l=$e),m.$Native(l)},{$$s:E})}),h(b,"$get_element_by_id",function(f){var E=this,g=$e;return g=document.getElementById(f),D(g===null)?$e:E.$Native(g)}),h(b,"$set_timeout",function s(f){var E=s.$$p||$e;return s.$$p=null,setTimeout(E,f)}),h(b,"$set_interval",function s(f){var E=s.$$p||$e;return s.$$p=null,setInterval(E,f)}),h(b,"$clear_timeout",function(f){return clearTimeout(f)}),h(b,"$clear_interval",function(f){return clearInterval(f)}),h(b,"$storage_get",function(f){return localStorage.getItem(f)}),h(b,"$storage_set",function(f,E){return localStorage.setItem(f,E)}),h(b,"$storage_remove",function(f){return localStorage.removeItem(f)}),h(b,"$parse_json",function(f){return JSON.parse(f)}),h(b,"$to_json_string",function(f){return JSON.stringify(f)}),h(b,"$parse_int",function(f,E){return E==null&&(E=10),parseInt(f,E)},-2),h(b,"$parse_float",function(f){return parseFloat(f)}),h(b,"$is_nan?",function(f){return Number.isNaN(f)})}(B[0])}(z[0],z)}(j[0],j)}(p[0],p),V(p[0],"VueHelpers",X(X(X(U("OpalVite"),"Concerns"),"V1"),"VueHelpers"))};Opal.modules["opal_vite/concerns/v1/react_helpers"]=function(n){var A=n.module,h=n.def,N=n.slice,M=n.truthy,Q=n.send,Z=n.to_a,D=n.const_set,V=[],p=n.$r(V),U=n.nil,$e=n.$$$;return n.add_stubs("Native,map,to_a,createElement,react,call,to_n,parse_int,is_nan?,parse_float"),function(X,H){var ee=A(X,"OpalVite"),W=[ee].concat(H);return function(j,v){var k=A(j,"Concerns"),I=[k].concat(v);return function(z,L){var w=A(z,"V1"),S=[w].concat(L);return function(B){var x=A(B,"ReactHelpers");return h(x,"$react",function(){var s=this;return s.$Native(window.React)}),h(x,"$react_dom",function(){var s=this;return s.$Native(window.ReactDOM)}),h(x,"$window_get",function(s){return window[s]}),h(x,"$window_set",function(s,f){return window[s]=f}),h(x,"$window_delete",function(s){return delete window[s]}),h(x,"$console_log",function(s){var f,E;return f=N(arguments),E=f,console.log(...E)},-1),h(x,"$console_warn",function(s){var f,E;return f=N(arguments),E=f,console.warn(...E)},-1),h(x,"$console_error",function(s){var f,E;return f=N(arguments),E=f,console.error(...E)},-1),h(x,"$alert_message",function(s){return alert(s)}),h(x,"$confirm_message",function(s){return confirm(s)}),h(x,"$prompt_message",function(s,f){return f==null&&(f=""),prompt(s,f)},-2),h(x,"$on_dom_ready",function b(){var s=b.$$p||U;return b.$$p=null,document.addEventListener("DOMContentLoaded",s)}),h(x,"$on_window_event",function b(s){var f=b.$$p||U;return b.$$p=null,window.addEventListener(s,f)}),h(x,"$off_window_event",function(s,f){return window.removeEventListener(s,f)}),h(x,"$query",function(s){var f=this,E=U;return E=document.querySelector(s),M(E===null)?U:f.$Native(E)}),h(x,"$query_all",function(s){var f=this,E=U;return E=Array.from(document.querySelectorAll(s)),Q(f.$Native(E).$to_a(),"map",[],function g(c){var l=g.$$s==null?this:g.$$s;return c==null&&(c=U),l.$Native(c)},{$$s:f})}),h(x,"$get_element_by_id",function(s){var f=this,E=U;return E=document.getElementById(s),M(E===null)?U:f.$Native(E)}),h(x,"$create_element",function(s){return document.createElement(s)}),h(x,"$set_html",function(s,f){return s.innerHTML=f}),h(x,"$set_text",function(s,f){return s.textContent=f}),h(x,"$add_class",function(s,f){var E,g;return E=N(arguments,1),g=E,s.classList.add(...g)},-2),h(x,"$remove_class",function(s,f){var E,g;return E=N(arguments,1),g=E,s.classList.remove(...g)},-2),h(x,"$el",function(s,f,E){var g,c,l,m=this;return g=N(arguments,1),g.length>0&&(c=g.shift()),c==null&&(c=U),l=g,Q(m.$react(),"createElement",[s,c].concat(Z(l)))},-2),h(x,"$div",function b(s,f){var E=b.$$p||U,g,c,l,m=this;return b.$$p=null,g=N(arguments),g.length>0&&(c=g.shift()),c==null&&(c=U),l=g,E!==U?m.$react().$createElement("div",c,E.$call()):Q(m.$react(),"createElement",["div",c].concat(Z(l)))},-1),h(x,"$span",function b(s,f){var E=b.$$p||U,g,c,l,m=this;return b.$$p=null,g=N(arguments),g.length>0&&(c=g.shift()),c==null&&(c=U),l=g,E!==U?m.$react().$createElement("span",c,E.$call()):Q(m.$react(),"createElement",["span",c].concat(Z(l)))},-1),h(x,"$button",function b(s,f){var E=b.$$p||U,g,c,l,m=this;return b.$$p=null,g=N(arguments),g.length>0&&(c=g.shift()),c==null&&(c=U),l=g,E!==U?m.$react().$createElement("button",c,E.$call()):Q(m.$react(),"createElement",["button",c].concat(Z(l)))},-1),h(x,"$paragraph",function b(s,f){var E=b.$$p||U,g,c,l,m=this;return b.$$p=null,g=N(arguments),g.length>0&&(c=g.shift()),c==null&&(c=U),l=g,E!==U?m.$react().$createElement("p",c,E.$call()):Q(m.$react(),"createElement",["p",c].concat(Z(l)))},-1),h(x,"$h1",function(s,f){var E,g,c,l=this;return E=N(arguments),E.length>0&&(g=E.shift()),g==null&&(g=U),c=E,Q(l.$react(),"createElement",["h1",g].concat(Z(c)))},-1),h(x,"$h2",function(s,f){var E,g,c,l=this;return E=N(arguments),E.length>0&&(g=E.shift()),g==null&&(g=U),c=E,Q(l.$react(),"createElement",["h2",g].concat(Z(c)))},-1),h(x,"$h3",function(s,f){var E,g,c,l=this;return E=N(arguments),E.length>0&&(g=E.shift()),g==null&&(g=U),c=E,Q(l.$react(),"createElement",["h3",g].concat(Z(c)))},-1),h(x,"$set_timeout",function b(s){var f=b.$$p||U;return b.$$p=null,setTimeout(f,s)}),h(x,"$set_interval",function b(s){var f=b.$$p||U;return b.$$p=null,setInterval(f,s)}),h(x,"$clear_timeout",function(s){return clearTimeout(s)}),h(x,"$clear_interval",function(s){return clearInterval(s)}),h(x,"$storage_get",function(s){return localStorage.getItem(s)}),h(x,"$storage_set",function(s,f){return localStorage.setItem(s,f)}),h(x,"$storage_remove",function(s){return localStorage.removeItem(s)}),h(x,"$fetch_url",function(s,f){var E=this;return f==null&&(f=U),M(f)?E.$Native(fetch(s,f.$to_n())):E.$Native(fetch(s))},-2),h(x,"$parse_json",function(s){return JSON.parse(s)}),h(x,"$to_json",function(s){return JSON.stringify(s)}),h(x,"$parse_int",function(s,f){return f==null&&(f=10),parseInt(s,f)},-2),h(x,"$parse_float",function(s){return parseFloat(s)}),h(x,"$is_nan?",function(s){return Number.isNaN(s)}),h(x,"$parse_int_or",function(s,f){var E=this,g=U;return f==null&&(f=0),g=E.$parse_int(s),M(E["$is_nan?"](g))?f:g},-2),h(x,"$parse_float_or",function(s,f){var E=this,g=U;return f==null&&(f=0),g=E.$parse_float(s),M(E["$is_nan?"](g))?f:g},-2)}(S[0])}(I[0],I)}(W[0],W)}(V[0],V),D(V[0],"ReactHelpers",$e($e($e(p("OpalVite"),"Concerns"),"V1"),"ReactHelpers"))};Opal.modules["opal_vite/concerns/v1/uri_helpers"]=function(n){var A=n.module,h=n.def,N=n.truthy,M=n.send,Q=n.not,Z=n.rb_plus,D=n.range,V=n.slice,p=n.const_set,U=[],$e=n.$r(U),X=n.nil,H=n.$$$;return n.add_stubs("[]=,[],!,empty?,to_s,+,parse_url,each,url_set_param,url_to_string,start_with?,join,reject,map,gsub,to_proc,last,split,pop,path_basename,rindex"),function(ee,W){var j=A(ee,"OpalVite"),v=[j].concat(W);return function(k,I){var z=A(k,"Concerns"),L=[z].concat(I);return function(w,S){var B=A(w,"V1"),x=[B].concat(S);return function(b,s){var f=A(b,"URIHelpers"),E=[f].concat(s),g=n.$r(E);return h(f,"$parse_url",function(l){try{return new URL(l)}catch(m){if(n.rescue(m,[g("StandardError")]))try{return X}finally{n.pop_exception(m)}else throw m}}),h(f,"$parse_url_with_base",function(l,m){try{return new URL(l,m)}catch(C){if(n.rescue(C,[g("StandardError")]))try{return X}finally{n.pop_exception(C)}else throw C}}),h(f,"$current_url",function(){return new URL(window.location.href)}),h(f,"$url_protocol",function(l){return l.protocol}),h(f,"$url_hostname",function(l){return l.hostname}),h(f,"$url_host",function(l){return l.host}),h(f,"$url_port",function(l){return l.port}),h(f,"$url_pathname",function(l){return l.pathname}),h(f,"$url_search",function(l){return l.search}),h(f,"$url_hash",function(l){return l.hash}),h(f,"$url_origin",function(l){return l.origin}),h(f,"$url_to_string",function(l){return l.href}),h(f,"$url_param",function(l,m){var C=X;return C=l.searchParams.get(m),N(C===null)?X:C}),h(f,"$url_params",function(l,m){return Array.from(l.searchParams.getAll(m))}),h(f,"$url_has_param?",function(l,m){return l.searchParams.has(m)}),h(f,"$url_all_params",function(l){var m,C=X;return C=new Map,l.searchParams.forEach((_,a)=>{m=[a,_],M(C,"[]=",m),m[m.length-1]}),C}),h(f,"$url_set_param",function(l,m,C){return l.searchParams.set(m,C)}),h(f,"$url_append_param",function(l,m,C){return l.searchParams.append(m,C)}),h(f,"$url_delete_param",function(l,m){return l.searchParams.delete(m)}),h(f,"$build_url",function(l){var m=this,C=X,_=X,a=X,$=X,t=X,e=X,r=X,i=X,u=X;return l==null&&(l=new Map),C=N(_=l["$[]"]("protocol"))?_:"https:",a=N(_=l["$[]"]("hostname"))?_:"localhost",$=l["$[]"]("port"),t=N(_=l["$[]"]("pathname"))?_:"/",e=N(_=l["$[]"]("params"))?_:new Map,r=l["$[]"]("hash"),i=""+C+"//"+a,N($)&&Q($.$to_s()["$empty?"]())&&(i=Z(i,":"+$)),i=Z(i,t),u=m.$parse_url(i),N(u)?(M(e,"each",[],function o(y,R){var P=o.$$s==null?this:o.$$s;return y==null&&(y=X),R==null&&(R=X),P.$url_set_param(u,y.$to_s(),R.$to_s())},{$$s:m}),N(r)&&(u.hash=r),m.$url_to_string(u)):X},-1),h(f,"$encode_uri_component",function(l){return encodeURIComponent(l)}),h(f,"$decode_uri_component",function(l){try{return decodeURIComponent(l)}catch(m){if(n.rescue(m,[g("StandardError")]))try{return l}finally{n.pop_exception(m)}else throw m}}),h(f,"$encode_uri",function(l){return encodeURI(l)}),h(f,"$decode_uri",function(l){try{return decodeURI(l)}catch(m){if(n.rescue(m,[g("StandardError")]))try{return l}finally{n.pop_exception(m)}else throw m}}),h(f,"$parse_query_string",function(l){var m,C=X,_=X,a=X;return C=l.$to_s(),N(C["$start_with?"]("?"))&&(C=C["$[]"](D(1,-1,!1))),_=new Map,a=new URLSearchParams(C),a.forEach(($,t)=>{m=[t,$],M(_,"[]=",m),m[m.length-1]}),_}),h(f,"$build_query_string",function(l){var m=X;return m=new URLSearchParams,M(l,"each",[],function(_,a){return _==null&&(_=X),a==null&&(a=X),m.append(_.$to_s(),a.$to_s())}),m.toString()}),h(f,"$join_path",function(l){var m,C;return m=V(arguments),C=m,M(M(C,"map",[],function(a){return a==null&&(a=X),a.$to_s().$gsub(/^\/|\/$/,"")}),"reject",[],"empty?".$to_proc()).$join("/")},-1),h(f,"$path_basename",function(l){var m=X;return N(m=l.$to_s().$split("/").$last())?m:""}),h(f,"$path_dirname",function(l){var m=X,C=X;return m=l.$to_s().$split("/"),m.$pop(),N(C=m.$join("/"))?C:"/"}),h(f,"$path_extname",function(l){var m=this,C=X,_=X;return C=m.$path_basename(l),_=C.$rindex("."),N(_)?C["$[]"](n.Range.$new(_,-1,!1)):""})}(x[0],x)}(L[0],L)}(v[0],v)}(U[0],U),p(U[0],"URIHelpers",H(H(H($e("OpalVite"),"Concerns"),"V1"),"URIHelpers"))};Opal.modules["opal_vite/concerns/v1/base64_helpers"]=function(n){var A=n.module,h=n.def,N=n.truthy,M=n.rb_plus,Q=n.range,Z=n.neqeq,D=n.rb_minus,V=n.rb_divide,p=n.rb_times,U=n.const_set,$e=[],X=n.$r($e),H=n.nil,ee=n.$$$;return n.add_stubs("base64_encode,gsub,%,length,+,base64_decode,base64_encode_unicode,start_with?,to_s,base64_decode_unicode,[],split,!=,base64_decode_urlsafe,decode_jwt_payload,empty?,nil?,end_with?,-,/,*"),function(W,j){var v=A(W,"OpalVite"),k=[v].concat(j);return function(I,z){var L=A(I,"Concerns"),w=[L].concat(z);return function(S,B){var x=A(S,"V1"),b=[x].concat(B);return function(s,f){var E=A(s,"Base64Helpers"),g=[E].concat(f),c=n.$r(g);return h(E,"$base64_encode",function(m){try{return btoa(m)}catch(C){if(n.rescue(C,[c("StandardError")]))try{return H}finally{n.pop_exception(C)}else throw C}}),h(E,"$base64_decode",function(m){try{return atob(m)}catch(C){if(n.rescue(C,[c("StandardError")]))try{return H}finally{n.pop_exception(C)}else throw C}}),h(E,"$base64_encode_urlsafe",function(m){var C=this,_=H;return _=C.$base64_encode(m),N(_)?_.$gsub("+","-").$gsub("/","_").$gsub("=",""):H}),h(E,"$base64_decode_urlsafe",function(m){var C=this,_=H;switch(_=m.$gsub("-","+").$gsub("_","/"),_.$length()["$%"](4).valueOf()){case 2:_=M(_,"==");break;case 3:_=M(_,"=");break}return C.$base64_decode(_)}),h(E,"$base64_encode_unicode",function(m){try{return btoa(unescape(encodeURIComponent(m)))}catch(C){if(n.rescue(C,[c("StandardError")]))try{return H}finally{n.pop_exception(C)}else throw C}}),h(E,"$base64_decode_unicode",function(m){try{return decodeURIComponent(escape(atob(m)))}catch(C){if(n.rescue(C,[c("StandardError")]))try{return H}finally{n.pop_exception(C)}else throw C}}),h(E,"$base64_encode_buffer",function(m){try{for(var C=new Uint8Array(m),_="",a=0;a<C.byteLength;a++)_+=String.fromCharCode(C[a]);return btoa(_)}catch($){if(n.rescue($,[c("StandardError")]))try{return H}finally{n.pop_exception($)}else throw $}}),h(E,"$base64_decode_to_buffer",function(m){try{for(var C=atob(m),_=new Uint8Array(C.length),a=0;a<C.length;a++)_[a]=C.charCodeAt(a);return _}catch($){if(n.rescue($,[c("StandardError")]))try{return H}finally{n.pop_exception($)}else throw $}}),h(E,"$to_data_url",function(m,C){var _=this,a=H;return C==null&&(C="text/plain"),a=_.$base64_encode_unicode(m),N(a)?"data:"+C+";base64,"+a:H},-2),h(E,"$parse_data_url",function(m){var C=this,_=H;return!N(m.$to_s()["$start_with?"]("data:"))||(_=m.match(/^data:([^;]+);base64,(.+)$/),N(_===null))?H:new Map([["mime_type",_[1]],["data",C.$base64_decode_unicode(_[2])]])}),h(E,"$basic_auth_header",function(m,C){var _=this,a=H,$=H;return a=""+m+":"+C,$=_.$base64_encode(a),"Basic "+$}),h(E,"$parse_basic_auth",function(m){var C=this,_=H,a=H,$=H;return!N(m.$to_s()["$start_with?"]("Basic "))||(_=m["$[]"](Q(6,-1,!1)),a=C.$base64_decode(_),!N(a))||($=a.$split(":",2),Z($.$length(),2))?H:new Map([["username",$["$[]"](0)],["password",$["$[]"](1)]])}),h(E,"$decode_jwt_payload",function(m){var C=this,_=H,a=H,$=H;try{return _=m.$to_s().$split("."),Z(_.$length(),3)||(a=_["$[]"](1),$=C.$base64_decode_urlsafe(a),!N($))?H:JSON.parse($)}catch(t){if(n.rescue(t,[c("StandardError")]))try{return H}finally{n.pop_exception(t)}else throw t}}),h(E,"$jwt_expired?",function(m){var C=this,_=H,a=H,$=H;return _=C.$decode_jwt_payload(m),N(_)?(a=_.exp,N(a==null)?!1:($=Math.floor(Date.now()/1e3),a<$)):!0}),h(E,"$jwt_expires_at",function(m){var C=this,_=H,a=H;return _=C.$decode_jwt_payload(m),!N(_)||(a=_.exp,N(a==null))?H:new Date(a*1e3)}),h(E,"$valid_base64?",function(m){if(N(m["$nil?"]())||N(m["$empty?"]()))return!1;var C=/^[A-Za-z0-9+/]*={0,2}$/;if(!C.test(m)||m.length%4!==0)return!1;try{return atob(m),!0}catch{return!1}}),h(E,"$base64_decoded_length",function(m){var C=H,_=H;return N(m["$nil?"]())||N(m["$empty?"]())?0:(C=m.$length(),_=N(m["$end_with?"]("=="))?2:N(m["$end_with?"]("="))?1:0,D(V(p(C,3),4),_))})}(b[0],b)}(w[0],w)}(k[0],k)}($e[0],$e),U($e[0],"Base64Helpers",ee(ee(ee(X("OpalVite"),"Concerns"),"V1"),"Base64Helpers"))};Opal.modules["opal_vite/concerns/v1"]=function(n){var A=n.top;return n.nil,n.add_stubs("require"),A.$require("opal_vite/concerns/v1/js_proxy_ex"),A.$require("opal_vite/concerns/v1/dom_helpers"),A.$require("opal_vite/concerns/v1/toastable"),A.$require("opal_vite/concerns/v1/storable"),A.$require("opal_vite/concerns/v1/stimulus_helpers"),A.$require("opal_vite/concerns/v1/vue_helpers"),A.$require("opal_vite/concerns/v1/react_helpers"),A.$require("opal_vite/concerns/v1/uri_helpers"),A.$require("opal_vite/concerns/v1/base64_helpers")};Opal.modules["controllers/url_demo_controller"]=function(n){var A=n.klass,h=n.def,N=n.truthy,M=n.send,Q=n.rb_plus,Z=n.eqeq,D=[],V=n.$r(D),p=n.nil,U=n.$$$;return n.add_stubs("include,targets=,puts,parse_current,target_value,blank?,parse_url,show_output,url_protocol,url_hostname,url_port,url_pathname,url_search,url_hash,url_origin,url_all_params,empty?,join,map,+,current_url,target_set_value,url_to_string,parse,url_set_param,build_url,encode_uri_component,decode_uri_component,parse_query_string,build_query_string,to_n,private,has_target?,==,target_set_html"),function($e,X,H){var ee=A($e,X,"UrlDemoController"),W=[ee].concat(H),j=n.$r(W);return ee.$include(U(U(U(j("OpalVite"),"Concerns"),"V1"),"StimulusHelpers")),ee.$include(U(U(U(j("OpalVite"),"Concerns"),"V1"),"URIHelpers")),ee["$targets="](["urlInput","output","paramKey","paramValue"]),h(ee,"$connect",function(){var k=this;return k.$puts("UrlDemoController connected"),k.$parse_current()}),h(ee,"$parse",function(){var k=this,I=p,z=p,L=p,w=p,S=p,B=p;return I=k.$target_value("urlInput"),N(k["$blank?"](I))?p:(z=k.$parse_url(I),N(z)?(L=`<div class="space-y-2">
  <div><strong>Protocol:</strong> `+k.$url_protocol(z)+`</div>
  <div><strong>Hostname:</strong> `+k.$url_hostname(z)+`</div>
  <div><strong>Port:</strong> `+(N(w=k.$url_port(z))?w:"(default)")+`</div>
  <div><strong>Pathname:</strong> `+k.$url_pathname(z)+`</div>
  <div><strong>Search:</strong> `+(N(w=k.$url_search(z))?w:"(none)")+`</div>
  <div><strong>Hash:</strong> `+(N(w=k.$url_hash(z))?w:"(none)")+`</div>
  <div><strong>Origin:</strong> `+k.$url_origin(z)+`</div>
</div>
`,S=k.$url_all_params(z),N(S["$empty?"]())||(B=M(S,"map",[],function(b,s){return b==null&&(b=p),s==null&&(s=p),"<li><code>"+b+"</code> = <code>"+s+"</code></li>"}).$join(),L=Q(L,`<div class="mt-4">
  <strong>Query Parameters:</strong>
  <ul class="list-disc list-inside ml-4">`+B+`</ul>
</div>
`)),k.$show_output(L)):(k.$show_output("Invalid URL","error"),p))}),h(ee,"$parse_current",function(){var k=this,I=p;return I=k.$current_url(),k.$target_set_value("urlInput",k.$url_to_string(I)),k.$parse()}),h(ee,"$add_param",function(){var k=this,I=p,z=p,L=p,w=p,S=p;return I=k.$target_value("urlInput"),z=k.$target_value("paramKey"),L=k.$target_value("paramValue"),N(k["$blank?"](I))||N(k["$blank?"](z))||(w=k.$parse_url(I),!N(w))?p:(k.$url_set_param(w,z,N(S=L)?S:""),k.$target_set_value("urlInput",k.$url_to_string(w)),k.$target_set_value("paramKey",""),k.$target_set_value("paramValue",""),k.$parse())}),h(ee,"$build_example",function(){var k=this,I=p;return I=k.$build_url(new Map([["protocol","https:"],["hostname","api.example.com"],["port","8080"],["pathname","/v1/users"],["params",new Map([["page","1"],["limit","10"],["sort","name"]])],["hash","#results"]])),k.$target_set_value("urlInput",I),k.$parse()}),h(ee,"$encode_demo",function(){var k=this,I=p,z=p,L=p,w=p;return I="Hello World!  ",z=k.$encode_uri_component(I),L=k.$decode_uri_component(z),w=`<div class="space-y-2">
  <div><strong>Original:</strong> `+I+`</div>
  <div><strong>Encoded:</strong> <code>`+z+`</code></div>
  <div><strong>Decoded:</strong> `+L+`</div>
</div>
`,k.$show_output(w)}),h(ee,"$query_string_demo",function(){var k=this,I=p,z=p,L=p,w=p;return I="name=John&age=30&tags=ruby&tags=javascript",z=k.$parse_query_string(I),L=k.$build_query_string(new Map([["name","Jane"],["age","25"],["city","Tokyo"]])),w=`<div class="space-y-4">
  <div>
    <strong>Parse "`+I+`":</strong>
    <pre class="bg-gray-100 p-2 rounded mt-1">`+JSON.stringify(z.$to_n(),null,2)+`</pre>
  </div>
  <div>
    <strong>Build from {name: 'Jane', age: '25', city: 'Tokyo'}:</strong>
    <pre class="bg-gray-100 p-2 rounded mt-1">`+L+`</pre>
  </div>
</div>
`,k.$show_output(w)}),ee.$private(),h(ee,"$show_output",function(k,I){var z=this,L=p;return I==null&&(I="success"),N(z["$has_target?"]("output"))?(L=Z(I,"error")?"text-red-600":"text-gray-800",z.$target_set_html("output","<div class='"+L+"'>"+k+"</div>")):p},-2)}(D[0],V("StimulusController"),D)};Opal.modules["controllers/base64_demo_controller"]=function(n){var A=n.klass,h=n.return_val,N=n.defs,M=n.def,Q=n.truthy,Z=n.eqeq,D=[],V=n.$r(D),p=n.nil,U=n.$$$;return n.add_stubs("include,targets=,puts,target_value,blank?,show_output,base64_encode,base64_decode,base64_encode_urlsafe,base64_decode_urlsafe,base64_encode_unicode,base64_decode_unicode,to_data_url,parse_data_url,[],target_set_value,decode_jwt_payload,jwt_expired?,jwt_expires_at,basic_auth_header,parse_basic_auth,valid_base64?,base64_decoded_length,private,has_target?,==,target_set_html"),function($e,X,H){var ee=A($e,X,"Base64DemoController"),W=[ee].concat(H),j=n.$r(W);return ee.$include(U(U(U(j("OpalVite"),"Concerns"),"V1"),"StimulusHelpers")),ee.$include(U(U(U(j("OpalVite"),"Concerns"),"V1"),"Base64Helpers")),N(ee,"$stimulus_name",h("base64-demo")),ee["$targets="](["input","output","jwtInput","authUser","authPass"]),M(ee,"$connect",function(){var k=this;return k.$puts("Base64DemoController connected")}),M(ee,"$encode",function(){var k=this,I=p,z=p;return I=k.$target_value("input"),Q(k["$blank?"](I))?(k.$show_output("Please enter text to encode","error"),p):(z=k.$base64_encode(I),Q(z)?k.$show_output("Encoded: <code class='bg-gray-100 px-2 py-1 rounded'>"+z+"</code>"):k.$show_output("Encoding failed","error"))}),M(ee,"$decode",function(){var k=this,I=p,z=p;return I=k.$target_value("input"),Q(k["$blank?"](I))?p:(z=k.$base64_decode(I),Q(z)?k.$show_output("Decoded: <code class='bg-gray-100 px-2 py-1 rounded'>"+z+"</code>"):k.$show_output("Decoding failed - invalid Base64","error"))}),M(ee,"$urlsafe_demo",function(){var k=this,I=p,z=p,L=p,w=p,S=p;return I=k.$target_value("input"),Q(k["$blank?"](I))&&(I="Hello+World/Test=="),z=k.$base64_encode(I),L=k.$base64_encode_urlsafe(I),w=k.$base64_decode_urlsafe(L),S=`<div class="space-y-2">
  <div><strong>Original:</strong> `+I+`</div>
  <div><strong>Standard Base64:</strong> <code>`+z+`</code></div>
  <div><strong>URL-safe Base64:</strong> <code>`+L+`</code></div>
  <div><strong>Decoded back:</strong> `+w+`</div>
</div>
`,k.$show_output(S)}),M(ee,"$unicode_demo",function(){var k=this,I=p,z=p,L=p,w=p;return I="  mojis",z=k.$base64_encode_unicode(I),L=k.$base64_decode_unicode(z),w=`<div class="space-y-2">
  <div><strong>Original (Unicode):</strong> `+I+`</div>
  <div><strong>Base64 Encoded:</strong> <code>`+z+`</code></div>
  <div><strong>Decoded:</strong> `+L+`</div>
</div>
`,k.$show_output(w)}),M(ee,"$data_url_demo",function(){var k=this,I=p,z=p,L=p,w=p;return I="<h1>Hello from Data URL!</h1><p>This is embedded content.</p>",z=k.$to_data_url(I,"text/html"),L=k.$parse_data_url(z),w=`<div class="space-y-4">
  <div>
    <strong>Original HTML:</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm">`+I+`</pre>
  </div>
  <div>
    <strong>Data URL:</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm break-all">`+z+`</pre>
  </div>
  <div>
    <strong>Parsed back:</strong>
    <div>MIME Type: `+L["$[]"]("mime_type")+`</div>
    <div>Data: `+L["$[]"]("data")+`</div>
  </div>
  <div>
    <a href="`+z+`" target="_blank" class="text-blue-500 hover:underline">
      Open Data URL in new tab
    </a>
  </div>
</div>
`,k.$show_output(w)}),M(ee,"$decode_jwt",function(){var k=this,I=p,z=p,L=p,w=p,S=p,B=p;return I=k.$target_value("jwtInput"),Q(k["$blank?"](I))&&(I="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiZXhwIjoxNzM1Njg5NjAwLCJpYXQiOjE1MTYyMzkwMjJ9.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",k.$target_set_value("jwtInput",I)),z=k.$decode_jwt_payload(I),Q(z)?(L=k["$jwt_expired?"](I),w=k.$jwt_expires_at(I),S=Q(w)?w.toISOString():"No expiration",B=`<div class="space-y-4">
  <div>
    <strong>Payload:</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm">`+JSON.stringify(z,null,2)+`</pre>
  </div>
  <div>
    <strong>Expired:</strong>
    <span class="`+(Q(L)?"text-red-600":"text-green-600")+`">
      `+(Q(L)?"Yes":"No")+`
    </span>
  </div>
  <div>
    <strong>Expires at:</strong> `+S+`
  </div>
</div>
`,k.$show_output(B)):(k.$show_output("Failed to decode JWT - invalid format","error"),p)}),M(ee,"$basic_auth_demo",function(){var k=this,I=p,z=p,L=p,w=p,S=p;return I=k.$target_value("authUser"),z=k.$target_value("authPass"),Q(k["$blank?"](I))&&(I="admin"),Q(k["$blank?"](z))&&(z="secret123"),L=k.$basic_auth_header(I,z),w=k.$parse_basic_auth(L),S=`<div class="space-y-4">
  <div>
    <strong>Credentials:</strong> `+I+":"+z+`
  </div>
  <div>
    <strong>Authorization Header:</strong>
    <code class="bg-gray-100 px-2 py-1 rounded">`+L+`</code>
  </div>
  <div>
    <strong>Parsed back:</strong>
    <div>Username: `+w["$[]"]("username")+`</div>
    <div>Password: `+w["$[]"]("password")+`</div>
  </div>
</div>
`,k.$show_output(S)}),M(ee,"$validate_base64",function(){var k=this,I=p,z=p,L=p,w=p;return I=k.$target_value("input"),Q(k["$blank?"](I))?p:(z=k["$valid_base64?"](I),L=Q(z)?k.$base64_decoded_length(I):0,w=`<div class="space-y-2">
  <div>
    <strong>Valid Base64:</strong>
    <span class="`+(Q(z)?"text-green-600":"text-red-600")+`">
      `+(Q(z)?"Yes":"No")+`
    </span>
  </div>
  `+(Q(z)?"<div><strong>Decoded length:</strong> "+L+" bytes</div>":"")+`
</div>
`,k.$show_output(w))}),ee.$private(),M(ee,"$show_output",function(k,I){var z=this,L=p;return I==null&&(I="success"),Q(z["$has_target?"]("output"))?(L=Z(I,"error")?"text-red-600":"text-gray-800",z.$target_set_html("output","<div class='"+L+"'>"+k+"</div>")):p},-2)}(D[0],V("StimulusController"),D)};Opal.modules["controllers/validation_demo_controller"]=function(n){var A=n.klass,h=n.def,N=n.truthy,M=n.send,Q=n.eqeq,Z=[],D=n.$r(Z),V=n.nil,p=n.$$$;return n.add_stubs("include,targets=,puts,target_value,valid_email?,show_result,valid_url?,valid_phone?,blank?,present?,show_output,<<,min_length?,max_length?,join,map,[],matches_pattern?,nil?,private,has_target?,==,target_set_html"),function(U,$e,X){var H=A(U,$e,"ValidationDemoController"),ee=[H].concat(X),W=n.$r(ee);return H.$include(p(p(p(W("OpalVite"),"Concerns"),"V1"),"StimulusHelpers")),H["$targets="](["emailInput","urlInput","phoneInput","textInput","patternInput","output"]),h(H,"$connect",function(){var v=this;return v.$puts("ValidationDemoController connected")}),h(H,"$validate_email",function(){var v=this,k=V,I=V;return k=v.$target_value("emailInput"),I=v["$valid_email?"](k),v.$show_result("emailInput",I,N(I)?"Valid email address":"Invalid email format")}),h(H,"$validate_url",function(){var v=this,k=V,I=V;return k=v.$target_value("urlInput"),I=v["$valid_url?"](k),v.$show_result("urlInput",I,N(I)?"Valid URL":"Invalid URL format")}),h(H,"$validate_phone",function(){var v=this,k=V,I=V;return k=v.$target_value("phoneInput"),I=v["$valid_phone?"](k),v.$show_result("phoneInput",I,N(I)?"Valid phone number":"Invalid phone format")}),h(H,"$check_blank",function(){var v=this,k=V,I=V,z=V,L=V;return k=v.$target_value("textInput"),I=v["$blank?"](k),z=v["$present?"](k),L=`<div class="space-y-2">
  <div>
    <strong>blank?:</strong>
    <span class="`+(N(I)?"text-orange-600":"text-green-600")+'">'+I+`</span>
  </div>
  <div>
    <strong>present?:</strong>
    <span class="`+(N(z)?"text-green-600":"text-orange-600")+'">'+z+`</span>
  </div>
</div>
`,v.$show_output(L)}),h(H,"$check_length",function(){var v=this,k=V,I=V,z=V,L=V,w=V;return k=v.$target_value("textInput"),I=[],I["$<<"](new Map([["test","min_length?(3)"],["result",v["$min_length?"](k,3)]])),I["$<<"](new Map([["test","min_length?(10)"],["result",v["$min_length?"](k,10)]])),I["$<<"](new Map([["test","max_length?(50)"],["result",v["$max_length?"](k,50)]])),I["$<<"](new Map([["test","max_length?(5)"],["result",v["$max_length?"](k,5)]])),z=M(I,"map",[],function(B){var x=V;return B==null&&(B=V),x=N(B["$[]"]("result"))?"text-green-600":"text-red-600","<li><code>"+B["$[]"]("test")+"</code>: <span class='"+x+"'>"+B["$[]"]("result")+"</span></li>"}).$join(),L=N(k)?k.length:0,w=`<div class="space-y-2">
  <div><strong>Current length:</strong> `+L+`</div>
  <ul class="list-disc list-inside">`+z+`</ul>
</div>
`,v.$show_output(w)}),h(H,"$check_pattern",function(){var v=this,k=V,I=V,z=V,L=V;return k=v.$target_value("textInput"),I=v.$target_value("patternInput"),N(v["$blank?"](I))?(v.$show_output("Please enter a pattern","error"),V):(z=v["$matches_pattern?"](k,I),L=`<div class="space-y-2">
  <div><strong>Text:</strong> "`+k+`"</div>
  <div><strong>Pattern:</strong> /`+I+`/</div>
  <div>
    <strong>Matches:</strong>
    <span class="`+(N(z)?"text-green-600":"text-red-600")+'">'+z+`</span>
  </div>
</div>
`,v.$show_output(L))}),h(H,"$validate_all",function(){var v=this,k=V,I=V,z=V,L=V,w=V,S=V;return k=[],I=v.$target_value("emailInput"),k["$<<"](new Map([["field","Email"],["value",I],["valid",N(v["$present?"](I))?v["$valid_email?"](I):V]])),z=v.$target_value("urlInput"),k["$<<"](new Map([["field","URL"],["value",z],["valid",N(v["$present?"](z))?v["$valid_url?"](z):V]])),L=v.$target_value("phoneInput"),k["$<<"](new Map([["field","Phone"],["value",L],["valid",N(v["$present?"](L))?v["$valid_phone?"](L):V]])),w=M(k,"map",[],function(x){var b=V,s=V;return x==null&&(x=V),N(x["$[]"]("valid")["$nil?"]())?b="<span class='text-gray-400'>Empty</span>":N(x["$[]"]("valid"))?b="<span class='text-green-600'>Valid</span>":b="<span class='text-red-600'>Invalid</span>","<tr><td class='border px-2 py-1'>"+x["$[]"]("field")+"</td><td class='border px-2 py-1'>"+(N(s=x["$[]"]("value"))?s:"-")+"</td><td class='border px-2 py-1'>"+b+"</td></tr>"}).$join(),S=`<table class="w-full border-collapse">
  <thead>
    <tr class="bg-gray-100">
      <th class="border px-2 py-1 text-left">Field</th>
      <th class="border px-2 py-1 text-left">Value</th>
      <th class="border px-2 py-1 text-left">Status</th>
    </tr>
  </thead>
  <tbody>`+w+`</tbody>
</table>
`,v.$show_output(S)}),H.$private(),h(H,"$show_result",function(v,k,I){var z=this,L=V;return L=`<div class="flex items-center gap-2">
  <span class="`+(N(k)?"text-green-600":"text-red-600")+` text-xl">
    `+(N(k)?"":"")+`
  </span>
  <span>`+I+`</span>
</div>
`,z.$show_output(L)}),h(H,"$show_output",function(v,k){var I=this,z=V;return k==null&&(k="success"),N(I["$has_target?"]("output"))?(z=Q(k,"error")?"text-red-600":"text-gray-800",I.$target_set_html("output","<div class='"+z+"'>"+v+"</div>")):V},-2)}(Z[0],D("StimulusController"),Z)};Opal.modules["controllers/clipboard_demo_controller"]=function(n){var A=n.klass,h=n.def,N=n.truthy,M=n.send,Q=n.rb_plus,Z=[],D=n.$r(Z),V=n.nil,p=n.$$$;return n.add_stubs("include,targets=,puts,target_value,blank?,copy_to_clipboard,console_styled,show_toast,read_from_clipboard,target_set_value,debounced,+,target_set_html,throttled,console_time,unique,join,parse_array,union,intersection,difference,deep_clone,to_n,deep_merge,pick,omit,console_group,console_table,private,reject,map,split,to_proc,set_timeout"),function(U,$e,X){var H=A(U,$e,"ClipboardDemoController"),ee=[H].concat(X),W=n.$r(ee);return H.$include(p(p(p(W("OpalVite"),"Concerns"),"V1"),"StimulusHelpers")),H["$targets="](["copyInput","pasteOutput","searchInput","searchOutput","arr1","arr2","setOutput","obj1","obj2","objOutput"]),h(H,"$connect",function(){var v=this;return v.$puts("ClipboardDemoController connected"),v.search_count=0,v.throttle_count=0}),h(H,"$copy",function(){var v=this,k=V;return k=v.$target_value("copyInput"),N(v["$blank?"](k))?V:M(v,"copy_to_clipboard",[k],function I(){var z=I.$$s==null?this:I.$$s;return z.$console_styled("Copied to clipboard: "+k,"color: green;"),z.$show_toast("Copied!")},{$$s:v})}),h(H,"$paste",function(){var v=this;return M(v,"read_from_clipboard",[],function k(I){var z=k.$$s==null?this:k.$$s;return I==null&&(I=V),z.$target_set_value("pasteOutput",I),z.$console_styled("Pasted from clipboard","color: blue;")},{$$s:v})}),h(H,"$search_debounced",function(){var v=this;return M(v,"debounced",[300,"search"],function k(){var I=k.$$s==null?this:k.$$s,z=V;return I.search_count==null&&(I.search_count=V),I.search_count=Q(I.search_count,1),z=I.$target_value("searchInput"),I.$target_set_html("searchOutput","Searching for: <strong>"+z+"</strong><br>"+("<small>Search triggered "+I.search_count+" time(s)</small>"))},{$$s:v})}),h(H,"$throttled_action",function(){var v=this;return M(v,"throttled",[1e3,"click"],function k(){var I=k.$$s==null?this:k.$$s;return I.throttle_count==null&&(I.throttle_count=V),I.throttle_count=Q(I.throttle_count,1),I.$console_time("Throttled action executed ("+I.throttle_count+")"),I.$show_toast("Throttled! Count: "+I.throttle_count)},{$$s:v})}),h(H,"$unique_demo",function(){var v=this,k=V,I=V,z=V;return k=[1,2,2,3,3,3,4,5,5],I=v.$unique(k),z=`<div class="space-y-2">
  <div><strong>Original:</strong> [`+k.$join(", ")+`]</div>
  <div><strong>unique():</strong> [`+I.$join(", ")+`]</div>
</div>
`,v.$target_set_html("setOutput",z)}),h(H,"$set_operations",function(){var v=this,k=V,I=V,z=V,L=V,w=V,S=V,B=V,x=V;return k=v.$target_value("arr1"),I=v.$target_value("arr2"),z=v.$parse_array(k),L=v.$parse_array(I),w=v.$union(z,L),S=v.$intersection(z,L),B=v.$difference(z,L),x=`<div class="space-y-2">
  <div><strong>Array 1:</strong> [`+z.$join(", ")+`]</div>
  <div><strong>Array 2:</strong> [`+L.$join(", ")+`]</div>
  <hr class="my-2">
  <div><strong>union():</strong> [`+w.$join(", ")+`]</div>
  <div><strong>intersection():</strong> [`+S.$join(", ")+`]</div>
  <div><strong>difference():</strong> [`+B.$join(", ")+`]</div>
</div>
`,v.$target_set_html("setOutput",x)}),h(H,"$deep_clone_demo",function(){var v=this,k=V,I=V,z=V;return k=new Map([["name","John"],["nested",new Map([["city","Tokyo"],["data",[1,2,3]]])]]),I=v.$deep_clone(k),I.nested.city="Osaka",z=`<div class="space-y-2">
  <div>
    <strong>Original:</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm">`+JSON.stringify(k.$to_n(),null,2)+`</pre>
  </div>
  <div>
    <strong>Cloned (modified):</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm">`+JSON.stringify(I,null,2)+`</pre>
  </div>
  <div class="text-sm text-gray-600">
    Note: Original is unchanged even after modifying the clone
  </div>
</div>
`,v.$target_set_html("objOutput",z)}),h(H,"$deep_merge_demo",function(){var v=this,k=V,I=V,z=V,L=V;return k=new Map([["name","John"],["address",new Map([["city","Tokyo"]])],["tags",["ruby"]]]),I=new Map([["age",30],["address",new Map([["zip","100-0001"]])],["tags",["javascript"]]]),z=v.$deep_merge(k,I),L=`<div class="space-y-2">
  <div>
    <strong>Target:</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm">`+JSON.stringify(k.$to_n(),null,2)+`</pre>
  </div>
  <div>
    <strong>Source:</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm">`+JSON.stringify(I.$to_n(),null,2)+`</pre>
  </div>
  <div>
    <strong>deep_merge():</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm">`+JSON.stringify(z,null,2)+`</pre>
  </div>
</div>
`,v.$target_set_html("objOutput",L)}),h(H,"$pick_omit_demo",function(){var v=this,k=V,I=V,z=V,L=V;return k=new Map([["id",1],["name","John"],["email","john@example.com"],["password","secret"],["role","admin"]]),I=v.$pick(k,"id","name","email"),z=v.$omit(k,"password"),L=`<div class="space-y-2">
  <div>
    <strong>Original:</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm">`+JSON.stringify(k.$to_n(),null,2)+`</pre>
  </div>
  <div>
    <strong>pick(:id, :name, :email):</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm">`+JSON.stringify(I.$to_n(),null,2)+`</pre>
  </div>
  <div>
    <strong>omit(:password):</strong>
    <pre class="bg-gray-100 p-2 rounded text-sm">`+JSON.stringify(z.$to_n(),null,2)+`</pre>
  </div>
</div>
`,v.$target_set_html("objOutput",L)}),h(H,"$console_demo",function(){var v=this;return v.$console_styled("This is a styled message!","color: purple; font-size: 16px;"),M(v,"console_group",["Group Demo",new Map([["collapsed",!1]])],function k(){var I=k.$$s==null?this:k.$$s;return I.$puts("Message 1"),I.$puts("Message 2"),I.$console_table([new Map([["name","Alice"],["age",25]]),new Map([["name","Bob"],["age",30]]),new Map([["name","Charlie"],["age",35]])])},{$$s:v}),v.$console_time("This message has a timestamp"),v.$show_toast("Check the browser console!")}),H.$private(),h(H,"$parse_array",function(v){var k=this;return N(k["$blank?"](v))?[]:M(M(v.$split(","),"map",[],"strip".$to_proc()),"reject",[],"empty?".$to_proc())}),h(H,"$show_toast",function(v){var k=this,I=V;return I=document.createElement("div"),I.className="fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg z-50",I.textContent=v,document.body.appendChild(I),M(k,"set_timeout",[2e3],function(){return I.remove()})})}(Z[0],D("StimulusController"),Z)};Opal.queue(function(n){var A=n.top,h=[],N=n.$r(h);return n.nil,n.add_stubs("require,puts,register_all!"),A.$require("native"),A.$require("opal_stimulus/stimulus_controller"),A.$require("opal_vite/concerns/v1"),A.$require("controllers/url_demo_controller"),A.$require("controllers/base64_demo_controller"),A.$require("controllers/validation_demo_controller"),A.$require("controllers/clipboard_demo_controller"),A.$puts("Utilities App loaded!"),A.$puts("Ruby version: "+N("RUBY_VERSION")),N("StimulusController")["$register_all!"](),A.$puts("All controllers registered!")});
