Opal.modules.native=function(n){var A=n.hash_put,w=n.module,K=n.defs,I=n.slice,ee=n.truthy,Z=n.send,T=n.Kernel,G=n.extract_kwargs,m=n.ensure_kwargs,P=n.hash_get,ie=n.range,W=n.to_a,X=n.def,re=n.return_ivar,J=n.alias,q=n.klass,p=n.rb_minus,M=n.return_val,U=n.send2,S=n.find_super,F=n.eqeqeq,v=n.rb_ge,z=n.return_self,C=n.gvars,x=n.top,y=[],u=n.$r(y),d=n.nil,k=n.$$$;return n.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(h,c){var l=w(h,"Native"),E=[l].concat(c),B=n.$r(E);return K(l,"$is_a?",function(s,$){var t=this;try{return s instanceof t.$try_convert($)}catch{return!1}}),K(l,"$try_convert",function(s,$){var t=this;return $==null&&($=d),t["$native?"](s)?s:s["$respond_to?"]("to_n")?s.$to_n():$},-2),K(l,"$convert",function(s){var $=this;if($["$native?"](s))return s;if(s["$respond_to?"]("to_n"))return s.$to_n();$.$raise(B("ArgumentError"),""+s.$inspect()+" isn't native")}),K(l,"$call",function _(s,$,t){var e=_.$$p||d,r,i,a=this;_.$$p=null,r=I(arguments,2),i=r;var o=s[$];if(o instanceof Function){for(var g=new Array(i.length),N=0,D=i.length;N<D;N++){var R=i[N],V=a.$try_convert(R);g[N]=V===d?R:V}return e!==d&&g.push(e),a.$Native(o.apply(s,g))}else return a.$Native(o)},-3),K(l,"$proc",function _(){var s=_.$$p||d,$=this;return _.$$p=null,ee(s)||$.$raise(B("LocalJumpError"),"no block given"),Z(T,"proc",[],function t(e){var r,i,a=t.$$s==null?this:t.$$s,o=d;if(r=I(arguments),i=r,Z(i,"map!",[],function N(D){var R=N.$$s==null?this:N.$$s;return D==null&&(D=d),R.$Native(D)},{$$s:a}),o=a.$Native(this),this===n.global)return s.apply(a,i);var g=s.$$s;s.$$s=null;try{return s.apply(o,i)}finally{s.$$s=g}},{$$arity:-1,$$s:$})}),function(_,s){var $=w(_,"Helpers"),t=[$].concat(s),e=n.$r(t);return X($,"$alias_native",function r(i,a,o){var g,N,D,R;r.$$p;var V=this;return r.$$p=null,g=I(arguments,1),N=G(g),N=m(N),g.length>0&&(D=g.shift()),D==null&&(D=i),R=P(N,"as"),R==null&&(R=d),ee(D["$end_with?"]("="))?Z(V,"define_method",[i],function O(ae){var le=O.$$s==null?this:O.$$s;return le.native==null&&(le.native=d),ae==null&&(ae=d),le.native[D["$[]"](ie(0,-2,!1))]=e("Native").$convert(ae),ae},{$$s:V}):ee(R)?Z(V,"define_method",[i],function O(ae){var le=O.$$p||d,_e,de,ge=O.$$s==null?this:O.$$s,ve=d;return ge.native==null&&(ge.native=d),O.$$p=null,_e=I(arguments),de=_e,ve=Z(e("Native"),"call",[ge.native,D].concat(W(de)),le.$to_proc()),ee(ve)?R.$new(ve.$to_n()):d},{$$arity:-1,$$s:V}):Z(V,"define_method",[i],function O(ae){var le=O.$$p||d,_e,de,ge=O.$$s==null?this:O.$$s;return ge.native==null&&(ge.native=d),O.$$p=null,_e=I(arguments),de=_e,Z(e("Native"),"call",[ge.native,D].concat(W(de)),le.$to_proc())},{$$arity:-1,$$s:V})},-2),X($,"$native_reader",function(i){var a,o,g=this;return a=I(arguments),o=a,Z(o,"each",[],function N(D){var R=N.$$s==null?this:N.$$s;return D==null&&(D=d),Z(R,"define_method",[D],function V(){var O=V.$$s==null?this:V.$$s;return O.native==null&&(O.native=d),O.$Native(O.native[D])},{$$s:R})},{$$s:g})},-1),X($,"$native_writer",function(i){var a,o,g=this;return a=I(arguments),o=a,Z(o,"each",[],function N(D){var R=N.$$s==null?this:N.$$s;return D==null&&(D=d),Z(R,"define_method",[""+D+"="],function V(O){var ae=V.$$s==null?this:V.$$s;return ae.native==null&&(ae.native=d),O==null&&(O=d),ae.$Native(ae.native[D]=O)},{$$s:R})},{$$s:g})},-1),X($,"$native_accessor",function(i){var a,o,g=this;return a=I(arguments),o=a,Z(g,"native_reader",W(o)),Z(g,"native_writer",W(o))},-1)}(E[0],E),function(_,s){var $=w(_,"Wrapper"),t=[$].concat(s),e=n.$r(t);return X($,"$initialize",function(i){var a=this;return ee(T["$native?"](i))||T.$raise(e("ArgumentError"),""+i.$inspect()+" isn't native"),a.native=i}),X($,"$to_n",re("native")),K($,"$included",function(i){return i.$extend(e("Helpers"))})}(E[0],E),K(l,"$included",function(s){var $=this;return $.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),s.$include(B("Wrapper"))})}(y[0],y),function(h,c){var l=w(h,"Kernel"),E=[l].concat(c),B=n.$r(E);return X(l,"$native?",function(s){return s==null||!s.$$class}),X(l,"$Native",function _(s){_.$$p;var $=this;return _.$$p=null,ee(s==null)?d:ee($["$native?"](s))?k(B("Native"),"Object").$new(s):ee(s["$is_a?"](B("Array")))?Z(s,"map",[],function t(e){var r=t.$$s==null?this:t.$$s;return e==null&&(e=d),r.$Native(e)},{$$s:$}):ee(s["$is_a?"](B("Proc")))?Z($,"proc",[],function t(e){var r=t.$$p||d,i,a,o=t.$$s==null?this:t.$$s;return t.$$p=null,i=I(arguments),a=i,o.$Native(Z(s,"call",W(a),r.$to_proc()))},{$$arity:-1,$$s:$}):s}),J(l,"_Array","Array"),X(l,"$Array",function _(s,$){var t=_.$$p||d,e,r,i=this;return _.$$p=null,e=I(arguments,1),r=e,ee(i["$native?"](s))?Z(k(B("Native"),"Array"),"new",[s].concat(W(r)),t.$to_proc()).$to_a():i.$_Array(s)},-2)}(y[0],y),function(h,c){var l=q(h,c,"Object"),E=l.$$prototype;return E.native=d,l.$include(k(k("Native"),"Wrapper")),X(l,"$==",function(_){var s=this;return s.native===k("Native").$try_convert(_)}),X(l,"$has_key?",function(_){var s=this;return n.hasOwnProperty.call(s.native,_)}),X(l,"$each",function B(_){var s,$,t=B.$$p||d,e=this;if(B.$$p=null,s=I(arguments),$=s,t!==d){for(var r in e.native)n.yieldX(t,[r,e.native[r]]);return e}else return Z(e,"method_missing",["each"].concat(W($)))},-1),X(l,"$[]",function(_){var s=this,$=s.native[_];return $ instanceof Function?$:k("Native").$call(s.native,_)}),X(l,"$[]=",function(_,s){var $=this,t=d;return t=k("Native").$try_convert(s),ee(t===d)?$.native[_]=s:$.native[_]=t}),X(l,"$merge!",function(_){var s=this;_=k("Native").$convert(_);for(var $ in _)s.native[$]=_[$];return s}),X(l,"$respond_to?",function(_,s){var $=this;return s==null&&(s=!1),T.$instance_method("respond_to?").$bind($).$call(_,s)},-2),X(l,"$respond_to_missing?",function(_,s){var $=this;return n.hasOwnProperty.call($.native,_)},-2),X(l,"$method_missing",function B(_,s){var $=B.$$p||d,t,e,r,i=this;return B.$$p=null,t=I(arguments,1),e=t,_.charAt(_.length-1)==="="?(r=[_.$slice(0,p(_.$length(),1)),e["$[]"](0)],Z(i,"[]=",r),r[r.length-1]):Z(k("Native"),"call",[i.native,_].concat(W(e)),$.$to_proc())},-2),X(l,"$nil?",M(!1)),X(l,"$is_a?",function(_){var s=this;return n.is_a(s,_)}),X(l,"$instance_of?",function(_){var s=this;return s.$$class===_}),X(l,"$class",function(){var _=this;return _.$$class}),X(l,"$to_a",function B(_){var s=B.$$p||d,$=this;return B.$$p=null,_==null&&(_=new Map),Z(k(k("Native"),"Array"),"new",[$.native,_],s.$to_proc()).$to_a()},-1),X(l,"$inspect",function(){var _=this;return"#<Native:"+String(_.native)+">"}),J(l,"include?","has_key?"),J(l,"key?","has_key?"),J(l,"kind_of?","is_a?"),J(l,"member?","has_key?")}(u("Native"),u("BasicObject")),function(h,c,l){var E=q(h,c,"Array"),B=[E].concat(l),_=n.$r(B),s=E.$$prototype;return s.named=s.native=s.get=s.block=s.set=s.length=d,E.$include(k(_("Native"),"Wrapper")),E.$include(_("Enumerable")),X(E,"$initialize",function $(t,e){var r=$.$$p||d,i=this,a=d;return $.$$p=null,e==null&&(e=new Map),U(i,S(i,"initialize",$,!1,!0),"initialize",[t],null),i.get=ee(a=e["$[]"]("get"))?a:e["$[]"]("access"),i.named=e["$[]"]("named"),i.set=ee(a=e["$[]"]("set"))?a:e["$[]"]("access"),i.length=ee(a=e["$[]"]("length"))?a:"length",i.block=r,ee(i.$length()==null)?i.$raise(_("ArgumentError"),"no length found on the array-like object"):d},-2),X(E,"$each",function $(){var t=$.$$p||d,e=this;if($.$$p=null,!ee(t))return e.$enum_for("each");for(var r=0,i=e.$length();r<i;r++)n.yield1(t,e["$[]"](r));return e}),X(E,"$[]",function(t){var e=this,r=d,i=d;return r=F(_("String"),i=t)||F(_("Symbol"),i)?ee(e.named)?e.native[e.named](t):e.native[t]:F(_("Integer"),i)?ee(e.get)?e.native[e.get](t):e.native[t]:d,ee(r)?ee(e.block)?e.block.$call(r):e.$Native(r):d}),X(E,"$[]=",function(t,e){var r=this;return ee(r.set)?r.native[r.set](t,_("Native").$convert(e)):r.native[t]=_("Native").$convert(e)}),X(E,"$last",function(t){var e=this,r=d,i=d;if(t==null&&(t=d),ee(t)){for(r=p(e.$length(),1),i=[];ee(v(r,0));)i["$<<"](e["$[]"](r)),r=p(r,1);return i}else return e["$[]"](p(e.$length(),1))},-1),X(E,"$length",function(){var t=this;return t.native[t.length]}),X(E,"$inspect",function(){var t=this;return t.$to_a().$inspect()}),J(E,"to_ary","to_a")}(u("Native"),null,y),function(h,c){var l=q(h,c,"Numeric");return X(l,"$to_n",function(){var B=this;return B.valueOf()})}(y[0],null),function(h,c){var l=q(h,c,"Proc");return X(l,"$to_n",z)}(y[0],null),function(h,c){var l=q(h,c,"String");return X(l,"$to_n",function(){var B=this;return B.valueOf()})}(y[0],null),function(h,c){var l=q(h,c,"Regexp");return X(l,"$to_n",function(){var B=this;return B.valueOf()})}(y[0],null),function(h,c){var l=q(h,c,"MatchData");return X(l,"$to_n",re("matches"))}(y[0],null),function(h,c,l){var E=q(h,c,"Struct"),B=[E].concat(l),_=n.$r(B);return X(E,"$to_n",function(){var $=this,t=d;return t={},Z($,"each_pair",[],function(r,i){return r==null&&(r=d),i==null&&(i=d),t[r]=_("Native").$try_convert(i,i)}),t})}(y[0],null,y),function(h,c,l){var E=q(h,c,"Array"),B=[E].concat(l),_=n.$r(B);return X(E,"$to_n",function(){for(var $=this,t=[],e=0,r=$.length;e<r;e++){var i=$[e];t.push(_("Native").$try_convert(i,i))}return t})}(y[0],null,y),function(h,c){var l=q(h,c,"Boolean");return X(l,"$to_n",function(){var B=this;return B.valueOf()})}(y[0],null),function(h,c){var l=q(h,c,"Time");return X(l,"$to_n",z)}(y[0],null),function(h,c){var l=q(h,c,"NilClass");return X(l,"$to_n",function(){return null})}(y[0],null),ee(u("Hash")["$method_defined?"]("_initialize"))||function(h,c,l){var E=q(h,c,"Hash"),B=[E].concat(l),_=n.$r(B);J(E,"_initialize","initialize");function s($,t,e){e&&(e.constructor===void 0||e.constructor===Object||e instanceof Map)?A($,t,_("Hash").$new(e)):e&&e.$$is_array?(e=e.map(function(r){return r&&(r.constructor===void 0||r.constructor===Object||e instanceof Map)?_("Hash").$new(r):E.$Native(r)}),A($,t,e)):A($,t,E.$Native(e))}return X(E,"$initialize",function $(t){var e=$.$$p||d,r=this;if($.$$p=null,t!=null)if(t.constructor===void 0||t.constructor===Object){var i,a;for(i in t)a=t[i],s(r,i,a);return r}else t instanceof Map&&n.hash_each(t,!1,function(o,g){return s(r,o,g),[!1,!1]});return Z(r,"_initialize",[t],e.$to_proc())},-1),X(E,"$to_n",function(){var t=this,e={};return n.hash_each(t,!1,function(r,i){return e[_("Native").$try_convert(r,r)]=_("Native").$try_convert(i,i),[!1,!1]}),e})}(y[0],null,y),function(h,c){var l=q(h,c,"Module");return X(l,"$native_module",function(){var B=this;return n.global[B.$name()]=B})}(y[0],null),function(h,c,l){var E=q(h,c,"Class"),B=[E].concat(l),_=n.$r(B);return X(E,"$native_alias",function($,t){var e=this,r=e.prototype[n.jsid(t)];r||e.$raise(_("NameError").$new("undefined method `"+t+"' for class `"+e.$inspect()+"'",t)),e.prototype[$]=r}),X(E,"$native_class",function(){var $=this;return $.$native_module(),$.new=$.$new})}(y[0],null,y),C.$=C.global=x.$Native(n.global)};(function(n){var A;if(typeof globalThis<"u"?n=globalThis:typeof global<"u"?n=global:typeof window<"u"&&(n=window),n.console==null&&(n.console={}),typeof n.console=="object"?A=n.console:A={},"log"in A||(A.log=function(){}),"warn"in A||(A.warn=A.log),typeof n.Opal<"u")return A.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),n.Opal;var w,K,I,ee,Z,T,G,m=n.Opal={};m.global=n,m.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var P=Function.prototype.call,ie=Function.prototype.bind,W=Object.hasOwn||P.bind(Object.prototype.hasOwnProperty),X=Object.setPrototypeOf,re=P.bind(Array.prototype.slice),J=P.bind(Array.prototype.splice),q=4,p=q;function M(){return p+=2,p}m.uid=M,m.id=function(f){return f.$$is_number?f*2+1:(f.$$id==null&&v(f,"$$id",M()),f.$$id)};var U=m.gvars={};m.exit=function(f){U.DEBUG&&A.log("Exited with status "+f)},m.exceptions=[],m.pop_exception=function(f){var b=m.exceptions.pop();b===f||(b?U["!"]=b:U["!"]=w)};function S(f,b){if(f||(f=m.Exception||Error),G&&G.$raise)arguments.length>2?G.$raise(f.$new.apply(f,re(arguments,1))):G.$raise(f,b);else throw f.$new?f.$new(b):new f(b)}var F={value:void 0,enumerable:!1,configurable:!0,writable:!0};function v(f,b,H){typeof f=="string"?f[b]=H:(F.value=H,Object.defineProperty(f,b,F))}m.prop=v,m.defineProperty=m.prop,m.slice=re;var z=m.truthy=function(f){return f!==!1&&w!==f&&f!==void 0&&f!==null&&(!(f instanceof Boolean)||f.valueOf()===!0)};m.falsy=function(f){return!z(f)},m.type_error=function(f,b,H,te){f=f.$$class,te&&H?(te=te.$$class,S(m.TypeError,"can't convert "+f+" into "+b+" ("+f+"#"+H+" gives "+te+")")):S(m.TypeError,"no implicit conversion of "+f+" into "+b)},m.coerce_to=function(f,b,H,te){var ue;return H==="to_int"&&b===m.Integer&&f.$$is_number?f<0?Math.ceil(f):Math.floor(f):H==="to_str"&&b===m.String&&f.$$is_string||m.is_a(f,b)?f:f["$respond_to?"].$$pristine&&f.$method_missing.$$pristine?(ue=f[de(H)],(ue==null||ue.$$stub)&&m.type_error(f,b),ue.apply(f,te)):(f["$respond_to?"](H)||m.type_error(f,b),te==null&&(te=[]),m.send(f,H,te))},m.respond_to=function(f,b,H){if(f==null||!f.$$class)return!1;H=!!H;var te=f[b];if(f["$respond_to?"].$$pristine){if(typeof te=="function"&&!te.$$stub)return!0;if(!f["$respond_to_missing?"].$$pristine)return m.send(f,f["$respond_to_missing?"],[b.substr(1),H])}else return m.send(f,f["$respond_to?"],[b.substr(1),H])},m.trace_class=!1,m.tracers_for_class=[];function C(f){var b,H,te;for(b=0,H=m.tracers_for_class.length;b<H;b++)te=m.tracers_for_class[b],te.trace_object=f,te.block.$call(te)}function x(f,b){if(f.$$autoload[b].loaded){if(f.$$autoload[b].loaded&&!f.$$autoload[b].required&&f.$$autoload[b].exception)throw f.$$autoload[b].exception}else{f.$$autoload[b].loaded=!0;try{m.Kernel.$require(f.$$autoload[b].path)}catch(H){throw f.$$autoload[b].exception=H,H}if(f.$$autoload[b].required=!0,f.$$const[b]!=null)return f.$$autoload[b].success=!0,f.$$const[b]}}function y(f,b){if(f){if(f.$$const[b]!=null)return f.$$const[b];if(f.$$autoload&&f.$$autoload[b])return x(f,b)}}function u(f,b){var H,te,ue;if(f.length!==0)for(H=0,te=f.length;H<te;H++){if(ue=f[H].$$const[b],ue!=null)return ue;if(f[H].$$autoload&&f[H].$$autoload[b])return x(f[H],b)}}function d(f,b){var H,te,ue;if(f!=null)for(ue=V(f),H=0,te=ue.length;H<te;H++){if(ue[H].$$const&&W(ue[H].$$const,b))return ue[H].$$const[b];if(ue[H].$$autoload&&ue[H].$$autoload[b])return x(ue[H],b)}}function k(f,b){if(f==null||f.$$is_module)return d(I,b)}function h(f,b){return(f||I).$const_missing(b)}m.const_get_local=function(f,b,H){var te;if(f!=null)return f==="::"&&(f=I),!f.$$is_module&&!f.$$is_class&&S(m.TypeError,f.toString()+" is not a class/module"),te=y(f,b),te!=null||H?te:h(f,b)},m.const_get_qualified=function(f,b,H){var te,ue,ce,he=m.const_cache_version;if(b==null)return te=y(I,f),te??m.const_get_qualified(I,f,H);if(f!=null)return f==="::"&&(f=I),!f.$$is_module&&!f.$$is_class&&S(m.TypeError,f.toString()+" is not a class/module"),(ue=f.$$const_cache)==null&&(v(f,"$$const_cache",Object.create(null)),ue=f.$$const_cache),ce=ue[b],ce==null||ce[0]!==he?((te=y(f,b))!=null||(te=d(f,b))!=null,ue[b]=[he,te]):te=ce[1],te!=null||H?te:h(f,b)},m.const_cache_version=1,m.const_get_relative=function(f,b,H){var te=f[0],ue,ce=m.const_cache_version,he,pe;return(he=f.$$const_cache)==null&&(v(f,"$$const_cache",Object.create(null)),he=f.$$const_cache),pe=he[b],pe==null||pe[0]!==ce?((ue=y(te,b))!=null||(ue=u(f,b))!=null||(ue=d(te,b))!=null||(ue=k(te,b))!=null,he[b]=[ce,ue]):ue=pe[1],ue!=null||H?ue:h(te,b)};function c(f,b,H){var te=!0;return(f==null||f==="::")&&(f=I),H.$$is_a_module&&((H.$$name==null||H.$$name===w)&&(H.$$name=b),H.$$base_module==null&&(H.$$base_module=f)),f.$$const=f.$$const||Object.create(null),(b in f.$$const||"$$autoload"in f&&b in f.$$autoload)&&(te=!1),f.$$const[b]=H,f.$$=f.$$const,m.const_cache_version++,f===I&&(m[b]=H),v(f,b,H),te&&f.$const_added&&!f.$const_added.$$pristine&&f.$const_added(b),H}m.const_set=c,m.constants=function(f,b){b==null&&(b=!0);var H,te=[f],ue,ce,he={},pe;for(b&&(te=te.concat(V(f))),b&&f.$$is_module&&(te=te.concat([m.Object]).concat(V(m.Object))),ue=0,ce=te.length;ue<ce&&(H=te[ue],!(f!==I&&H==I));ue++){for(pe in H.$$const)he[pe]=!0;if(H.$$autoload)for(pe in H.$$autoload)he[pe]=!0}return Object.keys(he)},m.const_remove=function(f,b){if(m.const_cache_version++,f.$$const[b]!=null){var H=f.$$const[b];return delete f.$$const[b],H}if(f.$$autoload&&f.$$autoload[b])return delete f.$$autoload[b],w;S(m.NameError,"constant "+f+"::"+f.$name()+" not defined")},m.const_get_relative_factory=function(f){return function(b,H){return m.$$(f,b,H)}},m.$$=m.const_get_relative,m.$$$=m.const_get_qualified,m.$r=m.const_get_relative_factory;function l(f){return f==null?!1:f.$$bridge?f:f.$$super?l(f.$$super):!1}function E(f,b,H){var te,ue;if((ue=l(b))?te=function(){var ye=new(ie.apply(ue.$$constructor,ge(null,arguments)));return X(ye,te.$$prototype),ye}:te=function(){},f&&f!==w&&v(te,"displayName","::"+f),v(te,"$$name",f),v(te,"$$constructor",te),v(te,"$$prototype",te.prototype),v(te,"$$const",{}),v(te,"$$is_class",!0),v(te,"$$is_a_module",!0),v(te,"$$super",b),v(te,"$$cvars",{}),v(te,"$$own_included_modules",[]),v(te,"$$own_prepended_modules",[]),v(te,"$$ancestors",[]),v(te,"$$ancestors_cache_version",null),v(te,"$$subclasses",[]),v(te,"$$cloned_from",[]),v(te.$$prototype,"$$class",te),m.Class&&X(te,m.Class.prototype),b!=null){if(X(te.$$prototype,b.$$prototype),H!==!0)if(typeof WeakRef<"u"){var ce,he,pe=[];for(ce=0;ce<b.$$subclasses.length;ce++)he=b.$$subclasses[ce],he.deref()!==void 0&&pe.push(he);pe.push(new WeakRef(te)),b.$$subclasses=pe}else b.$$subclasses.push(te);b.$$meta&&m.build_class_singleton_class(te)}return te}m.allocate_class=E;function B(f,b){var H=y(f,b);if(H)return H.$$is_class||S(m.TypeError,b+" is not a class"),H}function _(f,b){f.$$super!==b&&S(m.TypeError,"superclass mismatch for class "+f.$$name)}m.klass=function(f,b,H){var te;f==null||f=="::"?f=I:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),b!=null&&(!b.hasOwnProperty||b.hasOwnProperty&&!b.hasOwnProperty("$$is_class"))&&(b.constructor&&b.constructor.name=="Function"?(te=b,b=I):S(m.TypeError,"superclass must be a Class ("+(b.constructor&&(b.constructor.name||b.constructor.$$name)||typeof b)+" given)"));var ue=B(f,H);return ue!=null?b&&_(ue,b):(b==null&&(b=I),ue=E(H,b),c(f,H,ue),b.$inherited&&b.$inherited(ue),te&&m.bridge(te,ue)),m.trace_class&&C(ue),ue};function s(f){var b=function(){},H=b;return f&&v(b,"displayName",f+".constructor"),v(H,"$$name",f),v(H,"$$prototype",b.prototype),v(H,"$$const",{}),v(H,"$$is_module",!0),v(H,"$$is_a_module",!0),v(H,"$$cvars",{}),v(H,"$$iclasses",[]),v(H,"$$own_included_modules",[]),v(H,"$$own_prepended_modules",[]),v(H,"$$ancestors",[H]),v(H,"$$ancestors_cache_version",null),v(H,"$$cloned_from",[]),X(H,m.Module.prototype),H}m.allocate_module=s;function $(f,b){var H=y(f,b);return H==null&&f===I&&(H=d(I,b)),H&&!H.$$is_module&&H!==I&&S(m.TypeError,b+" is not a module"),H}m.module=function(f,b){var H;return f==null||f=="::"?f=I:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),H=$(f,b),H==null&&(H=s(b),c(f,b,H)),m.trace_class&&C(H),H},m.get_singleton_class=function(f){return f.$$is_number&&S(m.TypeError,"can't define singleton"),f.$$meta?f.$$meta:f.hasOwnProperty("$$is_class")?m.build_class_singleton_class(f):f.hasOwnProperty("$$is_module")?m.build_module_singleton_class(f):m.build_object_singleton_class(f)};function t(f,b){f.hasOwnProperty("$$meta")?f.$$meta=b:v(f,"$$meta",b),f.$$frozen?f.$$meta.$freeze():X(f,b.$$prototype)}m.build_class_singleton_class=function(f){if(f.$$meta)return f.$$meta;var b=f===K?Z:m.get_singleton_class(f.$$super),H=E(null,b,!0);return v(H,"$$is_singleton",!0),v(H,"$$singleton_of",f),t(f,H),v(f,"$$class",m.Class),H},m.build_module_singleton_class=function(f){if(f.$$meta)return f.$$meta;var b=E(null,m.Module,!0);return v(b,"$$is_singleton",!0),v(b,"$$singleton_of",f),t(f,b),v(f,"$$class",m.Module),b},m.build_object_singleton_class=function(f){var b=f.$$class,H=E(w,b,!0);return v(H,"$$is_singleton",!0),v(H,"$$singleton_of",f),delete H.$$prototype.$$class,t(f,H),H},m.is_method=function(f){return f[0]==="$"&&f[1]!=="$"},m.instance_methods=function(f){for(var b=Object.create(null),H=[],te=V(f),ue=0,ce=te.length;ue<ce;ue++){var he=te[ue],pe=he.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ze=ye.length;we<ze;we++){var Ee=ye[we];if(!b[Ee]){if(m.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);H.push(qe)}}b[Ee]=!0}}}return H},m.own_instance_methods=function(f){var b=[],H=f.$$prototype;H.hasOwnProperty("$$dummy")&&(H=H.$$define_methods_on);for(var te=Object.getOwnPropertyNames(H),ue=0,ce=te.length;ue<ce;ue++){var he=te[ue];if(m.is_method(he)){var pe=H[he];if(!pe.$$stub){var ye=he.slice(1);b.push(ye)}}}return b},m.methods=function(f){return m.instance_methods(f.$$meta||f.$$class)},m.own_methods=function(f){return f.$$meta?m.own_instance_methods(f.$$meta):[]},m.receiver_methods=function(f){var b=m.get_singleton_class(f),H=m.own_instance_methods(b),te=m.own_instance_methods(b.$$super);return H.concat(te)},m.class_variables=function(f){var b=V(f),H,te=b.length,ue={};for(H=te-1;H>=0;H--){var ce=b[H];for(var he in ce.$$cvars)ue[he]=ce.$$cvars[he]}return ue},m.class_variable_set=function(f,b,H){var te=V(f),ue,ce=te.length;for(ue=ce-2;ue>=0;ue--){var he=te[ue];if(W(he.$$cvars,b))return he.$$cvars[b]=H,H}return f.$$cvars[b]=H,H},m.class_variable_get=function(f,b,H){if(W(f.$$cvars,b))return f.$$cvars[b];var te=V(f),ue,ce=te.length;for(ue=0;ue<ce;ue++){var he=te[ue];if(W(he.$$cvars,b))return he.$$cvars[b]}return H||S(m.NameError,"uninitialized class variable "+b+" in "+f.$name()),w};function e(f){return f.hasOwnProperty("$$iclass")&&f.hasOwnProperty("$$root")}function r(f){for(var b=[],H,te=Object.getPrototypeOf(f.$$prototype);te&&!te.hasOwnProperty("$$class");)H=D(te),H&&b.push(H),te=Object.getPrototypeOf(te);return b}function i(f){var b=[],H,te=Object.getPrototypeOf(f.$$prototype);if(f.$$prototype.hasOwnProperty("$$dummy"))for(;te&&te!==f.$$prototype.$$define_methods_on;)H=D(te),H&&b.push(H),te=Object.getPrototypeOf(te);return b}m.append_features=function(f,b){var H=V(f),te=[];H.indexOf(b)!==-1&&S(m.ArgumentError,"cyclic include detected");for(var ue=0,ce=H.length;ue<ce;ue++){var he=H[ue],pe=o(he);v(pe,"$$included",!0),te.push(pe)}var ye=V(b),we=N(te),ze,Ee;if(ye.indexOf(f)===-1)ze=b.$$prototype,Ee=Object.getPrototypeOf(b.$$prototype);else{for(var xe=b.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===f&&e(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var Ae=Object.getPrototypeOf(qe);Ae.hasOwnProperty("$$iclass")&&!e(Ae);)Ae=Object.getPrototypeOf(Ae);ze=xe,Ee=Ae}else ze=b.$$prototype,Ee=Object.getPrototypeOf(b.$$prototype)}X(ze,we.first),X(we.last,Ee),b.$$own_included_modules=r(b),m.const_cache_version++},m.prepend_features=function(f,b){var H=V(f),te=[];H.indexOf(b)!==-1&&S(m.ArgumentError,"cyclic prepend detected");for(var ue=0,ce=H.length;ue<ce;ue++){var he=H[ue],pe=o(he);v(pe,"$$prepended",!0),te.push(pe)}var ye=N(te),we=b.$$prototype,ze=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=g(b),a(b),v(we,"$$dummy",!0),v(we,"$$define_methods_on",Ee),X(we,Ee),X(Ee,ze));var Ae=V(b);if(Ae.indexOf(f)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else S(m.RuntimeError,"Prepending a module multiple times is not supported");X(xe,ye.first),X(ye.last,qe),b.$$own_prepended_modules=i(b),m.const_cache_version++};function a(f){for(var b=f.$$prototype,H=Object.getOwnPropertyNames(b),te=0;te<H.length;te++){var ue=H[te];m.is_method(ue)&&delete b[ue]}}function o(f){var b=g(f);return f.$$is_module&&f.$$iclasses.push(b),b}function g(f){var b={},H=f.$$prototype;H.hasOwnProperty("$$dummy")&&(H=H.$$define_methods_on);var te=Object.getOwnPropertyNames(H),ue=te.length,ce;for(ce=0;ce<ue;ce++){var he=te[ce];v(b,he,H[he])}return v(b,"$$iclass",!0),v(b,"$$module",f),b}function N(f){var b=f.length,H=f[0];if(v(H,"$$root",!0),b===1)return{first:H,last:H};for(var te=H,ue=1;ue<b;ue++){var ce=f[ue];X(te,ce),te=ce}return{first:f[0],last:f[b-1]}}m.bridge=function(f,b){f.hasOwnProperty("$$bridge")&&S(m.ArgumentError,"already bridged"),v(f,"$$bridge",b),X(f.prototype,(b.$$super||m.Object).$$prototype),v(b,"$$prototype",f.prototype),v(b.$$prototype,"$$class",b),v(b,"$$constructor",f),v(b,"$$bridge",!0)};function D(f){if(!f.hasOwnProperty("$$dummy")){if(f.hasOwnProperty("$$iclass"))return f.$$module;if(f.hasOwnProperty("$$class"))return f.$$class}}function R(f){return f.$$own_prepended_modules.concat([f]).concat(f.$$own_included_modules)}function V(f){if(!f)return[];if(f.$$ancestors_cache_version===m.const_cache_version)return f.$$ancestors;var b=[],H,te,ue;for(H=0,te=R(f),ue=te.length;H<ue;H++)b.push(te[H]);if(f.$$super)for(H=0,te=V(f.$$super),ue=te.length;H<ue;H++)b.push(te[H]);return f.$$ancestors_cache_version=m.const_cache_version,f.$$ancestors=b,b}m.ancestors=V,m.included_modules=function(f){for(var b=[],H=null,te=Object.getPrototypeOf(f.$$prototype);te&&Object.getPrototypeOf(te);te=Object.getPrototypeOf(te))H=D(te),H&&H.$$is_module&&te.$$iclass&&te.$$included&&b.push(H);return b},m.add_stubs=function(f){var b=m.BasicObject.$$prototype,H,te;f=f.split(",");for(var ue=0,ce=f.length;ue<ce;ue++)H=de(f[ue]),te=b[H],(te==null||te.$$stub)&&m.add_stub_for(b,H)},m.add_stub_for=function(f,b){v(f,b,m.stub_for(b))},m.stub_for=function(f){function b(){return this.$method_missing.$$p=b.$$p,b.$$p=null,this.$method_missing.apply(this,ge(f.slice(1),arguments))}return b.$$stub=!0,b},m.ac=function(f,b,H,te){var ue="";H.$$is_a_module?ue+=H.$$name+".":ue+=H.$$class.$$name+"#",ue+=te,S(m.ArgumentError,"["+ue+"] wrong number of arguments (given "+f+", expected "+b+")")},m.block_ac=function(f,b,H){var te="`block in "+H+"'";S(m.ArgumentError,te+": wrong number of arguments (given "+f+", expected "+b+")")};function O(f){return f.hasOwnProperty("$$meta")&&f.$$meta!==null?V(f.$$meta):V(f.$$class)}m.find_super=function(f,b,H,te,ue){var ce=de(b),he,pe,ye,we,ze=-1,Ee;for(he=O(f),we=H.$$owner,Ee=0;Ee<he.length;Ee++)if(pe=he[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ze=Ee;break}for(Ee=ze+1;Ee<he.length;Ee++){pe=he[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(ce)){ye=xe[ce];break}}return!te&&ye&&ye.$$stub&&f.$method_missing.$$pristine&&S(m.NoMethodError,"super: no superclass method `"+b+"' for "+f,b),ye.$$stub&&!ue?null:ye},m.find_block_super=function(f,b,H,te,ue){var ce=b;return H||S(m.RuntimeError,"super called outside of method"),ue&&H.$$define_meth&&S(m.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),H.$$def&&(ce=H.$$jsid),m.find_super(f,ce,H,te)},m.find_super_dispatcher=m.find_super,m.find_iter_super_dispatcher=m.find_block_super;function ae(f,b,H){try{f(b)}catch(te){if(te===H)return H.$v;throw te}}m.yield1=function(f,b){typeof f!="function"&&S(m.LocalJumpError,"no block given");var H=f.$$has_top_level_mlhs_arg,te=f.$$has_trailing_comma_in_args,ue=f.$$is_lambda&&f.$$ret;return(f.length>1||(H||te)&&f.length===1)&&(b=m.to_ary(b)),(f.length>1||te&&f.length===1)&&b.$$is_array?ue?ae(f.apply.bind(f,null),b,f.$$ret):f.apply(null,b):ue?ae(f,b,f.$$ret):f(b)},m.yieldX=function(f,b){return typeof f!="function"&&S(m.LocalJumpError,"no block given"),f.length>1&&b.length===1&&b[0].$$is_array&&(b=b[0]),f.$$is_lambda&&f.$$ret?ae(f.apply.bind(f,null),b,f.$$ret):f.apply(null,b)},m.rescue=function(f,b){for(var H=0;H<b.length;H++){var te=b[H];if(te.$$is_array){var ue=m.rescue(f,te);if(ue)return ue}else if(te===m.JS.Error||te["$==="](f))return te}return null},m.is_a=function(f,b){if(b!=null&&f.$$meta===b||f.$$class===b)return!0;if(f.$$is_number&&b.$$is_number_class)return b.$$is_integer_class?f%1===0:!0;var H=V(f.$$is_class?m.get_singleton_class(f):f.$$meta||f.$$class);return H.indexOf(b)!==-1},m.to_hash=function(f){if(f.$$is_hash)return f;if(f["$respond_to?"]("to_hash",!0)){var b=f.$to_hash();if(b.$$is_hash)return b;S(m.TypeError,"Can't convert "+f.$$class+" to Hash ("+f.$$class+"#to_hash gives "+b.$$class+")")}else S(m.TypeError,"no implicit conversion of "+f.$$class+" into Hash")},m.to_ary=function(f){if(f.$$is_array)return f;if(f["$respond_to?"]("to_ary",!0)){var b=f.$to_ary();if(b===w)return[f];if(b.$$is_array)return b;S(m.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_ary gives "+b.$$class+")")}else return[f]},m.to_a=function(f){if(f.$$is_array)return f.slice();if(f["$respond_to?"]("to_a",!0)){var b=f.$to_a();if(b===w)return[f];if(b.$$is_array)return b;S(m.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_a gives "+b.$$class+")")}else return[f]},m.extract_kwargs=function(f){var b=f[f.length-1];if(b!=null&&m.respond_to(b,"$to_hash",!0))return J(f,f.length-1),b},m.kwrestargs=function(f,b){var H=new Map;return m.hash_each(f,!1,function(te,ue){return b[te]||m.hash_put(H,te,ue),[!1,!1]}),H};function le(f,b){typeof b=="number"?f.$$arity=b:typeof b=="object"&&Object.assign(f,b)}var _e=new Map;function de(f){var b=_e.get(f);return b||(b="$"+f,_e.set(f,b)),b}m.jsid=de;function ge(f,b){return b.$$is_array||(b=re(b)),[f].concat(b)}m.send=function(f,b,H,te,ue){var ce;return typeof b=="function"?(ce=b,b=null):typeof b=="string"?ce=f[de(b)]:S(m.NameError,"Passed method should be a string or a function"),m.send2(f,ce,b,H,te,ue)},m.send2=function(f,b,H,te,ue,ce){return b==null&&H!=null&&f.$method_missing&&(b=f.$method_missing,te=ge(H,te)),le(ue,ce),typeof ue=="function"&&(b.$$p=ue),b.apply(f,te)},m.refined_send=function(f,b,H,te,ue,ce){var he,pe,ye,we,ze,Ee,xe,qe,Ae,ke;for(we=O(b),he=0;he<we.length;he++)for(ze=m.id(we[he]),pe=0;pe<f.length;pe++)for(Ee=f[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ze]>"u")&&(Ae=qe[ze],typeof Ae.$$prototype[de(H)]<"u")))return ke=Ae.$$prototype[de(H)],m.send2(b,ke,H,te,ue,ce);return m.send(b,H,te,ue,ce)},m.lambda=function(f,b){return f.$$is_lambda=!0,le(f,b),f},m.def=function(f,b,H,te){return le(H,te),f===m.top?m.defn(m.Object,b,H):!f.$$eval&&f.$$is_a_module?m.defn(f,b,H):m.defs(f,b,H)},m.defn=function(f,b,H){j(f),H.displayName=b,H.$$owner=f;var te=b.substr(1),ue=f.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),v(ue,b,H),f.$$is_module){f.$$module_function&&m.defs(f,b,H);for(var ce=0,he=f.$$iclasses,pe=he.length;ce<pe;ce++){var ye=he[ce];v(ye,b,H)}}var we=f.$$singleton_of;return f.$method_added&&!f.$method_added.$$stub&&!we?f.$method_added(te):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(te),te},m.defs=function(f,b,H,te){return le(H,te),(f.$$is_string||f.$$is_number)&&S(m.TypeError,"can't define singleton"),m.defn(m.get_singleton_class(f),b,H)};function ve(f,b){if(f.$$is_module)for(var H=0,te=f.$$iclasses,ue=te.length;H<ue;H++){var ce=te[H];delete ce[b]}}m.rdef=function(f,b){W(f.$$prototype,b)||S(m.NameError,"method '"+b.substr(1)+"' not defined in "+f.$name()),delete f.$$prototype[b],ve(f,b),f.$$is_singleton?f.$$prototype.$singleton_method_removed&&!f.$$prototype.$singleton_method_removed.$$stub&&f.$$prototype.$singleton_method_removed(b.substr(1)):f.$method_removed&&!f.$method_removed.$$stub&&f.$method_removed(b.substr(1))},m.udef=function(f,b){(!f.$$prototype[b]||f.$$prototype[b].$$stub)&&S(m.NameError,"method '"+b.substr(1)+"' not defined in "+f.$name()),m.add_stub_for(f.$$prototype,b),ve(f,b),f.$$is_singleton?f.$$prototype.$singleton_method_undefined&&!f.$$prototype.$singleton_method_undefined.$$stub&&f.$$prototype.$singleton_method_undefined(b.substr(1)):f.$method_undefined&&!f.$method_undefined.$$stub&&f.$method_undefined(b.substr(1))};function me(f){return typeof f=="function"&&!f.$$stub}m.alias=function(f,b,H){var te=de(b),ue=de(H),ce,he;if(typeof f.$$prototype>"u"&&(f=m.Object),ce=f.$$prototype[ue],f.$$eval)return m.alias(m.get_singleton_class(f),b,H);if(!me(ce)){for(var pe=f.$$super;typeof ce!="function"&&pe;)ce=pe[ue],pe=pe.$$super;!me(ce)&&f.$$is_module&&(ce=m.Object.$$prototype[ue]),me(ce)||S(m.NameError,"undefined method `"+H+"' for class `"+f.$name()+"'")}return ce.$$alias_of&&(ce=ce.$$alias_of),he=m.wrap_method_body(ce),he.displayName=b,he.$$alias_of=ce,he.$$alias_name=b,m.defn(f,te,he),f},m.wrap_method_body=function(f){var b=function(){var H=b.$$p;return b.$$p=null,m.send(this,f,arguments,H)};try{Object.defineProperty(b,"length",{value:f.length})}catch{}return b.$$arity=f.$$arity==null?f.length:f.$$arity,b.$$parameters=f.$$parameters,b.$$source_location=f.$$source_location,b},m.alias_gvar=function(f,b){return Object.defineProperty(U,f,{configurable:!0,enumerable:!0,get:function(){return U[b]},set:function(H){U[b]=H}}),w},m.alias_native=function(f,b,H){var te=de(b),ue=f.$$prototype[H];return(typeof ue!="function"||ue.$$stub)&&S(m.NameError,"undefined native method `"+H+"' for class `"+f.$name()+"'"),m.defn(f,te,ue),f},m.hash_init=function(f){A.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},m.hash_clone=function(f,b){return b.$$none=f.$$none,b.$$proc=f.$$proc,m.hash_each(f,b,function(H,te){return m.hash_put(b,H,te),[!1,b]})},m.hash_put=function(f,b,H){var te=typeof b;if(te==="string"||te==="symbol"||te==="number"||te==="boolean"||te==="bigint")f.set(b,H);else if(b.$$is_string)f.set(b.valueOf(),H);else{f.$$keys||(f.$$keys=new Map);var ue=b.$$is_string?b.valueOf():f.$$by_identity?m.id(b):b.$hash(),ce=f.$$keys;if(!ce.has(ue)){ce.set(ue,[b]),f.set(b,H);return}for(var he=ce.get(ue),pe,ye=0;ye<he.length;ye++)if(pe=he[ye],b===pe||b["$eql?"](pe)){f.set(pe,H);return}he.push(b),f.set(b,H)}},m.hash_get=function(f,b){var H=typeof b;if(H==="string"||H==="symbol"||H==="number"||H==="boolean"||H==="bigint")return f.get(b);if(f.$$keys){var te=b.$$is_string?b.valueOf():f.$$by_identity?m.id(b):b.$hash(),ue=f.$$keys.get(te),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],b===ce||b["$eql?"](ce))return f.get(ce)}else if(b.$$is_string)return f.get(te)}else if(b.$$is_string)return f.get(b.valueOf())};function be(f,b){var H=f.get(b);if(H!==void 0)return f.delete(b),H}m.hash_delete=function(f,b){var H=typeof b;if(H==="string"||H==="symbol"||H==="number"||H==="boolean"||H==="bigint")return be(f,b);if(f.$$keys){var te=b.$$is_string?b.valueOf():f.$$by_identity?m.id(b):b.$hash(),ue=f.$$keys.get(te),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],b===ce||b["$eql?"](ce))return ue.splice(he,1),ue.length===0&&f.$$keys.delete(te),be(f,ce)}else if(b.$$is_string)return be(f,te)}else if(b.$$is_string)return be(f,b.valueOf())},m.hash_rehash=function(f){var b=f.$$keys;return b&&b.clear(),m.hash_each(f,!1,function(H,te){var ue=typeof H;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var ce=H.$$is_string?H.valueOf():f.$$by_identity?m.id(H):H.$hash();if(b||(f.$$keys=b=new Map),!b.has(ce))return b.set(ce,[H]),[!1,!1];for(var he=b.get(ce),pe=he.length===1?he:re(he),ye,we=0;we<pe.length;we++)ye=pe[we],(H===ye||H["$eql?"](ye))&&(he.splice(he.indexOf(ye),1),f.delete(ye));return he.push(H),[!1,!1]}),f},m.hash=function(){var f=arguments.length,b,H,te,ue,ce,he;if(f===1&&arguments[0].$$is_hash)return arguments[0];if(H=new Map,f===1)if(b=arguments[0],arguments[0].$$is_array){for(ue=b.length,te=0;te<ue;te++)b[te].length!==2&&S(m.ArgumentError,"value not of length 2: "+b[te].$inspect()),ce=b[te][0],he=b[te][1],m.hash_put(H,ce,he);return H}else{b=arguments[0];for(ce in b)W(b,ce)&&(he=b[ce],m.hash_put(H,ce,he));return H}for(f%2!==0&&S(m.ArgumentError,"odd number of arguments for Hash"),te=0;te<f;te+=2)ce=arguments[te],he=arguments[te+1],m.hash_put(H,ce,he);return H},m.hash2=function(f,b){A.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var H=new Map,te=0,ue=f.length;te<ue;te++)H.set(f[te],b[f[te]]);return H},m.hash_each=function(f,b,H){for(var te,ue=0,ce,he=Array.from(f.entries()),pe=he.length;ue<pe;ue++)if(ce=he[ue],te=H(ce[0],ce[1]),te[0])return te[1];return te?te[1]:b},m.range=function(f,b,H){var te=new m.Range;return te.begin=f,te.end=b,te.excl=H,te};var $e=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];m.ivar=function(f){return $e.indexOf(f)!==-1&&(f+="$"),f};function j(f){f.$$frozen&&S(m.FrozenError,"can't modify frozen "+f.$class()+": "+f,new Map([["receiver",f]]))}m.deny_frozen_access=j,m.freeze=function(f){return v(f,"$$frozen",!0),f.hasOwnProperty("$$id")||v(f,"$$id",M()),f.hasOwnProperty("$$meta")?f.$$meta.$freeze():v(f,"$$meta",null),f.hasOwnProperty("$$comparable")||v(f,"$$comparable",null),Object.seal(f),f};function L(f,b){var H=Object.getOwnPropertyNames(f),te=H.length,ue,ce,he;for(ue=0;ue<te;ue++)ce=H[ue],ce[0]!=="$"&&(he=Object.getOwnPropertyDescriptor(f,ce),he&&he.enumerable&&b(ce,he))}m.each_ivar=L,m.freeze_props=function(f){var b={get:null,set:function(H){j(f)},enumerable:!0};L(f,function(H,te){te.writable&&(b.get=se(te.value),Object.defineProperty(f,H,b))})},m.escape_regexp=function(f){return f.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},m.global_regexp=function(f){return f.global?f:(f.$$g==null?f.$$g=new RegExp(f.source,(f.multiline?"gm":"g")+(f.ignoreCase?"i":"")):f.$$g.lastIndex=null,f.$$g)},m.global_multiline_regexp=function(f){var b,H;return f.global&&f.multiline?f:(H="gm"+(f.ignoreCase?"i":""),f.multiline?(f.$$g==null&&(f.$$g=new RegExp(f.source,H)),b=f.$$g):(f.$$gm==null&&(f.$$gm=new RegExp(f.source,H)),b=f.$$gm),b.lastIndex=null,b)},m.regexp=function(f,b){for(var H,te=typeof b<"u"&&b&&b.indexOf("i")>=0,ue=0,ce=f.length;ue<ce;ue++)H=f[ue],H instanceof RegExp&&(H.ignoreCase!==te&&m.Kernel.$warn("ignore case doesn't match for "+H.source.$inspect(),new Map([["uplevel",1]])),H=H.source),H===""&&(H="(?:"+H+")"),f[ue]=H;return b?new RegExp(f.join(""),b):new RegExp(f.join(""))},m.modules={},m.loaded_features=["corelib/runtime"],m.current_dir=".",m.require_table={"corelib/runtime":!0},m.normalize=function(f){var b,H,te=[],ue="/";m.current_dir!=="."&&(f=m.current_dir.replace(/\/*$/,"/")+f),f=f.replace(/^\.\//,""),f=f.replace(/\.(rb|opal|js)$/,""),b=f.split(ue);for(var ce=0,he=b.length;ce<he;ce++)H=b[ce],H!==""&&(H===".."?te.pop():te.push(H));return te.join(ue)},m.loaded=function(f){var b,H,te;for(b=0,H=f.length;b<H;b++)te=m.normalize(f[b]),!m.require_table[te]&&(m.loaded_features.push(te),m.require_table[te]=!0)},m.load_normalized=function(f){m.loaded([f]);var b=m.modules[f];if(b){var H=b(m);if(typeof Promise<"u"&&H instanceof Promise)return H.then(se(!0))}else{var te=m.config.missing_require_severity,ue="cannot load such file -- "+f;te==="error"?S(m.LoadError,ue):te==="warning"&&A.warn("WARNING: LoadError: "+ue)}return!0},m.load=function(f){return f=m.normalize(f),m.load_normalized(f)},m.require=function(f){return f=m.normalize(f),m.require_table[f]?!1:m.load_normalized(f)},m.encodings=Object.create(null),m.set_encoding=function(f,b,H){typeof H>"u"&&(H="encoding"),(typeof f=="string"||f.$$frozen===!0)&&S(m.FrozenError,"can't modify frozen String");var te=m.find_encoding(b);return te===f[H]||(f[H]=te),f},m.find_encoding=function(f){var b=m.encodings,H=b[f]||b[f.toUpperCase()];return H||S(m.ArgumentError,"unknown encoding name - "+f),H},m.enc=function(f,b){var H=new String(f);return H=m.set_encoding(H,b),H.internal_encoding=H.encoding,H},m.binary=function(f){var b=new String(f);return m.set_encoding(b,"binary","internal_encoding")},m.last_promise=null,m.promise_unhandled_exception=!1,m.queue=function(f){if(m.last_promise)return m.last_promise=m.last_promise.then(function(){if(!m.promise_unhandled_exception)return f(m)}).catch(function(H){m.respond_to(H,"$full_message")&&(H=H.$full_message()),A.error(H),m.promise_unhandled_exception=!0,m.exit(1)}),m.last_promise;var b=f(m);return typeof Promise=="function"&&typeof b=="object"&&b instanceof Promise&&(m.last_promise=b),b};function Y(f,b){return typeof f=="number"&&typeof b=="number"}m.rb_plus=function(f,b){return Y(f,b)?f+b:f["$+"](b)},m.rb_minus=function(f,b){return Y(f,b)?f-b:f["$-"](b)},m.rb_times=function(f,b){return Y(f,b)?f*b:f["$*"](b)},m.rb_divide=function(f,b){return Y(f,b)?f/b:f["$/"](b)},m.rb_lt=function(f,b){return Y(f,b)?f<b:f["$<"](b)},m.rb_gt=function(f,b){return Y(f,b)?f>b:f["$>"](b)},m.rb_le=function(f,b){return Y(f,b)?f<=b:f["$<="](b)},m.rb_ge=function(f,b){return Y(f,b)?f>=b:f["$>="](b)};function Q(f,b){return typeof f=="number"&&typeof b=="number"||typeof f=="string"&&typeof b=="string"}function ne(f,b){return Q(f,b)?f===b:z(f["$=="](b))}m.eqeq=ne,m.eqeqeq=function(f,b){return Q(f,b)?f===b:z(f["$==="](b))},m.neqeq=function(f,b){return Q(f,b)?f!==b:z(f["$!="](b))},m.not=function(f){return f==null||f===!1||w===f?!0:f===!0||f["$!"].$$pristine?!1:z(f["$!"]())};function se(f){return function(){return f}}m.return_val=se,m.return_self=function(){return this},m.return_ivar=function(f){return function(){return this[f]==null?w:this[f]}},m.assign_ivar=function(f){return function(b){return j(this),this[f]=b}},m.assign_ivar_val=function(f,b){return function(){return j(this),this[f]=b}},m.ensure_kwargs=function(f){if(f==null)return new Map;if(f.$$is_hash)return f;S(m.ArgumentError,"expected kwargs")},m.get_kwarg=function(f,b){var H=m.hash_get(f,b);return H===void 0&&S(m.ArgumentError,"missing keyword: "+b),H},m.large_array_unpack=function(f){var b=f.split(","),H=b.length,te;for(te=0;te<H;te++)switch(b[te][0]){case void 0:b[te]=w;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":b[te]=+b[te]}return b},m.opal32_init=se(1332765036);function oe(f,b){return f<<b|f>>>32-b}m.opal32_add=function(f,b){return f^=b,f=oe(f,1),f},m.BasicObject=K=E("BasicObject",null),m.Object=I=E("Object",m.BasicObject),m.Module=ee=E("Module",m.Object),m.Class=Z=E("Class",m.Module),m.Opal=T=s("Opal"),m.Kernel=G=s("Kernel"),X(m.BasicObject,m.Class.$$prototype),X(m.Object,m.Class.$$prototype),X(m.Module,m.Class.$$prototype),X(m.Class,m.Class.$$prototype),K.$$const.BasicObject=K,c(I,"BasicObject",K),c(I,"Object",I),c(I,"Module",ee),c(I,"Class",Z),c(I,"Opal",T),c(I,"Kernel",G),K.$$class=Z,I.$$class=Z,ee.$$class=Z,Z.$$class=Z,T.$$class=ee,G.$$class=ee,v(I.$$prototype,"toString",function(){var f=this.$to_s();return f.$$is_string&&typeof f=="object"?f.valueOf():f}),v(I.$$prototype,"$require",m.require),m.top=new I,m.top.$to_s=m.top.$inspect=se("main"),m.top.$define_method=fe;function fe(){var f=fe.$$p;return fe.$$p=null,m.send(I,"define_method",arguments,f)}m.NilClass=E("NilClass",m.Object),c(I,"NilClass",m.NilClass),w=m.nil=new m.NilClass,w.$$id=q,w.call=w.apply=function(){S(m.LocalJumpError,"no block given")},w.$$frozen=!0,w.$$comparable=!1,Object.seal(w),m.thrower=function(f){var b={$thrower_type:f,$throw:function(H,te){throw H==null&&(H=w),this.is_orphan&&!te&&S(m.LocalJumpError,"unexpected "+f,H,f.$to_sym()),this.$v=H,this},is_orphan:!1};return b},Object.defineProperty(U,"@",{enumerable:!0,configurable:!0,get:function(){return z(U["!"])?U["!"].$backtrace():w},set:function(f){z(U["!"])?U["!"].$set_backtrace(f):S(m.ArgumentError,"$! not set")}}),m.t_eval_return=m.thrower("return"),TypeError.$$super=Error,m.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(n){var A=n.type_error,w=n.coerce_to,K=n.module,I=n.defs,ee=n.slice,Z=n.eqeqeq,T=n.Kernel,G=n.truthy,m=n.Opal,P=n.nil,ie=n.$$$;return n.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(W){var X=K(W,"Opal");I(X,"$bridge",function(q,p){return n.bridge(q,p)}),I(X,"$coerce_to!",function(q,p,M,U){var S,F,v=P;return S=ee(arguments,3),F=S,v=w(q,p,M,F),Z(p,v)||T.$raise(A(q,p,M,v)),v},-4),I(X,"$coerce_to?",function(q,p,M,U){var S,F,v=P;return S=ee(arguments,3),F=S,!G(q["$respond_to?"](M))||(v=w(q,p,M,F),G(v["$nil?"]()))?P:(Z(p,v)||T.$raise(A(q,p,M,v)),v)},-4),I(X,"$try_convert",function(q,p,M){return Z(p,q)?q:G(q["$respond_to?"](M))?q.$__send__(M):P}),I(X,"$compare",function(q,p){var M=P;return M=q["$<=>"](p),G(M===P)&&T.$raise(ie("ArgumentError"),"comparison of "+q.$class()+" with "+p.$class()+" failed"),M}),I(X,"$destructure",function(q){if(q.length==1)return q[0];if(q.$$is_array)return q;for(var p=new Array(q.length),M=0,U=p.length;M<U;M++)p[M]=q[M];return p}),I(X,"$respond_to?",function(q,p,M){return M==null&&(M=!1),q==null||!q.$$class?!1:q["$respond_to?"](p,M)},-3),I(X,"$instance_variable_name!",function(q){return q=m["$coerce_to!"](q,ie("String"),"to_str"),G(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(q))||T.$raise(ie("NameError").$new("'"+q+"' is not allowed as an instance variable name",q)),q}),I(X,"$class_variable_name!",function(q){return q=m["$coerce_to!"](q,ie("String"),"to_str"),G(q.length<3||q.slice(0,2)!=="@@")&&T.$raise(ie("NameError").$new("`"+q+"' is not allowed as a class variable name",q)),q}),I(X,"$const_name?",function(q){return typeof q!="string"&&(q=m["$coerce_to!"](q,ie("String"),"to_str")),q[0]===q[0].toUpperCase()}),I(X,"$const_name!",function(q){var p=this;return G(ie("::","String","skip_raise")?"constant":P)&&(q=m["$coerce_to!"](q,ie("String"),"to_str")),(!q||q[0]!=q[0].toUpperCase())&&p.$raise(ie("NameError"),"wrong constant name "+q),q}),I(X,"$pristine",function(q,p){var M,U;M=ee(arguments,1),U=M;for(var S,F,v=U.length-1;v>=0;v--)S=U[v],F=q.$$prototype[n.jsid(S)],F&&!F.$$stub&&(F.$$pristine=!0);return P},-2);var re=[];return I(X,"$inspect",function(q){var p=P,M=!1;return function(){try{try{return q===null?"null":q===void 0?"undefined":typeof q.$$class>"u"?Object.prototype.toString.apply(q):typeof q.$inspect!="function"||q.$inspect.$$stub||re.indexOf(q.$__id__())!==-1?"#<"+q.$$class+":0x"+q.$__id__().$to_s(16)+">":(re.push(q.$__id__()),M=!0,q.$inspect())}catch(U){if(n.rescue(U,[ie("Exception")])){p=U;try{return"#<"+q.$$class+":0x"+q.$__id__().$to_s(16)+">"}finally{n.pop_exception(U)}}else throw U}}finally{M&&re.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(n){var A=n.truthy,w=n.coerce_to,K=n.const_set,I=n.Object,ee=n.return_ivar,Z=n.assign_ivar,T=n.ivar,G=n.deny_frozen_access,m=n.freeze,P=n.prop,ie=n.jsid,W=n.each_ivar,X=n.klass,re=n.Opal,J=n.Kernel,q=n.defs,p=n.send,M=n.def,U=n.eqeqeq,S=n.Module,F=n.rb_lt,v=n.rb_gt,z=n.slice,C=n.to_a,x=n.return_val,y=n.eqeq,u=n.not,d=n.rb_le,k=n.range,h=n.send2,c=n.find_super,l=n.alias,E=[],B=n.nil,_=n.$$$;return n.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(s,$,t){var e=X(s,$,"Module"),r=[e].concat(t),i=n.$r(r);function a(D){if(D.$$is_string)return D;var R=re.$try_convert(D,_("String"),"to_str");if(R.$$is_string)return R;R===B?J.$raise(_("TypeError"),""+D+" is not a symbol nor a string"):J.$raise(_("TypeError"),"can't convert "+D.$class()+" to String ("+D.$class()+"#to_str gives "+R.$class())}q(e,"$allocate",function(){var R=this,V=n.allocate_module(B,function(){});return R!==n.Module&&Object.setPrototypeOf(V,R.$$prototype),V}),M(e,"$initialize",function D(){var R=D.$$p||B,V=this;return D.$$p=null,R!==B?p(V,"module_eval",[],R.$to_proc()):B}),M(e,"$===",function(R){var V=this;return A(R==null)?!1:n.is_a(R,V)}),M(e,"$<",function(R){var V=this;U(S,R)||J.$raise(_("TypeError"),"compared with non class/module");var O=V,ae,le,_e;if(O===R)return!1;for(le=0,ae=n.ancestors(V),_e=ae.length;le<_e;le++)if(ae[le]===R)return!0;for(le=0,ae=n.ancestors(R),_e=ae.length;le<_e;le++)if(ae[le]===V)return!1;return B}),M(e,"$<=",function(R){var V=this,O=B;return A(O=V["$equal?"](R))?O:F(V,R)}),M(e,"$>",function(R){var V=this;return U(S,R)||J.$raise(_("TypeError"),"compared with non class/module"),F(R,V)}),M(e,"$>=",function(R){var V=this,O=B;return A(O=V["$equal?"](R))?O:v(V,R)}),M(e,"$<=>",function(R){var V=this,O=B;return V===R?0:!U(S,R)||(O=F(V,R),A(O["$nil?"]()))?B:A(O)?-1:1}),M(e,"$alias_method",function(R,V){var O=this;return G(O),R=w(R,_("String"),"to_str"),V=w(V,_("String"),"to_str"),n.alias(O,R,V),O}),M(e,"$alias_native",function(R,V){var O=this;return V==null&&(V=R),G(O),n.alias_native(O,R,V),O},-2),M(e,"$ancestors",function(){var R=this;return n.ancestors(R)}),M(e,"$append_features",function(R){var V=this;return G(R),n.append_features(V,R),V}),M(e,"$attr_accessor",function(R){var V,O,ae=this;return V=z(arguments),O=V,p(ae,"attr_reader",C(O)),p(ae,"attr_writer",C(O))},-1),M(e,"$attr",function(R){var V,O,ae=this;return V=z(arguments),O=V,O.length==2&&(O[1]===!0||O[1]===!1)?(ae.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),O[1]?ae.$attr_accessor(O[0]):ae.$attr_reader(O[0]),B):p(ae,"attr_reader",C(O))},-1),M(e,"$attr_reader",function(R){var V,O,ae=this;V=z(arguments),O=V,G(ae);for(var le=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=ie(de),ve=T(de),me=ee(ve);n.prop(le,ve,B),me.$$parameters=[],me.$$arity=0,n.defn(ae,ge,me)}return B},-1),M(e,"$attr_writer",function(R){var V,O,ae=this;V=z(arguments),O=V,G(ae);for(var le=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=ie(de+"="),ve=T(de),me=Z(ve);me.$$parameters=[["req"]],me.$$arity=1,n.prop(le,ve,B),n.defn(ae,ge,me)}return B},-1),M(e,"$autoload",function(R,V){var O=this;return G(O),i("Opal")["$const_name?"](R)||J.$raise(_("NameError"),"autoload must be constant name: "+R),V==""&&J.$raise(_("ArgumentError"),"empty file name"),O.$$const.hasOwnProperty(R)||(O.$$autoload||(O.$$autoload={}),n.const_cache_version++,O.$$autoload[R]={path:V,loaded:!1,required:!1,success:!1,exception:!1},O.$const_added&&!O.$const_added.$$pristine&&O.$const_added(R)),B}),M(e,"$autoload?",function(R){var V=this;if(V.$$autoload&&V.$$autoload[R]&&!V.$$autoload[R].required&&!V.$$autoload[R].success)return V.$$autoload[R].path;for(var O=V.$ancestors(),ae=0,le=O.length;ae<le;ae++)if(O[ae].$$autoload&&O[ae].$$autoload[R]&&!O[ae].$$autoload[R].required&&!O[ae].$$autoload[R].success)return O[ae].$$autoload[R].path;return B}),M(e,"$class_variables",function(){var R=this;return Object.keys(n.class_variables(R))}),M(e,"$class_variable_get",function(R){var V=this;return R=re["$class_variable_name!"](R),n.class_variable_get(V,R,!1)}),M(e,"$class_variable_set",function(R,V){var O=this;return G(O),R=re["$class_variable_name!"](R),n.class_variable_set(O,R,V)}),M(e,"$class_variable_defined?",function(R){var V=this;return R=re["$class_variable_name!"](R),n.class_variables(V).hasOwnProperty(R)}),M(e,"$const_added",x(B)),re.$pristine(e,"const_added"),M(e,"$remove_class_variable",function(R){var V=this;if(G(V),R=re["$class_variable_name!"](R),n.hasOwnProperty.call(V.$$cvars,R)){var O=V.$$cvars[R];return delete V.$$cvars[R],O}else J.$raise(_("NameError"),"cannot remove "+R+" for "+V)}),M(e,"$constants",function(R){var V=this;return R==null&&(R=!0),n.constants(V,R)},-1),q(e,"$constants",function(R){var V=this;if(R==null){var O=(V.$$nesting||[]).concat(I),ae,le={},_e,de;for(_e=0,de=O.length;_e<de;_e++)for(ae in O[_e].$$const)le[ae]=!0;return Object.keys(le)}else return n.constants(V,R)},-1),q(e,"$nesting",function(){var R=this;return R.$$nesting||[]}),M(e,"$const_defined?",function(R,V){var O=this;V==null&&(V=!0),R=i("Opal")["$const_name!"](R),A(R["$=~"](_(re,"CONST_NAME_REGEXP")))||J.$raise(_("NameError").$new("wrong constant name "+R,R));var ae,le=[O],_e,de;for(V&&(le=le.concat(n.ancestors(O)),O.$$is_module&&(le=le.concat([I]).concat(n.ancestors(I)))),_e=0,de=le.length;_e<de;_e++)if(ae=le[_e],ae.$$const[R]!=null||ae.$$autoload&&ae.$$autoload[R]&&!ae.$$autoload[R].required&&!ae.$$autoload[R].success)return!0;return!1},-2),M(e,"$const_get",function(R,V){var O=this;return V==null&&(V=!0),R=i("Opal")["$const_name!"](R),R.indexOf("::")===0&&R!=="::"&&(R=R.slice(2)),A(R.indexOf("::")!=-1&&R!="::")?p(R.$split("::"),"inject",[O],function(le,_e){return le==null&&(le=B),_e==null&&(_e=B),le.$const_get(_e)}):(A(R["$=~"](_(re,"CONST_NAME_REGEXP")))||J.$raise(_("NameError").$new("wrong constant name "+R,R)),V?n.$$([O],R):n.const_get_local(O,R))},-2),M(e,"$const_missing",function(R){var V=this,O=B;return O=y(V,I)?R:""+V+"::"+R,J.$raise(_("NameError").$new("uninitialized constant "+O,R))}),M(e,"$const_set",function(R,V){var O=this;return G(O),R=re["$const_name!"](R),(A(R["$!~"](_(re,"CONST_NAME_REGEXP")))||A(R["$start_with?"]("::")))&&J.$raise(_("NameError").$new("wrong constant name "+R,R)),K(O,R,V),V}),M(e,"$public_constant",x(B)),M(e,"$define_method",function D(R,V){var O=D.$$p||B,ae=this,le=B,_e=B,de=B;return D.$$p=null,G(ae),V===void 0&&O===B&&J.$raise(_("ArgumentError"),"tried to create a Proc object without a block"),R=a(R),A(V!==void 0)&&(O=U(_("Proc"),le=V)?V:U(_("Method"),le)?V.$to_proc().$$unbound:U(_("UnboundMethod"),le)?n.wrap_method_body(V.$$method):J.$raise(_("TypeError"),"wrong argument type "+V.$class()+" (expected Proc/Method/UnboundMethod)"),A(!V.$$is_proc)&&(_e=V.$owner(),A(_e.$$is_class)&&u(d(ae,_e))&&(de=A(_e.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+_e,J.$raise(_("TypeError"),de)))),typeof Proxy<"u"&&(O.$$proxy_target=O,O=new Proxy(O,{apply:function(ge,ve,me){var be=ge.$$jsid,$e=ge.$$is_lambda;ge.$$jsid=R,ge.$$is_lambda=!0;try{return ge.apply(ve,me)}catch(j){if(j===ge.$$brk||j===ge.$$ret)return j.$v;throw j}finally{ge.$$jsid=be,ge.$$is_lambda=$e}}})),O.$$jsid=R,O.$$s=null,O.$$def=O,O.$$define_meth=!0,n.defn(ae,ie(R),O)},-2),M(e,"$freeze",function(){var R=this;return A(R["$frozen?"]())?R:(R.hasOwnProperty("$$base_module")||P(R,"$$base_module",null),m(R))}),M(e,"$remove_method",function(R){var V,O,ae=this;V=z(arguments),O=V;for(var le=0;le<O.length;le++){var _e=a(O[le]);G(ae),n.rdef(ae,"$"+_e)}return ae},-1),M(e,"$singleton_class?",function(){var R=this;return!!R.$$is_singleton}),M(e,"$include",function(R){var V,O,ae=this;V=z(arguments),O=V;for(var le=O.length-1;le>=0;le--){var _e=O[le];_e.$$is_module||J.$raise(_("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$append_features(ae),_e.$included(ae)}return ae},-1),M(e,"$included_modules",function(){var R=this;return n.included_modules(R)}),M(e,"$include?",function(R){var V=this;R.$$is_module||J.$raise(_("TypeError"),"wrong argument type "+R.$class()+" (expected Module)");var O,ae,le,_e=n.ancestors(V);for(O=0,ae=_e.length;O<ae;O++)if(le=_e[O],le===R&&le!==V)return!0;return!1}),M(e,"$instance_method",function(R){var V=this,O=V.$$prototype[ie(R)];return(!O||O.$$stub)&&J.$raise(_("NameError").$new("undefined method `"+R+"' for class `"+V.$name()+"'",R)),_("UnboundMethod").$new(V,O.$$owner||V,O,R)}),M(e,"$instance_methods",function(R){var V=this;return R==null&&(R=!0),A(R)?n.instance_methods(V):n.own_instance_methods(V)},-1),M(e,"$included",x(B)),M(e,"$extended",x(B)),M(e,"$extend_object",function(R){return G(R),B}),M(e,"$method_added",function(R){return z(arguments),B},-1),M(e,"$method_removed",function(R){return z(arguments),B},-1),M(e,"$method_undefined",function(R){return z(arguments),B},-1),M(e,"$module_eval",function D(R){var V=D.$$p||B,O,ae,le,_e=this,de=B,ge=B,ve=B,me=B,be=B,$e=B;D.$$p=null,O=z(arguments),ae=O,A(V["$nil?"]())&&A(!!n.compile)?(A(k(1,3,!1)["$cover?"](ae.$size()))||J.$raise(_("ArgumentError"),"wrong number of arguments (0 for 1..3)"),le=[].concat(C(ae)),de=le[0]==null?B:le[0],ge=le[1]==null?B:le[1],le[2]==null||le[2],ve=new Map([["file",A(me=ge)?me:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(ve),$e=re.$compile(de,be),V=p(J,"proc",[],function Y(){var Q=Y.$$s==null?this:Y.$$s;return new Function("Opal,self","return "+$e)(n,Q)},{$$s:_e})):A(ae["$any?"]())&&J.$raise(_("ArgumentError"),"wrong number of arguments ("+ae.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var j=V.$$s,L;return V.$$s=null,L=V.apply(_e,[_e]),V.$$s=j,L},-1),M(e,"$module_exec",function D(R){var V=D.$$p||B,O,ae,le=this;D.$$p=null,O=z(arguments),ae=O,V===B&&J.$raise(_("LocalJumpError"),"no block given");var _e=V.$$s,de;return V.$$s=null,de=V.apply(le,ae),V.$$s=_e,de},-1),M(e,"$method_defined?",function(R){var V=this,O=V.$$prototype[ie(R)];return!!O&&!O.$$stub}),M(e,"$module_function",function(R){var V,O,ae=this;if(V=z(arguments),O=V,G(ae),O.length===0)return ae.$$module_function=!0,B;for(var le=0,_e=O.length;le<_e;le++){var de=O[le],ge=ie(de),ve=ae.$$prototype[ge];n.defs(ae,ge,ve)}return O.length===1?O[0]:O},-1),M(e,"$name",function(){var R=this;if(R.$$full_name)return R.$$full_name;for(var V=[],O=R;O;){if(O.$$name===B||O.$$name==null)return B;if(V.unshift(O.$$name),O=O.$$base_module,O===I)break}return V.length===0?B:R.$$full_name=V.join("::")}),M(e,"$prepend",function(R){var V,O,ae=this;V=z(arguments),O=V,O.length===0&&J.$raise(_("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var le=O.length-1;le>=0;le--){var _e=O[le];_e.$$is_module||J.$raise(_("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$prepend_features(ae),_e.$prepended(ae)}return ae},-1),M(e,"$prepend_features",function(R){var V=this;return G(R),V.$$is_module||J.$raise(_("TypeError"),"wrong argument type "+V.$class()+" (expected Module)"),n.prepend_features(V,R),V}),M(e,"$prepended",x(B)),M(e,"$remove_const",function(R){var V=this;return G(V),n.const_remove(V,R)}),M(e,"$to_s",function(){var R=this,V=B;return A(V=n.Module.$name.call(R))?V:"#<"+(R.$$is_module?"Module":"Class")+":0x"+R.$__id__().$to_s(16)+">"}),M(e,"$undef_method",function(R){var V,O,ae=this;V=z(arguments),O=V;for(var le=0;le<O.length;le++){var _e=a(O[le]);G(ae),n.udef(ae,"$"+_e)}return ae},-1),M(e,"$instance_variables",function(){var R=this,V=B;V=(n.Module.$$nesting=r,R.$constants());var O=[];return W(R,function(ae){ae!=="constructor"&&!V["$include?"](ae)&&O.push("@"+ae)}),O});function o(D,R){var V,O=n.own_instance_methods(D);for(V=0;V<O.length;V++){var ae=O[V],le=ie(ae),_e=D.$$prototype[le],de=n.wrap_method_body(_e);de.$$jsid=ae,n.defn(R,le,de)}}function g(D,R){for(var V=D.$$own_included_modules,O=V.length-1;O>=0;O--)n.append_features(V[O],R)}function N(D,R){for(var V=D.$$own_prepended_modules,O=V.length-1;O>=0;O--)n.prepend_features(V[O],R)}return M(e,"$initialize_copy",function(R){var V=this;return o(R,V),g(R,V),N(R,V),V.$$cloned_from=R.$$cloned_from.concat(R),V.$copy_class_variables(R),V.$copy_constants(R)}),M(e,"$initialize_dup",function D(R){var V=D.$$p||B,O=this;return D.$$p=null,h(O,c(O,"initialize_dup",D,!1,!0),"initialize_dup",[R],V),O.$copy_singleton_methods(R)}),M(e,"$copy_class_variables",function(R){var V=this;for(var O in R.$$cvars)V.$$cvars[O]=R.$$cvars[O]}),M(e,"$copy_constants",function(R){var V=this,O,ae=R.$$const;for(O in ae)K(V,O,ae[O])}),M(e,"$refine",function D(R){var V=D.$$p||B,O,ae=this,le=B,_e=B,de=B;return D.$$p=null,O=[ae,B,B],le=O[0],_e=O[1],de=O[2],de=n.id(R),typeof ae.$$refine_modules>"u"&&(ae.$$refine_modules=Object.create(null)),typeof ae.$$refine_modules[de]>"u"?_e=ae.$$refine_modules[de]=_("Refinement").$new():_e=ae.$$refine_modules[de],_e.refinement_module=le,_e.refined_class=R,p(_e,"class_exec",[],V.$to_proc()),_e}),M(e,"$refinements",function(){var R=this,V=R.$$refine_modules,O=new Map;if(typeof V>"u")return O;for(var ae in V)O["$[]="](V[ae].refined_class,V[ae]);return O}),M(e,"$using",function(R){return J.$raise("Module#using is not permitted in methods")}),l(e,"class_eval","module_eval"),l(e,"class_exec","module_exec"),l(e,"inspect","to_s")}("::",null,E),function(s,$){var t=X(s,$,"Refinement"),e=t.$$prototype;return e.refinement_module=e.refined_class=B,t.$attr_reader("refined_class"),M(t,"$inspect",function r(){var i=r.$$p||B,a=this;return r.$$p=null,A(a.refinement_module)?"#<refinement:"+a.refined_class.$inspect()+"@"+a.refinement_module.$inspect()+">":h(a,c(a,"inspect",r,!1,!0),"inspect",[],i)})}("::",S)};Opal.modules["corelib/class"]=function(n){var A=n.klass,w=n.send,K=n.defs,I=n.def,ee=n.ensure_kwargs,Z=n.hash_get,T=n.eqeq,G=n.truthy,m=n.rb_plus,P=n.return_val,ie=n.slice,W=n.send2,X=n.find_super,re=n.Kernel,J=n.alias,q=n.top,p=[],M=n.nil,U=n.$$$;return n.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),q.$require("corelib/module"),function(S,F,v){var z=A(S,F,"Class"),C=[z].concat(v),x=n.$r(C);return K(z,"$new",function y(u){var d=y.$$p||M;if(y.$$p=null,u==null&&(u=x("Object")),!u.$$is_class)throw n.TypeError.$new("superclass must be a Class");var k=n.allocate_class(M,u);return u.$inherited(k),d!==M&&w(k,"class_eval",[],d.$to_proc()),k},-1),I(z,"$allocate",function(){var u=this,d=new u.$$constructor;return d.$$id=n.uid(),d}),I(z,"$clone",function(u){var d,k=this,h=M;return u=ee(u),d=Z(u,"freeze"),d==null&&(d=M),G(d["$nil?"]())||T(d,!0)||T(d,!1)||k.$raise(x("ArgumentError"),"unexpected value for freeze: "+d.$class()),h=n.allocate_class(M,k.$$super),h.$copy_instance_variables(k),h.$copy_singleton_methods(k),h.$initialize_clone(k,new Map([["freeze",d]])),(T(d,!0)||G(d["$nil?"]())&&G(k["$frozen?"]()))&&h.$freeze(),h},-1),I(z,"$dup",function(){var u=this,d=M;return d=n.allocate_class(M,u.$$super),d.$copy_instance_variables(u),d.$initialize_dup(u),d}),I(z,"$descendants",function(){var u=this;return m(u.$subclasses(),w(u.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),I(z,"$inherited",P(M)),I(z,"$new",function y(u){var d=y.$$p||M,k,h,c=this;y.$$p=null,k=ie(arguments),h=k;var l=c.$allocate();return n.send(l,l.$initialize,h,d),l},-1),I(z,"$subclasses",function(){var u=this;if(typeof WeakRef<"u"){var d,k,h=[];for(d=0;d<u.$$subclasses.length;d++)k=u.$$subclasses[d].deref(),k!==void 0&&h.push(k);return h}else return u.$$subclasses}),I(z,"$superclass",function(){var u=this;return u.$$super||M}),I(z,"$to_s",function y(){y.$$p;var u=this;y.$$p=null;var d=u.$$singleton_of;return d&&d.$$is_a_module?"#<Class:"+d.$name()+">":d?"#<Class:#<"+d.$$class.$name()+":0x"+n.id(d).$to_s(16)+">>":W(u,X(u,"to_s",y,!1,!0),"to_s",[],null)}),I(z,"$attached_object",function(){var u=this;if(u.$$singleton_of!=null)return u.$$singleton_of;re.$raise(U("TypeError"),"`"+u+"' is not a singleton class")}),J(z,"inspect","to_s")}("::",null,p)};Opal.modules["corelib/basic_object"]=function(n){var A=n.klass,w=n.slice,K=n.def,I=n.alias,ee=n.return_val,Z=n.Opal,T=n.truthy,G=n.range,m=n.Kernel,P=n.to_a,ie=n.send,W=n.eqeq,X=n.rb_ge,re=n.nil,J=n.$$$;return n.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(q,p){var M=A(q,p,"BasicObject");return K(M,"$initialize",function(S){return w(arguments),re},-1),K(M,"$==",function(S){var F=this;return F===S}),K(M,"$eql?",function(S){var F=this;return F["$=="](S)}),I(M,"equal?","=="),K(M,"$__id__",function(){var S=this;return S.$$id!=null||n.prop(S,"$$id",n.uid()),S.$$id}),K(M,"$__send__",function U(S,F){var v=U.$$p||re,z,C,x=this;U.$$p=null,z=w(arguments,1),C=z,S.$$is_string||x.$raise(J("TypeError"),""+x.$inspect()+" is not a symbol nor a string");var y=x[n.jsid(S)];return y?(v!==re&&(y.$$p=v),y.apply(x,C)):(v!==re&&(x.$method_missing.$$p=v),x.$method_missing.apply(x,[S].concat(C)))},-2),K(M,"$!",ee(!1)),Z.$pristine("!"),K(M,"$!=",function(S){var F=this;return F["$=="](S)["$!"]()}),K(M,"$instance_eval",function U(S){var F=U.$$p||re,v,z,C,x=this,y=re,u=re,d=re,k=re,h=re,c=re;if(U.$$p=null,v=w(arguments),z=v,T(F["$nil?"]())&&T(!!n.compile))T(G(1,3,!1)["$cover?"](z.$size()))||m.$raise(J("ArgumentError"),"wrong number of arguments (0 for 1..3)"),C=[].concat(P(z)),y=C[0]==null?re:C[0],u=C[1]==null?re:C[1],C[2]==null||C[2],d=new Map([["file",T(k=u)?k:"(eval)"],["eval",!0]]),h=new Map([["arity_check",!1]]).$merge(d),c=Z.$compile(y,h),F=ie(m,"proc",[],function B(){var _=B.$$s==null?this:B.$$s;return new Function("Opal,self","return "+c)(n,_)},{$$s:x});else{if(T(F["$nil?"]())&&T(X(z.$length(),1))&&W(z.$first()["$[]"](0),"@"))return x.$instance_variable_get(z.$first());T(z["$any?"]())&&m.$raise(J("ArgumentError"),"wrong number of arguments ("+z.$size()+" for 0)")}var l=F.$$s,E;if(F.$$s=null,x.$$is_a_module){x.$$eval=!0;try{E=F.call(x,x)}finally{x.$$eval=!1}}else E=F.call(x,x);return F.$$s=l,E},-1),K(M,"$instance_exec",function U(S){var F=U.$$p||re,v,z,C=this;U.$$p=null,v=w(arguments),z=v,T(F)||m.$raise(J("ArgumentError"),"no block given");var x=F.$$s,y;if(F.$$s=null,C.$$is_a_module){C.$$eval=!0;try{y=F.apply(C,z)}finally{C.$$eval=!1}}else y=F.apply(C,z);return F.$$s=x,y},-1),K(M,"$singleton_method_added",function(S){return w(arguments),re},-1),K(M,"$singleton_method_removed",function(S){return w(arguments),re},-1),K(M,"$singleton_method_undefined",function(S){return w(arguments),re},-1),K(M,"$method_missing",function U(S,F){U.$$p;var v,z,C=this,x=re;return U.$$p=null,v=w(arguments,1),z=v,x=Z.$inspect(C),m.$raise(J("NoMethodError").$new("undefined method `"+S+"' for "+x,S,z),re,m.$caller(1))},-2),Z.$pristine(M,"method_missing"),K(M,"$respond_to_missing?",function(S,F){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(n){var A=n.truthy,w=n.coerce_to,K=n.respond_to,I=n.Opal,ee=n.deny_frozen_access,Z=n.freeze,T=n.freeze_props,G=n.jsid,m=n.each_ivar,P=n.module,ie=n.return_val,W=n.def,X=n.Kernel,re=n.gvars,J=n.slice,q=n.send,p=n.to_a,M=n.ensure_kwargs,U=n.hash_get,S=n.eqeq,F=n.rb_plus,v=n.extract_kwargs,z=n.eqeqeq,C=n.return_self,x=n.rb_le,y=n.rb_lt,u=n.Object,d=n.alias,k=n.klass,h=[],c=n.nil,l=n.$$$;return n.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(E,B){var _=P(E,"Kernel"),s=[_].concat(B),$=n.$r(s);W(_,"$=~",ie(!1)),W(_,"$!~",function(r){var i=this;return i["$=~"](r)["$!"]()}),W(_,"$===",function(r){var i=this,a=c;return A(a=i.$object_id()["$=="](r.$object_id()))?a:i["$=="](r)}),W(_,"$<=>",function(r){var i=this;i.$$comparable=!0;var a=i["$=="](r);return a&&a!==c?0:c}),W(_,"$method",function(r){var i=this,a=i[G(r)];return(!a||a.$$stub)&&X.$raise(l("NameError").$new("undefined method `"+r+"' for class `"+i.$class()+"'",r)),l("Method").$new(i,a.$$owner||i.$class(),a,r)}),W(_,"$methods",function(r){var i=this;return r==null&&(r=!0),A(r)?n.methods(i):n.own_methods(i)},-1),W(_,"$public_methods",function(r){var i=this;return r==null&&(r=!0),A(r)?n.methods(i):n.receiver_methods(i)},-1),W(_,"$Array",function(r){var i;return r===c?[]:r.$$is_array?r:(i=I["$coerce_to?"](r,l("Array"),"to_ary"),i!==c||(i=I["$coerce_to?"](r,l("Array"),"to_a"),i!==c)?i:[r])}),W(_,"$at_exit",function e(){var r=e.$$p||c,i=c;return re.__at_exit__==null&&(re.__at_exit__=c),e.$$p=null,re.__at_exit__=A(i=re.__at_exit__)?i:[],re.__at_exit__["$<<"](r),r}),W(_,"$caller",function(r,i){r==null&&(r=1),i==null&&(i=c);var a,o;a=new Error().$backtrace(),o=[];for(var g=r+1,N=a.length;g<N;g++)a[g].match(/runtime\.js/)||o.push(a[g]);return i!=c&&(o=o.slice(0,i)),o},-1),W(_,"$caller_locations",function(r){var i,a,o=this;return i=J(arguments),a=i,q(q(o,"caller",p(a)),"map",[],function(N){return N==null&&(N=c),l(l(l("Thread"),"Backtrace"),"Location").$new(N)})},-1),W(_,"$class",function(){var r=this;return r.$$class}),W(_,"$copy_instance_variables",function(r){var i=this,a=Object.keys(r),o,g,N;for(o=0,g=a.length;o<g;o++)N=a[o],N.charAt(0)!=="$"&&r.hasOwnProperty(N)&&(i[N]=r[N])}),W(_,"$copy_singleton_methods",function(r){var i=this,a,o,g,N;if(r.hasOwnProperty("$$meta")&&r.$$meta!==null){var D=n.get_singleton_class(r),R=n.get_singleton_class(i);for(g=Object.getOwnPropertyNames(D.$$prototype),a=0,N=g.length;a<N;a++)o=g[a],n.is_method(o)&&(R.$$prototype[o]=D.$$prototype[o]);R.$$const=Object.assign({},D.$$const),Object.setPrototypeOf(R.$$prototype,Object.getPrototypeOf(D.$$prototype))}for(a=0,g=Object.getOwnPropertyNames(r),N=g.length;a<N;a++)o=g[a],o.charAt(0)==="$"&&o.charAt(1)!=="$"&&r.hasOwnProperty(o)&&(i[o]=r[o])}),W(_,"$clone",function(r){var i,a=this,o=c;return r=M(r),i=U(r,"freeze"),i==null&&(i=c),A(i["$nil?"]())||S(i,!0)||S(i,!1)||a.$raise($("ArgumentError"),"unexpected value for freeze: "+i.$class()),o=a.$class().$allocate(),o.$copy_instance_variables(a),o.$copy_singleton_methods(a),o.$initialize_clone(a,new Map([["freeze",i]])),(S(i,!0)||A(i["$nil?"]())&&A(a["$frozen?"]()))&&o.$freeze(),o},-1),W(_,"$initialize_clone",function(r,i){var a=this;return i=M(i),U(i,"freeze"),a.$initialize_copy(r),a},-2),W(_,"$define_singleton_method",function e(r,i){var a=e.$$p||c,o=this;return e.$$p=null,q(o.$singleton_class(),"define_method",[r,i],a.$to_proc())},-2),W(_,"$dup",function(){var r=this,i=c;return i=r.$class().$allocate(),i.$copy_instance_variables(r),i.$initialize_dup(r),i}),W(_,"$initialize_dup",function(r){var i=this;return i.$initialize_copy(r)}),W(_,"$enum_for",function e(r,i){var a=e.$$p||c,o,g,N,D=this;return e.$$p=null,o=J(arguments),o.length>0&&(g=o.shift()),g==null&&(g="each"),N=o,q(l("Enumerator"),"for",[D,g].concat(p(N)),a.$to_proc())},-1),W(_,"$equal?",function(r){var i=this;return i===r}),W(_,"$exit",function(r){var i=c,a=c;for(re.__at_exit__==null&&(re.__at_exit__=c),r==null&&(r=!0),re.__at_exit__=A(i=re.__at_exit__)?i:[];!A(re.__at_exit__["$empty?"]());)a=re.__at_exit__.$pop(),a.$call();return r.$$is_boolean?r=r?0:1:r=w(r,l("Integer"),"to_int"),n.exit(r),c},-1),W(_,"$extend",function(r){var i,a,o=this;i=J(arguments),a=i,a.length==0&&o.$raise(l("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),ee(o);for(var g=o.$singleton_class(),N=a.length-1;N>=0;N--){var D=a[N];D.$$is_module||X.$raise(l("TypeError"),"wrong argument type "+D.$class()+" (expected Module)"),D.$append_features(g),D.$extend_object(o),D.$extended(o)}return o},-1),W(_,"$freeze",function(){var r=this;return A(r["$frozen?"]())?r:typeof r=="object"?(T(r),Z(r)):r}),W(_,"$frozen?",function(){var r=this;switch(typeof r){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return r.$$frozen||!1;default:return!1}}),W(_,"$gets",function(r){var i,a;return re.stdin==null&&(re.stdin=c),i=J(arguments),a=i,q(re.stdin,"gets",p(a))},-1),W(_,"$hash",function(){var r=this;return r.$__id__()}),W(_,"$initialize_copy",ie(c));var t=[];return W(_,"$inspect",function(){var r=this,i=c,a=c,o=c,g=c;return function(){try{try{return i="",a=r.$__id__(),A(t["$include?"](a))?i=" ...":(t["$<<"](a),o=!0,q(r.$instance_variables(),"each",[],function N(D){var R=N.$$s==null?this:N.$$s,V=c,O=c;return D==null&&(D=c),V=R.$instance_variable_get(D),O=$("Opal").$inspect(V),i=F(i," "+D+"="+O)},{$$s:r})),"#<"+r.$class()+":0x"+a.$to_s(16)+i+">"}catch(N){if(n.rescue(N,[$("StandardError")])){g=N;try{return"#<"+r.$class()+":0x"+a.$to_s(16)+">"}finally{n.pop_exception(N)}}else throw N}}finally{A(o)&&t.$pop()}}()}),W(_,"$instance_of?",function(r){var i=this;return!r.$$is_class&&!r.$$is_module&&X.$raise(l("TypeError"),"class or module required"),i.$$class===r}),W(_,"$instance_variable_defined?",function(r){var i=this;return r=I["$instance_variable_name!"](r),n.hasOwnProperty.call(i,r.substr(1))}),W(_,"$instance_variable_get",function(r){var i=this;r=I["$instance_variable_name!"](r);var a=i[n.ivar(r.substr(1))];return a??c}),W(_,"$instance_variable_set",function(r,i){var a=this;return ee(a),r=I["$instance_variable_name!"](r),a[n.ivar(r.substr(1))]=i}),W(_,"$remove_instance_variable",function(r){var i=this;r=I["$instance_variable_name!"](r);var a=n.ivar(r.substr(1)),o;return i.hasOwnProperty(a)?(o=i[a],delete i[a],o):X.$raise(l("NameError"),"instance variable "+r+" not defined")}),W(_,"$instance_variables",function(){var r=this,i=[];return m(r,function(a){a.substr(-1)==="$"&&(a=a.slice(0,a.length-1)),i.push("@"+a)}),i}),W(_,"$Integer",function(r,i,a){var o,g,N,D;o=J(arguments,1),g=v(o),g=M(g),o.length>0&&(N=o.shift()),D=U(g,"exception"),D==null&&(D=!0);var R,V,O;if(D=A(D),!r.$$is_string){if(N!==void 0)if(D)X.$raise(l("ArgumentError"),"base specified for non string value");else return c;if(r===c)if(D)X.$raise(l("TypeError"),"can't convert nil into Integer");else return c;if(r.$$is_number){if(r===1/0||r===-1/0||isNaN(r))if(D)X.$raise(l("FloatDomainError"),r);else return c;return Math.floor(r)}if(r["$respond_to?"]("to_int")&&(R=r.$to_int(),n.is_a(R,l("Integer")))||r["$respond_to?"]("to_i")&&(R=r.$to_i(),n.is_a(R,l("Integer"))))return R;if(D)X.$raise(l("TypeError"),"can't convert "+r.$class()+" into Integer");else return c}if(r==="0")return 0;if(N===void 0)N=0;else if(N=w(N,l("Integer"),"to_int"),N===1||N<0||N>36)if(D)X.$raise(l("ArgumentError"),"invalid radix "+N);else return c;if(V=r.toLowerCase(),V=V.replace(/(\d)_(?=\d)/g,"$1"),V=V.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ae,le,_e){switch(_e){case"0b":if(N===0||N===2)return N=2,le;case"0":case"0o":if(N===0||N===8)return N=8,le;case"0d":if(N===0||N===10)return N=10,le;case"0x":if(N===0||N===16)return N=16,le}if(D)X.$raise(l("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c}),N=N===0?10:N,O="0-"+(N<=10?N-1:"9a-"+String.fromCharCode(97+(N-11))),!new RegExp("^\\s*[+-]?["+O+"]+\\s*$").test(V))if(D)X.$raise(l("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c;if(R=parseInt(V,N),isNaN(R))if(D)X.$raise(l("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c;return R},-2),W(_,"$Float",function(r,i){var a;i=M(i),a=U(i,"exception"),a==null&&(a=!0);var o;if(a=A(a),r===c)if(a)X.$raise(l("TypeError"),"can't convert nil into Float");else return c;if(r.$$is_string){if(o=r.toString(),o=o.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(o))return X.$Integer(o);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(o))if(a)X.$raise(l("ArgumentError"),'invalid value for Float(): "'+r+'"');else return c;return parseFloat(o)}return a?I["$coerce_to!"](r,l("Float"),"to_f"):w(r,l("Float"),"to_f")},-2),W(_,"$Hash",function(r){return A(r["$nil?"]())||S(r,[])?new Map:z(l("Hash"),r)?r:I["$coerce_to!"](r,l("Hash"),"to_hash")}),W(_,"$is_a?",function(r){var i=this;return!r.$$is_class&&!r.$$is_module&&X.$raise(l("TypeError"),"class or module required"),n.is_a(i,r)}),W(_,"$itself",C),W(_,"$lambda",function e(){var r=e.$$p||c;return e.$$p=null,n.lambda(r)}),W(_,"$load",function(r){return r=I["$coerce_to!"](r,l("String"),"to_str"),n.load(r)}),W(_,"$loop",function e(){var r=e.$$p||c,i=this,a=c;if(e.$$p=null,r===c)return q(i,"enum_for",["loop"],function(){return l(l("Float"),"INFINITY")});for(;A(!0);)try{n.yieldX(r,[])}catch(o){if(n.rescue(o,[l("StopIteration")])){a=o;try{return a.$result()}finally{n.pop_exception(o)}}else throw o}return i}),W(_,"$nil?",ie(!1)),W(_,"$printf",function(r){var i,a,o=this,g=c;return re.stdout==null&&(re.stdout=c),i=J(arguments),a=i,A(a["$empty?"]())||(g=A(a[0].$$is_string)?re.stdout:a.$shift(),g.$write(q(o,"format",p(a)))),c},-1),W(_,"$proc",function e(){var r=e.$$p||c;return e.$$p=null,A(r)||X.$raise(l("ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r}),W(_,"$puts",function(r){var i,a;return re.stdout==null&&(re.stdout=c),i=J(arguments),a=i,q(re.stdout,"puts",p(a))},-1),W(_,"$p",function(r){var i,a;return i=J(arguments),a=i,q(a,"each",[],function(g){return re.stdout==null&&(re.stdout=c),g==null&&(g=c),re.stdout.$puts(g.$inspect())}),A(x(a.$length(),1))?a["$[]"](0):a},-1),W(_,"$print",function(r){var i,a;return re.stdout==null&&(re.stdout=c),i=J(arguments),a=i,q(re.stdout,"print",p(a))},-1),W(_,"$readline",function(r){var i,a;return re.stdin==null&&(re.stdin=c),i=J(arguments),a=i,q(re.stdin,"readline",p(a))},-1),W(_,"$warn",function(r,i){var a,o,g,N,D,R,V=this,O=c;return re.VERBOSE==null&&(re.VERBOSE=c),re.stderr==null&&(re.stderr=c),a=J(arguments),o=v(a),o=M(o),g=a,N=U(o,"uplevel"),N==null&&(N=c),A(N)&&(N=I["$coerce_to!"](N,l("Integer"),"to_str"),A(y(N,0))&&X.$raise(l("ArgumentError"),"negative level ("+N+")"),O=(D=(R=V.$caller(F(N,1),1).$first(),R===c||R==null?c:R.$split(":in `")),D===c||D==null?c:D.$first()),A(O)&&(O=""+O+": "),g=q(g,"map",[],function(le){return le==null&&(le=c),""+O+"warning: "+le})),A(re.VERBOSE["$nil?"]())||A(g["$empty?"]())?c:q(re.stderr,"puts",p(g))},-1),W(_,"$raise",function(r,i,a){throw re["!"]==null&&(re["!"]=c),i==null&&(i=c),a==null&&(a=c),r==null&&re["!"]!==c?re["!"]:(r==null?r=l("RuntimeError").$new(""):K(r,"$to_str")?r=l("RuntimeError").$new(r.$to_str()):r.$$is_class&&K(r,"$exception")?r=r.$exception(i):r.$$is_exception||(r=l("TypeError").$new("exception class/object expected")),a!==c&&r.$set_backtrace(a),re["!"]!==c&&n.exceptions.push(re["!"]),re["!"]=r,r)},-1),W(_,"$rand",function(r){return r===void 0?l(l("Random"),"DEFAULT").$rand():(r.$$is_number&&(r<0&&(r=Math.abs(r)),r%1!==0&&(r=r.$to_i()),r===0&&(r=void 0)),l(l("Random"),"DEFAULT").$rand(r))},-1),W(_,"$respond_to?",function(r,i){var a=this;i==null&&(i=!1);var o=a[G(r)];return typeof o=="function"&&!o.$$stub?!0:a["$respond_to_missing?"].$$pristine===!0?!1:a["$respond_to_missing?"](r,i)},-2),W(_,"$respond_to_missing?",function(r,i){return!1},-2),I.$pristine(_,"respond_to?","respond_to_missing?"),W(_,"$require",function(r){return typeof r!="string"&&n.String&&n.Array&&(r=I["$coerce_to!"](r,l("String"),"to_str")),n.require(r)}),W(_,"$require_relative",function(r){return I["$try_convert!"](r,l("String"),"to_str"),r=l("File").$expand_path(l("File").$join(n.current_file,"..",r)),n.require(r)}),W(_,"$require_tree",function(r,i){var a;i=M(i),a=U(i,"autoload"),a==null&&(a=!1);var o=[];r=l("File").$expand_path(r),r=n.normalize(r),r==="."&&(r="");for(var g in n.modules)g["$start_with?"](r)&&(a?o.push([g,!0]):o.push([g,n.require(g)]));return o},-2),W(_,"$singleton_class",function(){var r=this;return n.get_singleton_class(r)}),W(_,"$sleep",function(r){r==null&&(r=c),r===c&&X.$raise(l("TypeError"),"can't convert NilClass into time interval"),r.$$is_number||X.$raise(l("TypeError"),"can't convert "+r.$class()+" into time interval"),r<0&&X.$raise(l("ArgumentError"),"time interval must be positive");for(var i=n.global.performance?function(){return performance.now()}:function(){return new Date},a=i();i()-a<=r*1e3;);return Math.round(r)},-1),W(_,"$srand",function(r){return r==null&&(r=$("Random").$new_seed()),l("Random").$srand(r)},-1),W(_,"$String",function(r){var i=c;return A(i=I["$coerce_to?"](r,l("String"),"to_str"))?i:I["$coerce_to!"](r,l("String"),"to_s")}),W(_,"$tap",function e(){var r=e.$$p||c,i=this;return e.$$p=null,n.yield1(r,i),i}),W(_,"$to_proc",C),W(_,"$to_s",function(){var r=this;return"#<"+r.$class()+":0x"+r.$__id__().$to_s(16)+">"}),W(_,"$catch",function e(r){var i=e.$$p||c,a=c,o=c;e.$$p=null,r==null&&(r=c);try{return r=A(a=r)?a:u.$new(),n.yield1(i,r)}catch(g){if(n.rescue(g,[l("UncaughtThrowError")])){o=g;try{return S(o.$tag(),r)?o.$value():X.$raise()}finally{n.pop_exception(g)}}else throw g}},-1),W(_,"$throw",function(r,i){return i==null&&(i=c),X.$raise(l("UncaughtThrowError").$new(r,i))},-2),W(_,"$open",function e(r){var i=e.$$p||c,a,o;return e.$$p=null,a=J(arguments),o=a,q(l("File"),"open",p(o),i.$to_proc())},-1),W(_,"$yield_self",function e(){var r=e.$$p||c,i=this;return e.$$p=null,r===c?q(i,"enum_for",["yield_self"],ie(1)):n.yield1(r,i)}),d(_,"fail","raise"),d(_,"kind_of?","is_a?"),d(_,"object_id","__id__"),d(_,"public_send","__send__"),d(_,"send","__send__"),d(_,"then","yield_self"),d(_,"to_enum","enum_for")}("::",h),function(E,B){var _=k(E,B,"Object");return delete u.$$prototype.$require,_.$include(X)}("::",null)};Opal.modules["corelib/main"]=function(n){var A=n.return_val,w=n.def,K=n.Object,I=n.slice,ee=n.Kernel,Z=n.top;return n.nil,n.add_stubs("include,raise"),function(T,G){return w(T,"$to_s",A("main")),w(T,"$include",function(P){return K.$include(P)}),w(T,"$autoload",function(P){var ie,W;return ie=I(arguments),W=ie,n.Object.$autoload.apply(n.Object,W)},-1),w(T,"$using",function(P){return ee.$raise("main.using is permitted only at toplevel")})}(n.get_singleton_class(Z))};Opal.modules["corelib/error/errno"]=function(n){var A=n.module,w=n.truthy,K=n.rb_plus,I=n.send2,ee=n.find_super,Z=n.def,T=n.klass,G=n.nil,m=n.$$$;return n.add_stubs("+,errno,class,attr_reader"),function(P,ie){var W=A(P,"Errno"),X=G,re=G;X=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],re=G;var J;for(J=0;J<X.length;J++)(function(){var q=X[J][0],p=X[J][1],M=X[J][2];re=n.klass(W,n.SystemCallError,q),re.errno=M,function(U,S){return Z(U,"$new",function F(v){F.$$p;var z=this,C=G;return F.$$p=null,v==null&&(v=G),C=p,w(v)&&(C=K(C," - "+v)),I(z,ee(z,"new",F,!1,!0),"new",[C],null)},-1)}(n.get_singleton_class(re))})()}("::"),function(P,ie,W){var X=T(P,ie,"SystemCallError");return Z(X,"$errno",function(){var J=this;return J.$class().$errno()}),function(re,J){return re.$attr_reader("errno")}(n.get_singleton_class(X))}("::",m("StandardError"))};Opal.modules["corelib/error"]=function(n){var A=n.klass,w=n.slice,K=n.gvars,I=n.defs,ee=n.send,Z=n.to_a,T=n.def,G=n.send2,m=n.find_super,P=n.truthy,ie=n.Kernel,W=n.not,X=n.rb_plus,re=n.eqeq,J=n.Object,q=n.ensure_kwargs,p=n.hash_get,M=n.module,U=[],S=n.nil,F=n.$$$;return n.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(v,z,C){var x=A(v,z,"Exception"),y=[x].concat(C),u=n.$r(y),d=x.$$prototype;d.message=S,n.prop(x.$$prototype,"$$is_exception",!0);var k;Error.stackTraceLimit=100,I(x,"$new",function(l){var E,B,_=this;K["!"]==null&&(K["!"]=S),E=w(arguments),B=E;var s=B.length>0?B[0]:S,$=new _.$$constructor(s);return $.name=_.$$name,$.message=s,$.cause=K["!"],n.send($,$.$initialize,B),n.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace($,k),$},-1),k=x.$new,I(x,"$exception",function(l){var E,B,_=this;return E=w(arguments),B=E,ee(_,"new",Z(B))},-1),T(x,"$initialize",function(l){var E,B,_=this;return E=w(arguments),B=E,_.message=B.length>0?B[0]:S},-1),T(x,"$copy_instance_variables",function c(l){var E=c.$$p||S,B=this;c.$$p=null,G(B,m(B,"copy_instance_variables",c,!1,!0),"copy_instance_variables",[l],E),B.message=l.message,B.cause=l.cause,B.stack=l.stack});function h(c){for(var l=[],E,B=0;B<c.length;B++){var _=c[B];!_||!_.$$is_string||((E=_.match(/^    at (.*?) \((.*?)\)$/))?l.push(E[2]+":in `"+E[1]+"'"):(E=_.match(/^    at (.*?)$/))?l.push(E[1]+":in `undefined'"):(E=_.match(/^  from (.*?)$/))?l.push(E[1]):(E=_.match(/^(.*?)@(.*?)$/))&&l.push(E[2]+":in `"+E[1]+"'"))}return l}return T(x,"$backtrace",function(){var l=this;if(l.backtrace)return l.backtrace;var E=l.stack;return typeof E<"u"&&E.$$is_string?l.backtrace=h(E.split(`
`)):E?l.backtrace=h(E):[]}),T(x,"$backtrace_locations",function(){var l,E=this;return E.backtrace_locations||(E.backtrace_locations=(l=E.$backtrace(),l===S||l==null?S:ee(l,"map",[],function(_){return _==null&&(_=S),F(F(F("Thread"),"Backtrace"),"Location").$new(_)}))),E.backtrace_locations}),T(x,"$cause",function(){var l=this;return l.cause||S}),T(x,"$exception",function(l){var E=this;if(l==null&&(l=S),l===S||E===l)return E;var B=E.$clone();return B.message=l,E.backtrace&&(B.backtrace=E.backtrace.$dup()),B.stack=E.stack,B.cause=E.cause,B},-1),T(x,"$message",function(){var l=this;return l.$to_s()}),T(x,"$full_message",function(l){var E,B=this,_=S,s=S,$=S,t=S,e=S,r=S,i=S,a=S,o=S;return K.stderr==null&&(K.stderr=S),l==null&&(l=S),P(u("Hash","skip_raise")?"constant":S)?(l=new Map([["highlight",K.stderr["$tty?"]()],["order","top"]]).$merge(P(_=l)?_:new Map),E=[l["$[]"]("highlight"),l["$[]"]("order")],s=E[0],$=E[1],P([!0,!1]["$include?"](s))||ie.$raise(F("ArgumentError"),"expected true or false as highlight: "+s),P(["top","bottom"]["$include?"]($))||ie.$raise(F("ArgumentError"),"expected :top or :bottom as order: "+$),P(s)?(t="\x1B[1;4m",e="\x1B[1m",r="\x1B[m"):t=e=r="",i=B.$backtrace().$dup(),(W(i)||P(i["$empty?"]()))&&(i=B.$caller()),a=i.$shift(),o=""+a+": ",o=X(o,""+e+B.$to_s()+" ("+t+B.$class()+r+e+")"+r+`
`),o=X(o,ee(i,"map",[],function(N){return N==null&&(N=S),"	from "+N+`
`}).$join()),P(B.$cause())&&(o=X(o,B.$cause().$full_message(new Map([["highlight",s]])))),re($,"bottom")&&(o=o.$split(`
`).$reverse().$join(`
`),o=X(""+e+"Traceback"+r+` (most recent call last):
`,o)),o):""+B.message+`
`+B.stack},-1),T(x,"$inspect",function(){var l=this,E=S;return E=l.$to_s(),P(E["$empty?"]())?l.$class().$to_s():"#<"+l.$class().$to_s()+": "+l.$to_s()+">"}),T(x,"$set_backtrace",function(l){var E=this,B=!0,_,s;if(l===S)E.backtrace=S,E.stack="";else if(l.$$is_string)E.backtrace=[l],E.stack="  from "+l;else{if(l.$$is_array){for(_=0,s=l.length;_<s;_++)if(!l[_].$$is_string){B=!1;break}}else B=!1;B===!1&&ie.$raise(F("TypeError"),"backtrace must be Array of String"),E.backtrace=l,E.stack=ee(l,"map",[],function(t){return t==null&&(t=S),X("  from ",t)}).join(`
`)}return l}),T(x,"$to_s",function(){var l=this,E=S,B=S;return P(E=P(B=l.message)?l.message.$to_s():B)?E:l.$class().$to_s()})}("::",Error,U),A("::",F("Exception"),"ScriptError"),A("::",F("ScriptError"),"SyntaxError"),A("::",F("ScriptError"),"LoadError"),A("::",F("ScriptError"),"NotImplementedError"),A("::",F("Exception"),"SystemExit"),A("::",F("Exception"),"NoMemoryError"),A("::",F("Exception"),"SignalException"),A("::",F("SignalException"),"Interrupt"),A("::",F("Exception"),"SecurityError"),A("::",F("Exception"),"SystemStackError"),A("::",F("Exception"),"StandardError"),A("::",F("StandardError"),"EncodingError"),A("::",F("StandardError"),"ZeroDivisionError"),A("::",F("StandardError"),"NameError"),A("::",F("NameError"),"NoMethodError"),A("::",F("StandardError"),"RuntimeError"),A("::",F("RuntimeError"),"FrozenError"),A("::",F("StandardError"),"LocalJumpError"),A("::",F("StandardError"),"TypeError"),A("::",F("StandardError"),"ArgumentError"),A("::",F("ArgumentError"),"UncaughtThrowError"),A("::",F("StandardError"),"IndexError"),A("::",F("IndexError"),"StopIteration"),A("::",F("StopIteration"),"ClosedQueueError"),A("::",F("IndexError"),"KeyError"),A("::",F("StandardError"),"RangeError"),A("::",F("RangeError"),"FloatDomainError"),A("::",F("StandardError"),"IOError"),A("::",F("IOError"),"EOFError"),A("::",F("StandardError"),"SystemCallError"),A("::",F("StandardError"),"RegexpError"),A("::",F("StandardError"),"ThreadError"),A("::",F("StandardError"),"FiberError"),J.$autoload("Errno","corelib/error/errno"),function(v,z){var C=A(v,z,"FrozenError");return C.$attr_reader("receiver"),T(C,"$initialize",function x(y,u){var d;x.$$p;var k=this;return x.$$p=null,u=q(u),d=p(u,"receiver"),d==null&&(d=S),G(k,m(k,"initialize",x,!1,!0),"initialize",[y],null),k.receiver=d},-2)}("::",F("RuntimeError")),function(v,z){var C=A(v,z,"UncaughtThrowError"),x=C.$$prototype;return x.tag=S,C.$attr_reader("tag","value"),T(C,"$initialize",function y(u,d){y.$$p;var k=this;return y.$$p=null,d==null&&(d=S),k.tag=u,k.value=d,G(k,m(k,"initialize",y,!1,!0),"initialize",["uncaught throw "+k.tag.$inspect()],null)},-2)}("::",F("ArgumentError")),function(v,z){var C=A(v,z,"NameError");return C.$attr_reader("name"),T(C,"$initialize",function x(y,u){x.$$p;var d=this;return x.$$p=null,u==null&&(u=S),G(d,m(d,"initialize",x,!1,!0),"initialize",[y],null),d.name=u},-2)}("::",null),function(v,z){var C=A(v,z,"NoMethodError");return C.$attr_reader("args"),T(C,"$initialize",function x(y,u,d){x.$$p;var k=this;return x.$$p=null,u==null&&(u=S),d==null&&(d=[]),G(k,m(k,"initialize",x,!1,!0),"initialize",[y,u],null),k.args=d},-2)}("::",null),function(v,z){var C=A(v,z,"StopIteration");return C.$attr_reader("result")}("::",null),function(v,z){var C=A(v,z,"KeyError"),x=C.$$prototype;return x.receiver=x.key=S,T(C,"$initialize",function y(u,d){var k,h;y.$$p;var c=this;return y.$$p=null,d=q(d),k=p(d,"receiver"),k==null&&(k=S),h=p(d,"key"),h==null&&(h=S),G(c,m(c,"initialize",y,!1,!0),"initialize",[u],null),c.receiver=k,c.key=h},-2),T(C,"$receiver",function(){var u=this,d=S;return P(d=u.receiver)?d:ie.$raise(F("ArgumentError"),"no receiver is available")}),T(C,"$key",function(){var u=this,d=S;return P(d=u.key)?d:ie.$raise(F("ArgumentError"),"no key is available")})}("::",null),function(v,z){var C=A(v,z,"LocalJumpError");return C.$attr_reader("exit_value","reason"),T(C,"$initialize",function x(y,u,d){x.$$p;var k=this;return x.$$p=null,u==null&&(u=S),d==null&&(d="noreason"),G(k,m(k,"initialize",x,!1,!0),"initialize",[y],null),k.exit_value=u,k.reason=d},-2)}("::",null),function(v,z){var C=M(v,"JS"),x=[C].concat(z);return A(x[0],null,"Error"),S}("::",U)};Opal.modules["corelib/constants"]=function(n){var A=n.const_set;n.nil;var w=n.$$$;return A("::","RUBY_PLATFORM","opal"),A("::","RUBY_ENGINE","opal"),A("::","RUBY_VERSION","3.2.0"),A("::","RUBY_ENGINE_VERSION","1.8.2"),A("::","RUBY_RELEASE_DATE","2023-11-23"),A("::","RUBY_PATCHLEVEL",0),A("::","RUBY_REVISION","0"),A("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),A("::","RUBY_DESCRIPTION","opal "+w("RUBY_ENGINE_VERSION")+" ("+w("RUBY_RELEASE_DATE")+" revision "+w("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(n){var A=n.Object;return n.nil,n.add_stubs("require"),A.$require("corelib/runtime"),A.$require("corelib/helpers"),A.$require("corelib/module"),A.$require("corelib/class"),A.$require("corelib/basic_object"),A.$require("corelib/kernel"),A.$require("corelib/main"),A.$require("corelib/error"),A.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(n){var A=n.klass,w=n.Kernel,K=n.def,I=n.return_val,ee=n.ensure_kwargs,Z=n.hash_get,T=n.NilClass,G=n.slice,m=n.truthy,P=n.rb_gt,ie=n.alias,W=n.nil,X=n.$$$;return n.add_stubs("raise,name,new,>,length,Rational,to_i"),function(re,J,q){var p=A(re,J,"NilClass");return p.$$prototype.$$meta=p,function(M,U){return K(M,"$allocate",function(){var F=this;return w.$raise(X("TypeError"),"allocator undefined for "+F.$name())}),n.udef(M,"$new"),W}(n.get_singleton_class(p)),K(p,"$!",I(!0)),K(p,"$&",I(!1)),K(p,"$|",function(U){return U!==!1&&U!==W}),K(p,"$^",function(U){return U!==!1&&U!==W}),K(p,"$==",function(U){return U===W}),K(p,"$dup",I(W)),K(p,"$clone",function(U){return U=ee(U),Z(U,"freeze"),W},-1),K(p,"$inspect",I("nil")),K(p,"$nil?",I(!0)),K(p,"$singleton_class",function(){return T}),K(p,"$to_a",function(){return[]}),K(p,"$to_h",function(){return new Map}),K(p,"$to_i",I(0)),K(p,"$to_s",I("")),K(p,"$to_c",function(){return X("Complex").$new(0,0)}),K(p,"$rationalize",function(U){var S,F;return S=G(arguments),F=S,m(P(F.$length(),1))&&w.$raise(X("ArgumentError")),w.$Rational(0,1)},-1),K(p,"$to_r",function(){return w.$Rational(0,1)}),K(p,"$instance_variables",function(){return[]}),ie(p,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(n){var A=n.klass,w=n.Kernel,K=n.def,I=n.return_self,ee=n.ensure_kwargs,Z=n.hash_get,T=n.slice,G=n.truthy,m=n.send2,P=n.find_super,ie=n.to_a,W=n.alias,X=n.nil,re=n.$$$;return n.add_stubs("raise,name,==,to_s,__id__"),function(J,q,p){var M=A(J,q,"Boolean");n.prop(M.$$prototype,"$$is_boolean",!0);for(var U=["$$class","$$meta"],S=0;S<U.length;S++)Object.defineProperty(M.$$prototype,U[S],{configurable:!0,enumerable:!1,get:function(){return this==!0?n.TrueClass:this==!1?n.FalseClass:n.Boolean}});return Object.defineProperty(M.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:X}}),function(F,v){return K(F,"$allocate",function(){var C=this;return w.$raise(re("TypeError"),"allocator undefined for "+C.$name())}),n.udef(F,"$new"),X}(n.get_singleton_class(M)),K(M,"$__id__",function(){var v=this;return v.valueOf()?2:0}),K(M,"$!",function(){var v=this;return v!=!0}),K(M,"$&",function(v){var z=this;return z==!0?v!==!1&&v!==X:!1}),K(M,"$|",function(v){var z=this;return z==!0?!0:v!==!1&&v!==X}),K(M,"$^",function(v){var z=this;return z==!0?v===!1||v===X:v!==!1&&v!==X}),K(M,"$==",function(v){var z=this;return z==!0===v.valueOf()}),K(M,"$singleton_class",function(){var v=this;return v.$$meta}),K(M,"$to_s",function(){var v=this;return v==!0?"true":"false"}),K(M,"$dup",I),K(M,"$clone",function(v){var z=this;return v=ee(v),Z(v,"freeze"),z},-1),K(M,"$method_missing",function F(v,z){var C=F.$$p||X,x,y,u=this;F.$$p=null,x=T(arguments,1),y=x;var d=u.$$class.$$prototype[n.jsid(v)];return G(typeof d<"u"&&!d.$$stub)||m(u,P(u,"method_missing",F,!1,!0),"method_missing",[v].concat(ie(y)),C),n.send(u,d,y,C)},-2),K(M,"$respond_to_missing?",function(v,z){var C=this,x=C.$$class.$$prototype[n.jsid(v)];return typeof x<"u"&&!x.$$stub},-2),W(M,"eql?","=="),W(M,"equal?","=="),W(M,"inspect","to_s"),W(M,"object_id","__id__")}("::",Boolean),A("::",re("Boolean"),"TrueClass"),A("::",re("Boolean"),"FalseClass"),X};Opal.modules["corelib/comparable"]=function(n){var A=n.truthy,w=n.module,K=n.rb_gt,I=n.rb_lt,ee=n.eqeqeq,Z=n.Kernel,T=n.def,G=n.nil,m=n.$$$;return n.add_stubs(">,<,===,raise,class,<=>,equal?"),function(P){var ie=w(P,"Comparable"),W=G;function X(q){return n.is_a(q,n.Integer)?q:K(q,0)?1:I(q,0)?-1:0}function re(q,p){var M;ee(G,W=p)||ee(!0,W)||ee(!1,W)||ee(m("Integer"),W)||ee(m("Float"),W)?M=p.$inspect():M=p.$$class,Z.$raise(m("ArgumentError"),"comparison of "+q.$class()+" with "+M+" failed")}function J(q,p){var M=q["$<=>"](p);return A(M)||re(q,p),X(M)}return T(ie,"$==",function(p){var M=this,U=G;return A(M["$equal?"](p))?!0:M["$<=>"]==n.Kernel["$<=>"]?!1:M.$$comparable?(M.$$comparable=!1,!1):A(U=M["$<=>"](p))?X(U)==0:!1}),T(ie,"$>",function(p){var M=this;return J(M,p)>0}),T(ie,"$>=",function(p){var M=this;return J(M,p)>=0}),T(ie,"$<",function(p){var M=this;return J(M,p)<0}),T(ie,"$<=",function(p){var M=this;return J(M,p)<=0}),T(ie,"$between?",function(p,M){var U=this;return!(A(I(U,p))||A(K(U,M)))}),T(ie,"$clamp",function(p,M){var U=this;M==null&&(M=G);var S,F;if(M===G&&(n.is_a(p,n.Range)||Z.$raise(m("TypeError"),"wrong argument type "+p.$class()+" (expected Range)"),F=p.excl,M=p.end,p=p.begin,M!==G&&F&&Z.$raise(m("ArgumentError"),"cannot clamp with an exclusive range")),p!==G&&M!==G&&J(p,M)>0&&Z.$raise(m("ArgumentError"),"min argument must be smaller than max argument"),p!==G){if(S=J(U,p),S==0)return U;if(S<0)return p}return M!==G&&(S=J(U,M),S>0)?M:U},-2)}("::")};Opal.modules["corelib/regexp"]=function(n){var A=n.coerce_to,w=n.prop,K=n.freeze,I=n.klass,ee=n.const_set,Z=n.send2,T=n.find_super,G=n.def,m=n.truthy,P=n.gvars,ie=n.slice,W=n.Kernel,X=n.Opal,re=n.alias,J=n.send,q=n.regexp,p=n.rb_plus,M=n.ensure_kwargs,U=n.hash_get,S=n.rb_ge,F=n.to_a,v=n.eqeqeq,z=n.rb_minus,C=n.return_ivar,x=[],y=n.nil,u=n.$$$;return n.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),I("::",u("StandardError"),"RegexpError"),function(d,k,h){var c=I(d,k,"Regexp"),l=[c].concat(h),E=n.$r(l);return ee(c,"IGNORECASE",1),ee(c,"EXTENDED",2),ee(c,"MULTILINE",4),n.prop(c.$$prototype,"$$is_regexp",!0),function(B,_){var s=[B].concat(_),$=n.$r(s);return G(B,"$allocate",function t(){var e=t.$$p||y,r=this,i=y;return t.$$p=null,i=Z(r,T(r,"allocate",t,!1,!0),"allocate",[],e),i.uninitialized=!0,i}),G(B,"$escape",function(e){return e=A(e,u("String"),"to_str"),n.escape_regexp(e)}),G(B,"$last_match",function(e){return P["~"]==null&&(P["~"]=y),e==null&&(e=y),m(e["$nil?"]())?P["~"]:m(P["~"])?P["~"]["$[]"](e):y},-1),G(B,"$union",function(e){var r,i,a=this;r=ie(arguments),i=r;var o,g,N,D,R;if(i.length==0)return/(?!)/;if(i.length==1&&i[0].$$is_regexp)return i[0];o=i[0].$$is_array,i.length>1&&o&&W.$raise(u("TypeError"),"no implicit conversion of Array into String"),o&&(i=i[0]),D=void 0,g=[];for(var V=0;V<i.length;V++)N=i[V],N.$$is_string?g.push(a.$escape(N)):N.$$is_regexp?(R=N.$options(),D!=null&&D!=R&&W.$raise(u("TypeError"),"All expressions must use the same options"),D=R,g.push("("+N.source+")")):g.push(a.$escape(N.$to_str()));return a.$new(g.$join("|"),D)},-1),G(B,"$new",function(e,r){if(e.$$is_regexp)return new RegExp(e);if(e=X["$coerce_to!"](e,u("String"),"to_str"),e.charAt(e.length-1)==="\\"&&e.charAt(e.length-2)!=="\\"&&W.$raise(u("RegexpError"),"too short escape sequence: /"+e+"/"),e=e.replace("\\A","^").replace("\\z","$"),r===void 0||r["$!"]())return new RegExp(e);if(r.$$is_number){var i="";$("IGNORECASE")&r&&(i+="i"),$("MULTILINE")&r&&(i+="m"),r=i}else r="i";return new RegExp(e,r)},-2),re(B,"compile","new"),re(B,"quote","escape")}(n.get_singleton_class(c),l),G(c,"$==",function(_){var s=this;return _ instanceof RegExp&&s.toString()===_.toString()}),G(c,"$===",function(_){var s=this;return s.$match(X["$coerce_to?"](_,u("String"),"to_str"))!==y}),G(c,"$=~",function(_){var s=this,$=y;return P["~"]==null&&(P["~"]=y),m($=s.$match(_))?P["~"].$begin(0):$}),G(c,"$freeze",function(){var _=this;return m(_["$frozen?"]())?_:(_.hasOwnProperty("$$g")||w(_,"$$g",null),_.hasOwnProperty("$$gm")||w(_,"$$gm",null),K(_))}),G(c,"$inspect",function(){var _=this,s=/^\/(.*)\/([^\/]*)$/,$=_.toString(),t=s.exec($);if(t){for(var e=t[1],r=t[2],i=e.split(""),a=i.length,o=!1,g="",N=0;N<a;N++){var D=i[N];!o&&D=="/"&&(g=g.concat("\\")),g=g.concat(D),D=="\\"?o?o=!1:o=!0:o=!1}return"/"+g+"/"+r}else return $}),G(c,"$match",function B(_,s){var $=B.$$p||y,t=this;if(P["~"]==null&&(P["~"]=y),B.$$p=null,t.uninitialized&&W.$raise(u("TypeError"),"uninitialized Regexp"),s===void 0){if(_===y)return P["~"]=y;var e=t.exec(A(_,u("String"),"to_str"));return e?(P["~"]=u("MatchData").$new(t,e),$===y?P["~"]:n.yield1($,P["~"])):P["~"]=y}if(s=A(s,u("Integer"),"to_int"),_===y||(_=A(_,u("String"),"to_str"),s<0&&(s+=_.length,s<0)))return P["~"]=y;for(var r,i=n.global_regexp(t);;){if(r=i.exec(_),r===null)return P["~"]=y;if(r.index>=s)return P["~"]=u("MatchData").$new(i,r),$===y?P["~"]:n.yield1($,P["~"]);i.lastIndex=r.index+1}},-2),G(c,"$match?",function(_,s){var $=this;if($.uninitialized&&W.$raise(u("TypeError"),"uninitialized Regexp"),s===void 0)return _===y?!1:$.test(A(_,u("String"),"to_str"));if(s=A(s,u("Integer"),"to_int"),_===y||(_=A(_,u("String"),"to_str"),s<0&&(s+=_.length,s<0)))return!1;var t,e=n.global_regexp($);return t=e.exec(_),!(t===null||t.index<s)},-2),G(c,"$names",function(){var _=this;return J(_.$source().$scan(q(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),G(c,"$named_captures",function(){var _=this;return J(J(J(_.$source().$scan(q(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function($){return $==null&&($=y),J($,"map",[],function(e){return e==null&&(e=y),p(e.$last(),1)})})}),G(c,"$~",function(){var _=this;return P._==null&&(P._=y),_["$=~"](P._)}),G(c,"$source",function(){var _=this;return _.source}),G(c,"$options",function(){var _=this;_.uninitialized&&W.$raise(u("TypeError"),"uninitialized Regexp");var s=0;return _.multiline&&(s|=E("MULTILINE")),_.ignoreCase&&(s|=E("IGNORECASE")),s}),G(c,"$casefold?",function(){var _=this;return _.ignoreCase}),re(c,"eql?","=="),re(c,"to_s","source")}("::",RegExp,x),function(d,k,h){var c=I(d,k,"MatchData"),l=[c].concat(h),E=n.$r(l),B=c.$$prototype;return B.matches=y,c.$attr_reader("post_match","pre_match","regexp","string"),G(c,"$initialize",function(s,$,t){var e,r=this;t=M(t),e=U(t,"no_matchdata"),e==null&&(e=!1),m(e)||(P["~"]=r),r.regexp=s,r.begin=$.index,r.string=$.input,r.pre_match=$.input.slice(0,$.index),r.post_match=$.input.slice($.index+$[0].length),r.matches=[];for(var i=0,a=$.length;i<a;i++){var o=$[i];o==null?r.matches.push(y):r.matches.push(o)}},-3),G(c,"$match",function(s){var $=this,t=y;return m(t=$["$[]"](s))?t:m(s["$is_a?"](E("Integer")))&&m(S(s,$.$length()))?W.$raise(u("IndexError"),"index "+s+" out of matches"):y}),G(c,"$match_length",function(s){var $,t=this;return $=t.$match(s),$===y||$==null?y:$.$length()}),G(c,"$[]",function(s){var $,t,e=this;return $=ie(arguments),t=$,t[0].$$is_string?(e.$regexp().$names()["$include?"](t["$[]"](0))["$!"]()&&W.$raise(u("IndexError"),"undefined group name reference: "+t["$[]"](0)),e.$named_captures()["$[]"](t["$[]"](0))):J(e.matches,"[]",F(t))},-1),G(c,"$offset",function(s){var $=this;return s!==0&&W.$raise(u("ArgumentError"),"MatchData#offset only supports 0th element"),[$.begin,$.begin+$.matches[s].length]}),G(c,"$==",function(s){var $=this,t=y,e=y,r=y,i=y;return v(u("MatchData"),s)?m(t=m(e=m(r=m(i=$.string==s.string)?$.regexp.toString()==s.regexp.toString():i)?$.pre_match==s.pre_match:r)?$.post_match==s.post_match:e)?$.begin==s.begin:t:!1}),G(c,"$begin",function(s){var $=this;return s!==0&&W.$raise(u("ArgumentError"),"MatchData#begin only supports 0th element"),$.begin}),G(c,"$end",function(s){var $=this;return s!==0&&W.$raise(u("ArgumentError"),"MatchData#end only supports 0th element"),$.begin+$.matches[s].length}),G(c,"$captures",function(){var s=this;return s.matches.slice(1)}),G(c,"$named_captures",function(){var s=this,$=y;return $=s.$captures(),J(s.$regexp().$named_captures(),"transform_values",[],function(e){return e==null&&(e=y),$["$[]"](z(e.$last(),1))})}),G(c,"$names",function(){var s=this;return s.$regexp().$names()}),G(c,"$inspect",function(){var s=this,$="#<MatchData "+s.matches[0].$inspect();if(s.$regexp().$names()["$empty?"]())for(var t=1,e=s.matches.length;t<e;t++)$+=" "+t+":"+s.matches[t].$inspect();else J(s.$named_captures(),"each",[],function(i,a){return i==null&&(i=y),a==null&&(a=y),$+=" "+i+":"+a.$inspect()});return $+">"}),G(c,"$length",function(){var s=this;return s.matches.length}),G(c,"$to_a",C("matches")),G(c,"$to_s",function(){var s=this;return s.matches[0]}),G(c,"$values_at",function(s){var $,t,e=this;$=ie(arguments),t=$;var r,i,a,o=[];for(r=0;r<t.length;r++){if(t[r].$$is_range&&(i=t[r].$to_a(),i.unshift(r,1),Array.prototype.splice.apply(t,i)),a=X["$coerce_to!"](t[r],u("Integer"),"to_int"),a<0&&(a+=e.matches.length,a<0)){o.push(y);continue}o.push(e.matches[a])}return o},-1),re(c,"eql?","=="),re(c,"size","length")}(x[0],null,x)};Opal.modules["corelib/string"]=function(n){var A=n.coerce_to,w=n.respond_to,K=n.global_multiline_regexp,I=n.prop,ee=n.opal32_init,Z=n.opal32_add,T=n.klass,G=n.send2,m=n.find_super,P=n.def,ie=n.Opal,W=n.defs,X=n.slice,re=n.send,J=n.to_a,q=n.extract_kwargs,p=n.ensure_kwargs,M=n.hash_get,U=n.eqeqeq,S=n.Kernel,F=n.truthy,v=n.gvars,z=n.rb_divide,C=n.rb_plus,x=n.eqeq,y=n.alias,u=n.const_set,d=n.top,k=[],h=n.$r(k),c=n.nil,l=n.$$$;return n.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),d.$require("corelib/comparable"),d.$require("corelib/regexp"),function(E,B,_){var s=T(E,B,"String"),$=[s].concat(_),t=n.$r($);s.$include(l("Comparable")),n.prop(s.$$prototype,"$$is_string",!0);var e=new Map;(function(){P(s,"$__id__",function i(){var a=i.$$p||c,o=this;if(i.$$p=null,typeof o=="object")return G(o,m(o,"__id__",i,!1,!0),"__id__",[],a);if(e.has(o))return e.get(o);var g=n.uid();return e.set(o,g),g}),P(s,"$hash",function(){var a=this,o=ee(),g,N=a.length;for(o=Z(o,5),o=Z(o,N),g=0;g<N;g++)o=Z(o,a.charCodeAt(g));return o})})(),W(s,"$try_convert",function(a){return ie["$coerce_to?"](a,l("String"),"to_str")}),W(s,"$new",function(a){var o,g,N=this;o=X(arguments),g=o;var D=g[0]||"",R=g[g.length-1];return D=A(D,l("String"),"to_str"),R&&R.$$is_hash&&R.has("encoding")&&(D=D.$force_encoding(R.get("encoding").value)),D=new N.$$constructor(D),D.$initialize.$$pristine||re(D,"initialize",J(g)),D},-1),P(s,"$initialize",function(a,o){var g,N;return g=X(arguments),N=q(g),N=p(N),g.length>0&&g.shift(),M(N,"encoding"),M(N,"capacity"),c},-1),P(s,"$%",function(a){var o=this;return U(l("Array"),a)?re(o,"format",[o].concat(J(a))):o.$format(o,a)}),P(s,"$*",function(a){var o=this;if(a=A(a,l("Integer"),"to_int"),a<0&&S.$raise(l("ArgumentError"),"negative argument"),a===0)return"";var g="",N=o.toString();for(N.length*a>=1<<28&&S.$raise(l("RangeError"),"multiply count must not overflow maximum string size");(a&1)===1&&(g+=N),a>>>=1,a!==0;)N+=N;return g}),P(s,"$+",function(a){var o=this;if(a=A(a,l("String"),"to_str"),a==""&&o.$$class===n.String)return o;if(o==""&&a.$$class===n.String)return a;var g=o+a;return o.encoding===g.encoding&&a.encoding===g.encoding||o.encoding.name==="UTF-8"||a.encoding.name==="UTF-8"?g:n.enc(g,o.encoding)}),P(s,"$<=>",function(a){var o=this;if(F(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),o>a?1:o<a?-1:0;var g=a["$<=>"](o);return g===c?c:g>0?-1:g<0?1:0}),P(s,"$==",function(a){var o=this;return a.$$is_string?o.toString()===a.toString():w(a,"$to_str")?a["$=="](o):!1}),P(s,"$=~",function(a){var o=this;return a.$$is_string&&S.$raise(l("TypeError"),"type mismatch: String given"),a["$=~"](o)}),P(s,"$[]",function(a,o){var g=this,N=g.length,D,R;if(a.$$is_range)return D=a.excl,R=a,o=a.end===c?-1:A(a.end,l("Integer"),"to_int"),a=a.begin===c?0:A(a.begin,l("Integer"),"to_int"),Math.abs(a)>N?c:(a<0&&(a+=N),o<0&&(o+=N),(!D||R.end===c)&&(o+=1),o=o-a,o<0&&(o=0),g.substr(a,o));if(a.$$is_string)return o!=null&&S.$raise(l("TypeError")),g.indexOf(a)!==-1?a:c;if(a.$$is_regexp){var V=g.match(a);return V===null?(v["~"]=c,c):(v["~"]=l("MatchData").$new(a,V),o==null?V[0]:(o=A(o,l("Integer"),"to_int"),o<0&&-o<V.length?V[o+=V.length]:o>=0&&o<V.length?V[o]:c))}return a=A(a,l("Integer"),"to_int"),a<0&&(a+=N),o==null?a>=N||a<0?c:g.substr(a,1):(o=A(o,l("Integer"),"to_int"),o<0||a>N||a<0?c:g.substr(a,o))},-2),P(s,"$b",function(){var a=this;return new String(a).$force_encoding("binary")}),P(s,"$capitalize",function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}),P(s,"$casecmp",function(a){var o=this;if(!F(a["$respond_to?"]("to_str")))return c;a=A(a,l("String"),"to_str").$to_s();var g=/^[\x00-\x7F]*$/;return g.test(o)&&g.test(a)&&(o=o.toLowerCase(),a=a.toLowerCase()),o["$<=>"](a)}),P(s,"$casecmp?",function(a){var o=this,g=o.$casecmp(a);return g===c?c:g===0}),P(s,"$center",function(a,o){var g=this;if(o==null&&(o=" "),a=A(a,l("Integer"),"to_int"),o=A(o,l("String"),"to_str").$to_s(),F(o["$empty?"]())&&S.$raise(l("ArgumentError"),"zero width padding"),F(a<=g.length))return g;var N=g.$ljust(z(C(a,g.length),2).$ceil(),o),D=g.$rjust(z(C(a,g.length),2).$floor(),o);return D+N.slice(g.length)},-2),P(s,"$chomp",function(a){var o=this;if(v["/"]==null&&(v["/"]=c),a==null&&(a=v["/"]),F(a===c||o.length===0))return o;a=ie["$coerce_to!"](a,l("String"),"to_str").$to_s();var g;if(a===`
`)g=o.replace(/\r?\n?$/,"");else if(a==="")g=o.replace(/(\r?\n)+$/,"");else if(o.length>=a.length){var N=o.substr(o.length-a.length,a.length);N===a&&(g=o.substr(0,o.length-a.length))}return g??o},-1),P(s,"$chop",function(){var a=this,o=a.length,g;return o<=1?g="":a.charAt(o-1)===`
`&&a.charAt(o-2)==="\r"?g=a.substr(0,o-2):g=a.substr(0,o-1),g}),P(s,"$chr",function(){var a=this;return a.charAt(0)}),P(s,"$clone",function(a){var o,g=this,N=c;return a=p(a),o=M(a,"freeze"),o==null&&(o=c),F(o["$nil?"]())||x(o,!0)||x(o,!1)||g.$raise(t("ArgumentError"),"unexpected value for freeze: "+o.$class()),N=new String(g),N.$copy_singleton_methods(g),N.$initialize_clone(g,new Map([["freeze",o]])),x(o,!0)?N.$$frozen||(N.$$frozen=!0):F(o["$nil?"]())&&g.$$frozen&&(N.$$frozen=!0),N},-1),P(s,"$dup",function(){var a=this,o=c;return o=new String(a),o.$initialize_dup(a),o}),P(s,"$count",function(a){var o,g,N=this;o=X(arguments),g=o,g.length===0&&S.$raise(l("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var D=r(g);return D===null?0:N.length-N.replace(new RegExp(D,"g"),"").length},-1),P(s,"$delete",function(a){var o,g,N=this;o=X(arguments),g=o,g.length===0&&S.$raise(l("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var D=r(g);return D===null?N:N.replace(new RegExp(D,"g"),"")},-1),P(s,"$delete_prefix",function(a){var o=this;return a.$$is_string||(a=A(a,l("String"),"to_str")),o.slice(0,a.length)===a?o.slice(a.length):o}),P(s,"$delete_suffix",function(a){var o=this;return a.$$is_string||(a=A(a,l("String"),"to_str")),o.slice(o.length-a.length)===a?o.slice(0,o.length-a.length):o}),P(s,"$downcase",function(){var a=this;return a.toLowerCase()}),P(s,"$each_line",function i(a,o){var g=i.$$p||c,N,D,R,V,O=this;if(v["/"]==null&&(v["/"]=c),i.$$p=null,N=X(arguments),D=q(N),D=p(D),N.length>0&&(R=N.shift()),R==null&&(R=v["/"]),V=M(D,"chomp"),V==null&&(V=!1),g===c)return O.$enum_for("each_line",R,new Map([["chomp",V]]));if(R===c)return n.yield1(g,O),O;R=A(R,l("String"),"to_str");var ae,le,_e,de,ge,ve,me,be;if(R.length===0){for(ae=O.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),le=0,_e=ae.length;le<_e;le+=2)(ae[le]||ae[le+1])&&(be=(ae[le]||"")+(ae[le+1]||""),V&&(be=be.$chomp(`
`)),n.yield1(g,be));return O}for(ge=O.$chomp(R),ve=O.length!=ge.length,me=ge.split(R),le=0,de=me.length;le<de;le++)be=me[le],(le<de-1||ve)&&(be+=R),V&&(be=be.$chomp(R)),n.yield1(g,be);return O},-1),P(s,"$empty?",function(){var a=this;return a.length===0}),P(s,"$end_with?",function(a){var o,g,N=this;o=X(arguments),g=o;for(var D=0,R=g.length;D<R;D++){var V=A(g[D],l("String"),"to_str").$to_s();if(N.length>=V.length&&N.substr(N.length-V.length,V.length)==V)return!0}return!1},-1),P(s,"$gsub",function i(a,o){var g=i.$$p||c,N=this;if(i.$$p=null,o===void 0&&g===c)return N.$enum_for("gsub",a);var D="",R=c,V=0,O,ae;a.$$is_regexp?a=K(a):(a=A(a,l("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var le;;){if(O=a.exec(N),O===null){v["~"]=c,D+=N.slice(V);break}R=l("MatchData").$new(a,O),o===void 0?(le=a.lastIndex,ae=g(O[0]),a.lastIndex=le):o.$$is_hash?ae=o["$[]"](O[0]).$to_s():(o.$$is_string||(o=A(o,l("String"),"to_str")),ae=o.replace(/([\\]+)([0-9+&`'])/g,function(_e,de,ge){if(de.length%2===0)return _e;switch(ge){case"+":for(var ve=O.length-1;ve>0;ve--)if(O[ve]!==void 0)return de.slice(1)+O[ve];return"";case"&":return de.slice(1)+O[0];case"`":return de.slice(1)+N.slice(0,O.index);case"'":return de.slice(1)+N.slice(O.index+O[0].length);default:return de.slice(1)+(O[ge]||"")}}).replace(/\\\\/g,"\\")),a.lastIndex===O.index?(D+=N.slice(V,O.index)+ae+(N[O.index]||""),a.lastIndex+=1):D+=N.slice(V,O.index)+ae,V=a.lastIndex}return v["~"]=R,D},-2),P(s,"$hex",function(){var a=this;return a.$to_i(16)}),P(s,"$include?",function(a){var o=this;return a.$$is_string||(a=A(a,l("String"),"to_str")),o.indexOf(a)!==-1}),P(s,"$index",function(a,o){var g=this,N,D,R;if(o===void 0)o=0;else if(o=A(o,l("Integer"),"to_int"),o<0&&(o+=g.length,o<0))return c;if(a.$$is_regexp)for(R=K(a);;){if(D=R.exec(g),D===null){v["~"]=c,N=-1;break}if(D.index>=o){v["~"]=l("MatchData").$new(R,D),N=D.index;break}R.lastIndex=D.index+1}else a=A(a,l("String"),"to_str"),a.length===0&&o>g.length?N=-1:N=g.indexOf(a,o);return N===-1?c:N},-2),P(s,"$inspect",function(){var a=this,o=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},N=a.replace(o,function(D){return g[D]?g[D]:(D=D.charCodeAt(0),D<=255&&(a.encoding["$binary?"]()||a.internal_encoding["$binary?"]())?"\\x"+("00"+D.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+D.toString(16).toUpperCase()).slice(-4))});return'"'+N.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),P(s,"$intern",function(){var a=this;return a.toString()}),P(s,"$length",function(){var a=this;return a.length}),y(s,"size","length"),P(s,"$lines",function i(a,o){var g=i.$$p||c,N,D,R,V,O=this,ae=c;return v["/"]==null&&(v["/"]=c),i.$$p=null,N=X(arguments),D=q(N),D=p(D),N.length>0&&(R=N.shift()),R==null&&(R=v["/"]),V=M(D,"chomp"),V==null&&(V=!1),ae=re(O,"each_line",[R,new Map([["chomp",V]])],g.$to_proc()),F(g)?O:ae.$to_a()},-1),P(s,"$ljust",function(a,o){var g=this;if(o==null&&(o=" "),a=A(a,l("Integer"),"to_int"),o=A(o,l("String"),"to_str").$to_s(),F(o["$empty?"]())&&S.$raise(l("ArgumentError"),"zero width padding"),F(a<=g.length))return g;var N=-1,D="";for(a-=g.length;++N<a;)D+=o;return g+D.slice(0,a)},-2),P(s,"$lstrip",function(){var a=this;return a.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),P(s,"$ascii_only?",function(){var a=this;return a.encoding.ascii?/^[\x00-\x7F]*$/.test(a):!1}),P(s,"$match",function i(a,o){var g=i.$$p||c,N=this;return i.$$p=null,(U(t("String"),a)||F(a["$respond_to?"]("to_str")))&&(a=l("Regexp").$new(a.$to_str())),U(l("Regexp"),a)||S.$raise(l("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),re(a,"match",[N,o],g.$to_proc())},-2),P(s,"$match?",function(a,o){var g=this;return(U(t("String"),a)||F(a["$respond_to?"]("to_str")))&&(a=l("Regexp").$new(a.$to_str())),U(l("Regexp"),a)||S.$raise(l("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),a["$match?"](g,o)},-2),P(s,"$next",function(){var a=this,o=a.length;if(o===0)return"";for(var g=a,N=a.search(/[a-zA-Z0-9]/),D=!1,R;o--;){if(R=a.charCodeAt(o),R>=48&&R<=57||R>=65&&R<=90||R>=97&&R<=122)switch(R){case 57:D=!0,R=48;break;case 90:D=!0,R=65;break;case 122:D=!0,R=97;break;default:D=!1,R+=1}else N===-1?R===255?(D=!0,R=0):(D=!1,R+=1):D=!0;if(g=g.slice(0,o)+String.fromCharCode(R)+g.slice(o+1),D&&(o===0||o===N)){switch(R){case 65:break;case 97:break;default:R+=1}o===0?g=String.fromCharCode(R)+g:g=g.slice(0,o)+String.fromCharCode(R)+g.slice(o),D=!1}if(!D)break}return g}),P(s,"$oct",function(){var a=this,o,g=a,N=8;return/^\s*_/.test(g)?0:(g=g.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(D,R,V,O){switch(O.charAt(0)){case"+":case"-":return D;case"0":if(O.charAt(1)==="x"&&V==="0x")return D}switch(V){case"0b":N=2;break;case"0":case"0o":N=8;break;case"0d":N=10;break;case"0x":N=16;break}return R+O}),o=parseInt(g.replace(/_(?!_)/g,""),N),isNaN(o)?0:o)}),P(s,"$ord",function(){var a=this;return typeof a.codePointAt=="function"?a.codePointAt(0):a.charCodeAt(0)}),P(s,"$partition",function(a){var o=this,g,N;return a.$$is_regexp?(N=a.exec(o),N===null?g=-1:(l("MatchData").$new(a,N),a=N[0],g=N.index)):(a=A(a,l("String"),"to_str"),g=o.indexOf(a)),g===-1?[o,"",""]:[o.slice(0,g),o.slice(g,g+a.length),o.slice(g+a.length)]}),P(s,"$reverse",function(){var a=this;return a.split("").reverse().join("")}),P(s,"$rindex",function(a,o){var g=this,N,D,R,V;if(o===void 0)o=g.length;else if(o=A(o,l("Integer"),"to_int"),o<0&&(o+=g.length,o<0))return c;if(a.$$is_regexp){for(D=null,R=K(a);V=R.exec(g),!(V===null||V.index>o);)D=V,R.lastIndex=D.index+1;D===null?(v["~"]=c,N=-1):(l("MatchData").$new(R,D),N=D.index)}else a=A(a,l("String"),"to_str"),N=g.lastIndexOf(a,o);return N===-1?c:N},-2),P(s,"$rjust",function(a,o){var g=this;if(o==null&&(o=" "),a=A(a,l("Integer"),"to_int"),o=A(o,l("String"),"to_str").$to_s(),F(o["$empty?"]())&&S.$raise(l("ArgumentError"),"zero width padding"),F(a<=g.length))return g;var N=Math.floor(a-g.length),D=Math.floor(N/o.length),R=Array(D+1).join(o),V=N-R.length;return R+o.slice(0,V)+g},-2),P(s,"$rpartition",function(a){var o=this,g,N,D,R;if(a.$$is_regexp){for(N=null,D=K(a);R=D.exec(o),R!==null;)N=R,D.lastIndex=N.index+1;N===null?g=-1:(l("MatchData").$new(D,N),a=N[0],g=N.index)}else a=A(a,l("String"),"to_str"),g=o.lastIndexOf(a);return g===-1?["","",o]:[o.slice(0,g),o.slice(g,g+a.length),o.slice(g+a.length)]}),P(s,"$rstrip",function(){var a=this;return a.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),P(s,"$scan",function i(a,o){var g=i.$$p||c,N,D=this;i.$$p=null,o=p(o),N=M(o,"no_matchdata"),N==null&&(N=!1);var R=[],V=c,O;for(a.$$is_regexp?a=K(a):(a=A(a,l("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(O=a.exec(D))!=null;)V=l("MatchData").$new(a,O,new Map([["no_matchdata",N]])),g===c?O.length==1?R.push(O[0]):R.push(V.$captures()):O.length==1?n.yield1(g,O[0]):n.yield1(g,V.$captures()),a.lastIndex===O.index&&(a.lastIndex+=1);return N||(v["~"]=V),g!==c?D:R},-2),P(s,"$singleton_class",function(){var a=this;return n.get_singleton_class(a)}),P(s,"$split",function(a,o){var g=this,N=c;if(v[";"]==null&&(v[";"]=c),g.length===0)return[];if(o===void 0)o=0;else if(o=ie["$coerce_to!"](o,l("Integer"),"to_int"),o===1)return[g];(a===void 0||a===c)&&(a=F(N=v[";"])?N:" ");var D=[],R=g.toString(),V=0,O,ae=0,le=0,_e,de;if(a.$$is_regexp?a=K(a):(a=A(a,l("String"),"to_str").$to_s(),a===" "&&(a=/\s+/gm,R=R.replace(/^\s+/,""))),D=R.split(a),D.length===1&&D[0]===R)return[D[0]];for(;(_e=D.indexOf(void 0))!==-1;)D.splice(_e,1);if(o===0){for(;D[D.length-1]==="";)D.pop();return D}if(a.$$is_regexp||(a=n.escape_regexp(a),a=new RegExp(a,"gm")),O=a.exec(R),o<0){if(O!==null&&O[0]===""&&a.source.indexOf("(?=")===-1)for(_e=0,de=O.length;_e<de;_e++)D.push("");return D}if(O!==null&&O[0]==="")return le=(O.length-1)*(o-1)+o,D.splice(le-1,D.length-1,D.slice(le-1).join("")),D;if(o>=D.length)return D;for(;O!==null&&(ae++,V=a.lastIndex,le+=O.length,ae+1!==o);)O=a.exec(R);return D.splice(le,D.length-1,R.slice(V)),D},-1),P(s,"$squeeze",function(a){var o,g,N=this;if(o=X(arguments),g=o,g.length===0)return N.replace(/(.)\1+/g,"$1");var D=r(g);return D===null?N:N.replace(new RegExp("("+D+")\\1+","g"),"$1")},-1),P(s,"$start_with?",function(a){var o,g,N=this;o=X(arguments),g=o;for(var D=0,R=g.length;D<R;D++)if(g[D].$$is_regexp){var V=g[D],O=V.exec(N);if(O!=null&&O.index===0)return v["~"]=l("MatchData").$new(V,O),!0;v["~"]=c}else{var ae=A(g[D],l("String"),"to_str").$to_s();if(N.length>=ae.length&&N.startsWith(ae))return!0}return!1},-1),P(s,"$strip",function(){var a=this;return a.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),P(s,"$sub",function i(a,o){var g=i.$$p||c,N=this;i.$$p=null,a.$$is_regexp||(a=A(a,l("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var D,R=a.exec(N);return R===null?(v["~"]=c,D=N.toString()):(l("MatchData").$new(a,R),o===void 0?(g===c&&S.$raise(l("ArgumentError"),"wrong number of arguments (1 for 2)"),D=N.slice(0,R.index)+g(R[0])+N.slice(R.index+R[0].length)):o.$$is_hash?D=N.slice(0,R.index)+o["$[]"](R[0]).$to_s()+N.slice(R.index+R[0].length):(o=A(o,l("String"),"to_str"),o=o.replace(/([\\]+)([0-9+&`'])/g,function(V,O,ae){if(O.length%2===0)return V;switch(ae){case"+":for(var le=R.length-1;le>0;le--)if(R[le]!==void 0)return O.slice(1)+R[le];return"";case"&":return O.slice(1)+R[0];case"`":return O.slice(1)+N.slice(0,R.index);case"'":return O.slice(1)+N.slice(R.index+R[0].length);default:return O.slice(1)+(R[ae]||"")}}).replace(/\\\\/g,"\\"),D=N.slice(0,R.index)+o+N.slice(R.index+R[0].length))),D},-2),P(s,"$sum",function(a){var o=this;a==null&&(a=16),a=A(a,l("Integer"),"to_int");for(var g=0,N=o.length,D=0;D<N;D++)g+=o.charCodeAt(D);return a<=0?g:g&Math.pow(2,a)-1},-1),P(s,"$swapcase",function(){var a=this,o=a.replace(/([a-z]+)|([A-Z]+)/g,function(g,N,D){return N?g.toUpperCase():g.toLowerCase()});return o}),P(s,"$to_f",function(){var a=this;if(a.charAt(0)==="_")return 0;var o=parseFloat(a.replace(/_/g,""));return isNaN(o)||o==1/0||o==-1/0?0:o}),P(s,"$to_i",function(a){var o=this;a==null&&(a=10);var g,N=o.toLowerCase(),D=A(a,l("Integer"),"to_int");return(D===1||D<0||D>36)&&S.$raise(l("ArgumentError"),"invalid radix "+D),/^\s*_/.test(N)?0:(N=N.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(R,V,O,ae){switch(ae.charAt(0)){case"+":case"-":return R;case"0":if(ae.charAt(1)==="x"&&O==="0x"&&(D===0||D===16))return R}switch(O){case"0b":if(D===0||D===2)return D=2,V+ae;break;case"0":case"0o":if(D===0||D===8)return D=8,V+ae;break;case"0d":if(D===0||D===10)return D=10,V+ae;break;case"0x":if(D===0||D===16)return D=16,V+ae;break}return R}),g=parseInt(N.replace(/_(?!_)/g,""),D),isNaN(g)?0:g)},-1),P(s,"$to_proc",function i(){i.$$p;var a=this,o=c,g=c,N=c;return i.$$p=null,o=a.valueOf(),g=n.jsid(o),N=re(S,"proc",[],function D(R){var V=D.$$p||c,O,ae;D.$$p=null,O=X(arguments),ae=O,ae.length===0&&S.$raise(l("ArgumentError"),"no receiver given");var le=ae[0];le==null&&(le=c);var _e=le[g];return _e?ae=ae.slice(1):(_e=le.$method_missing,ae[0]=o),typeof V=="function"&&(_e.$$p=V),ae.length===0?_e.call(le):_e.apply(le,ae)},-1),N.$$source_location=c,N}),P(s,"$to_s",function(){var a=this;return a.toString()}),P(s,"$tr",function(a,o){var g=this;if(a=A(a,l("String"),"to_str").$to_s(),o=A(o,l("String"),"to_str").$to_s(),a.length==0||a===o)return g;var N,D,R,V,O,ae,le,_e={},de=a.split(""),ge=de.length,ve=o.split(""),me=ve.length,be=!1,$e=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),$e=ve[me-1],ge-=1);var j=[],L=null;for(D=!1,N=0;N<ge;N++)if(V=de[N],L==null)L=V,j.push(V);else if(V==="-")L==="-"?(j.push("-"),j.push("-")):N==ge-1?j.push("-"):D=!0;else if(D){for(O=L.charCodeAt(0),ae=V.charCodeAt(0),O>ae&&S.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=O+1;R<ae;R++)j.push(String.fromCharCode(R));j.push(V),D=null,L=null}else j.push(V);if(de=j,ge=de.length,be)for(N=0;N<ge;N++)_e[de[N]]=!0;else{if(me>0){var Y=[],Q=null;for(D=!1,N=0;N<me;N++)if(V=ve[N],Q==null)Q=V,Y.push(V);else if(V==="-")Q==="-"?(Y.push("-"),Y.push("-")):N==me-1?Y.push("-"):D=!0;else if(D){for(O=Q.charCodeAt(0),ae=V.charCodeAt(0),O>ae&&S.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=O+1;R<ae;R++)Y.push(String.fromCharCode(R));Y.push(V),D=null,Q=null}else Y.push(V);ve=Y,me=ve.length}var ne=ge-me;if(ne>0){var se=me>0?ve[me-1]:"";for(N=0;N<ne;N++)ve.push(se)}for(N=0;N<ge;N++)_e[de[N]]=ve[N]}var oe="";for(N=0,le=g.length;N<le;N++){V=g.charAt(N);var fe=_e[V];be?oe+=fe==null?$e:V:oe+=fe??V}return oe}),P(s,"$tr_s",function(a,o){var g=this;if(a=A(a,l("String"),"to_str").$to_s(),o=A(o,l("String"),"to_str").$to_s(),a.length==0)return g;var N,D,R,V,O,ae,le,_e={},de=a.split(""),ge=de.length,ve=o.split(""),me=ve.length,be=!1,$e=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),$e=ve[me-1],ge-=1);var j=[],L=null;for(D=!1,N=0;N<ge;N++)if(V=de[N],L==null)L=V,j.push(V);else if(V==="-")L==="-"?(j.push("-"),j.push("-")):N==ge-1?j.push("-"):D=!0;else if(D){for(O=L.charCodeAt(0),ae=V.charCodeAt(0),O>ae&&S.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=O+1;R<ae;R++)j.push(String.fromCharCode(R));j.push(V),D=null,L=null}else j.push(V);if(de=j,ge=de.length,be)for(N=0;N<ge;N++)_e[de[N]]=!0;else{if(me>0){var Y=[],Q=null;for(D=!1,N=0;N<me;N++)if(V=ve[N],L==null)L=V,Y.push(V);else if(V==="-")Q==="-"?(Y.push("-"),Y.push("-")):N==me-1?Y.push("-"):D=!0;else if(D){for(O=L.charCodeAt(0),ae=V.charCodeAt(0),O>ae&&S.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=O+1;R<ae;R++)Y.push(String.fromCharCode(R));Y.push(V),D=null,L=null}else Y.push(V);ve=Y,me=ve.length}var ne=ge-me;if(ne>0){var se=me>0?ve[me-1]:"";for(N=0;N<ne;N++)ve.push(se)}for(N=0;N<ge;N++)_e[de[N]]=ve[N]}var oe="",fe=null;for(N=0,le=g.length;N<le;N++){V=g.charAt(N);var f=_e[V];be?f==null?fe==null&&(oe+=$e,fe=!0):(oe+=V,fe=null):f!=null?(fe==null||fe!==f)&&(oe+=f,fe=f):(oe+=V,fe=null)}return oe}),P(s,"$upcase",function(){var a=this;return a.toUpperCase()}),P(s,"$upto",function i(a,o){var g=i.$$p||c,N=this;if(i.$$p=null,o==null&&(o=!1),g===c)return N.$enum_for("upto",a,o);var D,R,V=N.toString();if(a=A(a,l("String"),"to_str"),V.length===1&&a.length===1)for(D=V.charCodeAt(0),R=a.charCodeAt(0);D<=R&&!(o&&D===R);)g(String.fromCharCode(D)),D+=1;else if(parseInt(V,10).toString()===V&&parseInt(a,10).toString()===a)for(D=parseInt(V,10),R=parseInt(a,10);D<=R&&!(o&&D===R);)g(D.toString()),D+=1;else for(;V.length<=a.length&&V<=a&&!(o&&V===a);)g(V),V=V.$succ();return N},-2);function r(i){function a(_e){var de="",ge,ve=_e.length,me,be,$e,j,L;for(ge=0;ge<ve;ge++)if(me=_e.charAt(ge),me==="-"&&ge>0&&ge<ve-1&&!be){for($e=_e.charCodeAt(ge-1),j=_e.charCodeAt(ge+1),$e>j&&S.$raise(l("ArgumentError"),'invalid range "'+$e+"-"+j+'" in string transliteration'),L=$e+1;L<j+1;L++)de+=String.fromCharCode(L);be=!0,ge++}else be=me==="\\",de+=me;return de}function o(_e,de){if(_e.length===0)return de;var ge="",ve,me=_e.length,be;for(ve=0;ve<me;ve++)be=_e.charAt(ve),de.indexOf(be)!==-1&&(ge+=be);return ge}var g,N,D,R,V,O,ae="",le="";for(g=0,N=i.length;g<N;g++)D=A(i[g],l("String"),"to_str"),R=D.charAt(0)==="^"&&D.length>1,D=a(R?D.slice(1):D),R?le=o(le,D):ae=o(ae,D);if(ae.length>0&&le.length>0){for(O="",g=0,N=ae.length;g<N;g++)V=ae.charAt(g),le.indexOf(V)===-1&&(O+=V);ae=O,le=""}return ae.length>0?"["+l("Regexp").$escape(ae)+"]":le.length>0?"[^"+l("Regexp").$escape(le)+"]":null}return P(s,"$instance_variables",function(){return[]}),W(s,"$_load",function(a){var o,g,N=this;return o=X(arguments),g=o,re(N,"new",J(g))},-1),P(s,"$unicode_normalize",function(a){var o=this;return a==null&&(a="nfc"),F(["nfc","nfd","nfkc","nfkd"]["$include?"](a))||S.$raise(l("ArgumentError"),"Invalid normalization form "+a),o.normalize(a.$upcase())},-1),P(s,"$unicode_normalized?",function(a){var o=this;return a==null&&(a="nfc"),o.$unicode_normalize(a)["$=="](o)},-1),P(s,"$unpack",function(a){return S.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),P(s,"$unpack1",function(a){return S.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),P(s,"$freeze",function(){var a=this;return typeof a=="string"||I(a,"$$frozen",!0),a}),P(s,"$-@",function(){var a=this;return typeof a=="string"||a.$$frozen?a:a.encoding.name=="UTF-8"&&a.internal_encoding.name=="UTF-8"?a.toString():a.$dup().$freeze()}),P(s,"$frozen?",function(){var a=this;return typeof a=="string"||a.$$frozen===!0}),y(s,"+@","dup"),y(s,"===","=="),y(s,"byteslice","[]"),y(s,"eql?","=="),y(s,"equal?","==="),y(s,"object_id","__id__"),y(s,"slice","[]"),y(s,"succ","next"),y(s,"to_str","to_s"),y(s,"to_sym","intern"),ie.$pristine(s,"initialize")}("::",String,k),u(k[0],"Symbol",h("String"))};Opal.modules["corelib/enumerable"]=function(n){var A=n.truthy,w=n.coerce_to,K=n.yield1,I=n.yieldX,ee=n.deny_frozen_access,Z=n.module,T=n.send,G=n.slice,m=n.to_a,P=n.Opal,ie=n.thrower,W=n.def,X=n.Kernel,re=n.return_val,J=n.rb_gt,q=n.rb_times,p=n.rb_lt,M=n.eqeq,U=n.rb_plus,S=n.rb_minus,F=n.rb_divide,v=n.rb_le,z=n.lambda,C=n.not,x=n.alias,y=[],u=n.nil,d=n.$$$;return n.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(k,h){var c=Z(k,"Enumerable"),l=[c].concat(h),E=n.$r(l);function B(_){return _.length===0&&(_=[u]),_.length>1&&(_=[_]),_}return W(c,"$all?",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this;return _.$$p=null,A(s!==void 0)?T(e,"each",[],function r(i){var a,o,g=u;if(a=G(arguments),o=a,g=B(o),A(T(s,"public_send",["==="].concat(m(g)))))return u;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}):t!==u?T(e,"each",[],function r(i){var a,o;if(a=G(arguments),o=a,A(n.yieldX(t,m(o))))return u;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}):T(e,"each",[],function r(i){var a,o;if(a=G(arguments),o=a,A(P.$destructure(o)))return u;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}),!0}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),W(c,"$any?",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this;return _.$$p=null,A(s!==void 0)?T(e,"each",[],function r(i){var a,o,g=u;if(a=G(arguments),o=a,g=B(o),A(T(s,"public_send",["==="].concat(m(g)))))$.$throw(!0,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}):t!==u?T(e,"each",[],function r(i){var a,o;if(a=G(arguments),o=a,A(n.yieldX(t,m(o))))$.$throw(!0,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}):T(e,"each",[],function r(i){var a,o;if(a=G(arguments),o=a,A(P.$destructure(o)))$.$throw(!0,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),!1}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),W(c,"$chunk",function _(){var s=_.$$p||u,$=this;return _.$$p=null,s===u?T($,"to_enum",["chunk"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:$}):T(d("Enumerator"),"new",[],function t(e){var r=t.$$s==null?this:t.$$s;e==null&&(e=u);var i=u,a=[];function o(){a.length>0&&e.$yield(i,a)}r.$each.$$p=function(g){var N=K(s,g);N===u?(o(),a=[],i=u):(i===u||i===N?a.push(g):(o(),a=[g]),i=N)},r.$each(),o()},{$$s:$})}),W(c,"$chunk_while",function _(){var s=_.$$p||u,$=this;return _.$$p=null,s===u&&X.$raise(d("ArgumentError"),"no block given"),T($,"slice_when",[],function(e,r){return e==null&&(e=u),r==null&&(r=u),n.yieldX(s,[e,r])["$!"]()})}),W(c,"$collect",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return T($,"enum_for",["collect"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$});var t=[];return $.$each.$$p=function(){var e=I(s,arguments);t.push(e)},$.$each(),t}),W(c,"$collect_concat",function _(){var s=_.$$p||u,$=this;return _.$$p=null,s===u?T($,"enum_for",["collect_concat"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:$}):T($,"map",[],s.$to_proc()).$flatten(1)}),W(c,"$compact",function(){var s=this;return s.$to_a().$compact()}),W(c,"$count",function _(s){var $=_.$$p||u,t=this,e=u;return _.$$p=null,e=0,s!=null&&$!==u&&t.$warn("warning: given block not used"),A(s!=null)?$=T(X,"proc",[],function(i){var a,o;return a=G(arguments),o=a,P.$destructure(o)["$=="](s)},-1):A($["$nil?"]())&&($=T(X,"proc",[],re(!0))),T(t,"each",[],function(i){var a,o;return a=G(arguments),o=a,A(I($,o))?e++:u},-1),e},-1),W(c,"$cycle",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s==null&&(s=u),$===u)return T(t,"enum_for",["cycle",s],function a(){var o=a.$$s==null?this:a.$$s;return A(s["$nil?"]())?A(o["$respond_to?"]("size"))?d(d("Float"),"INFINITY"):u:(s=P["$coerce_to!"](s,d("Integer"),"to_int"),A(J(s,0))?q(o.$enumerator_size(),s):0)},{$$s:t});if(!A(s["$nil?"]())&&(s=P["$coerce_to!"](s,d("Integer"),"to_int"),A(s<=0)))return u;var e=[],r,i;if(t.$each.$$p=function(){var a=P.$destructure(arguments);K($,a),e.push(a)},t.$each(),e.length===0)return u;if(s===u)for(;;)for(r=0,i=e.length;r<i;r++)K($,e[r]);else for(;s>1;){for(r=0,i=e.length;r<i;r++)K($,e[r]);s--}},-1),W(c,"$detect",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this;return _.$$p=null,t===u?e.$enum_for("detect",s):(T(e,"each",[],function r(i){var a,o,g=u;if(a=G(arguments),o=a,g=P.$destructure(o),A(n.yield1(t,g)))$.$throw(g,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),s!==void 0?typeof s=="function"?s():s:u)}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),W(c,"$drop",function(s){var $=this;s=w(s,d("Integer"),"to_int"),A(s<0)&&X.$raise(d("ArgumentError"),"attempt to drop negative size");var t=[],e=0;return $.$each.$$p=function(){s<=e&&t.push(P.$destructure(arguments)),e++},$.$each(),t}),W(c,"$drop_while",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return $.$enum_for("drop_while");var t=[],e=!0;return $.$each.$$p=function(){var r=P.$destructure(arguments);if(e){var i=K(s,r);A(i)||(e=!1,t.push(r))}else t.push(r)},$.$each(),t}),W(c,"$each_cons",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,A(arguments.length!=1)&&X.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),s=P.$try_convert(s,d("Integer"),"to_int"),A(s<=0)&&X.$raise(d("ArgumentError"),"invalid size"),$===u)return T(t,"enum_for",["each_cons",s],function r(){var i=r.$$s==null?this:r.$$s,a=u;return a=i.$enumerator_size(),A(a["$nil?"]())?u:M(a,0)||A(p(a,s))?0:U(S(a,s),1)},{$$s:t});var e=[];return t.$each.$$p=function(){var r=P.$destructure(arguments);e.push(r),e.length>s&&e.shift(),e.length==s&&K($,e.slice(0,s))},t.$each(),t}),W(c,"$each_entry",function _(s){var $=_.$$p||u,t,e,r=this;return _.$$p=null,t=G(arguments),e=t,$===u?T(r,"to_enum",["each_entry"].concat(m(e)),function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:r}):(r.$each.$$p=function(){var i=P.$destructure(arguments);K($,i)},r.$each.apply(r,e),r)},-1),W(c,"$each_slice",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s=w(s,d("Integer"),"to_int"),A(s<=0)&&X.$raise(d("ArgumentError"),"invalid slice size"),$===u)return T(t,"enum_for",["each_slice",s],function r(){var i=r.$$s==null?this:r.$$s;return A(i["$respond_to?"]("size"))?F(i.$size(),s).$ceil():u},{$$s:t});var e=[];return t.$each.$$p=function(){var r=P.$destructure(arguments);e.push(r),e.length===s&&(K($,e),e=[])},t.$each(),e.length>0&&K($,e),t}),W(c,"$each_with_index",function _(s){var $=_.$$p||u,t,e,r=this;if(_.$$p=null,t=G(arguments),e=t,$===u)return T(r,"enum_for",["each_with_index"].concat(m(e)),function a(){var o=a.$$s==null?this:a.$$s;return o.$enumerator_size()},{$$s:r});var i=0;return r.$each.$$p=function(){var a=P.$destructure(arguments);$(a,i),i++},r.$each.apply(r,e),r},-1),W(c,"$each_with_object",function _(s){var $=_.$$p||u,t=this;return _.$$p=null,$===u?T(t,"enum_for",["each_with_object",s],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:t}):(t.$each.$$p=function(){var e=P.$destructure(arguments);$(e,s)},t.$each(),s)}),W(c,"$entries",function(s){var $,t,e=this;$=G(arguments),t=$;var r=[];return e.$each.$$p=function(){r.push(P.$destructure(arguments))},e.$each.apply(e,t),r},-1),W(c,"$filter_map",function _(){var s=_.$$p||u,$=this;return _.$$p=null,s===u?T($,"enum_for",["filter_map"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:$}):T(T($,"map",[],s.$to_proc()),"select",[],"itself".$to_proc())}),W(c,"$find_all",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return T($,"enum_for",["find_all"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$});var t=[];return $.$each.$$p=function(){var e=P.$destructure(arguments),r=K(s,e);A(r)&&t.push(e)},$.$each(),t}),W(c,"$find_index",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this,r=u;return _.$$p=null,A(s===void 0&&t===u)?e.$enum_for("find_index"):(s!=null&&t!==u&&e.$warn("warning: given block not used"),r=0,A(s!=null)?T(e,"each",[],function i(a){var o,g;return o=G(arguments),g=o,M(P.$destructure(g),s)&&$.$throw(r,i.$$is_lambda),r+=1},{$$arity:-1,$$ret:$}):T(e,"each",[],function i(a){var o,g;return o=G(arguments),g=o,A(n.yieldX(t,m(g)))&&$.$throw(r,i.$$is_lambda),r+=1},{$$arity:-1,$$ret:$}),u)}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),W(c,"$first",function(s){try{var $=ie("return"),t=this,e=u,r=u;return A(s===void 0)?T(t,"each",[],function i(a){a==null&&(a=u),$.$throw(a,i.$$is_lambda)},{$$ret:$}):(e=[],s=w(s,d("Integer"),"to_int"),A(s<0)&&X.$raise(d("ArgumentError"),"attempt to take negative size"),A(s==0)?[]:(r=0,T(t,"each",[],function i(a){var o,g;if(o=G(arguments),g=o,e.push(P.$destructure(g)),A(s<=++r))$.$throw(e,i.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),e))}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),W(c,"$grep",function _(s){var $=_.$$p||u,t=this,e=u;return _.$$p=null,e=[],T(t,"each",[],function(i){var a,o,g=u;return a=G(arguments),o=a,g=B(o),A(T(s,"__send__",["==="].concat(m(g))))?($!==u?(A(J(o.$length(),1))&&(o=[o]),o=n.yieldX($,m(o))):A(v(o.$length(),1))&&(o=o["$[]"](0)),e.$push(o)):u},-1),e}),W(c,"$grep_v",function _(s){var $=_.$$p||u,t=this,e=u;return _.$$p=null,e=[],T(t,"each",[],function(i){var a,o,g=u;return a=G(arguments),o=a,g=B(o),A(T(s,"__send__",["==="].concat(m(g))))?u:($!==u?(A(J(o.$length(),1))&&(o=[o]),o=n.yieldX($,m(o))):A(v(o.$length(),1))&&(o=o["$[]"](0)),e.$push(o))},-1),e}),W(c,"$group_by",function _(){var s=_.$$p||u,$,t=this,e=u,r=u;return _.$$p=null,s===u?T(t,"enum_for",["group_by"],function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:t}):(e=new Map,t.$each.$$p=function(){var i=P.$destructure(arguments),a=K(s,i);(A(r=e["$[]"](a))?r:($=[a,[]],T(e,"[]=",$),$[$.length-1]))["$<<"](i)},t.$each(),e)}),W(c,"$include?",function(s){try{var $=ie("return"),t=this;return T(t,"each",[],function e(r){var i,a;if(i=G(arguments),a=i,M(P.$destructure(a),s))$.$throw(!0,e.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),!1}catch(e){if(e===$)return e.$v;throw e}finally{$.is_orphan=!0}}),W(c,"$inject",function _(s,$){var t=_.$$p||u,e=this;_.$$p=null;var r=s;return t!==u&&$===void 0?e.$each.$$p=function(){var i=P.$destructure(arguments);if(r===void 0){r=i;return}i=I(t,[r,i]),r=i}:($===void 0&&(d("Symbol")["$==="](s)||X.$raise(d("TypeError"),""+s.$inspect()+" is not a Symbol"),$=s,r=void 0),e.$each.$$p=function(){var i=P.$destructure(arguments);if(r===void 0){r=i;return}r=r.$__send__($,i)}),e.$each(),r??u},-1),W(c,"$lazy",function(){var s=this;return T(d(d("Enumerator"),"Lazy"),"new",[s,s.$enumerator_size()],function(t,e){var r,i;return t==null&&(t=u),r=G(arguments,1),i=r,T(t,"yield",m(i))},-2)}),W(c,"$enumerator_size",function(){var s=this;return A(s["$respond_to?"]("size"))?s.$size():u}),W(c,"$max",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s===void 0||s===u){var e,r;return t.$each.$$p=function(){var i=P.$destructure(arguments);if(e===void 0){e=i;return}$!==u?r=I($,[i,e]):r=i["$<=>"](e),r===u&&X.$raise(d("ArgumentError"),"comparison failed"),r>0&&(e=i)},t.$each(),e===void 0?u:e}return s=w(s,d("Integer"),"to_int"),T(t,"sort",[],$.$to_proc()).$reverse().$first(s)},-1),W(c,"$max_by",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s==null&&(s=u),!A($))return T(t,"enum_for",["max_by",s],function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:t});if(!A(s["$nil?"]()))return T(t,"sort_by",[],$.$to_proc()).$reverse().$take(s);var e,r;return t.$each.$$p=function(){var i=P.$destructure(arguments),a=K($,i);if(e===void 0){e=i,r=a;return}a["$<=>"](r)>0&&(e=i,r=a)},t.$each(),e===void 0?u:e},-1),W(c,"$min",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s==null&&(s=u),!A(s["$nil?"]()))return $!==u?T(t,"sort",[],function(i,a){return i==null&&(i=u),a==null&&(a=u),n.yieldX($,[i,a])}).$take(s):t.$sort().$take(s);var e;return $!==u?t.$each.$$p=function(){var r=P.$destructure(arguments);if(e===void 0){e=r;return}var i=$(r,e);i===u&&X.$raise(d("ArgumentError"),"comparison failed"),i<0&&(e=r)}:t.$each.$$p=function(){var r=P.$destructure(arguments);if(e===void 0){e=r;return}P.$compare(r,e)<0&&(e=r)},t.$each(),e===void 0?u:e},-1),W(c,"$min_by",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s==null&&(s=u),!A($))return T(t,"enum_for",["min_by",s],function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:t});if(!A(s["$nil?"]()))return T(t,"sort_by",[],$.$to_proc()).$take(s);var e,r;return t.$each.$$p=function(){var i=P.$destructure(arguments),a=K($,i);if(e===void 0){e=i,r=a;return}a["$<=>"](r)<0&&(e=i,r=a)},t.$each(),e===void 0?u:e},-1),W(c,"$minmax",function _(){var s=_.$$p||u,$=this,t=u;_.$$p=null,s=A(t=s)?t:T(X,"proc",[],function(o,g){return o==null&&(o=u),g==null&&(g=u),o["$<=>"](g)});var e=u,r=u,i=!0;return $.$each.$$p=function(){var a=P.$destructure(arguments);if(i)e=r=a,i=!1;else{var o=s.$call(e,a);o===u?X.$raise(d("ArgumentError"),"comparison failed"):o>0&&(e=a);var g=s.$call(r,a);g===u?X.$raise(d("ArgumentError"),"comparison failed"):g<0&&(r=a)}},$.$each(),[e,r]}),W(c,"$minmax_by",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,!A(s))return T($,"enum_for",["minmax_by"],function a(){var o=a.$$s==null?this:a.$$s;return o.$enumerator_size()},{$$s:$});var t=u,e=u,r,i;return $.$each.$$p=function(){var a=P.$destructure(arguments),o=K(s,a);(r===void 0||o["$<=>"](r)<0)&&(t=a,r=o),(i===void 0||o["$<=>"](i)>0)&&(e=a,i=o)},$.$each(),[t,e]}),W(c,"$none?",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this;return _.$$p=null,A(s!==void 0)?T(e,"each",[],function r(i){var a,o,g=u;if(a=G(arguments),o=a,g=B(o),A(T(s,"public_send",["==="].concat(m(g)))))$.$throw(!1,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}):t!==u?T(e,"each",[],function r(i){var a,o;if(a=G(arguments),o=a,A(n.yieldX(t,m(o))))$.$throw(!1,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}):T(e,"each",[],function r(i){var a,o,g=u;if(a=G(arguments),o=a,g=P.$destructure(o),A(g))$.$throw(!1,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),!0}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),W(c,"$one?",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this,r=u;return _.$$p=null,r=0,A(s!==void 0)?T(e,"each",[],function i(a){var o,g,N=u;if(o=G(arguments),g=o,N=B(g),A(T(s,"public_send",["==="].concat(m(N)))))if(r=U(r,1),A(J(r,1)))$.$throw(!1,i.$$is_lambda);else return u;else return u},{$$arity:-1,$$ret:$}):t!==u?T(e,"each",[],function i(a){var o,g;if(o=G(arguments),g=o,!A(n.yieldX(t,m(g))))return u;if(r=U(r,1),A(J(r,1)))$.$throw(!1,i.$$is_lambda);else return u},{$$arity:-1,$$ret:$}):T(e,"each",[],function i(a){var o,g;if(o=G(arguments),g=o,!A(P.$destructure(g)))return u;if(r=U(r,1),A(J(r,1)))$.$throw(!1,i.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),r["$=="](1)}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),W(c,"$partition",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return T($,"enum_for",["partition"],function r(){var i=r.$$s==null?this:r.$$s;return i.$enumerator_size()},{$$s:$});var t=[],e=[];return $.$each.$$p=function(){var r=P.$destructure(arguments),i=K(s,r);A(i)?t.push(r):e.push(r)},$.$each(),[t,e]}),W(c,"$reject",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return T($,"enum_for",["reject"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$});var t=[];return $.$each.$$p=function(){var e=P.$destructure(arguments),r=K(s,e);A(r)||t.push(e)},$.$each(),t}),W(c,"$reverse_each",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return T($,"enum_for",["reverse_each"],function r(){var i=r.$$s==null?this:r.$$s;return i.$enumerator_size()},{$$s:$});var t=[];$.$each.$$p=function(){t.push(arguments)},$.$each();for(var e=t.length-1;e>=0;e--)I(s,t[e]);return t}),W(c,"$slice_before",function _(s){var $=_.$$p||u,t=this;return _.$$p=null,A(s===void 0&&$===u)&&X.$raise(d("ArgumentError"),"both pattern and block are given"),A(s!==void 0&&$!==u||arguments.length>1)&&X.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),T(d("Enumerator"),"new",[],function e(r){var i=e.$$s==null?this:e.$$s;r==null&&(r=u);var a=[];$!==u?s===void 0?i.$each.$$p=function(){var o=P.$destructure(arguments),g=K($,o);A(g)&&a.length>0&&(r["$<<"](a),a=[]),a.push(o)}:i.$each.$$p=function(){var o=P.$destructure(arguments),g=$(o,s.$dup());A(g)&&a.length>0&&(r["$<<"](a),a=[]),a.push(o)}:i.$each.$$p=function(){var o=P.$destructure(arguments),g=s["$==="](o);A(g)&&a.length>0&&(r["$<<"](a),a=[]),a.push(o)},i.$each(),a.length>0&&r["$<<"](a)},{$$s:t})},-1),W(c,"$slice_after",function _(s){var $=_.$$p||u,t=this;return _.$$p=null,A(s===void 0&&$===u)&&X.$raise(d("ArgumentError"),"both pattern and block are given"),A(s!==void 0&&$!==u||arguments.length>1)&&X.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),A(s!==void 0)&&($=T(X,"proc",[],function(r){return r==null&&(r=u),s["$==="](r)})),T(d("Enumerator"),"new",[],function e(r){var i=e.$$s==null?this:e.$$s;r==null&&(r=u);var a;i.$each.$$p=function(){var o=P.$destructure(arguments),g=K($,o);a==null&&(a=[]),A(g)?(a.push(o),r.$yield(a),a=null):a.push(o)},i.$each(),a!=null&&r.$yield(a)},{$$s:t})},-1),W(c,"$slice_when",function _(){var s=_.$$p||u,$=this;return _.$$p=null,s===u&&X.$raise(d("ArgumentError"),"wrong number of arguments (0 for 1)"),T(d("Enumerator"),"new",[],function t(e){var r=t.$$s==null?this:t.$$s;e==null&&(e=u);var i=u,a=u;r.$each_cons.$$p=function(){var o=P.$destructure(arguments),g=o[0],N=o[1],D=I(s,[g,N]);a=N,i===u&&(i=[]),A(D)?(i.push(g),e.$yield(i),i=[]):i.push(g)},r.$each_cons(2),i!==u&&(i.push(a),e.$yield(i))},{$$s:$})}),W(c,"$sort",function _(){var s=_.$$p||u,$=this,t=u;return _.$$p=null,t=$.$to_a(),s===u&&(s=z(function(r,i){return r==null&&(r=u),i==null&&(i=u),r["$<=>"](i)})),T(t,"sort",[],s.$to_proc())}),W(c,"$sort_by",function _(){var s=_.$$p||u,$=this,t=u;return _.$$p=null,s===u?T($,"enum_for",["sort_by"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$}):(t=T($,"map",[],function(){var r=u;return r=P.$destructure(arguments),[n.yield1(s,r),r]}),T(t,"sort!",[],function(r,i){return r==null&&(r=u),i==null&&(i=u),r[0]["$<=>"](i[0])}),T(t,"map!",[],function(r){return r==null&&(r=u),r[1]}))}),W(c,"$sum",function _(s){var $=_.$$p||u,t=this,e=u,r=u;return _.$$p=null,s==null&&(s=0),e=s,r=0,T(t,"each",[],function(a){var o,g,N=u,D=u,R=u;return o=G(arguments),g=o,N=$!==u?n.yieldX($,m(g)):P.$destructure(g),C([d(d("Float"),"INFINITY"),d(d("Float"),"INFINITY")["$-@"]()]["$include?"](N))&&A(N["$respond_to?"]("-"))?(D=S(N,r),R=U(e,D),r=S(S(R,e),D),e=R):e=U(e,N)},-1),e},-1),W(c,"$take",function(s){var $=this;return $.$first(s)}),W(c,"$take_while",function _(){try{var s=ie("return"),$=_.$$p||u,t=this,e=u;return _.$$p=null,A($)?(e=[],T(t,"each",[],function r(i){var a,o,g=u;return a=G(arguments),o=a,g=P.$destructure(o),A(n.yield1($,g))||s.$throw(e,r.$$is_lambda),e.push(g)},{$$arity:-1,$$ret:s})):t.$enum_for("take_while")}catch(r){if(r===s)return r.$v;throw r}finally{s.is_orphan=!0}}),W(c,"$uniq",function _(){var s=_.$$p||u,$=this,t=u;return _.$$p=null,t=new Map,T($,"each",[],function(r){var i,a,o,g=u,N=u;return i=G(arguments),a=i,g=P.$destructure(a),N=s!==u?n.yield1(s,g):g,A(t["$key?"](N))?u:(o=[N,g],T(t,"[]=",o),o[o.length-1])},-1),t.$values()}),W(c,"$tally",function(s){var $=this,t=u;return s&&s!==u&&ee(s),t=T(T($,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),A(s)?(T(t,"each",[],function(r,i){var a;return r==null&&(r=u),i==null&&(i=u),a=[r,U(s.$fetch(r,0),i)],T(s,"[]=",a),a[a.length-1]}),s):t},-1),W(c,"$to_h",function _(s){var $=_.$$p||u,t,e,r=this;if(_.$$p=null,t=G(arguments),e=t,$!==u)return T(T(r,"map",[],$.$to_proc()),"to_h",m(e));var i=new Map;return r.$each.$$p=function(){var a=P.$destructure(arguments),o=P["$coerce_to?"](a,d("Array"),"to_ary"),g,N;o.$$is_array||X.$raise(d("TypeError"),"wrong element type "+a.$class()+" (expected array)"),o.length!==2&&X.$raise(d("ArgumentError"),"element has wrong array length (expected 2, was "+o.$length()+")"),g=o[0],N=o[1],n.hash_put(i,g,N)},r.$each.apply(r,e),i},-1),W(c,"$to_set",function _(s,$){var t=_.$$p||u,e,r,i,a=this;return _.$$p=null,e=G(arguments),e.length>0&&(r=e.shift()),r==null&&(r=E("Set")),i=e,T(r,"new",[a].concat(m(i)),t.$to_proc())},-1),W(c,"$zip",function _(s){_.$$p;var $,t,e=this;return _.$$p=null,$=G(arguments),t=$,T(e.$to_a(),"zip",m(t))},-1),x(c,"find","detect"),x(c,"filter","find_all"),x(c,"flat_map","collect_concat"),x(c,"map","collect"),x(c,"member?","include?"),x(c,"reduce","inject"),x(c,"select","find_all"),x(c,"to_a","entries")}("::",y)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(n){var A=n.klass,w=n.truthy,K=n.to_a,I=n.eqeq,ee=n.Kernel,Z=n.def,T=n.rb_gt,G=n.rb_lt,m=n.rb_le,P=n.rb_ge,ie=n.rb_plus,W=n.rb_minus,X=n.eqeqeq,re=n.not,J=n.rb_times,q=n.rb_divide,p=n.alias,M=[],U=n.nil,S=n.$$$;return n.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(F,v,z){var C=A(F,v,"Enumerator"),x=[C].concat(z);return function(y,u,d){var k=A(y,u,"ArithmeticSequence"),h=[k].concat(d),c=n.$r(h),l=k.$$prototype;l.step_arg2=l.receiver_num=l.step_arg1=l.step=l.range=l.topfx=l.bypfx=l.creation_method=l.skipped_arg=U,n.prop(k.$$prototype,"$$is_arithmetic_seq",!0);var E=1/0;return Z(k,"$initialize",function(_,s,$){var t,e=this,r=U;return $==null&&($="step"),e.creation_method=$,w(_["$is_a?"](S("Array")))?(t=[].concat(K(_)),e.step_arg1=t[0]==null?U:t[0],e.step_arg2=t[1]==null?U:t[1],e.topfx=t[2]==null?U:t[2],e.bypfx=t[3]==null?U:t[3],e.receiver_num=s,e.step=1,e.range=w(e.step_arg2)?(e.step=e.step_arg2,n.Range.$new(e.receiver_num,e.step_arg1,!1)):w(e.step_arg1)?n.Range.$new(e.receiver_num,e.step_arg1,!1):n.Range.$new(e.receiver_num,U,!1)):(w(s)||(e.skipped_arg=!0),t=[_,w(r=s)?r:1],e.range=t[0],e.step=t[1]),e.object=e,I(e.step,0)&&ee.$raise(c("ArgumentError"),"step can't be 0"),w(e.step["$respond_to?"]("to_int"))?U:ee.$raise(c("ArgumentError"),"no implicit conversion of "+e.step.$class()+" into Integer")},-2),k.$attr_reader("step"),Z(k,"$begin",function(){var _=this;return _.range.$begin()}),Z(k,"$end",function(){var _=this;return _.range.$end()}),Z(k,"$exclude_end?",function(){var _=this;return _.range["$exclude_end?"]()}),Z(k,"$_lesser_than_end?",function(_){var s=this,$=U,t=U;return $=w(t=s.$end())?t:E,w(T(s.$step(),0))?w(s["$exclude_end?"]())?G(_,$):m(_,$):w(s["$exclude_end?"]())?T(_,$):P(_,$)}),Z(k,"$_greater_than_begin?",function(_){var s=this,$=U,t=U;return $=w(t=s.$begin())?t:E["$-@"](),w(T(s.$step(),0))?T(_,$):G(_,$)}),Z(k,"$first",function(_){var s=this,$=U,t=U,e=U;if($=w(t=s.$begin())?t:E["$-@"](),!w(_))return w(s["$_lesser_than_end?"]($))?$:U;for(e=[];w(w(t=s["$_lesser_than_end?"]($))?T(_,0):t);)e["$<<"]($),$=ie($,s.$step()),_=W(_,1);return e},-1),Z(k,"$each",function B(){var _=B.$$p||U,s=this,$=U,t=U;if(B.$$p=null,_===U)return s;for(X(U,$=s.$begin())&&ee.$raise(c("TypeError"),"nil can't be coerced into Integer"),t=w($=s.$begin())?$:E["$-@"]();w(s["$_lesser_than_end?"](t));)n.yield1(_,t),t=ie(t,s.$step());return s}),Z(k,"$last",function(_){var s=this,$=U,t=U,e=U;if(X(E,$=s.$end())||X(E["$-@"](),$)?ee.$raise(S("FloatDomainError"),s.$end()):X(U,$)&&ee.$raise(S("RangeError"),"cannot get the last element of endless arithmetic sequence"),t=W(s.$end(),W(s.$end(),s.$begin())["$%"](s.$step())),w(s["$_lesser_than_end?"](t))||(t=W(t,s.$step())),!w(_))return w(s["$_greater_than_begin?"](t))?t:U;for(e=[];w(w($=s["$_greater_than_begin?"](t))?T(_,0):$);)e["$<<"](t),t=W(t,s.$step()),_=W(_,1);return e.$reverse()},-1),Z(k,"$size",function(){var _=this,s=U,$=U;return s=w(T(_.$step(),0))?1:-1,re(_["$_lesser_than_end?"](_.$begin()))?0:w([E["$-@"](),E]["$include?"](_.$step()))?1:w([J(E["$-@"](),s),U]["$include?"](_.$begin()))||w([J(E,s),U]["$include?"](_.$end()))?E:($=W(_.$end(),W(_.$end(),_.$begin())["$%"](_.$step())),w(_["$_lesser_than_end?"]($))||($=W($,_.$step())),ie(q(W($,_.$begin()),_.$step()).$abs().$to_i(),1))}),Z(k,"$==",function(_){var s=this,$=U,t=U,e=U,r=U;return w($=w(t=w(e=w(r=s.$class()["$=="](_.$class()))?s.$begin()["$=="](_.$begin()):r)?s.$end()["$=="](_.$end()):e)?s.$step()["$=="](_.$step()):t)?s["$exclude_end?"]()["$=="](_["$exclude_end?"]()):$}),Z(k,"$hash",function(){var _=this;return[c("ArithmeticSequence"),_.$begin(),_.$end(),_.$step(),_["$exclude_end?"]()].$hash()}),Z(k,"$inspect",function(){var _=this,s=U;return w(_.receiver_num)?(s=w(_.step_arg2)?"("+_.topfx+_.step_arg1.$inspect()+", "+_.bypfx+_.step_arg2.$inspect()+")":w(_.step_arg1)?"("+_.topfx+_.step_arg1.$inspect()+")":U,"("+_.receiver_num.$inspect()+"."+_.creation_method+s+")"):(s=w(_.skipped_arg)?U:"("+_.step+")","(("+_.range.$inspect()+")."+_.creation_method+s+")")}),p(k,"===","=="),p(k,"eql?","==")}(C,C,x)}("::",null,M)};Opal.modules["corelib/enumerator/chain"]=function(n){var A=n.deny_frozen_access,w=n.klass,K=n.slice,I=n.def,ee=n.send,Z=n.to_a,T=n.truthy,G=n.rb_plus,m=n.thrower,P=n.nil,ie=n.$$$;return n.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(W,X){var re=w(W,X,"Enumerator");return function(J,q){var p=w(J,q,"Chain"),M=p.$$prototype;return M.enums=M.iterated=P,I(p,"$initialize",function(S){var F,v,z=this;return F=K(arguments),v=F,A(z),z.enums=v,z.iterated=[],z.object=z},-1),I(p,"$each",function U(S){var F=U.$$p||P,v,z,C=this;return U.$$p=null,v=K(arguments),z=v,F===P?ee(C,"to_enum",["each"].concat(Z(z)),function x(){var y=x.$$s==null?this:x.$$s;return y.$size()},{$$s:C}):(ee(C.enums,"each",[],function x(y){var u=x.$$s==null?this:x.$$s;return u.iterated==null&&(u.iterated=P),y==null&&(y=P),u.iterated["$<<"](y),ee(y,"each",Z(z),F.$to_proc())},{$$s:C}),C)},-1),I(p,"$size",function(S){try{var F=m("return"),v,z,C=this,x=P;return v=K(arguments),z=v,x=0,ee(C.enums,"each",[],function y(u){var d=P;return u==null&&(u=P),d=ee(u,"size",Z(z)),T([P,ie(ie("Float"),"INFINITY")]["$include?"](d))&&F.$throw(d,y.$$is_lambda),x=G(x,d)},{$$ret:F}),x}catch(y){if(y===F)return y.$v;throw y}finally{F.is_orphan=!0}},-1),I(p,"$rewind",function(){var S=this;return ee(S.iterated,"reverse_each",[],function(v){return v==null&&(v=P),T(v["$respond_to?"]("rewind"))?v.$rewind():P}),S.iterated=[],S}),I(p,"$inspect",function(){var S=this;return"#<Enumerator::Chain: "+S.enums.$inspect()+">"})}(re,re)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(n){var A=n.deny_frozen_access,w=n.klass,K=n.truthy,I=n.Kernel,ee=n.def,Z=n.slice,T=n.send,G=[],m=n.nil,P=n.$$$;return n.add_stubs("include,raise,new,to_proc"),function(ie,W,X){var re=w(ie,W,"Enumerator"),J=[re].concat(X);return function(q,p,M){var U=w(q,p,"Generator"),S=[U].concat(M),F=n.$r(S),v=U.$$prototype;return v.block=m,U.$include(P("Enumerable")),ee(U,"$initialize",function z(){var C=z.$$p||m,x=this;return z.$$p=null,A(x),K(C)||I.$raise(P("LocalJumpError"),"no block given"),x.block=C}),ee(U,"$each",function z(C){var x=z.$$p||m,y,u,d=this,k=m;z.$$p=null,y=Z(arguments),u=y,k=T(F("Yielder"),"new",[],x.$to_proc());try{u.unshift(k),n.yieldX(d.block,u)}catch(h){if(h&&h.$thrower_type=="breaker")return h.$v;throw h}return d},-1)}(J[0],null,J)}(G[0],null,G)};Opal.modules["corelib/enumerator/lazy"]=function(n){var A=n.truthy,w=n.coerce_to,K=n.yield1,I=n.yieldX,ee=n.deny_frozen_access,Z=n.klass,T=n.slice,G=n.send2,m=n.find_super,P=n.to_a,ie=n.defs,W=n.Kernel,X=n.send,re=n.def,J=n.return_self,q=n.Opal,p=n.rb_lt,M=n.eqeqeq,U=n.rb_plus,S=n.alias,F=[],v=n.nil,z=n.$$$;return n.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(C,x,y){var u=Z(C,x,"Enumerator"),d=[u].concat(y);return function(k,h,c){var l=Z(k,h,"Lazy"),E=[l].concat(c),B=n.$r(E),_=l.$$prototype;return _.enumerator=v,Z(l,z("Exception"),"StopLazyError"),ie(l,"$for",function s($,t){var e,r,i=s.$$p||v,a=this,o=v;return s.$$p=null,e=T(arguments,1),r=e,o=G(a,m(a,"for",s,!1,!0),"for",[$].concat(P(r)),i),o.enumerator=$,o},-2),re(l,"$initialize",function s($,t){var e=s.$$p||v,r=this;return s.$$p=null,t==null&&(t=v),ee(r),e===v&&W.$raise(z("ArgumentError"),"tried to call lazy new without a block"),r.enumerator=$,G(r,m(r,"initialize",s,!1,!0),"initialize",[t],function(a,o){var g,N;a==null&&(a=v),g=T(arguments,1),N=g;try{return X($,"each",P(N),function(R){var V,O;V=T(arguments),O=V,O.unshift(a),I(e,O)},-1)}catch(D){if(n.rescue(D,[B("StopLazyError")]))try{return v}finally{n.pop_exception(D)}else throw D}},-2)},-2),re(l,"$lazy",J),re(l,"$collect",function s(){var $=s.$$p||v,t=this;return s.$$p=null,A($)||W.$raise(z("ArgumentError"),"tried to call lazy map without a block"),X(B("Lazy"),"new",[t,t.$enumerator_size()],function(r,i){var a,o;r==null&&(r=v),a=T(arguments,1),o=a;var g=I($,o);r.$yield(g)},-2)}),re(l,"$collect_concat",function s(){var $=s.$$p||v,t=this;return s.$$p=null,A($)||W.$raise(z("ArgumentError"),"tried to call lazy map without a block"),X(B("Lazy"),"new",[t,v],function(r,i){var a,o;r==null&&(r=v),a=T(arguments,1),o=a;var g=I($,o);if(g["$respond_to?"]("force")&&g["$respond_to?"]("each"))X(g,"each",[],function(R){return R==null&&(R=v),r.$yield(R)});else{var N=q.$try_convert(g,z("Array"),"to_ary");N===v?r.$yield(g):X(g,"each",[],function(R){return R==null&&(R=v),r.$yield(R)})}},-2)}),re(l,"$drop",function($){var t=this,e=v,r=v,i=v;return $=w($,z("Integer"),"to_int"),A(p($,0))&&W.$raise(z("ArgumentError"),"attempt to drop negative size"),e=t.$enumerator_size(),r=M(z("Integer"),e)&&A(p($,e))?$:e,i=0,X(B("Lazy"),"new",[t,r],function(o,g){var N,D;return o==null&&(o=v),N=T(arguments,1),D=N,A(p(i,$))?i=U(i,1):X(o,"yield",P(D))},-2)}),re(l,"$drop_while",function s(){var $=s.$$p||v,t=this,e=v;return s.$$p=null,A($)||W.$raise(z("ArgumentError"),"tried to call lazy drop_while without a block"),e=!0,X(B("Lazy"),"new",[t,v],function(i,a){var o,g;if(i==null&&(i=v),o=T(arguments,1),g=o,A(e)){var N=I($,g);A(N)||(e=!1,X(i,"yield",P(g)))}else return X(i,"yield",P(g))},-2)}),re(l,"$enum_for",function s($,t){var e=s.$$p||v,r,i,a,o=this;return s.$$p=null,r=T(arguments),r.length>0&&(i=r.shift()),i==null&&(i="each"),a=r,X(o.$class(),"for",[o,i].concat(P(a)),e.$to_proc())},-1),re(l,"$find_all",function s(){var $=s.$$p||v,t=this;return s.$$p=null,A($)||W.$raise(z("ArgumentError"),"tried to call lazy select without a block"),X(B("Lazy"),"new",[t,v],function(r,i){var a,o;r==null&&(r=v),a=T(arguments,1),o=a;var g=I($,o);A(g)&&X(r,"yield",P(o))},-2)}),re(l,"$grep",function s($){var t=s.$$p||v,e=this;return s.$$p=null,A(t)?X(B("Lazy"),"new",[e,v],function(i,a){var o,g;i==null&&(i=v),o=T(arguments,1),g=o;var N=q.$destructure(g),D=$["$==="](N);A(D)&&(D=K(t,N),i.$yield(K(t,N)))},-2):X(B("Lazy"),"new",[e,v],function(i,a){var o,g;i==null&&(i=v),o=T(arguments,1),g=o;var N=q.$destructure(g),D=$["$==="](N);A(D)&&i.$yield(N)},-2)}),re(l,"$reject",function s(){var $=s.$$p||v,t=this;return s.$$p=null,A($)||W.$raise(z("ArgumentError"),"tried to call lazy reject without a block"),X(B("Lazy"),"new",[t,v],function(r,i){var a,o;r==null&&(r=v),a=T(arguments,1),o=a;var g=I($,o);A(g)||X(r,"yield",P(o))},-2)}),re(l,"$take",function($){var t=this,e=v,r=v,i=v;return $=w($,z("Integer"),"to_int"),A(p($,0))&&W.$raise(z("ArgumentError"),"attempt to take negative size"),e=t.$enumerator_size(),r=M(z("Integer"),e)&&A(p($,e))?$:e,i=0,X(B("Lazy"),"new",[t,r],function(o,g){var N,D;return o==null&&(o=v),N=T(arguments,1),D=N,A(p(i,$))?(X(o,"yield",P(D)),i=U(i,1)):W.$raise(B("StopLazyError"))},-2)}),re(l,"$take_while",function s(){var $=s.$$p||v,t=this;return s.$$p=null,A($)||W.$raise(z("ArgumentError"),"tried to call lazy take_while without a block"),X(B("Lazy"),"new",[t,v],function(r,i){var a,o;r==null&&(r=v),a=T(arguments,1),o=a;var g=I($,o);A(g)?X(r,"yield",P(o)):W.$raise(B("StopLazyError"))},-2)}),re(l,"$inspect",function(){var $=this;return"#<"+$.$class()+": "+$.enumerator.$inspect()+">"}),S(l,"force","to_a"),S(l,"filter","find_all"),S(l,"flat_map","collect_concat"),S(l,"map","collect"),S(l,"select","find_all"),S(l,"to_enum","enum_for")}(u,u,d)}("::",null,F)};Opal.modules["corelib/enumerator/yielder"]=function(n){var A=n.klass,w=n.def,K=n.slice,I=n.send,ee=n.to_a,Z=[],T=n.nil;return n.add_stubs("yield,proc"),function(G,m,P){var ie=A(G,m,"Enumerator"),W=[ie].concat(P);return function(X,re){var J=A(X,re,"Yielder"),q=J.$$prototype;return q.block=T,w(J,"$initialize",function p(){var M=p.$$p||T,U=this;return p.$$p=null,U.block=M,U}),w(J,"$yield",function(M){var U,S,F=this;U=K(arguments),S=U;var v=n.yieldX(F.block,S);if(v&&v.$thrower_type=="break")throw v;return v},-1),w(J,"$<<",function(M){var U=this;return U.$yield(M),U}),w(J,"$to_proc",function(){var M=this;return I(M,"proc",[],function U(S){var F,v,z=U.$$s==null?this:U.$$s;return F=K(arguments),v=F,I(z,"yield",ee(v))},{$$arity:-1,$$s:M})})}(W[0],null)}(Z[0],null,Z)};Opal.modules["corelib/enumerator"]=function(n){var A=n.slice,w=n.coerce_to,K=n.deny_frozen_access,I=n.klass,ee=n.defs,Z=n.truthy,T=n.send,G=n.not,m=n.def,P=n.rb_plus,ie=n.to_a,W=n.Opal,X=n.send2,re=n.find_super,J=n.rb_ge,q=n.Kernel,p=n.rb_le,M=n.alias,U=n.top,S=[],F=n.nil,v=n.$$$;return n.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),U.$require("corelib/enumerable"),function(z,C,x){var y=I(z,C,"Enumerator"),u=[y].concat(x),d=n.$r(u),k=y.$$prototype;return k.size=k.args=k.object=k.method=k.values=k.cursor=F,y.$include(v("Enumerable")),y.$$prototype.$$is_enumerator=!0,ee(y,"$for",function h(c,l,E){var B=h.$$p||F,_,s,$,t=this;h.$$p=null,_=A(arguments,1),_.length>0&&(s=_.shift()),s==null&&(s="each"),$=_;var e=t.$allocate();return e.object=c,e.size=B,e.method=s,e.args=$,e.cursor=0,e},-2),m(y,"$initialize",function h(c){var l=h.$$p||F,E=this;return h.$$p=null,A(arguments),K(E),E.cursor=0,Z(l)?(E.object=T(d("Generator"),"new",[],l.$to_proc()),E.method="each",E.args=[],E.size=arguments[0]||F,Z(E.size)&&G(E.size["$respond_to?"]("call"))?E.size=w(E.size,v("Integer"),"to_int"):F):(E.object=arguments[0],E.method=arguments[1]||"each",E.args=A(arguments,2),E.size=F)},-1),m(y,"$each",function h(c){var l=h.$$p||F,E,B,_=this;return h.$$p=null,E=A(arguments),B=E,Z(l["$nil?"]())&&Z(B["$empty?"]())?_:(B=P(_.args,B),Z(l["$nil?"]())?T(_.$class(),"new",[_.object,_.method].concat(ie(B))):T(_.object,"__send__",[_.method].concat(ie(B)),l.$to_proc()))},-1),m(y,"$size",function(){var c=this;return Z(c.size["$respond_to?"]("call"))?T(c.size,"call",ie(c.args)):c.size}),m(y,"$with_index",function h(c){var l=h.$$p||F,E=this;if(h.$$p=null,c==null&&(c=0),c=Z(c)?w(c,v("Integer"),"to_int"):0,!Z(l))return T(E,"enum_for",["with_index",c],function _(){var s=_.$$s==null?this:_.$$s;return s.$size()},{$$s:E});var B=c;return E.$each.$$p=function(){var _=W.$destructure(arguments),s=l(_,B);return B++,s},E.$each()},-1),m(y,"$each_with_index",function h(){var c=h.$$p||F,l=this;return h.$$p=null,c===F?T(l,"enum_for",["each_with_index"],function E(){var B=E.$$s==null?this:E.$$s;return B.$size()},{$$s:l}):(X(l,re(l,"each_with_index",h,!1,!0),"each_with_index",[],c),l.object)}),m(y,"$rewind",function(){var c=this;return c.cursor=0,c}),m(y,"$peek_values",function(){var c=this,l=F;return c.values=Z(l=c.values)?l:T(c,"map",[],function(B){var _,s;return _=A(arguments),s=_,s},-1),Z(J(c.cursor,c.values.$length()))&&q.$raise(v("StopIteration"),"iteration reached an end"),c.values["$[]"](c.cursor)}),m(y,"$peek",function(){var c=this,l=F;return l=c.$peek_values(),Z(p(l.$length(),1))?l["$[]"](0):l}),m(y,"$next_values",function(){var c=this,l=F;return l=c.$peek_values(),c.cursor=P(c.cursor,1),l}),m(y,"$next",function(){var c=this,l=F;return l=c.$next_values(),Z(p(l.$length(),1))?l["$[]"](0):l}),m(y,"$feed",function(c){var l=this;return l.$raise(d("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),m(y,"$+",function(c){var l=this;return v(v("Enumerator"),"Chain").$new(l,c)}),m(y,"$inspect",function(){var c=this,l=F;return l="#<"+c.$class()+": "+c.object.$inspect()+":"+c.method,Z(c.args["$any?"]())&&(l=P(l,"("+c.args.$inspect()["$[]"](v("Range").$new(1,-2))+")")),P(l,">")}),M(y,"with_object","each_with_object"),y.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),y.$autoload("Chain","corelib/enumerator/chain"),y.$autoload("Generator","corelib/enumerator/generator"),y.$autoload("Lazy","corelib/enumerator/lazy"),y.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,S)};Opal.modules["corelib/numeric"]=function(n){var A=n.klass,w=n.truthy,K=n.Kernel,I=n.def,ee=n.to_ary,Z=n.return_self,T=n.rb_minus,G=n.rb_times,m=n.rb_lt,P=n.eqeq,ie=n.rb_divide,W=n.return_val,X=n.Opal,re=n.slice,J=n.extract_kwargs,q=n.ensure_kwargs,p=n.hash_get,M=n.not,U=n.send,S=n.rb_ge,F=n.rb_le,v=n.rb_plus,z=n.rb_gt,C=n.alias,x=n.top,y=n.nil,u=n.$$$;return n.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),x.$require("corelib/comparable"),function(d,k){var h=A(d,k,"Numeric");return h.$include(u("Comparable")),I(h,"$coerce",function(l){var E=this;return w(l["$instance_of?"](E.$class()))?[l,E]:[K.$Float(l),K.$Float(E)]}),I(h,"$__coerced__",function(l,E){var B,_,s=this,$=y,t=y;if(w(E["$respond_to?"]("coerce")))return _=E.$coerce(s),B=ee(_),$=B[0]==null?y:B[0],t=B[1]==null?y:B[1],$.$__send__(l,t);switch(l.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return K.$raise(u("TypeError"),""+E.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return K.$raise(u("ArgumentError"),"comparison of "+s.$class()+" with "+E.$class()+" failed");default:return y}}),I(h,"$<=>",function(l){var E=this;return w(E["$equal?"](l))?0:y}),I(h,"$+@",Z),I(h,"$-@",function(){var l=this;return T(0,l)}),I(h,"$%",function(l){var E=this;return T(E,G(l,E.$div(l)))}),I(h,"$abs",function(){var l=this;return w(m(l,0))?l["$-@"]():l}),I(h,"$abs2",function(){var l=this;return G(l,l)}),I(h,"$angle",function(){var l=this;return w(m(l,0))?u(u("Math"),"PI"):0}),I(h,"$ceil",function(l){var E=this;return l==null&&(l=0),E.$to_f().$ceil(l)},-1),I(h,"$conj",Z),I(h,"$denominator",function(){var l=this;return l.$to_r().$denominator()}),I(h,"$div",function(l){var E=this;return P(l,0)&&K.$raise(u("ZeroDivisionError"),"divided by o"),ie(E,l).$floor()}),I(h,"$divmod",function(l){var E=this;return[E.$div(l),E["$%"](l)]}),I(h,"$fdiv",function(l){var E=this;return ie(E.$to_f(),l)}),I(h,"$floor",function(l){var E=this;return l==null&&(l=0),E.$to_f().$floor(l)},-1),I(h,"$i",function(){var l=this;return K.$Complex(0,l)}),I(h,"$imag",W(0)),I(h,"$integer?",W(!1)),I(h,"$nonzero?",function(){var l=this;return w(l["$zero?"]())?y:l}),I(h,"$numerator",function(){var l=this;return l.$to_r().$numerator()}),I(h,"$polar",function(){var l=this;return[l.$abs(),l.$arg()]}),I(h,"$quo",function(l){var E=this;return ie(X["$coerce_to!"](E,u("Rational"),"to_r"),l)}),I(h,"$real",Z),I(h,"$real?",W(!0)),I(h,"$rect",function(){var l=this;return[l,0]}),I(h,"$round",function(l){var E=this;return E.$to_f().$round(l)},-1),I(h,"$step",function c(l,E,B){var _=c.$$p||y,s,$,t,e,r,i,a=this,o=y;c.$$p=null,s=re(arguments),$=J(s),$=q($),s.length>0&&(t=s.shift()),s.length>0&&(e=s.shift()),r=p($,"to"),i=p($,"by"),t!==void 0&&r!==void 0&&K.$raise(u("ArgumentError"),"to is given twice"),e!==void 0&&i!==void 0&&K.$raise(u("ArgumentError"),"step is given twice"),r!==void 0&&(t=r),i!==void 0&&(e=i),t===void 0&&(t=y);function g(){e===y&&K.$raise(u("TypeError"),"step must be numeric"),e!=null&&e["$=="](0)&&K.$raise(u("ArgumentError"),"step can't be 0"),(e===y||e==null)&&(e=1);var ge=e["$<=>"](0);ge===y&&K.$raise(u("ArgumentError"),"0 can't be coerced into "+e.$class()),(t===y||t==null)&&(t=ge>0?u(u("Float"),"INFINITY"):u(u("Float"),"INFINITY")["$-@"]()),X.$compare(a,t)}function N(){if(e>0&&a>t||e<0&&a<t)return 0;if(e===1/0||e===-1/0)return 1;var ge=Math.abs,ve=Math.floor,me=(ge(a)+ge(t)+ge(t-a))/ge(e)*u(u("Float"),"EPSILON");return me===1/0||me===-1/0?0:(me>.5&&(me=.5),ve((t-a)/e+me)+1)}function D(){if(g(),e===0)return 1/0;if(e%1!==0)return N();if(e>0&&a>t||e<0&&a<t)return 0;var ge=Math.ceil,ve=Math.abs,me=ve(a-t)+1,be=ve(e);return ge(me/be)}if(_===y)return(M(t)||w(t["$is_a?"](u("Numeric"))))&&(M(e)||w(e["$is_a?"](u("Numeric"))))?u(u("Enumerator"),"ArithmeticSequence").$new([t,e,w(r)?"to: ":y,w(i)?"by: ":y],a):U(a,"enum_for",["step",t,e],D.$to_proc());g();var R=e["$negative?"](),V=e["$=="](0)||t===1/0&&!R||t===-1/0&&R;if(a.$$is_number&&e.$$is_number&&t.$$is_number)if(a%1===0&&(V||t%1===0)&&e%1===0){var O=a;if(V)for(;;O+=e)_(O);else if(R)for(;O>=t;O+=e)_(O);else for(;O<=t;O+=e)_(O);return a}else{var ae=a.$to_f().valueOf();e=e.$to_f().valueOf(),t=t.$to_f().valueOf();var le=N();if(!isFinite(e))le!==0&&_(ae);else if(e===0)for(;;)_(ae);else for(var _e=0;_e<le;_e++){var de=_e*e+a;(e>=0?t<de:t>de)&&(de=t),_(de)}return a}for(o=a;w(R?S(o,t):F(o,t));)n.yield1(_,o),o=v(o,e)},-1),I(h,"$to_c",function(){var l=this;return K.$Complex(l,0)}),I(h,"$to_int",function(){var l=this;return l.$to_i()}),I(h,"$truncate",function(l){var E=this;return l==null&&(l=0),E.$to_f().$truncate(l)},-1),I(h,"$zero?",function(){var l=this;return l["$=="](0)}),I(h,"$positive?",function(){var l=this;return z(l,0)}),I(h,"$negative?",function(){var l=this;return m(l,0)}),I(h,"$dup",Z),I(h,"$clone",function(l){var E=this;return l=q(l),p(l,"freeze"),E},-1),I(h,"$finite?",W(!0)),I(h,"$infinite?",W(y)),C(h,"arg","angle"),C(h,"conjugate","conj"),C(h,"imaginary","imag"),C(h,"magnitude","abs"),C(h,"modulo","%"),C(h,"phase","arg"),C(h,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(n){var A=n.truthy,w=n.falsy,K=n.yield1,I=n.hash_get,ee=n.hash_put,Z=n.hash_delete,T=n.coerce_to,G=n.respond_to,m=n.deny_frozen_access,P=n.freeze,ie=n.opal32_init,W=n.opal32_add,X=n.klass,re=n.slice,J=n.defs,q=n.Kernel,p=n.def,M=n.Opal,U=n.eqeqeq,S=n.send2,F=n.find_super,v=n.send,z=n.rb_gt,C=n.rb_times,x=n.eqeq,y=n.rb_minus,u=n.to_a,d=n.to_ary,k=n.gvars,h=n.rb_ge,c=n.assign_ivar,l=n.rb_lt,E=n.return_self,B=n.neqeq,_=n.alias,s=n.top,$=[],t=n.nil,e=n.$$$;return n.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),s.$require("corelib/enumerable"),s.$require("corelib/numeric"),function(r,i,a){var o=X(r,i,"Array"),g=[o].concat(a),N=n.$r(g);o.$include(e("Enumerable")),n.prop(o.$$prototype,"$$is_array",!0);function D($e){for(var j=$e[0],L=1,Y=$e.length;L<Y;L++)$e[L-1]=$e[L];return $e.pop(),j}function R($e,j){return j.$$name===n.Array?$e:j.$allocate().$replace($e.$to_a())}function V($e,j,L){for(var Y,Q=null,ne=new Array($e.length),se=0,oe=0;se<$e.length;se++){if(!Q)try{Y=K(L,$e[se])}catch(fe){Q=fe}(Q||j(Y))&&(ne[oe]=$e[se],oe+=1)}if(oe!==se&&($e.splice.apply($e,[0,ne.length].concat(ne)),$e.splice(oe,ne.length)),Q)throw Q}function O($e){return $e.$$is_array||($e=T($e,e("Array"),"to_ary")),$e.$to_a()}function ae($e,j){var L=j.length;if(L>6&&L<32767)$e.push.apply($e,j);else for(var Y=0;Y<L;Y++)$e.push(j[Y])}J(o,"$[]",function(j){var L,Y,Q=this;return L=re(arguments),Y=L,R(Y,Q)},-1),p(o,"$initialize",function $e(j,L){var Y=$e.$$p||t,Q=this;if($e.$$p=null,j==null&&(j=t),L==null&&(L=t),m(Q),L!==t&&Y!==t&&q.$warn("warning: block supersedes default value argument"),j>e(e("Integer"),"MAX")&&q.$raise(e("ArgumentError"),"array size too big"),arguments.length>2&&q.$raise(e("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return Q.length>0&&Q.splice(0,Q.length),Q;if(arguments.length===1){if(j.$$is_array)return Q.$replace(j.$to_a()),Q;if(j["$respond_to?"]("to_ary"))return Q.$replace(j.$to_ary()),Q}j=T(j,e("Integer"),"to_int"),j<0&&q.$raise(e("ArgumentError"),"negative array size"),Q.splice(0,Q.length);var ne,se;if(Y===t)for(ne=0;ne<j;ne++)Q.push(L);else for(ne=0,se;ne<j;ne++)se=Y(ne),Q[ne]=se;return Q},-1),J(o,"$try_convert",function(j){return M["$coerce_to?"](j,e("Array"),"to_ary")}),p(o,"$&",function(j){var L=this;if(j=O(j),L.length===0||j.length===0)return[];var Y=[],Q=new Map,ne,se,oe;for(ne=0,se=j.length;ne<se;ne++)ee(Q,j[ne],!0);for(ne=0,se=L.length;ne<se;ne++)oe=L[ne],Z(Q,oe)!==void 0&&Y.push(oe);return Y}),p(o,"$|",function(j){var L=this;j=O(j);var Y=new Map,Q,ne;for(Q=0,ne=L.length;Q<ne;Q++)ee(Y,L[Q],!0);for(Q=0,ne=j.length;Q<ne;Q++)ee(Y,j[Q],!0);return Y.$keys()}),p(o,"$*",function(j){var L=this;if(A(j["$respond_to?"]("to_str")))return L.$join(j.$to_str());j=T(j,e("Integer"),"to_int"),A(j<0)&&q.$raise(e("ArgumentError"),"negative argument");for(var Y=[],Q=L.$to_a(),ne=0;ne<j;ne++)Y=Y.concat(Q);return Y}),p(o,"$+",function(j){var L=this;return j=O(j),L.concat(j)}),p(o,"$-",function(j){var L=this;if(j=O(j),A(L.length===0))return[];if(A(j.length===0))return L.slice();var Y=[],Q=new Map,ne,se,oe;for(ne=0,se=j.length;ne<se;ne++)ee(Q,j[ne],!0);for(ne=0,se=L.length;ne<se;ne++)oe=L[ne],I(Q,oe)===void 0&&Y.push(oe);return Y}),p(o,"$<<",function(j){var L=this;return m(L),L.push(j),L}),p(o,"$<=>",function(j){var L=this;if(U(e("Array"),j))j=j.$to_a();else if(A(j["$respond_to?"]("to_ary")))j=j.$to_ary().$to_a();else return t;if(L===j)return 0;for(var Y=Math.min(L.length,j.length),Q=0;Q<Y;Q++){var ne=L[Q]["$<=>"](j[Q]);if(ne!==0)return ne}return L.length["$<=>"](j.length)}),p(o,"$==",function(j){var L=this,Y={};function Q(ne,se){var oe,fe,f,b;if(ne===se)return!0;if(!se.$$is_array)return G(se,"$to_ary")?se["$=="](ne):!1;if(ne.$$constructor!==Array&&(ne=ne.$to_a()),se.$$constructor!==Array&&(se=se.$to_a()),ne.length!==se.length)return!1;for(Y[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(f=ne[oe],b=se[oe],f.$$is_array){if(b.$$is_array&&b.length!==f.length||!Y.hasOwnProperty(f.$object_id())&&!Q(f,b))return!1}else if(!f["$=="](b))return!1;return!0}return Q(L,j)});function le($e,j){var L=$e.length,Y,Q,ne,se;return Y=j.excl,Q=j.begin===t?0:T(j.begin,n.Integer,"to_int"),ne=j.end===t?-1:T(j.end,n.Integer,"to_int"),Q<0&&(Q+=L,Q<0)||(j.excl_rev&&j.begin!==t&&(Q+=1),Q>L)?t:ne<0&&(ne+=L,ne<0)?[]:((!Y||j.end===t)&&(ne+=1),se=$e.slice(Q,ne),se)}function _e($e,j){var L,Y=[],Q=0,ne;for(j.step<0?(ne={begin:j.range.end,end:j.range.begin,excl:!1,excl_rev:j.range.excl},L=le($e,ne).$reverse()):L=le($e,j.range);Q<L.length;)Y.push(L[Q]),Q+=Math.abs(j.step);return Y}function de($e,j,L){var Y=$e.length,Q;return j=T(j,n.Integer,"to_int"),j<0&&(j+=Y,j<0)?t:L===void 0?j>=Y||j<0?t:$e[j]:(L=T(L,n.Integer,"to_int"),L<0||j>Y||j<0?t:(Q=$e.slice(j,j+L),Q))}p(o,"$[]",function(j,L){var Y=this;return j.$$is_range?le(Y,j):j.$$is_arithmetic_seq?_e(Y,j):de(Y,j,L)},-2),p(o,"$[]=",function(j,L,Y){var Q=this,ne=t,se=t;m(Q),ne=t;var oe,fe=Q.length;if(j.$$is_range){L.$$is_array?ne=L.$to_a():L["$respond_to?"]("to_ary")?ne=L.$to_ary().$to_a():ne=[L];var f=j.excl,b=j.begin===t?0:T(j.begin,n.Integer,"to_int"),H=j.end===t?-1:T(j.end,n.Integer,"to_int");if(b<0&&(b+=fe,b<0&&q.$raise(e("RangeError"),""+j.$inspect()+" out of range")),H<0&&(H+=fe),(!f||j.end===t)&&(H+=1),b>fe)for(oe=fe;oe<b;oe++)Q[oe]=t;return H<0?Q.splice.apply(Q,[b,0].concat(ne)):Q.splice.apply(Q,[b,H-b].concat(ne)),L}else{Y===void 0?se=1:(se=L,L=Y,L.$$is_array?ne=L.$to_a():L["$respond_to?"]("to_ary")?ne=L.$to_ary().$to_a():ne=[L]);var te;if(j=T(j,e("Integer"),"to_int"),se=T(se,e("Integer"),"to_int"),j<0&&(te=j,j+=fe,j<0&&q.$raise(e("IndexError"),"index "+te+" too small for array; minimum "+-Q.length)),se<0&&q.$raise(e("IndexError"),"negative length ("+se+")"),j>fe)for(oe=fe;oe<j;oe++)Q[oe]=t;return Y===void 0?Q[j]=L:Q.splice.apply(Q,[j,se].concat(ne)),L}},-3),p(o,"$any?",function $e(j){var L=$e.$$p||t,Y=this;return $e.$$p=null,Y.length===0?!1:S(Y,F(Y,"any?",$e,!1,!0),"any?",[j],L)},-1),p(o,"$assoc",function(j){for(var L=this,Y=0,Q=L.length,ne;Y<Q;Y++)if(ne=L[Y],ne.length&&ne[0]["$=="](j))return ne;return t}),p(o,"$at",function(j){var L=this;return j=T(j,e("Integer"),"to_int"),j<0&&(j+=L.length),j<0||j>=L.length?t:L[j]}),p(o,"$bsearch_index",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return L.$enum_for("bsearch_index");for(var Y=0,Q=L.length,ne,se,oe,fe=!1,f=t;Y<Q;){if(ne=Y+Math.floor((Q-Y)/2),se=L[ne],oe=K(j,se),oe===!0)f=ne,fe=!0;else if(oe===!1||oe===t)fe=!1;else if(oe.$$is_number){if(oe===0)return ne;fe=oe<0}else q.$raise(e("TypeError"),"wrong argument type "+oe.$class()+" (must be numeric, true, false or nil)");fe?Q=ne:Y=ne+1}return f}),p(o,"$bsearch",function $e(){var j=$e.$$p||t,L=this,Y=t;return $e.$$p=null,j===t?L.$enum_for("bsearch"):(Y=v(L,"bsearch_index",[],j.$to_proc()),Y!=null&&Y.$$is_number?L[Y]:Y)}),p(o,"$cycle",function $e(j){var L=$e.$$p||t,Y=this;if($e.$$p=null,j==null&&(j=t),L===t)return v(Y,"enum_for",["cycle",j],function se(){var oe=se.$$s==null?this:se.$$s;return A(j["$nil?"]())?e(e("Float"),"INFINITY"):(j=M["$coerce_to!"](j,e("Integer"),"to_int"),A(z(j,0))?C(oe.$enumerator_size(),j):0)},{$$s:Y});if(A(Y["$empty?"]())||x(j,0))return t;var Q,ne;if(j===t)for(;;)for(Q=0,ne=Y.length;Q<ne;Q++)K(L,Y[Q]);else{if(j=M["$coerce_to!"](j,e("Integer"),"to_int"),j<=0)return Y;for(;j>0;){for(Q=0,ne=Y.length;Q<ne;Q++)K(L,Y[Q]);j--}}return Y},-1),p(o,"$clear",function(){var j=this;return m(j),j.splice(0,j.length),j}),p(o,"$count",function $e(j){var L=$e.$$p||t,Y=this;return $e.$$p=null,A(j!==void 0)||A(L)?S(Y,F(Y,"count",$e,!1,!0),"count",[j],L):Y.$size()},-1),p(o,"$initialize_copy",function(j){var L=this;return L.$replace(j)}),p(o,"$collect",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return v(L,"enum_for",["collect"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:L});for(var Y=[],Q=0;Q<L.length;Q++){var ne=K(j,L[Q]);Y[Q]=ne}return Y}),p(o,"$collect!",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return v(L,"enum_for",["collect!"],function ne(){var se=ne.$$s==null?this:ne.$$s;return se.$size()},{$$s:L});m(L);for(var Y=0;Y<L.length;Y++){var Q=K(j,L[Y]);L[Y]=Q}return L});function ge($e,j){return $e===j||j===0?1:j>0&&$e>j?ge($e-1,j-1)+ge($e-1,j):0}p(o,"$combination",function $e(j){var L=$e.$$p||t,Y=this,Q=t;if($e.$$p=null,Q=M["$coerce_to!"](j,e("Integer"),"to_int"),L===t)return v(Y,"enum_for",["combination",Q],function te(){var ue=te.$$s==null?this:te.$$s;return ge(ue.length,Q)},{$$s:Y});var ne,se,oe,fe,f,b,H;if(Q===0)n.yield1(L,[]);else if(Q===1)for(ne=0,se=Y.length;ne<se;ne++)n.yield1(L,[Y[ne]]);else if(Q===Y.length)n.yield1(L,Y.slice());else if(Q>=0&&Q<Y.length){for(oe=[],ne=0;ne<=Q+1;ne++)oe.push(0);for(fe=[],f=0,b=!1,oe[0]=-1;!b;){for(fe[f]=Y[oe[f+1]];f<Q-1;)f++,H=oe[f+1]=oe[f]+1,fe[f]=Y[H];n.yield1(L,fe.slice()),f++;do b=f===0,oe[f]++,f--;while(oe[f+1]+Q===Y.length+f+1)}}return Y}),p(o,"$repeated_combination",function $e(j){var L=$e.$$p||t,Y=this,Q=t;if($e.$$p=null,Q=M["$coerce_to!"](j,e("Integer"),"to_int"),L===t)return v(Y,"enum_for",["repeated_combination",Q],function se(){var oe=se.$$s==null?this:se.$$s;return ge(oe.length+Q-1,Q)},{$$s:Y});function ne(se,oe,fe,f){if(fe.length==se){var b=fe.slice();n.yield1(L,b);return}for(var H=oe;H<f.length;H++)fe.push(f[H]),ne(se,H,fe,f),fe.pop()}return Q>=0&&ne(Q,0,[],Y),Y}),p(o,"$compact",function(){for(var j=this,L=[],Y=0,Q=j.length,ne;Y<Q;Y++)(ne=j[Y])!==t&&L.push(ne);return L}),p(o,"$compact!",function(){var j=this;m(j);for(var L=j.length,Y=0,Q=j.length;Y<Q;Y++)j[Y]===t&&(j.splice(Y,1),Q--,Y--);return j.length===L?t:j}),p(o,"$concat",function(j){var L,Y,Q=this;return L=re(arguments),Y=L,m(Q),Y=v(Y,"map",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;return se==null&&(se=t),se=O(se),A(se["$equal?"](oe))&&(se=se.$dup()),se},{$$s:Q}),v(Y,"each",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;se==null&&(se=t);for(var fe=0,f=se.length;fe<f;fe++)oe.push(se[fe])},{$$s:Q}),Q},-1),p(o,"$delete",function $e(j){var L=$e.$$p||t,Y=this;$e.$$p=null;for(var Q=Y.length,ne=0,se=Q;ne<se;ne++)Y[ne]["$=="](j)&&(m(Y),Y.splice(ne,1),se--,ne--);return Y.length===Q?L!==t?n.yieldX(L,[]):t:j}),p(o,"$delete_at",function(j){var L=this;if(m(L),j=T(j,e("Integer"),"to_int"),j<0&&(j+=L.length),j<0||j>=L.length)return t;var Y=L[j];return L.splice(j,1),Y}),p(o,"$delete_if",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,j===t?v(L,"enum_for",["delete_if"],function Y(){var Q=Y.$$s==null?this:Y.$$s;return Q.$size()},{$$s:L}):(m(L),V(L,w,j),L)}),p(o,"$difference",function(j){var L,Y,Q=this;return L=re(arguments),Y=L,v(Y,"reduce",[Q.$to_a().$dup()],function(se,oe){return se==null&&(se=t),oe==null&&(oe=t),y(se,oe)})},-1),p(o,"$dig",function(j,L){var Y,Q,ne=this,se=t;return Y=re(arguments,1),Q=Y,se=ne["$[]"](j),se===t||Q.length===0?se:(A(se["$respond_to?"]("dig"))||q.$raise(e("TypeError"),""+se.$class()+" does not have #dig method"),v(se,"dig",u(Q)))},-2),p(o,"$drop",function(j){var L=this;return j=T(j,e("Integer"),"to_int"),j<0&&q.$raise(e("ArgumentError")),L.slice(j)}),p(o,"$dup",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,L.$$class===n.Array&&L.$$class.$allocate.$$pristine&&L.$copy_instance_variables.$$pristine&&L.$initialize_dup.$$pristine?L.slice(0):S(L,F(L,"dup",$e,!1,!0),"dup",[],j)}),p(o,"$each",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return v(L,"enum_for",["each"],function Q(){var ne=Q.$$s==null?this:Q.$$s;return ne.$size()},{$$s:L});for(var Y=0;Y<L.length;Y++)K(j,L[Y]);return L}),p(o,"$each_index",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return v(L,"enum_for",["each_index"],function Q(){var ne=Q.$$s==null?this:Q.$$s;return ne.$size()},{$$s:L});for(var Y=0;Y<L.length;Y++)K(j,Y);return L}),p(o,"$empty?",function(){var j=this;return j.length===0}),p(o,"$eql?",function(j){var L=this,Y={};function Q(ne,se){var oe,fe,f,b;if(!se.$$is_array||(se=se.$to_a(),ne.length!==se.length))return!1;for(Y[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(f=ne[oe],b=se[oe],f.$$is_array){if(b.$$is_array&&b.length!==f.length||!Y.hasOwnProperty(f.$object_id())&&!Q(f,b))return!1}else if(!f["$eql?"](b))return!1;return!0}return Q(L,j)}),p(o,"$fetch",function $e(j,L){var Y=$e.$$p||t,Q=this;$e.$$p=null;var ne=j;if(j=T(j,e("Integer"),"to_int"),j<0&&(j+=Q.length),j>=0&&j<Q.length)return Q[j];if(Y!==t&&L!=null&&Q.$warn("warning: block supersedes default value argument"),Y!==t)return Y(ne);if(L!=null)return L;Q.length===0?q.$raise(e("IndexError"),"index "+ne+" outside of array bounds: 0...0"):q.$raise(e("IndexError"),"index "+ne+" outside of array bounds: -"+Q.length+"..."+Q.length)},-2),p(o,"$fill",function $e(j){var L=$e.$$p||t,Y,Q,ne,se,oe=this,fe=t,f=t,b=t,H=t,te=t;$e.$$p=null,Y=re(arguments),Q=Y,m(oe);var ue,ce;if(A(L)?(A(Q.length>2)&&q.$raise(e("ArgumentError"),"wrong number of arguments ("+Q.$length()+" for 0..2)"),se=Q,ne=d(se),fe=ne[0]==null?t:ne[0],f=ne[1]==null?t:ne[1]):(A(Q.length==0)?q.$raise(e("ArgumentError"),"wrong number of arguments (0 for 1..3)"):A(Q.length>3)&&q.$raise(e("ArgumentError"),"wrong number of arguments ("+Q.$length()+" for 1..3)"),se=Q,ne=d(se),b=ne[0]==null?t:ne[0],fe=ne[1]==null?t:ne[1],f=ne[2]==null?t:ne[2]),U(e("Range"),fe)){if(A(f)&&q.$raise(e("TypeError"),"length invalid with range"),H=fe.begin===t?0:T(fe.begin,e("Integer"),"to_int"),A(H<0)&&(H+=this.length),A(H<0)&&q.$raise(e("RangeError"),""+fe.$inspect()+" out of range"),te=fe.end===t?-1:T(fe.end,e("Integer"),"to_int"),A(te<0)&&(te+=this.length),A(fe["$exclude_end?"]())||(te+=1),A(te<=H))return oe}else if(A(fe))if(H=T(fe,e("Integer"),"to_int"),A(H<0)&&(H+=this.length),A(H<0)&&(H=0),A(f)){if(te=T(f,e("Integer"),"to_int"),A(te==0))return oe;te+=H}else te=this.length;else H=0,te=this.length;if(A(H>this.length))for(ue=this.length;ue<te;ue++)oe[ue]=t;if(A(te>this.length)&&(this.length=te),A(L))for(this.length;H<te;H++)ce=L(H),oe[H]=ce;else for(this.length;H<te;H++)oe[H]=b;return oe},-1),p(o,"$first",function(j){var L=this;return j==null?L.length===0?t:L[0]:(j=T(j,e("Integer"),"to_int"),j<0&&q.$raise(e("ArgumentError"),"negative array size"),L.slice(0,j))},-1),p(o,"$flatten",function(j){var L=this;function Y(Q,ne){var se=[],oe,fe,f,b;for(Q=Q.$to_a(),oe=0,fe=Q.length;oe<fe;oe++){if(f=Q[oe],!G(f,"$to_ary",!0)){se.push(f);continue}if(b=f.$to_ary(),b===t){se.push(f);continue}switch(b.$$is_array||q.$raise(e("TypeError")),b===L&&q.$raise(e("ArgumentError")),ne){case void 0:se=se.concat(Y(b));break;case 0:se.push(b);break;default:ae(se,Y(b,ne-1))}}return se}return j!==void 0&&(j=T(j,e("Integer"),"to_int")),Y(L,j)},-1),p(o,"$flatten!",function(j){var L=this;m(L);var Y=L.$flatten(j);if(L.length==Y.length){for(var Q=0,ne=L.length;Q<ne&&L[Q]===Y[Q];Q++);if(Q==ne)return t}return L.$replace(Y),L},-1),p(o,"$freeze",function(){var j=this;return A(j["$frozen?"]())?j:P(j)});var ve;p(o,"$hash",function(){var j=this,L=ve===void 0,Y=ie(),Q=j.$object_id(),ne,se,oe;if(Y=W(Y,10),Y=W(Y,j.length),L)ve=Object.create(null);else if(ve[Q])return W(Y,16843009);try{for(oe in ve)if(ne=ve[oe],j["$eql?"](ne))return W(Y,16843009);for(ve[Q]=j,se=0;se<j.length;se++)ne=j[se],Y=W(Y,ne.$hash());return Y}finally{L&&(ve=void 0)}}),p(o,"$include?",function(j){for(var L=this,Y=0,Q=L.length;Y<Q;Y++)if(L[Y]["$=="](j))return!0;return!1}),p(o,"$index",function $e(j){var L=$e.$$p||t,Y=this;$e.$$p=null;var Q,ne,se;if(j!=null&&L!==t&&Y.$warn("warning: given block not used"),j!=null){for(Q=0,ne=Y.length;Q<ne;Q++)if(Y[Q]["$=="](j))return Q}else if(L!==t){for(Q=0;Q<Y.length;Q++)if(se=L(Y[Q]),se!==!1&&se!==t)return Q}else return Y.$enum_for("index");return t},-1),p(o,"$insert",function(j,L){var Y,Q,ne=this;if(Y=re(arguments,1),Q=Y,m(ne),j=T(j,e("Integer"),"to_int"),Q.length>0){if(j<0&&(j+=ne.length+1,j<0&&q.$raise(e("IndexError"),""+j+" is out of bounds")),j>ne.length)for(var se=ne.length;se<j;se++)ne.push(t);ne.splice.apply(ne,[j,0].concat(Q))}return ne},-2);var me=[];p(o,"$inspect",function(){var j=this,L=[],Y=j.$__id__(),Q=!0;return function(){try{if(me.indexOf(Y)!==-1)return Q=!1,"[...]";me.push(Y);for(var ne=0,se=j.length;ne<se;ne++){var oe=j["$[]"](ne);L.push(N("Opal").$inspect(oe))}return"["+L.join(", ")+"]"}finally{Q&&me.pop()}}()}),p(o,"$intersection",function(j){var L,Y,Q=this,ne=t,se=t;return L=re(arguments),Y=L,Y.length===0?Q.$to_a().$dup():(Y=Y.map(O),Q.length===0?[]:(Y=v(Y,"sort_by",[],"length".$to_proc()),A(Q.length<Y[0].length)?v(Y,"reduce",[Q],"&".$to_proc()):(ne=Y.pop(),se=v(Y,"reduce",[ne],"&".$to_proc()),Q["$&"](se))))},-1),p(o,"$intersect?",function(j){var L=this,Y,Q,ne=new Map,se,oe;for(L.length<j.length?(Y=L,Q=j):(Y=j,Q=L),se=0,oe=Y.length;se<oe;se++)ee(ne,Y[se],!0);for(se=0,oe=Q.length;se<oe;se++)if(I(ne,Q[se]))return!0;return!1}),p(o,"$join",function(j){var L=this;if(k[","]==null&&(k[","]=t),j==null&&(j=t),A(L.length===0))return"";A(j===t)&&(j=k[","]);var Y=[],Q,ne,se,oe;for(Q=0,ne=L.length;Q<ne;Q++){if(se=L[Q],G(se,"$to_str")&&(oe=se.$to_str(),oe!==t)){Y.push(oe.$to_s());continue}if(G(se,"$to_ary")&&(oe=se.$to_ary(),oe===L&&q.$raise(e("ArgumentError")),oe!==t)){Y.push(oe.$join(j));continue}if(G(se,"$to_s")&&(oe=se.$to_s(),oe!==t)){Y.push(oe);continue}q.$raise(e("NoMethodError").$new(""+N("Opal").$inspect(L.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return j===t?Y.join(""):Y.join(M["$coerce_to!"](j,e("String"),"to_str").$to_s())},-1),p(o,"$keep_if",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,j===t?v(L,"enum_for",["keep_if"],function Y(){var Q=Y.$$s==null?this:Y.$$s;return Q.$size()},{$$s:L}):(m(L),V(L,A,j),L)}),p(o,"$last",function(j){var L=this;return j==null?L.length===0?t:L[L.length-1]:(j=T(j,e("Integer"),"to_int"),j<0&&q.$raise(e("ArgumentError"),"negative array size"),j>L.length&&(j=L.length),L.slice(L.length-j,L.length))},-1),p(o,"$length",function(){var j=this;return j.length}),p(o,"$max",function $e(j){var L=$e.$$p||t,Y=this;return $e.$$p=null,v(Y.$each(),"max",[j],L.$to_proc())},-1),p(o,"$min",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,v(L.$each(),"min",[],j.$to_proc())});function be($e,j){for(var L=j>=0?1:0;j;)L*=$e,$e--,j--;return L}return p(o,"$permutation",function $e(j){var L=$e.$$p||t,Y=this,Q=t,ne=t;if($e.$$p=null,L===t)return v(Y,"enum_for",["permutation",j],function b(){var H=b.$$s==null?this:b.$$s;return be(H.length,j===void 0?H.length:j)},{$$s:Y});var se,oe,fe;if(j===void 0?j=Y.length:j=T(j,e("Integer"),"to_int"),!(j<0||Y.length<j))if(j===0)n.yield1(L,[]);else if(j===1)for(var f=0;f<Y.length;f++)n.yield1(L,[Y[f]]);else Q=N("Array").$new(j),ne=N("Array").$new(Y.length,!1),se=function(b,H,te,ue,ce){Y=this;for(var he=0;he<Y.length;he++)if(ue["$[]"](he)["$!"]())if(H[te]=he,te<b-1)ue[he]=!0,se.call(Y,b,H,te+1,ue,ce),ue[he]=!1;else{fe=[];for(var pe=0;pe<H.length;pe++)fe.push(Y[H[pe]]);K(ce,fe)}},L!==t?(oe=Y.slice(),se.call(oe,j,Q,0,ne,L)):se.call(Y,j,Q,0,ne,L);return Y},-1),p(o,"$repeated_permutation",function $e(j){var L=$e.$$p||t,Y=this,Q=t;if($e.$$p=null,Q=M["$coerce_to!"](j,e("Integer"),"to_int"),L===t)return v(Y,"enum_for",["repeated_permutation",Q],function se(){var oe=se.$$s==null?this:se.$$s;return A(h(Q,0))?oe.$size()["$**"](Q):0},{$$s:Y});function ne(se,oe,fe){if(oe.length==se){var f=oe.slice();n.yield1(L,f);return}for(var b=0;b<fe.length;b++)oe.push(fe[b]),ne(se,oe,fe),oe.pop()}return ne(Q,[],Y.slice()),Y}),p(o,"$pop",function(j){var L=this;return m(L),A(j===void 0)?A(L.length===0)?t:L.pop():(j=T(j,e("Integer"),"to_int"),A(j<0)&&q.$raise(e("ArgumentError"),"negative array size"),A(L.length===0)?[]:A(j===1)?[L.pop()]:A(j>L.length)?L.splice(0,L.length):L.splice(L.length-j,L.length))},-1),p(o,"$product",function $e(j){var L=$e.$$p||t,Y,Q,ne=this;$e.$$p=null,Y=re(arguments),Q=Y;var se=L!==t?null:[],oe=Q.length+1,fe=new Array(oe),f=new Array(oe),b=new Array(oe),H,te,ue,ce,he=1;for(b[0]=ne,H=1;H<oe;H++)b[H]=T(Q[H-1],e("Array"),"to_ary");for(H=0;H<oe;H++){if(ce=b[H].length,ce===0)return se||ne;he*=ce,he>2147483647&&q.$raise(e("RangeError"),"too big to product"),f[H]=ce,fe[H]=0}e:for(;;){for(ue=[],H=0;H<oe;H++)ue.push(b[H][fe[H]]);for(se?se.push(ue):n.yield1(L,ue),te=oe-1,fe[te]++;fe[te]===f[te];){if(fe[te]=0,--te<0)break e;fe[te]++}}return se||ne},-1),p(o,"$push",function(j){var L,Y,Q=this;return L=re(arguments),Y=L,m(Q),ae(Q,Y),Q},-1),p(o,"$rassoc",function(j){for(var L=this,Y=0,Q=L.length,ne;Y<Q;Y++)if(ne=L[Y],ne.length&&ne[1]!==void 0&&ne[1]["$=="](j))return ne;return t}),p(o,"$reject",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return v(L,"enum_for",["reject"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:L});for(var Y=[],Q=0,ne;Q<L.length;Q++)ne=j(L[Q]),(ne===!1||ne===t)&&Y.push(L[Q]);return Y}),p(o,"$reject!",function $e(){var j=$e.$$p||t,L=this,Y=t;return $e.$$p=null,j===t?v(L,"enum_for",["reject!"],function Q(){var ne=Q.$$s==null?this:Q.$$s;return ne.$size()},{$$s:L}):(m(L),Y=L.$length(),v(L,"delete_if",[],j.$to_proc()),x(L.$length(),Y)?t:L)}),p(o,"$replace",function(j){var L=this;return m(L),j=O(j),L.length>0&&L.splice(0,L.length),ae(L,j),L}),p(o,"$reverse",function(){var j=this;return j.slice(0).reverse()}),p(o,"$reverse!",function(){var j=this;return m(j),j.reverse()}),p(o,"$reverse_each",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return v(L,"enum_for",["reverse_each"],function Q(){var ne=Q.$$s==null?this:Q.$$s;return ne.$size()},{$$s:L});for(var Y=L.length-1;Y>=0;Y--)K(j,L[Y]);return L}),p(o,"$rindex",function $e(j){var L=$e.$$p||t,Y=this;$e.$$p=null;var Q,ne;if(j!=null&&L!==t&&Y.$warn("warning: given block not used"),j!=null){for(Q=Y.length-1;Q>=0&&!(Q>=Y.length);Q--)if(Y[Q]["$=="](j))return Q}else if(L!==t){for(Q=Y.length-1;Q>=0&&!(Q>=Y.length);Q--)if(ne=L(Y[Q]),ne!==!1&&ne!==t)return Q}else if(j==null)return Y.$enum_for("rindex");return t},-1),p(o,"$rotate",function(j){var L=this;j==null&&(j=1);var Y,Q,ne,se;return j=T(j,e("Integer"),"to_int"),L.length===1?L.slice():L.length===0?[]:(Y=L.slice(),Q=j%Y.length,ne=Y.slice(Q),se=Y.slice(0,Q),ne.concat(se))},-1),p(o,"$rotate!",function(j){var L=this,Y=t;return j==null&&(j=1),m(L),L.length===0||L.length===1?L:(j=T(j,e("Integer"),"to_int"),Y=L.$rotate(j),L.$replace(Y))},-1),function($e,j){var L=X($e,j,"SampleRandom"),Y=L.$$prototype;return Y.rng=t,p(L,"$initialize",c("rng")),p(L,"$rand",function(ne){var se=this,oe=t;return oe=T(se.rng.$rand(ne),e("Integer"),"to_int"),A(oe<0)&&q.$raise(e("RangeError"),"random value must be >= 0"),A(oe<ne)||q.$raise(e("RangeError"),"random value must be less than Array size"),oe})}(o,null),p(o,"$sample",function(j,L){var Y=this,Q=t,ne=t;if(A(j===void 0))return Y.$at(q.$rand(Y.length));if(A(L===void 0)?A(Q=M["$coerce_to?"](j,e("Hash"),"to_hash"))?(L=Q,j=t):(L=t,j=T(j,e("Integer"),"to_int")):(j=T(j,e("Integer"),"to_int"),L=T(L,e("Hash"),"to_hash")),A(j)&&A(j<0)&&q.$raise(e("ArgumentError"),"count must be greater than 0"),A(L)&&(ne=L["$[]"]("random")),ne=A(ne)&&A(ne["$respond_to?"]("rand"))?N("SampleRandom").$new(ne):q,!A(j))return Y[ne.$rand(Y.length)];var se,oe,fe,f,b,H,te,ue;switch(j>Y.length&&(j=Y.length),j){case 0:return[];case 1:return[Y[ne.$rand(Y.length)]];case 2:return f=ne.$rand(Y.length),b=ne.$rand(Y.length-1),f<=b&&b++,[Y[f],Y[b]];default:if(Y.length/j>3){for(se=!1,oe=0,fe=N("Array").$new(j),f=1,fe[0]=ne.$rand(Y.length);f<j;){for(H=ne.$rand(Y.length),b=0;b<f;){for(;H===fe[b];){if(oe++,oe>100){se=!0;break}H=ne.$rand(Y.length)}if(se)break;b++}if(se)break;fe[f]=H,f++}if(!se){for(f=0;f<j;)fe[f]=Y[fe[f]],f++;return fe}}fe=Y.slice();for(var ce=0;ce<j;ce++)te=ne.$rand(Y.length-ce)+ce,ue=fe[ce],fe[ce]=fe[te],fe[te]=ue;return j===Y.length?fe:fe["$[]"](0,j)}},-1),p(o,"$select",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return v(L,"enum_for",["select"],function oe(){var fe=oe.$$s==null?this:oe.$$s;return fe.$size()},{$$s:L});for(var Y=[],Q=0,ne,se;Q<L.length;Q++)ne=L[Q],se=K(j,ne),A(se)&&Y.push(ne);return Y}),p(o,"$select!",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return v(L,"enum_for",["select!"],function Q(){var ne=Q.$$s==null?this:Q.$$s;return ne.$size()},{$$s:L});m(L);var Y=L.length;return v(L,"keep_if",[],j.$to_proc()),L.length===Y?t:L}),p(o,"$shift",function(j){var L=this;return m(L),A(j===void 0)?A(L.length===0)?t:D(L):(j=T(j,e("Integer"),"to_int"),A(j<0)&&q.$raise(e("ArgumentError"),"negative array size"),A(L.length===0)?[]:L.splice(0,j))},-1),p(o,"$shuffle",function(j){var L=this;return L.$dup().$to_a()["$shuffle!"](j)},-1),p(o,"$shuffle!",function(j){var L=this;m(L);var Y,Q=L.length,ne,se;for(j!==void 0&&(j=M["$coerce_to?"](j,e("Hash"),"to_hash"),j!==t&&(j=j["$[]"]("random"),j!==t&&j["$respond_to?"]("rand")&&(Y=j)));Q;)Y?(ne=Y.$rand(Q).$to_int(),ne<0&&q.$raise(e("RangeError"),"random number too small "+ne),ne>=Q&&q.$raise(e("RangeError"),"random number too big "+ne)):ne=L.$rand(Q),se=L[--Q],L[Q]=L[ne],L[ne]=se;return L},-1),p(o,"$slice!",function(j,L){var Y=this,Q=t,ne=t,se=t,oe=t,fe=t;if(m(Y),Q=t,A(L===void 0))if(U(e("Range"),j)){ne=j,Q=Y["$[]"](ne),se=ne.begin===t?0:T(ne.begin,e("Integer"),"to_int"),oe=ne.end===t?-1:T(ne.end,e("Integer"),"to_int"),se<0&&(se+=Y.length),oe<0?oe+=Y.length:oe>=Y.length&&(oe=Y.length-1,ne.excl&&(oe+=1));var f=oe-se;ne.excl&&ne.end!==t?oe-=1:f+=1,se<Y.length&&se>=0&&oe<Y.length&&oe>=0&&f>0&&Y.splice(se,f)}else{if(fe=T(j,e("Integer"),"to_int"),fe<0&&(fe+=Y.length),fe<0||fe>=Y.length)return t;Q=Y[fe],fe===0?Y.shift():Y.splice(fe,1)}else{if(fe=T(j,e("Integer"),"to_int"),L=T(L,e("Integer"),"to_int"),L<0)return t;Q=Y["$[]"](fe,L),fe<0&&(fe+=Y.length),fe+L>Y.length&&(L=Y.length-fe),fe<Y.length&&fe>=0&&Y.splice(fe,L)}return Q},-2),p(o,"$sort",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,A(L.length>1)?(j===t&&(j=function(Y,Q){return Y["$<=>"](Q)}),L.slice().sort(function(Y,Q){var ne=j(Y,Q);return ne===t&&q.$raise(e("ArgumentError"),"comparison of "+Y.$inspect()+" with "+Q.$inspect()+" failed"),z(ne,0)?1:l(ne,0)?-1:0})):L}),p(o,"$sort!",function $e(){var j=$e.$$p||t,L=this;$e.$$p=null,m(L);var Y;j!==t?Y=v(L.slice(),"sort",[],j.$to_proc()):Y=L.slice().$sort(),L.length=0;for(var Q=0,ne=Y.length;Q<ne;Q++)L.push(Y[Q]);return L}),p(o,"$sort_by!",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,j===t?v(L,"enum_for",["sort_by!"],function Y(){var Q=Y.$$s==null?this:Y.$$s;return Q.$size()},{$$s:L}):(m(L),L.$replace(v(L,"sort_by",[],j.$to_proc())))}),p(o,"$take",function(j){var L=this;return j<0&&q.$raise(e("ArgumentError")),L.slice(0,j)}),p(o,"$take_while",function $e(){var j=$e.$$p||t,L=this;$e.$$p=null;for(var Y=[],Q=0,ne,se;Q<L.length;Q++){if(ne=L[Q],se=j(ne),se===!1||se===t)return Y;Y.push(ne)}return Y}),p(o,"$to_a",function(){var j=this;return j.$$class===n.Array?j:n.Array.$new(j)}),p(o,"$to_ary",E),p(o,"$to_h",function $e(){var j=$e.$$p||t,L=this,Y=t;$e.$$p=null,Y=L,j!==t&&(Y=v(Y,"map",[],j.$to_proc()));var Q,ne=Y.length,se,oe,fe,f=new Map;for(Q=0;Q<ne;Q++)se=M["$coerce_to?"](Y[Q],e("Array"),"to_ary"),se.$$is_array||q.$raise(e("TypeError"),"wrong element type "+Y[Q].$class()+" at "+Q+" (expected array)"),se.length!==2&&q.$raise(e("ArgumentError"),"element has wrong array length at "+Q+" (expected 2, was "+se.$length()+")"),oe=se[0],fe=se[1],ee(f,oe,fe);return f}),p(o,"$transpose",function(){var j=this,L=t,Y=t;return A(j["$empty?"]())?[]:(L=[],Y=t,v(j,"each",[],function(ne){var se=t;return ne==null&&(ne=t),ne=O(ne),Y=A(se=Y)?se:ne.length,B(ne.length,Y)&&q.$raise(e("IndexError"),"element size differs ("+ne.length+" should be "+Y+")"),v(ne.length,"times",[],function(fe){var f,b=t;return fe==null&&(fe=t),b=A(se=L["$[]"](fe))?se:(f=[fe,[]],v(L,"[]=",f),f[f.length-1]),b["$<<"](ne.$at(fe))})}),L)}),p(o,"$union",function(j){var L,Y,Q=this;return L=re(arguments),Y=L,v(Y,"reduce",[Q.$uniq()],function(se,oe){return se==null&&(se=t),oe==null&&(oe=t),se["$|"](oe)})},-1),p(o,"$uniq",function $e(){var j=$e.$$p||t,L=this;$e.$$p=null;var Y=new Map,Q,ne,se,oe;if(j===t)for(Q=0,ne=L.length;Q<ne;Q++)se=L[Q],I(Y,se)===void 0&&ee(Y,se,se);else for(Q=0;Q<L.length;Q++)se=L[Q],oe=K(j,se),I(Y,oe)===void 0&&ee(Y,oe,se);return Y.$values()}),p(o,"$uniq!",function $e(){var j=$e.$$p||t,L=this;$e.$$p=null,m(L);var Y=new Map,Q,ne,se,oe=[];for(Q=0;Q<L.length;Q++)ne=L[Q],se=j===t?ne:K(j,ne),I(Y,se)===void 0?ee(Y,se,ne):oe.push(Q);for(Q=oe.length-1;Q>=0;Q--)L.splice(oe[Q],1);return oe.length===0?t:L}),p(o,"$unshift",function(j){var L,Y,Q=this;L=re(arguments),Y=L,m(Q);var ne=Q.length,se=Y.length;if(se==0)return Q;for(var oe=ne-se,fe=0;fe<se;fe++)Q.push(Q[oe+fe]);for(var f=ne-1;f-se>=0;)Q[f]=Q[f-se],f--;for(var b=0;b<se;b++)Q[b]=Y[b];return Q},-1),p(o,"$values_at",function(j){var L,Y,Q=this,ne=t;return L=re(arguments),Y=L,ne=[],v(Y,"each",[],function se(oe){var fe=se.$$s==null?this:se.$$s,f=t,b=t,H=t;return oe==null&&(oe=t),A(oe["$is_a?"](e("Range")))?(f=oe.$end()===t?-1:T(oe.$end(),e("Integer"),"to_int"),b=oe.$begin()===t?0:T(oe.$begin(),e("Integer"),"to_int"),b<0?(b=b+fe.length,t):(f<0&&(f=f+fe.length),oe["$exclude_end?"]()&&oe.$end()!==t&&f--,f<b?t:v(b,"upto",[f],function te(ue){var ce=te.$$s==null?this:te.$$s;return ue==null&&(ue=t),ne["$<<"](ce.$at(ue))},{$$s:fe}))):(H=T(oe,e("Integer"),"to_int"),ne["$<<"](fe.$at(H)))},{$$s:Q}),ne},-1),p(o,"$zip",function $e(j){var L=$e.$$p||t,Y,Q,ne=this,se=t;$e.$$p=null,Y=re(arguments),Q=Y;var oe=[],fe=ne.length,f,b,H,te,ue;for(te=0,ue=Q.length;te<ue;te++)if(b=Q[te],!b.$$is_array){if(b.$$is_range||b.$$is_enumerator){Q[te]=b.$take(fe);continue}Q[te]=(A(se=M["$coerce_to?"](b,e("Array"),"to_ary"))?se:M["$coerce_to!"](b,e("Enumerator"),"to_enum","each")).$to_a()}for(H=0;H<fe;H++){for(f=[ne[H]],te=0,ue=Q.length;te<ue;te++)b=Q[te][H],b==null&&(b=t),f[te+1]=b;oe[H]=f}if(L!==t){for(H=0;H<fe;H++)n.yield1(L,oe[H]);return t}return oe},-1),J(o,"$inherited",function(j){j.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),p(o,"$instance_variables",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,v(S(L,F(L,"instance_variables",$e,!1,!0),"instance_variables",[],j),"reject",[],function(Q){var ne=t;return Q==null&&(Q=t),A(ne=/^@\d+$/.test(Q))?ne:Q["$=="]("@length")})}),p(o,"$pack",function(j){return re(arguments),q.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),_(o,"append","push"),_(o,"filter","select"),_(o,"filter!","select!"),_(o,"map","collect"),_(o,"map!","collect!"),_(o,"prepend","unshift"),_(o,"size","length"),_(o,"slice","[]"),_(o,"to_s","inspect"),M.$pristine(o.$singleton_class(),"allocate"),M.$pristine(o,"copy_instance_variables","initialize_dup")}("::",Array,$)};Opal.modules["corelib/hash"]=function(n){var A=n.yield1,w=n.hash_clone,K=n.hash_delete,I=n.hash_each,ee=n.hash_get,Z=n.hash_put,T=n.deny_frozen_access,G=n.freeze,m=n.opal32_init,P=n.opal32_add,ie=n.klass,W=n.slice,X=n.Opal,re=n.Kernel,J=n.defs,q=n.def,p=n.send,M=n.rb_ge,U=n.rb_gt,S=n.truthy,F=n.to_a,v=n.return_self,z=n.not,C=n.alias,x=n.top,y=[],u=n.nil,d=n.$$$;return n.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),x.$require("corelib/enumerable"),function(k,h,c){var l=ie(k,h,"Hash"),E=[l].concat(c),B=n.$r(E);l.$include(d("Enumerable")),l.$$prototype.$$is_hash=!0,J(l,"$[]",function(t){var e,r,i=this;e=W(arguments),r=e;var a,o=r.length,g,N;if(o===1){if(a=X["$coerce_to?"](r["$[]"](0),d("Hash"),"to_hash"),a!==u)return i.$allocate()["$merge!"](a);for(r=X["$coerce_to?"](r["$[]"](0),d("Array"),"to_ary"),r===u&&re.$raise(d("ArgumentError"),"odd number of arguments for Hash"),o=r.length,a=i.$allocate(),N=0;N<o;N++)g=r[N],g.$$is_array||re.$raise(d("ArgumentError"),"invalid element "+g.$inspect()+" for Hash"),g.length===1?a.$store(g[0],u):g.length===2?a.$store(g[0],g[1]):re.$raise(d("ArgumentError"),"invalid number of elements ("+g.length+" for "+g.$inspect()+"), must be 1..2");return a}for(o%2!==0&&re.$raise(d("ArgumentError"),"odd number of arguments for Hash"),a=i.$allocate(),N=0;N<o;N+=2)a.$store(r[N],r[N+1]);return a},-1),J(l,"$allocate",function(){var t=this,e=new t.$$constructor;return e.$$none=u,e.$$proc=u,e}),J(l,"$try_convert",function(t){return X["$coerce_to?"](t,d("Hash"),"to_hash")}),q(l,"$initialize",function $(t){var e=$.$$p||u,r=this;return $.$$p=null,T(r),t!==void 0&&e!==u&&re.$raise(d("ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=t===void 0?u:t,r.$$proc=e,r},-1),q(l,"$==",function(t){var e=this;return e===t?!0:!t.$$is_hash||e.size!==t.size?!1:I(e,!0,function(r,i){var a=ee(t,r);return a===void 0||!i["$eql?"](a)?[!0,!1]:[!1,!0]})}),q(l,"$>=",function(t){var e=this,r=u;return t=X["$coerce_to!"](t,d("Hash"),"to_hash"),e.size<t.size?!1:(r=!0,p(t,"each",[],function i(a,o){var g=i.$$s==null?this:i.$$s,N=u;if(a==null&&(a=u),o==null&&(o=u),N=g.$fetch(a,null),N==null||N!==o){r=!1;return}},{$$s:e}),r)}),q(l,"$>",function(t){var e=this;return t=X["$coerce_to!"](t,d("Hash"),"to_hash"),e.size<=t.size?!1:M(e,t)}),q(l,"$<",function(t){var e=this;return t=X["$coerce_to!"](t,d("Hash"),"to_hash"),U(t,e)}),q(l,"$<=",function(t){var e=this;return t=X["$coerce_to!"](t,d("Hash"),"to_hash"),M(t,e)}),q(l,"$[]",function(t){var e=this,r=ee(e,t);return r!==void 0?r:e.$default(t)}),q(l,"$[]=",function(t,e){var r=this;return T(r),Z(r,t,e),e}),q(l,"$assoc",function(t){var e=this;return I(e,u,function(r,i){return r["$=="](t)?[!0,[r,i]]:[!1,u]})}),q(l,"$clear",function(){var t=this;return T(t),t.clear(),t.$$keys&&t.$$keys.clear(),t}),q(l,"$clone",function(){var t=this,e=t.$class().$new();return w(t,e),t["$frozen?"]()?e.$freeze():e}),q(l,"$compact",function(){var t=this,e=new Map;return I(t,e,function(r,i){return i!==u&&Z(e,r,i),[!1,e]})}),q(l,"$compact!",function(){var t=this;T(t);var e=u;return I(t,e,function(r,i){return i===u&&(K(t,r),e=t),[!1,e]})}),q(l,"$compare_by_identity",function(){var t=this;return T(t),t.$$by_identity||(t.$$by_identity=!0,t.size!==0&&n.hash_rehash(t)),t}),q(l,"$compare_by_identity?",function(){var t=this;return t.$$by_identity===!0}),q(l,"$default",function(t){var e=this;return t!==void 0&&e.$$proc!==u&&e.$$proc!==void 0?e.$$proc.$call(e,t):e.$$none===void 0?u:e.$$none},-1),q(l,"$default=",function(t){var e=this;return T(e),e.$$proc=u,e.$$none=t,t}),q(l,"$default_proc",function(){var t=this;return t.$$proc!==void 0?t.$$proc:u}),q(l,"$default_proc=",function(t){var e=this;T(e);var r=t;return r!==u&&(r=X["$coerce_to!"](r,d("Proc"),"to_proc"),r["$lambda?"]()&&r.$arity().$abs()!==2&&re.$raise(d("TypeError"),"default_proc takes two arguments")),e.$$none=u,e.$$proc=r,t}),q(l,"$delete",function $(t){var e=$.$$p||u,r=this;$.$$p=null,T(r);var i=K(r,t);return i!==void 0?i:e!==u?n.yield1(e,t):u}),q(l,"$delete_if",function $(){var t=$.$$p||u,e=this;return $.$$p=null,S(t)?(T(e),I(e,e,function(r,i){var a=t(r,i);return a!==!1&&a!==u&&K(e,r),[!1,e]})):p(e,"enum_for",["delete_if"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),q(l,"$dig",function(t,e){var r,i,a=this,o=u;return r=W(arguments,1),i=r,o=a["$[]"](t),o===u||i.length===0?o:(S(o["$respond_to?"]("dig"))||re.$raise(d("TypeError"),""+o.$class()+" does not have #dig method"),p(o,"dig",F(i)))},-2),q(l,"$dup",function(){var t=this;return w(t,t.$class().$new())}),q(l,"$each",function $(){var t=$.$$p||u,e=this;return $.$$p=null,S(t)?I(e,e,function(r,i){return A(t,[r,i]),[!1,e]}):p(e,"enum_for",["each"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),q(l,"$each_key",function $(){var t=$.$$p||u,e=this;return $.$$p=null,S(t)?I(e,e,function(r,i){return t(r),[!1,e]}):p(e,"enum_for",["each_key"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),q(l,"$each_value",function $(){var t=$.$$p||u,e=this;return $.$$p=null,S(t)?I(e,e,function(r,i){return t(i),[!1,e]}):p(e,"enum_for",["each_value"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),q(l,"$empty?",function(){var t=this;return t.size===0}),q(l,"$except",function(t){var e,r,i=this;return e=W(arguments),r=e,p(i.$dup(),"except!",F(r))},-1),q(l,"$except!",function(t){var e,r,i=this;return e=W(arguments),r=e,p(r,"each",[],function a(o){var g=a.$$s==null?this:a.$$s;return o==null&&(o=u),g.$delete(o)},{$$s:i}),i},-1),q(l,"$fetch",function $(t,e){var r=$.$$p||u,i=this;$.$$p=null;var a=ee(i,t);return a!==void 0?a:r!==u?r(t):e!==void 0?e:re.$raise(d("KeyError").$new("key not found: "+t.$inspect(),new Map([["key",t],["receiver",i]])))},-2),q(l,"$fetch_values",function $(t){var e=$.$$p||u,r,i,a=this;return $.$$p=null,r=W(arguments),i=r,p(i,"map",[],function o(g){var N=o.$$s==null?this:o.$$s;return g==null&&(g=u),p(N,"fetch",[g],e.$to_proc())},{$$s:a})},-1),q(l,"$flatten",function(t){var e=this;t==null&&(t=1),t=X["$coerce_to!"](t,d("Integer"),"to_int");var r=[];return I(e,r,function(i,a){return r.push(i),a.$$is_array?t===1?(r.push(a),[!1,r]):(r=r.concat(a.$flatten(t-2)),[!1,r]):(r.push(a),[!1,r])})},-1),q(l,"$freeze",function(){var t=this;return S(t["$frozen?"]())?t:G(t)}),q(l,"$has_key?",function(t){var e=this;return ee(e,t)!==void 0}),q(l,"$has_value?",function(t){var e=this;return I(e,!1,function(r,i){return i["$=="](t)?[!0,!0]:[!1,!1]})});var _;q(l,"$hash",function(){var t=this,e=_===void 0,r=t.$object_id(),i=m(),a,o,g,N=t.size,D=new Int32Array(N);if(i=P(i,4),i=P(i,N),e)_=Object.create(null);else if(_[r])return P(i,16843009);try{for(a in _)if(o=_[a],t["$eql?"](o))return P(i,16843009);for(_[r]=t,g=0,I(t,!1,function(R,V){return D[g]=[1883326802,R,V].$hash(),g++,[!1,!1]}),D=D.sort(),g=0;g<D.length;g++)i=P(i,D[g]);return i}finally{e&&(_=void 0)}}),q(l,"$index",function(t){var e=this;return I(e,u,function(r,i){return i["$=="](t)?[!0,r]:[!1,u]})}),q(l,"$indexes",function(t){var e,r,i=this;e=W(arguments),r=e;for(var a=[],o=0,g=r.length,N,D;o<g;o++){if(N=r[o],D=ee(i,N),D===void 0){a.push(i.$default());continue}a.push(D)}return a},-1);var s;return q(l,"$inspect",function(){var t=this,e=s===void 0,r=t.$object_id(),i=[];return function(){try{if(e&&(s={}),s.hasOwnProperty(r))return"{...}";return s[r]=!0,I(t,!1,function(a,o){return o=B("Opal").$inspect(o),a=B("Opal").$inspect(a),i.push(a+"=>"+o),[!1,!1]}),"{"+i.join(", ")+"}";return u}finally{e&&(s=void 0)}}()}),q(l,"$invert",function(){var t=this,e=new Map;return I(t,e,function(r,i){return Z(e,i,r),[!1,e]})}),q(l,"$keep_if",function $(){var t=$.$$p||u,e=this;return $.$$p=null,S(t)?(T(e),I(e,e,function(r,i){var a=t(r,i);return(a===!1||a===u)&&K(e,r),[!1,e]})):p(e,"enum_for",["keep_if"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),q(l,"$keys",function(){var t=this;return Array.from(t.keys())}),q(l,"$length",function(){var t=this;return t.size}),q(l,"$merge",function $(t){var e=$.$$p||u,r,i,a=this;return $.$$p=null,r=W(arguments),i=r,p(a.$dup(),"merge!",F(i),e.$to_proc())},-1),q(l,"$merge!",function $(t){var e=$.$$p||u,r,i,a=this;$.$$p=null,r=W(arguments),i=r,T(a);var o,g;for(o=0;o<i.length;++o)g=X["$coerce_to!"](i[o],d("Hash"),"to_hash"),e===u?I(g,!1,function(N,D){return Z(a,N,D),[!1,!1]}):I(g,!1,function(N,D){var R=ee(a,N);return R===void 0?(Z(a,N,D),[!1,!1]):(Z(a,N,e(N,R,D)),[!1,!1])});return a},-1),q(l,"$rassoc",function(t){var e=this;return I(e,u,function(r,i){return i["$=="](t)?[!0,[r,i]]:[!1,u]})}),q(l,"$rehash",function(){var t=this;return T(t),n.hash_rehash(t)}),q(l,"$reject",function $(){var t=$.$$p||u,e=this;if($.$$p=null,!S(t))return p(e,"enum_for",["reject"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});var r=new Map;return I(e,r,function(i,a){var o=t(i,a);return(o===!1||o===u)&&Z(r,i,a),[!1,r]})}),q(l,"$reject!",function $(){var t=$.$$p||u,e=this;if($.$$p=null,!S(t))return p(e,"enum_for",["reject!"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});T(e);var r=u;return I(e,r,function(i,a){var o=t(i,a);return o!==!1&&o!==u&&(K(e,i),r=e),[!1,r]})}),q(l,"$replace",function(t){var e=this;return T(e),t=X["$coerce_to!"](t,d("Hash"),"to_hash"),e.$clear(),I(t,!1,function(r,i){return Z(e,r,i),[!1,!1]}),S(t.$default_proc())?e["$default_proc="](t.$default_proc()):e["$default="](t.$default()),e}),q(l,"$select",function $(){var t=$.$$p||u,e=this;if($.$$p=null,!S(t))return p(e,"enum_for",["select"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});var r=new Map;return I(e,r,function(i,a){var o=t(i,a);return o!==!1&&o!==u&&Z(r,i,a),[!1,r]})}),q(l,"$select!",function $(){var t=$.$$p||u,e=this;if($.$$p=null,!S(t))return p(e,"enum_for",["select!"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});T(e);var r=u;return I(e,r,function(i,a){var o=t(i,a);return(o===!1||o===u)&&(K(e,i),r=e),[!1,r]})}),q(l,"$shift",function(){var t=this;return T(t),I(t,u,function(e,r){return[!0,[e,K(t,e)]]})}),q(l,"$slice",function(t){var e,r,i=this;e=W(arguments),r=e;for(var a=new Map,o=0,g=r.length;o<g;o++){var N=r[o],D=ee(i,N);D!==void 0&&Z(a,N,D)}return a},-1),q(l,"$to_a",function(){var t=this,e=[];return I(t,e,function(r,i){return e.push([r,i]),[!1,e]})}),q(l,"$to_h",function $(){var t=$.$$p||u,e=this;if($.$$p=null,t!==u)return p(e,"map",[],t.$to_proc()).$to_h();if(e.$$class===n.Hash)return e;var r=new Map;return w(e,r),r}),q(l,"$to_hash",v),q(l,"$to_proc",function(){var t=this;return p(t,"proc",[],function e(r){var i=e.$$s==null?this:e.$$s;return r==null&&re.$raise(d("ArgumentError"),"no key given"),i["$[]"](r)},{$$arity:-1,$$s:t})}),q(l,"$transform_keys",function $(t){var e=$.$$p||u,r=this;if($.$$p=null,t==null&&(t=u),z(e)&&z(t))return p(r,"enum_for",["transform_keys"],function a(){var o=a.$$s==null?this:a.$$s;return o.$size()},{$$s:r});var i=new Map;return I(r,i,function(a,o){var g;return t!==u&&(g=ee(t,a)),g===void 0&&e&&e!==u&&(g=e(a)),g===void 0&&(g=a),Z(i,g,o),[!1,i]})},-1),q(l,"$transform_keys!",function $(t){var e=$.$$p||u,r=this;if($.$$p=null,t==null&&(t=u),z(e)&&z(t))return p(r,"enum_for",["transform_keys!"],function a(){var o=a.$$s==null?this:a.$$s;return o.$size()},{$$s:r});T(r);var i=new Map;return I(r,r,function(a,o){var g;return t!==u&&(g=ee(t,a)),g===void 0&&e&&e!==u&&(g=e(a)),g===void 0?[!1,r]:(ee(i,a)||K(r,a),Z(r,g,o),Z(i,g,!0),[!1,r])})},-1),q(l,"$transform_values",function $(){var t=$.$$p||u,e=this;if($.$$p=null,!S(t))return p(e,"enum_for",["transform_values"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});var r=new Map;return I(e,r,function(i,a){return Z(r,i,t(a)),[!1,r]})}),q(l,"$transform_values!",function $(){var t=$.$$p||u,e=this;return $.$$p=null,S(t)?(T(e),I(e,e,function(r,i){return Z(e,r,t(i)),[!1,e]})):p(e,"enum_for",["transform_values!"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),q(l,"$values",function(){var t=this;return Array.from(t.values())}),C(l,"each_pair","each"),C(l,"eql?","=="),C(l,"filter","select"),C(l,"filter!","select!"),C(l,"include?","has_key?"),C(l,"indices","indexes"),C(l,"key","index"),C(l,"key?","has_key?"),C(l,"member?","has_key?"),C(l,"size","length"),C(l,"store","[]="),C(l,"to_s","inspect"),C(l,"update","merge!"),C(l,"value?","has_value?"),C(l,"values_at","indexes")}("::",Map,y)};Opal.modules["corelib/number"]=function(n){var A=n.klass,w=n.Opal,K=n.Kernel,I=n.def,ee=n.eqeqeq,Z=n.truthy,T=n.rb_gt,G=n.not,m=n.rb_lt,P=n.alias,ie=n.send2,W=n.find_super,X=n.send,re=n.rb_plus,J=n.rb_minus,q=n.eqeq,p=n.return_self,M=n.rb_divide,U=n.to_ary,S=n.rb_times,F=n.rb_le,v=n.rb_ge,z=n.return_val,C=n.const_set,x=n.top,y=[],u=n.nil,d=n.$$$;return n.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),x.$require("corelib/numeric"),function(k,h,c){var l=A(k,h,"Number");w.$bridge(Number,l),n.prop(l.$$prototype,"$$is_number",!0),l.$$is_number_class=!0;var E=new Map;(function(e,r){return I(e,"$allocate",function(){var a=this;return K.$raise(d("TypeError"),"allocator undefined for "+a.$name())}),n.udef(e,"$new"),u})(n.get_singleton_class(l)),I(l,"$coerce",function(r){var i=this;if(r===u)K.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float");else{if(r.$$is_string)return[K.$Float(r),i];if(r["$respond_to?"]("to_f"))return[w["$coerce_to!"](r,d("Float"),"to_f"),i];if(r.$$is_number)return[r,i];K.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float")}}),I(l,"$__id__",function(){var r=this;if(r|r===0)return r*2+1;if(E.has(r))return E.get(r);var i=n.uid();return E.set(r,i),i}),I(l,"$hash",function(){var r=this;return r|r===0?r.$__id__():r.toString().$hash()}),I(l,"$+",function(r){var i=this;return r.$$is_number?i+r:i.$__coerced__("+",r)}),I(l,"$-",function(r){var i=this;return r.$$is_number?i-r:i.$__coerced__("-",r)}),I(l,"$*",function(r){var i=this;return r.$$is_number?i*r:i.$__coerced__("*",r)}),I(l,"$/",function(r){var i=this;return r.$$is_number?i/r:i.$__coerced__("/",r)}),I(l,"$%",function(r){var i=this;if(r.$$is_number){if(r==-1/0)return r;if(r==0)K.$raise(d("ZeroDivisionError"),"divided by 0");else return r<0||i<0?(i%r+r)%r:i%r}else return i.$__coerced__("%",r)}),I(l,"$&",function(r){var i=this;return r.$$is_number?i&r:i.$__coerced__("&",r)}),I(l,"$|",function(r){var i=this;return r.$$is_number?i|r:i.$__coerced__("|",r)}),I(l,"$^",function(r){var i=this;return r.$$is_number?i^r:i.$__coerced__("^",r)}),I(l,"$<",function(r){var i=this;return r.$$is_number?i<r:i.$__coerced__("<",r)}),I(l,"$<=",function(r){var i=this;return r.$$is_number?i<=r:i.$__coerced__("<=",r)}),I(l,"$>",function(r){var i=this;return r.$$is_number?i>r:i.$__coerced__(">",r)}),I(l,"$>=",function(r){var i=this;return r.$$is_number?i>=r:i.$__coerced__(">=",r)});var B=function(e,r){return r.$$is_number?isNaN(e)||isNaN(r)?u:e>r?1:e<r?-1:0:e.$__coerced__("<=>",r)};I(l,"$<=>",function(r){var i=this;try{return B(i,r)}catch(a){if(n.rescue(a,[d("ArgumentError")]))try{return u}finally{n.pop_exception(a)}else throw a}}),I(l,"$<<",function(r){var i=this;return r=w["$coerce_to!"](r,d("Integer"),"to_int"),r>0?i<<r:i>>-r}),I(l,"$>>",function(r){var i=this;return r=w["$coerce_to!"](r,d("Integer"),"to_int"),r>0?i>>r:i<<-r}),I(l,"$[]",function(r){var i=this;return r=w["$coerce_to!"](r,d("Integer"),"to_int"),r<0?0:r>=32?i<0?1:0:i>>r&1}),I(l,"$+@",function(){var r=this;return+r}),I(l,"$-@",function(){var r=this;return-r}),I(l,"$~",function(){var r=this;return~r}),I(l,"$**",function(r){var i=this;return ee(d("Integer"),r)?G(d("Integer")["$==="](i))||Z(T(r,0))?Math.pow(i,r):d("Rational").$new(i,1)["$**"](r):Z(m(i,0))&&(ee(d("Float"),r)||ee(d("Rational"),r))?d("Complex").$new(i,0)["$**"](r.$to_f()):Z(r.$$is_number!=null)?Math.pow(i,r):i.$__coerced__("**",r)}),I(l,"$==",function(r){var i=this;return r.$$is_number?i.valueOf()===r.valueOf():r["$respond_to?"]("==")?r["$=="](i):!1}),P(l,"===","=="),I(l,"$abs",function(){var r=this;return Math.abs(r)}),I(l,"$abs2",function(){var r=this;return Math.abs(r*r)}),I(l,"$allbits?",function(r){var i=this;return r=w["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)==r}),I(l,"$anybits?",function(r){var i=this;return r=w["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)!==0}),I(l,"$angle",function(){var r=this;return Z(r["$nan?"]())?r:r==0?1/r>0?0:Math.PI:r<0?Math.PI:0}),I(l,"$bit_length",function(){var r=this;if(ee(d("Integer"),r)||K.$raise(d("NoMethodError").$new("undefined method `bit_length` for "+r+":Float","bit_length")),r===0||r===-1)return 0;for(var i=0,a=r<0?~r:r;a!=0;)i+=1,a>>>=1;return i}),I(l,"$ceil",function(r){var i=this;r==null&&(r=0);var a=i.$to_f();if(a%1===0&&r>=0)return a;var o=Math.pow(10,r),g=Math.ceil(a*o)/o;return a%1===0&&(g=Math.round(g)),g},-1),I(l,"$chr",function(r){var i=this;return n.enc(String.fromCharCode(i),r||"BINARY")},-1),I(l,"$denominator",function e(){var r=e.$$p||u,i=this;return e.$$p=null,Z(i["$nan?"]())||Z(i["$infinite?"]())?1:ie(i,W(i,"denominator",e,!1,!0),"denominator",[],r)}),I(l,"$downto",function e(r){var i=e.$$p||u,a=this;if(e.$$p=null,i===u)return X(a,"enum_for",["downto",r],function g(){var N=g.$$s==null?this:g.$$s;return ee(d("Numeric"),r)||K.$raise(d("ArgumentError"),"comparison of "+N.$class()+" with "+r.$class()+" failed"),Z(T(r,N))?0:re(J(N,r),1)},{$$s:a});r.$$is_number||K.$raise(d("ArgumentError"),"comparison of "+a.$class()+" with "+r.$class()+" failed");for(var o=a;o>=r;o--)i(o);return a}),I(l,"$equal?",function(r){var i=this,a=u;return Z(a=i["$=="](r))?a:isNaN(i)&&isNaN(r)}),I(l,"$even?",function(){var r=this;return r%2===0}),I(l,"$floor",function(r){var i=this;r==null&&(r=0);var a=i.$to_f();if(a%1===0&&r>=0)return a;var o=Math.pow(10,r),g=Math.floor(a*o)/o;return a%1===0&&(g=Math.round(g)),g},-1),I(l,"$gcd",function(r){var i=this;ee(d("Integer"),r)||K.$raise(d("TypeError"),"not an integer");for(var a=Math.abs(i),o=Math.abs(r);a>0;){var g=a;a=o%a,o=g}return o}),I(l,"$gcdlcm",function(r){var i=this;return[i.$gcd(r),i.$lcm(r)]}),I(l,"$integer?",function(){var r=this;return r%1===0}),I(l,"$is_a?",function e(r){var i=e.$$p||u,a=this;return e.$$p=null,q(r,d("Integer"))&&ee(d("Integer"),a)||q(r,d("Integer"))&&ee(d("Integer"),a)||q(r,d("Float"))&&ee(d("Float"),a)?!0:ie(a,W(a,"is_a?",e,!1,!0),"is_a?",[r],i)}),I(l,"$instance_of?",function e(r){var i=e.$$p||u,a=this;return e.$$p=null,q(r,d("Integer"))&&ee(d("Integer"),a)||q(r,d("Integer"))&&ee(d("Integer"),a)||q(r,d("Float"))&&ee(d("Float"),a)?!0:ie(a,W(a,"instance_of?",e,!1,!0),"instance_of?",[r],i)}),I(l,"$lcm",function(r){var i=this;return ee(d("Integer"),r)||K.$raise(d("TypeError"),"not an integer"),i==0||r==0?0:Math.abs(i*r/i.$gcd(r))}),I(l,"$next",function(){var r=this;return r+1}),I(l,"$nobits?",function(r){var i=this;return r=w["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)==0}),I(l,"$nonzero?",function(){var r=this;return r==0?u:r}),I(l,"$numerator",function e(){var r=e.$$p||u,i=this;return e.$$p=null,Z(i["$nan?"]())||Z(i["$infinite?"]())?i:ie(i,W(i,"numerator",e,!1,!0),"numerator",[],r)}),I(l,"$odd?",function(){var r=this;return r%2!==0}),I(l,"$ord",p),I(l,"$pow",function(r,i){var a=this;return a==0&&K.$raise(d("ZeroDivisionError"),"divided by 0"),i===void 0?a["$**"](r):(d("Integer")["$==="](r)||K.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),r<0&&K.$raise(d("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),d("Integer")["$==="](i)||K.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),i===0&&K.$raise(d("ZeroDivisionError"),"divided by 0"),a["$**"](r)["$%"](i))},-2),I(l,"$pred",function(){var r=this;return r-1}),I(l,"$quo",function e(r){var i=e.$$p||u,a=this;return e.$$p=null,ee(d("Integer"),a)?ie(a,W(a,"quo",e,!1,!0),"quo",[r],i):M(a,r)}),I(l,"$rationalize",function(r){var i,a,o=this,g=u,N=u;return arguments.length>1&&K.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(d("Integer"),o)?d("Rational").$new(o,1):Z(o["$infinite?"]())?K.$raise(d("FloatDomainError"),"Infinity"):Z(o["$nan?"]())?K.$raise(d("FloatDomainError"),"NaN"):Z(r==null)?(a=d("Math").$frexp(o),i=U(a),g=i[0]==null?u:i[0],N=i[1]==null?u:i[1],g=d("Math").$ldexp(g,d(d("Float"),"MANT_DIG")).$to_i(),N=J(N,d(d("Float"),"MANT_DIG")),d("Rational").$new(S(2,g),1["$<<"](J(1,N))).$rationalize(d("Rational").$new(1,1["$<<"](J(1,N))))):o.$to_r().$rationalize(r)},-1),I(l,"$remainder",function(r){var i=this;return J(i,S(r,M(i,r).$truncate()))}),I(l,"$round",function(r){var i,a,o=this,g=u;if(ee(d("Integer"),o)){if(Z(r==null)||(ee(d("Float"),r)&&Z(r["$infinite?"]())&&K.$raise(d("RangeError"),"Infinity"),r=w["$coerce_to!"](r,d("Integer"),"to_int"),Z(m(r,d(d("Integer"),"MIN")))&&K.$raise(d("RangeError"),"out of bounds"),Z(r>=0)))return o;if(r=r["$-@"](),.415241*r-.125>o.$size())return 0;var N=Math.pow(10,r),D=Math.floor((Math.abs(o)+N/2)/N)*N;return o<0?-D:D}else{if(Z(o["$nan?"]())&&Z(r==null)&&K.$raise(d("FloatDomainError"),"NaN"),r=w["$coerce_to!"](r||0,d("Integer"),"to_int"),Z(F(r,0)))Z(o["$nan?"]())?K.$raise(d("RangeError"),"NaN"):Z(o["$infinite?"]())&&K.$raise(d("FloatDomainError"),"Infinity");else{if(q(r,0))return Math.round(o);if(Z(o["$nan?"]())||Z(o["$infinite?"]()))return o}return a=d("Math").$frexp(o),i=U(a),i[0]==null||i[0],g=i[1]==null?u:i[1],Z(v(r,J(re(d(d("Float"),"DIG"),2),Z(T(g,0))?M(g,4):J(M(g,3),1))))?o:Z(m(r,(Z(T(g,0))?re(M(g,3),1):M(g,4))["$-@"]()))?0:Math.round(o*Math.pow(10,r))/Math.pow(10,r)}},-1),I(l,"$times",function e(){var r=e.$$p||u,i=this;if(e.$$p=null,!Z(r))return X(i,"enum_for",["times"],function o(){var g=o.$$s==null?this:o.$$s;return g},{$$s:i});for(var a=0;a<i;a++)r(a);return i}),I(l,"$to_f",p),I(l,"$to_i",function(){var r=this;return r<0?Math.ceil(r):Math.floor(r)}),I(l,"$to_r",function(){var r,i,a=this,o=u,g=u;return ee(d("Integer"),a)?d("Rational").$new(a,1):(i=d("Math").$frexp(a),r=U(i),o=r[0]==null?u:r[0],g=r[1]==null?u:r[1],o=d("Math").$ldexp(o,d(d("Float"),"MANT_DIG")).$to_i(),g=J(g,d(d("Float"),"MANT_DIG")),S(o,d(d("Float"),"RADIX")["$**"](g)).$to_r())}),I(l,"$to_s",function(r){var i=this;return r==null&&(r=10),r=w["$coerce_to!"](r,d("Integer"),"to_int"),(Z(m(r,2))||Z(T(r,36)))&&K.$raise(d("ArgumentError"),"invalid radix "+r),q(i,0)&&Z(1/i===-1/0)?"-0.0":i.toString(r)},-1),I(l,"$truncate",function(r){var i=this;r==null&&(r=0);var a=i.$to_f();if(a%1===0&&r>=0)return a;var o=Math.pow(10,r),g=parseInt(a*o,10)/o;return a%1===0&&(g=Math.round(g)),g},-1),I(l,"$digits",function(r){var i=this;r==null&&(r=10),Z(m(i,0))&&K.$raise(d(d("Math"),"DomainError"),"out of domain"),r=w["$coerce_to!"](r,d("Integer"),"to_int"),Z(m(r,2))&&K.$raise(d("ArgumentError"),"invalid radix "+r),i!=parseInt(i)&&K.$raise(d("NoMethodError"),"undefined method `digits' for "+i.$inspect());var a=i,o=[];if(i==0)return[0];for(;a!=0;)o.push(a%r),a=parseInt(a/r,10);return o},-1),I(l,"$divmod",function e(r){var i=e.$$p||u,a=this;return e.$$p=null,Z(a["$nan?"]())||Z(r["$nan?"]())?K.$raise(d("FloatDomainError"),"NaN"):Z(a["$infinite?"]())?K.$raise(d("FloatDomainError"),"Infinity"):ie(a,W(a,"divmod",e,!1,!0),"divmod",[r],i)}),I(l,"$upto",function e(r){var i=e.$$p||u,a=this;if(e.$$p=null,i===u)return X(a,"enum_for",["upto",r],function g(){var N=g.$$s==null?this:g.$$s;return ee(d("Numeric"),r)||K.$raise(d("ArgumentError"),"comparison of "+N.$class()+" with "+r.$class()+" failed"),Z(m(r,N))?0:re(J(r,N),1)},{$$s:a});r.$$is_number||K.$raise(d("ArgumentError"),"comparison of "+a.$class()+" with "+r.$class()+" failed");for(var o=a;o<=r;o++)i(o);return a}),I(l,"$zero?",function(){var r=this;return r==0}),I(l,"$size",z(4)),I(l,"$nan?",function(){var r=this;return isNaN(r)}),I(l,"$finite?",function(){var r=this;return r!=1/0&&r!=-1/0&&!isNaN(r)}),I(l,"$infinite?",function(){var r=this;return r==1/0?1:r==-1/0?-1:u}),I(l,"$positive?",function(){var r=this;return r!=0&&(r==1/0||1/r>0)}),I(l,"$negative?",function(){var r=this;return r==-1/0||1/r<0});function _(e){var r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}function s(e){return new DataView(e.buffer).getFloat64(0,!0)}function $(e){for(var r=_(e),i=0;i<r.length;i++)if(r[i]===255)r[i]=0;else{r[i]++;break}return s(r)}function t(e){for(var r=_(e),i=0;i<r.length;i++)if(r[i]===0)r[i]=255;else{r[i]--;break}return s(r)}return I(l,"$next_float",function(){var r=this;return q(r,d(d("Float"),"INFINITY"))?d(d("Float"),"INFINITY"):Z(r["$nan?"]())?d(d("Float"),"NAN"):Z(v(r,0))?$(Math.abs(r)):t(r)}),I(l,"$prev_float",function(){var r=this;return q(r,d(d("Float"),"INFINITY")["$-@"]())?d(d("Float"),"INFINITY")["$-@"]():Z(r["$nan?"]())?d(d("Float"),"NAN"):Z(T(r,0))?t(r):-$(Math.abs(r))}),P(l,"arg","angle"),P(l,"eql?","=="),P(l,"fdiv","/"),P(l,"inspect","to_s"),P(l,"kind_of?","is_a?"),P(l,"magnitude","abs"),P(l,"modulo","%"),P(l,"object_id","__id__"),P(l,"phase","angle"),P(l,"succ","next"),P(l,"to_int","to_i")}("::",d("Numeric")),C("::","Fixnum",d("Number")),function(k,h,c){var l=A(k,h,"Integer"),E=[l].concat(c);return l.$$is_number_class=!0,l.$$is_integer_class=!0,function(B,_){var s=[B].concat(_),$=n.$r(s);return I(B,"$allocate",function(){var e=this;return K.$raise(d("TypeError"),"allocator undefined for "+e.$name())}),n.udef(B,"$new"),I(B,"$sqrt",function(e){return e=w["$coerce_to!"](e,d("Integer"),"to_int"),e<0&&K.$raise(d(d("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(e),10)}),I(B,"$try_convert",function(e){var r=this;return $("Opal")["$coerce_to?"](e,r,"to_int")})}(n.get_singleton_class(l),E),C(l,"MAX",Math.pow(2,30)-1),C(l,"MIN",-Math.pow(2,30))}("::",d("Numeric"),y),function(k,h,c){var l=A(k,h,"Float");return l.$$is_number_class=!0,function(E,B){return I(E,"$allocate",function(){var s=this;return K.$raise(d("TypeError"),"allocator undefined for "+s.$name())}),n.udef(E,"$new"),I(E,"$===",function(s){return!!s.$$is_number})}(n.get_singleton_class(l)),C(l,"INFINITY",1/0),C(l,"MAX",Number.MAX_VALUE),C(l,"MIN",Number.MIN_VALUE),C(l,"NAN",NaN),C(l,"DIG",15),C(l,"MANT_DIG",53),C(l,"RADIX",2),C(l,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",d("Numeric"))};Opal.modules["corelib/range"]=function(n){var A=n.klass,w=n.truthy,K=n.Kernel,I=n.def,ee=n.not,Z=n.send2,T=n.find_super,G=n.lambda,m=n.send,P=n.rb_ge,ie=n.rb_gt,W=n.eqeq,X=n.rb_le,re=n.rb_lt,J=n.eqeqeq,q=n.return_ivar,p=n.rb_minus,M=n.Opal,U=n.rb_divide,S=n.rb_plus,F=n.rb_times,v=n.thrower,z=n.alias,C=n.top,x=[],y=n.nil,u=n.$$$;return n.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),C.$require("corelib/enumerable"),function(d,k,h){var c=A(d,k,"Range"),l=[c].concat(h),E=n.$r(l),B=c.$$prototype;B.begin=B.end=B.excl=y,c.$include(u("Enumerable")),c.$$prototype.$$is_range=!0,c.$attr_reader("begin","end"),I(c,"$initialize",function($,t,e){var r=this;return e==null&&(e=!1),w(r.begin)&&K.$raise(u("NameError"),"'initialize' called twice"),w($["$<=>"](t))||w($["$nil?"]())||w(t["$nil?"]())||K.$raise(u("ArgumentError"),"bad value for range"),r.begin=$,r.end=t,r.excl=e},-3),I(c,"$===",function($){var t=this;return w($.$$is_range)?!1:t["$cover?"]($)});function _(s){return s.begin===y||s.end===y||s.begin===-1/0||s.end===1/0||s.begin===1/0||s.end===-1/0}return I(c,"$count",function s(){var $=s.$$p||y,t=this;return s.$$p=null,ee($!==y)&&w(_(t))?u(u("Float"),"INFINITY"):Z(t,T(t,"count",s,!1,!0),"count",[],$)}),I(c,"$to_a",function s(){var $=s.$$p||y,t=this;return s.$$p=null,w(_(t))&&K.$raise(u("TypeError"),"cannot convert endless range to an array"),Z(t,T(t,"to_a",s,!1,!0),"to_a",[],$)}),I(c,"$cover?",function($){var t=this,e=y,r=y,i=y,a=y,o=y,g=y,N=y,D=y;return e=G(function(V,O){var ae=y;return V==null&&(V=y),O==null&&(O=y),w(ae=V["$<=>"](O))?ae:1}),w($.$$is_range)?(r=$.$begin(),i=$.$end(),a=$["$exclude_end?"](),w(t.begin)&&w(r["$nil?"]())||w(t.end)&&w(i["$nil?"]())||w(r)&&w(i)&&w(m(e.$call(r,i),"then",[],function(V){return V==null&&(V=y),w(a)?P(V,0):ie(V,0)}))||w(r)&&ee(t["$cover?"](r))?!1:(o=e.$call(t.end,i),W(t.excl,a)?P(o,0):w(t.excl)?ie(o,0):w(P(o,0))?!0:(g=$.$max(),w(N=g["$nil?"]()["$!"]())?X(e.$call(g,t.end),0):N))):w(t.begin)&&w(ie(e.$call(t.begin,$),0))?!1:w(t.end["$nil?"]())?!0:(D=e.$call($,t.end),w(t.excl)?re(D,0):X(D,0))}),I(c,"$each",function s(){var $=s.$$p||y,t=this,e=y,r=y,i=y;if(s.$$p=null,$===y)return m(t,"enum_for",["each"],function g(){var N=g.$$s==null?this:g.$$s;return N.$size()},{$$s:t});var a,o;if(t.begin.$$is_number&&t.end.$$is_number){for((t.begin%1!==0||t.end%1!==0)&&K.$raise(u("TypeError"),"can't iterate from Float"),a=t.begin,o=t.end+(w(t.excl)?0:1);a<o;a++)$(a);return t}if(t.begin.$$is_string&&t.end.$$is_string)return m(t.begin,"upto",[t.end,t.excl],$.$to_proc()),t;for(e=t.begin,r=t.end,w(e["$respond_to?"]("succ"))||K.$raise(u("TypeError"),"can't iterate from "+e.$class());w(w(i=t.end["$nil?"]())?i:re(e["$<=>"](r),0));)n.yield1($,e),e=e.$succ();return ee(t.excl)&&W(e,r)&&n.yield1($,e),t}),I(c,"$eql?",function($){var t=this,e=y,r=y;return J(u("Range"),$)?w(e=w(r=t.excl["$==="]($["$exclude_end?"]()))?t.begin["$eql?"]($.$begin()):r)?t.end["$eql?"]($.$end()):e:!1}),I(c,"$exclude_end?",q("excl")),I(c,"$first",function s($){var t=s.$$p||y,e=this;return s.$$p=null,w(e.begin["$nil?"]())&&K.$raise(u("RangeError"),"cannot get the minimum of beginless range"),w($==null)?e.begin:Z(e,T(e,"first",s,!1,!0),"first",[$],t)},-1),I(c,"$include?",function s($){var t=s.$$p||y,e=this,r=y,i=y;if(s.$$p=null,w(e.begin.$$is_number||e.end.$$is_number)||w(e.begin["$is_a?"](u("Time")))||w(e.end["$is_a?"](u("Time")))||w(u("Integer").$try_convert(e.begin))||w(u("Integer").$try_convert(e.end)))return e["$cover?"]($);if(w(e.begin.$$is_string||e.end.$$is_string)){if(w(e.begin.$$is_string&&e.end.$$is_string))return m(e.begin.$upto(e.end,e.excl),"any?",[],function(o){return o==null&&(o=y),o["$=="]($)});if(w(e.begin["$nil?"]()))return r=$["$<=>"](e.end),w(i=r["$nil?"]()["$!"]())?w(e.excl)?re(r,0):X(r,0):i;if(w(e.end["$nil?"]()))return r=e.begin["$<=>"]($),w(i=r["$nil?"]()["$!"]())?X(r,0):i}return Z(e,T(e,"include?",s,!1,!0),"include?",[$],t)}),I(c,"$last",function($){var t=this;return w(t.end["$nil?"]())&&K.$raise(u("RangeError"),"cannot get the maximum of endless range"),w($==null)?t.end:t.$to_a().$last($)},-1),I(c,"$max",function s(){var $=s.$$p||y,t=this;return s.$$p=null,w(t.end["$nil?"]())?K.$raise(u("RangeError"),"cannot get the maximum of endless range"):$!==y?Z(t,T(t,"max",s,!1,!0),"max",[],$):ee(t.begin["$nil?"]())&&(w(ie(t.begin,t.end))||w(t.excl)&&W(t.begin,t.end))?y:t.excl?t.end-1:t.end}),I(c,"$min",function s(){var $=s.$$p||y,t=this;return s.$$p=null,w(t.begin["$nil?"]())?K.$raise(u("RangeError"),"cannot get the minimum of beginless range"):$!==y?Z(t,T(t,"min",s,!1,!0),"min",[],$):ee(t.end["$nil?"]())&&(w(ie(t.begin,t.end))||w(t.excl)&&W(t.begin,t.end))?y:t.begin}),I(c,"$size",function(){var $=this.begin,t=this.end;if(u("Numeric")["$==="]($)){if(u("Numeric")["$==="](t)){var e=p(t,$);return e<0?0:(this.excl||(e+=1),u("Float")["$==="]($)||u("Float")["$==="](t)?Math.floor(e):e)}else if(t===y)return 1/0}else if($===y&&u("Numeric")["$==="](t))return 1/0;return y}),I(c,"$step",function s($){var t=s.$$p||y,e=this,r=y,i=y;s.$$p=null;function a(){$==null?$=1:$.$$is_number||($=M["$coerce_to!"]($,u("Integer"),"to_int")),$<0?K.$raise(u("ArgumentError"),"step can't be negative"):$===0&&K.$raise(u("ArgumentError"),"step can't be 0")}function o(){if(!e.begin["$respond_to?"]("succ")||e.begin.$$is_string&&e.end.$$is_string)return y;if($%1===0)return U(e.$size(),$).$ceil();var g=e.begin,N=e.end,D=Math.abs,R=Math.floor,V=(D(g)+D(N)+D(N-g))/D($)*u(u("Float"),"EPSILON"),O;return V>.5&&(V=.5),e.excl?(O=R((N-g)/$-V),O*$+g<N&&O++):O=R((N-g)/$+V)+1,O}return t===y?(w(e.begin["$is_a?"](E("Numeric")))||w(e.begin["$nil?"]()))&&(w(e.end["$is_a?"](E("Numeric")))||w(e.end["$nil?"]()))&&ee(w(r=e.begin["$nil?"]())?e.end["$nil?"]():r)?u(u("Enumerator"),"ArithmeticSequence").$new(e,$,"step"):m(e,"enum_for",["step",$],function(){return a(),o()}):(a(),w(e.begin.$$is_number&&e.end.$$is_number)?(i=0,function(){try{var g=v("break");return m(e,"loop",[],function N(){var D=N.$$s==null?this:N.$$s,R=y;return D.begin==null&&(D.begin=y),D.excl==null&&(D.excl=y),D.end==null&&(D.end=y),R=S(D.begin,F(i,$)),w(D.excl)?w(P(R,D.end))&&g.$throw(y,N.$$is_lambda):w(ie(R,D.end))&&g.$throw(y,N.$$is_lambda),n.yield1(t,R),i=S(i,1)},{$$s:e})}catch(N){if(N===g)return N.$v;throw N}finally{g.is_orphan=!0}}()):(e.begin.$$is_string&&e.end.$$is_string&&$%1!==0&&K.$raise(u("TypeError"),"no implicit conversion to float from string"),m(e,"each_with_index",[],function(N,D){return N==null&&(N=y),D==null&&(D=y),W(D["$%"]($),0)?n.yield1(t,N):y})),e)},-1),I(c,"$%",function($){var t=this;return w(t.begin["$is_a?"](E("Numeric")))&&w(t.end["$is_a?"](E("Numeric")))?u(u("Enumerator"),"ArithmeticSequence").$new(t,$,"%"):t.$step($)}),I(c,"$bsearch",function s(){var $=s.$$p||y,t=this;return s.$$p=null,$===y?t.$enum_for("bsearch"):(w(_(t)&&(t.begin.$$is_number||t.end.$$is_number))&&K.$raise(u("NotImplementedError"),"Can't #bsearch an infinite range"),w(t.begin.$$is_number&&t.end.$$is_number)||K.$raise(u("TypeError"),"can't do binary search for "+t.begin.$class()),m(t.$to_a(),"bsearch",[],$.$to_proc()))}),I(c,"$to_s",function(){var $=this,t=y;return""+(w(t=$.begin)?t:"")+(w($.excl)?"...":"..")+(w(t=$.end)?t:"")}),I(c,"$inspect",function(){var $=this,t=y;return""+(w(t=$.begin)?$.begin.$inspect():t)+(w($.excl)?"...":"..")+(w(t=$.end)?$.end.$inspect():t)}),I(c,"$marshal_load",function($){var t=this;return t.begin=$["$[]"]("begin"),t.end=$["$[]"]("end"),t.excl=$["$[]"]("excl")}),I(c,"$hash",function(){var $=this;return[u("Range"),$.begin,$.end,$.excl].$hash()}),z(c,"==","eql?"),z(c,"member?","include?")}("::",null,x)};Opal.modules["corelib/proc"]=function(n){var A=n.slice,w=n.each_ivar,K=n.klass,I=n.truthy,ee=n.Kernel,Z=n.defs,T=n.def,G=n.send,m=n.to_a,P=n.return_self,ie=n.ensure_kwargs,W=n.hash_get,X=n.Opal,re=n.alias,J=n.nil,q=n.$$$;return n.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(p,M){var U=K(p,M,"Proc");n.prop(U.$$prototype,"$$is_proc",!0),n.prop(U.$$prototype,"$$is_lambda",!1),Z(U,"$new",function v(){var z=v.$$p||J;return v.$$p=null,I(z)||ee.$raise(q("ArgumentError"),"tried to create a Proc object without a block"),z});function S(v,z){if(v.$$ret)try{return v.apply(null,z)}catch(C){if(C===v.$$ret)return C.$v;throw C}else return v.apply(null,z)}function F(v,z){if(v.$$brk)try{return n.yieldX(v,z)}catch(C){if(C===v.$$brk)return C.$v;throw C}else return n.yieldX(v,z)}return T(U,"$call",function v(z){var C=v.$$p||J,x,y,u=this;return v.$$p=null,x=A(arguments),y=x,C!==J&&(u.$$p=C),u.$$is_lambda?S(u,y):F(u,y)},-1),T(U,"$>>",function v(z){v.$$p;var C=this;return v.$$p=null,G(ee,"proc",[],function x(y){var u=x.$$p||J,d,k,h=x.$$s==null?this:x.$$s,c=J;return x.$$p=null,d=A(arguments),k=d,c=G(h,"call",m(k),u.$to_proc()),z.$call(c)},{$$arity:-1,$$s:C})}),T(U,"$<<",function v(z){v.$$p;var C=this;return v.$$p=null,G(ee,"proc",[],function x(y){var u=x.$$p||J,d,k,h=x.$$s==null?this:x.$$s,c=J;return x.$$p=null,d=A(arguments),k=d,c=G(z,"call",m(k),u.$to_proc()),h.$call(c)},{$$arity:-1,$$s:C})}),T(U,"$to_proc",P),T(U,"$lambda?",function(){var z=this;return!!z.$$is_lambda}),T(U,"$arity",function(){var z=this;return z.$$is_curried?-1:z.$$arity!=null?z.$$arity:z.length}),T(U,"$source_location",function(){var z=this,C=J;return z.$$is_curried?J:I(C=z.$$source_location)?C:J}),T(U,"$binding",function(){var z=this;return z.$$is_curried&&ee.$raise(q("ArgumentError"),"Can't create Binding"),I(q("::","Binding","skip_raise")?"constant":J)?q("Binding").$new(J,[],z.$$s,z.$source_location()):J}),T(U,"$parameters",function(z){var C,x=this;if(z=ie(z),C=W(z,"lambda"),x.$$is_curried)return[["rest"]];if(x.$$parameters){if(C??x.$$is_lambda)return x.$$parameters;var y=[],u,d;for(u=0,d=x.$$parameters.length;u<d;u++){var k=x.$$parameters[u];k[0]==="req"&&(k=["opt",k[1]]),y.push(k)}return y}else return[]},-1),T(U,"$curry",function(z){var C=this;z===void 0?z=C.length:(z=X["$coerce_to!"](z,q("Integer"),"to_int"),C.$$is_lambda&&z!==C.length&&ee.$raise(q("ArgumentError"),"wrong number of arguments ("+z+" for "+C.length+")"));function x(){var y=A(arguments),u=y.length,d;return u>z&&C.$$is_lambda&&!C.$$is_curried&&ee.$raise(q("ArgumentError"),"wrong number of arguments ("+u+" for "+z+")"),u>=z?C.$call.apply(C,y):(d=function(){return x.apply(null,y.concat(A(arguments)))},d.$$is_lambda=C.$$is_lambda,d.$$is_curried=!0,d)}return x.$$is_lambda=C.$$is_lambda,x.$$is_curried=!0,x},-1),T(U,"$dup",function(){var z=this,C=z.$$original_proc||z,x=function(){return C.apply(this,arguments)};return w(z,function(y){x[y]=z[y]}),x}),re(U,"===","call"),re(U,"clone","dup"),re(U,"yield","call"),re(U,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(n){var A=n.klass,w=n.def,K=n.truthy,I=n.slice,ee=n.alias,Z=n.Kernel,T=n.send,G=n.to_a,m=n.nil,P=n.$$$;return n.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(ie,W){var X=A(ie,W,"Method"),re=X.$$prototype;return re.method=re.receiver=re.owner=re.name=m,X.$attr_reader("owner","receiver","name"),w(X,"$initialize",function(q,p,M,U){var S=this;return S.receiver=q,S.owner=p,S.name=U,S.method=M}),w(X,"$arity",function(){var q=this;return q.method.$arity()}),w(X,"$parameters",function(){var q=this;return q.method.$$parameters}),w(X,"$source_location",function(){var q=this,p=m;return K(p=q.method.$$source_location)?p:["(eval)",0]}),w(X,"$comments",function(){var q=this,p=m;return K(p=q.method.$$comments)?p:[]}),w(X,"$call",function J(q){var p=J.$$p||m,M,U,S=this;return J.$$p=null,M=I(arguments),U=M,S.method.$$p=p,S.method.apply(S.receiver,U)},-1),w(X,"$curry",function(q){var p=this;return p.method.$curry(q)},-1),w(X,"$>>",function(q){var p=this;return p.method["$>>"](q)}),w(X,"$<<",function(q){var p=this;return p.method["$<<"](q)}),w(X,"$unbind",function(){var q=this;return P("UnboundMethod").$new(q.receiver.$class(),q.owner,q.method,q.name)}),w(X,"$to_proc",function(){var q=this,p=q.$call.bind(q);return p.$$unbound=q.method,p.$$is_lambda=!0,p.$$arity=q.method.$$arity==null?q.method.length:q.method.$$arity,p.$$parameters=q.method.$$parameters,p}),w(X,"$inspect",function(){var q=this;return"#<"+q.$class()+": "+q.receiver.$class()+"#"+q.name+" (defined in "+q.owner+" in "+q.$source_location().$join(":")+")>"}),ee(X,"[]","call"),ee(X,"===","call")}("::",null),function(ie,W){var X=A(ie,W,"UnboundMethod"),re=X.$$prototype;return re.method=re.owner=re.name=re.source=m,X.$attr_reader("source","owner","name"),w(X,"$initialize",function(q,p,M,U){var S=this;return S.source=q,S.owner=p,S.method=M,S.name=U,S.$$method=M}),w(X,"$arity",function(){var q=this;return q.method.$arity()}),w(X,"$parameters",function(){var q=this;return q.method.$$parameters}),w(X,"$source_location",function(){var q=this,p=m;return K(p=q.method.$$source_location)?p:["(eval)",0]}),w(X,"$comments",function(){var q=this,p=m;return K(p=q.method.$$comments)?p:[]}),w(X,"$bind",function(q){var p=this;if(p.owner.$$is_module||n.is_a(q,p.owner))return P("Method").$new(q,p.owner,p.method,p.name);Z.$raise(P("TypeError"),"can't bind singleton method to a different class (expected "+q+".kind_of?("+p.owner+" to be true)")}),w(X,"$bind_call",function J(q,p){var M=J.$$p||m,U,S,F=this;return J.$$p=null,U=I(arguments,1),S=U,T(F.$bind(q),"call",G(S),M.$to_proc())},-2),w(X,"$inspect",function(){var q=this;return"#<"+q.$class()+": "+q.source+"#"+q.name+" (defined in "+q.owner+" in "+q.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(n){var A=n.gvars,w=n.const_set,K=n.Object,I=n.nil;return n.add_stubs("new"),A["&"]=A["~"]=A["`"]=A["'"]=I,A.LOADED_FEATURES=A['"']=n.loaded_features,A.LOAD_PATH=A[":"]=[],A["/"]=`
`,A[","]=I,w("::","ARGV",[]),w("::","ARGF",K.$new()),w("::","ENV",new Map),A.VERBOSE=!1,A.DEBUG=!1,A.SAFE=0};Opal.modules["corelib/io"]=function(n){var A=n.klass,w=n.const_set,K=n.not,I=n.truthy,ee=n.def,Z=n.return_ivar,T=n.return_val,G=n.slice,m=n.Kernel,P=n.gvars,ie=n.send,W=n.to_a,X=n.rb_plus,re=n.neqeq,J=n.range,q=n.eqeq,p=n.to_ary,M=n.rb_gt,U=n.assign_ivar_val,S=n.alias,F,v=n.nil,z=n.$$$;n.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(x,y){var u=A(x,y,"IO"),d=u.$$prototype;return d.read_buffer=d.closed=v,w(u,"SEEK_SET",0),w(u,"SEEK_CUR",1),w(u,"SEEK_END",2),w(u,"SEEK_DATA",3),w(u,"SEEK_HOLE",4),w(u,"READABLE",1),w(u,"WRITABLE",4),u.$attr_reader("eof"),u.$attr_accessor("read_proc","sync","tty","write_proc"),ee(u,"$initialize",function(h,c){var l=this;return c==null&&(c="r"),l.fd=h,l.flags=c,l.eof=!1,I(c["$include?"]("r"))&&K(c["$match?"](/[wa+]/))?l.closed="write":I(c["$match?"](/[wa]/))&&K(c["$match?"](/[r+]/))?l.closed="read":v},-2),ee(u,"$fileno",Z("fd")),ee(u,"$tty?",function(){var h=this;return h.tty==!0}),ee(u,"$write",function(h){var c=this;return c.write_proc(h),h.$size()}),ee(u,"$flush",T(v)),ee(u,"$<<",function(h){var c=this;return c.$write(h),c}),ee(u,"$print",function(h){var c,l,E=this;P[","]==null&&(P[","]=v),c=G(arguments),l=c;for(var B=0,_=l.length;B<_;B++)l[B]=m.$String(l[B]);return E.$write(l.join(P[","])),v},-1),ee(u,"$puts",function(h){var c,l,E=this;c=G(arguments),l=c;var B;if(l.length===0)return E.$write(`
`),v;for(var _=0,s=l.length;_<s;_++)if(l[_].$$is_array){var $=l[_].$flatten();$.length>0&&ie(E,"puts",W($))}else l[_].$$is_string?B=l[_].valueOf():B=m.$String(l[_]),B.endsWith(`
`)||(B+=`
`),E.$write(B);return v},-1),ee(u,"$getc",function(){var h=this,c=v,l=v,E=v;h.read_buffer=I(c=h.read_buffer)?c:"",l="";do if(h.read_buffer=X(h.read_buffer,l),re(h.read_buffer,""))return E=h.read_buffer["$[]"](0),h.read_buffer=h.read_buffer["$[]"](J(1,-1,!1)),E;while(I(l=h.$sysread_noraise(1)));return v}),ee(u,"$getbyte",function(){var h,c=this;return h=c.$getc(),h===v||h==null?v:h.$ord()}),ee(u,"$readbyte",function(){var h=this;return h.$readchar().$ord()}),ee(u,"$readchar",function(){var h=this,c=v;return I(c=h.$getc())?c:m.$raise(z("EOFError"),"end of file reached")}),ee(u,"$readline",function(h){var c,l,E=this,B=v;return c=G(arguments),l=c,I(B=ie(E,"gets",W(l)))?B:m.$raise(z("EOFError"),"end of file reached")},-1),ee(u,"$gets",function(h,c,l){var E,B,_=this,s=v,$=v,t=v,e=v,r=v,i=v;P["/"]==null&&(P["/"]=v),h==null&&(h=!1),c==null&&(c=v),l==null&&(l=new Map),I(h.$$is_number)&&K(c)&&(E=[!1,h,c],h=E[0],c=E[1],l=E[2]),I(h.$$is_hash)&&K(c)&&q(l,new Map)?(E=[!1,v,h],h=E[0],c=E[1],l=E[2]):I(c.$$is_hash)&&q(l,new Map)&&(E=[h,v,c],h=E[0],c=E[1],l=E[2]),s=h,q(h,!1)&&(h=P["/"]),q(h,"")&&(h=/\r?\n\r?\n/),h=I($=h)?$:"",q(s,"")||(h=h.$to_str()),t=q(s,"")?2:h.$length(),q(h," ")&&(h=/ /),_.read_buffer=I($=_.read_buffer)?$:"",e="",r=v;do if(_.read_buffer=X(_.read_buffer,e),re(h,"")&&I(I(h.$$is_regexp)?_.read_buffer["$match?"](h):_.read_buffer["$include?"](h))){i=_.read_buffer,B=_.read_buffer.$split(h,2),E=p(B),r=E[0]==null?v:E[0],_.read_buffer=E[1]==null?v:E[1],re(r,i)&&(r=X(r,i["$[]"](r.$length(),t)));break}while(I(e=_.$sysread_noraise(q(h,"")?65536:1)));return I(r)||(E=[I($=_.read_buffer)?$:"",""],r=E[0],_.read_buffer=E[1],q(r,"")&&(r=v)),I(r)&&(I(c)&&(r=r["$[]"](n.Range.$new(0,c,!0)),_.read_buffer=X(r["$[]"](n.Range.$new(c,-1,!1)),_.read_buffer)),I(l["$[]"]("chomp"))&&(r=r.$sub(/\r?\n$/,"")),q(s,"")&&(r=r.$sub(/^[\r\n]+/,""))),q(s,!1)&&(P._=r),r},-1),ee(u,"$sysread",function(h){var c=this,l=v;return I(l=c.read_proc(h))?l:(c.eof=!0,m.$raise(z("EOFError"),"end of file reached"))}),ee(u,"$sysread_noraise",function(h){var c=this;try{return c.$sysread(h)}catch(l){if(n.rescue(l,[z("EOFError")]))try{return v}finally{n.pop_exception(l)}else throw l}}),ee(u,"$readpartial",function(h){var c,l=this,E=v,B=v,_=v;return l.read_buffer=I(E=l.read_buffer)?E:"",B=l.$sysread(h),c=[X(l.read_buffer,I(E=B)?E:""),""],_=c[0],l.read_buffer=c[1],q(_,"")&&(_=v),_}),ee(u,"$read",function(h){var c,l=this,E=v,B=v,_=v;h==null&&(h=v),l.read_buffer=I(E=l.read_buffer)?E:"",B="",_=v;do if(l.read_buffer=X(l.read_buffer,B),I(h)&&I(M(l.read_buffer.$length(),h)))return c=[l.read_buffer["$[]"](n.Range.$new(0,h,!0)),l.read_buffer["$[]"](n.Range.$new(h,-1,!1))],_=c[0],l.read_buffer=c[1],_;while(I(B=l.$sysread_noraise(I(E=h)?E:65536)));return c=[l.read_buffer,""],_=c[0],l.read_buffer=c[1],_},-1),ee(u,"$readlines",function(h){var c=this;return P["/"]==null&&(P["/"]=v),h==null&&(h=P["/"]),c.$each_line(h).$to_a()},-1),ee(u,"$each",function k(h,c){var l=k.$$p||v,E,B,_,s=this,$=v;if(P["/"]==null&&(P["/"]=v),k.$$p=null,E=G(arguments),E.length>0&&(B=E.shift()),B==null&&(B=P["/"]),_=E,l===v)return ie(s,"enum_for",["each",B].concat(W(_)));for(;I($=ie(s,"gets",[B].concat(W(_))));)n.yield1(l,$);return s},-1),ee(u,"$each_byte",function k(){var h=k.$$p||v,c=this,l=v;if(k.$$p=null,h===v)return c.$enum_for("each_byte");for(;I(l=c.$getbyte());)n.yield1(h,l);return c}),ee(u,"$each_char",function k(){var h=k.$$p||v,c=this,l=v;if(k.$$p=null,h===v)return c.$enum_for("each_char");for(;I(l=c.$getc());)n.yield1(h,l);return c}),ee(u,"$close",U("closed","both")),ee(u,"$close_read",function(){var h=this;return q(h.closed,"write")?h.closed="both":h.closed="read"}),ee(u,"$close_write",function(){var h=this;return q(h.closed,"read")?h.closed="both":h.closed="write"}),ee(u,"$closed?",function(){var h=this;return h.closed["$=="]("both")}),ee(u,"$closed_read?",function(){var h=this,c=v;return I(c=h.closed["$=="]("read"))?c:h.closed["$=="]("both")}),ee(u,"$closed_write?",function(){var h=this,c=v;return I(c=h.closed["$=="]("write"))?c:h.closed["$=="]("both")}),ee(u,"$check_writable",function(){var h=this;return I(h["$closed_write?"]())?m.$raise(z("IOError"),"not opened for writing"):v}),ee(u,"$check_readable",function(){var h=this;return I(h["$closed_read?"]())?m.$raise(z("IOError"),"not opened for reading"):v}),S(u,"each_line","each"),S(u,"eof?","eof")}("::",null),w("::","STDIN",P.stdin=z("IO").$new(0,"r")),w("::","STDOUT",P.stdout=z("IO").$new(1,"w")),w("::","STDERR",P.stderr=z("IO").$new(2,"w"));var C=n.global.console;return z("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(x){process.stdout.write(x)}:function(x){C.log(x)}),z("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(x){process.stderr.write(x)}:function(x){C.warn(x)}),F=[function(x){var y=prompt();return y!==null?y+`
`:v}],ie(z("STDIN"),"read_proc=",F),F[F.length-1]};Opal.modules["opal/regexp_anchors"]=function(n){var A=n.module,w=n.const_set,K=[];n.nil;var I=n.$$$;return n.add_stubs("new"),function(ee,Z){var T=A(ee,"Opal"),G=[T].concat(Z),m=n.$r(G);return w(T,"REGEXP_START","^"),w(T,"REGEXP_END","$"),w(T,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),w(T,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),w(T,"INLINE_IDENTIFIER_REGEXP",m("Regexp").$new("[^"+I(T,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+I(T,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),w(T,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),w(T,"CONST_NAME_REGEXP",m("Regexp").$new(""+I(T,"REGEXP_START")+"(::)?[A-Z][^"+I(T,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+I(T,"REGEXP_END")))}(K[0],K)};Opal.modules["opal/mini"]=function(n){var A=n.Object;return n.nil,n.add_stubs("require"),A.$require("opal/base"),A.$require("corelib/nil"),A.$require("corelib/boolean"),A.$require("corelib/string"),A.$require("corelib/comparable"),A.$require("corelib/enumerable"),A.$require("corelib/enumerator"),A.$require("corelib/array"),A.$require("corelib/hash"),A.$require("corelib/number"),A.$require("corelib/range"),A.$require("corelib/proc"),A.$require("corelib/method"),A.$require("corelib/regexp"),A.$require("corelib/variables"),A.$require("corelib/io"),A.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(n){var A=n.coerce_to,w=n.module,K=n.slice,I=n.truthy,ee=n.eqeq,Z=n.Opal,T=n.Kernel,G=n.gvars,m=n.def,P=n.alias,ie=n.nil,W=n.$$$;return n.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(X){var re=w(X,"Kernel");return m(re,"$format",function(q,p){var M,U,S=ie;G.DEBUG==null&&(G.DEBUG=ie),M=K(arguments,1),U=M,ee(U.$length(),1)&&I(U["$[]"](0)["$respond_to?"]("to_ary"))&&(S=Z["$coerce_to?"](U["$[]"](0),W("Array"),"to_ary"),I(S["$nil?"]())||(U=S.$to_a()));var F="",v=0,z,C,x=q.length,y,u,d,k,h,c,l,E,B,_,s,$,t,e=1,r=0,i,a=0,o=1,g=2,N=4,D=8,R=16,V=32,O=64,ae=128;function le(){i&V&&T.$raise(W("ArgumentError"),"flag after width"),i&ae&&T.$raise(W("ArgumentError"),"flag after precision")}function _e(){i&V&&T.$raise(W("ArgumentError"),"width given twice"),i&ae&&T.$raise(W("ArgumentError"),"width after precision")}function de(j){return j>=U.length&&T.$raise(W("ArgumentError"),"too few arguments"),U[j]}function ge(){switch(r){case-1:T.$raise(W("ArgumentError"),"unnumbered("+e+") mixed with numbered");case-2:T.$raise(W("ArgumentError"),"unnumbered("+e+") mixed with named")}return r=e++,de(r-1)}function ve(j){return r>0&&T.$raise(W("ArgumentError"),"numbered("+j+") after unnumbered("+r+")"),r===-2&&T.$raise(W("ArgumentError"),"numbered("+j+") after named"),j<1&&T.$raise(W("ArgumentError"),"invalid index - "+j+"$"),r=-1,de(j-1)}function me(){return t===void 0?ge():t}function be(j){for(var L,Y="";;C++){if(C===x&&T.$raise(W("ArgumentError"),"malformed format string - %*[0-9]"),q.charCodeAt(C)<48||q.charCodeAt(C)>57)return C--,L=parseInt(Y,10)||0,L>2147483647&&T.$raise(W("ArgumentError"),""+j+" too big"),L;Y+=q.charAt(C)}}function $e(j){var L,Y=be(j);return q.charAt(C+1)==="$"?(C++,L=ve(Y)):L=ge(),L.$to_int()}for(C=q.indexOf("%");C!==-1;C=q.indexOf("%",C)){switch(u=void 0,i=a,k=-1,h=-1,t=void 0,z=C,C++,q.charAt(C)){case"%":v=C;case"":case`
`:case"\0":C++;continue}e:for(;C<x;C++)switch(q.charAt(C)){case" ":le(),i|=R;continue e;case"#":le(),i|=o;continue e;case"+":le(),i|=N;continue e;case"-":le(),i|=g;continue e;case"0":le(),i|=D;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(c=be("width"),q.charAt(C+1)==="$"){if(C+2===x){u="%",C++;break e}t!==void 0&&T.$raise(W("ArgumentError"),"value given twice - %"+c+"$"),t=ve(c),C++}else _e(),i|=V,k=c;continue e;case"<":case"{":for(E=q.charAt(C)==="<"?">":"}",l="",C++;;C++){if(C===x&&T.$raise(W("ArgumentError"),"malformed name - unmatched parenthesis"),q.charAt(C)===E){if(r>0&&T.$raise(W("ArgumentError"),"named "+l+" after unnumbered("+r+")"),r===-1&&T.$raise(W("ArgumentError"),"named "+l+" after numbered"),r=-2,(U[0]===void 0||!U[0].$$is_hash)&&T.$raise(W("ArgumentError"),"one hash required"),t=U[0].$fetch(l),E===">")continue e;if(u=t.toString(),h!==-1&&(u=u.slice(0,h)),i&g)for(;u.length<k;)u=u+" ";else for(;u.length<k;)u=" "+u;break e}l+=q.charAt(C)}case"*":C++,_e(),i|=V,k=$e("width"),k<0&&(i|=g,k=-k);continue e;case".":if(i&ae&&T.$raise(W("ArgumentError"),"precision given twice"),i|=O|ae,h=0,C++,q.charAt(C)==="*"){C++,h=$e("precision"),h<0&&(i&=~O);continue e}h=be("precision");continue e;case"d":case"i":case"u":if(y=T.$Integer(me()),y>=0){for(u=y.toString();u.length<h;)u="0"+u;if(i&g)for((i&N||i&R)&&(u=(i&N?"+":" ")+u);u.length<k;)u=u+" ";else if(i&D&&h===-1){for(;u.length<k-(i&N||i&R?1:0);)u="0"+u;(i&N||i&R)&&(u=(i&N?"+":" ")+u)}else for((i&N||i&R)&&(u=(i&N?"+":" ")+u);u.length<k;)u=" "+u}else{for(u=(-y).toString();u.length<h;)u="0"+u;if(i&g)for(u="-"+u;u.length<k;)u=u+" ";else if(i&D&&h===-1){for(;u.length<k-1;)u="0"+u;u="-"+u}else for(u="-"+u;u.length<k;)u=" "+u}break e;case"b":case"B":case"o":case"x":case"X":switch(q.charAt(C)){case"b":case"B":B=2,_="0b",s=/^1+/,$="1";break;case"o":B=8,_="0",s=/^3?7+/,$="7";break;case"x":case"X":B=16,_="0x",s=/^f+/,$="f";break}if(y=T.$Integer(me()),y>=0){for(u=y.toString(B);u.length<h;)u="0"+u;if(i&g)for((i&N||i&R)&&(u=(i&N?"+":" ")+u),i&o&&y!==0&&(u=_+u);u.length<k;)u=u+" ";else if(i&D&&h===-1){for(;u.length<k-(i&N||i&R?1:0)-(i&o&&y!==0?_.length:0);)u="0"+u;i&o&&y!==0&&(u=_+u),(i&N||i&R)&&(u=(i&N?"+":" ")+u)}else for(i&o&&y!==0&&(u=_+u),(i&N||i&R)&&(u=(i&N?"+":" ")+u);u.length<k;)u=" "+u}else if(i&N||i&R){for(u=(-y).toString(B);u.length<h;)u="0"+u;if(i&g)for(i&o&&(u=_+u),u="-"+u;u.length<k;)u=u+" ";else if(i&D&&h===-1){for(;u.length<k-1-(i&o?2:0);)u="0"+u;i&o&&(u=_+u),u="-"+u}else for(i&o&&(u=_+u),u="-"+u;u.length<k;)u=" "+u}else{for(u=(y>>>0).toString(B).replace(s,$);u.length<h-2;)u=$+u;if(i&g)for(u=".."+u,i&o&&(u=_+u);u.length<k;)u=u+" ";else if(i&D&&h===-1){for(;u.length<k-2-(i&o?_.length:0);)u=$+u;u=".."+u,i&o&&(u=_+u)}else for(u=".."+u,i&o&&(u=_+u);u.length<k;)u=" "+u}q.charAt(C)===q.charAt(C).toUpperCase()&&(u=u.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(y=T.$Float(me()),y>=0||isNaN(y)){if(y===1/0)u="Inf";else switch(q.charAt(C)){case"f":u=y.toFixed(h===-1?6:h);break;case"e":case"E":u=y.toExponential(h===-1?6:h);break;case"g":case"G":u=y.toExponential(),d=parseInt(u.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(u=y.toPrecision(h===-1?i&o?6:void 0:h));break}if(i&g)for((i&N||i&R)&&(u=(i&N?"+":" ")+u);u.length<k;)u=u+" ";else if(i&D&&y!==1/0&&!isNaN(y)){for(;u.length<k-(i&N||i&R?1:0);)u="0"+u;(i&N||i&R)&&(u=(i&N?"+":" ")+u)}else for((i&N||i&R)&&(u=(i&N?"+":" ")+u);u.length<k;)u=" "+u}else{if(y===-1/0)u="Inf";else switch(q.charAt(C)){case"f":u=(-y).toFixed(h===-1?6:h);break;case"e":case"E":u=(-y).toExponential(h===-1?6:h);break;case"g":case"G":u=(-y).toExponential(),d=parseInt(u.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(u=(-y).toPrecision(h===-1?i&o?6:void 0:h));break}if(i&g)for(u="-"+u;u.length<k;)u=u+" ";else if(i&D&&y!==-1/0){for(;u.length<k-1;)u="0"+u;u="-"+u}else for(u="-"+u;u.length<k;)u=" "+u}q.charAt(C)===q.charAt(C).toUpperCase()&&y!==1/0&&y!==-1/0&&!isNaN(y)&&(u=u.toUpperCase()),u=u.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":T.$raise(W("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(y=me(),y["$respond_to?"]("to_ary")&&(y=y.$to_ary()[0]),y["$respond_to?"]("to_str")?u=y.$to_str():u=String.fromCharCode(A(y,W("Integer"),"to_int")),u.length!==1&&T.$raise(W("ArgumentError"),"%c requires a character"),i&g)for(;u.length<k;)u=u+" ";else for(;u.length<k;)u=" "+u;break e;case"p":if(u=me().$inspect(),h!==-1&&(u=u.slice(0,h)),i&g)for(;u.length<k;)u=u+" ";else for(;u.length<k;)u=" "+u;break e;case"s":if(u=me().$to_s(),h!==-1&&(u=u.slice(0,h)),i&g)for(;u.length<k;)u=u+" ";else for(;u.length<k;)u=" "+u;break e;default:T.$raise(W("ArgumentError"),"malformed format string - %"+q.charAt(C))}u===void 0&&T.$raise(W("ArgumentError"),"malformed format string - %"),F+=q.slice(v,z)+u,v=C+1}return G.DEBUG&&r>=0&&e<U.length&&T.$raise(W("ArgumentError"),"too many arguments for format string"),F+q.slice(v)},-2),P(re,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(n){var A=n.klass,w=n.rb_plus,K=n.truthy,I=n.send,ee=n.defs,Z=n.eqeq,T=n.def,G=n.return_ivar,m=n.return_val,P=n.slice,ie=n.Kernel,W=n.Opal,X=n.rb_lt,re,J=n.top,q=[],p=n.$r(q),M=n.nil,U=n.$$$;return n.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),J.$require("corelib/string"),function(S,F,v){var z=A(S,F,"Encoding"),C=[z].concat(v),x=z.$$prototype;return x.name=x.dummy=M,ee(z,"$register",function y(u,d){var k=y.$$p||M,h=this,c=M,l=M,E=M,B=M,_=M,s=M;return y.$$p=null,d==null&&(d=new Map),c=w([u],K(l=d["$[]"]("aliases"))?l:[]),E=K(l=d["$[]"]("ascii"))&&l,B=K(l=d["$[]"]("dummy"))&&l,K(d["$[]"]("inherits"))?(_=d["$[]"]("inherits").$clone(),_.$initialize(u,c,E,B)):_=h.$new(u,c,E,B),k!==M&&I(_,"instance_eval",[],k.$to_proc()),s=n.encodings,I(c,"each",[],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=M),e.$const_set(t.$tr("-","_"),_),s[t]=_},{$$s:h})},-2),ee(z,"$find",function(u){var d=this;return Z(u,"default_external")?d.$default_external():n.find_encoding(u)}),z.$singleton_class().$attr_accessor("default_external"),z.$attr_reader("name","names"),T(z,"$initialize",function(u,d,k,h){var c=this;return c.name=u,c.names=d,c.ascii=k,c.dummy=h}),T(z,"$ascii_compatible?",G("ascii")),T(z,"$dummy?",G("dummy")),T(z,"$binary?",m(!1)),T(z,"$to_s",G("name")),T(z,"$inspect",function(){var u=this;return"#<Encoding:"+u.name+(K(u.dummy)?" (dummy)":M)+">"}),T(z,"$charsize",function(u){for(var d=0,k=0,h=u.length;k<h;k++){var c=u.charCodeAt(k);c>=55296&&c<=56319||d++}return d}),T(z,"$each_char",function y(u){var d=y.$$p||M;y.$$p=null;for(var k="",h=0,c=u.length;h<c;h++){var l=u.charCodeAt(h),E=u.charAt(h);if(l>=56320&&l<=57343){k=E;continue}else l>=55296&&l<=56319&&(E=k+E);u.encoding.name!="UTF-8"&&(E=new String(E),E.encoding=u.encoding),n.yield1(d,E)}}),T(z,"$each_byte",function(u){return P(arguments),ie.$raise(U("NotImplementedError"))},-1),T(z,"$bytesize",function(u){return P(arguments),ie.$raise(U("NotImplementedError"))},-1),A("::",U("StandardError"),"EncodingError"),A("::",U("EncodingError"),"CompatibilityError"),A(C[0],U("EncodingError"),"UndefinedConversionError"),M}("::",null,q),I(U("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function S(){var F=S.$$s==null?this:S.$$s;return T(F,"$each_byte",function v(z){var C=v.$$p||M;v.$$p=null;for(var x=1/0,y,u=z.length,d=null,k=0;k<u;++k){if(y=z.charCodeAt(k),y>55295&&y<57344){if(!d){if(y>56319){(x-=3)>-1&&(n.yield1(C,239),n.yield1(C,191),n.yield1(C,189));continue}else if(k+1===u){(x-=3)>-1&&(n.yield1(C,239),n.yield1(C,191),n.yield1(C,189));continue}d=y;continue}if(y<56320){(x-=3)>-1&&(n.yield1(C,239),n.yield1(C,191),n.yield1(C,189)),d=y;continue}y=(d-55296<<10|y-56320)+65536}else d&&(x-=3)>-1&&(n.yield1(C,239),n.yield1(C,191),n.yield1(C,189));if(d=null,y<128){if((x-=1)<0)break;n.yield1(C,y)}else if(y<2048){if((x-=2)<0)break;n.yield1(C,y>>6|192),n.yield1(C,y&63|128)}else if(y<65536){if((x-=3)<0)break;n.yield1(C,y>>12|224),n.yield1(C,y>>6&63|128),n.yield1(C,y&63|128)}else if(y<1114112){if((x-=4)<0)break;n.yield1(C,y>>18|240),n.yield1(C,y>>12&63|128),n.yield1(C,y>>6&63|128),n.yield1(C,y&63|128)}}}),T(F,"$bytesize",function(z){return z.$bytes().$length()})},{$$s:J}),I(U("Encoding"),"register",["UTF-16LE"],function S(){var F=S.$$s==null?this:S.$$s;return T(F,"$each_byte",function v(z){var C=v.$$p||M;v.$$p=null;for(var x=0,y=z.length;x<y;x++){var u=z.charCodeAt(x);n.yield1(C,u&255),n.yield1(C,u>>8)}}),T(F,"$bytesize",function(z){return z.length*2})},{$$s:J}),I(U("Encoding"),"register",["UTF-16BE",new Map([["inherits",U(U("Encoding"),"UTF_16LE")]])],function S(){var F=S.$$s==null?this:S.$$s;return T(F,"$each_byte",function v(z){var C=v.$$p||M;v.$$p=null;for(var x=0,y=z.length;x<y;x++){var u=z.charCodeAt(x);n.yield1(C,u>>8),n.yield1(C,u&255)}})},{$$s:J}),I(U("Encoding"),"register",["UTF-32LE"],function S(){var F=S.$$s==null?this:S.$$s;return T(F,"$each_byte",function v(z){var C=v.$$p||M;v.$$p=null;for(var x=0,y=z.length;x<y;x++){var u=z.charCodeAt(x);n.yield1(C,u&255),n.yield1(C,u>>8),n.yield1(C,0),n.yield1(C,0)}}),T(F,"$bytesize",function(z){return z.length*4})},{$$s:J}),I(U("Encoding"),"register",["UTF-32BE",new Map([["inherits",U(U("Encoding"),"UTF_32LE")]])],function S(){var F=S.$$s==null?this:S.$$s;return T(F,"$each_byte",function v(z){var C=v.$$p||M;v.$$p=null;for(var x=0,y=z.length;x<y;x++){var u=z.charCodeAt(x);n.yield1(C,0),n.yield1(C,0),n.yield1(C,u>>8),n.yield1(C,u&255)}})},{$$s:J}),I(U("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function S(){var F=S.$$s==null?this:S.$$s;return T(F,"$each_char",function v(z){var C=v.$$p||M;v.$$p=null;for(var x=0,y=z.length;x<y;x++){var u=new String(z.charAt(x));u.encoding=z.encoding,n.yield1(C,u)}}),T(F,"$charsize",function(z){return z.length}),T(F,"$each_byte",function v(z){var C=v.$$p||M;v.$$p=null;for(var x=0,y=z.length;x<y;x++){var u=z.charCodeAt(x);n.yield1(C,u&255)}}),T(F,"$bytesize",function(z){return z.length}),T(F,"$binary?",m(!0))},{$$s:J}),U("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",U(U("Encoding"),"ASCII_8BIT")]])),U("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",U(U("Encoding"),"ASCII_8BIT")]])),function(S,F){var v=A(S,F,"String"),z=v.$$prototype;return z.internal_encoding=z.bytes=z.encoding=M,v.$attr_reader("encoding"),v.$attr_reader("internal_encoding"),n.prop(String.prototype,"bytes",M),n.prop(String.prototype,"encoding",U(U("Encoding"),"UTF_8")),n.prop(String.prototype,"internal_encoding",U(U("Encoding"),"UTF_8")),T(v,"$b",function(){var x=this;return x.$dup().$force_encoding("binary")}),T(v,"$bytesize",function(){var x=this;return x.internal_encoding.$bytesize(x)}),T(v,"$each_byte",function C(){var x=C.$$p||M,y=this;return C.$$p=null,x===M?I(y,"enum_for",["each_byte"],function u(){var d=u.$$s==null?this:u.$$s;return d.$bytesize()},{$$s:y}):(I(y.internal_encoding,"each_byte",[y],x.$to_proc()),y)}),T(v,"$bytes",function(){var x=this,y=M;return typeof x=="string"?new String(x).$each_byte().$to_a():(x.bytes=K(y=x.bytes)?y:x.$each_byte().$to_a(),x.bytes.$dup())}),T(v,"$each_char",function C(){var x=C.$$p||M,y=this;return C.$$p=null,x===M?I(y,"enum_for",["each_char"],function u(){var d=u.$$s==null?this:u.$$s;return d.$length()},{$$s:y}):(I(y.encoding,"each_char",[y],x.$to_proc()),y)}),T(v,"$chars",function C(){var x=C.$$p||M,y=this;return C.$$p=null,K(x)?I(y,"each_char",[],x.$to_proc()):y.$each_char().$to_a()}),T(v,"$each_codepoint",function C(){var x=C.$$p||M,y=this;if(C.$$p=null,x===M)return y.$enum_for("each_codepoint");for(var u=0,d=y.length;u<d;u++)n.yield1(x,y.codePointAt(u));return y}),T(v,"$codepoints",function C(){var x=C.$$p||M,y=this;return C.$$p=null,x!==M?I(y,"each_codepoint",[],x.$to_proc()):y.$each_codepoint().$to_a()}),T(v,"$encode",function(x){var y=this;return n.enc(y,x)}),T(v,"$force_encoding",function(x){var y=this,u=y;return x===u.encoding||(x=W["$coerce_to!"](x,U("String"),"to_s"),x=U("Encoding").$find(x),x===u.encoding)||(u=n.set_encoding(u,x)),u}),T(v,"$getbyte",function(x){var y=this,u=M;return u=y.$bytes(),x=W["$coerce_to!"](x,U("Integer"),"to_int"),K(X(u.$length(),x))?M:u["$[]"](x)}),T(v,"$initialize_copy",function(x){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),T(v,"$valid_encoding?",m(!0))}("::",null),re=[U(p("Encoding"),"UTF_8")],I(U("Encoding"),"default_external=",re),re[re.length-1]};Opal.modules["corelib/math"]=function(n){var A=n.type_error,w=n.module,K=n.const_set,I=n.Class,ee=n.slice,Z=n.Kernel,T=n.defs,G=n.truthy,m=n.send,P=n.def,ie=n.rb_minus,W=n.eqeqeq,X=n.rb_divide,re=[],J=n.nil,q=n.$$$;return n.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(p,M){var U=w(p,"Math"),S=[U].concat(M),F=n.$r(S);return K(U,"E",Math.E),K(U,"PI",Math.PI),K(U,"DomainError",I.$new(q("StandardError"))),T(U,"$checked",function(z,C){var x,y;if(x=ee(arguments,1),y=x,isNaN(y[0])||y.length==2&&isNaN(y[1]))return NaN;var u=Math[z].apply(null,y);return isNaN(u)&&Z.$raise(F("DomainError"),'Numerical argument is out of domain - "'+z+'"'),u},-2),T(U,"$float!",function(z){try{return Z.$Float(z)}catch(C){if(n.rescue(C,[q("ArgumentError")]))try{return Z.$raise(A(z,q("Float")))}finally{n.pop_exception(C)}else throw C}}),T(U,"$integer!",function(z){try{return Z.$Integer(z)}catch(C){if(n.rescue(C,[q("ArgumentError")]))try{return Z.$raise(A(z,q("Integer")))}finally{n.pop_exception(C)}else throw C}}),U.$module_function(),G(typeof Math.erf<"u")||n.prop(Math,"erf",function(v){var z=.254829592,C=-.284496736,x=1.421413741,y=-1.453152027,u=1.061405429,d=.3275911,k=1;v<0&&(k=-1),v=Math.abs(v);var h=1/(1+d*v),c=1-((((u*h+y)*h+x)*h+C)*h+z)*h*Math.exp(-v*v);return k*c}),G(typeof Math.erfc<"u")||n.prop(Math,"erfc",function(v){var z=Math.abs(v),C=1/(.5*z+1),x=C*.17087277+-.82215223,y=C*x+1.48851587,u=C*y+-1.13520398,d=C*u+.27886807,k=C*d+-.18628806,h=C*k+.09678418,c=C*h+.37409196,l=C*c+1.00002368,E=C*l,B=-z*z-1.26551223+E,_=C*Math.exp(B);return v<0?2-_:_}),m(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function v(z){var C=v.$$s==null?this:v.$$s;return z==null&&(z=J),m(C,"define_method",[z],function(y){return y==null&&(y=J),q("Math").$checked(z,q("Math")["$float!"](y))})},{$$s:U}),P(U,"$atan2",function(z,C){return q("Math").$checked("atan2",q("Math")["$float!"](z),q("Math")["$float!"](C))}),P(U,"$hypot",function(z,C){return q("Math").$checked("hypot",q("Math")["$float!"](z),q("Math")["$float!"](C))}),P(U,"$frexp",function(z){if(z=F("Math")["$float!"](z),isNaN(z))return[NaN,0];var C=Math.floor(Math.log(Math.abs(z))/Math.log(2))+1,x=z/Math.pow(2,C);return[x,C]}),P(U,"$gamma",function(z){z=F("Math")["$float!"](z);var C,x,y,u,d,k,h,c,l,E=4.7421875,B=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(z))return NaN;if(z===0&&1/z<0)return-1/0;if((z===-1||z===-1/0)&&Z.$raise(F("DomainError"),'Numerical argument is out of domain - "gamma"'),F("Integer")["$==="](z)){if(z<=0)return isFinite(z)?1/0:NaN;if(z>171)return 1/0;for(u=z-2,d=z-1;u>1;)d*=u,u--;return d==0&&(d=1),d}if(z<.5)return Math.PI/(Math.sin(Math.PI*z)*q("Math").$gamma(ie(1,z)));if(z>=171.35)return 1/0;if(z>85)return k=z*z,h=k*z,c=h*z,l=c*z,Math.sqrt(2*Math.PI/z)*Math.pow(z/Math.E,z)*(1+1/(12*z)+1/(288*k)-139/(51840*h)-571/(2488320*c)+163879/(209018880*l)+5246819/(75246796800*l*z));for(z-=1,y=B[0],C=1;C<B.length;++C)y+=B[C]/(z+C);return x=z+E+.5,Math.sqrt(2*Math.PI)*Math.pow(x,z+.5)*Math.exp(-x)*y}),P(U,"$ldexp",function(z,C){return z=F("Math")["$float!"](z),C=F("Math")["$integer!"](C),isNaN(C)&&Z.$raise(q("RangeError"),"float NaN out of range of integer"),z*Math.pow(2,C)}),P(U,"$lgamma",function(z){return z==-1?[1/0,1]:[Math.log(Math.abs(q("Math").$gamma(z))),q("Math").$gamma(z)<0?-1:1]}),P(U,"$log",function(z,C){return W(q("String"),z)&&Z.$raise(A(z,q("Float"))),G(C==null)?q("Math").$checked("log",q("Math")["$float!"](z)):(W(q("String"),C)&&Z.$raise(A(C,q("Float"))),X(q("Math").$checked("log",q("Math")["$float!"](z)),q("Math").$checked("log",q("Math")["$float!"](C))))},-2),P(U,"$log10",function(z){return W(q("String"),z)&&Z.$raise(A(z,q("Float"))),q("Math").$checked("log10",q("Math")["$float!"](z))}),P(U,"$log2",function(z){return W(q("String"),z)&&Z.$raise(A(z,q("Float"))),q("Math").$checked("log2",q("Math")["$float!"](z))}),P(U,"$tan",function(z){return z=q("Math")["$float!"](z),G(z["$infinite?"]())?q(q("Float"),"NAN"):q("Math").$checked("tan",q("Math")["$float!"](z))})}("::",re)};Opal.modules["corelib/complex/base"]=function(n){var A=n.module,w=n.truthy,K=n.def,I=n.klass,ee=[],Z=n.nil;return n.add_stubs("new,from_string"),function(T,G){var m=A(T,"Kernel"),P=[m].concat(G),ie=n.$r(P);return K(m,"$Complex",function(X,re){return re==null&&(re=Z),w(re)?ie("Complex").$new(X,re):ie("Complex").$new(X,0)},-2)}("::",ee),function(T,G,m){var P=I(T,G,"String"),ie=[P].concat(m),W=n.$r(ie);return K(P,"$to_c",function(){var re=this;return W("Complex").$from_string(re)})}("::",null,ee)};Opal.modules["corelib/complex"]=function(n){var A=n.klass,w=n.truthy,K=n.eqeqeq,I=n.Kernel,ee=n.defs,Z=n.rb_times,T=n.def,G=n.rb_plus,m=n.rb_minus,P=n.rb_divide,ie=n.eqeq,W=n.to_ary,X=n.rb_gt,re=n.neqeq,J=n.return_val,q=n.const_set,p=n.alias,M=n.top,U=[],S=n.nil,F=n.$$$;return n.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),M.$require("corelib/numeric"),M.$require("corelib/complex/base"),function(v,z,C){var x=A(v,z,"Complex"),y=[x].concat(C),u=n.$r(y),d=x.$$prototype;return d.real=d.imag=S,ee(x,"$rect",function(h,c){var l=this;return c==null&&(c=0),K(F("Numeric"),h)&&w(h["$real?"]())&&K(F("Numeric"),c)&&w(c["$real?"]())||I.$raise(F("TypeError"),"not a real"),l.$new(h,c)},-2),ee(x,"$polar",function(h,c){var l=this;return c==null&&(c=0),K(F("Numeric"),h)&&w(h["$real?"]())&&K(F("Numeric"),c)&&w(c["$real?"]())||I.$raise(F("TypeError"),"not a real"),l.$new(Z(h,F("Math").$cos(c)),Z(h,F("Math").$sin(c)))},-2),x.$attr_reader("real","imag"),T(x,"$initialize",function(h,c){var l=this;return c==null&&(c=0),l.real=h,l.imag=c,l.$freeze()},-2),T(x,"$coerce",function(h){var c=this;return K(F("Complex"),h)?[h,c]:K(F("Numeric"),h)&&w(h["$real?"]())?[F("Complex").$new(h,0),c]:I.$raise(F("TypeError"),""+h.$class()+" can't be coerced into Complex")}),T(x,"$==",function(h){var c=this,l=S;return K(F("Complex"),h)?w(l=c.real["$=="](h.$real()))?c.imag["$=="](h.$imag()):l:K(F("Numeric"),h)&&w(h["$real?"]())?w(l=c.real["$=="](h))?c.imag["$=="](0):l:h["$=="](c)}),T(x,"$-@",function(){var h=this;return I.$Complex(h.real["$-@"](),h.imag["$-@"]())}),T(x,"$+",function(h){var c=this;return K(F("Complex"),h)?I.$Complex(G(c.real,h.$real()),G(c.imag,h.$imag())):K(F("Numeric"),h)&&w(h["$real?"]())?I.$Complex(G(c.real,h),c.imag):c.$__coerced__("+",h)}),T(x,"$-",function(h){var c=this;return K(F("Complex"),h)?I.$Complex(m(c.real,h.$real()),m(c.imag,h.$imag())):K(F("Numeric"),h)&&w(h["$real?"]())?I.$Complex(m(c.real,h),c.imag):c.$__coerced__("-",h)}),T(x,"$*",function(h){var c=this;return K(F("Complex"),h)?I.$Complex(m(Z(c.real,h.$real()),Z(c.imag,h.$imag())),G(Z(c.real,h.$imag()),Z(c.imag,h.$real()))):K(F("Numeric"),h)&&w(h["$real?"]())?I.$Complex(Z(c.real,h),Z(c.imag,h)):c.$__coerced__("*",h)}),T(x,"$/",function(h){var c=this;return K(F("Complex"),h)?K(F("Number"),c.real)&&w(c.real["$nan?"]())||K(F("Number"),c.imag)&&w(c.imag["$nan?"]())||K(F("Number"),h.$real())&&w(h.$real()["$nan?"]())||K(F("Number"),h.$imag())&&w(h.$imag()["$nan?"]())?F("Complex").$new(F(F("Float"),"NAN"),F(F("Float"),"NAN")):P(Z(c,h.$conj()),h.$abs2()):K(F("Numeric"),h)&&w(h["$real?"]())?I.$Complex(c.real.$quo(h),c.imag.$quo(h)):c.$__coerced__("/",h)}),T(x,"$**",function(h){var c,l,E=this,B=S,_=S,s=S,$=S,t=S,e=S,r=S,i=S,a=S,o=S,g=S;if(ie(h,0))return F("Complex").$new(1,0);if(K(F("Complex"),h))return l=E.$polar(),c=W(l),B=c[0]==null?S:c[0],_=c[1]==null?S:c[1],s=h.$real(),$=h.$imag(),t=F("Math").$exp(m(Z(s,F("Math").$log(B)),Z($,_))),e=G(Z(_,s),Z($,F("Math").$log(B))),F("Complex").$polar(t,e);if(K(F("Integer"),h))if(w(X(h,0))){for(r=E,i=r,a=m(h,1);re(a,0);){for(l=a.$divmod(2),c=W(l),o=c[0]==null?S:c[0],g=c[1]==null?S:c[1];ie(g,0);)r=I.$Complex(m(Z(r.$real(),r.$real()),Z(r.$imag(),r.$imag())),Z(Z(2,r.$real()),r.$imag())),a=o,l=a.$divmod(2),c=W(l),o=c[0]==null?S:c[0],g=c[1]==null?S:c[1];i=Z(i,r),a=m(a,1)}return i}else return P(F("Rational").$new(1,1),E)["$**"](h["$-@"]());else return K(F("Float"),h)||K(F("Rational"),h)?(l=E.$polar(),c=W(l),B=c[0]==null?S:c[0],_=c[1]==null?S:c[1],F("Complex").$polar(B["$**"](h),Z(_,h))):E.$__coerced__("**",h)}),T(x,"$abs",function(){var h=this;return F("Math").$hypot(h.real,h.imag)}),T(x,"$abs2",function(){var h=this;return G(Z(h.real,h.real),Z(h.imag,h.imag))}),T(x,"$angle",function(){var h=this;return F("Math").$atan2(h.imag,h.real)}),T(x,"$conj",function(){var h=this;return I.$Complex(h.real,h.imag["$-@"]())}),T(x,"$denominator",function(){var h=this;return h.real.$denominator().$lcm(h.imag.$denominator())}),T(x,"$eql?",function(h){var c=this,l=S,E=S;return w(l=w(E=u("Complex")["$==="](h))?c.real.$class()["$=="](c.imag.$class()):E)?c["$=="](h):l}),T(x,"$fdiv",function(h){var c=this;return K(F("Numeric"),h)||I.$raise(F("TypeError"),""+h.$class()+" can't be coerced into Complex"),P(c,h)}),T(x,"$finite?",function(){var h=this,c=S;return w(c=h.real["$finite?"]())?h.imag["$finite?"]():c}),T(x,"$hash",function(){var h=this;return[F("Complex"),h.real,h.imag].$hash()}),T(x,"$infinite?",function(){var h=this,c=S;return w(c=h.real["$infinite?"]())?c:h.imag["$infinite?"]()}),T(x,"$inspect",function(){var h=this;return"("+h+")"}),T(x,"$numerator",function(){var h=this,c=S;return c=h.$denominator(),I.$Complex(Z(h.real.$numerator(),P(c,h.real.$denominator())),Z(h.imag.$numerator(),P(c,h.imag.$denominator())))}),T(x,"$polar",function(){var h=this;return[h.$abs(),h.$arg()]}),T(x,"$rationalize",function(h){var c=this;return arguments.length>1&&I.$raise(F("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),re(c.imag,0)&&I.$raise(F("RangeError"),"can't convert "+c+" into Rational"),c.$real().$rationalize(h)},-1),T(x,"$real?",J(!1)),T(x,"$rect",function(){var h=this;return[h.real,h.imag]}),T(x,"$to_f",function(){var h=this;return ie(h.imag,0)||I.$raise(F("RangeError"),"can't convert "+h+" into Float"),h.real.$to_f()}),T(x,"$to_i",function(){var h=this;return ie(h.imag,0)||I.$raise(F("RangeError"),"can't convert "+h+" into Integer"),h.real.$to_i()}),T(x,"$to_r",function(){var h=this;return ie(h.imag,0)||I.$raise(F("RangeError"),"can't convert "+h+" into Rational"),h.real.$to_r()}),T(x,"$to_s",function(){var h=this,c=S;return c=h.real.$inspect(),c=G(c,K(F("Number"),h.imag)&&w(h.imag["$nan?"]())||w(h.imag["$positive?"]())||w(h.imag["$zero?"]())?"+":"-"),c=G(c,h.imag.$abs().$inspect()),K(F("Number"),h.imag)&&(w(h.imag["$nan?"]())||w(h.imag["$infinite?"]()))&&(c=G(c,"*")),G(c,"i")}),q(y[0],"I",x.$new(0,1)),ee(x,"$from_string",function(h){var c=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;h.match(c);var l,E;function B(){return c.test(h)}function _(){var $=h.match(c),t=$[0];return h=h.slice(t.length),t.replace(/_/g,"")}function s(){if(B()){var $=parseFloat(_());if(h[0]==="/")if(h=h.slice(1),B()){var t=parseFloat(_());return I.$Rational($,t)}else return h="/"+h,$;else return $}else return null}return l=s(),l?(E=s(),E?I.$Complex(l,E):h[0]==="i"?I.$Complex(0,l):I.$Complex(l,0)):h[0]==="i"?I.$Complex(0,1):h[0]==="-"&&h[1]==="i"?I.$Complex(0,-1):h[0]==="+"&&h[1]==="i"?I.$Complex(0,1):I.$Complex(0,0)}),function(k,h){return p(k,"rectangular","rect")}(n.get_singleton_class(x)),p(x,"arg","angle"),p(x,"conjugate","conj"),p(x,"divide","/"),p(x,"imaginary","imag"),p(x,"magnitude","abs"),p(x,"phase","arg"),p(x,"quo","/"),p(x,"rectangular","rect"),n.udef(x,"$negative?"),n.udef(x,"$positive?"),n.udef(x,"$step"),S}("::",F("Numeric"),U)};Opal.modules["corelib/rational/base"]=function(n){var A=n.module,w=n.def,K=n.klass;n.nil;var I=n.$$$;return n.add_stubs("convert,from_string"),function(ee){var Z=A(ee,"Kernel");return w(Z,"$Rational",function(G,m){return m==null&&(m=1),I("Rational").$convert(G,m)},-2)}("::"),function(ee,Z){var T=K(ee,Z,"String");return w(T,"$to_r",function(){var m=this;return I("Rational").$from_string(m)})}("::",null)};Opal.modules["corelib/rational"]=function(n){var A=n.klass,w=n.eqeq,K=n.Kernel,I=n.truthy,ee=n.rb_lt,Z=n.rb_divide,T=n.defs,G=n.eqeqeq,m=n.not,P=n.Opal,ie=n.def,W=n.return_ivar,X=n.rb_minus,re=n.rb_times,J=n.rb_plus,q=n.rb_gt,p=n.rb_le,M=n.return_self,U=n.alias,S=n.top,F=n.nil,v=n.$$$;return n.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),S.$require("corelib/numeric"),S.$require("corelib/rational/base"),function(z,C){var x=A(z,C,"Rational"),y=x.$$prototype;return y.num=y.den=F,T(x,"$reduce",function(d,k){var h=this,c=F;if(d=d.$to_i(),k=k.$to_i(),w(k,0))K.$raise(v("ZeroDivisionError"),"divided by 0");else if(I(ee(k,0)))d=d["$-@"](),k=k["$-@"]();else if(w(k,1))return h.$new(d,k);return c=d.$gcd(k),h.$new(Z(d,c),Z(k,c))}),T(x,"$convert",function(d,k){var h=this;return(I(d["$nil?"]())||I(k["$nil?"]()))&&K.$raise(v("TypeError"),"cannot convert nil into Rational"),G(v("Integer"),d)&&G(v("Integer"),k)?h.$reduce(d,k):((G(v("Float"),d)||G(v("String"),d)||G(v("Complex"),d))&&(d=d.$to_r()),(G(v("Float"),k)||G(v("String"),k)||G(v("Complex"),k))&&(k=k.$to_r()),I(k["$equal?"](1))&&m(v("Integer")["$==="](d))?P["$coerce_to!"](d,v("Rational"),"to_r"):G(v("Numeric"),d)&&G(v("Numeric"),k)?Z(d,k):h.$reduce(d,k))}),ie(x,"$initialize",function(d,k){var h=this;return h.num=d,h.den=k,h.$freeze()}),ie(x,"$numerator",W("num")),ie(x,"$denominator",W("den")),ie(x,"$coerce",function(d){var k=this,h=F;return G(v("Rational"),h=d)?[d,k]:G(v("Integer"),h)?[d.$to_r(),k]:G(v("Float"),h)?[d,k.$to_f()]:F}),ie(x,"$==",function(d){var k=this,h=F,c=F;return G(v("Rational"),h=d)?I(c=k.num["$=="](d.$numerator()))?k.den["$=="](d.$denominator()):c:G(v("Integer"),h)?I(c=k.num["$=="](d))?k.den["$=="](1):c:G(v("Float"),h)?k.$to_f()["$=="](d):d["$=="](k)}),ie(x,"$<=>",function(d){var k=this,h=F;return G(v("Rational"),h=d)?X(re(k.num,d.$denominator()),re(k.den,d.$numerator()))["$<=>"](0):G(v("Integer"),h)?X(k.num,re(k.den,d))["$<=>"](0):G(v("Float"),h)?k.$to_f()["$<=>"](d):k.$__coerced__("<=>",d)}),ie(x,"$+",function(d){var k=this,h=F,c=F,l=F;return G(v("Rational"),h=d)?(c=J(re(k.num,d.$denominator()),re(k.den,d.$numerator())),l=re(k.den,d.$denominator()),K.$Rational(c,l)):G(v("Integer"),h)?K.$Rational(J(k.num,re(d,k.den)),k.den):G(v("Float"),h)?J(k.$to_f(),d):k.$__coerced__("+",d)}),ie(x,"$-",function(d){var k=this,h=F,c=F,l=F;return G(v("Rational"),h=d)?(c=X(re(k.num,d.$denominator()),re(k.den,d.$numerator())),l=re(k.den,d.$denominator()),K.$Rational(c,l)):G(v("Integer"),h)?K.$Rational(X(k.num,re(d,k.den)),k.den):G(v("Float"),h)?X(k.$to_f(),d):k.$__coerced__("-",d)}),ie(x,"$*",function(d){var k=this,h=F,c=F,l=F;return G(v("Rational"),h=d)?(c=re(k.num,d.$numerator()),l=re(k.den,d.$denominator()),K.$Rational(c,l)):G(v("Integer"),h)?K.$Rational(re(k.num,d),k.den):G(v("Float"),h)?re(k.$to_f(),d):k.$__coerced__("*",d)}),ie(x,"$/",function(d){var k=this,h=F,c=F,l=F;return G(v("Rational"),h=d)?(c=re(k.num,d.$denominator()),l=re(k.den,d.$numerator()),K.$Rational(c,l)):G(v("Integer"),h)?w(d,0)?Z(k.$to_f(),0):K.$Rational(k.num,re(k.den,d)):G(v("Float"),h)?Z(k.$to_f(),d):k.$__coerced__("/",d)}),ie(x,"$**",function(d){var k=this,h=F;return G(v("Integer"),h=d)?w(k,0)&&I(ee(d,0))?v(v("Float"),"INFINITY"):I(q(d,0))?K.$Rational(k.num["$**"](d),k.den["$**"](d)):I(ee(d,0))?K.$Rational(k.den["$**"](d["$-@"]()),k.num["$**"](d["$-@"]())):K.$Rational(1,1):G(v("Float"),h)?k.$to_f()["$**"](d):G(v("Rational"),h)?w(d,0)?K.$Rational(1,1):w(d.$denominator(),1)?I(ee(d,0))?K.$Rational(k.den["$**"](d.$numerator().$abs()),k.num["$**"](d.$numerator().$abs())):K.$Rational(k.num["$**"](d.$numerator()),k.den["$**"](d.$numerator())):w(k,0)&&I(ee(d,0))?K.$raise(v("ZeroDivisionError"),"divided by 0"):k.$to_f()["$**"](d):k.$__coerced__("**",d)}),ie(x,"$abs",function(){var d=this;return K.$Rational(d.num.$abs(),d.den.$abs())}),ie(x,"$ceil",function(d){var k=this;return d==null&&(d=0),w(d,0)?Z(k.num["$-@"](),k.den)["$-@"]().$ceil():k.$with_precision("ceil",d)},-1),ie(x,"$floor",function(d){var k=this;return d==null&&(d=0),w(d,0)?Z(k.num["$-@"](),k.den)["$-@"]().$floor():k.$with_precision("floor",d)},-1),ie(x,"$hash",function(){var d=this;return[v("Rational"),d.num,d.den].$hash()}),ie(x,"$inspect",function(){var d=this;return"("+d+")"}),ie(x,"$rationalize",function(d){var k=this;if(arguments.length>1&&K.$raise(v("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d==null)return k;for(var h=d.$abs(),c=X(k,h),l=J(k,h),E=0,B=1,_=1,s=0,$,t,e,r,i;e=c.$ceil(),!p(e,l);)r=e-1,$=r*B+E,t=r*s+_,i=Z(1,X(l,r)),l=Z(1,X(c,r)),c=i,E=B,_=s,B=$,s=t;return K.$Rational(e*B+E,e*s+_)},-1),ie(x,"$round",function(d){var k=this,h=F,c=F,l=F;return d==null&&(d=0),w(d,0)?w(k.num,0)?0:w(k.den,1)?k.num:(h=J(re(k.num.$abs(),2),k.den),c=re(k.den,2),l=Z(h,c).$truncate(),I(ee(k.num,0))?l["$-@"]():l):k.$with_precision("round",d)},-1),ie(x,"$to_f",function(){var d=this;return Z(d.num,d.den)}),ie(x,"$to_i",function(){var d=this;return d.$truncate()}),ie(x,"$to_r",M),ie(x,"$to_s",function(){var d=this;return""+d.num+"/"+d.den}),ie(x,"$truncate",function(d){var k=this;return d==null&&(d=0),w(d,0)?I(ee(k.num,0))?k.$ceil():k.$floor():k.$with_precision("truncate",d)},-1),ie(x,"$with_precision",function(d,k){var h=this,c=F,l=F;return G(v("Integer"),k)||K.$raise(v("TypeError"),"not an Integer"),c=10["$**"](k),l=re(h,c),I(ee(k,1))?Z(l.$send(d),c).$to_i():K.$Rational(l.$send(d),c)}),T(x,"$from_string",function(d){var k=d.trimLeft(),h=/^[+-]?[\d_]+(\.[\d_]+)?/;k.match(h);var c,l;function E(){return h.test(k)}function B(){var _=k.match(h),s=_[0];return k=k.slice(s.length),s.replace(/_/g,"")}return E()?(c=parseFloat(B()),k[0]==="/"?(k=k.slice(1),E()?(l=parseFloat(B()),K.$Rational(c,l)):K.$Rational(c,1)):K.$Rational(c,1)):K.$Rational(0,1)}),U(x,"divide","/"),U(x,"quo","/")}("::",v("Numeric"))};Opal.modules["corelib/time"]=function(n){var A=n.slice,w=n.deny_frozen_access,K=n.klass,I=n.Kernel,ee=n.Opal,Z=n.defs,T=n.eqeqeq,G=n.def,m=n.truthy,P=n.rb_gt,ie=n.rb_lt,W=n.send,X=n.rb_plus,re=n.rb_divide,J=n.rb_minus,q=n.range,p=n.neqeq,M=n.rb_le,U=n.eqeq,S=n.alias,F=n.top,v=[],z=n.nil,C=n.$$$;return n.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),F.$require("corelib/comparable"),function(x,y,u){var d=K(x,y,"Time"),k=[d].concat(u),h=n.$r(k);d.$include(C("Comparable"));var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B=["January","February","March","April","May","June","July","August","September","October","November","December"];Z(d,"$at",function($,t){var e;return C("Time")["$==="]($)?(t!==void 0&&I.$raise(C("TypeError"),"can't convert Time into an exact number"),e=new Date($.getTime()),e.timezone=$.timezone,e):($.$$is_number||($=ee["$coerce_to!"]($,C("Integer"),"to_int")),t===void 0?new Date($*1e3):(t.$$is_number||(t=ee["$coerce_to!"](t,C("Integer"),"to_int")),new Date($*1e3+t/1e3)))},-2);function _(s,$,t,e,r,i){if(s.$$is_string?s=parseInt(s,10):s=ee["$coerce_to!"](s,C("Integer"),"to_int"),$===z)$=1;else if(!$.$$is_number)if($["$respond_to?"]("to_str"))switch($=$.$to_str(),$.toLowerCase()){case"jan":$=1;break;case"feb":$=2;break;case"mar":$=3;break;case"apr":$=4;break;case"may":$=5;break;case"jun":$=6;break;case"jul":$=7;break;case"aug":$=8;break;case"sep":$=9;break;case"oct":$=10;break;case"nov":$=11;break;case"dec":$=12;break;default:$=$.$to_i()}else $=ee["$coerce_to!"]($,C("Integer"),"to_int");return($<1||$>12)&&I.$raise(C("ArgumentError"),"month out of range: "+$),$=$-1,t===z?t=1:t.$$is_string?t=parseInt(t,10):t=ee["$coerce_to!"](t,C("Integer"),"to_int"),(t<1||t>31)&&I.$raise(C("ArgumentError"),"day out of range: "+t),e===z?e=0:e.$$is_string?e=parseInt(e,10):e=ee["$coerce_to!"](e,C("Integer"),"to_int"),(e<0||e>24)&&I.$raise(C("ArgumentError"),"hour out of range: "+e),r===z?r=0:r.$$is_string?r=parseInt(r,10):r=ee["$coerce_to!"](r,C("Integer"),"to_int"),(r<0||r>59)&&I.$raise(C("ArgumentError"),"min out of range: "+r),i===z?i=0:i.$$is_number||(i.$$is_string?i=parseInt(i,10):i=ee["$coerce_to!"](i,C("Integer"),"to_int")),(i<0||i>60)&&I.$raise(C("ArgumentError"),"sec out of range: "+i),[s,$,t,e,r,i]}return Z(d,"$new",function($,t,e,r,i,a,o){var g=this;t==null&&(t=z),e==null&&(e=z),r==null&&(r=z),i==null&&(i=z),a==null&&(a=z),o==null&&(o=z);var N,D,R,V;return $===void 0?new Date:(N=_($,t,e,r,i,a),$=N[0],t=N[1],e=N[2],r=N[3],i=N[4],a=N[5],o===z?(D=new Date($,t,e,r,i,0,a*1e3),$<100&&D.setFullYear($),D):(R=g.$_parse_offset(o),V=new Date(Date.UTC($,t,e,r,i,0,a*1e3)),$<100&&V.setUTCFullYear($),D=new Date(V.getTime()-R*36e5),D.timezone=R,D))},-1),Z(d,"$_parse_offset",function($){var t;if($.$$is_string)if($=="UTC")t=0;else if(/^[+-]\d\d:[0-5]\d$/.test($)){var e,r,i;e=$[0],r=+($[1]+$[2]),i=+($[4]+$[5]),t=(e=="-"?-1:1)*(r+i/60)}else I.$raise(C("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+$);else $.$$is_number?t=$/3600:I.$raise(C("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return t}),Z(d,"$local",function($,t,e,r,i,a,o,g,N,D){t==null&&(t=z),e==null&&(e=z),r==null&&(r=z),i==null&&(i=z),a==null&&(a=z),o==null&&(o=z),g==null&&(g=z),N==null&&(N=z),D==null&&(D=z);var R,V;return arguments.length===10&&(R=A(arguments),$=R[5],t=R[4],e=R[3],r=R[2],i=R[1],a=R[0]),R=_($,t,e,r,i,a),$=R[0],t=R[1],e=R[2],r=R[3],i=R[4],a=R[5],V=new Date($,t,e,r,i,0,a*1e3),$<100&&V.setFullYear($),V},-2),Z(d,"$gm",function($,t,e,r,i,a,o,g,N,D){t==null&&(t=z),e==null&&(e=z),r==null&&(r=z),i==null&&(i=z),a==null&&(a=z),o==null&&(o=z),g==null&&(g=z),N==null&&(N=z),D==null&&(D=z);var R,V;return arguments.length===10&&(R=A(arguments),$=R[5],t=R[4],e=R[3],r=R[2],i=R[1],a=R[0]),R=_($,t,e,r,i,a),$=R[0],t=R[1],e=R[2],r=R[3],i=R[4],a=R[5],V=new Date(Date.UTC($,t,e,r,i,0,a*1e3)),$<100&&V.setUTCFullYear($),V.timezone=0,V},-2),Z(d,"$now",function(){var $=this;return $.$new()}),G(d,"$+",function($){var t=this;T(C("Time"),$)&&I.$raise(C("TypeError"),"time + time?"),$.$$is_number||($=ee["$coerce_to!"]($,C("Integer"),"to_int"));var e=new Date(t.getTime()+$*1e3);return e.timezone=t.timezone,e}),G(d,"$-",function($){var t=this;if(T(C("Time"),$))return(t.getTime()-$.getTime())/1e3;$.$$is_number||($=ee["$coerce_to!"]($,C("Integer"),"to_int"));var e=new Date(t.getTime()-$*1e3);return e.timezone=t.timezone,e}),G(d,"$<=>",function($){var t=this,e=z;return T(C("Time"),$)?t.$to_f()["$<=>"]($.$to_f()):(e=$["$<=>"](t),m(e["$nil?"]())?z:m(P(e,0))?-1:m(ie(e,0))?1:0)}),G(d,"$==",function($){var t=this,e=z;return m(e=C("Time")["$==="]($))?t.$to_f()===$.$to_f():e}),G(d,"$asctime",function(){var $=this;return $.$strftime("%a %b %e %H:%M:%S %Y")}),W([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function s($,t,e,r){var i=s.$$s==null?this:s.$$s;return $==null&&($=z),t==null&&(t=z),e==null&&(e=z),r==null&&(r=0),W(i,"define_method",[$],function a(){var o=a.$$s==null?this:a.$$s;return r+(o.timezone!=null?new Date(o.getTime()+o.timezone*36e5)[e]():o[t]())},{$$s:i})},{$$arity:-4,$$s:d}),G(d,"$yday",function(){var $=this,t=z,e=z,r=z;return t=h("Time").$new($.$year()).$to_i(),e=h("Time").$new($.$year(),$.$month(),$.$day()).$to_i(),r=86400,X(re(J(e,t),r).$round(),1)}),G(d,"$isdst",function(){var $=this,t=new Date($.getFullYear(),0,1),e=new Date($.getFullYear(),6,1);return $.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())}),G(d,"$dup",function(){var $=this,t=z;return t=new Date($.getTime()),t.$copy_instance_variables($),t.$initialize_dup($),t}),G(d,"$eql?",function($){var t=this,e=z;return m(e=$["$is_a?"](C("Time")))?t["$<=>"]($)["$zero?"]():e}),W([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function s($,t){var e=s.$$s==null?this:s.$$s;return $==null&&($=z),t==null&&(t=z),W(e,"define_method",[$],function r(){var i=r.$$s==null?this:r.$$s;return i.$wday()===t},{$$s:e})},{$$s:d}),G(d,"$hash",function(){var $=this;return[C("Time"),$.getTime()].$hash()}),G(d,"$inspect",function(){var $=this;return m($["$utc?"]())?$.$strftime("%Y-%m-%d %H:%M:%S UTC"):$.$strftime("%Y-%m-%d %H:%M:%S %z")}),G(d,"$succ",function(){var $=this,t=new Date($.getTime()+1e3);return t.timezone=$.timezone,t}),G(d,"$usec",function(){var $=this;return $.getMilliseconds()*1e3}),G(d,"$zone",function(){var $=this;if($.timezone===0)return"UTC";if($.timezone!=null)return z;var t=$.toString(),e;return t.indexOf("(")==-1?e=t.match(/[A-Z]{3,4}/)[0]:e=t.match(/\((.+)\)(?:\s|$)/)[1],e=="GMT"&&/(GMT\W*\d{4})/.test(t)?RegExp.$1:e}),G(d,"$getgm",function(){var $=this,t=new Date($.getTime());return t.timezone=0,t}),G(d,"$gmtime",function(){var $=this;return $.timezone!==0&&(w($),$.timezone=0),$}),G(d,"$gmt?",function(){var $=this;return $.timezone===0}),G(d,"$gmt_offset",function(){var $=this;return $.timezone!=null?$.timezone*60:-$.getTimezoneOffset()*60}),G(d,"$strftime",function($){var t=this;return $.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,r,i,a,o){var g="",N,D,R,V=r.indexOf("0")!==-1,O=r.indexOf("-")===-1,ae=r.indexOf("_")!==-1,le=r.indexOf("^")!==-1,_e=r.indexOf("#")!==-1,de=(r.match(":")||[]).length;switch(i=parseInt(i,10),V&&ae&&(r.indexOf("0")<r.indexOf("_")?V=!1:ae=!1),o){case"Y":g+=t.$year();break;case"C":V=!ae,g+=Math.round(t.$year()/100);break;case"y":V=!ae,g+=t.$year()%100;break;case"m":V=!ae,g+=t.$mon();break;case"B":g+=B[t.$mon()-1];break;case"b":case"h":ae=!V,g+=E[t.$mon()-1];break;case"d":V=!ae,g+=t.$day();break;case"e":ae=!V,g+=t.$day();break;case"j":V=!ae,i=isNaN(i)?3:i,g+=t.$yday();break;case"H":V=!ae,g+=t.$hour();break;case"k":ae=!V,g+=t.$hour();break;case"I":V=!ae,g+=t.$hour()%12||12;break;case"l":ae=!V,g+=t.$hour()%12||12;break;case"P":g+=t.$hour()>=12?"pm":"am";break;case"p":g+=t.$hour()>=12?"PM":"AM";break;case"M":V=!ae,g+=t.$min();break;case"S":V=!ae,g+=t.$sec();break;case"L":V=!ae,i=isNaN(i)?3:i,g+=t.getMilliseconds();break;case"N":i=isNaN(i)?9:i,g+=t.getMilliseconds().toString().$rjust(3,"0"),g=g.$ljust(i,"0");break;case"z":var ge=t.timezone==null?t.getTimezoneOffset():-t.timezone*60,ve=Math.floor(Math.abs(ge)/60),me=Math.abs(ge)%60;g+=ge<0?"+":"-",g+=ve<10?"0":"",g+=ve,de>0&&(g+=":"),g+=me<10?"0":"",g+=me,de>1&&(g+=":00");break;case"Z":g+=t.$zone();break;case"A":g+=c[t.$wday()];break;case"a":g+=l[t.$wday()];break;case"u":g+=t.$wday()+1;break;case"w":g+=t.$wday();break;case"V":g+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":g+=t.$cweek_cyear()["$[]"](1);break;case"g":g+=t.$cweek_cyear()["$[]"](1)["$[]"](q(-2,-1,!1));break;case"s":g+=t.$to_i();break;case"n":g+=`
`;break;case"t":g+="	";break;case"%":g+="%";break;case"c":g+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":g+=t.$strftime("%m/%d/%y");break;case"F":g+=t.$strftime("%Y-%m-%d");break;case"v":g+=t.$strftime("%e-%^b-%4Y");break;case"r":g+=t.$strftime("%I:%M:%S %p");break;case"R":g+=t.$strftime("%H:%M");break;case"T":case"X":g+=t.$strftime("%H:%M:%S");break;case"J":if(N=t.$to_date().$jd(),N<2405160){g+=t.$strftime("%Y-%m-%d");break}else N<2419614?(D="M",R=1867):N<2424875?(D="T",R=1911):N<2447535?(D="S",R=1925):N<2458605?(D="H",R=1988):(D="R",R=2018);g+=t.$format("%c%02d",D,J(t.$year(),R)),g+=t.$strftime("-%m-%d");break;default:return e}return le&&(g=g.toUpperCase()),_e&&(g=g.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),O&&(V||ae)&&(g=g.$rjust(isNaN(i)?2:i,ae?" ":"0")),g})}),G(d,"$to_a",function(){var $=this;return[$.$sec(),$.$min(),$.$hour(),$.$day(),$.$month(),$.$year(),$.$wday(),$.$yday(),$.$isdst(),$.$zone()]}),G(d,"$to_f",function(){var $=this;return $.getTime()/1e3}),G(d,"$to_i",function(){var $=this;return parseInt($.getTime()/1e3,10)}),G(d,"$cweek_cyear",function(){var $=this,t=z,e=z,r=z,i=z,a=z,o=z,g=z;return t=C("Time").$new($.$year(),1,1),e=t.$wday(),r=$.$year(),m(M(e,4))&&p(e,0)?i=J(e,1):(i=J(J(e,7),1),U(i,-8)&&(i=-1)),a=re(X($.$yday(),i),7).$ceil(),m(M(a,0))?C("Time").$new(J($.$year(),1),12,31).$cweek_cyear():(U(a,53)&&(o=C("Time").$new($.$year(),12,31),g=o.$wday(),m(M(g,3))&&p(g,0)&&(a=1,r=X(r,1))),[a,r])}),function(s,$){return S(s,"mktime","local"),S(s,"utc","gm")}(n.get_singleton_class(d)),S(d,"ctime","asctime"),S(d,"dst?","isdst"),S(d,"getutc","getgm"),S(d,"gmtoff","gmt_offset"),S(d,"mday","day"),S(d,"month","mon"),S(d,"to_s","inspect"),S(d,"tv_sec","to_i"),S(d,"tv_usec","usec"),S(d,"utc","gmtime"),S(d,"utc?","gmt?"),S(d,"utc_offset","gmt_offset")}("::",Date,v)};Opal.modules["corelib/struct"]=function(n){var A=n.klass,w=n.slice,K=n.extract_kwargs,I=n.ensure_kwargs,ee=n.hash_get,Z=n.truthy,T=n.neqeq,G=n.eqeq,m=n.Opal,P=n.send,ie=n.Class,W=n.to_a,X=n.def,re=n.defs,J=n.Kernel,q=n.rb_gt,p=n.rb_minus,M=n.eqeqeq,U=n.rb_lt,S=n.rb_ge,F=n.rb_plus,v=n.alias,z=n.top,C=[],x=n.nil,y=n.$$$;return n.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),z.$require("corelib/enumerable"),function(u,d,k){var h=A(u,d,"Struct"),c=[h].concat(k),l=n.$r(c);h.$include(y("Enumerable")),re(h,"$new",function B(_,s,$){var t=B.$$p||x,e,r,i,a,o=this,g=x;if(B.$$p=null,e=w(arguments,1),r=K(e),r=I(r),i=e,a=ee(r,"keyword_init"),a==null&&(a=!1),Z(_))if(G(_.$class(),y("String"))&&T(_["$[]"](0).$upcase(),_["$[]"](0)))i.$unshift(_),_=x;else try{_=m["$const_name!"](_)}catch(N){if(n.rescue(N,[y("TypeError"),y("NameError")]))try{i.$unshift(_),_=x}finally{n.pop_exception(N)}else throw N}return P(i,"map",[],function(D){return D==null&&(D=x),m["$coerce_to!"](D,y("String"),"to_str")}),g=P(ie,"new",[o],function N(){var D=N.$$s==null?this:N.$$s;return P(i,"each",[],function R(V){var O=R.$$s==null?this:R.$$s;return V==null&&(V=x),O.$define_struct_attribute(V)},{$$s:D}),function(R,V){return X(R,"$new",function(ae){var le,_e,de=this,ge=x;return le=w(arguments),_e=le,ge=de.$allocate(),ge.$$data={},P(ge,"initialize",W(_e)),ge},-1),R.$alias_method("[]","new")}(n.get_singleton_class(D))},{$$s:o}),Z(t)&&P(g,"module_eval",[],t.$to_proc()),g.$$keyword_init=a,Z(_)&&y("Struct").$const_set(_,g),g},-2),re(h,"$define_struct_attribute",function(_){var s=this;return G(s,y("Struct"))&&J.$raise(y("ArgumentError"),"you cannot define attributes to the Struct class"),s.$members()["$<<"](_),P(s,"define_method",[_],function $(){var t=$.$$s==null?this:$.$$s;return t.$$data[_]},{$$s:s}),P(s,"define_method",[""+_+"="],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=x),e.$$data[_]=t},{$$s:s})}),re(h,"$members",function(){var _=this,s=x;return _.members==null&&(_.members=x),G(_,y("Struct"))&&J.$raise(y("ArgumentError"),"the Struct class has no members"),_.members=Z(s=_.members)?s:[]}),re(h,"$inherited",function(_){var s=this,$=x;return s.members==null&&(s.members=x),$=s.members,P(_,"instance_eval",[],function t(){var e=t.$$s==null?this:t.$$s;return e.members=$},{$$s:s})}),X(h,"$initialize",function(_){var s,$,t=this,e=x,r=x,i=x;return s=w(arguments),$=s,Z(t.$class().$$keyword_init)?(e=Z(r=$.$last())?r:new Map,(Z(q($.$length(),1))||Z($.length===1&&!e.$$is_hash))&&J.$raise(y("ArgumentError"),"wrong number of arguments (given "+$.$length()+", expected 0)"),i=p(e.$keys(),t.$class().$members()),Z(i["$any?"]())&&J.$raise(y("ArgumentError"),"unknown keywords: "+i.$join(", ")),P(t.$class().$members(),"each",[],function a(o){var g,N=a.$$s==null?this:a.$$s;return o==null&&(o=x),g=[o,e["$[]"](o)],P(N,"[]=",g),g[g.length-1]},{$$s:t})):(Z(q($.$length(),t.$class().$members().$length()))&&J.$raise(y("ArgumentError"),"struct size differs"),P(t.$class().$members(),"each_with_index",[],function a(o,g){var N,D=a.$$s==null?this:a.$$s;return o==null&&(o=x),g==null&&(g=x),N=[o,$["$[]"](g)],P(D,"[]=",N),N[N.length-1]},{$$s:t}))},-1),X(h,"$initialize_copy",function(_){var s=this;s.$$data={};var $=Object.keys(_.$$data),t,e,r;for(t=0,e=$.length;t<e;t++)r=$[t],s.$$data[r]=_.$$data[r]}),re(h,"$keyword_init?",function(){var _=this;return _.$$keyword_init}),X(h,"$members",function(){var _=this;return _.$class().$members()}),X(h,"$hash",function(){var _=this;return[_.$class(),_.$to_a()].$hash()}),X(h,"$[]",function(_){var s=this;return M(y("Integer"),_)?(Z(U(_,s.$class().$members().$size()["$-@"]()))&&J.$raise(y("IndexError"),"offset "+_+" too small for struct(size:"+s.$class().$members().$size()+")"),Z(S(_,s.$class().$members().$size()))&&J.$raise(y("IndexError"),"offset "+_+" too large for struct(size:"+s.$class().$members().$size()+")"),_=s.$class().$members()["$[]"](_)):M(y("String"),_)?s.$$data.hasOwnProperty(_)||J.$raise(y("NameError").$new("no member '"+_+"' in struct",_)):J.$raise(y("TypeError"),"no implicit conversion of "+_.$class()+" into Integer"),_=m["$coerce_to!"](_,y("String"),"to_str"),s.$$data[_]}),X(h,"$[]=",function(_,s){var $=this;return M(y("Integer"),_)?(Z(U(_,$.$class().$members().$size()["$-@"]()))&&J.$raise(y("IndexError"),"offset "+_+" too small for struct(size:"+$.$class().$members().$size()+")"),Z(S(_,$.$class().$members().$size()))&&J.$raise(y("IndexError"),"offset "+_+" too large for struct(size:"+$.$class().$members().$size()+")"),_=$.$class().$members()["$[]"](_)):M(y("String"),_)?Z($.$class().$members()["$include?"](_.$to_sym()))||J.$raise(y("NameError").$new("no member '"+_+"' in struct",_)):J.$raise(y("TypeError"),"no implicit conversion of "+_.$class()+" into Integer"),_=m["$coerce_to!"](_,y("String"),"to_str"),$.$$data[_]=s}),X(h,"$==",function(_){var s=this;if(!Z(_["$instance_of?"](s.$class())))return!1;var $={},t={};function e(r,i){var a,o,g;$[r.$__id__()]=!0,t[i.$__id__()]=!0;for(a in r.$$data)if(o=r.$$data[a],g=i.$$data[a],y("Struct")["$==="](o)){if((!$.hasOwnProperty(o.$__id__())||!t.hasOwnProperty(g.$__id__()))&&!e(o,g))return!1}else if(!o["$=="](g))return!1;return!0}return e(s,_)}),X(h,"$eql?",function(_){var s=this;if(!Z(_["$instance_of?"](s.$class())))return!1;var $={},t={};function e(r,i){var a,o,g;$[r.$__id__()]=!0,t[i.$__id__()]=!0;for(a in r.$$data)if(o=r.$$data[a],g=i.$$data[a],y("Struct")["$==="](o)){if((!$.hasOwnProperty(o.$__id__())||!t.hasOwnProperty(g.$__id__()))&&!e(o,g))return!1}else if(!o["$eql?"](g))return!1;return!0}return e(s,_)}),X(h,"$each",function B(){var _=B.$$p||x,s=this;return B.$$p=null,_===x?P(s,"enum_for",["each"],function $(){var t=$.$$s==null?this:$.$$s;return t.$size()},{$$s:s}):(P(s.$class().$members(),"each",[],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=x),n.yield1(_,e["$[]"](t))},{$$s:s}),s)}),X(h,"$each_pair",function B(){var _=B.$$p||x,s=this;return B.$$p=null,_===x?P(s,"enum_for",["each_pair"],function $(){var t=$.$$s==null?this:$.$$s;return t.$size()},{$$s:s}):(P(s.$class().$members(),"each",[],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=x),n.yield1(_,[t,e["$[]"](t)])},{$$s:s}),s)}),X(h,"$length",function(){var _=this;return _.$class().$members().$length()}),X(h,"$to_a",function(){var _=this;return P(_.$class().$members(),"map",[],function s($){var t=s.$$s==null?this:s.$$s;return $==null&&($=x),t["$[]"]($)},{$$s:_})});var E=[];return X(h,"$inspect",function(){var _=this,s=x,$=x;return function(){try{return s="#<struct ",Z(E["$include?"](_.$__id__()))?F(s,":...>"):(E["$<<"](_.$__id__()),$=!0,M(y("Struct"),_)&&Z(_.$class().$name())&&(s=F(s,""+_.$class()+" ")),s=F(s,P(_.$each_pair(),"map",[],function(e,r){return e==null&&(e=x),r==null&&(r=x),""+e+"="+l("Opal").$inspect(r)}).$join(", ")),s=F(s,">"),s)}finally{Z($)&&E.pop()}}()}),X(h,"$to_h",function B(_){var s=B.$$p||x,$,t,e=this;return B.$$p=null,$=w(arguments),t=$,s!==x?P(P(e,"map",[],s.$to_proc()),"to_h",W(t)):P(e.$class().$members(),"each_with_object",[new Map],function r(i,a){var o,g=r.$$s==null?this:r.$$s;return i==null&&(i=x),a==null&&(a=x),o=[i,g["$[]"](i)],P(a,"[]=",o),o[o.length-1]},{$$s:e})},-1),X(h,"$values_at",function(_){var s,$,t=this;s=w(arguments),$=s,$=P($,"map",[],function(o){return o==null&&(o=x),o.$$is_range?o.$to_a():o}).$flatten();for(var e=[],r=0,i=$.length;r<i;r++)$[r].$$is_number||J.$raise(y("TypeError"),"no implicit conversion of "+$[r].$class()+" into Integer"),e.push(t["$[]"]($[r]));return e},-1),X(h,"$dig",function(_,s){var $,t,e=this,r=x;return $=w(arguments,1),t=$,r=Z(_.$$is_string&&e.$$data.hasOwnProperty(_))&&e.$$data[_]||x,r===x||t.length===0?r:(Z(r["$respond_to?"]("dig"))||J.$raise(y("TypeError"),""+r.$class()+" does not have #dig method"),P(r,"dig",W(t)))},-2),v(h,"size","length"),v(h,"to_s","inspect"),v(h,"values","to_a")}("::",null,C)};Opal.modules["corelib/set"]=function(n){var A=n.freeze,w=n.klass,K=n.slice,I=n.defs,ee=n.truthy,Z=n.eqeqeq,T=n.Kernel,G=n.send,m=n.def,P=n.eqeq,ie=n.rb_lt,W=n.rb_le,X=n.alias,re=[],J=n.nil,q=n.$$$;return n.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(p,M,U){var S=w(p,M,"Set"),F=[S].concat(U),v=n.$r(F),z=J,C=S.$$prototype;C.hash=J,S.$include(q("Enumerable")),I(S,"$[]",function(u){var d,k,h=this;return d=K(arguments),k=d,h.$new(k)},-1),m(S,"$initialize",function y(u){var d=y.$$p||J,k=this;return y.$$p=null,u==null&&(u=J),k.hash=new Map,ee(u["$nil?"]())?J:(Z(q("Enumerable"),u)||T.$raise(q("ArgumentError"),"value must be enumerable"),ee(d)?G(u,"each",[],function h(c){var l=h.$$s==null?this:h.$$s;return c==null&&(c=J),l.$add(n.yield1(d,c))},{$$s:k}):k.$merge(u))},-1),m(S,"$dup",function(){var u=this,d=J;return d=u.$class().$new(),d.$merge(u)}),m(S,"$-",function(u){var d=this;return ee(u["$respond_to?"]("each"))||T.$raise(q("ArgumentError"),"value must be enumerable"),d.$dup().$subtract(u)}),m(S,"$inspect",function(){var u=this;return"#<Set: {"+u.$to_a().$join(",")+"}>"}),m(S,"$==",function(u){var d=this;return ee(d["$equal?"](u))?!0:ee(u["$instance_of?"](d.$class()))?d.hash["$=="](u.$instance_variable_get("@hash")):ee(u["$is_a?"](q("Set")))&&P(d.$size(),u.$size())?G(u,"all?",[],function k(h){var c=k.$$s==null?this:k.$$s;return c.hash==null&&(c.hash=J),h==null&&(h=J),c.hash["$include?"](h)},{$$s:d}):!1}),m(S,"$add",function(u){var d=this;return d.hash["$[]="](u,!0),d}),m(S,"$classify",function y(){var u=y.$$p||J,d=this,k=J;return y.$$p=null,u===J?d.$enum_for("classify"):(k=G(q("Hash"),"new",[],function h(c,l){var E,B=h.$$s==null?this:h.$$s;return c==null&&(c=J),l==null&&(l=J),E=[l,B.$class().$new()],G(c,"[]=",E),E[E.length-1]},{$$s:d}),G(d,"each",[],function(c){return c==null&&(c=J),k["$[]"](n.yield1(u,c)).$add(c)}),k)}),m(S,"$collect!",function y(){var u=y.$$p||J,d=this,k=J;return y.$$p=null,u===J?d.$enum_for("collect!"):(k=d.$class().$new(),G(d,"each",[],function(c){return c==null&&(c=J),k["$<<"](n.yield1(u,c))}),d.$replace(k))}),m(S,"$compare_by_identity",function(){var u=this;return ee(u.hash["$respond_to?"]("compare_by_identity"))?(u.hash.$compare_by_identity(),u):u.$raise(v("NotImplementedError"),""+u.$class().$name()+"#compare_by_identity is not implemented")}),m(S,"$compare_by_identity?",function(){var u=this,d=J;return ee(d=u.hash["$respond_to?"]("compare_by_identity?"))?u.hash["$compare_by_identity?"]():d}),m(S,"$delete",function(u){var d=this;return d.hash.$delete(u),d}),m(S,"$delete?",function(u){var d=this;return ee(d["$include?"](u))?(d.$delete(u),d):J}),m(S,"$delete_if",function y(){var u=y.$$p||J,d=this;return y.$$p=null,u===J?d.$enum_for("delete_if"):(G(G(d,"select",[],function(h){return h==null&&(h=J),n.yield1(u,h)}),"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return c.hash==null&&(c.hash=J),h==null&&(h=J),c.hash.$delete(h)},{$$s:d}),d)}),m(S,"$freeze",function(){var u=this;return ee(u["$frozen?"]())?u:(u.hash.$freeze(),A(u))}),m(S,"$keep_if",function y(){var u=y.$$p||J,d=this;return y.$$p=null,u===J?d.$enum_for("keep_if"):(G(G(d,"reject",[],function(h){return h==null&&(h=J),n.yield1(u,h)}),"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return c.hash==null&&(c.hash=J),h==null&&(h=J),c.hash.$delete(h)},{$$s:d}),d)}),m(S,"$reject!",function y(){var u=y.$$p||J,d=this,k=J;return y.$$p=null,u===J?d.$enum_for("reject!"):(k=d.$size(),G(d,"delete_if",[],u.$to_proc()),P(d.$size(),k)?J:d)}),m(S,"$select!",function y(){var u=y.$$p||J,d=this,k=J;return y.$$p=null,u===J?d.$enum_for("select!"):(k=d.$size(),G(d,"keep_if",[],u.$to_proc()),P(d.$size(),k)?J:d)}),m(S,"$add?",function(u){var d=this;return ee(d["$include?"](u))?J:d.$add(u)}),m(S,"$each",function y(){var u=y.$$p||J,d=this;return y.$$p=null,u===J?d.$enum_for("each"):(G(d.hash,"each_key",[],u.$to_proc()),d)}),m(S,"$empty?",function(){var u=this;return u.hash["$empty?"]()}),m(S,"$eql?",function(u){var d=this;return d.hash["$eql?"](G(u,"instance_eval",[],function k(){var h=k.$$s==null?this:k.$$s;return h.hash==null&&(h.hash=J),h.hash},{$$s:d}))}),m(S,"$clear",function(){var u=this;return u.hash.$clear(),u}),m(S,"$include?",function(u){var d=this;return d.hash["$include?"](u)}),m(S,"$merge",function(u){var d=this;return G(u,"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=J),c.$add(h)},{$$s:d}),d}),m(S,"$replace",function(u){var d=this;return d.$clear(),d.$merge(u),d}),m(S,"$size",function(){var u=this;return u.hash.$size()}),m(S,"$subtract",function(u){var d=this;return G(u,"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=J),c.$delete(h)},{$$s:d}),d}),m(S,"$|",function(u){var d=this;return ee(u["$respond_to?"]("each"))||T.$raise(q("ArgumentError"),"value must be enumerable"),d.$dup().$merge(u)});function x(y){ee(z=y["$is_a?"](q("Set")))||T.$raise(q("ArgumentError"),"value must be a set")}return m(S,"$superset?",function(u){var d=this;return x(u),ee(ie(d.$size(),u.$size()))?!1:G(u,"all?",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=J),c["$include?"](h)},{$$s:d})}),m(S,"$proper_superset?",function(u){var d=this;return x(u),ee(W(d.$size(),u.$size()))?!1:G(u,"all?",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=J),c["$include?"](h)},{$$s:d})}),m(S,"$subset?",function(u){var d=this;return x(u),ee(ie(u.$size(),d.$size()))?!1:G(d,"all?",[],function(h){return h==null&&(h=J),u["$include?"](h)})}),m(S,"$proper_subset?",function(u){var d=this;return x(u),ee(W(u.$size(),d.$size()))?!1:G(d,"all?",[],function(h){return h==null&&(h=J),u["$include?"](h)})}),m(S,"$intersect?",function(u){var d=this;return x(u),ee(ie(d.$size(),u.$size()))?G(d,"any?",[],function(h){return h==null&&(h=J),u["$include?"](h)}):G(u,"any?",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=J),c["$include?"](h)},{$$s:d})}),m(S,"$disjoint?",function(u){var d=this;return d["$intersect?"](u)["$!"]()}),m(S,"$to_a",function(){var u=this;return u.hash.$keys()}),X(S,"+","|"),X(S,"<","proper_subset?"),X(S,"<<","add"),X(S,"<=","subset?"),X(S,">","proper_superset?"),X(S,">=","superset?"),X(S,"difference","-"),X(S,"filter!","select!"),X(S,"length","size"),X(S,"map!","collect!"),X(S,"member?","include?"),X(S,"union","|")}("::",null,re)};Opal.modules["corelib/dir"]=function(n){var A=n.klass,w=n.def,K=n.truthy,I=n.alias,ee=n.nil,Z=n.$$$;return n.add_stubs("[],pwd"),function(T,G,m){var P=A(T,G,"Dir");return function(ie,W){return w(ie,"$chdir",function X(re){var J=X.$$p||ee,q=ee;return X.$$p=null,function(){try{return q=n.current_dir,n.current_dir=re,n.yieldX(J,[])}finally{n.current_dir=q}}()}),w(ie,"$pwd",function(){return n.current_dir||"."}),w(ie,"$home",function(){var re=ee;return K(re=Z("ENV")["$[]"]("HOME"))?re:"."}),I(ie,"getwd","pwd")}(n.get_singleton_class(P))}("::",null)};Opal.modules["corelib/file"]=function(n){var A=n.truthy,w=n.klass,K=n.const_set,I=n.Opal,ee=n.regexp,Z=n.rb_plus,T=n.def,G=n.Kernel,m=n.eqeq,P=n.rb_lt,ie=n.rb_minus,W=n.range,X=n.send,re=n.slice,J=n.alias,q=[],p=n.nil,M=n.$$$;return n.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(U,S,F){var v=w(U,S,"File"),z=[v].concat(F),C=p;return K(z[0],"Separator",K(z[0],"SEPARATOR","/")),K(z[0],"ALT_SEPARATOR",p),K(z[0],"PATH_SEPARATOR",":"),K(z[0],"FNM_SYSCASE",0),C=/^[a-zA-Z]:(?:\\|\/)/,function(x,y){var u=[x].concat(y),d=n.$r(u);T(x,"$absolute_path",function(l,E){var B=p,_=p,s=p,$=p,t=p,e=p,r=p,i=p,a=p,o=p;E==null&&(E=p),B=d("SEPARATOR"),_=h(),s=[],l=A(l["$respond_to?"]("to_path"))?l.$to_path():l,l=I["$coerce_to!"](l,M("String"),"to_str"),E=A($=E)?$:M("Dir").$pwd(),t=l.substr(0,B.length)===B||C.test(l),e=E.substr(0,B.length)===B||C.test(E),A(t)?(r=l.$split(ee(["[",_,"]"])),i=C.test(l)?"":l.$sub(ee(["^([",_,"]+).*$"]),"\\1"),a=!0):(r=Z(E.$split(ee(["[",_,"]"])),l.$split(ee(["[",_,"]"]))),i=C.test(E)?"":E.$sub(ee(["^([",_,"]+).*$"]),"\\1"),a=e);for(var g,N=0,D=r.length;N<D;N++)g=r[N],!(g===p||g===""&&(s.length===0||a)||g==="."&&(s.length===0||a))&&(g===".."?s.pop():s.push(g));return!a&&r[0]!=="."&&s.$unshift("."),o=s.$join(B),A(a)&&(o=Z(i,o)),o},-2),T(x,"$expand_path",function(l,E){var B=this,_=p,s=p,$=p,t=p,e=p;return E==null&&(E=p),_=d("SEPARATOR"),s=h(),A(l[0]==="~"||E&&E[0]==="~")&&($=d("Dir").$home(),A($)||G.$raise(M("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),t=C.test($)?"":$.$sub(ee(["^([",s,"]+).*$"]),"\\1"),A($["$start_with?"](t))||G.$raise(M("ArgumentError"),"non-absolute home"),$=Z($,_),e=ee(["^\\~(?:",_,"|$)"]),l=l.$sub(e,$),A(E)&&(E=E.$sub(e,$))),B.$absolute_path(l,E)},-2);function k(c){return A(c["$respond_to?"]("to_path"))&&(c=c.$to_path()),c=I["$coerce_to!"](c,M("String"),"to_str"),c}function h(){return d("ALT_SEPARATOR")===p?n.escape_regexp(d("SEPARATOR")):n.escape_regexp(Z(d("SEPARATOR"),d("ALT_SEPARATOR")))}return T(x,"$dirname",function(l,E){var B=this,_=p;if(E==null&&(E=1),m(E,0))return l;A(P(E,0))&&G.$raise(M("ArgumentError"),"level can't be negative"),_=h(),l=k(l);var s=l.match(new RegExp("^["+_+"]")),$;return l=l.replace(new RegExp("["+_+"]+$"),""),l=l.replace(new RegExp("[^"+_+"]+$"),""),l=l.replace(new RegExp("["+_+"]+$"),""),l===""?$=s?"/":".":$=l,E==1?$:B.$dirname($,ie(E,1))},-2),T(x,"$basename",function(l,E){var B=p;return E==null&&(E=p),B=h(),l=k(l),l.length==0||(E!==p?E=I["$coerce_to!"](E,M("String"),"to_str"):E=null,l=l.replace(new RegExp("(.)["+B+"]*$"),"$1"),l=l.replace(new RegExp("^(?:.*["+B+"])?([^"+B+"]+)$"),"$1"),E===".*"?l=l.replace(/\.[^\.]+$/,""):E!==null&&(E=n.escape_regexp(E),l=l.replace(new RegExp(""+E+"$"),""))),l},-2),T(x,"$extname",function(l){var E=this,B=p,_=p;return l=k(l),B=E.$basename(l),A(B["$empty?"]())||(_=B["$[]"](W(1,-1,!1)).$rindex("."),A(_["$nil?"]())||m(Z(_,1),ie(B.$length(),1)))?"":B["$[]"](n.Range.$new(Z(_,1),-1,!1))}),T(x,"$exist?",function(l){return n.modules[l]!=null}),T(x,"$directory?",function(l){var E=p;E=[];for(var B in n.modules)E.push(B);return l=l.$gsub(ee(["(^.",d("SEPARATOR"),"+|",d("SEPARATOR"),"+$)"])),X(E,"find",[],function(s){return s==null&&(s=p),s["$=~"](ee(["^",l]))})}),T(x,"$join",function(l){var E,B,_=p;return E=re(arguments),B=E,A(B["$empty?"]())?"":(_="",B=X(B.$flatten().$each_with_index(),"map",[],function($,t){return $==null&&($=p),t==null&&(t=p),m(t,0)&&A($["$empty?"]())||m(B.$length(),Z(t,1))&&A($["$empty?"]())?d("SEPARATOR"):$}),B=X(B,"reject",[],"empty?".$to_proc()),X(B,"each_with_index",[],function($,t){var e=p;return $==null&&($=p),t==null&&(t=p),e=B["$[]"](Z(t,1)),A(e["$nil?"]())?_=""+_+$:(A($["$end_with?"](d("SEPARATOR")))&&A(e["$start_with?"](d("SEPARATOR")))&&($=$.$sub(ee([d("SEPARATOR"),"+$"]),"")),_=A($["$end_with?"](d("SEPARATOR")))||A(e["$start_with?"](d("SEPARATOR")))?""+_+$:""+_+$+d("SEPARATOR"))}),_)},-1),T(x,"$split",function(l){return l.$split(d("SEPARATOR"))}),J(x,"realpath","expand_path"),J(x,"exists?","exist?")}(n.get_singleton_class(v),z)}("::",M("IO"),q)};Opal.modules["corelib/process/base"]=function(n){var A=n.klass,w=n.slice,K=n.defs,I=n.return_val,ee=n.nil;return function(Z,T){var G=A(Z,T,"Signal");return K(G,"$trap",function(P){return w(arguments),ee},-1)}("::",null),function(Z,T){var G=A(Z,T,"GC");return K(G,"$start",I(ee))}("::",null)};Opal.modules["corelib/process"]=function(n){var A=n.module,w=n.defs,K=n.truthy,I=n.return_val,ee=n.Kernel,Z=n.nil,T=n.$$$;return n.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(G){var m=A(G,"Process"),P=Z;if(m.__clocks__=[],w(m,"$__register_clock__",function(X,re){var J=this;return J.__clocks__==null&&(J.__clocks__=Z),J.$const_set(X,J.__clocks__.$size()),J.__clocks__["$<<"](re)}),m.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),P=!1,n.global.performance)P=function(){return performance.now()};else if(n.global.process&&process.hrtime){var ie=process.hrtime();P=function(){var W=process.hrtime(ie),X=W[1]/1e3|0;return W[0]*1e3+X/1e3}}return K(P)&&m.$__register_clock__("CLOCK_MONOTONIC",P),w(m,"$pid",I(0)),w(m,"$times",function(){var X=Z;return X=T("Time").$now().$to_f(),T(T("Benchmark"),"Tms").$new(X,X,X,X,X)}),w(m,"$clock_gettime",function(X,re){var J=this,q=Z;J.__clocks__==null&&(J.__clocks__=Z),re==null&&(re="float_second"),K(q=J.__clocks__["$[]"](X))||ee.$raise(T(T("Errno"),"EINVAL"),"clock_gettime("+X+") "+J.__clocks__["$[]"](X));var p=q();switch(re){case"float_second":return p/1e3;case"float_millisecond":return p/1;case"float_microsecond":return p*1e3;case"second":return p/1e3|0;case"millisecond":return p/1|0;case"microsecond":return p*1e3|0;case"nanosecond":return p*1e6|0;default:ee.$raise(T("ArgumentError"),"unexpected unit: "+re)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(n){var A=n.klass,w=n.module,K=n.def,I=n.range,ee=n.send,Z=n.rb_divide,T=n.Kernel,G=n.Opal,m=[],P=n.nil,ie=n.$$$;return n.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(W,X,re){var J=A(W,X,"Random"),q=[J].concat(re);return function(p,M){var U=w(p,"Formatter"),S=[U].concat(M),F=n.$r(S);return K(U,"$hex",function(z){var C=this;z==null&&(z=P),z=ie("Random").$_verify_count(z);for(var x=C.$bytes(z),y="",u=0;u<z;u++)y+=x.charCodeAt(u).toString(16).padStart(2,"0");return y.$encode("US-ASCII")},-1),K(U,"$random_bytes",function(z){var C=this;return z==null&&(z=P),C.$bytes(z)},-1),K(U,"$base64",function(z){var C=this;return z==null&&(z=P),ie("Base64").$strict_encode64(C.$random_bytes(z)).$encode("US-ASCII")},-1),K(U,"$urlsafe_base64",function(z,C){var x=this;return z==null&&(z=P),C==null&&(C=!1),ie("Base64").$urlsafe_encode64(x.$random_bytes(z),C).$encode("US-ASCII")},-1),K(U,"$uuid",function(){var z=this,C=P;return C=z.$hex(16).$split(""),C["$[]="](12,"4"),C["$[]="](16,(parseInt(C["$[]"](16),16)&3|8).toString(16)),C=[C["$[]"](I(0,8,!0)),C["$[]"](I(8,12,!0)),C["$[]"](I(12,16,!0)),C["$[]"](I(16,20,!0)),C["$[]"](I(20,32,!0))],C=ee(C,"map",[],"join".$to_proc()),C.$join("-")}),K(U,"$random_float",function(){var z=this,C=P,x=P;return C=z.$bytes(4),x=0,ee(4,"times",[],function(u){return u==null&&(u=P),x=x["$<<"](8),x=x["$|"](C["$[]"](u).$ord())}),Z(x.$abs(),2147483647)}),K(U,"$random_number",function(z){var C=this;function x(){return C.$random_float()}function y(d){return Math.floor(x()*d)}function u(){var d=z.begin,k=z.end;if(d===P||k===P)return P;var h=k-d;return h<0?P:h===0?d:(k%1===0&&d%1===0&&!z.excl&&h++,y(h)+d)}return z==null?x():z.$$is_range?u():z.$$is_number?(z<=0&&T.$raise(ie("ArgumentError"),"invalid argument - "+z),z%1===0?y(z):x()*z):(z=G["$coerce_to!"](z,ie("Integer"),"to_int"),z<=0&&T.$raise(ie("ArgumentError"),"invalid argument - "+z),y(z))},-1),K(U,"$alphanumeric",function(z){var C=this,x=P;return z==null&&(z=P),z=F("Random").$_verify_count(z),x=ee([I("0","9",!1),I("a","z",!1),I("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),ee(ie("Array"),"new",[z],function y(u){var d=y.$$s==null?this:y.$$s;return x["$[]"](d.$random_number(x.$length()))},{$$s:C}).$join()},-1)}(J,q),J.$include(ie(ie("Random"),"Formatter")),J.$extend(ie(ie("Random"),"Formatter"))}("::",null,m)};Opal.modules["corelib/random/mersenne_twister"]=function(n){var A=n.klass,w=n.const_set,K=n.send,I=n.nil,ee=n.$$$,Z=I;return n.add_stubs("generator="),Z=function(){var T=624,G=397,m=2567483615,P=2147483648,ie=2147483647,W=function(S,F){return S&P|F&ie},X=function(S,F){return W(S,F)>>>1^(F&1?m:0)};function re(S){var F={left:0,next:T,state:new Array(T)};return J(F,S),F}function J(S,F){var v;for(S.state[0]=F>>>0,v=1;v<T;v++)S.state[v]=1812433253*(S.state[v-1]^S.state[v-1]>>30>>>0)+v,S.state[v]&=4294967295;S.left=1,S.next=T}function q(S){var F=0,v=S.state,z;for(S.left=T,S.next=0,z=T-G+1;--z;F++)v[F]=v[F+G]^X(v[F+0],v[F+1]);for(z=G;--z;F++)v[F]=v[F+(G-T)]^X(v[F+0],v[F+1]);v[F]=v[F+(G-T)]^X(v[F+0],v[0])}function p(S){var F;return--S.left<=0&&q(S),F=S.state[S.next++],F^=F>>>11,F^=F<<7&2636928640,F^=F<<15&4022730752,F^=F>>>18,F>>>0}function M(S,F){return S>>>=5,F>>>=6,(S*67108864+F)*(1/9007199254740992)}function U(S){var F=p(S),v=p(S);return M(F,v)}return{genrand_real:U,init:re}}(),function(T,G){var m=A(T,G,"Random"),P,ie=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return w(m,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*ie)},reseed:function(W){return Z.init(W)},rand:function(W){return Z.genrand_real(W)}}),P=[ee(m,"MERSENNE_TWISTER_GENERATOR")],K(m,"generator=",P),P[P.length-1]}("::",null)};Opal.modules["corelib/random"]=function(n){var A=n.truthy,w=n.klass,K=n.Kernel,I=n.defs,ee=n.Opal,Z=n.def,T=n.eqeqeq,G=n.send,m=n.top,P=n.nil,ie=n.$$$;return n.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),m.$require("corelib/random/formatter"),function(W,X){var re=w(W,X,"Random");return re.$attr_reader("seed","state"),I(re,"$_verify_count",function(q){return A(q)||(q=16),typeof q!="number"&&(q=q.$to_int()),q<0&&K.$raise(ie("ArgumentError"),"negative string size (or size too big)"),q=Math.floor(q),q}),Z(re,"$initialize",function(q){var p=this;return q==null&&(q=ie("Random").$new_seed()),q=ee["$coerce_to!"](q,ie("Integer"),"to_int"),p.state=q,p.$reseed(q)},-1),Z(re,"$reseed",function(q){var p=this;return p.seed=q,p.$rng=n.$$rand.reseed(q)}),I(re,"$new_seed",function(){return n.$$rand.new_seed()}),I(re,"$rand",function(q){var p=this;return ie(p,"DEFAULT").$rand(q)},-1),I(re,"$srand",function(q){var p=this,M=P;return q==null&&(q=ie("Random").$new_seed()),q=ee["$coerce_to!"](q,ie("Integer"),"to_int"),M=ie(p,"DEFAULT").$seed(),ie(p,"DEFAULT").$reseed(q),M},-1),I(re,"$urandom",function(q){return ie("SecureRandom").$bytes(q)}),Z(re,"$==",function(q){var p=this,M=P;return T(ie("Random"),q)?A(M=p.$seed()["$=="](q.$seed()))?p.$state()["$=="](q.$state()):M:!1}),Z(re,"$bytes",function(q){var p=this;return q=ie("Random").$_verify_count(q),G(ie("Array"),"new",[q],function M(){var U=M.$$s==null?this:M.$$s;return U.$rand(255).$chr()},{$$s:p}).$join().$encode("ASCII-8BIT")}),I(re,"$bytes",function(q){var p=this;return ie(p,"DEFAULT").$bytes(q)}),Z(re,"$rand",function(q){var p=this;return p.$random_number(q)},-1),Z(re,"$random_float",function(){var q=this;return q.state++,n.$$rand.rand(q.$rng)}),I(re,"$random_float",function(){var q=this;return ie(q,"DEFAULT").$random_float()}),I(re,"$generator=",function(q){var p=this;return n.$$rand=q,A(p["$const_defined?"]("DEFAULT"))?ie(p,"DEFAULT").$reseed():p.$const_set("DEFAULT",p.$new(p.$new_seed()))})}("::",null),m.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(n){var A=n.Kernel,w=n.klass,K=n.send,I=n.slice,ee=n.module,Z=n.def,T=n.return_val,G=n.alias,m=n.defs,P=n.top,ie=[],W=n.nil,X=n.$$$;n.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var re={};function J(p){switch(n.config.unsupported_features_severity){case"error":A.$raise(X("NotImplementedError"),p);break;case"warning":q(p);break}}function q(p){re[p]||(re[p]=!0,P.$warn(p))}return function(p,M){var U=w(p,M,"String"),S="String#%s not supported. Mutable String methods are not supported in Opal.";return K(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function F(v){var z=F.$$s==null?this:F.$$s;return v==null&&(v=W),K(z,"define_method",[v],function(x){return I(arguments),A.$raise(X("NotImplementedError"),S["$%"](v))},-1)},{$$s:U})}("::",null),function(p){var M=ee(p,"Kernel"),U="Object tainting is not supported by Opal";return Z(M,"$taint",function(){var F=this;return J(U),F}),Z(M,"$untaint",function(){var F=this;return J(U),F}),Z(M,"$tainted?",function(){return J(U),!1})}("::"),function(p,M){var U=w(p,M,"Module");return Z(U,"$public",function(F){var v,z,C=this;return v=I(arguments),z=v,z.length===0?(C.$$module_function=!1,W):z.length===1?z[0]:z},-1),Z(U,"$private_class_method",function(F){var v,z;return v=I(arguments),z=v,z.length===1?z[0]:z},-1),Z(U,"$private_method_defined?",T(!1)),Z(U,"$private_constant",function(F){return I(arguments),W},-1),G(U,"nesting","public"),G(U,"private","public"),G(U,"protected","public"),G(U,"protected_method_defined?","private_method_defined?"),G(U,"public_class_method","private_class_method"),G(U,"public_instance_method","instance_method"),G(U,"public_instance_methods","instance_methods"),G(U,"public_method_defined?","method_defined?")}("::",null),function(p){var M=ee(p,"Kernel");return Z(M,"$private_methods",function(S){return I(arguments),[]},-1),G(M,"protected_methods","private_methods"),G(M,"private_instance_methods","private_methods"),G(M,"protected_instance_methods","private_methods")}("::"),function(p,M){var U=ee(p,"Kernel"),S=[U].concat(M),F=n.$r(S);return Z(U,"$eval",function(z){return I(arguments),A.$raise(X("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+F("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",ie),m(P,"$public",function(M){var U,S;return U=I(arguments),S=U,S.length===1?S[0]:S},-1),m(P,"$private",function(M){var U,S;return U=I(arguments),S=U,S.length===1?S[0]:S},-1)};Opal.modules["corelib/binding"]=function(n){var A=n.klass,w=n.truthy,K=n.def,I=n.slice,ee=n.send,Z=n.to_a,T=n.Kernel,G=n.return_ivar,m=n.eqeq;n.thrower;var P=n.module,ie=n.const_set,W=n.top,X=[],re=n.nil,J=n.$$$;return n.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(q,p){var M=A(q,p,"Binding"),U=M.$$prototype;return U.jseval=U.scope_variables=re,K(M,"$initialize",function(F,v,z,C){var x,y=this;return v==null&&(v=[]),C==null&&(C=re),x=[F,v,z,C],y.jseval=x[0],y.scope_variables=x[1],y.receiver=x[2],y.source_location=x[3],w(typeof z!==void 0)?re:z=y.$js_eval("self")},-2),K(M,"$js_eval",function(F){var v,z,C=this;return v=I(arguments),z=v,w(C.jseval)?ee(C.jseval,"call",Z(z)):T.$raise("Evaluation on a Proc#binding is not supported")},-1),K(M,"$local_variable_get",function(F){var v=this;try{return v.$js_eval(F)}catch(z){if(n.rescue(z,[J("Exception")]))try{return T.$raise(J("NameError"),"local variable `"+F+"' is not defined for "+v.$inspect())}finally{n.pop_exception(z)}else throw z}}),K(M,"$local_variable_set",function(F,v){var z=this;return n.Binding.tmp_value=v,z.$js_eval(""+F+" = Opal.Binding.tmp_value"),delete n.Binding.tmp_value,v}),K(M,"$local_variables",G("scope_variables")),K(M,"$local_variable_defined?",function(F){var v=this;return v.scope_variables["$include?"](F)}),K(M,"$eval",function(F,v,z){try{var C=this;return v==null&&(v=re),z==null&&(z=re),m(F,"self")?C.$receiver():T.$eval(F,C,v,z)}catch(x){if(x===n.t_eval_return)return x.$v;throw x}},-2),M.$attr_reader("receiver","source_location")}("::",null),function(q){var p=P(q,"Kernel");return K(p,"$binding",function(){return T.$raise("Opal doesn't support dynamic calls to binding")})}("::"),ie(X[0],"TOPLEVEL_BINDING",J("Binding").$new(function(q){return new Function("self","return "+q)(W)},[],W,["<main>",0]))};Opal.modules["corelib/irb"]=function(n){var A=n.module,w=n.truthy,K=n.Kernel,I=n.defs,ee=n.gvars,Z=n.lambda,T=n.hash_rehash,G=n.send,m=n.rb_plus,P=n.const_set,ie=n.klass,W=n.def,X=n.Opal,re=n.range,J=n.eqeq,q=n.thrower,p=[],M=n.nil,U=n.$$$;n.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(S,F){var v=A(S,"Opal"),z=[v].concat(F);return function(C,x){var y=A(C,"IRB"),u=[y].concat(x),d=n.$r(u);return I(y,"$ensure_loaded",function(h){var c=M,l=M;if(w(n.loaded_features["$include?"](h)))return M;c=w(d("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":d("RUBY_ENGINE_VERSION"),l="https://cdn.opalrb.com/opal/"+c+"/"+h+".js";var E;if(typeof XMLHttpRequest<"u"){var B=new XMLHttpRequest;B.open("GET",l,!1),B.send(""),E=B.responseText}else K.$raise("You need to provision "+h+" yourself in this environment");return new Function("Opal",E)(n),n.require(h),w(n.loaded_features["$include?"](h))?M:K.$raise("Could not load "+h+" for some reason")}),y.$singleton_class().$attr_accessor("output"),I(y,"$prepare_console",function k(){var h=k.$$p||M,c,l=this,E=M,B=M;return ee.stdout==null&&(ee.stdout=M),ee.stderr==null&&(ee.stderr=M),ee.stdin==null&&(ee.stdin=M),k.$$p=null,function(){try{return l["$output="](""),E=T(new Map([[ee.stdout,Z(function(s){return s==null&&(s=M),ee.stdout=s})],[ee.stderr,Z(function(s){return s==null&&(s=M),ee.stderr=s})]])),w(l["$browser?"]())&&(G(E,"each",[],function _(s,$){var t=_.$$s==null?this:_.$$s,e=M;return s==null&&(s=M),$==null&&($=M),e=s.$dup(),e["$write_proc="](G(t,"proc",[],function r(i){var a=r.$$s==null?this:r.$$s;return i==null&&(i=M),a["$output="](m(a.$output(),i)),a["$output="](a.$output().$split(`
`).$last(30).$join(`
`)),w(i["$end_with?"](`
`))&&a["$output="](m(a.$output(),`
`)),s.$write_proc().$call(i)},{$$s:t})),e["$tty="](!1),$.$call(e)},{$$s:l}),B=ee.stdin.$read_proc(),ee.stdin["$read_proc="](function(_){var s=prompt(l.$output());return s!==null?s+`
`:M})),n.yieldX(h,[])}finally{G(E,"each",[],function(s,$){return s==null&&(s=M),$==null&&($=M),$.$call(s)}),c=[B],G(ee.stdin,"read_proc=",c),c[c.length-1],c=[""],G(l,"output=",c),c[c.length-1]}}()}),I(y,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),P(u[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(k,h){var c=ie(k,h,"Silencer"),l=c.$$prototype;return l.collector=l.stderr=M,W(c,"$initialize",function(){var B=this;return ee.stderr==null&&(ee.stderr=M),B.stderr=ee.stderr}),W(c,"$silence",function E(){var B=E.$$p||M,_=this;return E.$$p=null,function(){try{return _.collector=U("StringIO").$new(),ee.stderr=_.collector,n.yieldX(B,[])}finally{ee.stderr=_.stderr}}()}),W(c,"$warnings",function(){var B=this;return B.collector.$string()})}(u[0],null)}(z[0],z)}(p[0],p),function(S,F,v){var z=ie(S,F,"Binding"),C=[z].concat(v),x=n.$r(C);return W(z,"$irb",function(){try{var u=q("return"),d=this,k=M;return U(X,"IRB").$ensure_loaded("opal-replutils"),k=U(U(X,"IRB"),"Silencer").$new(),G(U(X,"IRB"),"prepare_console",[],function h(){var c=h.$$s==null?this:h.$$s;return function(){try{var l=q("break");return G(c,"loop",[],function E(){var B=E.$$s==null?this:E.$$s,_=M,s=M,$=M,t=M,e=M;B.$print(">> "),_=B.$gets(),w(_)||l.$throw(M,E.$$is_lambda),s="",w(U(X,"IRB")["$browser?"]())&&B.$puts(_),w(_["$start_with?"]("ls "))?(s=_["$[]"](re(3,-1,!1)),$="ls"):J(_,`ls
`)?(s="self",$="ls"):w(_["$start_with?"]("show "))?(s=_["$[]"](re(5,-1,!1)),$="show"):(s=_,$="inspect"),t=M;do{try{G(k,"silence",[],function(){return t=n.compile(s,{irb:!0})})}catch(r){if(n.rescue(r,[x("SyntaxError")])){e=r;try{if(w(U(U(X,"IRB"),"LINEBREAKS")["$include?"](e.$message()))){B.$print(".. "),_=B.$gets(),w(_)||u.$throw(M,E.$$is_lambda),w(U(X,"IRB")["$browser?"]())&&B.$puts(_),s=m(s,_);continue}else w(k.$warnings()["$empty?"]())?B.$warn(e.$full_message()):B.$warn(k.$warnings())}finally{n.pop_exception(r)}}else throw r}break}while(!0);return J($,"show")&&(B.$puts(t),u.$throw(M,E.$$is_lambda)),B.$puts(U("REPLUtils").$eval_and_print(t,$,!1,B))},{$$s:c,$$ret:u})}catch(E){if(E===l)return E.$v;throw E}finally{l.is_orphan=!0}}()},{$$s:d})}catch(h){if(h===u)return h.$v;throw h}finally{u.is_orphan=!0}})}("::",null,p),n.irb=function(S){U("Binding").$new(S).$irb()},n.load_parser=function(){n.Opal.IRB.$ensure_loaded("opal-parser")},typeof n.eval>"u"&&(n.eval=function(S){return n.load_parser(),n.eval(S)}),typeof n.compile>"u"&&(n.compile=function(S,F){return n.load_parser(),n.compile(S,F)})};Opal.modules.opal=function(n){var A=n.Object;return n.nil,n.add_stubs("require,autoload"),A.$require("opal/base"),A.$require("opal/mini"),A.$require("corelib/kernel/format"),A.$require("corelib/string/encoding"),A.$autoload("Math","corelib/math"),A.$require("corelib/complex/base"),A.$autoload("Complex","corelib/complex"),A.$require("corelib/rational/base"),A.$autoload("Rational","corelib/rational"),A.$require("corelib/time"),A.$autoload("Struct","corelib/struct"),A.$autoload("Set","corelib/set"),A.$autoload("Dir","corelib/dir"),A.$autoload("File","corelib/file"),A.$require("corelib/process/base"),A.$autoload("Process","corelib/process"),A.$autoload("Random","corelib/random"),A.$require("corelib/unsupported"),A.$require("corelib/binding"),A.$require("corelib/irb")};Opal.modules["js/proxy"]=function(n){var A=n.module,w=n.truthy,K=n.def,I=n.klass,ee=n.const_set,Z=n.slice,T=n.range,G=n.send,m=n.to_a,P=n.gvars,ie=n.top,W=[],X=n.nil;return n.add_stubs("require,new,to_n,to_rb_name,include,attr_accessor,Native,to_js_name,end_with?,existing_property?,raise,[],[]=,first,native,dup,call,class,<<,wrap_result,respond_to?,enum_for,length,each,private,join,with_index,map,split,to_s,include?,downcase,gsub,upcase,zero?,capitalize,sub,native="),ie.$require("opal"),ie.$require("native"),function(re,J){var q=A(re,"JS"),p=[q].concat(J),M=n.$r(p);return function(U,S){var F=A(U,"Helpers"),v=[F].concat(S),z=n.$r(v);return K(F,"$wrap_result",function(x){return w(x&&typeof x.then=="function")?z("Promise").$new(x):w(typeof x=="object"&&x!==null)?z("Proxy").$new(x):x}),K(F,"$native_methods",function(){var x=this,y=X;return x.native_methods==null&&(x.native_methods=X),x.native_methods=function(){if(w(y=x.native_methods))return y;{let u=x.$to_n();const d=new Set;for(;u!==null;){for(const k of Reflect.ownKeys(u)){const h=k.toString(),c=x.$to_rb_name(h);typeof k!="symbol"&&h!==c&&d.add(c),d.add(h)}u=Object.getPrototypeOf(u)}return Array.from(d)}}()})}(p[0],p),function(U,S,F){var v=I(U,S,"Proxy"),z=[v].concat(F),C=n.$r(z);return v.$include(C("Enumerable")),v.$include(C("Helpers")),v.$attr_accessor("native"),ee(z[0],"IRREGULARS",["html","url","uri"]),K(v,"$initialize",function(y){var u=this;return u.native=u.$Native(y)}),K(v,"$method_missing",function x(y,u){var d=x.$$p||X,k,h,c,l=this,E=X,B=X,_=X,s=X,$=X,t=X;return x.$$p=null,k=Z(arguments,1),h=k,E=l.$to_js_name(y),w(l["$existing_property?"](E))||w(E["$end_with?"]("="))||l.$raise(C("NoMethodError"),"undefined method `"+y+"` for "+l),w(E["$end_with?"]("="))?(B=E["$[]"](T(0,-2,!1)),c=[B,h.$first()],G(l.$native(),"[]=",c),c[c.length-1]):(_=l.$native()["$[]"](E),w(typeof _=="function")?(s=h.$dup(),w(d)&&($=function(){let e=Array.prototype.slice.call(arguments);return G(d,"call",[l.$class().$new(this)].concat(m(e)))},s["$<<"]($)),t=_.apply(l.$to_n(),s.$to_n()),l.$wrap_result(t)):w(typeof _=="object"&&_!==null)?l.$wrap_result(_):_)},-2),K(v,"$to_str",function(){var y=this;return y.$to_n().toString()}),K(v,"$respond_to_missing?",function(y,u){return!0},-2),K(v,"$each",function x(){var y=x.$$p||X,u=this,d=X;return x.$$p=null,w(u["$respond_to?"]("length"))?(d=u.$length(),G(n.Range.$new(0,d,!0),"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=X),n.yield1(y,c["$[]"](h))},{$$s:u})):u.$enum_for("each")}),K(v,"$[]",function(y){var u=this,d=X;return d=u.$native()["$[]"](y),u.$wrap_result(d)}),K(v,"$[]=",function(y,u){var d=this;return d.$native()["$[]="](y,u),d.$wrap_result(d.$native())}),K(v,"$to_n",function(){var y=this;return y.$native().$to_n()}),K(v,"$length",function(){var y=this;return y.$native().$length()}),v.$private(),K(v,"$to_js_name",function(y){return G(y.$to_s().$split("_").$map(),"with_index",[],function(d,k){return d==null&&(d=X),k==null&&(k=X),w(C("IRREGULARS")["$include?"](d.$gsub("=","").$downcase()))?d.$upcase():w(k["$zero?"]())?d:d.$capitalize()}).$join()}),K(v,"$to_rb_name",function(y){return G(y.$to_s(),"gsub",[/([A-Z]+)/],function(){var d;return"_"+((d=P["~"])===X?X:d["$[]"](1)).$downcase()}).$sub(/^_/,"")}),K(v,"$existing_property?",function(y){var u=this;return y in u.$to_n()})}(p[0],null,p),function(U,S,F){var v=I(U,S,"Promise"),z=[v].concat(F),C=n.$r(z);return v.$include(C("Helpers")),K(v,"$then",function x(){var y=x.$$p||X,u,d=this,k=X;return x.$$p=null,k=function(h){var c=y.$call(d.$wrap_result(h));return c&&typeof c.then=="function"?c:c&&typeof c.to_n=="function"?c.to_n():c},u=[d.$to_n().then(k)],G(d,"native=",u),u[u.length-1]}),K(v,"$catch",function x(){var y=x.$$p||X,u,d=this,k=X;return x.$$p=null,k=function(h){var c=y.$call(d.$wrap_result(h));return c&&typeof c.then=="function"?c:c&&typeof c.to_n=="function"?c.to_n():c},u=[d.$to_n().catch(k)],G(d,"native=",u),u[u.length-1]})}(p[0],M("Proxy"),p)}(W[0],W)};Opal.modules["opal_stimulus/stimulus_controller"]=function(n){var A=n.klass,w=n.const_set,K=n.Opal,I=n.defs,ee=n.truthy,Z=n.send,T=n.gvars,G=n.return_val,m=n.thrower,P=n.rb_plus,ie=n.eqeqeq,W=n.def,X=n.top,re=[],J=n.nil,q=n.$$$;return n.add_stubs("require,bridge,stimulus_controller,downcase,gsub,name,include?,sub,to_s,each,subclasses,define_method,stimulus_name,to_ruby_name,+,new,map,capitalize,===,raise,[]=,to_n,Native,==,window,document"),X.$require("opal"),X.$require("native"),X.$require("js/proxy"),function(p,M,U){var S=A(p,M,"StimulusController"),F=[S].concat(U),v=n.$r(F),z=S.$$prototype;return z.window=z.document=J,w(F[0],"DEFAULT_METHODS",["initialize","connect","disconnect","dispatch"]),w(F[0],"DEFAULT_GETTERS",["element"]),I(S,"$inherited",function(x){return K.$bridge(x.$stimulus_controller(),x)}),I(S,"$stimulus_controller",function(){var x=this;return x.stimulus_controller==null&&(x.stimulus_controller=J),ee(x.stimulus_controller)||(x.stimulus_controller=class extends Controller{}),x.stimulus_controller}),I(S,"$stimulus_name",function(){var x=this;return x.$name().$gsub(/Controller$/,"").$gsub(/([a-z])([A-Z])/,"\\1-\\2").$gsub("::","--").$downcase()}),I(S,"$method_added",function(x){var y=this;if(ee(v("DEFAULT_GETTERS")["$include?"](x)))return J;y.$stimulus_controller().prototype[x]=function(...u){try{var d=u.map(function(k){return k&&typeof k=="object"&&!k.$$class?n.JS.Proxy.$new(k):k});return this["$"+x].apply(this,d)}catch(k){console.error("Uncaught",k)}}}),I(S,"$to_ruby_name",function(x){return Z(x.$to_s(),"gsub",[/([A-Z]+)/],function(){var u;return"_"+((u=T["~"])===J?J:u["$[]"](1)).$downcase()}).$sub(/^_/,"")}),I(S,"$register_all!",function(){try{var x=m("return"),y=this;return Z(y.$subclasses(),"each",[],function u(d){return d==null&&(d=J),Z(d,"define_method",["dummy"],G(J)),ee(application.controllers["$include?"](d.$stimulus_name()))&&x.$throw(J,u.$$is_lambda),application.register(d.$stimulus_name(),d.$stimulus_controller())},{$$ret:x})}catch(u){if(u===x)return u.$v;throw u}finally{x.is_orphan=!0}}),I(S,"$targets=",function(x){var y=this;return x==null&&(x=[]),y.$stimulus_controller().targets=x,Z(x,"each",[],function u(d){var k=u.$$s==null?this:u.$$s,h=J,c=J,l=J,E=J,B=J,_=J;d==null&&(d=J),h=d.$to_s(),c=k.$to_ruby_name(d),Z(k,"define_method",[P(c,"_target")],function(){return q(v("JS"),"Proxy").$new(this[P(h,"Target")])}),Z(k,"define_method",[P(c,"_targets")],function(){return Z(this[P(h,"Targets")],"map",[],function(t){return t==null&&(t=J),q(v("JS"),"Proxy").$new(t)})}),Z(k,"define_method",[P(P("has_",c),"_target")],function(){return this[P(P("has",h.$capitalize()),"Target")]}),l=P(c,"_target_connected"),E=P(h,"TargetConnected"),k.$stimulus_controller().prototype[E]=function(){if(this["$respond_to?"]&&this["$respond_to?"](l))return this["$"+l]()},B=P(c,"_target_disconnected"),_=P(h,"TargetDisconnected"),k.$stimulus_controller().prototype[_]=function(){if(this["$respond_to?"]&&this["$respond_to?"](B))return this["$"+B]()}},{$$s:y})},-1),I(S,"$outlets=",function(x){var y=this;return x==null&&(x=[]),y.$stimulus_controller().outlets=x,Z(x,"each",[],function u(d){var k=u.$$s==null?this:u.$$s,h=J,c=J,l=J,E=J,B=J,_=J;d==null&&(d=J),h=d.$to_s(),c=k.$to_ruby_name(d),Z(k,"define_method",[P(c,"_outlet")],function(){return this[P(h,"Outlet")]}),Z(k,"define_method",[P(c,"_outlets")],function(){return this[P(h,"Outlets")]}),Z(k,"define_method",[P(P("has_",c),"_outlet")],function(){return this[P(P("has",h.$capitalize()),"Outlet")]}),l=P(c,"_outlet_connected"),E=P(h,"OutletConnected"),k.$stimulus_controller().prototype[E]=function(){if(this["$respond_to?"]&&this["$respond_to?"](l))return this["$"+l]()},B=P(c,"_outlet_disconnected"),_=P(h,"OutletDisconnected"),k.$stimulus_controller().prototype[_]=function(){if(this["$respond_to?"]&&this["$respond_to?"](B))return this["$"+B]()}},{$$s:y})},-1),I(S,"$values=",function(x){var y=this,u=J;return x==null&&(x=new Map),u=new Map,Z(x,"each",[],function d(k,h){var c=d.$$s==null?this:d.$$s,l=J,E=J,B=J,_=J;k==null&&(k=J),h==null&&(h=J),k=c.$to_ruby_name(k),l=ie("string",E=h)?String:ie("number",E)?Number:ie("boolean",E)?Boolean:ie("array",E)?Array:ie("object",E)?Object:c.$raise(v("ArgumentError"),"Unsupported value type: "+h+", please use :string, :number, :boolean, :array, or :object"),u["$[]="](k,l),c.$stimulus_controller().values=u.$to_n(),Z(c,"define_method",[P(k,"_value")],function s(){var $=s.$$s==null?this:s.$$s;return $.$Native(this[P(k,"Value")])},{$$s:c}),Z(c,"define_method",[P(k,"_value=")],function s($){var t=s.$$s==null?this:s.$$s;return $==null&&($=J),t.$Native(this[P(k,"Value")]=$)},{$$s:c}),Z(c,"define_method",["has_"+k],function(){return this[P(P("has",k.$to_s().$capitalize()),"Value")]}),B=""+k+"_value_changed",_=""+k+"ValueChanged",c.$stimulus_controller().prototype[_]=function(s,$){if(h["$=="]("object")&&(s=JSON.stringify(s),$=JSON.stringify($)),this["$respond_to?"]&&this["$respond_to?"](B))return this["$"+B](s,$)}},{$$s:y})},-1),I(S,"$classes=",function(x){var y=this;return x==null&&(x=[]),y.$stimulus_controller().classes=x,Z(x,"each",[],function u(d){var k=u.$$s==null?this:u.$$s,h=J,c=J;return d==null&&(d=J),h=d.$to_s(),c=k.$to_ruby_name(d),Z(k,"define_method",[""+c+"_class"],function(){return this[P(h,"Class")]}),Z(k,"define_method",[""+c+"_classes"],function(){return this[P(h,"Classes")]}),Z(k,"define_method",["has_"+c+"_class"],function(){return this[P(P("has",h.$capitalize()),"Class")]})},{$$s:y})},-1),W(S,"$element",function(){return q(v("JS"),"Proxy").$new(this.element)}),W(S,"$window",function(){var x=this,y=J;return T.$==null&&(T.$=J),x.window=ee(y=x.window)?y:q(v("JS"),"Proxy").$new(T.$.$window())}),W(S,"$document",function(){var x=this,y=J;return T.$==null&&(T.$=J),x.document=ee(y=x.document)?y:q(v("JS"),"Proxy").$new(T.$.$document())})}(re[0],Controller,re)};Opal.modules["opal_vite/concerns/v1/stimulus_helpers"]=function(n){var A=n.module,w=n.def,K=n.truthy,I=n.eqeq,ee=n.send,Z=n.slice,T=n.ensure_kwargs,G=n.get_kwarg,m=n.hash_get,P=n.rb_plus,ie=n.rb_minus,W=n.to_a,X=n.range,re=n.const_set,J=[],q=n.$r(J),p=n.nil,M=n.$$$;return n.add_stubs("camelize,has_target?,target_set_value,target_set_html,set_target_style,get_target_style,==,show_target,hide_target,call,body_style,to_n,storage_get,is_a?,parse_int,event_data,to_native_element,Native,map,to_a,js_timestamp,is_nan?,parse_float,to_s,empty?,respond_to?,fetch_json_promise,fetch_json_safe,js_then,js_catch,console_error,set_stimulus_value,+,stimulus_value,-,!,get_class,get_classes,has_outlet?,get_outlet,js_call_on,each,get_outlets,nil?,stimulus_dispatch,action_param,private,include?,upcase,[],downcase,split,join,to_proc,first"),function(U,S){var F=A(U,"OpalVite"),v=[F].concat(S);return function(z,C){var x=A(z,"Concerns"),y=[x].concat(C);return function(u,d){var k=A(u,"V1"),h=[k].concat(d);return function(c,l){var E=A(c,"StimulusHelpers"),B=[E].concat(l),_=n.$r(B);return w(E,"$has_target?",function($){var t=this,e=p;return e="has"+t.$camelize($)+"Target",this[e]}),w(E,"$get_target",function($){var t=this,e=p;return K(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e]):p}),w(E,"$get_targets",function($){var t=this,e=p;return e=""+t.$camelize($,!1)+"Targets",Array.from(this[e]||[])}),w(E,"$target_value",function($){var t=this,e=p;return K(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].value):p}),w(E,"$target_set_value",function($,t){var e=this,r=p;return K(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].value=t):p}),w(E,"$target_html",function($){var t=this,e=p;return K(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].innerHTML):p}),w(E,"$target_set_html",function($,t){var e=this,r=p;return K(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].innerHTML=t):p}),w(E,"$target_text",function($){var t=this,e=p;return K(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].textContent):p}),w(E,"$target_set_text",function($,t){var e=this,r=p;return K(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].textContent=t):p}),w(E,"$target_data",function($,t){var e=this,r=p;return K(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].getAttribute("data-"+t)):p}),w(E,"$target_set_data",function($,t,e){var r=this,i=p;return K(r["$has_target?"]($))?(i=""+r.$camelize($,!1)+"Target",this[i].setAttribute("data-"+t,e)):p}),w(E,"$target_clear",function($){var t=this;return t.$target_set_value($,"")}),w(E,"$target_clear_html",function($){var t=this;return t.$target_set_html($,"")}),w(E,"$set_target_style",function($,t,e){var r=this,i=p;return K(r["$has_target?"]($))?(i=""+r.$camelize($,!1)+"Target",this[i].style[t]=e):p}),w(E,"$get_target_style",function($,t){var e=this,r=p;return K(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].style[t]):p}),w(E,"$show_target",function($){var t=this;return t.$set_target_style($,"display","")}),w(E,"$hide_target",function($){var t=this;return t.$set_target_style($,"display","none")}),w(E,"$toggle_target_visibility",function($){var t=this,e=p;return e=t.$get_target_style($,"display"),I(e,"none")?t.$show_target($):t.$hide_target($)}),w(E,"$add_target_class",function($,t){var e=this,r=p;return K(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.add(t)):p}),w(E,"$remove_target_class",function($,t){var e=this,r=p;return K(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.remove(t)):p}),w(E,"$toggle_target_class",function($,t){var e=this,r=p;return K(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.toggle(t)):p}),w(E,"$has_target_class?",function($,t){var e=this,r=p;return K(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.contains(t)):!1}),w(E,"$js_timestamp",function(){return Date.now()}),w(E,"$js_iso_date",function(){return new Date().toISOString()}),w(E,"$js_date",function($){return $==null&&($=p),K($)?new Date($):new Date},-1),w(E,"$js_regexp",function($,t){return t==null&&(t=""),new RegExp($,t)},-2),w(E,"$js_regexp_test",function($,t,e){return e==null&&(e=""),new RegExp($,e).test(t)},-3),w(E,"$set_timeout",function s($){var t=s.$$p||p;return s.$$p=null,setTimeout(function(){t.$call()},$)}),w(E,"$set_interval",function s($){var t=s.$$p||p;return s.$$p=null,setInterval(function(){t.$call()},$)}),w(E,"$clear_timeout",function($){return clearTimeout($)}),w(E,"$clear_interval",function($){return clearInterval($)}),w(E,"$body_style",function($,t){return document.body.style[$]=t}),w(E,"$lock_body_scroll",function(){var $=this;return $.$body_style("overflow","hidden")}),w(E,"$unlock_body_scroll",function(){var $=this;return $.$body_style("overflow","")}),w(E,"$js_array",function(){return[]}),w(E,"$js_array_push",function($,t){return $.push(t.$to_n())}),w(E,"$js_array_length",function($){return $.length}),w(E,"$js_array_at",function($,t){return $[t]}),w(E,"$storage_get",function($){return localStorage.getItem($)}),w(E,"$storage_set",function($,t){return localStorage.setItem($,t)}),w(E,"$storage_remove",function($){return localStorage.removeItem($)}),w(E,"$storage_get_json",function($,t){var e=this,r=p;return t==null&&(t=p),r=e.$storage_get($),K(r===null)?t:JSON.parse(r)},-2),w(E,"$storage_set_json",function($,t){return localStorage.setItem($,JSON.stringify(t.$to_n()))}),w(E,"$dispatch_window_event",function($,t){var e=p;t==null&&(t=new Map),e=K(t["$is_a?"](_("Hash")))?t.$to_n():t;const r=new CustomEvent($,{detail:e});window.dispatchEvent(r)},-2),w(E,"$dispatch_event",function($,t){var e=p;t==null&&(t=new Map),e=K(t["$is_a?"](_("Hash")))?t.$to_n():t;const r=new CustomEvent($,{detail:e});this.element.dispatchEvent(r)},-2),w(E,"$on_window_event",function s($){var t=s.$$p||p;return s.$$p=null,window.addEventListener($,t)}),w(E,"$off_window_event",function($,t){return window.removeEventListener($,t)}),w(E,"$on_document_event",function s($){var t=s.$$p||p;return s.$$p=null,document.addEventListener($,t)}),w(E,"$on_dom_ready",function s(){var $=s.$$p||p;return s.$$p=null,document.addEventListener("DOMContentLoaded",$)}),w(E,"$on_element_event",function s($,t){var e=s.$$p||p;return s.$$p=null,$.addEventListener(t,e)}),w(E,"$off_element_event",function($,t,e){return $.removeEventListener(t,e)}),w(E,"$on_controller_event",function s($){var t=s.$$p||p;return s.$$p=null,this.element.addEventListener($,t)}),w(E,"$event_target",function(){return event.currentTarget}),w(E,"$event_data",function($){return event.currentTarget.getAttribute("data-"+$)}),w(E,"$event_data_int",function($){var t=this;return t.$parse_int(t.$event_data($))}),w(E,"$prevent_default",function(){return event.preventDefault()}),w(E,"$event_key",function(){return event.key}),w(E,"$to_native_element",function($){return K(typeof $.$to_n=="function")?$.$to_n():$}),w(E,"$add_class",function($,t){var e=this,r=p;return r=e.$to_native_element($),r.classList.add(t)}),w(E,"$remove_class",function($,t){var e=this,r=p;return r=e.$to_native_element($),r.classList.remove(t)}),w(E,"$toggle_class",function($,t){var e=this,r=p;return r=e.$to_native_element($),r.classList.toggle(t)}),w(E,"$has_class?",function($,t){var e=this,r=p;return r=e.$to_native_element($),r.classList.contains(t)}),w(E,"$set_attr",function($,t,e){var r=this,i=p;return i=r.$to_native_element($),i.setAttribute(t,e)}),w(E,"$get_attr",function($,t){var e=this,r=p;return r=e.$to_native_element($),r.getAttribute(t)}),w(E,"$remove_attr",function($,t){var e=this,r=p;return r=e.$to_native_element($),r.removeAttribute(t)}),w(E,"$set_style",function($,t,e){var r=this,i=p;return i=r.$to_native_element($),i.style[t]=e}),w(E,"$set_html",function($,t){var e=this,r=p;return r=e.$to_native_element($),r.innerHTML=t}),w(E,"$set_text",function($,t){var e=this,r=p;return r=e.$to_native_element($),r.textContent=t}),w(E,"$get_value",function($){var t=this,e=p;return e=t.$to_native_element($),e.value}),w(E,"$set_value",function($,t){var e=this,r=p;return r=e.$to_native_element($),r.value=t}),w(E,"$focus",function($){var t=this,e=p;return e=t.$to_native_element($),e.focus()}),w(E,"$has_attr?",function($,t){var e=this,r=p;return r=e.$to_native_element($),r.hasAttribute(t)}),w(E,"$create_element",function($){return document.createElement($)}),w(E,"$append_child",function($,t){var e=this,r=p,i=p;return r=e.$to_native_element($),i=e.$to_native_element(t),r.appendChild(i)}),w(E,"$remove_element",function($){var t=this,e=p;return e=t.$to_native_element($),e.remove()}),w(E,"$next_sibling",function($){var t=this,e=p;return e=t.$to_native_element($),e.nextElementSibling}),w(E,"$prev_sibling",function($){var t=this,e=p;return e=t.$to_native_element($),e.previousElementSibling}),w(E,"$parent",function($){var t=this,e=p;return e=t.$to_native_element($),e.parentElement}),w(E,"$query",function($){var t=this,e=p;return e=document.querySelector($),K(e===null)?p:t.$Native(e)}),w(E,"$query_all",function($){var t=this,e=p;return e=Array.from(document.querySelectorAll($)),ee(t.$Native(e).$to_a(),"map",[],function r(i){var a=r.$$s==null?this:r.$$s;return i==null&&(i=p),a.$Native(i)},{$$s:t})}),w(E,"$query_element",function($){var t=this,e=p;return e=this.element.querySelector($),K(e===null)?p:t.$Native(e)}),w(E,"$query_all_element",function($){var t=this,e=p;return e=Array.from(this.element.querySelectorAll($)),ee(t.$Native(e).$to_a(),"map",[],function r(i){var a=r.$$s==null?this:r.$$s;return i==null&&(i=p),a.$Native(i)},{$$s:t})}),w(E,"$doc_root",function(){return document.documentElement}),w(E,"$set_root_attr",function($,t){return document.documentElement.setAttribute($,t)}),w(E,"$get_root_attr",function($){return document.documentElement.getAttribute($)}),w(E,"$clone_template",function($){var t=this,e=p;return e=""+t.$camelize($,!1)+"Target",this[e].content.cloneNode(!0)}),w(E,"$template_first_child",function($){return $.firstElementChild}),w(E,"$element_add_class",function($){return this.element.classList.add($)}),w(E,"$element_remove_class",function($){return this.element.classList.remove($)}),w(E,"$element_toggle_class",function($){return this.element.classList.toggle($)}),w(E,"$generate_id",function(){var $=this;return $.$js_timestamp()}),w(E,"$target_focus",function($){var t=this,e=p;return K(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].focus()):p}),w(E,"$target_blur",function($){var t=this,e=p;return K(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].blur()):p}),w(E,"$parse_int",function($,t){return t==null&&(t=10),parseInt($,t)},-2),w(E,"$parse_float",function($){return parseFloat($)}),w(E,"$is_nan?",function($){return Number.isNaN($)}),w(E,"$parse_int_or",function($,t){var e=this,r=p;return t==null&&(t=0),r=e.$parse_int($),K(e["$is_nan?"](r))?t:r},-2),w(E,"$parse_float_or",function($,t){var e=this,r=p;return t==null&&(t=0),r=e.$parse_float($),K(e["$is_nan?"](r))?t:r},-2),w(E,"$js_prop",function($){return this[$.$to_s()]}),w(E,"$js_set_prop",function($,t){return this[$.$to_s()]=t}),w(E,"$js_has_prop?",function($){return!!this[$.$to_s()]}),w(E,"$js_call",function($,t){var e,r,i=p;return e=Z(arguments,1),r=e,K(r["$empty?"]())?this[$.$to_s()]():(i=ee(r,"map",[],function(o){return o==null&&(o=p),K(o["$respond_to?"]("to_n"))?o.$to_n():o}),this[$.$to_s()].apply(this,i))},-2),w(E,"$js_call_on",function($,t,e){var r,i,a=p;return r=Z(arguments,2),i=r,K(i["$empty?"]())?$[t.$to_s()]():(a=ee(i,"map",[],function(g){return g==null&&(g=p),K(g["$respond_to?"]("to_n"))?g.$to_n():g}),$[t.$to_s()].apply($,a))},-3),w(E,"$js_get",function($,t){return $[t.$to_s()]}),w(E,"$js_set",function($,t,e){return $[t.$to_s()]=e}),w(E,"$json_parse",function($){return JSON.parse($)}),w(E,"$json_stringify",function($){var t=p;return t=K($["$respond_to?"]("to_n"))?$.$to_n():$,JSON.stringify(t)}),w(E,"$console_log",function($){var t,e;return t=Z(arguments),e=t,console.log.apply(console,e)},-1),w(E,"$console_warn",function($){var t,e;return t=Z(arguments),e=t,console.warn.apply(console,e)},-1),w(E,"$console_error",function($){var t,e;return t=Z(arguments),e=t,console.error.apply(console,e)},-1),w(E,"$js_string_char_at",function($,t){return $.charAt(t)}),w(E,"$js_substring",function($,t,e){return e==null&&(e=p),K(e)?$.substring(t,e):$.substring(t)},-3),w(E,"$js_split",function($,t){return $.split(t)}),w(E,"$js_trim",function($){return $.trim()}),w(E,"$js_includes?",function($,t){return $.includes(t)}),w(E,"$js_equals?",function($,t){return $===t}),w(E,"$js_loose_equals?",function($,t){return $==t}),w(E,"$js_random",function(){return Math.random()}),w(E,"$js_min",function($,t){return Math.min($,t)}),w(E,"$js_max",function($,t){return Math.max($,t)}),w(E,"$js_abs",function($){return Math.abs($)}),w(E,"$js_round",function($){return Math.round($)}),w(E,"$js_ceil",function($){return Math.ceil($)}),w(E,"$js_to_fixed",function($,t){return $.toFixed(t)}),w(E,"$random_int",function($){return Math.floor(Math.random()*$)}),w(E,"$js_floor",function($){return Math.floor($)}),w(E,"$js_global_exists?",function($){return typeof window[$]<"u"}),w(E,"$js_global",function($){return window[$]}),w(E,"$js_new",function($,t){var e,r,i=p;return e=Z(arguments,1),r=e,K(r["$empty?"]())?new $:(i=ee(r,"map",[],function(o){return o==null&&(o=p),o!=null&&typeof o.$to_n=="function"?o.$to_n():o}),Reflect.construct($,i))},-2),w(E,"$js_define_method",function s($){var t=s.$$p||p;return s.$$p=null,this[$.$to_s()]=t}),w(E,"$js_define_method_on",function s($,t){var e=s.$$p||p;return s.$$p=null,$[t.$to_s()]=e}),w(E,"$js_length",function($){return $.length}),w(E,"$js_map",function s($){var t=s.$$p||p;return s.$$p=null,$.map(t)}),w(E,"$js_filter",function s($){var t=s.$$p||p;return s.$$p=null,$.filter(t)}),w(E,"$js_reduce",function s($,t){var e=s.$$p||p;return s.$$p=null,$.reduce(e,t)}),w(E,"$js_each",function s($){var t=s.$$p||p;return s.$$p=null,$.forEach(t)}),w(E,"$js_slice",function($,t,e){return e==null&&(e=p),K(e)?$.slice(t,e):$.slice(t)},-3),w(E,"$js_object",function(){return{}}),w(E,"$js_keys",function($){return Object.keys($)}),w(E,"$js_values",function($){return Object.values($)}),w(E,"$js_entries",function($){return Object.entries($)}),w(E,"$js_unique_count",function($){return new Set($).size}),w(E,"$js_fetch",function($){return fetch($)}),w(E,"$fetch_json",function s($){var t=s.$$p||p;s.$$p=null,fetch($).then(e=>e.json()).then(e=>t.$call(e)).catch(e=>console.error("Fetch error:",e))}),w(E,"$fetch_json_promise",function($){return fetch($).then(t=>t.json())}),w(E,"$fetch_json_safe",function($){return fetch($).then(function(t){if(!t.ok)throw new Error("Network response was not ok: "+t.status);return t.json()})}),w(E,"$fetch_all_json",function($){var t=this,e=p;return e=ee($,"map",[],function r(i){var a=r.$$s==null?this:r.$$s;return i==null&&(i=p),a.$fetch_json_promise(i)},{$$s:t}),Promise.all(e)}),w(E,"$fetch_json_with_handlers",function($,t){var e,r,i=this,a=p;return t=T(t),e=G(t,"on_success"),r=m(t,"on_error"),r==null&&(r=p),a=i.$fetch_json_safe($),a=ee(i,"js_then",[a],function(g){return g==null&&(g=p),e.$call(g)}),K(r)?ee(i,"js_catch",[a],function(g){return g==null&&(g=p),r.$call(g)}):ee(i,"js_catch",[a],function o(g){var N=o.$$s==null?this:o.$$s;return g==null&&(g=p),N.$console_error("Fetch error:",g)},{$$s:i})}),w(E,"$promise_all",function($){return Promise.all($)}),w(E,"$promise_race",function($){return Promise.race($)}),w(E,"$promise_resolve",function($){var t=p;return t=K($["$respond_to?"]("to_n"))?$.$to_n():$,Promise.resolve(t)}),w(E,"$promise_reject",function($){return Promise.reject($)}),w(E,"$js_then",function s($){var t=s.$$p||p;return s.$$p=null,$.then(t)}),w(E,"$js_catch",function s($){var t=s.$$p||p;return s.$$p=null,$.catch(t)}),w(E,"$js_finally",function s($){var t=s.$$p||p;return s.$$p=null,$.finally(t)}),w(E,"$stimulus_value",function($){var t=this,e=p;return e=""+t.$camelize($,!1)+"Value",this[e]}),w(E,"$set_stimulus_value",function($,t){var e=this,r=p,i=p;return r=""+e.$camelize($,!1)+"Value",i=K(t["$respond_to?"]("to_n"))?t.$to_n():t,this[r]=i}),w(E,"$has_stimulus_value?",function($){var t=this,e=p;return e="has"+t.$camelize($)+"Value",this[e]}),w(E,"$increment_stimulus_value",function($,t){var e=this;return t==null&&(t=1),e.$set_stimulus_value($,P(e.$stimulus_value($),t))},-2),w(E,"$decrement_stimulus_value",function($,t){var e=this;return t==null&&(t=1),e.$set_stimulus_value($,ie(e.$stimulus_value($),t))},-2),w(E,"$toggle_stimulus_value",function($){var t=this;return t.$set_stimulus_value($,t.$stimulus_value($)["$!"]())}),w(E,"$get_class",function($){var t=this,e=p;return e=""+t.$camelize($,!1)+"Class",this[e]}),w(E,"$get_classes",function($){var t=this,e=p;return e=""+t.$camelize($,!1)+"Classes",Array.from(this[e]||[])}),w(E,"$has_class_definition?",function($){var t=this,e=p;return e="has"+t.$camelize($)+"Class",this[e]}),w(E,"$apply_class",function($,t){var e=this,r=p,i=p;return r=e.$to_native_element($),i=e.$get_class(t),K(i)?r.classList.add(i):p}),w(E,"$apply_classes",function($,t){var e=this,r=p,i=p;return r=e.$to_native_element($),i=e.$get_classes(t),K(i)?r.classList.add(...i):p}),w(E,"$remove_applied_class",function($,t){var e=this,r=p,i=p;return r=e.$to_native_element($),i=e.$get_class(t),K(i)?r.classList.remove(i):p}),w(E,"$remove_applied_classes",function($,t){var e=this,r=p,i=p;return r=e.$to_native_element($),i=e.$get_classes(t),K(i)?r.classList.remove(...i):p}),w(E,"$has_outlet?",function($){var t=this,e=p;return e="has"+t.$camelize($)+"Outlet",this[e]}),w(E,"$get_outlet",function($){var t=this,e=p;return e=""+t.$camelize($,!1)+"Outlet",this[e]}),w(E,"$get_outlets",function($){var t=this,e=p;return e=""+t.$camelize($,!1)+"Outlets",Array.from(this[e]||[])}),w(E,"$get_outlet_element",function($){var t=this,e=p;return e=""+t.$camelize($,!1)+"OutletElement",this[e]}),w(E,"$get_outlet_elements",function($){var t=this,e=p;return e=""+t.$camelize($,!1)+"OutletElements",Array.from(this[e]||[])}),w(E,"$call_outlet",function($,t,e){var r,i,a=this,o=p;return r=Z(arguments,2),i=r,K(a["$has_outlet?"]($))?(o=a.$get_outlet($),ee(a,"js_call_on",[o,t].concat(W(i)))):p},-3),w(E,"$call_all_outlets",function($,t,e){var r,i,a=this;return r=Z(arguments,2),i=r,ee(a.$get_outlets($),"each",[],function o(g){var N=o.$$s==null?this:o.$$s;return g==null&&(g=p),ee(N,"js_call_on",[g,t].concat(W(i)))},{$$s:a})},-3),w(E,"$stimulus_dispatch",function($,t){var e,r,i,a,o,g=p,N=p;return t=T(t),e=m(t,"detail"),e==null&&(e=new Map),r=m(t,"target"),r==null&&(r=p),i=m(t,"prefix"),i==null&&(i=p),a=m(t,"bubbles"),a==null&&(a=!0),o=m(t,"cancelable"),o==null&&(o=!0),g=K(e["$respond_to?"]("to_n"))?e.$to_n():e,N={detail:g,bubbles:a,cancelable:o},K(r["$nil?"]())||(N.target=r),K(i["$nil?"]())||(N.prefix=i),this.dispatch($,N)},-2),w(E,"$stimulus_dispatch_confirm",function($,t){var e,r=this,i=p;return t=T(t),e=m(t,"detail"),e==null&&(e=new Map),i=r.$stimulus_dispatch($,new Map([["detail",e],["cancelable",!0]])),!i.defaultPrevented},-2),w(E,"$action_params",function(){return event.params||{}}),w(E,"$action_param",function($){return(event.params||{})[$.$to_s()]}),w(E,"$action_param_int",function($,t){var e=this,r=p,i=p;return t==null&&(t=0),r=e.$action_param($),i=e.$parse_int(r),K(e["$is_nan?"](i))?t:i},-2),w(E,"$action_param_bool",function($){var t=this,e=p;return e=t.$action_param($),!!e&&e!=="false"&&e!=="0"}),w(E,"$has_action_param?",function($){return(event.params||{}).hasOwnProperty($.$to_s())}),w(E,"$this_application",function(){return this.application}),w(E,"$this_identifier",function(){return this.identifier}),w(E,"$this_element",function(){return this.element}),w(E,"$get_controller",function($,t){var e=this,r=p;return r=e.$to_native_element($),this.application.getControllerForElementAndIdentifier(r,t)}),w(E,"$get_controllers",function($,t){var e=this,r=p;r=e.$to_native_element($),Array.from(r.querySelectorAll('[data-controller~="'+t+'"]')).map(i=>this.application.getControllerForElementAndIdentifier(i,t)).filter(i=>i!==null)}),w(E,"$this_scope",function(){return this.scope.element}),w(E,"$in_scope?",function($){var t=this,e=p;return e=t.$to_native_element($),this.element.contains(e)}),E.$private(),w(E,"$camelize",function($,t){var e=p,r=p;return t==null&&(t=!0),e=$.$to_s(),K(e["$include?"]("_"))?(r=e.$split("_"),K(t)?ee(r,"map",[],"capitalize".$to_proc()).$join():P([r.$first()],ee(r["$[]"](X(1,-1,!1)),"map",[],"capitalize".$to_proc())).$join()):K(t)?P(e["$[]"](0).$upcase(),e["$[]"](X(1,-1,!1)).$to_s()):P(e["$[]"](0).$downcase(),e["$[]"](X(1,-1,!1)).$to_s())},-2)}(h[0],h)}(y[0],y)}(v[0],v)}(J[0],J),re(J[0],"StimulusHelpers",M(M(M(q("OpalVite"),"Concerns"),"V1"),"StimulusHelpers"))};Opal.modules["controllers/chart_controller"]=function(n){var A=n.klass,w=n.const_set,K=n.def,I=n.truthy,ee=n.send,Z=[],T=n.$r(Z),G=n.nil;return n.add_stubs("include,targets=,values=,freeze,puts,initialize_chart,js_prop,js_call_on,js_has_prop?,js_call,js_get,js_length,[],%,random_int,private,js_global_exists?,console_error,setup_chart_helpers,parse_chart_data,parse_chart_options,get_target,js_global,js_new,to_n,js_set_prop,setup_chart_event_listener,js_define_method,js_each,js_map,js_set,json_parse,on_window_event"),function(m,P,ie){var W=A(m,P,"ChartController"),X=[W].concat(ie),re=n.$r(X);return W.$include(re("StimulusHelpers")),W["$targets="](["canvas"]),W["$values="](new Map([["type","string"],["data","string"],["options","string"],["event_name","string"]])),w(X[0],"CHART_COLORS",["rgba(102, 126, 234, 0.8)","rgba(118, 75, 162, 0.8)","rgba(237, 100, 166, 0.8)","rgba(255, 159, 64, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)"].$freeze()),w(X[0],"DEFAULT_LABELS",["Jan","Feb","Mar","Apr","May","Jun"].$freeze()),w(X[0],"MONTH_NAMES",["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].$freeze()),K(W,"$connect",function(){var q=this;return q.$puts("Chart controller connected!"),q.$initialize_chart()}),K(W,"$disconnect",function(){var q=this,p=G;return p=q.$js_prop("chart"),I(p)?q.$js_call_on(p,"destroy"):G}),K(W,"$update_chart",function(){var q=this;return I(q["$js_has_prop?"]("chart"))?q.$js_call("randomizeData"):G}),K(W,"$add_data",function(){var q=this,p=G,M=G,U=G,S=G,F=G;return I(q["$js_has_prop?"]("chart"))?(p=q.$js_prop("chart"),M=q.$js_get(q.$js_get(p,"data"),"labels"),U=q.$js_length(M),S=re("MONTH_NAMES")["$[]"](U["$%"](12)),F=[q.$random_int(30),q.$random_int(30)],q.$js_call("addDataPoint",S,F)):G}),K(W,"$remove_data",function(){var q=this;return q.$js_call("removeDataPoint")}),W.$private(),K(W,"$initialize_chart",function(){var q=this,p=G,M=G,U=G,S=G,F=G,v=G,z=G,C=G,x=G;return I(q["$js_global_exists?"]("Chart"))?(q.$setup_chart_helpers(),p=I(M=q.$js_prop("typeValue"))?M:"line",U=q.$parse_chart_data(p),S=q.$parse_chart_options(),F=q.$get_target("canvas"),v=q.$js_call_on(F,"getContext","2d"),z=q.$js_global("Chart"),C=new Map([["type",p],["data",U],["options",S]]),x=q.$js_new(z,v,C.$to_n()),q.$js_set_prop("chart",x),q.$setup_chart_event_listener()):(q.$console_error("Chart.js is not loaded!"),G)}),K(W,"$setup_chart_helpers",function(){var q=this;return ee(q,"js_define_method",["getDefaultData"],function(M){var U=G,S=G;return M==null&&(M=G),U=[12,19,3,5,2,3],S=[2,3,20,5,1,4],I(M==="pie"||M==="doughnut")?new Map([["labels",re("DEFAULT_LABELS")],["datasets",[new Map([["data",U],["backgroundColor",re("CHART_COLORS")]])]]]).$to_n():new Map([["labels",re("DEFAULT_LABELS")],["datasets",[new Map([["label","Dataset 1"],["data",U],["backgroundColor","rgba(102, 126, 234, 0.5)"],["borderColor","rgba(102, 126, 234, 1)"],["borderWidth",2]]),new Map([["label","Dataset 2"],["data",S],["backgroundColor","rgba(118, 75, 162, 0.5)"],["borderColor","rgba(118, 75, 162, 1)"],["borderWidth",2]])]]]).$to_n()}),ee(q,"js_define_method",["getDefaultOptions"],function(){return new Map([["responsive",!0],["maintainAspectRatio",!1],["plugins",new Map([["legend",new Map([["display",!0],["position","top"]])],["title",new Map([["display",!1]])]])]]).$to_n()}),ee(q,"js_define_method",["addDataPoint"],function p(M,U){var S=p.$$s==null?this:p.$$s,F=G,v=G,z=G;return M==null&&(M=G),U==null&&(U=G),F=S.$js_prop("chart"),I(F)?(v=S.$js_get(S.$js_get(F,"data"),"labels"),v.push(M),z=S.$js_get(S.$js_get(F,"data"),"datasets"),ee(S,"js_each",[z],function C(x,y){var u=C.$$s==null?this:C.$$s,d=G,k=G;return x==null&&(x=G),y==null&&(y=G),d=u.$js_get(x,"data"),k=Array.isArray(U)?U[y]:U,d.push(k)},{$$s:S}),S.$js_call_on(F,"update")):G},{$$s:q}),ee(q,"js_define_method",["removeDataPoint"],function p(){var M=p.$$s==null?this:p.$$s,U=G,S=G,F=G;return U=M.$js_prop("chart"),I(U)?(S=M.$js_get(M.$js_get(U,"data"),"labels"),S.pop(),F=M.$js_get(M.$js_get(U,"data"),"datasets"),ee(M,"js_each",[F],function v(z){var C=v.$$s==null?this:v.$$s,x=G;return z==null&&(z=G),x=C.$js_get(z,"data"),x.pop()},{$$s:M}),M.$js_call_on(U,"update")):G},{$$s:q}),ee(q,"js_define_method",["randomizeData"],function p(){var M=p.$$s==null?this:p.$$s,U=G,S=G;return U=M.$js_prop("chart"),I(U)?(S=M.$js_get(M.$js_get(U,"data"),"datasets"),ee(M,"js_each",[S],function F(v){var z=F.$$s==null?this:F.$$s,C=G,x=G;return v==null&&(v=G),C=z.$js_get(v,"data"),x=ee(z,"js_map",[C],function y(){var u=y.$$s==null?this:y.$$s;return u.$random_int(30)},{$$s:z}),z.$js_set(v,"data",x)},{$$s:M}),M.$js_call_on(U,"update")):G},{$$s:q})}),K(W,"$parse_chart_data",function(q){var p=this,M=G;if(M=p.$js_prop("dataValue"),I(M)&&I(M!==""))try{return p.$json_parse(M)}catch(U){if(n.rescue(U,[re("StandardError")]))try{return p.$console_error("Error parsing chart data"),p.$js_call("getDefaultData",q)}finally{n.pop_exception(U)}else throw U}else return p.$js_call("getDefaultData",q)}),K(W,"$parse_chart_options",function(){var q=this,p=G;if(p=q.$js_prop("optionsValue"),I(p)&&I(p!==""))try{return q.$json_parse(p)}catch(M){if(n.rescue(M,[re("StandardError")]))try{return q.$console_error("Error parsing chart options"),q.$js_call("getDefaultOptions")}finally{n.pop_exception(M)}else throw M}else return q.$js_call("getDefaultOptions")}),K(W,"$setup_chart_event_listener",function(){var q=this,p=G,M=G;return p=q.$js_prop("hasEventNameValue"),M=q.$js_prop("eventNameValue"),I(p)&&I(M)?ee(q,"on_window_event",[M],function U(S){var F=U.$$s==null?this:U.$$s,v=G,z=G,C=G,x=G,y=G,u=G,d=G,k=G;return S==null&&(S=G),v=F.$js_prop("chart"),I(v)?(z=S.detail,C=z.labels,x=z.data,y=F.$js_get(v,"data"),F.$js_set(y,"labels",C),u=F.$js_get(F.$js_get(v,"config"),"type"),I(u==="pie"||u==="doughnut")?(d=F.$js_get(y,"datasets"),k=d[0],F.$js_set(k,"data",x)):(d=F.$js_get(y,"datasets"),ee(F,"js_each",[d],function h(c,l){var E=h.$$s==null?this:h.$$s,B=G;return c==null&&(c=G),l==null&&(l=G),B=Array.isArray(x[0])?x[l]:x,E.$js_set(c,"data",B)},{$$s:F})),F.$js_call_on(v,"update","active")):G},{$$s:q}):G})}(Z[0],T("StimulusController"),Z)};Opal.modules["controllers/dashboard_controller"]=function(n){var A=n.klass,w=n.def,K=n.send,I=n.truthy,ee=n.range,Z=n.rb_plus,T=n.rb_divide,G=[],m=n.$r(G),P=n.nil;return n.add_stubs("include,targets=,puts,fetch_data,show_loading,fetch_and_process_data,hide_loading,process_user_data,update_stats,dispatch_window_event,private,fetch_json,call,count_by,js_get,js_keys,js_values,js_slice,map,random_int,js_object,js_each,js_set,+,has_target?,js_length,js_map,js_unique_count,js_reduce,parse_float,js_to_fixed,/,target_set_html,set_target_style,hide_target"),function(ie,W,X){var re=A(ie,W,"DashboardController"),J=[re].concat(X),q=n.$r(J);return re.$include(q("StimulusHelpers")),re["$targets="](["stats","loading"]),w(re,"$connect",function(){var M=this;return M.$puts("Dashboard controller connected!"),M.$fetch_data()}),w(re,"$refresh",function(){var M=this;return M.$show_loading(),K(M,"fetch_and_process_data",[],function U(S){var F=U.$$s==null?this:U.$$s;return S==null&&(S=P),F.$hide_loading(),F.$process_user_data(S),F.$update_stats(S),F.$dispatch_window_event("show-toast",new Map([["message","Dashboard refreshed!"],["type","success"]]))},{$$s:M})}),re.$private(),w(re,"$fetch_data",function(){var M=this;return M.$show_loading(),K(M,"fetch_and_process_data",[],function U(S){var F=U.$$s==null?this:U.$$s;return S==null&&(S=P),F.$hide_loading(),F.$process_user_data(S),F.$update_stats(S)},{$$s:M})}),w(re,"$fetch_and_process_data",function p(){var M=p.$$p||P,U=this;return p.$$p=null,K(U,"fetch_json",["https://jsonplaceholder.typicode.com/users"],function(F){return F==null&&(F=P),I(M)?M.$call(F):P})}),w(re,"$process_user_data",function(M){var U=this,S=P,F=P,v=P;return S=K(U,"count_by",[M],function z(C){var x=z.$$s==null?this:z.$$s;return C==null&&(C=P),x.$js_get(x.$js_get(C,"company"),"name")},{$$s:U}),U.$dispatch_window_event("update-company-chart",new Map([["labels",U.$js_keys(S)],["data",U.$js_values(S)]])),F=K(U,"count_by",[M],function z(C){var x=z.$$s==null?this:z.$$s;return C==null&&(C=P),x.$js_get(x.$js_get(C,"address"),"city")},{$$s:U}),U.$dispatch_window_event("update-city-chart",new Map([["labels",U.$js_slice(U.$js_keys(F),0,6)],["data",U.$js_slice(U.$js_values(F),0,6)]])),v=K(ee(0,7,!0),"map",[],function z(){var C=z.$$s==null?this:z.$$s;return C.$random_int(100)},{$$s:U}),U.$dispatch_window_event("update-activity-chart",new Map([["labels",["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]],["data",v]]))}),w(re,"$count_by",function p(M){var U=p.$$p||P,S=this,F=P;return p.$$p=null,F=S.$js_object(),K(S,"js_each",[M],function v(z){var C=v.$$s==null?this:v.$$s,x=P,y=P,u=P;return z==null&&(z=P),x=U.$call(z),y=I(u=C.$js_get(F,x))?u:0,C.$js_set(F,x,Z(y,1))},{$$s:S}),F}),w(re,"$update_stats",function(M){var U=this,S=P,F=P,v=P,z=P,C=P,x=P,y=P,u=P;return I(U["$has_target?"]("stats"))?(S=U.$js_length(M),F=K(U,"js_map",[M],function d(k){var h=d.$$s==null?this:d.$$s;return k==null&&(k=P),h.$js_get(h.$js_get(k,"company"),"name")},{$$s:U}),v=U.$js_unique_count(F),z=K(U,"js_map",[M],function d(k){var h=d.$$s==null?this:d.$$s;return k==null&&(k=P),h.$js_get(h.$js_get(k,"address"),"city")},{$$s:U}),C=U.$js_unique_count(z),x=K(U,"js_reduce",[M,0],function d(k,h){var c=d.$$s==null?this:d.$$s,l=P;return k==null&&(k=P),h==null&&(h=P),l=c.$js_get(c.$js_get(c.$js_get(h,"address"),"geo"),"lat"),Z(k,c.$parse_float(l))},{$$s:U}),y=U.$js_to_fixed(T(x,S),2),u=`<div class="stat-card">
  <div class="stat-value">`+S+`</div>
  <div class="stat-label">Total Users</div>
</div>
<div class="stat-card">
  <div class="stat-value">`+v+`</div>
  <div class="stat-label">Companies</div>
</div>
<div class="stat-card">
  <div class="stat-value">`+C+`</div>
  <div class="stat-label">Cities</div>
</div>
<div class="stat-card">
  <div class="stat-value">`+y+`</div>
  <div class="stat-label">Avg Latitude</div>
</div>
`,U.$target_set_html("stats",u)):P}),w(re,"$show_loading",function(){var M=this;return I(M["$has_target?"]("loading"))?M.$set_target_style("loading","display","flex"):P}),w(re,"$hide_loading",function(){var M=this;return I(M["$has_target?"]("loading"))?M.$hide_target("loading"):P})}(G[0],m("StimulusController"),G)};Opal.queue(function(n){var A=n.top,w=[],K=n.$r(w);return n.nil,n.add_stubs("require,puts,register_all!"),A.$require("native"),A.$require("opal_stimulus/stimulus_controller"),A.$require("opal_vite/concerns/v1/stimulus_helpers"),A.$require("controllers/chart_controller"),A.$require("controllers/dashboard_controller"),A.$puts("Chart App - Data Visualization Demo"),A.$puts("Ruby version: "+K("RUBY_VERSION")),K("StimulusController")["$register_all!"](),A.$puts("All controllers registered!")});
