Opal.modules.native=function(n){var q=n.hash_put,E=n.module,B=n.defs,I=n.slice,ee=n.truthy,Q=n.send,T=n.Kernel,Z=n.extract_kwargs,v=n.ensure_kwargs,L=n.hash_get,ie=n.range,J=n.to_a,Y=n.def,te=n.return_ivar,V=n.alias,x=n.klass,b=n.rb_minus,P=n.return_val,X=n.send2,M=n.find_super,H=n.eqeqeq,p=n.rb_ge,z=n.return_self,j=n.gvars,A=n.top,w=[],u=n.$r(w),d=n.nil,k=n.$$$;return n.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(h,c){var o=E(h,"Native"),y=[o].concat(c),K=n.$r(y);return B(o,"$is_a?",function(s,$){var t=this;try{return s instanceof t.$try_convert($)}catch{return!1}}),B(o,"$try_convert",function(s,$){var t=this;return $==null&&($=d),t["$native?"](s)?s:s["$respond_to?"]("to_n")?s.$to_n():$},-2),B(o,"$convert",function(s){var $=this;if($["$native?"](s))return s;if(s["$respond_to?"]("to_n"))return s.$to_n();$.$raise(K("ArgumentError"),""+s.$inspect()+" isn't native")}),B(o,"$call",function _(s,$,t){var e=_.$$p||d,r,i,a=this;_.$$p=null,r=I(arguments,2),i=r;var l=s[$];if(l instanceof Function){for(var g=new Array(i.length),S=0,C=i.length;S<C;S++){var R=i[S],G=a.$try_convert(R);g[S]=G===d?R:G}return e!==d&&g.push(e),a.$Native(l.apply(s,g))}else return a.$Native(l)},-3),B(o,"$proc",function _(){var s=_.$$p||d,$=this;return _.$$p=null,ee(s)||$.$raise(K("LocalJumpError"),"no block given"),Q(T,"proc",[],function t(e){var r,i,a=t.$$s==null?this:t.$$s,l=d;if(r=I(arguments),i=r,Q(i,"map!",[],function S(C){var R=S.$$s==null?this:S.$$s;return C==null&&(C=d),R.$Native(C)},{$$s:a}),l=a.$Native(this),this===n.global)return s.apply(a,i);var g=s.$$s;s.$$s=null;try{return s.apply(l,i)}finally{s.$$s=g}},{$$arity:-1,$$s:$})}),function(_,s){var $=E(_,"Helpers"),t=[$].concat(s),e=n.$r(t);return Y($,"$alias_native",function r(i,a,l){var g,S,C,R;r.$$p;var G=this;return r.$$p=null,g=I(arguments,1),S=Z(g),S=v(S),g.length>0&&(C=g.shift()),C==null&&(C=i),R=L(S,"as"),R==null&&(R=d),ee(C["$end_with?"]("="))?Q(G,"define_method",[i],function O(ae){var oe=O.$$s==null?this:O.$$s;return oe.native==null&&(oe.native=d),ae==null&&(ae=d),oe.native[C["$[]"](ie(0,-2,!1))]=e("Native").$convert(ae),ae},{$$s:G}):ee(R)?Q(G,"define_method",[i],function O(ae){var oe=O.$$p||d,_e,de,ge=O.$$s==null?this:O.$$s,ve=d;return ge.native==null&&(ge.native=d),O.$$p=null,_e=I(arguments),de=_e,ve=Q(e("Native"),"call",[ge.native,C].concat(J(de)),oe.$to_proc()),ee(ve)?R.$new(ve.$to_n()):d},{$$arity:-1,$$s:G}):Q(G,"define_method",[i],function O(ae){var oe=O.$$p||d,_e,de,ge=O.$$s==null?this:O.$$s;return ge.native==null&&(ge.native=d),O.$$p=null,_e=I(arguments),de=_e,Q(e("Native"),"call",[ge.native,C].concat(J(de)),oe.$to_proc())},{$$arity:-1,$$s:G})},-2),Y($,"$native_reader",function(i){var a,l,g=this;return a=I(arguments),l=a,Q(l,"each",[],function S(C){var R=S.$$s==null?this:S.$$s;return C==null&&(C=d),Q(R,"define_method",[C],function G(){var O=G.$$s==null?this:G.$$s;return O.native==null&&(O.native=d),O.$Native(O.native[C])},{$$s:R})},{$$s:g})},-1),Y($,"$native_writer",function(i){var a,l,g=this;return a=I(arguments),l=a,Q(l,"each",[],function S(C){var R=S.$$s==null?this:S.$$s;return C==null&&(C=d),Q(R,"define_method",[""+C+"="],function G(O){var ae=G.$$s==null?this:G.$$s;return ae.native==null&&(ae.native=d),O==null&&(O=d),ae.$Native(ae.native[C]=O)},{$$s:R})},{$$s:g})},-1),Y($,"$native_accessor",function(i){var a,l,g=this;return a=I(arguments),l=a,Q(g,"native_reader",J(l)),Q(g,"native_writer",J(l))},-1)}(y[0],y),function(_,s){var $=E(_,"Wrapper"),t=[$].concat(s),e=n.$r(t);return Y($,"$initialize",function(i){var a=this;return ee(T["$native?"](i))||T.$raise(e("ArgumentError"),""+i.$inspect()+" isn't native"),a.native=i}),Y($,"$to_n",te("native")),B($,"$included",function(i){return i.$extend(e("Helpers"))})}(y[0],y),B(o,"$included",function(s){var $=this;return $.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),s.$include(K("Wrapper"))})}(w[0],w),function(h,c){var o=E(h,"Kernel"),y=[o].concat(c),K=n.$r(y);return Y(o,"$native?",function(s){return s==null||!s.$$class}),Y(o,"$Native",function _(s){_.$$p;var $=this;return _.$$p=null,ee(s==null)?d:ee($["$native?"](s))?k(K("Native"),"Object").$new(s):ee(s["$is_a?"](K("Array")))?Q(s,"map",[],function t(e){var r=t.$$s==null?this:t.$$s;return e==null&&(e=d),r.$Native(e)},{$$s:$}):ee(s["$is_a?"](K("Proc")))?Q($,"proc",[],function t(e){var r=t.$$p||d,i,a,l=t.$$s==null?this:t.$$s;return t.$$p=null,i=I(arguments),a=i,l.$Native(Q(s,"call",J(a),r.$to_proc()))},{$$arity:-1,$$s:$}):s}),V(o,"_Array","Array"),Y(o,"$Array",function _(s,$){var t=_.$$p||d,e,r,i=this;return _.$$p=null,e=I(arguments,1),r=e,ee(i["$native?"](s))?Q(k(K("Native"),"Array"),"new",[s].concat(J(r)),t.$to_proc()).$to_a():i.$_Array(s)},-2)}(w[0],w),function(h,c){var o=x(h,c,"Object"),y=o.$$prototype;return y.native=d,o.$include(k(k("Native"),"Wrapper")),Y(o,"$==",function(_){var s=this;return s.native===k("Native").$try_convert(_)}),Y(o,"$has_key?",function(_){var s=this;return n.hasOwnProperty.call(s.native,_)}),Y(o,"$each",function K(_){var s,$,t=K.$$p||d,e=this;if(K.$$p=null,s=I(arguments),$=s,t!==d){for(var r in e.native)n.yieldX(t,[r,e.native[r]]);return e}else return Q(e,"method_missing",["each"].concat(J($)))},-1),Y(o,"$[]",function(_){var s=this,$=s.native[_];return $ instanceof Function?$:k("Native").$call(s.native,_)}),Y(o,"$[]=",function(_,s){var $=this,t=d;return t=k("Native").$try_convert(s),ee(t===d)?$.native[_]=s:$.native[_]=t}),Y(o,"$merge!",function(_){var s=this;_=k("Native").$convert(_);for(var $ in _)s.native[$]=_[$];return s}),Y(o,"$respond_to?",function(_,s){var $=this;return s==null&&(s=!1),T.$instance_method("respond_to?").$bind($).$call(_,s)},-2),Y(o,"$respond_to_missing?",function(_,s){var $=this;return n.hasOwnProperty.call($.native,_)},-2),Y(o,"$method_missing",function K(_,s){var $=K.$$p||d,t,e,r,i=this;return K.$$p=null,t=I(arguments,1),e=t,_.charAt(_.length-1)==="="?(r=[_.$slice(0,b(_.$length(),1)),e["$[]"](0)],Q(i,"[]=",r),r[r.length-1]):Q(k("Native"),"call",[i.native,_].concat(J(e)),$.$to_proc())},-2),Y(o,"$nil?",P(!1)),Y(o,"$is_a?",function(_){var s=this;return n.is_a(s,_)}),Y(o,"$instance_of?",function(_){var s=this;return s.$$class===_}),Y(o,"$class",function(){var _=this;return _.$$class}),Y(o,"$to_a",function K(_){var s=K.$$p||d,$=this;return K.$$p=null,_==null&&(_=new Map),Q(k(k("Native"),"Array"),"new",[$.native,_],s.$to_proc()).$to_a()},-1),Y(o,"$inspect",function(){var _=this;return"#<Native:"+String(_.native)+">"}),V(o,"include?","has_key?"),V(o,"key?","has_key?"),V(o,"kind_of?","is_a?"),V(o,"member?","has_key?")}(u("Native"),u("BasicObject")),function(h,c,o){var y=x(h,c,"Array"),K=[y].concat(o),_=n.$r(K),s=y.$$prototype;return s.named=s.native=s.get=s.block=s.set=s.length=d,y.$include(k(_("Native"),"Wrapper")),y.$include(_("Enumerable")),Y(y,"$initialize",function $(t,e){var r=$.$$p||d,i=this,a=d;return $.$$p=null,e==null&&(e=new Map),X(i,M(i,"initialize",$,!1,!0),"initialize",[t],null),i.get=ee(a=e["$[]"]("get"))?a:e["$[]"]("access"),i.named=e["$[]"]("named"),i.set=ee(a=e["$[]"]("set"))?a:e["$[]"]("access"),i.length=ee(a=e["$[]"]("length"))?a:"length",i.block=r,ee(i.$length()==null)?i.$raise(_("ArgumentError"),"no length found on the array-like object"):d},-2),Y(y,"$each",function $(){var t=$.$$p||d,e=this;if($.$$p=null,!ee(t))return e.$enum_for("each");for(var r=0,i=e.$length();r<i;r++)n.yield1(t,e["$[]"](r));return e}),Y(y,"$[]",function(t){var e=this,r=d,i=d;return r=H(_("String"),i=t)||H(_("Symbol"),i)?ee(e.named)?e.native[e.named](t):e.native[t]:H(_("Integer"),i)?ee(e.get)?e.native[e.get](t):e.native[t]:d,ee(r)?ee(e.block)?e.block.$call(r):e.$Native(r):d}),Y(y,"$[]=",function(t,e){var r=this;return ee(r.set)?r.native[r.set](t,_("Native").$convert(e)):r.native[t]=_("Native").$convert(e)}),Y(y,"$last",function(t){var e=this,r=d,i=d;if(t==null&&(t=d),ee(t)){for(r=b(e.$length(),1),i=[];ee(p(r,0));)i["$<<"](e["$[]"](r)),r=b(r,1);return i}else return e["$[]"](b(e.$length(),1))},-1),Y(y,"$length",function(){var t=this;return t.native[t.length]}),Y(y,"$inspect",function(){var t=this;return t.$to_a().$inspect()}),V(y,"to_ary","to_a")}(u("Native"),null,w),function(h,c){var o=x(h,c,"Numeric");return Y(o,"$to_n",function(){var K=this;return K.valueOf()})}(w[0],null),function(h,c){var o=x(h,c,"Proc");return Y(o,"$to_n",z)}(w[0],null),function(h,c){var o=x(h,c,"String");return Y(o,"$to_n",function(){var K=this;return K.valueOf()})}(w[0],null),function(h,c){var o=x(h,c,"Regexp");return Y(o,"$to_n",function(){var K=this;return K.valueOf()})}(w[0],null),function(h,c){var o=x(h,c,"MatchData");return Y(o,"$to_n",te("matches"))}(w[0],null),function(h,c,o){var y=x(h,c,"Struct"),K=[y].concat(o),_=n.$r(K);return Y(y,"$to_n",function(){var $=this,t=d;return t={},Q($,"each_pair",[],function(r,i){return r==null&&(r=d),i==null&&(i=d),t[r]=_("Native").$try_convert(i,i)}),t})}(w[0],null,w),function(h,c,o){var y=x(h,c,"Array"),K=[y].concat(o),_=n.$r(K);return Y(y,"$to_n",function(){for(var $=this,t=[],e=0,r=$.length;e<r;e++){var i=$[e];t.push(_("Native").$try_convert(i,i))}return t})}(w[0],null,w),function(h,c){var o=x(h,c,"Boolean");return Y(o,"$to_n",function(){var K=this;return K.valueOf()})}(w[0],null),function(h,c){var o=x(h,c,"Time");return Y(o,"$to_n",z)}(w[0],null),function(h,c){var o=x(h,c,"NilClass");return Y(o,"$to_n",function(){return null})}(w[0],null),ee(u("Hash")["$method_defined?"]("_initialize"))||function(h,c,o){var y=x(h,c,"Hash"),K=[y].concat(o),_=n.$r(K);V(y,"_initialize","initialize");function s($,t,e){e&&(e.constructor===void 0||e.constructor===Object||e instanceof Map)?q($,t,_("Hash").$new(e)):e&&e.$$is_array?(e=e.map(function(r){return r&&(r.constructor===void 0||r.constructor===Object||e instanceof Map)?_("Hash").$new(r):y.$Native(r)}),q($,t,e)):q($,t,y.$Native(e))}return Y(y,"$initialize",function $(t){var e=$.$$p||d,r=this;if($.$$p=null,t!=null)if(t.constructor===void 0||t.constructor===Object){var i,a;for(i in t)a=t[i],s(r,i,a);return r}else t instanceof Map&&n.hash_each(t,!1,function(l,g){return s(r,l,g),[!1,!1]});return Q(r,"_initialize",[t],e.$to_proc())},-1),Y(y,"$to_n",function(){var t=this,e={};return n.hash_each(t,!1,function(r,i){return e[_("Native").$try_convert(r,r)]=_("Native").$try_convert(i,i),[!1,!1]}),e})}(w[0],null,w),function(h,c){var o=x(h,c,"Module");return Y(o,"$native_module",function(){var K=this;return n.global[K.$name()]=K})}(w[0],null),function(h,c,o){var y=x(h,c,"Class"),K=[y].concat(o),_=n.$r(K);return Y(y,"$native_alias",function($,t){var e=this,r=e.prototype[n.jsid(t)];r||e.$raise(_("NameError").$new("undefined method `"+t+"' for class `"+e.$inspect()+"'",t)),e.prototype[$]=r}),Y(y,"$native_class",function(){var $=this;return $.$native_module(),$.new=$.$new})}(w[0],null,w),j.$=j.global=A.$Native(n.global)};(function(n){var q;if(typeof globalThis<"u"?n=globalThis:typeof global<"u"?n=global:typeof window<"u"&&(n=window),n.console==null&&(n.console={}),typeof n.console=="object"?q=n.console:q={},"log"in q||(q.log=function(){}),"warn"in q||(q.warn=q.log),typeof n.Opal<"u")return q.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),n.Opal;var E,B,I,ee,Q,T,Z,v=n.Opal={};v.global=n,v.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var L=Function.prototype.call,ie=Function.prototype.bind,J=Object.hasOwn||L.bind(Object.prototype.hasOwnProperty),Y=Object.setPrototypeOf,te=L.bind(Array.prototype.slice),V=L.bind(Array.prototype.splice),x=4,b=x;function P(){return b+=2,b}v.uid=P,v.id=function(f){return f.$$is_number?f*2+1:(f.$$id==null&&p(f,"$$id",P()),f.$$id)};var X=v.gvars={};v.exit=function(f){X.DEBUG&&q.log("Exited with status "+f)},v.exceptions=[],v.pop_exception=function(f){var m=v.exceptions.pop();m===f||(m?X["!"]=m:X["!"]=E)};function M(f,m){if(f||(f=v.Exception||Error),Z&&Z.$raise)arguments.length>2?Z.$raise(f.$new.apply(f,te(arguments,1))):Z.$raise(f,m);else throw f.$new?f.$new(m):new f(m)}var H={value:void 0,enumerable:!1,configurable:!0,writable:!0};function p(f,m,D){typeof f=="string"?f[m]=D:(H.value=D,Object.defineProperty(f,m,H))}v.prop=p,v.defineProperty=v.prop,v.slice=te;var z=v.truthy=function(f){return f!==!1&&E!==f&&f!==void 0&&f!==null&&(!(f instanceof Boolean)||f.valueOf()===!0)};v.falsy=function(f){return!z(f)},v.type_error=function(f,m,D,re){f=f.$$class,re&&D?(re=re.$$class,M(v.TypeError,"can't convert "+f+" into "+m+" ("+f+"#"+D+" gives "+re+")")):M(v.TypeError,"no implicit conversion of "+f+" into "+m)},v.coerce_to=function(f,m,D,re){var ue;return D==="to_int"&&m===v.Integer&&f.$$is_number?f<0?Math.ceil(f):Math.floor(f):D==="to_str"&&m===v.String&&f.$$is_string||v.is_a(f,m)?f:f["$respond_to?"].$$pristine&&f.$method_missing.$$pristine?(ue=f[de(D)],(ue==null||ue.$$stub)&&v.type_error(f,m),ue.apply(f,re)):(f["$respond_to?"](D)||v.type_error(f,m),re==null&&(re=[]),v.send(f,D,re))},v.respond_to=function(f,m,D){if(f==null||!f.$$class)return!1;D=!!D;var re=f[m];if(f["$respond_to?"].$$pristine){if(typeof re=="function"&&!re.$$stub)return!0;if(!f["$respond_to_missing?"].$$pristine)return v.send(f,f["$respond_to_missing?"],[m.substr(1),D])}else return v.send(f,f["$respond_to?"],[m.substr(1),D])},v.trace_class=!1,v.tracers_for_class=[];function j(f){var m,D,re;for(m=0,D=v.tracers_for_class.length;m<D;m++)re=v.tracers_for_class[m],re.trace_object=f,re.block.$call(re)}function A(f,m){if(f.$$autoload[m].loaded){if(f.$$autoload[m].loaded&&!f.$$autoload[m].required&&f.$$autoload[m].exception)throw f.$$autoload[m].exception}else{f.$$autoload[m].loaded=!0;try{v.Kernel.$require(f.$$autoload[m].path)}catch(D){throw f.$$autoload[m].exception=D,D}if(f.$$autoload[m].required=!0,f.$$const[m]!=null)return f.$$autoload[m].success=!0,f.$$const[m]}}function w(f,m){if(f){if(f.$$const[m]!=null)return f.$$const[m];if(f.$$autoload&&f.$$autoload[m])return A(f,m)}}function u(f,m){var D,re,ue;if(f.length!==0)for(D=0,re=f.length;D<re;D++){if(ue=f[D].$$const[m],ue!=null)return ue;if(f[D].$$autoload&&f[D].$$autoload[m])return A(f[D],m)}}function d(f,m){var D,re,ue;if(f!=null)for(ue=G(f),D=0,re=ue.length;D<re;D++){if(ue[D].$$const&&J(ue[D].$$const,m))return ue[D].$$const[m];if(ue[D].$$autoload&&ue[D].$$autoload[m])return A(ue[D],m)}}function k(f,m){if(f==null||f.$$is_module)return d(I,m)}function h(f,m){return(f||I).$const_missing(m)}v.const_get_local=function(f,m,D){var re;if(f!=null)return f==="::"&&(f=I),!f.$$is_module&&!f.$$is_class&&M(v.TypeError,f.toString()+" is not a class/module"),re=w(f,m),re!=null||D?re:h(f,m)},v.const_get_qualified=function(f,m,D){var re,ue,ce,he=v.const_cache_version;if(m==null)return re=w(I,f),re??v.const_get_qualified(I,f,D);if(f!=null)return f==="::"&&(f=I),!f.$$is_module&&!f.$$is_class&&M(v.TypeError,f.toString()+" is not a class/module"),(ue=f.$$const_cache)==null&&(p(f,"$$const_cache",Object.create(null)),ue=f.$$const_cache),ce=ue[m],ce==null||ce[0]!==he?((re=w(f,m))!=null||(re=d(f,m))!=null,ue[m]=[he,re]):re=ce[1],re!=null||D?re:h(f,m)},v.const_cache_version=1,v.const_get_relative=function(f,m,D){var re=f[0],ue,ce=v.const_cache_version,he,pe;return(he=f.$$const_cache)==null&&(p(f,"$$const_cache",Object.create(null)),he=f.$$const_cache),pe=he[m],pe==null||pe[0]!==ce?((ue=w(re,m))!=null||(ue=u(f,m))!=null||(ue=d(re,m))!=null||(ue=k(re,m))!=null,he[m]=[ce,ue]):ue=pe[1],ue!=null||D?ue:h(re,m)};function c(f,m,D){var re=!0;return(f==null||f==="::")&&(f=I),D.$$is_a_module&&((D.$$name==null||D.$$name===E)&&(D.$$name=m),D.$$base_module==null&&(D.$$base_module=f)),f.$$const=f.$$const||Object.create(null),(m in f.$$const||"$$autoload"in f&&m in f.$$autoload)&&(re=!1),f.$$const[m]=D,f.$$=f.$$const,v.const_cache_version++,f===I&&(v[m]=D),p(f,m,D),re&&f.$const_added&&!f.$const_added.$$pristine&&f.$const_added(m),D}v.const_set=c,v.constants=function(f,m){m==null&&(m=!0);var D,re=[f],ue,ce,he={},pe;for(m&&(re=re.concat(G(f))),m&&f.$$is_module&&(re=re.concat([v.Object]).concat(G(v.Object))),ue=0,ce=re.length;ue<ce&&(D=re[ue],!(f!==I&&D==I));ue++){for(pe in D.$$const)he[pe]=!0;if(D.$$autoload)for(pe in D.$$autoload)he[pe]=!0}return Object.keys(he)},v.const_remove=function(f,m){if(v.const_cache_version++,f.$$const[m]!=null){var D=f.$$const[m];return delete f.$$const[m],D}if(f.$$autoload&&f.$$autoload[m])return delete f.$$autoload[m],E;M(v.NameError,"constant "+f+"::"+f.$name()+" not defined")},v.const_get_relative_factory=function(f){return function(m,D){return v.$$(f,m,D)}},v.$$=v.const_get_relative,v.$$$=v.const_get_qualified,v.$r=v.const_get_relative_factory;function o(f){return f==null?!1:f.$$bridge?f:f.$$super?o(f.$$super):!1}function y(f,m,D){var re,ue;if((ue=o(m))?re=function(){var ye=new(ie.apply(ue.$$constructor,ge(null,arguments)));return Y(ye,re.$$prototype),ye}:re=function(){},f&&f!==E&&p(re,"displayName","::"+f),p(re,"$$name",f),p(re,"$$constructor",re),p(re,"$$prototype",re.prototype),p(re,"$$const",{}),p(re,"$$is_class",!0),p(re,"$$is_a_module",!0),p(re,"$$super",m),p(re,"$$cvars",{}),p(re,"$$own_included_modules",[]),p(re,"$$own_prepended_modules",[]),p(re,"$$ancestors",[]),p(re,"$$ancestors_cache_version",null),p(re,"$$subclasses",[]),p(re,"$$cloned_from",[]),p(re.$$prototype,"$$class",re),v.Class&&Y(re,v.Class.prototype),m!=null){if(Y(re.$$prototype,m.$$prototype),D!==!0)if(typeof WeakRef<"u"){var ce,he,pe=[];for(ce=0;ce<m.$$subclasses.length;ce++)he=m.$$subclasses[ce],he.deref()!==void 0&&pe.push(he);pe.push(new WeakRef(re)),m.$$subclasses=pe}else m.$$subclasses.push(re);m.$$meta&&v.build_class_singleton_class(re)}return re}v.allocate_class=y;function K(f,m){var D=w(f,m);if(D)return D.$$is_class||M(v.TypeError,m+" is not a class"),D}function _(f,m){f.$$super!==m&&M(v.TypeError,"superclass mismatch for class "+f.$$name)}v.klass=function(f,m,D){var re;f==null||f=="::"?f=I:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),m!=null&&(!m.hasOwnProperty||m.hasOwnProperty&&!m.hasOwnProperty("$$is_class"))&&(m.constructor&&m.constructor.name=="Function"?(re=m,m=I):M(v.TypeError,"superclass must be a Class ("+(m.constructor&&(m.constructor.name||m.constructor.$$name)||typeof m)+" given)"));var ue=K(f,D);return ue!=null?m&&_(ue,m):(m==null&&(m=I),ue=y(D,m),c(f,D,ue),m.$inherited&&m.$inherited(ue),re&&v.bridge(re,ue)),v.trace_class&&j(ue),ue};function s(f){var m=function(){},D=m;return f&&p(m,"displayName",f+".constructor"),p(D,"$$name",f),p(D,"$$prototype",m.prototype),p(D,"$$const",{}),p(D,"$$is_module",!0),p(D,"$$is_a_module",!0),p(D,"$$cvars",{}),p(D,"$$iclasses",[]),p(D,"$$own_included_modules",[]),p(D,"$$own_prepended_modules",[]),p(D,"$$ancestors",[D]),p(D,"$$ancestors_cache_version",null),p(D,"$$cloned_from",[]),Y(D,v.Module.prototype),D}v.allocate_module=s;function $(f,m){var D=w(f,m);return D==null&&f===I&&(D=d(I,m)),D&&!D.$$is_module&&D!==I&&M(v.TypeError,m+" is not a module"),D}v.module=function(f,m){var D;return f==null||f=="::"?f=I:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),D=$(f,m),D==null&&(D=s(m),c(f,m,D)),v.trace_class&&j(D),D},v.get_singleton_class=function(f){return f.$$is_number&&M(v.TypeError,"can't define singleton"),f.$$meta?f.$$meta:f.hasOwnProperty("$$is_class")?v.build_class_singleton_class(f):f.hasOwnProperty("$$is_module")?v.build_module_singleton_class(f):v.build_object_singleton_class(f)};function t(f,m){f.hasOwnProperty("$$meta")?f.$$meta=m:p(f,"$$meta",m),f.$$frozen?f.$$meta.$freeze():Y(f,m.$$prototype)}v.build_class_singleton_class=function(f){if(f.$$meta)return f.$$meta;var m=f===B?Q:v.get_singleton_class(f.$$super),D=y(null,m,!0);return p(D,"$$is_singleton",!0),p(D,"$$singleton_of",f),t(f,D),p(f,"$$class",v.Class),D},v.build_module_singleton_class=function(f){if(f.$$meta)return f.$$meta;var m=y(null,v.Module,!0);return p(m,"$$is_singleton",!0),p(m,"$$singleton_of",f),t(f,m),p(f,"$$class",v.Module),m},v.build_object_singleton_class=function(f){var m=f.$$class,D=y(E,m,!0);return p(D,"$$is_singleton",!0),p(D,"$$singleton_of",f),delete D.$$prototype.$$class,t(f,D),D},v.is_method=function(f){return f[0]==="$"&&f[1]!=="$"},v.instance_methods=function(f){for(var m=Object.create(null),D=[],re=G(f),ue=0,ce=re.length;ue<ce;ue++){var he=re[ue],pe=he.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ze=ye.length;we<ze;we++){var Ee=ye[we];if(!m[Ee]){if(v.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);D.push(qe)}}m[Ee]=!0}}}return D},v.own_instance_methods=function(f){var m=[],D=f.$$prototype;D.hasOwnProperty("$$dummy")&&(D=D.$$define_methods_on);for(var re=Object.getOwnPropertyNames(D),ue=0,ce=re.length;ue<ce;ue++){var he=re[ue];if(v.is_method(he)){var pe=D[he];if(!pe.$$stub){var ye=he.slice(1);m.push(ye)}}}return m},v.methods=function(f){return v.instance_methods(f.$$meta||f.$$class)},v.own_methods=function(f){return f.$$meta?v.own_instance_methods(f.$$meta):[]},v.receiver_methods=function(f){var m=v.get_singleton_class(f),D=v.own_instance_methods(m),re=v.own_instance_methods(m.$$super);return D.concat(re)},v.class_variables=function(f){var m=G(f),D,re=m.length,ue={};for(D=re-1;D>=0;D--){var ce=m[D];for(var he in ce.$$cvars)ue[he]=ce.$$cvars[he]}return ue},v.class_variable_set=function(f,m,D){var re=G(f),ue,ce=re.length;for(ue=ce-2;ue>=0;ue--){var he=re[ue];if(J(he.$$cvars,m))return he.$$cvars[m]=D,D}return f.$$cvars[m]=D,D},v.class_variable_get=function(f,m,D){if(J(f.$$cvars,m))return f.$$cvars[m];var re=G(f),ue,ce=re.length;for(ue=0;ue<ce;ue++){var he=re[ue];if(J(he.$$cvars,m))return he.$$cvars[m]}return D||M(v.NameError,"uninitialized class variable "+m+" in "+f.$name()),E};function e(f){return f.hasOwnProperty("$$iclass")&&f.hasOwnProperty("$$root")}function r(f){for(var m=[],D,re=Object.getPrototypeOf(f.$$prototype);re&&!re.hasOwnProperty("$$class");)D=C(re),D&&m.push(D),re=Object.getPrototypeOf(re);return m}function i(f){var m=[],D,re=Object.getPrototypeOf(f.$$prototype);if(f.$$prototype.hasOwnProperty("$$dummy"))for(;re&&re!==f.$$prototype.$$define_methods_on;)D=C(re),D&&m.push(D),re=Object.getPrototypeOf(re);return m}v.append_features=function(f,m){var D=G(f),re=[];D.indexOf(m)!==-1&&M(v.ArgumentError,"cyclic include detected");for(var ue=0,ce=D.length;ue<ce;ue++){var he=D[ue],pe=l(he);p(pe,"$$included",!0),re.push(pe)}var ye=G(m),we=S(re),ze,Ee;if(ye.indexOf(f)===-1)ze=m.$$prototype,Ee=Object.getPrototypeOf(m.$$prototype);else{for(var xe=m.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===f&&e(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var Ae=Object.getPrototypeOf(qe);Ae.hasOwnProperty("$$iclass")&&!e(Ae);)Ae=Object.getPrototypeOf(Ae);ze=xe,Ee=Ae}else ze=m.$$prototype,Ee=Object.getPrototypeOf(m.$$prototype)}Y(ze,we.first),Y(we.last,Ee),m.$$own_included_modules=r(m),v.const_cache_version++},v.prepend_features=function(f,m){var D=G(f),re=[];D.indexOf(m)!==-1&&M(v.ArgumentError,"cyclic prepend detected");for(var ue=0,ce=D.length;ue<ce;ue++){var he=D[ue],pe=l(he);p(pe,"$$prepended",!0),re.push(pe)}var ye=S(re),we=m.$$prototype,ze=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=g(m),a(m),p(we,"$$dummy",!0),p(we,"$$define_methods_on",Ee),Y(we,Ee),Y(Ee,ze));var Ae=G(m);if(Ae.indexOf(f)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else M(v.RuntimeError,"Prepending a module multiple times is not supported");Y(xe,ye.first),Y(ye.last,qe),m.$$own_prepended_modules=i(m),v.const_cache_version++};function a(f){for(var m=f.$$prototype,D=Object.getOwnPropertyNames(m),re=0;re<D.length;re++){var ue=D[re];v.is_method(ue)&&delete m[ue]}}function l(f){var m=g(f);return f.$$is_module&&f.$$iclasses.push(m),m}function g(f){var m={},D=f.$$prototype;D.hasOwnProperty("$$dummy")&&(D=D.$$define_methods_on);var re=Object.getOwnPropertyNames(D),ue=re.length,ce;for(ce=0;ce<ue;ce++){var he=re[ce];p(m,he,D[he])}return p(m,"$$iclass",!0),p(m,"$$module",f),m}function S(f){var m=f.length,D=f[0];if(p(D,"$$root",!0),m===1)return{first:D,last:D};for(var re=D,ue=1;ue<m;ue++){var ce=f[ue];Y(re,ce),re=ce}return{first:f[0],last:f[m-1]}}v.bridge=function(f,m){f.hasOwnProperty("$$bridge")&&M(v.ArgumentError,"already bridged"),p(f,"$$bridge",m),Y(f.prototype,(m.$$super||v.Object).$$prototype),p(m,"$$prototype",f.prototype),p(m.$$prototype,"$$class",m),p(m,"$$constructor",f),p(m,"$$bridge",!0)};function C(f){if(!f.hasOwnProperty("$$dummy")){if(f.hasOwnProperty("$$iclass"))return f.$$module;if(f.hasOwnProperty("$$class"))return f.$$class}}function R(f){return f.$$own_prepended_modules.concat([f]).concat(f.$$own_included_modules)}function G(f){if(!f)return[];if(f.$$ancestors_cache_version===v.const_cache_version)return f.$$ancestors;var m=[],D,re,ue;for(D=0,re=R(f),ue=re.length;D<ue;D++)m.push(re[D]);if(f.$$super)for(D=0,re=G(f.$$super),ue=re.length;D<ue;D++)m.push(re[D]);return f.$$ancestors_cache_version=v.const_cache_version,f.$$ancestors=m,m}v.ancestors=G,v.included_modules=function(f){for(var m=[],D=null,re=Object.getPrototypeOf(f.$$prototype);re&&Object.getPrototypeOf(re);re=Object.getPrototypeOf(re))D=C(re),D&&D.$$is_module&&re.$$iclass&&re.$$included&&m.push(D);return m},v.add_stubs=function(f){var m=v.BasicObject.$$prototype,D,re;f=f.split(",");for(var ue=0,ce=f.length;ue<ce;ue++)D=de(f[ue]),re=m[D],(re==null||re.$$stub)&&v.add_stub_for(m,D)},v.add_stub_for=function(f,m){p(f,m,v.stub_for(m))},v.stub_for=function(f){function m(){return this.$method_missing.$$p=m.$$p,m.$$p=null,this.$method_missing.apply(this,ge(f.slice(1),arguments))}return m.$$stub=!0,m},v.ac=function(f,m,D,re){var ue="";D.$$is_a_module?ue+=D.$$name+".":ue+=D.$$class.$$name+"#",ue+=re,M(v.ArgumentError,"["+ue+"] wrong number of arguments (given "+f+", expected "+m+")")},v.block_ac=function(f,m,D){var re="`block in "+D+"'";M(v.ArgumentError,re+": wrong number of arguments (given "+f+", expected "+m+")")};function O(f){return f.hasOwnProperty("$$meta")&&f.$$meta!==null?G(f.$$meta):G(f.$$class)}v.find_super=function(f,m,D,re,ue){var ce=de(m),he,pe,ye,we,ze=-1,Ee;for(he=O(f),we=D.$$owner,Ee=0;Ee<he.length;Ee++)if(pe=he[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ze=Ee;break}for(Ee=ze+1;Ee<he.length;Ee++){pe=he[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(ce)){ye=xe[ce];break}}return!re&&ye&&ye.$$stub&&f.$method_missing.$$pristine&&M(v.NoMethodError,"super: no superclass method `"+m+"' for "+f,m),ye.$$stub&&!ue?null:ye},v.find_block_super=function(f,m,D,re,ue){var ce=m;return D||M(v.RuntimeError,"super called outside of method"),ue&&D.$$define_meth&&M(v.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),D.$$def&&(ce=D.$$jsid),v.find_super(f,ce,D,re)},v.find_super_dispatcher=v.find_super,v.find_iter_super_dispatcher=v.find_block_super;function ae(f,m,D){try{f(m)}catch(re){if(re===D)return D.$v;throw re}}v.yield1=function(f,m){typeof f!="function"&&M(v.LocalJumpError,"no block given");var D=f.$$has_top_level_mlhs_arg,re=f.$$has_trailing_comma_in_args,ue=f.$$is_lambda&&f.$$ret;return(f.length>1||(D||re)&&f.length===1)&&(m=v.to_ary(m)),(f.length>1||re&&f.length===1)&&m.$$is_array?ue?ae(f.apply.bind(f,null),m,f.$$ret):f.apply(null,m):ue?ae(f,m,f.$$ret):f(m)},v.yieldX=function(f,m){return typeof f!="function"&&M(v.LocalJumpError,"no block given"),f.length>1&&m.length===1&&m[0].$$is_array&&(m=m[0]),f.$$is_lambda&&f.$$ret?ae(f.apply.bind(f,null),m,f.$$ret):f.apply(null,m)},v.rescue=function(f,m){for(var D=0;D<m.length;D++){var re=m[D];if(re.$$is_array){var ue=v.rescue(f,re);if(ue)return ue}else if(re===v.JS.Error||re["$==="](f))return re}return null},v.is_a=function(f,m){if(m!=null&&f.$$meta===m||f.$$class===m)return!0;if(f.$$is_number&&m.$$is_number_class)return m.$$is_integer_class?f%1===0:!0;var D=G(f.$$is_class?v.get_singleton_class(f):f.$$meta||f.$$class);return D.indexOf(m)!==-1},v.to_hash=function(f){if(f.$$is_hash)return f;if(f["$respond_to?"]("to_hash",!0)){var m=f.$to_hash();if(m.$$is_hash)return m;M(v.TypeError,"Can't convert "+f.$$class+" to Hash ("+f.$$class+"#to_hash gives "+m.$$class+")")}else M(v.TypeError,"no implicit conversion of "+f.$$class+" into Hash")},v.to_ary=function(f){if(f.$$is_array)return f;if(f["$respond_to?"]("to_ary",!0)){var m=f.$to_ary();if(m===E)return[f];if(m.$$is_array)return m;M(v.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_ary gives "+m.$$class+")")}else return[f]},v.to_a=function(f){if(f.$$is_array)return f.slice();if(f["$respond_to?"]("to_a",!0)){var m=f.$to_a();if(m===E)return[f];if(m.$$is_array)return m;M(v.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_a gives "+m.$$class+")")}else return[f]},v.extract_kwargs=function(f){var m=f[f.length-1];if(m!=null&&v.respond_to(m,"$to_hash",!0))return V(f,f.length-1),m},v.kwrestargs=function(f,m){var D=new Map;return v.hash_each(f,!1,function(re,ue){return m[re]||v.hash_put(D,re,ue),[!1,!1]}),D};function oe(f,m){typeof m=="number"?f.$$arity=m:typeof m=="object"&&Object.assign(f,m)}var _e=new Map;function de(f){var m=_e.get(f);return m||(m="$"+f,_e.set(f,m)),m}v.jsid=de;function ge(f,m){return m.$$is_array||(m=te(m)),[f].concat(m)}v.send=function(f,m,D,re,ue){var ce;return typeof m=="function"?(ce=m,m=null):typeof m=="string"?ce=f[de(m)]:M(v.NameError,"Passed method should be a string or a function"),v.send2(f,ce,m,D,re,ue)},v.send2=function(f,m,D,re,ue,ce){return m==null&&D!=null&&f.$method_missing&&(m=f.$method_missing,re=ge(D,re)),oe(ue,ce),typeof ue=="function"&&(m.$$p=ue),m.apply(f,re)},v.refined_send=function(f,m,D,re,ue,ce){var he,pe,ye,we,ze,Ee,xe,qe,Ae,ke;for(we=O(m),he=0;he<we.length;he++)for(ze=v.id(we[he]),pe=0;pe<f.length;pe++)for(Ee=f[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ze]>"u")&&(Ae=qe[ze],typeof Ae.$$prototype[de(D)]<"u")))return ke=Ae.$$prototype[de(D)],v.send2(m,ke,D,re,ue,ce);return v.send(m,D,re,ue,ce)},v.lambda=function(f,m){return f.$$is_lambda=!0,oe(f,m),f},v.def=function(f,m,D,re){return oe(D,re),f===v.top?v.defn(v.Object,m,D):!f.$$eval&&f.$$is_a_module?v.defn(f,m,D):v.defs(f,m,D)},v.defn=function(f,m,D){N(f),D.displayName=m,D.$$owner=f;var re=m.substr(1),ue=f.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),p(ue,m,D),f.$$is_module){f.$$module_function&&v.defs(f,m,D);for(var ce=0,he=f.$$iclasses,pe=he.length;ce<pe;ce++){var ye=he[ce];p(ye,m,D)}}var we=f.$$singleton_of;return f.$method_added&&!f.$method_added.$$stub&&!we?f.$method_added(re):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(re),re},v.defs=function(f,m,D,re){return oe(D,re),(f.$$is_string||f.$$is_number)&&M(v.TypeError,"can't define singleton"),v.defn(v.get_singleton_class(f),m,D)};function ve(f,m){if(f.$$is_module)for(var D=0,re=f.$$iclasses,ue=re.length;D<ue;D++){var ce=re[D];delete ce[m]}}v.rdef=function(f,m){J(f.$$prototype,m)||M(v.NameError,"method '"+m.substr(1)+"' not defined in "+f.$name()),delete f.$$prototype[m],ve(f,m),f.$$is_singleton?f.$$prototype.$singleton_method_removed&&!f.$$prototype.$singleton_method_removed.$$stub&&f.$$prototype.$singleton_method_removed(m.substr(1)):f.$method_removed&&!f.$method_removed.$$stub&&f.$method_removed(m.substr(1))},v.udef=function(f,m){(!f.$$prototype[m]||f.$$prototype[m].$$stub)&&M(v.NameError,"method '"+m.substr(1)+"' not defined in "+f.$name()),v.add_stub_for(f.$$prototype,m),ve(f,m),f.$$is_singleton?f.$$prototype.$singleton_method_undefined&&!f.$$prototype.$singleton_method_undefined.$$stub&&f.$$prototype.$singleton_method_undefined(m.substr(1)):f.$method_undefined&&!f.$method_undefined.$$stub&&f.$method_undefined(m.substr(1))};function me(f){return typeof f=="function"&&!f.$$stub}v.alias=function(f,m,D){var re=de(m),ue=de(D),ce,he;if(typeof f.$$prototype>"u"&&(f=v.Object),ce=f.$$prototype[ue],f.$$eval)return v.alias(v.get_singleton_class(f),m,D);if(!me(ce)){for(var pe=f.$$super;typeof ce!="function"&&pe;)ce=pe[ue],pe=pe.$$super;!me(ce)&&f.$$is_module&&(ce=v.Object.$$prototype[ue]),me(ce)||M(v.NameError,"undefined method `"+D+"' for class `"+f.$name()+"'")}return ce.$$alias_of&&(ce=ce.$$alias_of),he=v.wrap_method_body(ce),he.displayName=m,he.$$alias_of=ce,he.$$alias_name=m,v.defn(f,re,he),f},v.wrap_method_body=function(f){var m=function(){var D=m.$$p;return m.$$p=null,v.send(this,f,arguments,D)};try{Object.defineProperty(m,"length",{value:f.length})}catch{}return m.$$arity=f.$$arity==null?f.length:f.$$arity,m.$$parameters=f.$$parameters,m.$$source_location=f.$$source_location,m},v.alias_gvar=function(f,m){return Object.defineProperty(X,f,{configurable:!0,enumerable:!0,get:function(){return X[m]},set:function(D){X[m]=D}}),E},v.alias_native=function(f,m,D){var re=de(m),ue=f.$$prototype[D];return(typeof ue!="function"||ue.$$stub)&&M(v.NameError,"undefined native method `"+D+"' for class `"+f.$name()+"'"),v.defn(f,re,ue),f},v.hash_init=function(f){q.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},v.hash_clone=function(f,m){return m.$$none=f.$$none,m.$$proc=f.$$proc,v.hash_each(f,m,function(D,re){return v.hash_put(m,D,re),[!1,m]})},v.hash_put=function(f,m,D){var re=typeof m;if(re==="string"||re==="symbol"||re==="number"||re==="boolean"||re==="bigint")f.set(m,D);else if(m.$$is_string)f.set(m.valueOf(),D);else{f.$$keys||(f.$$keys=new Map);var ue=m.$$is_string?m.valueOf():f.$$by_identity?v.id(m):m.$hash(),ce=f.$$keys;if(!ce.has(ue)){ce.set(ue,[m]),f.set(m,D);return}for(var he=ce.get(ue),pe,ye=0;ye<he.length;ye++)if(pe=he[ye],m===pe||m["$eql?"](pe)){f.set(pe,D);return}he.push(m),f.set(m,D)}},v.hash_get=function(f,m){var D=typeof m;if(D==="string"||D==="symbol"||D==="number"||D==="boolean"||D==="bigint")return f.get(m);if(f.$$keys){var re=m.$$is_string?m.valueOf():f.$$by_identity?v.id(m):m.$hash(),ue=f.$$keys.get(re),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],m===ce||m["$eql?"](ce))return f.get(ce)}else if(m.$$is_string)return f.get(re)}else if(m.$$is_string)return f.get(m.valueOf())};function be(f,m){var D=f.get(m);if(D!==void 0)return f.delete(m),D}v.hash_delete=function(f,m){var D=typeof m;if(D==="string"||D==="symbol"||D==="number"||D==="boolean"||D==="bigint")return be(f,m);if(f.$$keys){var re=m.$$is_string?m.valueOf():f.$$by_identity?v.id(m):m.$hash(),ue=f.$$keys.get(re),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],m===ce||m["$eql?"](ce))return ue.splice(he,1),ue.length===0&&f.$$keys.delete(re),be(f,ce)}else if(m.$$is_string)return be(f,re)}else if(m.$$is_string)return be(f,m.valueOf())},v.hash_rehash=function(f){var m=f.$$keys;return m&&m.clear(),v.hash_each(f,!1,function(D,re){var ue=typeof D;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var ce=D.$$is_string?D.valueOf():f.$$by_identity?v.id(D):D.$hash();if(m||(f.$$keys=m=new Map),!m.has(ce))return m.set(ce,[D]),[!1,!1];for(var he=m.get(ce),pe=he.length===1?he:te(he),ye,we=0;we<pe.length;we++)ye=pe[we],(D===ye||D["$eql?"](ye))&&(he.splice(he.indexOf(ye),1),f.delete(ye));return he.push(D),[!1,!1]}),f},v.hash=function(){var f=arguments.length,m,D,re,ue,ce,he;if(f===1&&arguments[0].$$is_hash)return arguments[0];if(D=new Map,f===1)if(m=arguments[0],arguments[0].$$is_array){for(ue=m.length,re=0;re<ue;re++)m[re].length!==2&&M(v.ArgumentError,"value not of length 2: "+m[re].$inspect()),ce=m[re][0],he=m[re][1],v.hash_put(D,ce,he);return D}else{m=arguments[0];for(ce in m)J(m,ce)&&(he=m[ce],v.hash_put(D,ce,he));return D}for(f%2!==0&&M(v.ArgumentError,"odd number of arguments for Hash"),re=0;re<f;re+=2)ce=arguments[re],he=arguments[re+1],v.hash_put(D,ce,he);return D},v.hash2=function(f,m){q.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var D=new Map,re=0,ue=f.length;re<ue;re++)D.set(f[re],m[f[re]]);return D},v.hash_each=function(f,m,D){for(var re,ue=0,ce,he=Array.from(f.entries()),pe=he.length;ue<pe;ue++)if(ce=he[ue],re=D(ce[0],ce[1]),re[0])return re[1];return re?re[1]:m},v.range=function(f,m,D){var re=new v.Range;return re.begin=f,re.end=m,re.excl=D,re};var $e=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];v.ivar=function(f){return $e.indexOf(f)!==-1&&(f+="$"),f};function N(f){f.$$frozen&&M(v.FrozenError,"can't modify frozen "+f.$class()+": "+f,new Map([["receiver",f]]))}v.deny_frozen_access=N,v.freeze=function(f){return p(f,"$$frozen",!0),f.hasOwnProperty("$$id")||p(f,"$$id",P()),f.hasOwnProperty("$$meta")?f.$$meta.$freeze():p(f,"$$meta",null),f.hasOwnProperty("$$comparable")||p(f,"$$comparable",null),Object.seal(f),f};function F(f,m){var D=Object.getOwnPropertyNames(f),re=D.length,ue,ce,he;for(ue=0;ue<re;ue++)ce=D[ue],ce[0]!=="$"&&(he=Object.getOwnPropertyDescriptor(f,ce),he&&he.enumerable&&m(ce,he))}v.each_ivar=F,v.freeze_props=function(f){var m={get:null,set:function(D){N(f)},enumerable:!0};F(f,function(D,re){re.writable&&(m.get=se(re.value),Object.defineProperty(f,D,m))})},v.escape_regexp=function(f){return f.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},v.global_regexp=function(f){return f.global?f:(f.$$g==null?f.$$g=new RegExp(f.source,(f.multiline?"gm":"g")+(f.ignoreCase?"i":"")):f.$$g.lastIndex=null,f.$$g)},v.global_multiline_regexp=function(f){var m,D;return f.global&&f.multiline?f:(D="gm"+(f.ignoreCase?"i":""),f.multiline?(f.$$g==null&&(f.$$g=new RegExp(f.source,D)),m=f.$$g):(f.$$gm==null&&(f.$$gm=new RegExp(f.source,D)),m=f.$$gm),m.lastIndex=null,m)},v.regexp=function(f,m){for(var D,re=typeof m<"u"&&m&&m.indexOf("i")>=0,ue=0,ce=f.length;ue<ce;ue++)D=f[ue],D instanceof RegExp&&(D.ignoreCase!==re&&v.Kernel.$warn("ignore case doesn't match for "+D.source.$inspect(),new Map([["uplevel",1]])),D=D.source),D===""&&(D="(?:"+D+")"),f[ue]=D;return m?new RegExp(f.join(""),m):new RegExp(f.join(""))},v.modules={},v.loaded_features=["corelib/runtime"],v.current_dir=".",v.require_table={"corelib/runtime":!0},v.normalize=function(f){var m,D,re=[],ue="/";v.current_dir!=="."&&(f=v.current_dir.replace(/\/*$/,"/")+f),f=f.replace(/^\.\//,""),f=f.replace(/\.(rb|opal|js)$/,""),m=f.split(ue);for(var ce=0,he=m.length;ce<he;ce++)D=m[ce],D!==""&&(D===".."?re.pop():re.push(D));return re.join(ue)},v.loaded=function(f){var m,D,re;for(m=0,D=f.length;m<D;m++)re=v.normalize(f[m]),!v.require_table[re]&&(v.loaded_features.push(re),v.require_table[re]=!0)},v.load_normalized=function(f){v.loaded([f]);var m=v.modules[f];if(m){var D=m(v);if(typeof Promise<"u"&&D instanceof Promise)return D.then(se(!0))}else{var re=v.config.missing_require_severity,ue="cannot load such file -- "+f;re==="error"?M(v.LoadError,ue):re==="warning"&&q.warn("WARNING: LoadError: "+ue)}return!0},v.load=function(f){return f=v.normalize(f),v.load_normalized(f)},v.require=function(f){return f=v.normalize(f),v.require_table[f]?!1:v.load_normalized(f)},v.encodings=Object.create(null),v.set_encoding=function(f,m,D){typeof D>"u"&&(D="encoding"),(typeof f=="string"||f.$$frozen===!0)&&M(v.FrozenError,"can't modify frozen String");var re=v.find_encoding(m);return re===f[D]||(f[D]=re),f},v.find_encoding=function(f){var m=v.encodings,D=m[f]||m[f.toUpperCase()];return D||M(v.ArgumentError,"unknown encoding name - "+f),D},v.enc=function(f,m){var D=new String(f);return D=v.set_encoding(D,m),D.internal_encoding=D.encoding,D},v.binary=function(f){var m=new String(f);return v.set_encoding(m,"binary","internal_encoding")},v.last_promise=null,v.promise_unhandled_exception=!1,v.queue=function(f){if(v.last_promise)return v.last_promise=v.last_promise.then(function(){if(!v.promise_unhandled_exception)return f(v)}).catch(function(D){v.respond_to(D,"$full_message")&&(D=D.$full_message()),q.error(D),v.promise_unhandled_exception=!0,v.exit(1)}),v.last_promise;var m=f(v);return typeof Promise=="function"&&typeof m=="object"&&m instanceof Promise&&(v.last_promise=m),m};function U(f,m){return typeof f=="number"&&typeof m=="number"}v.rb_plus=function(f,m){return U(f,m)?f+m:f["$+"](m)},v.rb_minus=function(f,m){return U(f,m)?f-m:f["$-"](m)},v.rb_times=function(f,m){return U(f,m)?f*m:f["$*"](m)},v.rb_divide=function(f,m){return U(f,m)?f/m:f["$/"](m)},v.rb_lt=function(f,m){return U(f,m)?f<m:f["$<"](m)},v.rb_gt=function(f,m){return U(f,m)?f>m:f["$>"](m)},v.rb_le=function(f,m){return U(f,m)?f<=m:f["$<="](m)},v.rb_ge=function(f,m){return U(f,m)?f>=m:f["$>="](m)};function W(f,m){return typeof f=="number"&&typeof m=="number"||typeof f=="string"&&typeof m=="string"}function ne(f,m){return W(f,m)?f===m:z(f["$=="](m))}v.eqeq=ne,v.eqeqeq=function(f,m){return W(f,m)?f===m:z(f["$==="](m))},v.neqeq=function(f,m){return W(f,m)?f!==m:z(f["$!="](m))},v.not=function(f){return f==null||f===!1||E===f?!0:f===!0||f["$!"].$$pristine?!1:z(f["$!"]())};function se(f){return function(){return f}}v.return_val=se,v.return_self=function(){return this},v.return_ivar=function(f){return function(){return this[f]==null?E:this[f]}},v.assign_ivar=function(f){return function(m){return N(this),this[f]=m}},v.assign_ivar_val=function(f,m){return function(){return N(this),this[f]=m}},v.ensure_kwargs=function(f){if(f==null)return new Map;if(f.$$is_hash)return f;M(v.ArgumentError,"expected kwargs")},v.get_kwarg=function(f,m){var D=v.hash_get(f,m);return D===void 0&&M(v.ArgumentError,"missing keyword: "+m),D},v.large_array_unpack=function(f){var m=f.split(","),D=m.length,re;for(re=0;re<D;re++)switch(m[re][0]){case void 0:m[re]=E;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":m[re]=+m[re]}return m},v.opal32_init=se(1332765036);function le(f,m){return f<<m|f>>>32-m}v.opal32_add=function(f,m){return f^=m,f=le(f,1),f},v.BasicObject=B=y("BasicObject",null),v.Object=I=y("Object",v.BasicObject),v.Module=ee=y("Module",v.Object),v.Class=Q=y("Class",v.Module),v.Opal=T=s("Opal"),v.Kernel=Z=s("Kernel"),Y(v.BasicObject,v.Class.$$prototype),Y(v.Object,v.Class.$$prototype),Y(v.Module,v.Class.$$prototype),Y(v.Class,v.Class.$$prototype),B.$$const.BasicObject=B,c(I,"BasicObject",B),c(I,"Object",I),c(I,"Module",ee),c(I,"Class",Q),c(I,"Opal",T),c(I,"Kernel",Z),B.$$class=Q,I.$$class=Q,ee.$$class=Q,Q.$$class=Q,T.$$class=ee,Z.$$class=ee,p(I.$$prototype,"toString",function(){var f=this.$to_s();return f.$$is_string&&typeof f=="object"?f.valueOf():f}),p(I.$$prototype,"$require",v.require),v.top=new I,v.top.$to_s=v.top.$inspect=se("main"),v.top.$define_method=fe;function fe(){var f=fe.$$p;return fe.$$p=null,v.send(I,"define_method",arguments,f)}v.NilClass=y("NilClass",v.Object),c(I,"NilClass",v.NilClass),E=v.nil=new v.NilClass,E.$$id=x,E.call=E.apply=function(){M(v.LocalJumpError,"no block given")},E.$$frozen=!0,E.$$comparable=!1,Object.seal(E),v.thrower=function(f){var m={$thrower_type:f,$throw:function(D,re){throw D==null&&(D=E),this.is_orphan&&!re&&M(v.LocalJumpError,"unexpected "+f,D,f.$to_sym()),this.$v=D,this},is_orphan:!1};return m},Object.defineProperty(X,"@",{enumerable:!0,configurable:!0,get:function(){return z(X["!"])?X["!"].$backtrace():E},set:function(f){z(X["!"])?X["!"].$set_backtrace(f):M(v.ArgumentError,"$! not set")}}),v.t_eval_return=v.thrower("return"),TypeError.$$super=Error,v.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(n){var q=n.type_error,E=n.coerce_to,B=n.module,I=n.defs,ee=n.slice,Q=n.eqeqeq,T=n.Kernel,Z=n.truthy,v=n.Opal,L=n.nil,ie=n.$$$;return n.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(J){var Y=B(J,"Opal");I(Y,"$bridge",function(x,b){return n.bridge(x,b)}),I(Y,"$coerce_to!",function(x,b,P,X){var M,H,p=L;return M=ee(arguments,3),H=M,p=E(x,b,P,H),Q(b,p)||T.$raise(q(x,b,P,p)),p},-4),I(Y,"$coerce_to?",function(x,b,P,X){var M,H,p=L;return M=ee(arguments,3),H=M,!Z(x["$respond_to?"](P))||(p=E(x,b,P,H),Z(p["$nil?"]()))?L:(Q(b,p)||T.$raise(q(x,b,P,p)),p)},-4),I(Y,"$try_convert",function(x,b,P){return Q(b,x)?x:Z(x["$respond_to?"](P))?x.$__send__(P):L}),I(Y,"$compare",function(x,b){var P=L;return P=x["$<=>"](b),Z(P===L)&&T.$raise(ie("ArgumentError"),"comparison of "+x.$class()+" with "+b.$class()+" failed"),P}),I(Y,"$destructure",function(x){if(x.length==1)return x[0];if(x.$$is_array)return x;for(var b=new Array(x.length),P=0,X=b.length;P<X;P++)b[P]=x[P];return b}),I(Y,"$respond_to?",function(x,b,P){return P==null&&(P=!1),x==null||!x.$$class?!1:x["$respond_to?"](b,P)},-3),I(Y,"$instance_variable_name!",function(x){return x=v["$coerce_to!"](x,ie("String"),"to_str"),Z(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(x))||T.$raise(ie("NameError").$new("'"+x+"' is not allowed as an instance variable name",x)),x}),I(Y,"$class_variable_name!",function(x){return x=v["$coerce_to!"](x,ie("String"),"to_str"),Z(x.length<3||x.slice(0,2)!=="@@")&&T.$raise(ie("NameError").$new("`"+x+"' is not allowed as a class variable name",x)),x}),I(Y,"$const_name?",function(x){return typeof x!="string"&&(x=v["$coerce_to!"](x,ie("String"),"to_str")),x[0]===x[0].toUpperCase()}),I(Y,"$const_name!",function(x){var b=this;return Z(ie("::","String","skip_raise")?"constant":L)&&(x=v["$coerce_to!"](x,ie("String"),"to_str")),(!x||x[0]!=x[0].toUpperCase())&&b.$raise(ie("NameError"),"wrong constant name "+x),x}),I(Y,"$pristine",function(x,b){var P,X;P=ee(arguments,1),X=P;for(var M,H,p=X.length-1;p>=0;p--)M=X[p],H=x.$$prototype[n.jsid(M)],H&&!H.$$stub&&(H.$$pristine=!0);return L},-2);var te=[];return I(Y,"$inspect",function(x){var b=L,P=!1;return function(){try{try{return x===null?"null":x===void 0?"undefined":typeof x.$$class>"u"?Object.prototype.toString.apply(x):typeof x.$inspect!="function"||x.$inspect.$$stub||te.indexOf(x.$__id__())!==-1?"#<"+x.$$class+":0x"+x.$__id__().$to_s(16)+">":(te.push(x.$__id__()),P=!0,x.$inspect())}catch(X){if(n.rescue(X,[ie("Exception")])){b=X;try{return"#<"+x.$$class+":0x"+x.$__id__().$to_s(16)+">"}finally{n.pop_exception(X)}}else throw X}}finally{P&&te.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(n){var q=n.truthy,E=n.coerce_to,B=n.const_set,I=n.Object,ee=n.return_ivar,Q=n.assign_ivar,T=n.ivar,Z=n.deny_frozen_access,v=n.freeze,L=n.prop,ie=n.jsid,J=n.each_ivar,Y=n.klass,te=n.Opal,V=n.Kernel,x=n.defs,b=n.send,P=n.def,X=n.eqeqeq,M=n.Module,H=n.rb_lt,p=n.rb_gt,z=n.slice,j=n.to_a,A=n.return_val,w=n.eqeq,u=n.not,d=n.rb_le,k=n.range,h=n.send2,c=n.find_super,o=n.alias,y=[],K=n.nil,_=n.$$$;return n.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(s,$,t){var e=Y(s,$,"Module"),r=[e].concat(t),i=n.$r(r);function a(C){if(C.$$is_string)return C;var R=te.$try_convert(C,_("String"),"to_str");if(R.$$is_string)return R;R===K?V.$raise(_("TypeError"),""+C+" is not a symbol nor a string"):V.$raise(_("TypeError"),"can't convert "+C.$class()+" to String ("+C.$class()+"#to_str gives "+R.$class())}x(e,"$allocate",function(){var R=this,G=n.allocate_module(K,function(){});return R!==n.Module&&Object.setPrototypeOf(G,R.$$prototype),G}),P(e,"$initialize",function C(){var R=C.$$p||K,G=this;return C.$$p=null,R!==K?b(G,"module_eval",[],R.$to_proc()):K}),P(e,"$===",function(R){var G=this;return q(R==null)?!1:n.is_a(R,G)}),P(e,"$<",function(R){var G=this;X(M,R)||V.$raise(_("TypeError"),"compared with non class/module");var O=G,ae,oe,_e;if(O===R)return!1;for(oe=0,ae=n.ancestors(G),_e=ae.length;oe<_e;oe++)if(ae[oe]===R)return!0;for(oe=0,ae=n.ancestors(R),_e=ae.length;oe<_e;oe++)if(ae[oe]===G)return!1;return K}),P(e,"$<=",function(R){var G=this,O=K;return q(O=G["$equal?"](R))?O:H(G,R)}),P(e,"$>",function(R){var G=this;return X(M,R)||V.$raise(_("TypeError"),"compared with non class/module"),H(R,G)}),P(e,"$>=",function(R){var G=this,O=K;return q(O=G["$equal?"](R))?O:p(G,R)}),P(e,"$<=>",function(R){var G=this,O=K;return G===R?0:!X(M,R)||(O=H(G,R),q(O["$nil?"]()))?K:q(O)?-1:1}),P(e,"$alias_method",function(R,G){var O=this;return Z(O),R=E(R,_("String"),"to_str"),G=E(G,_("String"),"to_str"),n.alias(O,R,G),O}),P(e,"$alias_native",function(R,G){var O=this;return G==null&&(G=R),Z(O),n.alias_native(O,R,G),O},-2),P(e,"$ancestors",function(){var R=this;return n.ancestors(R)}),P(e,"$append_features",function(R){var G=this;return Z(R),n.append_features(G,R),G}),P(e,"$attr_accessor",function(R){var G,O,ae=this;return G=z(arguments),O=G,b(ae,"attr_reader",j(O)),b(ae,"attr_writer",j(O))},-1),P(e,"$attr",function(R){var G,O,ae=this;return G=z(arguments),O=G,O.length==2&&(O[1]===!0||O[1]===!1)?(ae.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),O[1]?ae.$attr_accessor(O[0]):ae.$attr_reader(O[0]),K):b(ae,"attr_reader",j(O))},-1),P(e,"$attr_reader",function(R){var G,O,ae=this;G=z(arguments),O=G,Z(ae);for(var oe=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=ie(de),ve=T(de),me=ee(ve);n.prop(oe,ve,K),me.$$parameters=[],me.$$arity=0,n.defn(ae,ge,me)}return K},-1),P(e,"$attr_writer",function(R){var G,O,ae=this;G=z(arguments),O=G,Z(ae);for(var oe=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=ie(de+"="),ve=T(de),me=Q(ve);me.$$parameters=[["req"]],me.$$arity=1,n.prop(oe,ve,K),n.defn(ae,ge,me)}return K},-1),P(e,"$autoload",function(R,G){var O=this;return Z(O),i("Opal")["$const_name?"](R)||V.$raise(_("NameError"),"autoload must be constant name: "+R),G==""&&V.$raise(_("ArgumentError"),"empty file name"),O.$$const.hasOwnProperty(R)||(O.$$autoload||(O.$$autoload={}),n.const_cache_version++,O.$$autoload[R]={path:G,loaded:!1,required:!1,success:!1,exception:!1},O.$const_added&&!O.$const_added.$$pristine&&O.$const_added(R)),K}),P(e,"$autoload?",function(R){var G=this;if(G.$$autoload&&G.$$autoload[R]&&!G.$$autoload[R].required&&!G.$$autoload[R].success)return G.$$autoload[R].path;for(var O=G.$ancestors(),ae=0,oe=O.length;ae<oe;ae++)if(O[ae].$$autoload&&O[ae].$$autoload[R]&&!O[ae].$$autoload[R].required&&!O[ae].$$autoload[R].success)return O[ae].$$autoload[R].path;return K}),P(e,"$class_variables",function(){var R=this;return Object.keys(n.class_variables(R))}),P(e,"$class_variable_get",function(R){var G=this;return R=te["$class_variable_name!"](R),n.class_variable_get(G,R,!1)}),P(e,"$class_variable_set",function(R,G){var O=this;return Z(O),R=te["$class_variable_name!"](R),n.class_variable_set(O,R,G)}),P(e,"$class_variable_defined?",function(R){var G=this;return R=te["$class_variable_name!"](R),n.class_variables(G).hasOwnProperty(R)}),P(e,"$const_added",A(K)),te.$pristine(e,"const_added"),P(e,"$remove_class_variable",function(R){var G=this;if(Z(G),R=te["$class_variable_name!"](R),n.hasOwnProperty.call(G.$$cvars,R)){var O=G.$$cvars[R];return delete G.$$cvars[R],O}else V.$raise(_("NameError"),"cannot remove "+R+" for "+G)}),P(e,"$constants",function(R){var G=this;return R==null&&(R=!0),n.constants(G,R)},-1),x(e,"$constants",function(R){var G=this;if(R==null){var O=(G.$$nesting||[]).concat(I),ae,oe={},_e,de;for(_e=0,de=O.length;_e<de;_e++)for(ae in O[_e].$$const)oe[ae]=!0;return Object.keys(oe)}else return n.constants(G,R)},-1),x(e,"$nesting",function(){var R=this;return R.$$nesting||[]}),P(e,"$const_defined?",function(R,G){var O=this;G==null&&(G=!0),R=i("Opal")["$const_name!"](R),q(R["$=~"](_(te,"CONST_NAME_REGEXP")))||V.$raise(_("NameError").$new("wrong constant name "+R,R));var ae,oe=[O],_e,de;for(G&&(oe=oe.concat(n.ancestors(O)),O.$$is_module&&(oe=oe.concat([I]).concat(n.ancestors(I)))),_e=0,de=oe.length;_e<de;_e++)if(ae=oe[_e],ae.$$const[R]!=null||ae.$$autoload&&ae.$$autoload[R]&&!ae.$$autoload[R].required&&!ae.$$autoload[R].success)return!0;return!1},-2),P(e,"$const_get",function(R,G){var O=this;return G==null&&(G=!0),R=i("Opal")["$const_name!"](R),R.indexOf("::")===0&&R!=="::"&&(R=R.slice(2)),q(R.indexOf("::")!=-1&&R!="::")?b(R.$split("::"),"inject",[O],function(oe,_e){return oe==null&&(oe=K),_e==null&&(_e=K),oe.$const_get(_e)}):(q(R["$=~"](_(te,"CONST_NAME_REGEXP")))||V.$raise(_("NameError").$new("wrong constant name "+R,R)),G?n.$$([O],R):n.const_get_local(O,R))},-2),P(e,"$const_missing",function(R){var G=this,O=K;return O=w(G,I)?R:""+G+"::"+R,V.$raise(_("NameError").$new("uninitialized constant "+O,R))}),P(e,"$const_set",function(R,G){var O=this;return Z(O),R=te["$const_name!"](R),(q(R["$!~"](_(te,"CONST_NAME_REGEXP")))||q(R["$start_with?"]("::")))&&V.$raise(_("NameError").$new("wrong constant name "+R,R)),B(O,R,G),G}),P(e,"$public_constant",A(K)),P(e,"$define_method",function C(R,G){var O=C.$$p||K,ae=this,oe=K,_e=K,de=K;return C.$$p=null,Z(ae),G===void 0&&O===K&&V.$raise(_("ArgumentError"),"tried to create a Proc object without a block"),R=a(R),q(G!==void 0)&&(O=X(_("Proc"),oe=G)?G:X(_("Method"),oe)?G.$to_proc().$$unbound:X(_("UnboundMethod"),oe)?n.wrap_method_body(G.$$method):V.$raise(_("TypeError"),"wrong argument type "+G.$class()+" (expected Proc/Method/UnboundMethod)"),q(!G.$$is_proc)&&(_e=G.$owner(),q(_e.$$is_class)&&u(d(ae,_e))&&(de=q(_e.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+_e,V.$raise(_("TypeError"),de)))),typeof Proxy<"u"&&(O.$$proxy_target=O,O=new Proxy(O,{apply:function(ge,ve,me){var be=ge.$$jsid,$e=ge.$$is_lambda;ge.$$jsid=R,ge.$$is_lambda=!0;try{return ge.apply(ve,me)}catch(N){if(N===ge.$$brk||N===ge.$$ret)return N.$v;throw N}finally{ge.$$jsid=be,ge.$$is_lambda=$e}}})),O.$$jsid=R,O.$$s=null,O.$$def=O,O.$$define_meth=!0,n.defn(ae,ie(R),O)},-2),P(e,"$freeze",function(){var R=this;return q(R["$frozen?"]())?R:(R.hasOwnProperty("$$base_module")||L(R,"$$base_module",null),v(R))}),P(e,"$remove_method",function(R){var G,O,ae=this;G=z(arguments),O=G;for(var oe=0;oe<O.length;oe++){var _e=a(O[oe]);Z(ae),n.rdef(ae,"$"+_e)}return ae},-1),P(e,"$singleton_class?",function(){var R=this;return!!R.$$is_singleton}),P(e,"$include",function(R){var G,O,ae=this;G=z(arguments),O=G;for(var oe=O.length-1;oe>=0;oe--){var _e=O[oe];_e.$$is_module||V.$raise(_("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$append_features(ae),_e.$included(ae)}return ae},-1),P(e,"$included_modules",function(){var R=this;return n.included_modules(R)}),P(e,"$include?",function(R){var G=this;R.$$is_module||V.$raise(_("TypeError"),"wrong argument type "+R.$class()+" (expected Module)");var O,ae,oe,_e=n.ancestors(G);for(O=0,ae=_e.length;O<ae;O++)if(oe=_e[O],oe===R&&oe!==G)return!0;return!1}),P(e,"$instance_method",function(R){var G=this,O=G.$$prototype[ie(R)];return(!O||O.$$stub)&&V.$raise(_("NameError").$new("undefined method `"+R+"' for class `"+G.$name()+"'",R)),_("UnboundMethod").$new(G,O.$$owner||G,O,R)}),P(e,"$instance_methods",function(R){var G=this;return R==null&&(R=!0),q(R)?n.instance_methods(G):n.own_instance_methods(G)},-1),P(e,"$included",A(K)),P(e,"$extended",A(K)),P(e,"$extend_object",function(R){return Z(R),K}),P(e,"$method_added",function(R){return z(arguments),K},-1),P(e,"$method_removed",function(R){return z(arguments),K},-1),P(e,"$method_undefined",function(R){return z(arguments),K},-1),P(e,"$module_eval",function C(R){var G=C.$$p||K,O,ae,oe,_e=this,de=K,ge=K,ve=K,me=K,be=K,$e=K;C.$$p=null,O=z(arguments),ae=O,q(G["$nil?"]())&&q(!!n.compile)?(q(k(1,3,!1)["$cover?"](ae.$size()))||V.$raise(_("ArgumentError"),"wrong number of arguments (0 for 1..3)"),oe=[].concat(j(ae)),de=oe[0]==null?K:oe[0],ge=oe[1]==null?K:oe[1],oe[2]==null||oe[2],ve=new Map([["file",q(me=ge)?me:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(ve),$e=te.$compile(de,be),G=b(V,"proc",[],function U(){var W=U.$$s==null?this:U.$$s;return new Function("Opal,self","return "+$e)(n,W)},{$$s:_e})):q(ae["$any?"]())&&V.$raise(_("ArgumentError"),"wrong number of arguments ("+ae.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var N=G.$$s,F;return G.$$s=null,F=G.apply(_e,[_e]),G.$$s=N,F},-1),P(e,"$module_exec",function C(R){var G=C.$$p||K,O,ae,oe=this;C.$$p=null,O=z(arguments),ae=O,G===K&&V.$raise(_("LocalJumpError"),"no block given");var _e=G.$$s,de;return G.$$s=null,de=G.apply(oe,ae),G.$$s=_e,de},-1),P(e,"$method_defined?",function(R){var G=this,O=G.$$prototype[ie(R)];return!!O&&!O.$$stub}),P(e,"$module_function",function(R){var G,O,ae=this;if(G=z(arguments),O=G,Z(ae),O.length===0)return ae.$$module_function=!0,K;for(var oe=0,_e=O.length;oe<_e;oe++){var de=O[oe],ge=ie(de),ve=ae.$$prototype[ge];n.defs(ae,ge,ve)}return O.length===1?O[0]:O},-1),P(e,"$name",function(){var R=this;if(R.$$full_name)return R.$$full_name;for(var G=[],O=R;O;){if(O.$$name===K||O.$$name==null)return K;if(G.unshift(O.$$name),O=O.$$base_module,O===I)break}return G.length===0?K:R.$$full_name=G.join("::")}),P(e,"$prepend",function(R){var G,O,ae=this;G=z(arguments),O=G,O.length===0&&V.$raise(_("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var oe=O.length-1;oe>=0;oe--){var _e=O[oe];_e.$$is_module||V.$raise(_("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$prepend_features(ae),_e.$prepended(ae)}return ae},-1),P(e,"$prepend_features",function(R){var G=this;return Z(R),G.$$is_module||V.$raise(_("TypeError"),"wrong argument type "+G.$class()+" (expected Module)"),n.prepend_features(G,R),G}),P(e,"$prepended",A(K)),P(e,"$remove_const",function(R){var G=this;return Z(G),n.const_remove(G,R)}),P(e,"$to_s",function(){var R=this,G=K;return q(G=n.Module.$name.call(R))?G:"#<"+(R.$$is_module?"Module":"Class")+":0x"+R.$__id__().$to_s(16)+">"}),P(e,"$undef_method",function(R){var G,O,ae=this;G=z(arguments),O=G;for(var oe=0;oe<O.length;oe++){var _e=a(O[oe]);Z(ae),n.udef(ae,"$"+_e)}return ae},-1),P(e,"$instance_variables",function(){var R=this,G=K;G=(n.Module.$$nesting=r,R.$constants());var O=[];return J(R,function(ae){ae!=="constructor"&&!G["$include?"](ae)&&O.push("@"+ae)}),O});function l(C,R){var G,O=n.own_instance_methods(C);for(G=0;G<O.length;G++){var ae=O[G],oe=ie(ae),_e=C.$$prototype[oe],de=n.wrap_method_body(_e);de.$$jsid=ae,n.defn(R,oe,de)}}function g(C,R){for(var G=C.$$own_included_modules,O=G.length-1;O>=0;O--)n.append_features(G[O],R)}function S(C,R){for(var G=C.$$own_prepended_modules,O=G.length-1;O>=0;O--)n.prepend_features(G[O],R)}return P(e,"$initialize_copy",function(R){var G=this;return l(R,G),g(R,G),S(R,G),G.$$cloned_from=R.$$cloned_from.concat(R),G.$copy_class_variables(R),G.$copy_constants(R)}),P(e,"$initialize_dup",function C(R){var G=C.$$p||K,O=this;return C.$$p=null,h(O,c(O,"initialize_dup",C,!1,!0),"initialize_dup",[R],G),O.$copy_singleton_methods(R)}),P(e,"$copy_class_variables",function(R){var G=this;for(var O in R.$$cvars)G.$$cvars[O]=R.$$cvars[O]}),P(e,"$copy_constants",function(R){var G=this,O,ae=R.$$const;for(O in ae)B(G,O,ae[O])}),P(e,"$refine",function C(R){var G=C.$$p||K,O,ae=this,oe=K,_e=K,de=K;return C.$$p=null,O=[ae,K,K],oe=O[0],_e=O[1],de=O[2],de=n.id(R),typeof ae.$$refine_modules>"u"&&(ae.$$refine_modules=Object.create(null)),typeof ae.$$refine_modules[de]>"u"?_e=ae.$$refine_modules[de]=_("Refinement").$new():_e=ae.$$refine_modules[de],_e.refinement_module=oe,_e.refined_class=R,b(_e,"class_exec",[],G.$to_proc()),_e}),P(e,"$refinements",function(){var R=this,G=R.$$refine_modules,O=new Map;if(typeof G>"u")return O;for(var ae in G)O["$[]="](G[ae].refined_class,G[ae]);return O}),P(e,"$using",function(R){return V.$raise("Module#using is not permitted in methods")}),o(e,"class_eval","module_eval"),o(e,"class_exec","module_exec"),o(e,"inspect","to_s")}("::",null,y),function(s,$){var t=Y(s,$,"Refinement"),e=t.$$prototype;return e.refinement_module=e.refined_class=K,t.$attr_reader("refined_class"),P(t,"$inspect",function r(){var i=r.$$p||K,a=this;return r.$$p=null,q(a.refinement_module)?"#<refinement:"+a.refined_class.$inspect()+"@"+a.refinement_module.$inspect()+">":h(a,c(a,"inspect",r,!1,!0),"inspect",[],i)})}("::",M)};Opal.modules["corelib/class"]=function(n){var q=n.klass,E=n.send,B=n.defs,I=n.def,ee=n.ensure_kwargs,Q=n.hash_get,T=n.eqeq,Z=n.truthy,v=n.rb_plus,L=n.return_val,ie=n.slice,J=n.send2,Y=n.find_super,te=n.Kernel,V=n.alias,x=n.top,b=[],P=n.nil,X=n.$$$;return n.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),x.$require("corelib/module"),function(M,H,p){var z=q(M,H,"Class"),j=[z].concat(p),A=n.$r(j);return B(z,"$new",function w(u){var d=w.$$p||P;if(w.$$p=null,u==null&&(u=A("Object")),!u.$$is_class)throw n.TypeError.$new("superclass must be a Class");var k=n.allocate_class(P,u);return u.$inherited(k),d!==P&&E(k,"class_eval",[],d.$to_proc()),k},-1),I(z,"$allocate",function(){var u=this,d=new u.$$constructor;return d.$$id=n.uid(),d}),I(z,"$clone",function(u){var d,k=this,h=P;return u=ee(u),d=Q(u,"freeze"),d==null&&(d=P),Z(d["$nil?"]())||T(d,!0)||T(d,!1)||k.$raise(A("ArgumentError"),"unexpected value for freeze: "+d.$class()),h=n.allocate_class(P,k.$$super),h.$copy_instance_variables(k),h.$copy_singleton_methods(k),h.$initialize_clone(k,new Map([["freeze",d]])),(T(d,!0)||Z(d["$nil?"]())&&Z(k["$frozen?"]()))&&h.$freeze(),h},-1),I(z,"$dup",function(){var u=this,d=P;return d=n.allocate_class(P,u.$$super),d.$copy_instance_variables(u),d.$initialize_dup(u),d}),I(z,"$descendants",function(){var u=this;return v(u.$subclasses(),E(u.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),I(z,"$inherited",L(P)),I(z,"$new",function w(u){var d=w.$$p||P,k,h,c=this;w.$$p=null,k=ie(arguments),h=k;var o=c.$allocate();return n.send(o,o.$initialize,h,d),o},-1),I(z,"$subclasses",function(){var u=this;if(typeof WeakRef<"u"){var d,k,h=[];for(d=0;d<u.$$subclasses.length;d++)k=u.$$subclasses[d].deref(),k!==void 0&&h.push(k);return h}else return u.$$subclasses}),I(z,"$superclass",function(){var u=this;return u.$$super||P}),I(z,"$to_s",function w(){w.$$p;var u=this;w.$$p=null;var d=u.$$singleton_of;return d&&d.$$is_a_module?"#<Class:"+d.$name()+">":d?"#<Class:#<"+d.$$class.$name()+":0x"+n.id(d).$to_s(16)+">>":J(u,Y(u,"to_s",w,!1,!0),"to_s",[],null)}),I(z,"$attached_object",function(){var u=this;if(u.$$singleton_of!=null)return u.$$singleton_of;te.$raise(X("TypeError"),"`"+u+"' is not a singleton class")}),V(z,"inspect","to_s")}("::",null,b)};Opal.modules["corelib/basic_object"]=function(n){var q=n.klass,E=n.slice,B=n.def,I=n.alias,ee=n.return_val,Q=n.Opal,T=n.truthy,Z=n.range,v=n.Kernel,L=n.to_a,ie=n.send,J=n.eqeq,Y=n.rb_ge,te=n.nil,V=n.$$$;return n.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(x,b){var P=q(x,b,"BasicObject");return B(P,"$initialize",function(M){return E(arguments),te},-1),B(P,"$==",function(M){var H=this;return H===M}),B(P,"$eql?",function(M){var H=this;return H["$=="](M)}),I(P,"equal?","=="),B(P,"$__id__",function(){var M=this;return M.$$id!=null||n.prop(M,"$$id",n.uid()),M.$$id}),B(P,"$__send__",function X(M,H){var p=X.$$p||te,z,j,A=this;X.$$p=null,z=E(arguments,1),j=z,M.$$is_string||A.$raise(V("TypeError"),""+A.$inspect()+" is not a symbol nor a string");var w=A[n.jsid(M)];return w?(p!==te&&(w.$$p=p),w.apply(A,j)):(p!==te&&(A.$method_missing.$$p=p),A.$method_missing.apply(A,[M].concat(j)))},-2),B(P,"$!",ee(!1)),Q.$pristine("!"),B(P,"$!=",function(M){var H=this;return H["$=="](M)["$!"]()}),B(P,"$instance_eval",function X(M){var H=X.$$p||te,p,z,j,A=this,w=te,u=te,d=te,k=te,h=te,c=te;if(X.$$p=null,p=E(arguments),z=p,T(H["$nil?"]())&&T(!!n.compile))T(Z(1,3,!1)["$cover?"](z.$size()))||v.$raise(V("ArgumentError"),"wrong number of arguments (0 for 1..3)"),j=[].concat(L(z)),w=j[0]==null?te:j[0],u=j[1]==null?te:j[1],j[2]==null||j[2],d=new Map([["file",T(k=u)?k:"(eval)"],["eval",!0]]),h=new Map([["arity_check",!1]]).$merge(d),c=Q.$compile(w,h),H=ie(v,"proc",[],function K(){var _=K.$$s==null?this:K.$$s;return new Function("Opal,self","return "+c)(n,_)},{$$s:A});else{if(T(H["$nil?"]())&&T(Y(z.$length(),1))&&J(z.$first()["$[]"](0),"@"))return A.$instance_variable_get(z.$first());T(z["$any?"]())&&v.$raise(V("ArgumentError"),"wrong number of arguments ("+z.$size()+" for 0)")}var o=H.$$s,y;if(H.$$s=null,A.$$is_a_module){A.$$eval=!0;try{y=H.call(A,A)}finally{A.$$eval=!1}}else y=H.call(A,A);return H.$$s=o,y},-1),B(P,"$instance_exec",function X(M){var H=X.$$p||te,p,z,j=this;X.$$p=null,p=E(arguments),z=p,T(H)||v.$raise(V("ArgumentError"),"no block given");var A=H.$$s,w;if(H.$$s=null,j.$$is_a_module){j.$$eval=!0;try{w=H.apply(j,z)}finally{j.$$eval=!1}}else w=H.apply(j,z);return H.$$s=A,w},-1),B(P,"$singleton_method_added",function(M){return E(arguments),te},-1),B(P,"$singleton_method_removed",function(M){return E(arguments),te},-1),B(P,"$singleton_method_undefined",function(M){return E(arguments),te},-1),B(P,"$method_missing",function X(M,H){X.$$p;var p,z,j=this,A=te;return X.$$p=null,p=E(arguments,1),z=p,A=Q.$inspect(j),v.$raise(V("NoMethodError").$new("undefined method `"+M+"' for "+A,M,z),te,v.$caller(1))},-2),Q.$pristine(P,"method_missing"),B(P,"$respond_to_missing?",function(M,H){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(n){var q=n.truthy,E=n.coerce_to,B=n.respond_to,I=n.Opal,ee=n.deny_frozen_access,Q=n.freeze,T=n.freeze_props,Z=n.jsid,v=n.each_ivar,L=n.module,ie=n.return_val,J=n.def,Y=n.Kernel,te=n.gvars,V=n.slice,x=n.send,b=n.to_a,P=n.ensure_kwargs,X=n.hash_get,M=n.eqeq,H=n.rb_plus,p=n.extract_kwargs,z=n.eqeqeq,j=n.return_self,A=n.rb_le,w=n.rb_lt,u=n.Object,d=n.alias,k=n.klass,h=[],c=n.nil,o=n.$$$;return n.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(y,K){var _=L(y,"Kernel"),s=[_].concat(K),$=n.$r(s);J(_,"$=~",ie(!1)),J(_,"$!~",function(r){var i=this;return i["$=~"](r)["$!"]()}),J(_,"$===",function(r){var i=this,a=c;return q(a=i.$object_id()["$=="](r.$object_id()))?a:i["$=="](r)}),J(_,"$<=>",function(r){var i=this;i.$$comparable=!0;var a=i["$=="](r);return a&&a!==c?0:c}),J(_,"$method",function(r){var i=this,a=i[Z(r)];return(!a||a.$$stub)&&Y.$raise(o("NameError").$new("undefined method `"+r+"' for class `"+i.$class()+"'",r)),o("Method").$new(i,a.$$owner||i.$class(),a,r)}),J(_,"$methods",function(r){var i=this;return r==null&&(r=!0),q(r)?n.methods(i):n.own_methods(i)},-1),J(_,"$public_methods",function(r){var i=this;return r==null&&(r=!0),q(r)?n.methods(i):n.receiver_methods(i)},-1),J(_,"$Array",function(r){var i;return r===c?[]:r.$$is_array?r:(i=I["$coerce_to?"](r,o("Array"),"to_ary"),i!==c||(i=I["$coerce_to?"](r,o("Array"),"to_a"),i!==c)?i:[r])}),J(_,"$at_exit",function e(){var r=e.$$p||c,i=c;return te.__at_exit__==null&&(te.__at_exit__=c),e.$$p=null,te.__at_exit__=q(i=te.__at_exit__)?i:[],te.__at_exit__["$<<"](r),r}),J(_,"$caller",function(r,i){r==null&&(r=1),i==null&&(i=c);var a,l;a=new Error().$backtrace(),l=[];for(var g=r+1,S=a.length;g<S;g++)a[g].match(/runtime\.js/)||l.push(a[g]);return i!=c&&(l=l.slice(0,i)),l},-1),J(_,"$caller_locations",function(r){var i,a,l=this;return i=V(arguments),a=i,x(x(l,"caller",b(a)),"map",[],function(S){return S==null&&(S=c),o(o(o("Thread"),"Backtrace"),"Location").$new(S)})},-1),J(_,"$class",function(){var r=this;return r.$$class}),J(_,"$copy_instance_variables",function(r){var i=this,a=Object.keys(r),l,g,S;for(l=0,g=a.length;l<g;l++)S=a[l],S.charAt(0)!=="$"&&r.hasOwnProperty(S)&&(i[S]=r[S])}),J(_,"$copy_singleton_methods",function(r){var i=this,a,l,g,S;if(r.hasOwnProperty("$$meta")&&r.$$meta!==null){var C=n.get_singleton_class(r),R=n.get_singleton_class(i);for(g=Object.getOwnPropertyNames(C.$$prototype),a=0,S=g.length;a<S;a++)l=g[a],n.is_method(l)&&(R.$$prototype[l]=C.$$prototype[l]);R.$$const=Object.assign({},C.$$const),Object.setPrototypeOf(R.$$prototype,Object.getPrototypeOf(C.$$prototype))}for(a=0,g=Object.getOwnPropertyNames(r),S=g.length;a<S;a++)l=g[a],l.charAt(0)==="$"&&l.charAt(1)!=="$"&&r.hasOwnProperty(l)&&(i[l]=r[l])}),J(_,"$clone",function(r){var i,a=this,l=c;return r=P(r),i=X(r,"freeze"),i==null&&(i=c),q(i["$nil?"]())||M(i,!0)||M(i,!1)||a.$raise($("ArgumentError"),"unexpected value for freeze: "+i.$class()),l=a.$class().$allocate(),l.$copy_instance_variables(a),l.$copy_singleton_methods(a),l.$initialize_clone(a,new Map([["freeze",i]])),(M(i,!0)||q(i["$nil?"]())&&q(a["$frozen?"]()))&&l.$freeze(),l},-1),J(_,"$initialize_clone",function(r,i){var a=this;return i=P(i),X(i,"freeze"),a.$initialize_copy(r),a},-2),J(_,"$define_singleton_method",function e(r,i){var a=e.$$p||c,l=this;return e.$$p=null,x(l.$singleton_class(),"define_method",[r,i],a.$to_proc())},-2),J(_,"$dup",function(){var r=this,i=c;return i=r.$class().$allocate(),i.$copy_instance_variables(r),i.$initialize_dup(r),i}),J(_,"$initialize_dup",function(r){var i=this;return i.$initialize_copy(r)}),J(_,"$enum_for",function e(r,i){var a=e.$$p||c,l,g,S,C=this;return e.$$p=null,l=V(arguments),l.length>0&&(g=l.shift()),g==null&&(g="each"),S=l,x(o("Enumerator"),"for",[C,g].concat(b(S)),a.$to_proc())},-1),J(_,"$equal?",function(r){var i=this;return i===r}),J(_,"$exit",function(r){var i=c,a=c;for(te.__at_exit__==null&&(te.__at_exit__=c),r==null&&(r=!0),te.__at_exit__=q(i=te.__at_exit__)?i:[];!q(te.__at_exit__["$empty?"]());)a=te.__at_exit__.$pop(),a.$call();return r.$$is_boolean?r=r?0:1:r=E(r,o("Integer"),"to_int"),n.exit(r),c},-1),J(_,"$extend",function(r){var i,a,l=this;i=V(arguments),a=i,a.length==0&&l.$raise(o("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),ee(l);for(var g=l.$singleton_class(),S=a.length-1;S>=0;S--){var C=a[S];C.$$is_module||Y.$raise(o("TypeError"),"wrong argument type "+C.$class()+" (expected Module)"),C.$append_features(g),C.$extend_object(l),C.$extended(l)}return l},-1),J(_,"$freeze",function(){var r=this;return q(r["$frozen?"]())?r:typeof r=="object"?(T(r),Q(r)):r}),J(_,"$frozen?",function(){var r=this;switch(typeof r){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return r.$$frozen||!1;default:return!1}}),J(_,"$gets",function(r){var i,a;return te.stdin==null&&(te.stdin=c),i=V(arguments),a=i,x(te.stdin,"gets",b(a))},-1),J(_,"$hash",function(){var r=this;return r.$__id__()}),J(_,"$initialize_copy",ie(c));var t=[];return J(_,"$inspect",function(){var r=this,i=c,a=c,l=c,g=c;return function(){try{try{return i="",a=r.$__id__(),q(t["$include?"](a))?i=" ...":(t["$<<"](a),l=!0,x(r.$instance_variables(),"each",[],function S(C){var R=S.$$s==null?this:S.$$s,G=c,O=c;return C==null&&(C=c),G=R.$instance_variable_get(C),O=$("Opal").$inspect(G),i=H(i," "+C+"="+O)},{$$s:r})),"#<"+r.$class()+":0x"+a.$to_s(16)+i+">"}catch(S){if(n.rescue(S,[$("StandardError")])){g=S;try{return"#<"+r.$class()+":0x"+a.$to_s(16)+">"}finally{n.pop_exception(S)}}else throw S}}finally{q(l)&&t.$pop()}}()}),J(_,"$instance_of?",function(r){var i=this;return!r.$$is_class&&!r.$$is_module&&Y.$raise(o("TypeError"),"class or module required"),i.$$class===r}),J(_,"$instance_variable_defined?",function(r){var i=this;return r=I["$instance_variable_name!"](r),n.hasOwnProperty.call(i,r.substr(1))}),J(_,"$instance_variable_get",function(r){var i=this;r=I["$instance_variable_name!"](r);var a=i[n.ivar(r.substr(1))];return a??c}),J(_,"$instance_variable_set",function(r,i){var a=this;return ee(a),r=I["$instance_variable_name!"](r),a[n.ivar(r.substr(1))]=i}),J(_,"$remove_instance_variable",function(r){var i=this;r=I["$instance_variable_name!"](r);var a=n.ivar(r.substr(1)),l;return i.hasOwnProperty(a)?(l=i[a],delete i[a],l):Y.$raise(o("NameError"),"instance variable "+r+" not defined")}),J(_,"$instance_variables",function(){var r=this,i=[];return v(r,function(a){a.substr(-1)==="$"&&(a=a.slice(0,a.length-1)),i.push("@"+a)}),i}),J(_,"$Integer",function(r,i,a){var l,g,S,C;l=V(arguments,1),g=p(l),g=P(g),l.length>0&&(S=l.shift()),C=X(g,"exception"),C==null&&(C=!0);var R,G,O;if(C=q(C),!r.$$is_string){if(S!==void 0)if(C)Y.$raise(o("ArgumentError"),"base specified for non string value");else return c;if(r===c)if(C)Y.$raise(o("TypeError"),"can't convert nil into Integer");else return c;if(r.$$is_number){if(r===1/0||r===-1/0||isNaN(r))if(C)Y.$raise(o("FloatDomainError"),r);else return c;return Math.floor(r)}if(r["$respond_to?"]("to_int")&&(R=r.$to_int(),n.is_a(R,o("Integer")))||r["$respond_to?"]("to_i")&&(R=r.$to_i(),n.is_a(R,o("Integer"))))return R;if(C)Y.$raise(o("TypeError"),"can't convert "+r.$class()+" into Integer");else return c}if(r==="0")return 0;if(S===void 0)S=0;else if(S=E(S,o("Integer"),"to_int"),S===1||S<0||S>36)if(C)Y.$raise(o("ArgumentError"),"invalid radix "+S);else return c;if(G=r.toLowerCase(),G=G.replace(/(\d)_(?=\d)/g,"$1"),G=G.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ae,oe,_e){switch(_e){case"0b":if(S===0||S===2)return S=2,oe;case"0":case"0o":if(S===0||S===8)return S=8,oe;case"0d":if(S===0||S===10)return S=10,oe;case"0x":if(S===0||S===16)return S=16,oe}if(C)Y.$raise(o("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c}),S=S===0?10:S,O="0-"+(S<=10?S-1:"9a-"+String.fromCharCode(97+(S-11))),!new RegExp("^\\s*[+-]?["+O+"]+\\s*$").test(G))if(C)Y.$raise(o("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c;if(R=parseInt(G,S),isNaN(R))if(C)Y.$raise(o("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c;return R},-2),J(_,"$Float",function(r,i){var a;i=P(i),a=X(i,"exception"),a==null&&(a=!0);var l;if(a=q(a),r===c)if(a)Y.$raise(o("TypeError"),"can't convert nil into Float");else return c;if(r.$$is_string){if(l=r.toString(),l=l.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(l))return Y.$Integer(l);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(l))if(a)Y.$raise(o("ArgumentError"),'invalid value for Float(): "'+r+'"');else return c;return parseFloat(l)}return a?I["$coerce_to!"](r,o("Float"),"to_f"):E(r,o("Float"),"to_f")},-2),J(_,"$Hash",function(r){return q(r["$nil?"]())||M(r,[])?new Map:z(o("Hash"),r)?r:I["$coerce_to!"](r,o("Hash"),"to_hash")}),J(_,"$is_a?",function(r){var i=this;return!r.$$is_class&&!r.$$is_module&&Y.$raise(o("TypeError"),"class or module required"),n.is_a(i,r)}),J(_,"$itself",j),J(_,"$lambda",function e(){var r=e.$$p||c;return e.$$p=null,n.lambda(r)}),J(_,"$load",function(r){return r=I["$coerce_to!"](r,o("String"),"to_str"),n.load(r)}),J(_,"$loop",function e(){var r=e.$$p||c,i=this,a=c;if(e.$$p=null,r===c)return x(i,"enum_for",["loop"],function(){return o(o("Float"),"INFINITY")});for(;q(!0);)try{n.yieldX(r,[])}catch(l){if(n.rescue(l,[o("StopIteration")])){a=l;try{return a.$result()}finally{n.pop_exception(l)}}else throw l}return i}),J(_,"$nil?",ie(!1)),J(_,"$printf",function(r){var i,a,l=this,g=c;return te.stdout==null&&(te.stdout=c),i=V(arguments),a=i,q(a["$empty?"]())||(g=q(a[0].$$is_string)?te.stdout:a.$shift(),g.$write(x(l,"format",b(a)))),c},-1),J(_,"$proc",function e(){var r=e.$$p||c;return e.$$p=null,q(r)||Y.$raise(o("ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r}),J(_,"$puts",function(r){var i,a;return te.stdout==null&&(te.stdout=c),i=V(arguments),a=i,x(te.stdout,"puts",b(a))},-1),J(_,"$p",function(r){var i,a;return i=V(arguments),a=i,x(a,"each",[],function(g){return te.stdout==null&&(te.stdout=c),g==null&&(g=c),te.stdout.$puts(g.$inspect())}),q(A(a.$length(),1))?a["$[]"](0):a},-1),J(_,"$print",function(r){var i,a;return te.stdout==null&&(te.stdout=c),i=V(arguments),a=i,x(te.stdout,"print",b(a))},-1),J(_,"$readline",function(r){var i,a;return te.stdin==null&&(te.stdin=c),i=V(arguments),a=i,x(te.stdin,"readline",b(a))},-1),J(_,"$warn",function(r,i){var a,l,g,S,C,R,G=this,O=c;return te.VERBOSE==null&&(te.VERBOSE=c),te.stderr==null&&(te.stderr=c),a=V(arguments),l=p(a),l=P(l),g=a,S=X(l,"uplevel"),S==null&&(S=c),q(S)&&(S=I["$coerce_to!"](S,o("Integer"),"to_str"),q(w(S,0))&&Y.$raise(o("ArgumentError"),"negative level ("+S+")"),O=(C=(R=G.$caller(H(S,1),1).$first(),R===c||R==null?c:R.$split(":in `")),C===c||C==null?c:C.$first()),q(O)&&(O=""+O+": "),g=x(g,"map",[],function(oe){return oe==null&&(oe=c),""+O+"warning: "+oe})),q(te.VERBOSE["$nil?"]())||q(g["$empty?"]())?c:x(te.stderr,"puts",b(g))},-1),J(_,"$raise",function(r,i,a){throw te["!"]==null&&(te["!"]=c),i==null&&(i=c),a==null&&(a=c),r==null&&te["!"]!==c?te["!"]:(r==null?r=o("RuntimeError").$new(""):B(r,"$to_str")?r=o("RuntimeError").$new(r.$to_str()):r.$$is_class&&B(r,"$exception")?r=r.$exception(i):r.$$is_exception||(r=o("TypeError").$new("exception class/object expected")),a!==c&&r.$set_backtrace(a),te["!"]!==c&&n.exceptions.push(te["!"]),te["!"]=r,r)},-1),J(_,"$rand",function(r){return r===void 0?o(o("Random"),"DEFAULT").$rand():(r.$$is_number&&(r<0&&(r=Math.abs(r)),r%1!==0&&(r=r.$to_i()),r===0&&(r=void 0)),o(o("Random"),"DEFAULT").$rand(r))},-1),J(_,"$respond_to?",function(r,i){var a=this;i==null&&(i=!1);var l=a[Z(r)];return typeof l=="function"&&!l.$$stub?!0:a["$respond_to_missing?"].$$pristine===!0?!1:a["$respond_to_missing?"](r,i)},-2),J(_,"$respond_to_missing?",function(r,i){return!1},-2),I.$pristine(_,"respond_to?","respond_to_missing?"),J(_,"$require",function(r){return typeof r!="string"&&n.String&&n.Array&&(r=I["$coerce_to!"](r,o("String"),"to_str")),n.require(r)}),J(_,"$require_relative",function(r){return I["$try_convert!"](r,o("String"),"to_str"),r=o("File").$expand_path(o("File").$join(n.current_file,"..",r)),n.require(r)}),J(_,"$require_tree",function(r,i){var a;i=P(i),a=X(i,"autoload"),a==null&&(a=!1);var l=[];r=o("File").$expand_path(r),r=n.normalize(r),r==="."&&(r="");for(var g in n.modules)g["$start_with?"](r)&&(a?l.push([g,!0]):l.push([g,n.require(g)]));return l},-2),J(_,"$singleton_class",function(){var r=this;return n.get_singleton_class(r)}),J(_,"$sleep",function(r){r==null&&(r=c),r===c&&Y.$raise(o("TypeError"),"can't convert NilClass into time interval"),r.$$is_number||Y.$raise(o("TypeError"),"can't convert "+r.$class()+" into time interval"),r<0&&Y.$raise(o("ArgumentError"),"time interval must be positive");for(var i=n.global.performance?function(){return performance.now()}:function(){return new Date},a=i();i()-a<=r*1e3;);return Math.round(r)},-1),J(_,"$srand",function(r){return r==null&&(r=$("Random").$new_seed()),o("Random").$srand(r)},-1),J(_,"$String",function(r){var i=c;return q(i=I["$coerce_to?"](r,o("String"),"to_str"))?i:I["$coerce_to!"](r,o("String"),"to_s")}),J(_,"$tap",function e(){var r=e.$$p||c,i=this;return e.$$p=null,n.yield1(r,i),i}),J(_,"$to_proc",j),J(_,"$to_s",function(){var r=this;return"#<"+r.$class()+":0x"+r.$__id__().$to_s(16)+">"}),J(_,"$catch",function e(r){var i=e.$$p||c,a=c,l=c;e.$$p=null,r==null&&(r=c);try{return r=q(a=r)?a:u.$new(),n.yield1(i,r)}catch(g){if(n.rescue(g,[o("UncaughtThrowError")])){l=g;try{return M(l.$tag(),r)?l.$value():Y.$raise()}finally{n.pop_exception(g)}}else throw g}},-1),J(_,"$throw",function(r,i){return i==null&&(i=c),Y.$raise(o("UncaughtThrowError").$new(r,i))},-2),J(_,"$open",function e(r){var i=e.$$p||c,a,l;return e.$$p=null,a=V(arguments),l=a,x(o("File"),"open",b(l),i.$to_proc())},-1),J(_,"$yield_self",function e(){var r=e.$$p||c,i=this;return e.$$p=null,r===c?x(i,"enum_for",["yield_self"],ie(1)):n.yield1(r,i)}),d(_,"fail","raise"),d(_,"kind_of?","is_a?"),d(_,"object_id","__id__"),d(_,"public_send","__send__"),d(_,"send","__send__"),d(_,"then","yield_self"),d(_,"to_enum","enum_for")}("::",h),function(y,K){var _=k(y,K,"Object");return delete u.$$prototype.$require,_.$include(Y)}("::",null)};Opal.modules["corelib/main"]=function(n){var q=n.return_val,E=n.def,B=n.Object,I=n.slice,ee=n.Kernel,Q=n.top;return n.nil,n.add_stubs("include,raise"),function(T,Z){return E(T,"$to_s",q("main")),E(T,"$include",function(L){return B.$include(L)}),E(T,"$autoload",function(L){var ie,J;return ie=I(arguments),J=ie,n.Object.$autoload.apply(n.Object,J)},-1),E(T,"$using",function(L){return ee.$raise("main.using is permitted only at toplevel")})}(n.get_singleton_class(Q))};Opal.modules["corelib/error/errno"]=function(n){var q=n.module,E=n.truthy,B=n.rb_plus,I=n.send2,ee=n.find_super,Q=n.def,T=n.klass,Z=n.nil,v=n.$$$;return n.add_stubs("+,errno,class,attr_reader"),function(L,ie){var J=q(L,"Errno"),Y=Z,te=Z;Y=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],te=Z;var V;for(V=0;V<Y.length;V++)(function(){var x=Y[V][0],b=Y[V][1],P=Y[V][2];te=n.klass(J,n.SystemCallError,x),te.errno=P,function(X,M){return Q(X,"$new",function H(p){H.$$p;var z=this,j=Z;return H.$$p=null,p==null&&(p=Z),j=b,E(p)&&(j=B(j," - "+p)),I(z,ee(z,"new",H,!1,!0),"new",[j],null)},-1)}(n.get_singleton_class(te))})()}("::"),function(L,ie,J){var Y=T(L,ie,"SystemCallError");return Q(Y,"$errno",function(){var V=this;return V.$class().$errno()}),function(te,V){return te.$attr_reader("errno")}(n.get_singleton_class(Y))}("::",v("StandardError"))};Opal.modules["corelib/error"]=function(n){var q=n.klass,E=n.slice,B=n.gvars,I=n.defs,ee=n.send,Q=n.to_a,T=n.def,Z=n.send2,v=n.find_super,L=n.truthy,ie=n.Kernel,J=n.not,Y=n.rb_plus,te=n.eqeq,V=n.Object,x=n.ensure_kwargs,b=n.hash_get,P=n.module,X=[],M=n.nil,H=n.$$$;return n.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(p,z,j){var A=q(p,z,"Exception"),w=[A].concat(j),u=n.$r(w),d=A.$$prototype;d.message=M,n.prop(A.$$prototype,"$$is_exception",!0);var k;Error.stackTraceLimit=100,I(A,"$new",function(o){var y,K,_=this;B["!"]==null&&(B["!"]=M),y=E(arguments),K=y;var s=K.length>0?K[0]:M,$=new _.$$constructor(s);return $.name=_.$$name,$.message=s,$.cause=B["!"],n.send($,$.$initialize,K),n.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace($,k),$},-1),k=A.$new,I(A,"$exception",function(o){var y,K,_=this;return y=E(arguments),K=y,ee(_,"new",Q(K))},-1),T(A,"$initialize",function(o){var y,K,_=this;return y=E(arguments),K=y,_.message=K.length>0?K[0]:M},-1),T(A,"$copy_instance_variables",function c(o){var y=c.$$p||M,K=this;c.$$p=null,Z(K,v(K,"copy_instance_variables",c,!1,!0),"copy_instance_variables",[o],y),K.message=o.message,K.cause=o.cause,K.stack=o.stack});function h(c){for(var o=[],y,K=0;K<c.length;K++){var _=c[K];!_||!_.$$is_string||((y=_.match(/^    at (.*?) \((.*?)\)$/))?o.push(y[2]+":in `"+y[1]+"'"):(y=_.match(/^    at (.*?)$/))?o.push(y[1]+":in `undefined'"):(y=_.match(/^  from (.*?)$/))?o.push(y[1]):(y=_.match(/^(.*?)@(.*?)$/))&&o.push(y[2]+":in `"+y[1]+"'"))}return o}return T(A,"$backtrace",function(){var o=this;if(o.backtrace)return o.backtrace;var y=o.stack;return typeof y<"u"&&y.$$is_string?o.backtrace=h(y.split(`
`)):y?o.backtrace=h(y):[]}),T(A,"$backtrace_locations",function(){var o,y=this;return y.backtrace_locations||(y.backtrace_locations=(o=y.$backtrace(),o===M||o==null?M:ee(o,"map",[],function(_){return _==null&&(_=M),H(H(H("Thread"),"Backtrace"),"Location").$new(_)}))),y.backtrace_locations}),T(A,"$cause",function(){var o=this;return o.cause||M}),T(A,"$exception",function(o){var y=this;if(o==null&&(o=M),o===M||y===o)return y;var K=y.$clone();return K.message=o,y.backtrace&&(K.backtrace=y.backtrace.$dup()),K.stack=y.stack,K.cause=y.cause,K},-1),T(A,"$message",function(){var o=this;return o.$to_s()}),T(A,"$full_message",function(o){var y,K=this,_=M,s=M,$=M,t=M,e=M,r=M,i=M,a=M,l=M;return B.stderr==null&&(B.stderr=M),o==null&&(o=M),L(u("Hash","skip_raise")?"constant":M)?(o=new Map([["highlight",B.stderr["$tty?"]()],["order","top"]]).$merge(L(_=o)?_:new Map),y=[o["$[]"]("highlight"),o["$[]"]("order")],s=y[0],$=y[1],L([!0,!1]["$include?"](s))||ie.$raise(H("ArgumentError"),"expected true or false as highlight: "+s),L(["top","bottom"]["$include?"]($))||ie.$raise(H("ArgumentError"),"expected :top or :bottom as order: "+$),L(s)?(t="\x1B[1;4m",e="\x1B[1m",r="\x1B[m"):t=e=r="",i=K.$backtrace().$dup(),(J(i)||L(i["$empty?"]()))&&(i=K.$caller()),a=i.$shift(),l=""+a+": ",l=Y(l,""+e+K.$to_s()+" ("+t+K.$class()+r+e+")"+r+`
`),l=Y(l,ee(i,"map",[],function(S){return S==null&&(S=M),"	from "+S+`
`}).$join()),L(K.$cause())&&(l=Y(l,K.$cause().$full_message(new Map([["highlight",s]])))),te($,"bottom")&&(l=l.$split(`
`).$reverse().$join(`
`),l=Y(""+e+"Traceback"+r+` (most recent call last):
`,l)),l):""+K.message+`
`+K.stack},-1),T(A,"$inspect",function(){var o=this,y=M;return y=o.$to_s(),L(y["$empty?"]())?o.$class().$to_s():"#<"+o.$class().$to_s()+": "+o.$to_s()+">"}),T(A,"$set_backtrace",function(o){var y=this,K=!0,_,s;if(o===M)y.backtrace=M,y.stack="";else if(o.$$is_string)y.backtrace=[o],y.stack="  from "+o;else{if(o.$$is_array){for(_=0,s=o.length;_<s;_++)if(!o[_].$$is_string){K=!1;break}}else K=!1;K===!1&&ie.$raise(H("TypeError"),"backtrace must be Array of String"),y.backtrace=o,y.stack=ee(o,"map",[],function(t){return t==null&&(t=M),Y("  from ",t)}).join(`
`)}return o}),T(A,"$to_s",function(){var o=this,y=M,K=M;return L(y=L(K=o.message)?o.message.$to_s():K)?y:o.$class().$to_s()})}("::",Error,X),q("::",H("Exception"),"ScriptError"),q("::",H("ScriptError"),"SyntaxError"),q("::",H("ScriptError"),"LoadError"),q("::",H("ScriptError"),"NotImplementedError"),q("::",H("Exception"),"SystemExit"),q("::",H("Exception"),"NoMemoryError"),q("::",H("Exception"),"SignalException"),q("::",H("SignalException"),"Interrupt"),q("::",H("Exception"),"SecurityError"),q("::",H("Exception"),"SystemStackError"),q("::",H("Exception"),"StandardError"),q("::",H("StandardError"),"EncodingError"),q("::",H("StandardError"),"ZeroDivisionError"),q("::",H("StandardError"),"NameError"),q("::",H("NameError"),"NoMethodError"),q("::",H("StandardError"),"RuntimeError"),q("::",H("RuntimeError"),"FrozenError"),q("::",H("StandardError"),"LocalJumpError"),q("::",H("StandardError"),"TypeError"),q("::",H("StandardError"),"ArgumentError"),q("::",H("ArgumentError"),"UncaughtThrowError"),q("::",H("StandardError"),"IndexError"),q("::",H("IndexError"),"StopIteration"),q("::",H("StopIteration"),"ClosedQueueError"),q("::",H("IndexError"),"KeyError"),q("::",H("StandardError"),"RangeError"),q("::",H("RangeError"),"FloatDomainError"),q("::",H("StandardError"),"IOError"),q("::",H("IOError"),"EOFError"),q("::",H("StandardError"),"SystemCallError"),q("::",H("StandardError"),"RegexpError"),q("::",H("StandardError"),"ThreadError"),q("::",H("StandardError"),"FiberError"),V.$autoload("Errno","corelib/error/errno"),function(p,z){var j=q(p,z,"FrozenError");return j.$attr_reader("receiver"),T(j,"$initialize",function A(w,u){var d;A.$$p;var k=this;return A.$$p=null,u=x(u),d=b(u,"receiver"),d==null&&(d=M),Z(k,v(k,"initialize",A,!1,!0),"initialize",[w],null),k.receiver=d},-2)}("::",H("RuntimeError")),function(p,z){var j=q(p,z,"UncaughtThrowError"),A=j.$$prototype;return A.tag=M,j.$attr_reader("tag","value"),T(j,"$initialize",function w(u,d){w.$$p;var k=this;return w.$$p=null,d==null&&(d=M),k.tag=u,k.value=d,Z(k,v(k,"initialize",w,!1,!0),"initialize",["uncaught throw "+k.tag.$inspect()],null)},-2)}("::",H("ArgumentError")),function(p,z){var j=q(p,z,"NameError");return j.$attr_reader("name"),T(j,"$initialize",function A(w,u){A.$$p;var d=this;return A.$$p=null,u==null&&(u=M),Z(d,v(d,"initialize",A,!1,!0),"initialize",[w],null),d.name=u},-2)}("::",null),function(p,z){var j=q(p,z,"NoMethodError");return j.$attr_reader("args"),T(j,"$initialize",function A(w,u,d){A.$$p;var k=this;return A.$$p=null,u==null&&(u=M),d==null&&(d=[]),Z(k,v(k,"initialize",A,!1,!0),"initialize",[w,u],null),k.args=d},-2)}("::",null),function(p,z){var j=q(p,z,"StopIteration");return j.$attr_reader("result")}("::",null),function(p,z){var j=q(p,z,"KeyError"),A=j.$$prototype;return A.receiver=A.key=M,T(j,"$initialize",function w(u,d){var k,h;w.$$p;var c=this;return w.$$p=null,d=x(d),k=b(d,"receiver"),k==null&&(k=M),h=b(d,"key"),h==null&&(h=M),Z(c,v(c,"initialize",w,!1,!0),"initialize",[u],null),c.receiver=k,c.key=h},-2),T(j,"$receiver",function(){var u=this,d=M;return L(d=u.receiver)?d:ie.$raise(H("ArgumentError"),"no receiver is available")}),T(j,"$key",function(){var u=this,d=M;return L(d=u.key)?d:ie.$raise(H("ArgumentError"),"no key is available")})}("::",null),function(p,z){var j=q(p,z,"LocalJumpError");return j.$attr_reader("exit_value","reason"),T(j,"$initialize",function A(w,u,d){A.$$p;var k=this;return A.$$p=null,u==null&&(u=M),d==null&&(d="noreason"),Z(k,v(k,"initialize",A,!1,!0),"initialize",[w],null),k.exit_value=u,k.reason=d},-2)}("::",null),function(p,z){var j=P(p,"JS"),A=[j].concat(z);return q(A[0],null,"Error"),M}("::",X)};Opal.modules["corelib/constants"]=function(n){var q=n.const_set;n.nil;var E=n.$$$;return q("::","RUBY_PLATFORM","opal"),q("::","RUBY_ENGINE","opal"),q("::","RUBY_VERSION","3.2.0"),q("::","RUBY_ENGINE_VERSION","1.8.2"),q("::","RUBY_RELEASE_DATE","2023-11-23"),q("::","RUBY_PATCHLEVEL",0),q("::","RUBY_REVISION","0"),q("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),q("::","RUBY_DESCRIPTION","opal "+E("RUBY_ENGINE_VERSION")+" ("+E("RUBY_RELEASE_DATE")+" revision "+E("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(n){var q=n.Object;return n.nil,n.add_stubs("require"),q.$require("corelib/runtime"),q.$require("corelib/helpers"),q.$require("corelib/module"),q.$require("corelib/class"),q.$require("corelib/basic_object"),q.$require("corelib/kernel"),q.$require("corelib/main"),q.$require("corelib/error"),q.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(n){var q=n.klass,E=n.Kernel,B=n.def,I=n.return_val,ee=n.ensure_kwargs,Q=n.hash_get,T=n.NilClass,Z=n.slice,v=n.truthy,L=n.rb_gt,ie=n.alias,J=n.nil,Y=n.$$$;return n.add_stubs("raise,name,new,>,length,Rational,to_i"),function(te,V,x){var b=q(te,V,"NilClass");return b.$$prototype.$$meta=b,function(P,X){return B(P,"$allocate",function(){var H=this;return E.$raise(Y("TypeError"),"allocator undefined for "+H.$name())}),n.udef(P,"$new"),J}(n.get_singleton_class(b)),B(b,"$!",I(!0)),B(b,"$&",I(!1)),B(b,"$|",function(X){return X!==!1&&X!==J}),B(b,"$^",function(X){return X!==!1&&X!==J}),B(b,"$==",function(X){return X===J}),B(b,"$dup",I(J)),B(b,"$clone",function(X){return X=ee(X),Q(X,"freeze"),J},-1),B(b,"$inspect",I("nil")),B(b,"$nil?",I(!0)),B(b,"$singleton_class",function(){return T}),B(b,"$to_a",function(){return[]}),B(b,"$to_h",function(){return new Map}),B(b,"$to_i",I(0)),B(b,"$to_s",I("")),B(b,"$to_c",function(){return Y("Complex").$new(0,0)}),B(b,"$rationalize",function(X){var M,H;return M=Z(arguments),H=M,v(L(H.$length(),1))&&E.$raise(Y("ArgumentError")),E.$Rational(0,1)},-1),B(b,"$to_r",function(){return E.$Rational(0,1)}),B(b,"$instance_variables",function(){return[]}),ie(b,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(n){var q=n.klass,E=n.Kernel,B=n.def,I=n.return_self,ee=n.ensure_kwargs,Q=n.hash_get,T=n.slice,Z=n.truthy,v=n.send2,L=n.find_super,ie=n.to_a,J=n.alias,Y=n.nil,te=n.$$$;return n.add_stubs("raise,name,==,to_s,__id__"),function(V,x,b){var P=q(V,x,"Boolean");n.prop(P.$$prototype,"$$is_boolean",!0);for(var X=["$$class","$$meta"],M=0;M<X.length;M++)Object.defineProperty(P.$$prototype,X[M],{configurable:!0,enumerable:!1,get:function(){return this==!0?n.TrueClass:this==!1?n.FalseClass:n.Boolean}});return Object.defineProperty(P.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:Y}}),function(H,p){return B(H,"$allocate",function(){var j=this;return E.$raise(te("TypeError"),"allocator undefined for "+j.$name())}),n.udef(H,"$new"),Y}(n.get_singleton_class(P)),B(P,"$__id__",function(){var p=this;return p.valueOf()?2:0}),B(P,"$!",function(){var p=this;return p!=!0}),B(P,"$&",function(p){var z=this;return z==!0?p!==!1&&p!==Y:!1}),B(P,"$|",function(p){var z=this;return z==!0?!0:p!==!1&&p!==Y}),B(P,"$^",function(p){var z=this;return z==!0?p===!1||p===Y:p!==!1&&p!==Y}),B(P,"$==",function(p){var z=this;return z==!0===p.valueOf()}),B(P,"$singleton_class",function(){var p=this;return p.$$meta}),B(P,"$to_s",function(){var p=this;return p==!0?"true":"false"}),B(P,"$dup",I),B(P,"$clone",function(p){var z=this;return p=ee(p),Q(p,"freeze"),z},-1),B(P,"$method_missing",function H(p,z){var j=H.$$p||Y,A,w,u=this;H.$$p=null,A=T(arguments,1),w=A;var d=u.$$class.$$prototype[n.jsid(p)];return Z(typeof d<"u"&&!d.$$stub)||v(u,L(u,"method_missing",H,!1,!0),"method_missing",[p].concat(ie(w)),j),n.send(u,d,w,j)},-2),B(P,"$respond_to_missing?",function(p,z){var j=this,A=j.$$class.$$prototype[n.jsid(p)];return typeof A<"u"&&!A.$$stub},-2),J(P,"eql?","=="),J(P,"equal?","=="),J(P,"inspect","to_s"),J(P,"object_id","__id__")}("::",Boolean),q("::",te("Boolean"),"TrueClass"),q("::",te("Boolean"),"FalseClass"),Y};Opal.modules["corelib/comparable"]=function(n){var q=n.truthy,E=n.module,B=n.rb_gt,I=n.rb_lt,ee=n.eqeqeq,Q=n.Kernel,T=n.def,Z=n.nil,v=n.$$$;return n.add_stubs(">,<,===,raise,class,<=>,equal?"),function(L){var ie=E(L,"Comparable"),J=Z;function Y(x){return n.is_a(x,n.Integer)?x:B(x,0)?1:I(x,0)?-1:0}function te(x,b){var P;ee(Z,J=b)||ee(!0,J)||ee(!1,J)||ee(v("Integer"),J)||ee(v("Float"),J)?P=b.$inspect():P=b.$$class,Q.$raise(v("ArgumentError"),"comparison of "+x.$class()+" with "+P+" failed")}function V(x,b){var P=x["$<=>"](b);return q(P)||te(x,b),Y(P)}return T(ie,"$==",function(b){var P=this,X=Z;return q(P["$equal?"](b))?!0:P["$<=>"]==n.Kernel["$<=>"]?!1:P.$$comparable?(P.$$comparable=!1,!1):q(X=P["$<=>"](b))?Y(X)==0:!1}),T(ie,"$>",function(b){var P=this;return V(P,b)>0}),T(ie,"$>=",function(b){var P=this;return V(P,b)>=0}),T(ie,"$<",function(b){var P=this;return V(P,b)<0}),T(ie,"$<=",function(b){var P=this;return V(P,b)<=0}),T(ie,"$between?",function(b,P){var X=this;return!(q(I(X,b))||q(B(X,P)))}),T(ie,"$clamp",function(b,P){var X=this;P==null&&(P=Z);var M,H;if(P===Z&&(n.is_a(b,n.Range)||Q.$raise(v("TypeError"),"wrong argument type "+b.$class()+" (expected Range)"),H=b.excl,P=b.end,b=b.begin,P!==Z&&H&&Q.$raise(v("ArgumentError"),"cannot clamp with an exclusive range")),b!==Z&&P!==Z&&V(b,P)>0&&Q.$raise(v("ArgumentError"),"min argument must be smaller than max argument"),b!==Z){if(M=V(X,b),M==0)return X;if(M<0)return b}return P!==Z&&(M=V(X,P),M>0)?P:X},-2)}("::")};Opal.modules["corelib/regexp"]=function(n){var q=n.coerce_to,E=n.prop,B=n.freeze,I=n.klass,ee=n.const_set,Q=n.send2,T=n.find_super,Z=n.def,v=n.truthy,L=n.gvars,ie=n.slice,J=n.Kernel,Y=n.Opal,te=n.alias,V=n.send,x=n.regexp,b=n.rb_plus,P=n.ensure_kwargs,X=n.hash_get,M=n.rb_ge,H=n.to_a,p=n.eqeqeq,z=n.rb_minus,j=n.return_ivar,A=[],w=n.nil,u=n.$$$;return n.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),I("::",u("StandardError"),"RegexpError"),function(d,k,h){var c=I(d,k,"Regexp"),o=[c].concat(h),y=n.$r(o);return ee(c,"IGNORECASE",1),ee(c,"EXTENDED",2),ee(c,"MULTILINE",4),n.prop(c.$$prototype,"$$is_regexp",!0),function(K,_){var s=[K].concat(_),$=n.$r(s);return Z(K,"$allocate",function t(){var e=t.$$p||w,r=this,i=w;return t.$$p=null,i=Q(r,T(r,"allocate",t,!1,!0),"allocate",[],e),i.uninitialized=!0,i}),Z(K,"$escape",function(e){return e=q(e,u("String"),"to_str"),n.escape_regexp(e)}),Z(K,"$last_match",function(e){return L["~"]==null&&(L["~"]=w),e==null&&(e=w),v(e["$nil?"]())?L["~"]:v(L["~"])?L["~"]["$[]"](e):w},-1),Z(K,"$union",function(e){var r,i,a=this;r=ie(arguments),i=r;var l,g,S,C,R;if(i.length==0)return/(?!)/;if(i.length==1&&i[0].$$is_regexp)return i[0];l=i[0].$$is_array,i.length>1&&l&&J.$raise(u("TypeError"),"no implicit conversion of Array into String"),l&&(i=i[0]),C=void 0,g=[];for(var G=0;G<i.length;G++)S=i[G],S.$$is_string?g.push(a.$escape(S)):S.$$is_regexp?(R=S.$options(),C!=null&&C!=R&&J.$raise(u("TypeError"),"All expressions must use the same options"),C=R,g.push("("+S.source+")")):g.push(a.$escape(S.$to_str()));return a.$new(g.$join("|"),C)},-1),Z(K,"$new",function(e,r){if(e.$$is_regexp)return new RegExp(e);if(e=Y["$coerce_to!"](e,u("String"),"to_str"),e.charAt(e.length-1)==="\\"&&e.charAt(e.length-2)!=="\\"&&J.$raise(u("RegexpError"),"too short escape sequence: /"+e+"/"),e=e.replace("\\A","^").replace("\\z","$"),r===void 0||r["$!"]())return new RegExp(e);if(r.$$is_number){var i="";$("IGNORECASE")&r&&(i+="i"),$("MULTILINE")&r&&(i+="m"),r=i}else r="i";return new RegExp(e,r)},-2),te(K,"compile","new"),te(K,"quote","escape")}(n.get_singleton_class(c),o),Z(c,"$==",function(_){var s=this;return _ instanceof RegExp&&s.toString()===_.toString()}),Z(c,"$===",function(_){var s=this;return s.$match(Y["$coerce_to?"](_,u("String"),"to_str"))!==w}),Z(c,"$=~",function(_){var s=this,$=w;return L["~"]==null&&(L["~"]=w),v($=s.$match(_))?L["~"].$begin(0):$}),Z(c,"$freeze",function(){var _=this;return v(_["$frozen?"]())?_:(_.hasOwnProperty("$$g")||E(_,"$$g",null),_.hasOwnProperty("$$gm")||E(_,"$$gm",null),B(_))}),Z(c,"$inspect",function(){var _=this,s=/^\/(.*)\/([^\/]*)$/,$=_.toString(),t=s.exec($);if(t){for(var e=t[1],r=t[2],i=e.split(""),a=i.length,l=!1,g="",S=0;S<a;S++){var C=i[S];!l&&C=="/"&&(g=g.concat("\\")),g=g.concat(C),C=="\\"?l?l=!1:l=!0:l=!1}return"/"+g+"/"+r}else return $}),Z(c,"$match",function K(_,s){var $=K.$$p||w,t=this;if(L["~"]==null&&(L["~"]=w),K.$$p=null,t.uninitialized&&J.$raise(u("TypeError"),"uninitialized Regexp"),s===void 0){if(_===w)return L["~"]=w;var e=t.exec(q(_,u("String"),"to_str"));return e?(L["~"]=u("MatchData").$new(t,e),$===w?L["~"]:n.yield1($,L["~"])):L["~"]=w}if(s=q(s,u("Integer"),"to_int"),_===w||(_=q(_,u("String"),"to_str"),s<0&&(s+=_.length,s<0)))return L["~"]=w;for(var r,i=n.global_regexp(t);;){if(r=i.exec(_),r===null)return L["~"]=w;if(r.index>=s)return L["~"]=u("MatchData").$new(i,r),$===w?L["~"]:n.yield1($,L["~"]);i.lastIndex=r.index+1}},-2),Z(c,"$match?",function(_,s){var $=this;if($.uninitialized&&J.$raise(u("TypeError"),"uninitialized Regexp"),s===void 0)return _===w?!1:$.test(q(_,u("String"),"to_str"));if(s=q(s,u("Integer"),"to_int"),_===w||(_=q(_,u("String"),"to_str"),s<0&&(s+=_.length,s<0)))return!1;var t,e=n.global_regexp($);return t=e.exec(_),!(t===null||t.index<s)},-2),Z(c,"$names",function(){var _=this;return V(_.$source().$scan(x(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),Z(c,"$named_captures",function(){var _=this;return V(V(V(_.$source().$scan(x(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function($){return $==null&&($=w),V($,"map",[],function(e){return e==null&&(e=w),b(e.$last(),1)})})}),Z(c,"$~",function(){var _=this;return L._==null&&(L._=w),_["$=~"](L._)}),Z(c,"$source",function(){var _=this;return _.source}),Z(c,"$options",function(){var _=this;_.uninitialized&&J.$raise(u("TypeError"),"uninitialized Regexp");var s=0;return _.multiline&&(s|=y("MULTILINE")),_.ignoreCase&&(s|=y("IGNORECASE")),s}),Z(c,"$casefold?",function(){var _=this;return _.ignoreCase}),te(c,"eql?","=="),te(c,"to_s","source")}("::",RegExp,A),function(d,k,h){var c=I(d,k,"MatchData"),o=[c].concat(h),y=n.$r(o),K=c.$$prototype;return K.matches=w,c.$attr_reader("post_match","pre_match","regexp","string"),Z(c,"$initialize",function(s,$,t){var e,r=this;t=P(t),e=X(t,"no_matchdata"),e==null&&(e=!1),v(e)||(L["~"]=r),r.regexp=s,r.begin=$.index,r.string=$.input,r.pre_match=$.input.slice(0,$.index),r.post_match=$.input.slice($.index+$[0].length),r.matches=[];for(var i=0,a=$.length;i<a;i++){var l=$[i];l==null?r.matches.push(w):r.matches.push(l)}},-3),Z(c,"$match",function(s){var $=this,t=w;return v(t=$["$[]"](s))?t:v(s["$is_a?"](y("Integer")))&&v(M(s,$.$length()))?J.$raise(u("IndexError"),"index "+s+" out of matches"):w}),Z(c,"$match_length",function(s){var $,t=this;return $=t.$match(s),$===w||$==null?w:$.$length()}),Z(c,"$[]",function(s){var $,t,e=this;return $=ie(arguments),t=$,t[0].$$is_string?(e.$regexp().$names()["$include?"](t["$[]"](0))["$!"]()&&J.$raise(u("IndexError"),"undefined group name reference: "+t["$[]"](0)),e.$named_captures()["$[]"](t["$[]"](0))):V(e.matches,"[]",H(t))},-1),Z(c,"$offset",function(s){var $=this;return s!==0&&J.$raise(u("ArgumentError"),"MatchData#offset only supports 0th element"),[$.begin,$.begin+$.matches[s].length]}),Z(c,"$==",function(s){var $=this,t=w,e=w,r=w,i=w;return p(u("MatchData"),s)?v(t=v(e=v(r=v(i=$.string==s.string)?$.regexp.toString()==s.regexp.toString():i)?$.pre_match==s.pre_match:r)?$.post_match==s.post_match:e)?$.begin==s.begin:t:!1}),Z(c,"$begin",function(s){var $=this;return s!==0&&J.$raise(u("ArgumentError"),"MatchData#begin only supports 0th element"),$.begin}),Z(c,"$end",function(s){var $=this;return s!==0&&J.$raise(u("ArgumentError"),"MatchData#end only supports 0th element"),$.begin+$.matches[s].length}),Z(c,"$captures",function(){var s=this;return s.matches.slice(1)}),Z(c,"$named_captures",function(){var s=this,$=w;return $=s.$captures(),V(s.$regexp().$named_captures(),"transform_values",[],function(e){return e==null&&(e=w),$["$[]"](z(e.$last(),1))})}),Z(c,"$names",function(){var s=this;return s.$regexp().$names()}),Z(c,"$inspect",function(){var s=this,$="#<MatchData "+s.matches[0].$inspect();if(s.$regexp().$names()["$empty?"]())for(var t=1,e=s.matches.length;t<e;t++)$+=" "+t+":"+s.matches[t].$inspect();else V(s.$named_captures(),"each",[],function(i,a){return i==null&&(i=w),a==null&&(a=w),$+=" "+i+":"+a.$inspect()});return $+">"}),Z(c,"$length",function(){var s=this;return s.matches.length}),Z(c,"$to_a",j("matches")),Z(c,"$to_s",function(){var s=this;return s.matches[0]}),Z(c,"$values_at",function(s){var $,t,e=this;$=ie(arguments),t=$;var r,i,a,l=[];for(r=0;r<t.length;r++){if(t[r].$$is_range&&(i=t[r].$to_a(),i.unshift(r,1),Array.prototype.splice.apply(t,i)),a=Y["$coerce_to!"](t[r],u("Integer"),"to_int"),a<0&&(a+=e.matches.length,a<0)){l.push(w);continue}l.push(e.matches[a])}return l},-1),te(c,"eql?","=="),te(c,"size","length")}(A[0],null,A)};Opal.modules["corelib/string"]=function(n){var q=n.coerce_to,E=n.respond_to,B=n.global_multiline_regexp,I=n.prop,ee=n.opal32_init,Q=n.opal32_add,T=n.klass,Z=n.send2,v=n.find_super,L=n.def,ie=n.Opal,J=n.defs,Y=n.slice,te=n.send,V=n.to_a,x=n.extract_kwargs,b=n.ensure_kwargs,P=n.hash_get,X=n.eqeqeq,M=n.Kernel,H=n.truthy,p=n.gvars,z=n.rb_divide,j=n.rb_plus,A=n.eqeq,w=n.alias,u=n.const_set,d=n.top,k=[],h=n.$r(k),c=n.nil,o=n.$$$;return n.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),d.$require("corelib/comparable"),d.$require("corelib/regexp"),function(y,K,_){var s=T(y,K,"String"),$=[s].concat(_),t=n.$r($);s.$include(o("Comparable")),n.prop(s.$$prototype,"$$is_string",!0);var e=new Map;(function(){L(s,"$__id__",function i(){var a=i.$$p||c,l=this;if(i.$$p=null,typeof l=="object")return Z(l,v(l,"__id__",i,!1,!0),"__id__",[],a);if(e.has(l))return e.get(l);var g=n.uid();return e.set(l,g),g}),L(s,"$hash",function(){var a=this,l=ee(),g,S=a.length;for(l=Q(l,5),l=Q(l,S),g=0;g<S;g++)l=Q(l,a.charCodeAt(g));return l})})(),J(s,"$try_convert",function(a){return ie["$coerce_to?"](a,o("String"),"to_str")}),J(s,"$new",function(a){var l,g,S=this;l=Y(arguments),g=l;var C=g[0]||"",R=g[g.length-1];return C=q(C,o("String"),"to_str"),R&&R.$$is_hash&&R.has("encoding")&&(C=C.$force_encoding(R.get("encoding").value)),C=new S.$$constructor(C),C.$initialize.$$pristine||te(C,"initialize",V(g)),C},-1),L(s,"$initialize",function(a,l){var g,S;return g=Y(arguments),S=x(g),S=b(S),g.length>0&&g.shift(),P(S,"encoding"),P(S,"capacity"),c},-1),L(s,"$%",function(a){var l=this;return X(o("Array"),a)?te(l,"format",[l].concat(V(a))):l.$format(l,a)}),L(s,"$*",function(a){var l=this;if(a=q(a,o("Integer"),"to_int"),a<0&&M.$raise(o("ArgumentError"),"negative argument"),a===0)return"";var g="",S=l.toString();for(S.length*a>=1<<28&&M.$raise(o("RangeError"),"multiply count must not overflow maximum string size");(a&1)===1&&(g+=S),a>>>=1,a!==0;)S+=S;return g}),L(s,"$+",function(a){var l=this;if(a=q(a,o("String"),"to_str"),a==""&&l.$$class===n.String)return l;if(l==""&&a.$$class===n.String)return a;var g=l+a;return l.encoding===g.encoding&&a.encoding===g.encoding||l.encoding.name==="UTF-8"||a.encoding.name==="UTF-8"?g:n.enc(g,l.encoding)}),L(s,"$<=>",function(a){var l=this;if(H(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),l>a?1:l<a?-1:0;var g=a["$<=>"](l);return g===c?c:g>0?-1:g<0?1:0}),L(s,"$==",function(a){var l=this;return a.$$is_string?l.toString()===a.toString():E(a,"$to_str")?a["$=="](l):!1}),L(s,"$=~",function(a){var l=this;return a.$$is_string&&M.$raise(o("TypeError"),"type mismatch: String given"),a["$=~"](l)}),L(s,"$[]",function(a,l){var g=this,S=g.length,C,R;if(a.$$is_range)return C=a.excl,R=a,l=a.end===c?-1:q(a.end,o("Integer"),"to_int"),a=a.begin===c?0:q(a.begin,o("Integer"),"to_int"),Math.abs(a)>S?c:(a<0&&(a+=S),l<0&&(l+=S),(!C||R.end===c)&&(l+=1),l=l-a,l<0&&(l=0),g.substr(a,l));if(a.$$is_string)return l!=null&&M.$raise(o("TypeError")),g.indexOf(a)!==-1?a:c;if(a.$$is_regexp){var G=g.match(a);return G===null?(p["~"]=c,c):(p["~"]=o("MatchData").$new(a,G),l==null?G[0]:(l=q(l,o("Integer"),"to_int"),l<0&&-l<G.length?G[l+=G.length]:l>=0&&l<G.length?G[l]:c))}return a=q(a,o("Integer"),"to_int"),a<0&&(a+=S),l==null?a>=S||a<0?c:g.substr(a,1):(l=q(l,o("Integer"),"to_int"),l<0||a>S||a<0?c:g.substr(a,l))},-2),L(s,"$b",function(){var a=this;return new String(a).$force_encoding("binary")}),L(s,"$capitalize",function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}),L(s,"$casecmp",function(a){var l=this;if(!H(a["$respond_to?"]("to_str")))return c;a=q(a,o("String"),"to_str").$to_s();var g=/^[\x00-\x7F]*$/;return g.test(l)&&g.test(a)&&(l=l.toLowerCase(),a=a.toLowerCase()),l["$<=>"](a)}),L(s,"$casecmp?",function(a){var l=this,g=l.$casecmp(a);return g===c?c:g===0}),L(s,"$center",function(a,l){var g=this;if(l==null&&(l=" "),a=q(a,o("Integer"),"to_int"),l=q(l,o("String"),"to_str").$to_s(),H(l["$empty?"]())&&M.$raise(o("ArgumentError"),"zero width padding"),H(a<=g.length))return g;var S=g.$ljust(z(j(a,g.length),2).$ceil(),l),C=g.$rjust(z(j(a,g.length),2).$floor(),l);return C+S.slice(g.length)},-2),L(s,"$chomp",function(a){var l=this;if(p["/"]==null&&(p["/"]=c),a==null&&(a=p["/"]),H(a===c||l.length===0))return l;a=ie["$coerce_to!"](a,o("String"),"to_str").$to_s();var g;if(a===`
`)g=l.replace(/\r?\n?$/,"");else if(a==="")g=l.replace(/(\r?\n)+$/,"");else if(l.length>=a.length){var S=l.substr(l.length-a.length,a.length);S===a&&(g=l.substr(0,l.length-a.length))}return g??l},-1),L(s,"$chop",function(){var a=this,l=a.length,g;return l<=1?g="":a.charAt(l-1)===`
`&&a.charAt(l-2)==="\r"?g=a.substr(0,l-2):g=a.substr(0,l-1),g}),L(s,"$chr",function(){var a=this;return a.charAt(0)}),L(s,"$clone",function(a){var l,g=this,S=c;return a=b(a),l=P(a,"freeze"),l==null&&(l=c),H(l["$nil?"]())||A(l,!0)||A(l,!1)||g.$raise(t("ArgumentError"),"unexpected value for freeze: "+l.$class()),S=new String(g),S.$copy_singleton_methods(g),S.$initialize_clone(g,new Map([["freeze",l]])),A(l,!0)?S.$$frozen||(S.$$frozen=!0):H(l["$nil?"]())&&g.$$frozen&&(S.$$frozen=!0),S},-1),L(s,"$dup",function(){var a=this,l=c;return l=new String(a),l.$initialize_dup(a),l}),L(s,"$count",function(a){var l,g,S=this;l=Y(arguments),g=l,g.length===0&&M.$raise(o("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var C=r(g);return C===null?0:S.length-S.replace(new RegExp(C,"g"),"").length},-1),L(s,"$delete",function(a){var l,g,S=this;l=Y(arguments),g=l,g.length===0&&M.$raise(o("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var C=r(g);return C===null?S:S.replace(new RegExp(C,"g"),"")},-1),L(s,"$delete_prefix",function(a){var l=this;return a.$$is_string||(a=q(a,o("String"),"to_str")),l.slice(0,a.length)===a?l.slice(a.length):l}),L(s,"$delete_suffix",function(a){var l=this;return a.$$is_string||(a=q(a,o("String"),"to_str")),l.slice(l.length-a.length)===a?l.slice(0,l.length-a.length):l}),L(s,"$downcase",function(){var a=this;return a.toLowerCase()}),L(s,"$each_line",function i(a,l){var g=i.$$p||c,S,C,R,G,O=this;if(p["/"]==null&&(p["/"]=c),i.$$p=null,S=Y(arguments),C=x(S),C=b(C),S.length>0&&(R=S.shift()),R==null&&(R=p["/"]),G=P(C,"chomp"),G==null&&(G=!1),g===c)return O.$enum_for("each_line",R,new Map([["chomp",G]]));if(R===c)return n.yield1(g,O),O;R=q(R,o("String"),"to_str");var ae,oe,_e,de,ge,ve,me,be;if(R.length===0){for(ae=O.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),oe=0,_e=ae.length;oe<_e;oe+=2)(ae[oe]||ae[oe+1])&&(be=(ae[oe]||"")+(ae[oe+1]||""),G&&(be=be.$chomp(`
`)),n.yield1(g,be));return O}for(ge=O.$chomp(R),ve=O.length!=ge.length,me=ge.split(R),oe=0,de=me.length;oe<de;oe++)be=me[oe],(oe<de-1||ve)&&(be+=R),G&&(be=be.$chomp(R)),n.yield1(g,be);return O},-1),L(s,"$empty?",function(){var a=this;return a.length===0}),L(s,"$end_with?",function(a){var l,g,S=this;l=Y(arguments),g=l;for(var C=0,R=g.length;C<R;C++){var G=q(g[C],o("String"),"to_str").$to_s();if(S.length>=G.length&&S.substr(S.length-G.length,G.length)==G)return!0}return!1},-1),L(s,"$gsub",function i(a,l){var g=i.$$p||c,S=this;if(i.$$p=null,l===void 0&&g===c)return S.$enum_for("gsub",a);var C="",R=c,G=0,O,ae;a.$$is_regexp?a=B(a):(a=q(a,o("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var oe;;){if(O=a.exec(S),O===null){p["~"]=c,C+=S.slice(G);break}R=o("MatchData").$new(a,O),l===void 0?(oe=a.lastIndex,ae=g(O[0]),a.lastIndex=oe):l.$$is_hash?ae=l["$[]"](O[0]).$to_s():(l.$$is_string||(l=q(l,o("String"),"to_str")),ae=l.replace(/([\\]+)([0-9+&`'])/g,function(_e,de,ge){if(de.length%2===0)return _e;switch(ge){case"+":for(var ve=O.length-1;ve>0;ve--)if(O[ve]!==void 0)return de.slice(1)+O[ve];return"";case"&":return de.slice(1)+O[0];case"`":return de.slice(1)+S.slice(0,O.index);case"'":return de.slice(1)+S.slice(O.index+O[0].length);default:return de.slice(1)+(O[ge]||"")}}).replace(/\\\\/g,"\\")),a.lastIndex===O.index?(C+=S.slice(G,O.index)+ae+(S[O.index]||""),a.lastIndex+=1):C+=S.slice(G,O.index)+ae,G=a.lastIndex}return p["~"]=R,C},-2),L(s,"$hex",function(){var a=this;return a.$to_i(16)}),L(s,"$include?",function(a){var l=this;return a.$$is_string||(a=q(a,o("String"),"to_str")),l.indexOf(a)!==-1}),L(s,"$index",function(a,l){var g=this,S,C,R;if(l===void 0)l=0;else if(l=q(l,o("Integer"),"to_int"),l<0&&(l+=g.length,l<0))return c;if(a.$$is_regexp)for(R=B(a);;){if(C=R.exec(g),C===null){p["~"]=c,S=-1;break}if(C.index>=l){p["~"]=o("MatchData").$new(R,C),S=C.index;break}R.lastIndex=C.index+1}else a=q(a,o("String"),"to_str"),a.length===0&&l>g.length?S=-1:S=g.indexOf(a,l);return S===-1?c:S},-2),L(s,"$inspect",function(){var a=this,l=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},S=a.replace(l,function(C){return g[C]?g[C]:(C=C.charCodeAt(0),C<=255&&(a.encoding["$binary?"]()||a.internal_encoding["$binary?"]())?"\\x"+("00"+C.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+C.toString(16).toUpperCase()).slice(-4))});return'"'+S.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),L(s,"$intern",function(){var a=this;return a.toString()}),L(s,"$length",function(){var a=this;return a.length}),w(s,"size","length"),L(s,"$lines",function i(a,l){var g=i.$$p||c,S,C,R,G,O=this,ae=c;return p["/"]==null&&(p["/"]=c),i.$$p=null,S=Y(arguments),C=x(S),C=b(C),S.length>0&&(R=S.shift()),R==null&&(R=p["/"]),G=P(C,"chomp"),G==null&&(G=!1),ae=te(O,"each_line",[R,new Map([["chomp",G]])],g.$to_proc()),H(g)?O:ae.$to_a()},-1),L(s,"$ljust",function(a,l){var g=this;if(l==null&&(l=" "),a=q(a,o("Integer"),"to_int"),l=q(l,o("String"),"to_str").$to_s(),H(l["$empty?"]())&&M.$raise(o("ArgumentError"),"zero width padding"),H(a<=g.length))return g;var S=-1,C="";for(a-=g.length;++S<a;)C+=l;return g+C.slice(0,a)},-2),L(s,"$lstrip",function(){var a=this;return a.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),L(s,"$ascii_only?",function(){var a=this;return a.encoding.ascii?/^[\x00-\x7F]*$/.test(a):!1}),L(s,"$match",function i(a,l){var g=i.$$p||c,S=this;return i.$$p=null,(X(t("String"),a)||H(a["$respond_to?"]("to_str")))&&(a=o("Regexp").$new(a.$to_str())),X(o("Regexp"),a)||M.$raise(o("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),te(a,"match",[S,l],g.$to_proc())},-2),L(s,"$match?",function(a,l){var g=this;return(X(t("String"),a)||H(a["$respond_to?"]("to_str")))&&(a=o("Regexp").$new(a.$to_str())),X(o("Regexp"),a)||M.$raise(o("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),a["$match?"](g,l)},-2),L(s,"$next",function(){var a=this,l=a.length;if(l===0)return"";for(var g=a,S=a.search(/[a-zA-Z0-9]/),C=!1,R;l--;){if(R=a.charCodeAt(l),R>=48&&R<=57||R>=65&&R<=90||R>=97&&R<=122)switch(R){case 57:C=!0,R=48;break;case 90:C=!0,R=65;break;case 122:C=!0,R=97;break;default:C=!1,R+=1}else S===-1?R===255?(C=!0,R=0):(C=!1,R+=1):C=!0;if(g=g.slice(0,l)+String.fromCharCode(R)+g.slice(l+1),C&&(l===0||l===S)){switch(R){case 65:break;case 97:break;default:R+=1}l===0?g=String.fromCharCode(R)+g:g=g.slice(0,l)+String.fromCharCode(R)+g.slice(l),C=!1}if(!C)break}return g}),L(s,"$oct",function(){var a=this,l,g=a,S=8;return/^\s*_/.test(g)?0:(g=g.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(C,R,G,O){switch(O.charAt(0)){case"+":case"-":return C;case"0":if(O.charAt(1)==="x"&&G==="0x")return C}switch(G){case"0b":S=2;break;case"0":case"0o":S=8;break;case"0d":S=10;break;case"0x":S=16;break}return R+O}),l=parseInt(g.replace(/_(?!_)/g,""),S),isNaN(l)?0:l)}),L(s,"$ord",function(){var a=this;return typeof a.codePointAt=="function"?a.codePointAt(0):a.charCodeAt(0)}),L(s,"$partition",function(a){var l=this,g,S;return a.$$is_regexp?(S=a.exec(l),S===null?g=-1:(o("MatchData").$new(a,S),a=S[0],g=S.index)):(a=q(a,o("String"),"to_str"),g=l.indexOf(a)),g===-1?[l,"",""]:[l.slice(0,g),l.slice(g,g+a.length),l.slice(g+a.length)]}),L(s,"$reverse",function(){var a=this;return a.split("").reverse().join("")}),L(s,"$rindex",function(a,l){var g=this,S,C,R,G;if(l===void 0)l=g.length;else if(l=q(l,o("Integer"),"to_int"),l<0&&(l+=g.length,l<0))return c;if(a.$$is_regexp){for(C=null,R=B(a);G=R.exec(g),!(G===null||G.index>l);)C=G,R.lastIndex=C.index+1;C===null?(p["~"]=c,S=-1):(o("MatchData").$new(R,C),S=C.index)}else a=q(a,o("String"),"to_str"),S=g.lastIndexOf(a,l);return S===-1?c:S},-2),L(s,"$rjust",function(a,l){var g=this;if(l==null&&(l=" "),a=q(a,o("Integer"),"to_int"),l=q(l,o("String"),"to_str").$to_s(),H(l["$empty?"]())&&M.$raise(o("ArgumentError"),"zero width padding"),H(a<=g.length))return g;var S=Math.floor(a-g.length),C=Math.floor(S/l.length),R=Array(C+1).join(l),G=S-R.length;return R+l.slice(0,G)+g},-2),L(s,"$rpartition",function(a){var l=this,g,S,C,R;if(a.$$is_regexp){for(S=null,C=B(a);R=C.exec(l),R!==null;)S=R,C.lastIndex=S.index+1;S===null?g=-1:(o("MatchData").$new(C,S),a=S[0],g=S.index)}else a=q(a,o("String"),"to_str"),g=l.lastIndexOf(a);return g===-1?["","",l]:[l.slice(0,g),l.slice(g,g+a.length),l.slice(g+a.length)]}),L(s,"$rstrip",function(){var a=this;return a.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),L(s,"$scan",function i(a,l){var g=i.$$p||c,S,C=this;i.$$p=null,l=b(l),S=P(l,"no_matchdata"),S==null&&(S=!1);var R=[],G=c,O;for(a.$$is_regexp?a=B(a):(a=q(a,o("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(O=a.exec(C))!=null;)G=o("MatchData").$new(a,O,new Map([["no_matchdata",S]])),g===c?O.length==1?R.push(O[0]):R.push(G.$captures()):O.length==1?n.yield1(g,O[0]):n.yield1(g,G.$captures()),a.lastIndex===O.index&&(a.lastIndex+=1);return S||(p["~"]=G),g!==c?C:R},-2),L(s,"$singleton_class",function(){var a=this;return n.get_singleton_class(a)}),L(s,"$split",function(a,l){var g=this,S=c;if(p[";"]==null&&(p[";"]=c),g.length===0)return[];if(l===void 0)l=0;else if(l=ie["$coerce_to!"](l,o("Integer"),"to_int"),l===1)return[g];(a===void 0||a===c)&&(a=H(S=p[";"])?S:" ");var C=[],R=g.toString(),G=0,O,ae=0,oe=0,_e,de;if(a.$$is_regexp?a=B(a):(a=q(a,o("String"),"to_str").$to_s(),a===" "&&(a=/\s+/gm,R=R.replace(/^\s+/,""))),C=R.split(a),C.length===1&&C[0]===R)return[C[0]];for(;(_e=C.indexOf(void 0))!==-1;)C.splice(_e,1);if(l===0){for(;C[C.length-1]==="";)C.pop();return C}if(a.$$is_regexp||(a=n.escape_regexp(a),a=new RegExp(a,"gm")),O=a.exec(R),l<0){if(O!==null&&O[0]===""&&a.source.indexOf("(?=")===-1)for(_e=0,de=O.length;_e<de;_e++)C.push("");return C}if(O!==null&&O[0]==="")return oe=(O.length-1)*(l-1)+l,C.splice(oe-1,C.length-1,C.slice(oe-1).join("")),C;if(l>=C.length)return C;for(;O!==null&&(ae++,G=a.lastIndex,oe+=O.length,ae+1!==l);)O=a.exec(R);return C.splice(oe,C.length-1,R.slice(G)),C},-1),L(s,"$squeeze",function(a){var l,g,S=this;if(l=Y(arguments),g=l,g.length===0)return S.replace(/(.)\1+/g,"$1");var C=r(g);return C===null?S:S.replace(new RegExp("("+C+")\\1+","g"),"$1")},-1),L(s,"$start_with?",function(a){var l,g,S=this;l=Y(arguments),g=l;for(var C=0,R=g.length;C<R;C++)if(g[C].$$is_regexp){var G=g[C],O=G.exec(S);if(O!=null&&O.index===0)return p["~"]=o("MatchData").$new(G,O),!0;p["~"]=c}else{var ae=q(g[C],o("String"),"to_str").$to_s();if(S.length>=ae.length&&S.startsWith(ae))return!0}return!1},-1),L(s,"$strip",function(){var a=this;return a.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),L(s,"$sub",function i(a,l){var g=i.$$p||c,S=this;i.$$p=null,a.$$is_regexp||(a=q(a,o("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var C,R=a.exec(S);return R===null?(p["~"]=c,C=S.toString()):(o("MatchData").$new(a,R),l===void 0?(g===c&&M.$raise(o("ArgumentError"),"wrong number of arguments (1 for 2)"),C=S.slice(0,R.index)+g(R[0])+S.slice(R.index+R[0].length)):l.$$is_hash?C=S.slice(0,R.index)+l["$[]"](R[0]).$to_s()+S.slice(R.index+R[0].length):(l=q(l,o("String"),"to_str"),l=l.replace(/([\\]+)([0-9+&`'])/g,function(G,O,ae){if(O.length%2===0)return G;switch(ae){case"+":for(var oe=R.length-1;oe>0;oe--)if(R[oe]!==void 0)return O.slice(1)+R[oe];return"";case"&":return O.slice(1)+R[0];case"`":return O.slice(1)+S.slice(0,R.index);case"'":return O.slice(1)+S.slice(R.index+R[0].length);default:return O.slice(1)+(R[ae]||"")}}).replace(/\\\\/g,"\\"),C=S.slice(0,R.index)+l+S.slice(R.index+R[0].length))),C},-2),L(s,"$sum",function(a){var l=this;a==null&&(a=16),a=q(a,o("Integer"),"to_int");for(var g=0,S=l.length,C=0;C<S;C++)g+=l.charCodeAt(C);return a<=0?g:g&Math.pow(2,a)-1},-1),L(s,"$swapcase",function(){var a=this,l=a.replace(/([a-z]+)|([A-Z]+)/g,function(g,S,C){return S?g.toUpperCase():g.toLowerCase()});return l}),L(s,"$to_f",function(){var a=this;if(a.charAt(0)==="_")return 0;var l=parseFloat(a.replace(/_/g,""));return isNaN(l)||l==1/0||l==-1/0?0:l}),L(s,"$to_i",function(a){var l=this;a==null&&(a=10);var g,S=l.toLowerCase(),C=q(a,o("Integer"),"to_int");return(C===1||C<0||C>36)&&M.$raise(o("ArgumentError"),"invalid radix "+C),/^\s*_/.test(S)?0:(S=S.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(R,G,O,ae){switch(ae.charAt(0)){case"+":case"-":return R;case"0":if(ae.charAt(1)==="x"&&O==="0x"&&(C===0||C===16))return R}switch(O){case"0b":if(C===0||C===2)return C=2,G+ae;break;case"0":case"0o":if(C===0||C===8)return C=8,G+ae;break;case"0d":if(C===0||C===10)return C=10,G+ae;break;case"0x":if(C===0||C===16)return C=16,G+ae;break}return R}),g=parseInt(S.replace(/_(?!_)/g,""),C),isNaN(g)?0:g)},-1),L(s,"$to_proc",function i(){i.$$p;var a=this,l=c,g=c,S=c;return i.$$p=null,l=a.valueOf(),g=n.jsid(l),S=te(M,"proc",[],function C(R){var G=C.$$p||c,O,ae;C.$$p=null,O=Y(arguments),ae=O,ae.length===0&&M.$raise(o("ArgumentError"),"no receiver given");var oe=ae[0];oe==null&&(oe=c);var _e=oe[g];return _e?ae=ae.slice(1):(_e=oe.$method_missing,ae[0]=l),typeof G=="function"&&(_e.$$p=G),ae.length===0?_e.call(oe):_e.apply(oe,ae)},-1),S.$$source_location=c,S}),L(s,"$to_s",function(){var a=this;return a.toString()}),L(s,"$tr",function(a,l){var g=this;if(a=q(a,o("String"),"to_str").$to_s(),l=q(l,o("String"),"to_str").$to_s(),a.length==0||a===l)return g;var S,C,R,G,O,ae,oe,_e={},de=a.split(""),ge=de.length,ve=l.split(""),me=ve.length,be=!1,$e=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),$e=ve[me-1],ge-=1);var N=[],F=null;for(C=!1,S=0;S<ge;S++)if(G=de[S],F==null)F=G,N.push(G);else if(G==="-")F==="-"?(N.push("-"),N.push("-")):S==ge-1?N.push("-"):C=!0;else if(C){for(O=F.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&M.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=O+1;R<ae;R++)N.push(String.fromCharCode(R));N.push(G),C=null,F=null}else N.push(G);if(de=N,ge=de.length,be)for(S=0;S<ge;S++)_e[de[S]]=!0;else{if(me>0){var U=[],W=null;for(C=!1,S=0;S<me;S++)if(G=ve[S],W==null)W=G,U.push(G);else if(G==="-")W==="-"?(U.push("-"),U.push("-")):S==me-1?U.push("-"):C=!0;else if(C){for(O=W.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&M.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=O+1;R<ae;R++)U.push(String.fromCharCode(R));U.push(G),C=null,W=null}else U.push(G);ve=U,me=ve.length}var ne=ge-me;if(ne>0){var se=me>0?ve[me-1]:"";for(S=0;S<ne;S++)ve.push(se)}for(S=0;S<ge;S++)_e[de[S]]=ve[S]}var le="";for(S=0,oe=g.length;S<oe;S++){G=g.charAt(S);var fe=_e[G];be?le+=fe==null?$e:G:le+=fe??G}return le}),L(s,"$tr_s",function(a,l){var g=this;if(a=q(a,o("String"),"to_str").$to_s(),l=q(l,o("String"),"to_str").$to_s(),a.length==0)return g;var S,C,R,G,O,ae,oe,_e={},de=a.split(""),ge=de.length,ve=l.split(""),me=ve.length,be=!1,$e=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),$e=ve[me-1],ge-=1);var N=[],F=null;for(C=!1,S=0;S<ge;S++)if(G=de[S],F==null)F=G,N.push(G);else if(G==="-")F==="-"?(N.push("-"),N.push("-")):S==ge-1?N.push("-"):C=!0;else if(C){for(O=F.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&M.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=O+1;R<ae;R++)N.push(String.fromCharCode(R));N.push(G),C=null,F=null}else N.push(G);if(de=N,ge=de.length,be)for(S=0;S<ge;S++)_e[de[S]]=!0;else{if(me>0){var U=[],W=null;for(C=!1,S=0;S<me;S++)if(G=ve[S],F==null)F=G,U.push(G);else if(G==="-")W==="-"?(U.push("-"),U.push("-")):S==me-1?U.push("-"):C=!0;else if(C){for(O=F.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&M.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=O+1;R<ae;R++)U.push(String.fromCharCode(R));U.push(G),C=null,F=null}else U.push(G);ve=U,me=ve.length}var ne=ge-me;if(ne>0){var se=me>0?ve[me-1]:"";for(S=0;S<ne;S++)ve.push(se)}for(S=0;S<ge;S++)_e[de[S]]=ve[S]}var le="",fe=null;for(S=0,oe=g.length;S<oe;S++){G=g.charAt(S);var f=_e[G];be?f==null?fe==null&&(le+=$e,fe=!0):(le+=G,fe=null):f!=null?(fe==null||fe!==f)&&(le+=f,fe=f):(le+=G,fe=null)}return le}),L(s,"$upcase",function(){var a=this;return a.toUpperCase()}),L(s,"$upto",function i(a,l){var g=i.$$p||c,S=this;if(i.$$p=null,l==null&&(l=!1),g===c)return S.$enum_for("upto",a,l);var C,R,G=S.toString();if(a=q(a,o("String"),"to_str"),G.length===1&&a.length===1)for(C=G.charCodeAt(0),R=a.charCodeAt(0);C<=R&&!(l&&C===R);)g(String.fromCharCode(C)),C+=1;else if(parseInt(G,10).toString()===G&&parseInt(a,10).toString()===a)for(C=parseInt(G,10),R=parseInt(a,10);C<=R&&!(l&&C===R);)g(C.toString()),C+=1;else for(;G.length<=a.length&&G<=a&&!(l&&G===a);)g(G),G=G.$succ();return S},-2);function r(i){function a(_e){var de="",ge,ve=_e.length,me,be,$e,N,F;for(ge=0;ge<ve;ge++)if(me=_e.charAt(ge),me==="-"&&ge>0&&ge<ve-1&&!be){for($e=_e.charCodeAt(ge-1),N=_e.charCodeAt(ge+1),$e>N&&M.$raise(o("ArgumentError"),'invalid range "'+$e+"-"+N+'" in string transliteration'),F=$e+1;F<N+1;F++)de+=String.fromCharCode(F);be=!0,ge++}else be=me==="\\",de+=me;return de}function l(_e,de){if(_e.length===0)return de;var ge="",ve,me=_e.length,be;for(ve=0;ve<me;ve++)be=_e.charAt(ve),de.indexOf(be)!==-1&&(ge+=be);return ge}var g,S,C,R,G,O,ae="",oe="";for(g=0,S=i.length;g<S;g++)C=q(i[g],o("String"),"to_str"),R=C.charAt(0)==="^"&&C.length>1,C=a(R?C.slice(1):C),R?oe=l(oe,C):ae=l(ae,C);if(ae.length>0&&oe.length>0){for(O="",g=0,S=ae.length;g<S;g++)G=ae.charAt(g),oe.indexOf(G)===-1&&(O+=G);ae=O,oe=""}return ae.length>0?"["+o("Regexp").$escape(ae)+"]":oe.length>0?"[^"+o("Regexp").$escape(oe)+"]":null}return L(s,"$instance_variables",function(){return[]}),J(s,"$_load",function(a){var l,g,S=this;return l=Y(arguments),g=l,te(S,"new",V(g))},-1),L(s,"$unicode_normalize",function(a){var l=this;return a==null&&(a="nfc"),H(["nfc","nfd","nfkc","nfkd"]["$include?"](a))||M.$raise(o("ArgumentError"),"Invalid normalization form "+a),l.normalize(a.$upcase())},-1),L(s,"$unicode_normalized?",function(a){var l=this;return a==null&&(a="nfc"),l.$unicode_normalize(a)["$=="](l)},-1),L(s,"$unpack",function(a){return M.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),L(s,"$unpack1",function(a){return M.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),L(s,"$freeze",function(){var a=this;return typeof a=="string"||I(a,"$$frozen",!0),a}),L(s,"$-@",function(){var a=this;return typeof a=="string"||a.$$frozen?a:a.encoding.name=="UTF-8"&&a.internal_encoding.name=="UTF-8"?a.toString():a.$dup().$freeze()}),L(s,"$frozen?",function(){var a=this;return typeof a=="string"||a.$$frozen===!0}),w(s,"+@","dup"),w(s,"===","=="),w(s,"byteslice","[]"),w(s,"eql?","=="),w(s,"equal?","==="),w(s,"object_id","__id__"),w(s,"slice","[]"),w(s,"succ","next"),w(s,"to_str","to_s"),w(s,"to_sym","intern"),ie.$pristine(s,"initialize")}("::",String,k),u(k[0],"Symbol",h("String"))};Opal.modules["corelib/enumerable"]=function(n){var q=n.truthy,E=n.coerce_to,B=n.yield1,I=n.yieldX,ee=n.deny_frozen_access,Q=n.module,T=n.send,Z=n.slice,v=n.to_a,L=n.Opal,ie=n.thrower,J=n.def,Y=n.Kernel,te=n.return_val,V=n.rb_gt,x=n.rb_times,b=n.rb_lt,P=n.eqeq,X=n.rb_plus,M=n.rb_minus,H=n.rb_divide,p=n.rb_le,z=n.lambda,j=n.not,A=n.alias,w=[],u=n.nil,d=n.$$$;return n.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(k,h){var c=Q(k,"Enumerable"),o=[c].concat(h),y=n.$r(o);function K(_){return _.length===0&&(_=[u]),_.length>1&&(_=[_]),_}return J(c,"$all?",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this;return _.$$p=null,q(s!==void 0)?T(e,"each",[],function r(i){var a,l,g=u;if(a=Z(arguments),l=a,g=K(l),q(T(s,"public_send",["==="].concat(v(g)))))return u;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}):t!==u?T(e,"each",[],function r(i){var a,l;if(a=Z(arguments),l=a,q(n.yieldX(t,v(l))))return u;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}):T(e,"each",[],function r(i){var a,l;if(a=Z(arguments),l=a,q(L.$destructure(l)))return u;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}),!0}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),J(c,"$any?",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this;return _.$$p=null,q(s!==void 0)?T(e,"each",[],function r(i){var a,l,g=u;if(a=Z(arguments),l=a,g=K(l),q(T(s,"public_send",["==="].concat(v(g)))))$.$throw(!0,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}):t!==u?T(e,"each",[],function r(i){var a,l;if(a=Z(arguments),l=a,q(n.yieldX(t,v(l))))$.$throw(!0,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}):T(e,"each",[],function r(i){var a,l;if(a=Z(arguments),l=a,q(L.$destructure(l)))$.$throw(!0,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),!1}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),J(c,"$chunk",function _(){var s=_.$$p||u,$=this;return _.$$p=null,s===u?T($,"to_enum",["chunk"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:$}):T(d("Enumerator"),"new",[],function t(e){var r=t.$$s==null?this:t.$$s;e==null&&(e=u);var i=u,a=[];function l(){a.length>0&&e.$yield(i,a)}r.$each.$$p=function(g){var S=B(s,g);S===u?(l(),a=[],i=u):(i===u||i===S?a.push(g):(l(),a=[g]),i=S)},r.$each(),l()},{$$s:$})}),J(c,"$chunk_while",function _(){var s=_.$$p||u,$=this;return _.$$p=null,s===u&&Y.$raise(d("ArgumentError"),"no block given"),T($,"slice_when",[],function(e,r){return e==null&&(e=u),r==null&&(r=u),n.yieldX(s,[e,r])["$!"]()})}),J(c,"$collect",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return T($,"enum_for",["collect"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$});var t=[];return $.$each.$$p=function(){var e=I(s,arguments);t.push(e)},$.$each(),t}),J(c,"$collect_concat",function _(){var s=_.$$p||u,$=this;return _.$$p=null,s===u?T($,"enum_for",["collect_concat"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:$}):T($,"map",[],s.$to_proc()).$flatten(1)}),J(c,"$compact",function(){var s=this;return s.$to_a().$compact()}),J(c,"$count",function _(s){var $=_.$$p||u,t=this,e=u;return _.$$p=null,e=0,s!=null&&$!==u&&t.$warn("warning: given block not used"),q(s!=null)?$=T(Y,"proc",[],function(i){var a,l;return a=Z(arguments),l=a,L.$destructure(l)["$=="](s)},-1):q($["$nil?"]())&&($=T(Y,"proc",[],te(!0))),T(t,"each",[],function(i){var a,l;return a=Z(arguments),l=a,q(I($,l))?e++:u},-1),e},-1),J(c,"$cycle",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s==null&&(s=u),$===u)return T(t,"enum_for",["cycle",s],function a(){var l=a.$$s==null?this:a.$$s;return q(s["$nil?"]())?q(l["$respond_to?"]("size"))?d(d("Float"),"INFINITY"):u:(s=L["$coerce_to!"](s,d("Integer"),"to_int"),q(V(s,0))?x(l.$enumerator_size(),s):0)},{$$s:t});if(!q(s["$nil?"]())&&(s=L["$coerce_to!"](s,d("Integer"),"to_int"),q(s<=0)))return u;var e=[],r,i;if(t.$each.$$p=function(){var a=L.$destructure(arguments);B($,a),e.push(a)},t.$each(),e.length===0)return u;if(s===u)for(;;)for(r=0,i=e.length;r<i;r++)B($,e[r]);else for(;s>1;){for(r=0,i=e.length;r<i;r++)B($,e[r]);s--}},-1),J(c,"$detect",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this;return _.$$p=null,t===u?e.$enum_for("detect",s):(T(e,"each",[],function r(i){var a,l,g=u;if(a=Z(arguments),l=a,g=L.$destructure(l),q(n.yield1(t,g)))$.$throw(g,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),s!==void 0?typeof s=="function"?s():s:u)}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),J(c,"$drop",function(s){var $=this;s=E(s,d("Integer"),"to_int"),q(s<0)&&Y.$raise(d("ArgumentError"),"attempt to drop negative size");var t=[],e=0;return $.$each.$$p=function(){s<=e&&t.push(L.$destructure(arguments)),e++},$.$each(),t}),J(c,"$drop_while",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return $.$enum_for("drop_while");var t=[],e=!0;return $.$each.$$p=function(){var r=L.$destructure(arguments);if(e){var i=B(s,r);q(i)||(e=!1,t.push(r))}else t.push(r)},$.$each(),t}),J(c,"$each_cons",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,q(arguments.length!=1)&&Y.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),s=L.$try_convert(s,d("Integer"),"to_int"),q(s<=0)&&Y.$raise(d("ArgumentError"),"invalid size"),$===u)return T(t,"enum_for",["each_cons",s],function r(){var i=r.$$s==null?this:r.$$s,a=u;return a=i.$enumerator_size(),q(a["$nil?"]())?u:P(a,0)||q(b(a,s))?0:X(M(a,s),1)},{$$s:t});var e=[];return t.$each.$$p=function(){var r=L.$destructure(arguments);e.push(r),e.length>s&&e.shift(),e.length==s&&B($,e.slice(0,s))},t.$each(),t}),J(c,"$each_entry",function _(s){var $=_.$$p||u,t,e,r=this;return _.$$p=null,t=Z(arguments),e=t,$===u?T(r,"to_enum",["each_entry"].concat(v(e)),function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:r}):(r.$each.$$p=function(){var i=L.$destructure(arguments);B($,i)},r.$each.apply(r,e),r)},-1),J(c,"$each_slice",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s=E(s,d("Integer"),"to_int"),q(s<=0)&&Y.$raise(d("ArgumentError"),"invalid slice size"),$===u)return T(t,"enum_for",["each_slice",s],function r(){var i=r.$$s==null?this:r.$$s;return q(i["$respond_to?"]("size"))?H(i.$size(),s).$ceil():u},{$$s:t});var e=[];return t.$each.$$p=function(){var r=L.$destructure(arguments);e.push(r),e.length===s&&(B($,e),e=[])},t.$each(),e.length>0&&B($,e),t}),J(c,"$each_with_index",function _(s){var $=_.$$p||u,t,e,r=this;if(_.$$p=null,t=Z(arguments),e=t,$===u)return T(r,"enum_for",["each_with_index"].concat(v(e)),function a(){var l=a.$$s==null?this:a.$$s;return l.$enumerator_size()},{$$s:r});var i=0;return r.$each.$$p=function(){var a=L.$destructure(arguments);$(a,i),i++},r.$each.apply(r,e),r},-1),J(c,"$each_with_object",function _(s){var $=_.$$p||u,t=this;return _.$$p=null,$===u?T(t,"enum_for",["each_with_object",s],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:t}):(t.$each.$$p=function(){var e=L.$destructure(arguments);$(e,s)},t.$each(),s)}),J(c,"$entries",function(s){var $,t,e=this;$=Z(arguments),t=$;var r=[];return e.$each.$$p=function(){r.push(L.$destructure(arguments))},e.$each.apply(e,t),r},-1),J(c,"$filter_map",function _(){var s=_.$$p||u,$=this;return _.$$p=null,s===u?T($,"enum_for",["filter_map"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:$}):T(T($,"map",[],s.$to_proc()),"select",[],"itself".$to_proc())}),J(c,"$find_all",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return T($,"enum_for",["find_all"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$});var t=[];return $.$each.$$p=function(){var e=L.$destructure(arguments),r=B(s,e);q(r)&&t.push(e)},$.$each(),t}),J(c,"$find_index",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this,r=u;return _.$$p=null,q(s===void 0&&t===u)?e.$enum_for("find_index"):(s!=null&&t!==u&&e.$warn("warning: given block not used"),r=0,q(s!=null)?T(e,"each",[],function i(a){var l,g;return l=Z(arguments),g=l,P(L.$destructure(g),s)&&$.$throw(r,i.$$is_lambda),r+=1},{$$arity:-1,$$ret:$}):T(e,"each",[],function i(a){var l,g;return l=Z(arguments),g=l,q(n.yieldX(t,v(g)))&&$.$throw(r,i.$$is_lambda),r+=1},{$$arity:-1,$$ret:$}),u)}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),J(c,"$first",function(s){try{var $=ie("return"),t=this,e=u,r=u;return q(s===void 0)?T(t,"each",[],function i(a){a==null&&(a=u),$.$throw(a,i.$$is_lambda)},{$$ret:$}):(e=[],s=E(s,d("Integer"),"to_int"),q(s<0)&&Y.$raise(d("ArgumentError"),"attempt to take negative size"),q(s==0)?[]:(r=0,T(t,"each",[],function i(a){var l,g;if(l=Z(arguments),g=l,e.push(L.$destructure(g)),q(s<=++r))$.$throw(e,i.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),e))}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),J(c,"$grep",function _(s){var $=_.$$p||u,t=this,e=u;return _.$$p=null,e=[],T(t,"each",[],function(i){var a,l,g=u;return a=Z(arguments),l=a,g=K(l),q(T(s,"__send__",["==="].concat(v(g))))?($!==u?(q(V(l.$length(),1))&&(l=[l]),l=n.yieldX($,v(l))):q(p(l.$length(),1))&&(l=l["$[]"](0)),e.$push(l)):u},-1),e}),J(c,"$grep_v",function _(s){var $=_.$$p||u,t=this,e=u;return _.$$p=null,e=[],T(t,"each",[],function(i){var a,l,g=u;return a=Z(arguments),l=a,g=K(l),q(T(s,"__send__",["==="].concat(v(g))))?u:($!==u?(q(V(l.$length(),1))&&(l=[l]),l=n.yieldX($,v(l))):q(p(l.$length(),1))&&(l=l["$[]"](0)),e.$push(l))},-1),e}),J(c,"$group_by",function _(){var s=_.$$p||u,$,t=this,e=u,r=u;return _.$$p=null,s===u?T(t,"enum_for",["group_by"],function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:t}):(e=new Map,t.$each.$$p=function(){var i=L.$destructure(arguments),a=B(s,i);(q(r=e["$[]"](a))?r:($=[a,[]],T(e,"[]=",$),$[$.length-1]))["$<<"](i)},t.$each(),e)}),J(c,"$include?",function(s){try{var $=ie("return"),t=this;return T(t,"each",[],function e(r){var i,a;if(i=Z(arguments),a=i,P(L.$destructure(a),s))$.$throw(!0,e.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),!1}catch(e){if(e===$)return e.$v;throw e}finally{$.is_orphan=!0}}),J(c,"$inject",function _(s,$){var t=_.$$p||u,e=this;_.$$p=null;var r=s;return t!==u&&$===void 0?e.$each.$$p=function(){var i=L.$destructure(arguments);if(r===void 0){r=i;return}i=I(t,[r,i]),r=i}:($===void 0&&(d("Symbol")["$==="](s)||Y.$raise(d("TypeError"),""+s.$inspect()+" is not a Symbol"),$=s,r=void 0),e.$each.$$p=function(){var i=L.$destructure(arguments);if(r===void 0){r=i;return}r=r.$__send__($,i)}),e.$each(),r??u},-1),J(c,"$lazy",function(){var s=this;return T(d(d("Enumerator"),"Lazy"),"new",[s,s.$enumerator_size()],function(t,e){var r,i;return t==null&&(t=u),r=Z(arguments,1),i=r,T(t,"yield",v(i))},-2)}),J(c,"$enumerator_size",function(){var s=this;return q(s["$respond_to?"]("size"))?s.$size():u}),J(c,"$max",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s===void 0||s===u){var e,r;return t.$each.$$p=function(){var i=L.$destructure(arguments);if(e===void 0){e=i;return}$!==u?r=I($,[i,e]):r=i["$<=>"](e),r===u&&Y.$raise(d("ArgumentError"),"comparison failed"),r>0&&(e=i)},t.$each(),e===void 0?u:e}return s=E(s,d("Integer"),"to_int"),T(t,"sort",[],$.$to_proc()).$reverse().$first(s)},-1),J(c,"$max_by",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s==null&&(s=u),!q($))return T(t,"enum_for",["max_by",s],function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:t});if(!q(s["$nil?"]()))return T(t,"sort_by",[],$.$to_proc()).$reverse().$take(s);var e,r;return t.$each.$$p=function(){var i=L.$destructure(arguments),a=B($,i);if(e===void 0){e=i,r=a;return}a["$<=>"](r)>0&&(e=i,r=a)},t.$each(),e===void 0?u:e},-1),J(c,"$min",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s==null&&(s=u),!q(s["$nil?"]()))return $!==u?T(t,"sort",[],function(i,a){return i==null&&(i=u),a==null&&(a=u),n.yieldX($,[i,a])}).$take(s):t.$sort().$take(s);var e;return $!==u?t.$each.$$p=function(){var r=L.$destructure(arguments);if(e===void 0){e=r;return}var i=$(r,e);i===u&&Y.$raise(d("ArgumentError"),"comparison failed"),i<0&&(e=r)}:t.$each.$$p=function(){var r=L.$destructure(arguments);if(e===void 0){e=r;return}L.$compare(r,e)<0&&(e=r)},t.$each(),e===void 0?u:e},-1),J(c,"$min_by",function _(s){var $=_.$$p||u,t=this;if(_.$$p=null,s==null&&(s=u),!q($))return T(t,"enum_for",["min_by",s],function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:t});if(!q(s["$nil?"]()))return T(t,"sort_by",[],$.$to_proc()).$take(s);var e,r;return t.$each.$$p=function(){var i=L.$destructure(arguments),a=B($,i);if(e===void 0){e=i,r=a;return}a["$<=>"](r)<0&&(e=i,r=a)},t.$each(),e===void 0?u:e},-1),J(c,"$minmax",function _(){var s=_.$$p||u,$=this,t=u;_.$$p=null,s=q(t=s)?t:T(Y,"proc",[],function(l,g){return l==null&&(l=u),g==null&&(g=u),l["$<=>"](g)});var e=u,r=u,i=!0;return $.$each.$$p=function(){var a=L.$destructure(arguments);if(i)e=r=a,i=!1;else{var l=s.$call(e,a);l===u?Y.$raise(d("ArgumentError"),"comparison failed"):l>0&&(e=a);var g=s.$call(r,a);g===u?Y.$raise(d("ArgumentError"),"comparison failed"):g<0&&(r=a)}},$.$each(),[e,r]}),J(c,"$minmax_by",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,!q(s))return T($,"enum_for",["minmax_by"],function a(){var l=a.$$s==null?this:a.$$s;return l.$enumerator_size()},{$$s:$});var t=u,e=u,r,i;return $.$each.$$p=function(){var a=L.$destructure(arguments),l=B(s,a);(r===void 0||l["$<=>"](r)<0)&&(t=a,r=l),(i===void 0||l["$<=>"](i)>0)&&(e=a,i=l)},$.$each(),[t,e]}),J(c,"$none?",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this;return _.$$p=null,q(s!==void 0)?T(e,"each",[],function r(i){var a,l,g=u;if(a=Z(arguments),l=a,g=K(l),q(T(s,"public_send",["==="].concat(v(g)))))$.$throw(!1,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}):t!==u?T(e,"each",[],function r(i){var a,l;if(a=Z(arguments),l=a,q(n.yieldX(t,v(l))))$.$throw(!1,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}):T(e,"each",[],function r(i){var a,l,g=u;if(a=Z(arguments),l=a,g=L.$destructure(l),q(g))$.$throw(!1,r.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),!0}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),J(c,"$one?",function _(s){try{var $=ie("return"),t=_.$$p||u,e=this,r=u;return _.$$p=null,r=0,q(s!==void 0)?T(e,"each",[],function i(a){var l,g,S=u;if(l=Z(arguments),g=l,S=K(g),q(T(s,"public_send",["==="].concat(v(S)))))if(r=X(r,1),q(V(r,1)))$.$throw(!1,i.$$is_lambda);else return u;else return u},{$$arity:-1,$$ret:$}):t!==u?T(e,"each",[],function i(a){var l,g;if(l=Z(arguments),g=l,!q(n.yieldX(t,v(g))))return u;if(r=X(r,1),q(V(r,1)))$.$throw(!1,i.$$is_lambda);else return u},{$$arity:-1,$$ret:$}):T(e,"each",[],function i(a){var l,g;if(l=Z(arguments),g=l,!q(L.$destructure(g)))return u;if(r=X(r,1),q(V(r,1)))$.$throw(!1,i.$$is_lambda);else return u},{$$arity:-1,$$ret:$}),r["$=="](1)}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),J(c,"$partition",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return T($,"enum_for",["partition"],function r(){var i=r.$$s==null?this:r.$$s;return i.$enumerator_size()},{$$s:$});var t=[],e=[];return $.$each.$$p=function(){var r=L.$destructure(arguments),i=B(s,r);q(i)?t.push(r):e.push(r)},$.$each(),[t,e]}),J(c,"$reject",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return T($,"enum_for",["reject"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$});var t=[];return $.$each.$$p=function(){var e=L.$destructure(arguments),r=B(s,e);q(r)||t.push(e)},$.$each(),t}),J(c,"$reverse_each",function _(){var s=_.$$p||u,$=this;if(_.$$p=null,s===u)return T($,"enum_for",["reverse_each"],function r(){var i=r.$$s==null?this:r.$$s;return i.$enumerator_size()},{$$s:$});var t=[];$.$each.$$p=function(){t.push(arguments)},$.$each();for(var e=t.length-1;e>=0;e--)I(s,t[e]);return t}),J(c,"$slice_before",function _(s){var $=_.$$p||u,t=this;return _.$$p=null,q(s===void 0&&$===u)&&Y.$raise(d("ArgumentError"),"both pattern and block are given"),q(s!==void 0&&$!==u||arguments.length>1)&&Y.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),T(d("Enumerator"),"new",[],function e(r){var i=e.$$s==null?this:e.$$s;r==null&&(r=u);var a=[];$!==u?s===void 0?i.$each.$$p=function(){var l=L.$destructure(arguments),g=B($,l);q(g)&&a.length>0&&(r["$<<"](a),a=[]),a.push(l)}:i.$each.$$p=function(){var l=L.$destructure(arguments),g=$(l,s.$dup());q(g)&&a.length>0&&(r["$<<"](a),a=[]),a.push(l)}:i.$each.$$p=function(){var l=L.$destructure(arguments),g=s["$==="](l);q(g)&&a.length>0&&(r["$<<"](a),a=[]),a.push(l)},i.$each(),a.length>0&&r["$<<"](a)},{$$s:t})},-1),J(c,"$slice_after",function _(s){var $=_.$$p||u,t=this;return _.$$p=null,q(s===void 0&&$===u)&&Y.$raise(d("ArgumentError"),"both pattern and block are given"),q(s!==void 0&&$!==u||arguments.length>1)&&Y.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),q(s!==void 0)&&($=T(Y,"proc",[],function(r){return r==null&&(r=u),s["$==="](r)})),T(d("Enumerator"),"new",[],function e(r){var i=e.$$s==null?this:e.$$s;r==null&&(r=u);var a;i.$each.$$p=function(){var l=L.$destructure(arguments),g=B($,l);a==null&&(a=[]),q(g)?(a.push(l),r.$yield(a),a=null):a.push(l)},i.$each(),a!=null&&r.$yield(a)},{$$s:t})},-1),J(c,"$slice_when",function _(){var s=_.$$p||u,$=this;return _.$$p=null,s===u&&Y.$raise(d("ArgumentError"),"wrong number of arguments (0 for 1)"),T(d("Enumerator"),"new",[],function t(e){var r=t.$$s==null?this:t.$$s;e==null&&(e=u);var i=u,a=u;r.$each_cons.$$p=function(){var l=L.$destructure(arguments),g=l[0],S=l[1],C=I(s,[g,S]);a=S,i===u&&(i=[]),q(C)?(i.push(g),e.$yield(i),i=[]):i.push(g)},r.$each_cons(2),i!==u&&(i.push(a),e.$yield(i))},{$$s:$})}),J(c,"$sort",function _(){var s=_.$$p||u,$=this,t=u;return _.$$p=null,t=$.$to_a(),s===u&&(s=z(function(r,i){return r==null&&(r=u),i==null&&(i=u),r["$<=>"](i)})),T(t,"sort",[],s.$to_proc())}),J(c,"$sort_by",function _(){var s=_.$$p||u,$=this,t=u;return _.$$p=null,s===u?T($,"enum_for",["sort_by"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:$}):(t=T($,"map",[],function(){var r=u;return r=L.$destructure(arguments),[n.yield1(s,r),r]}),T(t,"sort!",[],function(r,i){return r==null&&(r=u),i==null&&(i=u),r[0]["$<=>"](i[0])}),T(t,"map!",[],function(r){return r==null&&(r=u),r[1]}))}),J(c,"$sum",function _(s){var $=_.$$p||u,t=this,e=u,r=u;return _.$$p=null,s==null&&(s=0),e=s,r=0,T(t,"each",[],function(a){var l,g,S=u,C=u,R=u;return l=Z(arguments),g=l,S=$!==u?n.yieldX($,v(g)):L.$destructure(g),j([d(d("Float"),"INFINITY"),d(d("Float"),"INFINITY")["$-@"]()]["$include?"](S))&&q(S["$respond_to?"]("-"))?(C=M(S,r),R=X(e,C),r=M(M(R,e),C),e=R):e=X(e,S)},-1),e},-1),J(c,"$take",function(s){var $=this;return $.$first(s)}),J(c,"$take_while",function _(){try{var s=ie("return"),$=_.$$p||u,t=this,e=u;return _.$$p=null,q($)?(e=[],T(t,"each",[],function r(i){var a,l,g=u;return a=Z(arguments),l=a,g=L.$destructure(l),q(n.yield1($,g))||s.$throw(e,r.$$is_lambda),e.push(g)},{$$arity:-1,$$ret:s})):t.$enum_for("take_while")}catch(r){if(r===s)return r.$v;throw r}finally{s.is_orphan=!0}}),J(c,"$uniq",function _(){var s=_.$$p||u,$=this,t=u;return _.$$p=null,t=new Map,T($,"each",[],function(r){var i,a,l,g=u,S=u;return i=Z(arguments),a=i,g=L.$destructure(a),S=s!==u?n.yield1(s,g):g,q(t["$key?"](S))?u:(l=[S,g],T(t,"[]=",l),l[l.length-1])},-1),t.$values()}),J(c,"$tally",function(s){var $=this,t=u;return s&&s!==u&&ee(s),t=T(T($,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),q(s)?(T(t,"each",[],function(r,i){var a;return r==null&&(r=u),i==null&&(i=u),a=[r,X(s.$fetch(r,0),i)],T(s,"[]=",a),a[a.length-1]}),s):t},-1),J(c,"$to_h",function _(s){var $=_.$$p||u,t,e,r=this;if(_.$$p=null,t=Z(arguments),e=t,$!==u)return T(T(r,"map",[],$.$to_proc()),"to_h",v(e));var i=new Map;return r.$each.$$p=function(){var a=L.$destructure(arguments),l=L["$coerce_to?"](a,d("Array"),"to_ary"),g,S;l.$$is_array||Y.$raise(d("TypeError"),"wrong element type "+a.$class()+" (expected array)"),l.length!==2&&Y.$raise(d("ArgumentError"),"element has wrong array length (expected 2, was "+l.$length()+")"),g=l[0],S=l[1],n.hash_put(i,g,S)},r.$each.apply(r,e),i},-1),J(c,"$to_set",function _(s,$){var t=_.$$p||u,e,r,i,a=this;return _.$$p=null,e=Z(arguments),e.length>0&&(r=e.shift()),r==null&&(r=y("Set")),i=e,T(r,"new",[a].concat(v(i)),t.$to_proc())},-1),J(c,"$zip",function _(s){_.$$p;var $,t,e=this;return _.$$p=null,$=Z(arguments),t=$,T(e.$to_a(),"zip",v(t))},-1),A(c,"find","detect"),A(c,"filter","find_all"),A(c,"flat_map","collect_concat"),A(c,"map","collect"),A(c,"member?","include?"),A(c,"reduce","inject"),A(c,"select","find_all"),A(c,"to_a","entries")}("::",w)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(n){var q=n.klass,E=n.truthy,B=n.to_a,I=n.eqeq,ee=n.Kernel,Q=n.def,T=n.rb_gt,Z=n.rb_lt,v=n.rb_le,L=n.rb_ge,ie=n.rb_plus,J=n.rb_minus,Y=n.eqeqeq,te=n.not,V=n.rb_times,x=n.rb_divide,b=n.alias,P=[],X=n.nil,M=n.$$$;return n.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(H,p,z){var j=q(H,p,"Enumerator"),A=[j].concat(z);return function(w,u,d){var k=q(w,u,"ArithmeticSequence"),h=[k].concat(d),c=n.$r(h),o=k.$$prototype;o.step_arg2=o.receiver_num=o.step_arg1=o.step=o.range=o.topfx=o.bypfx=o.creation_method=o.skipped_arg=X,n.prop(k.$$prototype,"$$is_arithmetic_seq",!0);var y=1/0;return Q(k,"$initialize",function(_,s,$){var t,e=this,r=X;return $==null&&($="step"),e.creation_method=$,E(_["$is_a?"](M("Array")))?(t=[].concat(B(_)),e.step_arg1=t[0]==null?X:t[0],e.step_arg2=t[1]==null?X:t[1],e.topfx=t[2]==null?X:t[2],e.bypfx=t[3]==null?X:t[3],e.receiver_num=s,e.step=1,e.range=E(e.step_arg2)?(e.step=e.step_arg2,n.Range.$new(e.receiver_num,e.step_arg1,!1)):E(e.step_arg1)?n.Range.$new(e.receiver_num,e.step_arg1,!1):n.Range.$new(e.receiver_num,X,!1)):(E(s)||(e.skipped_arg=!0),t=[_,E(r=s)?r:1],e.range=t[0],e.step=t[1]),e.object=e,I(e.step,0)&&ee.$raise(c("ArgumentError"),"step can't be 0"),E(e.step["$respond_to?"]("to_int"))?X:ee.$raise(c("ArgumentError"),"no implicit conversion of "+e.step.$class()+" into Integer")},-2),k.$attr_reader("step"),Q(k,"$begin",function(){var _=this;return _.range.$begin()}),Q(k,"$end",function(){var _=this;return _.range.$end()}),Q(k,"$exclude_end?",function(){var _=this;return _.range["$exclude_end?"]()}),Q(k,"$_lesser_than_end?",function(_){var s=this,$=X,t=X;return $=E(t=s.$end())?t:y,E(T(s.$step(),0))?E(s["$exclude_end?"]())?Z(_,$):v(_,$):E(s["$exclude_end?"]())?T(_,$):L(_,$)}),Q(k,"$_greater_than_begin?",function(_){var s=this,$=X,t=X;return $=E(t=s.$begin())?t:y["$-@"](),E(T(s.$step(),0))?T(_,$):Z(_,$)}),Q(k,"$first",function(_){var s=this,$=X,t=X,e=X;if($=E(t=s.$begin())?t:y["$-@"](),!E(_))return E(s["$_lesser_than_end?"]($))?$:X;for(e=[];E(E(t=s["$_lesser_than_end?"]($))?T(_,0):t);)e["$<<"]($),$=ie($,s.$step()),_=J(_,1);return e},-1),Q(k,"$each",function K(){var _=K.$$p||X,s=this,$=X,t=X;if(K.$$p=null,_===X)return s;for(Y(X,$=s.$begin())&&ee.$raise(c("TypeError"),"nil can't be coerced into Integer"),t=E($=s.$begin())?$:y["$-@"]();E(s["$_lesser_than_end?"](t));)n.yield1(_,t),t=ie(t,s.$step());return s}),Q(k,"$last",function(_){var s=this,$=X,t=X,e=X;if(Y(y,$=s.$end())||Y(y["$-@"](),$)?ee.$raise(M("FloatDomainError"),s.$end()):Y(X,$)&&ee.$raise(M("RangeError"),"cannot get the last element of endless arithmetic sequence"),t=J(s.$end(),J(s.$end(),s.$begin())["$%"](s.$step())),E(s["$_lesser_than_end?"](t))||(t=J(t,s.$step())),!E(_))return E(s["$_greater_than_begin?"](t))?t:X;for(e=[];E(E($=s["$_greater_than_begin?"](t))?T(_,0):$);)e["$<<"](t),t=J(t,s.$step()),_=J(_,1);return e.$reverse()},-1),Q(k,"$size",function(){var _=this,s=X,$=X;return s=E(T(_.$step(),0))?1:-1,te(_["$_lesser_than_end?"](_.$begin()))?0:E([y["$-@"](),y]["$include?"](_.$step()))?1:E([V(y["$-@"](),s),X]["$include?"](_.$begin()))||E([V(y,s),X]["$include?"](_.$end()))?y:($=J(_.$end(),J(_.$end(),_.$begin())["$%"](_.$step())),E(_["$_lesser_than_end?"]($))||($=J($,_.$step())),ie(x(J($,_.$begin()),_.$step()).$abs().$to_i(),1))}),Q(k,"$==",function(_){var s=this,$=X,t=X,e=X,r=X;return E($=E(t=E(e=E(r=s.$class()["$=="](_.$class()))?s.$begin()["$=="](_.$begin()):r)?s.$end()["$=="](_.$end()):e)?s.$step()["$=="](_.$step()):t)?s["$exclude_end?"]()["$=="](_["$exclude_end?"]()):$}),Q(k,"$hash",function(){var _=this;return[c("ArithmeticSequence"),_.$begin(),_.$end(),_.$step(),_["$exclude_end?"]()].$hash()}),Q(k,"$inspect",function(){var _=this,s=X;return E(_.receiver_num)?(s=E(_.step_arg2)?"("+_.topfx+_.step_arg1.$inspect()+", "+_.bypfx+_.step_arg2.$inspect()+")":E(_.step_arg1)?"("+_.topfx+_.step_arg1.$inspect()+")":X,"("+_.receiver_num.$inspect()+"."+_.creation_method+s+")"):(s=E(_.skipped_arg)?X:"("+_.step+")","(("+_.range.$inspect()+")."+_.creation_method+s+")")}),b(k,"===","=="),b(k,"eql?","==")}(j,j,A)}("::",null,P)};Opal.modules["corelib/enumerator/chain"]=function(n){var q=n.deny_frozen_access,E=n.klass,B=n.slice,I=n.def,ee=n.send,Q=n.to_a,T=n.truthy,Z=n.rb_plus,v=n.thrower,L=n.nil,ie=n.$$$;return n.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(J,Y){var te=E(J,Y,"Enumerator");return function(V,x){var b=E(V,x,"Chain"),P=b.$$prototype;return P.enums=P.iterated=L,I(b,"$initialize",function(M){var H,p,z=this;return H=B(arguments),p=H,q(z),z.enums=p,z.iterated=[],z.object=z},-1),I(b,"$each",function X(M){var H=X.$$p||L,p,z,j=this;return X.$$p=null,p=B(arguments),z=p,H===L?ee(j,"to_enum",["each"].concat(Q(z)),function A(){var w=A.$$s==null?this:A.$$s;return w.$size()},{$$s:j}):(ee(j.enums,"each",[],function A(w){var u=A.$$s==null?this:A.$$s;return u.iterated==null&&(u.iterated=L),w==null&&(w=L),u.iterated["$<<"](w),ee(w,"each",Q(z),H.$to_proc())},{$$s:j}),j)},-1),I(b,"$size",function(M){try{var H=v("return"),p,z,j=this,A=L;return p=B(arguments),z=p,A=0,ee(j.enums,"each",[],function w(u){var d=L;return u==null&&(u=L),d=ee(u,"size",Q(z)),T([L,ie(ie("Float"),"INFINITY")]["$include?"](d))&&H.$throw(d,w.$$is_lambda),A=Z(A,d)},{$$ret:H}),A}catch(w){if(w===H)return w.$v;throw w}finally{H.is_orphan=!0}},-1),I(b,"$rewind",function(){var M=this;return ee(M.iterated,"reverse_each",[],function(p){return p==null&&(p=L),T(p["$respond_to?"]("rewind"))?p.$rewind():L}),M.iterated=[],M}),I(b,"$inspect",function(){var M=this;return"#<Enumerator::Chain: "+M.enums.$inspect()+">"})}(te,te)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(n){var q=n.deny_frozen_access,E=n.klass,B=n.truthy,I=n.Kernel,ee=n.def,Q=n.slice,T=n.send,Z=[],v=n.nil,L=n.$$$;return n.add_stubs("include,raise,new,to_proc"),function(ie,J,Y){var te=E(ie,J,"Enumerator"),V=[te].concat(Y);return function(x,b,P){var X=E(x,b,"Generator"),M=[X].concat(P),H=n.$r(M),p=X.$$prototype;return p.block=v,X.$include(L("Enumerable")),ee(X,"$initialize",function z(){var j=z.$$p||v,A=this;return z.$$p=null,q(A),B(j)||I.$raise(L("LocalJumpError"),"no block given"),A.block=j}),ee(X,"$each",function z(j){var A=z.$$p||v,w,u,d=this,k=v;z.$$p=null,w=Q(arguments),u=w,k=T(H("Yielder"),"new",[],A.$to_proc());try{u.unshift(k),n.yieldX(d.block,u)}catch(h){if(h&&h.$thrower_type=="breaker")return h.$v;throw h}return d},-1)}(V[0],null,V)}(Z[0],null,Z)};Opal.modules["corelib/enumerator/lazy"]=function(n){var q=n.truthy,E=n.coerce_to,B=n.yield1,I=n.yieldX,ee=n.deny_frozen_access,Q=n.klass,T=n.slice,Z=n.send2,v=n.find_super,L=n.to_a,ie=n.defs,J=n.Kernel,Y=n.send,te=n.def,V=n.return_self,x=n.Opal,b=n.rb_lt,P=n.eqeqeq,X=n.rb_plus,M=n.alias,H=[],p=n.nil,z=n.$$$;return n.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(j,A,w){var u=Q(j,A,"Enumerator"),d=[u].concat(w);return function(k,h,c){var o=Q(k,h,"Lazy"),y=[o].concat(c),K=n.$r(y),_=o.$$prototype;return _.enumerator=p,Q(o,z("Exception"),"StopLazyError"),ie(o,"$for",function s($,t){var e,r,i=s.$$p||p,a=this,l=p;return s.$$p=null,e=T(arguments,1),r=e,l=Z(a,v(a,"for",s,!1,!0),"for",[$].concat(L(r)),i),l.enumerator=$,l},-2),te(o,"$initialize",function s($,t){var e=s.$$p||p,r=this;return s.$$p=null,t==null&&(t=p),ee(r),e===p&&J.$raise(z("ArgumentError"),"tried to call lazy new without a block"),r.enumerator=$,Z(r,v(r,"initialize",s,!1,!0),"initialize",[t],function(a,l){var g,S;a==null&&(a=p),g=T(arguments,1),S=g;try{return Y($,"each",L(S),function(R){var G,O;G=T(arguments),O=G,O.unshift(a),I(e,O)},-1)}catch(C){if(n.rescue(C,[K("StopLazyError")]))try{return p}finally{n.pop_exception(C)}else throw C}},-2)},-2),te(o,"$lazy",V),te(o,"$collect",function s(){var $=s.$$p||p,t=this;return s.$$p=null,q($)||J.$raise(z("ArgumentError"),"tried to call lazy map without a block"),Y(K("Lazy"),"new",[t,t.$enumerator_size()],function(r,i){var a,l;r==null&&(r=p),a=T(arguments,1),l=a;var g=I($,l);r.$yield(g)},-2)}),te(o,"$collect_concat",function s(){var $=s.$$p||p,t=this;return s.$$p=null,q($)||J.$raise(z("ArgumentError"),"tried to call lazy map without a block"),Y(K("Lazy"),"new",[t,p],function(r,i){var a,l;r==null&&(r=p),a=T(arguments,1),l=a;var g=I($,l);if(g["$respond_to?"]("force")&&g["$respond_to?"]("each"))Y(g,"each",[],function(R){return R==null&&(R=p),r.$yield(R)});else{var S=x.$try_convert(g,z("Array"),"to_ary");S===p?r.$yield(g):Y(g,"each",[],function(R){return R==null&&(R=p),r.$yield(R)})}},-2)}),te(o,"$drop",function($){var t=this,e=p,r=p,i=p;return $=E($,z("Integer"),"to_int"),q(b($,0))&&J.$raise(z("ArgumentError"),"attempt to drop negative size"),e=t.$enumerator_size(),r=P(z("Integer"),e)&&q(b($,e))?$:e,i=0,Y(K("Lazy"),"new",[t,r],function(l,g){var S,C;return l==null&&(l=p),S=T(arguments,1),C=S,q(b(i,$))?i=X(i,1):Y(l,"yield",L(C))},-2)}),te(o,"$drop_while",function s(){var $=s.$$p||p,t=this,e=p;return s.$$p=null,q($)||J.$raise(z("ArgumentError"),"tried to call lazy drop_while without a block"),e=!0,Y(K("Lazy"),"new",[t,p],function(i,a){var l,g;if(i==null&&(i=p),l=T(arguments,1),g=l,q(e)){var S=I($,g);q(S)||(e=!1,Y(i,"yield",L(g)))}else return Y(i,"yield",L(g))},-2)}),te(o,"$enum_for",function s($,t){var e=s.$$p||p,r,i,a,l=this;return s.$$p=null,r=T(arguments),r.length>0&&(i=r.shift()),i==null&&(i="each"),a=r,Y(l.$class(),"for",[l,i].concat(L(a)),e.$to_proc())},-1),te(o,"$find_all",function s(){var $=s.$$p||p,t=this;return s.$$p=null,q($)||J.$raise(z("ArgumentError"),"tried to call lazy select without a block"),Y(K("Lazy"),"new",[t,p],function(r,i){var a,l;r==null&&(r=p),a=T(arguments,1),l=a;var g=I($,l);q(g)&&Y(r,"yield",L(l))},-2)}),te(o,"$grep",function s($){var t=s.$$p||p,e=this;return s.$$p=null,q(t)?Y(K("Lazy"),"new",[e,p],function(i,a){var l,g;i==null&&(i=p),l=T(arguments,1),g=l;var S=x.$destructure(g),C=$["$==="](S);q(C)&&(C=B(t,S),i.$yield(B(t,S)))},-2):Y(K("Lazy"),"new",[e,p],function(i,a){var l,g;i==null&&(i=p),l=T(arguments,1),g=l;var S=x.$destructure(g),C=$["$==="](S);q(C)&&i.$yield(S)},-2)}),te(o,"$reject",function s(){var $=s.$$p||p,t=this;return s.$$p=null,q($)||J.$raise(z("ArgumentError"),"tried to call lazy reject without a block"),Y(K("Lazy"),"new",[t,p],function(r,i){var a,l;r==null&&(r=p),a=T(arguments,1),l=a;var g=I($,l);q(g)||Y(r,"yield",L(l))},-2)}),te(o,"$take",function($){var t=this,e=p,r=p,i=p;return $=E($,z("Integer"),"to_int"),q(b($,0))&&J.$raise(z("ArgumentError"),"attempt to take negative size"),e=t.$enumerator_size(),r=P(z("Integer"),e)&&q(b($,e))?$:e,i=0,Y(K("Lazy"),"new",[t,r],function(l,g){var S,C;return l==null&&(l=p),S=T(arguments,1),C=S,q(b(i,$))?(Y(l,"yield",L(C)),i=X(i,1)):J.$raise(K("StopLazyError"))},-2)}),te(o,"$take_while",function s(){var $=s.$$p||p,t=this;return s.$$p=null,q($)||J.$raise(z("ArgumentError"),"tried to call lazy take_while without a block"),Y(K("Lazy"),"new",[t,p],function(r,i){var a,l;r==null&&(r=p),a=T(arguments,1),l=a;var g=I($,l);q(g)?Y(r,"yield",L(l)):J.$raise(K("StopLazyError"))},-2)}),te(o,"$inspect",function(){var $=this;return"#<"+$.$class()+": "+$.enumerator.$inspect()+">"}),M(o,"force","to_a"),M(o,"filter","find_all"),M(o,"flat_map","collect_concat"),M(o,"map","collect"),M(o,"select","find_all"),M(o,"to_enum","enum_for")}(u,u,d)}("::",null,H)};Opal.modules["corelib/enumerator/yielder"]=function(n){var q=n.klass,E=n.def,B=n.slice,I=n.send,ee=n.to_a,Q=[],T=n.nil;return n.add_stubs("yield,proc"),function(Z,v,L){var ie=q(Z,v,"Enumerator"),J=[ie].concat(L);return function(Y,te){var V=q(Y,te,"Yielder"),x=V.$$prototype;return x.block=T,E(V,"$initialize",function b(){var P=b.$$p||T,X=this;return b.$$p=null,X.block=P,X}),E(V,"$yield",function(P){var X,M,H=this;X=B(arguments),M=X;var p=n.yieldX(H.block,M);if(p&&p.$thrower_type=="break")throw p;return p},-1),E(V,"$<<",function(P){var X=this;return X.$yield(P),X}),E(V,"$to_proc",function(){var P=this;return I(P,"proc",[],function X(M){var H,p,z=X.$$s==null?this:X.$$s;return H=B(arguments),p=H,I(z,"yield",ee(p))},{$$arity:-1,$$s:P})})}(J[0],null)}(Q[0],null,Q)};Opal.modules["corelib/enumerator"]=function(n){var q=n.slice,E=n.coerce_to,B=n.deny_frozen_access,I=n.klass,ee=n.defs,Q=n.truthy,T=n.send,Z=n.not,v=n.def,L=n.rb_plus,ie=n.to_a,J=n.Opal,Y=n.send2,te=n.find_super,V=n.rb_ge,x=n.Kernel,b=n.rb_le,P=n.alias,X=n.top,M=[],H=n.nil,p=n.$$$;return n.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),X.$require("corelib/enumerable"),function(z,j,A){var w=I(z,j,"Enumerator"),u=[w].concat(A),d=n.$r(u),k=w.$$prototype;return k.size=k.args=k.object=k.method=k.values=k.cursor=H,w.$include(p("Enumerable")),w.$$prototype.$$is_enumerator=!0,ee(w,"$for",function h(c,o,y){var K=h.$$p||H,_,s,$,t=this;h.$$p=null,_=q(arguments,1),_.length>0&&(s=_.shift()),s==null&&(s="each"),$=_;var e=t.$allocate();return e.object=c,e.size=K,e.method=s,e.args=$,e.cursor=0,e},-2),v(w,"$initialize",function h(c){var o=h.$$p||H,y=this;return h.$$p=null,q(arguments),B(y),y.cursor=0,Q(o)?(y.object=T(d("Generator"),"new",[],o.$to_proc()),y.method="each",y.args=[],y.size=arguments[0]||H,Q(y.size)&&Z(y.size["$respond_to?"]("call"))?y.size=E(y.size,p("Integer"),"to_int"):H):(y.object=arguments[0],y.method=arguments[1]||"each",y.args=q(arguments,2),y.size=H)},-1),v(w,"$each",function h(c){var o=h.$$p||H,y,K,_=this;return h.$$p=null,y=q(arguments),K=y,Q(o["$nil?"]())&&Q(K["$empty?"]())?_:(K=L(_.args,K),Q(o["$nil?"]())?T(_.$class(),"new",[_.object,_.method].concat(ie(K))):T(_.object,"__send__",[_.method].concat(ie(K)),o.$to_proc()))},-1),v(w,"$size",function(){var c=this;return Q(c.size["$respond_to?"]("call"))?T(c.size,"call",ie(c.args)):c.size}),v(w,"$with_index",function h(c){var o=h.$$p||H,y=this;if(h.$$p=null,c==null&&(c=0),c=Q(c)?E(c,p("Integer"),"to_int"):0,!Q(o))return T(y,"enum_for",["with_index",c],function _(){var s=_.$$s==null?this:_.$$s;return s.$size()},{$$s:y});var K=c;return y.$each.$$p=function(){var _=J.$destructure(arguments),s=o(_,K);return K++,s},y.$each()},-1),v(w,"$each_with_index",function h(){var c=h.$$p||H,o=this;return h.$$p=null,c===H?T(o,"enum_for",["each_with_index"],function y(){var K=y.$$s==null?this:y.$$s;return K.$size()},{$$s:o}):(Y(o,te(o,"each_with_index",h,!1,!0),"each_with_index",[],c),o.object)}),v(w,"$rewind",function(){var c=this;return c.cursor=0,c}),v(w,"$peek_values",function(){var c=this,o=H;return c.values=Q(o=c.values)?o:T(c,"map",[],function(K){var _,s;return _=q(arguments),s=_,s},-1),Q(V(c.cursor,c.values.$length()))&&x.$raise(p("StopIteration"),"iteration reached an end"),c.values["$[]"](c.cursor)}),v(w,"$peek",function(){var c=this,o=H;return o=c.$peek_values(),Q(b(o.$length(),1))?o["$[]"](0):o}),v(w,"$next_values",function(){var c=this,o=H;return o=c.$peek_values(),c.cursor=L(c.cursor,1),o}),v(w,"$next",function(){var c=this,o=H;return o=c.$next_values(),Q(b(o.$length(),1))?o["$[]"](0):o}),v(w,"$feed",function(c){var o=this;return o.$raise(d("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),v(w,"$+",function(c){var o=this;return p(p("Enumerator"),"Chain").$new(o,c)}),v(w,"$inspect",function(){var c=this,o=H;return o="#<"+c.$class()+": "+c.object.$inspect()+":"+c.method,Q(c.args["$any?"]())&&(o=L(o,"("+c.args.$inspect()["$[]"](p("Range").$new(1,-2))+")")),L(o,">")}),P(w,"with_object","each_with_object"),w.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),w.$autoload("Chain","corelib/enumerator/chain"),w.$autoload("Generator","corelib/enumerator/generator"),w.$autoload("Lazy","corelib/enumerator/lazy"),w.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,M)};Opal.modules["corelib/numeric"]=function(n){var q=n.klass,E=n.truthy,B=n.Kernel,I=n.def,ee=n.to_ary,Q=n.return_self,T=n.rb_minus,Z=n.rb_times,v=n.rb_lt,L=n.eqeq,ie=n.rb_divide,J=n.return_val,Y=n.Opal,te=n.slice,V=n.extract_kwargs,x=n.ensure_kwargs,b=n.hash_get,P=n.not,X=n.send,M=n.rb_ge,H=n.rb_le,p=n.rb_plus,z=n.rb_gt,j=n.alias,A=n.top,w=n.nil,u=n.$$$;return n.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),A.$require("corelib/comparable"),function(d,k){var h=q(d,k,"Numeric");return h.$include(u("Comparable")),I(h,"$coerce",function(o){var y=this;return E(o["$instance_of?"](y.$class()))?[o,y]:[B.$Float(o),B.$Float(y)]}),I(h,"$__coerced__",function(o,y){var K,_,s=this,$=w,t=w;if(E(y["$respond_to?"]("coerce")))return _=y.$coerce(s),K=ee(_),$=K[0]==null?w:K[0],t=K[1]==null?w:K[1],$.$__send__(o,t);switch(o.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return B.$raise(u("TypeError"),""+y.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return B.$raise(u("ArgumentError"),"comparison of "+s.$class()+" with "+y.$class()+" failed");default:return w}}),I(h,"$<=>",function(o){var y=this;return E(y["$equal?"](o))?0:w}),I(h,"$+@",Q),I(h,"$-@",function(){var o=this;return T(0,o)}),I(h,"$%",function(o){var y=this;return T(y,Z(o,y.$div(o)))}),I(h,"$abs",function(){var o=this;return E(v(o,0))?o["$-@"]():o}),I(h,"$abs2",function(){var o=this;return Z(o,o)}),I(h,"$angle",function(){var o=this;return E(v(o,0))?u(u("Math"),"PI"):0}),I(h,"$ceil",function(o){var y=this;return o==null&&(o=0),y.$to_f().$ceil(o)},-1),I(h,"$conj",Q),I(h,"$denominator",function(){var o=this;return o.$to_r().$denominator()}),I(h,"$div",function(o){var y=this;return L(o,0)&&B.$raise(u("ZeroDivisionError"),"divided by o"),ie(y,o).$floor()}),I(h,"$divmod",function(o){var y=this;return[y.$div(o),y["$%"](o)]}),I(h,"$fdiv",function(o){var y=this;return ie(y.$to_f(),o)}),I(h,"$floor",function(o){var y=this;return o==null&&(o=0),y.$to_f().$floor(o)},-1),I(h,"$i",function(){var o=this;return B.$Complex(0,o)}),I(h,"$imag",J(0)),I(h,"$integer?",J(!1)),I(h,"$nonzero?",function(){var o=this;return E(o["$zero?"]())?w:o}),I(h,"$numerator",function(){var o=this;return o.$to_r().$numerator()}),I(h,"$polar",function(){var o=this;return[o.$abs(),o.$arg()]}),I(h,"$quo",function(o){var y=this;return ie(Y["$coerce_to!"](y,u("Rational"),"to_r"),o)}),I(h,"$real",Q),I(h,"$real?",J(!0)),I(h,"$rect",function(){var o=this;return[o,0]}),I(h,"$round",function(o){var y=this;return y.$to_f().$round(o)},-1),I(h,"$step",function c(o,y,K){var _=c.$$p||w,s,$,t,e,r,i,a=this,l=w;c.$$p=null,s=te(arguments),$=V(s),$=x($),s.length>0&&(t=s.shift()),s.length>0&&(e=s.shift()),r=b($,"to"),i=b($,"by"),t!==void 0&&r!==void 0&&B.$raise(u("ArgumentError"),"to is given twice"),e!==void 0&&i!==void 0&&B.$raise(u("ArgumentError"),"step is given twice"),r!==void 0&&(t=r),i!==void 0&&(e=i),t===void 0&&(t=w);function g(){e===w&&B.$raise(u("TypeError"),"step must be numeric"),e!=null&&e["$=="](0)&&B.$raise(u("ArgumentError"),"step can't be 0"),(e===w||e==null)&&(e=1);var ge=e["$<=>"](0);ge===w&&B.$raise(u("ArgumentError"),"0 can't be coerced into "+e.$class()),(t===w||t==null)&&(t=ge>0?u(u("Float"),"INFINITY"):u(u("Float"),"INFINITY")["$-@"]()),Y.$compare(a,t)}function S(){if(e>0&&a>t||e<0&&a<t)return 0;if(e===1/0||e===-1/0)return 1;var ge=Math.abs,ve=Math.floor,me=(ge(a)+ge(t)+ge(t-a))/ge(e)*u(u("Float"),"EPSILON");return me===1/0||me===-1/0?0:(me>.5&&(me=.5),ve((t-a)/e+me)+1)}function C(){if(g(),e===0)return 1/0;if(e%1!==0)return S();if(e>0&&a>t||e<0&&a<t)return 0;var ge=Math.ceil,ve=Math.abs,me=ve(a-t)+1,be=ve(e);return ge(me/be)}if(_===w)return(P(t)||E(t["$is_a?"](u("Numeric"))))&&(P(e)||E(e["$is_a?"](u("Numeric"))))?u(u("Enumerator"),"ArithmeticSequence").$new([t,e,E(r)?"to: ":w,E(i)?"by: ":w],a):X(a,"enum_for",["step",t,e],C.$to_proc());g();var R=e["$negative?"](),G=e["$=="](0)||t===1/0&&!R||t===-1/0&&R;if(a.$$is_number&&e.$$is_number&&t.$$is_number)if(a%1===0&&(G||t%1===0)&&e%1===0){var O=a;if(G)for(;;O+=e)_(O);else if(R)for(;O>=t;O+=e)_(O);else for(;O<=t;O+=e)_(O);return a}else{var ae=a.$to_f().valueOf();e=e.$to_f().valueOf(),t=t.$to_f().valueOf();var oe=S();if(!isFinite(e))oe!==0&&_(ae);else if(e===0)for(;;)_(ae);else for(var _e=0;_e<oe;_e++){var de=_e*e+a;(e>=0?t<de:t>de)&&(de=t),_(de)}return a}for(l=a;E(R?M(l,t):H(l,t));)n.yield1(_,l),l=p(l,e)},-1),I(h,"$to_c",function(){var o=this;return B.$Complex(o,0)}),I(h,"$to_int",function(){var o=this;return o.$to_i()}),I(h,"$truncate",function(o){var y=this;return o==null&&(o=0),y.$to_f().$truncate(o)},-1),I(h,"$zero?",function(){var o=this;return o["$=="](0)}),I(h,"$positive?",function(){var o=this;return z(o,0)}),I(h,"$negative?",function(){var o=this;return v(o,0)}),I(h,"$dup",Q),I(h,"$clone",function(o){var y=this;return o=x(o),b(o,"freeze"),y},-1),I(h,"$finite?",J(!0)),I(h,"$infinite?",J(w)),j(h,"arg","angle"),j(h,"conjugate","conj"),j(h,"imaginary","imag"),j(h,"magnitude","abs"),j(h,"modulo","%"),j(h,"phase","arg"),j(h,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(n){var q=n.truthy,E=n.falsy,B=n.yield1,I=n.hash_get,ee=n.hash_put,Q=n.hash_delete,T=n.coerce_to,Z=n.respond_to,v=n.deny_frozen_access,L=n.freeze,ie=n.opal32_init,J=n.opal32_add,Y=n.klass,te=n.slice,V=n.defs,x=n.Kernel,b=n.def,P=n.Opal,X=n.eqeqeq,M=n.send2,H=n.find_super,p=n.send,z=n.rb_gt,j=n.rb_times,A=n.eqeq,w=n.rb_minus,u=n.to_a,d=n.to_ary,k=n.gvars,h=n.rb_ge,c=n.assign_ivar,o=n.rb_lt,y=n.return_self,K=n.neqeq,_=n.alias,s=n.top,$=[],t=n.nil,e=n.$$$;return n.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),s.$require("corelib/enumerable"),s.$require("corelib/numeric"),function(r,i,a){var l=Y(r,i,"Array"),g=[l].concat(a),S=n.$r(g);l.$include(e("Enumerable")),n.prop(l.$$prototype,"$$is_array",!0);function C($e){for(var N=$e[0],F=1,U=$e.length;F<U;F++)$e[F-1]=$e[F];return $e.pop(),N}function R($e,N){return N.$$name===n.Array?$e:N.$allocate().$replace($e.$to_a())}function G($e,N,F){for(var U,W=null,ne=new Array($e.length),se=0,le=0;se<$e.length;se++){if(!W)try{U=B(F,$e[se])}catch(fe){W=fe}(W||N(U))&&(ne[le]=$e[se],le+=1)}if(le!==se&&($e.splice.apply($e,[0,ne.length].concat(ne)),$e.splice(le,ne.length)),W)throw W}function O($e){return $e.$$is_array||($e=T($e,e("Array"),"to_ary")),$e.$to_a()}function ae($e,N){var F=N.length;if(F>6&&F<32767)$e.push.apply($e,N);else for(var U=0;U<F;U++)$e.push(N[U])}V(l,"$[]",function(N){var F,U,W=this;return F=te(arguments),U=F,R(U,W)},-1),b(l,"$initialize",function $e(N,F){var U=$e.$$p||t,W=this;if($e.$$p=null,N==null&&(N=t),F==null&&(F=t),v(W),F!==t&&U!==t&&x.$warn("warning: block supersedes default value argument"),N>e(e("Integer"),"MAX")&&x.$raise(e("ArgumentError"),"array size too big"),arguments.length>2&&x.$raise(e("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return W.length>0&&W.splice(0,W.length),W;if(arguments.length===1){if(N.$$is_array)return W.$replace(N.$to_a()),W;if(N["$respond_to?"]("to_ary"))return W.$replace(N.$to_ary()),W}N=T(N,e("Integer"),"to_int"),N<0&&x.$raise(e("ArgumentError"),"negative array size"),W.splice(0,W.length);var ne,se;if(U===t)for(ne=0;ne<N;ne++)W.push(F);else for(ne=0,se;ne<N;ne++)se=U(ne),W[ne]=se;return W},-1),V(l,"$try_convert",function(N){return P["$coerce_to?"](N,e("Array"),"to_ary")}),b(l,"$&",function(N){var F=this;if(N=O(N),F.length===0||N.length===0)return[];var U=[],W=new Map,ne,se,le;for(ne=0,se=N.length;ne<se;ne++)ee(W,N[ne],!0);for(ne=0,se=F.length;ne<se;ne++)le=F[ne],Q(W,le)!==void 0&&U.push(le);return U}),b(l,"$|",function(N){var F=this;N=O(N);var U=new Map,W,ne;for(W=0,ne=F.length;W<ne;W++)ee(U,F[W],!0);for(W=0,ne=N.length;W<ne;W++)ee(U,N[W],!0);return U.$keys()}),b(l,"$*",function(N){var F=this;if(q(N["$respond_to?"]("to_str")))return F.$join(N.$to_str());N=T(N,e("Integer"),"to_int"),q(N<0)&&x.$raise(e("ArgumentError"),"negative argument");for(var U=[],W=F.$to_a(),ne=0;ne<N;ne++)U=U.concat(W);return U}),b(l,"$+",function(N){var F=this;return N=O(N),F.concat(N)}),b(l,"$-",function(N){var F=this;if(N=O(N),q(F.length===0))return[];if(q(N.length===0))return F.slice();var U=[],W=new Map,ne,se,le;for(ne=0,se=N.length;ne<se;ne++)ee(W,N[ne],!0);for(ne=0,se=F.length;ne<se;ne++)le=F[ne],I(W,le)===void 0&&U.push(le);return U}),b(l,"$<<",function(N){var F=this;return v(F),F.push(N),F}),b(l,"$<=>",function(N){var F=this;if(X(e("Array"),N))N=N.$to_a();else if(q(N["$respond_to?"]("to_ary")))N=N.$to_ary().$to_a();else return t;if(F===N)return 0;for(var U=Math.min(F.length,N.length),W=0;W<U;W++){var ne=F[W]["$<=>"](N[W]);if(ne!==0)return ne}return F.length["$<=>"](N.length)}),b(l,"$==",function(N){var F=this,U={};function W(ne,se){var le,fe,f,m;if(ne===se)return!0;if(!se.$$is_array)return Z(se,"$to_ary")?se["$=="](ne):!1;if(ne.$$constructor!==Array&&(ne=ne.$to_a()),se.$$constructor!==Array&&(se=se.$to_a()),ne.length!==se.length)return!1;for(U[ne.$object_id()]=!0,le=0,fe=ne.length;le<fe;le++)if(f=ne[le],m=se[le],f.$$is_array){if(m.$$is_array&&m.length!==f.length||!U.hasOwnProperty(f.$object_id())&&!W(f,m))return!1}else if(!f["$=="](m))return!1;return!0}return W(F,N)});function oe($e,N){var F=$e.length,U,W,ne,se;return U=N.excl,W=N.begin===t?0:T(N.begin,n.Integer,"to_int"),ne=N.end===t?-1:T(N.end,n.Integer,"to_int"),W<0&&(W+=F,W<0)||(N.excl_rev&&N.begin!==t&&(W+=1),W>F)?t:ne<0&&(ne+=F,ne<0)?[]:((!U||N.end===t)&&(ne+=1),se=$e.slice(W,ne),se)}function _e($e,N){var F,U=[],W=0,ne;for(N.step<0?(ne={begin:N.range.end,end:N.range.begin,excl:!1,excl_rev:N.range.excl},F=oe($e,ne).$reverse()):F=oe($e,N.range);W<F.length;)U.push(F[W]),W+=Math.abs(N.step);return U}function de($e,N,F){var U=$e.length,W;return N=T(N,n.Integer,"to_int"),N<0&&(N+=U,N<0)?t:F===void 0?N>=U||N<0?t:$e[N]:(F=T(F,n.Integer,"to_int"),F<0||N>U||N<0?t:(W=$e.slice(N,N+F),W))}b(l,"$[]",function(N,F){var U=this;return N.$$is_range?oe(U,N):N.$$is_arithmetic_seq?_e(U,N):de(U,N,F)},-2),b(l,"$[]=",function(N,F,U){var W=this,ne=t,se=t;v(W),ne=t;var le,fe=W.length;if(N.$$is_range){F.$$is_array?ne=F.$to_a():F["$respond_to?"]("to_ary")?ne=F.$to_ary().$to_a():ne=[F];var f=N.excl,m=N.begin===t?0:T(N.begin,n.Integer,"to_int"),D=N.end===t?-1:T(N.end,n.Integer,"to_int");if(m<0&&(m+=fe,m<0&&x.$raise(e("RangeError"),""+N.$inspect()+" out of range")),D<0&&(D+=fe),(!f||N.end===t)&&(D+=1),m>fe)for(le=fe;le<m;le++)W[le]=t;return D<0?W.splice.apply(W,[m,0].concat(ne)):W.splice.apply(W,[m,D-m].concat(ne)),F}else{U===void 0?se=1:(se=F,F=U,F.$$is_array?ne=F.$to_a():F["$respond_to?"]("to_ary")?ne=F.$to_ary().$to_a():ne=[F]);var re;if(N=T(N,e("Integer"),"to_int"),se=T(se,e("Integer"),"to_int"),N<0&&(re=N,N+=fe,N<0&&x.$raise(e("IndexError"),"index "+re+" too small for array; minimum "+-W.length)),se<0&&x.$raise(e("IndexError"),"negative length ("+se+")"),N>fe)for(le=fe;le<N;le++)W[le]=t;return U===void 0?W[N]=F:W.splice.apply(W,[N,se].concat(ne)),F}},-3),b(l,"$any?",function $e(N){var F=$e.$$p||t,U=this;return $e.$$p=null,U.length===0?!1:M(U,H(U,"any?",$e,!1,!0),"any?",[N],F)},-1),b(l,"$assoc",function(N){for(var F=this,U=0,W=F.length,ne;U<W;U++)if(ne=F[U],ne.length&&ne[0]["$=="](N))return ne;return t}),b(l,"$at",function(N){var F=this;return N=T(N,e("Integer"),"to_int"),N<0&&(N+=F.length),N<0||N>=F.length?t:F[N]}),b(l,"$bsearch_index",function $e(){var N=$e.$$p||t,F=this;if($e.$$p=null,N===t)return F.$enum_for("bsearch_index");for(var U=0,W=F.length,ne,se,le,fe=!1,f=t;U<W;){if(ne=U+Math.floor((W-U)/2),se=F[ne],le=B(N,se),le===!0)f=ne,fe=!0;else if(le===!1||le===t)fe=!1;else if(le.$$is_number){if(le===0)return ne;fe=le<0}else x.$raise(e("TypeError"),"wrong argument type "+le.$class()+" (must be numeric, true, false or nil)");fe?W=ne:U=ne+1}return f}),b(l,"$bsearch",function $e(){var N=$e.$$p||t,F=this,U=t;return $e.$$p=null,N===t?F.$enum_for("bsearch"):(U=p(F,"bsearch_index",[],N.$to_proc()),U!=null&&U.$$is_number?F[U]:U)}),b(l,"$cycle",function $e(N){var F=$e.$$p||t,U=this;if($e.$$p=null,N==null&&(N=t),F===t)return p(U,"enum_for",["cycle",N],function se(){var le=se.$$s==null?this:se.$$s;return q(N["$nil?"]())?e(e("Float"),"INFINITY"):(N=P["$coerce_to!"](N,e("Integer"),"to_int"),q(z(N,0))?j(le.$enumerator_size(),N):0)},{$$s:U});if(q(U["$empty?"]())||A(N,0))return t;var W,ne;if(N===t)for(;;)for(W=0,ne=U.length;W<ne;W++)B(F,U[W]);else{if(N=P["$coerce_to!"](N,e("Integer"),"to_int"),N<=0)return U;for(;N>0;){for(W=0,ne=U.length;W<ne;W++)B(F,U[W]);N--}}return U},-1),b(l,"$clear",function(){var N=this;return v(N),N.splice(0,N.length),N}),b(l,"$count",function $e(N){var F=$e.$$p||t,U=this;return $e.$$p=null,q(N!==void 0)||q(F)?M(U,H(U,"count",$e,!1,!0),"count",[N],F):U.$size()},-1),b(l,"$initialize_copy",function(N){var F=this;return F.$replace(N)}),b(l,"$collect",function $e(){var N=$e.$$p||t,F=this;if($e.$$p=null,N===t)return p(F,"enum_for",["collect"],function se(){var le=se.$$s==null?this:se.$$s;return le.$size()},{$$s:F});for(var U=[],W=0;W<F.length;W++){var ne=B(N,F[W]);U[W]=ne}return U}),b(l,"$collect!",function $e(){var N=$e.$$p||t,F=this;if($e.$$p=null,N===t)return p(F,"enum_for",["collect!"],function ne(){var se=ne.$$s==null?this:ne.$$s;return se.$size()},{$$s:F});v(F);for(var U=0;U<F.length;U++){var W=B(N,F[U]);F[U]=W}return F});function ge($e,N){return $e===N||N===0?1:N>0&&$e>N?ge($e-1,N-1)+ge($e-1,N):0}b(l,"$combination",function $e(N){var F=$e.$$p||t,U=this,W=t;if($e.$$p=null,W=P["$coerce_to!"](N,e("Integer"),"to_int"),F===t)return p(U,"enum_for",["combination",W],function re(){var ue=re.$$s==null?this:re.$$s;return ge(ue.length,W)},{$$s:U});var ne,se,le,fe,f,m,D;if(W===0)n.yield1(F,[]);else if(W===1)for(ne=0,se=U.length;ne<se;ne++)n.yield1(F,[U[ne]]);else if(W===U.length)n.yield1(F,U.slice());else if(W>=0&&W<U.length){for(le=[],ne=0;ne<=W+1;ne++)le.push(0);for(fe=[],f=0,m=!1,le[0]=-1;!m;){for(fe[f]=U[le[f+1]];f<W-1;)f++,D=le[f+1]=le[f]+1,fe[f]=U[D];n.yield1(F,fe.slice()),f++;do m=f===0,le[f]++,f--;while(le[f+1]+W===U.length+f+1)}}return U}),b(l,"$repeated_combination",function $e(N){var F=$e.$$p||t,U=this,W=t;if($e.$$p=null,W=P["$coerce_to!"](N,e("Integer"),"to_int"),F===t)return p(U,"enum_for",["repeated_combination",W],function se(){var le=se.$$s==null?this:se.$$s;return ge(le.length+W-1,W)},{$$s:U});function ne(se,le,fe,f){if(fe.length==se){var m=fe.slice();n.yield1(F,m);return}for(var D=le;D<f.length;D++)fe.push(f[D]),ne(se,D,fe,f),fe.pop()}return W>=0&&ne(W,0,[],U),U}),b(l,"$compact",function(){for(var N=this,F=[],U=0,W=N.length,ne;U<W;U++)(ne=N[U])!==t&&F.push(ne);return F}),b(l,"$compact!",function(){var N=this;v(N);for(var F=N.length,U=0,W=N.length;U<W;U++)N[U]===t&&(N.splice(U,1),W--,U--);return N.length===F?t:N}),b(l,"$concat",function(N){var F,U,W=this;return F=te(arguments),U=F,v(W),U=p(U,"map",[],function ne(se){var le=ne.$$s==null?this:ne.$$s;return se==null&&(se=t),se=O(se),q(se["$equal?"](le))&&(se=se.$dup()),se},{$$s:W}),p(U,"each",[],function ne(se){var le=ne.$$s==null?this:ne.$$s;se==null&&(se=t);for(var fe=0,f=se.length;fe<f;fe++)le.push(se[fe])},{$$s:W}),W},-1),b(l,"$delete",function $e(N){var F=$e.$$p||t,U=this;$e.$$p=null;for(var W=U.length,ne=0,se=W;ne<se;ne++)U[ne]["$=="](N)&&(v(U),U.splice(ne,1),se--,ne--);return U.length===W?F!==t?n.yieldX(F,[]):t:N}),b(l,"$delete_at",function(N){var F=this;if(v(F),N=T(N,e("Integer"),"to_int"),N<0&&(N+=F.length),N<0||N>=F.length)return t;var U=F[N];return F.splice(N,1),U}),b(l,"$delete_if",function $e(){var N=$e.$$p||t,F=this;return $e.$$p=null,N===t?p(F,"enum_for",["delete_if"],function U(){var W=U.$$s==null?this:U.$$s;return W.$size()},{$$s:F}):(v(F),G(F,E,N),F)}),b(l,"$difference",function(N){var F,U,W=this;return F=te(arguments),U=F,p(U,"reduce",[W.$to_a().$dup()],function(se,le){return se==null&&(se=t),le==null&&(le=t),w(se,le)})},-1),b(l,"$dig",function(N,F){var U,W,ne=this,se=t;return U=te(arguments,1),W=U,se=ne["$[]"](N),se===t||W.length===0?se:(q(se["$respond_to?"]("dig"))||x.$raise(e("TypeError"),""+se.$class()+" does not have #dig method"),p(se,"dig",u(W)))},-2),b(l,"$drop",function(N){var F=this;return N=T(N,e("Integer"),"to_int"),N<0&&x.$raise(e("ArgumentError")),F.slice(N)}),b(l,"$dup",function $e(){var N=$e.$$p||t,F=this;return $e.$$p=null,F.$$class===n.Array&&F.$$class.$allocate.$$pristine&&F.$copy_instance_variables.$$pristine&&F.$initialize_dup.$$pristine?F.slice(0):M(F,H(F,"dup",$e,!1,!0),"dup",[],N)}),b(l,"$each",function $e(){var N=$e.$$p||t,F=this;if($e.$$p=null,N===t)return p(F,"enum_for",["each"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:F});for(var U=0;U<F.length;U++)B(N,F[U]);return F}),b(l,"$each_index",function $e(){var N=$e.$$p||t,F=this;if($e.$$p=null,N===t)return p(F,"enum_for",["each_index"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:F});for(var U=0;U<F.length;U++)B(N,U);return F}),b(l,"$empty?",function(){var N=this;return N.length===0}),b(l,"$eql?",function(N){var F=this,U={};function W(ne,se){var le,fe,f,m;if(!se.$$is_array||(se=se.$to_a(),ne.length!==se.length))return!1;for(U[ne.$object_id()]=!0,le=0,fe=ne.length;le<fe;le++)if(f=ne[le],m=se[le],f.$$is_array){if(m.$$is_array&&m.length!==f.length||!U.hasOwnProperty(f.$object_id())&&!W(f,m))return!1}else if(!f["$eql?"](m))return!1;return!0}return W(F,N)}),b(l,"$fetch",function $e(N,F){var U=$e.$$p||t,W=this;$e.$$p=null;var ne=N;if(N=T(N,e("Integer"),"to_int"),N<0&&(N+=W.length),N>=0&&N<W.length)return W[N];if(U!==t&&F!=null&&W.$warn("warning: block supersedes default value argument"),U!==t)return U(ne);if(F!=null)return F;W.length===0?x.$raise(e("IndexError"),"index "+ne+" outside of array bounds: 0...0"):x.$raise(e("IndexError"),"index "+ne+" outside of array bounds: -"+W.length+"..."+W.length)},-2),b(l,"$fill",function $e(N){var F=$e.$$p||t,U,W,ne,se,le=this,fe=t,f=t,m=t,D=t,re=t;$e.$$p=null,U=te(arguments),W=U,v(le);var ue,ce;if(q(F)?(q(W.length>2)&&x.$raise(e("ArgumentError"),"wrong number of arguments ("+W.$length()+" for 0..2)"),se=W,ne=d(se),fe=ne[0]==null?t:ne[0],f=ne[1]==null?t:ne[1]):(q(W.length==0)?x.$raise(e("ArgumentError"),"wrong number of arguments (0 for 1..3)"):q(W.length>3)&&x.$raise(e("ArgumentError"),"wrong number of arguments ("+W.$length()+" for 1..3)"),se=W,ne=d(se),m=ne[0]==null?t:ne[0],fe=ne[1]==null?t:ne[1],f=ne[2]==null?t:ne[2]),X(e("Range"),fe)){if(q(f)&&x.$raise(e("TypeError"),"length invalid with range"),D=fe.begin===t?0:T(fe.begin,e("Integer"),"to_int"),q(D<0)&&(D+=this.length),q(D<0)&&x.$raise(e("RangeError"),""+fe.$inspect()+" out of range"),re=fe.end===t?-1:T(fe.end,e("Integer"),"to_int"),q(re<0)&&(re+=this.length),q(fe["$exclude_end?"]())||(re+=1),q(re<=D))return le}else if(q(fe))if(D=T(fe,e("Integer"),"to_int"),q(D<0)&&(D+=this.length),q(D<0)&&(D=0),q(f)){if(re=T(f,e("Integer"),"to_int"),q(re==0))return le;re+=D}else re=this.length;else D=0,re=this.length;if(q(D>this.length))for(ue=this.length;ue<re;ue++)le[ue]=t;if(q(re>this.length)&&(this.length=re),q(F))for(this.length;D<re;D++)ce=F(D),le[D]=ce;else for(this.length;D<re;D++)le[D]=m;return le},-1),b(l,"$first",function(N){var F=this;return N==null?F.length===0?t:F[0]:(N=T(N,e("Integer"),"to_int"),N<0&&x.$raise(e("ArgumentError"),"negative array size"),F.slice(0,N))},-1),b(l,"$flatten",function(N){var F=this;function U(W,ne){var se=[],le,fe,f,m;for(W=W.$to_a(),le=0,fe=W.length;le<fe;le++){if(f=W[le],!Z(f,"$to_ary",!0)){se.push(f);continue}if(m=f.$to_ary(),m===t){se.push(f);continue}switch(m.$$is_array||x.$raise(e("TypeError")),m===F&&x.$raise(e("ArgumentError")),ne){case void 0:se=se.concat(U(m));break;case 0:se.push(m);break;default:ae(se,U(m,ne-1))}}return se}return N!==void 0&&(N=T(N,e("Integer"),"to_int")),U(F,N)},-1),b(l,"$flatten!",function(N){var F=this;v(F);var U=F.$flatten(N);if(F.length==U.length){for(var W=0,ne=F.length;W<ne&&F[W]===U[W];W++);if(W==ne)return t}return F.$replace(U),F},-1),b(l,"$freeze",function(){var N=this;return q(N["$frozen?"]())?N:L(N)});var ve;b(l,"$hash",function(){var N=this,F=ve===void 0,U=ie(),W=N.$object_id(),ne,se,le;if(U=J(U,10),U=J(U,N.length),F)ve=Object.create(null);else if(ve[W])return J(U,16843009);try{for(le in ve)if(ne=ve[le],N["$eql?"](ne))return J(U,16843009);for(ve[W]=N,se=0;se<N.length;se++)ne=N[se],U=J(U,ne.$hash());return U}finally{F&&(ve=void 0)}}),b(l,"$include?",function(N){for(var F=this,U=0,W=F.length;U<W;U++)if(F[U]["$=="](N))return!0;return!1}),b(l,"$index",function $e(N){var F=$e.$$p||t,U=this;$e.$$p=null;var W,ne,se;if(N!=null&&F!==t&&U.$warn("warning: given block not used"),N!=null){for(W=0,ne=U.length;W<ne;W++)if(U[W]["$=="](N))return W}else if(F!==t){for(W=0;W<U.length;W++)if(se=F(U[W]),se!==!1&&se!==t)return W}else return U.$enum_for("index");return t},-1),b(l,"$insert",function(N,F){var U,W,ne=this;if(U=te(arguments,1),W=U,v(ne),N=T(N,e("Integer"),"to_int"),W.length>0){if(N<0&&(N+=ne.length+1,N<0&&x.$raise(e("IndexError"),""+N+" is out of bounds")),N>ne.length)for(var se=ne.length;se<N;se++)ne.push(t);ne.splice.apply(ne,[N,0].concat(W))}return ne},-2);var me=[];b(l,"$inspect",function(){var N=this,F=[],U=N.$__id__(),W=!0;return function(){try{if(me.indexOf(U)!==-1)return W=!1,"[...]";me.push(U);for(var ne=0,se=N.length;ne<se;ne++){var le=N["$[]"](ne);F.push(S("Opal").$inspect(le))}return"["+F.join(", ")+"]"}finally{W&&me.pop()}}()}),b(l,"$intersection",function(N){var F,U,W=this,ne=t,se=t;return F=te(arguments),U=F,U.length===0?W.$to_a().$dup():(U=U.map(O),W.length===0?[]:(U=p(U,"sort_by",[],"length".$to_proc()),q(W.length<U[0].length)?p(U,"reduce",[W],"&".$to_proc()):(ne=U.pop(),se=p(U,"reduce",[ne],"&".$to_proc()),W["$&"](se))))},-1),b(l,"$intersect?",function(N){var F=this,U,W,ne=new Map,se,le;for(F.length<N.length?(U=F,W=N):(U=N,W=F),se=0,le=U.length;se<le;se++)ee(ne,U[se],!0);for(se=0,le=W.length;se<le;se++)if(I(ne,W[se]))return!0;return!1}),b(l,"$join",function(N){var F=this;if(k[","]==null&&(k[","]=t),N==null&&(N=t),q(F.length===0))return"";q(N===t)&&(N=k[","]);var U=[],W,ne,se,le;for(W=0,ne=F.length;W<ne;W++){if(se=F[W],Z(se,"$to_str")&&(le=se.$to_str(),le!==t)){U.push(le.$to_s());continue}if(Z(se,"$to_ary")&&(le=se.$to_ary(),le===F&&x.$raise(e("ArgumentError")),le!==t)){U.push(le.$join(N));continue}if(Z(se,"$to_s")&&(le=se.$to_s(),le!==t)){U.push(le);continue}x.$raise(e("NoMethodError").$new(""+S("Opal").$inspect(F.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return N===t?U.join(""):U.join(P["$coerce_to!"](N,e("String"),"to_str").$to_s())},-1),b(l,"$keep_if",function $e(){var N=$e.$$p||t,F=this;return $e.$$p=null,N===t?p(F,"enum_for",["keep_if"],function U(){var W=U.$$s==null?this:U.$$s;return W.$size()},{$$s:F}):(v(F),G(F,q,N),F)}),b(l,"$last",function(N){var F=this;return N==null?F.length===0?t:F[F.length-1]:(N=T(N,e("Integer"),"to_int"),N<0&&x.$raise(e("ArgumentError"),"negative array size"),N>F.length&&(N=F.length),F.slice(F.length-N,F.length))},-1),b(l,"$length",function(){var N=this;return N.length}),b(l,"$max",function $e(N){var F=$e.$$p||t,U=this;return $e.$$p=null,p(U.$each(),"max",[N],F.$to_proc())},-1),b(l,"$min",function $e(){var N=$e.$$p||t,F=this;return $e.$$p=null,p(F.$each(),"min",[],N.$to_proc())});function be($e,N){for(var F=N>=0?1:0;N;)F*=$e,$e--,N--;return F}return b(l,"$permutation",function $e(N){var F=$e.$$p||t,U=this,W=t,ne=t;if($e.$$p=null,F===t)return p(U,"enum_for",["permutation",N],function m(){var D=m.$$s==null?this:m.$$s;return be(D.length,N===void 0?D.length:N)},{$$s:U});var se,le,fe;if(N===void 0?N=U.length:N=T(N,e("Integer"),"to_int"),!(N<0||U.length<N))if(N===0)n.yield1(F,[]);else if(N===1)for(var f=0;f<U.length;f++)n.yield1(F,[U[f]]);else W=S("Array").$new(N),ne=S("Array").$new(U.length,!1),se=function(m,D,re,ue,ce){U=this;for(var he=0;he<U.length;he++)if(ue["$[]"](he)["$!"]())if(D[re]=he,re<m-1)ue[he]=!0,se.call(U,m,D,re+1,ue,ce),ue[he]=!1;else{fe=[];for(var pe=0;pe<D.length;pe++)fe.push(U[D[pe]]);B(ce,fe)}},F!==t?(le=U.slice(),se.call(le,N,W,0,ne,F)):se.call(U,N,W,0,ne,F);return U},-1),b(l,"$repeated_permutation",function $e(N){var F=$e.$$p||t,U=this,W=t;if($e.$$p=null,W=P["$coerce_to!"](N,e("Integer"),"to_int"),F===t)return p(U,"enum_for",["repeated_permutation",W],function se(){var le=se.$$s==null?this:se.$$s;return q(h(W,0))?le.$size()["$**"](W):0},{$$s:U});function ne(se,le,fe){if(le.length==se){var f=le.slice();n.yield1(F,f);return}for(var m=0;m<fe.length;m++)le.push(fe[m]),ne(se,le,fe),le.pop()}return ne(W,[],U.slice()),U}),b(l,"$pop",function(N){var F=this;return v(F),q(N===void 0)?q(F.length===0)?t:F.pop():(N=T(N,e("Integer"),"to_int"),q(N<0)&&x.$raise(e("ArgumentError"),"negative array size"),q(F.length===0)?[]:q(N===1)?[F.pop()]:q(N>F.length)?F.splice(0,F.length):F.splice(F.length-N,F.length))},-1),b(l,"$product",function $e(N){var F=$e.$$p||t,U,W,ne=this;$e.$$p=null,U=te(arguments),W=U;var se=F!==t?null:[],le=W.length+1,fe=new Array(le),f=new Array(le),m=new Array(le),D,re,ue,ce,he=1;for(m[0]=ne,D=1;D<le;D++)m[D]=T(W[D-1],e("Array"),"to_ary");for(D=0;D<le;D++){if(ce=m[D].length,ce===0)return se||ne;he*=ce,he>2147483647&&x.$raise(e("RangeError"),"too big to product"),f[D]=ce,fe[D]=0}e:for(;;){for(ue=[],D=0;D<le;D++)ue.push(m[D][fe[D]]);for(se?se.push(ue):n.yield1(F,ue),re=le-1,fe[re]++;fe[re]===f[re];){if(fe[re]=0,--re<0)break e;fe[re]++}}return se||ne},-1),b(l,"$push",function(N){var F,U,W=this;return F=te(arguments),U=F,v(W),ae(W,U),W},-1),b(l,"$rassoc",function(N){for(var F=this,U=0,W=F.length,ne;U<W;U++)if(ne=F[U],ne.length&&ne[1]!==void 0&&ne[1]["$=="](N))return ne;return t}),b(l,"$reject",function $e(){var N=$e.$$p||t,F=this;if($e.$$p=null,N===t)return p(F,"enum_for",["reject"],function se(){var le=se.$$s==null?this:se.$$s;return le.$size()},{$$s:F});for(var U=[],W=0,ne;W<F.length;W++)ne=N(F[W]),(ne===!1||ne===t)&&U.push(F[W]);return U}),b(l,"$reject!",function $e(){var N=$e.$$p||t,F=this,U=t;return $e.$$p=null,N===t?p(F,"enum_for",["reject!"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:F}):(v(F),U=F.$length(),p(F,"delete_if",[],N.$to_proc()),A(F.$length(),U)?t:F)}),b(l,"$replace",function(N){var F=this;return v(F),N=O(N),F.length>0&&F.splice(0,F.length),ae(F,N),F}),b(l,"$reverse",function(){var N=this;return N.slice(0).reverse()}),b(l,"$reverse!",function(){var N=this;return v(N),N.reverse()}),b(l,"$reverse_each",function $e(){var N=$e.$$p||t,F=this;if($e.$$p=null,N===t)return p(F,"enum_for",["reverse_each"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:F});for(var U=F.length-1;U>=0;U--)B(N,F[U]);return F}),b(l,"$rindex",function $e(N){var F=$e.$$p||t,U=this;$e.$$p=null;var W,ne;if(N!=null&&F!==t&&U.$warn("warning: given block not used"),N!=null){for(W=U.length-1;W>=0&&!(W>=U.length);W--)if(U[W]["$=="](N))return W}else if(F!==t){for(W=U.length-1;W>=0&&!(W>=U.length);W--)if(ne=F(U[W]),ne!==!1&&ne!==t)return W}else if(N==null)return U.$enum_for("rindex");return t},-1),b(l,"$rotate",function(N){var F=this;N==null&&(N=1);var U,W,ne,se;return N=T(N,e("Integer"),"to_int"),F.length===1?F.slice():F.length===0?[]:(U=F.slice(),W=N%U.length,ne=U.slice(W),se=U.slice(0,W),ne.concat(se))},-1),b(l,"$rotate!",function(N){var F=this,U=t;return N==null&&(N=1),v(F),F.length===0||F.length===1?F:(N=T(N,e("Integer"),"to_int"),U=F.$rotate(N),F.$replace(U))},-1),function($e,N){var F=Y($e,N,"SampleRandom"),U=F.$$prototype;return U.rng=t,b(F,"$initialize",c("rng")),b(F,"$rand",function(ne){var se=this,le=t;return le=T(se.rng.$rand(ne),e("Integer"),"to_int"),q(le<0)&&x.$raise(e("RangeError"),"random value must be >= 0"),q(le<ne)||x.$raise(e("RangeError"),"random value must be less than Array size"),le})}(l,null),b(l,"$sample",function(N,F){var U=this,W=t,ne=t;if(q(N===void 0))return U.$at(x.$rand(U.length));if(q(F===void 0)?q(W=P["$coerce_to?"](N,e("Hash"),"to_hash"))?(F=W,N=t):(F=t,N=T(N,e("Integer"),"to_int")):(N=T(N,e("Integer"),"to_int"),F=T(F,e("Hash"),"to_hash")),q(N)&&q(N<0)&&x.$raise(e("ArgumentError"),"count must be greater than 0"),q(F)&&(ne=F["$[]"]("random")),ne=q(ne)&&q(ne["$respond_to?"]("rand"))?S("SampleRandom").$new(ne):x,!q(N))return U[ne.$rand(U.length)];var se,le,fe,f,m,D,re,ue;switch(N>U.length&&(N=U.length),N){case 0:return[];case 1:return[U[ne.$rand(U.length)]];case 2:return f=ne.$rand(U.length),m=ne.$rand(U.length-1),f<=m&&m++,[U[f],U[m]];default:if(U.length/N>3){for(se=!1,le=0,fe=S("Array").$new(N),f=1,fe[0]=ne.$rand(U.length);f<N;){for(D=ne.$rand(U.length),m=0;m<f;){for(;D===fe[m];){if(le++,le>100){se=!0;break}D=ne.$rand(U.length)}if(se)break;m++}if(se)break;fe[f]=D,f++}if(!se){for(f=0;f<N;)fe[f]=U[fe[f]],f++;return fe}}fe=U.slice();for(var ce=0;ce<N;ce++)re=ne.$rand(U.length-ce)+ce,ue=fe[ce],fe[ce]=fe[re],fe[re]=ue;return N===U.length?fe:fe["$[]"](0,N)}},-1),b(l,"$select",function $e(){var N=$e.$$p||t,F=this;if($e.$$p=null,N===t)return p(F,"enum_for",["select"],function le(){var fe=le.$$s==null?this:le.$$s;return fe.$size()},{$$s:F});for(var U=[],W=0,ne,se;W<F.length;W++)ne=F[W],se=B(N,ne),q(se)&&U.push(ne);return U}),b(l,"$select!",function $e(){var N=$e.$$p||t,F=this;if($e.$$p=null,N===t)return p(F,"enum_for",["select!"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:F});v(F);var U=F.length;return p(F,"keep_if",[],N.$to_proc()),F.length===U?t:F}),b(l,"$shift",function(N){var F=this;return v(F),q(N===void 0)?q(F.length===0)?t:C(F):(N=T(N,e("Integer"),"to_int"),q(N<0)&&x.$raise(e("ArgumentError"),"negative array size"),q(F.length===0)?[]:F.splice(0,N))},-1),b(l,"$shuffle",function(N){var F=this;return F.$dup().$to_a()["$shuffle!"](N)},-1),b(l,"$shuffle!",function(N){var F=this;v(F);var U,W=F.length,ne,se;for(N!==void 0&&(N=P["$coerce_to?"](N,e("Hash"),"to_hash"),N!==t&&(N=N["$[]"]("random"),N!==t&&N["$respond_to?"]("rand")&&(U=N)));W;)U?(ne=U.$rand(W).$to_int(),ne<0&&x.$raise(e("RangeError"),"random number too small "+ne),ne>=W&&x.$raise(e("RangeError"),"random number too big "+ne)):ne=F.$rand(W),se=F[--W],F[W]=F[ne],F[ne]=se;return F},-1),b(l,"$slice!",function(N,F){var U=this,W=t,ne=t,se=t,le=t,fe=t;if(v(U),W=t,q(F===void 0))if(X(e("Range"),N)){ne=N,W=U["$[]"](ne),se=ne.begin===t?0:T(ne.begin,e("Integer"),"to_int"),le=ne.end===t?-1:T(ne.end,e("Integer"),"to_int"),se<0&&(se+=U.length),le<0?le+=U.length:le>=U.length&&(le=U.length-1,ne.excl&&(le+=1));var f=le-se;ne.excl&&ne.end!==t?le-=1:f+=1,se<U.length&&se>=0&&le<U.length&&le>=0&&f>0&&U.splice(se,f)}else{if(fe=T(N,e("Integer"),"to_int"),fe<0&&(fe+=U.length),fe<0||fe>=U.length)return t;W=U[fe],fe===0?U.shift():U.splice(fe,1)}else{if(fe=T(N,e("Integer"),"to_int"),F=T(F,e("Integer"),"to_int"),F<0)return t;W=U["$[]"](fe,F),fe<0&&(fe+=U.length),fe+F>U.length&&(F=U.length-fe),fe<U.length&&fe>=0&&U.splice(fe,F)}return W},-2),b(l,"$sort",function $e(){var N=$e.$$p||t,F=this;return $e.$$p=null,q(F.length>1)?(N===t&&(N=function(U,W){return U["$<=>"](W)}),F.slice().sort(function(U,W){var ne=N(U,W);return ne===t&&x.$raise(e("ArgumentError"),"comparison of "+U.$inspect()+" with "+W.$inspect()+" failed"),z(ne,0)?1:o(ne,0)?-1:0})):F}),b(l,"$sort!",function $e(){var N=$e.$$p||t,F=this;$e.$$p=null,v(F);var U;N!==t?U=p(F.slice(),"sort",[],N.$to_proc()):U=F.slice().$sort(),F.length=0;for(var W=0,ne=U.length;W<ne;W++)F.push(U[W]);return F}),b(l,"$sort_by!",function $e(){var N=$e.$$p||t,F=this;return $e.$$p=null,N===t?p(F,"enum_for",["sort_by!"],function U(){var W=U.$$s==null?this:U.$$s;return W.$size()},{$$s:F}):(v(F),F.$replace(p(F,"sort_by",[],N.$to_proc())))}),b(l,"$take",function(N){var F=this;return N<0&&x.$raise(e("ArgumentError")),F.slice(0,N)}),b(l,"$take_while",function $e(){var N=$e.$$p||t,F=this;$e.$$p=null;for(var U=[],W=0,ne,se;W<F.length;W++){if(ne=F[W],se=N(ne),se===!1||se===t)return U;U.push(ne)}return U}),b(l,"$to_a",function(){var N=this;return N.$$class===n.Array?N:n.Array.$new(N)}),b(l,"$to_ary",y),b(l,"$to_h",function $e(){var N=$e.$$p||t,F=this,U=t;$e.$$p=null,U=F,N!==t&&(U=p(U,"map",[],N.$to_proc()));var W,ne=U.length,se,le,fe,f=new Map;for(W=0;W<ne;W++)se=P["$coerce_to?"](U[W],e("Array"),"to_ary"),se.$$is_array||x.$raise(e("TypeError"),"wrong element type "+U[W].$class()+" at "+W+" (expected array)"),se.length!==2&&x.$raise(e("ArgumentError"),"element has wrong array length at "+W+" (expected 2, was "+se.$length()+")"),le=se[0],fe=se[1],ee(f,le,fe);return f}),b(l,"$transpose",function(){var N=this,F=t,U=t;return q(N["$empty?"]())?[]:(F=[],U=t,p(N,"each",[],function(ne){var se=t;return ne==null&&(ne=t),ne=O(ne),U=q(se=U)?se:ne.length,K(ne.length,U)&&x.$raise(e("IndexError"),"element size differs ("+ne.length+" should be "+U+")"),p(ne.length,"times",[],function(fe){var f,m=t;return fe==null&&(fe=t),m=q(se=F["$[]"](fe))?se:(f=[fe,[]],p(F,"[]=",f),f[f.length-1]),m["$<<"](ne.$at(fe))})}),F)}),b(l,"$union",function(N){var F,U,W=this;return F=te(arguments),U=F,p(U,"reduce",[W.$uniq()],function(se,le){return se==null&&(se=t),le==null&&(le=t),se["$|"](le)})},-1),b(l,"$uniq",function $e(){var N=$e.$$p||t,F=this;$e.$$p=null;var U=new Map,W,ne,se,le;if(N===t)for(W=0,ne=F.length;W<ne;W++)se=F[W],I(U,se)===void 0&&ee(U,se,se);else for(W=0;W<F.length;W++)se=F[W],le=B(N,se),I(U,le)===void 0&&ee(U,le,se);return U.$values()}),b(l,"$uniq!",function $e(){var N=$e.$$p||t,F=this;$e.$$p=null,v(F);var U=new Map,W,ne,se,le=[];for(W=0;W<F.length;W++)ne=F[W],se=N===t?ne:B(N,ne),I(U,se)===void 0?ee(U,se,ne):le.push(W);for(W=le.length-1;W>=0;W--)F.splice(le[W],1);return le.length===0?t:F}),b(l,"$unshift",function(N){var F,U,W=this;F=te(arguments),U=F,v(W);var ne=W.length,se=U.length;if(se==0)return W;for(var le=ne-se,fe=0;fe<se;fe++)W.push(W[le+fe]);for(var f=ne-1;f-se>=0;)W[f]=W[f-se],f--;for(var m=0;m<se;m++)W[m]=U[m];return W},-1),b(l,"$values_at",function(N){var F,U,W=this,ne=t;return F=te(arguments),U=F,ne=[],p(U,"each",[],function se(le){var fe=se.$$s==null?this:se.$$s,f=t,m=t,D=t;return le==null&&(le=t),q(le["$is_a?"](e("Range")))?(f=le.$end()===t?-1:T(le.$end(),e("Integer"),"to_int"),m=le.$begin()===t?0:T(le.$begin(),e("Integer"),"to_int"),m<0?(m=m+fe.length,t):(f<0&&(f=f+fe.length),le["$exclude_end?"]()&&le.$end()!==t&&f--,f<m?t:p(m,"upto",[f],function re(ue){var ce=re.$$s==null?this:re.$$s;return ue==null&&(ue=t),ne["$<<"](ce.$at(ue))},{$$s:fe}))):(D=T(le,e("Integer"),"to_int"),ne["$<<"](fe.$at(D)))},{$$s:W}),ne},-1),b(l,"$zip",function $e(N){var F=$e.$$p||t,U,W,ne=this,se=t;$e.$$p=null,U=te(arguments),W=U;var le=[],fe=ne.length,f,m,D,re,ue;for(re=0,ue=W.length;re<ue;re++)if(m=W[re],!m.$$is_array){if(m.$$is_range||m.$$is_enumerator){W[re]=m.$take(fe);continue}W[re]=(q(se=P["$coerce_to?"](m,e("Array"),"to_ary"))?se:P["$coerce_to!"](m,e("Enumerator"),"to_enum","each")).$to_a()}for(D=0;D<fe;D++){for(f=[ne[D]],re=0,ue=W.length;re<ue;re++)m=W[re][D],m==null&&(m=t),f[re+1]=m;le[D]=f}if(F!==t){for(D=0;D<fe;D++)n.yield1(F,le[D]);return t}return le},-1),V(l,"$inherited",function(N){N.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),b(l,"$instance_variables",function $e(){var N=$e.$$p||t,F=this;return $e.$$p=null,p(M(F,H(F,"instance_variables",$e,!1,!0),"instance_variables",[],N),"reject",[],function(W){var ne=t;return W==null&&(W=t),q(ne=/^@\d+$/.test(W))?ne:W["$=="]("@length")})}),b(l,"$pack",function(N){return te(arguments),x.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),_(l,"append","push"),_(l,"filter","select"),_(l,"filter!","select!"),_(l,"map","collect"),_(l,"map!","collect!"),_(l,"prepend","unshift"),_(l,"size","length"),_(l,"slice","[]"),_(l,"to_s","inspect"),P.$pristine(l.$singleton_class(),"allocate"),P.$pristine(l,"copy_instance_variables","initialize_dup")}("::",Array,$)};Opal.modules["corelib/hash"]=function(n){var q=n.yield1,E=n.hash_clone,B=n.hash_delete,I=n.hash_each,ee=n.hash_get,Q=n.hash_put,T=n.deny_frozen_access,Z=n.freeze,v=n.opal32_init,L=n.opal32_add,ie=n.klass,J=n.slice,Y=n.Opal,te=n.Kernel,V=n.defs,x=n.def,b=n.send,P=n.rb_ge,X=n.rb_gt,M=n.truthy,H=n.to_a,p=n.return_self,z=n.not,j=n.alias,A=n.top,w=[],u=n.nil,d=n.$$$;return n.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),A.$require("corelib/enumerable"),function(k,h,c){var o=ie(k,h,"Hash"),y=[o].concat(c),K=n.$r(y);o.$include(d("Enumerable")),o.$$prototype.$$is_hash=!0,V(o,"$[]",function(t){var e,r,i=this;e=J(arguments),r=e;var a,l=r.length,g,S;if(l===1){if(a=Y["$coerce_to?"](r["$[]"](0),d("Hash"),"to_hash"),a!==u)return i.$allocate()["$merge!"](a);for(r=Y["$coerce_to?"](r["$[]"](0),d("Array"),"to_ary"),r===u&&te.$raise(d("ArgumentError"),"odd number of arguments for Hash"),l=r.length,a=i.$allocate(),S=0;S<l;S++)g=r[S],g.$$is_array||te.$raise(d("ArgumentError"),"invalid element "+g.$inspect()+" for Hash"),g.length===1?a.$store(g[0],u):g.length===2?a.$store(g[0],g[1]):te.$raise(d("ArgumentError"),"invalid number of elements ("+g.length+" for "+g.$inspect()+"), must be 1..2");return a}for(l%2!==0&&te.$raise(d("ArgumentError"),"odd number of arguments for Hash"),a=i.$allocate(),S=0;S<l;S+=2)a.$store(r[S],r[S+1]);return a},-1),V(o,"$allocate",function(){var t=this,e=new t.$$constructor;return e.$$none=u,e.$$proc=u,e}),V(o,"$try_convert",function(t){return Y["$coerce_to?"](t,d("Hash"),"to_hash")}),x(o,"$initialize",function $(t){var e=$.$$p||u,r=this;return $.$$p=null,T(r),t!==void 0&&e!==u&&te.$raise(d("ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=t===void 0?u:t,r.$$proc=e,r},-1),x(o,"$==",function(t){var e=this;return e===t?!0:!t.$$is_hash||e.size!==t.size?!1:I(e,!0,function(r,i){var a=ee(t,r);return a===void 0||!i["$eql?"](a)?[!0,!1]:[!1,!0]})}),x(o,"$>=",function(t){var e=this,r=u;return t=Y["$coerce_to!"](t,d("Hash"),"to_hash"),e.size<t.size?!1:(r=!0,b(t,"each",[],function i(a,l){var g=i.$$s==null?this:i.$$s,S=u;if(a==null&&(a=u),l==null&&(l=u),S=g.$fetch(a,null),S==null||S!==l){r=!1;return}},{$$s:e}),r)}),x(o,"$>",function(t){var e=this;return t=Y["$coerce_to!"](t,d("Hash"),"to_hash"),e.size<=t.size?!1:P(e,t)}),x(o,"$<",function(t){var e=this;return t=Y["$coerce_to!"](t,d("Hash"),"to_hash"),X(t,e)}),x(o,"$<=",function(t){var e=this;return t=Y["$coerce_to!"](t,d("Hash"),"to_hash"),P(t,e)}),x(o,"$[]",function(t){var e=this,r=ee(e,t);return r!==void 0?r:e.$default(t)}),x(o,"$[]=",function(t,e){var r=this;return T(r),Q(r,t,e),e}),x(o,"$assoc",function(t){var e=this;return I(e,u,function(r,i){return r["$=="](t)?[!0,[r,i]]:[!1,u]})}),x(o,"$clear",function(){var t=this;return T(t),t.clear(),t.$$keys&&t.$$keys.clear(),t}),x(o,"$clone",function(){var t=this,e=t.$class().$new();return E(t,e),t["$frozen?"]()?e.$freeze():e}),x(o,"$compact",function(){var t=this,e=new Map;return I(t,e,function(r,i){return i!==u&&Q(e,r,i),[!1,e]})}),x(o,"$compact!",function(){var t=this;T(t);var e=u;return I(t,e,function(r,i){return i===u&&(B(t,r),e=t),[!1,e]})}),x(o,"$compare_by_identity",function(){var t=this;return T(t),t.$$by_identity||(t.$$by_identity=!0,t.size!==0&&n.hash_rehash(t)),t}),x(o,"$compare_by_identity?",function(){var t=this;return t.$$by_identity===!0}),x(o,"$default",function(t){var e=this;return t!==void 0&&e.$$proc!==u&&e.$$proc!==void 0?e.$$proc.$call(e,t):e.$$none===void 0?u:e.$$none},-1),x(o,"$default=",function(t){var e=this;return T(e),e.$$proc=u,e.$$none=t,t}),x(o,"$default_proc",function(){var t=this;return t.$$proc!==void 0?t.$$proc:u}),x(o,"$default_proc=",function(t){var e=this;T(e);var r=t;return r!==u&&(r=Y["$coerce_to!"](r,d("Proc"),"to_proc"),r["$lambda?"]()&&r.$arity().$abs()!==2&&te.$raise(d("TypeError"),"default_proc takes two arguments")),e.$$none=u,e.$$proc=r,t}),x(o,"$delete",function $(t){var e=$.$$p||u,r=this;$.$$p=null,T(r);var i=B(r,t);return i!==void 0?i:e!==u?n.yield1(e,t):u}),x(o,"$delete_if",function $(){var t=$.$$p||u,e=this;return $.$$p=null,M(t)?(T(e),I(e,e,function(r,i){var a=t(r,i);return a!==!1&&a!==u&&B(e,r),[!1,e]})):b(e,"enum_for",["delete_if"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),x(o,"$dig",function(t,e){var r,i,a=this,l=u;return r=J(arguments,1),i=r,l=a["$[]"](t),l===u||i.length===0?l:(M(l["$respond_to?"]("dig"))||te.$raise(d("TypeError"),""+l.$class()+" does not have #dig method"),b(l,"dig",H(i)))},-2),x(o,"$dup",function(){var t=this;return E(t,t.$class().$new())}),x(o,"$each",function $(){var t=$.$$p||u,e=this;return $.$$p=null,M(t)?I(e,e,function(r,i){return q(t,[r,i]),[!1,e]}):b(e,"enum_for",["each"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),x(o,"$each_key",function $(){var t=$.$$p||u,e=this;return $.$$p=null,M(t)?I(e,e,function(r,i){return t(r),[!1,e]}):b(e,"enum_for",["each_key"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),x(o,"$each_value",function $(){var t=$.$$p||u,e=this;return $.$$p=null,M(t)?I(e,e,function(r,i){return t(i),[!1,e]}):b(e,"enum_for",["each_value"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),x(o,"$empty?",function(){var t=this;return t.size===0}),x(o,"$except",function(t){var e,r,i=this;return e=J(arguments),r=e,b(i.$dup(),"except!",H(r))},-1),x(o,"$except!",function(t){var e,r,i=this;return e=J(arguments),r=e,b(r,"each",[],function a(l){var g=a.$$s==null?this:a.$$s;return l==null&&(l=u),g.$delete(l)},{$$s:i}),i},-1),x(o,"$fetch",function $(t,e){var r=$.$$p||u,i=this;$.$$p=null;var a=ee(i,t);return a!==void 0?a:r!==u?r(t):e!==void 0?e:te.$raise(d("KeyError").$new("key not found: "+t.$inspect(),new Map([["key",t],["receiver",i]])))},-2),x(o,"$fetch_values",function $(t){var e=$.$$p||u,r,i,a=this;return $.$$p=null,r=J(arguments),i=r,b(i,"map",[],function l(g){var S=l.$$s==null?this:l.$$s;return g==null&&(g=u),b(S,"fetch",[g],e.$to_proc())},{$$s:a})},-1),x(o,"$flatten",function(t){var e=this;t==null&&(t=1),t=Y["$coerce_to!"](t,d("Integer"),"to_int");var r=[];return I(e,r,function(i,a){return r.push(i),a.$$is_array?t===1?(r.push(a),[!1,r]):(r=r.concat(a.$flatten(t-2)),[!1,r]):(r.push(a),[!1,r])})},-1),x(o,"$freeze",function(){var t=this;return M(t["$frozen?"]())?t:Z(t)}),x(o,"$has_key?",function(t){var e=this;return ee(e,t)!==void 0}),x(o,"$has_value?",function(t){var e=this;return I(e,!1,function(r,i){return i["$=="](t)?[!0,!0]:[!1,!1]})});var _;x(o,"$hash",function(){var t=this,e=_===void 0,r=t.$object_id(),i=v(),a,l,g,S=t.size,C=new Int32Array(S);if(i=L(i,4),i=L(i,S),e)_=Object.create(null);else if(_[r])return L(i,16843009);try{for(a in _)if(l=_[a],t["$eql?"](l))return L(i,16843009);for(_[r]=t,g=0,I(t,!1,function(R,G){return C[g]=[1883326802,R,G].$hash(),g++,[!1,!1]}),C=C.sort(),g=0;g<C.length;g++)i=L(i,C[g]);return i}finally{e&&(_=void 0)}}),x(o,"$index",function(t){var e=this;return I(e,u,function(r,i){return i["$=="](t)?[!0,r]:[!1,u]})}),x(o,"$indexes",function(t){var e,r,i=this;e=J(arguments),r=e;for(var a=[],l=0,g=r.length,S,C;l<g;l++){if(S=r[l],C=ee(i,S),C===void 0){a.push(i.$default());continue}a.push(C)}return a},-1);var s;return x(o,"$inspect",function(){var t=this,e=s===void 0,r=t.$object_id(),i=[];return function(){try{if(e&&(s={}),s.hasOwnProperty(r))return"{...}";return s[r]=!0,I(t,!1,function(a,l){return l=K("Opal").$inspect(l),a=K("Opal").$inspect(a),i.push(a+"=>"+l),[!1,!1]}),"{"+i.join(", ")+"}";return u}finally{e&&(s=void 0)}}()}),x(o,"$invert",function(){var t=this,e=new Map;return I(t,e,function(r,i){return Q(e,i,r),[!1,e]})}),x(o,"$keep_if",function $(){var t=$.$$p||u,e=this;return $.$$p=null,M(t)?(T(e),I(e,e,function(r,i){var a=t(r,i);return(a===!1||a===u)&&B(e,r),[!1,e]})):b(e,"enum_for",["keep_if"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),x(o,"$keys",function(){var t=this;return Array.from(t.keys())}),x(o,"$length",function(){var t=this;return t.size}),x(o,"$merge",function $(t){var e=$.$$p||u,r,i,a=this;return $.$$p=null,r=J(arguments),i=r,b(a.$dup(),"merge!",H(i),e.$to_proc())},-1),x(o,"$merge!",function $(t){var e=$.$$p||u,r,i,a=this;$.$$p=null,r=J(arguments),i=r,T(a);var l,g;for(l=0;l<i.length;++l)g=Y["$coerce_to!"](i[l],d("Hash"),"to_hash"),e===u?I(g,!1,function(S,C){return Q(a,S,C),[!1,!1]}):I(g,!1,function(S,C){var R=ee(a,S);return R===void 0?(Q(a,S,C),[!1,!1]):(Q(a,S,e(S,R,C)),[!1,!1])});return a},-1),x(o,"$rassoc",function(t){var e=this;return I(e,u,function(r,i){return i["$=="](t)?[!0,[r,i]]:[!1,u]})}),x(o,"$rehash",function(){var t=this;return T(t),n.hash_rehash(t)}),x(o,"$reject",function $(){var t=$.$$p||u,e=this;if($.$$p=null,!M(t))return b(e,"enum_for",["reject"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});var r=new Map;return I(e,r,function(i,a){var l=t(i,a);return(l===!1||l===u)&&Q(r,i,a),[!1,r]})}),x(o,"$reject!",function $(){var t=$.$$p||u,e=this;if($.$$p=null,!M(t))return b(e,"enum_for",["reject!"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});T(e);var r=u;return I(e,r,function(i,a){var l=t(i,a);return l!==!1&&l!==u&&(B(e,i),r=e),[!1,r]})}),x(o,"$replace",function(t){var e=this;return T(e),t=Y["$coerce_to!"](t,d("Hash"),"to_hash"),e.$clear(),I(t,!1,function(r,i){return Q(e,r,i),[!1,!1]}),M(t.$default_proc())?e["$default_proc="](t.$default_proc()):e["$default="](t.$default()),e}),x(o,"$select",function $(){var t=$.$$p||u,e=this;if($.$$p=null,!M(t))return b(e,"enum_for",["select"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});var r=new Map;return I(e,r,function(i,a){var l=t(i,a);return l!==!1&&l!==u&&Q(r,i,a),[!1,r]})}),x(o,"$select!",function $(){var t=$.$$p||u,e=this;if($.$$p=null,!M(t))return b(e,"enum_for",["select!"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});T(e);var r=u;return I(e,r,function(i,a){var l=t(i,a);return(l===!1||l===u)&&(B(e,i),r=e),[!1,r]})}),x(o,"$shift",function(){var t=this;return T(t),I(t,u,function(e,r){return[!0,[e,B(t,e)]]})}),x(o,"$slice",function(t){var e,r,i=this;e=J(arguments),r=e;for(var a=new Map,l=0,g=r.length;l<g;l++){var S=r[l],C=ee(i,S);C!==void 0&&Q(a,S,C)}return a},-1),x(o,"$to_a",function(){var t=this,e=[];return I(t,e,function(r,i){return e.push([r,i]),[!1,e]})}),x(o,"$to_h",function $(){var t=$.$$p||u,e=this;if($.$$p=null,t!==u)return b(e,"map",[],t.$to_proc()).$to_h();if(e.$$class===n.Hash)return e;var r=new Map;return E(e,r),r}),x(o,"$to_hash",p),x(o,"$to_proc",function(){var t=this;return b(t,"proc",[],function e(r){var i=e.$$s==null?this:e.$$s;return r==null&&te.$raise(d("ArgumentError"),"no key given"),i["$[]"](r)},{$$arity:-1,$$s:t})}),x(o,"$transform_keys",function $(t){var e=$.$$p||u,r=this;if($.$$p=null,t==null&&(t=u),z(e)&&z(t))return b(r,"enum_for",["transform_keys"],function a(){var l=a.$$s==null?this:a.$$s;return l.$size()},{$$s:r});var i=new Map;return I(r,i,function(a,l){var g;return t!==u&&(g=ee(t,a)),g===void 0&&e&&e!==u&&(g=e(a)),g===void 0&&(g=a),Q(i,g,l),[!1,i]})},-1),x(o,"$transform_keys!",function $(t){var e=$.$$p||u,r=this;if($.$$p=null,t==null&&(t=u),z(e)&&z(t))return b(r,"enum_for",["transform_keys!"],function a(){var l=a.$$s==null?this:a.$$s;return l.$size()},{$$s:r});T(r);var i=new Map;return I(r,r,function(a,l){var g;return t!==u&&(g=ee(t,a)),g===void 0&&e&&e!==u&&(g=e(a)),g===void 0?[!1,r]:(ee(i,a)||B(r,a),Q(r,g,l),Q(i,g,!0),[!1,r])})},-1),x(o,"$transform_values",function $(){var t=$.$$p||u,e=this;if($.$$p=null,!M(t))return b(e,"enum_for",["transform_values"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});var r=new Map;return I(e,r,function(i,a){return Q(r,i,t(a)),[!1,r]})}),x(o,"$transform_values!",function $(){var t=$.$$p||u,e=this;return $.$$p=null,M(t)?(T(e),I(e,e,function(r,i){return Q(e,r,t(i)),[!1,e]})):b(e,"enum_for",["transform_values!"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:e})}),x(o,"$values",function(){var t=this;return Array.from(t.values())}),j(o,"each_pair","each"),j(o,"eql?","=="),j(o,"filter","select"),j(o,"filter!","select!"),j(o,"include?","has_key?"),j(o,"indices","indexes"),j(o,"key","index"),j(o,"key?","has_key?"),j(o,"member?","has_key?"),j(o,"size","length"),j(o,"store","[]="),j(o,"to_s","inspect"),j(o,"update","merge!"),j(o,"value?","has_value?"),j(o,"values_at","indexes")}("::",Map,w)};Opal.modules["corelib/number"]=function(n){var q=n.klass,E=n.Opal,B=n.Kernel,I=n.def,ee=n.eqeqeq,Q=n.truthy,T=n.rb_gt,Z=n.not,v=n.rb_lt,L=n.alias,ie=n.send2,J=n.find_super,Y=n.send,te=n.rb_plus,V=n.rb_minus,x=n.eqeq,b=n.return_self,P=n.rb_divide,X=n.to_ary,M=n.rb_times,H=n.rb_le,p=n.rb_ge,z=n.return_val,j=n.const_set,A=n.top,w=[],u=n.nil,d=n.$$$;return n.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),A.$require("corelib/numeric"),function(k,h,c){var o=q(k,h,"Number");E.$bridge(Number,o),n.prop(o.$$prototype,"$$is_number",!0),o.$$is_number_class=!0;var y=new Map;(function(e,r){return I(e,"$allocate",function(){var a=this;return B.$raise(d("TypeError"),"allocator undefined for "+a.$name())}),n.udef(e,"$new"),u})(n.get_singleton_class(o)),I(o,"$coerce",function(r){var i=this;if(r===u)B.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float");else{if(r.$$is_string)return[B.$Float(r),i];if(r["$respond_to?"]("to_f"))return[E["$coerce_to!"](r,d("Float"),"to_f"),i];if(r.$$is_number)return[r,i];B.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float")}}),I(o,"$__id__",function(){var r=this;if(r|r===0)return r*2+1;if(y.has(r))return y.get(r);var i=n.uid();return y.set(r,i),i}),I(o,"$hash",function(){var r=this;return r|r===0?r.$__id__():r.toString().$hash()}),I(o,"$+",function(r){var i=this;return r.$$is_number?i+r:i.$__coerced__("+",r)}),I(o,"$-",function(r){var i=this;return r.$$is_number?i-r:i.$__coerced__("-",r)}),I(o,"$*",function(r){var i=this;return r.$$is_number?i*r:i.$__coerced__("*",r)}),I(o,"$/",function(r){var i=this;return r.$$is_number?i/r:i.$__coerced__("/",r)}),I(o,"$%",function(r){var i=this;if(r.$$is_number){if(r==-1/0)return r;if(r==0)B.$raise(d("ZeroDivisionError"),"divided by 0");else return r<0||i<0?(i%r+r)%r:i%r}else return i.$__coerced__("%",r)}),I(o,"$&",function(r){var i=this;return r.$$is_number?i&r:i.$__coerced__("&",r)}),I(o,"$|",function(r){var i=this;return r.$$is_number?i|r:i.$__coerced__("|",r)}),I(o,"$^",function(r){var i=this;return r.$$is_number?i^r:i.$__coerced__("^",r)}),I(o,"$<",function(r){var i=this;return r.$$is_number?i<r:i.$__coerced__("<",r)}),I(o,"$<=",function(r){var i=this;return r.$$is_number?i<=r:i.$__coerced__("<=",r)}),I(o,"$>",function(r){var i=this;return r.$$is_number?i>r:i.$__coerced__(">",r)}),I(o,"$>=",function(r){var i=this;return r.$$is_number?i>=r:i.$__coerced__(">=",r)});var K=function(e,r){return r.$$is_number?isNaN(e)||isNaN(r)?u:e>r?1:e<r?-1:0:e.$__coerced__("<=>",r)};I(o,"$<=>",function(r){var i=this;try{return K(i,r)}catch(a){if(n.rescue(a,[d("ArgumentError")]))try{return u}finally{n.pop_exception(a)}else throw a}}),I(o,"$<<",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),r>0?i<<r:i>>-r}),I(o,"$>>",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),r>0?i>>r:i<<-r}),I(o,"$[]",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),r<0?0:r>=32?i<0?1:0:i>>r&1}),I(o,"$+@",function(){var r=this;return+r}),I(o,"$-@",function(){var r=this;return-r}),I(o,"$~",function(){var r=this;return~r}),I(o,"$**",function(r){var i=this;return ee(d("Integer"),r)?Z(d("Integer")["$==="](i))||Q(T(r,0))?Math.pow(i,r):d("Rational").$new(i,1)["$**"](r):Q(v(i,0))&&(ee(d("Float"),r)||ee(d("Rational"),r))?d("Complex").$new(i,0)["$**"](r.$to_f()):Q(r.$$is_number!=null)?Math.pow(i,r):i.$__coerced__("**",r)}),I(o,"$==",function(r){var i=this;return r.$$is_number?i.valueOf()===r.valueOf():r["$respond_to?"]("==")?r["$=="](i):!1}),L(o,"===","=="),I(o,"$abs",function(){var r=this;return Math.abs(r)}),I(o,"$abs2",function(){var r=this;return Math.abs(r*r)}),I(o,"$allbits?",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)==r}),I(o,"$anybits?",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)!==0}),I(o,"$angle",function(){var r=this;return Q(r["$nan?"]())?r:r==0?1/r>0?0:Math.PI:r<0?Math.PI:0}),I(o,"$bit_length",function(){var r=this;if(ee(d("Integer"),r)||B.$raise(d("NoMethodError").$new("undefined method `bit_length` for "+r+":Float","bit_length")),r===0||r===-1)return 0;for(var i=0,a=r<0?~r:r;a!=0;)i+=1,a>>>=1;return i}),I(o,"$ceil",function(r){var i=this;r==null&&(r=0);var a=i.$to_f();if(a%1===0&&r>=0)return a;var l=Math.pow(10,r),g=Math.ceil(a*l)/l;return a%1===0&&(g=Math.round(g)),g},-1),I(o,"$chr",function(r){var i=this;return n.enc(String.fromCharCode(i),r||"BINARY")},-1),I(o,"$denominator",function e(){var r=e.$$p||u,i=this;return e.$$p=null,Q(i["$nan?"]())||Q(i["$infinite?"]())?1:ie(i,J(i,"denominator",e,!1,!0),"denominator",[],r)}),I(o,"$downto",function e(r){var i=e.$$p||u,a=this;if(e.$$p=null,i===u)return Y(a,"enum_for",["downto",r],function g(){var S=g.$$s==null?this:g.$$s;return ee(d("Numeric"),r)||B.$raise(d("ArgumentError"),"comparison of "+S.$class()+" with "+r.$class()+" failed"),Q(T(r,S))?0:te(V(S,r),1)},{$$s:a});r.$$is_number||B.$raise(d("ArgumentError"),"comparison of "+a.$class()+" with "+r.$class()+" failed");for(var l=a;l>=r;l--)i(l);return a}),I(o,"$equal?",function(r){var i=this,a=u;return Q(a=i["$=="](r))?a:isNaN(i)&&isNaN(r)}),I(o,"$even?",function(){var r=this;return r%2===0}),I(o,"$floor",function(r){var i=this;r==null&&(r=0);var a=i.$to_f();if(a%1===0&&r>=0)return a;var l=Math.pow(10,r),g=Math.floor(a*l)/l;return a%1===0&&(g=Math.round(g)),g},-1),I(o,"$gcd",function(r){var i=this;ee(d("Integer"),r)||B.$raise(d("TypeError"),"not an integer");for(var a=Math.abs(i),l=Math.abs(r);a>0;){var g=a;a=l%a,l=g}return l}),I(o,"$gcdlcm",function(r){var i=this;return[i.$gcd(r),i.$lcm(r)]}),I(o,"$integer?",function(){var r=this;return r%1===0}),I(o,"$is_a?",function e(r){var i=e.$$p||u,a=this;return e.$$p=null,x(r,d("Integer"))&&ee(d("Integer"),a)||x(r,d("Integer"))&&ee(d("Integer"),a)||x(r,d("Float"))&&ee(d("Float"),a)?!0:ie(a,J(a,"is_a?",e,!1,!0),"is_a?",[r],i)}),I(o,"$instance_of?",function e(r){var i=e.$$p||u,a=this;return e.$$p=null,x(r,d("Integer"))&&ee(d("Integer"),a)||x(r,d("Integer"))&&ee(d("Integer"),a)||x(r,d("Float"))&&ee(d("Float"),a)?!0:ie(a,J(a,"instance_of?",e,!1,!0),"instance_of?",[r],i)}),I(o,"$lcm",function(r){var i=this;return ee(d("Integer"),r)||B.$raise(d("TypeError"),"not an integer"),i==0||r==0?0:Math.abs(i*r/i.$gcd(r))}),I(o,"$next",function(){var r=this;return r+1}),I(o,"$nobits?",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)==0}),I(o,"$nonzero?",function(){var r=this;return r==0?u:r}),I(o,"$numerator",function e(){var r=e.$$p||u,i=this;return e.$$p=null,Q(i["$nan?"]())||Q(i["$infinite?"]())?i:ie(i,J(i,"numerator",e,!1,!0),"numerator",[],r)}),I(o,"$odd?",function(){var r=this;return r%2!==0}),I(o,"$ord",b),I(o,"$pow",function(r,i){var a=this;return a==0&&B.$raise(d("ZeroDivisionError"),"divided by 0"),i===void 0?a["$**"](r):(d("Integer")["$==="](r)||B.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),r<0&&B.$raise(d("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),d("Integer")["$==="](i)||B.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),i===0&&B.$raise(d("ZeroDivisionError"),"divided by 0"),a["$**"](r)["$%"](i))},-2),I(o,"$pred",function(){var r=this;return r-1}),I(o,"$quo",function e(r){var i=e.$$p||u,a=this;return e.$$p=null,ee(d("Integer"),a)?ie(a,J(a,"quo",e,!1,!0),"quo",[r],i):P(a,r)}),I(o,"$rationalize",function(r){var i,a,l=this,g=u,S=u;return arguments.length>1&&B.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(d("Integer"),l)?d("Rational").$new(l,1):Q(l["$infinite?"]())?B.$raise(d("FloatDomainError"),"Infinity"):Q(l["$nan?"]())?B.$raise(d("FloatDomainError"),"NaN"):Q(r==null)?(a=d("Math").$frexp(l),i=X(a),g=i[0]==null?u:i[0],S=i[1]==null?u:i[1],g=d("Math").$ldexp(g,d(d("Float"),"MANT_DIG")).$to_i(),S=V(S,d(d("Float"),"MANT_DIG")),d("Rational").$new(M(2,g),1["$<<"](V(1,S))).$rationalize(d("Rational").$new(1,1["$<<"](V(1,S))))):l.$to_r().$rationalize(r)},-1),I(o,"$remainder",function(r){var i=this;return V(i,M(r,P(i,r).$truncate()))}),I(o,"$round",function(r){var i,a,l=this,g=u;if(ee(d("Integer"),l)){if(Q(r==null)||(ee(d("Float"),r)&&Q(r["$infinite?"]())&&B.$raise(d("RangeError"),"Infinity"),r=E["$coerce_to!"](r,d("Integer"),"to_int"),Q(v(r,d(d("Integer"),"MIN")))&&B.$raise(d("RangeError"),"out of bounds"),Q(r>=0)))return l;if(r=r["$-@"](),.415241*r-.125>l.$size())return 0;var S=Math.pow(10,r),C=Math.floor((Math.abs(l)+S/2)/S)*S;return l<0?-C:C}else{if(Q(l["$nan?"]())&&Q(r==null)&&B.$raise(d("FloatDomainError"),"NaN"),r=E["$coerce_to!"](r||0,d("Integer"),"to_int"),Q(H(r,0)))Q(l["$nan?"]())?B.$raise(d("RangeError"),"NaN"):Q(l["$infinite?"]())&&B.$raise(d("FloatDomainError"),"Infinity");else{if(x(r,0))return Math.round(l);if(Q(l["$nan?"]())||Q(l["$infinite?"]()))return l}return a=d("Math").$frexp(l),i=X(a),i[0]==null||i[0],g=i[1]==null?u:i[1],Q(p(r,V(te(d(d("Float"),"DIG"),2),Q(T(g,0))?P(g,4):V(P(g,3),1))))?l:Q(v(r,(Q(T(g,0))?te(P(g,3),1):P(g,4))["$-@"]()))?0:Math.round(l*Math.pow(10,r))/Math.pow(10,r)}},-1),I(o,"$times",function e(){var r=e.$$p||u,i=this;if(e.$$p=null,!Q(r))return Y(i,"enum_for",["times"],function l(){var g=l.$$s==null?this:l.$$s;return g},{$$s:i});for(var a=0;a<i;a++)r(a);return i}),I(o,"$to_f",b),I(o,"$to_i",function(){var r=this;return r<0?Math.ceil(r):Math.floor(r)}),I(o,"$to_r",function(){var r,i,a=this,l=u,g=u;return ee(d("Integer"),a)?d("Rational").$new(a,1):(i=d("Math").$frexp(a),r=X(i),l=r[0]==null?u:r[0],g=r[1]==null?u:r[1],l=d("Math").$ldexp(l,d(d("Float"),"MANT_DIG")).$to_i(),g=V(g,d(d("Float"),"MANT_DIG")),M(l,d(d("Float"),"RADIX")["$**"](g)).$to_r())}),I(o,"$to_s",function(r){var i=this;return r==null&&(r=10),r=E["$coerce_to!"](r,d("Integer"),"to_int"),(Q(v(r,2))||Q(T(r,36)))&&B.$raise(d("ArgumentError"),"invalid radix "+r),x(i,0)&&Q(1/i===-1/0)?"-0.0":i.toString(r)},-1),I(o,"$truncate",function(r){var i=this;r==null&&(r=0);var a=i.$to_f();if(a%1===0&&r>=0)return a;var l=Math.pow(10,r),g=parseInt(a*l,10)/l;return a%1===0&&(g=Math.round(g)),g},-1),I(o,"$digits",function(r){var i=this;r==null&&(r=10),Q(v(i,0))&&B.$raise(d(d("Math"),"DomainError"),"out of domain"),r=E["$coerce_to!"](r,d("Integer"),"to_int"),Q(v(r,2))&&B.$raise(d("ArgumentError"),"invalid radix "+r),i!=parseInt(i)&&B.$raise(d("NoMethodError"),"undefined method `digits' for "+i.$inspect());var a=i,l=[];if(i==0)return[0];for(;a!=0;)l.push(a%r),a=parseInt(a/r,10);return l},-1),I(o,"$divmod",function e(r){var i=e.$$p||u,a=this;return e.$$p=null,Q(a["$nan?"]())||Q(r["$nan?"]())?B.$raise(d("FloatDomainError"),"NaN"):Q(a["$infinite?"]())?B.$raise(d("FloatDomainError"),"Infinity"):ie(a,J(a,"divmod",e,!1,!0),"divmod",[r],i)}),I(o,"$upto",function e(r){var i=e.$$p||u,a=this;if(e.$$p=null,i===u)return Y(a,"enum_for",["upto",r],function g(){var S=g.$$s==null?this:g.$$s;return ee(d("Numeric"),r)||B.$raise(d("ArgumentError"),"comparison of "+S.$class()+" with "+r.$class()+" failed"),Q(v(r,S))?0:te(V(r,S),1)},{$$s:a});r.$$is_number||B.$raise(d("ArgumentError"),"comparison of "+a.$class()+" with "+r.$class()+" failed");for(var l=a;l<=r;l++)i(l);return a}),I(o,"$zero?",function(){var r=this;return r==0}),I(o,"$size",z(4)),I(o,"$nan?",function(){var r=this;return isNaN(r)}),I(o,"$finite?",function(){var r=this;return r!=1/0&&r!=-1/0&&!isNaN(r)}),I(o,"$infinite?",function(){var r=this;return r==1/0?1:r==-1/0?-1:u}),I(o,"$positive?",function(){var r=this;return r!=0&&(r==1/0||1/r>0)}),I(o,"$negative?",function(){var r=this;return r==-1/0||1/r<0});function _(e){var r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}function s(e){return new DataView(e.buffer).getFloat64(0,!0)}function $(e){for(var r=_(e),i=0;i<r.length;i++)if(r[i]===255)r[i]=0;else{r[i]++;break}return s(r)}function t(e){for(var r=_(e),i=0;i<r.length;i++)if(r[i]===0)r[i]=255;else{r[i]--;break}return s(r)}return I(o,"$next_float",function(){var r=this;return x(r,d(d("Float"),"INFINITY"))?d(d("Float"),"INFINITY"):Q(r["$nan?"]())?d(d("Float"),"NAN"):Q(p(r,0))?$(Math.abs(r)):t(r)}),I(o,"$prev_float",function(){var r=this;return x(r,d(d("Float"),"INFINITY")["$-@"]())?d(d("Float"),"INFINITY")["$-@"]():Q(r["$nan?"]())?d(d("Float"),"NAN"):Q(T(r,0))?t(r):-$(Math.abs(r))}),L(o,"arg","angle"),L(o,"eql?","=="),L(o,"fdiv","/"),L(o,"inspect","to_s"),L(o,"kind_of?","is_a?"),L(o,"magnitude","abs"),L(o,"modulo","%"),L(o,"object_id","__id__"),L(o,"phase","angle"),L(o,"succ","next"),L(o,"to_int","to_i")}("::",d("Numeric")),j("::","Fixnum",d("Number")),function(k,h,c){var o=q(k,h,"Integer"),y=[o].concat(c);return o.$$is_number_class=!0,o.$$is_integer_class=!0,function(K,_){var s=[K].concat(_),$=n.$r(s);return I(K,"$allocate",function(){var e=this;return B.$raise(d("TypeError"),"allocator undefined for "+e.$name())}),n.udef(K,"$new"),I(K,"$sqrt",function(e){return e=E["$coerce_to!"](e,d("Integer"),"to_int"),e<0&&B.$raise(d(d("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(e),10)}),I(K,"$try_convert",function(e){var r=this;return $("Opal")["$coerce_to?"](e,r,"to_int")})}(n.get_singleton_class(o),y),j(o,"MAX",Math.pow(2,30)-1),j(o,"MIN",-Math.pow(2,30))}("::",d("Numeric"),w),function(k,h,c){var o=q(k,h,"Float");return o.$$is_number_class=!0,function(y,K){return I(y,"$allocate",function(){var s=this;return B.$raise(d("TypeError"),"allocator undefined for "+s.$name())}),n.udef(y,"$new"),I(y,"$===",function(s){return!!s.$$is_number})}(n.get_singleton_class(o)),j(o,"INFINITY",1/0),j(o,"MAX",Number.MAX_VALUE),j(o,"MIN",Number.MIN_VALUE),j(o,"NAN",NaN),j(o,"DIG",15),j(o,"MANT_DIG",53),j(o,"RADIX",2),j(o,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",d("Numeric"))};Opal.modules["corelib/range"]=function(n){var q=n.klass,E=n.truthy,B=n.Kernel,I=n.def,ee=n.not,Q=n.send2,T=n.find_super,Z=n.lambda,v=n.send,L=n.rb_ge,ie=n.rb_gt,J=n.eqeq,Y=n.rb_le,te=n.rb_lt,V=n.eqeqeq,x=n.return_ivar,b=n.rb_minus,P=n.Opal,X=n.rb_divide,M=n.rb_plus,H=n.rb_times,p=n.thrower,z=n.alias,j=n.top,A=[],w=n.nil,u=n.$$$;return n.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),j.$require("corelib/enumerable"),function(d,k,h){var c=q(d,k,"Range"),o=[c].concat(h),y=n.$r(o),K=c.$$prototype;K.begin=K.end=K.excl=w,c.$include(u("Enumerable")),c.$$prototype.$$is_range=!0,c.$attr_reader("begin","end"),I(c,"$initialize",function($,t,e){var r=this;return e==null&&(e=!1),E(r.begin)&&B.$raise(u("NameError"),"'initialize' called twice"),E($["$<=>"](t))||E($["$nil?"]())||E(t["$nil?"]())||B.$raise(u("ArgumentError"),"bad value for range"),r.begin=$,r.end=t,r.excl=e},-3),I(c,"$===",function($){var t=this;return E($.$$is_range)?!1:t["$cover?"]($)});function _(s){return s.begin===w||s.end===w||s.begin===-1/0||s.end===1/0||s.begin===1/0||s.end===-1/0}return I(c,"$count",function s(){var $=s.$$p||w,t=this;return s.$$p=null,ee($!==w)&&E(_(t))?u(u("Float"),"INFINITY"):Q(t,T(t,"count",s,!1,!0),"count",[],$)}),I(c,"$to_a",function s(){var $=s.$$p||w,t=this;return s.$$p=null,E(_(t))&&B.$raise(u("TypeError"),"cannot convert endless range to an array"),Q(t,T(t,"to_a",s,!1,!0),"to_a",[],$)}),I(c,"$cover?",function($){var t=this,e=w,r=w,i=w,a=w,l=w,g=w,S=w,C=w;return e=Z(function(G,O){var ae=w;return G==null&&(G=w),O==null&&(O=w),E(ae=G["$<=>"](O))?ae:1}),E($.$$is_range)?(r=$.$begin(),i=$.$end(),a=$["$exclude_end?"](),E(t.begin)&&E(r["$nil?"]())||E(t.end)&&E(i["$nil?"]())||E(r)&&E(i)&&E(v(e.$call(r,i),"then",[],function(G){return G==null&&(G=w),E(a)?L(G,0):ie(G,0)}))||E(r)&&ee(t["$cover?"](r))?!1:(l=e.$call(t.end,i),J(t.excl,a)?L(l,0):E(t.excl)?ie(l,0):E(L(l,0))?!0:(g=$.$max(),E(S=g["$nil?"]()["$!"]())?Y(e.$call(g,t.end),0):S))):E(t.begin)&&E(ie(e.$call(t.begin,$),0))?!1:E(t.end["$nil?"]())?!0:(C=e.$call($,t.end),E(t.excl)?te(C,0):Y(C,0))}),I(c,"$each",function s(){var $=s.$$p||w,t=this,e=w,r=w,i=w;if(s.$$p=null,$===w)return v(t,"enum_for",["each"],function g(){var S=g.$$s==null?this:g.$$s;return S.$size()},{$$s:t});var a,l;if(t.begin.$$is_number&&t.end.$$is_number){for((t.begin%1!==0||t.end%1!==0)&&B.$raise(u("TypeError"),"can't iterate from Float"),a=t.begin,l=t.end+(E(t.excl)?0:1);a<l;a++)$(a);return t}if(t.begin.$$is_string&&t.end.$$is_string)return v(t.begin,"upto",[t.end,t.excl],$.$to_proc()),t;for(e=t.begin,r=t.end,E(e["$respond_to?"]("succ"))||B.$raise(u("TypeError"),"can't iterate from "+e.$class());E(E(i=t.end["$nil?"]())?i:te(e["$<=>"](r),0));)n.yield1($,e),e=e.$succ();return ee(t.excl)&&J(e,r)&&n.yield1($,e),t}),I(c,"$eql?",function($){var t=this,e=w,r=w;return V(u("Range"),$)?E(e=E(r=t.excl["$==="]($["$exclude_end?"]()))?t.begin["$eql?"]($.$begin()):r)?t.end["$eql?"]($.$end()):e:!1}),I(c,"$exclude_end?",x("excl")),I(c,"$first",function s($){var t=s.$$p||w,e=this;return s.$$p=null,E(e.begin["$nil?"]())&&B.$raise(u("RangeError"),"cannot get the minimum of beginless range"),E($==null)?e.begin:Q(e,T(e,"first",s,!1,!0),"first",[$],t)},-1),I(c,"$include?",function s($){var t=s.$$p||w,e=this,r=w,i=w;if(s.$$p=null,E(e.begin.$$is_number||e.end.$$is_number)||E(e.begin["$is_a?"](u("Time")))||E(e.end["$is_a?"](u("Time")))||E(u("Integer").$try_convert(e.begin))||E(u("Integer").$try_convert(e.end)))return e["$cover?"]($);if(E(e.begin.$$is_string||e.end.$$is_string)){if(E(e.begin.$$is_string&&e.end.$$is_string))return v(e.begin.$upto(e.end,e.excl),"any?",[],function(l){return l==null&&(l=w),l["$=="]($)});if(E(e.begin["$nil?"]()))return r=$["$<=>"](e.end),E(i=r["$nil?"]()["$!"]())?E(e.excl)?te(r,0):Y(r,0):i;if(E(e.end["$nil?"]()))return r=e.begin["$<=>"]($),E(i=r["$nil?"]()["$!"]())?Y(r,0):i}return Q(e,T(e,"include?",s,!1,!0),"include?",[$],t)}),I(c,"$last",function($){var t=this;return E(t.end["$nil?"]())&&B.$raise(u("RangeError"),"cannot get the maximum of endless range"),E($==null)?t.end:t.$to_a().$last($)},-1),I(c,"$max",function s(){var $=s.$$p||w,t=this;return s.$$p=null,E(t.end["$nil?"]())?B.$raise(u("RangeError"),"cannot get the maximum of endless range"):$!==w?Q(t,T(t,"max",s,!1,!0),"max",[],$):ee(t.begin["$nil?"]())&&(E(ie(t.begin,t.end))||E(t.excl)&&J(t.begin,t.end))?w:t.excl?t.end-1:t.end}),I(c,"$min",function s(){var $=s.$$p||w,t=this;return s.$$p=null,E(t.begin["$nil?"]())?B.$raise(u("RangeError"),"cannot get the minimum of beginless range"):$!==w?Q(t,T(t,"min",s,!1,!0),"min",[],$):ee(t.end["$nil?"]())&&(E(ie(t.begin,t.end))||E(t.excl)&&J(t.begin,t.end))?w:t.begin}),I(c,"$size",function(){var $=this.begin,t=this.end;if(u("Numeric")["$==="]($)){if(u("Numeric")["$==="](t)){var e=b(t,$);return e<0?0:(this.excl||(e+=1),u("Float")["$==="]($)||u("Float")["$==="](t)?Math.floor(e):e)}else if(t===w)return 1/0}else if($===w&&u("Numeric")["$==="](t))return 1/0;return w}),I(c,"$step",function s($){var t=s.$$p||w,e=this,r=w,i=w;s.$$p=null;function a(){$==null?$=1:$.$$is_number||($=P["$coerce_to!"]($,u("Integer"),"to_int")),$<0?B.$raise(u("ArgumentError"),"step can't be negative"):$===0&&B.$raise(u("ArgumentError"),"step can't be 0")}function l(){if(!e.begin["$respond_to?"]("succ")||e.begin.$$is_string&&e.end.$$is_string)return w;if($%1===0)return X(e.$size(),$).$ceil();var g=e.begin,S=e.end,C=Math.abs,R=Math.floor,G=(C(g)+C(S)+C(S-g))/C($)*u(u("Float"),"EPSILON"),O;return G>.5&&(G=.5),e.excl?(O=R((S-g)/$-G),O*$+g<S&&O++):O=R((S-g)/$+G)+1,O}return t===w?(E(e.begin["$is_a?"](y("Numeric")))||E(e.begin["$nil?"]()))&&(E(e.end["$is_a?"](y("Numeric")))||E(e.end["$nil?"]()))&&ee(E(r=e.begin["$nil?"]())?e.end["$nil?"]():r)?u(u("Enumerator"),"ArithmeticSequence").$new(e,$,"step"):v(e,"enum_for",["step",$],function(){return a(),l()}):(a(),E(e.begin.$$is_number&&e.end.$$is_number)?(i=0,function(){try{var g=p("break");return v(e,"loop",[],function S(){var C=S.$$s==null?this:S.$$s,R=w;return C.begin==null&&(C.begin=w),C.excl==null&&(C.excl=w),C.end==null&&(C.end=w),R=M(C.begin,H(i,$)),E(C.excl)?E(L(R,C.end))&&g.$throw(w,S.$$is_lambda):E(ie(R,C.end))&&g.$throw(w,S.$$is_lambda),n.yield1(t,R),i=M(i,1)},{$$s:e})}catch(S){if(S===g)return S.$v;throw S}finally{g.is_orphan=!0}}()):(e.begin.$$is_string&&e.end.$$is_string&&$%1!==0&&B.$raise(u("TypeError"),"no implicit conversion to float from string"),v(e,"each_with_index",[],function(S,C){return S==null&&(S=w),C==null&&(C=w),J(C["$%"]($),0)?n.yield1(t,S):w})),e)},-1),I(c,"$%",function($){var t=this;return E(t.begin["$is_a?"](y("Numeric")))&&E(t.end["$is_a?"](y("Numeric")))?u(u("Enumerator"),"ArithmeticSequence").$new(t,$,"%"):t.$step($)}),I(c,"$bsearch",function s(){var $=s.$$p||w,t=this;return s.$$p=null,$===w?t.$enum_for("bsearch"):(E(_(t)&&(t.begin.$$is_number||t.end.$$is_number))&&B.$raise(u("NotImplementedError"),"Can't #bsearch an infinite range"),E(t.begin.$$is_number&&t.end.$$is_number)||B.$raise(u("TypeError"),"can't do binary search for "+t.begin.$class()),v(t.$to_a(),"bsearch",[],$.$to_proc()))}),I(c,"$to_s",function(){var $=this,t=w;return""+(E(t=$.begin)?t:"")+(E($.excl)?"...":"..")+(E(t=$.end)?t:"")}),I(c,"$inspect",function(){var $=this,t=w;return""+(E(t=$.begin)?$.begin.$inspect():t)+(E($.excl)?"...":"..")+(E(t=$.end)?$.end.$inspect():t)}),I(c,"$marshal_load",function($){var t=this;return t.begin=$["$[]"]("begin"),t.end=$["$[]"]("end"),t.excl=$["$[]"]("excl")}),I(c,"$hash",function(){var $=this;return[u("Range"),$.begin,$.end,$.excl].$hash()}),z(c,"==","eql?"),z(c,"member?","include?")}("::",null,A)};Opal.modules["corelib/proc"]=function(n){var q=n.slice,E=n.each_ivar,B=n.klass,I=n.truthy,ee=n.Kernel,Q=n.defs,T=n.def,Z=n.send,v=n.to_a,L=n.return_self,ie=n.ensure_kwargs,J=n.hash_get,Y=n.Opal,te=n.alias,V=n.nil,x=n.$$$;return n.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(b,P){var X=B(b,P,"Proc");n.prop(X.$$prototype,"$$is_proc",!0),n.prop(X.$$prototype,"$$is_lambda",!1),Q(X,"$new",function p(){var z=p.$$p||V;return p.$$p=null,I(z)||ee.$raise(x("ArgumentError"),"tried to create a Proc object without a block"),z});function M(p,z){if(p.$$ret)try{return p.apply(null,z)}catch(j){if(j===p.$$ret)return j.$v;throw j}else return p.apply(null,z)}function H(p,z){if(p.$$brk)try{return n.yieldX(p,z)}catch(j){if(j===p.$$brk)return j.$v;throw j}else return n.yieldX(p,z)}return T(X,"$call",function p(z){var j=p.$$p||V,A,w,u=this;return p.$$p=null,A=q(arguments),w=A,j!==V&&(u.$$p=j),u.$$is_lambda?M(u,w):H(u,w)},-1),T(X,"$>>",function p(z){p.$$p;var j=this;return p.$$p=null,Z(ee,"proc",[],function A(w){var u=A.$$p||V,d,k,h=A.$$s==null?this:A.$$s,c=V;return A.$$p=null,d=q(arguments),k=d,c=Z(h,"call",v(k),u.$to_proc()),z.$call(c)},{$$arity:-1,$$s:j})}),T(X,"$<<",function p(z){p.$$p;var j=this;return p.$$p=null,Z(ee,"proc",[],function A(w){var u=A.$$p||V,d,k,h=A.$$s==null?this:A.$$s,c=V;return A.$$p=null,d=q(arguments),k=d,c=Z(z,"call",v(k),u.$to_proc()),h.$call(c)},{$$arity:-1,$$s:j})}),T(X,"$to_proc",L),T(X,"$lambda?",function(){var z=this;return!!z.$$is_lambda}),T(X,"$arity",function(){var z=this;return z.$$is_curried?-1:z.$$arity!=null?z.$$arity:z.length}),T(X,"$source_location",function(){var z=this,j=V;return z.$$is_curried?V:I(j=z.$$source_location)?j:V}),T(X,"$binding",function(){var z=this;return z.$$is_curried&&ee.$raise(x("ArgumentError"),"Can't create Binding"),I(x("::","Binding","skip_raise")?"constant":V)?x("Binding").$new(V,[],z.$$s,z.$source_location()):V}),T(X,"$parameters",function(z){var j,A=this;if(z=ie(z),j=J(z,"lambda"),A.$$is_curried)return[["rest"]];if(A.$$parameters){if(j??A.$$is_lambda)return A.$$parameters;var w=[],u,d;for(u=0,d=A.$$parameters.length;u<d;u++){var k=A.$$parameters[u];k[0]==="req"&&(k=["opt",k[1]]),w.push(k)}return w}else return[]},-1),T(X,"$curry",function(z){var j=this;z===void 0?z=j.length:(z=Y["$coerce_to!"](z,x("Integer"),"to_int"),j.$$is_lambda&&z!==j.length&&ee.$raise(x("ArgumentError"),"wrong number of arguments ("+z+" for "+j.length+")"));function A(){var w=q(arguments),u=w.length,d;return u>z&&j.$$is_lambda&&!j.$$is_curried&&ee.$raise(x("ArgumentError"),"wrong number of arguments ("+u+" for "+z+")"),u>=z?j.$call.apply(j,w):(d=function(){return A.apply(null,w.concat(q(arguments)))},d.$$is_lambda=j.$$is_lambda,d.$$is_curried=!0,d)}return A.$$is_lambda=j.$$is_lambda,A.$$is_curried=!0,A},-1),T(X,"$dup",function(){var z=this,j=z.$$original_proc||z,A=function(){return j.apply(this,arguments)};return E(z,function(w){A[w]=z[w]}),A}),te(X,"===","call"),te(X,"clone","dup"),te(X,"yield","call"),te(X,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(n){var q=n.klass,E=n.def,B=n.truthy,I=n.slice,ee=n.alias,Q=n.Kernel,T=n.send,Z=n.to_a,v=n.nil,L=n.$$$;return n.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(ie,J){var Y=q(ie,J,"Method"),te=Y.$$prototype;return te.method=te.receiver=te.owner=te.name=v,Y.$attr_reader("owner","receiver","name"),E(Y,"$initialize",function(x,b,P,X){var M=this;return M.receiver=x,M.owner=b,M.name=X,M.method=P}),E(Y,"$arity",function(){var x=this;return x.method.$arity()}),E(Y,"$parameters",function(){var x=this;return x.method.$$parameters}),E(Y,"$source_location",function(){var x=this,b=v;return B(b=x.method.$$source_location)?b:["(eval)",0]}),E(Y,"$comments",function(){var x=this,b=v;return B(b=x.method.$$comments)?b:[]}),E(Y,"$call",function V(x){var b=V.$$p||v,P,X,M=this;return V.$$p=null,P=I(arguments),X=P,M.method.$$p=b,M.method.apply(M.receiver,X)},-1),E(Y,"$curry",function(x){var b=this;return b.method.$curry(x)},-1),E(Y,"$>>",function(x){var b=this;return b.method["$>>"](x)}),E(Y,"$<<",function(x){var b=this;return b.method["$<<"](x)}),E(Y,"$unbind",function(){var x=this;return L("UnboundMethod").$new(x.receiver.$class(),x.owner,x.method,x.name)}),E(Y,"$to_proc",function(){var x=this,b=x.$call.bind(x);return b.$$unbound=x.method,b.$$is_lambda=!0,b.$$arity=x.method.$$arity==null?x.method.length:x.method.$$arity,b.$$parameters=x.method.$$parameters,b}),E(Y,"$inspect",function(){var x=this;return"#<"+x.$class()+": "+x.receiver.$class()+"#"+x.name+" (defined in "+x.owner+" in "+x.$source_location().$join(":")+")>"}),ee(Y,"[]","call"),ee(Y,"===","call")}("::",null),function(ie,J){var Y=q(ie,J,"UnboundMethod"),te=Y.$$prototype;return te.method=te.owner=te.name=te.source=v,Y.$attr_reader("source","owner","name"),E(Y,"$initialize",function(x,b,P,X){var M=this;return M.source=x,M.owner=b,M.method=P,M.name=X,M.$$method=P}),E(Y,"$arity",function(){var x=this;return x.method.$arity()}),E(Y,"$parameters",function(){var x=this;return x.method.$$parameters}),E(Y,"$source_location",function(){var x=this,b=v;return B(b=x.method.$$source_location)?b:["(eval)",0]}),E(Y,"$comments",function(){var x=this,b=v;return B(b=x.method.$$comments)?b:[]}),E(Y,"$bind",function(x){var b=this;if(b.owner.$$is_module||n.is_a(x,b.owner))return L("Method").$new(x,b.owner,b.method,b.name);Q.$raise(L("TypeError"),"can't bind singleton method to a different class (expected "+x+".kind_of?("+b.owner+" to be true)")}),E(Y,"$bind_call",function V(x,b){var P=V.$$p||v,X,M,H=this;return V.$$p=null,X=I(arguments,1),M=X,T(H.$bind(x),"call",Z(M),P.$to_proc())},-2),E(Y,"$inspect",function(){var x=this;return"#<"+x.$class()+": "+x.source+"#"+x.name+" (defined in "+x.owner+" in "+x.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(n){var q=n.gvars,E=n.const_set,B=n.Object,I=n.nil;return n.add_stubs("new"),q["&"]=q["~"]=q["`"]=q["'"]=I,q.LOADED_FEATURES=q['"']=n.loaded_features,q.LOAD_PATH=q[":"]=[],q["/"]=`
`,q[","]=I,E("::","ARGV",[]),E("::","ARGF",B.$new()),E("::","ENV",new Map),q.VERBOSE=!1,q.DEBUG=!1,q.SAFE=0};Opal.modules["corelib/io"]=function(n){var q=n.klass,E=n.const_set,B=n.not,I=n.truthy,ee=n.def,Q=n.return_ivar,T=n.return_val,Z=n.slice,v=n.Kernel,L=n.gvars,ie=n.send,J=n.to_a,Y=n.rb_plus,te=n.neqeq,V=n.range,x=n.eqeq,b=n.to_ary,P=n.rb_gt,X=n.assign_ivar_val,M=n.alias,H,p=n.nil,z=n.$$$;n.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(A,w){var u=q(A,w,"IO"),d=u.$$prototype;return d.read_buffer=d.closed=p,E(u,"SEEK_SET",0),E(u,"SEEK_CUR",1),E(u,"SEEK_END",2),E(u,"SEEK_DATA",3),E(u,"SEEK_HOLE",4),E(u,"READABLE",1),E(u,"WRITABLE",4),u.$attr_reader("eof"),u.$attr_accessor("read_proc","sync","tty","write_proc"),ee(u,"$initialize",function(h,c){var o=this;return c==null&&(c="r"),o.fd=h,o.flags=c,o.eof=!1,I(c["$include?"]("r"))&&B(c["$match?"](/[wa+]/))?o.closed="write":I(c["$match?"](/[wa]/))&&B(c["$match?"](/[r+]/))?o.closed="read":p},-2),ee(u,"$fileno",Q("fd")),ee(u,"$tty?",function(){var h=this;return h.tty==!0}),ee(u,"$write",function(h){var c=this;return c.write_proc(h),h.$size()}),ee(u,"$flush",T(p)),ee(u,"$<<",function(h){var c=this;return c.$write(h),c}),ee(u,"$print",function(h){var c,o,y=this;L[","]==null&&(L[","]=p),c=Z(arguments),o=c;for(var K=0,_=o.length;K<_;K++)o[K]=v.$String(o[K]);return y.$write(o.join(L[","])),p},-1),ee(u,"$puts",function(h){var c,o,y=this;c=Z(arguments),o=c;var K;if(o.length===0)return y.$write(`
`),p;for(var _=0,s=o.length;_<s;_++)if(o[_].$$is_array){var $=o[_].$flatten();$.length>0&&ie(y,"puts",J($))}else o[_].$$is_string?K=o[_].valueOf():K=v.$String(o[_]),K.endsWith(`
`)||(K+=`
`),y.$write(K);return p},-1),ee(u,"$getc",function(){var h=this,c=p,o=p,y=p;h.read_buffer=I(c=h.read_buffer)?c:"",o="";do if(h.read_buffer=Y(h.read_buffer,o),te(h.read_buffer,""))return y=h.read_buffer["$[]"](0),h.read_buffer=h.read_buffer["$[]"](V(1,-1,!1)),y;while(I(o=h.$sysread_noraise(1)));return p}),ee(u,"$getbyte",function(){var h,c=this;return h=c.$getc(),h===p||h==null?p:h.$ord()}),ee(u,"$readbyte",function(){var h=this;return h.$readchar().$ord()}),ee(u,"$readchar",function(){var h=this,c=p;return I(c=h.$getc())?c:v.$raise(z("EOFError"),"end of file reached")}),ee(u,"$readline",function(h){var c,o,y=this,K=p;return c=Z(arguments),o=c,I(K=ie(y,"gets",J(o)))?K:v.$raise(z("EOFError"),"end of file reached")},-1),ee(u,"$gets",function(h,c,o){var y,K,_=this,s=p,$=p,t=p,e=p,r=p,i=p;L["/"]==null&&(L["/"]=p),h==null&&(h=!1),c==null&&(c=p),o==null&&(o=new Map),I(h.$$is_number)&&B(c)&&(y=[!1,h,c],h=y[0],c=y[1],o=y[2]),I(h.$$is_hash)&&B(c)&&x(o,new Map)?(y=[!1,p,h],h=y[0],c=y[1],o=y[2]):I(c.$$is_hash)&&x(o,new Map)&&(y=[h,p,c],h=y[0],c=y[1],o=y[2]),s=h,x(h,!1)&&(h=L["/"]),x(h,"")&&(h=/\r?\n\r?\n/),h=I($=h)?$:"",x(s,"")||(h=h.$to_str()),t=x(s,"")?2:h.$length(),x(h," ")&&(h=/ /),_.read_buffer=I($=_.read_buffer)?$:"",e="",r=p;do if(_.read_buffer=Y(_.read_buffer,e),te(h,"")&&I(I(h.$$is_regexp)?_.read_buffer["$match?"](h):_.read_buffer["$include?"](h))){i=_.read_buffer,K=_.read_buffer.$split(h,2),y=b(K),r=y[0]==null?p:y[0],_.read_buffer=y[1]==null?p:y[1],te(r,i)&&(r=Y(r,i["$[]"](r.$length(),t)));break}while(I(e=_.$sysread_noraise(x(h,"")?65536:1)));return I(r)||(y=[I($=_.read_buffer)?$:"",""],r=y[0],_.read_buffer=y[1],x(r,"")&&(r=p)),I(r)&&(I(c)&&(r=r["$[]"](n.Range.$new(0,c,!0)),_.read_buffer=Y(r["$[]"](n.Range.$new(c,-1,!1)),_.read_buffer)),I(o["$[]"]("chomp"))&&(r=r.$sub(/\r?\n$/,"")),x(s,"")&&(r=r.$sub(/^[\r\n]+/,""))),x(s,!1)&&(L._=r),r},-1),ee(u,"$sysread",function(h){var c=this,o=p;return I(o=c.read_proc(h))?o:(c.eof=!0,v.$raise(z("EOFError"),"end of file reached"))}),ee(u,"$sysread_noraise",function(h){var c=this;try{return c.$sysread(h)}catch(o){if(n.rescue(o,[z("EOFError")]))try{return p}finally{n.pop_exception(o)}else throw o}}),ee(u,"$readpartial",function(h){var c,o=this,y=p,K=p,_=p;return o.read_buffer=I(y=o.read_buffer)?y:"",K=o.$sysread(h),c=[Y(o.read_buffer,I(y=K)?y:""),""],_=c[0],o.read_buffer=c[1],x(_,"")&&(_=p),_}),ee(u,"$read",function(h){var c,o=this,y=p,K=p,_=p;h==null&&(h=p),o.read_buffer=I(y=o.read_buffer)?y:"",K="",_=p;do if(o.read_buffer=Y(o.read_buffer,K),I(h)&&I(P(o.read_buffer.$length(),h)))return c=[o.read_buffer["$[]"](n.Range.$new(0,h,!0)),o.read_buffer["$[]"](n.Range.$new(h,-1,!1))],_=c[0],o.read_buffer=c[1],_;while(I(K=o.$sysread_noraise(I(y=h)?y:65536)));return c=[o.read_buffer,""],_=c[0],o.read_buffer=c[1],_},-1),ee(u,"$readlines",function(h){var c=this;return L["/"]==null&&(L["/"]=p),h==null&&(h=L["/"]),c.$each_line(h).$to_a()},-1),ee(u,"$each",function k(h,c){var o=k.$$p||p,y,K,_,s=this,$=p;if(L["/"]==null&&(L["/"]=p),k.$$p=null,y=Z(arguments),y.length>0&&(K=y.shift()),K==null&&(K=L["/"]),_=y,o===p)return ie(s,"enum_for",["each",K].concat(J(_)));for(;I($=ie(s,"gets",[K].concat(J(_))));)n.yield1(o,$);return s},-1),ee(u,"$each_byte",function k(){var h=k.$$p||p,c=this,o=p;if(k.$$p=null,h===p)return c.$enum_for("each_byte");for(;I(o=c.$getbyte());)n.yield1(h,o);return c}),ee(u,"$each_char",function k(){var h=k.$$p||p,c=this,o=p;if(k.$$p=null,h===p)return c.$enum_for("each_char");for(;I(o=c.$getc());)n.yield1(h,o);return c}),ee(u,"$close",X("closed","both")),ee(u,"$close_read",function(){var h=this;return x(h.closed,"write")?h.closed="both":h.closed="read"}),ee(u,"$close_write",function(){var h=this;return x(h.closed,"read")?h.closed="both":h.closed="write"}),ee(u,"$closed?",function(){var h=this;return h.closed["$=="]("both")}),ee(u,"$closed_read?",function(){var h=this,c=p;return I(c=h.closed["$=="]("read"))?c:h.closed["$=="]("both")}),ee(u,"$closed_write?",function(){var h=this,c=p;return I(c=h.closed["$=="]("write"))?c:h.closed["$=="]("both")}),ee(u,"$check_writable",function(){var h=this;return I(h["$closed_write?"]())?v.$raise(z("IOError"),"not opened for writing"):p}),ee(u,"$check_readable",function(){var h=this;return I(h["$closed_read?"]())?v.$raise(z("IOError"),"not opened for reading"):p}),M(u,"each_line","each"),M(u,"eof?","eof")}("::",null),E("::","STDIN",L.stdin=z("IO").$new(0,"r")),E("::","STDOUT",L.stdout=z("IO").$new(1,"w")),E("::","STDERR",L.stderr=z("IO").$new(2,"w"));var j=n.global.console;return z("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(A){process.stdout.write(A)}:function(A){j.log(A)}),z("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(A){process.stderr.write(A)}:function(A){j.warn(A)}),H=[function(A){var w=prompt();return w!==null?w+`
`:p}],ie(z("STDIN"),"read_proc=",H),H[H.length-1]};Opal.modules["opal/regexp_anchors"]=function(n){var q=n.module,E=n.const_set,B=[];n.nil;var I=n.$$$;return n.add_stubs("new"),function(ee,Q){var T=q(ee,"Opal"),Z=[T].concat(Q),v=n.$r(Z);return E(T,"REGEXP_START","^"),E(T,"REGEXP_END","$"),E(T,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),E(T,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),E(T,"INLINE_IDENTIFIER_REGEXP",v("Regexp").$new("[^"+I(T,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+I(T,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),E(T,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),E(T,"CONST_NAME_REGEXP",v("Regexp").$new(""+I(T,"REGEXP_START")+"(::)?[A-Z][^"+I(T,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+I(T,"REGEXP_END")))}(B[0],B)};Opal.modules["opal/mini"]=function(n){var q=n.Object;return n.nil,n.add_stubs("require"),q.$require("opal/base"),q.$require("corelib/nil"),q.$require("corelib/boolean"),q.$require("corelib/string"),q.$require("corelib/comparable"),q.$require("corelib/enumerable"),q.$require("corelib/enumerator"),q.$require("corelib/array"),q.$require("corelib/hash"),q.$require("corelib/number"),q.$require("corelib/range"),q.$require("corelib/proc"),q.$require("corelib/method"),q.$require("corelib/regexp"),q.$require("corelib/variables"),q.$require("corelib/io"),q.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(n){var q=n.coerce_to,E=n.module,B=n.slice,I=n.truthy,ee=n.eqeq,Q=n.Opal,T=n.Kernel,Z=n.gvars,v=n.def,L=n.alias,ie=n.nil,J=n.$$$;return n.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(Y){var te=E(Y,"Kernel");return v(te,"$format",function(x,b){var P,X,M=ie;Z.DEBUG==null&&(Z.DEBUG=ie),P=B(arguments,1),X=P,ee(X.$length(),1)&&I(X["$[]"](0)["$respond_to?"]("to_ary"))&&(M=Q["$coerce_to?"](X["$[]"](0),J("Array"),"to_ary"),I(M["$nil?"]())||(X=M.$to_a()));var H="",p=0,z,j,A=x.length,w,u,d,k,h,c,o,y,K,_,s,$,t,e=1,r=0,i,a=0,l=1,g=2,S=4,C=8,R=16,G=32,O=64,ae=128;function oe(){i&G&&T.$raise(J("ArgumentError"),"flag after width"),i&ae&&T.$raise(J("ArgumentError"),"flag after precision")}function _e(){i&G&&T.$raise(J("ArgumentError"),"width given twice"),i&ae&&T.$raise(J("ArgumentError"),"width after precision")}function de(N){return N>=X.length&&T.$raise(J("ArgumentError"),"too few arguments"),X[N]}function ge(){switch(r){case-1:T.$raise(J("ArgumentError"),"unnumbered("+e+") mixed with numbered");case-2:T.$raise(J("ArgumentError"),"unnumbered("+e+") mixed with named")}return r=e++,de(r-1)}function ve(N){return r>0&&T.$raise(J("ArgumentError"),"numbered("+N+") after unnumbered("+r+")"),r===-2&&T.$raise(J("ArgumentError"),"numbered("+N+") after named"),N<1&&T.$raise(J("ArgumentError"),"invalid index - "+N+"$"),r=-1,de(N-1)}function me(){return t===void 0?ge():t}function be(N){for(var F,U="";;j++){if(j===A&&T.$raise(J("ArgumentError"),"malformed format string - %*[0-9]"),x.charCodeAt(j)<48||x.charCodeAt(j)>57)return j--,F=parseInt(U,10)||0,F>2147483647&&T.$raise(J("ArgumentError"),""+N+" too big"),F;U+=x.charAt(j)}}function $e(N){var F,U=be(N);return x.charAt(j+1)==="$"?(j++,F=ve(U)):F=ge(),F.$to_int()}for(j=x.indexOf("%");j!==-1;j=x.indexOf("%",j)){switch(u=void 0,i=a,k=-1,h=-1,t=void 0,z=j,j++,x.charAt(j)){case"%":p=j;case"":case`
`:case"\0":j++;continue}e:for(;j<A;j++)switch(x.charAt(j)){case" ":oe(),i|=R;continue e;case"#":oe(),i|=l;continue e;case"+":oe(),i|=S;continue e;case"-":oe(),i|=g;continue e;case"0":oe(),i|=C;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(c=be("width"),x.charAt(j+1)==="$"){if(j+2===A){u="%",j++;break e}t!==void 0&&T.$raise(J("ArgumentError"),"value given twice - %"+c+"$"),t=ve(c),j++}else _e(),i|=G,k=c;continue e;case"<":case"{":for(y=x.charAt(j)==="<"?">":"}",o="",j++;;j++){if(j===A&&T.$raise(J("ArgumentError"),"malformed name - unmatched parenthesis"),x.charAt(j)===y){if(r>0&&T.$raise(J("ArgumentError"),"named "+o+" after unnumbered("+r+")"),r===-1&&T.$raise(J("ArgumentError"),"named "+o+" after numbered"),r=-2,(X[0]===void 0||!X[0].$$is_hash)&&T.$raise(J("ArgumentError"),"one hash required"),t=X[0].$fetch(o),y===">")continue e;if(u=t.toString(),h!==-1&&(u=u.slice(0,h)),i&g)for(;u.length<k;)u=u+" ";else for(;u.length<k;)u=" "+u;break e}o+=x.charAt(j)}case"*":j++,_e(),i|=G,k=$e("width"),k<0&&(i|=g,k=-k);continue e;case".":if(i&ae&&T.$raise(J("ArgumentError"),"precision given twice"),i|=O|ae,h=0,j++,x.charAt(j)==="*"){j++,h=$e("precision"),h<0&&(i&=~O);continue e}h=be("precision");continue e;case"d":case"i":case"u":if(w=T.$Integer(me()),w>=0){for(u=w.toString();u.length<h;)u="0"+u;if(i&g)for((i&S||i&R)&&(u=(i&S?"+":" ")+u);u.length<k;)u=u+" ";else if(i&C&&h===-1){for(;u.length<k-(i&S||i&R?1:0);)u="0"+u;(i&S||i&R)&&(u=(i&S?"+":" ")+u)}else for((i&S||i&R)&&(u=(i&S?"+":" ")+u);u.length<k;)u=" "+u}else{for(u=(-w).toString();u.length<h;)u="0"+u;if(i&g)for(u="-"+u;u.length<k;)u=u+" ";else if(i&C&&h===-1){for(;u.length<k-1;)u="0"+u;u="-"+u}else for(u="-"+u;u.length<k;)u=" "+u}break e;case"b":case"B":case"o":case"x":case"X":switch(x.charAt(j)){case"b":case"B":K=2,_="0b",s=/^1+/,$="1";break;case"o":K=8,_="0",s=/^3?7+/,$="7";break;case"x":case"X":K=16,_="0x",s=/^f+/,$="f";break}if(w=T.$Integer(me()),w>=0){for(u=w.toString(K);u.length<h;)u="0"+u;if(i&g)for((i&S||i&R)&&(u=(i&S?"+":" ")+u),i&l&&w!==0&&(u=_+u);u.length<k;)u=u+" ";else if(i&C&&h===-1){for(;u.length<k-(i&S||i&R?1:0)-(i&l&&w!==0?_.length:0);)u="0"+u;i&l&&w!==0&&(u=_+u),(i&S||i&R)&&(u=(i&S?"+":" ")+u)}else for(i&l&&w!==0&&(u=_+u),(i&S||i&R)&&(u=(i&S?"+":" ")+u);u.length<k;)u=" "+u}else if(i&S||i&R){for(u=(-w).toString(K);u.length<h;)u="0"+u;if(i&g)for(i&l&&(u=_+u),u="-"+u;u.length<k;)u=u+" ";else if(i&C&&h===-1){for(;u.length<k-1-(i&l?2:0);)u="0"+u;i&l&&(u=_+u),u="-"+u}else for(i&l&&(u=_+u),u="-"+u;u.length<k;)u=" "+u}else{for(u=(w>>>0).toString(K).replace(s,$);u.length<h-2;)u=$+u;if(i&g)for(u=".."+u,i&l&&(u=_+u);u.length<k;)u=u+" ";else if(i&C&&h===-1){for(;u.length<k-2-(i&l?_.length:0);)u=$+u;u=".."+u,i&l&&(u=_+u)}else for(u=".."+u,i&l&&(u=_+u);u.length<k;)u=" "+u}x.charAt(j)===x.charAt(j).toUpperCase()&&(u=u.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(w=T.$Float(me()),w>=0||isNaN(w)){if(w===1/0)u="Inf";else switch(x.charAt(j)){case"f":u=w.toFixed(h===-1?6:h);break;case"e":case"E":u=w.toExponential(h===-1?6:h);break;case"g":case"G":u=w.toExponential(),d=parseInt(u.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(u=w.toPrecision(h===-1?i&l?6:void 0:h));break}if(i&g)for((i&S||i&R)&&(u=(i&S?"+":" ")+u);u.length<k;)u=u+" ";else if(i&C&&w!==1/0&&!isNaN(w)){for(;u.length<k-(i&S||i&R?1:0);)u="0"+u;(i&S||i&R)&&(u=(i&S?"+":" ")+u)}else for((i&S||i&R)&&(u=(i&S?"+":" ")+u);u.length<k;)u=" "+u}else{if(w===-1/0)u="Inf";else switch(x.charAt(j)){case"f":u=(-w).toFixed(h===-1?6:h);break;case"e":case"E":u=(-w).toExponential(h===-1?6:h);break;case"g":case"G":u=(-w).toExponential(),d=parseInt(u.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(u=(-w).toPrecision(h===-1?i&l?6:void 0:h));break}if(i&g)for(u="-"+u;u.length<k;)u=u+" ";else if(i&C&&w!==-1/0){for(;u.length<k-1;)u="0"+u;u="-"+u}else for(u="-"+u;u.length<k;)u=" "+u}x.charAt(j)===x.charAt(j).toUpperCase()&&w!==1/0&&w!==-1/0&&!isNaN(w)&&(u=u.toUpperCase()),u=u.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":T.$raise(J("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(w=me(),w["$respond_to?"]("to_ary")&&(w=w.$to_ary()[0]),w["$respond_to?"]("to_str")?u=w.$to_str():u=String.fromCharCode(q(w,J("Integer"),"to_int")),u.length!==1&&T.$raise(J("ArgumentError"),"%c requires a character"),i&g)for(;u.length<k;)u=u+" ";else for(;u.length<k;)u=" "+u;break e;case"p":if(u=me().$inspect(),h!==-1&&(u=u.slice(0,h)),i&g)for(;u.length<k;)u=u+" ";else for(;u.length<k;)u=" "+u;break e;case"s":if(u=me().$to_s(),h!==-1&&(u=u.slice(0,h)),i&g)for(;u.length<k;)u=u+" ";else for(;u.length<k;)u=" "+u;break e;default:T.$raise(J("ArgumentError"),"malformed format string - %"+x.charAt(j))}u===void 0&&T.$raise(J("ArgumentError"),"malformed format string - %"),H+=x.slice(p,z)+u,p=j+1}return Z.DEBUG&&r>=0&&e<X.length&&T.$raise(J("ArgumentError"),"too many arguments for format string"),H+x.slice(p)},-2),L(te,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(n){var q=n.klass,E=n.rb_plus,B=n.truthy,I=n.send,ee=n.defs,Q=n.eqeq,T=n.def,Z=n.return_ivar,v=n.return_val,L=n.slice,ie=n.Kernel,J=n.Opal,Y=n.rb_lt,te,V=n.top,x=[],b=n.$r(x),P=n.nil,X=n.$$$;return n.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),V.$require("corelib/string"),function(M,H,p){var z=q(M,H,"Encoding"),j=[z].concat(p),A=z.$$prototype;return A.name=A.dummy=P,ee(z,"$register",function w(u,d){var k=w.$$p||P,h=this,c=P,o=P,y=P,K=P,_=P,s=P;return w.$$p=null,d==null&&(d=new Map),c=E([u],B(o=d["$[]"]("aliases"))?o:[]),y=B(o=d["$[]"]("ascii"))&&o,K=B(o=d["$[]"]("dummy"))&&o,B(d["$[]"]("inherits"))?(_=d["$[]"]("inherits").$clone(),_.$initialize(u,c,y,K)):_=h.$new(u,c,y,K),k!==P&&I(_,"instance_eval",[],k.$to_proc()),s=n.encodings,I(c,"each",[],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=P),e.$const_set(t.$tr("-","_"),_),s[t]=_},{$$s:h})},-2),ee(z,"$find",function(u){var d=this;return Q(u,"default_external")?d.$default_external():n.find_encoding(u)}),z.$singleton_class().$attr_accessor("default_external"),z.$attr_reader("name","names"),T(z,"$initialize",function(u,d,k,h){var c=this;return c.name=u,c.names=d,c.ascii=k,c.dummy=h}),T(z,"$ascii_compatible?",Z("ascii")),T(z,"$dummy?",Z("dummy")),T(z,"$binary?",v(!1)),T(z,"$to_s",Z("name")),T(z,"$inspect",function(){var u=this;return"#<Encoding:"+u.name+(B(u.dummy)?" (dummy)":P)+">"}),T(z,"$charsize",function(u){for(var d=0,k=0,h=u.length;k<h;k++){var c=u.charCodeAt(k);c>=55296&&c<=56319||d++}return d}),T(z,"$each_char",function w(u){var d=w.$$p||P;w.$$p=null;for(var k="",h=0,c=u.length;h<c;h++){var o=u.charCodeAt(h),y=u.charAt(h);if(o>=56320&&o<=57343){k=y;continue}else o>=55296&&o<=56319&&(y=k+y);u.encoding.name!="UTF-8"&&(y=new String(y),y.encoding=u.encoding),n.yield1(d,y)}}),T(z,"$each_byte",function(u){return L(arguments),ie.$raise(X("NotImplementedError"))},-1),T(z,"$bytesize",function(u){return L(arguments),ie.$raise(X("NotImplementedError"))},-1),q("::",X("StandardError"),"EncodingError"),q("::",X("EncodingError"),"CompatibilityError"),q(j[0],X("EncodingError"),"UndefinedConversionError"),P}("::",null,x),I(X("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function M(){var H=M.$$s==null?this:M.$$s;return T(H,"$each_byte",function p(z){var j=p.$$p||P;p.$$p=null;for(var A=1/0,w,u=z.length,d=null,k=0;k<u;++k){if(w=z.charCodeAt(k),w>55295&&w<57344){if(!d){if(w>56319){(A-=3)>-1&&(n.yield1(j,239),n.yield1(j,191),n.yield1(j,189));continue}else if(k+1===u){(A-=3)>-1&&(n.yield1(j,239),n.yield1(j,191),n.yield1(j,189));continue}d=w;continue}if(w<56320){(A-=3)>-1&&(n.yield1(j,239),n.yield1(j,191),n.yield1(j,189)),d=w;continue}w=(d-55296<<10|w-56320)+65536}else d&&(A-=3)>-1&&(n.yield1(j,239),n.yield1(j,191),n.yield1(j,189));if(d=null,w<128){if((A-=1)<0)break;n.yield1(j,w)}else if(w<2048){if((A-=2)<0)break;n.yield1(j,w>>6|192),n.yield1(j,w&63|128)}else if(w<65536){if((A-=3)<0)break;n.yield1(j,w>>12|224),n.yield1(j,w>>6&63|128),n.yield1(j,w&63|128)}else if(w<1114112){if((A-=4)<0)break;n.yield1(j,w>>18|240),n.yield1(j,w>>12&63|128),n.yield1(j,w>>6&63|128),n.yield1(j,w&63|128)}}}),T(H,"$bytesize",function(z){return z.$bytes().$length()})},{$$s:V}),I(X("Encoding"),"register",["UTF-16LE"],function M(){var H=M.$$s==null?this:M.$$s;return T(H,"$each_byte",function p(z){var j=p.$$p||P;p.$$p=null;for(var A=0,w=z.length;A<w;A++){var u=z.charCodeAt(A);n.yield1(j,u&255),n.yield1(j,u>>8)}}),T(H,"$bytesize",function(z){return z.length*2})},{$$s:V}),I(X("Encoding"),"register",["UTF-16BE",new Map([["inherits",X(X("Encoding"),"UTF_16LE")]])],function M(){var H=M.$$s==null?this:M.$$s;return T(H,"$each_byte",function p(z){var j=p.$$p||P;p.$$p=null;for(var A=0,w=z.length;A<w;A++){var u=z.charCodeAt(A);n.yield1(j,u>>8),n.yield1(j,u&255)}})},{$$s:V}),I(X("Encoding"),"register",["UTF-32LE"],function M(){var H=M.$$s==null?this:M.$$s;return T(H,"$each_byte",function p(z){var j=p.$$p||P;p.$$p=null;for(var A=0,w=z.length;A<w;A++){var u=z.charCodeAt(A);n.yield1(j,u&255),n.yield1(j,u>>8),n.yield1(j,0),n.yield1(j,0)}}),T(H,"$bytesize",function(z){return z.length*4})},{$$s:V}),I(X("Encoding"),"register",["UTF-32BE",new Map([["inherits",X(X("Encoding"),"UTF_32LE")]])],function M(){var H=M.$$s==null?this:M.$$s;return T(H,"$each_byte",function p(z){var j=p.$$p||P;p.$$p=null;for(var A=0,w=z.length;A<w;A++){var u=z.charCodeAt(A);n.yield1(j,0),n.yield1(j,0),n.yield1(j,u>>8),n.yield1(j,u&255)}})},{$$s:V}),I(X("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function M(){var H=M.$$s==null?this:M.$$s;return T(H,"$each_char",function p(z){var j=p.$$p||P;p.$$p=null;for(var A=0,w=z.length;A<w;A++){var u=new String(z.charAt(A));u.encoding=z.encoding,n.yield1(j,u)}}),T(H,"$charsize",function(z){return z.length}),T(H,"$each_byte",function p(z){var j=p.$$p||P;p.$$p=null;for(var A=0,w=z.length;A<w;A++){var u=z.charCodeAt(A);n.yield1(j,u&255)}}),T(H,"$bytesize",function(z){return z.length}),T(H,"$binary?",v(!0))},{$$s:V}),X("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",X(X("Encoding"),"ASCII_8BIT")]])),X("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",X(X("Encoding"),"ASCII_8BIT")]])),function(M,H){var p=q(M,H,"String"),z=p.$$prototype;return z.internal_encoding=z.bytes=z.encoding=P,p.$attr_reader("encoding"),p.$attr_reader("internal_encoding"),n.prop(String.prototype,"bytes",P),n.prop(String.prototype,"encoding",X(X("Encoding"),"UTF_8")),n.prop(String.prototype,"internal_encoding",X(X("Encoding"),"UTF_8")),T(p,"$b",function(){var A=this;return A.$dup().$force_encoding("binary")}),T(p,"$bytesize",function(){var A=this;return A.internal_encoding.$bytesize(A)}),T(p,"$each_byte",function j(){var A=j.$$p||P,w=this;return j.$$p=null,A===P?I(w,"enum_for",["each_byte"],function u(){var d=u.$$s==null?this:u.$$s;return d.$bytesize()},{$$s:w}):(I(w.internal_encoding,"each_byte",[w],A.$to_proc()),w)}),T(p,"$bytes",function(){var A=this,w=P;return typeof A=="string"?new String(A).$each_byte().$to_a():(A.bytes=B(w=A.bytes)?w:A.$each_byte().$to_a(),A.bytes.$dup())}),T(p,"$each_char",function j(){var A=j.$$p||P,w=this;return j.$$p=null,A===P?I(w,"enum_for",["each_char"],function u(){var d=u.$$s==null?this:u.$$s;return d.$length()},{$$s:w}):(I(w.encoding,"each_char",[w],A.$to_proc()),w)}),T(p,"$chars",function j(){var A=j.$$p||P,w=this;return j.$$p=null,B(A)?I(w,"each_char",[],A.$to_proc()):w.$each_char().$to_a()}),T(p,"$each_codepoint",function j(){var A=j.$$p||P,w=this;if(j.$$p=null,A===P)return w.$enum_for("each_codepoint");for(var u=0,d=w.length;u<d;u++)n.yield1(A,w.codePointAt(u));return w}),T(p,"$codepoints",function j(){var A=j.$$p||P,w=this;return j.$$p=null,A!==P?I(w,"each_codepoint",[],A.$to_proc()):w.$each_codepoint().$to_a()}),T(p,"$encode",function(A){var w=this;return n.enc(w,A)}),T(p,"$force_encoding",function(A){var w=this,u=w;return A===u.encoding||(A=J["$coerce_to!"](A,X("String"),"to_s"),A=X("Encoding").$find(A),A===u.encoding)||(u=n.set_encoding(u,A)),u}),T(p,"$getbyte",function(A){var w=this,u=P;return u=w.$bytes(),A=J["$coerce_to!"](A,X("Integer"),"to_int"),B(Y(u.$length(),A))?P:u["$[]"](A)}),T(p,"$initialize_copy",function(A){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),T(p,"$valid_encoding?",v(!0))}("::",null),te=[X(b("Encoding"),"UTF_8")],I(X("Encoding"),"default_external=",te),te[te.length-1]};Opal.modules["corelib/math"]=function(n){var q=n.type_error,E=n.module,B=n.const_set,I=n.Class,ee=n.slice,Q=n.Kernel,T=n.defs,Z=n.truthy,v=n.send,L=n.def,ie=n.rb_minus,J=n.eqeqeq,Y=n.rb_divide,te=[],V=n.nil,x=n.$$$;return n.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(b,P){var X=E(b,"Math"),M=[X].concat(P),H=n.$r(M);return B(X,"E",Math.E),B(X,"PI",Math.PI),B(X,"DomainError",I.$new(x("StandardError"))),T(X,"$checked",function(z,j){var A,w;if(A=ee(arguments,1),w=A,isNaN(w[0])||w.length==2&&isNaN(w[1]))return NaN;var u=Math[z].apply(null,w);return isNaN(u)&&Q.$raise(H("DomainError"),'Numerical argument is out of domain - "'+z+'"'),u},-2),T(X,"$float!",function(z){try{return Q.$Float(z)}catch(j){if(n.rescue(j,[x("ArgumentError")]))try{return Q.$raise(q(z,x("Float")))}finally{n.pop_exception(j)}else throw j}}),T(X,"$integer!",function(z){try{return Q.$Integer(z)}catch(j){if(n.rescue(j,[x("ArgumentError")]))try{return Q.$raise(q(z,x("Integer")))}finally{n.pop_exception(j)}else throw j}}),X.$module_function(),Z(typeof Math.erf<"u")||n.prop(Math,"erf",function(p){var z=.254829592,j=-.284496736,A=1.421413741,w=-1.453152027,u=1.061405429,d=.3275911,k=1;p<0&&(k=-1),p=Math.abs(p);var h=1/(1+d*p),c=1-((((u*h+w)*h+A)*h+j)*h+z)*h*Math.exp(-p*p);return k*c}),Z(typeof Math.erfc<"u")||n.prop(Math,"erfc",function(p){var z=Math.abs(p),j=1/(.5*z+1),A=j*.17087277+-.82215223,w=j*A+1.48851587,u=j*w+-1.13520398,d=j*u+.27886807,k=j*d+-.18628806,h=j*k+.09678418,c=j*h+.37409196,o=j*c+1.00002368,y=j*o,K=-z*z-1.26551223+y,_=j*Math.exp(K);return p<0?2-_:_}),v(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function p(z){var j=p.$$s==null?this:p.$$s;return z==null&&(z=V),v(j,"define_method",[z],function(w){return w==null&&(w=V),x("Math").$checked(z,x("Math")["$float!"](w))})},{$$s:X}),L(X,"$atan2",function(z,j){return x("Math").$checked("atan2",x("Math")["$float!"](z),x("Math")["$float!"](j))}),L(X,"$hypot",function(z,j){return x("Math").$checked("hypot",x("Math")["$float!"](z),x("Math")["$float!"](j))}),L(X,"$frexp",function(z){if(z=H("Math")["$float!"](z),isNaN(z))return[NaN,0];var j=Math.floor(Math.log(Math.abs(z))/Math.log(2))+1,A=z/Math.pow(2,j);return[A,j]}),L(X,"$gamma",function(z){z=H("Math")["$float!"](z);var j,A,w,u,d,k,h,c,o,y=4.7421875,K=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(z))return NaN;if(z===0&&1/z<0)return-1/0;if((z===-1||z===-1/0)&&Q.$raise(H("DomainError"),'Numerical argument is out of domain - "gamma"'),H("Integer")["$==="](z)){if(z<=0)return isFinite(z)?1/0:NaN;if(z>171)return 1/0;for(u=z-2,d=z-1;u>1;)d*=u,u--;return d==0&&(d=1),d}if(z<.5)return Math.PI/(Math.sin(Math.PI*z)*x("Math").$gamma(ie(1,z)));if(z>=171.35)return 1/0;if(z>85)return k=z*z,h=k*z,c=h*z,o=c*z,Math.sqrt(2*Math.PI/z)*Math.pow(z/Math.E,z)*(1+1/(12*z)+1/(288*k)-139/(51840*h)-571/(2488320*c)+163879/(209018880*o)+5246819/(75246796800*o*z));for(z-=1,w=K[0],j=1;j<K.length;++j)w+=K[j]/(z+j);return A=z+y+.5,Math.sqrt(2*Math.PI)*Math.pow(A,z+.5)*Math.exp(-A)*w}),L(X,"$ldexp",function(z,j){return z=H("Math")["$float!"](z),j=H("Math")["$integer!"](j),isNaN(j)&&Q.$raise(x("RangeError"),"float NaN out of range of integer"),z*Math.pow(2,j)}),L(X,"$lgamma",function(z){return z==-1?[1/0,1]:[Math.log(Math.abs(x("Math").$gamma(z))),x("Math").$gamma(z)<0?-1:1]}),L(X,"$log",function(z,j){return J(x("String"),z)&&Q.$raise(q(z,x("Float"))),Z(j==null)?x("Math").$checked("log",x("Math")["$float!"](z)):(J(x("String"),j)&&Q.$raise(q(j,x("Float"))),Y(x("Math").$checked("log",x("Math")["$float!"](z)),x("Math").$checked("log",x("Math")["$float!"](j))))},-2),L(X,"$log10",function(z){return J(x("String"),z)&&Q.$raise(q(z,x("Float"))),x("Math").$checked("log10",x("Math")["$float!"](z))}),L(X,"$log2",function(z){return J(x("String"),z)&&Q.$raise(q(z,x("Float"))),x("Math").$checked("log2",x("Math")["$float!"](z))}),L(X,"$tan",function(z){return z=x("Math")["$float!"](z),Z(z["$infinite?"]())?x(x("Float"),"NAN"):x("Math").$checked("tan",x("Math")["$float!"](z))})}("::",te)};Opal.modules["corelib/complex/base"]=function(n){var q=n.module,E=n.truthy,B=n.def,I=n.klass,ee=[],Q=n.nil;return n.add_stubs("new,from_string"),function(T,Z){var v=q(T,"Kernel"),L=[v].concat(Z),ie=n.$r(L);return B(v,"$Complex",function(Y,te){return te==null&&(te=Q),E(te)?ie("Complex").$new(Y,te):ie("Complex").$new(Y,0)},-2)}("::",ee),function(T,Z,v){var L=I(T,Z,"String"),ie=[L].concat(v),J=n.$r(ie);return B(L,"$to_c",function(){var te=this;return J("Complex").$from_string(te)})}("::",null,ee)};Opal.modules["corelib/complex"]=function(n){var q=n.klass,E=n.truthy,B=n.eqeqeq,I=n.Kernel,ee=n.defs,Q=n.rb_times,T=n.def,Z=n.rb_plus,v=n.rb_minus,L=n.rb_divide,ie=n.eqeq,J=n.to_ary,Y=n.rb_gt,te=n.neqeq,V=n.return_val,x=n.const_set,b=n.alias,P=n.top,X=[],M=n.nil,H=n.$$$;return n.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),P.$require("corelib/numeric"),P.$require("corelib/complex/base"),function(p,z,j){var A=q(p,z,"Complex"),w=[A].concat(j),u=n.$r(w),d=A.$$prototype;return d.real=d.imag=M,ee(A,"$rect",function(h,c){var o=this;return c==null&&(c=0),B(H("Numeric"),h)&&E(h["$real?"]())&&B(H("Numeric"),c)&&E(c["$real?"]())||I.$raise(H("TypeError"),"not a real"),o.$new(h,c)},-2),ee(A,"$polar",function(h,c){var o=this;return c==null&&(c=0),B(H("Numeric"),h)&&E(h["$real?"]())&&B(H("Numeric"),c)&&E(c["$real?"]())||I.$raise(H("TypeError"),"not a real"),o.$new(Q(h,H("Math").$cos(c)),Q(h,H("Math").$sin(c)))},-2),A.$attr_reader("real","imag"),T(A,"$initialize",function(h,c){var o=this;return c==null&&(c=0),o.real=h,o.imag=c,o.$freeze()},-2),T(A,"$coerce",function(h){var c=this;return B(H("Complex"),h)?[h,c]:B(H("Numeric"),h)&&E(h["$real?"]())?[H("Complex").$new(h,0),c]:I.$raise(H("TypeError"),""+h.$class()+" can't be coerced into Complex")}),T(A,"$==",function(h){var c=this,o=M;return B(H("Complex"),h)?E(o=c.real["$=="](h.$real()))?c.imag["$=="](h.$imag()):o:B(H("Numeric"),h)&&E(h["$real?"]())?E(o=c.real["$=="](h))?c.imag["$=="](0):o:h["$=="](c)}),T(A,"$-@",function(){var h=this;return I.$Complex(h.real["$-@"](),h.imag["$-@"]())}),T(A,"$+",function(h){var c=this;return B(H("Complex"),h)?I.$Complex(Z(c.real,h.$real()),Z(c.imag,h.$imag())):B(H("Numeric"),h)&&E(h["$real?"]())?I.$Complex(Z(c.real,h),c.imag):c.$__coerced__("+",h)}),T(A,"$-",function(h){var c=this;return B(H("Complex"),h)?I.$Complex(v(c.real,h.$real()),v(c.imag,h.$imag())):B(H("Numeric"),h)&&E(h["$real?"]())?I.$Complex(v(c.real,h),c.imag):c.$__coerced__("-",h)}),T(A,"$*",function(h){var c=this;return B(H("Complex"),h)?I.$Complex(v(Q(c.real,h.$real()),Q(c.imag,h.$imag())),Z(Q(c.real,h.$imag()),Q(c.imag,h.$real()))):B(H("Numeric"),h)&&E(h["$real?"]())?I.$Complex(Q(c.real,h),Q(c.imag,h)):c.$__coerced__("*",h)}),T(A,"$/",function(h){var c=this;return B(H("Complex"),h)?B(H("Number"),c.real)&&E(c.real["$nan?"]())||B(H("Number"),c.imag)&&E(c.imag["$nan?"]())||B(H("Number"),h.$real())&&E(h.$real()["$nan?"]())||B(H("Number"),h.$imag())&&E(h.$imag()["$nan?"]())?H("Complex").$new(H(H("Float"),"NAN"),H(H("Float"),"NAN")):L(Q(c,h.$conj()),h.$abs2()):B(H("Numeric"),h)&&E(h["$real?"]())?I.$Complex(c.real.$quo(h),c.imag.$quo(h)):c.$__coerced__("/",h)}),T(A,"$**",function(h){var c,o,y=this,K=M,_=M,s=M,$=M,t=M,e=M,r=M,i=M,a=M,l=M,g=M;if(ie(h,0))return H("Complex").$new(1,0);if(B(H("Complex"),h))return o=y.$polar(),c=J(o),K=c[0]==null?M:c[0],_=c[1]==null?M:c[1],s=h.$real(),$=h.$imag(),t=H("Math").$exp(v(Q(s,H("Math").$log(K)),Q($,_))),e=Z(Q(_,s),Q($,H("Math").$log(K))),H("Complex").$polar(t,e);if(B(H("Integer"),h))if(E(Y(h,0))){for(r=y,i=r,a=v(h,1);te(a,0);){for(o=a.$divmod(2),c=J(o),l=c[0]==null?M:c[0],g=c[1]==null?M:c[1];ie(g,0);)r=I.$Complex(v(Q(r.$real(),r.$real()),Q(r.$imag(),r.$imag())),Q(Q(2,r.$real()),r.$imag())),a=l,o=a.$divmod(2),c=J(o),l=c[0]==null?M:c[0],g=c[1]==null?M:c[1];i=Q(i,r),a=v(a,1)}return i}else return L(H("Rational").$new(1,1),y)["$**"](h["$-@"]());else return B(H("Float"),h)||B(H("Rational"),h)?(o=y.$polar(),c=J(o),K=c[0]==null?M:c[0],_=c[1]==null?M:c[1],H("Complex").$polar(K["$**"](h),Q(_,h))):y.$__coerced__("**",h)}),T(A,"$abs",function(){var h=this;return H("Math").$hypot(h.real,h.imag)}),T(A,"$abs2",function(){var h=this;return Z(Q(h.real,h.real),Q(h.imag,h.imag))}),T(A,"$angle",function(){var h=this;return H("Math").$atan2(h.imag,h.real)}),T(A,"$conj",function(){var h=this;return I.$Complex(h.real,h.imag["$-@"]())}),T(A,"$denominator",function(){var h=this;return h.real.$denominator().$lcm(h.imag.$denominator())}),T(A,"$eql?",function(h){var c=this,o=M,y=M;return E(o=E(y=u("Complex")["$==="](h))?c.real.$class()["$=="](c.imag.$class()):y)?c["$=="](h):o}),T(A,"$fdiv",function(h){var c=this;return B(H("Numeric"),h)||I.$raise(H("TypeError"),""+h.$class()+" can't be coerced into Complex"),L(c,h)}),T(A,"$finite?",function(){var h=this,c=M;return E(c=h.real["$finite?"]())?h.imag["$finite?"]():c}),T(A,"$hash",function(){var h=this;return[H("Complex"),h.real,h.imag].$hash()}),T(A,"$infinite?",function(){var h=this,c=M;return E(c=h.real["$infinite?"]())?c:h.imag["$infinite?"]()}),T(A,"$inspect",function(){var h=this;return"("+h+")"}),T(A,"$numerator",function(){var h=this,c=M;return c=h.$denominator(),I.$Complex(Q(h.real.$numerator(),L(c,h.real.$denominator())),Q(h.imag.$numerator(),L(c,h.imag.$denominator())))}),T(A,"$polar",function(){var h=this;return[h.$abs(),h.$arg()]}),T(A,"$rationalize",function(h){var c=this;return arguments.length>1&&I.$raise(H("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),te(c.imag,0)&&I.$raise(H("RangeError"),"can't convert "+c+" into Rational"),c.$real().$rationalize(h)},-1),T(A,"$real?",V(!1)),T(A,"$rect",function(){var h=this;return[h.real,h.imag]}),T(A,"$to_f",function(){var h=this;return ie(h.imag,0)||I.$raise(H("RangeError"),"can't convert "+h+" into Float"),h.real.$to_f()}),T(A,"$to_i",function(){var h=this;return ie(h.imag,0)||I.$raise(H("RangeError"),"can't convert "+h+" into Integer"),h.real.$to_i()}),T(A,"$to_r",function(){var h=this;return ie(h.imag,0)||I.$raise(H("RangeError"),"can't convert "+h+" into Rational"),h.real.$to_r()}),T(A,"$to_s",function(){var h=this,c=M;return c=h.real.$inspect(),c=Z(c,B(H("Number"),h.imag)&&E(h.imag["$nan?"]())||E(h.imag["$positive?"]())||E(h.imag["$zero?"]())?"+":"-"),c=Z(c,h.imag.$abs().$inspect()),B(H("Number"),h.imag)&&(E(h.imag["$nan?"]())||E(h.imag["$infinite?"]()))&&(c=Z(c,"*")),Z(c,"i")}),x(w[0],"I",A.$new(0,1)),ee(A,"$from_string",function(h){var c=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;h.match(c);var o,y;function K(){return c.test(h)}function _(){var $=h.match(c),t=$[0];return h=h.slice(t.length),t.replace(/_/g,"")}function s(){if(K()){var $=parseFloat(_());if(h[0]==="/")if(h=h.slice(1),K()){var t=parseFloat(_());return I.$Rational($,t)}else return h="/"+h,$;else return $}else return null}return o=s(),o?(y=s(),y?I.$Complex(o,y):h[0]==="i"?I.$Complex(0,o):I.$Complex(o,0)):h[0]==="i"?I.$Complex(0,1):h[0]==="-"&&h[1]==="i"?I.$Complex(0,-1):h[0]==="+"&&h[1]==="i"?I.$Complex(0,1):I.$Complex(0,0)}),function(k,h){return b(k,"rectangular","rect")}(n.get_singleton_class(A)),b(A,"arg","angle"),b(A,"conjugate","conj"),b(A,"divide","/"),b(A,"imaginary","imag"),b(A,"magnitude","abs"),b(A,"phase","arg"),b(A,"quo","/"),b(A,"rectangular","rect"),n.udef(A,"$negative?"),n.udef(A,"$positive?"),n.udef(A,"$step"),M}("::",H("Numeric"),X)};Opal.modules["corelib/rational/base"]=function(n){var q=n.module,E=n.def,B=n.klass;n.nil;var I=n.$$$;return n.add_stubs("convert,from_string"),function(ee){var Q=q(ee,"Kernel");return E(Q,"$Rational",function(Z,v){return v==null&&(v=1),I("Rational").$convert(Z,v)},-2)}("::"),function(ee,Q){var T=B(ee,Q,"String");return E(T,"$to_r",function(){var v=this;return I("Rational").$from_string(v)})}("::",null)};Opal.modules["corelib/rational"]=function(n){var q=n.klass,E=n.eqeq,B=n.Kernel,I=n.truthy,ee=n.rb_lt,Q=n.rb_divide,T=n.defs,Z=n.eqeqeq,v=n.not,L=n.Opal,ie=n.def,J=n.return_ivar,Y=n.rb_minus,te=n.rb_times,V=n.rb_plus,x=n.rb_gt,b=n.rb_le,P=n.return_self,X=n.alias,M=n.top,H=n.nil,p=n.$$$;return n.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),M.$require("corelib/numeric"),M.$require("corelib/rational/base"),function(z,j){var A=q(z,j,"Rational"),w=A.$$prototype;return w.num=w.den=H,T(A,"$reduce",function(d,k){var h=this,c=H;if(d=d.$to_i(),k=k.$to_i(),E(k,0))B.$raise(p("ZeroDivisionError"),"divided by 0");else if(I(ee(k,0)))d=d["$-@"](),k=k["$-@"]();else if(E(k,1))return h.$new(d,k);return c=d.$gcd(k),h.$new(Q(d,c),Q(k,c))}),T(A,"$convert",function(d,k){var h=this;return(I(d["$nil?"]())||I(k["$nil?"]()))&&B.$raise(p("TypeError"),"cannot convert nil into Rational"),Z(p("Integer"),d)&&Z(p("Integer"),k)?h.$reduce(d,k):((Z(p("Float"),d)||Z(p("String"),d)||Z(p("Complex"),d))&&(d=d.$to_r()),(Z(p("Float"),k)||Z(p("String"),k)||Z(p("Complex"),k))&&(k=k.$to_r()),I(k["$equal?"](1))&&v(p("Integer")["$==="](d))?L["$coerce_to!"](d,p("Rational"),"to_r"):Z(p("Numeric"),d)&&Z(p("Numeric"),k)?Q(d,k):h.$reduce(d,k))}),ie(A,"$initialize",function(d,k){var h=this;return h.num=d,h.den=k,h.$freeze()}),ie(A,"$numerator",J("num")),ie(A,"$denominator",J("den")),ie(A,"$coerce",function(d){var k=this,h=H;return Z(p("Rational"),h=d)?[d,k]:Z(p("Integer"),h)?[d.$to_r(),k]:Z(p("Float"),h)?[d,k.$to_f()]:H}),ie(A,"$==",function(d){var k=this,h=H,c=H;return Z(p("Rational"),h=d)?I(c=k.num["$=="](d.$numerator()))?k.den["$=="](d.$denominator()):c:Z(p("Integer"),h)?I(c=k.num["$=="](d))?k.den["$=="](1):c:Z(p("Float"),h)?k.$to_f()["$=="](d):d["$=="](k)}),ie(A,"$<=>",function(d){var k=this,h=H;return Z(p("Rational"),h=d)?Y(te(k.num,d.$denominator()),te(k.den,d.$numerator()))["$<=>"](0):Z(p("Integer"),h)?Y(k.num,te(k.den,d))["$<=>"](0):Z(p("Float"),h)?k.$to_f()["$<=>"](d):k.$__coerced__("<=>",d)}),ie(A,"$+",function(d){var k=this,h=H,c=H,o=H;return Z(p("Rational"),h=d)?(c=V(te(k.num,d.$denominator()),te(k.den,d.$numerator())),o=te(k.den,d.$denominator()),B.$Rational(c,o)):Z(p("Integer"),h)?B.$Rational(V(k.num,te(d,k.den)),k.den):Z(p("Float"),h)?V(k.$to_f(),d):k.$__coerced__("+",d)}),ie(A,"$-",function(d){var k=this,h=H,c=H,o=H;return Z(p("Rational"),h=d)?(c=Y(te(k.num,d.$denominator()),te(k.den,d.$numerator())),o=te(k.den,d.$denominator()),B.$Rational(c,o)):Z(p("Integer"),h)?B.$Rational(Y(k.num,te(d,k.den)),k.den):Z(p("Float"),h)?Y(k.$to_f(),d):k.$__coerced__("-",d)}),ie(A,"$*",function(d){var k=this,h=H,c=H,o=H;return Z(p("Rational"),h=d)?(c=te(k.num,d.$numerator()),o=te(k.den,d.$denominator()),B.$Rational(c,o)):Z(p("Integer"),h)?B.$Rational(te(k.num,d),k.den):Z(p("Float"),h)?te(k.$to_f(),d):k.$__coerced__("*",d)}),ie(A,"$/",function(d){var k=this,h=H,c=H,o=H;return Z(p("Rational"),h=d)?(c=te(k.num,d.$denominator()),o=te(k.den,d.$numerator()),B.$Rational(c,o)):Z(p("Integer"),h)?E(d,0)?Q(k.$to_f(),0):B.$Rational(k.num,te(k.den,d)):Z(p("Float"),h)?Q(k.$to_f(),d):k.$__coerced__("/",d)}),ie(A,"$**",function(d){var k=this,h=H;return Z(p("Integer"),h=d)?E(k,0)&&I(ee(d,0))?p(p("Float"),"INFINITY"):I(x(d,0))?B.$Rational(k.num["$**"](d),k.den["$**"](d)):I(ee(d,0))?B.$Rational(k.den["$**"](d["$-@"]()),k.num["$**"](d["$-@"]())):B.$Rational(1,1):Z(p("Float"),h)?k.$to_f()["$**"](d):Z(p("Rational"),h)?E(d,0)?B.$Rational(1,1):E(d.$denominator(),1)?I(ee(d,0))?B.$Rational(k.den["$**"](d.$numerator().$abs()),k.num["$**"](d.$numerator().$abs())):B.$Rational(k.num["$**"](d.$numerator()),k.den["$**"](d.$numerator())):E(k,0)&&I(ee(d,0))?B.$raise(p("ZeroDivisionError"),"divided by 0"):k.$to_f()["$**"](d):k.$__coerced__("**",d)}),ie(A,"$abs",function(){var d=this;return B.$Rational(d.num.$abs(),d.den.$abs())}),ie(A,"$ceil",function(d){var k=this;return d==null&&(d=0),E(d,0)?Q(k.num["$-@"](),k.den)["$-@"]().$ceil():k.$with_precision("ceil",d)},-1),ie(A,"$floor",function(d){var k=this;return d==null&&(d=0),E(d,0)?Q(k.num["$-@"](),k.den)["$-@"]().$floor():k.$with_precision("floor",d)},-1),ie(A,"$hash",function(){var d=this;return[p("Rational"),d.num,d.den].$hash()}),ie(A,"$inspect",function(){var d=this;return"("+d+")"}),ie(A,"$rationalize",function(d){var k=this;if(arguments.length>1&&B.$raise(p("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d==null)return k;for(var h=d.$abs(),c=Y(k,h),o=V(k,h),y=0,K=1,_=1,s=0,$,t,e,r,i;e=c.$ceil(),!b(e,o);)r=e-1,$=r*K+y,t=r*s+_,i=Q(1,Y(o,r)),o=Q(1,Y(c,r)),c=i,y=K,_=s,K=$,s=t;return B.$Rational(e*K+y,e*s+_)},-1),ie(A,"$round",function(d){var k=this,h=H,c=H,o=H;return d==null&&(d=0),E(d,0)?E(k.num,0)?0:E(k.den,1)?k.num:(h=V(te(k.num.$abs(),2),k.den),c=te(k.den,2),o=Q(h,c).$truncate(),I(ee(k.num,0))?o["$-@"]():o):k.$with_precision("round",d)},-1),ie(A,"$to_f",function(){var d=this;return Q(d.num,d.den)}),ie(A,"$to_i",function(){var d=this;return d.$truncate()}),ie(A,"$to_r",P),ie(A,"$to_s",function(){var d=this;return""+d.num+"/"+d.den}),ie(A,"$truncate",function(d){var k=this;return d==null&&(d=0),E(d,0)?I(ee(k.num,0))?k.$ceil():k.$floor():k.$with_precision("truncate",d)},-1),ie(A,"$with_precision",function(d,k){var h=this,c=H,o=H;return Z(p("Integer"),k)||B.$raise(p("TypeError"),"not an Integer"),c=10["$**"](k),o=te(h,c),I(ee(k,1))?Q(o.$send(d),c).$to_i():B.$Rational(o.$send(d),c)}),T(A,"$from_string",function(d){var k=d.trimLeft(),h=/^[+-]?[\d_]+(\.[\d_]+)?/;k.match(h);var c,o;function y(){return h.test(k)}function K(){var _=k.match(h),s=_[0];return k=k.slice(s.length),s.replace(/_/g,"")}return y()?(c=parseFloat(K()),k[0]==="/"?(k=k.slice(1),y()?(o=parseFloat(K()),B.$Rational(c,o)):B.$Rational(c,1)):B.$Rational(c,1)):B.$Rational(0,1)}),X(A,"divide","/"),X(A,"quo","/")}("::",p("Numeric"))};Opal.modules["corelib/time"]=function(n){var q=n.slice,E=n.deny_frozen_access,B=n.klass,I=n.Kernel,ee=n.Opal,Q=n.defs,T=n.eqeqeq,Z=n.def,v=n.truthy,L=n.rb_gt,ie=n.rb_lt,J=n.send,Y=n.rb_plus,te=n.rb_divide,V=n.rb_minus,x=n.range,b=n.neqeq,P=n.rb_le,X=n.eqeq,M=n.alias,H=n.top,p=[],z=n.nil,j=n.$$$;return n.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),H.$require("corelib/comparable"),function(A,w,u){var d=B(A,w,"Time"),k=[d].concat(u),h=n.$r(k);d.$include(j("Comparable"));var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],K=["January","February","March","April","May","June","July","August","September","October","November","December"];Q(d,"$at",function($,t){var e;return j("Time")["$==="]($)?(t!==void 0&&I.$raise(j("TypeError"),"can't convert Time into an exact number"),e=new Date($.getTime()),e.timezone=$.timezone,e):($.$$is_number||($=ee["$coerce_to!"]($,j("Integer"),"to_int")),t===void 0?new Date($*1e3):(t.$$is_number||(t=ee["$coerce_to!"](t,j("Integer"),"to_int")),new Date($*1e3+t/1e3)))},-2);function _(s,$,t,e,r,i){if(s.$$is_string?s=parseInt(s,10):s=ee["$coerce_to!"](s,j("Integer"),"to_int"),$===z)$=1;else if(!$.$$is_number)if($["$respond_to?"]("to_str"))switch($=$.$to_str(),$.toLowerCase()){case"jan":$=1;break;case"feb":$=2;break;case"mar":$=3;break;case"apr":$=4;break;case"may":$=5;break;case"jun":$=6;break;case"jul":$=7;break;case"aug":$=8;break;case"sep":$=9;break;case"oct":$=10;break;case"nov":$=11;break;case"dec":$=12;break;default:$=$.$to_i()}else $=ee["$coerce_to!"]($,j("Integer"),"to_int");return($<1||$>12)&&I.$raise(j("ArgumentError"),"month out of range: "+$),$=$-1,t===z?t=1:t.$$is_string?t=parseInt(t,10):t=ee["$coerce_to!"](t,j("Integer"),"to_int"),(t<1||t>31)&&I.$raise(j("ArgumentError"),"day out of range: "+t),e===z?e=0:e.$$is_string?e=parseInt(e,10):e=ee["$coerce_to!"](e,j("Integer"),"to_int"),(e<0||e>24)&&I.$raise(j("ArgumentError"),"hour out of range: "+e),r===z?r=0:r.$$is_string?r=parseInt(r,10):r=ee["$coerce_to!"](r,j("Integer"),"to_int"),(r<0||r>59)&&I.$raise(j("ArgumentError"),"min out of range: "+r),i===z?i=0:i.$$is_number||(i.$$is_string?i=parseInt(i,10):i=ee["$coerce_to!"](i,j("Integer"),"to_int")),(i<0||i>60)&&I.$raise(j("ArgumentError"),"sec out of range: "+i),[s,$,t,e,r,i]}return Q(d,"$new",function($,t,e,r,i,a,l){var g=this;t==null&&(t=z),e==null&&(e=z),r==null&&(r=z),i==null&&(i=z),a==null&&(a=z),l==null&&(l=z);var S,C,R,G;return $===void 0?new Date:(S=_($,t,e,r,i,a),$=S[0],t=S[1],e=S[2],r=S[3],i=S[4],a=S[5],l===z?(C=new Date($,t,e,r,i,0,a*1e3),$<100&&C.setFullYear($),C):(R=g.$_parse_offset(l),G=new Date(Date.UTC($,t,e,r,i,0,a*1e3)),$<100&&G.setUTCFullYear($),C=new Date(G.getTime()-R*36e5),C.timezone=R,C))},-1),Q(d,"$_parse_offset",function($){var t;if($.$$is_string)if($=="UTC")t=0;else if(/^[+-]\d\d:[0-5]\d$/.test($)){var e,r,i;e=$[0],r=+($[1]+$[2]),i=+($[4]+$[5]),t=(e=="-"?-1:1)*(r+i/60)}else I.$raise(j("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+$);else $.$$is_number?t=$/3600:I.$raise(j("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return t}),Q(d,"$local",function($,t,e,r,i,a,l,g,S,C){t==null&&(t=z),e==null&&(e=z),r==null&&(r=z),i==null&&(i=z),a==null&&(a=z),l==null&&(l=z),g==null&&(g=z),S==null&&(S=z),C==null&&(C=z);var R,G;return arguments.length===10&&(R=q(arguments),$=R[5],t=R[4],e=R[3],r=R[2],i=R[1],a=R[0]),R=_($,t,e,r,i,a),$=R[0],t=R[1],e=R[2],r=R[3],i=R[4],a=R[5],G=new Date($,t,e,r,i,0,a*1e3),$<100&&G.setFullYear($),G},-2),Q(d,"$gm",function($,t,e,r,i,a,l,g,S,C){t==null&&(t=z),e==null&&(e=z),r==null&&(r=z),i==null&&(i=z),a==null&&(a=z),l==null&&(l=z),g==null&&(g=z),S==null&&(S=z),C==null&&(C=z);var R,G;return arguments.length===10&&(R=q(arguments),$=R[5],t=R[4],e=R[3],r=R[2],i=R[1],a=R[0]),R=_($,t,e,r,i,a),$=R[0],t=R[1],e=R[2],r=R[3],i=R[4],a=R[5],G=new Date(Date.UTC($,t,e,r,i,0,a*1e3)),$<100&&G.setUTCFullYear($),G.timezone=0,G},-2),Q(d,"$now",function(){var $=this;return $.$new()}),Z(d,"$+",function($){var t=this;T(j("Time"),$)&&I.$raise(j("TypeError"),"time + time?"),$.$$is_number||($=ee["$coerce_to!"]($,j("Integer"),"to_int"));var e=new Date(t.getTime()+$*1e3);return e.timezone=t.timezone,e}),Z(d,"$-",function($){var t=this;if(T(j("Time"),$))return(t.getTime()-$.getTime())/1e3;$.$$is_number||($=ee["$coerce_to!"]($,j("Integer"),"to_int"));var e=new Date(t.getTime()-$*1e3);return e.timezone=t.timezone,e}),Z(d,"$<=>",function($){var t=this,e=z;return T(j("Time"),$)?t.$to_f()["$<=>"]($.$to_f()):(e=$["$<=>"](t),v(e["$nil?"]())?z:v(L(e,0))?-1:v(ie(e,0))?1:0)}),Z(d,"$==",function($){var t=this,e=z;return v(e=j("Time")["$==="]($))?t.$to_f()===$.$to_f():e}),Z(d,"$asctime",function(){var $=this;return $.$strftime("%a %b %e %H:%M:%S %Y")}),J([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function s($,t,e,r){var i=s.$$s==null?this:s.$$s;return $==null&&($=z),t==null&&(t=z),e==null&&(e=z),r==null&&(r=0),J(i,"define_method",[$],function a(){var l=a.$$s==null?this:a.$$s;return r+(l.timezone!=null?new Date(l.getTime()+l.timezone*36e5)[e]():l[t]())},{$$s:i})},{$$arity:-4,$$s:d}),Z(d,"$yday",function(){var $=this,t=z,e=z,r=z;return t=h("Time").$new($.$year()).$to_i(),e=h("Time").$new($.$year(),$.$month(),$.$day()).$to_i(),r=86400,Y(te(V(e,t),r).$round(),1)}),Z(d,"$isdst",function(){var $=this,t=new Date($.getFullYear(),0,1),e=new Date($.getFullYear(),6,1);return $.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())}),Z(d,"$dup",function(){var $=this,t=z;return t=new Date($.getTime()),t.$copy_instance_variables($),t.$initialize_dup($),t}),Z(d,"$eql?",function($){var t=this,e=z;return v(e=$["$is_a?"](j("Time")))?t["$<=>"]($)["$zero?"]():e}),J([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function s($,t){var e=s.$$s==null?this:s.$$s;return $==null&&($=z),t==null&&(t=z),J(e,"define_method",[$],function r(){var i=r.$$s==null?this:r.$$s;return i.$wday()===t},{$$s:e})},{$$s:d}),Z(d,"$hash",function(){var $=this;return[j("Time"),$.getTime()].$hash()}),Z(d,"$inspect",function(){var $=this;return v($["$utc?"]())?$.$strftime("%Y-%m-%d %H:%M:%S UTC"):$.$strftime("%Y-%m-%d %H:%M:%S %z")}),Z(d,"$succ",function(){var $=this,t=new Date($.getTime()+1e3);return t.timezone=$.timezone,t}),Z(d,"$usec",function(){var $=this;return $.getMilliseconds()*1e3}),Z(d,"$zone",function(){var $=this;if($.timezone===0)return"UTC";if($.timezone!=null)return z;var t=$.toString(),e;return t.indexOf("(")==-1?e=t.match(/[A-Z]{3,4}/)[0]:e=t.match(/\((.+)\)(?:\s|$)/)[1],e=="GMT"&&/(GMT\W*\d{4})/.test(t)?RegExp.$1:e}),Z(d,"$getgm",function(){var $=this,t=new Date($.getTime());return t.timezone=0,t}),Z(d,"$gmtime",function(){var $=this;return $.timezone!==0&&(E($),$.timezone=0),$}),Z(d,"$gmt?",function(){var $=this;return $.timezone===0}),Z(d,"$gmt_offset",function(){var $=this;return $.timezone!=null?$.timezone*60:-$.getTimezoneOffset()*60}),Z(d,"$strftime",function($){var t=this;return $.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,r,i,a,l){var g="",S,C,R,G=r.indexOf("0")!==-1,O=r.indexOf("-")===-1,ae=r.indexOf("_")!==-1,oe=r.indexOf("^")!==-1,_e=r.indexOf("#")!==-1,de=(r.match(":")||[]).length;switch(i=parseInt(i,10),G&&ae&&(r.indexOf("0")<r.indexOf("_")?G=!1:ae=!1),l){case"Y":g+=t.$year();break;case"C":G=!ae,g+=Math.round(t.$year()/100);break;case"y":G=!ae,g+=t.$year()%100;break;case"m":G=!ae,g+=t.$mon();break;case"B":g+=K[t.$mon()-1];break;case"b":case"h":ae=!G,g+=y[t.$mon()-1];break;case"d":G=!ae,g+=t.$day();break;case"e":ae=!G,g+=t.$day();break;case"j":G=!ae,i=isNaN(i)?3:i,g+=t.$yday();break;case"H":G=!ae,g+=t.$hour();break;case"k":ae=!G,g+=t.$hour();break;case"I":G=!ae,g+=t.$hour()%12||12;break;case"l":ae=!G,g+=t.$hour()%12||12;break;case"P":g+=t.$hour()>=12?"pm":"am";break;case"p":g+=t.$hour()>=12?"PM":"AM";break;case"M":G=!ae,g+=t.$min();break;case"S":G=!ae,g+=t.$sec();break;case"L":G=!ae,i=isNaN(i)?3:i,g+=t.getMilliseconds();break;case"N":i=isNaN(i)?9:i,g+=t.getMilliseconds().toString().$rjust(3,"0"),g=g.$ljust(i,"0");break;case"z":var ge=t.timezone==null?t.getTimezoneOffset():-t.timezone*60,ve=Math.floor(Math.abs(ge)/60),me=Math.abs(ge)%60;g+=ge<0?"+":"-",g+=ve<10?"0":"",g+=ve,de>0&&(g+=":"),g+=me<10?"0":"",g+=me,de>1&&(g+=":00");break;case"Z":g+=t.$zone();break;case"A":g+=c[t.$wday()];break;case"a":g+=o[t.$wday()];break;case"u":g+=t.$wday()+1;break;case"w":g+=t.$wday();break;case"V":g+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":g+=t.$cweek_cyear()["$[]"](1);break;case"g":g+=t.$cweek_cyear()["$[]"](1)["$[]"](x(-2,-1,!1));break;case"s":g+=t.$to_i();break;case"n":g+=`
`;break;case"t":g+="	";break;case"%":g+="%";break;case"c":g+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":g+=t.$strftime("%m/%d/%y");break;case"F":g+=t.$strftime("%Y-%m-%d");break;case"v":g+=t.$strftime("%e-%^b-%4Y");break;case"r":g+=t.$strftime("%I:%M:%S %p");break;case"R":g+=t.$strftime("%H:%M");break;case"T":case"X":g+=t.$strftime("%H:%M:%S");break;case"J":if(S=t.$to_date().$jd(),S<2405160){g+=t.$strftime("%Y-%m-%d");break}else S<2419614?(C="M",R=1867):S<2424875?(C="T",R=1911):S<2447535?(C="S",R=1925):S<2458605?(C="H",R=1988):(C="R",R=2018);g+=t.$format("%c%02d",C,V(t.$year(),R)),g+=t.$strftime("-%m-%d");break;default:return e}return oe&&(g=g.toUpperCase()),_e&&(g=g.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),O&&(G||ae)&&(g=g.$rjust(isNaN(i)?2:i,ae?" ":"0")),g})}),Z(d,"$to_a",function(){var $=this;return[$.$sec(),$.$min(),$.$hour(),$.$day(),$.$month(),$.$year(),$.$wday(),$.$yday(),$.$isdst(),$.$zone()]}),Z(d,"$to_f",function(){var $=this;return $.getTime()/1e3}),Z(d,"$to_i",function(){var $=this;return parseInt($.getTime()/1e3,10)}),Z(d,"$cweek_cyear",function(){var $=this,t=z,e=z,r=z,i=z,a=z,l=z,g=z;return t=j("Time").$new($.$year(),1,1),e=t.$wday(),r=$.$year(),v(P(e,4))&&b(e,0)?i=V(e,1):(i=V(V(e,7),1),X(i,-8)&&(i=-1)),a=te(Y($.$yday(),i),7).$ceil(),v(P(a,0))?j("Time").$new(V($.$year(),1),12,31).$cweek_cyear():(X(a,53)&&(l=j("Time").$new($.$year(),12,31),g=l.$wday(),v(P(g,3))&&b(g,0)&&(a=1,r=Y(r,1))),[a,r])}),function(s,$){return M(s,"mktime","local"),M(s,"utc","gm")}(n.get_singleton_class(d)),M(d,"ctime","asctime"),M(d,"dst?","isdst"),M(d,"getutc","getgm"),M(d,"gmtoff","gmt_offset"),M(d,"mday","day"),M(d,"month","mon"),M(d,"to_s","inspect"),M(d,"tv_sec","to_i"),M(d,"tv_usec","usec"),M(d,"utc","gmtime"),M(d,"utc?","gmt?"),M(d,"utc_offset","gmt_offset")}("::",Date,p)};Opal.modules["corelib/struct"]=function(n){var q=n.klass,E=n.slice,B=n.extract_kwargs,I=n.ensure_kwargs,ee=n.hash_get,Q=n.truthy,T=n.neqeq,Z=n.eqeq,v=n.Opal,L=n.send,ie=n.Class,J=n.to_a,Y=n.def,te=n.defs,V=n.Kernel,x=n.rb_gt,b=n.rb_minus,P=n.eqeqeq,X=n.rb_lt,M=n.rb_ge,H=n.rb_plus,p=n.alias,z=n.top,j=[],A=n.nil,w=n.$$$;return n.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),z.$require("corelib/enumerable"),function(u,d,k){var h=q(u,d,"Struct"),c=[h].concat(k),o=n.$r(c);h.$include(w("Enumerable")),te(h,"$new",function K(_,s,$){var t=K.$$p||A,e,r,i,a,l=this,g=A;if(K.$$p=null,e=E(arguments,1),r=B(e),r=I(r),i=e,a=ee(r,"keyword_init"),a==null&&(a=!1),Q(_))if(Z(_.$class(),w("String"))&&T(_["$[]"](0).$upcase(),_["$[]"](0)))i.$unshift(_),_=A;else try{_=v["$const_name!"](_)}catch(S){if(n.rescue(S,[w("TypeError"),w("NameError")]))try{i.$unshift(_),_=A}finally{n.pop_exception(S)}else throw S}return L(i,"map",[],function(C){return C==null&&(C=A),v["$coerce_to!"](C,w("String"),"to_str")}),g=L(ie,"new",[l],function S(){var C=S.$$s==null?this:S.$$s;return L(i,"each",[],function R(G){var O=R.$$s==null?this:R.$$s;return G==null&&(G=A),O.$define_struct_attribute(G)},{$$s:C}),function(R,G){return Y(R,"$new",function(ae){var oe,_e,de=this,ge=A;return oe=E(arguments),_e=oe,ge=de.$allocate(),ge.$$data={},L(ge,"initialize",J(_e)),ge},-1),R.$alias_method("[]","new")}(n.get_singleton_class(C))},{$$s:l}),Q(t)&&L(g,"module_eval",[],t.$to_proc()),g.$$keyword_init=a,Q(_)&&w("Struct").$const_set(_,g),g},-2),te(h,"$define_struct_attribute",function(_){var s=this;return Z(s,w("Struct"))&&V.$raise(w("ArgumentError"),"you cannot define attributes to the Struct class"),s.$members()["$<<"](_),L(s,"define_method",[_],function $(){var t=$.$$s==null?this:$.$$s;return t.$$data[_]},{$$s:s}),L(s,"define_method",[""+_+"="],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=A),e.$$data[_]=t},{$$s:s})}),te(h,"$members",function(){var _=this,s=A;return _.members==null&&(_.members=A),Z(_,w("Struct"))&&V.$raise(w("ArgumentError"),"the Struct class has no members"),_.members=Q(s=_.members)?s:[]}),te(h,"$inherited",function(_){var s=this,$=A;return s.members==null&&(s.members=A),$=s.members,L(_,"instance_eval",[],function t(){var e=t.$$s==null?this:t.$$s;return e.members=$},{$$s:s})}),Y(h,"$initialize",function(_){var s,$,t=this,e=A,r=A,i=A;return s=E(arguments),$=s,Q(t.$class().$$keyword_init)?(e=Q(r=$.$last())?r:new Map,(Q(x($.$length(),1))||Q($.length===1&&!e.$$is_hash))&&V.$raise(w("ArgumentError"),"wrong number of arguments (given "+$.$length()+", expected 0)"),i=b(e.$keys(),t.$class().$members()),Q(i["$any?"]())&&V.$raise(w("ArgumentError"),"unknown keywords: "+i.$join(", ")),L(t.$class().$members(),"each",[],function a(l){var g,S=a.$$s==null?this:a.$$s;return l==null&&(l=A),g=[l,e["$[]"](l)],L(S,"[]=",g),g[g.length-1]},{$$s:t})):(Q(x($.$length(),t.$class().$members().$length()))&&V.$raise(w("ArgumentError"),"struct size differs"),L(t.$class().$members(),"each_with_index",[],function a(l,g){var S,C=a.$$s==null?this:a.$$s;return l==null&&(l=A),g==null&&(g=A),S=[l,$["$[]"](g)],L(C,"[]=",S),S[S.length-1]},{$$s:t}))},-1),Y(h,"$initialize_copy",function(_){var s=this;s.$$data={};var $=Object.keys(_.$$data),t,e,r;for(t=0,e=$.length;t<e;t++)r=$[t],s.$$data[r]=_.$$data[r]}),te(h,"$keyword_init?",function(){var _=this;return _.$$keyword_init}),Y(h,"$members",function(){var _=this;return _.$class().$members()}),Y(h,"$hash",function(){var _=this;return[_.$class(),_.$to_a()].$hash()}),Y(h,"$[]",function(_){var s=this;return P(w("Integer"),_)?(Q(X(_,s.$class().$members().$size()["$-@"]()))&&V.$raise(w("IndexError"),"offset "+_+" too small for struct(size:"+s.$class().$members().$size()+")"),Q(M(_,s.$class().$members().$size()))&&V.$raise(w("IndexError"),"offset "+_+" too large for struct(size:"+s.$class().$members().$size()+")"),_=s.$class().$members()["$[]"](_)):P(w("String"),_)?s.$$data.hasOwnProperty(_)||V.$raise(w("NameError").$new("no member '"+_+"' in struct",_)):V.$raise(w("TypeError"),"no implicit conversion of "+_.$class()+" into Integer"),_=v["$coerce_to!"](_,w("String"),"to_str"),s.$$data[_]}),Y(h,"$[]=",function(_,s){var $=this;return P(w("Integer"),_)?(Q(X(_,$.$class().$members().$size()["$-@"]()))&&V.$raise(w("IndexError"),"offset "+_+" too small for struct(size:"+$.$class().$members().$size()+")"),Q(M(_,$.$class().$members().$size()))&&V.$raise(w("IndexError"),"offset "+_+" too large for struct(size:"+$.$class().$members().$size()+")"),_=$.$class().$members()["$[]"](_)):P(w("String"),_)?Q($.$class().$members()["$include?"](_.$to_sym()))||V.$raise(w("NameError").$new("no member '"+_+"' in struct",_)):V.$raise(w("TypeError"),"no implicit conversion of "+_.$class()+" into Integer"),_=v["$coerce_to!"](_,w("String"),"to_str"),$.$$data[_]=s}),Y(h,"$==",function(_){var s=this;if(!Q(_["$instance_of?"](s.$class())))return!1;var $={},t={};function e(r,i){var a,l,g;$[r.$__id__()]=!0,t[i.$__id__()]=!0;for(a in r.$$data)if(l=r.$$data[a],g=i.$$data[a],w("Struct")["$==="](l)){if((!$.hasOwnProperty(l.$__id__())||!t.hasOwnProperty(g.$__id__()))&&!e(l,g))return!1}else if(!l["$=="](g))return!1;return!0}return e(s,_)}),Y(h,"$eql?",function(_){var s=this;if(!Q(_["$instance_of?"](s.$class())))return!1;var $={},t={};function e(r,i){var a,l,g;$[r.$__id__()]=!0,t[i.$__id__()]=!0;for(a in r.$$data)if(l=r.$$data[a],g=i.$$data[a],w("Struct")["$==="](l)){if((!$.hasOwnProperty(l.$__id__())||!t.hasOwnProperty(g.$__id__()))&&!e(l,g))return!1}else if(!l["$eql?"](g))return!1;return!0}return e(s,_)}),Y(h,"$each",function K(){var _=K.$$p||A,s=this;return K.$$p=null,_===A?L(s,"enum_for",["each"],function $(){var t=$.$$s==null?this:$.$$s;return t.$size()},{$$s:s}):(L(s.$class().$members(),"each",[],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=A),n.yield1(_,e["$[]"](t))},{$$s:s}),s)}),Y(h,"$each_pair",function K(){var _=K.$$p||A,s=this;return K.$$p=null,_===A?L(s,"enum_for",["each_pair"],function $(){var t=$.$$s==null?this:$.$$s;return t.$size()},{$$s:s}):(L(s.$class().$members(),"each",[],function $(t){var e=$.$$s==null?this:$.$$s;return t==null&&(t=A),n.yield1(_,[t,e["$[]"](t)])},{$$s:s}),s)}),Y(h,"$length",function(){var _=this;return _.$class().$members().$length()}),Y(h,"$to_a",function(){var _=this;return L(_.$class().$members(),"map",[],function s($){var t=s.$$s==null?this:s.$$s;return $==null&&($=A),t["$[]"]($)},{$$s:_})});var y=[];return Y(h,"$inspect",function(){var _=this,s=A,$=A;return function(){try{return s="#<struct ",Q(y["$include?"](_.$__id__()))?H(s,":...>"):(y["$<<"](_.$__id__()),$=!0,P(w("Struct"),_)&&Q(_.$class().$name())&&(s=H(s,""+_.$class()+" ")),s=H(s,L(_.$each_pair(),"map",[],function(e,r){return e==null&&(e=A),r==null&&(r=A),""+e+"="+o("Opal").$inspect(r)}).$join(", ")),s=H(s,">"),s)}finally{Q($)&&y.pop()}}()}),Y(h,"$to_h",function K(_){var s=K.$$p||A,$,t,e=this;return K.$$p=null,$=E(arguments),t=$,s!==A?L(L(e,"map",[],s.$to_proc()),"to_h",J(t)):L(e.$class().$members(),"each_with_object",[new Map],function r(i,a){var l,g=r.$$s==null?this:r.$$s;return i==null&&(i=A),a==null&&(a=A),l=[i,g["$[]"](i)],L(a,"[]=",l),l[l.length-1]},{$$s:e})},-1),Y(h,"$values_at",function(_){var s,$,t=this;s=E(arguments),$=s,$=L($,"map",[],function(l){return l==null&&(l=A),l.$$is_range?l.$to_a():l}).$flatten();for(var e=[],r=0,i=$.length;r<i;r++)$[r].$$is_number||V.$raise(w("TypeError"),"no implicit conversion of "+$[r].$class()+" into Integer"),e.push(t["$[]"]($[r]));return e},-1),Y(h,"$dig",function(_,s){var $,t,e=this,r=A;return $=E(arguments,1),t=$,r=Q(_.$$is_string&&e.$$data.hasOwnProperty(_))&&e.$$data[_]||A,r===A||t.length===0?r:(Q(r["$respond_to?"]("dig"))||V.$raise(w("TypeError"),""+r.$class()+" does not have #dig method"),L(r,"dig",J(t)))},-2),p(h,"size","length"),p(h,"to_s","inspect"),p(h,"values","to_a")}("::",null,j)};Opal.modules["corelib/set"]=function(n){var q=n.freeze,E=n.klass,B=n.slice,I=n.defs,ee=n.truthy,Q=n.eqeqeq,T=n.Kernel,Z=n.send,v=n.def,L=n.eqeq,ie=n.rb_lt,J=n.rb_le,Y=n.alias,te=[],V=n.nil,x=n.$$$;return n.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(b,P,X){var M=E(b,P,"Set"),H=[M].concat(X),p=n.$r(H),z=V,j=M.$$prototype;j.hash=V,M.$include(x("Enumerable")),I(M,"$[]",function(u){var d,k,h=this;return d=B(arguments),k=d,h.$new(k)},-1),v(M,"$initialize",function w(u){var d=w.$$p||V,k=this;return w.$$p=null,u==null&&(u=V),k.hash=new Map,ee(u["$nil?"]())?V:(Q(x("Enumerable"),u)||T.$raise(x("ArgumentError"),"value must be enumerable"),ee(d)?Z(u,"each",[],function h(c){var o=h.$$s==null?this:h.$$s;return c==null&&(c=V),o.$add(n.yield1(d,c))},{$$s:k}):k.$merge(u))},-1),v(M,"$dup",function(){var u=this,d=V;return d=u.$class().$new(),d.$merge(u)}),v(M,"$-",function(u){var d=this;return ee(u["$respond_to?"]("each"))||T.$raise(x("ArgumentError"),"value must be enumerable"),d.$dup().$subtract(u)}),v(M,"$inspect",function(){var u=this;return"#<Set: {"+u.$to_a().$join(",")+"}>"}),v(M,"$==",function(u){var d=this;return ee(d["$equal?"](u))?!0:ee(u["$instance_of?"](d.$class()))?d.hash["$=="](u.$instance_variable_get("@hash")):ee(u["$is_a?"](x("Set")))&&L(d.$size(),u.$size())?Z(u,"all?",[],function k(h){var c=k.$$s==null?this:k.$$s;return c.hash==null&&(c.hash=V),h==null&&(h=V),c.hash["$include?"](h)},{$$s:d}):!1}),v(M,"$add",function(u){var d=this;return d.hash["$[]="](u,!0),d}),v(M,"$classify",function w(){var u=w.$$p||V,d=this,k=V;return w.$$p=null,u===V?d.$enum_for("classify"):(k=Z(x("Hash"),"new",[],function h(c,o){var y,K=h.$$s==null?this:h.$$s;return c==null&&(c=V),o==null&&(o=V),y=[o,K.$class().$new()],Z(c,"[]=",y),y[y.length-1]},{$$s:d}),Z(d,"each",[],function(c){return c==null&&(c=V),k["$[]"](n.yield1(u,c)).$add(c)}),k)}),v(M,"$collect!",function w(){var u=w.$$p||V,d=this,k=V;return w.$$p=null,u===V?d.$enum_for("collect!"):(k=d.$class().$new(),Z(d,"each",[],function(c){return c==null&&(c=V),k["$<<"](n.yield1(u,c))}),d.$replace(k))}),v(M,"$compare_by_identity",function(){var u=this;return ee(u.hash["$respond_to?"]("compare_by_identity"))?(u.hash.$compare_by_identity(),u):u.$raise(p("NotImplementedError"),""+u.$class().$name()+"#compare_by_identity is not implemented")}),v(M,"$compare_by_identity?",function(){var u=this,d=V;return ee(d=u.hash["$respond_to?"]("compare_by_identity?"))?u.hash["$compare_by_identity?"]():d}),v(M,"$delete",function(u){var d=this;return d.hash.$delete(u),d}),v(M,"$delete?",function(u){var d=this;return ee(d["$include?"](u))?(d.$delete(u),d):V}),v(M,"$delete_if",function w(){var u=w.$$p||V,d=this;return w.$$p=null,u===V?d.$enum_for("delete_if"):(Z(Z(d,"select",[],function(h){return h==null&&(h=V),n.yield1(u,h)}),"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return c.hash==null&&(c.hash=V),h==null&&(h=V),c.hash.$delete(h)},{$$s:d}),d)}),v(M,"$freeze",function(){var u=this;return ee(u["$frozen?"]())?u:(u.hash.$freeze(),q(u))}),v(M,"$keep_if",function w(){var u=w.$$p||V,d=this;return w.$$p=null,u===V?d.$enum_for("keep_if"):(Z(Z(d,"reject",[],function(h){return h==null&&(h=V),n.yield1(u,h)}),"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return c.hash==null&&(c.hash=V),h==null&&(h=V),c.hash.$delete(h)},{$$s:d}),d)}),v(M,"$reject!",function w(){var u=w.$$p||V,d=this,k=V;return w.$$p=null,u===V?d.$enum_for("reject!"):(k=d.$size(),Z(d,"delete_if",[],u.$to_proc()),L(d.$size(),k)?V:d)}),v(M,"$select!",function w(){var u=w.$$p||V,d=this,k=V;return w.$$p=null,u===V?d.$enum_for("select!"):(k=d.$size(),Z(d,"keep_if",[],u.$to_proc()),L(d.$size(),k)?V:d)}),v(M,"$add?",function(u){var d=this;return ee(d["$include?"](u))?V:d.$add(u)}),v(M,"$each",function w(){var u=w.$$p||V,d=this;return w.$$p=null,u===V?d.$enum_for("each"):(Z(d.hash,"each_key",[],u.$to_proc()),d)}),v(M,"$empty?",function(){var u=this;return u.hash["$empty?"]()}),v(M,"$eql?",function(u){var d=this;return d.hash["$eql?"](Z(u,"instance_eval",[],function k(){var h=k.$$s==null?this:k.$$s;return h.hash==null&&(h.hash=V),h.hash},{$$s:d}))}),v(M,"$clear",function(){var u=this;return u.hash.$clear(),u}),v(M,"$include?",function(u){var d=this;return d.hash["$include?"](u)}),v(M,"$merge",function(u){var d=this;return Z(u,"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=V),c.$add(h)},{$$s:d}),d}),v(M,"$replace",function(u){var d=this;return d.$clear(),d.$merge(u),d}),v(M,"$size",function(){var u=this;return u.hash.$size()}),v(M,"$subtract",function(u){var d=this;return Z(u,"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=V),c.$delete(h)},{$$s:d}),d}),v(M,"$|",function(u){var d=this;return ee(u["$respond_to?"]("each"))||T.$raise(x("ArgumentError"),"value must be enumerable"),d.$dup().$merge(u)});function A(w){ee(z=w["$is_a?"](x("Set")))||T.$raise(x("ArgumentError"),"value must be a set")}return v(M,"$superset?",function(u){var d=this;return A(u),ee(ie(d.$size(),u.$size()))?!1:Z(u,"all?",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=V),c["$include?"](h)},{$$s:d})}),v(M,"$proper_superset?",function(u){var d=this;return A(u),ee(J(d.$size(),u.$size()))?!1:Z(u,"all?",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=V),c["$include?"](h)},{$$s:d})}),v(M,"$subset?",function(u){var d=this;return A(u),ee(ie(u.$size(),d.$size()))?!1:Z(d,"all?",[],function(h){return h==null&&(h=V),u["$include?"](h)})}),v(M,"$proper_subset?",function(u){var d=this;return A(u),ee(J(u.$size(),d.$size()))?!1:Z(d,"all?",[],function(h){return h==null&&(h=V),u["$include?"](h)})}),v(M,"$intersect?",function(u){var d=this;return A(u),ee(ie(d.$size(),u.$size()))?Z(d,"any?",[],function(h){return h==null&&(h=V),u["$include?"](h)}):Z(u,"any?",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=V),c["$include?"](h)},{$$s:d})}),v(M,"$disjoint?",function(u){var d=this;return d["$intersect?"](u)["$!"]()}),v(M,"$to_a",function(){var u=this;return u.hash.$keys()}),Y(M,"+","|"),Y(M,"<","proper_subset?"),Y(M,"<<","add"),Y(M,"<=","subset?"),Y(M,">","proper_superset?"),Y(M,">=","superset?"),Y(M,"difference","-"),Y(M,"filter!","select!"),Y(M,"length","size"),Y(M,"map!","collect!"),Y(M,"member?","include?"),Y(M,"union","|")}("::",null,te)};Opal.modules["corelib/dir"]=function(n){var q=n.klass,E=n.def,B=n.truthy,I=n.alias,ee=n.nil,Q=n.$$$;return n.add_stubs("[],pwd"),function(T,Z,v){var L=q(T,Z,"Dir");return function(ie,J){return E(ie,"$chdir",function Y(te){var V=Y.$$p||ee,x=ee;return Y.$$p=null,function(){try{return x=n.current_dir,n.current_dir=te,n.yieldX(V,[])}finally{n.current_dir=x}}()}),E(ie,"$pwd",function(){return n.current_dir||"."}),E(ie,"$home",function(){var te=ee;return B(te=Q("ENV")["$[]"]("HOME"))?te:"."}),I(ie,"getwd","pwd")}(n.get_singleton_class(L))}("::",null)};Opal.modules["corelib/file"]=function(n){var q=n.truthy,E=n.klass,B=n.const_set,I=n.Opal,ee=n.regexp,Q=n.rb_plus,T=n.def,Z=n.Kernel,v=n.eqeq,L=n.rb_lt,ie=n.rb_minus,J=n.range,Y=n.send,te=n.slice,V=n.alias,x=[],b=n.nil,P=n.$$$;return n.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(X,M,H){var p=E(X,M,"File"),z=[p].concat(H),j=b;return B(z[0],"Separator",B(z[0],"SEPARATOR","/")),B(z[0],"ALT_SEPARATOR",b),B(z[0],"PATH_SEPARATOR",":"),B(z[0],"FNM_SYSCASE",0),j=/^[a-zA-Z]:(?:\\|\/)/,function(A,w){var u=[A].concat(w),d=n.$r(u);T(A,"$absolute_path",function(o,y){var K=b,_=b,s=b,$=b,t=b,e=b,r=b,i=b,a=b,l=b;y==null&&(y=b),K=d("SEPARATOR"),_=h(),s=[],o=q(o["$respond_to?"]("to_path"))?o.$to_path():o,o=I["$coerce_to!"](o,P("String"),"to_str"),y=q($=y)?$:P("Dir").$pwd(),t=o.substr(0,K.length)===K||j.test(o),e=y.substr(0,K.length)===K||j.test(y),q(t)?(r=o.$split(ee(["[",_,"]"])),i=j.test(o)?"":o.$sub(ee(["^([",_,"]+).*$"]),"\\1"),a=!0):(r=Q(y.$split(ee(["[",_,"]"])),o.$split(ee(["[",_,"]"]))),i=j.test(y)?"":y.$sub(ee(["^([",_,"]+).*$"]),"\\1"),a=e);for(var g,S=0,C=r.length;S<C;S++)g=r[S],!(g===b||g===""&&(s.length===0||a)||g==="."&&(s.length===0||a))&&(g===".."?s.pop():s.push(g));return!a&&r[0]!=="."&&s.$unshift("."),l=s.$join(K),q(a)&&(l=Q(i,l)),l},-2),T(A,"$expand_path",function(o,y){var K=this,_=b,s=b,$=b,t=b,e=b;return y==null&&(y=b),_=d("SEPARATOR"),s=h(),q(o[0]==="~"||y&&y[0]==="~")&&($=d("Dir").$home(),q($)||Z.$raise(P("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),t=j.test($)?"":$.$sub(ee(["^([",s,"]+).*$"]),"\\1"),q($["$start_with?"](t))||Z.$raise(P("ArgumentError"),"non-absolute home"),$=Q($,_),e=ee(["^\\~(?:",_,"|$)"]),o=o.$sub(e,$),q(y)&&(y=y.$sub(e,$))),K.$absolute_path(o,y)},-2);function k(c){return q(c["$respond_to?"]("to_path"))&&(c=c.$to_path()),c=I["$coerce_to!"](c,P("String"),"to_str"),c}function h(){return d("ALT_SEPARATOR")===b?n.escape_regexp(d("SEPARATOR")):n.escape_regexp(Q(d("SEPARATOR"),d("ALT_SEPARATOR")))}return T(A,"$dirname",function(o,y){var K=this,_=b;if(y==null&&(y=1),v(y,0))return o;q(L(y,0))&&Z.$raise(P("ArgumentError"),"level can't be negative"),_=h(),o=k(o);var s=o.match(new RegExp("^["+_+"]")),$;return o=o.replace(new RegExp("["+_+"]+$"),""),o=o.replace(new RegExp("[^"+_+"]+$"),""),o=o.replace(new RegExp("["+_+"]+$"),""),o===""?$=s?"/":".":$=o,y==1?$:K.$dirname($,ie(y,1))},-2),T(A,"$basename",function(o,y){var K=b;return y==null&&(y=b),K=h(),o=k(o),o.length==0||(y!==b?y=I["$coerce_to!"](y,P("String"),"to_str"):y=null,o=o.replace(new RegExp("(.)["+K+"]*$"),"$1"),o=o.replace(new RegExp("^(?:.*["+K+"])?([^"+K+"]+)$"),"$1"),y===".*"?o=o.replace(/\.[^\.]+$/,""):y!==null&&(y=n.escape_regexp(y),o=o.replace(new RegExp(""+y+"$"),""))),o},-2),T(A,"$extname",function(o){var y=this,K=b,_=b;return o=k(o),K=y.$basename(o),q(K["$empty?"]())||(_=K["$[]"](J(1,-1,!1)).$rindex("."),q(_["$nil?"]())||v(Q(_,1),ie(K.$length(),1)))?"":K["$[]"](n.Range.$new(Q(_,1),-1,!1))}),T(A,"$exist?",function(o){return n.modules[o]!=null}),T(A,"$directory?",function(o){var y=b;y=[];for(var K in n.modules)y.push(K);return o=o.$gsub(ee(["(^.",d("SEPARATOR"),"+|",d("SEPARATOR"),"+$)"])),Y(y,"find",[],function(s){return s==null&&(s=b),s["$=~"](ee(["^",o]))})}),T(A,"$join",function(o){var y,K,_=b;return y=te(arguments),K=y,q(K["$empty?"]())?"":(_="",K=Y(K.$flatten().$each_with_index(),"map",[],function($,t){return $==null&&($=b),t==null&&(t=b),v(t,0)&&q($["$empty?"]())||v(K.$length(),Q(t,1))&&q($["$empty?"]())?d("SEPARATOR"):$}),K=Y(K,"reject",[],"empty?".$to_proc()),Y(K,"each_with_index",[],function($,t){var e=b;return $==null&&($=b),t==null&&(t=b),e=K["$[]"](Q(t,1)),q(e["$nil?"]())?_=""+_+$:(q($["$end_with?"](d("SEPARATOR")))&&q(e["$start_with?"](d("SEPARATOR")))&&($=$.$sub(ee([d("SEPARATOR"),"+$"]),"")),_=q($["$end_with?"](d("SEPARATOR")))||q(e["$start_with?"](d("SEPARATOR")))?""+_+$:""+_+$+d("SEPARATOR"))}),_)},-1),T(A,"$split",function(o){return o.$split(d("SEPARATOR"))}),V(A,"realpath","expand_path"),V(A,"exists?","exist?")}(n.get_singleton_class(p),z)}("::",P("IO"),x)};Opal.modules["corelib/process/base"]=function(n){var q=n.klass,E=n.slice,B=n.defs,I=n.return_val,ee=n.nil;return function(Q,T){var Z=q(Q,T,"Signal");return B(Z,"$trap",function(L){return E(arguments),ee},-1)}("::",null),function(Q,T){var Z=q(Q,T,"GC");return B(Z,"$start",I(ee))}("::",null)};Opal.modules["corelib/process"]=function(n){var q=n.module,E=n.defs,B=n.truthy,I=n.return_val,ee=n.Kernel,Q=n.nil,T=n.$$$;return n.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(Z){var v=q(Z,"Process"),L=Q;if(v.__clocks__=[],E(v,"$__register_clock__",function(Y,te){var V=this;return V.__clocks__==null&&(V.__clocks__=Q),V.$const_set(Y,V.__clocks__.$size()),V.__clocks__["$<<"](te)}),v.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),L=!1,n.global.performance)L=function(){return performance.now()};else if(n.global.process&&process.hrtime){var ie=process.hrtime();L=function(){var J=process.hrtime(ie),Y=J[1]/1e3|0;return J[0]*1e3+Y/1e3}}return B(L)&&v.$__register_clock__("CLOCK_MONOTONIC",L),E(v,"$pid",I(0)),E(v,"$times",function(){var Y=Q;return Y=T("Time").$now().$to_f(),T(T("Benchmark"),"Tms").$new(Y,Y,Y,Y,Y)}),E(v,"$clock_gettime",function(Y,te){var V=this,x=Q;V.__clocks__==null&&(V.__clocks__=Q),te==null&&(te="float_second"),B(x=V.__clocks__["$[]"](Y))||ee.$raise(T(T("Errno"),"EINVAL"),"clock_gettime("+Y+") "+V.__clocks__["$[]"](Y));var b=x();switch(te){case"float_second":return b/1e3;case"float_millisecond":return b/1;case"float_microsecond":return b*1e3;case"second":return b/1e3|0;case"millisecond":return b/1|0;case"microsecond":return b*1e3|0;case"nanosecond":return b*1e6|0;default:ee.$raise(T("ArgumentError"),"unexpected unit: "+te)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(n){var q=n.klass,E=n.module,B=n.def,I=n.range,ee=n.send,Q=n.rb_divide,T=n.Kernel,Z=n.Opal,v=[],L=n.nil,ie=n.$$$;return n.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(J,Y,te){var V=q(J,Y,"Random"),x=[V].concat(te);return function(b,P){var X=E(b,"Formatter"),M=[X].concat(P),H=n.$r(M);return B(X,"$hex",function(z){var j=this;z==null&&(z=L),z=ie("Random").$_verify_count(z);for(var A=j.$bytes(z),w="",u=0;u<z;u++)w+=A.charCodeAt(u).toString(16).padStart(2,"0");return w.$encode("US-ASCII")},-1),B(X,"$random_bytes",function(z){var j=this;return z==null&&(z=L),j.$bytes(z)},-1),B(X,"$base64",function(z){var j=this;return z==null&&(z=L),ie("Base64").$strict_encode64(j.$random_bytes(z)).$encode("US-ASCII")},-1),B(X,"$urlsafe_base64",function(z,j){var A=this;return z==null&&(z=L),j==null&&(j=!1),ie("Base64").$urlsafe_encode64(A.$random_bytes(z),j).$encode("US-ASCII")},-1),B(X,"$uuid",function(){var z=this,j=L;return j=z.$hex(16).$split(""),j["$[]="](12,"4"),j["$[]="](16,(parseInt(j["$[]"](16),16)&3|8).toString(16)),j=[j["$[]"](I(0,8,!0)),j["$[]"](I(8,12,!0)),j["$[]"](I(12,16,!0)),j["$[]"](I(16,20,!0)),j["$[]"](I(20,32,!0))],j=ee(j,"map",[],"join".$to_proc()),j.$join("-")}),B(X,"$random_float",function(){var z=this,j=L,A=L;return j=z.$bytes(4),A=0,ee(4,"times",[],function(u){return u==null&&(u=L),A=A["$<<"](8),A=A["$|"](j["$[]"](u).$ord())}),Q(A.$abs(),2147483647)}),B(X,"$random_number",function(z){var j=this;function A(){return j.$random_float()}function w(d){return Math.floor(A()*d)}function u(){var d=z.begin,k=z.end;if(d===L||k===L)return L;var h=k-d;return h<0?L:h===0?d:(k%1===0&&d%1===0&&!z.excl&&h++,w(h)+d)}return z==null?A():z.$$is_range?u():z.$$is_number?(z<=0&&T.$raise(ie("ArgumentError"),"invalid argument - "+z),z%1===0?w(z):A()*z):(z=Z["$coerce_to!"](z,ie("Integer"),"to_int"),z<=0&&T.$raise(ie("ArgumentError"),"invalid argument - "+z),w(z))},-1),B(X,"$alphanumeric",function(z){var j=this,A=L;return z==null&&(z=L),z=H("Random").$_verify_count(z),A=ee([I("0","9",!1),I("a","z",!1),I("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),ee(ie("Array"),"new",[z],function w(u){var d=w.$$s==null?this:w.$$s;return A["$[]"](d.$random_number(A.$length()))},{$$s:j}).$join()},-1)}(V,x),V.$include(ie(ie("Random"),"Formatter")),V.$extend(ie(ie("Random"),"Formatter"))}("::",null,v)};Opal.modules["corelib/random/mersenne_twister"]=function(n){var q=n.klass,E=n.const_set,B=n.send,I=n.nil,ee=n.$$$,Q=I;return n.add_stubs("generator="),Q=function(){var T=624,Z=397,v=2567483615,L=2147483648,ie=2147483647,J=function(M,H){return M&L|H&ie},Y=function(M,H){return J(M,H)>>>1^(H&1?v:0)};function te(M){var H={left:0,next:T,state:new Array(T)};return V(H,M),H}function V(M,H){var p;for(M.state[0]=H>>>0,p=1;p<T;p++)M.state[p]=1812433253*(M.state[p-1]^M.state[p-1]>>30>>>0)+p,M.state[p]&=4294967295;M.left=1,M.next=T}function x(M){var H=0,p=M.state,z;for(M.left=T,M.next=0,z=T-Z+1;--z;H++)p[H]=p[H+Z]^Y(p[H+0],p[H+1]);for(z=Z;--z;H++)p[H]=p[H+(Z-T)]^Y(p[H+0],p[H+1]);p[H]=p[H+(Z-T)]^Y(p[H+0],p[0])}function b(M){var H;return--M.left<=0&&x(M),H=M.state[M.next++],H^=H>>>11,H^=H<<7&2636928640,H^=H<<15&4022730752,H^=H>>>18,H>>>0}function P(M,H){return M>>>=5,H>>>=6,(M*67108864+H)*(1/9007199254740992)}function X(M){var H=b(M),p=b(M);return P(H,p)}return{genrand_real:X,init:te}}(),function(T,Z){var v=q(T,Z,"Random"),L,ie=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return E(v,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*ie)},reseed:function(J){return Q.init(J)},rand:function(J){return Q.genrand_real(J)}}),L=[ee(v,"MERSENNE_TWISTER_GENERATOR")],B(v,"generator=",L),L[L.length-1]}("::",null)};Opal.modules["corelib/random"]=function(n){var q=n.truthy,E=n.klass,B=n.Kernel,I=n.defs,ee=n.Opal,Q=n.def,T=n.eqeqeq,Z=n.send,v=n.top,L=n.nil,ie=n.$$$;return n.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),v.$require("corelib/random/formatter"),function(J,Y){var te=E(J,Y,"Random");return te.$attr_reader("seed","state"),I(te,"$_verify_count",function(x){return q(x)||(x=16),typeof x!="number"&&(x=x.$to_int()),x<0&&B.$raise(ie("ArgumentError"),"negative string size (or size too big)"),x=Math.floor(x),x}),Q(te,"$initialize",function(x){var b=this;return x==null&&(x=ie("Random").$new_seed()),x=ee["$coerce_to!"](x,ie("Integer"),"to_int"),b.state=x,b.$reseed(x)},-1),Q(te,"$reseed",function(x){var b=this;return b.seed=x,b.$rng=n.$$rand.reseed(x)}),I(te,"$new_seed",function(){return n.$$rand.new_seed()}),I(te,"$rand",function(x){var b=this;return ie(b,"DEFAULT").$rand(x)},-1),I(te,"$srand",function(x){var b=this,P=L;return x==null&&(x=ie("Random").$new_seed()),x=ee["$coerce_to!"](x,ie("Integer"),"to_int"),P=ie(b,"DEFAULT").$seed(),ie(b,"DEFAULT").$reseed(x),P},-1),I(te,"$urandom",function(x){return ie("SecureRandom").$bytes(x)}),Q(te,"$==",function(x){var b=this,P=L;return T(ie("Random"),x)?q(P=b.$seed()["$=="](x.$seed()))?b.$state()["$=="](x.$state()):P:!1}),Q(te,"$bytes",function(x){var b=this;return x=ie("Random").$_verify_count(x),Z(ie("Array"),"new",[x],function P(){var X=P.$$s==null?this:P.$$s;return X.$rand(255).$chr()},{$$s:b}).$join().$encode("ASCII-8BIT")}),I(te,"$bytes",function(x){var b=this;return ie(b,"DEFAULT").$bytes(x)}),Q(te,"$rand",function(x){var b=this;return b.$random_number(x)},-1),Q(te,"$random_float",function(){var x=this;return x.state++,n.$$rand.rand(x.$rng)}),I(te,"$random_float",function(){var x=this;return ie(x,"DEFAULT").$random_float()}),I(te,"$generator=",function(x){var b=this;return n.$$rand=x,q(b["$const_defined?"]("DEFAULT"))?ie(b,"DEFAULT").$reseed():b.$const_set("DEFAULT",b.$new(b.$new_seed()))})}("::",null),v.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(n){var q=n.Kernel,E=n.klass,B=n.send,I=n.slice,ee=n.module,Q=n.def,T=n.return_val,Z=n.alias,v=n.defs,L=n.top,ie=[],J=n.nil,Y=n.$$$;n.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var te={};function V(b){switch(n.config.unsupported_features_severity){case"error":q.$raise(Y("NotImplementedError"),b);break;case"warning":x(b);break}}function x(b){te[b]||(te[b]=!0,L.$warn(b))}return function(b,P){var X=E(b,P,"String"),M="String#%s not supported. Mutable String methods are not supported in Opal.";return B(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function H(p){var z=H.$$s==null?this:H.$$s;return p==null&&(p=J),B(z,"define_method",[p],function(A){return I(arguments),q.$raise(Y("NotImplementedError"),M["$%"](p))},-1)},{$$s:X})}("::",null),function(b){var P=ee(b,"Kernel"),X="Object tainting is not supported by Opal";return Q(P,"$taint",function(){var H=this;return V(X),H}),Q(P,"$untaint",function(){var H=this;return V(X),H}),Q(P,"$tainted?",function(){return V(X),!1})}("::"),function(b,P){var X=E(b,P,"Module");return Q(X,"$public",function(H){var p,z,j=this;return p=I(arguments),z=p,z.length===0?(j.$$module_function=!1,J):z.length===1?z[0]:z},-1),Q(X,"$private_class_method",function(H){var p,z;return p=I(arguments),z=p,z.length===1?z[0]:z},-1),Q(X,"$private_method_defined?",T(!1)),Q(X,"$private_constant",function(H){return I(arguments),J},-1),Z(X,"nesting","public"),Z(X,"private","public"),Z(X,"protected","public"),Z(X,"protected_method_defined?","private_method_defined?"),Z(X,"public_class_method","private_class_method"),Z(X,"public_instance_method","instance_method"),Z(X,"public_instance_methods","instance_methods"),Z(X,"public_method_defined?","method_defined?")}("::",null),function(b){var P=ee(b,"Kernel");return Q(P,"$private_methods",function(M){return I(arguments),[]},-1),Z(P,"protected_methods","private_methods"),Z(P,"private_instance_methods","private_methods"),Z(P,"protected_instance_methods","private_methods")}("::"),function(b,P){var X=ee(b,"Kernel"),M=[X].concat(P),H=n.$r(M);return Q(X,"$eval",function(z){return I(arguments),q.$raise(Y("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+H("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",ie),v(L,"$public",function(P){var X,M;return X=I(arguments),M=X,M.length===1?M[0]:M},-1),v(L,"$private",function(P){var X,M;return X=I(arguments),M=X,M.length===1?M[0]:M},-1)};Opal.modules["corelib/binding"]=function(n){var q=n.klass,E=n.truthy,B=n.def,I=n.slice,ee=n.send,Q=n.to_a,T=n.Kernel,Z=n.return_ivar,v=n.eqeq;n.thrower;var L=n.module,ie=n.const_set,J=n.top,Y=[],te=n.nil,V=n.$$$;return n.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(x,b){var P=q(x,b,"Binding"),X=P.$$prototype;return X.jseval=X.scope_variables=te,B(P,"$initialize",function(H,p,z,j){var A,w=this;return p==null&&(p=[]),j==null&&(j=te),A=[H,p,z,j],w.jseval=A[0],w.scope_variables=A[1],w.receiver=A[2],w.source_location=A[3],E(typeof z!==void 0)?te:z=w.$js_eval("self")},-2),B(P,"$js_eval",function(H){var p,z,j=this;return p=I(arguments),z=p,E(j.jseval)?ee(j.jseval,"call",Q(z)):T.$raise("Evaluation on a Proc#binding is not supported")},-1),B(P,"$local_variable_get",function(H){var p=this;try{return p.$js_eval(H)}catch(z){if(n.rescue(z,[V("Exception")]))try{return T.$raise(V("NameError"),"local variable `"+H+"' is not defined for "+p.$inspect())}finally{n.pop_exception(z)}else throw z}}),B(P,"$local_variable_set",function(H,p){var z=this;return n.Binding.tmp_value=p,z.$js_eval(""+H+" = Opal.Binding.tmp_value"),delete n.Binding.tmp_value,p}),B(P,"$local_variables",Z("scope_variables")),B(P,"$local_variable_defined?",function(H){var p=this;return p.scope_variables["$include?"](H)}),B(P,"$eval",function(H,p,z){try{var j=this;return p==null&&(p=te),z==null&&(z=te),v(H,"self")?j.$receiver():T.$eval(H,j,p,z)}catch(A){if(A===n.t_eval_return)return A.$v;throw A}},-2),P.$attr_reader("receiver","source_location")}("::",null),function(x){var b=L(x,"Kernel");return B(b,"$binding",function(){return T.$raise("Opal doesn't support dynamic calls to binding")})}("::"),ie(Y[0],"TOPLEVEL_BINDING",V("Binding").$new(function(x){return new Function("self","return "+x)(J)},[],J,["<main>",0]))};Opal.modules["corelib/irb"]=function(n){var q=n.module,E=n.truthy,B=n.Kernel,I=n.defs,ee=n.gvars,Q=n.lambda,T=n.hash_rehash,Z=n.send,v=n.rb_plus,L=n.const_set,ie=n.klass,J=n.def,Y=n.Opal,te=n.range,V=n.eqeq,x=n.thrower,b=[],P=n.nil,X=n.$$$;n.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(M,H){var p=q(M,"Opal"),z=[p].concat(H);return function(j,A){var w=q(j,"IRB"),u=[w].concat(A),d=n.$r(u);return I(w,"$ensure_loaded",function(h){var c=P,o=P;if(E(n.loaded_features["$include?"](h)))return P;c=E(d("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":d("RUBY_ENGINE_VERSION"),o="https://cdn.opalrb.com/opal/"+c+"/"+h+".js";var y;if(typeof XMLHttpRequest<"u"){var K=new XMLHttpRequest;K.open("GET",o,!1),K.send(""),y=K.responseText}else B.$raise("You need to provision "+h+" yourself in this environment");return new Function("Opal",y)(n),n.require(h),E(n.loaded_features["$include?"](h))?P:B.$raise("Could not load "+h+" for some reason")}),w.$singleton_class().$attr_accessor("output"),I(w,"$prepare_console",function k(){var h=k.$$p||P,c,o=this,y=P,K=P;return ee.stdout==null&&(ee.stdout=P),ee.stderr==null&&(ee.stderr=P),ee.stdin==null&&(ee.stdin=P),k.$$p=null,function(){try{return o["$output="](""),y=T(new Map([[ee.stdout,Q(function(s){return s==null&&(s=P),ee.stdout=s})],[ee.stderr,Q(function(s){return s==null&&(s=P),ee.stderr=s})]])),E(o["$browser?"]())&&(Z(y,"each",[],function _(s,$){var t=_.$$s==null?this:_.$$s,e=P;return s==null&&(s=P),$==null&&($=P),e=s.$dup(),e["$write_proc="](Z(t,"proc",[],function r(i){var a=r.$$s==null?this:r.$$s;return i==null&&(i=P),a["$output="](v(a.$output(),i)),a["$output="](a.$output().$split(`
`).$last(30).$join(`
`)),E(i["$end_with?"](`
`))&&a["$output="](v(a.$output(),`
`)),s.$write_proc().$call(i)},{$$s:t})),e["$tty="](!1),$.$call(e)},{$$s:o}),K=ee.stdin.$read_proc(),ee.stdin["$read_proc="](function(_){var s=prompt(o.$output());return s!==null?s+`
`:P})),n.yieldX(h,[])}finally{Z(y,"each",[],function(s,$){return s==null&&(s=P),$==null&&($=P),$.$call(s)}),c=[K],Z(ee.stdin,"read_proc=",c),c[c.length-1],c=[""],Z(o,"output=",c),c[c.length-1]}}()}),I(w,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),L(u[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(k,h){var c=ie(k,h,"Silencer"),o=c.$$prototype;return o.collector=o.stderr=P,J(c,"$initialize",function(){var K=this;return ee.stderr==null&&(ee.stderr=P),K.stderr=ee.stderr}),J(c,"$silence",function y(){var K=y.$$p||P,_=this;return y.$$p=null,function(){try{return _.collector=X("StringIO").$new(),ee.stderr=_.collector,n.yieldX(K,[])}finally{ee.stderr=_.stderr}}()}),J(c,"$warnings",function(){var K=this;return K.collector.$string()})}(u[0],null)}(z[0],z)}(b[0],b),function(M,H,p){var z=ie(M,H,"Binding"),j=[z].concat(p),A=n.$r(j);return J(z,"$irb",function(){try{var u=x("return"),d=this,k=P;return X(Y,"IRB").$ensure_loaded("opal-replutils"),k=X(X(Y,"IRB"),"Silencer").$new(),Z(X(Y,"IRB"),"prepare_console",[],function h(){var c=h.$$s==null?this:h.$$s;return function(){try{var o=x("break");return Z(c,"loop",[],function y(){var K=y.$$s==null?this:y.$$s,_=P,s=P,$=P,t=P,e=P;K.$print(">> "),_=K.$gets(),E(_)||o.$throw(P,y.$$is_lambda),s="",E(X(Y,"IRB")["$browser?"]())&&K.$puts(_),E(_["$start_with?"]("ls "))?(s=_["$[]"](te(3,-1,!1)),$="ls"):V(_,`ls
`)?(s="self",$="ls"):E(_["$start_with?"]("show "))?(s=_["$[]"](te(5,-1,!1)),$="show"):(s=_,$="inspect"),t=P;do{try{Z(k,"silence",[],function(){return t=n.compile(s,{irb:!0})})}catch(r){if(n.rescue(r,[A("SyntaxError")])){e=r;try{if(E(X(X(Y,"IRB"),"LINEBREAKS")["$include?"](e.$message()))){K.$print(".. "),_=K.$gets(),E(_)||u.$throw(P,y.$$is_lambda),E(X(Y,"IRB")["$browser?"]())&&K.$puts(_),s=v(s,_);continue}else E(k.$warnings()["$empty?"]())?K.$warn(e.$full_message()):K.$warn(k.$warnings())}finally{n.pop_exception(r)}}else throw r}break}while(!0);return V($,"show")&&(K.$puts(t),u.$throw(P,y.$$is_lambda)),K.$puts(X("REPLUtils").$eval_and_print(t,$,!1,K))},{$$s:c,$$ret:u})}catch(y){if(y===o)return y.$v;throw y}finally{o.is_orphan=!0}}()},{$$s:d})}catch(h){if(h===u)return h.$v;throw h}finally{u.is_orphan=!0}})}("::",null,b),n.irb=function(M){X("Binding").$new(M).$irb()},n.load_parser=function(){n.Opal.IRB.$ensure_loaded("opal-parser")},typeof n.eval>"u"&&(n.eval=function(M){return n.load_parser(),n.eval(M)}),typeof n.compile>"u"&&(n.compile=function(M,H){return n.load_parser(),n.compile(M,H)})};Opal.modules.opal=function(n){var q=n.Object;return n.nil,n.add_stubs("require,autoload"),q.$require("opal/base"),q.$require("opal/mini"),q.$require("corelib/kernel/format"),q.$require("corelib/string/encoding"),q.$autoload("Math","corelib/math"),q.$require("corelib/complex/base"),q.$autoload("Complex","corelib/complex"),q.$require("corelib/rational/base"),q.$autoload("Rational","corelib/rational"),q.$require("corelib/time"),q.$autoload("Struct","corelib/struct"),q.$autoload("Set","corelib/set"),q.$autoload("Dir","corelib/dir"),q.$autoload("File","corelib/file"),q.$require("corelib/process/base"),q.$autoload("Process","corelib/process"),q.$autoload("Random","corelib/random"),q.$require("corelib/unsupported"),q.$require("corelib/binding"),q.$require("corelib/irb")};Opal.modules["js/proxy"]=function(n){var q=n.module,E=n.truthy,B=n.def,I=n.klass,ee=n.const_set,Q=n.slice,T=n.range,Z=n.send,v=n.to_a,L=n.gvars,ie=n.top,J=[],Y=n.nil;return n.add_stubs("require,new,to_n,to_rb_name,include,attr_accessor,Native,to_js_name,end_with?,existing_property?,raise,[],[]=,first,native,dup,call,class,<<,wrap_result,respond_to?,enum_for,length,each,private,join,with_index,map,split,to_s,include?,downcase,gsub,upcase,zero?,capitalize,sub,native="),ie.$require("opal"),ie.$require("native"),function(te,V){var x=q(te,"JS"),b=[x].concat(V),P=n.$r(b);return function(X,M){var H=q(X,"Helpers"),p=[H].concat(M),z=n.$r(p);return B(H,"$wrap_result",function(A){return E(A&&typeof A.then=="function")?z("Promise").$new(A):E(typeof A=="object"&&A!==null)?z("Proxy").$new(A):A}),B(H,"$native_methods",function(){var A=this,w=Y;return A.native_methods==null&&(A.native_methods=Y),A.native_methods=function(){if(E(w=A.native_methods))return w;{let u=A.$to_n();const d=new Set;for(;u!==null;){for(const k of Reflect.ownKeys(u)){const h=k.toString(),c=A.$to_rb_name(h);typeof k!="symbol"&&h!==c&&d.add(c),d.add(h)}u=Object.getPrototypeOf(u)}return Array.from(d)}}()})}(b[0],b),function(X,M,H){var p=I(X,M,"Proxy"),z=[p].concat(H),j=n.$r(z);return p.$include(j("Enumerable")),p.$include(j("Helpers")),p.$attr_accessor("native"),ee(z[0],"IRREGULARS",["html","url","uri"]),B(p,"$initialize",function(w){var u=this;return u.native=u.$Native(w)}),B(p,"$method_missing",function A(w,u){var d=A.$$p||Y,k,h,c,o=this,y=Y,K=Y,_=Y,s=Y,$=Y,t=Y;return A.$$p=null,k=Q(arguments,1),h=k,y=o.$to_js_name(w),E(o["$existing_property?"](y))||E(y["$end_with?"]("="))||o.$raise(j("NoMethodError"),"undefined method `"+w+"` for "+o),E(y["$end_with?"]("="))?(K=y["$[]"](T(0,-2,!1)),c=[K,h.$first()],Z(o.$native(),"[]=",c),c[c.length-1]):(_=o.$native()["$[]"](y),E(typeof _=="function")?(s=h.$dup(),E(d)&&($=function(){let e=Array.prototype.slice.call(arguments);return Z(d,"call",[o.$class().$new(this)].concat(v(e)))},s["$<<"]($)),t=_.apply(o.$to_n(),s.$to_n()),o.$wrap_result(t)):E(typeof _=="object"&&_!==null)?o.$wrap_result(_):_)},-2),B(p,"$to_str",function(){var w=this;return w.$to_n().toString()}),B(p,"$respond_to_missing?",function(w,u){return!0},-2),B(p,"$each",function A(){var w=A.$$p||Y,u=this,d=Y;return A.$$p=null,E(u["$respond_to?"]("length"))?(d=u.$length(),Z(n.Range.$new(0,d,!0),"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=Y),n.yield1(w,c["$[]"](h))},{$$s:u})):u.$enum_for("each")}),B(p,"$[]",function(w){var u=this,d=Y;return d=u.$native()["$[]"](w),u.$wrap_result(d)}),B(p,"$[]=",function(w,u){var d=this;return d.$native()["$[]="](w,u),d.$wrap_result(d.$native())}),B(p,"$to_n",function(){var w=this;return w.$native().$to_n()}),B(p,"$length",function(){var w=this;return w.$native().$length()}),p.$private(),B(p,"$to_js_name",function(w){return Z(w.$to_s().$split("_").$map(),"with_index",[],function(d,k){return d==null&&(d=Y),k==null&&(k=Y),E(j("IRREGULARS")["$include?"](d.$gsub("=","").$downcase()))?d.$upcase():E(k["$zero?"]())?d:d.$capitalize()}).$join()}),B(p,"$to_rb_name",function(w){return Z(w.$to_s(),"gsub",[/([A-Z]+)/],function(){var d;return"_"+((d=L["~"])===Y?Y:d["$[]"](1)).$downcase()}).$sub(/^_/,"")}),B(p,"$existing_property?",function(w){var u=this;return w in u.$to_n()})}(b[0],null,b),function(X,M,H){var p=I(X,M,"Promise"),z=[p].concat(H),j=n.$r(z);return p.$include(j("Helpers")),B(p,"$then",function A(){var w=A.$$p||Y,u,d=this,k=Y;return A.$$p=null,k=function(h){var c=w.$call(d.$wrap_result(h));return c&&typeof c.then=="function"?c:c&&typeof c.to_n=="function"?c.to_n():c},u=[d.$to_n().then(k)],Z(d,"native=",u),u[u.length-1]}),B(p,"$catch",function A(){var w=A.$$p||Y,u,d=this,k=Y;return A.$$p=null,k=function(h){var c=w.$call(d.$wrap_result(h));return c&&typeof c.then=="function"?c:c&&typeof c.to_n=="function"?c.to_n():c},u=[d.$to_n().catch(k)],Z(d,"native=",u),u[u.length-1]})}(b[0],P("Proxy"),b)}(J[0],J)};Opal.modules["opal_stimulus/stimulus_controller"]=function(n){var q=n.klass,E=n.const_set,B=n.Opal,I=n.defs,ee=n.truthy,Q=n.send,T=n.gvars,Z=n.return_val,v=n.thrower,L=n.rb_plus,ie=n.eqeqeq,J=n.def,Y=n.top,te=[],V=n.nil,x=n.$$$;return n.add_stubs("require,bridge,stimulus_controller,downcase,gsub,name,include?,sub,to_s,each,subclasses,define_method,stimulus_name,to_ruby_name,+,new,map,capitalize,===,raise,[]=,to_n,Native,==,window,document"),Y.$require("opal"),Y.$require("native"),Y.$require("js/proxy"),function(b,P,X){var M=q(b,P,"StimulusController"),H=[M].concat(X),p=n.$r(H),z=M.$$prototype;return z.window=z.document=V,E(H[0],"DEFAULT_METHODS",["initialize","connect","disconnect","dispatch"]),E(H[0],"DEFAULT_GETTERS",["element"]),I(M,"$inherited",function(A){return B.$bridge(A.$stimulus_controller(),A)}),I(M,"$stimulus_controller",function(){var A=this;return A.stimulus_controller==null&&(A.stimulus_controller=V),ee(A.stimulus_controller)||(A.stimulus_controller=class extends Controller{}),A.stimulus_controller}),I(M,"$stimulus_name",function(){var A=this;return A.$name().$gsub(/Controller$/,"").$gsub(/([a-z])([A-Z])/,"\\1-\\2").$gsub("::","--").$downcase()}),I(M,"$method_added",function(A){var w=this;if(ee(p("DEFAULT_GETTERS")["$include?"](A)))return V;w.$stimulus_controller().prototype[A]=function(...u){try{var d=u.map(function(k){return k&&typeof k=="object"&&!k.$$class?n.JS.Proxy.$new(k):k});return this["$"+A].apply(this,d)}catch(k){console.error("Uncaught",k)}}}),I(M,"$to_ruby_name",function(A){return Q(A.$to_s(),"gsub",[/([A-Z]+)/],function(){var u;return"_"+((u=T["~"])===V?V:u["$[]"](1)).$downcase()}).$sub(/^_/,"")}),I(M,"$register_all!",function(){try{var A=v("return"),w=this;return Q(w.$subclasses(),"each",[],function u(d){return d==null&&(d=V),Q(d,"define_method",["dummy"],Z(V)),ee(application.controllers["$include?"](d.$stimulus_name()))&&A.$throw(V,u.$$is_lambda),application.register(d.$stimulus_name(),d.$stimulus_controller())},{$$ret:A})}catch(u){if(u===A)return u.$v;throw u}finally{A.is_orphan=!0}}),I(M,"$targets=",function(A){var w=this;return A==null&&(A=[]),w.$stimulus_controller().targets=A,Q(A,"each",[],function u(d){var k=u.$$s==null?this:u.$$s,h=V,c=V,o=V,y=V,K=V,_=V;d==null&&(d=V),h=d.$to_s(),c=k.$to_ruby_name(d),Q(k,"define_method",[L(c,"_target")],function(){return x(p("JS"),"Proxy").$new(this[L(h,"Target")])}),Q(k,"define_method",[L(c,"_targets")],function(){return Q(this[L(h,"Targets")],"map",[],function(t){return t==null&&(t=V),x(p("JS"),"Proxy").$new(t)})}),Q(k,"define_method",[L(L("has_",c),"_target")],function(){return this[L(L("has",h.$capitalize()),"Target")]}),o=L(c,"_target_connected"),y=L(h,"TargetConnected"),k.$stimulus_controller().prototype[y]=function(){if(this["$respond_to?"]&&this["$respond_to?"](o))return this["$"+o]()},K=L(c,"_target_disconnected"),_=L(h,"TargetDisconnected"),k.$stimulus_controller().prototype[_]=function(){if(this["$respond_to?"]&&this["$respond_to?"](K))return this["$"+K]()}},{$$s:w})},-1),I(M,"$outlets=",function(A){var w=this;return A==null&&(A=[]),w.$stimulus_controller().outlets=A,Q(A,"each",[],function u(d){var k=u.$$s==null?this:u.$$s,h=V,c=V,o=V,y=V,K=V,_=V;d==null&&(d=V),h=d.$to_s(),c=k.$to_ruby_name(d),Q(k,"define_method",[L(c,"_outlet")],function(){return this[L(h,"Outlet")]}),Q(k,"define_method",[L(c,"_outlets")],function(){return this[L(h,"Outlets")]}),Q(k,"define_method",[L(L("has_",c),"_outlet")],function(){return this[L(L("has",h.$capitalize()),"Outlet")]}),o=L(c,"_outlet_connected"),y=L(h,"OutletConnected"),k.$stimulus_controller().prototype[y]=function(){if(this["$respond_to?"]&&this["$respond_to?"](o))return this["$"+o]()},K=L(c,"_outlet_disconnected"),_=L(h,"OutletDisconnected"),k.$stimulus_controller().prototype[_]=function(){if(this["$respond_to?"]&&this["$respond_to?"](K))return this["$"+K]()}},{$$s:w})},-1),I(M,"$values=",function(A){var w=this,u=V;return A==null&&(A=new Map),u=new Map,Q(A,"each",[],function d(k,h){var c=d.$$s==null?this:d.$$s,o=V,y=V,K=V,_=V;k==null&&(k=V),h==null&&(h=V),k=c.$to_ruby_name(k),o=ie("string",y=h)?String:ie("number",y)?Number:ie("boolean",y)?Boolean:ie("array",y)?Array:ie("object",y)?Object:c.$raise(p("ArgumentError"),"Unsupported value type: "+h+", please use :string, :number, :boolean, :array, or :object"),u["$[]="](k,o),c.$stimulus_controller().values=u.$to_n(),Q(c,"define_method",[L(k,"_value")],function s(){var $=s.$$s==null?this:s.$$s;return $.$Native(this[L(k,"Value")])},{$$s:c}),Q(c,"define_method",[L(k,"_value=")],function s($){var t=s.$$s==null?this:s.$$s;return $==null&&($=V),t.$Native(this[L(k,"Value")]=$)},{$$s:c}),Q(c,"define_method",["has_"+k],function(){return this[L(L("has",k.$to_s().$capitalize()),"Value")]}),K=""+k+"_value_changed",_=""+k+"ValueChanged",c.$stimulus_controller().prototype[_]=function(s,$){if(h["$=="]("object")&&(s=JSON.stringify(s),$=JSON.stringify($)),this["$respond_to?"]&&this["$respond_to?"](K))return this["$"+K](s,$)}},{$$s:w})},-1),I(M,"$classes=",function(A){var w=this;return A==null&&(A=[]),w.$stimulus_controller().classes=A,Q(A,"each",[],function u(d){var k=u.$$s==null?this:u.$$s,h=V,c=V;return d==null&&(d=V),h=d.$to_s(),c=k.$to_ruby_name(d),Q(k,"define_method",[""+c+"_class"],function(){return this[L(h,"Class")]}),Q(k,"define_method",[""+c+"_classes"],function(){return this[L(h,"Classes")]}),Q(k,"define_method",["has_"+c+"_class"],function(){return this[L(L("has",h.$capitalize()),"Class")]})},{$$s:w})},-1),J(M,"$element",function(){return x(p("JS"),"Proxy").$new(this.element)}),J(M,"$window",function(){var A=this,w=V;return T.$==null&&(T.$=V),A.window=ee(w=A.window)?w:x(p("JS"),"Proxy").$new(T.$.$window())}),J(M,"$document",function(){var A=this,w=V;return T.$==null&&(T.$=V),A.document=ee(w=A.document)?w:x(p("JS"),"Proxy").$new(T.$.$document())})}(te[0],Controller,te)};Opal.modules["opal_vite/concerns/v1/stimulus_helpers"]=function(n){var q=n.module,E=n.def,B=n.truthy,I=n.eqeq,ee=n.send,Q=n.slice,T=n.ensure_kwargs,Z=n.get_kwarg,v=n.hash_get,L=n.rb_plus,ie=n.rb_minus,J=n.to_a,Y=n.range,te=n.const_set,V=[],x=n.$r(V),b=n.nil,P=n.$$$;return n.add_stubs("camelize,has_target?,target_set_value,target_set_html,set_target_style,get_target_style,==,show_target,hide_target,call,body_style,to_n,storage_get,is_a?,parse_int,event_data,to_native_element,Native,map,to_a,js_timestamp,is_nan?,parse_float,to_s,empty?,respond_to?,fetch_json_promise,fetch_json_safe,js_then,js_catch,console_error,set_stimulus_value,+,stimulus_value,-,!,get_class,get_classes,has_outlet?,get_outlet,js_call_on,each,get_outlets,nil?,stimulus_dispatch,action_param,private,include?,upcase,[],downcase,split,join,to_proc,first"),function(X,M){var H=q(X,"OpalVite"),p=[H].concat(M);return function(z,j){var A=q(z,"Concerns"),w=[A].concat(j);return function(u,d){var k=q(u,"V1"),h=[k].concat(d);return function(c,o){var y=q(c,"StimulusHelpers"),K=[y].concat(o),_=n.$r(K);return E(y,"$has_target?",function($){var t=this,e=b;return e="has"+t.$camelize($)+"Target",this[e]}),E(y,"$get_target",function($){var t=this,e=b;return B(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e]):b}),E(y,"$get_targets",function($){var t=this,e=b;return e=""+t.$camelize($,!1)+"Targets",Array.from(this[e]||[])}),E(y,"$target_value",function($){var t=this,e=b;return B(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].value):b}),E(y,"$target_set_value",function($,t){var e=this,r=b;return B(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].value=t):b}),E(y,"$target_html",function($){var t=this,e=b;return B(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].innerHTML):b}),E(y,"$target_set_html",function($,t){var e=this,r=b;return B(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].innerHTML=t):b}),E(y,"$target_text",function($){var t=this,e=b;return B(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].textContent):b}),E(y,"$target_set_text",function($,t){var e=this,r=b;return B(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].textContent=t):b}),E(y,"$target_data",function($,t){var e=this,r=b;return B(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].getAttribute("data-"+t)):b}),E(y,"$target_set_data",function($,t,e){var r=this,i=b;return B(r["$has_target?"]($))?(i=""+r.$camelize($,!1)+"Target",this[i].setAttribute("data-"+t,e)):b}),E(y,"$target_clear",function($){var t=this;return t.$target_set_value($,"")}),E(y,"$target_clear_html",function($){var t=this;return t.$target_set_html($,"")}),E(y,"$set_target_style",function($,t,e){var r=this,i=b;return B(r["$has_target?"]($))?(i=""+r.$camelize($,!1)+"Target",this[i].style[t]=e):b}),E(y,"$get_target_style",function($,t){var e=this,r=b;return B(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].style[t]):b}),E(y,"$show_target",function($){var t=this;return t.$set_target_style($,"display","")}),E(y,"$hide_target",function($){var t=this;return t.$set_target_style($,"display","none")}),E(y,"$toggle_target_visibility",function($){var t=this,e=b;return e=t.$get_target_style($,"display"),I(e,"none")?t.$show_target($):t.$hide_target($)}),E(y,"$add_target_class",function($,t){var e=this,r=b;return B(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.add(t)):b}),E(y,"$remove_target_class",function($,t){var e=this,r=b;return B(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.remove(t)):b}),E(y,"$toggle_target_class",function($,t){var e=this,r=b;return B(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.toggle(t)):b}),E(y,"$has_target_class?",function($,t){var e=this,r=b;return B(e["$has_target?"]($))?(r=""+e.$camelize($,!1)+"Target",this[r].classList.contains(t)):!1}),E(y,"$js_timestamp",function(){return Date.now()}),E(y,"$js_iso_date",function(){return new Date().toISOString()}),E(y,"$js_date",function($){return $==null&&($=b),B($)?new Date($):new Date},-1),E(y,"$js_regexp",function($,t){return t==null&&(t=""),new RegExp($,t)},-2),E(y,"$js_regexp_test",function($,t,e){return e==null&&(e=""),new RegExp($,e).test(t)},-3),E(y,"$set_timeout",function s($){var t=s.$$p||b;return s.$$p=null,setTimeout(function(){t.$call()},$)}),E(y,"$set_interval",function s($){var t=s.$$p||b;return s.$$p=null,setInterval(function(){t.$call()},$)}),E(y,"$clear_timeout",function($){return clearTimeout($)}),E(y,"$clear_interval",function($){return clearInterval($)}),E(y,"$body_style",function($,t){return document.body.style[$]=t}),E(y,"$lock_body_scroll",function(){var $=this;return $.$body_style("overflow","hidden")}),E(y,"$unlock_body_scroll",function(){var $=this;return $.$body_style("overflow","")}),E(y,"$js_array",function(){return[]}),E(y,"$js_array_push",function($,t){return $.push(t.$to_n())}),E(y,"$js_array_length",function($){return $.length}),E(y,"$js_array_at",function($,t){return $[t]}),E(y,"$storage_get",function($){return localStorage.getItem($)}),E(y,"$storage_set",function($,t){return localStorage.setItem($,t)}),E(y,"$storage_remove",function($){return localStorage.removeItem($)}),E(y,"$storage_get_json",function($,t){var e=this,r=b;return t==null&&(t=b),r=e.$storage_get($),B(r===null)?t:JSON.parse(r)},-2),E(y,"$storage_set_json",function($,t){return localStorage.setItem($,JSON.stringify(t.$to_n()))}),E(y,"$dispatch_window_event",function($,t){var e=b;t==null&&(t=new Map),e=B(t["$is_a?"](_("Hash")))?t.$to_n():t;const r=new CustomEvent($,{detail:e});window.dispatchEvent(r)},-2),E(y,"$dispatch_event",function($,t){var e=b;t==null&&(t=new Map),e=B(t["$is_a?"](_("Hash")))?t.$to_n():t;const r=new CustomEvent($,{detail:e});this.element.dispatchEvent(r)},-2),E(y,"$on_window_event",function s($){var t=s.$$p||b;return s.$$p=null,window.addEventListener($,t)}),E(y,"$off_window_event",function($,t){return window.removeEventListener($,t)}),E(y,"$on_document_event",function s($){var t=s.$$p||b;return s.$$p=null,document.addEventListener($,t)}),E(y,"$on_dom_ready",function s(){var $=s.$$p||b;return s.$$p=null,document.addEventListener("DOMContentLoaded",$)}),E(y,"$on_element_event",function s($,t){var e=s.$$p||b;return s.$$p=null,$.addEventListener(t,e)}),E(y,"$off_element_event",function($,t,e){return $.removeEventListener(t,e)}),E(y,"$on_controller_event",function s($){var t=s.$$p||b;return s.$$p=null,this.element.addEventListener($,t)}),E(y,"$event_target",function(){return event.currentTarget}),E(y,"$event_data",function($){return event.currentTarget.getAttribute("data-"+$)}),E(y,"$event_data_int",function($){var t=this;return t.$parse_int(t.$event_data($))}),E(y,"$prevent_default",function(){return event.preventDefault()}),E(y,"$event_key",function(){return event.key}),E(y,"$to_native_element",function($){return B(typeof $.$to_n=="function")?$.$to_n():$}),E(y,"$add_class",function($,t){var e=this,r=b;return r=e.$to_native_element($),r.classList.add(t)}),E(y,"$remove_class",function($,t){var e=this,r=b;return r=e.$to_native_element($),r.classList.remove(t)}),E(y,"$toggle_class",function($,t){var e=this,r=b;return r=e.$to_native_element($),r.classList.toggle(t)}),E(y,"$has_class?",function($,t){var e=this,r=b;return r=e.$to_native_element($),r.classList.contains(t)}),E(y,"$set_attr",function($,t,e){var r=this,i=b;return i=r.$to_native_element($),i.setAttribute(t,e)}),E(y,"$get_attr",function($,t){var e=this,r=b;return r=e.$to_native_element($),r.getAttribute(t)}),E(y,"$remove_attr",function($,t){var e=this,r=b;return r=e.$to_native_element($),r.removeAttribute(t)}),E(y,"$set_style",function($,t,e){var r=this,i=b;return i=r.$to_native_element($),i.style[t]=e}),E(y,"$set_html",function($,t){var e=this,r=b;return r=e.$to_native_element($),r.innerHTML=t}),E(y,"$set_text",function($,t){var e=this,r=b;return r=e.$to_native_element($),r.textContent=t}),E(y,"$get_value",function($){var t=this,e=b;return e=t.$to_native_element($),e.value}),E(y,"$set_value",function($,t){var e=this,r=b;return r=e.$to_native_element($),r.value=t}),E(y,"$focus",function($){var t=this,e=b;return e=t.$to_native_element($),e.focus()}),E(y,"$has_attr?",function($,t){var e=this,r=b;return r=e.$to_native_element($),r.hasAttribute(t)}),E(y,"$create_element",function($){return document.createElement($)}),E(y,"$append_child",function($,t){var e=this,r=b,i=b;return r=e.$to_native_element($),i=e.$to_native_element(t),r.appendChild(i)}),E(y,"$remove_element",function($){var t=this,e=b;return e=t.$to_native_element($),e.remove()}),E(y,"$next_sibling",function($){var t=this,e=b;return e=t.$to_native_element($),e.nextElementSibling}),E(y,"$prev_sibling",function($){var t=this,e=b;return e=t.$to_native_element($),e.previousElementSibling}),E(y,"$parent",function($){var t=this,e=b;return e=t.$to_native_element($),e.parentElement}),E(y,"$query",function($){var t=this,e=b;return e=document.querySelector($),B(e===null)?b:t.$Native(e)}),E(y,"$query_all",function($){var t=this,e=b;return e=Array.from(document.querySelectorAll($)),ee(t.$Native(e).$to_a(),"map",[],function r(i){var a=r.$$s==null?this:r.$$s;return i==null&&(i=b),a.$Native(i)},{$$s:t})}),E(y,"$query_element",function($){var t=this,e=b;return e=this.element.querySelector($),B(e===null)?b:t.$Native(e)}),E(y,"$query_all_element",function($){var t=this,e=b;return e=Array.from(this.element.querySelectorAll($)),ee(t.$Native(e).$to_a(),"map",[],function r(i){var a=r.$$s==null?this:r.$$s;return i==null&&(i=b),a.$Native(i)},{$$s:t})}),E(y,"$doc_root",function(){return document.documentElement}),E(y,"$set_root_attr",function($,t){return document.documentElement.setAttribute($,t)}),E(y,"$get_root_attr",function($){return document.documentElement.getAttribute($)}),E(y,"$clone_template",function($){var t=this,e=b;return e=""+t.$camelize($,!1)+"Target",this[e].content.cloneNode(!0)}),E(y,"$template_first_child",function($){return $.firstElementChild}),E(y,"$element_add_class",function($){return this.element.classList.add($)}),E(y,"$element_remove_class",function($){return this.element.classList.remove($)}),E(y,"$element_toggle_class",function($){return this.element.classList.toggle($)}),E(y,"$generate_id",function(){var $=this;return $.$js_timestamp()}),E(y,"$target_focus",function($){var t=this,e=b;return B(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].focus()):b}),E(y,"$target_blur",function($){var t=this,e=b;return B(t["$has_target?"]($))?(e=""+t.$camelize($,!1)+"Target",this[e].blur()):b}),E(y,"$parse_int",function($,t){return t==null&&(t=10),parseInt($,t)},-2),E(y,"$parse_float",function($){return parseFloat($)}),E(y,"$is_nan?",function($){return Number.isNaN($)}),E(y,"$parse_int_or",function($,t){var e=this,r=b;return t==null&&(t=0),r=e.$parse_int($),B(e["$is_nan?"](r))?t:r},-2),E(y,"$parse_float_or",function($,t){var e=this,r=b;return t==null&&(t=0),r=e.$parse_float($),B(e["$is_nan?"](r))?t:r},-2),E(y,"$js_prop",function($){return this[$.$to_s()]}),E(y,"$js_set_prop",function($,t){return this[$.$to_s()]=t}),E(y,"$js_has_prop?",function($){return!!this[$.$to_s()]}),E(y,"$js_call",function($,t){var e,r,i=b;return e=Q(arguments,1),r=e,B(r["$empty?"]())?this[$.$to_s()]():(i=ee(r,"map",[],function(l){return l==null&&(l=b),B(l["$respond_to?"]("to_n"))?l.$to_n():l}),this[$.$to_s()].apply(this,i))},-2),E(y,"$js_call_on",function($,t,e){var r,i,a=b;return r=Q(arguments,2),i=r,B(i["$empty?"]())?$[t.$to_s()]():(a=ee(i,"map",[],function(g){return g==null&&(g=b),B(g["$respond_to?"]("to_n"))?g.$to_n():g}),$[t.$to_s()].apply($,a))},-3),E(y,"$js_get",function($,t){return $[t.$to_s()]}),E(y,"$js_set",function($,t,e){return $[t.$to_s()]=e}),E(y,"$json_parse",function($){return JSON.parse($)}),E(y,"$json_stringify",function($){var t=b;return t=B($["$respond_to?"]("to_n"))?$.$to_n():$,JSON.stringify(t)}),E(y,"$console_log",function($){var t,e;return t=Q(arguments),e=t,console.log.apply(console,e)},-1),E(y,"$console_warn",function($){var t,e;return t=Q(arguments),e=t,console.warn.apply(console,e)},-1),E(y,"$console_error",function($){var t,e;return t=Q(arguments),e=t,console.error.apply(console,e)},-1),E(y,"$js_string_char_at",function($,t){return $.charAt(t)}),E(y,"$js_substring",function($,t,e){return e==null&&(e=b),B(e)?$.substring(t,e):$.substring(t)},-3),E(y,"$js_split",function($,t){return $.split(t)}),E(y,"$js_trim",function($){return $.trim()}),E(y,"$js_includes?",function($,t){return $.includes(t)}),E(y,"$js_equals?",function($,t){return $===t}),E(y,"$js_loose_equals?",function($,t){return $==t}),E(y,"$js_random",function(){return Math.random()}),E(y,"$js_min",function($,t){return Math.min($,t)}),E(y,"$js_max",function($,t){return Math.max($,t)}),E(y,"$js_abs",function($){return Math.abs($)}),E(y,"$js_round",function($){return Math.round($)}),E(y,"$js_ceil",function($){return Math.ceil($)}),E(y,"$js_to_fixed",function($,t){return $.toFixed(t)}),E(y,"$random_int",function($){return Math.floor(Math.random()*$)}),E(y,"$js_floor",function($){return Math.floor($)}),E(y,"$js_global_exists?",function($){return typeof window[$]<"u"}),E(y,"$js_global",function($){return window[$]}),E(y,"$js_new",function($,t){var e,r,i=b;return e=Q(arguments,1),r=e,B(r["$empty?"]())?new $:(i=ee(r,"map",[],function(l){return l==null&&(l=b),l!=null&&typeof l.$to_n=="function"?l.$to_n():l}),Reflect.construct($,i))},-2),E(y,"$js_define_method",function s($){var t=s.$$p||b;return s.$$p=null,this[$.$to_s()]=t}),E(y,"$js_define_method_on",function s($,t){var e=s.$$p||b;return s.$$p=null,$[t.$to_s()]=e}),E(y,"$js_length",function($){return $.length}),E(y,"$js_map",function s($){var t=s.$$p||b;return s.$$p=null,$.map(t)}),E(y,"$js_filter",function s($){var t=s.$$p||b;return s.$$p=null,$.filter(t)}),E(y,"$js_reduce",function s($,t){var e=s.$$p||b;return s.$$p=null,$.reduce(e,t)}),E(y,"$js_each",function s($){var t=s.$$p||b;return s.$$p=null,$.forEach(t)}),E(y,"$js_slice",function($,t,e){return e==null&&(e=b),B(e)?$.slice(t,e):$.slice(t)},-3),E(y,"$js_object",function(){return{}}),E(y,"$js_keys",function($){return Object.keys($)}),E(y,"$js_values",function($){return Object.values($)}),E(y,"$js_entries",function($){return Object.entries($)}),E(y,"$js_unique_count",function($){return new Set($).size}),E(y,"$js_fetch",function($){return fetch($)}),E(y,"$fetch_json",function s($){var t=s.$$p||b;s.$$p=null,fetch($).then(e=>e.json()).then(e=>t.$call(e)).catch(e=>console.error("Fetch error:",e))}),E(y,"$fetch_json_promise",function($){return fetch($).then(t=>t.json())}),E(y,"$fetch_json_safe",function($){return fetch($).then(function(t){if(!t.ok)throw new Error("Network response was not ok: "+t.status);return t.json()})}),E(y,"$fetch_all_json",function($){var t=this,e=b;return e=ee($,"map",[],function r(i){var a=r.$$s==null?this:r.$$s;return i==null&&(i=b),a.$fetch_json_promise(i)},{$$s:t}),Promise.all(e)}),E(y,"$fetch_json_with_handlers",function($,t){var e,r,i=this,a=b;return t=T(t),e=Z(t,"on_success"),r=v(t,"on_error"),r==null&&(r=b),a=i.$fetch_json_safe($),a=ee(i,"js_then",[a],function(g){return g==null&&(g=b),e.$call(g)}),B(r)?ee(i,"js_catch",[a],function(g){return g==null&&(g=b),r.$call(g)}):ee(i,"js_catch",[a],function l(g){var S=l.$$s==null?this:l.$$s;return g==null&&(g=b),S.$console_error("Fetch error:",g)},{$$s:i})}),E(y,"$promise_all",function($){return Promise.all($)}),E(y,"$promise_race",function($){return Promise.race($)}),E(y,"$promise_resolve",function($){var t=b;return t=B($["$respond_to?"]("to_n"))?$.$to_n():$,Promise.resolve(t)}),E(y,"$promise_reject",function($){return Promise.reject($)}),E(y,"$js_then",function s($){var t=s.$$p||b;return s.$$p=null,$.then(t)}),E(y,"$js_catch",function s($){var t=s.$$p||b;return s.$$p=null,$.catch(t)}),E(y,"$js_finally",function s($){var t=s.$$p||b;return s.$$p=null,$.finally(t)}),E(y,"$stimulus_value",function($){var t=this,e=b;return e=""+t.$camelize($,!1)+"Value",this[e]}),E(y,"$set_stimulus_value",function($,t){var e=this,r=b,i=b;return r=""+e.$camelize($,!1)+"Value",i=B(t["$respond_to?"]("to_n"))?t.$to_n():t,this[r]=i}),E(y,"$has_stimulus_value?",function($){var t=this,e=b;return e="has"+t.$camelize($)+"Value",this[e]}),E(y,"$increment_stimulus_value",function($,t){var e=this;return t==null&&(t=1),e.$set_stimulus_value($,L(e.$stimulus_value($),t))},-2),E(y,"$decrement_stimulus_value",function($,t){var e=this;return t==null&&(t=1),e.$set_stimulus_value($,ie(e.$stimulus_value($),t))},-2),E(y,"$toggle_stimulus_value",function($){var t=this;return t.$set_stimulus_value($,t.$stimulus_value($)["$!"]())}),E(y,"$get_class",function($){var t=this,e=b;return e=""+t.$camelize($,!1)+"Class",this[e]}),E(y,"$get_classes",function($){var t=this,e=b;return e=""+t.$camelize($,!1)+"Classes",Array.from(this[e]||[])}),E(y,"$has_class_definition?",function($){var t=this,e=b;return e="has"+t.$camelize($)+"Class",this[e]}),E(y,"$apply_class",function($,t){var e=this,r=b,i=b;return r=e.$to_native_element($),i=e.$get_class(t),B(i)?r.classList.add(i):b}),E(y,"$apply_classes",function($,t){var e=this,r=b,i=b;return r=e.$to_native_element($),i=e.$get_classes(t),B(i)?r.classList.add(...i):b}),E(y,"$remove_applied_class",function($,t){var e=this,r=b,i=b;return r=e.$to_native_element($),i=e.$get_class(t),B(i)?r.classList.remove(i):b}),E(y,"$remove_applied_classes",function($,t){var e=this,r=b,i=b;return r=e.$to_native_element($),i=e.$get_classes(t),B(i)?r.classList.remove(...i):b}),E(y,"$has_outlet?",function($){var t=this,e=b;return e="has"+t.$camelize($)+"Outlet",this[e]}),E(y,"$get_outlet",function($){var t=this,e=b;return e=""+t.$camelize($,!1)+"Outlet",this[e]}),E(y,"$get_outlets",function($){var t=this,e=b;return e=""+t.$camelize($,!1)+"Outlets",Array.from(this[e]||[])}),E(y,"$get_outlet_element",function($){var t=this,e=b;return e=""+t.$camelize($,!1)+"OutletElement",this[e]}),E(y,"$get_outlet_elements",function($){var t=this,e=b;return e=""+t.$camelize($,!1)+"OutletElements",Array.from(this[e]||[])}),E(y,"$call_outlet",function($,t,e){var r,i,a=this,l=b;return r=Q(arguments,2),i=r,B(a["$has_outlet?"]($))?(l=a.$get_outlet($),ee(a,"js_call_on",[l,t].concat(J(i)))):b},-3),E(y,"$call_all_outlets",function($,t,e){var r,i,a=this;return r=Q(arguments,2),i=r,ee(a.$get_outlets($),"each",[],function l(g){var S=l.$$s==null?this:l.$$s;return g==null&&(g=b),ee(S,"js_call_on",[g,t].concat(J(i)))},{$$s:a})},-3),E(y,"$stimulus_dispatch",function($,t){var e,r,i,a,l,g=b,S=b;return t=T(t),e=v(t,"detail"),e==null&&(e=new Map),r=v(t,"target"),r==null&&(r=b),i=v(t,"prefix"),i==null&&(i=b),a=v(t,"bubbles"),a==null&&(a=!0),l=v(t,"cancelable"),l==null&&(l=!0),g=B(e["$respond_to?"]("to_n"))?e.$to_n():e,S={detail:g,bubbles:a,cancelable:l},B(r["$nil?"]())||(S.target=r),B(i["$nil?"]())||(S.prefix=i),this.dispatch($,S)},-2),E(y,"$stimulus_dispatch_confirm",function($,t){var e,r=this,i=b;return t=T(t),e=v(t,"detail"),e==null&&(e=new Map),i=r.$stimulus_dispatch($,new Map([["detail",e],["cancelable",!0]])),!i.defaultPrevented},-2),E(y,"$action_params",function(){return event.params||{}}),E(y,"$action_param",function($){return(event.params||{})[$.$to_s()]}),E(y,"$action_param_int",function($,t){var e=this,r=b,i=b;return t==null&&(t=0),r=e.$action_param($),i=e.$parse_int(r),B(e["$is_nan?"](i))?t:i},-2),E(y,"$action_param_bool",function($){var t=this,e=b;return e=t.$action_param($),!!e&&e!=="false"&&e!=="0"}),E(y,"$has_action_param?",function($){return(event.params||{}).hasOwnProperty($.$to_s())}),E(y,"$this_application",function(){return this.application}),E(y,"$this_identifier",function(){return this.identifier}),E(y,"$this_element",function(){return this.element}),E(y,"$get_controller",function($,t){var e=this,r=b;return r=e.$to_native_element($),this.application.getControllerForElementAndIdentifier(r,t)}),E(y,"$get_controllers",function($,t){var e=this,r=b;r=e.$to_native_element($),Array.from(r.querySelectorAll('[data-controller~="'+t+'"]')).map(i=>this.application.getControllerForElementAndIdentifier(i,t)).filter(i=>i!==null)}),E(y,"$this_scope",function(){return this.scope.element}),E(y,"$in_scope?",function($){var t=this,e=b;return e=t.$to_native_element($),this.element.contains(e)}),y.$private(),E(y,"$camelize",function($,t){var e=b,r=b;return t==null&&(t=!0),e=$.$to_s(),B(e["$include?"]("_"))?(r=e.$split("_"),B(t)?ee(r,"map",[],"capitalize".$to_proc()).$join():L([r.$first()],ee(r["$[]"](Y(1,-1,!1)),"map",[],"capitalize".$to_proc())).$join()):B(t)?L(e["$[]"](0).$upcase(),e["$[]"](Y(1,-1,!1)).$to_s()):L(e["$[]"](0).$downcase(),e["$[]"](Y(1,-1,!1)).$to_s())},-2)}(h[0],h)}(w[0],w)}(p[0],p)}(V[0],V),te(V[0],"StimulusHelpers",P(P(P(x("OpalVite"),"Concerns"),"V1"),"StimulusHelpers"))};Opal.modules["controllers/tabs_controller"]=function(n){var q=n.klass,E=n.send2,B=n.find_super,I=n.def,ee=n.truthy,Q=n.send,T=n.eqeq,Z=[],v=n.$r(Z),L=n.nil,ie=n.$$$;return n.add_stubs("include,outlets=,puts,has_outlet?,length,get_outlets,show_panel_by_index,action_param_int,update_tab_buttons,private,query_all_element,each_with_index,==,add_class,remove_class,call_all_outlets,dispatch_window_event,each,js_get,js_equals?,js_call_on"),function(J,Y,te){var V=q(J,Y,"TabsController"),x=[V].concat(te),b=n.$r(x);return V.$include(ie(ie(ie(b("OpalVite"),"Concerns"),"V1"),"StimulusHelpers")),V["$outlets="](["panel"]),I(V,"$initialize",function P(){var X=P.$$p||L,M=this;return P.$$p=null,E(M,B(M,"initialize",P,!1,!0),"initialize",[],X),M.current_index=0}),I(V,"$connect",function(){var X=this,M=L;return X.$puts("TabsController connected"),ee(X["$has_outlet?"]("panel"))?(M=X.$get_outlets("panel").$length(),X.$puts("Found "+M+" panel outlets")):X.$puts("No panel outlets found"),X.$show_panel_by_index(0)}),I(V,"$select",function(){var X=this,M=L;return M=X.$action_param_int("index",0),X.$puts("Selecting tab "+M),X.$update_tab_buttons(M),X.$show_panel_by_index(M),X.current_index=M}),V.$private(),I(V,"$update_tab_buttons",function(X){var M=this,H=L;return H=M.$query_all_element(".tab-button"),Q(H,"each_with_index",[],function p(z,j){var A=p.$$s==null?this:p.$$s;return z==null&&(z=L),j==null&&(j=L),T(j,X)?A.$add_class(z,"tab-active"):A.$remove_class(z,"tab-active")},{$$s:M})}),I(V,"$show_panel_by_index",function(X){var M=this;return ee(M["$has_outlet?"]("panel"))&&(M.$puts("Hiding all panels via outlets"),M.$call_all_outlets("panel","hide")),M.$puts("Dispatching tabs:change event for index "+X),M.$dispatch_window_event("tabs:change",new Map([["index",X]]))}),I(V,"$show_panel_via_outlets",function(X){var M=this,H=L;return H=M.$get_outlets("panel"),Q(H,"each",[],function p(z){var j=p.$$s==null?this:p.$$s,A=L;return z==null&&(z=L),A=j.$js_get(z,"indexValue"),ee(j["$js_equals?"](A,X))?j.$js_call_on(z,"show"):j.$js_call_on(z,"hide")},{$$s:M})})}(Z[0],v("StimulusController"),Z)};Opal.modules["controllers/panel_controller"]=function(n){var q=n.klass,E=n.send,B=n.def,I=n.truthy,ee=[],Q=n.$r(ee),T=n.nil,Z=n.$$$;return n.add_stubs("include,values=,stimulus_value,puts,on_window_event,handle_change,element_remove_class,element_add_class,private,js_equals?,show,hide"),function(v,L,ie){var J=q(v,L,"PanelController"),Y=[J].concat(ie),te=n.$r(Y);return J.$include(Z(Z(Z(te("OpalVite"),"Concerns"),"V1"),"StimulusHelpers")),J["$values="](new Map([["index","number"]])),B(J,"$connect",function(){var x=this,b=T;return b=x.$stimulus_value("index"),x.$puts("PanelController connected - Panel "+b),E(x,"on_window_event",["tabs:change"],function P(X){var M=P.$$s==null?this:P.$$s;return X==null&&(X=T),M.$handle_change(X)},{$$s:x})}),B(J,"$show",function(){var x=this,b=T;return b=x.$stimulus_value("index"),x.$puts("Showing panel "+b),x.$element_remove_class("panel-hidden"),x.$element_add_class("panel-visible")}),B(J,"$hide",function(){var x=this,b=T;return b=x.$stimulus_value("index"),x.$puts("Hiding panel "+b),x.$element_remove_class("panel-visible"),x.$element_add_class("panel-hidden")}),J.$private(),B(J,"$handle_change",function(x){var b=this,P=T,X=T,M=T;return P=x.detail,X=P.index,M=b.$stimulus_value("index"),b.$puts("Panel "+M+" received tabs:change event with index "+X),I(b["$js_equals?"](X,M))?b.$show():b.$hide()})}(ee[0],Q("StimulusController"),ee)};Opal.queue(function(n){var q=n.top,E=[],B=n.$r(E);return n.nil,n.add_stubs("require,puts,register_all!"),q.$require("native"),q.$require("opal_stimulus/stimulus_controller"),q.$require("opal_vite/concerns/v1/stimulus_helpers"),q.$require("controllers/tabs_controller"),q.$require("controllers/panel_controller"),q.$puts("Tabs App - Stimulus Outlets & Dispatch Demo"),q.$puts("Ruby version: "+B("RUBY_VERSION")),B("StimulusController")["$register_all!"](),q.$puts("All controllers registered!")});
