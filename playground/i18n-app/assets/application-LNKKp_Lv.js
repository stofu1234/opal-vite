Opal.modules.native=function(i){var x=i.hash_put,p=i.module,A=i.defs,T=i.slice,ee=i.truthy,X=i.send,R=i.Kernel,W=i.extract_kwargs,v=i.ensure_kwargs,K=i.hash_get,ie=i.range,Z=i.to_a,J=i.def,re=i.return_ivar,V=i.alias,w=i.klass,h=i.rb_minus,P=i.return_val,D=i.send2,k=i.find_super,B=i.eqeqeq,y=i.rb_ge,S=i.return_self,F=i.gvars,I=i.top,q=[],u=i.$r(q),d=i.nil,N=i.$$$;return i.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(g,_){var l=p(g,"Native"),E=[l].concat(_),U=i.$r(E);return A(l,"$is_a?",function(s,n){var t=this;try{return s instanceof t.$try_convert(n)}catch{return!1}}),A(l,"$try_convert",function(s,n){var t=this;return n==null&&(n=d),t["$native?"](s)?s:s["$respond_to?"]("to_n")?s.$to_n():n},-2),A(l,"$convert",function(s){var n=this;if(n["$native?"](s))return s;if(s["$respond_to?"]("to_n"))return s.$to_n();n.$raise(U("ArgumentError"),""+s.$inspect()+" isn't native")}),A(l,"$call",function c(s,n,t){var e=c.$$p||d,r,$,a=this;c.$$p=null,r=T(arguments,2),$=r;var o=s[n];if(o instanceof Function){for(var m=new Array($.length),z=0,C=$.length;z<C;z++){var M=$[z],G=a.$try_convert(M);m[z]=G===d?M:G}return e!==d&&m.push(e),a.$Native(o.apply(s,m))}else return a.$Native(o)},-3),A(l,"$proc",function c(){var s=c.$$p||d,n=this;return c.$$p=null,ee(s)||n.$raise(U("LocalJumpError"),"no block given"),X(R,"proc",[],function t(e){var r,$,a=t.$$s==null?this:t.$$s,o=d;if(r=T(arguments),$=r,X($,"map!",[],function z(C){var M=z.$$s==null?this:z.$$s;return C==null&&(C=d),M.$Native(C)},{$$s:a}),o=a.$Native(this),this===i.global)return s.apply(a,$);var m=s.$$s;s.$$s=null;try{return s.apply(o,$)}finally{s.$$s=m}},{$$arity:-1,$$s:n})}),function(c,s){var n=p(c,"Helpers"),t=[n].concat(s),e=i.$r(t);return J(n,"$alias_native",function r($,a,o){var m,z,C,M;r.$$p;var G=this;return r.$$p=null,m=T(arguments,1),z=W(m),z=v(z),m.length>0&&(C=m.shift()),C==null&&(C=$),M=K(z,"as"),M==null&&(M=d),ee(C["$end_with?"]("="))?X(G,"define_method",[$],function O(ae){var le=O.$$s==null?this:O.$$s;return le.native==null&&(le.native=d),ae==null&&(ae=d),le.native[C["$[]"](ie(0,-2,!1))]=e("Native").$convert(ae),ae},{$$s:G}):ee(M)?X(G,"define_method",[$],function O(ae){var le=O.$$p||d,ce,de,he=O.$$s==null?this:O.$$s,me=d;return he.native==null&&(he.native=d),O.$$p=null,ce=T(arguments),de=ce,me=X(e("Native"),"call",[he.native,C].concat(Z(de)),le.$to_proc()),ee(me)?M.$new(me.$to_n()):d},{$$arity:-1,$$s:G}):X(G,"define_method",[$],function O(ae){var le=O.$$p||d,ce,de,he=O.$$s==null?this:O.$$s;return he.native==null&&(he.native=d),O.$$p=null,ce=T(arguments),de=ce,X(e("Native"),"call",[he.native,C].concat(Z(de)),le.$to_proc())},{$$arity:-1,$$s:G})},-2),J(n,"$native_reader",function($){var a,o,m=this;return a=T(arguments),o=a,X(o,"each",[],function z(C){var M=z.$$s==null?this:z.$$s;return C==null&&(C=d),X(M,"define_method",[C],function G(){var O=G.$$s==null?this:G.$$s;return O.native==null&&(O.native=d),O.$Native(O.native[C])},{$$s:M})},{$$s:m})},-1),J(n,"$native_writer",function($){var a,o,m=this;return a=T(arguments),o=a,X(o,"each",[],function z(C){var M=z.$$s==null?this:z.$$s;return C==null&&(C=d),X(M,"define_method",[""+C+"="],function G(O){var ae=G.$$s==null?this:G.$$s;return ae.native==null&&(ae.native=d),O==null&&(O=d),ae.$Native(ae.native[C]=O)},{$$s:M})},{$$s:m})},-1),J(n,"$native_accessor",function($){var a,o,m=this;return a=T(arguments),o=a,X(m,"native_reader",Z(o)),X(m,"native_writer",Z(o))},-1)}(E[0],E),function(c,s){var n=p(c,"Wrapper"),t=[n].concat(s),e=i.$r(t);return J(n,"$initialize",function($){var a=this;return ee(R["$native?"]($))||R.$raise(e("ArgumentError"),""+$.$inspect()+" isn't native"),a.native=$}),J(n,"$to_n",re("native")),A(n,"$included",function($){return $.$extend(e("Helpers"))})}(E[0],E),A(l,"$included",function(s){var n=this;return n.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),s.$include(U("Wrapper"))})}(q[0],q),function(g,_){var l=p(g,"Kernel"),E=[l].concat(_),U=i.$r(E);return J(l,"$native?",function(s){return s==null||!s.$$class}),J(l,"$Native",function c(s){c.$$p;var n=this;return c.$$p=null,ee(s==null)?d:ee(n["$native?"](s))?N(U("Native"),"Object").$new(s):ee(s["$is_a?"](U("Array")))?X(s,"map",[],function t(e){var r=t.$$s==null?this:t.$$s;return e==null&&(e=d),r.$Native(e)},{$$s:n}):ee(s["$is_a?"](U("Proc")))?X(n,"proc",[],function t(e){var r=t.$$p||d,$,a,o=t.$$s==null?this:t.$$s;return t.$$p=null,$=T(arguments),a=$,o.$Native(X(s,"call",Z(a),r.$to_proc()))},{$$arity:-1,$$s:n}):s}),V(l,"_Array","Array"),J(l,"$Array",function c(s,n){var t=c.$$p||d,e,r,$=this;return c.$$p=null,e=T(arguments,1),r=e,ee($["$native?"](s))?X(N(U("Native"),"Array"),"new",[s].concat(Z(r)),t.$to_proc()).$to_a():$.$_Array(s)},-2)}(q[0],q),function(g,_){var l=w(g,_,"Object"),E=l.$$prototype;return E.native=d,l.$include(N(N("Native"),"Wrapper")),J(l,"$==",function(c){var s=this;return s.native===N("Native").$try_convert(c)}),J(l,"$has_key?",function(c){var s=this;return i.hasOwnProperty.call(s.native,c)}),J(l,"$each",function U(c){var s,n,t=U.$$p||d,e=this;if(U.$$p=null,s=T(arguments),n=s,t!==d){for(var r in e.native)i.yieldX(t,[r,e.native[r]]);return e}else return X(e,"method_missing",["each"].concat(Z(n)))},-1),J(l,"$[]",function(c){var s=this,n=s.native[c];return n instanceof Function?n:N("Native").$call(s.native,c)}),J(l,"$[]=",function(c,s){var n=this,t=d;return t=N("Native").$try_convert(s),ee(t===d)?n.native[c]=s:n.native[c]=t}),J(l,"$merge!",function(c){var s=this;c=N("Native").$convert(c);for(var n in c)s.native[n]=c[n];return s}),J(l,"$respond_to?",function(c,s){var n=this;return s==null&&(s=!1),R.$instance_method("respond_to?").$bind(n).$call(c,s)},-2),J(l,"$respond_to_missing?",function(c,s){var n=this;return i.hasOwnProperty.call(n.native,c)},-2),J(l,"$method_missing",function U(c,s){var n=U.$$p||d,t,e,r,$=this;return U.$$p=null,t=T(arguments,1),e=t,c.charAt(c.length-1)==="="?(r=[c.$slice(0,h(c.$length(),1)),e["$[]"](0)],X($,"[]=",r),r[r.length-1]):X(N("Native"),"call",[$.native,c].concat(Z(e)),n.$to_proc())},-2),J(l,"$nil?",P(!1)),J(l,"$is_a?",function(c){var s=this;return i.is_a(s,c)}),J(l,"$instance_of?",function(c){var s=this;return s.$$class===c}),J(l,"$class",function(){var c=this;return c.$$class}),J(l,"$to_a",function U(c){var s=U.$$p||d,n=this;return U.$$p=null,c==null&&(c=new Map),X(N(N("Native"),"Array"),"new",[n.native,c],s.$to_proc()).$to_a()},-1),J(l,"$inspect",function(){var c=this;return"#<Native:"+String(c.native)+">"}),V(l,"include?","has_key?"),V(l,"key?","has_key?"),V(l,"kind_of?","is_a?"),V(l,"member?","has_key?")}(u("Native"),u("BasicObject")),function(g,_,l){var E=w(g,_,"Array"),U=[E].concat(l),c=i.$r(U),s=E.$$prototype;return s.named=s.native=s.get=s.block=s.set=s.length=d,E.$include(N(c("Native"),"Wrapper")),E.$include(c("Enumerable")),J(E,"$initialize",function n(t,e){var r=n.$$p||d,$=this,a=d;return n.$$p=null,e==null&&(e=new Map),D($,k($,"initialize",n,!1,!0),"initialize",[t],null),$.get=ee(a=e["$[]"]("get"))?a:e["$[]"]("access"),$.named=e["$[]"]("named"),$.set=ee(a=e["$[]"]("set"))?a:e["$[]"]("access"),$.length=ee(a=e["$[]"]("length"))?a:"length",$.block=r,ee($.$length()==null)?$.$raise(c("ArgumentError"),"no length found on the array-like object"):d},-2),J(E,"$each",function n(){var t=n.$$p||d,e=this;if(n.$$p=null,!ee(t))return e.$enum_for("each");for(var r=0,$=e.$length();r<$;r++)i.yield1(t,e["$[]"](r));return e}),J(E,"$[]",function(t){var e=this,r=d,$=d;return r=B(c("String"),$=t)||B(c("Symbol"),$)?ee(e.named)?e.native[e.named](t):e.native[t]:B(c("Integer"),$)?ee(e.get)?e.native[e.get](t):e.native[t]:d,ee(r)?ee(e.block)?e.block.$call(r):e.$Native(r):d}),J(E,"$[]=",function(t,e){var r=this;return ee(r.set)?r.native[r.set](t,c("Native").$convert(e)):r.native[t]=c("Native").$convert(e)}),J(E,"$last",function(t){var e=this,r=d,$=d;if(t==null&&(t=d),ee(t)){for(r=h(e.$length(),1),$=[];ee(y(r,0));)$["$<<"](e["$[]"](r)),r=h(r,1);return $}else return e["$[]"](h(e.$length(),1))},-1),J(E,"$length",function(){var t=this;return t.native[t.length]}),J(E,"$inspect",function(){var t=this;return t.$to_a().$inspect()}),V(E,"to_ary","to_a")}(u("Native"),null,q),function(g,_){var l=w(g,_,"Numeric");return J(l,"$to_n",function(){var U=this;return U.valueOf()})}(q[0],null),function(g,_){var l=w(g,_,"Proc");return J(l,"$to_n",S)}(q[0],null),function(g,_){var l=w(g,_,"String");return J(l,"$to_n",function(){var U=this;return U.valueOf()})}(q[0],null),function(g,_){var l=w(g,_,"Regexp");return J(l,"$to_n",function(){var U=this;return U.valueOf()})}(q[0],null),function(g,_){var l=w(g,_,"MatchData");return J(l,"$to_n",re("matches"))}(q[0],null),function(g,_,l){var E=w(g,_,"Struct"),U=[E].concat(l),c=i.$r(U);return J(E,"$to_n",function(){var n=this,t=d;return t={},X(n,"each_pair",[],function(r,$){return r==null&&(r=d),$==null&&($=d),t[r]=c("Native").$try_convert($,$)}),t})}(q[0],null,q),function(g,_,l){var E=w(g,_,"Array"),U=[E].concat(l),c=i.$r(U);return J(E,"$to_n",function(){for(var n=this,t=[],e=0,r=n.length;e<r;e++){var $=n[e];t.push(c("Native").$try_convert($,$))}return t})}(q[0],null,q),function(g,_){var l=w(g,_,"Boolean");return J(l,"$to_n",function(){var U=this;return U.valueOf()})}(q[0],null),function(g,_){var l=w(g,_,"Time");return J(l,"$to_n",S)}(q[0],null),function(g,_){var l=w(g,_,"NilClass");return J(l,"$to_n",function(){return null})}(q[0],null),ee(u("Hash")["$method_defined?"]("_initialize"))||function(g,_,l){var E=w(g,_,"Hash"),U=[E].concat(l),c=i.$r(U);V(E,"_initialize","initialize");function s(n,t,e){e&&(e.constructor===void 0||e.constructor===Object||e instanceof Map)?x(n,t,c("Hash").$new(e)):e&&e.$$is_array?(e=e.map(function(r){return r&&(r.constructor===void 0||r.constructor===Object||e instanceof Map)?c("Hash").$new(r):E.$Native(r)}),x(n,t,e)):x(n,t,E.$Native(e))}return J(E,"$initialize",function n(t){var e=n.$$p||d,r=this;if(n.$$p=null,t!=null)if(t.constructor===void 0||t.constructor===Object){var $,a;for($ in t)a=t[$],s(r,$,a);return r}else t instanceof Map&&i.hash_each(t,!1,function(o,m){return s(r,o,m),[!1,!1]});return X(r,"_initialize",[t],e.$to_proc())},-1),J(E,"$to_n",function(){var t=this,e={};return i.hash_each(t,!1,function(r,$){return e[c("Native").$try_convert(r,r)]=c("Native").$try_convert($,$),[!1,!1]}),e})}(q[0],null,q),function(g,_){var l=w(g,_,"Module");return J(l,"$native_module",function(){var U=this;return i.global[U.$name()]=U})}(q[0],null),function(g,_,l){var E=w(g,_,"Class"),U=[E].concat(l),c=i.$r(U);return J(E,"$native_alias",function(n,t){var e=this,r=e.prototype[i.jsid(t)];r||e.$raise(c("NameError").$new("undefined method `"+t+"' for class `"+e.$inspect()+"'",t)),e.prototype[n]=r}),J(E,"$native_class",function(){var n=this;return n.$native_module(),n.new=n.$new})}(q[0],null,q),F.$=F.global=I.$Native(i.global)};(function(i){var x;if(typeof globalThis<"u"?i=globalThis:typeof global<"u"?i=global:typeof window<"u"&&(i=window),i.console==null&&(i.console={}),typeof i.console=="object"?x=i.console:x={},"log"in x||(x.log=function(){}),"warn"in x||(x.warn=x.log),typeof i.Opal<"u")return x.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),i.Opal;var p,A,T,ee,X,R,W,v=i.Opal={};v.global=i,v.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var K=Function.prototype.call,ie=Function.prototype.bind,Z=Object.hasOwn||K.bind(Object.prototype.hasOwnProperty),J=Object.setPrototypeOf,re=K.bind(Array.prototype.slice),V=K.bind(Array.prototype.splice),w=4,h=w;function P(){return h+=2,h}v.uid=P,v.id=function(f){return f.$$is_number?f*2+1:(f.$$id==null&&y(f,"$$id",P()),f.$$id)};var D=v.gvars={};v.exit=function(f){D.DEBUG&&x.log("Exited with status "+f)},v.exceptions=[],v.pop_exception=function(f){var b=v.exceptions.pop();b===f||(b?D["!"]=b:D["!"]=p)};function k(f,b){if(f||(f=v.Exception||Error),W&&W.$raise)arguments.length>2?W.$raise(f.$new.apply(f,re(arguments,1))):W.$raise(f,b);else throw f.$new?f.$new(b):new f(b)}var B={value:void 0,enumerable:!1,configurable:!0,writable:!0};function y(f,b,H){typeof f=="string"?f[b]=H:(B.value=H,Object.defineProperty(f,b,B))}v.prop=y,v.defineProperty=v.prop,v.slice=re;var S=v.truthy=function(f){return f!==!1&&p!==f&&f!==void 0&&f!==null&&(!(f instanceof Boolean)||f.valueOf()===!0)};v.falsy=function(f){return!S(f)},v.type_error=function(f,b,H,te){f=f.$$class,te&&H?(te=te.$$class,k(v.TypeError,"can't convert "+f+" into "+b+" ("+f+"#"+H+" gives "+te+")")):k(v.TypeError,"no implicit conversion of "+f+" into "+b)},v.coerce_to=function(f,b,H,te){var ue;return H==="to_int"&&b===v.Integer&&f.$$is_number?f<0?Math.ceil(f):Math.floor(f):H==="to_str"&&b===v.String&&f.$$is_string||v.is_a(f,b)?f:f["$respond_to?"].$$pristine&&f.$method_missing.$$pristine?(ue=f[de(H)],(ue==null||ue.$$stub)&&v.type_error(f,b),ue.apply(f,te)):(f["$respond_to?"](H)||v.type_error(f,b),te==null&&(te=[]),v.send(f,H,te))},v.respond_to=function(f,b,H){if(f==null||!f.$$class)return!1;H=!!H;var te=f[b];if(f["$respond_to?"].$$pristine){if(typeof te=="function"&&!te.$$stub)return!0;if(!f["$respond_to_missing?"].$$pristine)return v.send(f,f["$respond_to_missing?"],[b.substr(1),H])}else return v.send(f,f["$respond_to?"],[b.substr(1),H])},v.trace_class=!1,v.tracers_for_class=[];function F(f){var b,H,te;for(b=0,H=v.tracers_for_class.length;b<H;b++)te=v.tracers_for_class[b],te.trace_object=f,te.block.$call(te)}function I(f,b){if(f.$$autoload[b].loaded){if(f.$$autoload[b].loaded&&!f.$$autoload[b].required&&f.$$autoload[b].exception)throw f.$$autoload[b].exception}else{f.$$autoload[b].loaded=!0;try{v.Kernel.$require(f.$$autoload[b].path)}catch(H){throw f.$$autoload[b].exception=H,H}if(f.$$autoload[b].required=!0,f.$$const[b]!=null)return f.$$autoload[b].success=!0,f.$$const[b]}}function q(f,b){if(f){if(f.$$const[b]!=null)return f.$$const[b];if(f.$$autoload&&f.$$autoload[b])return I(f,b)}}function u(f,b){var H,te,ue;if(f.length!==0)for(H=0,te=f.length;H<te;H++){if(ue=f[H].$$const[b],ue!=null)return ue;if(f[H].$$autoload&&f[H].$$autoload[b])return I(f[H],b)}}function d(f,b){var H,te,ue;if(f!=null)for(ue=G(f),H=0,te=ue.length;H<te;H++){if(ue[H].$$const&&Z(ue[H].$$const,b))return ue[H].$$const[b];if(ue[H].$$autoload&&ue[H].$$autoload[b])return I(ue[H],b)}}function N(f,b){if(f==null||f.$$is_module)return d(T,b)}function g(f,b){return(f||T).$const_missing(b)}v.const_get_local=function(f,b,H){var te;if(f!=null)return f==="::"&&(f=T),!f.$$is_module&&!f.$$is_class&&k(v.TypeError,f.toString()+" is not a class/module"),te=q(f,b),te!=null||H?te:g(f,b)},v.const_get_qualified=function(f,b,H){var te,ue,_e,ge=v.const_cache_version;if(b==null)return te=q(T,f),te??v.const_get_qualified(T,f,H);if(f!=null)return f==="::"&&(f=T),!f.$$is_module&&!f.$$is_class&&k(v.TypeError,f.toString()+" is not a class/module"),(ue=f.$$const_cache)==null&&(y(f,"$$const_cache",Object.create(null)),ue=f.$$const_cache),_e=ue[b],_e==null||_e[0]!==ge?((te=q(f,b))!=null||(te=d(f,b))!=null,ue[b]=[ge,te]):te=_e[1],te!=null||H?te:g(f,b)},v.const_cache_version=1,v.const_get_relative=function(f,b,H){var te=f[0],ue,_e=v.const_cache_version,ge,pe;return(ge=f.$$const_cache)==null&&(y(f,"$$const_cache",Object.create(null)),ge=f.$$const_cache),pe=ge[b],pe==null||pe[0]!==_e?((ue=q(te,b))!=null||(ue=u(f,b))!=null||(ue=d(te,b))!=null||(ue=N(te,b))!=null,ge[b]=[_e,ue]):ue=pe[1],ue!=null||H?ue:g(te,b)};function _(f,b,H){var te=!0;return(f==null||f==="::")&&(f=T),H.$$is_a_module&&((H.$$name==null||H.$$name===p)&&(H.$$name=b),H.$$base_module==null&&(H.$$base_module=f)),f.$$const=f.$$const||Object.create(null),(b in f.$$const||"$$autoload"in f&&b in f.$$autoload)&&(te=!1),f.$$const[b]=H,f.$$=f.$$const,v.const_cache_version++,f===T&&(v[b]=H),y(f,b,H),te&&f.$const_added&&!f.$const_added.$$pristine&&f.$const_added(b),H}v.const_set=_,v.constants=function(f,b){b==null&&(b=!0);var H,te=[f],ue,_e,ge={},pe;for(b&&(te=te.concat(G(f))),b&&f.$$is_module&&(te=te.concat([v.Object]).concat(G(v.Object))),ue=0,_e=te.length;ue<_e&&(H=te[ue],!(f!==T&&H==T));ue++){for(pe in H.$$const)ge[pe]=!0;if(H.$$autoload)for(pe in H.$$autoload)ge[pe]=!0}return Object.keys(ge)},v.const_remove=function(f,b){if(v.const_cache_version++,f.$$const[b]!=null){var H=f.$$const[b];return delete f.$$const[b],H}if(f.$$autoload&&f.$$autoload[b])return delete f.$$autoload[b],p;k(v.NameError,"constant "+f+"::"+f.$name()+" not defined")},v.const_get_relative_factory=function(f){return function(b,H){return v.$$(f,b,H)}},v.$$=v.const_get_relative,v.$$$=v.const_get_qualified,v.$r=v.const_get_relative_factory;function l(f){return f==null?!1:f.$$bridge?f:f.$$super?l(f.$$super):!1}function E(f,b,H){var te,ue;if((ue=l(b))?te=function(){var ye=new(ie.apply(ue.$$constructor,he(null,arguments)));return J(ye,te.$$prototype),ye}:te=function(){},f&&f!==p&&y(te,"displayName","::"+f),y(te,"$$name",f),y(te,"$$constructor",te),y(te,"$$prototype",te.prototype),y(te,"$$const",{}),y(te,"$$is_class",!0),y(te,"$$is_a_module",!0),y(te,"$$super",b),y(te,"$$cvars",{}),y(te,"$$own_included_modules",[]),y(te,"$$own_prepended_modules",[]),y(te,"$$ancestors",[]),y(te,"$$ancestors_cache_version",null),y(te,"$$subclasses",[]),y(te,"$$cloned_from",[]),y(te.$$prototype,"$$class",te),v.Class&&J(te,v.Class.prototype),b!=null){if(J(te.$$prototype,b.$$prototype),H!==!0)if(typeof WeakRef<"u"){var _e,ge,pe=[];for(_e=0;_e<b.$$subclasses.length;_e++)ge=b.$$subclasses[_e],ge.deref()!==void 0&&pe.push(ge);pe.push(new WeakRef(te)),b.$$subclasses=pe}else b.$$subclasses.push(te);b.$$meta&&v.build_class_singleton_class(te)}return te}v.allocate_class=E;function U(f,b){var H=q(f,b);if(H)return H.$$is_class||k(v.TypeError,b+" is not a class"),H}function c(f,b){f.$$super!==b&&k(v.TypeError,"superclass mismatch for class "+f.$$name)}v.klass=function(f,b,H){var te;f==null||f=="::"?f=T:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),b!=null&&(!b.hasOwnProperty||b.hasOwnProperty&&!b.hasOwnProperty("$$is_class"))&&(b.constructor&&b.constructor.name=="Function"?(te=b,b=T):k(v.TypeError,"superclass must be a Class ("+(b.constructor&&(b.constructor.name||b.constructor.$$name)||typeof b)+" given)"));var ue=U(f,H);return ue!=null?b&&c(ue,b):(b==null&&(b=T),ue=E(H,b),_(f,H,ue),b.$inherited&&b.$inherited(ue),te&&v.bridge(te,ue)),v.trace_class&&F(ue),ue};function s(f){var b=function(){},H=b;return f&&y(b,"displayName",f+".constructor"),y(H,"$$name",f),y(H,"$$prototype",b.prototype),y(H,"$$const",{}),y(H,"$$is_module",!0),y(H,"$$is_a_module",!0),y(H,"$$cvars",{}),y(H,"$$iclasses",[]),y(H,"$$own_included_modules",[]),y(H,"$$own_prepended_modules",[]),y(H,"$$ancestors",[H]),y(H,"$$ancestors_cache_version",null),y(H,"$$cloned_from",[]),J(H,v.Module.prototype),H}v.allocate_module=s;function n(f,b){var H=q(f,b);return H==null&&f===T&&(H=d(T,b)),H&&!H.$$is_module&&H!==T&&k(v.TypeError,b+" is not a module"),H}v.module=function(f,b){var H;return f==null||f=="::"?f=T:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),H=n(f,b),H==null&&(H=s(b),_(f,b,H)),v.trace_class&&F(H),H},v.get_singleton_class=function(f){return f.$$is_number&&k(v.TypeError,"can't define singleton"),f.$$meta?f.$$meta:f.hasOwnProperty("$$is_class")?v.build_class_singleton_class(f):f.hasOwnProperty("$$is_module")?v.build_module_singleton_class(f):v.build_object_singleton_class(f)};function t(f,b){f.hasOwnProperty("$$meta")?f.$$meta=b:y(f,"$$meta",b),f.$$frozen?f.$$meta.$freeze():J(f,b.$$prototype)}v.build_class_singleton_class=function(f){if(f.$$meta)return f.$$meta;var b=f===A?X:v.get_singleton_class(f.$$super),H=E(null,b,!0);return y(H,"$$is_singleton",!0),y(H,"$$singleton_of",f),t(f,H),y(f,"$$class",v.Class),H},v.build_module_singleton_class=function(f){if(f.$$meta)return f.$$meta;var b=E(null,v.Module,!0);return y(b,"$$is_singleton",!0),y(b,"$$singleton_of",f),t(f,b),y(f,"$$class",v.Module),b},v.build_object_singleton_class=function(f){var b=f.$$class,H=E(p,b,!0);return y(H,"$$is_singleton",!0),y(H,"$$singleton_of",f),delete H.$$prototype.$$class,t(f,H),H},v.is_method=function(f){return f[0]==="$"&&f[1]!=="$"},v.instance_methods=function(f){for(var b=Object.create(null),H=[],te=G(f),ue=0,_e=te.length;ue<_e;ue++){var ge=te[ue],pe=ge.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ze=ye.length;we<ze;we++){var Ee=ye[we];if(!b[Ee]){if(v.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);H.push(qe)}}b[Ee]=!0}}}return H},v.own_instance_methods=function(f){var b=[],H=f.$$prototype;H.hasOwnProperty("$$dummy")&&(H=H.$$define_methods_on);for(var te=Object.getOwnPropertyNames(H),ue=0,_e=te.length;ue<_e;ue++){var ge=te[ue];if(v.is_method(ge)){var pe=H[ge];if(!pe.$$stub){var ye=ge.slice(1);b.push(ye)}}}return b},v.methods=function(f){return v.instance_methods(f.$$meta||f.$$class)},v.own_methods=function(f){return f.$$meta?v.own_instance_methods(f.$$meta):[]},v.receiver_methods=function(f){var b=v.get_singleton_class(f),H=v.own_instance_methods(b),te=v.own_instance_methods(b.$$super);return H.concat(te)},v.class_variables=function(f){var b=G(f),H,te=b.length,ue={};for(H=te-1;H>=0;H--){var _e=b[H];for(var ge in _e.$$cvars)ue[ge]=_e.$$cvars[ge]}return ue},v.class_variable_set=function(f,b,H){var te=G(f),ue,_e=te.length;for(ue=_e-2;ue>=0;ue--){var ge=te[ue];if(Z(ge.$$cvars,b))return ge.$$cvars[b]=H,H}return f.$$cvars[b]=H,H},v.class_variable_get=function(f,b,H){if(Z(f.$$cvars,b))return f.$$cvars[b];var te=G(f),ue,_e=te.length;for(ue=0;ue<_e;ue++){var ge=te[ue];if(Z(ge.$$cvars,b))return ge.$$cvars[b]}return H||k(v.NameError,"uninitialized class variable "+b+" in "+f.$name()),p};function e(f){return f.hasOwnProperty("$$iclass")&&f.hasOwnProperty("$$root")}function r(f){for(var b=[],H,te=Object.getPrototypeOf(f.$$prototype);te&&!te.hasOwnProperty("$$class");)H=C(te),H&&b.push(H),te=Object.getPrototypeOf(te);return b}function $(f){var b=[],H,te=Object.getPrototypeOf(f.$$prototype);if(f.$$prototype.hasOwnProperty("$$dummy"))for(;te&&te!==f.$$prototype.$$define_methods_on;)H=C(te),H&&b.push(H),te=Object.getPrototypeOf(te);return b}v.append_features=function(f,b){var H=G(f),te=[];H.indexOf(b)!==-1&&k(v.ArgumentError,"cyclic include detected");for(var ue=0,_e=H.length;ue<_e;ue++){var ge=H[ue],pe=o(ge);y(pe,"$$included",!0),te.push(pe)}var ye=G(b),we=z(te),ze,Ee;if(ye.indexOf(f)===-1)ze=b.$$prototype,Ee=Object.getPrototypeOf(b.$$prototype);else{for(var xe=b.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===f&&e(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var ke=Object.getPrototypeOf(qe);ke.hasOwnProperty("$$iclass")&&!e(ke);)ke=Object.getPrototypeOf(ke);ze=xe,Ee=ke}else ze=b.$$prototype,Ee=Object.getPrototypeOf(b.$$prototype)}J(ze,we.first),J(we.last,Ee),b.$$own_included_modules=r(b),v.const_cache_version++},v.prepend_features=function(f,b){var H=G(f),te=[];H.indexOf(b)!==-1&&k(v.ArgumentError,"cyclic prepend detected");for(var ue=0,_e=H.length;ue<_e;ue++){var ge=H[ue],pe=o(ge);y(pe,"$$prepended",!0),te.push(pe)}var ye=z(te),we=b.$$prototype,ze=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=m(b),a(b),y(we,"$$dummy",!0),y(we,"$$define_methods_on",Ee),J(we,Ee),J(Ee,ze));var ke=G(b);if(ke.indexOf(f)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else k(v.RuntimeError,"Prepending a module multiple times is not supported");J(xe,ye.first),J(ye.last,qe),b.$$own_prepended_modules=$(b),v.const_cache_version++};function a(f){for(var b=f.$$prototype,H=Object.getOwnPropertyNames(b),te=0;te<H.length;te++){var ue=H[te];v.is_method(ue)&&delete b[ue]}}function o(f){var b=m(f);return f.$$is_module&&f.$$iclasses.push(b),b}function m(f){var b={},H=f.$$prototype;H.hasOwnProperty("$$dummy")&&(H=H.$$define_methods_on);var te=Object.getOwnPropertyNames(H),ue=te.length,_e;for(_e=0;_e<ue;_e++){var ge=te[_e];y(b,ge,H[ge])}return y(b,"$$iclass",!0),y(b,"$$module",f),b}function z(f){var b=f.length,H=f[0];if(y(H,"$$root",!0),b===1)return{first:H,last:H};for(var te=H,ue=1;ue<b;ue++){var _e=f[ue];J(te,_e),te=_e}return{first:f[0],last:f[b-1]}}v.bridge=function(f,b){f.hasOwnProperty("$$bridge")&&k(v.ArgumentError,"already bridged"),y(f,"$$bridge",b),J(f.prototype,(b.$$super||v.Object).$$prototype),y(b,"$$prototype",f.prototype),y(b.$$prototype,"$$class",b),y(b,"$$constructor",f),y(b,"$$bridge",!0)};function C(f){if(!f.hasOwnProperty("$$dummy")){if(f.hasOwnProperty("$$iclass"))return f.$$module;if(f.hasOwnProperty("$$class"))return f.$$class}}function M(f){return f.$$own_prepended_modules.concat([f]).concat(f.$$own_included_modules)}function G(f){if(!f)return[];if(f.$$ancestors_cache_version===v.const_cache_version)return f.$$ancestors;var b=[],H,te,ue;for(H=0,te=M(f),ue=te.length;H<ue;H++)b.push(te[H]);if(f.$$super)for(H=0,te=G(f.$$super),ue=te.length;H<ue;H++)b.push(te[H]);return f.$$ancestors_cache_version=v.const_cache_version,f.$$ancestors=b,b}v.ancestors=G,v.included_modules=function(f){for(var b=[],H=null,te=Object.getPrototypeOf(f.$$prototype);te&&Object.getPrototypeOf(te);te=Object.getPrototypeOf(te))H=C(te),H&&H.$$is_module&&te.$$iclass&&te.$$included&&b.push(H);return b},v.add_stubs=function(f){var b=v.BasicObject.$$prototype,H,te;f=f.split(",");for(var ue=0,_e=f.length;ue<_e;ue++)H=de(f[ue]),te=b[H],(te==null||te.$$stub)&&v.add_stub_for(b,H)},v.add_stub_for=function(f,b){y(f,b,v.stub_for(b))},v.stub_for=function(f){function b(){return this.$method_missing.$$p=b.$$p,b.$$p=null,this.$method_missing.apply(this,he(f.slice(1),arguments))}return b.$$stub=!0,b},v.ac=function(f,b,H,te){var ue="";H.$$is_a_module?ue+=H.$$name+".":ue+=H.$$class.$$name+"#",ue+=te,k(v.ArgumentError,"["+ue+"] wrong number of arguments (given "+f+", expected "+b+")")},v.block_ac=function(f,b,H){var te="`block in "+H+"'";k(v.ArgumentError,te+": wrong number of arguments (given "+f+", expected "+b+")")};function O(f){return f.hasOwnProperty("$$meta")&&f.$$meta!==null?G(f.$$meta):G(f.$$class)}v.find_super=function(f,b,H,te,ue){var _e=de(b),ge,pe,ye,we,ze=-1,Ee;for(ge=O(f),we=H.$$owner,Ee=0;Ee<ge.length;Ee++)if(pe=ge[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ze=Ee;break}for(Ee=ze+1;Ee<ge.length;Ee++){pe=ge[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(_e)){ye=xe[_e];break}}return!te&&ye&&ye.$$stub&&f.$method_missing.$$pristine&&k(v.NoMethodError,"super: no superclass method `"+b+"' for "+f,b),ye.$$stub&&!ue?null:ye},v.find_block_super=function(f,b,H,te,ue){var _e=b;return H||k(v.RuntimeError,"super called outside of method"),ue&&H.$$define_meth&&k(v.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),H.$$def&&(_e=H.$$jsid),v.find_super(f,_e,H,te)},v.find_super_dispatcher=v.find_super,v.find_iter_super_dispatcher=v.find_block_super;function ae(f,b,H){try{f(b)}catch(te){if(te===H)return H.$v;throw te}}v.yield1=function(f,b){typeof f!="function"&&k(v.LocalJumpError,"no block given");var H=f.$$has_top_level_mlhs_arg,te=f.$$has_trailing_comma_in_args,ue=f.$$is_lambda&&f.$$ret;return(f.length>1||(H||te)&&f.length===1)&&(b=v.to_ary(b)),(f.length>1||te&&f.length===1)&&b.$$is_array?ue?ae(f.apply.bind(f,null),b,f.$$ret):f.apply(null,b):ue?ae(f,b,f.$$ret):f(b)},v.yieldX=function(f,b){return typeof f!="function"&&k(v.LocalJumpError,"no block given"),f.length>1&&b.length===1&&b[0].$$is_array&&(b=b[0]),f.$$is_lambda&&f.$$ret?ae(f.apply.bind(f,null),b,f.$$ret):f.apply(null,b)},v.rescue=function(f,b){for(var H=0;H<b.length;H++){var te=b[H];if(te.$$is_array){var ue=v.rescue(f,te);if(ue)return ue}else if(te===v.JS.Error||te["$==="](f))return te}return null},v.is_a=function(f,b){if(b!=null&&f.$$meta===b||f.$$class===b)return!0;if(f.$$is_number&&b.$$is_number_class)return b.$$is_integer_class?f%1===0:!0;var H=G(f.$$is_class?v.get_singleton_class(f):f.$$meta||f.$$class);return H.indexOf(b)!==-1},v.to_hash=function(f){if(f.$$is_hash)return f;if(f["$respond_to?"]("to_hash",!0)){var b=f.$to_hash();if(b.$$is_hash)return b;k(v.TypeError,"Can't convert "+f.$$class+" to Hash ("+f.$$class+"#to_hash gives "+b.$$class+")")}else k(v.TypeError,"no implicit conversion of "+f.$$class+" into Hash")},v.to_ary=function(f){if(f.$$is_array)return f;if(f["$respond_to?"]("to_ary",!0)){var b=f.$to_ary();if(b===p)return[f];if(b.$$is_array)return b;k(v.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_ary gives "+b.$$class+")")}else return[f]},v.to_a=function(f){if(f.$$is_array)return f.slice();if(f["$respond_to?"]("to_a",!0)){var b=f.$to_a();if(b===p)return[f];if(b.$$is_array)return b;k(v.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_a gives "+b.$$class+")")}else return[f]},v.extract_kwargs=function(f){var b=f[f.length-1];if(b!=null&&v.respond_to(b,"$to_hash",!0))return V(f,f.length-1),b},v.kwrestargs=function(f,b){var H=new Map;return v.hash_each(f,!1,function(te,ue){return b[te]||v.hash_put(H,te,ue),[!1,!1]}),H};function le(f,b){typeof b=="number"?f.$$arity=b:typeof b=="object"&&Object.assign(f,b)}var ce=new Map;function de(f){var b=ce.get(f);return b||(b="$"+f,ce.set(f,b)),b}v.jsid=de;function he(f,b){return b.$$is_array||(b=re(b)),[f].concat(b)}v.send=function(f,b,H,te,ue){var _e;return typeof b=="function"?(_e=b,b=null):typeof b=="string"?_e=f[de(b)]:k(v.NameError,"Passed method should be a string or a function"),v.send2(f,_e,b,H,te,ue)},v.send2=function(f,b,H,te,ue,_e){return b==null&&H!=null&&f.$method_missing&&(b=f.$method_missing,te=he(H,te)),le(ue,_e),typeof ue=="function"&&(b.$$p=ue),b.apply(f,te)},v.refined_send=function(f,b,H,te,ue,_e){var ge,pe,ye,we,ze,Ee,xe,qe,ke,Ae;for(we=O(b),ge=0;ge<we.length;ge++)for(ze=v.id(we[ge]),pe=0;pe<f.length;pe++)for(Ee=f[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ze]>"u")&&(ke=qe[ze],typeof ke.$$prototype[de(H)]<"u")))return Ae=ke.$$prototype[de(H)],v.send2(b,Ae,H,te,ue,_e);return v.send(b,H,te,ue,_e)},v.lambda=function(f,b){return f.$$is_lambda=!0,le(f,b),f},v.def=function(f,b,H,te){return le(H,te),f===v.top?v.defn(v.Object,b,H):!f.$$eval&&f.$$is_a_module?v.defn(f,b,H):v.defs(f,b,H)},v.defn=function(f,b,H){j(f),H.displayName=b,H.$$owner=f;var te=b.substr(1),ue=f.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),y(ue,b,H),f.$$is_module){f.$$module_function&&v.defs(f,b,H);for(var _e=0,ge=f.$$iclasses,pe=ge.length;_e<pe;_e++){var ye=ge[_e];y(ye,b,H)}}var we=f.$$singleton_of;return f.$method_added&&!f.$method_added.$$stub&&!we?f.$method_added(te):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(te),te},v.defs=function(f,b,H,te){return le(H,te),(f.$$is_string||f.$$is_number)&&k(v.TypeError,"can't define singleton"),v.defn(v.get_singleton_class(f),b,H)};function me(f,b){if(f.$$is_module)for(var H=0,te=f.$$iclasses,ue=te.length;H<ue;H++){var _e=te[H];delete _e[b]}}v.rdef=function(f,b){Z(f.$$prototype,b)||k(v.NameError,"method '"+b.substr(1)+"' not defined in "+f.$name()),delete f.$$prototype[b],me(f,b),f.$$is_singleton?f.$$prototype.$singleton_method_removed&&!f.$$prototype.$singleton_method_removed.$$stub&&f.$$prototype.$singleton_method_removed(b.substr(1)):f.$method_removed&&!f.$method_removed.$$stub&&f.$method_removed(b.substr(1))},v.udef=function(f,b){(!f.$$prototype[b]||f.$$prototype[b].$$stub)&&k(v.NameError,"method '"+b.substr(1)+"' not defined in "+f.$name()),v.add_stub_for(f.$$prototype,b),me(f,b),f.$$is_singleton?f.$$prototype.$singleton_method_undefined&&!f.$$prototype.$singleton_method_undefined.$$stub&&f.$$prototype.$singleton_method_undefined(b.substr(1)):f.$method_undefined&&!f.$method_undefined.$$stub&&f.$method_undefined(b.substr(1))};function ve(f){return typeof f=="function"&&!f.$$stub}v.alias=function(f,b,H){var te=de(b),ue=de(H),_e,ge;if(typeof f.$$prototype>"u"&&(f=v.Object),_e=f.$$prototype[ue],f.$$eval)return v.alias(v.get_singleton_class(f),b,H);if(!ve(_e)){for(var pe=f.$$super;typeof _e!="function"&&pe;)_e=pe[ue],pe=pe.$$super;!ve(_e)&&f.$$is_module&&(_e=v.Object.$$prototype[ue]),ve(_e)||k(v.NameError,"undefined method `"+H+"' for class `"+f.$name()+"'")}return _e.$$alias_of&&(_e=_e.$$alias_of),ge=v.wrap_method_body(_e),ge.displayName=b,ge.$$alias_of=_e,ge.$$alias_name=b,v.defn(f,te,ge),f},v.wrap_method_body=function(f){var b=function(){var H=b.$$p;return b.$$p=null,v.send(this,f,arguments,H)};try{Object.defineProperty(b,"length",{value:f.length})}catch{}return b.$$arity=f.$$arity==null?f.length:f.$$arity,b.$$parameters=f.$$parameters,b.$$source_location=f.$$source_location,b},v.alias_gvar=function(f,b){return Object.defineProperty(D,f,{configurable:!0,enumerable:!0,get:function(){return D[b]},set:function(H){D[b]=H}}),p},v.alias_native=function(f,b,H){var te=de(b),ue=f.$$prototype[H];return(typeof ue!="function"||ue.$$stub)&&k(v.NameError,"undefined native method `"+H+"' for class `"+f.$name()+"'"),v.defn(f,te,ue),f},v.hash_init=function(f){x.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},v.hash_clone=function(f,b){return b.$$none=f.$$none,b.$$proc=f.$$proc,v.hash_each(f,b,function(H,te){return v.hash_put(b,H,te),[!1,b]})},v.hash_put=function(f,b,H){var te=typeof b;if(te==="string"||te==="symbol"||te==="number"||te==="boolean"||te==="bigint")f.set(b,H);else if(b.$$is_string)f.set(b.valueOf(),H);else{f.$$keys||(f.$$keys=new Map);var ue=b.$$is_string?b.valueOf():f.$$by_identity?v.id(b):b.$hash(),_e=f.$$keys;if(!_e.has(ue)){_e.set(ue,[b]),f.set(b,H);return}for(var ge=_e.get(ue),pe,ye=0;ye<ge.length;ye++)if(pe=ge[ye],b===pe||b["$eql?"](pe)){f.set(pe,H);return}ge.push(b),f.set(b,H)}},v.hash_get=function(f,b){var H=typeof b;if(H==="string"||H==="symbol"||H==="number"||H==="boolean"||H==="bigint")return f.get(b);if(f.$$keys){var te=b.$$is_string?b.valueOf():f.$$by_identity?v.id(b):b.$hash(),ue=f.$$keys.get(te),_e;if(ue!==void 0){for(var ge=0;ge<ue.length;ge++)if(_e=ue[ge],b===_e||b["$eql?"](_e))return f.get(_e)}else if(b.$$is_string)return f.get(te)}else if(b.$$is_string)return f.get(b.valueOf())};function be(f,b){var H=f.get(b);if(H!==void 0)return f.delete(b),H}v.hash_delete=function(f,b){var H=typeof b;if(H==="string"||H==="symbol"||H==="number"||H==="boolean"||H==="bigint")return be(f,b);if(f.$$keys){var te=b.$$is_string?b.valueOf():f.$$by_identity?v.id(b):b.$hash(),ue=f.$$keys.get(te),_e;if(ue!==void 0){for(var ge=0;ge<ue.length;ge++)if(_e=ue[ge],b===_e||b["$eql?"](_e))return ue.splice(ge,1),ue.length===0&&f.$$keys.delete(te),be(f,_e)}else if(b.$$is_string)return be(f,te)}else if(b.$$is_string)return be(f,b.valueOf())},v.hash_rehash=function(f){var b=f.$$keys;return b&&b.clear(),v.hash_each(f,!1,function(H,te){var ue=typeof H;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var _e=H.$$is_string?H.valueOf():f.$$by_identity?v.id(H):H.$hash();if(b||(f.$$keys=b=new Map),!b.has(_e))return b.set(_e,[H]),[!1,!1];for(var ge=b.get(_e),pe=ge.length===1?ge:re(ge),ye,we=0;we<pe.length;we++)ye=pe[we],(H===ye||H["$eql?"](ye))&&(ge.splice(ge.indexOf(ye),1),f.delete(ye));return ge.push(H),[!1,!1]}),f},v.hash=function(){var f=arguments.length,b,H,te,ue,_e,ge;if(f===1&&arguments[0].$$is_hash)return arguments[0];if(H=new Map,f===1)if(b=arguments[0],arguments[0].$$is_array){for(ue=b.length,te=0;te<ue;te++)b[te].length!==2&&k(v.ArgumentError,"value not of length 2: "+b[te].$inspect()),_e=b[te][0],ge=b[te][1],v.hash_put(H,_e,ge);return H}else{b=arguments[0];for(_e in b)Z(b,_e)&&(ge=b[_e],v.hash_put(H,_e,ge));return H}for(f%2!==0&&k(v.ArgumentError,"odd number of arguments for Hash"),te=0;te<f;te+=2)_e=arguments[te],ge=arguments[te+1],v.hash_put(H,_e,ge);return H},v.hash2=function(f,b){x.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var H=new Map,te=0,ue=f.length;te<ue;te++)H.set(f[te],b[f[te]]);return H},v.hash_each=function(f,b,H){for(var te,ue=0,_e,ge=Array.from(f.entries()),pe=ge.length;ue<pe;ue++)if(_e=ge[ue],te=H(_e[0],_e[1]),te[0])return te[1];return te?te[1]:b},v.range=function(f,b,H){var te=new v.Range;return te.begin=f,te.end=b,te.excl=H,te};var $e=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];v.ivar=function(f){return $e.indexOf(f)!==-1&&(f+="$"),f};function j(f){f.$$frozen&&k(v.FrozenError,"can't modify frozen "+f.$class()+": "+f,new Map([["receiver",f]]))}v.deny_frozen_access=j,v.freeze=function(f){return y(f,"$$frozen",!0),f.hasOwnProperty("$$id")||y(f,"$$id",P()),f.hasOwnProperty("$$meta")?f.$$meta.$freeze():y(f,"$$meta",null),f.hasOwnProperty("$$comparable")||y(f,"$$comparable",null),Object.seal(f),f};function L(f,b){var H=Object.getOwnPropertyNames(f),te=H.length,ue,_e,ge;for(ue=0;ue<te;ue++)_e=H[ue],_e[0]!=="$"&&(ge=Object.getOwnPropertyDescriptor(f,_e),ge&&ge.enumerable&&b(_e,ge))}v.each_ivar=L,v.freeze_props=function(f){var b={get:null,set:function(H){j(f)},enumerable:!0};L(f,function(H,te){te.writable&&(b.get=se(te.value),Object.defineProperty(f,H,b))})},v.escape_regexp=function(f){return f.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},v.global_regexp=function(f){return f.global?f:(f.$$g==null?f.$$g=new RegExp(f.source,(f.multiline?"gm":"g")+(f.ignoreCase?"i":"")):f.$$g.lastIndex=null,f.$$g)},v.global_multiline_regexp=function(f){var b,H;return f.global&&f.multiline?f:(H="gm"+(f.ignoreCase?"i":""),f.multiline?(f.$$g==null&&(f.$$g=new RegExp(f.source,H)),b=f.$$g):(f.$$gm==null&&(f.$$gm=new RegExp(f.source,H)),b=f.$$gm),b.lastIndex=null,b)},v.regexp=function(f,b){for(var H,te=typeof b<"u"&&b&&b.indexOf("i")>=0,ue=0,_e=f.length;ue<_e;ue++)H=f[ue],H instanceof RegExp&&(H.ignoreCase!==te&&v.Kernel.$warn("ignore case doesn't match for "+H.source.$inspect(),new Map([["uplevel",1]])),H=H.source),H===""&&(H="(?:"+H+")"),f[ue]=H;return b?new RegExp(f.join(""),b):new RegExp(f.join(""))},v.modules={},v.loaded_features=["corelib/runtime"],v.current_dir=".",v.require_table={"corelib/runtime":!0},v.normalize=function(f){var b,H,te=[],ue="/";v.current_dir!=="."&&(f=v.current_dir.replace(/\/*$/,"/")+f),f=f.replace(/^\.\//,""),f=f.replace(/\.(rb|opal|js)$/,""),b=f.split(ue);for(var _e=0,ge=b.length;_e<ge;_e++)H=b[_e],H!==""&&(H===".."?te.pop():te.push(H));return te.join(ue)},v.loaded=function(f){var b,H,te;for(b=0,H=f.length;b<H;b++)te=v.normalize(f[b]),!v.require_table[te]&&(v.loaded_features.push(te),v.require_table[te]=!0)},v.load_normalized=function(f){v.loaded([f]);var b=v.modules[f];if(b){var H=b(v);if(typeof Promise<"u"&&H instanceof Promise)return H.then(se(!0))}else{var te=v.config.missing_require_severity,ue="cannot load such file -- "+f;te==="error"?k(v.LoadError,ue):te==="warning"&&x.warn("WARNING: LoadError: "+ue)}return!0},v.load=function(f){return f=v.normalize(f),v.load_normalized(f)},v.require=function(f){return f=v.normalize(f),v.require_table[f]?!1:v.load_normalized(f)},v.encodings=Object.create(null),v.set_encoding=function(f,b,H){typeof H>"u"&&(H="encoding"),(typeof f=="string"||f.$$frozen===!0)&&k(v.FrozenError,"can't modify frozen String");var te=v.find_encoding(b);return te===f[H]||(f[H]=te),f},v.find_encoding=function(f){var b=v.encodings,H=b[f]||b[f.toUpperCase()];return H||k(v.ArgumentError,"unknown encoding name - "+f),H},v.enc=function(f,b){var H=new String(f);return H=v.set_encoding(H,b),H.internal_encoding=H.encoding,H},v.binary=function(f){var b=new String(f);return v.set_encoding(b,"binary","internal_encoding")},v.last_promise=null,v.promise_unhandled_exception=!1,v.queue=function(f){if(v.last_promise)return v.last_promise=v.last_promise.then(function(){if(!v.promise_unhandled_exception)return f(v)}).catch(function(H){v.respond_to(H,"$full_message")&&(H=H.$full_message()),x.error(H),v.promise_unhandled_exception=!0,v.exit(1)}),v.last_promise;var b=f(v);return typeof Promise=="function"&&typeof b=="object"&&b instanceof Promise&&(v.last_promise=b),b};function Y(f,b){return typeof f=="number"&&typeof b=="number"}v.rb_plus=function(f,b){return Y(f,b)?f+b:f["$+"](b)},v.rb_minus=function(f,b){return Y(f,b)?f-b:f["$-"](b)},v.rb_times=function(f,b){return Y(f,b)?f*b:f["$*"](b)},v.rb_divide=function(f,b){return Y(f,b)?f/b:f["$/"](b)},v.rb_lt=function(f,b){return Y(f,b)?f<b:f["$<"](b)},v.rb_gt=function(f,b){return Y(f,b)?f>b:f["$>"](b)},v.rb_le=function(f,b){return Y(f,b)?f<=b:f["$<="](b)},v.rb_ge=function(f,b){return Y(f,b)?f>=b:f["$>="](b)};function Q(f,b){return typeof f=="number"&&typeof b=="number"||typeof f=="string"&&typeof b=="string"}function ne(f,b){return Q(f,b)?f===b:S(f["$=="](b))}v.eqeq=ne,v.eqeqeq=function(f,b){return Q(f,b)?f===b:S(f["$==="](b))},v.neqeq=function(f,b){return Q(f,b)?f!==b:S(f["$!="](b))},v.not=function(f){return f==null||f===!1||p===f?!0:f===!0||f["$!"].$$pristine?!1:S(f["$!"]())};function se(f){return function(){return f}}v.return_val=se,v.return_self=function(){return this},v.return_ivar=function(f){return function(){return this[f]==null?p:this[f]}},v.assign_ivar=function(f){return function(b){return j(this),this[f]=b}},v.assign_ivar_val=function(f,b){return function(){return j(this),this[f]=b}},v.ensure_kwargs=function(f){if(f==null)return new Map;if(f.$$is_hash)return f;k(v.ArgumentError,"expected kwargs")},v.get_kwarg=function(f,b){var H=v.hash_get(f,b);return H===void 0&&k(v.ArgumentError,"missing keyword: "+b),H},v.large_array_unpack=function(f){var b=f.split(","),H=b.length,te;for(te=0;te<H;te++)switch(b[te][0]){case void 0:b[te]=p;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":b[te]=+b[te]}return b},v.opal32_init=se(1332765036);function oe(f,b){return f<<b|f>>>32-b}v.opal32_add=function(f,b){return f^=b,f=oe(f,1),f},v.BasicObject=A=E("BasicObject",null),v.Object=T=E("Object",v.BasicObject),v.Module=ee=E("Module",v.Object),v.Class=X=E("Class",v.Module),v.Opal=R=s("Opal"),v.Kernel=W=s("Kernel"),J(v.BasicObject,v.Class.$$prototype),J(v.Object,v.Class.$$prototype),J(v.Module,v.Class.$$prototype),J(v.Class,v.Class.$$prototype),A.$$const.BasicObject=A,_(T,"BasicObject",A),_(T,"Object",T),_(T,"Module",ee),_(T,"Class",X),_(T,"Opal",R),_(T,"Kernel",W),A.$$class=X,T.$$class=X,ee.$$class=X,X.$$class=X,R.$$class=ee,W.$$class=ee,y(T.$$prototype,"toString",function(){var f=this.$to_s();return f.$$is_string&&typeof f=="object"?f.valueOf():f}),y(T.$$prototype,"$require",v.require),v.top=new T,v.top.$to_s=v.top.$inspect=se("main"),v.top.$define_method=fe;function fe(){var f=fe.$$p;return fe.$$p=null,v.send(T,"define_method",arguments,f)}v.NilClass=E("NilClass",v.Object),_(T,"NilClass",v.NilClass),p=v.nil=new v.NilClass,p.$$id=w,p.call=p.apply=function(){k(v.LocalJumpError,"no block given")},p.$$frozen=!0,p.$$comparable=!1,Object.seal(p),v.thrower=function(f){var b={$thrower_type:f,$throw:function(H,te){throw H==null&&(H=p),this.is_orphan&&!te&&k(v.LocalJumpError,"unexpected "+f,H,f.$to_sym()),this.$v=H,this},is_orphan:!1};return b},Object.defineProperty(D,"@",{enumerable:!0,configurable:!0,get:function(){return S(D["!"])?D["!"].$backtrace():p},set:function(f){S(D["!"])?D["!"].$set_backtrace(f):k(v.ArgumentError,"$! not set")}}),v.t_eval_return=v.thrower("return"),TypeError.$$super=Error,v.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(i){var x=i.type_error,p=i.coerce_to,A=i.module,T=i.defs,ee=i.slice,X=i.eqeqeq,R=i.Kernel,W=i.truthy,v=i.Opal,K=i.nil,ie=i.$$$;return i.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(Z){var J=A(Z,"Opal");T(J,"$bridge",function(w,h){return i.bridge(w,h)}),T(J,"$coerce_to!",function(w,h,P,D){var k,B,y=K;return k=ee(arguments,3),B=k,y=p(w,h,P,B),X(h,y)||R.$raise(x(w,h,P,y)),y},-4),T(J,"$coerce_to?",function(w,h,P,D){var k,B,y=K;return k=ee(arguments,3),B=k,!W(w["$respond_to?"](P))||(y=p(w,h,P,B),W(y["$nil?"]()))?K:(X(h,y)||R.$raise(x(w,h,P,y)),y)},-4),T(J,"$try_convert",function(w,h,P){return X(h,w)?w:W(w["$respond_to?"](P))?w.$__send__(P):K}),T(J,"$compare",function(w,h){var P=K;return P=w["$<=>"](h),W(P===K)&&R.$raise(ie("ArgumentError"),"comparison of "+w.$class()+" with "+h.$class()+" failed"),P}),T(J,"$destructure",function(w){if(w.length==1)return w[0];if(w.$$is_array)return w;for(var h=new Array(w.length),P=0,D=h.length;P<D;P++)h[P]=w[P];return h}),T(J,"$respond_to?",function(w,h,P){return P==null&&(P=!1),w==null||!w.$$class?!1:w["$respond_to?"](h,P)},-3),T(J,"$instance_variable_name!",function(w){return w=v["$coerce_to!"](w,ie("String"),"to_str"),W(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(w))||R.$raise(ie("NameError").$new("'"+w+"' is not allowed as an instance variable name",w)),w}),T(J,"$class_variable_name!",function(w){return w=v["$coerce_to!"](w,ie("String"),"to_str"),W(w.length<3||w.slice(0,2)!=="@@")&&R.$raise(ie("NameError").$new("`"+w+"' is not allowed as a class variable name",w)),w}),T(J,"$const_name?",function(w){return typeof w!="string"&&(w=v["$coerce_to!"](w,ie("String"),"to_str")),w[0]===w[0].toUpperCase()}),T(J,"$const_name!",function(w){var h=this;return W(ie("::","String","skip_raise")?"constant":K)&&(w=v["$coerce_to!"](w,ie("String"),"to_str")),(!w||w[0]!=w[0].toUpperCase())&&h.$raise(ie("NameError"),"wrong constant name "+w),w}),T(J,"$pristine",function(w,h){var P,D;P=ee(arguments,1),D=P;for(var k,B,y=D.length-1;y>=0;y--)k=D[y],B=w.$$prototype[i.jsid(k)],B&&!B.$$stub&&(B.$$pristine=!0);return K},-2);var re=[];return T(J,"$inspect",function(w){var h=K,P=!1;return function(){try{try{return w===null?"null":w===void 0?"undefined":typeof w.$$class>"u"?Object.prototype.toString.apply(w):typeof w.$inspect!="function"||w.$inspect.$$stub||re.indexOf(w.$__id__())!==-1?"#<"+w.$$class+":0x"+w.$__id__().$to_s(16)+">":(re.push(w.$__id__()),P=!0,w.$inspect())}catch(D){if(i.rescue(D,[ie("Exception")])){h=D;try{return"#<"+w.$$class+":0x"+w.$__id__().$to_s(16)+">"}finally{i.pop_exception(D)}}else throw D}}finally{P&&re.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(i){var x=i.truthy,p=i.coerce_to,A=i.const_set,T=i.Object,ee=i.return_ivar,X=i.assign_ivar,R=i.ivar,W=i.deny_frozen_access,v=i.freeze,K=i.prop,ie=i.jsid,Z=i.each_ivar,J=i.klass,re=i.Opal,V=i.Kernel,w=i.defs,h=i.send,P=i.def,D=i.eqeqeq,k=i.Module,B=i.rb_lt,y=i.rb_gt,S=i.slice,F=i.to_a,I=i.return_val,q=i.eqeq,u=i.not,d=i.rb_le,N=i.range,g=i.send2,_=i.find_super,l=i.alias,E=[],U=i.nil,c=i.$$$;return i.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(s,n,t){var e=J(s,n,"Module"),r=[e].concat(t),$=i.$r(r);function a(C){if(C.$$is_string)return C;var M=re.$try_convert(C,c("String"),"to_str");if(M.$$is_string)return M;M===U?V.$raise(c("TypeError"),""+C+" is not a symbol nor a string"):V.$raise(c("TypeError"),"can't convert "+C.$class()+" to String ("+C.$class()+"#to_str gives "+M.$class())}w(e,"$allocate",function(){var M=this,G=i.allocate_module(U,function(){});return M!==i.Module&&Object.setPrototypeOf(G,M.$$prototype),G}),P(e,"$initialize",function C(){var M=C.$$p||U,G=this;return C.$$p=null,M!==U?h(G,"module_eval",[],M.$to_proc()):U}),P(e,"$===",function(M){var G=this;return x(M==null)?!1:i.is_a(M,G)}),P(e,"$<",function(M){var G=this;D(k,M)||V.$raise(c("TypeError"),"compared with non class/module");var O=G,ae,le,ce;if(O===M)return!1;for(le=0,ae=i.ancestors(G),ce=ae.length;le<ce;le++)if(ae[le]===M)return!0;for(le=0,ae=i.ancestors(M),ce=ae.length;le<ce;le++)if(ae[le]===G)return!1;return U}),P(e,"$<=",function(M){var G=this,O=U;return x(O=G["$equal?"](M))?O:B(G,M)}),P(e,"$>",function(M){var G=this;return D(k,M)||V.$raise(c("TypeError"),"compared with non class/module"),B(M,G)}),P(e,"$>=",function(M){var G=this,O=U;return x(O=G["$equal?"](M))?O:y(G,M)}),P(e,"$<=>",function(M){var G=this,O=U;return G===M?0:!D(k,M)||(O=B(G,M),x(O["$nil?"]()))?U:x(O)?-1:1}),P(e,"$alias_method",function(M,G){var O=this;return W(O),M=p(M,c("String"),"to_str"),G=p(G,c("String"),"to_str"),i.alias(O,M,G),O}),P(e,"$alias_native",function(M,G){var O=this;return G==null&&(G=M),W(O),i.alias_native(O,M,G),O},-2),P(e,"$ancestors",function(){var M=this;return i.ancestors(M)}),P(e,"$append_features",function(M){var G=this;return W(M),i.append_features(G,M),G}),P(e,"$attr_accessor",function(M){var G,O,ae=this;return G=S(arguments),O=G,h(ae,"attr_reader",F(O)),h(ae,"attr_writer",F(O))},-1),P(e,"$attr",function(M){var G,O,ae=this;return G=S(arguments),O=G,O.length==2&&(O[1]===!0||O[1]===!1)?(ae.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),O[1]?ae.$attr_accessor(O[0]):ae.$attr_reader(O[0]),U):h(ae,"attr_reader",F(O))},-1),P(e,"$attr_reader",function(M){var G,O,ae=this;G=S(arguments),O=G,W(ae);for(var le=ae.$$prototype,ce=O.length-1;ce>=0;ce--){var de=O[ce],he=ie(de),me=R(de),ve=ee(me);i.prop(le,me,U),ve.$$parameters=[],ve.$$arity=0,i.defn(ae,he,ve)}return U},-1),P(e,"$attr_writer",function(M){var G,O,ae=this;G=S(arguments),O=G,W(ae);for(var le=ae.$$prototype,ce=O.length-1;ce>=0;ce--){var de=O[ce],he=ie(de+"="),me=R(de),ve=X(me);ve.$$parameters=[["req"]],ve.$$arity=1,i.prop(le,me,U),i.defn(ae,he,ve)}return U},-1),P(e,"$autoload",function(M,G){var O=this;return W(O),$("Opal")["$const_name?"](M)||V.$raise(c("NameError"),"autoload must be constant name: "+M),G==""&&V.$raise(c("ArgumentError"),"empty file name"),O.$$const.hasOwnProperty(M)||(O.$$autoload||(O.$$autoload={}),i.const_cache_version++,O.$$autoload[M]={path:G,loaded:!1,required:!1,success:!1,exception:!1},O.$const_added&&!O.$const_added.$$pristine&&O.$const_added(M)),U}),P(e,"$autoload?",function(M){var G=this;if(G.$$autoload&&G.$$autoload[M]&&!G.$$autoload[M].required&&!G.$$autoload[M].success)return G.$$autoload[M].path;for(var O=G.$ancestors(),ae=0,le=O.length;ae<le;ae++)if(O[ae].$$autoload&&O[ae].$$autoload[M]&&!O[ae].$$autoload[M].required&&!O[ae].$$autoload[M].success)return O[ae].$$autoload[M].path;return U}),P(e,"$class_variables",function(){var M=this;return Object.keys(i.class_variables(M))}),P(e,"$class_variable_get",function(M){var G=this;return M=re["$class_variable_name!"](M),i.class_variable_get(G,M,!1)}),P(e,"$class_variable_set",function(M,G){var O=this;return W(O),M=re["$class_variable_name!"](M),i.class_variable_set(O,M,G)}),P(e,"$class_variable_defined?",function(M){var G=this;return M=re["$class_variable_name!"](M),i.class_variables(G).hasOwnProperty(M)}),P(e,"$const_added",I(U)),re.$pristine(e,"const_added"),P(e,"$remove_class_variable",function(M){var G=this;if(W(G),M=re["$class_variable_name!"](M),i.hasOwnProperty.call(G.$$cvars,M)){var O=G.$$cvars[M];return delete G.$$cvars[M],O}else V.$raise(c("NameError"),"cannot remove "+M+" for "+G)}),P(e,"$constants",function(M){var G=this;return M==null&&(M=!0),i.constants(G,M)},-1),w(e,"$constants",function(M){var G=this;if(M==null){var O=(G.$$nesting||[]).concat(T),ae,le={},ce,de;for(ce=0,de=O.length;ce<de;ce++)for(ae in O[ce].$$const)le[ae]=!0;return Object.keys(le)}else return i.constants(G,M)},-1),w(e,"$nesting",function(){var M=this;return M.$$nesting||[]}),P(e,"$const_defined?",function(M,G){var O=this;G==null&&(G=!0),M=$("Opal")["$const_name!"](M),x(M["$=~"](c(re,"CONST_NAME_REGEXP")))||V.$raise(c("NameError").$new("wrong constant name "+M,M));var ae,le=[O],ce,de;for(G&&(le=le.concat(i.ancestors(O)),O.$$is_module&&(le=le.concat([T]).concat(i.ancestors(T)))),ce=0,de=le.length;ce<de;ce++)if(ae=le[ce],ae.$$const[M]!=null||ae.$$autoload&&ae.$$autoload[M]&&!ae.$$autoload[M].required&&!ae.$$autoload[M].success)return!0;return!1},-2),P(e,"$const_get",function(M,G){var O=this;return G==null&&(G=!0),M=$("Opal")["$const_name!"](M),M.indexOf("::")===0&&M!=="::"&&(M=M.slice(2)),x(M.indexOf("::")!=-1&&M!="::")?h(M.$split("::"),"inject",[O],function(le,ce){return le==null&&(le=U),ce==null&&(ce=U),le.$const_get(ce)}):(x(M["$=~"](c(re,"CONST_NAME_REGEXP")))||V.$raise(c("NameError").$new("wrong constant name "+M,M)),G?i.$$([O],M):i.const_get_local(O,M))},-2),P(e,"$const_missing",function(M){var G=this,O=U;return O=q(G,T)?M:""+G+"::"+M,V.$raise(c("NameError").$new("uninitialized constant "+O,M))}),P(e,"$const_set",function(M,G){var O=this;return W(O),M=re["$const_name!"](M),(x(M["$!~"](c(re,"CONST_NAME_REGEXP")))||x(M["$start_with?"]("::")))&&V.$raise(c("NameError").$new("wrong constant name "+M,M)),A(O,M,G),G}),P(e,"$public_constant",I(U)),P(e,"$define_method",function C(M,G){var O=C.$$p||U,ae=this,le=U,ce=U,de=U;return C.$$p=null,W(ae),G===void 0&&O===U&&V.$raise(c("ArgumentError"),"tried to create a Proc object without a block"),M=a(M),x(G!==void 0)&&(O=D(c("Proc"),le=G)?G:D(c("Method"),le)?G.$to_proc().$$unbound:D(c("UnboundMethod"),le)?i.wrap_method_body(G.$$method):V.$raise(c("TypeError"),"wrong argument type "+G.$class()+" (expected Proc/Method/UnboundMethod)"),x(!G.$$is_proc)&&(ce=G.$owner(),x(ce.$$is_class)&&u(d(ae,ce))&&(de=x(ce.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+ce,V.$raise(c("TypeError"),de)))),typeof Proxy<"u"&&(O.$$proxy_target=O,O=new Proxy(O,{apply:function(he,me,ve){var be=he.$$jsid,$e=he.$$is_lambda;he.$$jsid=M,he.$$is_lambda=!0;try{return he.apply(me,ve)}catch(j){if(j===he.$$brk||j===he.$$ret)return j.$v;throw j}finally{he.$$jsid=be,he.$$is_lambda=$e}}})),O.$$jsid=M,O.$$s=null,O.$$def=O,O.$$define_meth=!0,i.defn(ae,ie(M),O)},-2),P(e,"$freeze",function(){var M=this;return x(M["$frozen?"]())?M:(M.hasOwnProperty("$$base_module")||K(M,"$$base_module",null),v(M))}),P(e,"$remove_method",function(M){var G,O,ae=this;G=S(arguments),O=G;for(var le=0;le<O.length;le++){var ce=a(O[le]);W(ae),i.rdef(ae,"$"+ce)}return ae},-1),P(e,"$singleton_class?",function(){var M=this;return!!M.$$is_singleton}),P(e,"$include",function(M){var G,O,ae=this;G=S(arguments),O=G;for(var le=O.length-1;le>=0;le--){var ce=O[le];ce.$$is_module||V.$raise(c("TypeError"),"wrong argument type "+ce.$class()+" (expected Module)"),ce.$append_features(ae),ce.$included(ae)}return ae},-1),P(e,"$included_modules",function(){var M=this;return i.included_modules(M)}),P(e,"$include?",function(M){var G=this;M.$$is_module||V.$raise(c("TypeError"),"wrong argument type "+M.$class()+" (expected Module)");var O,ae,le,ce=i.ancestors(G);for(O=0,ae=ce.length;O<ae;O++)if(le=ce[O],le===M&&le!==G)return!0;return!1}),P(e,"$instance_method",function(M){var G=this,O=G.$$prototype[ie(M)];return(!O||O.$$stub)&&V.$raise(c("NameError").$new("undefined method `"+M+"' for class `"+G.$name()+"'",M)),c("UnboundMethod").$new(G,O.$$owner||G,O,M)}),P(e,"$instance_methods",function(M){var G=this;return M==null&&(M=!0),x(M)?i.instance_methods(G):i.own_instance_methods(G)},-1),P(e,"$included",I(U)),P(e,"$extended",I(U)),P(e,"$extend_object",function(M){return W(M),U}),P(e,"$method_added",function(M){return S(arguments),U},-1),P(e,"$method_removed",function(M){return S(arguments),U},-1),P(e,"$method_undefined",function(M){return S(arguments),U},-1),P(e,"$module_eval",function C(M){var G=C.$$p||U,O,ae,le,ce=this,de=U,he=U,me=U,ve=U,be=U,$e=U;C.$$p=null,O=S(arguments),ae=O,x(G["$nil?"]())&&x(!!i.compile)?(x(N(1,3,!1)["$cover?"](ae.$size()))||V.$raise(c("ArgumentError"),"wrong number of arguments (0 for 1..3)"),le=[].concat(F(ae)),de=le[0]==null?U:le[0],he=le[1]==null?U:le[1],le[2]==null||le[2],me=new Map([["file",x(ve=he)?ve:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(me),$e=re.$compile(de,be),G=h(V,"proc",[],function Y(){var Q=Y.$$s==null?this:Y.$$s;return new Function("Opal,self","return "+$e)(i,Q)},{$$s:ce})):x(ae["$any?"]())&&V.$raise(c("ArgumentError"),"wrong number of arguments ("+ae.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var j=G.$$s,L;return G.$$s=null,L=G.apply(ce,[ce]),G.$$s=j,L},-1),P(e,"$module_exec",function C(M){var G=C.$$p||U,O,ae,le=this;C.$$p=null,O=S(arguments),ae=O,G===U&&V.$raise(c("LocalJumpError"),"no block given");var ce=G.$$s,de;return G.$$s=null,de=G.apply(le,ae),G.$$s=ce,de},-1),P(e,"$method_defined?",function(M){var G=this,O=G.$$prototype[ie(M)];return!!O&&!O.$$stub}),P(e,"$module_function",function(M){var G,O,ae=this;if(G=S(arguments),O=G,W(ae),O.length===0)return ae.$$module_function=!0,U;for(var le=0,ce=O.length;le<ce;le++){var de=O[le],he=ie(de),me=ae.$$prototype[he];i.defs(ae,he,me)}return O.length===1?O[0]:O},-1),P(e,"$name",function(){var M=this;if(M.$$full_name)return M.$$full_name;for(var G=[],O=M;O;){if(O.$$name===U||O.$$name==null)return U;if(G.unshift(O.$$name),O=O.$$base_module,O===T)break}return G.length===0?U:M.$$full_name=G.join("::")}),P(e,"$prepend",function(M){var G,O,ae=this;G=S(arguments),O=G,O.length===0&&V.$raise(c("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var le=O.length-1;le>=0;le--){var ce=O[le];ce.$$is_module||V.$raise(c("TypeError"),"wrong argument type "+ce.$class()+" (expected Module)"),ce.$prepend_features(ae),ce.$prepended(ae)}return ae},-1),P(e,"$prepend_features",function(M){var G=this;return W(M),G.$$is_module||V.$raise(c("TypeError"),"wrong argument type "+G.$class()+" (expected Module)"),i.prepend_features(G,M),G}),P(e,"$prepended",I(U)),P(e,"$remove_const",function(M){var G=this;return W(G),i.const_remove(G,M)}),P(e,"$to_s",function(){var M=this,G=U;return x(G=i.Module.$name.call(M))?G:"#<"+(M.$$is_module?"Module":"Class")+":0x"+M.$__id__().$to_s(16)+">"}),P(e,"$undef_method",function(M){var G,O,ae=this;G=S(arguments),O=G;for(var le=0;le<O.length;le++){var ce=a(O[le]);W(ae),i.udef(ae,"$"+ce)}return ae},-1),P(e,"$instance_variables",function(){var M=this,G=U;G=(i.Module.$$nesting=r,M.$constants());var O=[];return Z(M,function(ae){ae!=="constructor"&&!G["$include?"](ae)&&O.push("@"+ae)}),O});function o(C,M){var G,O=i.own_instance_methods(C);for(G=0;G<O.length;G++){var ae=O[G],le=ie(ae),ce=C.$$prototype[le],de=i.wrap_method_body(ce);de.$$jsid=ae,i.defn(M,le,de)}}function m(C,M){for(var G=C.$$own_included_modules,O=G.length-1;O>=0;O--)i.append_features(G[O],M)}function z(C,M){for(var G=C.$$own_prepended_modules,O=G.length-1;O>=0;O--)i.prepend_features(G[O],M)}return P(e,"$initialize_copy",function(M){var G=this;return o(M,G),m(M,G),z(M,G),G.$$cloned_from=M.$$cloned_from.concat(M),G.$copy_class_variables(M),G.$copy_constants(M)}),P(e,"$initialize_dup",function C(M){var G=C.$$p||U,O=this;return C.$$p=null,g(O,_(O,"initialize_dup",C,!1,!0),"initialize_dup",[M],G),O.$copy_singleton_methods(M)}),P(e,"$copy_class_variables",function(M){var G=this;for(var O in M.$$cvars)G.$$cvars[O]=M.$$cvars[O]}),P(e,"$copy_constants",function(M){var G=this,O,ae=M.$$const;for(O in ae)A(G,O,ae[O])}),P(e,"$refine",function C(M){var G=C.$$p||U,O,ae=this,le=U,ce=U,de=U;return C.$$p=null,O=[ae,U,U],le=O[0],ce=O[1],de=O[2],de=i.id(M),typeof ae.$$refine_modules>"u"&&(ae.$$refine_modules=Object.create(null)),typeof ae.$$refine_modules[de]>"u"?ce=ae.$$refine_modules[de]=c("Refinement").$new():ce=ae.$$refine_modules[de],ce.refinement_module=le,ce.refined_class=M,h(ce,"class_exec",[],G.$to_proc()),ce}),P(e,"$refinements",function(){var M=this,G=M.$$refine_modules,O=new Map;if(typeof G>"u")return O;for(var ae in G)O["$[]="](G[ae].refined_class,G[ae]);return O}),P(e,"$using",function(M){return V.$raise("Module#using is not permitted in methods")}),l(e,"class_eval","module_eval"),l(e,"class_exec","module_exec"),l(e,"inspect","to_s")}("::",null,E),function(s,n){var t=J(s,n,"Refinement"),e=t.$$prototype;return e.refinement_module=e.refined_class=U,t.$attr_reader("refined_class"),P(t,"$inspect",function r(){var $=r.$$p||U,a=this;return r.$$p=null,x(a.refinement_module)?"#<refinement:"+a.refined_class.$inspect()+"@"+a.refinement_module.$inspect()+">":g(a,_(a,"inspect",r,!1,!0),"inspect",[],$)})}("::",k)};Opal.modules["corelib/class"]=function(i){var x=i.klass,p=i.send,A=i.defs,T=i.def,ee=i.ensure_kwargs,X=i.hash_get,R=i.eqeq,W=i.truthy,v=i.rb_plus,K=i.return_val,ie=i.slice,Z=i.send2,J=i.find_super,re=i.Kernel,V=i.alias,w=i.top,h=[],P=i.nil,D=i.$$$;return i.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),w.$require("corelib/module"),function(k,B,y){var S=x(k,B,"Class"),F=[S].concat(y),I=i.$r(F);return A(S,"$new",function q(u){var d=q.$$p||P;if(q.$$p=null,u==null&&(u=I("Object")),!u.$$is_class)throw i.TypeError.$new("superclass must be a Class");var N=i.allocate_class(P,u);return u.$inherited(N),d!==P&&p(N,"class_eval",[],d.$to_proc()),N},-1),T(S,"$allocate",function(){var u=this,d=new u.$$constructor;return d.$$id=i.uid(),d}),T(S,"$clone",function(u){var d,N=this,g=P;return u=ee(u),d=X(u,"freeze"),d==null&&(d=P),W(d["$nil?"]())||R(d,!0)||R(d,!1)||N.$raise(I("ArgumentError"),"unexpected value for freeze: "+d.$class()),g=i.allocate_class(P,N.$$super),g.$copy_instance_variables(N),g.$copy_singleton_methods(N),g.$initialize_clone(N,new Map([["freeze",d]])),(R(d,!0)||W(d["$nil?"]())&&W(N["$frozen?"]()))&&g.$freeze(),g},-1),T(S,"$dup",function(){var u=this,d=P;return d=i.allocate_class(P,u.$$super),d.$copy_instance_variables(u),d.$initialize_dup(u),d}),T(S,"$descendants",function(){var u=this;return v(u.$subclasses(),p(u.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),T(S,"$inherited",K(P)),T(S,"$new",function q(u){var d=q.$$p||P,N,g,_=this;q.$$p=null,N=ie(arguments),g=N;var l=_.$allocate();return i.send(l,l.$initialize,g,d),l},-1),T(S,"$subclasses",function(){var u=this;if(typeof WeakRef<"u"){var d,N,g=[];for(d=0;d<u.$$subclasses.length;d++)N=u.$$subclasses[d].deref(),N!==void 0&&g.push(N);return g}else return u.$$subclasses}),T(S,"$superclass",function(){var u=this;return u.$$super||P}),T(S,"$to_s",function q(){q.$$p;var u=this;q.$$p=null;var d=u.$$singleton_of;return d&&d.$$is_a_module?"#<Class:"+d.$name()+">":d?"#<Class:#<"+d.$$class.$name()+":0x"+i.id(d).$to_s(16)+">>":Z(u,J(u,"to_s",q,!1,!0),"to_s",[],null)}),T(S,"$attached_object",function(){var u=this;if(u.$$singleton_of!=null)return u.$$singleton_of;re.$raise(D("TypeError"),"`"+u+"' is not a singleton class")}),V(S,"inspect","to_s")}("::",null,h)};Opal.modules["corelib/basic_object"]=function(i){var x=i.klass,p=i.slice,A=i.def,T=i.alias,ee=i.return_val,X=i.Opal,R=i.truthy,W=i.range,v=i.Kernel,K=i.to_a,ie=i.send,Z=i.eqeq,J=i.rb_ge,re=i.nil,V=i.$$$;return i.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(w,h){var P=x(w,h,"BasicObject");return A(P,"$initialize",function(k){return p(arguments),re},-1),A(P,"$==",function(k){var B=this;return B===k}),A(P,"$eql?",function(k){var B=this;return B["$=="](k)}),T(P,"equal?","=="),A(P,"$__id__",function(){var k=this;return k.$$id!=null||i.prop(k,"$$id",i.uid()),k.$$id}),A(P,"$__send__",function D(k,B){var y=D.$$p||re,S,F,I=this;D.$$p=null,S=p(arguments,1),F=S,k.$$is_string||I.$raise(V("TypeError"),""+I.$inspect()+" is not a symbol nor a string");var q=I[i.jsid(k)];return q?(y!==re&&(q.$$p=y),q.apply(I,F)):(y!==re&&(I.$method_missing.$$p=y),I.$method_missing.apply(I,[k].concat(F)))},-2),A(P,"$!",ee(!1)),X.$pristine("!"),A(P,"$!=",function(k){var B=this;return B["$=="](k)["$!"]()}),A(P,"$instance_eval",function D(k){var B=D.$$p||re,y,S,F,I=this,q=re,u=re,d=re,N=re,g=re,_=re;if(D.$$p=null,y=p(arguments),S=y,R(B["$nil?"]())&&R(!!i.compile))R(W(1,3,!1)["$cover?"](S.$size()))||v.$raise(V("ArgumentError"),"wrong number of arguments (0 for 1..3)"),F=[].concat(K(S)),q=F[0]==null?re:F[0],u=F[1]==null?re:F[1],F[2]==null||F[2],d=new Map([["file",R(N=u)?N:"(eval)"],["eval",!0]]),g=new Map([["arity_check",!1]]).$merge(d),_=X.$compile(q,g),B=ie(v,"proc",[],function U(){var c=U.$$s==null?this:U.$$s;return new Function("Opal,self","return "+_)(i,c)},{$$s:I});else{if(R(B["$nil?"]())&&R(J(S.$length(),1))&&Z(S.$first()["$[]"](0),"@"))return I.$instance_variable_get(S.$first());R(S["$any?"]())&&v.$raise(V("ArgumentError"),"wrong number of arguments ("+S.$size()+" for 0)")}var l=B.$$s,E;if(B.$$s=null,I.$$is_a_module){I.$$eval=!0;try{E=B.call(I,I)}finally{I.$$eval=!1}}else E=B.call(I,I);return B.$$s=l,E},-1),A(P,"$instance_exec",function D(k){var B=D.$$p||re,y,S,F=this;D.$$p=null,y=p(arguments),S=y,R(B)||v.$raise(V("ArgumentError"),"no block given");var I=B.$$s,q;if(B.$$s=null,F.$$is_a_module){F.$$eval=!0;try{q=B.apply(F,S)}finally{F.$$eval=!1}}else q=B.apply(F,S);return B.$$s=I,q},-1),A(P,"$singleton_method_added",function(k){return p(arguments),re},-1),A(P,"$singleton_method_removed",function(k){return p(arguments),re},-1),A(P,"$singleton_method_undefined",function(k){return p(arguments),re},-1),A(P,"$method_missing",function D(k,B){D.$$p;var y,S,F=this,I=re;return D.$$p=null,y=p(arguments,1),S=y,I=X.$inspect(F),v.$raise(V("NoMethodError").$new("undefined method `"+k+"' for "+I,k,S),re,v.$caller(1))},-2),X.$pristine(P,"method_missing"),A(P,"$respond_to_missing?",function(k,B){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(i){var x=i.truthy,p=i.coerce_to,A=i.respond_to,T=i.Opal,ee=i.deny_frozen_access,X=i.freeze,R=i.freeze_props,W=i.jsid,v=i.each_ivar,K=i.module,ie=i.return_val,Z=i.def,J=i.Kernel,re=i.gvars,V=i.slice,w=i.send,h=i.to_a,P=i.ensure_kwargs,D=i.hash_get,k=i.eqeq,B=i.rb_plus,y=i.extract_kwargs,S=i.eqeqeq,F=i.return_self,I=i.rb_le,q=i.rb_lt,u=i.Object,d=i.alias,N=i.klass,g=[],_=i.nil,l=i.$$$;return i.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(E,U){var c=K(E,"Kernel"),s=[c].concat(U),n=i.$r(s);Z(c,"$=~",ie(!1)),Z(c,"$!~",function(r){var $=this;return $["$=~"](r)["$!"]()}),Z(c,"$===",function(r){var $=this,a=_;return x(a=$.$object_id()["$=="](r.$object_id()))?a:$["$=="](r)}),Z(c,"$<=>",function(r){var $=this;$.$$comparable=!0;var a=$["$=="](r);return a&&a!==_?0:_}),Z(c,"$method",function(r){var $=this,a=$[W(r)];return(!a||a.$$stub)&&J.$raise(l("NameError").$new("undefined method `"+r+"' for class `"+$.$class()+"'",r)),l("Method").$new($,a.$$owner||$.$class(),a,r)}),Z(c,"$methods",function(r){var $=this;return r==null&&(r=!0),x(r)?i.methods($):i.own_methods($)},-1),Z(c,"$public_methods",function(r){var $=this;return r==null&&(r=!0),x(r)?i.methods($):i.receiver_methods($)},-1),Z(c,"$Array",function(r){var $;return r===_?[]:r.$$is_array?r:($=T["$coerce_to?"](r,l("Array"),"to_ary"),$!==_||($=T["$coerce_to?"](r,l("Array"),"to_a"),$!==_)?$:[r])}),Z(c,"$at_exit",function e(){var r=e.$$p||_,$=_;return re.__at_exit__==null&&(re.__at_exit__=_),e.$$p=null,re.__at_exit__=x($=re.__at_exit__)?$:[],re.__at_exit__["$<<"](r),r}),Z(c,"$caller",function(r,$){r==null&&(r=1),$==null&&($=_);var a,o;a=new Error().$backtrace(),o=[];for(var m=r+1,z=a.length;m<z;m++)a[m].match(/runtime\.js/)||o.push(a[m]);return $!=_&&(o=o.slice(0,$)),o},-1),Z(c,"$caller_locations",function(r){var $,a,o=this;return $=V(arguments),a=$,w(w(o,"caller",h(a)),"map",[],function(z){return z==null&&(z=_),l(l(l("Thread"),"Backtrace"),"Location").$new(z)})},-1),Z(c,"$class",function(){var r=this;return r.$$class}),Z(c,"$copy_instance_variables",function(r){var $=this,a=Object.keys(r),o,m,z;for(o=0,m=a.length;o<m;o++)z=a[o],z.charAt(0)!=="$"&&r.hasOwnProperty(z)&&($[z]=r[z])}),Z(c,"$copy_singleton_methods",function(r){var $=this,a,o,m,z;if(r.hasOwnProperty("$$meta")&&r.$$meta!==null){var C=i.get_singleton_class(r),M=i.get_singleton_class($);for(m=Object.getOwnPropertyNames(C.$$prototype),a=0,z=m.length;a<z;a++)o=m[a],i.is_method(o)&&(M.$$prototype[o]=C.$$prototype[o]);M.$$const=Object.assign({},C.$$const),Object.setPrototypeOf(M.$$prototype,Object.getPrototypeOf(C.$$prototype))}for(a=0,m=Object.getOwnPropertyNames(r),z=m.length;a<z;a++)o=m[a],o.charAt(0)==="$"&&o.charAt(1)!=="$"&&r.hasOwnProperty(o)&&($[o]=r[o])}),Z(c,"$clone",function(r){var $,a=this,o=_;return r=P(r),$=D(r,"freeze"),$==null&&($=_),x($["$nil?"]())||k($,!0)||k($,!1)||a.$raise(n("ArgumentError"),"unexpected value for freeze: "+$.$class()),o=a.$class().$allocate(),o.$copy_instance_variables(a),o.$copy_singleton_methods(a),o.$initialize_clone(a,new Map([["freeze",$]])),(k($,!0)||x($["$nil?"]())&&x(a["$frozen?"]()))&&o.$freeze(),o},-1),Z(c,"$initialize_clone",function(r,$){var a=this;return $=P($),D($,"freeze"),a.$initialize_copy(r),a},-2),Z(c,"$define_singleton_method",function e(r,$){var a=e.$$p||_,o=this;return e.$$p=null,w(o.$singleton_class(),"define_method",[r,$],a.$to_proc())},-2),Z(c,"$dup",function(){var r=this,$=_;return $=r.$class().$allocate(),$.$copy_instance_variables(r),$.$initialize_dup(r),$}),Z(c,"$initialize_dup",function(r){var $=this;return $.$initialize_copy(r)}),Z(c,"$enum_for",function e(r,$){var a=e.$$p||_,o,m,z,C=this;return e.$$p=null,o=V(arguments),o.length>0&&(m=o.shift()),m==null&&(m="each"),z=o,w(l("Enumerator"),"for",[C,m].concat(h(z)),a.$to_proc())},-1),Z(c,"$equal?",function(r){var $=this;return $===r}),Z(c,"$exit",function(r){var $=_,a=_;for(re.__at_exit__==null&&(re.__at_exit__=_),r==null&&(r=!0),re.__at_exit__=x($=re.__at_exit__)?$:[];!x(re.__at_exit__["$empty?"]());)a=re.__at_exit__.$pop(),a.$call();return r.$$is_boolean?r=r?0:1:r=p(r,l("Integer"),"to_int"),i.exit(r),_},-1),Z(c,"$extend",function(r){var $,a,o=this;$=V(arguments),a=$,a.length==0&&o.$raise(l("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),ee(o);for(var m=o.$singleton_class(),z=a.length-1;z>=0;z--){var C=a[z];C.$$is_module||J.$raise(l("TypeError"),"wrong argument type "+C.$class()+" (expected Module)"),C.$append_features(m),C.$extend_object(o),C.$extended(o)}return o},-1),Z(c,"$freeze",function(){var r=this;return x(r["$frozen?"]())?r:typeof r=="object"?(R(r),X(r)):r}),Z(c,"$frozen?",function(){var r=this;switch(typeof r){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return r.$$frozen||!1;default:return!1}}),Z(c,"$gets",function(r){var $,a;return re.stdin==null&&(re.stdin=_),$=V(arguments),a=$,w(re.stdin,"gets",h(a))},-1),Z(c,"$hash",function(){var r=this;return r.$__id__()}),Z(c,"$initialize_copy",ie(_));var t=[];return Z(c,"$inspect",function(){var r=this,$=_,a=_,o=_,m=_;return function(){try{try{return $="",a=r.$__id__(),x(t["$include?"](a))?$=" ...":(t["$<<"](a),o=!0,w(r.$instance_variables(),"each",[],function z(C){var M=z.$$s==null?this:z.$$s,G=_,O=_;return C==null&&(C=_),G=M.$instance_variable_get(C),O=n("Opal").$inspect(G),$=B($," "+C+"="+O)},{$$s:r})),"#<"+r.$class()+":0x"+a.$to_s(16)+$+">"}catch(z){if(i.rescue(z,[n("StandardError")])){m=z;try{return"#<"+r.$class()+":0x"+a.$to_s(16)+">"}finally{i.pop_exception(z)}}else throw z}}finally{x(o)&&t.$pop()}}()}),Z(c,"$instance_of?",function(r){var $=this;return!r.$$is_class&&!r.$$is_module&&J.$raise(l("TypeError"),"class or module required"),$.$$class===r}),Z(c,"$instance_variable_defined?",function(r){var $=this;return r=T["$instance_variable_name!"](r),i.hasOwnProperty.call($,r.substr(1))}),Z(c,"$instance_variable_get",function(r){var $=this;r=T["$instance_variable_name!"](r);var a=$[i.ivar(r.substr(1))];return a??_}),Z(c,"$instance_variable_set",function(r,$){var a=this;return ee(a),r=T["$instance_variable_name!"](r),a[i.ivar(r.substr(1))]=$}),Z(c,"$remove_instance_variable",function(r){var $=this;r=T["$instance_variable_name!"](r);var a=i.ivar(r.substr(1)),o;return $.hasOwnProperty(a)?(o=$[a],delete $[a],o):J.$raise(l("NameError"),"instance variable "+r+" not defined")}),Z(c,"$instance_variables",function(){var r=this,$=[];return v(r,function(a){a.substr(-1)==="$"&&(a=a.slice(0,a.length-1)),$.push("@"+a)}),$}),Z(c,"$Integer",function(r,$,a){var o,m,z,C;o=V(arguments,1),m=y(o),m=P(m),o.length>0&&(z=o.shift()),C=D(m,"exception"),C==null&&(C=!0);var M,G,O;if(C=x(C),!r.$$is_string){if(z!==void 0)if(C)J.$raise(l("ArgumentError"),"base specified for non string value");else return _;if(r===_)if(C)J.$raise(l("TypeError"),"can't convert nil into Integer");else return _;if(r.$$is_number){if(r===1/0||r===-1/0||isNaN(r))if(C)J.$raise(l("FloatDomainError"),r);else return _;return Math.floor(r)}if(r["$respond_to?"]("to_int")&&(M=r.$to_int(),i.is_a(M,l("Integer")))||r["$respond_to?"]("to_i")&&(M=r.$to_i(),i.is_a(M,l("Integer"))))return M;if(C)J.$raise(l("TypeError"),"can't convert "+r.$class()+" into Integer");else return _}if(r==="0")return 0;if(z===void 0)z=0;else if(z=p(z,l("Integer"),"to_int"),z===1||z<0||z>36)if(C)J.$raise(l("ArgumentError"),"invalid radix "+z);else return _;if(G=r.toLowerCase(),G=G.replace(/(\d)_(?=\d)/g,"$1"),G=G.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ae,le,ce){switch(ce){case"0b":if(z===0||z===2)return z=2,le;case"0":case"0o":if(z===0||z===8)return z=8,le;case"0d":if(z===0||z===10)return z=10,le;case"0x":if(z===0||z===16)return z=16,le}if(C)J.$raise(l("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return _}),z=z===0?10:z,O="0-"+(z<=10?z-1:"9a-"+String.fromCharCode(97+(z-11))),!new RegExp("^\\s*[+-]?["+O+"]+\\s*$").test(G))if(C)J.$raise(l("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return _;if(M=parseInt(G,z),isNaN(M))if(C)J.$raise(l("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return _;return M},-2),Z(c,"$Float",function(r,$){var a;$=P($),a=D($,"exception"),a==null&&(a=!0);var o;if(a=x(a),r===_)if(a)J.$raise(l("TypeError"),"can't convert nil into Float");else return _;if(r.$$is_string){if(o=r.toString(),o=o.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(o))return J.$Integer(o);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(o))if(a)J.$raise(l("ArgumentError"),'invalid value for Float(): "'+r+'"');else return _;return parseFloat(o)}return a?T["$coerce_to!"](r,l("Float"),"to_f"):p(r,l("Float"),"to_f")},-2),Z(c,"$Hash",function(r){return x(r["$nil?"]())||k(r,[])?new Map:S(l("Hash"),r)?r:T["$coerce_to!"](r,l("Hash"),"to_hash")}),Z(c,"$is_a?",function(r){var $=this;return!r.$$is_class&&!r.$$is_module&&J.$raise(l("TypeError"),"class or module required"),i.is_a($,r)}),Z(c,"$itself",F),Z(c,"$lambda",function e(){var r=e.$$p||_;return e.$$p=null,i.lambda(r)}),Z(c,"$load",function(r){return r=T["$coerce_to!"](r,l("String"),"to_str"),i.load(r)}),Z(c,"$loop",function e(){var r=e.$$p||_,$=this,a=_;if(e.$$p=null,r===_)return w($,"enum_for",["loop"],function(){return l(l("Float"),"INFINITY")});for(;x(!0);)try{i.yieldX(r,[])}catch(o){if(i.rescue(o,[l("StopIteration")])){a=o;try{return a.$result()}finally{i.pop_exception(o)}}else throw o}return $}),Z(c,"$nil?",ie(!1)),Z(c,"$printf",function(r){var $,a,o=this,m=_;return re.stdout==null&&(re.stdout=_),$=V(arguments),a=$,x(a["$empty?"]())||(m=x(a[0].$$is_string)?re.stdout:a.$shift(),m.$write(w(o,"format",h(a)))),_},-1),Z(c,"$proc",function e(){var r=e.$$p||_;return e.$$p=null,x(r)||J.$raise(l("ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r}),Z(c,"$puts",function(r){var $,a;return re.stdout==null&&(re.stdout=_),$=V(arguments),a=$,w(re.stdout,"puts",h(a))},-1),Z(c,"$p",function(r){var $,a;return $=V(arguments),a=$,w(a,"each",[],function(m){return re.stdout==null&&(re.stdout=_),m==null&&(m=_),re.stdout.$puts(m.$inspect())}),x(I(a.$length(),1))?a["$[]"](0):a},-1),Z(c,"$print",function(r){var $,a;return re.stdout==null&&(re.stdout=_),$=V(arguments),a=$,w(re.stdout,"print",h(a))},-1),Z(c,"$readline",function(r){var $,a;return re.stdin==null&&(re.stdin=_),$=V(arguments),a=$,w(re.stdin,"readline",h(a))},-1),Z(c,"$warn",function(r,$){var a,o,m,z,C,M,G=this,O=_;return re.VERBOSE==null&&(re.VERBOSE=_),re.stderr==null&&(re.stderr=_),a=V(arguments),o=y(a),o=P(o),m=a,z=D(o,"uplevel"),z==null&&(z=_),x(z)&&(z=T["$coerce_to!"](z,l("Integer"),"to_str"),x(q(z,0))&&J.$raise(l("ArgumentError"),"negative level ("+z+")"),O=(C=(M=G.$caller(B(z,1),1).$first(),M===_||M==null?_:M.$split(":in `")),C===_||C==null?_:C.$first()),x(O)&&(O=""+O+": "),m=w(m,"map",[],function(le){return le==null&&(le=_),""+O+"warning: "+le})),x(re.VERBOSE["$nil?"]())||x(m["$empty?"]())?_:w(re.stderr,"puts",h(m))},-1),Z(c,"$raise",function(r,$,a){throw re["!"]==null&&(re["!"]=_),$==null&&($=_),a==null&&(a=_),r==null&&re["!"]!==_?re["!"]:(r==null?r=l("RuntimeError").$new(""):A(r,"$to_str")?r=l("RuntimeError").$new(r.$to_str()):r.$$is_class&&A(r,"$exception")?r=r.$exception($):r.$$is_exception||(r=l("TypeError").$new("exception class/object expected")),a!==_&&r.$set_backtrace(a),re["!"]!==_&&i.exceptions.push(re["!"]),re["!"]=r,r)},-1),Z(c,"$rand",function(r){return r===void 0?l(l("Random"),"DEFAULT").$rand():(r.$$is_number&&(r<0&&(r=Math.abs(r)),r%1!==0&&(r=r.$to_i()),r===0&&(r=void 0)),l(l("Random"),"DEFAULT").$rand(r))},-1),Z(c,"$respond_to?",function(r,$){var a=this;$==null&&($=!1);var o=a[W(r)];return typeof o=="function"&&!o.$$stub?!0:a["$respond_to_missing?"].$$pristine===!0?!1:a["$respond_to_missing?"](r,$)},-2),Z(c,"$respond_to_missing?",function(r,$){return!1},-2),T.$pristine(c,"respond_to?","respond_to_missing?"),Z(c,"$require",function(r){return typeof r!="string"&&i.String&&i.Array&&(r=T["$coerce_to!"](r,l("String"),"to_str")),i.require(r)}),Z(c,"$require_relative",function(r){return T["$try_convert!"](r,l("String"),"to_str"),r=l("File").$expand_path(l("File").$join(i.current_file,"..",r)),i.require(r)}),Z(c,"$require_tree",function(r,$){var a;$=P($),a=D($,"autoload"),a==null&&(a=!1);var o=[];r=l("File").$expand_path(r),r=i.normalize(r),r==="."&&(r="");for(var m in i.modules)m["$start_with?"](r)&&(a?o.push([m,!0]):o.push([m,i.require(m)]));return o},-2),Z(c,"$singleton_class",function(){var r=this;return i.get_singleton_class(r)}),Z(c,"$sleep",function(r){r==null&&(r=_),r===_&&J.$raise(l("TypeError"),"can't convert NilClass into time interval"),r.$$is_number||J.$raise(l("TypeError"),"can't convert "+r.$class()+" into time interval"),r<0&&J.$raise(l("ArgumentError"),"time interval must be positive");for(var $=i.global.performance?function(){return performance.now()}:function(){return new Date},a=$();$()-a<=r*1e3;);return Math.round(r)},-1),Z(c,"$srand",function(r){return r==null&&(r=n("Random").$new_seed()),l("Random").$srand(r)},-1),Z(c,"$String",function(r){var $=_;return x($=T["$coerce_to?"](r,l("String"),"to_str"))?$:T["$coerce_to!"](r,l("String"),"to_s")}),Z(c,"$tap",function e(){var r=e.$$p||_,$=this;return e.$$p=null,i.yield1(r,$),$}),Z(c,"$to_proc",F),Z(c,"$to_s",function(){var r=this;return"#<"+r.$class()+":0x"+r.$__id__().$to_s(16)+">"}),Z(c,"$catch",function e(r){var $=e.$$p||_,a=_,o=_;e.$$p=null,r==null&&(r=_);try{return r=x(a=r)?a:u.$new(),i.yield1($,r)}catch(m){if(i.rescue(m,[l("UncaughtThrowError")])){o=m;try{return k(o.$tag(),r)?o.$value():J.$raise()}finally{i.pop_exception(m)}}else throw m}},-1),Z(c,"$throw",function(r,$){return $==null&&($=_),J.$raise(l("UncaughtThrowError").$new(r,$))},-2),Z(c,"$open",function e(r){var $=e.$$p||_,a,o;return e.$$p=null,a=V(arguments),o=a,w(l("File"),"open",h(o),$.$to_proc())},-1),Z(c,"$yield_self",function e(){var r=e.$$p||_,$=this;return e.$$p=null,r===_?w($,"enum_for",["yield_self"],ie(1)):i.yield1(r,$)}),d(c,"fail","raise"),d(c,"kind_of?","is_a?"),d(c,"object_id","__id__"),d(c,"public_send","__send__"),d(c,"send","__send__"),d(c,"then","yield_self"),d(c,"to_enum","enum_for")}("::",g),function(E,U){var c=N(E,U,"Object");return delete u.$$prototype.$require,c.$include(J)}("::",null)};Opal.modules["corelib/main"]=function(i){var x=i.return_val,p=i.def,A=i.Object,T=i.slice,ee=i.Kernel,X=i.top;return i.nil,i.add_stubs("include,raise"),function(R,W){return p(R,"$to_s",x("main")),p(R,"$include",function(K){return A.$include(K)}),p(R,"$autoload",function(K){var ie,Z;return ie=T(arguments),Z=ie,i.Object.$autoload.apply(i.Object,Z)},-1),p(R,"$using",function(K){return ee.$raise("main.using is permitted only at toplevel")})}(i.get_singleton_class(X))};Opal.modules["corelib/error/errno"]=function(i){var x=i.module,p=i.truthy,A=i.rb_plus,T=i.send2,ee=i.find_super,X=i.def,R=i.klass,W=i.nil,v=i.$$$;return i.add_stubs("+,errno,class,attr_reader"),function(K,ie){var Z=x(K,"Errno"),J=W,re=W;J=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],re=W;var V;for(V=0;V<J.length;V++)(function(){var w=J[V][0],h=J[V][1],P=J[V][2];re=i.klass(Z,i.SystemCallError,w),re.errno=P,function(D,k){return X(D,"$new",function B(y){B.$$p;var S=this,F=W;return B.$$p=null,y==null&&(y=W),F=h,p(y)&&(F=A(F," - "+y)),T(S,ee(S,"new",B,!1,!0),"new",[F],null)},-1)}(i.get_singleton_class(re))})()}("::"),function(K,ie,Z){var J=R(K,ie,"SystemCallError");return X(J,"$errno",function(){var V=this;return V.$class().$errno()}),function(re,V){return re.$attr_reader("errno")}(i.get_singleton_class(J))}("::",v("StandardError"))};Opal.modules["corelib/error"]=function(i){var x=i.klass,p=i.slice,A=i.gvars,T=i.defs,ee=i.send,X=i.to_a,R=i.def,W=i.send2,v=i.find_super,K=i.truthy,ie=i.Kernel,Z=i.not,J=i.rb_plus,re=i.eqeq,V=i.Object,w=i.ensure_kwargs,h=i.hash_get,P=i.module,D=[],k=i.nil,B=i.$$$;return i.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(y,S,F){var I=x(y,S,"Exception"),q=[I].concat(F),u=i.$r(q),d=I.$$prototype;d.message=k,i.prop(I.$$prototype,"$$is_exception",!0);var N;Error.stackTraceLimit=100,T(I,"$new",function(l){var E,U,c=this;A["!"]==null&&(A["!"]=k),E=p(arguments),U=E;var s=U.length>0?U[0]:k,n=new c.$$constructor(s);return n.name=c.$$name,n.message=s,n.cause=A["!"],i.send(n,n.$initialize,U),i.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(n,N),n},-1),N=I.$new,T(I,"$exception",function(l){var E,U,c=this;return E=p(arguments),U=E,ee(c,"new",X(U))},-1),R(I,"$initialize",function(l){var E,U,c=this;return E=p(arguments),U=E,c.message=U.length>0?U[0]:k},-1),R(I,"$copy_instance_variables",function _(l){var E=_.$$p||k,U=this;_.$$p=null,W(U,v(U,"copy_instance_variables",_,!1,!0),"copy_instance_variables",[l],E),U.message=l.message,U.cause=l.cause,U.stack=l.stack});function g(_){for(var l=[],E,U=0;U<_.length;U++){var c=_[U];!c||!c.$$is_string||((E=c.match(/^    at (.*?) \((.*?)\)$/))?l.push(E[2]+":in `"+E[1]+"'"):(E=c.match(/^    at (.*?)$/))?l.push(E[1]+":in `undefined'"):(E=c.match(/^  from (.*?)$/))?l.push(E[1]):(E=c.match(/^(.*?)@(.*?)$/))&&l.push(E[2]+":in `"+E[1]+"'"))}return l}return R(I,"$backtrace",function(){var l=this;if(l.backtrace)return l.backtrace;var E=l.stack;return typeof E<"u"&&E.$$is_string?l.backtrace=g(E.split(`
`)):E?l.backtrace=g(E):[]}),R(I,"$backtrace_locations",function(){var l,E=this;return E.backtrace_locations||(E.backtrace_locations=(l=E.$backtrace(),l===k||l==null?k:ee(l,"map",[],function(c){return c==null&&(c=k),B(B(B("Thread"),"Backtrace"),"Location").$new(c)}))),E.backtrace_locations}),R(I,"$cause",function(){var l=this;return l.cause||k}),R(I,"$exception",function(l){var E=this;if(l==null&&(l=k),l===k||E===l)return E;var U=E.$clone();return U.message=l,E.backtrace&&(U.backtrace=E.backtrace.$dup()),U.stack=E.stack,U.cause=E.cause,U},-1),R(I,"$message",function(){var l=this;return l.$to_s()}),R(I,"$full_message",function(l){var E,U=this,c=k,s=k,n=k,t=k,e=k,r=k,$=k,a=k,o=k;return A.stderr==null&&(A.stderr=k),l==null&&(l=k),K(u("Hash","skip_raise")?"constant":k)?(l=new Map([["highlight",A.stderr["$tty?"]()],["order","top"]]).$merge(K(c=l)?c:new Map),E=[l["$[]"]("highlight"),l["$[]"]("order")],s=E[0],n=E[1],K([!0,!1]["$include?"](s))||ie.$raise(B("ArgumentError"),"expected true or false as highlight: "+s),K(["top","bottom"]["$include?"](n))||ie.$raise(B("ArgumentError"),"expected :top or :bottom as order: "+n),K(s)?(t="\x1B[1;4m",e="\x1B[1m",r="\x1B[m"):t=e=r="",$=U.$backtrace().$dup(),(Z($)||K($["$empty?"]()))&&($=U.$caller()),a=$.$shift(),o=""+a+": ",o=J(o,""+e+U.$to_s()+" ("+t+U.$class()+r+e+")"+r+`
`),o=J(o,ee($,"map",[],function(z){return z==null&&(z=k),"	from "+z+`
`}).$join()),K(U.$cause())&&(o=J(o,U.$cause().$full_message(new Map([["highlight",s]])))),re(n,"bottom")&&(o=o.$split(`
`).$reverse().$join(`
`),o=J(""+e+"Traceback"+r+` (most recent call last):
`,o)),o):""+U.message+`
`+U.stack},-1),R(I,"$inspect",function(){var l=this,E=k;return E=l.$to_s(),K(E["$empty?"]())?l.$class().$to_s():"#<"+l.$class().$to_s()+": "+l.$to_s()+">"}),R(I,"$set_backtrace",function(l){var E=this,U=!0,c,s;if(l===k)E.backtrace=k,E.stack="";else if(l.$$is_string)E.backtrace=[l],E.stack="  from "+l;else{if(l.$$is_array){for(c=0,s=l.length;c<s;c++)if(!l[c].$$is_string){U=!1;break}}else U=!1;U===!1&&ie.$raise(B("TypeError"),"backtrace must be Array of String"),E.backtrace=l,E.stack=ee(l,"map",[],function(t){return t==null&&(t=k),J("  from ",t)}).join(`
`)}return l}),R(I,"$to_s",function(){var l=this,E=k,U=k;return K(E=K(U=l.message)?l.message.$to_s():U)?E:l.$class().$to_s()})}("::",Error,D),x("::",B("Exception"),"ScriptError"),x("::",B("ScriptError"),"SyntaxError"),x("::",B("ScriptError"),"LoadError"),x("::",B("ScriptError"),"NotImplementedError"),x("::",B("Exception"),"SystemExit"),x("::",B("Exception"),"NoMemoryError"),x("::",B("Exception"),"SignalException"),x("::",B("SignalException"),"Interrupt"),x("::",B("Exception"),"SecurityError"),x("::",B("Exception"),"SystemStackError"),x("::",B("Exception"),"StandardError"),x("::",B("StandardError"),"EncodingError"),x("::",B("StandardError"),"ZeroDivisionError"),x("::",B("StandardError"),"NameError"),x("::",B("NameError"),"NoMethodError"),x("::",B("StandardError"),"RuntimeError"),x("::",B("RuntimeError"),"FrozenError"),x("::",B("StandardError"),"LocalJumpError"),x("::",B("StandardError"),"TypeError"),x("::",B("StandardError"),"ArgumentError"),x("::",B("ArgumentError"),"UncaughtThrowError"),x("::",B("StandardError"),"IndexError"),x("::",B("IndexError"),"StopIteration"),x("::",B("StopIteration"),"ClosedQueueError"),x("::",B("IndexError"),"KeyError"),x("::",B("StandardError"),"RangeError"),x("::",B("RangeError"),"FloatDomainError"),x("::",B("StandardError"),"IOError"),x("::",B("IOError"),"EOFError"),x("::",B("StandardError"),"SystemCallError"),x("::",B("StandardError"),"RegexpError"),x("::",B("StandardError"),"ThreadError"),x("::",B("StandardError"),"FiberError"),V.$autoload("Errno","corelib/error/errno"),function(y,S){var F=x(y,S,"FrozenError");return F.$attr_reader("receiver"),R(F,"$initialize",function I(q,u){var d;I.$$p;var N=this;return I.$$p=null,u=w(u),d=h(u,"receiver"),d==null&&(d=k),W(N,v(N,"initialize",I,!1,!0),"initialize",[q],null),N.receiver=d},-2)}("::",B("RuntimeError")),function(y,S){var F=x(y,S,"UncaughtThrowError"),I=F.$$prototype;return I.tag=k,F.$attr_reader("tag","value"),R(F,"$initialize",function q(u,d){q.$$p;var N=this;return q.$$p=null,d==null&&(d=k),N.tag=u,N.value=d,W(N,v(N,"initialize",q,!1,!0),"initialize",["uncaught throw "+N.tag.$inspect()],null)},-2)}("::",B("ArgumentError")),function(y,S){var F=x(y,S,"NameError");return F.$attr_reader("name"),R(F,"$initialize",function I(q,u){I.$$p;var d=this;return I.$$p=null,u==null&&(u=k),W(d,v(d,"initialize",I,!1,!0),"initialize",[q],null),d.name=u},-2)}("::",null),function(y,S){var F=x(y,S,"NoMethodError");return F.$attr_reader("args"),R(F,"$initialize",function I(q,u,d){I.$$p;var N=this;return I.$$p=null,u==null&&(u=k),d==null&&(d=[]),W(N,v(N,"initialize",I,!1,!0),"initialize",[q,u],null),N.args=d},-2)}("::",null),function(y,S){var F=x(y,S,"StopIteration");return F.$attr_reader("result")}("::",null),function(y,S){var F=x(y,S,"KeyError"),I=F.$$prototype;return I.receiver=I.key=k,R(F,"$initialize",function q(u,d){var N,g;q.$$p;var _=this;return q.$$p=null,d=w(d),N=h(d,"receiver"),N==null&&(N=k),g=h(d,"key"),g==null&&(g=k),W(_,v(_,"initialize",q,!1,!0),"initialize",[u],null),_.receiver=N,_.key=g},-2),R(F,"$receiver",function(){var u=this,d=k;return K(d=u.receiver)?d:ie.$raise(B("ArgumentError"),"no receiver is available")}),R(F,"$key",function(){var u=this,d=k;return K(d=u.key)?d:ie.$raise(B("ArgumentError"),"no key is available")})}("::",null),function(y,S){var F=x(y,S,"LocalJumpError");return F.$attr_reader("exit_value","reason"),R(F,"$initialize",function I(q,u,d){I.$$p;var N=this;return I.$$p=null,u==null&&(u=k),d==null&&(d="noreason"),W(N,v(N,"initialize",I,!1,!0),"initialize",[q],null),N.exit_value=u,N.reason=d},-2)}("::",null),function(y,S){var F=P(y,"JS"),I=[F].concat(S);return x(I[0],null,"Error"),k}("::",D)};Opal.modules["corelib/constants"]=function(i){var x=i.const_set;i.nil;var p=i.$$$;return x("::","RUBY_PLATFORM","opal"),x("::","RUBY_ENGINE","opal"),x("::","RUBY_VERSION","3.2.0"),x("::","RUBY_ENGINE_VERSION","1.8.2"),x("::","RUBY_RELEASE_DATE","2023-11-23"),x("::","RUBY_PATCHLEVEL",0),x("::","RUBY_REVISION","0"),x("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),x("::","RUBY_DESCRIPTION","opal "+p("RUBY_ENGINE_VERSION")+" ("+p("RUBY_RELEASE_DATE")+" revision "+p("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(i){var x=i.Object;return i.nil,i.add_stubs("require"),x.$require("corelib/runtime"),x.$require("corelib/helpers"),x.$require("corelib/module"),x.$require("corelib/class"),x.$require("corelib/basic_object"),x.$require("corelib/kernel"),x.$require("corelib/main"),x.$require("corelib/error"),x.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(i){var x=i.klass,p=i.Kernel,A=i.def,T=i.return_val,ee=i.ensure_kwargs,X=i.hash_get,R=i.NilClass,W=i.slice,v=i.truthy,K=i.rb_gt,ie=i.alias,Z=i.nil,J=i.$$$;return i.add_stubs("raise,name,new,>,length,Rational,to_i"),function(re,V,w){var h=x(re,V,"NilClass");return h.$$prototype.$$meta=h,function(P,D){return A(P,"$allocate",function(){var B=this;return p.$raise(J("TypeError"),"allocator undefined for "+B.$name())}),i.udef(P,"$new"),Z}(i.get_singleton_class(h)),A(h,"$!",T(!0)),A(h,"$&",T(!1)),A(h,"$|",function(D){return D!==!1&&D!==Z}),A(h,"$^",function(D){return D!==!1&&D!==Z}),A(h,"$==",function(D){return D===Z}),A(h,"$dup",T(Z)),A(h,"$clone",function(D){return D=ee(D),X(D,"freeze"),Z},-1),A(h,"$inspect",T("nil")),A(h,"$nil?",T(!0)),A(h,"$singleton_class",function(){return R}),A(h,"$to_a",function(){return[]}),A(h,"$to_h",function(){return new Map}),A(h,"$to_i",T(0)),A(h,"$to_s",T("")),A(h,"$to_c",function(){return J("Complex").$new(0,0)}),A(h,"$rationalize",function(D){var k,B;return k=W(arguments),B=k,v(K(B.$length(),1))&&p.$raise(J("ArgumentError")),p.$Rational(0,1)},-1),A(h,"$to_r",function(){return p.$Rational(0,1)}),A(h,"$instance_variables",function(){return[]}),ie(h,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(i){var x=i.klass,p=i.Kernel,A=i.def,T=i.return_self,ee=i.ensure_kwargs,X=i.hash_get,R=i.slice,W=i.truthy,v=i.send2,K=i.find_super,ie=i.to_a,Z=i.alias,J=i.nil,re=i.$$$;return i.add_stubs("raise,name,==,to_s,__id__"),function(V,w,h){var P=x(V,w,"Boolean");i.prop(P.$$prototype,"$$is_boolean",!0);for(var D=["$$class","$$meta"],k=0;k<D.length;k++)Object.defineProperty(P.$$prototype,D[k],{configurable:!0,enumerable:!1,get:function(){return this==!0?i.TrueClass:this==!1?i.FalseClass:i.Boolean}});return Object.defineProperty(P.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:J}}),function(B,y){return A(B,"$allocate",function(){var F=this;return p.$raise(re("TypeError"),"allocator undefined for "+F.$name())}),i.udef(B,"$new"),J}(i.get_singleton_class(P)),A(P,"$__id__",function(){var y=this;return y.valueOf()?2:0}),A(P,"$!",function(){var y=this;return y!=!0}),A(P,"$&",function(y){var S=this;return S==!0?y!==!1&&y!==J:!1}),A(P,"$|",function(y){var S=this;return S==!0?!0:y!==!1&&y!==J}),A(P,"$^",function(y){var S=this;return S==!0?y===!1||y===J:y!==!1&&y!==J}),A(P,"$==",function(y){var S=this;return S==!0===y.valueOf()}),A(P,"$singleton_class",function(){var y=this;return y.$$meta}),A(P,"$to_s",function(){var y=this;return y==!0?"true":"false"}),A(P,"$dup",T),A(P,"$clone",function(y){var S=this;return y=ee(y),X(y,"freeze"),S},-1),A(P,"$method_missing",function B(y,S){var F=B.$$p||J,I,q,u=this;B.$$p=null,I=R(arguments,1),q=I;var d=u.$$class.$$prototype[i.jsid(y)];return W(typeof d<"u"&&!d.$$stub)||v(u,K(u,"method_missing",B,!1,!0),"method_missing",[y].concat(ie(q)),F),i.send(u,d,q,F)},-2),A(P,"$respond_to_missing?",function(y,S){var F=this,I=F.$$class.$$prototype[i.jsid(y)];return typeof I<"u"&&!I.$$stub},-2),Z(P,"eql?","=="),Z(P,"equal?","=="),Z(P,"inspect","to_s"),Z(P,"object_id","__id__")}("::",Boolean),x("::",re("Boolean"),"TrueClass"),x("::",re("Boolean"),"FalseClass"),J};Opal.modules["corelib/comparable"]=function(i){var x=i.truthy,p=i.module,A=i.rb_gt,T=i.rb_lt,ee=i.eqeqeq,X=i.Kernel,R=i.def,W=i.nil,v=i.$$$;return i.add_stubs(">,<,===,raise,class,<=>,equal?"),function(K){var ie=p(K,"Comparable"),Z=W;function J(w){return i.is_a(w,i.Integer)?w:A(w,0)?1:T(w,0)?-1:0}function re(w,h){var P;ee(W,Z=h)||ee(!0,Z)||ee(!1,Z)||ee(v("Integer"),Z)||ee(v("Float"),Z)?P=h.$inspect():P=h.$$class,X.$raise(v("ArgumentError"),"comparison of "+w.$class()+" with "+P+" failed")}function V(w,h){var P=w["$<=>"](h);return x(P)||re(w,h),J(P)}return R(ie,"$==",function(h){var P=this,D=W;return x(P["$equal?"](h))?!0:P["$<=>"]==i.Kernel["$<=>"]?!1:P.$$comparable?(P.$$comparable=!1,!1):x(D=P["$<=>"](h))?J(D)==0:!1}),R(ie,"$>",function(h){var P=this;return V(P,h)>0}),R(ie,"$>=",function(h){var P=this;return V(P,h)>=0}),R(ie,"$<",function(h){var P=this;return V(P,h)<0}),R(ie,"$<=",function(h){var P=this;return V(P,h)<=0}),R(ie,"$between?",function(h,P){var D=this;return!(x(T(D,h))||x(A(D,P)))}),R(ie,"$clamp",function(h,P){var D=this;P==null&&(P=W);var k,B;if(P===W&&(i.is_a(h,i.Range)||X.$raise(v("TypeError"),"wrong argument type "+h.$class()+" (expected Range)"),B=h.excl,P=h.end,h=h.begin,P!==W&&B&&X.$raise(v("ArgumentError"),"cannot clamp with an exclusive range")),h!==W&&P!==W&&V(h,P)>0&&X.$raise(v("ArgumentError"),"min argument must be smaller than max argument"),h!==W){if(k=V(D,h),k==0)return D;if(k<0)return h}return P!==W&&(k=V(D,P),k>0)?P:D},-2)}("::")};Opal.modules["corelib/regexp"]=function(i){var x=i.coerce_to,p=i.prop,A=i.freeze,T=i.klass,ee=i.const_set,X=i.send2,R=i.find_super,W=i.def,v=i.truthy,K=i.gvars,ie=i.slice,Z=i.Kernel,J=i.Opal,re=i.alias,V=i.send,w=i.regexp,h=i.rb_plus,P=i.ensure_kwargs,D=i.hash_get,k=i.rb_ge,B=i.to_a,y=i.eqeqeq,S=i.rb_minus,F=i.return_ivar,I=[],q=i.nil,u=i.$$$;return i.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),T("::",u("StandardError"),"RegexpError"),function(d,N,g){var _=T(d,N,"Regexp"),l=[_].concat(g),E=i.$r(l);return ee(_,"IGNORECASE",1),ee(_,"EXTENDED",2),ee(_,"MULTILINE",4),i.prop(_.$$prototype,"$$is_regexp",!0),function(U,c){var s=[U].concat(c),n=i.$r(s);return W(U,"$allocate",function t(){var e=t.$$p||q,r=this,$=q;return t.$$p=null,$=X(r,R(r,"allocate",t,!1,!0),"allocate",[],e),$.uninitialized=!0,$}),W(U,"$escape",function(e){return e=x(e,u("String"),"to_str"),i.escape_regexp(e)}),W(U,"$last_match",function(e){return K["~"]==null&&(K["~"]=q),e==null&&(e=q),v(e["$nil?"]())?K["~"]:v(K["~"])?K["~"]["$[]"](e):q},-1),W(U,"$union",function(e){var r,$,a=this;r=ie(arguments),$=r;var o,m,z,C,M;if($.length==0)return/(?!)/;if($.length==1&&$[0].$$is_regexp)return $[0];o=$[0].$$is_array,$.length>1&&o&&Z.$raise(u("TypeError"),"no implicit conversion of Array into String"),o&&($=$[0]),C=void 0,m=[];for(var G=0;G<$.length;G++)z=$[G],z.$$is_string?m.push(a.$escape(z)):z.$$is_regexp?(M=z.$options(),C!=null&&C!=M&&Z.$raise(u("TypeError"),"All expressions must use the same options"),C=M,m.push("("+z.source+")")):m.push(a.$escape(z.$to_str()));return a.$new(m.$join("|"),C)},-1),W(U,"$new",function(e,r){if(e.$$is_regexp)return new RegExp(e);if(e=J["$coerce_to!"](e,u("String"),"to_str"),e.charAt(e.length-1)==="\\"&&e.charAt(e.length-2)!=="\\"&&Z.$raise(u("RegexpError"),"too short escape sequence: /"+e+"/"),e=e.replace("\\A","^").replace("\\z","$"),r===void 0||r["$!"]())return new RegExp(e);if(r.$$is_number){var $="";n("IGNORECASE")&r&&($+="i"),n("MULTILINE")&r&&($+="m"),r=$}else r="i";return new RegExp(e,r)},-2),re(U,"compile","new"),re(U,"quote","escape")}(i.get_singleton_class(_),l),W(_,"$==",function(c){var s=this;return c instanceof RegExp&&s.toString()===c.toString()}),W(_,"$===",function(c){var s=this;return s.$match(J["$coerce_to?"](c,u("String"),"to_str"))!==q}),W(_,"$=~",function(c){var s=this,n=q;return K["~"]==null&&(K["~"]=q),v(n=s.$match(c))?K["~"].$begin(0):n}),W(_,"$freeze",function(){var c=this;return v(c["$frozen?"]())?c:(c.hasOwnProperty("$$g")||p(c,"$$g",null),c.hasOwnProperty("$$gm")||p(c,"$$gm",null),A(c))}),W(_,"$inspect",function(){var c=this,s=/^\/(.*)\/([^\/]*)$/,n=c.toString(),t=s.exec(n);if(t){for(var e=t[1],r=t[2],$=e.split(""),a=$.length,o=!1,m="",z=0;z<a;z++){var C=$[z];!o&&C=="/"&&(m=m.concat("\\")),m=m.concat(C),C=="\\"?o?o=!1:o=!0:o=!1}return"/"+m+"/"+r}else return n}),W(_,"$match",function U(c,s){var n=U.$$p||q,t=this;if(K["~"]==null&&(K["~"]=q),U.$$p=null,t.uninitialized&&Z.$raise(u("TypeError"),"uninitialized Regexp"),s===void 0){if(c===q)return K["~"]=q;var e=t.exec(x(c,u("String"),"to_str"));return e?(K["~"]=u("MatchData").$new(t,e),n===q?K["~"]:i.yield1(n,K["~"])):K["~"]=q}if(s=x(s,u("Integer"),"to_int"),c===q||(c=x(c,u("String"),"to_str"),s<0&&(s+=c.length,s<0)))return K["~"]=q;for(var r,$=i.global_regexp(t);;){if(r=$.exec(c),r===null)return K["~"]=q;if(r.index>=s)return K["~"]=u("MatchData").$new($,r),n===q?K["~"]:i.yield1(n,K["~"]);$.lastIndex=r.index+1}},-2),W(_,"$match?",function(c,s){var n=this;if(n.uninitialized&&Z.$raise(u("TypeError"),"uninitialized Regexp"),s===void 0)return c===q?!1:n.test(x(c,u("String"),"to_str"));if(s=x(s,u("Integer"),"to_int"),c===q||(c=x(c,u("String"),"to_str"),s<0&&(s+=c.length,s<0)))return!1;var t,e=i.global_regexp(n);return t=e.exec(c),!(t===null||t.index<s)},-2),W(_,"$names",function(){var c=this;return V(c.$source().$scan(w(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),W(_,"$named_captures",function(){var c=this;return V(V(V(c.$source().$scan(w(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(n){return n==null&&(n=q),V(n,"map",[],function(e){return e==null&&(e=q),h(e.$last(),1)})})}),W(_,"$~",function(){var c=this;return K._==null&&(K._=q),c["$=~"](K._)}),W(_,"$source",function(){var c=this;return c.source}),W(_,"$options",function(){var c=this;c.uninitialized&&Z.$raise(u("TypeError"),"uninitialized Regexp");var s=0;return c.multiline&&(s|=E("MULTILINE")),c.ignoreCase&&(s|=E("IGNORECASE")),s}),W(_,"$casefold?",function(){var c=this;return c.ignoreCase}),re(_,"eql?","=="),re(_,"to_s","source")}("::",RegExp,I),function(d,N,g){var _=T(d,N,"MatchData"),l=[_].concat(g),E=i.$r(l),U=_.$$prototype;return U.matches=q,_.$attr_reader("post_match","pre_match","regexp","string"),W(_,"$initialize",function(s,n,t){var e,r=this;t=P(t),e=D(t,"no_matchdata"),e==null&&(e=!1),v(e)||(K["~"]=r),r.regexp=s,r.begin=n.index,r.string=n.input,r.pre_match=n.input.slice(0,n.index),r.post_match=n.input.slice(n.index+n[0].length),r.matches=[];for(var $=0,a=n.length;$<a;$++){var o=n[$];o==null?r.matches.push(q):r.matches.push(o)}},-3),W(_,"$match",function(s){var n=this,t=q;return v(t=n["$[]"](s))?t:v(s["$is_a?"](E("Integer")))&&v(k(s,n.$length()))?Z.$raise(u("IndexError"),"index "+s+" out of matches"):q}),W(_,"$match_length",function(s){var n,t=this;return n=t.$match(s),n===q||n==null?q:n.$length()}),W(_,"$[]",function(s){var n,t,e=this;return n=ie(arguments),t=n,t[0].$$is_string?(e.$regexp().$names()["$include?"](t["$[]"](0))["$!"]()&&Z.$raise(u("IndexError"),"undefined group name reference: "+t["$[]"](0)),e.$named_captures()["$[]"](t["$[]"](0))):V(e.matches,"[]",B(t))},-1),W(_,"$offset",function(s){var n=this;return s!==0&&Z.$raise(u("ArgumentError"),"MatchData#offset only supports 0th element"),[n.begin,n.begin+n.matches[s].length]}),W(_,"$==",function(s){var n=this,t=q,e=q,r=q,$=q;return y(u("MatchData"),s)?v(t=v(e=v(r=v($=n.string==s.string)?n.regexp.toString()==s.regexp.toString():$)?n.pre_match==s.pre_match:r)?n.post_match==s.post_match:e)?n.begin==s.begin:t:!1}),W(_,"$begin",function(s){var n=this;return s!==0&&Z.$raise(u("ArgumentError"),"MatchData#begin only supports 0th element"),n.begin}),W(_,"$end",function(s){var n=this;return s!==0&&Z.$raise(u("ArgumentError"),"MatchData#end only supports 0th element"),n.begin+n.matches[s].length}),W(_,"$captures",function(){var s=this;return s.matches.slice(1)}),W(_,"$named_captures",function(){var s=this,n=q;return n=s.$captures(),V(s.$regexp().$named_captures(),"transform_values",[],function(e){return e==null&&(e=q),n["$[]"](S(e.$last(),1))})}),W(_,"$names",function(){var s=this;return s.$regexp().$names()}),W(_,"$inspect",function(){var s=this,n="#<MatchData "+s.matches[0].$inspect();if(s.$regexp().$names()["$empty?"]())for(var t=1,e=s.matches.length;t<e;t++)n+=" "+t+":"+s.matches[t].$inspect();else V(s.$named_captures(),"each",[],function($,a){return $==null&&($=q),a==null&&(a=q),n+=" "+$+":"+a.$inspect()});return n+">"}),W(_,"$length",function(){var s=this;return s.matches.length}),W(_,"$to_a",F("matches")),W(_,"$to_s",function(){var s=this;return s.matches[0]}),W(_,"$values_at",function(s){var n,t,e=this;n=ie(arguments),t=n;var r,$,a,o=[];for(r=0;r<t.length;r++){if(t[r].$$is_range&&($=t[r].$to_a(),$.unshift(r,1),Array.prototype.splice.apply(t,$)),a=J["$coerce_to!"](t[r],u("Integer"),"to_int"),a<0&&(a+=e.matches.length,a<0)){o.push(q);continue}o.push(e.matches[a])}return o},-1),re(_,"eql?","=="),re(_,"size","length")}(I[0],null,I)};Opal.modules["corelib/string"]=function(i){var x=i.coerce_to,p=i.respond_to,A=i.global_multiline_regexp,T=i.prop,ee=i.opal32_init,X=i.opal32_add,R=i.klass,W=i.send2,v=i.find_super,K=i.def,ie=i.Opal,Z=i.defs,J=i.slice,re=i.send,V=i.to_a,w=i.extract_kwargs,h=i.ensure_kwargs,P=i.hash_get,D=i.eqeqeq,k=i.Kernel,B=i.truthy,y=i.gvars,S=i.rb_divide,F=i.rb_plus,I=i.eqeq,q=i.alias,u=i.const_set,d=i.top,N=[],g=i.$r(N),_=i.nil,l=i.$$$;return i.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),d.$require("corelib/comparable"),d.$require("corelib/regexp"),function(E,U,c){var s=R(E,U,"String"),n=[s].concat(c),t=i.$r(n);s.$include(l("Comparable")),i.prop(s.$$prototype,"$$is_string",!0);var e=new Map;(function(){K(s,"$__id__",function $(){var a=$.$$p||_,o=this;if($.$$p=null,typeof o=="object")return W(o,v(o,"__id__",$,!1,!0),"__id__",[],a);if(e.has(o))return e.get(o);var m=i.uid();return e.set(o,m),m}),K(s,"$hash",function(){var a=this,o=ee(),m,z=a.length;for(o=X(o,5),o=X(o,z),m=0;m<z;m++)o=X(o,a.charCodeAt(m));return o})})(),Z(s,"$try_convert",function(a){return ie["$coerce_to?"](a,l("String"),"to_str")}),Z(s,"$new",function(a){var o,m,z=this;o=J(arguments),m=o;var C=m[0]||"",M=m[m.length-1];return C=x(C,l("String"),"to_str"),M&&M.$$is_hash&&M.has("encoding")&&(C=C.$force_encoding(M.get("encoding").value)),C=new z.$$constructor(C),C.$initialize.$$pristine||re(C,"initialize",V(m)),C},-1),K(s,"$initialize",function(a,o){var m,z;return m=J(arguments),z=w(m),z=h(z),m.length>0&&m.shift(),P(z,"encoding"),P(z,"capacity"),_},-1),K(s,"$%",function(a){var o=this;return D(l("Array"),a)?re(o,"format",[o].concat(V(a))):o.$format(o,a)}),K(s,"$*",function(a){var o=this;if(a=x(a,l("Integer"),"to_int"),a<0&&k.$raise(l("ArgumentError"),"negative argument"),a===0)return"";var m="",z=o.toString();for(z.length*a>=1<<28&&k.$raise(l("RangeError"),"multiply count must not overflow maximum string size");(a&1)===1&&(m+=z),a>>>=1,a!==0;)z+=z;return m}),K(s,"$+",function(a){var o=this;if(a=x(a,l("String"),"to_str"),a==""&&o.$$class===i.String)return o;if(o==""&&a.$$class===i.String)return a;var m=o+a;return o.encoding===m.encoding&&a.encoding===m.encoding||o.encoding.name==="UTF-8"||a.encoding.name==="UTF-8"?m:i.enc(m,o.encoding)}),K(s,"$<=>",function(a){var o=this;if(B(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),o>a?1:o<a?-1:0;var m=a["$<=>"](o);return m===_?_:m>0?-1:m<0?1:0}),K(s,"$==",function(a){var o=this;return a.$$is_string?o.toString()===a.toString():p(a,"$to_str")?a["$=="](o):!1}),K(s,"$=~",function(a){var o=this;return a.$$is_string&&k.$raise(l("TypeError"),"type mismatch: String given"),a["$=~"](o)}),K(s,"$[]",function(a,o){var m=this,z=m.length,C,M;if(a.$$is_range)return C=a.excl,M=a,o=a.end===_?-1:x(a.end,l("Integer"),"to_int"),a=a.begin===_?0:x(a.begin,l("Integer"),"to_int"),Math.abs(a)>z?_:(a<0&&(a+=z),o<0&&(o+=z),(!C||M.end===_)&&(o+=1),o=o-a,o<0&&(o=0),m.substr(a,o));if(a.$$is_string)return o!=null&&k.$raise(l("TypeError")),m.indexOf(a)!==-1?a:_;if(a.$$is_regexp){var G=m.match(a);return G===null?(y["~"]=_,_):(y["~"]=l("MatchData").$new(a,G),o==null?G[0]:(o=x(o,l("Integer"),"to_int"),o<0&&-o<G.length?G[o+=G.length]:o>=0&&o<G.length?G[o]:_))}return a=x(a,l("Integer"),"to_int"),a<0&&(a+=z),o==null?a>=z||a<0?_:m.substr(a,1):(o=x(o,l("Integer"),"to_int"),o<0||a>z||a<0?_:m.substr(a,o))},-2),K(s,"$b",function(){var a=this;return new String(a).$force_encoding("binary")}),K(s,"$capitalize",function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}),K(s,"$casecmp",function(a){var o=this;if(!B(a["$respond_to?"]("to_str")))return _;a=x(a,l("String"),"to_str").$to_s();var m=/^[\x00-\x7F]*$/;return m.test(o)&&m.test(a)&&(o=o.toLowerCase(),a=a.toLowerCase()),o["$<=>"](a)}),K(s,"$casecmp?",function(a){var o=this,m=o.$casecmp(a);return m===_?_:m===0}),K(s,"$center",function(a,o){var m=this;if(o==null&&(o=" "),a=x(a,l("Integer"),"to_int"),o=x(o,l("String"),"to_str").$to_s(),B(o["$empty?"]())&&k.$raise(l("ArgumentError"),"zero width padding"),B(a<=m.length))return m;var z=m.$ljust(S(F(a,m.length),2).$ceil(),o),C=m.$rjust(S(F(a,m.length),2).$floor(),o);return C+z.slice(m.length)},-2),K(s,"$chomp",function(a){var o=this;if(y["/"]==null&&(y["/"]=_),a==null&&(a=y["/"]),B(a===_||o.length===0))return o;a=ie["$coerce_to!"](a,l("String"),"to_str").$to_s();var m;if(a===`
`)m=o.replace(/\r?\n?$/,"");else if(a==="")m=o.replace(/(\r?\n)+$/,"");else if(o.length>=a.length){var z=o.substr(o.length-a.length,a.length);z===a&&(m=o.substr(0,o.length-a.length))}return m??o},-1),K(s,"$chop",function(){var a=this,o=a.length,m;return o<=1?m="":a.charAt(o-1)===`
`&&a.charAt(o-2)==="\r"?m=a.substr(0,o-2):m=a.substr(0,o-1),m}),K(s,"$chr",function(){var a=this;return a.charAt(0)}),K(s,"$clone",function(a){var o,m=this,z=_;return a=h(a),o=P(a,"freeze"),o==null&&(o=_),B(o["$nil?"]())||I(o,!0)||I(o,!1)||m.$raise(t("ArgumentError"),"unexpected value for freeze: "+o.$class()),z=new String(m),z.$copy_singleton_methods(m),z.$initialize_clone(m,new Map([["freeze",o]])),I(o,!0)?z.$$frozen||(z.$$frozen=!0):B(o["$nil?"]())&&m.$$frozen&&(z.$$frozen=!0),z},-1),K(s,"$dup",function(){var a=this,o=_;return o=new String(a),o.$initialize_dup(a),o}),K(s,"$count",function(a){var o,m,z=this;o=J(arguments),m=o,m.length===0&&k.$raise(l("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var C=r(m);return C===null?0:z.length-z.replace(new RegExp(C,"g"),"").length},-1),K(s,"$delete",function(a){var o,m,z=this;o=J(arguments),m=o,m.length===0&&k.$raise(l("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var C=r(m);return C===null?z:z.replace(new RegExp(C,"g"),"")},-1),K(s,"$delete_prefix",function(a){var o=this;return a.$$is_string||(a=x(a,l("String"),"to_str")),o.slice(0,a.length)===a?o.slice(a.length):o}),K(s,"$delete_suffix",function(a){var o=this;return a.$$is_string||(a=x(a,l("String"),"to_str")),o.slice(o.length-a.length)===a?o.slice(0,o.length-a.length):o}),K(s,"$downcase",function(){var a=this;return a.toLowerCase()}),K(s,"$each_line",function $(a,o){var m=$.$$p||_,z,C,M,G,O=this;if(y["/"]==null&&(y["/"]=_),$.$$p=null,z=J(arguments),C=w(z),C=h(C),z.length>0&&(M=z.shift()),M==null&&(M=y["/"]),G=P(C,"chomp"),G==null&&(G=!1),m===_)return O.$enum_for("each_line",M,new Map([["chomp",G]]));if(M===_)return i.yield1(m,O),O;M=x(M,l("String"),"to_str");var ae,le,ce,de,he,me,ve,be;if(M.length===0){for(ae=O.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),le=0,ce=ae.length;le<ce;le+=2)(ae[le]||ae[le+1])&&(be=(ae[le]||"")+(ae[le+1]||""),G&&(be=be.$chomp(`
`)),i.yield1(m,be));return O}for(he=O.$chomp(M),me=O.length!=he.length,ve=he.split(M),le=0,de=ve.length;le<de;le++)be=ve[le],(le<de-1||me)&&(be+=M),G&&(be=be.$chomp(M)),i.yield1(m,be);return O},-1),K(s,"$empty?",function(){var a=this;return a.length===0}),K(s,"$end_with?",function(a){var o,m,z=this;o=J(arguments),m=o;for(var C=0,M=m.length;C<M;C++){var G=x(m[C],l("String"),"to_str").$to_s();if(z.length>=G.length&&z.substr(z.length-G.length,G.length)==G)return!0}return!1},-1),K(s,"$gsub",function $(a,o){var m=$.$$p||_,z=this;if($.$$p=null,o===void 0&&m===_)return z.$enum_for("gsub",a);var C="",M=_,G=0,O,ae;a.$$is_regexp?a=A(a):(a=x(a,l("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var le;;){if(O=a.exec(z),O===null){y["~"]=_,C+=z.slice(G);break}M=l("MatchData").$new(a,O),o===void 0?(le=a.lastIndex,ae=m(O[0]),a.lastIndex=le):o.$$is_hash?ae=o["$[]"](O[0]).$to_s():(o.$$is_string||(o=x(o,l("String"),"to_str")),ae=o.replace(/([\\]+)([0-9+&`'])/g,function(ce,de,he){if(de.length%2===0)return ce;switch(he){case"+":for(var me=O.length-1;me>0;me--)if(O[me]!==void 0)return de.slice(1)+O[me];return"";case"&":return de.slice(1)+O[0];case"`":return de.slice(1)+z.slice(0,O.index);case"'":return de.slice(1)+z.slice(O.index+O[0].length);default:return de.slice(1)+(O[he]||"")}}).replace(/\\\\/g,"\\")),a.lastIndex===O.index?(C+=z.slice(G,O.index)+ae+(z[O.index]||""),a.lastIndex+=1):C+=z.slice(G,O.index)+ae,G=a.lastIndex}return y["~"]=M,C},-2),K(s,"$hex",function(){var a=this;return a.$to_i(16)}),K(s,"$include?",function(a){var o=this;return a.$$is_string||(a=x(a,l("String"),"to_str")),o.indexOf(a)!==-1}),K(s,"$index",function(a,o){var m=this,z,C,M;if(o===void 0)o=0;else if(o=x(o,l("Integer"),"to_int"),o<0&&(o+=m.length,o<0))return _;if(a.$$is_regexp)for(M=A(a);;){if(C=M.exec(m),C===null){y["~"]=_,z=-1;break}if(C.index>=o){y["~"]=l("MatchData").$new(M,C),z=C.index;break}M.lastIndex=C.index+1}else a=x(a,l("String"),"to_str"),a.length===0&&o>m.length?z=-1:z=m.indexOf(a,o);return z===-1?_:z},-2),K(s,"$inspect",function(){var a=this,o=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},z=a.replace(o,function(C){return m[C]?m[C]:(C=C.charCodeAt(0),C<=255&&(a.encoding["$binary?"]()||a.internal_encoding["$binary?"]())?"\\x"+("00"+C.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+C.toString(16).toUpperCase()).slice(-4))});return'"'+z.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),K(s,"$intern",function(){var a=this;return a.toString()}),K(s,"$length",function(){var a=this;return a.length}),q(s,"size","length"),K(s,"$lines",function $(a,o){var m=$.$$p||_,z,C,M,G,O=this,ae=_;return y["/"]==null&&(y["/"]=_),$.$$p=null,z=J(arguments),C=w(z),C=h(C),z.length>0&&(M=z.shift()),M==null&&(M=y["/"]),G=P(C,"chomp"),G==null&&(G=!1),ae=re(O,"each_line",[M,new Map([["chomp",G]])],m.$to_proc()),B(m)?O:ae.$to_a()},-1),K(s,"$ljust",function(a,o){var m=this;if(o==null&&(o=" "),a=x(a,l("Integer"),"to_int"),o=x(o,l("String"),"to_str").$to_s(),B(o["$empty?"]())&&k.$raise(l("ArgumentError"),"zero width padding"),B(a<=m.length))return m;var z=-1,C="";for(a-=m.length;++z<a;)C+=o;return m+C.slice(0,a)},-2),K(s,"$lstrip",function(){var a=this;return a.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),K(s,"$ascii_only?",function(){var a=this;return a.encoding.ascii?/^[\x00-\x7F]*$/.test(a):!1}),K(s,"$match",function $(a,o){var m=$.$$p||_,z=this;return $.$$p=null,(D(t("String"),a)||B(a["$respond_to?"]("to_str")))&&(a=l("Regexp").$new(a.$to_str())),D(l("Regexp"),a)||k.$raise(l("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),re(a,"match",[z,o],m.$to_proc())},-2),K(s,"$match?",function(a,o){var m=this;return(D(t("String"),a)||B(a["$respond_to?"]("to_str")))&&(a=l("Regexp").$new(a.$to_str())),D(l("Regexp"),a)||k.$raise(l("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),a["$match?"](m,o)},-2),K(s,"$next",function(){var a=this,o=a.length;if(o===0)return"";for(var m=a,z=a.search(/[a-zA-Z0-9]/),C=!1,M;o--;){if(M=a.charCodeAt(o),M>=48&&M<=57||M>=65&&M<=90||M>=97&&M<=122)switch(M){case 57:C=!0,M=48;break;case 90:C=!0,M=65;break;case 122:C=!0,M=97;break;default:C=!1,M+=1}else z===-1?M===255?(C=!0,M=0):(C=!1,M+=1):C=!0;if(m=m.slice(0,o)+String.fromCharCode(M)+m.slice(o+1),C&&(o===0||o===z)){switch(M){case 65:break;case 97:break;default:M+=1}o===0?m=String.fromCharCode(M)+m:m=m.slice(0,o)+String.fromCharCode(M)+m.slice(o),C=!1}if(!C)break}return m}),K(s,"$oct",function(){var a=this,o,m=a,z=8;return/^\s*_/.test(m)?0:(m=m.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(C,M,G,O){switch(O.charAt(0)){case"+":case"-":return C;case"0":if(O.charAt(1)==="x"&&G==="0x")return C}switch(G){case"0b":z=2;break;case"0":case"0o":z=8;break;case"0d":z=10;break;case"0x":z=16;break}return M+O}),o=parseInt(m.replace(/_(?!_)/g,""),z),isNaN(o)?0:o)}),K(s,"$ord",function(){var a=this;return typeof a.codePointAt=="function"?a.codePointAt(0):a.charCodeAt(0)}),K(s,"$partition",function(a){var o=this,m,z;return a.$$is_regexp?(z=a.exec(o),z===null?m=-1:(l("MatchData").$new(a,z),a=z[0],m=z.index)):(a=x(a,l("String"),"to_str"),m=o.indexOf(a)),m===-1?[o,"",""]:[o.slice(0,m),o.slice(m,m+a.length),o.slice(m+a.length)]}),K(s,"$reverse",function(){var a=this;return a.split("").reverse().join("")}),K(s,"$rindex",function(a,o){var m=this,z,C,M,G;if(o===void 0)o=m.length;else if(o=x(o,l("Integer"),"to_int"),o<0&&(o+=m.length,o<0))return _;if(a.$$is_regexp){for(C=null,M=A(a);G=M.exec(m),!(G===null||G.index>o);)C=G,M.lastIndex=C.index+1;C===null?(y["~"]=_,z=-1):(l("MatchData").$new(M,C),z=C.index)}else a=x(a,l("String"),"to_str"),z=m.lastIndexOf(a,o);return z===-1?_:z},-2),K(s,"$rjust",function(a,o){var m=this;if(o==null&&(o=" "),a=x(a,l("Integer"),"to_int"),o=x(o,l("String"),"to_str").$to_s(),B(o["$empty?"]())&&k.$raise(l("ArgumentError"),"zero width padding"),B(a<=m.length))return m;var z=Math.floor(a-m.length),C=Math.floor(z/o.length),M=Array(C+1).join(o),G=z-M.length;return M+o.slice(0,G)+m},-2),K(s,"$rpartition",function(a){var o=this,m,z,C,M;if(a.$$is_regexp){for(z=null,C=A(a);M=C.exec(o),M!==null;)z=M,C.lastIndex=z.index+1;z===null?m=-1:(l("MatchData").$new(C,z),a=z[0],m=z.index)}else a=x(a,l("String"),"to_str"),m=o.lastIndexOf(a);return m===-1?["","",o]:[o.slice(0,m),o.slice(m,m+a.length),o.slice(m+a.length)]}),K(s,"$rstrip",function(){var a=this;return a.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),K(s,"$scan",function $(a,o){var m=$.$$p||_,z,C=this;$.$$p=null,o=h(o),z=P(o,"no_matchdata"),z==null&&(z=!1);var M=[],G=_,O;for(a.$$is_regexp?a=A(a):(a=x(a,l("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(O=a.exec(C))!=null;)G=l("MatchData").$new(a,O,new Map([["no_matchdata",z]])),m===_?O.length==1?M.push(O[0]):M.push(G.$captures()):O.length==1?i.yield1(m,O[0]):i.yield1(m,G.$captures()),a.lastIndex===O.index&&(a.lastIndex+=1);return z||(y["~"]=G),m!==_?C:M},-2),K(s,"$singleton_class",function(){var a=this;return i.get_singleton_class(a)}),K(s,"$split",function(a,o){var m=this,z=_;if(y[";"]==null&&(y[";"]=_),m.length===0)return[];if(o===void 0)o=0;else if(o=ie["$coerce_to!"](o,l("Integer"),"to_int"),o===1)return[m];(a===void 0||a===_)&&(a=B(z=y[";"])?z:" ");var C=[],M=m.toString(),G=0,O,ae=0,le=0,ce,de;if(a.$$is_regexp?a=A(a):(a=x(a,l("String"),"to_str").$to_s(),a===" "&&(a=/\s+/gm,M=M.replace(/^\s+/,""))),C=M.split(a),C.length===1&&C[0]===M)return[C[0]];for(;(ce=C.indexOf(void 0))!==-1;)C.splice(ce,1);if(o===0){for(;C[C.length-1]==="";)C.pop();return C}if(a.$$is_regexp||(a=i.escape_regexp(a),a=new RegExp(a,"gm")),O=a.exec(M),o<0){if(O!==null&&O[0]===""&&a.source.indexOf("(?=")===-1)for(ce=0,de=O.length;ce<de;ce++)C.push("");return C}if(O!==null&&O[0]==="")return le=(O.length-1)*(o-1)+o,C.splice(le-1,C.length-1,C.slice(le-1).join("")),C;if(o>=C.length)return C;for(;O!==null&&(ae++,G=a.lastIndex,le+=O.length,ae+1!==o);)O=a.exec(M);return C.splice(le,C.length-1,M.slice(G)),C},-1),K(s,"$squeeze",function(a){var o,m,z=this;if(o=J(arguments),m=o,m.length===0)return z.replace(/(.)\1+/g,"$1");var C=r(m);return C===null?z:z.replace(new RegExp("("+C+")\\1+","g"),"$1")},-1),K(s,"$start_with?",function(a){var o,m,z=this;o=J(arguments),m=o;for(var C=0,M=m.length;C<M;C++)if(m[C].$$is_regexp){var G=m[C],O=G.exec(z);if(O!=null&&O.index===0)return y["~"]=l("MatchData").$new(G,O),!0;y["~"]=_}else{var ae=x(m[C],l("String"),"to_str").$to_s();if(z.length>=ae.length&&z.startsWith(ae))return!0}return!1},-1),K(s,"$strip",function(){var a=this;return a.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),K(s,"$sub",function $(a,o){var m=$.$$p||_,z=this;$.$$p=null,a.$$is_regexp||(a=x(a,l("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var C,M=a.exec(z);return M===null?(y["~"]=_,C=z.toString()):(l("MatchData").$new(a,M),o===void 0?(m===_&&k.$raise(l("ArgumentError"),"wrong number of arguments (1 for 2)"),C=z.slice(0,M.index)+m(M[0])+z.slice(M.index+M[0].length)):o.$$is_hash?C=z.slice(0,M.index)+o["$[]"](M[0]).$to_s()+z.slice(M.index+M[0].length):(o=x(o,l("String"),"to_str"),o=o.replace(/([\\]+)([0-9+&`'])/g,function(G,O,ae){if(O.length%2===0)return G;switch(ae){case"+":for(var le=M.length-1;le>0;le--)if(M[le]!==void 0)return O.slice(1)+M[le];return"";case"&":return O.slice(1)+M[0];case"`":return O.slice(1)+z.slice(0,M.index);case"'":return O.slice(1)+z.slice(M.index+M[0].length);default:return O.slice(1)+(M[ae]||"")}}).replace(/\\\\/g,"\\"),C=z.slice(0,M.index)+o+z.slice(M.index+M[0].length))),C},-2),K(s,"$sum",function(a){var o=this;a==null&&(a=16),a=x(a,l("Integer"),"to_int");for(var m=0,z=o.length,C=0;C<z;C++)m+=o.charCodeAt(C);return a<=0?m:m&Math.pow(2,a)-1},-1),K(s,"$swapcase",function(){var a=this,o=a.replace(/([a-z]+)|([A-Z]+)/g,function(m,z,C){return z?m.toUpperCase():m.toLowerCase()});return o}),K(s,"$to_f",function(){var a=this;if(a.charAt(0)==="_")return 0;var o=parseFloat(a.replace(/_/g,""));return isNaN(o)||o==1/0||o==-1/0?0:o}),K(s,"$to_i",function(a){var o=this;a==null&&(a=10);var m,z=o.toLowerCase(),C=x(a,l("Integer"),"to_int");return(C===1||C<0||C>36)&&k.$raise(l("ArgumentError"),"invalid radix "+C),/^\s*_/.test(z)?0:(z=z.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(M,G,O,ae){switch(ae.charAt(0)){case"+":case"-":return M;case"0":if(ae.charAt(1)==="x"&&O==="0x"&&(C===0||C===16))return M}switch(O){case"0b":if(C===0||C===2)return C=2,G+ae;break;case"0":case"0o":if(C===0||C===8)return C=8,G+ae;break;case"0d":if(C===0||C===10)return C=10,G+ae;break;case"0x":if(C===0||C===16)return C=16,G+ae;break}return M}),m=parseInt(z.replace(/_(?!_)/g,""),C),isNaN(m)?0:m)},-1),K(s,"$to_proc",function $(){$.$$p;var a=this,o=_,m=_,z=_;return $.$$p=null,o=a.valueOf(),m=i.jsid(o),z=re(k,"proc",[],function C(M){var G=C.$$p||_,O,ae;C.$$p=null,O=J(arguments),ae=O,ae.length===0&&k.$raise(l("ArgumentError"),"no receiver given");var le=ae[0];le==null&&(le=_);var ce=le[m];return ce?ae=ae.slice(1):(ce=le.$method_missing,ae[0]=o),typeof G=="function"&&(ce.$$p=G),ae.length===0?ce.call(le):ce.apply(le,ae)},-1),z.$$source_location=_,z}),K(s,"$to_s",function(){var a=this;return a.toString()}),K(s,"$tr",function(a,o){var m=this;if(a=x(a,l("String"),"to_str").$to_s(),o=x(o,l("String"),"to_str").$to_s(),a.length==0||a===o)return m;var z,C,M,G,O,ae,le,ce={},de=a.split(""),he=de.length,me=o.split(""),ve=me.length,be=!1,$e=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),$e=me[ve-1],he-=1);var j=[],L=null;for(C=!1,z=0;z<he;z++)if(G=de[z],L==null)L=G,j.push(G);else if(G==="-")L==="-"?(j.push("-"),j.push("-")):z==he-1?j.push("-"):C=!0;else if(C){for(O=L.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&k.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)j.push(String.fromCharCode(M));j.push(G),C=null,L=null}else j.push(G);if(de=j,he=de.length,be)for(z=0;z<he;z++)ce[de[z]]=!0;else{if(ve>0){var Y=[],Q=null;for(C=!1,z=0;z<ve;z++)if(G=me[z],Q==null)Q=G,Y.push(G);else if(G==="-")Q==="-"?(Y.push("-"),Y.push("-")):z==ve-1?Y.push("-"):C=!0;else if(C){for(O=Q.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&k.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)Y.push(String.fromCharCode(M));Y.push(G),C=null,Q=null}else Y.push(G);me=Y,ve=me.length}var ne=he-ve;if(ne>0){var se=ve>0?me[ve-1]:"";for(z=0;z<ne;z++)me.push(se)}for(z=0;z<he;z++)ce[de[z]]=me[z]}var oe="";for(z=0,le=m.length;z<le;z++){G=m.charAt(z);var fe=ce[G];be?oe+=fe==null?$e:G:oe+=fe??G}return oe}),K(s,"$tr_s",function(a,o){var m=this;if(a=x(a,l("String"),"to_str").$to_s(),o=x(o,l("String"),"to_str").$to_s(),a.length==0)return m;var z,C,M,G,O,ae,le,ce={},de=a.split(""),he=de.length,me=o.split(""),ve=me.length,be=!1,$e=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),$e=me[ve-1],he-=1);var j=[],L=null;for(C=!1,z=0;z<he;z++)if(G=de[z],L==null)L=G,j.push(G);else if(G==="-")L==="-"?(j.push("-"),j.push("-")):z==he-1?j.push("-"):C=!0;else if(C){for(O=L.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&k.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)j.push(String.fromCharCode(M));j.push(G),C=null,L=null}else j.push(G);if(de=j,he=de.length,be)for(z=0;z<he;z++)ce[de[z]]=!0;else{if(ve>0){var Y=[],Q=null;for(C=!1,z=0;z<ve;z++)if(G=me[z],L==null)L=G,Y.push(G);else if(G==="-")Q==="-"?(Y.push("-"),Y.push("-")):z==ve-1?Y.push("-"):C=!0;else if(C){for(O=L.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&k.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)Y.push(String.fromCharCode(M));Y.push(G),C=null,L=null}else Y.push(G);me=Y,ve=me.length}var ne=he-ve;if(ne>0){var se=ve>0?me[ve-1]:"";for(z=0;z<ne;z++)me.push(se)}for(z=0;z<he;z++)ce[de[z]]=me[z]}var oe="",fe=null;for(z=0,le=m.length;z<le;z++){G=m.charAt(z);var f=ce[G];be?f==null?fe==null&&(oe+=$e,fe=!0):(oe+=G,fe=null):f!=null?(fe==null||fe!==f)&&(oe+=f,fe=f):(oe+=G,fe=null)}return oe}),K(s,"$upcase",function(){var a=this;return a.toUpperCase()}),K(s,"$upto",function $(a,o){var m=$.$$p||_,z=this;if($.$$p=null,o==null&&(o=!1),m===_)return z.$enum_for("upto",a,o);var C,M,G=z.toString();if(a=x(a,l("String"),"to_str"),G.length===1&&a.length===1)for(C=G.charCodeAt(0),M=a.charCodeAt(0);C<=M&&!(o&&C===M);)m(String.fromCharCode(C)),C+=1;else if(parseInt(G,10).toString()===G&&parseInt(a,10).toString()===a)for(C=parseInt(G,10),M=parseInt(a,10);C<=M&&!(o&&C===M);)m(C.toString()),C+=1;else for(;G.length<=a.length&&G<=a&&!(o&&G===a);)m(G),G=G.$succ();return z},-2);function r($){function a(ce){var de="",he,me=ce.length,ve,be,$e,j,L;for(he=0;he<me;he++)if(ve=ce.charAt(he),ve==="-"&&he>0&&he<me-1&&!be){for($e=ce.charCodeAt(he-1),j=ce.charCodeAt(he+1),$e>j&&k.$raise(l("ArgumentError"),'invalid range "'+$e+"-"+j+'" in string transliteration'),L=$e+1;L<j+1;L++)de+=String.fromCharCode(L);be=!0,he++}else be=ve==="\\",de+=ve;return de}function o(ce,de){if(ce.length===0)return de;var he="",me,ve=ce.length,be;for(me=0;me<ve;me++)be=ce.charAt(me),de.indexOf(be)!==-1&&(he+=be);return he}var m,z,C,M,G,O,ae="",le="";for(m=0,z=$.length;m<z;m++)C=x($[m],l("String"),"to_str"),M=C.charAt(0)==="^"&&C.length>1,C=a(M?C.slice(1):C),M?le=o(le,C):ae=o(ae,C);if(ae.length>0&&le.length>0){for(O="",m=0,z=ae.length;m<z;m++)G=ae.charAt(m),le.indexOf(G)===-1&&(O+=G);ae=O,le=""}return ae.length>0?"["+l("Regexp").$escape(ae)+"]":le.length>0?"[^"+l("Regexp").$escape(le)+"]":null}return K(s,"$instance_variables",function(){return[]}),Z(s,"$_load",function(a){var o,m,z=this;return o=J(arguments),m=o,re(z,"new",V(m))},-1),K(s,"$unicode_normalize",function(a){var o=this;return a==null&&(a="nfc"),B(["nfc","nfd","nfkc","nfkd"]["$include?"](a))||k.$raise(l("ArgumentError"),"Invalid normalization form "+a),o.normalize(a.$upcase())},-1),K(s,"$unicode_normalized?",function(a){var o=this;return a==null&&(a="nfc"),o.$unicode_normalize(a)["$=="](o)},-1),K(s,"$unpack",function(a){return k.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),K(s,"$unpack1",function(a){return k.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),K(s,"$freeze",function(){var a=this;return typeof a=="string"||T(a,"$$frozen",!0),a}),K(s,"$-@",function(){var a=this;return typeof a=="string"||a.$$frozen?a:a.encoding.name=="UTF-8"&&a.internal_encoding.name=="UTF-8"?a.toString():a.$dup().$freeze()}),K(s,"$frozen?",function(){var a=this;return typeof a=="string"||a.$$frozen===!0}),q(s,"+@","dup"),q(s,"===","=="),q(s,"byteslice","[]"),q(s,"eql?","=="),q(s,"equal?","==="),q(s,"object_id","__id__"),q(s,"slice","[]"),q(s,"succ","next"),q(s,"to_str","to_s"),q(s,"to_sym","intern"),ie.$pristine(s,"initialize")}("::",String,N),u(N[0],"Symbol",g("String"))};Opal.modules["corelib/enumerable"]=function(i){var x=i.truthy,p=i.coerce_to,A=i.yield1,T=i.yieldX,ee=i.deny_frozen_access,X=i.module,R=i.send,W=i.slice,v=i.to_a,K=i.Opal,ie=i.thrower,Z=i.def,J=i.Kernel,re=i.return_val,V=i.rb_gt,w=i.rb_times,h=i.rb_lt,P=i.eqeq,D=i.rb_plus,k=i.rb_minus,B=i.rb_divide,y=i.rb_le,S=i.lambda,F=i.not,I=i.alias,q=[],u=i.nil,d=i.$$$;return i.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(N,g){var _=X(N,"Enumerable"),l=[_].concat(g),E=i.$r(l);function U(c){return c.length===0&&(c=[u]),c.length>1&&(c=[c]),c}return Z(_,"$all?",function c(s){try{var n=ie("return"),t=c.$$p||u,e=this;return c.$$p=null,x(s!==void 0)?R(e,"each",[],function r($){var a,o,m=u;if(a=W(arguments),o=a,m=U(o),x(R(s,"public_send",["==="].concat(v(m)))))return u;n.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:n}):t!==u?R(e,"each",[],function r($){var a,o;if(a=W(arguments),o=a,x(i.yieldX(t,v(o))))return u;n.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:n}):R(e,"each",[],function r($){var a,o;if(a=W(arguments),o=a,x(K.$destructure(o)))return u;n.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:n}),!0}catch(r){if(r===n)return r.$v;throw r}finally{n.is_orphan=!0}},-1),Z(_,"$any?",function c(s){try{var n=ie("return"),t=c.$$p||u,e=this;return c.$$p=null,x(s!==void 0)?R(e,"each",[],function r($){var a,o,m=u;if(a=W(arguments),o=a,m=U(o),x(R(s,"public_send",["==="].concat(v(m)))))n.$throw(!0,r.$$is_lambda);else return u},{$$arity:-1,$$ret:n}):t!==u?R(e,"each",[],function r($){var a,o;if(a=W(arguments),o=a,x(i.yieldX(t,v(o))))n.$throw(!0,r.$$is_lambda);else return u},{$$arity:-1,$$ret:n}):R(e,"each",[],function r($){var a,o;if(a=W(arguments),o=a,x(K.$destructure(o)))n.$throw(!0,r.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),!1}catch(r){if(r===n)return r.$v;throw r}finally{n.is_orphan=!0}},-1),Z(_,"$chunk",function c(){var s=c.$$p||u,n=this;return c.$$p=null,s===u?R(n,"to_enum",["chunk"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:n}):R(d("Enumerator"),"new",[],function t(e){var r=t.$$s==null?this:t.$$s;e==null&&(e=u);var $=u,a=[];function o(){a.length>0&&e.$yield($,a)}r.$each.$$p=function(m){var z=A(s,m);z===u?(o(),a=[],$=u):($===u||$===z?a.push(m):(o(),a=[m]),$=z)},r.$each(),o()},{$$s:n})}),Z(_,"$chunk_while",function c(){var s=c.$$p||u,n=this;return c.$$p=null,s===u&&J.$raise(d("ArgumentError"),"no block given"),R(n,"slice_when",[],function(e,r){return e==null&&(e=u),r==null&&(r=u),i.yieldX(s,[e,r])["$!"]()})}),Z(_,"$collect",function c(){var s=c.$$p||u,n=this;if(c.$$p=null,s===u)return R(n,"enum_for",["collect"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:n});var t=[];return n.$each.$$p=function(){var e=T(s,arguments);t.push(e)},n.$each(),t}),Z(_,"$collect_concat",function c(){var s=c.$$p||u,n=this;return c.$$p=null,s===u?R(n,"enum_for",["collect_concat"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:n}):R(n,"map",[],s.$to_proc()).$flatten(1)}),Z(_,"$compact",function(){var s=this;return s.$to_a().$compact()}),Z(_,"$count",function c(s){var n=c.$$p||u,t=this,e=u;return c.$$p=null,e=0,s!=null&&n!==u&&t.$warn("warning: given block not used"),x(s!=null)?n=R(J,"proc",[],function($){var a,o;return a=W(arguments),o=a,K.$destructure(o)["$=="](s)},-1):x(n["$nil?"]())&&(n=R(J,"proc",[],re(!0))),R(t,"each",[],function($){var a,o;return a=W(arguments),o=a,x(T(n,o))?e++:u},-1),e},-1),Z(_,"$cycle",function c(s){var n=c.$$p||u,t=this;if(c.$$p=null,s==null&&(s=u),n===u)return R(t,"enum_for",["cycle",s],function a(){var o=a.$$s==null?this:a.$$s;return x(s["$nil?"]())?x(o["$respond_to?"]("size"))?d(d("Float"),"INFINITY"):u:(s=K["$coerce_to!"](s,d("Integer"),"to_int"),x(V(s,0))?w(o.$enumerator_size(),s):0)},{$$s:t});if(!x(s["$nil?"]())&&(s=K["$coerce_to!"](s,d("Integer"),"to_int"),x(s<=0)))return u;var e=[],r,$;if(t.$each.$$p=function(){var a=K.$destructure(arguments);A(n,a),e.push(a)},t.$each(),e.length===0)return u;if(s===u)for(;;)for(r=0,$=e.length;r<$;r++)A(n,e[r]);else for(;s>1;){for(r=0,$=e.length;r<$;r++)A(n,e[r]);s--}},-1),Z(_,"$detect",function c(s){try{var n=ie("return"),t=c.$$p||u,e=this;return c.$$p=null,t===u?e.$enum_for("detect",s):(R(e,"each",[],function r($){var a,o,m=u;if(a=W(arguments),o=a,m=K.$destructure(o),x(i.yield1(t,m)))n.$throw(m,r.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),s!==void 0?typeof s=="function"?s():s:u)}catch(r){if(r===n)return r.$v;throw r}finally{n.is_orphan=!0}},-1),Z(_,"$drop",function(s){var n=this;s=p(s,d("Integer"),"to_int"),x(s<0)&&J.$raise(d("ArgumentError"),"attempt to drop negative size");var t=[],e=0;return n.$each.$$p=function(){s<=e&&t.push(K.$destructure(arguments)),e++},n.$each(),t}),Z(_,"$drop_while",function c(){var s=c.$$p||u,n=this;if(c.$$p=null,s===u)return n.$enum_for("drop_while");var t=[],e=!0;return n.$each.$$p=function(){var r=K.$destructure(arguments);if(e){var $=A(s,r);x($)||(e=!1,t.push(r))}else t.push(r)},n.$each(),t}),Z(_,"$each_cons",function c(s){var n=c.$$p||u,t=this;if(c.$$p=null,x(arguments.length!=1)&&J.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),s=K.$try_convert(s,d("Integer"),"to_int"),x(s<=0)&&J.$raise(d("ArgumentError"),"invalid size"),n===u)return R(t,"enum_for",["each_cons",s],function r(){var $=r.$$s==null?this:r.$$s,a=u;return a=$.$enumerator_size(),x(a["$nil?"]())?u:P(a,0)||x(h(a,s))?0:D(k(a,s),1)},{$$s:t});var e=[];return t.$each.$$p=function(){var r=K.$destructure(arguments);e.push(r),e.length>s&&e.shift(),e.length==s&&A(n,e.slice(0,s))},t.$each(),t}),Z(_,"$each_entry",function c(s){var n=c.$$p||u,t,e,r=this;return c.$$p=null,t=W(arguments),e=t,n===u?R(r,"to_enum",["each_entry"].concat(v(e)),function $(){var a=$.$$s==null?this:$.$$s;return a.$enumerator_size()},{$$s:r}):(r.$each.$$p=function(){var $=K.$destructure(arguments);A(n,$)},r.$each.apply(r,e),r)},-1),Z(_,"$each_slice",function c(s){var n=c.$$p||u,t=this;if(c.$$p=null,s=p(s,d("Integer"),"to_int"),x(s<=0)&&J.$raise(d("ArgumentError"),"invalid slice size"),n===u)return R(t,"enum_for",["each_slice",s],function r(){var $=r.$$s==null?this:r.$$s;return x($["$respond_to?"]("size"))?B($.$size(),s).$ceil():u},{$$s:t});var e=[];return t.$each.$$p=function(){var r=K.$destructure(arguments);e.push(r),e.length===s&&(A(n,e),e=[])},t.$each(),e.length>0&&A(n,e),t}),Z(_,"$each_with_index",function c(s){var n=c.$$p||u,t,e,r=this;if(c.$$p=null,t=W(arguments),e=t,n===u)return R(r,"enum_for",["each_with_index"].concat(v(e)),function a(){var o=a.$$s==null?this:a.$$s;return o.$enumerator_size()},{$$s:r});var $=0;return r.$each.$$p=function(){var a=K.$destructure(arguments);n(a,$),$++},r.$each.apply(r,e),r},-1),Z(_,"$each_with_object",function c(s){var n=c.$$p||u,t=this;return c.$$p=null,n===u?R(t,"enum_for",["each_with_object",s],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:t}):(t.$each.$$p=function(){var e=K.$destructure(arguments);n(e,s)},t.$each(),s)}),Z(_,"$entries",function(s){var n,t,e=this;n=W(arguments),t=n;var r=[];return e.$each.$$p=function(){r.push(K.$destructure(arguments))},e.$each.apply(e,t),r},-1),Z(_,"$filter_map",function c(){var s=c.$$p||u,n=this;return c.$$p=null,s===u?R(n,"enum_for",["filter_map"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:n}):R(R(n,"map",[],s.$to_proc()),"select",[],"itself".$to_proc())}),Z(_,"$find_all",function c(){var s=c.$$p||u,n=this;if(c.$$p=null,s===u)return R(n,"enum_for",["find_all"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:n});var t=[];return n.$each.$$p=function(){var e=K.$destructure(arguments),r=A(s,e);x(r)&&t.push(e)},n.$each(),t}),Z(_,"$find_index",function c(s){try{var n=ie("return"),t=c.$$p||u,e=this,r=u;return c.$$p=null,x(s===void 0&&t===u)?e.$enum_for("find_index"):(s!=null&&t!==u&&e.$warn("warning: given block not used"),r=0,x(s!=null)?R(e,"each",[],function $(a){var o,m;return o=W(arguments),m=o,P(K.$destructure(m),s)&&n.$throw(r,$.$$is_lambda),r+=1},{$$arity:-1,$$ret:n}):R(e,"each",[],function $(a){var o,m;return o=W(arguments),m=o,x(i.yieldX(t,v(m)))&&n.$throw(r,$.$$is_lambda),r+=1},{$$arity:-1,$$ret:n}),u)}catch($){if($===n)return $.$v;throw $}finally{n.is_orphan=!0}},-1),Z(_,"$first",function(s){try{var n=ie("return"),t=this,e=u,r=u;return x(s===void 0)?R(t,"each",[],function $(a){a==null&&(a=u),n.$throw(a,$.$$is_lambda)},{$$ret:n}):(e=[],s=p(s,d("Integer"),"to_int"),x(s<0)&&J.$raise(d("ArgumentError"),"attempt to take negative size"),x(s==0)?[]:(r=0,R(t,"each",[],function $(a){var o,m;if(o=W(arguments),m=o,e.push(K.$destructure(m)),x(s<=++r))n.$throw(e,$.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),e))}catch($){if($===n)return $.$v;throw $}finally{n.is_orphan=!0}},-1),Z(_,"$grep",function c(s){var n=c.$$p||u,t=this,e=u;return c.$$p=null,e=[],R(t,"each",[],function($){var a,o,m=u;return a=W(arguments),o=a,m=U(o),x(R(s,"__send__",["==="].concat(v(m))))?(n!==u?(x(V(o.$length(),1))&&(o=[o]),o=i.yieldX(n,v(o))):x(y(o.$length(),1))&&(o=o["$[]"](0)),e.$push(o)):u},-1),e}),Z(_,"$grep_v",function c(s){var n=c.$$p||u,t=this,e=u;return c.$$p=null,e=[],R(t,"each",[],function($){var a,o,m=u;return a=W(arguments),o=a,m=U(o),x(R(s,"__send__",["==="].concat(v(m))))?u:(n!==u?(x(V(o.$length(),1))&&(o=[o]),o=i.yieldX(n,v(o))):x(y(o.$length(),1))&&(o=o["$[]"](0)),e.$push(o))},-1),e}),Z(_,"$group_by",function c(){var s=c.$$p||u,n,t=this,e=u,r=u;return c.$$p=null,s===u?R(t,"enum_for",["group_by"],function $(){var a=$.$$s==null?this:$.$$s;return a.$enumerator_size()},{$$s:t}):(e=new Map,t.$each.$$p=function(){var $=K.$destructure(arguments),a=A(s,$);(x(r=e["$[]"](a))?r:(n=[a,[]],R(e,"[]=",n),n[n.length-1]))["$<<"]($)},t.$each(),e)}),Z(_,"$include?",function(s){try{var n=ie("return"),t=this;return R(t,"each",[],function e(r){var $,a;if($=W(arguments),a=$,P(K.$destructure(a),s))n.$throw(!0,e.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),!1}catch(e){if(e===n)return e.$v;throw e}finally{n.is_orphan=!0}}),Z(_,"$inject",function c(s,n){var t=c.$$p||u,e=this;c.$$p=null;var r=s;return t!==u&&n===void 0?e.$each.$$p=function(){var $=K.$destructure(arguments);if(r===void 0){r=$;return}$=T(t,[r,$]),r=$}:(n===void 0&&(d("Symbol")["$==="](s)||J.$raise(d("TypeError"),""+s.$inspect()+" is not a Symbol"),n=s,r=void 0),e.$each.$$p=function(){var $=K.$destructure(arguments);if(r===void 0){r=$;return}r=r.$__send__(n,$)}),e.$each(),r??u},-1),Z(_,"$lazy",function(){var s=this;return R(d(d("Enumerator"),"Lazy"),"new",[s,s.$enumerator_size()],function(t,e){var r,$;return t==null&&(t=u),r=W(arguments,1),$=r,R(t,"yield",v($))},-2)}),Z(_,"$enumerator_size",function(){var s=this;return x(s["$respond_to?"]("size"))?s.$size():u}),Z(_,"$max",function c(s){var n=c.$$p||u,t=this;if(c.$$p=null,s===void 0||s===u){var e,r;return t.$each.$$p=function(){var $=K.$destructure(arguments);if(e===void 0){e=$;return}n!==u?r=T(n,[$,e]):r=$["$<=>"](e),r===u&&J.$raise(d("ArgumentError"),"comparison failed"),r>0&&(e=$)},t.$each(),e===void 0?u:e}return s=p(s,d("Integer"),"to_int"),R(t,"sort",[],n.$to_proc()).$reverse().$first(s)},-1),Z(_,"$max_by",function c(s){var n=c.$$p||u,t=this;if(c.$$p=null,s==null&&(s=u),!x(n))return R(t,"enum_for",["max_by",s],function $(){var a=$.$$s==null?this:$.$$s;return a.$enumerator_size()},{$$s:t});if(!x(s["$nil?"]()))return R(t,"sort_by",[],n.$to_proc()).$reverse().$take(s);var e,r;return t.$each.$$p=function(){var $=K.$destructure(arguments),a=A(n,$);if(e===void 0){e=$,r=a;return}a["$<=>"](r)>0&&(e=$,r=a)},t.$each(),e===void 0?u:e},-1),Z(_,"$min",function c(s){var n=c.$$p||u,t=this;if(c.$$p=null,s==null&&(s=u),!x(s["$nil?"]()))return n!==u?R(t,"sort",[],function($,a){return $==null&&($=u),a==null&&(a=u),i.yieldX(n,[$,a])}).$take(s):t.$sort().$take(s);var e;return n!==u?t.$each.$$p=function(){var r=K.$destructure(arguments);if(e===void 0){e=r;return}var $=n(r,e);$===u&&J.$raise(d("ArgumentError"),"comparison failed"),$<0&&(e=r)}:t.$each.$$p=function(){var r=K.$destructure(arguments);if(e===void 0){e=r;return}K.$compare(r,e)<0&&(e=r)},t.$each(),e===void 0?u:e},-1),Z(_,"$min_by",function c(s){var n=c.$$p||u,t=this;if(c.$$p=null,s==null&&(s=u),!x(n))return R(t,"enum_for",["min_by",s],function $(){var a=$.$$s==null?this:$.$$s;return a.$enumerator_size()},{$$s:t});if(!x(s["$nil?"]()))return R(t,"sort_by",[],n.$to_proc()).$take(s);var e,r;return t.$each.$$p=function(){var $=K.$destructure(arguments),a=A(n,$);if(e===void 0){e=$,r=a;return}a["$<=>"](r)<0&&(e=$,r=a)},t.$each(),e===void 0?u:e},-1),Z(_,"$minmax",function c(){var s=c.$$p||u,n=this,t=u;c.$$p=null,s=x(t=s)?t:R(J,"proc",[],function(o,m){return o==null&&(o=u),m==null&&(m=u),o["$<=>"](m)});var e=u,r=u,$=!0;return n.$each.$$p=function(){var a=K.$destructure(arguments);if($)e=r=a,$=!1;else{var o=s.$call(e,a);o===u?J.$raise(d("ArgumentError"),"comparison failed"):o>0&&(e=a);var m=s.$call(r,a);m===u?J.$raise(d("ArgumentError"),"comparison failed"):m<0&&(r=a)}},n.$each(),[e,r]}),Z(_,"$minmax_by",function c(){var s=c.$$p||u,n=this;if(c.$$p=null,!x(s))return R(n,"enum_for",["minmax_by"],function a(){var o=a.$$s==null?this:a.$$s;return o.$enumerator_size()},{$$s:n});var t=u,e=u,r,$;return n.$each.$$p=function(){var a=K.$destructure(arguments),o=A(s,a);(r===void 0||o["$<=>"](r)<0)&&(t=a,r=o),($===void 0||o["$<=>"]($)>0)&&(e=a,$=o)},n.$each(),[t,e]}),Z(_,"$none?",function c(s){try{var n=ie("return"),t=c.$$p||u,e=this;return c.$$p=null,x(s!==void 0)?R(e,"each",[],function r($){var a,o,m=u;if(a=W(arguments),o=a,m=U(o),x(R(s,"public_send",["==="].concat(v(m)))))n.$throw(!1,r.$$is_lambda);else return u},{$$arity:-1,$$ret:n}):t!==u?R(e,"each",[],function r($){var a,o;if(a=W(arguments),o=a,x(i.yieldX(t,v(o))))n.$throw(!1,r.$$is_lambda);else return u},{$$arity:-1,$$ret:n}):R(e,"each",[],function r($){var a,o,m=u;if(a=W(arguments),o=a,m=K.$destructure(o),x(m))n.$throw(!1,r.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),!0}catch(r){if(r===n)return r.$v;throw r}finally{n.is_orphan=!0}},-1),Z(_,"$one?",function c(s){try{var n=ie("return"),t=c.$$p||u,e=this,r=u;return c.$$p=null,r=0,x(s!==void 0)?R(e,"each",[],function $(a){var o,m,z=u;if(o=W(arguments),m=o,z=U(m),x(R(s,"public_send",["==="].concat(v(z)))))if(r=D(r,1),x(V(r,1)))n.$throw(!1,$.$$is_lambda);else return u;else return u},{$$arity:-1,$$ret:n}):t!==u?R(e,"each",[],function $(a){var o,m;if(o=W(arguments),m=o,!x(i.yieldX(t,v(m))))return u;if(r=D(r,1),x(V(r,1)))n.$throw(!1,$.$$is_lambda);else return u},{$$arity:-1,$$ret:n}):R(e,"each",[],function $(a){var o,m;if(o=W(arguments),m=o,!x(K.$destructure(m)))return u;if(r=D(r,1),x(V(r,1)))n.$throw(!1,$.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),r["$=="](1)}catch($){if($===n)return $.$v;throw $}finally{n.is_orphan=!0}},-1),Z(_,"$partition",function c(){var s=c.$$p||u,n=this;if(c.$$p=null,s===u)return R(n,"enum_for",["partition"],function r(){var $=r.$$s==null?this:r.$$s;return $.$enumerator_size()},{$$s:n});var t=[],e=[];return n.$each.$$p=function(){var r=K.$destructure(arguments),$=A(s,r);x($)?t.push(r):e.push(r)},n.$each(),[t,e]}),Z(_,"$reject",function c(){var s=c.$$p||u,n=this;if(c.$$p=null,s===u)return R(n,"enum_for",["reject"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:n});var t=[];return n.$each.$$p=function(){var e=K.$destructure(arguments),r=A(s,e);x(r)||t.push(e)},n.$each(),t}),Z(_,"$reverse_each",function c(){var s=c.$$p||u,n=this;if(c.$$p=null,s===u)return R(n,"enum_for",["reverse_each"],function r(){var $=r.$$s==null?this:r.$$s;return $.$enumerator_size()},{$$s:n});var t=[];n.$each.$$p=function(){t.push(arguments)},n.$each();for(var e=t.length-1;e>=0;e--)T(s,t[e]);return t}),Z(_,"$slice_before",function c(s){var n=c.$$p||u,t=this;return c.$$p=null,x(s===void 0&&n===u)&&J.$raise(d("ArgumentError"),"both pattern and block are given"),x(s!==void 0&&n!==u||arguments.length>1)&&J.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),R(d("Enumerator"),"new",[],function e(r){var $=e.$$s==null?this:e.$$s;r==null&&(r=u);var a=[];n!==u?s===void 0?$.$each.$$p=function(){var o=K.$destructure(arguments),m=A(n,o);x(m)&&a.length>0&&(r["$<<"](a),a=[]),a.push(o)}:$.$each.$$p=function(){var o=K.$destructure(arguments),m=n(o,s.$dup());x(m)&&a.length>0&&(r["$<<"](a),a=[]),a.push(o)}:$.$each.$$p=function(){var o=K.$destructure(arguments),m=s["$==="](o);x(m)&&a.length>0&&(r["$<<"](a),a=[]),a.push(o)},$.$each(),a.length>0&&r["$<<"](a)},{$$s:t})},-1),Z(_,"$slice_after",function c(s){var n=c.$$p||u,t=this;return c.$$p=null,x(s===void 0&&n===u)&&J.$raise(d("ArgumentError"),"both pattern and block are given"),x(s!==void 0&&n!==u||arguments.length>1)&&J.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),x(s!==void 0)&&(n=R(J,"proc",[],function(r){return r==null&&(r=u),s["$==="](r)})),R(d("Enumerator"),"new",[],function e(r){var $=e.$$s==null?this:e.$$s;r==null&&(r=u);var a;$.$each.$$p=function(){var o=K.$destructure(arguments),m=A(n,o);a==null&&(a=[]),x(m)?(a.push(o),r.$yield(a),a=null):a.push(o)},$.$each(),a!=null&&r.$yield(a)},{$$s:t})},-1),Z(_,"$slice_when",function c(){var s=c.$$p||u,n=this;return c.$$p=null,s===u&&J.$raise(d("ArgumentError"),"wrong number of arguments (0 for 1)"),R(d("Enumerator"),"new",[],function t(e){var r=t.$$s==null?this:t.$$s;e==null&&(e=u);var $=u,a=u;r.$each_cons.$$p=function(){var o=K.$destructure(arguments),m=o[0],z=o[1],C=T(s,[m,z]);a=z,$===u&&($=[]),x(C)?($.push(m),e.$yield($),$=[]):$.push(m)},r.$each_cons(2),$!==u&&($.push(a),e.$yield($))},{$$s:n})}),Z(_,"$sort",function c(){var s=c.$$p||u,n=this,t=u;return c.$$p=null,t=n.$to_a(),s===u&&(s=S(function(r,$){return r==null&&(r=u),$==null&&($=u),r["$<=>"]($)})),R(t,"sort",[],s.$to_proc())}),Z(_,"$sort_by",function c(){var s=c.$$p||u,n=this,t=u;return c.$$p=null,s===u?R(n,"enum_for",["sort_by"],function e(){var r=e.$$s==null?this:e.$$s;return r.$enumerator_size()},{$$s:n}):(t=R(n,"map",[],function(){var r=u;return r=K.$destructure(arguments),[i.yield1(s,r),r]}),R(t,"sort!",[],function(r,$){return r==null&&(r=u),$==null&&($=u),r[0]["$<=>"]($[0])}),R(t,"map!",[],function(r){return r==null&&(r=u),r[1]}))}),Z(_,"$sum",function c(s){var n=c.$$p||u,t=this,e=u,r=u;return c.$$p=null,s==null&&(s=0),e=s,r=0,R(t,"each",[],function(a){var o,m,z=u,C=u,M=u;return o=W(arguments),m=o,z=n!==u?i.yieldX(n,v(m)):K.$destructure(m),F([d(d("Float"),"INFINITY"),d(d("Float"),"INFINITY")["$-@"]()]["$include?"](z))&&x(z["$respond_to?"]("-"))?(C=k(z,r),M=D(e,C),r=k(k(M,e),C),e=M):e=D(e,z)},-1),e},-1),Z(_,"$take",function(s){var n=this;return n.$first(s)}),Z(_,"$take_while",function c(){try{var s=ie("return"),n=c.$$p||u,t=this,e=u;return c.$$p=null,x(n)?(e=[],R(t,"each",[],function r($){var a,o,m=u;return a=W(arguments),o=a,m=K.$destructure(o),x(i.yield1(n,m))||s.$throw(e,r.$$is_lambda),e.push(m)},{$$arity:-1,$$ret:s})):t.$enum_for("take_while")}catch(r){if(r===s)return r.$v;throw r}finally{s.is_orphan=!0}}),Z(_,"$uniq",function c(){var s=c.$$p||u,n=this,t=u;return c.$$p=null,t=new Map,R(n,"each",[],function(r){var $,a,o,m=u,z=u;return $=W(arguments),a=$,m=K.$destructure(a),z=s!==u?i.yield1(s,m):m,x(t["$key?"](z))?u:(o=[z,m],R(t,"[]=",o),o[o.length-1])},-1),t.$values()}),Z(_,"$tally",function(s){var n=this,t=u;return s&&s!==u&&ee(s),t=R(R(n,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),x(s)?(R(t,"each",[],function(r,$){var a;return r==null&&(r=u),$==null&&($=u),a=[r,D(s.$fetch(r,0),$)],R(s,"[]=",a),a[a.length-1]}),s):t},-1),Z(_,"$to_h",function c(s){var n=c.$$p||u,t,e,r=this;if(c.$$p=null,t=W(arguments),e=t,n!==u)return R(R(r,"map",[],n.$to_proc()),"to_h",v(e));var $=new Map;return r.$each.$$p=function(){var a=K.$destructure(arguments),o=K["$coerce_to?"](a,d("Array"),"to_ary"),m,z;o.$$is_array||J.$raise(d("TypeError"),"wrong element type "+a.$class()+" (expected array)"),o.length!==2&&J.$raise(d("ArgumentError"),"element has wrong array length (expected 2, was "+o.$length()+")"),m=o[0],z=o[1],i.hash_put($,m,z)},r.$each.apply(r,e),$},-1),Z(_,"$to_set",function c(s,n){var t=c.$$p||u,e,r,$,a=this;return c.$$p=null,e=W(arguments),e.length>0&&(r=e.shift()),r==null&&(r=E("Set")),$=e,R(r,"new",[a].concat(v($)),t.$to_proc())},-1),Z(_,"$zip",function c(s){c.$$p;var n,t,e=this;return c.$$p=null,n=W(arguments),t=n,R(e.$to_a(),"zip",v(t))},-1),I(_,"find","detect"),I(_,"filter","find_all"),I(_,"flat_map","collect_concat"),I(_,"map","collect"),I(_,"member?","include?"),I(_,"reduce","inject"),I(_,"select","find_all"),I(_,"to_a","entries")}("::",q)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(i){var x=i.klass,p=i.truthy,A=i.to_a,T=i.eqeq,ee=i.Kernel,X=i.def,R=i.rb_gt,W=i.rb_lt,v=i.rb_le,K=i.rb_ge,ie=i.rb_plus,Z=i.rb_minus,J=i.eqeqeq,re=i.not,V=i.rb_times,w=i.rb_divide,h=i.alias,P=[],D=i.nil,k=i.$$$;return i.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(B,y,S){var F=x(B,y,"Enumerator"),I=[F].concat(S);return function(q,u,d){var N=x(q,u,"ArithmeticSequence"),g=[N].concat(d),_=i.$r(g),l=N.$$prototype;l.step_arg2=l.receiver_num=l.step_arg1=l.step=l.range=l.topfx=l.bypfx=l.creation_method=l.skipped_arg=D,i.prop(N.$$prototype,"$$is_arithmetic_seq",!0);var E=1/0;return X(N,"$initialize",function(c,s,n){var t,e=this,r=D;return n==null&&(n="step"),e.creation_method=n,p(c["$is_a?"](k("Array")))?(t=[].concat(A(c)),e.step_arg1=t[0]==null?D:t[0],e.step_arg2=t[1]==null?D:t[1],e.topfx=t[2]==null?D:t[2],e.bypfx=t[3]==null?D:t[3],e.receiver_num=s,e.step=1,e.range=p(e.step_arg2)?(e.step=e.step_arg2,i.Range.$new(e.receiver_num,e.step_arg1,!1)):p(e.step_arg1)?i.Range.$new(e.receiver_num,e.step_arg1,!1):i.Range.$new(e.receiver_num,D,!1)):(p(s)||(e.skipped_arg=!0),t=[c,p(r=s)?r:1],e.range=t[0],e.step=t[1]),e.object=e,T(e.step,0)&&ee.$raise(_("ArgumentError"),"step can't be 0"),p(e.step["$respond_to?"]("to_int"))?D:ee.$raise(_("ArgumentError"),"no implicit conversion of "+e.step.$class()+" into Integer")},-2),N.$attr_reader("step"),X(N,"$begin",function(){var c=this;return c.range.$begin()}),X(N,"$end",function(){var c=this;return c.range.$end()}),X(N,"$exclude_end?",function(){var c=this;return c.range["$exclude_end?"]()}),X(N,"$_lesser_than_end?",function(c){var s=this,n=D,t=D;return n=p(t=s.$end())?t:E,p(R(s.$step(),0))?p(s["$exclude_end?"]())?W(c,n):v(c,n):p(s["$exclude_end?"]())?R(c,n):K(c,n)}),X(N,"$_greater_than_begin?",function(c){var s=this,n=D,t=D;return n=p(t=s.$begin())?t:E["$-@"](),p(R(s.$step(),0))?R(c,n):W(c,n)}),X(N,"$first",function(c){var s=this,n=D,t=D,e=D;if(n=p(t=s.$begin())?t:E["$-@"](),!p(c))return p(s["$_lesser_than_end?"](n))?n:D;for(e=[];p(p(t=s["$_lesser_than_end?"](n))?R(c,0):t);)e["$<<"](n),n=ie(n,s.$step()),c=Z(c,1);return e},-1),X(N,"$each",function U(){var c=U.$$p||D,s=this,n=D,t=D;if(U.$$p=null,c===D)return s;for(J(D,n=s.$begin())&&ee.$raise(_("TypeError"),"nil can't be coerced into Integer"),t=p(n=s.$begin())?n:E["$-@"]();p(s["$_lesser_than_end?"](t));)i.yield1(c,t),t=ie(t,s.$step());return s}),X(N,"$last",function(c){var s=this,n=D,t=D,e=D;if(J(E,n=s.$end())||J(E["$-@"](),n)?ee.$raise(k("FloatDomainError"),s.$end()):J(D,n)&&ee.$raise(k("RangeError"),"cannot get the last element of endless arithmetic sequence"),t=Z(s.$end(),Z(s.$end(),s.$begin())["$%"](s.$step())),p(s["$_lesser_than_end?"](t))||(t=Z(t,s.$step())),!p(c))return p(s["$_greater_than_begin?"](t))?t:D;for(e=[];p(p(n=s["$_greater_than_begin?"](t))?R(c,0):n);)e["$<<"](t),t=Z(t,s.$step()),c=Z(c,1);return e.$reverse()},-1),X(N,"$size",function(){var c=this,s=D,n=D;return s=p(R(c.$step(),0))?1:-1,re(c["$_lesser_than_end?"](c.$begin()))?0:p([E["$-@"](),E]["$include?"](c.$step()))?1:p([V(E["$-@"](),s),D]["$include?"](c.$begin()))||p([V(E,s),D]["$include?"](c.$end()))?E:(n=Z(c.$end(),Z(c.$end(),c.$begin())["$%"](c.$step())),p(c["$_lesser_than_end?"](n))||(n=Z(n,c.$step())),ie(w(Z(n,c.$begin()),c.$step()).$abs().$to_i(),1))}),X(N,"$==",function(c){var s=this,n=D,t=D,e=D,r=D;return p(n=p(t=p(e=p(r=s.$class()["$=="](c.$class()))?s.$begin()["$=="](c.$begin()):r)?s.$end()["$=="](c.$end()):e)?s.$step()["$=="](c.$step()):t)?s["$exclude_end?"]()["$=="](c["$exclude_end?"]()):n}),X(N,"$hash",function(){var c=this;return[_("ArithmeticSequence"),c.$begin(),c.$end(),c.$step(),c["$exclude_end?"]()].$hash()}),X(N,"$inspect",function(){var c=this,s=D;return p(c.receiver_num)?(s=p(c.step_arg2)?"("+c.topfx+c.step_arg1.$inspect()+", "+c.bypfx+c.step_arg2.$inspect()+")":p(c.step_arg1)?"("+c.topfx+c.step_arg1.$inspect()+")":D,"("+c.receiver_num.$inspect()+"."+c.creation_method+s+")"):(s=p(c.skipped_arg)?D:"("+c.step+")","(("+c.range.$inspect()+")."+c.creation_method+s+")")}),h(N,"===","=="),h(N,"eql?","==")}(F,F,I)}("::",null,P)};Opal.modules["corelib/enumerator/chain"]=function(i){var x=i.deny_frozen_access,p=i.klass,A=i.slice,T=i.def,ee=i.send,X=i.to_a,R=i.truthy,W=i.rb_plus,v=i.thrower,K=i.nil,ie=i.$$$;return i.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(Z,J){var re=p(Z,J,"Enumerator");return function(V,w){var h=p(V,w,"Chain"),P=h.$$prototype;return P.enums=P.iterated=K,T(h,"$initialize",function(k){var B,y,S=this;return B=A(arguments),y=B,x(S),S.enums=y,S.iterated=[],S.object=S},-1),T(h,"$each",function D(k){var B=D.$$p||K,y,S,F=this;return D.$$p=null,y=A(arguments),S=y,B===K?ee(F,"to_enum",["each"].concat(X(S)),function I(){var q=I.$$s==null?this:I.$$s;return q.$size()},{$$s:F}):(ee(F.enums,"each",[],function I(q){var u=I.$$s==null?this:I.$$s;return u.iterated==null&&(u.iterated=K),q==null&&(q=K),u.iterated["$<<"](q),ee(q,"each",X(S),B.$to_proc())},{$$s:F}),F)},-1),T(h,"$size",function(k){try{var B=v("return"),y,S,F=this,I=K;return y=A(arguments),S=y,I=0,ee(F.enums,"each",[],function q(u){var d=K;return u==null&&(u=K),d=ee(u,"size",X(S)),R([K,ie(ie("Float"),"INFINITY")]["$include?"](d))&&B.$throw(d,q.$$is_lambda),I=W(I,d)},{$$ret:B}),I}catch(q){if(q===B)return q.$v;throw q}finally{B.is_orphan=!0}},-1),T(h,"$rewind",function(){var k=this;return ee(k.iterated,"reverse_each",[],function(y){return y==null&&(y=K),R(y["$respond_to?"]("rewind"))?y.$rewind():K}),k.iterated=[],k}),T(h,"$inspect",function(){var k=this;return"#<Enumerator::Chain: "+k.enums.$inspect()+">"})}(re,re)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(i){var x=i.deny_frozen_access,p=i.klass,A=i.truthy,T=i.Kernel,ee=i.def,X=i.slice,R=i.send,W=[],v=i.nil,K=i.$$$;return i.add_stubs("include,raise,new,to_proc"),function(ie,Z,J){var re=p(ie,Z,"Enumerator"),V=[re].concat(J);return function(w,h,P){var D=p(w,h,"Generator"),k=[D].concat(P),B=i.$r(k),y=D.$$prototype;return y.block=v,D.$include(K("Enumerable")),ee(D,"$initialize",function S(){var F=S.$$p||v,I=this;return S.$$p=null,x(I),A(F)||T.$raise(K("LocalJumpError"),"no block given"),I.block=F}),ee(D,"$each",function S(F){var I=S.$$p||v,q,u,d=this,N=v;S.$$p=null,q=X(arguments),u=q,N=R(B("Yielder"),"new",[],I.$to_proc());try{u.unshift(N),i.yieldX(d.block,u)}catch(g){if(g&&g.$thrower_type=="breaker")return g.$v;throw g}return d},-1)}(V[0],null,V)}(W[0],null,W)};Opal.modules["corelib/enumerator/lazy"]=function(i){var x=i.truthy,p=i.coerce_to,A=i.yield1,T=i.yieldX,ee=i.deny_frozen_access,X=i.klass,R=i.slice,W=i.send2,v=i.find_super,K=i.to_a,ie=i.defs,Z=i.Kernel,J=i.send,re=i.def,V=i.return_self,w=i.Opal,h=i.rb_lt,P=i.eqeqeq,D=i.rb_plus,k=i.alias,B=[],y=i.nil,S=i.$$$;return i.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(F,I,q){var u=X(F,I,"Enumerator"),d=[u].concat(q);return function(N,g,_){var l=X(N,g,"Lazy"),E=[l].concat(_),U=i.$r(E),c=l.$$prototype;return c.enumerator=y,X(l,S("Exception"),"StopLazyError"),ie(l,"$for",function s(n,t){var e,r,$=s.$$p||y,a=this,o=y;return s.$$p=null,e=R(arguments,1),r=e,o=W(a,v(a,"for",s,!1,!0),"for",[n].concat(K(r)),$),o.enumerator=n,o},-2),re(l,"$initialize",function s(n,t){var e=s.$$p||y,r=this;return s.$$p=null,t==null&&(t=y),ee(r),e===y&&Z.$raise(S("ArgumentError"),"tried to call lazy new without a block"),r.enumerator=n,W(r,v(r,"initialize",s,!1,!0),"initialize",[t],function(a,o){var m,z;a==null&&(a=y),m=R(arguments,1),z=m;try{return J(n,"each",K(z),function(M){var G,O;G=R(arguments),O=G,O.unshift(a),T(e,O)},-1)}catch(C){if(i.rescue(C,[U("StopLazyError")]))try{return y}finally{i.pop_exception(C)}else throw C}},-2)},-2),re(l,"$lazy",V),re(l,"$collect",function s(){var n=s.$$p||y,t=this;return s.$$p=null,x(n)||Z.$raise(S("ArgumentError"),"tried to call lazy map without a block"),J(U("Lazy"),"new",[t,t.$enumerator_size()],function(r,$){var a,o;r==null&&(r=y),a=R(arguments,1),o=a;var m=T(n,o);r.$yield(m)},-2)}),re(l,"$collect_concat",function s(){var n=s.$$p||y,t=this;return s.$$p=null,x(n)||Z.$raise(S("ArgumentError"),"tried to call lazy map without a block"),J(U("Lazy"),"new",[t,y],function(r,$){var a,o;r==null&&(r=y),a=R(arguments,1),o=a;var m=T(n,o);if(m["$respond_to?"]("force")&&m["$respond_to?"]("each"))J(m,"each",[],function(M){return M==null&&(M=y),r.$yield(M)});else{var z=w.$try_convert(m,S("Array"),"to_ary");z===y?r.$yield(m):J(m,"each",[],function(M){return M==null&&(M=y),r.$yield(M)})}},-2)}),re(l,"$drop",function(n){var t=this,e=y,r=y,$=y;return n=p(n,S("Integer"),"to_int"),x(h(n,0))&&Z.$raise(S("ArgumentError"),"attempt to drop negative size"),e=t.$enumerator_size(),r=P(S("Integer"),e)&&x(h(n,e))?n:e,$=0,J(U("Lazy"),"new",[t,r],function(o,m){var z,C;return o==null&&(o=y),z=R(arguments,1),C=z,x(h($,n))?$=D($,1):J(o,"yield",K(C))},-2)}),re(l,"$drop_while",function s(){var n=s.$$p||y,t=this,e=y;return s.$$p=null,x(n)||Z.$raise(S("ArgumentError"),"tried to call lazy drop_while without a block"),e=!0,J(U("Lazy"),"new",[t,y],function($,a){var o,m;if($==null&&($=y),o=R(arguments,1),m=o,x(e)){var z=T(n,m);x(z)||(e=!1,J($,"yield",K(m)))}else return J($,"yield",K(m))},-2)}),re(l,"$enum_for",function s(n,t){var e=s.$$p||y,r,$,a,o=this;return s.$$p=null,r=R(arguments),r.length>0&&($=r.shift()),$==null&&($="each"),a=r,J(o.$class(),"for",[o,$].concat(K(a)),e.$to_proc())},-1),re(l,"$find_all",function s(){var n=s.$$p||y,t=this;return s.$$p=null,x(n)||Z.$raise(S("ArgumentError"),"tried to call lazy select without a block"),J(U("Lazy"),"new",[t,y],function(r,$){var a,o;r==null&&(r=y),a=R(arguments,1),o=a;var m=T(n,o);x(m)&&J(r,"yield",K(o))},-2)}),re(l,"$grep",function s(n){var t=s.$$p||y,e=this;return s.$$p=null,x(t)?J(U("Lazy"),"new",[e,y],function($,a){var o,m;$==null&&($=y),o=R(arguments,1),m=o;var z=w.$destructure(m),C=n["$==="](z);x(C)&&(C=A(t,z),$.$yield(A(t,z)))},-2):J(U("Lazy"),"new",[e,y],function($,a){var o,m;$==null&&($=y),o=R(arguments,1),m=o;var z=w.$destructure(m),C=n["$==="](z);x(C)&&$.$yield(z)},-2)}),re(l,"$reject",function s(){var n=s.$$p||y,t=this;return s.$$p=null,x(n)||Z.$raise(S("ArgumentError"),"tried to call lazy reject without a block"),J(U("Lazy"),"new",[t,y],function(r,$){var a,o;r==null&&(r=y),a=R(arguments,1),o=a;var m=T(n,o);x(m)||J(r,"yield",K(o))},-2)}),re(l,"$take",function(n){var t=this,e=y,r=y,$=y;return n=p(n,S("Integer"),"to_int"),x(h(n,0))&&Z.$raise(S("ArgumentError"),"attempt to take negative size"),e=t.$enumerator_size(),r=P(S("Integer"),e)&&x(h(n,e))?n:e,$=0,J(U("Lazy"),"new",[t,r],function(o,m){var z,C;return o==null&&(o=y),z=R(arguments,1),C=z,x(h($,n))?(J(o,"yield",K(C)),$=D($,1)):Z.$raise(U("StopLazyError"))},-2)}),re(l,"$take_while",function s(){var n=s.$$p||y,t=this;return s.$$p=null,x(n)||Z.$raise(S("ArgumentError"),"tried to call lazy take_while without a block"),J(U("Lazy"),"new",[t,y],function(r,$){var a,o;r==null&&(r=y),a=R(arguments,1),o=a;var m=T(n,o);x(m)?J(r,"yield",K(o)):Z.$raise(U("StopLazyError"))},-2)}),re(l,"$inspect",function(){var n=this;return"#<"+n.$class()+": "+n.enumerator.$inspect()+">"}),k(l,"force","to_a"),k(l,"filter","find_all"),k(l,"flat_map","collect_concat"),k(l,"map","collect"),k(l,"select","find_all"),k(l,"to_enum","enum_for")}(u,u,d)}("::",null,B)};Opal.modules["corelib/enumerator/yielder"]=function(i){var x=i.klass,p=i.def,A=i.slice,T=i.send,ee=i.to_a,X=[],R=i.nil;return i.add_stubs("yield,proc"),function(W,v,K){var ie=x(W,v,"Enumerator"),Z=[ie].concat(K);return function(J,re){var V=x(J,re,"Yielder"),w=V.$$prototype;return w.block=R,p(V,"$initialize",function h(){var P=h.$$p||R,D=this;return h.$$p=null,D.block=P,D}),p(V,"$yield",function(P){var D,k,B=this;D=A(arguments),k=D;var y=i.yieldX(B.block,k);if(y&&y.$thrower_type=="break")throw y;return y},-1),p(V,"$<<",function(P){var D=this;return D.$yield(P),D}),p(V,"$to_proc",function(){var P=this;return T(P,"proc",[],function D(k){var B,y,S=D.$$s==null?this:D.$$s;return B=A(arguments),y=B,T(S,"yield",ee(y))},{$$arity:-1,$$s:P})})}(Z[0],null)}(X[0],null,X)};Opal.modules["corelib/enumerator"]=function(i){var x=i.slice,p=i.coerce_to,A=i.deny_frozen_access,T=i.klass,ee=i.defs,X=i.truthy,R=i.send,W=i.not,v=i.def,K=i.rb_plus,ie=i.to_a,Z=i.Opal,J=i.send2,re=i.find_super,V=i.rb_ge,w=i.Kernel,h=i.rb_le,P=i.alias,D=i.top,k=[],B=i.nil,y=i.$$$;return i.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),D.$require("corelib/enumerable"),function(S,F,I){var q=T(S,F,"Enumerator"),u=[q].concat(I),d=i.$r(u),N=q.$$prototype;return N.size=N.args=N.object=N.method=N.values=N.cursor=B,q.$include(y("Enumerable")),q.$$prototype.$$is_enumerator=!0,ee(q,"$for",function g(_,l,E){var U=g.$$p||B,c,s,n,t=this;g.$$p=null,c=x(arguments,1),c.length>0&&(s=c.shift()),s==null&&(s="each"),n=c;var e=t.$allocate();return e.object=_,e.size=U,e.method=s,e.args=n,e.cursor=0,e},-2),v(q,"$initialize",function g(_){var l=g.$$p||B,E=this;return g.$$p=null,x(arguments),A(E),E.cursor=0,X(l)?(E.object=R(d("Generator"),"new",[],l.$to_proc()),E.method="each",E.args=[],E.size=arguments[0]||B,X(E.size)&&W(E.size["$respond_to?"]("call"))?E.size=p(E.size,y("Integer"),"to_int"):B):(E.object=arguments[0],E.method=arguments[1]||"each",E.args=x(arguments,2),E.size=B)},-1),v(q,"$each",function g(_){var l=g.$$p||B,E,U,c=this;return g.$$p=null,E=x(arguments),U=E,X(l["$nil?"]())&&X(U["$empty?"]())?c:(U=K(c.args,U),X(l["$nil?"]())?R(c.$class(),"new",[c.object,c.method].concat(ie(U))):R(c.object,"__send__",[c.method].concat(ie(U)),l.$to_proc()))},-1),v(q,"$size",function(){var _=this;return X(_.size["$respond_to?"]("call"))?R(_.size,"call",ie(_.args)):_.size}),v(q,"$with_index",function g(_){var l=g.$$p||B,E=this;if(g.$$p=null,_==null&&(_=0),_=X(_)?p(_,y("Integer"),"to_int"):0,!X(l))return R(E,"enum_for",["with_index",_],function c(){var s=c.$$s==null?this:c.$$s;return s.$size()},{$$s:E});var U=_;return E.$each.$$p=function(){var c=Z.$destructure(arguments),s=l(c,U);return U++,s},E.$each()},-1),v(q,"$each_with_index",function g(){var _=g.$$p||B,l=this;return g.$$p=null,_===B?R(l,"enum_for",["each_with_index"],function E(){var U=E.$$s==null?this:E.$$s;return U.$size()},{$$s:l}):(J(l,re(l,"each_with_index",g,!1,!0),"each_with_index",[],_),l.object)}),v(q,"$rewind",function(){var _=this;return _.cursor=0,_}),v(q,"$peek_values",function(){var _=this,l=B;return _.values=X(l=_.values)?l:R(_,"map",[],function(U){var c,s;return c=x(arguments),s=c,s},-1),X(V(_.cursor,_.values.$length()))&&w.$raise(y("StopIteration"),"iteration reached an end"),_.values["$[]"](_.cursor)}),v(q,"$peek",function(){var _=this,l=B;return l=_.$peek_values(),X(h(l.$length(),1))?l["$[]"](0):l}),v(q,"$next_values",function(){var _=this,l=B;return l=_.$peek_values(),_.cursor=K(_.cursor,1),l}),v(q,"$next",function(){var _=this,l=B;return l=_.$next_values(),X(h(l.$length(),1))?l["$[]"](0):l}),v(q,"$feed",function(_){var l=this;return l.$raise(d("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),v(q,"$+",function(_){var l=this;return y(y("Enumerator"),"Chain").$new(l,_)}),v(q,"$inspect",function(){var _=this,l=B;return l="#<"+_.$class()+": "+_.object.$inspect()+":"+_.method,X(_.args["$any?"]())&&(l=K(l,"("+_.args.$inspect()["$[]"](y("Range").$new(1,-2))+")")),K(l,">")}),P(q,"with_object","each_with_object"),q.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),q.$autoload("Chain","corelib/enumerator/chain"),q.$autoload("Generator","corelib/enumerator/generator"),q.$autoload("Lazy","corelib/enumerator/lazy"),q.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,k)};Opal.modules["corelib/numeric"]=function(i){var x=i.klass,p=i.truthy,A=i.Kernel,T=i.def,ee=i.to_ary,X=i.return_self,R=i.rb_minus,W=i.rb_times,v=i.rb_lt,K=i.eqeq,ie=i.rb_divide,Z=i.return_val,J=i.Opal,re=i.slice,V=i.extract_kwargs,w=i.ensure_kwargs,h=i.hash_get,P=i.not,D=i.send,k=i.rb_ge,B=i.rb_le,y=i.rb_plus,S=i.rb_gt,F=i.alias,I=i.top,q=i.nil,u=i.$$$;return i.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),I.$require("corelib/comparable"),function(d,N){var g=x(d,N,"Numeric");return g.$include(u("Comparable")),T(g,"$coerce",function(l){var E=this;return p(l["$instance_of?"](E.$class()))?[l,E]:[A.$Float(l),A.$Float(E)]}),T(g,"$__coerced__",function(l,E){var U,c,s=this,n=q,t=q;if(p(E["$respond_to?"]("coerce")))return c=E.$coerce(s),U=ee(c),n=U[0]==null?q:U[0],t=U[1]==null?q:U[1],n.$__send__(l,t);switch(l.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return A.$raise(u("TypeError"),""+E.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return A.$raise(u("ArgumentError"),"comparison of "+s.$class()+" with "+E.$class()+" failed");default:return q}}),T(g,"$<=>",function(l){var E=this;return p(E["$equal?"](l))?0:q}),T(g,"$+@",X),T(g,"$-@",function(){var l=this;return R(0,l)}),T(g,"$%",function(l){var E=this;return R(E,W(l,E.$div(l)))}),T(g,"$abs",function(){var l=this;return p(v(l,0))?l["$-@"]():l}),T(g,"$abs2",function(){var l=this;return W(l,l)}),T(g,"$angle",function(){var l=this;return p(v(l,0))?u(u("Math"),"PI"):0}),T(g,"$ceil",function(l){var E=this;return l==null&&(l=0),E.$to_f().$ceil(l)},-1),T(g,"$conj",X),T(g,"$denominator",function(){var l=this;return l.$to_r().$denominator()}),T(g,"$div",function(l){var E=this;return K(l,0)&&A.$raise(u("ZeroDivisionError"),"divided by o"),ie(E,l).$floor()}),T(g,"$divmod",function(l){var E=this;return[E.$div(l),E["$%"](l)]}),T(g,"$fdiv",function(l){var E=this;return ie(E.$to_f(),l)}),T(g,"$floor",function(l){var E=this;return l==null&&(l=0),E.$to_f().$floor(l)},-1),T(g,"$i",function(){var l=this;return A.$Complex(0,l)}),T(g,"$imag",Z(0)),T(g,"$integer?",Z(!1)),T(g,"$nonzero?",function(){var l=this;return p(l["$zero?"]())?q:l}),T(g,"$numerator",function(){var l=this;return l.$to_r().$numerator()}),T(g,"$polar",function(){var l=this;return[l.$abs(),l.$arg()]}),T(g,"$quo",function(l){var E=this;return ie(J["$coerce_to!"](E,u("Rational"),"to_r"),l)}),T(g,"$real",X),T(g,"$real?",Z(!0)),T(g,"$rect",function(){var l=this;return[l,0]}),T(g,"$round",function(l){var E=this;return E.$to_f().$round(l)},-1),T(g,"$step",function _(l,E,U){var c=_.$$p||q,s,n,t,e,r,$,a=this,o=q;_.$$p=null,s=re(arguments),n=V(s),n=w(n),s.length>0&&(t=s.shift()),s.length>0&&(e=s.shift()),r=h(n,"to"),$=h(n,"by"),t!==void 0&&r!==void 0&&A.$raise(u("ArgumentError"),"to is given twice"),e!==void 0&&$!==void 0&&A.$raise(u("ArgumentError"),"step is given twice"),r!==void 0&&(t=r),$!==void 0&&(e=$),t===void 0&&(t=q);function m(){e===q&&A.$raise(u("TypeError"),"step must be numeric"),e!=null&&e["$=="](0)&&A.$raise(u("ArgumentError"),"step can't be 0"),(e===q||e==null)&&(e=1);var he=e["$<=>"](0);he===q&&A.$raise(u("ArgumentError"),"0 can't be coerced into "+e.$class()),(t===q||t==null)&&(t=he>0?u(u("Float"),"INFINITY"):u(u("Float"),"INFINITY")["$-@"]()),J.$compare(a,t)}function z(){if(e>0&&a>t||e<0&&a<t)return 0;if(e===1/0||e===-1/0)return 1;var he=Math.abs,me=Math.floor,ve=(he(a)+he(t)+he(t-a))/he(e)*u(u("Float"),"EPSILON");return ve===1/0||ve===-1/0?0:(ve>.5&&(ve=.5),me((t-a)/e+ve)+1)}function C(){if(m(),e===0)return 1/0;if(e%1!==0)return z();if(e>0&&a>t||e<0&&a<t)return 0;var he=Math.ceil,me=Math.abs,ve=me(a-t)+1,be=me(e);return he(ve/be)}if(c===q)return(P(t)||p(t["$is_a?"](u("Numeric"))))&&(P(e)||p(e["$is_a?"](u("Numeric"))))?u(u("Enumerator"),"ArithmeticSequence").$new([t,e,p(r)?"to: ":q,p($)?"by: ":q],a):D(a,"enum_for",["step",t,e],C.$to_proc());m();var M=e["$negative?"](),G=e["$=="](0)||t===1/0&&!M||t===-1/0&&M;if(a.$$is_number&&e.$$is_number&&t.$$is_number)if(a%1===0&&(G||t%1===0)&&e%1===0){var O=a;if(G)for(;;O+=e)c(O);else if(M)for(;O>=t;O+=e)c(O);else for(;O<=t;O+=e)c(O);return a}else{var ae=a.$to_f().valueOf();e=e.$to_f().valueOf(),t=t.$to_f().valueOf();var le=z();if(!isFinite(e))le!==0&&c(ae);else if(e===0)for(;;)c(ae);else for(var ce=0;ce<le;ce++){var de=ce*e+a;(e>=0?t<de:t>de)&&(de=t),c(de)}return a}for(o=a;p(M?k(o,t):B(o,t));)i.yield1(c,o),o=y(o,e)},-1),T(g,"$to_c",function(){var l=this;return A.$Complex(l,0)}),T(g,"$to_int",function(){var l=this;return l.$to_i()}),T(g,"$truncate",function(l){var E=this;return l==null&&(l=0),E.$to_f().$truncate(l)},-1),T(g,"$zero?",function(){var l=this;return l["$=="](0)}),T(g,"$positive?",function(){var l=this;return S(l,0)}),T(g,"$negative?",function(){var l=this;return v(l,0)}),T(g,"$dup",X),T(g,"$clone",function(l){var E=this;return l=w(l),h(l,"freeze"),E},-1),T(g,"$finite?",Z(!0)),T(g,"$infinite?",Z(q)),F(g,"arg","angle"),F(g,"conjugate","conj"),F(g,"imaginary","imag"),F(g,"magnitude","abs"),F(g,"modulo","%"),F(g,"phase","arg"),F(g,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(i){var x=i.truthy,p=i.falsy,A=i.yield1,T=i.hash_get,ee=i.hash_put,X=i.hash_delete,R=i.coerce_to,W=i.respond_to,v=i.deny_frozen_access,K=i.freeze,ie=i.opal32_init,Z=i.opal32_add,J=i.klass,re=i.slice,V=i.defs,w=i.Kernel,h=i.def,P=i.Opal,D=i.eqeqeq,k=i.send2,B=i.find_super,y=i.send,S=i.rb_gt,F=i.rb_times,I=i.eqeq,q=i.rb_minus,u=i.to_a,d=i.to_ary,N=i.gvars,g=i.rb_ge,_=i.assign_ivar,l=i.rb_lt,E=i.return_self,U=i.neqeq,c=i.alias,s=i.top,n=[],t=i.nil,e=i.$$$;return i.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),s.$require("corelib/enumerable"),s.$require("corelib/numeric"),function(r,$,a){var o=J(r,$,"Array"),m=[o].concat(a),z=i.$r(m);o.$include(e("Enumerable")),i.prop(o.$$prototype,"$$is_array",!0);function C($e){for(var j=$e[0],L=1,Y=$e.length;L<Y;L++)$e[L-1]=$e[L];return $e.pop(),j}function M($e,j){return j.$$name===i.Array?$e:j.$allocate().$replace($e.$to_a())}function G($e,j,L){for(var Y,Q=null,ne=new Array($e.length),se=0,oe=0;se<$e.length;se++){if(!Q)try{Y=A(L,$e[se])}catch(fe){Q=fe}(Q||j(Y))&&(ne[oe]=$e[se],oe+=1)}if(oe!==se&&($e.splice.apply($e,[0,ne.length].concat(ne)),$e.splice(oe,ne.length)),Q)throw Q}function O($e){return $e.$$is_array||($e=R($e,e("Array"),"to_ary")),$e.$to_a()}function ae($e,j){var L=j.length;if(L>6&&L<32767)$e.push.apply($e,j);else for(var Y=0;Y<L;Y++)$e.push(j[Y])}V(o,"$[]",function(j){var L,Y,Q=this;return L=re(arguments),Y=L,M(Y,Q)},-1),h(o,"$initialize",function $e(j,L){var Y=$e.$$p||t,Q=this;if($e.$$p=null,j==null&&(j=t),L==null&&(L=t),v(Q),L!==t&&Y!==t&&w.$warn("warning: block supersedes default value argument"),j>e(e("Integer"),"MAX")&&w.$raise(e("ArgumentError"),"array size too big"),arguments.length>2&&w.$raise(e("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return Q.length>0&&Q.splice(0,Q.length),Q;if(arguments.length===1){if(j.$$is_array)return Q.$replace(j.$to_a()),Q;if(j["$respond_to?"]("to_ary"))return Q.$replace(j.$to_ary()),Q}j=R(j,e("Integer"),"to_int"),j<0&&w.$raise(e("ArgumentError"),"negative array size"),Q.splice(0,Q.length);var ne,se;if(Y===t)for(ne=0;ne<j;ne++)Q.push(L);else for(ne=0,se;ne<j;ne++)se=Y(ne),Q[ne]=se;return Q},-1),V(o,"$try_convert",function(j){return P["$coerce_to?"](j,e("Array"),"to_ary")}),h(o,"$&",function(j){var L=this;if(j=O(j),L.length===0||j.length===0)return[];var Y=[],Q=new Map,ne,se,oe;for(ne=0,se=j.length;ne<se;ne++)ee(Q,j[ne],!0);for(ne=0,se=L.length;ne<se;ne++)oe=L[ne],X(Q,oe)!==void 0&&Y.push(oe);return Y}),h(o,"$|",function(j){var L=this;j=O(j);var Y=new Map,Q,ne;for(Q=0,ne=L.length;Q<ne;Q++)ee(Y,L[Q],!0);for(Q=0,ne=j.length;Q<ne;Q++)ee(Y,j[Q],!0);return Y.$keys()}),h(o,"$*",function(j){var L=this;if(x(j["$respond_to?"]("to_str")))return L.$join(j.$to_str());j=R(j,e("Integer"),"to_int"),x(j<0)&&w.$raise(e("ArgumentError"),"negative argument");for(var Y=[],Q=L.$to_a(),ne=0;ne<j;ne++)Y=Y.concat(Q);return Y}),h(o,"$+",function(j){var L=this;return j=O(j),L.concat(j)}),h(o,"$-",function(j){var L=this;if(j=O(j),x(L.length===0))return[];if(x(j.length===0))return L.slice();var Y=[],Q=new Map,ne,se,oe;for(ne=0,se=j.length;ne<se;ne++)ee(Q,j[ne],!0);for(ne=0,se=L.length;ne<se;ne++)oe=L[ne],T(Q,oe)===void 0&&Y.push(oe);return Y}),h(o,"$<<",function(j){var L=this;return v(L),L.push(j),L}),h(o,"$<=>",function(j){var L=this;if(D(e("Array"),j))j=j.$to_a();else if(x(j["$respond_to?"]("to_ary")))j=j.$to_ary().$to_a();else return t;if(L===j)return 0;for(var Y=Math.min(L.length,j.length),Q=0;Q<Y;Q++){var ne=L[Q]["$<=>"](j[Q]);if(ne!==0)return ne}return L.length["$<=>"](j.length)}),h(o,"$==",function(j){var L=this,Y={};function Q(ne,se){var oe,fe,f,b;if(ne===se)return!0;if(!se.$$is_array)return W(se,"$to_ary")?se["$=="](ne):!1;if(ne.$$constructor!==Array&&(ne=ne.$to_a()),se.$$constructor!==Array&&(se=se.$to_a()),ne.length!==se.length)return!1;for(Y[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(f=ne[oe],b=se[oe],f.$$is_array){if(b.$$is_array&&b.length!==f.length||!Y.hasOwnProperty(f.$object_id())&&!Q(f,b))return!1}else if(!f["$=="](b))return!1;return!0}return Q(L,j)});function le($e,j){var L=$e.length,Y,Q,ne,se;return Y=j.excl,Q=j.begin===t?0:R(j.begin,i.Integer,"to_int"),ne=j.end===t?-1:R(j.end,i.Integer,"to_int"),Q<0&&(Q+=L,Q<0)||(j.excl_rev&&j.begin!==t&&(Q+=1),Q>L)?t:ne<0&&(ne+=L,ne<0)?[]:((!Y||j.end===t)&&(ne+=1),se=$e.slice(Q,ne),se)}function ce($e,j){var L,Y=[],Q=0,ne;for(j.step<0?(ne={begin:j.range.end,end:j.range.begin,excl:!1,excl_rev:j.range.excl},L=le($e,ne).$reverse()):L=le($e,j.range);Q<L.length;)Y.push(L[Q]),Q+=Math.abs(j.step);return Y}function de($e,j,L){var Y=$e.length,Q;return j=R(j,i.Integer,"to_int"),j<0&&(j+=Y,j<0)?t:L===void 0?j>=Y||j<0?t:$e[j]:(L=R(L,i.Integer,"to_int"),L<0||j>Y||j<0?t:(Q=$e.slice(j,j+L),Q))}h(o,"$[]",function(j,L){var Y=this;return j.$$is_range?le(Y,j):j.$$is_arithmetic_seq?ce(Y,j):de(Y,j,L)},-2),h(o,"$[]=",function(j,L,Y){var Q=this,ne=t,se=t;v(Q),ne=t;var oe,fe=Q.length;if(j.$$is_range){L.$$is_array?ne=L.$to_a():L["$respond_to?"]("to_ary")?ne=L.$to_ary().$to_a():ne=[L];var f=j.excl,b=j.begin===t?0:R(j.begin,i.Integer,"to_int"),H=j.end===t?-1:R(j.end,i.Integer,"to_int");if(b<0&&(b+=fe,b<0&&w.$raise(e("RangeError"),""+j.$inspect()+" out of range")),H<0&&(H+=fe),(!f||j.end===t)&&(H+=1),b>fe)for(oe=fe;oe<b;oe++)Q[oe]=t;return H<0?Q.splice.apply(Q,[b,0].concat(ne)):Q.splice.apply(Q,[b,H-b].concat(ne)),L}else{Y===void 0?se=1:(se=L,L=Y,L.$$is_array?ne=L.$to_a():L["$respond_to?"]("to_ary")?ne=L.$to_ary().$to_a():ne=[L]);var te;if(j=R(j,e("Integer"),"to_int"),se=R(se,e("Integer"),"to_int"),j<0&&(te=j,j+=fe,j<0&&w.$raise(e("IndexError"),"index "+te+" too small for array; minimum "+-Q.length)),se<0&&w.$raise(e("IndexError"),"negative length ("+se+")"),j>fe)for(oe=fe;oe<j;oe++)Q[oe]=t;return Y===void 0?Q[j]=L:Q.splice.apply(Q,[j,se].concat(ne)),L}},-3),h(o,"$any?",function $e(j){var L=$e.$$p||t,Y=this;return $e.$$p=null,Y.length===0?!1:k(Y,B(Y,"any?",$e,!1,!0),"any?",[j],L)},-1),h(o,"$assoc",function(j){for(var L=this,Y=0,Q=L.length,ne;Y<Q;Y++)if(ne=L[Y],ne.length&&ne[0]["$=="](j))return ne;return t}),h(o,"$at",function(j){var L=this;return j=R(j,e("Integer"),"to_int"),j<0&&(j+=L.length),j<0||j>=L.length?t:L[j]}),h(o,"$bsearch_index",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return L.$enum_for("bsearch_index");for(var Y=0,Q=L.length,ne,se,oe,fe=!1,f=t;Y<Q;){if(ne=Y+Math.floor((Q-Y)/2),se=L[ne],oe=A(j,se),oe===!0)f=ne,fe=!0;else if(oe===!1||oe===t)fe=!1;else if(oe.$$is_number){if(oe===0)return ne;fe=oe<0}else w.$raise(e("TypeError"),"wrong argument type "+oe.$class()+" (must be numeric, true, false or nil)");fe?Q=ne:Y=ne+1}return f}),h(o,"$bsearch",function $e(){var j=$e.$$p||t,L=this,Y=t;return $e.$$p=null,j===t?L.$enum_for("bsearch"):(Y=y(L,"bsearch_index",[],j.$to_proc()),Y!=null&&Y.$$is_number?L[Y]:Y)}),h(o,"$cycle",function $e(j){var L=$e.$$p||t,Y=this;if($e.$$p=null,j==null&&(j=t),L===t)return y(Y,"enum_for",["cycle",j],function se(){var oe=se.$$s==null?this:se.$$s;return x(j["$nil?"]())?e(e("Float"),"INFINITY"):(j=P["$coerce_to!"](j,e("Integer"),"to_int"),x(S(j,0))?F(oe.$enumerator_size(),j):0)},{$$s:Y});if(x(Y["$empty?"]())||I(j,0))return t;var Q,ne;if(j===t)for(;;)for(Q=0,ne=Y.length;Q<ne;Q++)A(L,Y[Q]);else{if(j=P["$coerce_to!"](j,e("Integer"),"to_int"),j<=0)return Y;for(;j>0;){for(Q=0,ne=Y.length;Q<ne;Q++)A(L,Y[Q]);j--}}return Y},-1),h(o,"$clear",function(){var j=this;return v(j),j.splice(0,j.length),j}),h(o,"$count",function $e(j){var L=$e.$$p||t,Y=this;return $e.$$p=null,x(j!==void 0)||x(L)?k(Y,B(Y,"count",$e,!1,!0),"count",[j],L):Y.$size()},-1),h(o,"$initialize_copy",function(j){var L=this;return L.$replace(j)}),h(o,"$collect",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return y(L,"enum_for",["collect"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:L});for(var Y=[],Q=0;Q<L.length;Q++){var ne=A(j,L[Q]);Y[Q]=ne}return Y}),h(o,"$collect!",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return y(L,"enum_for",["collect!"],function ne(){var se=ne.$$s==null?this:ne.$$s;return se.$size()},{$$s:L});v(L);for(var Y=0;Y<L.length;Y++){var Q=A(j,L[Y]);L[Y]=Q}return L});function he($e,j){return $e===j||j===0?1:j>0&&$e>j?he($e-1,j-1)+he($e-1,j):0}h(o,"$combination",function $e(j){var L=$e.$$p||t,Y=this,Q=t;if($e.$$p=null,Q=P["$coerce_to!"](j,e("Integer"),"to_int"),L===t)return y(Y,"enum_for",["combination",Q],function te(){var ue=te.$$s==null?this:te.$$s;return he(ue.length,Q)},{$$s:Y});var ne,se,oe,fe,f,b,H;if(Q===0)i.yield1(L,[]);else if(Q===1)for(ne=0,se=Y.length;ne<se;ne++)i.yield1(L,[Y[ne]]);else if(Q===Y.length)i.yield1(L,Y.slice());else if(Q>=0&&Q<Y.length){for(oe=[],ne=0;ne<=Q+1;ne++)oe.push(0);for(fe=[],f=0,b=!1,oe[0]=-1;!b;){for(fe[f]=Y[oe[f+1]];f<Q-1;)f++,H=oe[f+1]=oe[f]+1,fe[f]=Y[H];i.yield1(L,fe.slice()),f++;do b=f===0,oe[f]++,f--;while(oe[f+1]+Q===Y.length+f+1)}}return Y}),h(o,"$repeated_combination",function $e(j){var L=$e.$$p||t,Y=this,Q=t;if($e.$$p=null,Q=P["$coerce_to!"](j,e("Integer"),"to_int"),L===t)return y(Y,"enum_for",["repeated_combination",Q],function se(){var oe=se.$$s==null?this:se.$$s;return he(oe.length+Q-1,Q)},{$$s:Y});function ne(se,oe,fe,f){if(fe.length==se){var b=fe.slice();i.yield1(L,b);return}for(var H=oe;H<f.length;H++)fe.push(f[H]),ne(se,H,fe,f),fe.pop()}return Q>=0&&ne(Q,0,[],Y),Y}),h(o,"$compact",function(){for(var j=this,L=[],Y=0,Q=j.length,ne;Y<Q;Y++)(ne=j[Y])!==t&&L.push(ne);return L}),h(o,"$compact!",function(){var j=this;v(j);for(var L=j.length,Y=0,Q=j.length;Y<Q;Y++)j[Y]===t&&(j.splice(Y,1),Q--,Y--);return j.length===L?t:j}),h(o,"$concat",function(j){var L,Y,Q=this;return L=re(arguments),Y=L,v(Q),Y=y(Y,"map",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;return se==null&&(se=t),se=O(se),x(se["$equal?"](oe))&&(se=se.$dup()),se},{$$s:Q}),y(Y,"each",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;se==null&&(se=t);for(var fe=0,f=se.length;fe<f;fe++)oe.push(se[fe])},{$$s:Q}),Q},-1),h(o,"$delete",function $e(j){var L=$e.$$p||t,Y=this;$e.$$p=null;for(var Q=Y.length,ne=0,se=Q;ne<se;ne++)Y[ne]["$=="](j)&&(v(Y),Y.splice(ne,1),se--,ne--);return Y.length===Q?L!==t?i.yieldX(L,[]):t:j}),h(o,"$delete_at",function(j){var L=this;if(v(L),j=R(j,e("Integer"),"to_int"),j<0&&(j+=L.length),j<0||j>=L.length)return t;var Y=L[j];return L.splice(j,1),Y}),h(o,"$delete_if",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,j===t?y(L,"enum_for",["delete_if"],function Y(){var Q=Y.$$s==null?this:Y.$$s;return Q.$size()},{$$s:L}):(v(L),G(L,p,j),L)}),h(o,"$difference",function(j){var L,Y,Q=this;return L=re(arguments),Y=L,y(Y,"reduce",[Q.$to_a().$dup()],function(se,oe){return se==null&&(se=t),oe==null&&(oe=t),q(se,oe)})},-1),h(o,"$dig",function(j,L){var Y,Q,ne=this,se=t;return Y=re(arguments,1),Q=Y,se=ne["$[]"](j),se===t||Q.length===0?se:(x(se["$respond_to?"]("dig"))||w.$raise(e("TypeError"),""+se.$class()+" does not have #dig method"),y(se,"dig",u(Q)))},-2),h(o,"$drop",function(j){var L=this;return j=R(j,e("Integer"),"to_int"),j<0&&w.$raise(e("ArgumentError")),L.slice(j)}),h(o,"$dup",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,L.$$class===i.Array&&L.$$class.$allocate.$$pristine&&L.$copy_instance_variables.$$pristine&&L.$initialize_dup.$$pristine?L.slice(0):k(L,B(L,"dup",$e,!1,!0),"dup",[],j)}),h(o,"$each",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return y(L,"enum_for",["each"],function Q(){var ne=Q.$$s==null?this:Q.$$s;return ne.$size()},{$$s:L});for(var Y=0;Y<L.length;Y++)A(j,L[Y]);return L}),h(o,"$each_index",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return y(L,"enum_for",["each_index"],function Q(){var ne=Q.$$s==null?this:Q.$$s;return ne.$size()},{$$s:L});for(var Y=0;Y<L.length;Y++)A(j,Y);return L}),h(o,"$empty?",function(){var j=this;return j.length===0}),h(o,"$eql?",function(j){var L=this,Y={};function Q(ne,se){var oe,fe,f,b;if(!se.$$is_array||(se=se.$to_a(),ne.length!==se.length))return!1;for(Y[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(f=ne[oe],b=se[oe],f.$$is_array){if(b.$$is_array&&b.length!==f.length||!Y.hasOwnProperty(f.$object_id())&&!Q(f,b))return!1}else if(!f["$eql?"](b))return!1;return!0}return Q(L,j)}),h(o,"$fetch",function $e(j,L){var Y=$e.$$p||t,Q=this;$e.$$p=null;var ne=j;if(j=R(j,e("Integer"),"to_int"),j<0&&(j+=Q.length),j>=0&&j<Q.length)return Q[j];if(Y!==t&&L!=null&&Q.$warn("warning: block supersedes default value argument"),Y!==t)return Y(ne);if(L!=null)return L;Q.length===0?w.$raise(e("IndexError"),"index "+ne+" outside of array bounds: 0...0"):w.$raise(e("IndexError"),"index "+ne+" outside of array bounds: -"+Q.length+"..."+Q.length)},-2),h(o,"$fill",function $e(j){var L=$e.$$p||t,Y,Q,ne,se,oe=this,fe=t,f=t,b=t,H=t,te=t;$e.$$p=null,Y=re(arguments),Q=Y,v(oe);var ue,_e;if(x(L)?(x(Q.length>2)&&w.$raise(e("ArgumentError"),"wrong number of arguments ("+Q.$length()+" for 0..2)"),se=Q,ne=d(se),fe=ne[0]==null?t:ne[0],f=ne[1]==null?t:ne[1]):(x(Q.length==0)?w.$raise(e("ArgumentError"),"wrong number of arguments (0 for 1..3)"):x(Q.length>3)&&w.$raise(e("ArgumentError"),"wrong number of arguments ("+Q.$length()+" for 1..3)"),se=Q,ne=d(se),b=ne[0]==null?t:ne[0],fe=ne[1]==null?t:ne[1],f=ne[2]==null?t:ne[2]),D(e("Range"),fe)){if(x(f)&&w.$raise(e("TypeError"),"length invalid with range"),H=fe.begin===t?0:R(fe.begin,e("Integer"),"to_int"),x(H<0)&&(H+=this.length),x(H<0)&&w.$raise(e("RangeError"),""+fe.$inspect()+" out of range"),te=fe.end===t?-1:R(fe.end,e("Integer"),"to_int"),x(te<0)&&(te+=this.length),x(fe["$exclude_end?"]())||(te+=1),x(te<=H))return oe}else if(x(fe))if(H=R(fe,e("Integer"),"to_int"),x(H<0)&&(H+=this.length),x(H<0)&&(H=0),x(f)){if(te=R(f,e("Integer"),"to_int"),x(te==0))return oe;te+=H}else te=this.length;else H=0,te=this.length;if(x(H>this.length))for(ue=this.length;ue<te;ue++)oe[ue]=t;if(x(te>this.length)&&(this.length=te),x(L))for(this.length;H<te;H++)_e=L(H),oe[H]=_e;else for(this.length;H<te;H++)oe[H]=b;return oe},-1),h(o,"$first",function(j){var L=this;return j==null?L.length===0?t:L[0]:(j=R(j,e("Integer"),"to_int"),j<0&&w.$raise(e("ArgumentError"),"negative array size"),L.slice(0,j))},-1),h(o,"$flatten",function(j){var L=this;function Y(Q,ne){var se=[],oe,fe,f,b;for(Q=Q.$to_a(),oe=0,fe=Q.length;oe<fe;oe++){if(f=Q[oe],!W(f,"$to_ary",!0)){se.push(f);continue}if(b=f.$to_ary(),b===t){se.push(f);continue}switch(b.$$is_array||w.$raise(e("TypeError")),b===L&&w.$raise(e("ArgumentError")),ne){case void 0:se=se.concat(Y(b));break;case 0:se.push(b);break;default:ae(se,Y(b,ne-1))}}return se}return j!==void 0&&(j=R(j,e("Integer"),"to_int")),Y(L,j)},-1),h(o,"$flatten!",function(j){var L=this;v(L);var Y=L.$flatten(j);if(L.length==Y.length){for(var Q=0,ne=L.length;Q<ne&&L[Q]===Y[Q];Q++);if(Q==ne)return t}return L.$replace(Y),L},-1),h(o,"$freeze",function(){var j=this;return x(j["$frozen?"]())?j:K(j)});var me;h(o,"$hash",function(){var j=this,L=me===void 0,Y=ie(),Q=j.$object_id(),ne,se,oe;if(Y=Z(Y,10),Y=Z(Y,j.length),L)me=Object.create(null);else if(me[Q])return Z(Y,16843009);try{for(oe in me)if(ne=me[oe],j["$eql?"](ne))return Z(Y,16843009);for(me[Q]=j,se=0;se<j.length;se++)ne=j[se],Y=Z(Y,ne.$hash());return Y}finally{L&&(me=void 0)}}),h(o,"$include?",function(j){for(var L=this,Y=0,Q=L.length;Y<Q;Y++)if(L[Y]["$=="](j))return!0;return!1}),h(o,"$index",function $e(j){var L=$e.$$p||t,Y=this;$e.$$p=null;var Q,ne,se;if(j!=null&&L!==t&&Y.$warn("warning: given block not used"),j!=null){for(Q=0,ne=Y.length;Q<ne;Q++)if(Y[Q]["$=="](j))return Q}else if(L!==t){for(Q=0;Q<Y.length;Q++)if(se=L(Y[Q]),se!==!1&&se!==t)return Q}else return Y.$enum_for("index");return t},-1),h(o,"$insert",function(j,L){var Y,Q,ne=this;if(Y=re(arguments,1),Q=Y,v(ne),j=R(j,e("Integer"),"to_int"),Q.length>0){if(j<0&&(j+=ne.length+1,j<0&&w.$raise(e("IndexError"),""+j+" is out of bounds")),j>ne.length)for(var se=ne.length;se<j;se++)ne.push(t);ne.splice.apply(ne,[j,0].concat(Q))}return ne},-2);var ve=[];h(o,"$inspect",function(){var j=this,L=[],Y=j.$__id__(),Q=!0;return function(){try{if(ve.indexOf(Y)!==-1)return Q=!1,"[...]";ve.push(Y);for(var ne=0,se=j.length;ne<se;ne++){var oe=j["$[]"](ne);L.push(z("Opal").$inspect(oe))}return"["+L.join(", ")+"]"}finally{Q&&ve.pop()}}()}),h(o,"$intersection",function(j){var L,Y,Q=this,ne=t,se=t;return L=re(arguments),Y=L,Y.length===0?Q.$to_a().$dup():(Y=Y.map(O),Q.length===0?[]:(Y=y(Y,"sort_by",[],"length".$to_proc()),x(Q.length<Y[0].length)?y(Y,"reduce",[Q],"&".$to_proc()):(ne=Y.pop(),se=y(Y,"reduce",[ne],"&".$to_proc()),Q["$&"](se))))},-1),h(o,"$intersect?",function(j){var L=this,Y,Q,ne=new Map,se,oe;for(L.length<j.length?(Y=L,Q=j):(Y=j,Q=L),se=0,oe=Y.length;se<oe;se++)ee(ne,Y[se],!0);for(se=0,oe=Q.length;se<oe;se++)if(T(ne,Q[se]))return!0;return!1}),h(o,"$join",function(j){var L=this;if(N[","]==null&&(N[","]=t),j==null&&(j=t),x(L.length===0))return"";x(j===t)&&(j=N[","]);var Y=[],Q,ne,se,oe;for(Q=0,ne=L.length;Q<ne;Q++){if(se=L[Q],W(se,"$to_str")&&(oe=se.$to_str(),oe!==t)){Y.push(oe.$to_s());continue}if(W(se,"$to_ary")&&(oe=se.$to_ary(),oe===L&&w.$raise(e("ArgumentError")),oe!==t)){Y.push(oe.$join(j));continue}if(W(se,"$to_s")&&(oe=se.$to_s(),oe!==t)){Y.push(oe);continue}w.$raise(e("NoMethodError").$new(""+z("Opal").$inspect(L.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return j===t?Y.join(""):Y.join(P["$coerce_to!"](j,e("String"),"to_str").$to_s())},-1),h(o,"$keep_if",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,j===t?y(L,"enum_for",["keep_if"],function Y(){var Q=Y.$$s==null?this:Y.$$s;return Q.$size()},{$$s:L}):(v(L),G(L,x,j),L)}),h(o,"$last",function(j){var L=this;return j==null?L.length===0?t:L[L.length-1]:(j=R(j,e("Integer"),"to_int"),j<0&&w.$raise(e("ArgumentError"),"negative array size"),j>L.length&&(j=L.length),L.slice(L.length-j,L.length))},-1),h(o,"$length",function(){var j=this;return j.length}),h(o,"$max",function $e(j){var L=$e.$$p||t,Y=this;return $e.$$p=null,y(Y.$each(),"max",[j],L.$to_proc())},-1),h(o,"$min",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,y(L.$each(),"min",[],j.$to_proc())});function be($e,j){for(var L=j>=0?1:0;j;)L*=$e,$e--,j--;return L}return h(o,"$permutation",function $e(j){var L=$e.$$p||t,Y=this,Q=t,ne=t;if($e.$$p=null,L===t)return y(Y,"enum_for",["permutation",j],function b(){var H=b.$$s==null?this:b.$$s;return be(H.length,j===void 0?H.length:j)},{$$s:Y});var se,oe,fe;if(j===void 0?j=Y.length:j=R(j,e("Integer"),"to_int"),!(j<0||Y.length<j))if(j===0)i.yield1(L,[]);else if(j===1)for(var f=0;f<Y.length;f++)i.yield1(L,[Y[f]]);else Q=z("Array").$new(j),ne=z("Array").$new(Y.length,!1),se=function(b,H,te,ue,_e){Y=this;for(var ge=0;ge<Y.length;ge++)if(ue["$[]"](ge)["$!"]())if(H[te]=ge,te<b-1)ue[ge]=!0,se.call(Y,b,H,te+1,ue,_e),ue[ge]=!1;else{fe=[];for(var pe=0;pe<H.length;pe++)fe.push(Y[H[pe]]);A(_e,fe)}},L!==t?(oe=Y.slice(),se.call(oe,j,Q,0,ne,L)):se.call(Y,j,Q,0,ne,L);return Y},-1),h(o,"$repeated_permutation",function $e(j){var L=$e.$$p||t,Y=this,Q=t;if($e.$$p=null,Q=P["$coerce_to!"](j,e("Integer"),"to_int"),L===t)return y(Y,"enum_for",["repeated_permutation",Q],function se(){var oe=se.$$s==null?this:se.$$s;return x(g(Q,0))?oe.$size()["$**"](Q):0},{$$s:Y});function ne(se,oe,fe){if(oe.length==se){var f=oe.slice();i.yield1(L,f);return}for(var b=0;b<fe.length;b++)oe.push(fe[b]),ne(se,oe,fe),oe.pop()}return ne(Q,[],Y.slice()),Y}),h(o,"$pop",function(j){var L=this;return v(L),x(j===void 0)?x(L.length===0)?t:L.pop():(j=R(j,e("Integer"),"to_int"),x(j<0)&&w.$raise(e("ArgumentError"),"negative array size"),x(L.length===0)?[]:x(j===1)?[L.pop()]:x(j>L.length)?L.splice(0,L.length):L.splice(L.length-j,L.length))},-1),h(o,"$product",function $e(j){var L=$e.$$p||t,Y,Q,ne=this;$e.$$p=null,Y=re(arguments),Q=Y;var se=L!==t?null:[],oe=Q.length+1,fe=new Array(oe),f=new Array(oe),b=new Array(oe),H,te,ue,_e,ge=1;for(b[0]=ne,H=1;H<oe;H++)b[H]=R(Q[H-1],e("Array"),"to_ary");for(H=0;H<oe;H++){if(_e=b[H].length,_e===0)return se||ne;ge*=_e,ge>2147483647&&w.$raise(e("RangeError"),"too big to product"),f[H]=_e,fe[H]=0}e:for(;;){for(ue=[],H=0;H<oe;H++)ue.push(b[H][fe[H]]);for(se?se.push(ue):i.yield1(L,ue),te=oe-1,fe[te]++;fe[te]===f[te];){if(fe[te]=0,--te<0)break e;fe[te]++}}return se||ne},-1),h(o,"$push",function(j){var L,Y,Q=this;return L=re(arguments),Y=L,v(Q),ae(Q,Y),Q},-1),h(o,"$rassoc",function(j){for(var L=this,Y=0,Q=L.length,ne;Y<Q;Y++)if(ne=L[Y],ne.length&&ne[1]!==void 0&&ne[1]["$=="](j))return ne;return t}),h(o,"$reject",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return y(L,"enum_for",["reject"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:L});for(var Y=[],Q=0,ne;Q<L.length;Q++)ne=j(L[Q]),(ne===!1||ne===t)&&Y.push(L[Q]);return Y}),h(o,"$reject!",function $e(){var j=$e.$$p||t,L=this,Y=t;return $e.$$p=null,j===t?y(L,"enum_for",["reject!"],function Q(){var ne=Q.$$s==null?this:Q.$$s;return ne.$size()},{$$s:L}):(v(L),Y=L.$length(),y(L,"delete_if",[],j.$to_proc()),I(L.$length(),Y)?t:L)}),h(o,"$replace",function(j){var L=this;return v(L),j=O(j),L.length>0&&L.splice(0,L.length),ae(L,j),L}),h(o,"$reverse",function(){var j=this;return j.slice(0).reverse()}),h(o,"$reverse!",function(){var j=this;return v(j),j.reverse()}),h(o,"$reverse_each",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return y(L,"enum_for",["reverse_each"],function Q(){var ne=Q.$$s==null?this:Q.$$s;return ne.$size()},{$$s:L});for(var Y=L.length-1;Y>=0;Y--)A(j,L[Y]);return L}),h(o,"$rindex",function $e(j){var L=$e.$$p||t,Y=this;$e.$$p=null;var Q,ne;if(j!=null&&L!==t&&Y.$warn("warning: given block not used"),j!=null){for(Q=Y.length-1;Q>=0&&!(Q>=Y.length);Q--)if(Y[Q]["$=="](j))return Q}else if(L!==t){for(Q=Y.length-1;Q>=0&&!(Q>=Y.length);Q--)if(ne=L(Y[Q]),ne!==!1&&ne!==t)return Q}else if(j==null)return Y.$enum_for("rindex");return t},-1),h(o,"$rotate",function(j){var L=this;j==null&&(j=1);var Y,Q,ne,se;return j=R(j,e("Integer"),"to_int"),L.length===1?L.slice():L.length===0?[]:(Y=L.slice(),Q=j%Y.length,ne=Y.slice(Q),se=Y.slice(0,Q),ne.concat(se))},-1),h(o,"$rotate!",function(j){var L=this,Y=t;return j==null&&(j=1),v(L),L.length===0||L.length===1?L:(j=R(j,e("Integer"),"to_int"),Y=L.$rotate(j),L.$replace(Y))},-1),function($e,j){var L=J($e,j,"SampleRandom"),Y=L.$$prototype;return Y.rng=t,h(L,"$initialize",_("rng")),h(L,"$rand",function(ne){var se=this,oe=t;return oe=R(se.rng.$rand(ne),e("Integer"),"to_int"),x(oe<0)&&w.$raise(e("RangeError"),"random value must be >= 0"),x(oe<ne)||w.$raise(e("RangeError"),"random value must be less than Array size"),oe})}(o,null),h(o,"$sample",function(j,L){var Y=this,Q=t,ne=t;if(x(j===void 0))return Y.$at(w.$rand(Y.length));if(x(L===void 0)?x(Q=P["$coerce_to?"](j,e("Hash"),"to_hash"))?(L=Q,j=t):(L=t,j=R(j,e("Integer"),"to_int")):(j=R(j,e("Integer"),"to_int"),L=R(L,e("Hash"),"to_hash")),x(j)&&x(j<0)&&w.$raise(e("ArgumentError"),"count must be greater than 0"),x(L)&&(ne=L["$[]"]("random")),ne=x(ne)&&x(ne["$respond_to?"]("rand"))?z("SampleRandom").$new(ne):w,!x(j))return Y[ne.$rand(Y.length)];var se,oe,fe,f,b,H,te,ue;switch(j>Y.length&&(j=Y.length),j){case 0:return[];case 1:return[Y[ne.$rand(Y.length)]];case 2:return f=ne.$rand(Y.length),b=ne.$rand(Y.length-1),f<=b&&b++,[Y[f],Y[b]];default:if(Y.length/j>3){for(se=!1,oe=0,fe=z("Array").$new(j),f=1,fe[0]=ne.$rand(Y.length);f<j;){for(H=ne.$rand(Y.length),b=0;b<f;){for(;H===fe[b];){if(oe++,oe>100){se=!0;break}H=ne.$rand(Y.length)}if(se)break;b++}if(se)break;fe[f]=H,f++}if(!se){for(f=0;f<j;)fe[f]=Y[fe[f]],f++;return fe}}fe=Y.slice();for(var _e=0;_e<j;_e++)te=ne.$rand(Y.length-_e)+_e,ue=fe[_e],fe[_e]=fe[te],fe[te]=ue;return j===Y.length?fe:fe["$[]"](0,j)}},-1),h(o,"$select",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return y(L,"enum_for",["select"],function oe(){var fe=oe.$$s==null?this:oe.$$s;return fe.$size()},{$$s:L});for(var Y=[],Q=0,ne,se;Q<L.length;Q++)ne=L[Q],se=A(j,ne),x(se)&&Y.push(ne);return Y}),h(o,"$select!",function $e(){var j=$e.$$p||t,L=this;if($e.$$p=null,j===t)return y(L,"enum_for",["select!"],function Q(){var ne=Q.$$s==null?this:Q.$$s;return ne.$size()},{$$s:L});v(L);var Y=L.length;return y(L,"keep_if",[],j.$to_proc()),L.length===Y?t:L}),h(o,"$shift",function(j){var L=this;return v(L),x(j===void 0)?x(L.length===0)?t:C(L):(j=R(j,e("Integer"),"to_int"),x(j<0)&&w.$raise(e("ArgumentError"),"negative array size"),x(L.length===0)?[]:L.splice(0,j))},-1),h(o,"$shuffle",function(j){var L=this;return L.$dup().$to_a()["$shuffle!"](j)},-1),h(o,"$shuffle!",function(j){var L=this;v(L);var Y,Q=L.length,ne,se;for(j!==void 0&&(j=P["$coerce_to?"](j,e("Hash"),"to_hash"),j!==t&&(j=j["$[]"]("random"),j!==t&&j["$respond_to?"]("rand")&&(Y=j)));Q;)Y?(ne=Y.$rand(Q).$to_int(),ne<0&&w.$raise(e("RangeError"),"random number too small "+ne),ne>=Q&&w.$raise(e("RangeError"),"random number too big "+ne)):ne=L.$rand(Q),se=L[--Q],L[Q]=L[ne],L[ne]=se;return L},-1),h(o,"$slice!",function(j,L){var Y=this,Q=t,ne=t,se=t,oe=t,fe=t;if(v(Y),Q=t,x(L===void 0))if(D(e("Range"),j)){ne=j,Q=Y["$[]"](ne),se=ne.begin===t?0:R(ne.begin,e("Integer"),"to_int"),oe=ne.end===t?-1:R(ne.end,e("Integer"),"to_int"),se<0&&(se+=Y.length),oe<0?oe+=Y.length:oe>=Y.length&&(oe=Y.length-1,ne.excl&&(oe+=1));var f=oe-se;ne.excl&&ne.end!==t?oe-=1:f+=1,se<Y.length&&se>=0&&oe<Y.length&&oe>=0&&f>0&&Y.splice(se,f)}else{if(fe=R(j,e("Integer"),"to_int"),fe<0&&(fe+=Y.length),fe<0||fe>=Y.length)return t;Q=Y[fe],fe===0?Y.shift():Y.splice(fe,1)}else{if(fe=R(j,e("Integer"),"to_int"),L=R(L,e("Integer"),"to_int"),L<0)return t;Q=Y["$[]"](fe,L),fe<0&&(fe+=Y.length),fe+L>Y.length&&(L=Y.length-fe),fe<Y.length&&fe>=0&&Y.splice(fe,L)}return Q},-2),h(o,"$sort",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,x(L.length>1)?(j===t&&(j=function(Y,Q){return Y["$<=>"](Q)}),L.slice().sort(function(Y,Q){var ne=j(Y,Q);return ne===t&&w.$raise(e("ArgumentError"),"comparison of "+Y.$inspect()+" with "+Q.$inspect()+" failed"),S(ne,0)?1:l(ne,0)?-1:0})):L}),h(o,"$sort!",function $e(){var j=$e.$$p||t,L=this;$e.$$p=null,v(L);var Y;j!==t?Y=y(L.slice(),"sort",[],j.$to_proc()):Y=L.slice().$sort(),L.length=0;for(var Q=0,ne=Y.length;Q<ne;Q++)L.push(Y[Q]);return L}),h(o,"$sort_by!",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,j===t?y(L,"enum_for",["sort_by!"],function Y(){var Q=Y.$$s==null?this:Y.$$s;return Q.$size()},{$$s:L}):(v(L),L.$replace(y(L,"sort_by",[],j.$to_proc())))}),h(o,"$take",function(j){var L=this;return j<0&&w.$raise(e("ArgumentError")),L.slice(0,j)}),h(o,"$take_while",function $e(){var j=$e.$$p||t,L=this;$e.$$p=null;for(var Y=[],Q=0,ne,se;Q<L.length;Q++){if(ne=L[Q],se=j(ne),se===!1||se===t)return Y;Y.push(ne)}return Y}),h(o,"$to_a",function(){var j=this;return j.$$class===i.Array?j:i.Array.$new(j)}),h(o,"$to_ary",E),h(o,"$to_h",function $e(){var j=$e.$$p||t,L=this,Y=t;$e.$$p=null,Y=L,j!==t&&(Y=y(Y,"map",[],j.$to_proc()));var Q,ne=Y.length,se,oe,fe,f=new Map;for(Q=0;Q<ne;Q++)se=P["$coerce_to?"](Y[Q],e("Array"),"to_ary"),se.$$is_array||w.$raise(e("TypeError"),"wrong element type "+Y[Q].$class()+" at "+Q+" (expected array)"),se.length!==2&&w.$raise(e("ArgumentError"),"element has wrong array length at "+Q+" (expected 2, was "+se.$length()+")"),oe=se[0],fe=se[1],ee(f,oe,fe);return f}),h(o,"$transpose",function(){var j=this,L=t,Y=t;return x(j["$empty?"]())?[]:(L=[],Y=t,y(j,"each",[],function(ne){var se=t;return ne==null&&(ne=t),ne=O(ne),Y=x(se=Y)?se:ne.length,U(ne.length,Y)&&w.$raise(e("IndexError"),"element size differs ("+ne.length+" should be "+Y+")"),y(ne.length,"times",[],function(fe){var f,b=t;return fe==null&&(fe=t),b=x(se=L["$[]"](fe))?se:(f=[fe,[]],y(L,"[]=",f),f[f.length-1]),b["$<<"](ne.$at(fe))})}),L)}),h(o,"$union",function(j){var L,Y,Q=this;return L=re(arguments),Y=L,y(Y,"reduce",[Q.$uniq()],function(se,oe){return se==null&&(se=t),oe==null&&(oe=t),se["$|"](oe)})},-1),h(o,"$uniq",function $e(){var j=$e.$$p||t,L=this;$e.$$p=null;var Y=new Map,Q,ne,se,oe;if(j===t)for(Q=0,ne=L.length;Q<ne;Q++)se=L[Q],T(Y,se)===void 0&&ee(Y,se,se);else for(Q=0;Q<L.length;Q++)se=L[Q],oe=A(j,se),T(Y,oe)===void 0&&ee(Y,oe,se);return Y.$values()}),h(o,"$uniq!",function $e(){var j=$e.$$p||t,L=this;$e.$$p=null,v(L);var Y=new Map,Q,ne,se,oe=[];for(Q=0;Q<L.length;Q++)ne=L[Q],se=j===t?ne:A(j,ne),T(Y,se)===void 0?ee(Y,se,ne):oe.push(Q);for(Q=oe.length-1;Q>=0;Q--)L.splice(oe[Q],1);return oe.length===0?t:L}),h(o,"$unshift",function(j){var L,Y,Q=this;L=re(arguments),Y=L,v(Q);var ne=Q.length,se=Y.length;if(se==0)return Q;for(var oe=ne-se,fe=0;fe<se;fe++)Q.push(Q[oe+fe]);for(var f=ne-1;f-se>=0;)Q[f]=Q[f-se],f--;for(var b=0;b<se;b++)Q[b]=Y[b];return Q},-1),h(o,"$values_at",function(j){var L,Y,Q=this,ne=t;return L=re(arguments),Y=L,ne=[],y(Y,"each",[],function se(oe){var fe=se.$$s==null?this:se.$$s,f=t,b=t,H=t;return oe==null&&(oe=t),x(oe["$is_a?"](e("Range")))?(f=oe.$end()===t?-1:R(oe.$end(),e("Integer"),"to_int"),b=oe.$begin()===t?0:R(oe.$begin(),e("Integer"),"to_int"),b<0?(b=b+fe.length,t):(f<0&&(f=f+fe.length),oe["$exclude_end?"]()&&oe.$end()!==t&&f--,f<b?t:y(b,"upto",[f],function te(ue){var _e=te.$$s==null?this:te.$$s;return ue==null&&(ue=t),ne["$<<"](_e.$at(ue))},{$$s:fe}))):(H=R(oe,e("Integer"),"to_int"),ne["$<<"](fe.$at(H)))},{$$s:Q}),ne},-1),h(o,"$zip",function $e(j){var L=$e.$$p||t,Y,Q,ne=this,se=t;$e.$$p=null,Y=re(arguments),Q=Y;var oe=[],fe=ne.length,f,b,H,te,ue;for(te=0,ue=Q.length;te<ue;te++)if(b=Q[te],!b.$$is_array){if(b.$$is_range||b.$$is_enumerator){Q[te]=b.$take(fe);continue}Q[te]=(x(se=P["$coerce_to?"](b,e("Array"),"to_ary"))?se:P["$coerce_to!"](b,e("Enumerator"),"to_enum","each")).$to_a()}for(H=0;H<fe;H++){for(f=[ne[H]],te=0,ue=Q.length;te<ue;te++)b=Q[te][H],b==null&&(b=t),f[te+1]=b;oe[H]=f}if(L!==t){for(H=0;H<fe;H++)i.yield1(L,oe[H]);return t}return oe},-1),V(o,"$inherited",function(j){j.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),h(o,"$instance_variables",function $e(){var j=$e.$$p||t,L=this;return $e.$$p=null,y(k(L,B(L,"instance_variables",$e,!1,!0),"instance_variables",[],j),"reject",[],function(Q){var ne=t;return Q==null&&(Q=t),x(ne=/^@\d+$/.test(Q))?ne:Q["$=="]("@length")})}),h(o,"$pack",function(j){return re(arguments),w.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),c(o,"append","push"),c(o,"filter","select"),c(o,"filter!","select!"),c(o,"map","collect"),c(o,"map!","collect!"),c(o,"prepend","unshift"),c(o,"size","length"),c(o,"slice","[]"),c(o,"to_s","inspect"),P.$pristine(o.$singleton_class(),"allocate"),P.$pristine(o,"copy_instance_variables","initialize_dup")}("::",Array,n)};Opal.modules["corelib/hash"]=function(i){var x=i.yield1,p=i.hash_clone,A=i.hash_delete,T=i.hash_each,ee=i.hash_get,X=i.hash_put,R=i.deny_frozen_access,W=i.freeze,v=i.opal32_init,K=i.opal32_add,ie=i.klass,Z=i.slice,J=i.Opal,re=i.Kernel,V=i.defs,w=i.def,h=i.send,P=i.rb_ge,D=i.rb_gt,k=i.truthy,B=i.to_a,y=i.return_self,S=i.not,F=i.alias,I=i.top,q=[],u=i.nil,d=i.$$$;return i.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),I.$require("corelib/enumerable"),function(N,g,_){var l=ie(N,g,"Hash"),E=[l].concat(_),U=i.$r(E);l.$include(d("Enumerable")),l.$$prototype.$$is_hash=!0,V(l,"$[]",function(t){var e,r,$=this;e=Z(arguments),r=e;var a,o=r.length,m,z;if(o===1){if(a=J["$coerce_to?"](r["$[]"](0),d("Hash"),"to_hash"),a!==u)return $.$allocate()["$merge!"](a);for(r=J["$coerce_to?"](r["$[]"](0),d("Array"),"to_ary"),r===u&&re.$raise(d("ArgumentError"),"odd number of arguments for Hash"),o=r.length,a=$.$allocate(),z=0;z<o;z++)m=r[z],m.$$is_array||re.$raise(d("ArgumentError"),"invalid element "+m.$inspect()+" for Hash"),m.length===1?a.$store(m[0],u):m.length===2?a.$store(m[0],m[1]):re.$raise(d("ArgumentError"),"invalid number of elements ("+m.length+" for "+m.$inspect()+"), must be 1..2");return a}for(o%2!==0&&re.$raise(d("ArgumentError"),"odd number of arguments for Hash"),a=$.$allocate(),z=0;z<o;z+=2)a.$store(r[z],r[z+1]);return a},-1),V(l,"$allocate",function(){var t=this,e=new t.$$constructor;return e.$$none=u,e.$$proc=u,e}),V(l,"$try_convert",function(t){return J["$coerce_to?"](t,d("Hash"),"to_hash")}),w(l,"$initialize",function n(t){var e=n.$$p||u,r=this;return n.$$p=null,R(r),t!==void 0&&e!==u&&re.$raise(d("ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=t===void 0?u:t,r.$$proc=e,r},-1),w(l,"$==",function(t){var e=this;return e===t?!0:!t.$$is_hash||e.size!==t.size?!1:T(e,!0,function(r,$){var a=ee(t,r);return a===void 0||!$["$eql?"](a)?[!0,!1]:[!1,!0]})}),w(l,"$>=",function(t){var e=this,r=u;return t=J["$coerce_to!"](t,d("Hash"),"to_hash"),e.size<t.size?!1:(r=!0,h(t,"each",[],function $(a,o){var m=$.$$s==null?this:$.$$s,z=u;if(a==null&&(a=u),o==null&&(o=u),z=m.$fetch(a,null),z==null||z!==o){r=!1;return}},{$$s:e}),r)}),w(l,"$>",function(t){var e=this;return t=J["$coerce_to!"](t,d("Hash"),"to_hash"),e.size<=t.size?!1:P(e,t)}),w(l,"$<",function(t){var e=this;return t=J["$coerce_to!"](t,d("Hash"),"to_hash"),D(t,e)}),w(l,"$<=",function(t){var e=this;return t=J["$coerce_to!"](t,d("Hash"),"to_hash"),P(t,e)}),w(l,"$[]",function(t){var e=this,r=ee(e,t);return r!==void 0?r:e.$default(t)}),w(l,"$[]=",function(t,e){var r=this;return R(r),X(r,t,e),e}),w(l,"$assoc",function(t){var e=this;return T(e,u,function(r,$){return r["$=="](t)?[!0,[r,$]]:[!1,u]})}),w(l,"$clear",function(){var t=this;return R(t),t.clear(),t.$$keys&&t.$$keys.clear(),t}),w(l,"$clone",function(){var t=this,e=t.$class().$new();return p(t,e),t["$frozen?"]()?e.$freeze():e}),w(l,"$compact",function(){var t=this,e=new Map;return T(t,e,function(r,$){return $!==u&&X(e,r,$),[!1,e]})}),w(l,"$compact!",function(){var t=this;R(t);var e=u;return T(t,e,function(r,$){return $===u&&(A(t,r),e=t),[!1,e]})}),w(l,"$compare_by_identity",function(){var t=this;return R(t),t.$$by_identity||(t.$$by_identity=!0,t.size!==0&&i.hash_rehash(t)),t}),w(l,"$compare_by_identity?",function(){var t=this;return t.$$by_identity===!0}),w(l,"$default",function(t){var e=this;return t!==void 0&&e.$$proc!==u&&e.$$proc!==void 0?e.$$proc.$call(e,t):e.$$none===void 0?u:e.$$none},-1),w(l,"$default=",function(t){var e=this;return R(e),e.$$proc=u,e.$$none=t,t}),w(l,"$default_proc",function(){var t=this;return t.$$proc!==void 0?t.$$proc:u}),w(l,"$default_proc=",function(t){var e=this;R(e);var r=t;return r!==u&&(r=J["$coerce_to!"](r,d("Proc"),"to_proc"),r["$lambda?"]()&&r.$arity().$abs()!==2&&re.$raise(d("TypeError"),"default_proc takes two arguments")),e.$$none=u,e.$$proc=r,t}),w(l,"$delete",function n(t){var e=n.$$p||u,r=this;n.$$p=null,R(r);var $=A(r,t);return $!==void 0?$:e!==u?i.yield1(e,t):u}),w(l,"$delete_if",function n(){var t=n.$$p||u,e=this;return n.$$p=null,k(t)?(R(e),T(e,e,function(r,$){var a=t(r,$);return a!==!1&&a!==u&&A(e,r),[!1,e]})):h(e,"enum_for",["delete_if"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:e})}),w(l,"$dig",function(t,e){var r,$,a=this,o=u;return r=Z(arguments,1),$=r,o=a["$[]"](t),o===u||$.length===0?o:(k(o["$respond_to?"]("dig"))||re.$raise(d("TypeError"),""+o.$class()+" does not have #dig method"),h(o,"dig",B($)))},-2),w(l,"$dup",function(){var t=this;return p(t,t.$class().$new())}),w(l,"$each",function n(){var t=n.$$p||u,e=this;return n.$$p=null,k(t)?T(e,e,function(r,$){return x(t,[r,$]),[!1,e]}):h(e,"enum_for",["each"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:e})}),w(l,"$each_key",function n(){var t=n.$$p||u,e=this;return n.$$p=null,k(t)?T(e,e,function(r,$){return t(r),[!1,e]}):h(e,"enum_for",["each_key"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:e})}),w(l,"$each_value",function n(){var t=n.$$p||u,e=this;return n.$$p=null,k(t)?T(e,e,function(r,$){return t($),[!1,e]}):h(e,"enum_for",["each_value"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:e})}),w(l,"$empty?",function(){var t=this;return t.size===0}),w(l,"$except",function(t){var e,r,$=this;return e=Z(arguments),r=e,h($.$dup(),"except!",B(r))},-1),w(l,"$except!",function(t){var e,r,$=this;return e=Z(arguments),r=e,h(r,"each",[],function a(o){var m=a.$$s==null?this:a.$$s;return o==null&&(o=u),m.$delete(o)},{$$s:$}),$},-1),w(l,"$fetch",function n(t,e){var r=n.$$p||u,$=this;n.$$p=null;var a=ee($,t);return a!==void 0?a:r!==u?r(t):e!==void 0?e:re.$raise(d("KeyError").$new("key not found: "+t.$inspect(),new Map([["key",t],["receiver",$]])))},-2),w(l,"$fetch_values",function n(t){var e=n.$$p||u,r,$,a=this;return n.$$p=null,r=Z(arguments),$=r,h($,"map",[],function o(m){var z=o.$$s==null?this:o.$$s;return m==null&&(m=u),h(z,"fetch",[m],e.$to_proc())},{$$s:a})},-1),w(l,"$flatten",function(t){var e=this;t==null&&(t=1),t=J["$coerce_to!"](t,d("Integer"),"to_int");var r=[];return T(e,r,function($,a){return r.push($),a.$$is_array?t===1?(r.push(a),[!1,r]):(r=r.concat(a.$flatten(t-2)),[!1,r]):(r.push(a),[!1,r])})},-1),w(l,"$freeze",function(){var t=this;return k(t["$frozen?"]())?t:W(t)}),w(l,"$has_key?",function(t){var e=this;return ee(e,t)!==void 0}),w(l,"$has_value?",function(t){var e=this;return T(e,!1,function(r,$){return $["$=="](t)?[!0,!0]:[!1,!1]})});var c;w(l,"$hash",function(){var t=this,e=c===void 0,r=t.$object_id(),$=v(),a,o,m,z=t.size,C=new Int32Array(z);if($=K($,4),$=K($,z),e)c=Object.create(null);else if(c[r])return K($,16843009);try{for(a in c)if(o=c[a],t["$eql?"](o))return K($,16843009);for(c[r]=t,m=0,T(t,!1,function(M,G){return C[m]=[1883326802,M,G].$hash(),m++,[!1,!1]}),C=C.sort(),m=0;m<C.length;m++)$=K($,C[m]);return $}finally{e&&(c=void 0)}}),w(l,"$index",function(t){var e=this;return T(e,u,function(r,$){return $["$=="](t)?[!0,r]:[!1,u]})}),w(l,"$indexes",function(t){var e,r,$=this;e=Z(arguments),r=e;for(var a=[],o=0,m=r.length,z,C;o<m;o++){if(z=r[o],C=ee($,z),C===void 0){a.push($.$default());continue}a.push(C)}return a},-1);var s;return w(l,"$inspect",function(){var t=this,e=s===void 0,r=t.$object_id(),$=[];return function(){try{if(e&&(s={}),s.hasOwnProperty(r))return"{...}";return s[r]=!0,T(t,!1,function(a,o){return o=U("Opal").$inspect(o),a=U("Opal").$inspect(a),$.push(a+"=>"+o),[!1,!1]}),"{"+$.join(", ")+"}";return u}finally{e&&(s=void 0)}}()}),w(l,"$invert",function(){var t=this,e=new Map;return T(t,e,function(r,$){return X(e,$,r),[!1,e]})}),w(l,"$keep_if",function n(){var t=n.$$p||u,e=this;return n.$$p=null,k(t)?(R(e),T(e,e,function(r,$){var a=t(r,$);return(a===!1||a===u)&&A(e,r),[!1,e]})):h(e,"enum_for",["keep_if"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:e})}),w(l,"$keys",function(){var t=this;return Array.from(t.keys())}),w(l,"$length",function(){var t=this;return t.size}),w(l,"$merge",function n(t){var e=n.$$p||u,r,$,a=this;return n.$$p=null,r=Z(arguments),$=r,h(a.$dup(),"merge!",B($),e.$to_proc())},-1),w(l,"$merge!",function n(t){var e=n.$$p||u,r,$,a=this;n.$$p=null,r=Z(arguments),$=r,R(a);var o,m;for(o=0;o<$.length;++o)m=J["$coerce_to!"]($[o],d("Hash"),"to_hash"),e===u?T(m,!1,function(z,C){return X(a,z,C),[!1,!1]}):T(m,!1,function(z,C){var M=ee(a,z);return M===void 0?(X(a,z,C),[!1,!1]):(X(a,z,e(z,M,C)),[!1,!1])});return a},-1),w(l,"$rassoc",function(t){var e=this;return T(e,u,function(r,$){return $["$=="](t)?[!0,[r,$]]:[!1,u]})}),w(l,"$rehash",function(){var t=this;return R(t),i.hash_rehash(t)}),w(l,"$reject",function n(){var t=n.$$p||u,e=this;if(n.$$p=null,!k(t))return h(e,"enum_for",["reject"],function $(){var a=$.$$s==null?this:$.$$s;return a.$size()},{$$s:e});var r=new Map;return T(e,r,function($,a){var o=t($,a);return(o===!1||o===u)&&X(r,$,a),[!1,r]})}),w(l,"$reject!",function n(){var t=n.$$p||u,e=this;if(n.$$p=null,!k(t))return h(e,"enum_for",["reject!"],function $(){var a=$.$$s==null?this:$.$$s;return a.$size()},{$$s:e});R(e);var r=u;return T(e,r,function($,a){var o=t($,a);return o!==!1&&o!==u&&(A(e,$),r=e),[!1,r]})}),w(l,"$replace",function(t){var e=this;return R(e),t=J["$coerce_to!"](t,d("Hash"),"to_hash"),e.$clear(),T(t,!1,function(r,$){return X(e,r,$),[!1,!1]}),k(t.$default_proc())?e["$default_proc="](t.$default_proc()):e["$default="](t.$default()),e}),w(l,"$select",function n(){var t=n.$$p||u,e=this;if(n.$$p=null,!k(t))return h(e,"enum_for",["select"],function $(){var a=$.$$s==null?this:$.$$s;return a.$size()},{$$s:e});var r=new Map;return T(e,r,function($,a){var o=t($,a);return o!==!1&&o!==u&&X(r,$,a),[!1,r]})}),w(l,"$select!",function n(){var t=n.$$p||u,e=this;if(n.$$p=null,!k(t))return h(e,"enum_for",["select!"],function $(){var a=$.$$s==null?this:$.$$s;return a.$size()},{$$s:e});R(e);var r=u;return T(e,r,function($,a){var o=t($,a);return(o===!1||o===u)&&(A(e,$),r=e),[!1,r]})}),w(l,"$shift",function(){var t=this;return R(t),T(t,u,function(e,r){return[!0,[e,A(t,e)]]})}),w(l,"$slice",function(t){var e,r,$=this;e=Z(arguments),r=e;for(var a=new Map,o=0,m=r.length;o<m;o++){var z=r[o],C=ee($,z);C!==void 0&&X(a,z,C)}return a},-1),w(l,"$to_a",function(){var t=this,e=[];return T(t,e,function(r,$){return e.push([r,$]),[!1,e]})}),w(l,"$to_h",function n(){var t=n.$$p||u,e=this;if(n.$$p=null,t!==u)return h(e,"map",[],t.$to_proc()).$to_h();if(e.$$class===i.Hash)return e;var r=new Map;return p(e,r),r}),w(l,"$to_hash",y),w(l,"$to_proc",function(){var t=this;return h(t,"proc",[],function e(r){var $=e.$$s==null?this:e.$$s;return r==null&&re.$raise(d("ArgumentError"),"no key given"),$["$[]"](r)},{$$arity:-1,$$s:t})}),w(l,"$transform_keys",function n(t){var e=n.$$p||u,r=this;if(n.$$p=null,t==null&&(t=u),S(e)&&S(t))return h(r,"enum_for",["transform_keys"],function a(){var o=a.$$s==null?this:a.$$s;return o.$size()},{$$s:r});var $=new Map;return T(r,$,function(a,o){var m;return t!==u&&(m=ee(t,a)),m===void 0&&e&&e!==u&&(m=e(a)),m===void 0&&(m=a),X($,m,o),[!1,$]})},-1),w(l,"$transform_keys!",function n(t){var e=n.$$p||u,r=this;if(n.$$p=null,t==null&&(t=u),S(e)&&S(t))return h(r,"enum_for",["transform_keys!"],function a(){var o=a.$$s==null?this:a.$$s;return o.$size()},{$$s:r});R(r);var $=new Map;return T(r,r,function(a,o){var m;return t!==u&&(m=ee(t,a)),m===void 0&&e&&e!==u&&(m=e(a)),m===void 0?[!1,r]:(ee($,a)||A(r,a),X(r,m,o),X($,m,!0),[!1,r])})},-1),w(l,"$transform_values",function n(){var t=n.$$p||u,e=this;if(n.$$p=null,!k(t))return h(e,"enum_for",["transform_values"],function $(){var a=$.$$s==null?this:$.$$s;return a.$size()},{$$s:e});var r=new Map;return T(e,r,function($,a){return X(r,$,t(a)),[!1,r]})}),w(l,"$transform_values!",function n(){var t=n.$$p||u,e=this;return n.$$p=null,k(t)?(R(e),T(e,e,function(r,$){return X(e,r,t($)),[!1,e]})):h(e,"enum_for",["transform_values!"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:e})}),w(l,"$values",function(){var t=this;return Array.from(t.values())}),F(l,"each_pair","each"),F(l,"eql?","=="),F(l,"filter","select"),F(l,"filter!","select!"),F(l,"include?","has_key?"),F(l,"indices","indexes"),F(l,"key","index"),F(l,"key?","has_key?"),F(l,"member?","has_key?"),F(l,"size","length"),F(l,"store","[]="),F(l,"to_s","inspect"),F(l,"update","merge!"),F(l,"value?","has_value?"),F(l,"values_at","indexes")}("::",Map,q)};Opal.modules["corelib/number"]=function(i){var x=i.klass,p=i.Opal,A=i.Kernel,T=i.def,ee=i.eqeqeq,X=i.truthy,R=i.rb_gt,W=i.not,v=i.rb_lt,K=i.alias,ie=i.send2,Z=i.find_super,J=i.send,re=i.rb_plus,V=i.rb_minus,w=i.eqeq,h=i.return_self,P=i.rb_divide,D=i.to_ary,k=i.rb_times,B=i.rb_le,y=i.rb_ge,S=i.return_val,F=i.const_set,I=i.top,q=[],u=i.nil,d=i.$$$;return i.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),I.$require("corelib/numeric"),function(N,g,_){var l=x(N,g,"Number");p.$bridge(Number,l),i.prop(l.$$prototype,"$$is_number",!0),l.$$is_number_class=!0;var E=new Map;(function(e,r){return T(e,"$allocate",function(){var a=this;return A.$raise(d("TypeError"),"allocator undefined for "+a.$name())}),i.udef(e,"$new"),u})(i.get_singleton_class(l)),T(l,"$coerce",function(r){var $=this;if(r===u)A.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float");else{if(r.$$is_string)return[A.$Float(r),$];if(r["$respond_to?"]("to_f"))return[p["$coerce_to!"](r,d("Float"),"to_f"),$];if(r.$$is_number)return[r,$];A.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float")}}),T(l,"$__id__",function(){var r=this;if(r|r===0)return r*2+1;if(E.has(r))return E.get(r);var $=i.uid();return E.set(r,$),$}),T(l,"$hash",function(){var r=this;return r|r===0?r.$__id__():r.toString().$hash()}),T(l,"$+",function(r){var $=this;return r.$$is_number?$+r:$.$__coerced__("+",r)}),T(l,"$-",function(r){var $=this;return r.$$is_number?$-r:$.$__coerced__("-",r)}),T(l,"$*",function(r){var $=this;return r.$$is_number?$*r:$.$__coerced__("*",r)}),T(l,"$/",function(r){var $=this;return r.$$is_number?$/r:$.$__coerced__("/",r)}),T(l,"$%",function(r){var $=this;if(r.$$is_number){if(r==-1/0)return r;if(r==0)A.$raise(d("ZeroDivisionError"),"divided by 0");else return r<0||$<0?($%r+r)%r:$%r}else return $.$__coerced__("%",r)}),T(l,"$&",function(r){var $=this;return r.$$is_number?$&r:$.$__coerced__("&",r)}),T(l,"$|",function(r){var $=this;return r.$$is_number?$|r:$.$__coerced__("|",r)}),T(l,"$^",function(r){var $=this;return r.$$is_number?$^r:$.$__coerced__("^",r)}),T(l,"$<",function(r){var $=this;return r.$$is_number?$<r:$.$__coerced__("<",r)}),T(l,"$<=",function(r){var $=this;return r.$$is_number?$<=r:$.$__coerced__("<=",r)}),T(l,"$>",function(r){var $=this;return r.$$is_number?$>r:$.$__coerced__(">",r)}),T(l,"$>=",function(r){var $=this;return r.$$is_number?$>=r:$.$__coerced__(">=",r)});var U=function(e,r){return r.$$is_number?isNaN(e)||isNaN(r)?u:e>r?1:e<r?-1:0:e.$__coerced__("<=>",r)};T(l,"$<=>",function(r){var $=this;try{return U($,r)}catch(a){if(i.rescue(a,[d("ArgumentError")]))try{return u}finally{i.pop_exception(a)}else throw a}}),T(l,"$<<",function(r){var $=this;return r=p["$coerce_to!"](r,d("Integer"),"to_int"),r>0?$<<r:$>>-r}),T(l,"$>>",function(r){var $=this;return r=p["$coerce_to!"](r,d("Integer"),"to_int"),r>0?$>>r:$<<-r}),T(l,"$[]",function(r){var $=this;return r=p["$coerce_to!"](r,d("Integer"),"to_int"),r<0?0:r>=32?$<0?1:0:$>>r&1}),T(l,"$+@",function(){var r=this;return+r}),T(l,"$-@",function(){var r=this;return-r}),T(l,"$~",function(){var r=this;return~r}),T(l,"$**",function(r){var $=this;return ee(d("Integer"),r)?W(d("Integer")["$==="]($))||X(R(r,0))?Math.pow($,r):d("Rational").$new($,1)["$**"](r):X(v($,0))&&(ee(d("Float"),r)||ee(d("Rational"),r))?d("Complex").$new($,0)["$**"](r.$to_f()):X(r.$$is_number!=null)?Math.pow($,r):$.$__coerced__("**",r)}),T(l,"$==",function(r){var $=this;return r.$$is_number?$.valueOf()===r.valueOf():r["$respond_to?"]("==")?r["$=="]($):!1}),K(l,"===","=="),T(l,"$abs",function(){var r=this;return Math.abs(r)}),T(l,"$abs2",function(){var r=this;return Math.abs(r*r)}),T(l,"$allbits?",function(r){var $=this;return r=p["$coerce_to!"](r,d("Integer"),"to_int"),($&r)==r}),T(l,"$anybits?",function(r){var $=this;return r=p["$coerce_to!"](r,d("Integer"),"to_int"),($&r)!==0}),T(l,"$angle",function(){var r=this;return X(r["$nan?"]())?r:r==0?1/r>0?0:Math.PI:r<0?Math.PI:0}),T(l,"$bit_length",function(){var r=this;if(ee(d("Integer"),r)||A.$raise(d("NoMethodError").$new("undefined method `bit_length` for "+r+":Float","bit_length")),r===0||r===-1)return 0;for(var $=0,a=r<0?~r:r;a!=0;)$+=1,a>>>=1;return $}),T(l,"$ceil",function(r){var $=this;r==null&&(r=0);var a=$.$to_f();if(a%1===0&&r>=0)return a;var o=Math.pow(10,r),m=Math.ceil(a*o)/o;return a%1===0&&(m=Math.round(m)),m},-1),T(l,"$chr",function(r){var $=this;return i.enc(String.fromCharCode($),r||"BINARY")},-1),T(l,"$denominator",function e(){var r=e.$$p||u,$=this;return e.$$p=null,X($["$nan?"]())||X($["$infinite?"]())?1:ie($,Z($,"denominator",e,!1,!0),"denominator",[],r)}),T(l,"$downto",function e(r){var $=e.$$p||u,a=this;if(e.$$p=null,$===u)return J(a,"enum_for",["downto",r],function m(){var z=m.$$s==null?this:m.$$s;return ee(d("Numeric"),r)||A.$raise(d("ArgumentError"),"comparison of "+z.$class()+" with "+r.$class()+" failed"),X(R(r,z))?0:re(V(z,r),1)},{$$s:a});r.$$is_number||A.$raise(d("ArgumentError"),"comparison of "+a.$class()+" with "+r.$class()+" failed");for(var o=a;o>=r;o--)$(o);return a}),T(l,"$equal?",function(r){var $=this,a=u;return X(a=$["$=="](r))?a:isNaN($)&&isNaN(r)}),T(l,"$even?",function(){var r=this;return r%2===0}),T(l,"$floor",function(r){var $=this;r==null&&(r=0);var a=$.$to_f();if(a%1===0&&r>=0)return a;var o=Math.pow(10,r),m=Math.floor(a*o)/o;return a%1===0&&(m=Math.round(m)),m},-1),T(l,"$gcd",function(r){var $=this;ee(d("Integer"),r)||A.$raise(d("TypeError"),"not an integer");for(var a=Math.abs($),o=Math.abs(r);a>0;){var m=a;a=o%a,o=m}return o}),T(l,"$gcdlcm",function(r){var $=this;return[$.$gcd(r),$.$lcm(r)]}),T(l,"$integer?",function(){var r=this;return r%1===0}),T(l,"$is_a?",function e(r){var $=e.$$p||u,a=this;return e.$$p=null,w(r,d("Integer"))&&ee(d("Integer"),a)||w(r,d("Integer"))&&ee(d("Integer"),a)||w(r,d("Float"))&&ee(d("Float"),a)?!0:ie(a,Z(a,"is_a?",e,!1,!0),"is_a?",[r],$)}),T(l,"$instance_of?",function e(r){var $=e.$$p||u,a=this;return e.$$p=null,w(r,d("Integer"))&&ee(d("Integer"),a)||w(r,d("Integer"))&&ee(d("Integer"),a)||w(r,d("Float"))&&ee(d("Float"),a)?!0:ie(a,Z(a,"instance_of?",e,!1,!0),"instance_of?",[r],$)}),T(l,"$lcm",function(r){var $=this;return ee(d("Integer"),r)||A.$raise(d("TypeError"),"not an integer"),$==0||r==0?0:Math.abs($*r/$.$gcd(r))}),T(l,"$next",function(){var r=this;return r+1}),T(l,"$nobits?",function(r){var $=this;return r=p["$coerce_to!"](r,d("Integer"),"to_int"),($&r)==0}),T(l,"$nonzero?",function(){var r=this;return r==0?u:r}),T(l,"$numerator",function e(){var r=e.$$p||u,$=this;return e.$$p=null,X($["$nan?"]())||X($["$infinite?"]())?$:ie($,Z($,"numerator",e,!1,!0),"numerator",[],r)}),T(l,"$odd?",function(){var r=this;return r%2!==0}),T(l,"$ord",h),T(l,"$pow",function(r,$){var a=this;return a==0&&A.$raise(d("ZeroDivisionError"),"divided by 0"),$===void 0?a["$**"](r):(d("Integer")["$==="](r)||A.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),r<0&&A.$raise(d("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),d("Integer")["$==="]($)||A.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),$===0&&A.$raise(d("ZeroDivisionError"),"divided by 0"),a["$**"](r)["$%"]($))},-2),T(l,"$pred",function(){var r=this;return r-1}),T(l,"$quo",function e(r){var $=e.$$p||u,a=this;return e.$$p=null,ee(d("Integer"),a)?ie(a,Z(a,"quo",e,!1,!0),"quo",[r],$):P(a,r)}),T(l,"$rationalize",function(r){var $,a,o=this,m=u,z=u;return arguments.length>1&&A.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(d("Integer"),o)?d("Rational").$new(o,1):X(o["$infinite?"]())?A.$raise(d("FloatDomainError"),"Infinity"):X(o["$nan?"]())?A.$raise(d("FloatDomainError"),"NaN"):X(r==null)?(a=d("Math").$frexp(o),$=D(a),m=$[0]==null?u:$[0],z=$[1]==null?u:$[1],m=d("Math").$ldexp(m,d(d("Float"),"MANT_DIG")).$to_i(),z=V(z,d(d("Float"),"MANT_DIG")),d("Rational").$new(k(2,m),1["$<<"](V(1,z))).$rationalize(d("Rational").$new(1,1["$<<"](V(1,z))))):o.$to_r().$rationalize(r)},-1),T(l,"$remainder",function(r){var $=this;return V($,k(r,P($,r).$truncate()))}),T(l,"$round",function(r){var $,a,o=this,m=u;if(ee(d("Integer"),o)){if(X(r==null)||(ee(d("Float"),r)&&X(r["$infinite?"]())&&A.$raise(d("RangeError"),"Infinity"),r=p["$coerce_to!"](r,d("Integer"),"to_int"),X(v(r,d(d("Integer"),"MIN")))&&A.$raise(d("RangeError"),"out of bounds"),X(r>=0)))return o;if(r=r["$-@"](),.415241*r-.125>o.$size())return 0;var z=Math.pow(10,r),C=Math.floor((Math.abs(o)+z/2)/z)*z;return o<0?-C:C}else{if(X(o["$nan?"]())&&X(r==null)&&A.$raise(d("FloatDomainError"),"NaN"),r=p["$coerce_to!"](r||0,d("Integer"),"to_int"),X(B(r,0)))X(o["$nan?"]())?A.$raise(d("RangeError"),"NaN"):X(o["$infinite?"]())&&A.$raise(d("FloatDomainError"),"Infinity");else{if(w(r,0))return Math.round(o);if(X(o["$nan?"]())||X(o["$infinite?"]()))return o}return a=d("Math").$frexp(o),$=D(a),$[0]==null||$[0],m=$[1]==null?u:$[1],X(y(r,V(re(d(d("Float"),"DIG"),2),X(R(m,0))?P(m,4):V(P(m,3),1))))?o:X(v(r,(X(R(m,0))?re(P(m,3),1):P(m,4))["$-@"]()))?0:Math.round(o*Math.pow(10,r))/Math.pow(10,r)}},-1),T(l,"$times",function e(){var r=e.$$p||u,$=this;if(e.$$p=null,!X(r))return J($,"enum_for",["times"],function o(){var m=o.$$s==null?this:o.$$s;return m},{$$s:$});for(var a=0;a<$;a++)r(a);return $}),T(l,"$to_f",h),T(l,"$to_i",function(){var r=this;return r<0?Math.ceil(r):Math.floor(r)}),T(l,"$to_r",function(){var r,$,a=this,o=u,m=u;return ee(d("Integer"),a)?d("Rational").$new(a,1):($=d("Math").$frexp(a),r=D($),o=r[0]==null?u:r[0],m=r[1]==null?u:r[1],o=d("Math").$ldexp(o,d(d("Float"),"MANT_DIG")).$to_i(),m=V(m,d(d("Float"),"MANT_DIG")),k(o,d(d("Float"),"RADIX")["$**"](m)).$to_r())}),T(l,"$to_s",function(r){var $=this;return r==null&&(r=10),r=p["$coerce_to!"](r,d("Integer"),"to_int"),(X(v(r,2))||X(R(r,36)))&&A.$raise(d("ArgumentError"),"invalid radix "+r),w($,0)&&X(1/$===-1/0)?"-0.0":$.toString(r)},-1),T(l,"$truncate",function(r){var $=this;r==null&&(r=0);var a=$.$to_f();if(a%1===0&&r>=0)return a;var o=Math.pow(10,r),m=parseInt(a*o,10)/o;return a%1===0&&(m=Math.round(m)),m},-1),T(l,"$digits",function(r){var $=this;r==null&&(r=10),X(v($,0))&&A.$raise(d(d("Math"),"DomainError"),"out of domain"),r=p["$coerce_to!"](r,d("Integer"),"to_int"),X(v(r,2))&&A.$raise(d("ArgumentError"),"invalid radix "+r),$!=parseInt($)&&A.$raise(d("NoMethodError"),"undefined method `digits' for "+$.$inspect());var a=$,o=[];if($==0)return[0];for(;a!=0;)o.push(a%r),a=parseInt(a/r,10);return o},-1),T(l,"$divmod",function e(r){var $=e.$$p||u,a=this;return e.$$p=null,X(a["$nan?"]())||X(r["$nan?"]())?A.$raise(d("FloatDomainError"),"NaN"):X(a["$infinite?"]())?A.$raise(d("FloatDomainError"),"Infinity"):ie(a,Z(a,"divmod",e,!1,!0),"divmod",[r],$)}),T(l,"$upto",function e(r){var $=e.$$p||u,a=this;if(e.$$p=null,$===u)return J(a,"enum_for",["upto",r],function m(){var z=m.$$s==null?this:m.$$s;return ee(d("Numeric"),r)||A.$raise(d("ArgumentError"),"comparison of "+z.$class()+" with "+r.$class()+" failed"),X(v(r,z))?0:re(V(r,z),1)},{$$s:a});r.$$is_number||A.$raise(d("ArgumentError"),"comparison of "+a.$class()+" with "+r.$class()+" failed");for(var o=a;o<=r;o++)$(o);return a}),T(l,"$zero?",function(){var r=this;return r==0}),T(l,"$size",S(4)),T(l,"$nan?",function(){var r=this;return isNaN(r)}),T(l,"$finite?",function(){var r=this;return r!=1/0&&r!=-1/0&&!isNaN(r)}),T(l,"$infinite?",function(){var r=this;return r==1/0?1:r==-1/0?-1:u}),T(l,"$positive?",function(){var r=this;return r!=0&&(r==1/0||1/r>0)}),T(l,"$negative?",function(){var r=this;return r==-1/0||1/r<0});function c(e){var r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}function s(e){return new DataView(e.buffer).getFloat64(0,!0)}function n(e){for(var r=c(e),$=0;$<r.length;$++)if(r[$]===255)r[$]=0;else{r[$]++;break}return s(r)}function t(e){for(var r=c(e),$=0;$<r.length;$++)if(r[$]===0)r[$]=255;else{r[$]--;break}return s(r)}return T(l,"$next_float",function(){var r=this;return w(r,d(d("Float"),"INFINITY"))?d(d("Float"),"INFINITY"):X(r["$nan?"]())?d(d("Float"),"NAN"):X(y(r,0))?n(Math.abs(r)):t(r)}),T(l,"$prev_float",function(){var r=this;return w(r,d(d("Float"),"INFINITY")["$-@"]())?d(d("Float"),"INFINITY")["$-@"]():X(r["$nan?"]())?d(d("Float"),"NAN"):X(R(r,0))?t(r):-n(Math.abs(r))}),K(l,"arg","angle"),K(l,"eql?","=="),K(l,"fdiv","/"),K(l,"inspect","to_s"),K(l,"kind_of?","is_a?"),K(l,"magnitude","abs"),K(l,"modulo","%"),K(l,"object_id","__id__"),K(l,"phase","angle"),K(l,"succ","next"),K(l,"to_int","to_i")}("::",d("Numeric")),F("::","Fixnum",d("Number")),function(N,g,_){var l=x(N,g,"Integer"),E=[l].concat(_);return l.$$is_number_class=!0,l.$$is_integer_class=!0,function(U,c){var s=[U].concat(c),n=i.$r(s);return T(U,"$allocate",function(){var e=this;return A.$raise(d("TypeError"),"allocator undefined for "+e.$name())}),i.udef(U,"$new"),T(U,"$sqrt",function(e){return e=p["$coerce_to!"](e,d("Integer"),"to_int"),e<0&&A.$raise(d(d("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(e),10)}),T(U,"$try_convert",function(e){var r=this;return n("Opal")["$coerce_to?"](e,r,"to_int")})}(i.get_singleton_class(l),E),F(l,"MAX",Math.pow(2,30)-1),F(l,"MIN",-Math.pow(2,30))}("::",d("Numeric"),q),function(N,g,_){var l=x(N,g,"Float");return l.$$is_number_class=!0,function(E,U){return T(E,"$allocate",function(){var s=this;return A.$raise(d("TypeError"),"allocator undefined for "+s.$name())}),i.udef(E,"$new"),T(E,"$===",function(s){return!!s.$$is_number})}(i.get_singleton_class(l)),F(l,"INFINITY",1/0),F(l,"MAX",Number.MAX_VALUE),F(l,"MIN",Number.MIN_VALUE),F(l,"NAN",NaN),F(l,"DIG",15),F(l,"MANT_DIG",53),F(l,"RADIX",2),F(l,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",d("Numeric"))};Opal.modules["corelib/range"]=function(i){var x=i.klass,p=i.truthy,A=i.Kernel,T=i.def,ee=i.not,X=i.send2,R=i.find_super,W=i.lambda,v=i.send,K=i.rb_ge,ie=i.rb_gt,Z=i.eqeq,J=i.rb_le,re=i.rb_lt,V=i.eqeqeq,w=i.return_ivar,h=i.rb_minus,P=i.Opal,D=i.rb_divide,k=i.rb_plus,B=i.rb_times,y=i.thrower,S=i.alias,F=i.top,I=[],q=i.nil,u=i.$$$;return i.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),F.$require("corelib/enumerable"),function(d,N,g){var _=x(d,N,"Range"),l=[_].concat(g),E=i.$r(l),U=_.$$prototype;U.begin=U.end=U.excl=q,_.$include(u("Enumerable")),_.$$prototype.$$is_range=!0,_.$attr_reader("begin","end"),T(_,"$initialize",function(n,t,e){var r=this;return e==null&&(e=!1),p(r.begin)&&A.$raise(u("NameError"),"'initialize' called twice"),p(n["$<=>"](t))||p(n["$nil?"]())||p(t["$nil?"]())||A.$raise(u("ArgumentError"),"bad value for range"),r.begin=n,r.end=t,r.excl=e},-3),T(_,"$===",function(n){var t=this;return p(n.$$is_range)?!1:t["$cover?"](n)});function c(s){return s.begin===q||s.end===q||s.begin===-1/0||s.end===1/0||s.begin===1/0||s.end===-1/0}return T(_,"$count",function s(){var n=s.$$p||q,t=this;return s.$$p=null,ee(n!==q)&&p(c(t))?u(u("Float"),"INFINITY"):X(t,R(t,"count",s,!1,!0),"count",[],n)}),T(_,"$to_a",function s(){var n=s.$$p||q,t=this;return s.$$p=null,p(c(t))&&A.$raise(u("TypeError"),"cannot convert endless range to an array"),X(t,R(t,"to_a",s,!1,!0),"to_a",[],n)}),T(_,"$cover?",function(n){var t=this,e=q,r=q,$=q,a=q,o=q,m=q,z=q,C=q;return e=W(function(G,O){var ae=q;return G==null&&(G=q),O==null&&(O=q),p(ae=G["$<=>"](O))?ae:1}),p(n.$$is_range)?(r=n.$begin(),$=n.$end(),a=n["$exclude_end?"](),p(t.begin)&&p(r["$nil?"]())||p(t.end)&&p($["$nil?"]())||p(r)&&p($)&&p(v(e.$call(r,$),"then",[],function(G){return G==null&&(G=q),p(a)?K(G,0):ie(G,0)}))||p(r)&&ee(t["$cover?"](r))?!1:(o=e.$call(t.end,$),Z(t.excl,a)?K(o,0):p(t.excl)?ie(o,0):p(K(o,0))?!0:(m=n.$max(),p(z=m["$nil?"]()["$!"]())?J(e.$call(m,t.end),0):z))):p(t.begin)&&p(ie(e.$call(t.begin,n),0))?!1:p(t.end["$nil?"]())?!0:(C=e.$call(n,t.end),p(t.excl)?re(C,0):J(C,0))}),T(_,"$each",function s(){var n=s.$$p||q,t=this,e=q,r=q,$=q;if(s.$$p=null,n===q)return v(t,"enum_for",["each"],function m(){var z=m.$$s==null?this:m.$$s;return z.$size()},{$$s:t});var a,o;if(t.begin.$$is_number&&t.end.$$is_number){for((t.begin%1!==0||t.end%1!==0)&&A.$raise(u("TypeError"),"can't iterate from Float"),a=t.begin,o=t.end+(p(t.excl)?0:1);a<o;a++)n(a);return t}if(t.begin.$$is_string&&t.end.$$is_string)return v(t.begin,"upto",[t.end,t.excl],n.$to_proc()),t;for(e=t.begin,r=t.end,p(e["$respond_to?"]("succ"))||A.$raise(u("TypeError"),"can't iterate from "+e.$class());p(p($=t.end["$nil?"]())?$:re(e["$<=>"](r),0));)i.yield1(n,e),e=e.$succ();return ee(t.excl)&&Z(e,r)&&i.yield1(n,e),t}),T(_,"$eql?",function(n){var t=this,e=q,r=q;return V(u("Range"),n)?p(e=p(r=t.excl["$==="](n["$exclude_end?"]()))?t.begin["$eql?"](n.$begin()):r)?t.end["$eql?"](n.$end()):e:!1}),T(_,"$exclude_end?",w("excl")),T(_,"$first",function s(n){var t=s.$$p||q,e=this;return s.$$p=null,p(e.begin["$nil?"]())&&A.$raise(u("RangeError"),"cannot get the minimum of beginless range"),p(n==null)?e.begin:X(e,R(e,"first",s,!1,!0),"first",[n],t)},-1),T(_,"$include?",function s(n){var t=s.$$p||q,e=this,r=q,$=q;if(s.$$p=null,p(e.begin.$$is_number||e.end.$$is_number)||p(e.begin["$is_a?"](u("Time")))||p(e.end["$is_a?"](u("Time")))||p(u("Integer").$try_convert(e.begin))||p(u("Integer").$try_convert(e.end)))return e["$cover?"](n);if(p(e.begin.$$is_string||e.end.$$is_string)){if(p(e.begin.$$is_string&&e.end.$$is_string))return v(e.begin.$upto(e.end,e.excl),"any?",[],function(o){return o==null&&(o=q),o["$=="](n)});if(p(e.begin["$nil?"]()))return r=n["$<=>"](e.end),p($=r["$nil?"]()["$!"]())?p(e.excl)?re(r,0):J(r,0):$;if(p(e.end["$nil?"]()))return r=e.begin["$<=>"](n),p($=r["$nil?"]()["$!"]())?J(r,0):$}return X(e,R(e,"include?",s,!1,!0),"include?",[n],t)}),T(_,"$last",function(n){var t=this;return p(t.end["$nil?"]())&&A.$raise(u("RangeError"),"cannot get the maximum of endless range"),p(n==null)?t.end:t.$to_a().$last(n)},-1),T(_,"$max",function s(){var n=s.$$p||q,t=this;return s.$$p=null,p(t.end["$nil?"]())?A.$raise(u("RangeError"),"cannot get the maximum of endless range"):n!==q?X(t,R(t,"max",s,!1,!0),"max",[],n):ee(t.begin["$nil?"]())&&(p(ie(t.begin,t.end))||p(t.excl)&&Z(t.begin,t.end))?q:t.excl?t.end-1:t.end}),T(_,"$min",function s(){var n=s.$$p||q,t=this;return s.$$p=null,p(t.begin["$nil?"]())?A.$raise(u("RangeError"),"cannot get the minimum of beginless range"):n!==q?X(t,R(t,"min",s,!1,!0),"min",[],n):ee(t.end["$nil?"]())&&(p(ie(t.begin,t.end))||p(t.excl)&&Z(t.begin,t.end))?q:t.begin}),T(_,"$size",function(){var n=this.begin,t=this.end;if(u("Numeric")["$==="](n)){if(u("Numeric")["$==="](t)){var e=h(t,n);return e<0?0:(this.excl||(e+=1),u("Float")["$==="](n)||u("Float")["$==="](t)?Math.floor(e):e)}else if(t===q)return 1/0}else if(n===q&&u("Numeric")["$==="](t))return 1/0;return q}),T(_,"$step",function s(n){var t=s.$$p||q,e=this,r=q,$=q;s.$$p=null;function a(){n==null?n=1:n.$$is_number||(n=P["$coerce_to!"](n,u("Integer"),"to_int")),n<0?A.$raise(u("ArgumentError"),"step can't be negative"):n===0&&A.$raise(u("ArgumentError"),"step can't be 0")}function o(){if(!e.begin["$respond_to?"]("succ")||e.begin.$$is_string&&e.end.$$is_string)return q;if(n%1===0)return D(e.$size(),n).$ceil();var m=e.begin,z=e.end,C=Math.abs,M=Math.floor,G=(C(m)+C(z)+C(z-m))/C(n)*u(u("Float"),"EPSILON"),O;return G>.5&&(G=.5),e.excl?(O=M((z-m)/n-G),O*n+m<z&&O++):O=M((z-m)/n+G)+1,O}return t===q?(p(e.begin["$is_a?"](E("Numeric")))||p(e.begin["$nil?"]()))&&(p(e.end["$is_a?"](E("Numeric")))||p(e.end["$nil?"]()))&&ee(p(r=e.begin["$nil?"]())?e.end["$nil?"]():r)?u(u("Enumerator"),"ArithmeticSequence").$new(e,n,"step"):v(e,"enum_for",["step",n],function(){return a(),o()}):(a(),p(e.begin.$$is_number&&e.end.$$is_number)?($=0,function(){try{var m=y("break");return v(e,"loop",[],function z(){var C=z.$$s==null?this:z.$$s,M=q;return C.begin==null&&(C.begin=q),C.excl==null&&(C.excl=q),C.end==null&&(C.end=q),M=k(C.begin,B($,n)),p(C.excl)?p(K(M,C.end))&&m.$throw(q,z.$$is_lambda):p(ie(M,C.end))&&m.$throw(q,z.$$is_lambda),i.yield1(t,M),$=k($,1)},{$$s:e})}catch(z){if(z===m)return z.$v;throw z}finally{m.is_orphan=!0}}()):(e.begin.$$is_string&&e.end.$$is_string&&n%1!==0&&A.$raise(u("TypeError"),"no implicit conversion to float from string"),v(e,"each_with_index",[],function(z,C){return z==null&&(z=q),C==null&&(C=q),Z(C["$%"](n),0)?i.yield1(t,z):q})),e)},-1),T(_,"$%",function(n){var t=this;return p(t.begin["$is_a?"](E("Numeric")))&&p(t.end["$is_a?"](E("Numeric")))?u(u("Enumerator"),"ArithmeticSequence").$new(t,n,"%"):t.$step(n)}),T(_,"$bsearch",function s(){var n=s.$$p||q,t=this;return s.$$p=null,n===q?t.$enum_for("bsearch"):(p(c(t)&&(t.begin.$$is_number||t.end.$$is_number))&&A.$raise(u("NotImplementedError"),"Can't #bsearch an infinite range"),p(t.begin.$$is_number&&t.end.$$is_number)||A.$raise(u("TypeError"),"can't do binary search for "+t.begin.$class()),v(t.$to_a(),"bsearch",[],n.$to_proc()))}),T(_,"$to_s",function(){var n=this,t=q;return""+(p(t=n.begin)?t:"")+(p(n.excl)?"...":"..")+(p(t=n.end)?t:"")}),T(_,"$inspect",function(){var n=this,t=q;return""+(p(t=n.begin)?n.begin.$inspect():t)+(p(n.excl)?"...":"..")+(p(t=n.end)?n.end.$inspect():t)}),T(_,"$marshal_load",function(n){var t=this;return t.begin=n["$[]"]("begin"),t.end=n["$[]"]("end"),t.excl=n["$[]"]("excl")}),T(_,"$hash",function(){var n=this;return[u("Range"),n.begin,n.end,n.excl].$hash()}),S(_,"==","eql?"),S(_,"member?","include?")}("::",null,I)};Opal.modules["corelib/proc"]=function(i){var x=i.slice,p=i.each_ivar,A=i.klass,T=i.truthy,ee=i.Kernel,X=i.defs,R=i.def,W=i.send,v=i.to_a,K=i.return_self,ie=i.ensure_kwargs,Z=i.hash_get,J=i.Opal,re=i.alias,V=i.nil,w=i.$$$;return i.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(h,P){var D=A(h,P,"Proc");i.prop(D.$$prototype,"$$is_proc",!0),i.prop(D.$$prototype,"$$is_lambda",!1),X(D,"$new",function y(){var S=y.$$p||V;return y.$$p=null,T(S)||ee.$raise(w("ArgumentError"),"tried to create a Proc object without a block"),S});function k(y,S){if(y.$$ret)try{return y.apply(null,S)}catch(F){if(F===y.$$ret)return F.$v;throw F}else return y.apply(null,S)}function B(y,S){if(y.$$brk)try{return i.yieldX(y,S)}catch(F){if(F===y.$$brk)return F.$v;throw F}else return i.yieldX(y,S)}return R(D,"$call",function y(S){var F=y.$$p||V,I,q,u=this;return y.$$p=null,I=x(arguments),q=I,F!==V&&(u.$$p=F),u.$$is_lambda?k(u,q):B(u,q)},-1),R(D,"$>>",function y(S){y.$$p;var F=this;return y.$$p=null,W(ee,"proc",[],function I(q){var u=I.$$p||V,d,N,g=I.$$s==null?this:I.$$s,_=V;return I.$$p=null,d=x(arguments),N=d,_=W(g,"call",v(N),u.$to_proc()),S.$call(_)},{$$arity:-1,$$s:F})}),R(D,"$<<",function y(S){y.$$p;var F=this;return y.$$p=null,W(ee,"proc",[],function I(q){var u=I.$$p||V,d,N,g=I.$$s==null?this:I.$$s,_=V;return I.$$p=null,d=x(arguments),N=d,_=W(S,"call",v(N),u.$to_proc()),g.$call(_)},{$$arity:-1,$$s:F})}),R(D,"$to_proc",K),R(D,"$lambda?",function(){var S=this;return!!S.$$is_lambda}),R(D,"$arity",function(){var S=this;return S.$$is_curried?-1:S.$$arity!=null?S.$$arity:S.length}),R(D,"$source_location",function(){var S=this,F=V;return S.$$is_curried?V:T(F=S.$$source_location)?F:V}),R(D,"$binding",function(){var S=this;return S.$$is_curried&&ee.$raise(w("ArgumentError"),"Can't create Binding"),T(w("::","Binding","skip_raise")?"constant":V)?w("Binding").$new(V,[],S.$$s,S.$source_location()):V}),R(D,"$parameters",function(S){var F,I=this;if(S=ie(S),F=Z(S,"lambda"),I.$$is_curried)return[["rest"]];if(I.$$parameters){if(F??I.$$is_lambda)return I.$$parameters;var q=[],u,d;for(u=0,d=I.$$parameters.length;u<d;u++){var N=I.$$parameters[u];N[0]==="req"&&(N=["opt",N[1]]),q.push(N)}return q}else return[]},-1),R(D,"$curry",function(S){var F=this;S===void 0?S=F.length:(S=J["$coerce_to!"](S,w("Integer"),"to_int"),F.$$is_lambda&&S!==F.length&&ee.$raise(w("ArgumentError"),"wrong number of arguments ("+S+" for "+F.length+")"));function I(){var q=x(arguments),u=q.length,d;return u>S&&F.$$is_lambda&&!F.$$is_curried&&ee.$raise(w("ArgumentError"),"wrong number of arguments ("+u+" for "+S+")"),u>=S?F.$call.apply(F,q):(d=function(){return I.apply(null,q.concat(x(arguments)))},d.$$is_lambda=F.$$is_lambda,d.$$is_curried=!0,d)}return I.$$is_lambda=F.$$is_lambda,I.$$is_curried=!0,I},-1),R(D,"$dup",function(){var S=this,F=S.$$original_proc||S,I=function(){return F.apply(this,arguments)};return p(S,function(q){I[q]=S[q]}),I}),re(D,"===","call"),re(D,"clone","dup"),re(D,"yield","call"),re(D,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(i){var x=i.klass,p=i.def,A=i.truthy,T=i.slice,ee=i.alias,X=i.Kernel,R=i.send,W=i.to_a,v=i.nil,K=i.$$$;return i.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(ie,Z){var J=x(ie,Z,"Method"),re=J.$$prototype;return re.method=re.receiver=re.owner=re.name=v,J.$attr_reader("owner","receiver","name"),p(J,"$initialize",function(w,h,P,D){var k=this;return k.receiver=w,k.owner=h,k.name=D,k.method=P}),p(J,"$arity",function(){var w=this;return w.method.$arity()}),p(J,"$parameters",function(){var w=this;return w.method.$$parameters}),p(J,"$source_location",function(){var w=this,h=v;return A(h=w.method.$$source_location)?h:["(eval)",0]}),p(J,"$comments",function(){var w=this,h=v;return A(h=w.method.$$comments)?h:[]}),p(J,"$call",function V(w){var h=V.$$p||v,P,D,k=this;return V.$$p=null,P=T(arguments),D=P,k.method.$$p=h,k.method.apply(k.receiver,D)},-1),p(J,"$curry",function(w){var h=this;return h.method.$curry(w)},-1),p(J,"$>>",function(w){var h=this;return h.method["$>>"](w)}),p(J,"$<<",function(w){var h=this;return h.method["$<<"](w)}),p(J,"$unbind",function(){var w=this;return K("UnboundMethod").$new(w.receiver.$class(),w.owner,w.method,w.name)}),p(J,"$to_proc",function(){var w=this,h=w.$call.bind(w);return h.$$unbound=w.method,h.$$is_lambda=!0,h.$$arity=w.method.$$arity==null?w.method.length:w.method.$$arity,h.$$parameters=w.method.$$parameters,h}),p(J,"$inspect",function(){var w=this;return"#<"+w.$class()+": "+w.receiver.$class()+"#"+w.name+" (defined in "+w.owner+" in "+w.$source_location().$join(":")+")>"}),ee(J,"[]","call"),ee(J,"===","call")}("::",null),function(ie,Z){var J=x(ie,Z,"UnboundMethod"),re=J.$$prototype;return re.method=re.owner=re.name=re.source=v,J.$attr_reader("source","owner","name"),p(J,"$initialize",function(w,h,P,D){var k=this;return k.source=w,k.owner=h,k.method=P,k.name=D,k.$$method=P}),p(J,"$arity",function(){var w=this;return w.method.$arity()}),p(J,"$parameters",function(){var w=this;return w.method.$$parameters}),p(J,"$source_location",function(){var w=this,h=v;return A(h=w.method.$$source_location)?h:["(eval)",0]}),p(J,"$comments",function(){var w=this,h=v;return A(h=w.method.$$comments)?h:[]}),p(J,"$bind",function(w){var h=this;if(h.owner.$$is_module||i.is_a(w,h.owner))return K("Method").$new(w,h.owner,h.method,h.name);X.$raise(K("TypeError"),"can't bind singleton method to a different class (expected "+w+".kind_of?("+h.owner+" to be true)")}),p(J,"$bind_call",function V(w,h){var P=V.$$p||v,D,k,B=this;return V.$$p=null,D=T(arguments,1),k=D,R(B.$bind(w),"call",W(k),P.$to_proc())},-2),p(J,"$inspect",function(){var w=this;return"#<"+w.$class()+": "+w.source+"#"+w.name+" (defined in "+w.owner+" in "+w.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(i){var x=i.gvars,p=i.const_set,A=i.Object,T=i.nil;return i.add_stubs("new"),x["&"]=x["~"]=x["`"]=x["'"]=T,x.LOADED_FEATURES=x['"']=i.loaded_features,x.LOAD_PATH=x[":"]=[],x["/"]=`
`,x[","]=T,p("::","ARGV",[]),p("::","ARGF",A.$new()),p("::","ENV",new Map),x.VERBOSE=!1,x.DEBUG=!1,x.SAFE=0};Opal.modules["corelib/io"]=function(i){var x=i.klass,p=i.const_set,A=i.not,T=i.truthy,ee=i.def,X=i.return_ivar,R=i.return_val,W=i.slice,v=i.Kernel,K=i.gvars,ie=i.send,Z=i.to_a,J=i.rb_plus,re=i.neqeq,V=i.range,w=i.eqeq,h=i.to_ary,P=i.rb_gt,D=i.assign_ivar_val,k=i.alias,B,y=i.nil,S=i.$$$;i.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(I,q){var u=x(I,q,"IO"),d=u.$$prototype;return d.read_buffer=d.closed=y,p(u,"SEEK_SET",0),p(u,"SEEK_CUR",1),p(u,"SEEK_END",2),p(u,"SEEK_DATA",3),p(u,"SEEK_HOLE",4),p(u,"READABLE",1),p(u,"WRITABLE",4),u.$attr_reader("eof"),u.$attr_accessor("read_proc","sync","tty","write_proc"),ee(u,"$initialize",function(g,_){var l=this;return _==null&&(_="r"),l.fd=g,l.flags=_,l.eof=!1,T(_["$include?"]("r"))&&A(_["$match?"](/[wa+]/))?l.closed="write":T(_["$match?"](/[wa]/))&&A(_["$match?"](/[r+]/))?l.closed="read":y},-2),ee(u,"$fileno",X("fd")),ee(u,"$tty?",function(){var g=this;return g.tty==!0}),ee(u,"$write",function(g){var _=this;return _.write_proc(g),g.$size()}),ee(u,"$flush",R(y)),ee(u,"$<<",function(g){var _=this;return _.$write(g),_}),ee(u,"$print",function(g){var _,l,E=this;K[","]==null&&(K[","]=y),_=W(arguments),l=_;for(var U=0,c=l.length;U<c;U++)l[U]=v.$String(l[U]);return E.$write(l.join(K[","])),y},-1),ee(u,"$puts",function(g){var _,l,E=this;_=W(arguments),l=_;var U;if(l.length===0)return E.$write(`
`),y;for(var c=0,s=l.length;c<s;c++)if(l[c].$$is_array){var n=l[c].$flatten();n.length>0&&ie(E,"puts",Z(n))}else l[c].$$is_string?U=l[c].valueOf():U=v.$String(l[c]),U.endsWith(`
`)||(U+=`
`),E.$write(U);return y},-1),ee(u,"$getc",function(){var g=this,_=y,l=y,E=y;g.read_buffer=T(_=g.read_buffer)?_:"",l="";do if(g.read_buffer=J(g.read_buffer,l),re(g.read_buffer,""))return E=g.read_buffer["$[]"](0),g.read_buffer=g.read_buffer["$[]"](V(1,-1,!1)),E;while(T(l=g.$sysread_noraise(1)));return y}),ee(u,"$getbyte",function(){var g,_=this;return g=_.$getc(),g===y||g==null?y:g.$ord()}),ee(u,"$readbyte",function(){var g=this;return g.$readchar().$ord()}),ee(u,"$readchar",function(){var g=this,_=y;return T(_=g.$getc())?_:v.$raise(S("EOFError"),"end of file reached")}),ee(u,"$readline",function(g){var _,l,E=this,U=y;return _=W(arguments),l=_,T(U=ie(E,"gets",Z(l)))?U:v.$raise(S("EOFError"),"end of file reached")},-1),ee(u,"$gets",function(g,_,l){var E,U,c=this,s=y,n=y,t=y,e=y,r=y,$=y;K["/"]==null&&(K["/"]=y),g==null&&(g=!1),_==null&&(_=y),l==null&&(l=new Map),T(g.$$is_number)&&A(_)&&(E=[!1,g,_],g=E[0],_=E[1],l=E[2]),T(g.$$is_hash)&&A(_)&&w(l,new Map)?(E=[!1,y,g],g=E[0],_=E[1],l=E[2]):T(_.$$is_hash)&&w(l,new Map)&&(E=[g,y,_],g=E[0],_=E[1],l=E[2]),s=g,w(g,!1)&&(g=K["/"]),w(g,"")&&(g=/\r?\n\r?\n/),g=T(n=g)?n:"",w(s,"")||(g=g.$to_str()),t=w(s,"")?2:g.$length(),w(g," ")&&(g=/ /),c.read_buffer=T(n=c.read_buffer)?n:"",e="",r=y;do if(c.read_buffer=J(c.read_buffer,e),re(g,"")&&T(T(g.$$is_regexp)?c.read_buffer["$match?"](g):c.read_buffer["$include?"](g))){$=c.read_buffer,U=c.read_buffer.$split(g,2),E=h(U),r=E[0]==null?y:E[0],c.read_buffer=E[1]==null?y:E[1],re(r,$)&&(r=J(r,$["$[]"](r.$length(),t)));break}while(T(e=c.$sysread_noraise(w(g,"")?65536:1)));return T(r)||(E=[T(n=c.read_buffer)?n:"",""],r=E[0],c.read_buffer=E[1],w(r,"")&&(r=y)),T(r)&&(T(_)&&(r=r["$[]"](i.Range.$new(0,_,!0)),c.read_buffer=J(r["$[]"](i.Range.$new(_,-1,!1)),c.read_buffer)),T(l["$[]"]("chomp"))&&(r=r.$sub(/\r?\n$/,"")),w(s,"")&&(r=r.$sub(/^[\r\n]+/,""))),w(s,!1)&&(K._=r),r},-1),ee(u,"$sysread",function(g){var _=this,l=y;return T(l=_.read_proc(g))?l:(_.eof=!0,v.$raise(S("EOFError"),"end of file reached"))}),ee(u,"$sysread_noraise",function(g){var _=this;try{return _.$sysread(g)}catch(l){if(i.rescue(l,[S("EOFError")]))try{return y}finally{i.pop_exception(l)}else throw l}}),ee(u,"$readpartial",function(g){var _,l=this,E=y,U=y,c=y;return l.read_buffer=T(E=l.read_buffer)?E:"",U=l.$sysread(g),_=[J(l.read_buffer,T(E=U)?E:""),""],c=_[0],l.read_buffer=_[1],w(c,"")&&(c=y),c}),ee(u,"$read",function(g){var _,l=this,E=y,U=y,c=y;g==null&&(g=y),l.read_buffer=T(E=l.read_buffer)?E:"",U="",c=y;do if(l.read_buffer=J(l.read_buffer,U),T(g)&&T(P(l.read_buffer.$length(),g)))return _=[l.read_buffer["$[]"](i.Range.$new(0,g,!0)),l.read_buffer["$[]"](i.Range.$new(g,-1,!1))],c=_[0],l.read_buffer=_[1],c;while(T(U=l.$sysread_noraise(T(E=g)?E:65536)));return _=[l.read_buffer,""],c=_[0],l.read_buffer=_[1],c},-1),ee(u,"$readlines",function(g){var _=this;return K["/"]==null&&(K["/"]=y),g==null&&(g=K["/"]),_.$each_line(g).$to_a()},-1),ee(u,"$each",function N(g,_){var l=N.$$p||y,E,U,c,s=this,n=y;if(K["/"]==null&&(K["/"]=y),N.$$p=null,E=W(arguments),E.length>0&&(U=E.shift()),U==null&&(U=K["/"]),c=E,l===y)return ie(s,"enum_for",["each",U].concat(Z(c)));for(;T(n=ie(s,"gets",[U].concat(Z(c))));)i.yield1(l,n);return s},-1),ee(u,"$each_byte",function N(){var g=N.$$p||y,_=this,l=y;if(N.$$p=null,g===y)return _.$enum_for("each_byte");for(;T(l=_.$getbyte());)i.yield1(g,l);return _}),ee(u,"$each_char",function N(){var g=N.$$p||y,_=this,l=y;if(N.$$p=null,g===y)return _.$enum_for("each_char");for(;T(l=_.$getc());)i.yield1(g,l);return _}),ee(u,"$close",D("closed","both")),ee(u,"$close_read",function(){var g=this;return w(g.closed,"write")?g.closed="both":g.closed="read"}),ee(u,"$close_write",function(){var g=this;return w(g.closed,"read")?g.closed="both":g.closed="write"}),ee(u,"$closed?",function(){var g=this;return g.closed["$=="]("both")}),ee(u,"$closed_read?",function(){var g=this,_=y;return T(_=g.closed["$=="]("read"))?_:g.closed["$=="]("both")}),ee(u,"$closed_write?",function(){var g=this,_=y;return T(_=g.closed["$=="]("write"))?_:g.closed["$=="]("both")}),ee(u,"$check_writable",function(){var g=this;return T(g["$closed_write?"]())?v.$raise(S("IOError"),"not opened for writing"):y}),ee(u,"$check_readable",function(){var g=this;return T(g["$closed_read?"]())?v.$raise(S("IOError"),"not opened for reading"):y}),k(u,"each_line","each"),k(u,"eof?","eof")}("::",null),p("::","STDIN",K.stdin=S("IO").$new(0,"r")),p("::","STDOUT",K.stdout=S("IO").$new(1,"w")),p("::","STDERR",K.stderr=S("IO").$new(2,"w"));var F=i.global.console;return S("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(I){process.stdout.write(I)}:function(I){F.log(I)}),S("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(I){process.stderr.write(I)}:function(I){F.warn(I)}),B=[function(I){var q=prompt();return q!==null?q+`
`:y}],ie(S("STDIN"),"read_proc=",B),B[B.length-1]};Opal.modules["opal/regexp_anchors"]=function(i){var x=i.module,p=i.const_set,A=[];i.nil;var T=i.$$$;return i.add_stubs("new"),function(ee,X){var R=x(ee,"Opal"),W=[R].concat(X),v=i.$r(W);return p(R,"REGEXP_START","^"),p(R,"REGEXP_END","$"),p(R,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),p(R,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),p(R,"INLINE_IDENTIFIER_REGEXP",v("Regexp").$new("[^"+T(R,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+T(R,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),p(R,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),p(R,"CONST_NAME_REGEXP",v("Regexp").$new(""+T(R,"REGEXP_START")+"(::)?[A-Z][^"+T(R,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+T(R,"REGEXP_END")))}(A[0],A)};Opal.modules["opal/mini"]=function(i){var x=i.Object;return i.nil,i.add_stubs("require"),x.$require("opal/base"),x.$require("corelib/nil"),x.$require("corelib/boolean"),x.$require("corelib/string"),x.$require("corelib/comparable"),x.$require("corelib/enumerable"),x.$require("corelib/enumerator"),x.$require("corelib/array"),x.$require("corelib/hash"),x.$require("corelib/number"),x.$require("corelib/range"),x.$require("corelib/proc"),x.$require("corelib/method"),x.$require("corelib/regexp"),x.$require("corelib/variables"),x.$require("corelib/io"),x.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(i){var x=i.coerce_to,p=i.module,A=i.slice,T=i.truthy,ee=i.eqeq,X=i.Opal,R=i.Kernel,W=i.gvars,v=i.def,K=i.alias,ie=i.nil,Z=i.$$$;return i.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(J){var re=p(J,"Kernel");return v(re,"$format",function(w,h){var P,D,k=ie;W.DEBUG==null&&(W.DEBUG=ie),P=A(arguments,1),D=P,ee(D.$length(),1)&&T(D["$[]"](0)["$respond_to?"]("to_ary"))&&(k=X["$coerce_to?"](D["$[]"](0),Z("Array"),"to_ary"),T(k["$nil?"]())||(D=k.$to_a()));var B="",y=0,S,F,I=w.length,q,u,d,N,g,_,l,E,U,c,s,n,t,e=1,r=0,$,a=0,o=1,m=2,z=4,C=8,M=16,G=32,O=64,ae=128;function le(){$&G&&R.$raise(Z("ArgumentError"),"flag after width"),$&ae&&R.$raise(Z("ArgumentError"),"flag after precision")}function ce(){$&G&&R.$raise(Z("ArgumentError"),"width given twice"),$&ae&&R.$raise(Z("ArgumentError"),"width after precision")}function de(j){return j>=D.length&&R.$raise(Z("ArgumentError"),"too few arguments"),D[j]}function he(){switch(r){case-1:R.$raise(Z("ArgumentError"),"unnumbered("+e+") mixed with numbered");case-2:R.$raise(Z("ArgumentError"),"unnumbered("+e+") mixed with named")}return r=e++,de(r-1)}function me(j){return r>0&&R.$raise(Z("ArgumentError"),"numbered("+j+") after unnumbered("+r+")"),r===-2&&R.$raise(Z("ArgumentError"),"numbered("+j+") after named"),j<1&&R.$raise(Z("ArgumentError"),"invalid index - "+j+"$"),r=-1,de(j-1)}function ve(){return t===void 0?he():t}function be(j){for(var L,Y="";;F++){if(F===I&&R.$raise(Z("ArgumentError"),"malformed format string - %*[0-9]"),w.charCodeAt(F)<48||w.charCodeAt(F)>57)return F--,L=parseInt(Y,10)||0,L>2147483647&&R.$raise(Z("ArgumentError"),""+j+" too big"),L;Y+=w.charAt(F)}}function $e(j){var L,Y=be(j);return w.charAt(F+1)==="$"?(F++,L=me(Y)):L=he(),L.$to_int()}for(F=w.indexOf("%");F!==-1;F=w.indexOf("%",F)){switch(u=void 0,$=a,N=-1,g=-1,t=void 0,S=F,F++,w.charAt(F)){case"%":y=F;case"":case`
`:case"\0":F++;continue}e:for(;F<I;F++)switch(w.charAt(F)){case" ":le(),$|=M;continue e;case"#":le(),$|=o;continue e;case"+":le(),$|=z;continue e;case"-":le(),$|=m;continue e;case"0":le(),$|=C;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(_=be("width"),w.charAt(F+1)==="$"){if(F+2===I){u="%",F++;break e}t!==void 0&&R.$raise(Z("ArgumentError"),"value given twice - %"+_+"$"),t=me(_),F++}else ce(),$|=G,N=_;continue e;case"<":case"{":for(E=w.charAt(F)==="<"?">":"}",l="",F++;;F++){if(F===I&&R.$raise(Z("ArgumentError"),"malformed name - unmatched parenthesis"),w.charAt(F)===E){if(r>0&&R.$raise(Z("ArgumentError"),"named "+l+" after unnumbered("+r+")"),r===-1&&R.$raise(Z("ArgumentError"),"named "+l+" after numbered"),r=-2,(D[0]===void 0||!D[0].$$is_hash)&&R.$raise(Z("ArgumentError"),"one hash required"),t=D[0].$fetch(l),E===">")continue e;if(u=t.toString(),g!==-1&&(u=u.slice(0,g)),$&m)for(;u.length<N;)u=u+" ";else for(;u.length<N;)u=" "+u;break e}l+=w.charAt(F)}case"*":F++,ce(),$|=G,N=$e("width"),N<0&&($|=m,N=-N);continue e;case".":if($&ae&&R.$raise(Z("ArgumentError"),"precision given twice"),$|=O|ae,g=0,F++,w.charAt(F)==="*"){F++,g=$e("precision"),g<0&&($&=~O);continue e}g=be("precision");continue e;case"d":case"i":case"u":if(q=R.$Integer(ve()),q>=0){for(u=q.toString();u.length<g;)u="0"+u;if($&m)for(($&z||$&M)&&(u=($&z?"+":" ")+u);u.length<N;)u=u+" ";else if($&C&&g===-1){for(;u.length<N-($&z||$&M?1:0);)u="0"+u;($&z||$&M)&&(u=($&z?"+":" ")+u)}else for(($&z||$&M)&&(u=($&z?"+":" ")+u);u.length<N;)u=" "+u}else{for(u=(-q).toString();u.length<g;)u="0"+u;if($&m)for(u="-"+u;u.length<N;)u=u+" ";else if($&C&&g===-1){for(;u.length<N-1;)u="0"+u;u="-"+u}else for(u="-"+u;u.length<N;)u=" "+u}break e;case"b":case"B":case"o":case"x":case"X":switch(w.charAt(F)){case"b":case"B":U=2,c="0b",s=/^1+/,n="1";break;case"o":U=8,c="0",s=/^3?7+/,n="7";break;case"x":case"X":U=16,c="0x",s=/^f+/,n="f";break}if(q=R.$Integer(ve()),q>=0){for(u=q.toString(U);u.length<g;)u="0"+u;if($&m)for(($&z||$&M)&&(u=($&z?"+":" ")+u),$&o&&q!==0&&(u=c+u);u.length<N;)u=u+" ";else if($&C&&g===-1){for(;u.length<N-($&z||$&M?1:0)-($&o&&q!==0?c.length:0);)u="0"+u;$&o&&q!==0&&(u=c+u),($&z||$&M)&&(u=($&z?"+":" ")+u)}else for($&o&&q!==0&&(u=c+u),($&z||$&M)&&(u=($&z?"+":" ")+u);u.length<N;)u=" "+u}else if($&z||$&M){for(u=(-q).toString(U);u.length<g;)u="0"+u;if($&m)for($&o&&(u=c+u),u="-"+u;u.length<N;)u=u+" ";else if($&C&&g===-1){for(;u.length<N-1-($&o?2:0);)u="0"+u;$&o&&(u=c+u),u="-"+u}else for($&o&&(u=c+u),u="-"+u;u.length<N;)u=" "+u}else{for(u=(q>>>0).toString(U).replace(s,n);u.length<g-2;)u=n+u;if($&m)for(u=".."+u,$&o&&(u=c+u);u.length<N;)u=u+" ";else if($&C&&g===-1){for(;u.length<N-2-($&o?c.length:0);)u=n+u;u=".."+u,$&o&&(u=c+u)}else for(u=".."+u,$&o&&(u=c+u);u.length<N;)u=" "+u}w.charAt(F)===w.charAt(F).toUpperCase()&&(u=u.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(q=R.$Float(ve()),q>=0||isNaN(q)){if(q===1/0)u="Inf";else switch(w.charAt(F)){case"f":u=q.toFixed(g===-1?6:g);break;case"e":case"E":u=q.toExponential(g===-1?6:g);break;case"g":case"G":u=q.toExponential(),d=parseInt(u.split("e")[1],10),d<-4||d>=(g===-1?6:g)||(u=q.toPrecision(g===-1?$&o?6:void 0:g));break}if($&m)for(($&z||$&M)&&(u=($&z?"+":" ")+u);u.length<N;)u=u+" ";else if($&C&&q!==1/0&&!isNaN(q)){for(;u.length<N-($&z||$&M?1:0);)u="0"+u;($&z||$&M)&&(u=($&z?"+":" ")+u)}else for(($&z||$&M)&&(u=($&z?"+":" ")+u);u.length<N;)u=" "+u}else{if(q===-1/0)u="Inf";else switch(w.charAt(F)){case"f":u=(-q).toFixed(g===-1?6:g);break;case"e":case"E":u=(-q).toExponential(g===-1?6:g);break;case"g":case"G":u=(-q).toExponential(),d=parseInt(u.split("e")[1],10),d<-4||d>=(g===-1?6:g)||(u=(-q).toPrecision(g===-1?$&o?6:void 0:g));break}if($&m)for(u="-"+u;u.length<N;)u=u+" ";else if($&C&&q!==-1/0){for(;u.length<N-1;)u="0"+u;u="-"+u}else for(u="-"+u;u.length<N;)u=" "+u}w.charAt(F)===w.charAt(F).toUpperCase()&&q!==1/0&&q!==-1/0&&!isNaN(q)&&(u=u.toUpperCase()),u=u.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":R.$raise(Z("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(q=ve(),q["$respond_to?"]("to_ary")&&(q=q.$to_ary()[0]),q["$respond_to?"]("to_str")?u=q.$to_str():u=String.fromCharCode(x(q,Z("Integer"),"to_int")),u.length!==1&&R.$raise(Z("ArgumentError"),"%c requires a character"),$&m)for(;u.length<N;)u=u+" ";else for(;u.length<N;)u=" "+u;break e;case"p":if(u=ve().$inspect(),g!==-1&&(u=u.slice(0,g)),$&m)for(;u.length<N;)u=u+" ";else for(;u.length<N;)u=" "+u;break e;case"s":if(u=ve().$to_s(),g!==-1&&(u=u.slice(0,g)),$&m)for(;u.length<N;)u=u+" ";else for(;u.length<N;)u=" "+u;break e;default:R.$raise(Z("ArgumentError"),"malformed format string - %"+w.charAt(F))}u===void 0&&R.$raise(Z("ArgumentError"),"malformed format string - %"),B+=w.slice(y,S)+u,y=F+1}return W.DEBUG&&r>=0&&e<D.length&&R.$raise(Z("ArgumentError"),"too many arguments for format string"),B+w.slice(y)},-2),K(re,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(i){var x=i.klass,p=i.rb_plus,A=i.truthy,T=i.send,ee=i.defs,X=i.eqeq,R=i.def,W=i.return_ivar,v=i.return_val,K=i.slice,ie=i.Kernel,Z=i.Opal,J=i.rb_lt,re,V=i.top,w=[],h=i.$r(w),P=i.nil,D=i.$$$;return i.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),V.$require("corelib/string"),function(k,B,y){var S=x(k,B,"Encoding"),F=[S].concat(y),I=S.$$prototype;return I.name=I.dummy=P,ee(S,"$register",function q(u,d){var N=q.$$p||P,g=this,_=P,l=P,E=P,U=P,c=P,s=P;return q.$$p=null,d==null&&(d=new Map),_=p([u],A(l=d["$[]"]("aliases"))?l:[]),E=A(l=d["$[]"]("ascii"))&&l,U=A(l=d["$[]"]("dummy"))&&l,A(d["$[]"]("inherits"))?(c=d["$[]"]("inherits").$clone(),c.$initialize(u,_,E,U)):c=g.$new(u,_,E,U),N!==P&&T(c,"instance_eval",[],N.$to_proc()),s=i.encodings,T(_,"each",[],function n(t){var e=n.$$s==null?this:n.$$s;return t==null&&(t=P),e.$const_set(t.$tr("-","_"),c),s[t]=c},{$$s:g})},-2),ee(S,"$find",function(u){var d=this;return X(u,"default_external")?d.$default_external():i.find_encoding(u)}),S.$singleton_class().$attr_accessor("default_external"),S.$attr_reader("name","names"),R(S,"$initialize",function(u,d,N,g){var _=this;return _.name=u,_.names=d,_.ascii=N,_.dummy=g}),R(S,"$ascii_compatible?",W("ascii")),R(S,"$dummy?",W("dummy")),R(S,"$binary?",v(!1)),R(S,"$to_s",W("name")),R(S,"$inspect",function(){var u=this;return"#<Encoding:"+u.name+(A(u.dummy)?" (dummy)":P)+">"}),R(S,"$charsize",function(u){for(var d=0,N=0,g=u.length;N<g;N++){var _=u.charCodeAt(N);_>=55296&&_<=56319||d++}return d}),R(S,"$each_char",function q(u){var d=q.$$p||P;q.$$p=null;for(var N="",g=0,_=u.length;g<_;g++){var l=u.charCodeAt(g),E=u.charAt(g);if(l>=56320&&l<=57343){N=E;continue}else l>=55296&&l<=56319&&(E=N+E);u.encoding.name!="UTF-8"&&(E=new String(E),E.encoding=u.encoding),i.yield1(d,E)}}),R(S,"$each_byte",function(u){return K(arguments),ie.$raise(D("NotImplementedError"))},-1),R(S,"$bytesize",function(u){return K(arguments),ie.$raise(D("NotImplementedError"))},-1),x("::",D("StandardError"),"EncodingError"),x("::",D("EncodingError"),"CompatibilityError"),x(F[0],D("EncodingError"),"UndefinedConversionError"),P}("::",null,w),T(D("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function k(){var B=k.$$s==null?this:k.$$s;return R(B,"$each_byte",function y(S){var F=y.$$p||P;y.$$p=null;for(var I=1/0,q,u=S.length,d=null,N=0;N<u;++N){if(q=S.charCodeAt(N),q>55295&&q<57344){if(!d){if(q>56319){(I-=3)>-1&&(i.yield1(F,239),i.yield1(F,191),i.yield1(F,189));continue}else if(N+1===u){(I-=3)>-1&&(i.yield1(F,239),i.yield1(F,191),i.yield1(F,189));continue}d=q;continue}if(q<56320){(I-=3)>-1&&(i.yield1(F,239),i.yield1(F,191),i.yield1(F,189)),d=q;continue}q=(d-55296<<10|q-56320)+65536}else d&&(I-=3)>-1&&(i.yield1(F,239),i.yield1(F,191),i.yield1(F,189));if(d=null,q<128){if((I-=1)<0)break;i.yield1(F,q)}else if(q<2048){if((I-=2)<0)break;i.yield1(F,q>>6|192),i.yield1(F,q&63|128)}else if(q<65536){if((I-=3)<0)break;i.yield1(F,q>>12|224),i.yield1(F,q>>6&63|128),i.yield1(F,q&63|128)}else if(q<1114112){if((I-=4)<0)break;i.yield1(F,q>>18|240),i.yield1(F,q>>12&63|128),i.yield1(F,q>>6&63|128),i.yield1(F,q&63|128)}}}),R(B,"$bytesize",function(S){return S.$bytes().$length()})},{$$s:V}),T(D("Encoding"),"register",["UTF-16LE"],function k(){var B=k.$$s==null?this:k.$$s;return R(B,"$each_byte",function y(S){var F=y.$$p||P;y.$$p=null;for(var I=0,q=S.length;I<q;I++){var u=S.charCodeAt(I);i.yield1(F,u&255),i.yield1(F,u>>8)}}),R(B,"$bytesize",function(S){return S.length*2})},{$$s:V}),T(D("Encoding"),"register",["UTF-16BE",new Map([["inherits",D(D("Encoding"),"UTF_16LE")]])],function k(){var B=k.$$s==null?this:k.$$s;return R(B,"$each_byte",function y(S){var F=y.$$p||P;y.$$p=null;for(var I=0,q=S.length;I<q;I++){var u=S.charCodeAt(I);i.yield1(F,u>>8),i.yield1(F,u&255)}})},{$$s:V}),T(D("Encoding"),"register",["UTF-32LE"],function k(){var B=k.$$s==null?this:k.$$s;return R(B,"$each_byte",function y(S){var F=y.$$p||P;y.$$p=null;for(var I=0,q=S.length;I<q;I++){var u=S.charCodeAt(I);i.yield1(F,u&255),i.yield1(F,u>>8),i.yield1(F,0),i.yield1(F,0)}}),R(B,"$bytesize",function(S){return S.length*4})},{$$s:V}),T(D("Encoding"),"register",["UTF-32BE",new Map([["inherits",D(D("Encoding"),"UTF_32LE")]])],function k(){var B=k.$$s==null?this:k.$$s;return R(B,"$each_byte",function y(S){var F=y.$$p||P;y.$$p=null;for(var I=0,q=S.length;I<q;I++){var u=S.charCodeAt(I);i.yield1(F,0),i.yield1(F,0),i.yield1(F,u>>8),i.yield1(F,u&255)}})},{$$s:V}),T(D("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function k(){var B=k.$$s==null?this:k.$$s;return R(B,"$each_char",function y(S){var F=y.$$p||P;y.$$p=null;for(var I=0,q=S.length;I<q;I++){var u=new String(S.charAt(I));u.encoding=S.encoding,i.yield1(F,u)}}),R(B,"$charsize",function(S){return S.length}),R(B,"$each_byte",function y(S){var F=y.$$p||P;y.$$p=null;for(var I=0,q=S.length;I<q;I++){var u=S.charCodeAt(I);i.yield1(F,u&255)}}),R(B,"$bytesize",function(S){return S.length}),R(B,"$binary?",v(!0))},{$$s:V}),D("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",D(D("Encoding"),"ASCII_8BIT")]])),D("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",D(D("Encoding"),"ASCII_8BIT")]])),function(k,B){var y=x(k,B,"String"),S=y.$$prototype;return S.internal_encoding=S.bytes=S.encoding=P,y.$attr_reader("encoding"),y.$attr_reader("internal_encoding"),i.prop(String.prototype,"bytes",P),i.prop(String.prototype,"encoding",D(D("Encoding"),"UTF_8")),i.prop(String.prototype,"internal_encoding",D(D("Encoding"),"UTF_8")),R(y,"$b",function(){var I=this;return I.$dup().$force_encoding("binary")}),R(y,"$bytesize",function(){var I=this;return I.internal_encoding.$bytesize(I)}),R(y,"$each_byte",function F(){var I=F.$$p||P,q=this;return F.$$p=null,I===P?T(q,"enum_for",["each_byte"],function u(){var d=u.$$s==null?this:u.$$s;return d.$bytesize()},{$$s:q}):(T(q.internal_encoding,"each_byte",[q],I.$to_proc()),q)}),R(y,"$bytes",function(){var I=this,q=P;return typeof I=="string"?new String(I).$each_byte().$to_a():(I.bytes=A(q=I.bytes)?q:I.$each_byte().$to_a(),I.bytes.$dup())}),R(y,"$each_char",function F(){var I=F.$$p||P,q=this;return F.$$p=null,I===P?T(q,"enum_for",["each_char"],function u(){var d=u.$$s==null?this:u.$$s;return d.$length()},{$$s:q}):(T(q.encoding,"each_char",[q],I.$to_proc()),q)}),R(y,"$chars",function F(){var I=F.$$p||P,q=this;return F.$$p=null,A(I)?T(q,"each_char",[],I.$to_proc()):q.$each_char().$to_a()}),R(y,"$each_codepoint",function F(){var I=F.$$p||P,q=this;if(F.$$p=null,I===P)return q.$enum_for("each_codepoint");for(var u=0,d=q.length;u<d;u++)i.yield1(I,q.codePointAt(u));return q}),R(y,"$codepoints",function F(){var I=F.$$p||P,q=this;return F.$$p=null,I!==P?T(q,"each_codepoint",[],I.$to_proc()):q.$each_codepoint().$to_a()}),R(y,"$encode",function(I){var q=this;return i.enc(q,I)}),R(y,"$force_encoding",function(I){var q=this,u=q;return I===u.encoding||(I=Z["$coerce_to!"](I,D("String"),"to_s"),I=D("Encoding").$find(I),I===u.encoding)||(u=i.set_encoding(u,I)),u}),R(y,"$getbyte",function(I){var q=this,u=P;return u=q.$bytes(),I=Z["$coerce_to!"](I,D("Integer"),"to_int"),A(J(u.$length(),I))?P:u["$[]"](I)}),R(y,"$initialize_copy",function(I){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),R(y,"$valid_encoding?",v(!0))}("::",null),re=[D(h("Encoding"),"UTF_8")],T(D("Encoding"),"default_external=",re),re[re.length-1]};Opal.modules["corelib/math"]=function(i){var x=i.type_error,p=i.module,A=i.const_set,T=i.Class,ee=i.slice,X=i.Kernel,R=i.defs,W=i.truthy,v=i.send,K=i.def,ie=i.rb_minus,Z=i.eqeqeq,J=i.rb_divide,re=[],V=i.nil,w=i.$$$;return i.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(h,P){var D=p(h,"Math"),k=[D].concat(P),B=i.$r(k);return A(D,"E",Math.E),A(D,"PI",Math.PI),A(D,"DomainError",T.$new(w("StandardError"))),R(D,"$checked",function(S,F){var I,q;if(I=ee(arguments,1),q=I,isNaN(q[0])||q.length==2&&isNaN(q[1]))return NaN;var u=Math[S].apply(null,q);return isNaN(u)&&X.$raise(B("DomainError"),'Numerical argument is out of domain - "'+S+'"'),u},-2),R(D,"$float!",function(S){try{return X.$Float(S)}catch(F){if(i.rescue(F,[w("ArgumentError")]))try{return X.$raise(x(S,w("Float")))}finally{i.pop_exception(F)}else throw F}}),R(D,"$integer!",function(S){try{return X.$Integer(S)}catch(F){if(i.rescue(F,[w("ArgumentError")]))try{return X.$raise(x(S,w("Integer")))}finally{i.pop_exception(F)}else throw F}}),D.$module_function(),W(typeof Math.erf<"u")||i.prop(Math,"erf",function(y){var S=.254829592,F=-.284496736,I=1.421413741,q=-1.453152027,u=1.061405429,d=.3275911,N=1;y<0&&(N=-1),y=Math.abs(y);var g=1/(1+d*y),_=1-((((u*g+q)*g+I)*g+F)*g+S)*g*Math.exp(-y*y);return N*_}),W(typeof Math.erfc<"u")||i.prop(Math,"erfc",function(y){var S=Math.abs(y),F=1/(.5*S+1),I=F*.17087277+-.82215223,q=F*I+1.48851587,u=F*q+-1.13520398,d=F*u+.27886807,N=F*d+-.18628806,g=F*N+.09678418,_=F*g+.37409196,l=F*_+1.00002368,E=F*l,U=-S*S-1.26551223+E,c=F*Math.exp(U);return y<0?2-c:c}),v(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function y(S){var F=y.$$s==null?this:y.$$s;return S==null&&(S=V),v(F,"define_method",[S],function(q){return q==null&&(q=V),w("Math").$checked(S,w("Math")["$float!"](q))})},{$$s:D}),K(D,"$atan2",function(S,F){return w("Math").$checked("atan2",w("Math")["$float!"](S),w("Math")["$float!"](F))}),K(D,"$hypot",function(S,F){return w("Math").$checked("hypot",w("Math")["$float!"](S),w("Math")["$float!"](F))}),K(D,"$frexp",function(S){if(S=B("Math")["$float!"](S),isNaN(S))return[NaN,0];var F=Math.floor(Math.log(Math.abs(S))/Math.log(2))+1,I=S/Math.pow(2,F);return[I,F]}),K(D,"$gamma",function(S){S=B("Math")["$float!"](S);var F,I,q,u,d,N,g,_,l,E=4.7421875,U=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(S))return NaN;if(S===0&&1/S<0)return-1/0;if((S===-1||S===-1/0)&&X.$raise(B("DomainError"),'Numerical argument is out of domain - "gamma"'),B("Integer")["$==="](S)){if(S<=0)return isFinite(S)?1/0:NaN;if(S>171)return 1/0;for(u=S-2,d=S-1;u>1;)d*=u,u--;return d==0&&(d=1),d}if(S<.5)return Math.PI/(Math.sin(Math.PI*S)*w("Math").$gamma(ie(1,S)));if(S>=171.35)return 1/0;if(S>85)return N=S*S,g=N*S,_=g*S,l=_*S,Math.sqrt(2*Math.PI/S)*Math.pow(S/Math.E,S)*(1+1/(12*S)+1/(288*N)-139/(51840*g)-571/(2488320*_)+163879/(209018880*l)+5246819/(75246796800*l*S));for(S-=1,q=U[0],F=1;F<U.length;++F)q+=U[F]/(S+F);return I=S+E+.5,Math.sqrt(2*Math.PI)*Math.pow(I,S+.5)*Math.exp(-I)*q}),K(D,"$ldexp",function(S,F){return S=B("Math")["$float!"](S),F=B("Math")["$integer!"](F),isNaN(F)&&X.$raise(w("RangeError"),"float NaN out of range of integer"),S*Math.pow(2,F)}),K(D,"$lgamma",function(S){return S==-1?[1/0,1]:[Math.log(Math.abs(w("Math").$gamma(S))),w("Math").$gamma(S)<0?-1:1]}),K(D,"$log",function(S,F){return Z(w("String"),S)&&X.$raise(x(S,w("Float"))),W(F==null)?w("Math").$checked("log",w("Math")["$float!"](S)):(Z(w("String"),F)&&X.$raise(x(F,w("Float"))),J(w("Math").$checked("log",w("Math")["$float!"](S)),w("Math").$checked("log",w("Math")["$float!"](F))))},-2),K(D,"$log10",function(S){return Z(w("String"),S)&&X.$raise(x(S,w("Float"))),w("Math").$checked("log10",w("Math")["$float!"](S))}),K(D,"$log2",function(S){return Z(w("String"),S)&&X.$raise(x(S,w("Float"))),w("Math").$checked("log2",w("Math")["$float!"](S))}),K(D,"$tan",function(S){return S=w("Math")["$float!"](S),W(S["$infinite?"]())?w(w("Float"),"NAN"):w("Math").$checked("tan",w("Math")["$float!"](S))})}("::",re)};Opal.modules["corelib/complex/base"]=function(i){var x=i.module,p=i.truthy,A=i.def,T=i.klass,ee=[],X=i.nil;return i.add_stubs("new,from_string"),function(R,W){var v=x(R,"Kernel"),K=[v].concat(W),ie=i.$r(K);return A(v,"$Complex",function(J,re){return re==null&&(re=X),p(re)?ie("Complex").$new(J,re):ie("Complex").$new(J,0)},-2)}("::",ee),function(R,W,v){var K=T(R,W,"String"),ie=[K].concat(v),Z=i.$r(ie);return A(K,"$to_c",function(){var re=this;return Z("Complex").$from_string(re)})}("::",null,ee)};Opal.modules["corelib/complex"]=function(i){var x=i.klass,p=i.truthy,A=i.eqeqeq,T=i.Kernel,ee=i.defs,X=i.rb_times,R=i.def,W=i.rb_plus,v=i.rb_minus,K=i.rb_divide,ie=i.eqeq,Z=i.to_ary,J=i.rb_gt,re=i.neqeq,V=i.return_val,w=i.const_set,h=i.alias,P=i.top,D=[],k=i.nil,B=i.$$$;return i.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),P.$require("corelib/numeric"),P.$require("corelib/complex/base"),function(y,S,F){var I=x(y,S,"Complex"),q=[I].concat(F),u=i.$r(q),d=I.$$prototype;return d.real=d.imag=k,ee(I,"$rect",function(g,_){var l=this;return _==null&&(_=0),A(B("Numeric"),g)&&p(g["$real?"]())&&A(B("Numeric"),_)&&p(_["$real?"]())||T.$raise(B("TypeError"),"not a real"),l.$new(g,_)},-2),ee(I,"$polar",function(g,_){var l=this;return _==null&&(_=0),A(B("Numeric"),g)&&p(g["$real?"]())&&A(B("Numeric"),_)&&p(_["$real?"]())||T.$raise(B("TypeError"),"not a real"),l.$new(X(g,B("Math").$cos(_)),X(g,B("Math").$sin(_)))},-2),I.$attr_reader("real","imag"),R(I,"$initialize",function(g,_){var l=this;return _==null&&(_=0),l.real=g,l.imag=_,l.$freeze()},-2),R(I,"$coerce",function(g){var _=this;return A(B("Complex"),g)?[g,_]:A(B("Numeric"),g)&&p(g["$real?"]())?[B("Complex").$new(g,0),_]:T.$raise(B("TypeError"),""+g.$class()+" can't be coerced into Complex")}),R(I,"$==",function(g){var _=this,l=k;return A(B("Complex"),g)?p(l=_.real["$=="](g.$real()))?_.imag["$=="](g.$imag()):l:A(B("Numeric"),g)&&p(g["$real?"]())?p(l=_.real["$=="](g))?_.imag["$=="](0):l:g["$=="](_)}),R(I,"$-@",function(){var g=this;return T.$Complex(g.real["$-@"](),g.imag["$-@"]())}),R(I,"$+",function(g){var _=this;return A(B("Complex"),g)?T.$Complex(W(_.real,g.$real()),W(_.imag,g.$imag())):A(B("Numeric"),g)&&p(g["$real?"]())?T.$Complex(W(_.real,g),_.imag):_.$__coerced__("+",g)}),R(I,"$-",function(g){var _=this;return A(B("Complex"),g)?T.$Complex(v(_.real,g.$real()),v(_.imag,g.$imag())):A(B("Numeric"),g)&&p(g["$real?"]())?T.$Complex(v(_.real,g),_.imag):_.$__coerced__("-",g)}),R(I,"$*",function(g){var _=this;return A(B("Complex"),g)?T.$Complex(v(X(_.real,g.$real()),X(_.imag,g.$imag())),W(X(_.real,g.$imag()),X(_.imag,g.$real()))):A(B("Numeric"),g)&&p(g["$real?"]())?T.$Complex(X(_.real,g),X(_.imag,g)):_.$__coerced__("*",g)}),R(I,"$/",function(g){var _=this;return A(B("Complex"),g)?A(B("Number"),_.real)&&p(_.real["$nan?"]())||A(B("Number"),_.imag)&&p(_.imag["$nan?"]())||A(B("Number"),g.$real())&&p(g.$real()["$nan?"]())||A(B("Number"),g.$imag())&&p(g.$imag()["$nan?"]())?B("Complex").$new(B(B("Float"),"NAN"),B(B("Float"),"NAN")):K(X(_,g.$conj()),g.$abs2()):A(B("Numeric"),g)&&p(g["$real?"]())?T.$Complex(_.real.$quo(g),_.imag.$quo(g)):_.$__coerced__("/",g)}),R(I,"$**",function(g){var _,l,E=this,U=k,c=k,s=k,n=k,t=k,e=k,r=k,$=k,a=k,o=k,m=k;if(ie(g,0))return B("Complex").$new(1,0);if(A(B("Complex"),g))return l=E.$polar(),_=Z(l),U=_[0]==null?k:_[0],c=_[1]==null?k:_[1],s=g.$real(),n=g.$imag(),t=B("Math").$exp(v(X(s,B("Math").$log(U)),X(n,c))),e=W(X(c,s),X(n,B("Math").$log(U))),B("Complex").$polar(t,e);if(A(B("Integer"),g))if(p(J(g,0))){for(r=E,$=r,a=v(g,1);re(a,0);){for(l=a.$divmod(2),_=Z(l),o=_[0]==null?k:_[0],m=_[1]==null?k:_[1];ie(m,0);)r=T.$Complex(v(X(r.$real(),r.$real()),X(r.$imag(),r.$imag())),X(X(2,r.$real()),r.$imag())),a=o,l=a.$divmod(2),_=Z(l),o=_[0]==null?k:_[0],m=_[1]==null?k:_[1];$=X($,r),a=v(a,1)}return $}else return K(B("Rational").$new(1,1),E)["$**"](g["$-@"]());else return A(B("Float"),g)||A(B("Rational"),g)?(l=E.$polar(),_=Z(l),U=_[0]==null?k:_[0],c=_[1]==null?k:_[1],B("Complex").$polar(U["$**"](g),X(c,g))):E.$__coerced__("**",g)}),R(I,"$abs",function(){var g=this;return B("Math").$hypot(g.real,g.imag)}),R(I,"$abs2",function(){var g=this;return W(X(g.real,g.real),X(g.imag,g.imag))}),R(I,"$angle",function(){var g=this;return B("Math").$atan2(g.imag,g.real)}),R(I,"$conj",function(){var g=this;return T.$Complex(g.real,g.imag["$-@"]())}),R(I,"$denominator",function(){var g=this;return g.real.$denominator().$lcm(g.imag.$denominator())}),R(I,"$eql?",function(g){var _=this,l=k,E=k;return p(l=p(E=u("Complex")["$==="](g))?_.real.$class()["$=="](_.imag.$class()):E)?_["$=="](g):l}),R(I,"$fdiv",function(g){var _=this;return A(B("Numeric"),g)||T.$raise(B("TypeError"),""+g.$class()+" can't be coerced into Complex"),K(_,g)}),R(I,"$finite?",function(){var g=this,_=k;return p(_=g.real["$finite?"]())?g.imag["$finite?"]():_}),R(I,"$hash",function(){var g=this;return[B("Complex"),g.real,g.imag].$hash()}),R(I,"$infinite?",function(){var g=this,_=k;return p(_=g.real["$infinite?"]())?_:g.imag["$infinite?"]()}),R(I,"$inspect",function(){var g=this;return"("+g+")"}),R(I,"$numerator",function(){var g=this,_=k;return _=g.$denominator(),T.$Complex(X(g.real.$numerator(),K(_,g.real.$denominator())),X(g.imag.$numerator(),K(_,g.imag.$denominator())))}),R(I,"$polar",function(){var g=this;return[g.$abs(),g.$arg()]}),R(I,"$rationalize",function(g){var _=this;return arguments.length>1&&T.$raise(B("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),re(_.imag,0)&&T.$raise(B("RangeError"),"can't convert "+_+" into Rational"),_.$real().$rationalize(g)},-1),R(I,"$real?",V(!1)),R(I,"$rect",function(){var g=this;return[g.real,g.imag]}),R(I,"$to_f",function(){var g=this;return ie(g.imag,0)||T.$raise(B("RangeError"),"can't convert "+g+" into Float"),g.real.$to_f()}),R(I,"$to_i",function(){var g=this;return ie(g.imag,0)||T.$raise(B("RangeError"),"can't convert "+g+" into Integer"),g.real.$to_i()}),R(I,"$to_r",function(){var g=this;return ie(g.imag,0)||T.$raise(B("RangeError"),"can't convert "+g+" into Rational"),g.real.$to_r()}),R(I,"$to_s",function(){var g=this,_=k;return _=g.real.$inspect(),_=W(_,A(B("Number"),g.imag)&&p(g.imag["$nan?"]())||p(g.imag["$positive?"]())||p(g.imag["$zero?"]())?"+":"-"),_=W(_,g.imag.$abs().$inspect()),A(B("Number"),g.imag)&&(p(g.imag["$nan?"]())||p(g.imag["$infinite?"]()))&&(_=W(_,"*")),W(_,"i")}),w(q[0],"I",I.$new(0,1)),ee(I,"$from_string",function(g){var _=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;g.match(_);var l,E;function U(){return _.test(g)}function c(){var n=g.match(_),t=n[0];return g=g.slice(t.length),t.replace(/_/g,"")}function s(){if(U()){var n=parseFloat(c());if(g[0]==="/")if(g=g.slice(1),U()){var t=parseFloat(c());return T.$Rational(n,t)}else return g="/"+g,n;else return n}else return null}return l=s(),l?(E=s(),E?T.$Complex(l,E):g[0]==="i"?T.$Complex(0,l):T.$Complex(l,0)):g[0]==="i"?T.$Complex(0,1):g[0]==="-"&&g[1]==="i"?T.$Complex(0,-1):g[0]==="+"&&g[1]==="i"?T.$Complex(0,1):T.$Complex(0,0)}),function(N,g){return h(N,"rectangular","rect")}(i.get_singleton_class(I)),h(I,"arg","angle"),h(I,"conjugate","conj"),h(I,"divide","/"),h(I,"imaginary","imag"),h(I,"magnitude","abs"),h(I,"phase","arg"),h(I,"quo","/"),h(I,"rectangular","rect"),i.udef(I,"$negative?"),i.udef(I,"$positive?"),i.udef(I,"$step"),k}("::",B("Numeric"),D)};Opal.modules["corelib/rational/base"]=function(i){var x=i.module,p=i.def,A=i.klass;i.nil;var T=i.$$$;return i.add_stubs("convert,from_string"),function(ee){var X=x(ee,"Kernel");return p(X,"$Rational",function(W,v){return v==null&&(v=1),T("Rational").$convert(W,v)},-2)}("::"),function(ee,X){var R=A(ee,X,"String");return p(R,"$to_r",function(){var v=this;return T("Rational").$from_string(v)})}("::",null)};Opal.modules["corelib/rational"]=function(i){var x=i.klass,p=i.eqeq,A=i.Kernel,T=i.truthy,ee=i.rb_lt,X=i.rb_divide,R=i.defs,W=i.eqeqeq,v=i.not,K=i.Opal,ie=i.def,Z=i.return_ivar,J=i.rb_minus,re=i.rb_times,V=i.rb_plus,w=i.rb_gt,h=i.rb_le,P=i.return_self,D=i.alias,k=i.top,B=i.nil,y=i.$$$;return i.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),k.$require("corelib/numeric"),k.$require("corelib/rational/base"),function(S,F){var I=x(S,F,"Rational"),q=I.$$prototype;return q.num=q.den=B,R(I,"$reduce",function(d,N){var g=this,_=B;if(d=d.$to_i(),N=N.$to_i(),p(N,0))A.$raise(y("ZeroDivisionError"),"divided by 0");else if(T(ee(N,0)))d=d["$-@"](),N=N["$-@"]();else if(p(N,1))return g.$new(d,N);return _=d.$gcd(N),g.$new(X(d,_),X(N,_))}),R(I,"$convert",function(d,N){var g=this;return(T(d["$nil?"]())||T(N["$nil?"]()))&&A.$raise(y("TypeError"),"cannot convert nil into Rational"),W(y("Integer"),d)&&W(y("Integer"),N)?g.$reduce(d,N):((W(y("Float"),d)||W(y("String"),d)||W(y("Complex"),d))&&(d=d.$to_r()),(W(y("Float"),N)||W(y("String"),N)||W(y("Complex"),N))&&(N=N.$to_r()),T(N["$equal?"](1))&&v(y("Integer")["$==="](d))?K["$coerce_to!"](d,y("Rational"),"to_r"):W(y("Numeric"),d)&&W(y("Numeric"),N)?X(d,N):g.$reduce(d,N))}),ie(I,"$initialize",function(d,N){var g=this;return g.num=d,g.den=N,g.$freeze()}),ie(I,"$numerator",Z("num")),ie(I,"$denominator",Z("den")),ie(I,"$coerce",function(d){var N=this,g=B;return W(y("Rational"),g=d)?[d,N]:W(y("Integer"),g)?[d.$to_r(),N]:W(y("Float"),g)?[d,N.$to_f()]:B}),ie(I,"$==",function(d){var N=this,g=B,_=B;return W(y("Rational"),g=d)?T(_=N.num["$=="](d.$numerator()))?N.den["$=="](d.$denominator()):_:W(y("Integer"),g)?T(_=N.num["$=="](d))?N.den["$=="](1):_:W(y("Float"),g)?N.$to_f()["$=="](d):d["$=="](N)}),ie(I,"$<=>",function(d){var N=this,g=B;return W(y("Rational"),g=d)?J(re(N.num,d.$denominator()),re(N.den,d.$numerator()))["$<=>"](0):W(y("Integer"),g)?J(N.num,re(N.den,d))["$<=>"](0):W(y("Float"),g)?N.$to_f()["$<=>"](d):N.$__coerced__("<=>",d)}),ie(I,"$+",function(d){var N=this,g=B,_=B,l=B;return W(y("Rational"),g=d)?(_=V(re(N.num,d.$denominator()),re(N.den,d.$numerator())),l=re(N.den,d.$denominator()),A.$Rational(_,l)):W(y("Integer"),g)?A.$Rational(V(N.num,re(d,N.den)),N.den):W(y("Float"),g)?V(N.$to_f(),d):N.$__coerced__("+",d)}),ie(I,"$-",function(d){var N=this,g=B,_=B,l=B;return W(y("Rational"),g=d)?(_=J(re(N.num,d.$denominator()),re(N.den,d.$numerator())),l=re(N.den,d.$denominator()),A.$Rational(_,l)):W(y("Integer"),g)?A.$Rational(J(N.num,re(d,N.den)),N.den):W(y("Float"),g)?J(N.$to_f(),d):N.$__coerced__("-",d)}),ie(I,"$*",function(d){var N=this,g=B,_=B,l=B;return W(y("Rational"),g=d)?(_=re(N.num,d.$numerator()),l=re(N.den,d.$denominator()),A.$Rational(_,l)):W(y("Integer"),g)?A.$Rational(re(N.num,d),N.den):W(y("Float"),g)?re(N.$to_f(),d):N.$__coerced__("*",d)}),ie(I,"$/",function(d){var N=this,g=B,_=B,l=B;return W(y("Rational"),g=d)?(_=re(N.num,d.$denominator()),l=re(N.den,d.$numerator()),A.$Rational(_,l)):W(y("Integer"),g)?p(d,0)?X(N.$to_f(),0):A.$Rational(N.num,re(N.den,d)):W(y("Float"),g)?X(N.$to_f(),d):N.$__coerced__("/",d)}),ie(I,"$**",function(d){var N=this,g=B;return W(y("Integer"),g=d)?p(N,0)&&T(ee(d,0))?y(y("Float"),"INFINITY"):T(w(d,0))?A.$Rational(N.num["$**"](d),N.den["$**"](d)):T(ee(d,0))?A.$Rational(N.den["$**"](d["$-@"]()),N.num["$**"](d["$-@"]())):A.$Rational(1,1):W(y("Float"),g)?N.$to_f()["$**"](d):W(y("Rational"),g)?p(d,0)?A.$Rational(1,1):p(d.$denominator(),1)?T(ee(d,0))?A.$Rational(N.den["$**"](d.$numerator().$abs()),N.num["$**"](d.$numerator().$abs())):A.$Rational(N.num["$**"](d.$numerator()),N.den["$**"](d.$numerator())):p(N,0)&&T(ee(d,0))?A.$raise(y("ZeroDivisionError"),"divided by 0"):N.$to_f()["$**"](d):N.$__coerced__("**",d)}),ie(I,"$abs",function(){var d=this;return A.$Rational(d.num.$abs(),d.den.$abs())}),ie(I,"$ceil",function(d){var N=this;return d==null&&(d=0),p(d,0)?X(N.num["$-@"](),N.den)["$-@"]().$ceil():N.$with_precision("ceil",d)},-1),ie(I,"$floor",function(d){var N=this;return d==null&&(d=0),p(d,0)?X(N.num["$-@"](),N.den)["$-@"]().$floor():N.$with_precision("floor",d)},-1),ie(I,"$hash",function(){var d=this;return[y("Rational"),d.num,d.den].$hash()}),ie(I,"$inspect",function(){var d=this;return"("+d+")"}),ie(I,"$rationalize",function(d){var N=this;if(arguments.length>1&&A.$raise(y("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d==null)return N;for(var g=d.$abs(),_=J(N,g),l=V(N,g),E=0,U=1,c=1,s=0,n,t,e,r,$;e=_.$ceil(),!h(e,l);)r=e-1,n=r*U+E,t=r*s+c,$=X(1,J(l,r)),l=X(1,J(_,r)),_=$,E=U,c=s,U=n,s=t;return A.$Rational(e*U+E,e*s+c)},-1),ie(I,"$round",function(d){var N=this,g=B,_=B,l=B;return d==null&&(d=0),p(d,0)?p(N.num,0)?0:p(N.den,1)?N.num:(g=V(re(N.num.$abs(),2),N.den),_=re(N.den,2),l=X(g,_).$truncate(),T(ee(N.num,0))?l["$-@"]():l):N.$with_precision("round",d)},-1),ie(I,"$to_f",function(){var d=this;return X(d.num,d.den)}),ie(I,"$to_i",function(){var d=this;return d.$truncate()}),ie(I,"$to_r",P),ie(I,"$to_s",function(){var d=this;return""+d.num+"/"+d.den}),ie(I,"$truncate",function(d){var N=this;return d==null&&(d=0),p(d,0)?T(ee(N.num,0))?N.$ceil():N.$floor():N.$with_precision("truncate",d)},-1),ie(I,"$with_precision",function(d,N){var g=this,_=B,l=B;return W(y("Integer"),N)||A.$raise(y("TypeError"),"not an Integer"),_=10["$**"](N),l=re(g,_),T(ee(N,1))?X(l.$send(d),_).$to_i():A.$Rational(l.$send(d),_)}),R(I,"$from_string",function(d){var N=d.trimLeft(),g=/^[+-]?[\d_]+(\.[\d_]+)?/;N.match(g);var _,l;function E(){return g.test(N)}function U(){var c=N.match(g),s=c[0];return N=N.slice(s.length),s.replace(/_/g,"")}return E()?(_=parseFloat(U()),N[0]==="/"?(N=N.slice(1),E()?(l=parseFloat(U()),A.$Rational(_,l)):A.$Rational(_,1)):A.$Rational(_,1)):A.$Rational(0,1)}),D(I,"divide","/"),D(I,"quo","/")}("::",y("Numeric"))};Opal.modules["corelib/time"]=function(i){var x=i.slice,p=i.deny_frozen_access,A=i.klass,T=i.Kernel,ee=i.Opal,X=i.defs,R=i.eqeqeq,W=i.def,v=i.truthy,K=i.rb_gt,ie=i.rb_lt,Z=i.send,J=i.rb_plus,re=i.rb_divide,V=i.rb_minus,w=i.range,h=i.neqeq,P=i.rb_le,D=i.eqeq,k=i.alias,B=i.top,y=[],S=i.nil,F=i.$$$;return i.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),B.$require("corelib/comparable"),function(I,q,u){var d=A(I,q,"Time"),N=[d].concat(u),g=i.$r(N);d.$include(F("Comparable"));var _=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],U=["January","February","March","April","May","June","July","August","September","October","November","December"];X(d,"$at",function(n,t){var e;return F("Time")["$==="](n)?(t!==void 0&&T.$raise(F("TypeError"),"can't convert Time into an exact number"),e=new Date(n.getTime()),e.timezone=n.timezone,e):(n.$$is_number||(n=ee["$coerce_to!"](n,F("Integer"),"to_int")),t===void 0?new Date(n*1e3):(t.$$is_number||(t=ee["$coerce_to!"](t,F("Integer"),"to_int")),new Date(n*1e3+t/1e3)))},-2);function c(s,n,t,e,r,$){if(s.$$is_string?s=parseInt(s,10):s=ee["$coerce_to!"](s,F("Integer"),"to_int"),n===S)n=1;else if(!n.$$is_number)if(n["$respond_to?"]("to_str"))switch(n=n.$to_str(),n.toLowerCase()){case"jan":n=1;break;case"feb":n=2;break;case"mar":n=3;break;case"apr":n=4;break;case"may":n=5;break;case"jun":n=6;break;case"jul":n=7;break;case"aug":n=8;break;case"sep":n=9;break;case"oct":n=10;break;case"nov":n=11;break;case"dec":n=12;break;default:n=n.$to_i()}else n=ee["$coerce_to!"](n,F("Integer"),"to_int");return(n<1||n>12)&&T.$raise(F("ArgumentError"),"month out of range: "+n),n=n-1,t===S?t=1:t.$$is_string?t=parseInt(t,10):t=ee["$coerce_to!"](t,F("Integer"),"to_int"),(t<1||t>31)&&T.$raise(F("ArgumentError"),"day out of range: "+t),e===S?e=0:e.$$is_string?e=parseInt(e,10):e=ee["$coerce_to!"](e,F("Integer"),"to_int"),(e<0||e>24)&&T.$raise(F("ArgumentError"),"hour out of range: "+e),r===S?r=0:r.$$is_string?r=parseInt(r,10):r=ee["$coerce_to!"](r,F("Integer"),"to_int"),(r<0||r>59)&&T.$raise(F("ArgumentError"),"min out of range: "+r),$===S?$=0:$.$$is_number||($.$$is_string?$=parseInt($,10):$=ee["$coerce_to!"]($,F("Integer"),"to_int")),($<0||$>60)&&T.$raise(F("ArgumentError"),"sec out of range: "+$),[s,n,t,e,r,$]}return X(d,"$new",function(n,t,e,r,$,a,o){var m=this;t==null&&(t=S),e==null&&(e=S),r==null&&(r=S),$==null&&($=S),a==null&&(a=S),o==null&&(o=S);var z,C,M,G;return n===void 0?new Date:(z=c(n,t,e,r,$,a),n=z[0],t=z[1],e=z[2],r=z[3],$=z[4],a=z[5],o===S?(C=new Date(n,t,e,r,$,0,a*1e3),n<100&&C.setFullYear(n),C):(M=m.$_parse_offset(o),G=new Date(Date.UTC(n,t,e,r,$,0,a*1e3)),n<100&&G.setUTCFullYear(n),C=new Date(G.getTime()-M*36e5),C.timezone=M,C))},-1),X(d,"$_parse_offset",function(n){var t;if(n.$$is_string)if(n=="UTC")t=0;else if(/^[+-]\d\d:[0-5]\d$/.test(n)){var e,r,$;e=n[0],r=+(n[1]+n[2]),$=+(n[4]+n[5]),t=(e=="-"?-1:1)*(r+$/60)}else T.$raise(F("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+n);else n.$$is_number?t=n/3600:T.$raise(F("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return t}),X(d,"$local",function(n,t,e,r,$,a,o,m,z,C){t==null&&(t=S),e==null&&(e=S),r==null&&(r=S),$==null&&($=S),a==null&&(a=S),o==null&&(o=S),m==null&&(m=S),z==null&&(z=S),C==null&&(C=S);var M,G;return arguments.length===10&&(M=x(arguments),n=M[5],t=M[4],e=M[3],r=M[2],$=M[1],a=M[0]),M=c(n,t,e,r,$,a),n=M[0],t=M[1],e=M[2],r=M[3],$=M[4],a=M[5],G=new Date(n,t,e,r,$,0,a*1e3),n<100&&G.setFullYear(n),G},-2),X(d,"$gm",function(n,t,e,r,$,a,o,m,z,C){t==null&&(t=S),e==null&&(e=S),r==null&&(r=S),$==null&&($=S),a==null&&(a=S),o==null&&(o=S),m==null&&(m=S),z==null&&(z=S),C==null&&(C=S);var M,G;return arguments.length===10&&(M=x(arguments),n=M[5],t=M[4],e=M[3],r=M[2],$=M[1],a=M[0]),M=c(n,t,e,r,$,a),n=M[0],t=M[1],e=M[2],r=M[3],$=M[4],a=M[5],G=new Date(Date.UTC(n,t,e,r,$,0,a*1e3)),n<100&&G.setUTCFullYear(n),G.timezone=0,G},-2),X(d,"$now",function(){var n=this;return n.$new()}),W(d,"$+",function(n){var t=this;R(F("Time"),n)&&T.$raise(F("TypeError"),"time + time?"),n.$$is_number||(n=ee["$coerce_to!"](n,F("Integer"),"to_int"));var e=new Date(t.getTime()+n*1e3);return e.timezone=t.timezone,e}),W(d,"$-",function(n){var t=this;if(R(F("Time"),n))return(t.getTime()-n.getTime())/1e3;n.$$is_number||(n=ee["$coerce_to!"](n,F("Integer"),"to_int"));var e=new Date(t.getTime()-n*1e3);return e.timezone=t.timezone,e}),W(d,"$<=>",function(n){var t=this,e=S;return R(F("Time"),n)?t.$to_f()["$<=>"](n.$to_f()):(e=n["$<=>"](t),v(e["$nil?"]())?S:v(K(e,0))?-1:v(ie(e,0))?1:0)}),W(d,"$==",function(n){var t=this,e=S;return v(e=F("Time")["$==="](n))?t.$to_f()===n.$to_f():e}),W(d,"$asctime",function(){var n=this;return n.$strftime("%a %b %e %H:%M:%S %Y")}),Z([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function s(n,t,e,r){var $=s.$$s==null?this:s.$$s;return n==null&&(n=S),t==null&&(t=S),e==null&&(e=S),r==null&&(r=0),Z($,"define_method",[n],function a(){var o=a.$$s==null?this:a.$$s;return r+(o.timezone!=null?new Date(o.getTime()+o.timezone*36e5)[e]():o[t]())},{$$s:$})},{$$arity:-4,$$s:d}),W(d,"$yday",function(){var n=this,t=S,e=S,r=S;return t=g("Time").$new(n.$year()).$to_i(),e=g("Time").$new(n.$year(),n.$month(),n.$day()).$to_i(),r=86400,J(re(V(e,t),r).$round(),1)}),W(d,"$isdst",function(){var n=this,t=new Date(n.getFullYear(),0,1),e=new Date(n.getFullYear(),6,1);return n.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())}),W(d,"$dup",function(){var n=this,t=S;return t=new Date(n.getTime()),t.$copy_instance_variables(n),t.$initialize_dup(n),t}),W(d,"$eql?",function(n){var t=this,e=S;return v(e=n["$is_a?"](F("Time")))?t["$<=>"](n)["$zero?"]():e}),Z([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function s(n,t){var e=s.$$s==null?this:s.$$s;return n==null&&(n=S),t==null&&(t=S),Z(e,"define_method",[n],function r(){var $=r.$$s==null?this:r.$$s;return $.$wday()===t},{$$s:e})},{$$s:d}),W(d,"$hash",function(){var n=this;return[F("Time"),n.getTime()].$hash()}),W(d,"$inspect",function(){var n=this;return v(n["$utc?"]())?n.$strftime("%Y-%m-%d %H:%M:%S UTC"):n.$strftime("%Y-%m-%d %H:%M:%S %z")}),W(d,"$succ",function(){var n=this,t=new Date(n.getTime()+1e3);return t.timezone=n.timezone,t}),W(d,"$usec",function(){var n=this;return n.getMilliseconds()*1e3}),W(d,"$zone",function(){var n=this;if(n.timezone===0)return"UTC";if(n.timezone!=null)return S;var t=n.toString(),e;return t.indexOf("(")==-1?e=t.match(/[A-Z]{3,4}/)[0]:e=t.match(/\((.+)\)(?:\s|$)/)[1],e=="GMT"&&/(GMT\W*\d{4})/.test(t)?RegExp.$1:e}),W(d,"$getgm",function(){var n=this,t=new Date(n.getTime());return t.timezone=0,t}),W(d,"$gmtime",function(){var n=this;return n.timezone!==0&&(p(n),n.timezone=0),n}),W(d,"$gmt?",function(){var n=this;return n.timezone===0}),W(d,"$gmt_offset",function(){var n=this;return n.timezone!=null?n.timezone*60:-n.getTimezoneOffset()*60}),W(d,"$strftime",function(n){var t=this;return n.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,r,$,a,o){var m="",z,C,M,G=r.indexOf("0")!==-1,O=r.indexOf("-")===-1,ae=r.indexOf("_")!==-1,le=r.indexOf("^")!==-1,ce=r.indexOf("#")!==-1,de=(r.match(":")||[]).length;switch($=parseInt($,10),G&&ae&&(r.indexOf("0")<r.indexOf("_")?G=!1:ae=!1),o){case"Y":m+=t.$year();break;case"C":G=!ae,m+=Math.round(t.$year()/100);break;case"y":G=!ae,m+=t.$year()%100;break;case"m":G=!ae,m+=t.$mon();break;case"B":m+=U[t.$mon()-1];break;case"b":case"h":ae=!G,m+=E[t.$mon()-1];break;case"d":G=!ae,m+=t.$day();break;case"e":ae=!G,m+=t.$day();break;case"j":G=!ae,$=isNaN($)?3:$,m+=t.$yday();break;case"H":G=!ae,m+=t.$hour();break;case"k":ae=!G,m+=t.$hour();break;case"I":G=!ae,m+=t.$hour()%12||12;break;case"l":ae=!G,m+=t.$hour()%12||12;break;case"P":m+=t.$hour()>=12?"pm":"am";break;case"p":m+=t.$hour()>=12?"PM":"AM";break;case"M":G=!ae,m+=t.$min();break;case"S":G=!ae,m+=t.$sec();break;case"L":G=!ae,$=isNaN($)?3:$,m+=t.getMilliseconds();break;case"N":$=isNaN($)?9:$,m+=t.getMilliseconds().toString().$rjust(3,"0"),m=m.$ljust($,"0");break;case"z":var he=t.timezone==null?t.getTimezoneOffset():-t.timezone*60,me=Math.floor(Math.abs(he)/60),ve=Math.abs(he)%60;m+=he<0?"+":"-",m+=me<10?"0":"",m+=me,de>0&&(m+=":"),m+=ve<10?"0":"",m+=ve,de>1&&(m+=":00");break;case"Z":m+=t.$zone();break;case"A":m+=_[t.$wday()];break;case"a":m+=l[t.$wday()];break;case"u":m+=t.$wday()+1;break;case"w":m+=t.$wday();break;case"V":m+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":m+=t.$cweek_cyear()["$[]"](1);break;case"g":m+=t.$cweek_cyear()["$[]"](1)["$[]"](w(-2,-1,!1));break;case"s":m+=t.$to_i();break;case"n":m+=`
`;break;case"t":m+="	";break;case"%":m+="%";break;case"c":m+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":m+=t.$strftime("%m/%d/%y");break;case"F":m+=t.$strftime("%Y-%m-%d");break;case"v":m+=t.$strftime("%e-%^b-%4Y");break;case"r":m+=t.$strftime("%I:%M:%S %p");break;case"R":m+=t.$strftime("%H:%M");break;case"T":case"X":m+=t.$strftime("%H:%M:%S");break;case"J":if(z=t.$to_date().$jd(),z<2405160){m+=t.$strftime("%Y-%m-%d");break}else z<2419614?(C="M",M=1867):z<2424875?(C="T",M=1911):z<2447535?(C="S",M=1925):z<2458605?(C="H",M=1988):(C="R",M=2018);m+=t.$format("%c%02d",C,V(t.$year(),M)),m+=t.$strftime("-%m-%d");break;default:return e}return le&&(m=m.toUpperCase()),ce&&(m=m.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),O&&(G||ae)&&(m=m.$rjust(isNaN($)?2:$,ae?" ":"0")),m})}),W(d,"$to_a",function(){var n=this;return[n.$sec(),n.$min(),n.$hour(),n.$day(),n.$month(),n.$year(),n.$wday(),n.$yday(),n.$isdst(),n.$zone()]}),W(d,"$to_f",function(){var n=this;return n.getTime()/1e3}),W(d,"$to_i",function(){var n=this;return parseInt(n.getTime()/1e3,10)}),W(d,"$cweek_cyear",function(){var n=this,t=S,e=S,r=S,$=S,a=S,o=S,m=S;return t=F("Time").$new(n.$year(),1,1),e=t.$wday(),r=n.$year(),v(P(e,4))&&h(e,0)?$=V(e,1):($=V(V(e,7),1),D($,-8)&&($=-1)),a=re(J(n.$yday(),$),7).$ceil(),v(P(a,0))?F("Time").$new(V(n.$year(),1),12,31).$cweek_cyear():(D(a,53)&&(o=F("Time").$new(n.$year(),12,31),m=o.$wday(),v(P(m,3))&&h(m,0)&&(a=1,r=J(r,1))),[a,r])}),function(s,n){return k(s,"mktime","local"),k(s,"utc","gm")}(i.get_singleton_class(d)),k(d,"ctime","asctime"),k(d,"dst?","isdst"),k(d,"getutc","getgm"),k(d,"gmtoff","gmt_offset"),k(d,"mday","day"),k(d,"month","mon"),k(d,"to_s","inspect"),k(d,"tv_sec","to_i"),k(d,"tv_usec","usec"),k(d,"utc","gmtime"),k(d,"utc?","gmt?"),k(d,"utc_offset","gmt_offset")}("::",Date,y)};Opal.modules["corelib/struct"]=function(i){var x=i.klass,p=i.slice,A=i.extract_kwargs,T=i.ensure_kwargs,ee=i.hash_get,X=i.truthy,R=i.neqeq,W=i.eqeq,v=i.Opal,K=i.send,ie=i.Class,Z=i.to_a,J=i.def,re=i.defs,V=i.Kernel,w=i.rb_gt,h=i.rb_minus,P=i.eqeqeq,D=i.rb_lt,k=i.rb_ge,B=i.rb_plus,y=i.alias,S=i.top,F=[],I=i.nil,q=i.$$$;return i.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),S.$require("corelib/enumerable"),function(u,d,N){var g=x(u,d,"Struct"),_=[g].concat(N),l=i.$r(_);g.$include(q("Enumerable")),re(g,"$new",function U(c,s,n){var t=U.$$p||I,e,r,$,a,o=this,m=I;if(U.$$p=null,e=p(arguments,1),r=A(e),r=T(r),$=e,a=ee(r,"keyword_init"),a==null&&(a=!1),X(c))if(W(c.$class(),q("String"))&&R(c["$[]"](0).$upcase(),c["$[]"](0)))$.$unshift(c),c=I;else try{c=v["$const_name!"](c)}catch(z){if(i.rescue(z,[q("TypeError"),q("NameError")]))try{$.$unshift(c),c=I}finally{i.pop_exception(z)}else throw z}return K($,"map",[],function(C){return C==null&&(C=I),v["$coerce_to!"](C,q("String"),"to_str")}),m=K(ie,"new",[o],function z(){var C=z.$$s==null?this:z.$$s;return K($,"each",[],function M(G){var O=M.$$s==null?this:M.$$s;return G==null&&(G=I),O.$define_struct_attribute(G)},{$$s:C}),function(M,G){return J(M,"$new",function(ae){var le,ce,de=this,he=I;return le=p(arguments),ce=le,he=de.$allocate(),he.$$data={},K(he,"initialize",Z(ce)),he},-1),M.$alias_method("[]","new")}(i.get_singleton_class(C))},{$$s:o}),X(t)&&K(m,"module_eval",[],t.$to_proc()),m.$$keyword_init=a,X(c)&&q("Struct").$const_set(c,m),m},-2),re(g,"$define_struct_attribute",function(c){var s=this;return W(s,q("Struct"))&&V.$raise(q("ArgumentError"),"you cannot define attributes to the Struct class"),s.$members()["$<<"](c),K(s,"define_method",[c],function n(){var t=n.$$s==null?this:n.$$s;return t.$$data[c]},{$$s:s}),K(s,"define_method",[""+c+"="],function n(t){var e=n.$$s==null?this:n.$$s;return t==null&&(t=I),e.$$data[c]=t},{$$s:s})}),re(g,"$members",function(){var c=this,s=I;return c.members==null&&(c.members=I),W(c,q("Struct"))&&V.$raise(q("ArgumentError"),"the Struct class has no members"),c.members=X(s=c.members)?s:[]}),re(g,"$inherited",function(c){var s=this,n=I;return s.members==null&&(s.members=I),n=s.members,K(c,"instance_eval",[],function t(){var e=t.$$s==null?this:t.$$s;return e.members=n},{$$s:s})}),J(g,"$initialize",function(c){var s,n,t=this,e=I,r=I,$=I;return s=p(arguments),n=s,X(t.$class().$$keyword_init)?(e=X(r=n.$last())?r:new Map,(X(w(n.$length(),1))||X(n.length===1&&!e.$$is_hash))&&V.$raise(q("ArgumentError"),"wrong number of arguments (given "+n.$length()+", expected 0)"),$=h(e.$keys(),t.$class().$members()),X($["$any?"]())&&V.$raise(q("ArgumentError"),"unknown keywords: "+$.$join(", ")),K(t.$class().$members(),"each",[],function a(o){var m,z=a.$$s==null?this:a.$$s;return o==null&&(o=I),m=[o,e["$[]"](o)],K(z,"[]=",m),m[m.length-1]},{$$s:t})):(X(w(n.$length(),t.$class().$members().$length()))&&V.$raise(q("ArgumentError"),"struct size differs"),K(t.$class().$members(),"each_with_index",[],function a(o,m){var z,C=a.$$s==null?this:a.$$s;return o==null&&(o=I),m==null&&(m=I),z=[o,n["$[]"](m)],K(C,"[]=",z),z[z.length-1]},{$$s:t}))},-1),J(g,"$initialize_copy",function(c){var s=this;s.$$data={};var n=Object.keys(c.$$data),t,e,r;for(t=0,e=n.length;t<e;t++)r=n[t],s.$$data[r]=c.$$data[r]}),re(g,"$keyword_init?",function(){var c=this;return c.$$keyword_init}),J(g,"$members",function(){var c=this;return c.$class().$members()}),J(g,"$hash",function(){var c=this;return[c.$class(),c.$to_a()].$hash()}),J(g,"$[]",function(c){var s=this;return P(q("Integer"),c)?(X(D(c,s.$class().$members().$size()["$-@"]()))&&V.$raise(q("IndexError"),"offset "+c+" too small for struct(size:"+s.$class().$members().$size()+")"),X(k(c,s.$class().$members().$size()))&&V.$raise(q("IndexError"),"offset "+c+" too large for struct(size:"+s.$class().$members().$size()+")"),c=s.$class().$members()["$[]"](c)):P(q("String"),c)?s.$$data.hasOwnProperty(c)||V.$raise(q("NameError").$new("no member '"+c+"' in struct",c)):V.$raise(q("TypeError"),"no implicit conversion of "+c.$class()+" into Integer"),c=v["$coerce_to!"](c,q("String"),"to_str"),s.$$data[c]}),J(g,"$[]=",function(c,s){var n=this;return P(q("Integer"),c)?(X(D(c,n.$class().$members().$size()["$-@"]()))&&V.$raise(q("IndexError"),"offset "+c+" too small for struct(size:"+n.$class().$members().$size()+")"),X(k(c,n.$class().$members().$size()))&&V.$raise(q("IndexError"),"offset "+c+" too large for struct(size:"+n.$class().$members().$size()+")"),c=n.$class().$members()["$[]"](c)):P(q("String"),c)?X(n.$class().$members()["$include?"](c.$to_sym()))||V.$raise(q("NameError").$new("no member '"+c+"' in struct",c)):V.$raise(q("TypeError"),"no implicit conversion of "+c.$class()+" into Integer"),c=v["$coerce_to!"](c,q("String"),"to_str"),n.$$data[c]=s}),J(g,"$==",function(c){var s=this;if(!X(c["$instance_of?"](s.$class())))return!1;var n={},t={};function e(r,$){var a,o,m;n[r.$__id__()]=!0,t[$.$__id__()]=!0;for(a in r.$$data)if(o=r.$$data[a],m=$.$$data[a],q("Struct")["$==="](o)){if((!n.hasOwnProperty(o.$__id__())||!t.hasOwnProperty(m.$__id__()))&&!e(o,m))return!1}else if(!o["$=="](m))return!1;return!0}return e(s,c)}),J(g,"$eql?",function(c){var s=this;if(!X(c["$instance_of?"](s.$class())))return!1;var n={},t={};function e(r,$){var a,o,m;n[r.$__id__()]=!0,t[$.$__id__()]=!0;for(a in r.$$data)if(o=r.$$data[a],m=$.$$data[a],q("Struct")["$==="](o)){if((!n.hasOwnProperty(o.$__id__())||!t.hasOwnProperty(m.$__id__()))&&!e(o,m))return!1}else if(!o["$eql?"](m))return!1;return!0}return e(s,c)}),J(g,"$each",function U(){var c=U.$$p||I,s=this;return U.$$p=null,c===I?K(s,"enum_for",["each"],function n(){var t=n.$$s==null?this:n.$$s;return t.$size()},{$$s:s}):(K(s.$class().$members(),"each",[],function n(t){var e=n.$$s==null?this:n.$$s;return t==null&&(t=I),i.yield1(c,e["$[]"](t))},{$$s:s}),s)}),J(g,"$each_pair",function U(){var c=U.$$p||I,s=this;return U.$$p=null,c===I?K(s,"enum_for",["each_pair"],function n(){var t=n.$$s==null?this:n.$$s;return t.$size()},{$$s:s}):(K(s.$class().$members(),"each",[],function n(t){var e=n.$$s==null?this:n.$$s;return t==null&&(t=I),i.yield1(c,[t,e["$[]"](t)])},{$$s:s}),s)}),J(g,"$length",function(){var c=this;return c.$class().$members().$length()}),J(g,"$to_a",function(){var c=this;return K(c.$class().$members(),"map",[],function s(n){var t=s.$$s==null?this:s.$$s;return n==null&&(n=I),t["$[]"](n)},{$$s:c})});var E=[];return J(g,"$inspect",function(){var c=this,s=I,n=I;return function(){try{return s="#<struct ",X(E["$include?"](c.$__id__()))?B(s,":...>"):(E["$<<"](c.$__id__()),n=!0,P(q("Struct"),c)&&X(c.$class().$name())&&(s=B(s,""+c.$class()+" ")),s=B(s,K(c.$each_pair(),"map",[],function(e,r){return e==null&&(e=I),r==null&&(r=I),""+e+"="+l("Opal").$inspect(r)}).$join(", ")),s=B(s,">"),s)}finally{X(n)&&E.pop()}}()}),J(g,"$to_h",function U(c){var s=U.$$p||I,n,t,e=this;return U.$$p=null,n=p(arguments),t=n,s!==I?K(K(e,"map",[],s.$to_proc()),"to_h",Z(t)):K(e.$class().$members(),"each_with_object",[new Map],function r($,a){var o,m=r.$$s==null?this:r.$$s;return $==null&&($=I),a==null&&(a=I),o=[$,m["$[]"]($)],K(a,"[]=",o),o[o.length-1]},{$$s:e})},-1),J(g,"$values_at",function(c){var s,n,t=this;s=p(arguments),n=s,n=K(n,"map",[],function(o){return o==null&&(o=I),o.$$is_range?o.$to_a():o}).$flatten();for(var e=[],r=0,$=n.length;r<$;r++)n[r].$$is_number||V.$raise(q("TypeError"),"no implicit conversion of "+n[r].$class()+" into Integer"),e.push(t["$[]"](n[r]));return e},-1),J(g,"$dig",function(c,s){var n,t,e=this,r=I;return n=p(arguments,1),t=n,r=X(c.$$is_string&&e.$$data.hasOwnProperty(c))&&e.$$data[c]||I,r===I||t.length===0?r:(X(r["$respond_to?"]("dig"))||V.$raise(q("TypeError"),""+r.$class()+" does not have #dig method"),K(r,"dig",Z(t)))},-2),y(g,"size","length"),y(g,"to_s","inspect"),y(g,"values","to_a")}("::",null,F)};Opal.modules["corelib/set"]=function(i){var x=i.freeze,p=i.klass,A=i.slice,T=i.defs,ee=i.truthy,X=i.eqeqeq,R=i.Kernel,W=i.send,v=i.def,K=i.eqeq,ie=i.rb_lt,Z=i.rb_le,J=i.alias,re=[],V=i.nil,w=i.$$$;return i.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(h,P,D){var k=p(h,P,"Set"),B=[k].concat(D),y=i.$r(B),S=V,F=k.$$prototype;F.hash=V,k.$include(w("Enumerable")),T(k,"$[]",function(u){var d,N,g=this;return d=A(arguments),N=d,g.$new(N)},-1),v(k,"$initialize",function q(u){var d=q.$$p||V,N=this;return q.$$p=null,u==null&&(u=V),N.hash=new Map,ee(u["$nil?"]())?V:(X(w("Enumerable"),u)||R.$raise(w("ArgumentError"),"value must be enumerable"),ee(d)?W(u,"each",[],function g(_){var l=g.$$s==null?this:g.$$s;return _==null&&(_=V),l.$add(i.yield1(d,_))},{$$s:N}):N.$merge(u))},-1),v(k,"$dup",function(){var u=this,d=V;return d=u.$class().$new(),d.$merge(u)}),v(k,"$-",function(u){var d=this;return ee(u["$respond_to?"]("each"))||R.$raise(w("ArgumentError"),"value must be enumerable"),d.$dup().$subtract(u)}),v(k,"$inspect",function(){var u=this;return"#<Set: {"+u.$to_a().$join(",")+"}>"}),v(k,"$==",function(u){var d=this;return ee(d["$equal?"](u))?!0:ee(u["$instance_of?"](d.$class()))?d.hash["$=="](u.$instance_variable_get("@hash")):ee(u["$is_a?"](w("Set")))&&K(d.$size(),u.$size())?W(u,"all?",[],function N(g){var _=N.$$s==null?this:N.$$s;return _.hash==null&&(_.hash=V),g==null&&(g=V),_.hash["$include?"](g)},{$$s:d}):!1}),v(k,"$add",function(u){var d=this;return d.hash["$[]="](u,!0),d}),v(k,"$classify",function q(){var u=q.$$p||V,d=this,N=V;return q.$$p=null,u===V?d.$enum_for("classify"):(N=W(w("Hash"),"new",[],function g(_,l){var E,U=g.$$s==null?this:g.$$s;return _==null&&(_=V),l==null&&(l=V),E=[l,U.$class().$new()],W(_,"[]=",E),E[E.length-1]},{$$s:d}),W(d,"each",[],function(_){return _==null&&(_=V),N["$[]"](i.yield1(u,_)).$add(_)}),N)}),v(k,"$collect!",function q(){var u=q.$$p||V,d=this,N=V;return q.$$p=null,u===V?d.$enum_for("collect!"):(N=d.$class().$new(),W(d,"each",[],function(_){return _==null&&(_=V),N["$<<"](i.yield1(u,_))}),d.$replace(N))}),v(k,"$compare_by_identity",function(){var u=this;return ee(u.hash["$respond_to?"]("compare_by_identity"))?(u.hash.$compare_by_identity(),u):u.$raise(y("NotImplementedError"),""+u.$class().$name()+"#compare_by_identity is not implemented")}),v(k,"$compare_by_identity?",function(){var u=this,d=V;return ee(d=u.hash["$respond_to?"]("compare_by_identity?"))?u.hash["$compare_by_identity?"]():d}),v(k,"$delete",function(u){var d=this;return d.hash.$delete(u),d}),v(k,"$delete?",function(u){var d=this;return ee(d["$include?"](u))?(d.$delete(u),d):V}),v(k,"$delete_if",function q(){var u=q.$$p||V,d=this;return q.$$p=null,u===V?d.$enum_for("delete_if"):(W(W(d,"select",[],function(g){return g==null&&(g=V),i.yield1(u,g)}),"each",[],function N(g){var _=N.$$s==null?this:N.$$s;return _.hash==null&&(_.hash=V),g==null&&(g=V),_.hash.$delete(g)},{$$s:d}),d)}),v(k,"$freeze",function(){var u=this;return ee(u["$frozen?"]())?u:(u.hash.$freeze(),x(u))}),v(k,"$keep_if",function q(){var u=q.$$p||V,d=this;return q.$$p=null,u===V?d.$enum_for("keep_if"):(W(W(d,"reject",[],function(g){return g==null&&(g=V),i.yield1(u,g)}),"each",[],function N(g){var _=N.$$s==null?this:N.$$s;return _.hash==null&&(_.hash=V),g==null&&(g=V),_.hash.$delete(g)},{$$s:d}),d)}),v(k,"$reject!",function q(){var u=q.$$p||V,d=this,N=V;return q.$$p=null,u===V?d.$enum_for("reject!"):(N=d.$size(),W(d,"delete_if",[],u.$to_proc()),K(d.$size(),N)?V:d)}),v(k,"$select!",function q(){var u=q.$$p||V,d=this,N=V;return q.$$p=null,u===V?d.$enum_for("select!"):(N=d.$size(),W(d,"keep_if",[],u.$to_proc()),K(d.$size(),N)?V:d)}),v(k,"$add?",function(u){var d=this;return ee(d["$include?"](u))?V:d.$add(u)}),v(k,"$each",function q(){var u=q.$$p||V,d=this;return q.$$p=null,u===V?d.$enum_for("each"):(W(d.hash,"each_key",[],u.$to_proc()),d)}),v(k,"$empty?",function(){var u=this;return u.hash["$empty?"]()}),v(k,"$eql?",function(u){var d=this;return d.hash["$eql?"](W(u,"instance_eval",[],function N(){var g=N.$$s==null?this:N.$$s;return g.hash==null&&(g.hash=V),g.hash},{$$s:d}))}),v(k,"$clear",function(){var u=this;return u.hash.$clear(),u}),v(k,"$include?",function(u){var d=this;return d.hash["$include?"](u)}),v(k,"$merge",function(u){var d=this;return W(u,"each",[],function N(g){var _=N.$$s==null?this:N.$$s;return g==null&&(g=V),_.$add(g)},{$$s:d}),d}),v(k,"$replace",function(u){var d=this;return d.$clear(),d.$merge(u),d}),v(k,"$size",function(){var u=this;return u.hash.$size()}),v(k,"$subtract",function(u){var d=this;return W(u,"each",[],function N(g){var _=N.$$s==null?this:N.$$s;return g==null&&(g=V),_.$delete(g)},{$$s:d}),d}),v(k,"$|",function(u){var d=this;return ee(u["$respond_to?"]("each"))||R.$raise(w("ArgumentError"),"value must be enumerable"),d.$dup().$merge(u)});function I(q){ee(S=q["$is_a?"](w("Set")))||R.$raise(w("ArgumentError"),"value must be a set")}return v(k,"$superset?",function(u){var d=this;return I(u),ee(ie(d.$size(),u.$size()))?!1:W(u,"all?",[],function N(g){var _=N.$$s==null?this:N.$$s;return g==null&&(g=V),_["$include?"](g)},{$$s:d})}),v(k,"$proper_superset?",function(u){var d=this;return I(u),ee(Z(d.$size(),u.$size()))?!1:W(u,"all?",[],function N(g){var _=N.$$s==null?this:N.$$s;return g==null&&(g=V),_["$include?"](g)},{$$s:d})}),v(k,"$subset?",function(u){var d=this;return I(u),ee(ie(u.$size(),d.$size()))?!1:W(d,"all?",[],function(g){return g==null&&(g=V),u["$include?"](g)})}),v(k,"$proper_subset?",function(u){var d=this;return I(u),ee(Z(u.$size(),d.$size()))?!1:W(d,"all?",[],function(g){return g==null&&(g=V),u["$include?"](g)})}),v(k,"$intersect?",function(u){var d=this;return I(u),ee(ie(d.$size(),u.$size()))?W(d,"any?",[],function(g){return g==null&&(g=V),u["$include?"](g)}):W(u,"any?",[],function N(g){var _=N.$$s==null?this:N.$$s;return g==null&&(g=V),_["$include?"](g)},{$$s:d})}),v(k,"$disjoint?",function(u){var d=this;return d["$intersect?"](u)["$!"]()}),v(k,"$to_a",function(){var u=this;return u.hash.$keys()}),J(k,"+","|"),J(k,"<","proper_subset?"),J(k,"<<","add"),J(k,"<=","subset?"),J(k,">","proper_superset?"),J(k,">=","superset?"),J(k,"difference","-"),J(k,"filter!","select!"),J(k,"length","size"),J(k,"map!","collect!"),J(k,"member?","include?"),J(k,"union","|")}("::",null,re)};Opal.modules["corelib/dir"]=function(i){var x=i.klass,p=i.def,A=i.truthy,T=i.alias,ee=i.nil,X=i.$$$;return i.add_stubs("[],pwd"),function(R,W,v){var K=x(R,W,"Dir");return function(ie,Z){return p(ie,"$chdir",function J(re){var V=J.$$p||ee,w=ee;return J.$$p=null,function(){try{return w=i.current_dir,i.current_dir=re,i.yieldX(V,[])}finally{i.current_dir=w}}()}),p(ie,"$pwd",function(){return i.current_dir||"."}),p(ie,"$home",function(){var re=ee;return A(re=X("ENV")["$[]"]("HOME"))?re:"."}),T(ie,"getwd","pwd")}(i.get_singleton_class(K))}("::",null)};Opal.modules["corelib/file"]=function(i){var x=i.truthy,p=i.klass,A=i.const_set,T=i.Opal,ee=i.regexp,X=i.rb_plus,R=i.def,W=i.Kernel,v=i.eqeq,K=i.rb_lt,ie=i.rb_minus,Z=i.range,J=i.send,re=i.slice,V=i.alias,w=[],h=i.nil,P=i.$$$;return i.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(D,k,B){var y=p(D,k,"File"),S=[y].concat(B),F=h;return A(S[0],"Separator",A(S[0],"SEPARATOR","/")),A(S[0],"ALT_SEPARATOR",h),A(S[0],"PATH_SEPARATOR",":"),A(S[0],"FNM_SYSCASE",0),F=/^[a-zA-Z]:(?:\\|\/)/,function(I,q){var u=[I].concat(q),d=i.$r(u);R(I,"$absolute_path",function(l,E){var U=h,c=h,s=h,n=h,t=h,e=h,r=h,$=h,a=h,o=h;E==null&&(E=h),U=d("SEPARATOR"),c=g(),s=[],l=x(l["$respond_to?"]("to_path"))?l.$to_path():l,l=T["$coerce_to!"](l,P("String"),"to_str"),E=x(n=E)?n:P("Dir").$pwd(),t=l.substr(0,U.length)===U||F.test(l),e=E.substr(0,U.length)===U||F.test(E),x(t)?(r=l.$split(ee(["[",c,"]"])),$=F.test(l)?"":l.$sub(ee(["^([",c,"]+).*$"]),"\\1"),a=!0):(r=X(E.$split(ee(["[",c,"]"])),l.$split(ee(["[",c,"]"]))),$=F.test(E)?"":E.$sub(ee(["^([",c,"]+).*$"]),"\\1"),a=e);for(var m,z=0,C=r.length;z<C;z++)m=r[z],!(m===h||m===""&&(s.length===0||a)||m==="."&&(s.length===0||a))&&(m===".."?s.pop():s.push(m));return!a&&r[0]!=="."&&s.$unshift("."),o=s.$join(U),x(a)&&(o=X($,o)),o},-2),R(I,"$expand_path",function(l,E){var U=this,c=h,s=h,n=h,t=h,e=h;return E==null&&(E=h),c=d("SEPARATOR"),s=g(),x(l[0]==="~"||E&&E[0]==="~")&&(n=d("Dir").$home(),x(n)||W.$raise(P("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),t=F.test(n)?"":n.$sub(ee(["^([",s,"]+).*$"]),"\\1"),x(n["$start_with?"](t))||W.$raise(P("ArgumentError"),"non-absolute home"),n=X(n,c),e=ee(["^\\~(?:",c,"|$)"]),l=l.$sub(e,n),x(E)&&(E=E.$sub(e,n))),U.$absolute_path(l,E)},-2);function N(_){return x(_["$respond_to?"]("to_path"))&&(_=_.$to_path()),_=T["$coerce_to!"](_,P("String"),"to_str"),_}function g(){return d("ALT_SEPARATOR")===h?i.escape_regexp(d("SEPARATOR")):i.escape_regexp(X(d("SEPARATOR"),d("ALT_SEPARATOR")))}return R(I,"$dirname",function(l,E){var U=this,c=h;if(E==null&&(E=1),v(E,0))return l;x(K(E,0))&&W.$raise(P("ArgumentError"),"level can't be negative"),c=g(),l=N(l);var s=l.match(new RegExp("^["+c+"]")),n;return l=l.replace(new RegExp("["+c+"]+$"),""),l=l.replace(new RegExp("[^"+c+"]+$"),""),l=l.replace(new RegExp("["+c+"]+$"),""),l===""?n=s?"/":".":n=l,E==1?n:U.$dirname(n,ie(E,1))},-2),R(I,"$basename",function(l,E){var U=h;return E==null&&(E=h),U=g(),l=N(l),l.length==0||(E!==h?E=T["$coerce_to!"](E,P("String"),"to_str"):E=null,l=l.replace(new RegExp("(.)["+U+"]*$"),"$1"),l=l.replace(new RegExp("^(?:.*["+U+"])?([^"+U+"]+)$"),"$1"),E===".*"?l=l.replace(/\.[^\.]+$/,""):E!==null&&(E=i.escape_regexp(E),l=l.replace(new RegExp(""+E+"$"),""))),l},-2),R(I,"$extname",function(l){var E=this,U=h,c=h;return l=N(l),U=E.$basename(l),x(U["$empty?"]())||(c=U["$[]"](Z(1,-1,!1)).$rindex("."),x(c["$nil?"]())||v(X(c,1),ie(U.$length(),1)))?"":U["$[]"](i.Range.$new(X(c,1),-1,!1))}),R(I,"$exist?",function(l){return i.modules[l]!=null}),R(I,"$directory?",function(l){var E=h;E=[];for(var U in i.modules)E.push(U);return l=l.$gsub(ee(["(^.",d("SEPARATOR"),"+|",d("SEPARATOR"),"+$)"])),J(E,"find",[],function(s){return s==null&&(s=h),s["$=~"](ee(["^",l]))})}),R(I,"$join",function(l){var E,U,c=h;return E=re(arguments),U=E,x(U["$empty?"]())?"":(c="",U=J(U.$flatten().$each_with_index(),"map",[],function(n,t){return n==null&&(n=h),t==null&&(t=h),v(t,0)&&x(n["$empty?"]())||v(U.$length(),X(t,1))&&x(n["$empty?"]())?d("SEPARATOR"):n}),U=J(U,"reject",[],"empty?".$to_proc()),J(U,"each_with_index",[],function(n,t){var e=h;return n==null&&(n=h),t==null&&(t=h),e=U["$[]"](X(t,1)),x(e["$nil?"]())?c=""+c+n:(x(n["$end_with?"](d("SEPARATOR")))&&x(e["$start_with?"](d("SEPARATOR")))&&(n=n.$sub(ee([d("SEPARATOR"),"+$"]),"")),c=x(n["$end_with?"](d("SEPARATOR")))||x(e["$start_with?"](d("SEPARATOR")))?""+c+n:""+c+n+d("SEPARATOR"))}),c)},-1),R(I,"$split",function(l){return l.$split(d("SEPARATOR"))}),V(I,"realpath","expand_path"),V(I,"exists?","exist?")}(i.get_singleton_class(y),S)}("::",P("IO"),w)};Opal.modules["corelib/process/base"]=function(i){var x=i.klass,p=i.slice,A=i.defs,T=i.return_val,ee=i.nil;return function(X,R){var W=x(X,R,"Signal");return A(W,"$trap",function(K){return p(arguments),ee},-1)}("::",null),function(X,R){var W=x(X,R,"GC");return A(W,"$start",T(ee))}("::",null)};Opal.modules["corelib/process"]=function(i){var x=i.module,p=i.defs,A=i.truthy,T=i.return_val,ee=i.Kernel,X=i.nil,R=i.$$$;return i.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(W){var v=x(W,"Process"),K=X;if(v.__clocks__=[],p(v,"$__register_clock__",function(J,re){var V=this;return V.__clocks__==null&&(V.__clocks__=X),V.$const_set(J,V.__clocks__.$size()),V.__clocks__["$<<"](re)}),v.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),K=!1,i.global.performance)K=function(){return performance.now()};else if(i.global.process&&process.hrtime){var ie=process.hrtime();K=function(){var Z=process.hrtime(ie),J=Z[1]/1e3|0;return Z[0]*1e3+J/1e3}}return A(K)&&v.$__register_clock__("CLOCK_MONOTONIC",K),p(v,"$pid",T(0)),p(v,"$times",function(){var J=X;return J=R("Time").$now().$to_f(),R(R("Benchmark"),"Tms").$new(J,J,J,J,J)}),p(v,"$clock_gettime",function(J,re){var V=this,w=X;V.__clocks__==null&&(V.__clocks__=X),re==null&&(re="float_second"),A(w=V.__clocks__["$[]"](J))||ee.$raise(R(R("Errno"),"EINVAL"),"clock_gettime("+J+") "+V.__clocks__["$[]"](J));var h=w();switch(re){case"float_second":return h/1e3;case"float_millisecond":return h/1;case"float_microsecond":return h*1e3;case"second":return h/1e3|0;case"millisecond":return h/1|0;case"microsecond":return h*1e3|0;case"nanosecond":return h*1e6|0;default:ee.$raise(R("ArgumentError"),"unexpected unit: "+re)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(i){var x=i.klass,p=i.module,A=i.def,T=i.range,ee=i.send,X=i.rb_divide,R=i.Kernel,W=i.Opal,v=[],K=i.nil,ie=i.$$$;return i.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(Z,J,re){var V=x(Z,J,"Random"),w=[V].concat(re);return function(h,P){var D=p(h,"Formatter"),k=[D].concat(P),B=i.$r(k);return A(D,"$hex",function(S){var F=this;S==null&&(S=K),S=ie("Random").$_verify_count(S);for(var I=F.$bytes(S),q="",u=0;u<S;u++)q+=I.charCodeAt(u).toString(16).padStart(2,"0");return q.$encode("US-ASCII")},-1),A(D,"$random_bytes",function(S){var F=this;return S==null&&(S=K),F.$bytes(S)},-1),A(D,"$base64",function(S){var F=this;return S==null&&(S=K),ie("Base64").$strict_encode64(F.$random_bytes(S)).$encode("US-ASCII")},-1),A(D,"$urlsafe_base64",function(S,F){var I=this;return S==null&&(S=K),F==null&&(F=!1),ie("Base64").$urlsafe_encode64(I.$random_bytes(S),F).$encode("US-ASCII")},-1),A(D,"$uuid",function(){var S=this,F=K;return F=S.$hex(16).$split(""),F["$[]="](12,"4"),F["$[]="](16,(parseInt(F["$[]"](16),16)&3|8).toString(16)),F=[F["$[]"](T(0,8,!0)),F["$[]"](T(8,12,!0)),F["$[]"](T(12,16,!0)),F["$[]"](T(16,20,!0)),F["$[]"](T(20,32,!0))],F=ee(F,"map",[],"join".$to_proc()),F.$join("-")}),A(D,"$random_float",function(){var S=this,F=K,I=K;return F=S.$bytes(4),I=0,ee(4,"times",[],function(u){return u==null&&(u=K),I=I["$<<"](8),I=I["$|"](F["$[]"](u).$ord())}),X(I.$abs(),2147483647)}),A(D,"$random_number",function(S){var F=this;function I(){return F.$random_float()}function q(d){return Math.floor(I()*d)}function u(){var d=S.begin,N=S.end;if(d===K||N===K)return K;var g=N-d;return g<0?K:g===0?d:(N%1===0&&d%1===0&&!S.excl&&g++,q(g)+d)}return S==null?I():S.$$is_range?u():S.$$is_number?(S<=0&&R.$raise(ie("ArgumentError"),"invalid argument - "+S),S%1===0?q(S):I()*S):(S=W["$coerce_to!"](S,ie("Integer"),"to_int"),S<=0&&R.$raise(ie("ArgumentError"),"invalid argument - "+S),q(S))},-1),A(D,"$alphanumeric",function(S){var F=this,I=K;return S==null&&(S=K),S=B("Random").$_verify_count(S),I=ee([T("0","9",!1),T("a","z",!1),T("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),ee(ie("Array"),"new",[S],function q(u){var d=q.$$s==null?this:q.$$s;return I["$[]"](d.$random_number(I.$length()))},{$$s:F}).$join()},-1)}(V,w),V.$include(ie(ie("Random"),"Formatter")),V.$extend(ie(ie("Random"),"Formatter"))}("::",null,v)};Opal.modules["corelib/random/mersenne_twister"]=function(i){var x=i.klass,p=i.const_set,A=i.send,T=i.nil,ee=i.$$$,X=T;return i.add_stubs("generator="),X=function(){var R=624,W=397,v=2567483615,K=2147483648,ie=2147483647,Z=function(k,B){return k&K|B&ie},J=function(k,B){return Z(k,B)>>>1^(B&1?v:0)};function re(k){var B={left:0,next:R,state:new Array(R)};return V(B,k),B}function V(k,B){var y;for(k.state[0]=B>>>0,y=1;y<R;y++)k.state[y]=1812433253*(k.state[y-1]^k.state[y-1]>>30>>>0)+y,k.state[y]&=4294967295;k.left=1,k.next=R}function w(k){var B=0,y=k.state,S;for(k.left=R,k.next=0,S=R-W+1;--S;B++)y[B]=y[B+W]^J(y[B+0],y[B+1]);for(S=W;--S;B++)y[B]=y[B+(W-R)]^J(y[B+0],y[B+1]);y[B]=y[B+(W-R)]^J(y[B+0],y[0])}function h(k){var B;return--k.left<=0&&w(k),B=k.state[k.next++],B^=B>>>11,B^=B<<7&2636928640,B^=B<<15&4022730752,B^=B>>>18,B>>>0}function P(k,B){return k>>>=5,B>>>=6,(k*67108864+B)*(1/9007199254740992)}function D(k){var B=h(k),y=h(k);return P(B,y)}return{genrand_real:D,init:re}}(),function(R,W){var v=x(R,W,"Random"),K,ie=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return p(v,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*ie)},reseed:function(Z){return X.init(Z)},rand:function(Z){return X.genrand_real(Z)}}),K=[ee(v,"MERSENNE_TWISTER_GENERATOR")],A(v,"generator=",K),K[K.length-1]}("::",null)};Opal.modules["corelib/random"]=function(i){var x=i.truthy,p=i.klass,A=i.Kernel,T=i.defs,ee=i.Opal,X=i.def,R=i.eqeqeq,W=i.send,v=i.top,K=i.nil,ie=i.$$$;return i.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),v.$require("corelib/random/formatter"),function(Z,J){var re=p(Z,J,"Random");return re.$attr_reader("seed","state"),T(re,"$_verify_count",function(w){return x(w)||(w=16),typeof w!="number"&&(w=w.$to_int()),w<0&&A.$raise(ie("ArgumentError"),"negative string size (or size too big)"),w=Math.floor(w),w}),X(re,"$initialize",function(w){var h=this;return w==null&&(w=ie("Random").$new_seed()),w=ee["$coerce_to!"](w,ie("Integer"),"to_int"),h.state=w,h.$reseed(w)},-1),X(re,"$reseed",function(w){var h=this;return h.seed=w,h.$rng=i.$$rand.reseed(w)}),T(re,"$new_seed",function(){return i.$$rand.new_seed()}),T(re,"$rand",function(w){var h=this;return ie(h,"DEFAULT").$rand(w)},-1),T(re,"$srand",function(w){var h=this,P=K;return w==null&&(w=ie("Random").$new_seed()),w=ee["$coerce_to!"](w,ie("Integer"),"to_int"),P=ie(h,"DEFAULT").$seed(),ie(h,"DEFAULT").$reseed(w),P},-1),T(re,"$urandom",function(w){return ie("SecureRandom").$bytes(w)}),X(re,"$==",function(w){var h=this,P=K;return R(ie("Random"),w)?x(P=h.$seed()["$=="](w.$seed()))?h.$state()["$=="](w.$state()):P:!1}),X(re,"$bytes",function(w){var h=this;return w=ie("Random").$_verify_count(w),W(ie("Array"),"new",[w],function P(){var D=P.$$s==null?this:P.$$s;return D.$rand(255).$chr()},{$$s:h}).$join().$encode("ASCII-8BIT")}),T(re,"$bytes",function(w){var h=this;return ie(h,"DEFAULT").$bytes(w)}),X(re,"$rand",function(w){var h=this;return h.$random_number(w)},-1),X(re,"$random_float",function(){var w=this;return w.state++,i.$$rand.rand(w.$rng)}),T(re,"$random_float",function(){var w=this;return ie(w,"DEFAULT").$random_float()}),T(re,"$generator=",function(w){var h=this;return i.$$rand=w,x(h["$const_defined?"]("DEFAULT"))?ie(h,"DEFAULT").$reseed():h.$const_set("DEFAULT",h.$new(h.$new_seed()))})}("::",null),v.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(i){var x=i.Kernel,p=i.klass,A=i.send,T=i.slice,ee=i.module,X=i.def,R=i.return_val,W=i.alias,v=i.defs,K=i.top,ie=[],Z=i.nil,J=i.$$$;i.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var re={};function V(h){switch(i.config.unsupported_features_severity){case"error":x.$raise(J("NotImplementedError"),h);break;case"warning":w(h);break}}function w(h){re[h]||(re[h]=!0,K.$warn(h))}return function(h,P){var D=p(h,P,"String"),k="String#%s not supported. Mutable String methods are not supported in Opal.";return A(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function B(y){var S=B.$$s==null?this:B.$$s;return y==null&&(y=Z),A(S,"define_method",[y],function(I){return T(arguments),x.$raise(J("NotImplementedError"),k["$%"](y))},-1)},{$$s:D})}("::",null),function(h){var P=ee(h,"Kernel"),D="Object tainting is not supported by Opal";return X(P,"$taint",function(){var B=this;return V(D),B}),X(P,"$untaint",function(){var B=this;return V(D),B}),X(P,"$tainted?",function(){return V(D),!1})}("::"),function(h,P){var D=p(h,P,"Module");return X(D,"$public",function(B){var y,S,F=this;return y=T(arguments),S=y,S.length===0?(F.$$module_function=!1,Z):S.length===1?S[0]:S},-1),X(D,"$private_class_method",function(B){var y,S;return y=T(arguments),S=y,S.length===1?S[0]:S},-1),X(D,"$private_method_defined?",R(!1)),X(D,"$private_constant",function(B){return T(arguments),Z},-1),W(D,"nesting","public"),W(D,"private","public"),W(D,"protected","public"),W(D,"protected_method_defined?","private_method_defined?"),W(D,"public_class_method","private_class_method"),W(D,"public_instance_method","instance_method"),W(D,"public_instance_methods","instance_methods"),W(D,"public_method_defined?","method_defined?")}("::",null),function(h){var P=ee(h,"Kernel");return X(P,"$private_methods",function(k){return T(arguments),[]},-1),W(P,"protected_methods","private_methods"),W(P,"private_instance_methods","private_methods"),W(P,"protected_instance_methods","private_methods")}("::"),function(h,P){var D=ee(h,"Kernel"),k=[D].concat(P),B=i.$r(k);return X(D,"$eval",function(S){return T(arguments),x.$raise(J("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+B("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",ie),v(K,"$public",function(P){var D,k;return D=T(arguments),k=D,k.length===1?k[0]:k},-1),v(K,"$private",function(P){var D,k;return D=T(arguments),k=D,k.length===1?k[0]:k},-1)};Opal.modules["corelib/binding"]=function(i){var x=i.klass,p=i.truthy,A=i.def,T=i.slice,ee=i.send,X=i.to_a,R=i.Kernel,W=i.return_ivar,v=i.eqeq;i.thrower;var K=i.module,ie=i.const_set,Z=i.top,J=[],re=i.nil,V=i.$$$;return i.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(w,h){var P=x(w,h,"Binding"),D=P.$$prototype;return D.jseval=D.scope_variables=re,A(P,"$initialize",function(B,y,S,F){var I,q=this;return y==null&&(y=[]),F==null&&(F=re),I=[B,y,S,F],q.jseval=I[0],q.scope_variables=I[1],q.receiver=I[2],q.source_location=I[3],p(typeof S!==void 0)?re:S=q.$js_eval("self")},-2),A(P,"$js_eval",function(B){var y,S,F=this;return y=T(arguments),S=y,p(F.jseval)?ee(F.jseval,"call",X(S)):R.$raise("Evaluation on a Proc#binding is not supported")},-1),A(P,"$local_variable_get",function(B){var y=this;try{return y.$js_eval(B)}catch(S){if(i.rescue(S,[V("Exception")]))try{return R.$raise(V("NameError"),"local variable `"+B+"' is not defined for "+y.$inspect())}finally{i.pop_exception(S)}else throw S}}),A(P,"$local_variable_set",function(B,y){var S=this;return i.Binding.tmp_value=y,S.$js_eval(""+B+" = Opal.Binding.tmp_value"),delete i.Binding.tmp_value,y}),A(P,"$local_variables",W("scope_variables")),A(P,"$local_variable_defined?",function(B){var y=this;return y.scope_variables["$include?"](B)}),A(P,"$eval",function(B,y,S){try{var F=this;return y==null&&(y=re),S==null&&(S=re),v(B,"self")?F.$receiver():R.$eval(B,F,y,S)}catch(I){if(I===i.t_eval_return)return I.$v;throw I}},-2),P.$attr_reader("receiver","source_location")}("::",null),function(w){var h=K(w,"Kernel");return A(h,"$binding",function(){return R.$raise("Opal doesn't support dynamic calls to binding")})}("::"),ie(J[0],"TOPLEVEL_BINDING",V("Binding").$new(function(w){return new Function("self","return "+w)(Z)},[],Z,["<main>",0]))};Opal.modules["corelib/irb"]=function(i){var x=i.module,p=i.truthy,A=i.Kernel,T=i.defs,ee=i.gvars,X=i.lambda,R=i.hash_rehash,W=i.send,v=i.rb_plus,K=i.const_set,ie=i.klass,Z=i.def,J=i.Opal,re=i.range,V=i.eqeq,w=i.thrower,h=[],P=i.nil,D=i.$$$;i.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(k,B){var y=x(k,"Opal"),S=[y].concat(B);return function(F,I){var q=x(F,"IRB"),u=[q].concat(I),d=i.$r(u);return T(q,"$ensure_loaded",function(g){var _=P,l=P;if(p(i.loaded_features["$include?"](g)))return P;_=p(d("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":d("RUBY_ENGINE_VERSION"),l="https://cdn.opalrb.com/opal/"+_+"/"+g+".js";var E;if(typeof XMLHttpRequest<"u"){var U=new XMLHttpRequest;U.open("GET",l,!1),U.send(""),E=U.responseText}else A.$raise("You need to provision "+g+" yourself in this environment");return new Function("Opal",E)(i),i.require(g),p(i.loaded_features["$include?"](g))?P:A.$raise("Could not load "+g+" for some reason")}),q.$singleton_class().$attr_accessor("output"),T(q,"$prepare_console",function N(){var g=N.$$p||P,_,l=this,E=P,U=P;return ee.stdout==null&&(ee.stdout=P),ee.stderr==null&&(ee.stderr=P),ee.stdin==null&&(ee.stdin=P),N.$$p=null,function(){try{return l["$output="](""),E=R(new Map([[ee.stdout,X(function(s){return s==null&&(s=P),ee.stdout=s})],[ee.stderr,X(function(s){return s==null&&(s=P),ee.stderr=s})]])),p(l["$browser?"]())&&(W(E,"each",[],function c(s,n){var t=c.$$s==null?this:c.$$s,e=P;return s==null&&(s=P),n==null&&(n=P),e=s.$dup(),e["$write_proc="](W(t,"proc",[],function r($){var a=r.$$s==null?this:r.$$s;return $==null&&($=P),a["$output="](v(a.$output(),$)),a["$output="](a.$output().$split(`
`).$last(30).$join(`
`)),p($["$end_with?"](`
`))&&a["$output="](v(a.$output(),`
`)),s.$write_proc().$call($)},{$$s:t})),e["$tty="](!1),n.$call(e)},{$$s:l}),U=ee.stdin.$read_proc(),ee.stdin["$read_proc="](function(c){var s=prompt(l.$output());return s!==null?s+`
`:P})),i.yieldX(g,[])}finally{W(E,"each",[],function(s,n){return s==null&&(s=P),n==null&&(n=P),n.$call(s)}),_=[U],W(ee.stdin,"read_proc=",_),_[_.length-1],_=[""],W(l,"output=",_),_[_.length-1]}}()}),T(q,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),K(u[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(N,g){var _=ie(N,g,"Silencer"),l=_.$$prototype;return l.collector=l.stderr=P,Z(_,"$initialize",function(){var U=this;return ee.stderr==null&&(ee.stderr=P),U.stderr=ee.stderr}),Z(_,"$silence",function E(){var U=E.$$p||P,c=this;return E.$$p=null,function(){try{return c.collector=D("StringIO").$new(),ee.stderr=c.collector,i.yieldX(U,[])}finally{ee.stderr=c.stderr}}()}),Z(_,"$warnings",function(){var U=this;return U.collector.$string()})}(u[0],null)}(S[0],S)}(h[0],h),function(k,B,y){var S=ie(k,B,"Binding"),F=[S].concat(y),I=i.$r(F);return Z(S,"$irb",function(){try{var u=w("return"),d=this,N=P;return D(J,"IRB").$ensure_loaded("opal-replutils"),N=D(D(J,"IRB"),"Silencer").$new(),W(D(J,"IRB"),"prepare_console",[],function g(){var _=g.$$s==null?this:g.$$s;return function(){try{var l=w("break");return W(_,"loop",[],function E(){var U=E.$$s==null?this:E.$$s,c=P,s=P,n=P,t=P,e=P;U.$print(">> "),c=U.$gets(),p(c)||l.$throw(P,E.$$is_lambda),s="",p(D(J,"IRB")["$browser?"]())&&U.$puts(c),p(c["$start_with?"]("ls "))?(s=c["$[]"](re(3,-1,!1)),n="ls"):V(c,`ls
`)?(s="self",n="ls"):p(c["$start_with?"]("show "))?(s=c["$[]"](re(5,-1,!1)),n="show"):(s=c,n="inspect"),t=P;do{try{W(N,"silence",[],function(){return t=i.compile(s,{irb:!0})})}catch(r){if(i.rescue(r,[I("SyntaxError")])){e=r;try{if(p(D(D(J,"IRB"),"LINEBREAKS")["$include?"](e.$message()))){U.$print(".. "),c=U.$gets(),p(c)||u.$throw(P,E.$$is_lambda),p(D(J,"IRB")["$browser?"]())&&U.$puts(c),s=v(s,c);continue}else p(N.$warnings()["$empty?"]())?U.$warn(e.$full_message()):U.$warn(N.$warnings())}finally{i.pop_exception(r)}}else throw r}break}while(!0);return V(n,"show")&&(U.$puts(t),u.$throw(P,E.$$is_lambda)),U.$puts(D("REPLUtils").$eval_and_print(t,n,!1,U))},{$$s:_,$$ret:u})}catch(E){if(E===l)return E.$v;throw E}finally{l.is_orphan=!0}}()},{$$s:d})}catch(g){if(g===u)return g.$v;throw g}finally{u.is_orphan=!0}})}("::",null,h),i.irb=function(k){D("Binding").$new(k).$irb()},i.load_parser=function(){i.Opal.IRB.$ensure_loaded("opal-parser")},typeof i.eval>"u"&&(i.eval=function(k){return i.load_parser(),i.eval(k)}),typeof i.compile>"u"&&(i.compile=function(k,B){return i.load_parser(),i.compile(k,B)})};Opal.modules.opal=function(i){var x=i.Object;return i.nil,i.add_stubs("require,autoload"),x.$require("opal/base"),x.$require("opal/mini"),x.$require("corelib/kernel/format"),x.$require("corelib/string/encoding"),x.$autoload("Math","corelib/math"),x.$require("corelib/complex/base"),x.$autoload("Complex","corelib/complex"),x.$require("corelib/rational/base"),x.$autoload("Rational","corelib/rational"),x.$require("corelib/time"),x.$autoload("Struct","corelib/struct"),x.$autoload("Set","corelib/set"),x.$autoload("Dir","corelib/dir"),x.$autoload("File","corelib/file"),x.$require("corelib/process/base"),x.$autoload("Process","corelib/process"),x.$autoload("Random","corelib/random"),x.$require("corelib/unsupported"),x.$require("corelib/binding"),x.$require("corelib/irb")};Opal.modules["js/proxy"]=function(i){var x=i.module,p=i.truthy,A=i.def,T=i.klass,ee=i.const_set,X=i.slice,R=i.range,W=i.send,v=i.to_a,K=i.gvars,ie=i.top,Z=[],J=i.nil;return i.add_stubs("require,new,to_n,to_rb_name,include,attr_accessor,Native,to_js_name,end_with?,existing_property?,raise,[],[]=,first,native,dup,call,class,<<,wrap_result,respond_to?,enum_for,length,each,private,join,with_index,map,split,to_s,include?,downcase,gsub,upcase,zero?,capitalize,sub,native="),ie.$require("opal"),ie.$require("native"),function(re,V){var w=x(re,"JS"),h=[w].concat(V),P=i.$r(h);return function(D,k){var B=x(D,"Helpers"),y=[B].concat(k),S=i.$r(y);return A(B,"$wrap_result",function(I){return p(I&&typeof I.then=="function")?S("Promise").$new(I):p(typeof I=="object"&&I!==null)?S("Proxy").$new(I):I}),A(B,"$native_methods",function(){var I=this,q=J;return I.native_methods==null&&(I.native_methods=J),I.native_methods=function(){if(p(q=I.native_methods))return q;{let u=I.$to_n();const d=new Set;for(;u!==null;){for(const N of Reflect.ownKeys(u)){const g=N.toString(),_=I.$to_rb_name(g);typeof N!="symbol"&&g!==_&&d.add(_),d.add(g)}u=Object.getPrototypeOf(u)}return Array.from(d)}}()})}(h[0],h),function(D,k,B){var y=T(D,k,"Proxy"),S=[y].concat(B),F=i.$r(S);return y.$include(F("Enumerable")),y.$include(F("Helpers")),y.$attr_accessor("native"),ee(S[0],"IRREGULARS",["html","url","uri"]),A(y,"$initialize",function(q){var u=this;return u.native=u.$Native(q)}),A(y,"$method_missing",function I(q,u){var d=I.$$p||J,N,g,_,l=this,E=J,U=J,c=J,s=J,n=J,t=J;return I.$$p=null,N=X(arguments,1),g=N,E=l.$to_js_name(q),p(l["$existing_property?"](E))||p(E["$end_with?"]("="))||l.$raise(F("NoMethodError"),"undefined method `"+q+"` for "+l),p(E["$end_with?"]("="))?(U=E["$[]"](R(0,-2,!1)),_=[U,g.$first()],W(l.$native(),"[]=",_),_[_.length-1]):(c=l.$native()["$[]"](E),p(typeof c=="function")?(s=g.$dup(),p(d)&&(n=function(){let e=Array.prototype.slice.call(arguments);return W(d,"call",[l.$class().$new(this)].concat(v(e)))},s["$<<"](n)),t=c.apply(l.$to_n(),s.$to_n()),l.$wrap_result(t)):p(typeof c=="object"&&c!==null)?l.$wrap_result(c):c)},-2),A(y,"$to_str",function(){var q=this;return q.$to_n().toString()}),A(y,"$respond_to_missing?",function(q,u){return!0},-2),A(y,"$each",function I(){var q=I.$$p||J,u=this,d=J;return I.$$p=null,p(u["$respond_to?"]("length"))?(d=u.$length(),W(i.Range.$new(0,d,!0),"each",[],function N(g){var _=N.$$s==null?this:N.$$s;return g==null&&(g=J),i.yield1(q,_["$[]"](g))},{$$s:u})):u.$enum_for("each")}),A(y,"$[]",function(q){var u=this,d=J;return d=u.$native()["$[]"](q),u.$wrap_result(d)}),A(y,"$[]=",function(q,u){var d=this;return d.$native()["$[]="](q,u),d.$wrap_result(d.$native())}),A(y,"$to_n",function(){var q=this;return q.$native().$to_n()}),A(y,"$length",function(){var q=this;return q.$native().$length()}),y.$private(),A(y,"$to_js_name",function(q){return W(q.$to_s().$split("_").$map(),"with_index",[],function(d,N){return d==null&&(d=J),N==null&&(N=J),p(F("IRREGULARS")["$include?"](d.$gsub("=","").$downcase()))?d.$upcase():p(N["$zero?"]())?d:d.$capitalize()}).$join()}),A(y,"$to_rb_name",function(q){return W(q.$to_s(),"gsub",[/([A-Z]+)/],function(){var d;return"_"+((d=K["~"])===J?J:d["$[]"](1)).$downcase()}).$sub(/^_/,"")}),A(y,"$existing_property?",function(q){var u=this;return q in u.$to_n()})}(h[0],null,h),function(D,k,B){var y=T(D,k,"Promise"),S=[y].concat(B),F=i.$r(S);return y.$include(F("Helpers")),A(y,"$then",function I(){var q=I.$$p||J,u,d=this,N=J;return I.$$p=null,N=function(g){var _=q.$call(d.$wrap_result(g));return _&&typeof _.then=="function"?_:_&&typeof _.to_n=="function"?_.to_n():_},u=[d.$to_n().then(N)],W(d,"native=",u),u[u.length-1]}),A(y,"$catch",function I(){var q=I.$$p||J,u,d=this,N=J;return I.$$p=null,N=function(g){var _=q.$call(d.$wrap_result(g));return _&&typeof _.then=="function"?_:_&&typeof _.to_n=="function"?_.to_n():_},u=[d.$to_n().catch(N)],W(d,"native=",u),u[u.length-1]})}(h[0],P("Proxy"),h)}(Z[0],Z)};Opal.modules["opal_stimulus/stimulus_controller"]=function(i){var x=i.klass,p=i.const_set,A=i.Opal,T=i.defs,ee=i.truthy,X=i.send,R=i.gvars,W=i.return_val,v=i.thrower,K=i.rb_plus,ie=i.eqeqeq,Z=i.def,J=i.top,re=[],V=i.nil,w=i.$$$;return i.add_stubs("require,bridge,stimulus_controller,downcase,gsub,name,include?,sub,to_s,each,subclasses,define_method,stimulus_name,to_ruby_name,+,new,map,capitalize,===,raise,[]=,to_n,Native,==,window,document"),J.$require("opal"),J.$require("native"),J.$require("js/proxy"),function(h,P,D){var k=x(h,P,"StimulusController"),B=[k].concat(D),y=i.$r(B),S=k.$$prototype;return S.window=S.document=V,p(B[0],"DEFAULT_METHODS",["initialize","connect","disconnect","dispatch"]),p(B[0],"DEFAULT_GETTERS",["element"]),T(k,"$inherited",function(I){return A.$bridge(I.$stimulus_controller(),I)}),T(k,"$stimulus_controller",function(){var I=this;return I.stimulus_controller==null&&(I.stimulus_controller=V),ee(I.stimulus_controller)||(I.stimulus_controller=class extends Controller{}),I.stimulus_controller}),T(k,"$stimulus_name",function(){var I=this;return I.$name().$gsub(/Controller$/,"").$gsub(/([a-z])([A-Z])/,"\\1-\\2").$gsub("::","--").$downcase()}),T(k,"$method_added",function(I){var q=this;if(ee(y("DEFAULT_GETTERS")["$include?"](I)))return V;q.$stimulus_controller().prototype[I]=function(...u){try{var d=u.map(function(N){return N&&typeof N=="object"&&!N.$$class?i.JS.Proxy.$new(N):N});return this["$"+I].apply(this,d)}catch(N){console.error("Uncaught",N)}}}),T(k,"$to_ruby_name",function(I){return X(I.$to_s(),"gsub",[/([A-Z]+)/],function(){var u;return"_"+((u=R["~"])===V?V:u["$[]"](1)).$downcase()}).$sub(/^_/,"")}),T(k,"$register_all!",function(){try{var I=v("return"),q=this;return X(q.$subclasses(),"each",[],function u(d){return d==null&&(d=V),X(d,"define_method",["dummy"],W(V)),ee(application.controllers["$include?"](d.$stimulus_name()))&&I.$throw(V,u.$$is_lambda),application.register(d.$stimulus_name(),d.$stimulus_controller())},{$$ret:I})}catch(u){if(u===I)return u.$v;throw u}finally{I.is_orphan=!0}}),T(k,"$targets=",function(I){var q=this;return I==null&&(I=[]),q.$stimulus_controller().targets=I,X(I,"each",[],function u(d){var N=u.$$s==null?this:u.$$s,g=V,_=V,l=V,E=V,U=V,c=V;d==null&&(d=V),g=d.$to_s(),_=N.$to_ruby_name(d),X(N,"define_method",[K(_,"_target")],function(){return w(y("JS"),"Proxy").$new(this[K(g,"Target")])}),X(N,"define_method",[K(_,"_targets")],function(){return X(this[K(g,"Targets")],"map",[],function(t){return t==null&&(t=V),w(y("JS"),"Proxy").$new(t)})}),X(N,"define_method",[K(K("has_",_),"_target")],function(){return this[K(K("has",g.$capitalize()),"Target")]}),l=K(_,"_target_connected"),E=K(g,"TargetConnected"),N.$stimulus_controller().prototype[E]=function(){if(this["$respond_to?"]&&this["$respond_to?"](l))return this["$"+l]()},U=K(_,"_target_disconnected"),c=K(g,"TargetDisconnected"),N.$stimulus_controller().prototype[c]=function(){if(this["$respond_to?"]&&this["$respond_to?"](U))return this["$"+U]()}},{$$s:q})},-1),T(k,"$outlets=",function(I){var q=this;return I==null&&(I=[]),q.$stimulus_controller().outlets=I,X(I,"each",[],function u(d){var N=u.$$s==null?this:u.$$s,g=V,_=V,l=V,E=V,U=V,c=V;d==null&&(d=V),g=d.$to_s(),_=N.$to_ruby_name(d),X(N,"define_method",[K(_,"_outlet")],function(){return this[K(g,"Outlet")]}),X(N,"define_method",[K(_,"_outlets")],function(){return this[K(g,"Outlets")]}),X(N,"define_method",[K(K("has_",_),"_outlet")],function(){return this[K(K("has",g.$capitalize()),"Outlet")]}),l=K(_,"_outlet_connected"),E=K(g,"OutletConnected"),N.$stimulus_controller().prototype[E]=function(){if(this["$respond_to?"]&&this["$respond_to?"](l))return this["$"+l]()},U=K(_,"_outlet_disconnected"),c=K(g,"OutletDisconnected"),N.$stimulus_controller().prototype[c]=function(){if(this["$respond_to?"]&&this["$respond_to?"](U))return this["$"+U]()}},{$$s:q})},-1),T(k,"$values=",function(I){var q=this,u=V;return I==null&&(I=new Map),u=new Map,X(I,"each",[],function d(N,g){var _=d.$$s==null?this:d.$$s,l=V,E=V,U=V,c=V;N==null&&(N=V),g==null&&(g=V),N=_.$to_ruby_name(N),l=ie("string",E=g)?String:ie("number",E)?Number:ie("boolean",E)?Boolean:ie("array",E)?Array:ie("object",E)?Object:_.$raise(y("ArgumentError"),"Unsupported value type: "+g+", please use :string, :number, :boolean, :array, or :object"),u["$[]="](N,l),_.$stimulus_controller().values=u.$to_n(),X(_,"define_method",[K(N,"_value")],function s(){var n=s.$$s==null?this:s.$$s;return n.$Native(this[K(N,"Value")])},{$$s:_}),X(_,"define_method",[K(N,"_value=")],function s(n){var t=s.$$s==null?this:s.$$s;return n==null&&(n=V),t.$Native(this[K(N,"Value")]=n)},{$$s:_}),X(_,"define_method",["has_"+N],function(){return this[K(K("has",N.$to_s().$capitalize()),"Value")]}),U=""+N+"_value_changed",c=""+N+"ValueChanged",_.$stimulus_controller().prototype[c]=function(s,n){if(g["$=="]("object")&&(s=JSON.stringify(s),n=JSON.stringify(n)),this["$respond_to?"]&&this["$respond_to?"](U))return this["$"+U](s,n)}},{$$s:q})},-1),T(k,"$classes=",function(I){var q=this;return I==null&&(I=[]),q.$stimulus_controller().classes=I,X(I,"each",[],function u(d){var N=u.$$s==null?this:u.$$s,g=V,_=V;return d==null&&(d=V),g=d.$to_s(),_=N.$to_ruby_name(d),X(N,"define_method",[""+_+"_class"],function(){return this[K(g,"Class")]}),X(N,"define_method",[""+_+"_classes"],function(){return this[K(g,"Classes")]}),X(N,"define_method",["has_"+_+"_class"],function(){return this[K(K("has",g.$capitalize()),"Class")]})},{$$s:q})},-1),Z(k,"$element",function(){return w(y("JS"),"Proxy").$new(this.element)}),Z(k,"$window",function(){var I=this,q=V;return R.$==null&&(R.$=V),I.window=ee(q=I.window)?q:w(y("JS"),"Proxy").$new(R.$.$window())}),Z(k,"$document",function(){var I=this,q=V;return R.$==null&&(R.$=V),I.document=ee(q=I.document)?q:w(y("JS"),"Proxy").$new(R.$.$document())})}(re[0],Controller,re)};Opal.modules["opal_vite/concerns/v1/js_proxy_ex"]=function(i){var x=i.module,p=i.truthy,A=i.def,T=i.send,ee=i.klass,X=i.assign_ivar,R=i.return_ivar,W=i.slice,v=i.range,K=i.eqeq,ie=i.lambda,Z=i.to_a,J=i.eqeqeq,re=i.rb_plus,V=i.defs,w=i.const_set,h=[],P=i.$r(h),D=i.nil,k=i.$$$;return i.add_stubs("new,to_n,nil?,respond_to?,times,<<,to_s,snake_to_camel,wrap_result,end_with?,[],!,==,call,map,===,length,enum_for,private,upcase,split,+,join,to_proc,test,js_array_to_ruby"),function(B,y){var S=x(B,"OpalVite"),F=[S].concat(y);return function(I,q){var u=x(I,"Concerns"),d=[u].concat(q);return function(N,g){var _=x(N,"V1"),l=[_].concat(g);return function(E,U){var c=x(E,"JsProxyEx"),s=[c].concat(U),n=i.$r(s);return A(c,"$local_storage",function(){var e=this,r=D;return e.local_storage==null&&(e.local_storage=D),e.local_storage=p(r=e.local_storage)?r:n("JsObject").$new(localStorage)}),A(c,"$session_storage",function(){var e=this,r=D;return e.session_storage==null&&(e.session_storage=D),e.session_storage=p(r=e.session_storage)?r:n("JsObject").$new(sessionStorage)}),A(c,"$js_json",function(){var e=this,r=D;return e.js_json==null&&(e.js_json=D),e.js_json=p(r=e.js_json)?r:n("JsonWrapper").$new()}),A(c,"$js_date",function(){return n("DateWrapper")}),A(c,"$js_console",function(){var e=this,r=D;return e.js_console==null&&(e.js_console=D),e.js_console=p(r=e.js_console)?r:n("JsObject").$new(console)}),A(c,"$new_event",function(e,r){return r==null&&(r=new Map),n("JsObject").$new(new Event(e,r.$to_n()))},-2),A(c,"$new_custom_event",function(e,r){return r==null&&(r=new Map),n("JsObject").$new(new CustomEvent(e,{detail:r.$to_n()}))},-2),A(c,"$new_url",function(e){return n("JsObject").$new(new URL(e))}),A(c,"$new_regexp",function(e,r){return r==null&&(r=""),n("RegExpWrapper").$new(e,r)},-2),A(c,"$new_date",function(e){return e==null&&(e=D),p(e)?n("JsObject").$new(new Date(e)):n("JsObject").$new(new Date)},-1),A(c,"$date_now",function(){return Date.now()}),A(c,"$wrap_js",function(e){var r=D;return p(e["$nil?"]())?D:(r=p(e["$respond_to?"]("to_n"))?e.$to_n():e,n("JsObject").$new(r))}),A(c,"$js_array_to_ruby",function(e){var r=D,$=D;return r=[],$=e.length,T($,"times",[],function(o){var m=D;return o==null&&(o=D),m=e[o],r["$<<"](n("JsObject").$new(m))}),r}),A(c,"$new_js_array",function(){return n("JsObject").$new([])}),function(t,e,r){var $=ee(t,e,"JsObject"),a=[$].concat(r),o=i.$r(a),m=$.$$prototype;return m.native=D,A($,"$initialize",X("native")),A($,"$to_n",R("native")),A($,"$[]",function(C){var M=this,G=D,O=D,ae=D;return G=C.$to_s(),O=M.$snake_to_camel(G),ae=M.native[O],M.$wrap_result(ae)}),A($,"$[]=",function(C,M){var G=this,O=D,ae=D,le=D;return O=C.$to_s(),ae=G.$snake_to_camel(O),le=p(M["$respond_to?"]("to_n"))?M.$to_n():M,G.native[ae]=le}),A($,"$method_missing",function z(C,M){var G=z.$$p||D,O,ae,le=this,ce=D,de=D,he=D,me=D,ve=D,be=D,$e=D,j=D,L=D,Y=D;return z.$$p=null,O=W(arguments,1),ae=O,ce=C.$to_s(),p(ce["$end_with?"]("="))?(de=ce["$[]"](v(0,-2,!1)),he=le.$snake_to_camel(de),me=ae["$[]"](0),ve=p(me["$respond_to?"]("to_n"))?me.$to_n():me,le.native[he]=ve,me):p(ce["$end_with?"]("?"))?(de=ce["$[]"](v(0,-2,!1)),he=le.$snake_to_camel(de),le.native[he]["$!"]()["$!"]()):(he=le.$snake_to_camel(ce),be=typeof le.native[he]=="function",p(be)?K(he,"addEventListener")&&p(G)?($e=ie(function(ne){return ne==null&&(ne=D),G.$call(o("JsObject").$new(ne))}),le.native.addEventListener(ae["$[]"](0),$e),D):(j=T(ae,"map",[],function(ne){return ne==null&&(ne=D),p(ne["$respond_to?"]("to_n"))?ne.$to_n():ne}),p(G)&&($e=ie(function Q(ne){var se,oe,fe=Q.$$s==null?this:Q.$$s,f=D;return se=W(arguments),oe=se,f=T(oe,"map",[],function b(H){var te=b.$$s==null?this:b.$$s;return H==null&&(H=D),te.$wrap_result(H)},{$$s:fe}),T(G,"call",Z(f))},{$$arity:-1,$$s:le}),j["$<<"]($e)),L=J(0,Y=j.$length())?le.native[he]():J(1,Y)?le.native[he](j["$[]"](0)):J(2,Y)?le.native[he](j["$[]"](0),j["$[]"](1)):J(3,Y)?le.native[he](j["$[]"](0),j["$[]"](1),j["$[]"](2)):le.native[he].apply(le.native,j),le.$wrap_result(L)):(L=le.native[he],le.$wrap_result(L)))},-2),A($,"$respond_to_missing?",function(C,M){return!0},-2),A($,"$each",function z(){var C=z.$$p||D,M=this,G=D;return z.$$p=null,p(C)?(G=M.native.length,p(G)&&T(G,"times",[],function O(ae){var le=O.$$s==null?this:O.$$s,ce=D;return le.native==null&&(le.native=D),ae==null&&(ae=D),ce=le.native[ae],C.$call(le.$wrap_result(ce))},{$$s:M}),M):M.$enum_for("each")}),A($,"$length",function(){var C=this;return C.native.length}),A($,"$size",function(){var C=this;return C.$length()}),A($,"$nil?",function(){var C=this;return C.native==null}),A($,"$exists?",function(){var C=this;return C["$nil?"]()["$!"]()}),A($,"$to_s",function(){var C=this;return String(C.native)}),A($,"$inspect",function(){var C=this;return"#<JsObject: "+C.$to_s()+">"}),$.$private(),A($,"$snake_to_camel",function(C){var M=D;return K(C,C.$upcase())||(M=C.$split("_"),K(M.$length(),1))?C:re(M["$[]"](0),T(M["$[]"](v(1,-1,!1)),"map",[],"capitalize".$to_proc()).$join())}),A($,"$wrap_result",function(C){return p(C==null)?D:p(typeof C=="number")||p(typeof C=="string")||p(typeof C=="boolean")?C:o("JsObject").$new(C)})}(s[0],null,s),function(t,e,r){var $=ee(t,e,"JsonWrapper"),a=[$].concat(r),o=i.$r(a);return A($,"$parse",function(z){var C=D;return C=JSON.parse(z),o("JsObject").$new(C)}),A($,"$stringify",function(z){var C=D;return C=p(z["$respond_to?"]("to_n"))?z.$to_n():z,JSON.stringify(C)})}(s[0],null,s),function(t,e,r){var $=ee(t,e,"RegExpWrapper"),a=[$].concat(r),o=i.$r(a),m=$.$$prototype;return m.native=D,A($,"$initialize",function(C,M){var G=this;return M==null&&(M=""),G.native=new RegExp(C,M)},-2),A($,"$to_n",R("native")),A($,"$test",function(C){var M=this;return M.native.test(C)}),A($,"$match",function(C){var M=this,G=D;return G=C.match(M.native),p(G===null)?D:o("JsObject").$new(G)}),A($,"$=~",function(C){var M=this;return M.$test(C)})}(s[0],null,s),function(t,e){var r=x(t,"DateWrapper"),$=[r].concat(e),a=i.$r($);return V(r,"$now",function(){return Date.now()}),V(r,"$new",function(m){return m==null&&(m=D),p(m)?a("JsObject").$new(new Date(m)):a("JsObject").$new(new Date)},-1),V(r,"$parse",function(m){return Date.parse(m)})}(s[0],s),A(c,"$has_target?",function(e){var r=this,$=D,a=D;return $=r.$snake_to_camel(e.$to_s()),a="has"+$["$[]"](0).$upcase()+$["$[]"](v(1,-1,!1))+"Target",this[a]}),A(c,"$target",function(e){var r=this,$=D,a=D,o=D;return $=r.$snake_to_camel(e.$to_s()),a=""+$+"Target",o=this[a],n("JsObject").$new(o)}),A(c,"$targets",function(e){var r=this,$=D,a=D,o=D;return $=r.$snake_to_camel(e.$to_s()),a=""+$+"Targets",o=this[a],r.$js_array_to_ruby(o)}),A(c,"$set_target_text",function(e,r){var $=this,a=D,o=D,m=D;a=$.$snake_to_camel(e.$to_s()),o="has"+a["$[]"](0).$upcase()+a["$[]"](v(1,-1,!1))+"Target",m=""+a+"Target",this[o]&&(this[m].textContent=r)}),A(c,"$set_target_class",function(e,r){var $=this,a=D,o=D,m=D;a=$.$snake_to_camel(e.$to_s()),o="has"+a["$[]"](0).$upcase()+a["$[]"](v(1,-1,!1))+"Target",m=""+a+"Target",this[o]&&(this[m].className=r)}),A(c,"$set_target_disabled",function(e,r){var $=this,a=D,o=D,m=D;a=$.$snake_to_camel(e.$to_s()),o="has"+a["$[]"](0).$upcase()+a["$[]"](v(1,-1,!1))+"Target",m=""+a+"Target",this[o]&&(this[m].disabled=r)}),c.$private(),A(c,"$snake_to_camel",function(e){var r=D;return K(e,e.$upcase())||(r=e.$to_s().$split("_"),K(r.$length(),1))?e:re(r["$[]"](0),T(r["$[]"](v(1,-1,!1)),"map",[],"capitalize".$to_proc()).$join())})}(l[0],l)}(d[0],d)}(F[0],F)}(h[0],h),w(h[0],"JsProxyEx",k(k(k(P("OpalVite"),"Concerns"),"V1"),"JsProxyEx"))};Opal.modules["opal_vite/concerns/v1/stimulus_helpers"]=function(i){var x=i.module,p=i.def,A=i.truthy,T=i.eqeq,ee=i.send,X=i.slice,R=i.ensure_kwargs,W=i.get_kwarg,v=i.hash_get,K=i.rb_plus,ie=i.rb_minus,Z=i.to_a,J=i.range,re=i.const_set,V=[],w=i.$r(V),h=i.nil,P=i.$$$;return i.add_stubs("camelize,has_target?,target_set_value,target_set_html,set_target_style,get_target_style,==,show_target,hide_target,call,body_style,to_n,storage_get,is_a?,parse_int,event_data,to_native_element,Native,map,to_a,js_timestamp,is_nan?,parse_float,to_s,empty?,respond_to?,fetch_json_promise,fetch_json_safe,js_then,js_catch,console_error,set_stimulus_value,+,stimulus_value,-,!,get_class,get_classes,has_outlet?,get_outlet,js_call_on,each,get_outlets,nil?,stimulus_dispatch,action_param,[],[]=,flatten,to_proc,blank?,private,include?,upcase,downcase,split,join,first"),function(D,k){var B=x(D,"OpalVite"),y=[B].concat(k);return function(S,F){var I=x(S,"Concerns"),q=[I].concat(F);return function(u,d){var N=x(u,"V1"),g=[N].concat(d);return function(_,l){var E=x(_,"StimulusHelpers"),U=[E].concat(l),c=i.$r(U);return p(E,"$has_target?",function(n){var t=this,e=h;return e="has"+t.$camelize(n)+"Target",this[e]}),p(E,"$get_target",function(n){var t=this,e=h;return A(t["$has_target?"](n))?(e=""+t.$camelize(n,!1)+"Target",this[e]):h}),p(E,"$get_targets",function(n){var t=this,e=h;return e=""+t.$camelize(n,!1)+"Targets",Array.from(this[e]||[])}),p(E,"$target_value",function(n){var t=this,e=h;return A(t["$has_target?"](n))?(e=""+t.$camelize(n,!1)+"Target",this[e].value):h}),p(E,"$target_set_value",function(n,t){var e=this,r=h;return A(e["$has_target?"](n))?(r=""+e.$camelize(n,!1)+"Target",this[r].value=t):h}),p(E,"$target_html",function(n){var t=this,e=h;return A(t["$has_target?"](n))?(e=""+t.$camelize(n,!1)+"Target",this[e].innerHTML):h}),p(E,"$target_set_html",function(n,t){var e=this,r=h;return A(e["$has_target?"](n))?(r=""+e.$camelize(n,!1)+"Target",this[r].innerHTML=t):h}),p(E,"$target_text",function(n){var t=this,e=h;return A(t["$has_target?"](n))?(e=""+t.$camelize(n,!1)+"Target",this[e].textContent):h}),p(E,"$target_set_text",function(n,t){var e=this,r=h;return A(e["$has_target?"](n))?(r=""+e.$camelize(n,!1)+"Target",this[r].textContent=t):h}),p(E,"$target_data",function(n,t){var e=this,r=h;return A(e["$has_target?"](n))?(r=""+e.$camelize(n,!1)+"Target",this[r].getAttribute("data-"+t)):h}),p(E,"$target_set_data",function(n,t,e){var r=this,$=h;return A(r["$has_target?"](n))?($=""+r.$camelize(n,!1)+"Target",this[$].setAttribute("data-"+t,e)):h}),p(E,"$target_clear",function(n){var t=this;return t.$target_set_value(n,"")}),p(E,"$target_clear_html",function(n){var t=this;return t.$target_set_html(n,"")}),p(E,"$set_target_style",function(n,t,e){var r=this,$=h;return A(r["$has_target?"](n))?($=""+r.$camelize(n,!1)+"Target",this[$].style[t]=e):h}),p(E,"$get_target_style",function(n,t){var e=this,r=h;return A(e["$has_target?"](n))?(r=""+e.$camelize(n,!1)+"Target",this[r].style[t]):h}),p(E,"$show_target",function(n){var t=this;return t.$set_target_style(n,"display","")}),p(E,"$hide_target",function(n){var t=this;return t.$set_target_style(n,"display","none")}),p(E,"$toggle_target_visibility",function(n){var t=this,e=h;return e=t.$get_target_style(n,"display"),T(e,"none")?t.$show_target(n):t.$hide_target(n)}),p(E,"$add_target_class",function(n,t){var e=this,r=h;return A(e["$has_target?"](n))?(r=""+e.$camelize(n,!1)+"Target",this[r].classList.add(t)):h}),p(E,"$remove_target_class",function(n,t){var e=this,r=h;return A(e["$has_target?"](n))?(r=""+e.$camelize(n,!1)+"Target",this[r].classList.remove(t)):h}),p(E,"$toggle_target_class",function(n,t){var e=this,r=h;return A(e["$has_target?"](n))?(r=""+e.$camelize(n,!1)+"Target",this[r].classList.toggle(t)):h}),p(E,"$has_target_class?",function(n,t){var e=this,r=h;return A(e["$has_target?"](n))?(r=""+e.$camelize(n,!1)+"Target",this[r].classList.contains(t)):!1}),p(E,"$js_timestamp",function(){return Date.now()}),p(E,"$js_iso_date",function(){return new Date().toISOString()}),p(E,"$js_date",function(n){return n==null&&(n=h),A(n)?new Date(n):new Date},-1),p(E,"$js_regexp",function(n,t){return t==null&&(t=""),new RegExp(n,t)},-2),p(E,"$js_regexp_test",function(n,t,e){return e==null&&(e=""),new RegExp(n,e).test(t)},-3),p(E,"$set_timeout",function s(n){var t=s.$$p||h;return s.$$p=null,setTimeout(function(){t.$call()},n)}),p(E,"$set_interval",function s(n){var t=s.$$p||h;return s.$$p=null,setInterval(function(){t.$call()},n)}),p(E,"$clear_timeout",function(n){return clearTimeout(n)}),p(E,"$clear_interval",function(n){return clearInterval(n)}),p(E,"$body_style",function(n,t){return document.body.style[n]=t}),p(E,"$lock_body_scroll",function(){var n=this;return n.$body_style("overflow","hidden")}),p(E,"$unlock_body_scroll",function(){var n=this;return n.$body_style("overflow","")}),p(E,"$js_array",function(){return[]}),p(E,"$js_array_push",function(n,t){return n.push(t.$to_n())}),p(E,"$js_array_length",function(n){return n.length}),p(E,"$js_array_at",function(n,t){return n[t]}),p(E,"$storage_get",function(n){return localStorage.getItem(n)}),p(E,"$storage_set",function(n,t){return localStorage.setItem(n,t)}),p(E,"$storage_remove",function(n){return localStorage.removeItem(n)}),p(E,"$storage_get_json",function(n,t){var e=this,r=h;return t==null&&(t=h),r=e.$storage_get(n),A(r===null)?t:JSON.parse(r)},-2),p(E,"$storage_set_json",function(n,t){return localStorage.setItem(n,JSON.stringify(t.$to_n()))}),p(E,"$dispatch_window_event",function(n,t){var e=h;t==null&&(t=new Map),e=A(t["$is_a?"](c("Hash")))?t.$to_n():t;const r=new CustomEvent(n,{detail:e});window.dispatchEvent(r)},-2),p(E,"$dispatch_event",function(n,t){var e=h;t==null&&(t=new Map),e=A(t["$is_a?"](c("Hash")))?t.$to_n():t;const r=new CustomEvent(n,{detail:e});this.element.dispatchEvent(r)},-2),p(E,"$on_window_event",function s(n){var t=s.$$p||h;return s.$$p=null,window.addEventListener(n,t)}),p(E,"$off_window_event",function(n,t){return window.removeEventListener(n,t)}),p(E,"$on_document_event",function s(n){var t=s.$$p||h;return s.$$p=null,document.addEventListener(n,t)}),p(E,"$on_dom_ready",function s(){var n=s.$$p||h;return s.$$p=null,document.addEventListener("DOMContentLoaded",n)}),p(E,"$on_element_event",function s(n,t){var e=s.$$p||h;return s.$$p=null,n.addEventListener(t,e)}),p(E,"$off_element_event",function(n,t,e){return n.removeEventListener(t,e)}),p(E,"$on_controller_event",function s(n){var t=s.$$p||h;return s.$$p=null,this.element.addEventListener(n,t)}),p(E,"$event_target",function(){return event.currentTarget}),p(E,"$event_data",function(n){return event.currentTarget.getAttribute("data-"+n)}),p(E,"$event_data_int",function(n){var t=this;return t.$parse_int(t.$event_data(n))}),p(E,"$prevent_default",function(){return event.preventDefault()}),p(E,"$event_key",function(){return event.key}),p(E,"$to_native_element",function(n){return A(typeof n.$to_n=="function")?n.$to_n():n}),p(E,"$add_class",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),r.classList.add(t)}),p(E,"$remove_class",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),r.classList.remove(t)}),p(E,"$toggle_class",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),r.classList.toggle(t)}),p(E,"$has_class?",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),r.classList.contains(t)}),p(E,"$set_attr",function(n,t,e){var r=this,$=h;return $=r.$to_native_element(n),$.setAttribute(t,e)}),p(E,"$get_attr",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),r.getAttribute(t)}),p(E,"$remove_attr",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),r.removeAttribute(t)}),p(E,"$set_style",function(n,t,e){var r=this,$=h;return $=r.$to_native_element(n),$.style[t]=e}),p(E,"$set_html",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),r.innerHTML=t}),p(E,"$set_text",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),r.textContent=t}),p(E,"$get_value",function(n){var t=this,e=h;return e=t.$to_native_element(n),e.value}),p(E,"$set_value",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),r.value=t}),p(E,"$focus",function(n){var t=this,e=h;return e=t.$to_native_element(n),e.focus()}),p(E,"$has_attr?",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),r.hasAttribute(t)}),p(E,"$create_element",function(n){return document.createElement(n)}),p(E,"$append_child",function(n,t){var e=this,r=h,$=h;return r=e.$to_native_element(n),$=e.$to_native_element(t),r.appendChild($)}),p(E,"$remove_element",function(n){var t=this,e=h;return e=t.$to_native_element(n),e.remove()}),p(E,"$next_sibling",function(n){var t=this,e=h;return e=t.$to_native_element(n),e.nextElementSibling}),p(E,"$prev_sibling",function(n){var t=this,e=h;return e=t.$to_native_element(n),e.previousElementSibling}),p(E,"$parent",function(n){var t=this,e=h;return e=t.$to_native_element(n),e.parentElement}),p(E,"$query",function(n){var t=this,e=h;return e=document.querySelector(n),A(e===null)?h:t.$Native(e)}),p(E,"$query_all",function(n){var t=this,e=h;return e=Array.from(document.querySelectorAll(n)),ee(t.$Native(e).$to_a(),"map",[],function r($){var a=r.$$s==null?this:r.$$s;return $==null&&($=h),a.$Native($)},{$$s:t})}),p(E,"$query_element",function(n){var t=this,e=h;return e=this.element.querySelector(n),A(e===null)?h:t.$Native(e)}),p(E,"$query_all_element",function(n){var t=this,e=h;return e=Array.from(this.element.querySelectorAll(n)),ee(t.$Native(e).$to_a(),"map",[],function r($){var a=r.$$s==null?this:r.$$s;return $==null&&($=h),a.$Native($)},{$$s:t})}),p(E,"$doc_root",function(){return document.documentElement}),p(E,"$set_root_attr",function(n,t){return document.documentElement.setAttribute(n,t)}),p(E,"$get_root_attr",function(n){return document.documentElement.getAttribute(n)}),p(E,"$clone_template",function(n){var t=this,e=h;return e=""+t.$camelize(n,!1)+"Target",this[e].content.cloneNode(!0)}),p(E,"$template_first_child",function(n){return n.firstElementChild}),p(E,"$element_add_class",function(n){return this.element.classList.add(n)}),p(E,"$element_remove_class",function(n){return this.element.classList.remove(n)}),p(E,"$element_toggle_class",function(n){return this.element.classList.toggle(n)}),p(E,"$generate_id",function(){var n=this;return n.$js_timestamp()}),p(E,"$target_focus",function(n){var t=this,e=h;return A(t["$has_target?"](n))?(e=""+t.$camelize(n,!1)+"Target",this[e].focus()):h}),p(E,"$target_blur",function(n){var t=this,e=h;return A(t["$has_target?"](n))?(e=""+t.$camelize(n,!1)+"Target",this[e].blur()):h}),p(E,"$parse_int",function(n,t){return t==null&&(t=10),parseInt(n,t)},-2),p(E,"$parse_float",function(n){return parseFloat(n)}),p(E,"$is_nan?",function(n){return Number.isNaN(n)}),p(E,"$parse_int_or",function(n,t){var e=this,r=h;return t==null&&(t=0),r=e.$parse_int(n),A(e["$is_nan?"](r))?t:r},-2),p(E,"$parse_float_or",function(n,t){var e=this,r=h;return t==null&&(t=0),r=e.$parse_float(n),A(e["$is_nan?"](r))?t:r},-2),p(E,"$js_prop",function(n){return this[n.$to_s()]}),p(E,"$js_set_prop",function(n,t){return this[n.$to_s()]=t}),p(E,"$js_has_prop?",function(n){return!!this[n.$to_s()]}),p(E,"$js_call",function(n,t){var e,r,$=h;return e=X(arguments,1),r=e,A(r["$empty?"]())?this[n.$to_s()]():($=ee(r,"map",[],function(o){return o==null&&(o=h),A(o["$respond_to?"]("to_n"))?o.$to_n():o}),this[n.$to_s()].apply(this,$))},-2),p(E,"$js_call_on",function(n,t,e){var r,$,a=h;return r=X(arguments,2),$=r,A($["$empty?"]())?n[t.$to_s()]():(a=ee($,"map",[],function(m){return m==null&&(m=h),A(m["$respond_to?"]("to_n"))?m.$to_n():m}),n[t.$to_s()].apply(n,a))},-3),p(E,"$js_get",function(n,t){return n[t.$to_s()]}),p(E,"$js_set",function(n,t,e){return n[t.$to_s()]=e}),p(E,"$json_parse",function(n){return JSON.parse(n)}),p(E,"$json_stringify",function(n){var t=h;return t=A(n["$respond_to?"]("to_n"))?n.$to_n():n,JSON.stringify(t)}),p(E,"$console_log",function(n){var t,e;return t=X(arguments),e=t,console.log.apply(console,e)},-1),p(E,"$console_warn",function(n){var t,e;return t=X(arguments),e=t,console.warn.apply(console,e)},-1),p(E,"$console_error",function(n){var t,e;return t=X(arguments),e=t,console.error.apply(console,e)},-1),p(E,"$js_string_char_at",function(n,t){return n.charAt(t)}),p(E,"$js_substring",function(n,t,e){return e==null&&(e=h),A(e)?n.substring(t,e):n.substring(t)},-3),p(E,"$js_split",function(n,t){return n.split(t)}),p(E,"$js_trim",function(n){return n.trim()}),p(E,"$js_includes?",function(n,t){return n.includes(t)}),p(E,"$js_equals?",function(n,t){return n===t}),p(E,"$js_loose_equals?",function(n,t){return n==t}),p(E,"$js_random",function(){return Math.random()}),p(E,"$js_min",function(n,t){return Math.min(n,t)}),p(E,"$js_max",function(n,t){return Math.max(n,t)}),p(E,"$js_abs",function(n){return Math.abs(n)}),p(E,"$js_round",function(n){return Math.round(n)}),p(E,"$js_ceil",function(n){return Math.ceil(n)}),p(E,"$js_to_fixed",function(n,t){return n.toFixed(t)}),p(E,"$random_int",function(n){return Math.floor(Math.random()*n)}),p(E,"$js_floor",function(n){return Math.floor(n)}),p(E,"$js_global_exists?",function(n){return typeof window[n]<"u"}),p(E,"$js_global",function(n){return window[n]}),p(E,"$js_new",function(n,t){var e,r,$=h;return e=X(arguments,1),r=e,A(r["$empty?"]())?new n:($=ee(r,"map",[],function(o){return o==null&&(o=h),o!=null&&typeof o.$to_n=="function"?o.$to_n():o}),Reflect.construct(n,$))},-2),p(E,"$js_define_method",function s(n){var t=s.$$p||h;return s.$$p=null,this[n.$to_s()]=t}),p(E,"$js_define_method_on",function s(n,t){var e=s.$$p||h;return s.$$p=null,n[t.$to_s()]=e}),p(E,"$js_length",function(n){return n.length}),p(E,"$js_map",function s(n){var t=s.$$p||h;return s.$$p=null,n.map(t)}),p(E,"$js_filter",function s(n){var t=s.$$p||h;return s.$$p=null,n.filter(t)}),p(E,"$js_reduce",function s(n,t){var e=s.$$p||h;return s.$$p=null,n.reduce(e,t)}),p(E,"$js_each",function s(n){var t=s.$$p||h;return s.$$p=null,n.forEach(t)}),p(E,"$js_slice",function(n,t,e){return e==null&&(e=h),A(e)?n.slice(t,e):n.slice(t)},-3),p(E,"$js_object",function(){return{}}),p(E,"$js_keys",function(n){return Object.keys(n)}),p(E,"$js_values",function(n){return Object.values(n)}),p(E,"$js_entries",function(n){return Object.entries(n)}),p(E,"$js_unique_count",function(n){return new Set(n).size}),p(E,"$js_fetch",function(n){return fetch(n)}),p(E,"$fetch_json",function s(n){var t=s.$$p||h;s.$$p=null,fetch(n).then(e=>e.json()).then(e=>t.$call(e)).catch(e=>console.error("Fetch error:",e))}),p(E,"$fetch_json_promise",function(n){return fetch(n).then(t=>t.json())}),p(E,"$fetch_json_safe",function(n){return fetch(n).then(function(t){if(!t.ok)throw new Error("Network response was not ok: "+t.status);return t.json()})}),p(E,"$fetch_all_json",function(n){var t=this,e=h;return e=ee(n,"map",[],function r($){var a=r.$$s==null?this:r.$$s;return $==null&&($=h),a.$fetch_json_promise($)},{$$s:t}),Promise.all(e)}),p(E,"$fetch_json_with_handlers",function(n,t){var e,r,$=this,a=h;return t=R(t),e=W(t,"on_success"),r=v(t,"on_error"),r==null&&(r=h),a=$.$fetch_json_safe(n),a=ee($,"js_then",[a],function(m){return m==null&&(m=h),e.$call(m)}),A(r)?ee($,"js_catch",[a],function(m){return m==null&&(m=h),r.$call(m)}):ee($,"js_catch",[a],function o(m){var z=o.$$s==null?this:o.$$s;return m==null&&(m=h),z.$console_error("Fetch error:",m)},{$$s:$})}),p(E,"$promise_all",function(n){return Promise.all(n)}),p(E,"$promise_race",function(n){return Promise.race(n)}),p(E,"$promise_resolve",function(n){var t=h;return t=A(n["$respond_to?"]("to_n"))?n.$to_n():n,Promise.resolve(t)}),p(E,"$promise_reject",function(n){return Promise.reject(n)}),p(E,"$js_then",function s(n){var t=s.$$p||h;return s.$$p=null,n.then(t)}),p(E,"$js_catch",function s(n){var t=s.$$p||h;return s.$$p=null,n.catch(t)}),p(E,"$js_finally",function s(n){var t=s.$$p||h;return s.$$p=null,n.finally(t)}),p(E,"$stimulus_value",function(n){var t=this,e=h;return e=""+t.$camelize(n,!1)+"Value",this[e]}),p(E,"$set_stimulus_value",function(n,t){var e=this,r=h,$=h;return r=""+e.$camelize(n,!1)+"Value",$=A(t["$respond_to?"]("to_n"))?t.$to_n():t,this[r]=$}),p(E,"$has_stimulus_value?",function(n){var t=this,e=h;return e="has"+t.$camelize(n)+"Value",this[e]}),p(E,"$increment_stimulus_value",function(n,t){var e=this;return t==null&&(t=1),e.$set_stimulus_value(n,K(e.$stimulus_value(n),t))},-2),p(E,"$decrement_stimulus_value",function(n,t){var e=this;return t==null&&(t=1),e.$set_stimulus_value(n,ie(e.$stimulus_value(n),t))},-2),p(E,"$toggle_stimulus_value",function(n){var t=this;return t.$set_stimulus_value(n,t.$stimulus_value(n)["$!"]())}),p(E,"$get_class",function(n){var t=this,e=h;return e=""+t.$camelize(n,!1)+"Class",this[e]}),p(E,"$get_classes",function(n){var t=this,e=h;return e=""+t.$camelize(n,!1)+"Classes",Array.from(this[e]||[])}),p(E,"$has_class_definition?",function(n){var t=this,e=h;return e="has"+t.$camelize(n)+"Class",this[e]}),p(E,"$apply_class",function(n,t){var e=this,r=h,$=h;return r=e.$to_native_element(n),$=e.$get_class(t),A($)?r.classList.add($):h}),p(E,"$apply_classes",function(n,t){var e=this,r=h,$=h;return r=e.$to_native_element(n),$=e.$get_classes(t),A($)?r.classList.add(...$):h}),p(E,"$remove_applied_class",function(n,t){var e=this,r=h,$=h;return r=e.$to_native_element(n),$=e.$get_class(t),A($)?r.classList.remove($):h}),p(E,"$remove_applied_classes",function(n,t){var e=this,r=h,$=h;return r=e.$to_native_element(n),$=e.$get_classes(t),A($)?r.classList.remove(...$):h}),p(E,"$has_outlet?",function(n){var t=this,e=h;return e="has"+t.$camelize(n)+"Outlet",this[e]}),p(E,"$get_outlet",function(n){var t=this,e=h;return e=""+t.$camelize(n,!1)+"Outlet",this[e]}),p(E,"$get_outlets",function(n){var t=this,e=h;return e=""+t.$camelize(n,!1)+"Outlets",Array.from(this[e]||[])}),p(E,"$get_outlet_element",function(n){var t=this,e=h;return e=""+t.$camelize(n,!1)+"OutletElement",this[e]}),p(E,"$get_outlet_elements",function(n){var t=this,e=h;return e=""+t.$camelize(n,!1)+"OutletElements",Array.from(this[e]||[])}),p(E,"$call_outlet",function(n,t,e){var r,$,a=this,o=h;return r=X(arguments,2),$=r,A(a["$has_outlet?"](n))?(o=a.$get_outlet(n),ee(a,"js_call_on",[o,t].concat(Z($)))):h},-3),p(E,"$call_all_outlets",function(n,t,e){var r,$,a=this;return r=X(arguments,2),$=r,ee(a.$get_outlets(n),"each",[],function o(m){var z=o.$$s==null?this:o.$$s;return m==null&&(m=h),ee(z,"js_call_on",[m,t].concat(Z($)))},{$$s:a})},-3),p(E,"$stimulus_dispatch",function(n,t){var e,r,$,a,o,m=h,z=h;return t=R(t),e=v(t,"detail"),e==null&&(e=new Map),r=v(t,"target"),r==null&&(r=h),$=v(t,"prefix"),$==null&&($=h),a=v(t,"bubbles"),a==null&&(a=!0),o=v(t,"cancelable"),o==null&&(o=!0),m=A(e["$respond_to?"]("to_n"))?e.$to_n():e,z={detail:m,bubbles:a,cancelable:o},A(r["$nil?"]())||(z.target=r),A($["$nil?"]())||(z.prefix=$),this.dispatch(n,z)},-2),p(E,"$stimulus_dispatch_confirm",function(n,t){var e,r=this,$=h;return t=R(t),e=v(t,"detail"),e==null&&(e=new Map),$=r.$stimulus_dispatch(n,new Map([["detail",e],["cancelable",!0]])),!$.defaultPrevented},-2),p(E,"$action_params",function(){return event.params||{}}),p(E,"$action_param",function(n){return(event.params||{})[n.$to_s()]}),p(E,"$action_param_int",function(n,t){var e=this,r=h,$=h;return t==null&&(t=0),r=e.$action_param(n),$=e.$parse_int(r),A(e["$is_nan?"]($))?t:$},-2),p(E,"$action_param_bool",function(n){var t=this,e=h;return e=t.$action_param(n),!!e&&e!=="false"&&e!=="0"}),p(E,"$has_action_param?",function(n){return(event.params||{}).hasOwnProperty(n.$to_s())}),p(E,"$this_application",function(){return this.application}),p(E,"$this_identifier",function(){return this.identifier}),p(E,"$this_element",function(){return this.element}),p(E,"$get_controller",function(n,t){var e=this,r=h;return r=e.$to_native_element(n),this.application.getControllerForElementAndIdentifier(r,t)}),p(E,"$get_controllers",function(n,t){var e=this,r=h;r=e.$to_native_element(n),Array.from(r.querySelectorAll('[data-controller~="'+t+'"]')).map($=>this.application.getControllerForElementAndIdentifier($,t)).filter($=>$!==null)}),p(E,"$this_scope",function(){return this.scope.element}),p(E,"$in_scope?",function(n){var t=this,e=h;return e=t.$to_native_element(n),this.element.contains(e)}),p(E,"$debounce",function s(n){var t=s.$$p||h;s.$$p=null;var e;return function(...r){clearTimeout(e),e=setTimeout(()=>t.$call(),n)}}),p(E,"$throttle",function s(n){var t=s.$$p||h;s.$$p=null;var e=0;return function(...r){var $=Date.now();$-e>=n&&(e=$,t.$call())}}),p(E,"$debounced",function s(n,t){var e=s.$$p||h,r,$=this,a=h,o=h;return $._debounce_timers==null&&($._debounce_timers=h),s.$$p=null,t==null&&(t="default"),$._debounce_timers=A(a=$._debounce_timers)?a:new Map,o="_debounce_"+t,clearTimeout($._debounce_timers["$[]"](o)),r=[o,setTimeout(function(){e.$call()},n)],ee($._debounce_timers,"[]=",r),r[r.length-1]},-2),p(E,"$throttled",function s(n,t){var e=s.$$p||h,r=this,$=h,a=h,o=h,m=h;return r._throttle_times==null&&(r._throttle_times=h),s.$$p=null,t==null&&(t="default"),r._throttle_times=A($=r._throttle_times)?$:new Map,a="_throttle_"+t,o=Date.now(),m=A($=r._throttle_times["$[]"](a))?$:0,A(o-m>=n)?(r._throttle_times["$[]="](a,o),e.$call()):h},-2),p(E,"$copy_to_clipboard",function s(n){var t=s.$$p||h;s.$$p=null,navigator.clipboard.writeText(n).then(function(){A(t)&&t.$call()})}),p(E,"$read_from_clipboard",function s(){var n=s.$$p||h;s.$$p=null,navigator.clipboard.readText().then(function(t){n.$call(t)})}),p(E,"$deep_clone",function(n){return JSON.parse(JSON.stringify(n.$to_n()))}),p(E,"$deep_merge",function(n,t){function e(r,$){var a=Object.assign({},r);for(var o in $)$.hasOwnProperty(o)&&($[o]&&typeof $[o]=="object"&&!Array.isArray($[o])?a[o]=e(a[o]||{},$[o]):a[o]=$[o]);return a}return e(n.$to_n(),t.$to_n())}),p(E,"$pick",function(n,t){var e,r,$=h;return e=X(arguments,1),r=e,$=new Map,ee(r.$flatten(),"each",[],function(o){var m,z=h,C=h;return o==null&&(o=h),z=o.$to_s(),C=n.$to_n(),A(C.hasOwnProperty(z))?(m=[z,C[z]],ee($,"[]=",m),m[m.length-1]):h}),$},-2),p(E,"$omit",function(n,t){var e,r,$,a=h,o=h,m=h;return e=X(arguments,1),r=e,a=ee(r.$flatten(),"map",[],"to_s".$to_proc()),o=new Map,m=n.$to_n(),Object.keys(m).forEach(function(z){a.includes(z)||($=[z,m[z]],ee(o,"[]=",$),$[$.length-1])}),o},-2),p(E,"$unique",function(n){return[...new Set(n.$to_n())]}),p(E,"$intersection",function(n,t){var e=h;return e=new Set(t.$to_n()),n.$to_n().filter(r=>e.has(r))}),p(E,"$difference",function(n,t){var e=h;return e=new Set(t.$to_n()),n.$to_n().filter(r=>!e.has(r))}),p(E,"$union",function(n,t){return[...new Set([...n.$to_n(),...t.$to_n()])]}),p(E,"$valid_email?",function(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}),p(E,"$valid_url?",function(n){try{return new URL(n),!0}catch{return!1}}),p(E,"$valid_phone?",function(n){var t=h;t=n.replace(/[\s\-\(\)\.]/g,"");var e=/^[\+]?[0-9]{10,15}$/;return e.test(t)}),p(E,"$blank?",function(n){return A(n["$nil?"]())?!0:A(typeof n=="string")?n.trim()==="":A(Array.isArray(n))?n.length===0:!1}),p(E,"$present?",function(n){var t=this;return t["$blank?"](n)["$!"]()}),p(E,"$min_length?",function(n,t){return A(n["$nil?"]())?!1:n.length>=t}),p(E,"$max_length?",function(n,t){return A(n["$nil?"]())?!1:n.length<=t}),p(E,"$matches_pattern?",function(n,t){return A(n["$nil?"]())?!1:new RegExp(t).test(n)}),p(E,"$console_styled",function(n,t){return t==null&&(t="color: blue; font-weight: bold;"),console.log("%c"+n,t)},-2),p(E,"$console_group",function s(n,t){var e=s.$$p||h,r;return s.$$p=null,t=R(t),r=v(t,"collapsed"),r==null&&(r=!1),A(r)?console.groupCollapsed(n):console.group(n),e.$call(),console.groupEnd()},-2),p(E,"$console_table",function(n){return console.table(n.$to_n())}),p(E,"$console_time",function(n){var t=h;return t=new Date().toISOString(),console.log("["+t+"] "+n)}),E.$private(),p(E,"$camelize",function(n,t){var e=h,r=h;return t==null&&(t=!0),e=n.$to_s(),A(e["$include?"]("_"))?(r=e.$split("_"),A(t)?ee(r,"map",[],"capitalize".$to_proc()).$join():K([r.$first()],ee(r["$[]"](J(1,-1,!1)),"map",[],"capitalize".$to_proc())).$join()):A(t)?K(e["$[]"](0).$upcase(),e["$[]"](J(1,-1,!1)).$to_s()):K(e["$[]"](0).$downcase(),e["$[]"](J(1,-1,!1)).$to_s())},-2)}(g[0],g)}(q[0],q)}(y[0],y)}(V[0],V),re(V[0],"StimulusHelpers",P(P(P(w("OpalVite"),"Concerns"),"V1"),"StimulusHelpers"))};Opal.modules["opal_vite/concerns/v1/storable"]=function(i){var x=i.module,p=i.truthy,A=i.def,T=i.const_set,ee=[],X=i.$r(ee),R=i.nil,W=i.$$$;return i.add_stubs("to_n"),function(v,K){var ie=x(v,"OpalVite"),Z=[ie].concat(K);return function(J,re){var V=x(J,"Concerns"),w=[V].concat(re);return function(h,P){var D=x(h,"V1"),k=[D].concat(P);return function(B,y){var S=x(B,"Storable"),F=[S].concat(y),I=i.$r(F);return A(S,"$storage_get",function(u){var d=R;if(d=localStorage.getItem(u),!p(d))return R;try{return JSON.parse(d)}catch(N){if(i.rescue(N,[I("StandardError")]))try{return R}finally{i.pop_exception(N)}else throw N}}),A(S,"$storage_set",function(u,d){var N=R;return N=JSON.stringify(d.$to_n()),localStorage.setItem(u,N)}),A(S,"$storage_remove",function(u){return localStorage.removeItem(u)})}(k[0],k)}(w[0],w)}(Z[0],Z)}(ee[0],ee),T(ee[0],"Storable",W(W(W(X("OpalVite"),"Concerns"),"V1"),"Storable"))};Opal.modules["data/translations"]=function(i){var x=i.module,p=i.const_set,A=i.defs,T=i.truthy,ee=[],X=i.nil;return i.add_stubs("freeze,[],include?"),function(R,W){var v=x(R,"Translations"),K=[v].concat(W),ie=i.$r(K);return p(K[0],"SUPPORTED_LOCALES",["en","ja","es","fr","de"].$freeze()),p(K[0],"DEFAULT_LOCALE","en".$freeze()),A(v,"$data",function(){var J=X;return J={en:{title:" Internationalization Example",subtitle:"Multi-language support with Stimulus + Opal",languageLabel:"Select Language",welcomeTitle:"Welcome!",welcomeMessage:"This application demonstrates internationalization (i18n) features. Switch languages using the buttons above.",productsTitle:"Featured Products",product1Name:"Laptop",product1Desc:"High-performance laptop for professionals",product2Name:"Smartphone",product2Desc:"Latest model with amazing camera",product3Name:"Headphones",product3Desc:"Wireless noise-cancelling headphones",notificationsTitle:"Notifications",dateTimeTitle:"Date & Time",currentDateLabel:"Current Date:",currentTimeLabel:"Current Time:",formTitle:"Contact Form",nameLabel:"Name",emailLabel:"Email",messageLabel:"Message",submitBtn:"Send Message",featuresTitle:" Features Demonstrated",feature1Title:" Multi-language",feature1Desc:"Support for 5 languages: EN, JA, ES, FR, DE",feature2Title:" localStorage",feature2Desc:"Language preference persisted in browser",feature3Title:" Pluralization",feature3Desc:"Smart handling of singular/plural forms",feature4Title:" Number Formatting",feature4Desc:"Currency and number formatting per locale",feature5Title:" Date Formatting",feature5Desc:"Locale-specific date and time formats",feature6Title:" Dynamic Switching",feature6Desc:"Instant language switching without reload",footerText:'Built with <a href="https://opalrb.com/" target="_blank">Opal</a>, <a href="https://stimulus.hotwired.dev/" target="_blank">Stimulus</a>, and <a href="https://vitejs.dev/" target="_blank">Vite</a>',placeholders:{name:"Enter your name",email:"Enter your email",message:"Enter your message"},plurals:{message:{zero:"You have no new messages",one:"You have 1 new message",other:"You have {count} new messages"},item:{zero:"Out of stock",one:"1 item in stock",other:"{count} items in stock"}}},ja:{title:" ",subtitle:"Stimulus + Opal",languageLabel:"",welcomeTitle:"",welcomeMessage:"i18n",productsTitle:"",product1Name:"",product1Desc:"",product2Name:"",product2Desc:"",product3Name:"",product3Desc:"",notificationsTitle:"",dateTimeTitle:"",currentDateLabel:"",currentTimeLabel:"",formTitle:"",nameLabel:"",emailLabel:"",messageLabel:"",submitBtn:"",featuresTitle:" ",feature1Title:" ",feature1Desc:"5ENJAESFRDE",feature2Title:" localStorage",feature2Desc:"",feature3Title:" ",feature3Desc:"",feature4Title:" ",feature4Desc:"",feature5Title:" ",feature5Desc:"",feature6Title:" ",feature6Desc:"",footerText:'<a href="https://opalrb.com/" target="_blank">Opal</a><a href="https://stimulus.hotwired.dev/" target="_blank">Stimulus</a><a href="https://vitejs.dev/" target="_blank">Vite</a>',placeholders:{name:"",email:"",message:""},plurals:{message:{zero:"",one:"1",other:"{count}"},item:{zero:"",one:"1",other:"{count}"}}},es:{title:" Ejemplo de Internacionalizacin",subtitle:"Soporte multiidioma con Stimulus + Opal",languageLabel:"Seleccionar Idioma",welcomeTitle:"Bienvenido!",welcomeMessage:"Esta aplicacin demuestra caractersticas de internacionalizacin (i18n). Cambia de idioma usando los botones de arriba.",productsTitle:"Productos Destacados",product1Name:"Porttil",product1Desc:"Porttil de alto rendimiento para profesionales",product2Name:"Telfono Inteligente",product2Desc:"ltimo modelo con cmara increble",product3Name:"Auriculares",product3Desc:"Auriculares inalmbricos con cancelacin de ruido",notificationsTitle:"Notificaciones",dateTimeTitle:"Fecha y Hora",currentDateLabel:"Fecha Actual:",currentTimeLabel:"Hora Actual:",formTitle:"Formulario de Contacto",nameLabel:"Nombre",emailLabel:"Correo Electrnico",messageLabel:"Mensaje",submitBtn:"Enviar Mensaje",featuresTitle:" Caractersticas Demostradas",feature1Title:" Multiidioma",feature1Desc:"Soporte para 5 idiomas: EN, JA, ES, FR, DE",feature2Title:" localStorage",feature2Desc:"Preferencia de idioma guardada en el navegador",feature3Title:" Pluralizacin",feature3Desc:"Manejo inteligente de formas singulares/plurales",feature4Title:" Formato de Nmeros",feature4Desc:"Formato de moneda y nmeros por configuracin regional",feature5Title:" Formato de Fecha",feature5Desc:"Formatos de fecha y hora especficos del idioma",feature6Title:" Cambio Dinmico",feature6Desc:"Cambio instantneo de idioma sin recargar",footerText:'Construido con <a href="https://opalrb.com/" target="_blank">Opal</a>, <a href="https://stimulus.hotwired.dev/" target="_blank">Stimulus</a> y <a href="https://vitejs.dev/" target="_blank">Vite</a>',placeholders:{name:"Ingrese su nombre",email:"Ingrese su correo electrnico",message:"Ingrese su mensaje"},plurals:{message:{zero:"No tienes mensajes nuevos",one:"Tienes 1 mensaje nuevo",other:"Tienes {count} mensajes nuevos"},item:{zero:"Agotado",one:"1 artculo en stock",other:"{count} artculos en stock"}}},fr:{title:" Exemple d'Internationalisation",subtitle:"Support multilingue avec Stimulus + Opal",languageLabel:"Slectionner la Langue",welcomeTitle:"Bienvenue !",welcomeMessage:"Cette application dmontre les fonctionnalits d'internationalisation (i18n). Changez de langue en utilisant les boutons ci-dessus.",productsTitle:"Produits en Vedette",product1Name:"Ordinateur Portable",product1Desc:"Ordinateur portable haute performance pour les professionnels",product2Name:"Smartphone",product2Desc:"Dernier modle avec appareil photo incroyable",product3Name:"Casque Audio",product3Desc:"Casque sans fil  rduction de bruit",notificationsTitle:"Notifications",dateTimeTitle:"Date et Heure",currentDateLabel:"Date Actuelle :",currentTimeLabel:"Heure Actuelle :",formTitle:"Formulaire de Contact",nameLabel:"Nom",emailLabel:"E-mail",messageLabel:"Message",submitBtn:"Envoyer le Message",featuresTitle:" Fonctionnalits Dmontres",feature1Title:" Multilingue",feature1Desc:"Support de 5 langues : EN, JA, ES, FR, DE",feature2Title:" localStorage",feature2Desc:"Prfrence de langue conserve dans le navigateur",feature3Title:" Pluralisation",feature3Desc:"Gestion intelligente des formes singulier/pluriel",feature4Title:" Formatage des Nombres",feature4Desc:"Formatage des devises et des nombres par locale",feature5Title:" Formatage de Date",feature5Desc:"Formats de date et heure spcifiques  la locale",feature6Title:" Changement Dynamique",feature6Desc:"Changement de langue instantan sans rechargement",footerText:'Construit avec <a href="https://opalrb.com/" target="_blank">Opal</a>, <a href="https://stimulus.hotwired.dev/" target="_blank">Stimulus</a> et <a href="https://vitejs.dev/" target="_blank">Vite</a>',placeholders:{name:"Entrez votre nom",email:"Entrez votre e-mail",message:"Entrez votre message"},plurals:{message:{zero:"Vous n'avez aucun nouveau message",one:"Vous avez 1 nouveau message",other:"Vous avez {count} nouveaux messages"},item:{zero:"Rupture de stock",one:"1 article en stock",other:"{count} articles en stock"}}},de:{title:" Internationalisierungsbeispiel",subtitle:"Mehrsprachige Untersttzung mit Stimulus + Opal",languageLabel:"Sprache Whlen",welcomeTitle:"Willkommen!",welcomeMessage:"Diese Anwendung demonstriert Internationalisierungs (i18n) Funktionen. Wechseln Sie die Sprache mit den Schaltflchen oben.",productsTitle:"Ausgewhlte Produkte",product1Name:"Laptop",product1Desc:"Hochleistungs-Laptop fr Profis",product2Name:"Smartphone",product2Desc:"Neuestes Modell mit erstaunlicher Kamera",product3Name:"Kopfhrer",product3Desc:"Kabellose Kopfhrer mit Geruschunterdrckung",notificationsTitle:"Benachrichtigungen",dateTimeTitle:"Datum und Uhrzeit",currentDateLabel:"Aktuelles Datum:",currentTimeLabel:"Aktuelle Uhrzeit:",formTitle:"Kontaktformular",nameLabel:"Name",emailLabel:"E-Mail",messageLabel:"Nachricht",submitBtn:"Nachricht Senden",featuresTitle:" Demonstrierte Funktionen",feature1Title:" Mehrsprachig",feature1Desc:"Untersttzung fr 5 Sprachen: EN, JA, ES, FR, DE",feature2Title:" localStorage",feature2Desc:"Sprachprferenz im Browser gespeichert",feature3Title:" Pluralisierung",feature3Desc:"Intelligente Handhabung von Singular-/Pluralformen",feature4Title:" Zahlenformatierung",feature4Desc:"Whrungs- und Zahlenformatierung pro Gebietsschema",feature5Title:" Datumsformatierung",feature5Desc:"Gebietsschemaspezifische Datums- und Zeitformate",feature6Title:" Dynamischer Wechsel",feature6Desc:"Sofortiger Sprachwechsel ohne Neuladen",footerText:'Erstellt mit <a href="https://opalrb.com/" target="_blank">Opal</a>, <a href="https://stimulus.hotwired.dev/" target="_blank">Stimulus</a> und <a href="https://vitejs.dev/" target="_blank">Vite</a>',placeholders:{name:"Geben Sie Ihren Namen ein",email:"Geben Sie Ihre E-Mail ein",message:"Geben Sie Ihre Nachricht ein"},plurals:{message:{zero:"Sie haben keine neuen Nachrichten",one:"Sie haben 1 neue Nachricht",other:"Sie haben {count} neue Nachrichten"},item:{zero:"Nicht vorrtig",one:"1 Artikel auf Lager",other:"{count} Artikel auf Lager"}}}},J}),p(K[0],"SUCCESS_MESSAGES",new Map([["en","Message sent successfully!"],["ja",""],["es","Mensaje enviado con xito!"],["fr","Message envoy avec succs !"],["de","Nachricht erfolgreich gesendet!"]]).$freeze()),A(v,"$success_message",function(J){var re=X;return T(re=ie("SUCCESS_MESSAGES")["$[]"](J))?re:ie("SUCCESS_MESSAGES")["$[]"](ie("DEFAULT_LOCALE"))}),A(v,"$supported?",function(J){return ie("SUPPORTED_LOCALES")["$include?"](J)})}(ee[0],ee)};Opal.modules["services/i18n_service"]=function(i){var x=i.klass,p=i.const_set,A=i.truthy,T=i.def,ee=i.return_ivar,X=i.eqeqeq,R=i.eqeq,W=[],v=i.nil,K=i.$$$;return i.add_stubs("include,freeze,attr_reader,data,load_saved_locale,supported?,save_locale,===,js_get,to_sym,==,js_global,js_new,to_n,js_call_on,success_message,private,storage_get,storage_set"),function(ie,Z,J){var re=x(ie,Z,"I18nService"),V=[re].concat(J),w=i.$r(V),h=re.$$prototype;return h.translations=h.current_locale=v,re.$include(w("StimulusHelpers")),p(V[0],"STORAGE_KEY","preferredLocale".$freeze()),re.$attr_reader("translations"),T(re,"$initialize",function(){var D=this,k=v;return D.translations=w("Translations").$data(),D.current_locale=A(k=D.$load_saved_locale())?k:K(w("Translations"),"DEFAULT_LOCALE")}),T(re,"$current_locale",ee("current_locale")),T(re,"$current_locale=",function(D){var k=this;return A(w("Translations")["$supported?"](D))?(k.current_locale=D,k.$save_locale(D)):v}),T(re,"$t",function(){var D=this,k=v;return!A(D.translations)||(k=D.translations[D.current_locale],A(k===void 0))?v:k}),T(re,"$valid_locale?",function(D){var k=this,B=v;return B=typeof k.translations=="object"&&k.translations!==null,A(B)?k.translations[D]!==void 0:!1}),T(re,"$pluralize",function(D,k){var B=this,y=v,S=v,F=v;return y=X(0,S=k)?"zero":X(1,S)?"one":"other",F=A(S=B.$js_get(D,y.$to_sym()))?S:B.$js_get(D,"other"),F.replace("{count}",k)}),T(re,"$format_currency",function(D){var k=this,B=v,y=v,S=v,F=v;B=R(k.current_locale,"ja")?"JPY":"USD";try{return y=k.$js_global("Intl"),S=k.$js_get(y,"NumberFormat"),F=k.$js_new(S,k.current_locale,new Map([["style","currency"],["currency",B]]).$to_n()),k.$js_call_on(F,"format",D)}catch(I){if(i.rescue(I,[w("StandardError")]))try{return"$"+D.toFixed(2)}finally{i.pop_exception(I)}else throw I}}),T(re,"$format_date",function(D){var k=this,B=v,y=v,S=v,F=v;try{return B=k.$js_global("Intl"),y=k.$js_get(B,"DateTimeFormat"),S=new Map([["year","numeric"],["month","long"],["day","numeric"]]).$to_n(),F=k.$js_new(y,k.current_locale,S),k.$js_call_on(F,"format",D)}catch(I){if(i.rescue(I,[w("StandardError")]))try{return D.toLocaleDateString()}finally{i.pop_exception(I)}else throw I}}),T(re,"$format_time",function(D){var k=this,B=v,y=v,S=v,F=v;try{return B=k.$js_global("Intl"),y=k.$js_get(B,"DateTimeFormat"),S=new Map([["hour","numeric"],["minute","numeric"],["hour12",k.current_locale["$=="]("en")]]).$to_n(),F=k.$js_new(y,k.current_locale,S),k.$js_call_on(F,"format",D)}catch(I){if(i.rescue(I,[w("StandardError")]))try{return D.toLocaleTimeString()}finally{i.pop_exception(I)}else throw I}}),T(re,"$success_message",function(){var D=this;return w("Translations").$success_message(D.current_locale)}),re.$private(),T(re,"$load_saved_locale",function(){var D=this,k=v;return k=D.$storage_get(w("STORAGE_KEY")),A(k)&&A(w("Translations")["$supported?"](k))?k:v}),T(re,"$save_locale",function(D){var k=this;return k.$storage_set(w("STORAGE_KEY"),D)})}(W[0],null,W)};Opal.modules["controllers/i18n_controller"]=function(i){var x=i.klass,p=i.def,A=i.truthy,T=i.send,ee=[],X=i.$r(ee),R=i.nil;return i.add_stubs("include,targets=,values=,new,js_set_prop,current_locale,update_active_button,update_translations,current_target,wrap_js,dataset,[],valid_locale?,current_locale=,prevent_default,success_message,private,js_prop,js_each,js_get,js_call_on,t,update_text_targets,update_placeholders,update_pluralized_messages,update_prices,update_date_time,set_root_attr,has_target?,target_set_text,target_set_html,get_target,js_set,pluralize,format_currency,js_date,format_date,format_time"),function(W,v,K){var ie=x(W,v,"I18nController"),Z=[ie].concat(K),J=i.$r(Z),re=ie.$$prototype;return re.i18n_service=R,ie.$include(J("JsProxyEx")),ie.$include(J("StimulusHelpers")),ie["$targets="](i.large_array_unpack("title,subtitle,languageLabel,langBtn,welcomeTitle,welcomeMessage,productsTitle,product1Name,product1Desc,product1Price,product1Stock,product2Name,product2Desc,product2Price,product2Stock,product3Name,product3Desc,product3Price,product3Stock,notificationsTitle,notification1,notification2,notification3,dateTimeTitle,currentDateLabel,currentDate,currentTimeLabel,currentTime,formTitle,nameLabel,nameInput,emailLabel,emailInput,messageLabel,messageInput,submitBtn,featuresTitle,feature1Title,feature1Desc,feature2Title,feature2Desc,feature3Title,feature3Desc,feature4Title,feature4Desc,feature5Title,feature5Desc,feature6Title,feature6Desc,footerText")),ie["$values="](new Map([["current_locale","string"]])),p(ie,"$connect",function(){var w=this;return w.i18n_service=J("I18nService").$new(),w.$js_set_prop("currentLocaleValue",w.i18n_service.$current_locale()),w.$update_active_button(),w.$update_translations()}),p(ie,"$switch_language",function(w){var h=this,P=R,D=R,k=R;return P=w.$current_target(),D=h.$wrap_js(P.$dataset()),k=D["$[]"]("locale"),A(h.i18n_service["$valid_locale?"](k))?(h.i18n_service["$current_locale="](k),h.$js_set_prop("currentLocaleValue",k),h.$update_active_button(),h.$update_translations()):R}),p(ie,"$handle_submit",function(w){var h=this,P=R;return w.$prevent_default(),P=h.i18n_service.$success_message(),alert(P)}),ie.$private(),p(ie,"$update_active_button",function(){var w=this,h=R,P=R;return h=w.$js_prop("langBtnTargets"),P=w.i18n_service.$current_locale(),T(w,"js_each",[h],function D(k){var B=D.$$s==null?this:D.$$s,y=R,S=R;return k==null&&(k=R),y=B.$js_get(B.$js_get(k,"dataset"),"locale"),S=B.$js_get(k,"classList"),A(y===P)?B.$js_call_on(S,"add","active"):B.$js_call_on(S,"remove","active")},{$$s:w})}),p(ie,"$update_translations",function(){var w=this,h=R;return h=w.i18n_service.$t(),A(h)?(w.$update_text_targets(h),w.$update_placeholders(h),w.$update_pluralized_messages(h),w.$update_prices(),w.$update_date_time(),w.$set_root_attr("lang",w.i18n_service.$current_locale())):R}),p(ie,"$update_text_targets",function(w){var h=this;return A(h["$has_target?"]("title"))&&h.$target_set_text("title",h.$js_get(w,"title")),A(h["$has_target?"]("subtitle"))&&h.$target_set_text("subtitle",h.$js_get(w,"subtitle")),A(h["$has_target?"]("languageLabel"))&&h.$target_set_text("languageLabel",h.$js_get(w,"languageLabel")),A(h["$has_target?"]("welcomeTitle"))&&h.$target_set_text("welcomeTitle",h.$js_get(w,"welcomeTitle")),A(h["$has_target?"]("welcomeMessage"))&&h.$target_set_text("welcomeMessage",h.$js_get(w,"welcomeMessage")),A(h["$has_target?"]("productsTitle"))&&h.$target_set_text("productsTitle",h.$js_get(w,"productsTitle")),A(h["$has_target?"]("product1Name"))&&h.$target_set_text("product1Name",h.$js_get(w,"product1Name")),A(h["$has_target?"]("product1Desc"))&&h.$target_set_text("product1Desc",h.$js_get(w,"product1Desc")),A(h["$has_target?"]("product2Name"))&&h.$target_set_text("product2Name",h.$js_get(w,"product2Name")),A(h["$has_target?"]("product2Desc"))&&h.$target_set_text("product2Desc",h.$js_get(w,"product2Desc")),A(h["$has_target?"]("product3Name"))&&h.$target_set_text("product3Name",h.$js_get(w,"product3Name")),A(h["$has_target?"]("product3Desc"))&&h.$target_set_text("product3Desc",h.$js_get(w,"product3Desc")),A(h["$has_target?"]("notificationsTitle"))&&h.$target_set_text("notificationsTitle",h.$js_get(w,"notificationsTitle")),A(h["$has_target?"]("dateTimeTitle"))&&h.$target_set_text("dateTimeTitle",h.$js_get(w,"dateTimeTitle")),A(h["$has_target?"]("currentDateLabel"))&&h.$target_set_text("currentDateLabel",h.$js_get(w,"currentDateLabel")),A(h["$has_target?"]("currentTimeLabel"))&&h.$target_set_text("currentTimeLabel",h.$js_get(w,"currentTimeLabel")),A(h["$has_target?"]("formTitle"))&&h.$target_set_text("formTitle",h.$js_get(w,"formTitle")),A(h["$has_target?"]("nameLabel"))&&h.$target_set_text("nameLabel",h.$js_get(w,"nameLabel")),A(h["$has_target?"]("emailLabel"))&&h.$target_set_text("emailLabel",h.$js_get(w,"emailLabel")),A(h["$has_target?"]("messageLabel"))&&h.$target_set_text("messageLabel",h.$js_get(w,"messageLabel")),A(h["$has_target?"]("submitBtn"))&&h.$target_set_text("submitBtn",h.$js_get(w,"submitBtn")),A(h["$has_target?"]("featuresTitle"))&&h.$target_set_text("featuresTitle",h.$js_get(w,"featuresTitle")),A(h["$has_target?"]("feature1Title"))&&h.$target_set_text("feature1Title",h.$js_get(w,"feature1Title")),A(h["$has_target?"]("feature1Desc"))&&h.$target_set_text("feature1Desc",h.$js_get(w,"feature1Desc")),A(h["$has_target?"]("feature2Title"))&&h.$target_set_text("feature2Title",h.$js_get(w,"feature2Title")),A(h["$has_target?"]("feature2Desc"))&&h.$target_set_text("feature2Desc",h.$js_get(w,"feature2Desc")),A(h["$has_target?"]("feature3Title"))&&h.$target_set_text("feature3Title",h.$js_get(w,"feature3Title")),A(h["$has_target?"]("feature3Desc"))&&h.$target_set_text("feature3Desc",h.$js_get(w,"feature3Desc")),A(h["$has_target?"]("feature4Title"))&&h.$target_set_text("feature4Title",h.$js_get(w,"feature4Title")),A(h["$has_target?"]("feature4Desc"))&&h.$target_set_text("feature4Desc",h.$js_get(w,"feature4Desc")),A(h["$has_target?"]("feature5Title"))&&h.$target_set_text("feature5Title",h.$js_get(w,"feature5Title")),A(h["$has_target?"]("feature5Desc"))&&h.$target_set_text("feature5Desc",h.$js_get(w,"feature5Desc")),A(h["$has_target?"]("feature6Title"))&&h.$target_set_text("feature6Title",h.$js_get(w,"feature6Title")),A(h["$has_target?"]("feature6Desc"))&&h.$target_set_text("feature6Desc",h.$js_get(w,"feature6Desc")),A(h["$has_target?"]("footerText"))?h.$target_set_html("footerText",h.$js_get(w,"footerText")):R}),p(ie,"$update_placeholders",function(w){var h=this,P=R,D=R,k=R,B=R;return P=h.$js_get(w,"placeholders"),A(P)?(A(h["$has_target?"]("nameInput"))&&(D=h.$get_target("nameInput"),h.$js_set(D,"placeholder",h.$js_get(P,"name"))),A(h["$has_target?"]("emailInput"))&&(k=h.$get_target("emailInput"),h.$js_set(k,"placeholder",h.$js_get(P,"email"))),A(h["$has_target?"]("messageInput"))?(B=h.$get_target("messageInput"),h.$js_set(B,"placeholder",h.$js_get(P,"message"))):R):R}),p(ie,"$update_pluralized_messages",function(w){var h=this,P=R,D=R,k=R;return P=h.$js_get(w,"plurals"),A(P)?(D=h.$js_get(P,"message"),k=h.$js_get(P,"item"),A(h["$has_target?"]("notification1"))&&h.$target_set_text("notification1",h.i18n_service.$pluralize(D,1)),A(h["$has_target?"]("notification2"))&&h.$target_set_text("notification2",h.i18n_service.$pluralize(D,5)),A(h["$has_target?"]("notification3"))&&h.$target_set_text("notification3",h.i18n_service.$pluralize(D,0)),A(h["$has_target?"]("product1Stock"))&&h.$target_set_text("product1Stock",h.i18n_service.$pluralize(k,10)),A(h["$has_target?"]("product2Stock"))&&h.$target_set_text("product2Stock",h.i18n_service.$pluralize(k,1)),A(h["$has_target?"]("product3Stock"))?h.$target_set_text("product3Stock",h.i18n_service.$pluralize(k,0)):R):R}),p(ie,"$update_prices",function(){var w=this;return A(w["$has_target?"]("product1Price"))&&w.$target_set_text("product1Price",w.i18n_service.$format_currency(1299.99)),A(w["$has_target?"]("product2Price"))&&w.$target_set_text("product2Price",w.i18n_service.$format_currency(899.99)),A(w["$has_target?"]("product3Price"))?w.$target_set_text("product3Price",w.i18n_service.$format_currency(349.99)):R}),p(ie,"$update_date_time",function(){var w=this,h=R;return h=w.$js_date(),A(w["$has_target?"]("currentDate"))&&w.$target_set_text("currentDate",w.i18n_service.$format_date(h)),A(w["$has_target?"]("currentTime"))?w.$target_set_text("currentTime",w.i18n_service.$format_time(h)):R})}(ee[0],X("StimulusController"),ee)};Opal.queue(function(i){var x=i.top,p=[],A=i.$r(p);return i.nil,i.add_stubs("require,puts,register_all!"),x.$require("native"),x.$require("opal_stimulus/stimulus_controller"),x.$require("opal_vite/concerns/v1/js_proxy_ex"),x.$require("opal_vite/concerns/v1/stimulus_helpers"),x.$require("opal_vite/concerns/v1/storable"),x.$require("data/translations"),x.$require("services/i18n_service"),x.$require("controllers/i18n_controller"),x.$puts("i18n Example - Opal + Stimulus"),x.$puts("Ruby version: "+A("RUBY_VERSION")),A("StimulusController")["$register_all!"](),x.$puts("All controllers registered!")});
