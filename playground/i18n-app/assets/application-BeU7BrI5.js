Opal.modules.native=function(e){var x=e.hash_put,E=e.module,N=e.defs,S=e.slice,ee=e.truthy,Z=e.send,R=e.Kernel,V=e.extract_kwargs,g=e.ensure_kwargs,H=e.hash_get,$e=e.range,Q=e.to_a,J=e.def,re=e.return_ivar,D=e.alias,b=e.klass,y=e.rb_minus,K=e.return_val,F=e.send2,z=e.find_super,B=e.eqeqeq,p=e.rb_ge,k=e.return_self,P=e.gvars,A=e.top,q=[],o=e.$r(q),d=e.nil,T=e.$$$;return e.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(h,l){var c=E(h,"Native"),X=[c].concat(l),w=e.$r(X);return N(c,"$is_a?",function(a,$){var n=this;try{return a instanceof n.$try_convert($)}catch{return!1}}),N(c,"$try_convert",function(a,$){var n=this;return $==null&&($=d),n["$native?"](a)?a:a["$respond_to?"]("to_n")?a.$to_n():$},-2),N(c,"$convert",function(a){var $=this;if($["$native?"](a))return a;if(a["$respond_to?"]("to_n"))return a.$to_n();$.$raise(w("ArgumentError"),""+a.$inspect()+" isn't native")}),N(c,"$call",function s(a,$,n){var t=s.$$p||d,r,i,u=this;s.$$p=null,r=S(arguments,2),i=r;var f=a[$];if(f instanceof Function){for(var v=new Array(i.length),I=0,C=i.length;I<C;I++){var M=i[I],G=u.$try_convert(M);v[I]=G===d?M:G}return t!==d&&v.push(t),u.$Native(f.apply(a,v))}else return u.$Native(f)},-3),N(c,"$proc",function s(){var a=s.$$p||d,$=this;return s.$$p=null,ee(a)||$.$raise(w("LocalJumpError"),"no block given"),Z(R,"proc",[],function n(t){var r,i,u=n.$$s==null?this:n.$$s,f=d;if(r=S(arguments),i=r,Z(i,"map!",[],function I(C){var M=I.$$s==null?this:I.$$s;return C==null&&(C=d),M.$Native(C)},{$$s:u}),f=u.$Native(this),this===e.global)return a.apply(u,i);var v=a.$$s;a.$$s=null;try{return a.apply(f,i)}finally{a.$$s=v}},{$$arity:-1,$$s:$})}),function(s,a){var $=E(s,"Helpers"),n=[$].concat(a),t=e.$r(n);return J($,"$alias_native",function r(i,u,f){var v,I,C,M;r.$$p;var G=this;return r.$$p=null,v=S(arguments,1),I=V(v),I=g(I),v.length>0&&(C=v.shift()),C==null&&(C=i),M=H(I,"as"),M==null&&(M=d),ee(C["$end_with?"]("="))?Z(G,"define_method",[i],function O(ae){var le=O.$$s==null?this:O.$$s;return le.native==null&&(le.native=d),ae==null&&(ae=d),le.native[C["$[]"]($e(0,-2,!1))]=t("Native").$convert(ae),ae},{$$s:G}):ee(M)?Z(G,"define_method",[i],function O(ae){var le=O.$$p||d,ce,de,he=O.$$s==null?this:O.$$s,ve=d;return he.native==null&&(he.native=d),O.$$p=null,ce=S(arguments),de=ce,ve=Z(t("Native"),"call",[he.native,C].concat(Q(de)),le.$to_proc()),ee(ve)?M.$new(ve.$to_n()):d},{$$arity:-1,$$s:G}):Z(G,"define_method",[i],function O(ae){var le=O.$$p||d,ce,de,he=O.$$s==null?this:O.$$s;return he.native==null&&(he.native=d),O.$$p=null,ce=S(arguments),de=ce,Z(t("Native"),"call",[he.native,C].concat(Q(de)),le.$to_proc())},{$$arity:-1,$$s:G})},-2),J($,"$native_reader",function(i){var u,f,v=this;return u=S(arguments),f=u,Z(f,"each",[],function I(C){var M=I.$$s==null?this:I.$$s;return C==null&&(C=d),Z(M,"define_method",[C],function G(){var O=G.$$s==null?this:G.$$s;return O.native==null&&(O.native=d),O.$Native(O.native[C])},{$$s:M})},{$$s:v})},-1),J($,"$native_writer",function(i){var u,f,v=this;return u=S(arguments),f=u,Z(f,"each",[],function I(C){var M=I.$$s==null?this:I.$$s;return C==null&&(C=d),Z(M,"define_method",[""+C+"="],function G(O){var ae=G.$$s==null?this:G.$$s;return ae.native==null&&(ae.native=d),O==null&&(O=d),ae.$Native(ae.native[C]=O)},{$$s:M})},{$$s:v})},-1),J($,"$native_accessor",function(i){var u,f,v=this;return u=S(arguments),f=u,Z(v,"native_reader",Q(f)),Z(v,"native_writer",Q(f))},-1)}(X[0],X),function(s,a){var $=E(s,"Wrapper"),n=[$].concat(a),t=e.$r(n);return J($,"$initialize",function(i){var u=this;return ee(R["$native?"](i))||R.$raise(t("ArgumentError"),""+i.$inspect()+" isn't native"),u.native=i}),J($,"$to_n",re("native")),N($,"$included",function(i){return i.$extend(t("Helpers"))})}(X[0],X),N(c,"$included",function(a){var $=this;return $.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),a.$include(w("Wrapper"))})}(q[0],q),function(h,l){var c=E(h,"Kernel"),X=[c].concat(l),w=e.$r(X);return J(c,"$native?",function(a){return a==null||!a.$$class}),J(c,"$Native",function s(a){s.$$p;var $=this;return s.$$p=null,ee(a==null)?d:ee($["$native?"](a))?T(w("Native"),"Object").$new(a):ee(a["$is_a?"](w("Array")))?Z(a,"map",[],function n(t){var r=n.$$s==null?this:n.$$s;return t==null&&(t=d),r.$Native(t)},{$$s:$}):ee(a["$is_a?"](w("Proc")))?Z($,"proc",[],function n(t){var r=n.$$p||d,i,u,f=n.$$s==null?this:n.$$s;return n.$$p=null,i=S(arguments),u=i,f.$Native(Z(a,"call",Q(u),r.$to_proc()))},{$$arity:-1,$$s:$}):a}),D(c,"_Array","Array"),J(c,"$Array",function s(a,$){var n=s.$$p||d,t,r,i=this;return s.$$p=null,t=S(arguments,1),r=t,ee(i["$native?"](a))?Z(T(w("Native"),"Array"),"new",[a].concat(Q(r)),n.$to_proc()).$to_a():i.$_Array(a)},-2)}(q[0],q),function(h,l){var c=b(h,l,"Object"),X=c.$$prototype;return X.native=d,c.$include(T(T("Native"),"Wrapper")),J(c,"$==",function(s){var a=this;return a.native===T("Native").$try_convert(s)}),J(c,"$has_key?",function(s){var a=this;return e.hasOwnProperty.call(a.native,s)}),J(c,"$each",function w(s){var a,$,n=w.$$p||d,t=this;if(w.$$p=null,a=S(arguments),$=a,n!==d){for(var r in t.native)e.yieldX(n,[r,t.native[r]]);return t}else return Z(t,"method_missing",["each"].concat(Q($)))},-1),J(c,"$[]",function(s){var a=this,$=a.native[s];return $ instanceof Function?$:T("Native").$call(a.native,s)}),J(c,"$[]=",function(s,a){var $=this,n=d;return n=T("Native").$try_convert(a),ee(n===d)?$.native[s]=a:$.native[s]=n}),J(c,"$merge!",function(s){var a=this;s=T("Native").$convert(s);for(var $ in s)a.native[$]=s[$];return a}),J(c,"$respond_to?",function(s,a){var $=this;return a==null&&(a=!1),R.$instance_method("respond_to?").$bind($).$call(s,a)},-2),J(c,"$respond_to_missing?",function(s,a){var $=this;return e.hasOwnProperty.call($.native,s)},-2),J(c,"$method_missing",function w(s,a){var $=w.$$p||d,n,t,r,i=this;return w.$$p=null,n=S(arguments,1),t=n,s.charAt(s.length-1)==="="?(r=[s.$slice(0,y(s.$length(),1)),t["$[]"](0)],Z(i,"[]=",r),r[r.length-1]):Z(T("Native"),"call",[i.native,s].concat(Q(t)),$.$to_proc())},-2),J(c,"$nil?",K(!1)),J(c,"$is_a?",function(s){var a=this;return e.is_a(a,s)}),J(c,"$instance_of?",function(s){var a=this;return a.$$class===s}),J(c,"$class",function(){var s=this;return s.$$class}),J(c,"$to_a",function w(s){var a=w.$$p||d,$=this;return w.$$p=null,s==null&&(s=new Map),Z(T(T("Native"),"Array"),"new",[$.native,s],a.$to_proc()).$to_a()},-1),J(c,"$inspect",function(){var s=this;return"#<Native:"+String(s.native)+">"}),D(c,"include?","has_key?"),D(c,"key?","has_key?"),D(c,"kind_of?","is_a?"),D(c,"member?","has_key?")}(o("Native"),o("BasicObject")),function(h,l,c){var X=b(h,l,"Array"),w=[X].concat(c),s=e.$r(w),a=X.$$prototype;return a.named=a.native=a.get=a.block=a.set=a.length=d,X.$include(T(s("Native"),"Wrapper")),X.$include(s("Enumerable")),J(X,"$initialize",function $(n,t){var r=$.$$p||d,i=this,u=d;return $.$$p=null,t==null&&(t=new Map),F(i,z(i,"initialize",$,!1,!0),"initialize",[n],null),i.get=ee(u=t["$[]"]("get"))?u:t["$[]"]("access"),i.named=t["$[]"]("named"),i.set=ee(u=t["$[]"]("set"))?u:t["$[]"]("access"),i.length=ee(u=t["$[]"]("length"))?u:"length",i.block=r,ee(i.$length()==null)?i.$raise(s("ArgumentError"),"no length found on the array-like object"):d},-2),J(X,"$each",function $(){var n=$.$$p||d,t=this;if($.$$p=null,!ee(n))return t.$enum_for("each");for(var r=0,i=t.$length();r<i;r++)e.yield1(n,t["$[]"](r));return t}),J(X,"$[]",function(n){var t=this,r=d,i=d;return r=B(s("String"),i=n)||B(s("Symbol"),i)?ee(t.named)?t.native[t.named](n):t.native[n]:B(s("Integer"),i)?ee(t.get)?t.native[t.get](n):t.native[n]:d,ee(r)?ee(t.block)?t.block.$call(r):t.$Native(r):d}),J(X,"$[]=",function(n,t){var r=this;return ee(r.set)?r.native[r.set](n,s("Native").$convert(t)):r.native[n]=s("Native").$convert(t)}),J(X,"$last",function(n){var t=this,r=d,i=d;if(n==null&&(n=d),ee(n)){for(r=y(t.$length(),1),i=[];ee(p(r,0));)i["$<<"](t["$[]"](r)),r=y(r,1);return i}else return t["$[]"](y(t.$length(),1))},-1),J(X,"$length",function(){var n=this;return n.native[n.length]}),J(X,"$inspect",function(){var n=this;return n.$to_a().$inspect()}),D(X,"to_ary","to_a")}(o("Native"),null,q),function(h,l){var c=b(h,l,"Numeric");return J(c,"$to_n",function(){var w=this;return w.valueOf()})}(q[0],null),function(h,l){var c=b(h,l,"Proc");return J(c,"$to_n",k)}(q[0],null),function(h,l){var c=b(h,l,"String");return J(c,"$to_n",function(){var w=this;return w.valueOf()})}(q[0],null),function(h,l){var c=b(h,l,"Regexp");return J(c,"$to_n",function(){var w=this;return w.valueOf()})}(q[0],null),function(h,l){var c=b(h,l,"MatchData");return J(c,"$to_n",re("matches"))}(q[0],null),function(h,l,c){var X=b(h,l,"Struct"),w=[X].concat(c),s=e.$r(w);return J(X,"$to_n",function(){var $=this,n=d;return n={},Z($,"each_pair",[],function(r,i){return r==null&&(r=d),i==null&&(i=d),n[r]=s("Native").$try_convert(i,i)}),n})}(q[0],null,q),function(h,l,c){var X=b(h,l,"Array"),w=[X].concat(c),s=e.$r(w);return J(X,"$to_n",function(){for(var $=this,n=[],t=0,r=$.length;t<r;t++){var i=$[t];n.push(s("Native").$try_convert(i,i))}return n})}(q[0],null,q),function(h,l){var c=b(h,l,"Boolean");return J(c,"$to_n",function(){var w=this;return w.valueOf()})}(q[0],null),function(h,l){var c=b(h,l,"Time");return J(c,"$to_n",k)}(q[0],null),function(h,l){var c=b(h,l,"NilClass");return J(c,"$to_n",function(){return null})}(q[0],null),ee(o("Hash")["$method_defined?"]("_initialize"))||function(h,l,c){var X=b(h,l,"Hash"),w=[X].concat(c),s=e.$r(w);D(X,"_initialize","initialize");function a($,n,t){t&&(t.constructor===void 0||t.constructor===Object||t instanceof Map)?x($,n,s("Hash").$new(t)):t&&t.$$is_array?(t=t.map(function(r){return r&&(r.constructor===void 0||r.constructor===Object||t instanceof Map)?s("Hash").$new(r):X.$Native(r)}),x($,n,t)):x($,n,X.$Native(t))}return J(X,"$initialize",function $(n){var t=$.$$p||d,r=this;if($.$$p=null,n!=null)if(n.constructor===void 0||n.constructor===Object){var i,u;for(i in n)u=n[i],a(r,i,u);return r}else n instanceof Map&&e.hash_each(n,!1,function(f,v){return a(r,f,v),[!1,!1]});return Z(r,"_initialize",[n],t.$to_proc())},-1),J(X,"$to_n",function(){var n=this,t={};return e.hash_each(n,!1,function(r,i){return t[s("Native").$try_convert(r,r)]=s("Native").$try_convert(i,i),[!1,!1]}),t})}(q[0],null,q),function(h,l){var c=b(h,l,"Module");return J(c,"$native_module",function(){var w=this;return e.global[w.$name()]=w})}(q[0],null),function(h,l,c){var X=b(h,l,"Class"),w=[X].concat(c),s=e.$r(w);return J(X,"$native_alias",function($,n){var t=this,r=t.prototype[e.jsid(n)];r||t.$raise(s("NameError").$new("undefined method `"+n+"' for class `"+t.$inspect()+"'",n)),t.prototype[$]=r}),J(X,"$native_class",function(){var $=this;return $.$native_module(),$.new=$.$new})}(q[0],null,q),P.$=P.global=A.$Native(e.global)};(function(e){var x;if(typeof globalThis<"u"?e=globalThis:typeof global<"u"?e=global:typeof window<"u"&&(e=window),e.console==null&&(e.console={}),typeof e.console=="object"?x=e.console:x={},"log"in x||(x.log=function(){}),"warn"in x||(x.warn=x.log),typeof e.Opal<"u")return x.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),e.Opal;var E,N,S,ee,Z,R,V,g=e.Opal={};g.global=e,g.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var H=Function.prototype.call,$e=Function.prototype.bind,Q=Object.hasOwn||H.bind(Object.prototype.hasOwnProperty),J=Object.setPrototypeOf,re=H.bind(Array.prototype.slice),D=H.bind(Array.prototype.splice),b=4,y=b;function K(){return y+=2,y}g.uid=K,g.id=function(_){return _.$$is_number?_*2+1:(_.$$id==null&&p(_,"$$id",K()),_.$$id)};var F=g.gvars={};g.exit=function(_){F.DEBUG&&x.log("Exited with status "+_)},g.exceptions=[],g.pop_exception=function(_){var m=g.exceptions.pop();m===_||(m?F["!"]=m:F["!"]=E)};function z(_,m){if(_||(_=g.Exception||Error),V&&V.$raise)arguments.length>2?V.$raise(_.$new.apply(_,re(arguments,1))):V.$raise(_,m);else throw _.$new?_.$new(m):new _(m)}var B={value:void 0,enumerable:!1,configurable:!0,writable:!0};function p(_,m,U){typeof _=="string"?_[m]=U:(B.value=U,Object.defineProperty(_,m,B))}g.prop=p,g.defineProperty=g.prop,g.slice=re;var k=g.truthy=function(_){return _!==!1&&E!==_&&_!==void 0&&_!==null&&(!(_ instanceof Boolean)||_.valueOf()===!0)};g.falsy=function(_){return!k(_)},g.type_error=function(_,m,U,te){_=_.$$class,te&&U?(te=te.$$class,z(g.TypeError,"can't convert "+_+" into "+m+" ("+_+"#"+U+" gives "+te+")")):z(g.TypeError,"no implicit conversion of "+_+" into "+m)},g.coerce_to=function(_,m,U,te){var ue;return U==="to_int"&&m===g.Integer&&_.$$is_number?_<0?Math.ceil(_):Math.floor(_):U==="to_str"&&m===g.String&&_.$$is_string||g.is_a(_,m)?_:_["$respond_to?"].$$pristine&&_.$method_missing.$$pristine?(ue=_[de(U)],(ue==null||ue.$$stub)&&g.type_error(_,m),ue.apply(_,te)):(_["$respond_to?"](U)||g.type_error(_,m),te==null&&(te=[]),g.send(_,U,te))},g.respond_to=function(_,m,U){if(_==null||!_.$$class)return!1;U=!!U;var te=_[m];if(_["$respond_to?"].$$pristine){if(typeof te=="function"&&!te.$$stub)return!0;if(!_["$respond_to_missing?"].$$pristine)return g.send(_,_["$respond_to_missing?"],[m.substr(1),U])}else return g.send(_,_["$respond_to?"],[m.substr(1),U])},g.trace_class=!1,g.tracers_for_class=[];function P(_){var m,U,te;for(m=0,U=g.tracers_for_class.length;m<U;m++)te=g.tracers_for_class[m],te.trace_object=_,te.block.$call(te)}function A(_,m){if(_.$$autoload[m].loaded){if(_.$$autoload[m].loaded&&!_.$$autoload[m].required&&_.$$autoload[m].exception)throw _.$$autoload[m].exception}else{_.$$autoload[m].loaded=!0;try{g.Kernel.$require(_.$$autoload[m].path)}catch(U){throw _.$$autoload[m].exception=U,U}if(_.$$autoload[m].required=!0,_.$$const[m]!=null)return _.$$autoload[m].success=!0,_.$$const[m]}}function q(_,m){if(_){if(_.$$const[m]!=null)return _.$$const[m];if(_.$$autoload&&_.$$autoload[m])return A(_,m)}}function o(_,m){var U,te,ue;if(_.length!==0)for(U=0,te=_.length;U<te;U++){if(ue=_[U].$$const[m],ue!=null)return ue;if(_[U].$$autoload&&_[U].$$autoload[m])return A(_[U],m)}}function d(_,m){var U,te,ue;if(_!=null)for(ue=G(_),U=0,te=ue.length;U<te;U++){if(ue[U].$$const&&Q(ue[U].$$const,m))return ue[U].$$const[m];if(ue[U].$$autoload&&ue[U].$$autoload[m])return A(ue[U],m)}}function T(_,m){if(_==null||_.$$is_module)return d(S,m)}function h(_,m){return(_||S).$const_missing(m)}g.const_get_local=function(_,m,U){var te;if(_!=null)return _==="::"&&(_=S),!_.$$is_module&&!_.$$is_class&&z(g.TypeError,_.toString()+" is not a class/module"),te=q(_,m),te!=null||U?te:h(_,m)},g.const_get_qualified=function(_,m,U){var te,ue,_e,ge=g.const_cache_version;if(m==null)return te=q(S,_),te??g.const_get_qualified(S,_,U);if(_!=null)return _==="::"&&(_=S),!_.$$is_module&&!_.$$is_class&&z(g.TypeError,_.toString()+" is not a class/module"),(ue=_.$$const_cache)==null&&(p(_,"$$const_cache",Object.create(null)),ue=_.$$const_cache),_e=ue[m],_e==null||_e[0]!==ge?((te=q(_,m))!=null||(te=d(_,m))!=null,ue[m]=[ge,te]):te=_e[1],te!=null||U?te:h(_,m)},g.const_cache_version=1,g.const_get_relative=function(_,m,U){var te=_[0],ue,_e=g.const_cache_version,ge,pe;return(ge=_.$$const_cache)==null&&(p(_,"$$const_cache",Object.create(null)),ge=_.$$const_cache),pe=ge[m],pe==null||pe[0]!==_e?((ue=q(te,m))!=null||(ue=o(_,m))!=null||(ue=d(te,m))!=null||(ue=T(te,m))!=null,ge[m]=[_e,ue]):ue=pe[1],ue!=null||U?ue:h(te,m)};function l(_,m,U){var te=!0;return(_==null||_==="::")&&(_=S),U.$$is_a_module&&((U.$$name==null||U.$$name===E)&&(U.$$name=m),U.$$base_module==null&&(U.$$base_module=_)),_.$$const=_.$$const||Object.create(null),(m in _.$$const||"$$autoload"in _&&m in _.$$autoload)&&(te=!1),_.$$const[m]=U,_.$$=_.$$const,g.const_cache_version++,_===S&&(g[m]=U),p(_,m,U),te&&_.$const_added&&!_.$const_added.$$pristine&&_.$const_added(m),U}g.const_set=l,g.constants=function(_,m){m==null&&(m=!0);var U,te=[_],ue,_e,ge={},pe;for(m&&(te=te.concat(G(_))),m&&_.$$is_module&&(te=te.concat([g.Object]).concat(G(g.Object))),ue=0,_e=te.length;ue<_e&&(U=te[ue],!(_!==S&&U==S));ue++){for(pe in U.$$const)ge[pe]=!0;if(U.$$autoload)for(pe in U.$$autoload)ge[pe]=!0}return Object.keys(ge)},g.const_remove=function(_,m){if(g.const_cache_version++,_.$$const[m]!=null){var U=_.$$const[m];return delete _.$$const[m],U}if(_.$$autoload&&_.$$autoload[m])return delete _.$$autoload[m],E;z(g.NameError,"constant "+_+"::"+_.$name()+" not defined")},g.const_get_relative_factory=function(_){return function(m,U){return g.$$(_,m,U)}},g.$$=g.const_get_relative,g.$$$=g.const_get_qualified,g.$r=g.const_get_relative_factory;function c(_){return _==null?!1:_.$$bridge?_:_.$$super?c(_.$$super):!1}function X(_,m,U){var te,ue;if((ue=c(m))?te=function(){var ye=new($e.apply(ue.$$constructor,he(null,arguments)));return J(ye,te.$$prototype),ye}:te=function(){},_&&_!==E&&p(te,"displayName","::"+_),p(te,"$$name",_),p(te,"$$constructor",te),p(te,"$$prototype",te.prototype),p(te,"$$const",{}),p(te,"$$is_class",!0),p(te,"$$is_a_module",!0),p(te,"$$super",m),p(te,"$$cvars",{}),p(te,"$$own_included_modules",[]),p(te,"$$own_prepended_modules",[]),p(te,"$$ancestors",[]),p(te,"$$ancestors_cache_version",null),p(te,"$$subclasses",[]),p(te,"$$cloned_from",[]),p(te.$$prototype,"$$class",te),g.Class&&J(te,g.Class.prototype),m!=null){if(J(te.$$prototype,m.$$prototype),U!==!0)if(typeof WeakRef<"u"){var _e,ge,pe=[];for(_e=0;_e<m.$$subclasses.length;_e++)ge=m.$$subclasses[_e],ge.deref()!==void 0&&pe.push(ge);pe.push(new WeakRef(te)),m.$$subclasses=pe}else m.$$subclasses.push(te);m.$$meta&&g.build_class_singleton_class(te)}return te}g.allocate_class=X;function w(_,m){var U=q(_,m);if(U)return U.$$is_class||z(g.TypeError,m+" is not a class"),U}function s(_,m){_.$$super!==m&&z(g.TypeError,"superclass mismatch for class "+_.$$name)}g.klass=function(_,m,U){var te;_==null||_=="::"?_=S:!_.$$is_class&&!_.$$is_module&&(_=_.$$class),m!=null&&(!m.hasOwnProperty||m.hasOwnProperty&&!m.hasOwnProperty("$$is_class"))&&(m.constructor&&m.constructor.name=="Function"?(te=m,m=S):z(g.TypeError,"superclass must be a Class ("+(m.constructor&&(m.constructor.name||m.constructor.$$name)||typeof m)+" given)"));var ue=w(_,U);return ue!=null?m&&s(ue,m):(m==null&&(m=S),ue=X(U,m),l(_,U,ue),m.$inherited&&m.$inherited(ue),te&&g.bridge(te,ue)),g.trace_class&&P(ue),ue};function a(_){var m=function(){},U=m;return _&&p(m,"displayName",_+".constructor"),p(U,"$$name",_),p(U,"$$prototype",m.prototype),p(U,"$$const",{}),p(U,"$$is_module",!0),p(U,"$$is_a_module",!0),p(U,"$$cvars",{}),p(U,"$$iclasses",[]),p(U,"$$own_included_modules",[]),p(U,"$$own_prepended_modules",[]),p(U,"$$ancestors",[U]),p(U,"$$ancestors_cache_version",null),p(U,"$$cloned_from",[]),J(U,g.Module.prototype),U}g.allocate_module=a;function $(_,m){var U=q(_,m);return U==null&&_===S&&(U=d(S,m)),U&&!U.$$is_module&&U!==S&&z(g.TypeError,m+" is not a module"),U}g.module=function(_,m){var U;return _==null||_=="::"?_=S:!_.$$is_class&&!_.$$is_module&&(_=_.$$class),U=$(_,m),U==null&&(U=a(m),l(_,m,U)),g.trace_class&&P(U),U},g.get_singleton_class=function(_){return _.$$is_number&&z(g.TypeError,"can't define singleton"),_.$$meta?_.$$meta:_.hasOwnProperty("$$is_class")?g.build_class_singleton_class(_):_.hasOwnProperty("$$is_module")?g.build_module_singleton_class(_):g.build_object_singleton_class(_)};function n(_,m){_.hasOwnProperty("$$meta")?_.$$meta=m:p(_,"$$meta",m),_.$$frozen?_.$$meta.$freeze():J(_,m.$$prototype)}g.build_class_singleton_class=function(_){if(_.$$meta)return _.$$meta;var m=_===N?Z:g.get_singleton_class(_.$$super),U=X(null,m,!0);return p(U,"$$is_singleton",!0),p(U,"$$singleton_of",_),n(_,U),p(_,"$$class",g.Class),U},g.build_module_singleton_class=function(_){if(_.$$meta)return _.$$meta;var m=X(null,g.Module,!0);return p(m,"$$is_singleton",!0),p(m,"$$singleton_of",_),n(_,m),p(_,"$$class",g.Module),m},g.build_object_singleton_class=function(_){var m=_.$$class,U=X(E,m,!0);return p(U,"$$is_singleton",!0),p(U,"$$singleton_of",_),delete U.$$prototype.$$class,n(_,U),U},g.is_method=function(_){return _[0]==="$"&&_[1]!=="$"},g.instance_methods=function(_){for(var m=Object.create(null),U=[],te=G(_),ue=0,_e=te.length;ue<_e;ue++){var ge=te[ue],pe=ge.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ze=ye.length;we<ze;we++){var Ee=ye[we];if(!m[Ee]){if(g.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);U.push(qe)}}m[Ee]=!0}}}return U},g.own_instance_methods=function(_){var m=[],U=_.$$prototype;U.hasOwnProperty("$$dummy")&&(U=U.$$define_methods_on);for(var te=Object.getOwnPropertyNames(U),ue=0,_e=te.length;ue<_e;ue++){var ge=te[ue];if(g.is_method(ge)){var pe=U[ge];if(!pe.$$stub){var ye=ge.slice(1);m.push(ye)}}}return m},g.methods=function(_){return g.instance_methods(_.$$meta||_.$$class)},g.own_methods=function(_){return _.$$meta?g.own_instance_methods(_.$$meta):[]},g.receiver_methods=function(_){var m=g.get_singleton_class(_),U=g.own_instance_methods(m),te=g.own_instance_methods(m.$$super);return U.concat(te)},g.class_variables=function(_){var m=G(_),U,te=m.length,ue={};for(U=te-1;U>=0;U--){var _e=m[U];for(var ge in _e.$$cvars)ue[ge]=_e.$$cvars[ge]}return ue},g.class_variable_set=function(_,m,U){var te=G(_),ue,_e=te.length;for(ue=_e-2;ue>=0;ue--){var ge=te[ue];if(Q(ge.$$cvars,m))return ge.$$cvars[m]=U,U}return _.$$cvars[m]=U,U},g.class_variable_get=function(_,m,U){if(Q(_.$$cvars,m))return _.$$cvars[m];var te=G(_),ue,_e=te.length;for(ue=0;ue<_e;ue++){var ge=te[ue];if(Q(ge.$$cvars,m))return ge.$$cvars[m]}return U||z(g.NameError,"uninitialized class variable "+m+" in "+_.$name()),E};function t(_){return _.hasOwnProperty("$$iclass")&&_.hasOwnProperty("$$root")}function r(_){for(var m=[],U,te=Object.getPrototypeOf(_.$$prototype);te&&!te.hasOwnProperty("$$class");)U=C(te),U&&m.push(U),te=Object.getPrototypeOf(te);return m}function i(_){var m=[],U,te=Object.getPrototypeOf(_.$$prototype);if(_.$$prototype.hasOwnProperty("$$dummy"))for(;te&&te!==_.$$prototype.$$define_methods_on;)U=C(te),U&&m.push(U),te=Object.getPrototypeOf(te);return m}g.append_features=function(_,m){var U=G(_),te=[];U.indexOf(m)!==-1&&z(g.ArgumentError,"cyclic include detected");for(var ue=0,_e=U.length;ue<_e;ue++){var ge=U[ue],pe=f(ge);p(pe,"$$included",!0),te.push(pe)}var ye=G(m),we=I(te),ze,Ee;if(ye.indexOf(_)===-1)ze=m.$$prototype,Ee=Object.getPrototypeOf(m.$$prototype);else{for(var xe=m.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===_&&t(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var ke=Object.getPrototypeOf(qe);ke.hasOwnProperty("$$iclass")&&!t(ke);)ke=Object.getPrototypeOf(ke);ze=xe,Ee=ke}else ze=m.$$prototype,Ee=Object.getPrototypeOf(m.$$prototype)}J(ze,we.first),J(we.last,Ee),m.$$own_included_modules=r(m),g.const_cache_version++},g.prepend_features=function(_,m){var U=G(_),te=[];U.indexOf(m)!==-1&&z(g.ArgumentError,"cyclic prepend detected");for(var ue=0,_e=U.length;ue<_e;ue++){var ge=U[ue],pe=f(ge);p(pe,"$$prepended",!0),te.push(pe)}var ye=I(te),we=m.$$prototype,ze=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=v(m),u(m),p(we,"$$dummy",!0),p(we,"$$define_methods_on",Ee),J(we,Ee),J(Ee,ze));var ke=G(m);if(ke.indexOf(_)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else z(g.RuntimeError,"Prepending a module multiple times is not supported");J(xe,ye.first),J(ye.last,qe),m.$$own_prepended_modules=i(m),g.const_cache_version++};function u(_){for(var m=_.$$prototype,U=Object.getOwnPropertyNames(m),te=0;te<U.length;te++){var ue=U[te];g.is_method(ue)&&delete m[ue]}}function f(_){var m=v(_);return _.$$is_module&&_.$$iclasses.push(m),m}function v(_){var m={},U=_.$$prototype;U.hasOwnProperty("$$dummy")&&(U=U.$$define_methods_on);var te=Object.getOwnPropertyNames(U),ue=te.length,_e;for(_e=0;_e<ue;_e++){var ge=te[_e];p(m,ge,U[ge])}return p(m,"$$iclass",!0),p(m,"$$module",_),m}function I(_){var m=_.length,U=_[0];if(p(U,"$$root",!0),m===1)return{first:U,last:U};for(var te=U,ue=1;ue<m;ue++){var _e=_[ue];J(te,_e),te=_e}return{first:_[0],last:_[m-1]}}g.bridge=function(_,m){_.hasOwnProperty("$$bridge")&&z(g.ArgumentError,"already bridged"),p(_,"$$bridge",m),J(_.prototype,(m.$$super||g.Object).$$prototype),p(m,"$$prototype",_.prototype),p(m.$$prototype,"$$class",m),p(m,"$$constructor",_),p(m,"$$bridge",!0)};function C(_){if(!_.hasOwnProperty("$$dummy")){if(_.hasOwnProperty("$$iclass"))return _.$$module;if(_.hasOwnProperty("$$class"))return _.$$class}}function M(_){return _.$$own_prepended_modules.concat([_]).concat(_.$$own_included_modules)}function G(_){if(!_)return[];if(_.$$ancestors_cache_version===g.const_cache_version)return _.$$ancestors;var m=[],U,te,ue;for(U=0,te=M(_),ue=te.length;U<ue;U++)m.push(te[U]);if(_.$$super)for(U=0,te=G(_.$$super),ue=te.length;U<ue;U++)m.push(te[U]);return _.$$ancestors_cache_version=g.const_cache_version,_.$$ancestors=m,m}g.ancestors=G,g.included_modules=function(_){for(var m=[],U=null,te=Object.getPrototypeOf(_.$$prototype);te&&Object.getPrototypeOf(te);te=Object.getPrototypeOf(te))U=C(te),U&&U.$$is_module&&te.$$iclass&&te.$$included&&m.push(U);return m},g.add_stubs=function(_){var m=g.BasicObject.$$prototype,U,te;_=_.split(",");for(var ue=0,_e=_.length;ue<_e;ue++)U=de(_[ue]),te=m[U],(te==null||te.$$stub)&&g.add_stub_for(m,U)},g.add_stub_for=function(_,m){p(_,m,g.stub_for(m))},g.stub_for=function(_){function m(){return this.$method_missing.$$p=m.$$p,m.$$p=null,this.$method_missing.apply(this,he(_.slice(1),arguments))}return m.$$stub=!0,m},g.ac=function(_,m,U,te){var ue="";U.$$is_a_module?ue+=U.$$name+".":ue+=U.$$class.$$name+"#",ue+=te,z(g.ArgumentError,"["+ue+"] wrong number of arguments (given "+_+", expected "+m+")")},g.block_ac=function(_,m,U){var te="`block in "+U+"'";z(g.ArgumentError,te+": wrong number of arguments (given "+_+", expected "+m+")")};function O(_){return _.hasOwnProperty("$$meta")&&_.$$meta!==null?G(_.$$meta):G(_.$$class)}g.find_super=function(_,m,U,te,ue){var _e=de(m),ge,pe,ye,we,ze=-1,Ee;for(ge=O(_),we=U.$$owner,Ee=0;Ee<ge.length;Ee++)if(pe=ge[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ze=Ee;break}for(Ee=ze+1;Ee<ge.length;Ee++){pe=ge[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(_e)){ye=xe[_e];break}}return!te&&ye&&ye.$$stub&&_.$method_missing.$$pristine&&z(g.NoMethodError,"super: no superclass method `"+m+"' for "+_,m),ye.$$stub&&!ue?null:ye},g.find_block_super=function(_,m,U,te,ue){var _e=m;return U||z(g.RuntimeError,"super called outside of method"),ue&&U.$$define_meth&&z(g.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),U.$$def&&(_e=U.$$jsid),g.find_super(_,_e,U,te)},g.find_super_dispatcher=g.find_super,g.find_iter_super_dispatcher=g.find_block_super;function ae(_,m,U){try{_(m)}catch(te){if(te===U)return U.$v;throw te}}g.yield1=function(_,m){typeof _!="function"&&z(g.LocalJumpError,"no block given");var U=_.$$has_top_level_mlhs_arg,te=_.$$has_trailing_comma_in_args,ue=_.$$is_lambda&&_.$$ret;return(_.length>1||(U||te)&&_.length===1)&&(m=g.to_ary(m)),(_.length>1||te&&_.length===1)&&m.$$is_array?ue?ae(_.apply.bind(_,null),m,_.$$ret):_.apply(null,m):ue?ae(_,m,_.$$ret):_(m)},g.yieldX=function(_,m){return typeof _!="function"&&z(g.LocalJumpError,"no block given"),_.length>1&&m.length===1&&m[0].$$is_array&&(m=m[0]),_.$$is_lambda&&_.$$ret?ae(_.apply.bind(_,null),m,_.$$ret):_.apply(null,m)},g.rescue=function(_,m){for(var U=0;U<m.length;U++){var te=m[U];if(te.$$is_array){var ue=g.rescue(_,te);if(ue)return ue}else if(te===g.JS.Error||te["$==="](_))return te}return null},g.is_a=function(_,m){if(m!=null&&_.$$meta===m||_.$$class===m)return!0;if(_.$$is_number&&m.$$is_number_class)return m.$$is_integer_class?_%1===0:!0;var U=G(_.$$is_class?g.get_singleton_class(_):_.$$meta||_.$$class);return U.indexOf(m)!==-1},g.to_hash=function(_){if(_.$$is_hash)return _;if(_["$respond_to?"]("to_hash",!0)){var m=_.$to_hash();if(m.$$is_hash)return m;z(g.TypeError,"Can't convert "+_.$$class+" to Hash ("+_.$$class+"#to_hash gives "+m.$$class+")")}else z(g.TypeError,"no implicit conversion of "+_.$$class+" into Hash")},g.to_ary=function(_){if(_.$$is_array)return _;if(_["$respond_to?"]("to_ary",!0)){var m=_.$to_ary();if(m===E)return[_];if(m.$$is_array)return m;z(g.TypeError,"Can't convert "+_.$$class+" to Array ("+_.$$class+"#to_ary gives "+m.$$class+")")}else return[_]},g.to_a=function(_){if(_.$$is_array)return _.slice();if(_["$respond_to?"]("to_a",!0)){var m=_.$to_a();if(m===E)return[_];if(m.$$is_array)return m;z(g.TypeError,"Can't convert "+_.$$class+" to Array ("+_.$$class+"#to_a gives "+m.$$class+")")}else return[_]},g.extract_kwargs=function(_){var m=_[_.length-1];if(m!=null&&g.respond_to(m,"$to_hash",!0))return D(_,_.length-1),m},g.kwrestargs=function(_,m){var U=new Map;return g.hash_each(_,!1,function(te,ue){return m[te]||g.hash_put(U,te,ue),[!1,!1]}),U};function le(_,m){typeof m=="number"?_.$$arity=m:typeof m=="object"&&Object.assign(_,m)}var ce=new Map;function de(_){var m=ce.get(_);return m||(m="$"+_,ce.set(_,m)),m}g.jsid=de;function he(_,m){return m.$$is_array||(m=re(m)),[_].concat(m)}g.send=function(_,m,U,te,ue){var _e;return typeof m=="function"?(_e=m,m=null):typeof m=="string"?_e=_[de(m)]:z(g.NameError,"Passed method should be a string or a function"),g.send2(_,_e,m,U,te,ue)},g.send2=function(_,m,U,te,ue,_e){return m==null&&U!=null&&_.$method_missing&&(m=_.$method_missing,te=he(U,te)),le(ue,_e),typeof ue=="function"&&(m.$$p=ue),m.apply(_,te)},g.refined_send=function(_,m,U,te,ue,_e){var ge,pe,ye,we,ze,Ee,xe,qe,ke,Ae;for(we=O(m),ge=0;ge<we.length;ge++)for(ze=g.id(we[ge]),pe=0;pe<_.length;pe++)for(Ee=_[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ze]>"u")&&(ke=qe[ze],typeof ke.$$prototype[de(U)]<"u")))return Ae=ke.$$prototype[de(U)],g.send2(m,Ae,U,te,ue,_e);return g.send(m,U,te,ue,_e)},g.lambda=function(_,m){return _.$$is_lambda=!0,le(_,m),_},g.def=function(_,m,U,te){return le(U,te),_===g.top?g.defn(g.Object,m,U):!_.$$eval&&_.$$is_a_module?g.defn(_,m,U):g.defs(_,m,U)},g.defn=function(_,m,U){j(_),U.displayName=m,U.$$owner=_;var te=m.substr(1),ue=_.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),p(ue,m,U),_.$$is_module){_.$$module_function&&g.defs(_,m,U);for(var _e=0,ge=_.$$iclasses,pe=ge.length;_e<pe;_e++){var ye=ge[_e];p(ye,m,U)}}var we=_.$$singleton_of;return _.$method_added&&!_.$method_added.$$stub&&!we?_.$method_added(te):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(te),te},g.defs=function(_,m,U,te){return le(U,te),(_.$$is_string||_.$$is_number)&&z(g.TypeError,"can't define singleton"),g.defn(g.get_singleton_class(_),m,U)};function ve(_,m){if(_.$$is_module)for(var U=0,te=_.$$iclasses,ue=te.length;U<ue;U++){var _e=te[U];delete _e[m]}}g.rdef=function(_,m){Q(_.$$prototype,m)||z(g.NameError,"method '"+m.substr(1)+"' not defined in "+_.$name()),delete _.$$prototype[m],ve(_,m),_.$$is_singleton?_.$$prototype.$singleton_method_removed&&!_.$$prototype.$singleton_method_removed.$$stub&&_.$$prototype.$singleton_method_removed(m.substr(1)):_.$method_removed&&!_.$method_removed.$$stub&&_.$method_removed(m.substr(1))},g.udef=function(_,m){(!_.$$prototype[m]||_.$$prototype[m].$$stub)&&z(g.NameError,"method '"+m.substr(1)+"' not defined in "+_.$name()),g.add_stub_for(_.$$prototype,m),ve(_,m),_.$$is_singleton?_.$$prototype.$singleton_method_undefined&&!_.$$prototype.$singleton_method_undefined.$$stub&&_.$$prototype.$singleton_method_undefined(m.substr(1)):_.$method_undefined&&!_.$method_undefined.$$stub&&_.$method_undefined(m.substr(1))};function me(_){return typeof _=="function"&&!_.$$stub}g.alias=function(_,m,U){var te=de(m),ue=de(U),_e,ge;if(typeof _.$$prototype>"u"&&(_=g.Object),_e=_.$$prototype[ue],_.$$eval)return g.alias(g.get_singleton_class(_),m,U);if(!me(_e)){for(var pe=_.$$super;typeof _e!="function"&&pe;)_e=pe[ue],pe=pe.$$super;!me(_e)&&_.$$is_module&&(_e=g.Object.$$prototype[ue]),me(_e)||z(g.NameError,"undefined method `"+U+"' for class `"+_.$name()+"'")}return _e.$$alias_of&&(_e=_e.$$alias_of),ge=g.wrap_method_body(_e),ge.displayName=m,ge.$$alias_of=_e,ge.$$alias_name=m,g.defn(_,te,ge),_},g.wrap_method_body=function(_){var m=function(){var U=m.$$p;return m.$$p=null,g.send(this,_,arguments,U)};try{Object.defineProperty(m,"length",{value:_.length})}catch{}return m.$$arity=_.$$arity==null?_.length:_.$$arity,m.$$parameters=_.$$parameters,m.$$source_location=_.$$source_location,m},g.alias_gvar=function(_,m){return Object.defineProperty(F,_,{configurable:!0,enumerable:!0,get:function(){return F[m]},set:function(U){F[m]=U}}),E},g.alias_native=function(_,m,U){var te=de(m),ue=_.$$prototype[U];return(typeof ue!="function"||ue.$$stub)&&z(g.NameError,"undefined native method `"+U+"' for class `"+_.$name()+"'"),g.defn(_,te,ue),_},g.hash_init=function(_){x.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},g.hash_clone=function(_,m){return m.$$none=_.$$none,m.$$proc=_.$$proc,g.hash_each(_,m,function(U,te){return g.hash_put(m,U,te),[!1,m]})},g.hash_put=function(_,m,U){var te=typeof m;if(te==="string"||te==="symbol"||te==="number"||te==="boolean"||te==="bigint")_.set(m,U);else if(m.$$is_string)_.set(m.valueOf(),U);else{_.$$keys||(_.$$keys=new Map);var ue=m.$$is_string?m.valueOf():_.$$by_identity?g.id(m):m.$hash(),_e=_.$$keys;if(!_e.has(ue)){_e.set(ue,[m]),_.set(m,U);return}for(var ge=_e.get(ue),pe,ye=0;ye<ge.length;ye++)if(pe=ge[ye],m===pe||m["$eql?"](pe)){_.set(pe,U);return}ge.push(m),_.set(m,U)}},g.hash_get=function(_,m){var U=typeof m;if(U==="string"||U==="symbol"||U==="number"||U==="boolean"||U==="bigint")return _.get(m);if(_.$$keys){var te=m.$$is_string?m.valueOf():_.$$by_identity?g.id(m):m.$hash(),ue=_.$$keys.get(te),_e;if(ue!==void 0){for(var ge=0;ge<ue.length;ge++)if(_e=ue[ge],m===_e||m["$eql?"](_e))return _.get(_e)}else if(m.$$is_string)return _.get(te)}else if(m.$$is_string)return _.get(m.valueOf())};function be(_,m){var U=_.get(m);if(U!==void 0)return _.delete(m),U}g.hash_delete=function(_,m){var U=typeof m;if(U==="string"||U==="symbol"||U==="number"||U==="boolean"||U==="bigint")return be(_,m);if(_.$$keys){var te=m.$$is_string?m.valueOf():_.$$by_identity?g.id(m):m.$hash(),ue=_.$$keys.get(te),_e;if(ue!==void 0){for(var ge=0;ge<ue.length;ge++)if(_e=ue[ge],m===_e||m["$eql?"](_e))return ue.splice(ge,1),ue.length===0&&_.$$keys.delete(te),be(_,_e)}else if(m.$$is_string)return be(_,te)}else if(m.$$is_string)return be(_,m.valueOf())},g.hash_rehash=function(_){var m=_.$$keys;return m&&m.clear(),g.hash_each(_,!1,function(U,te){var ue=typeof U;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var _e=U.$$is_string?U.valueOf():_.$$by_identity?g.id(U):U.$hash();if(m||(_.$$keys=m=new Map),!m.has(_e))return m.set(_e,[U]),[!1,!1];for(var ge=m.get(_e),pe=ge.length===1?ge:re(ge),ye,we=0;we<pe.length;we++)ye=pe[we],(U===ye||U["$eql?"](ye))&&(ge.splice(ge.indexOf(ye),1),_.delete(ye));return ge.push(U),[!1,!1]}),_},g.hash=function(){var _=arguments.length,m,U,te,ue,_e,ge;if(_===1&&arguments[0].$$is_hash)return arguments[0];if(U=new Map,_===1)if(m=arguments[0],arguments[0].$$is_array){for(ue=m.length,te=0;te<ue;te++)m[te].length!==2&&z(g.ArgumentError,"value not of length 2: "+m[te].$inspect()),_e=m[te][0],ge=m[te][1],g.hash_put(U,_e,ge);return U}else{m=arguments[0];for(_e in m)Q(m,_e)&&(ge=m[_e],g.hash_put(U,_e,ge));return U}for(_%2!==0&&z(g.ArgumentError,"odd number of arguments for Hash"),te=0;te<_;te+=2)_e=arguments[te],ge=arguments[te+1],g.hash_put(U,_e,ge);return U},g.hash2=function(_,m){x.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var U=new Map,te=0,ue=_.length;te<ue;te++)U.set(_[te],m[_[te]]);return U},g.hash_each=function(_,m,U){for(var te,ue=0,_e,ge=Array.from(_.entries()),pe=ge.length;ue<pe;ue++)if(_e=ge[ue],te=U(_e[0],_e[1]),te[0])return te[1];return te?te[1]:m},g.range=function(_,m,U){var te=new g.Range;return te.begin=_,te.end=m,te.excl=U,te};var ie=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];g.ivar=function(_){return ie.indexOf(_)!==-1&&(_+="$"),_};function j(_){_.$$frozen&&z(g.FrozenError,"can't modify frozen "+_.$class()+": "+_,new Map([["receiver",_]]))}g.deny_frozen_access=j,g.freeze=function(_){return p(_,"$$frozen",!0),_.hasOwnProperty("$$id")||p(_,"$$id",K()),_.hasOwnProperty("$$meta")?_.$$meta.$freeze():p(_,"$$meta",null),_.hasOwnProperty("$$comparable")||p(_,"$$comparable",null),Object.seal(_),_};function L(_,m){var U=Object.getOwnPropertyNames(_),te=U.length,ue,_e,ge;for(ue=0;ue<te;ue++)_e=U[ue],_e[0]!=="$"&&(ge=Object.getOwnPropertyDescriptor(_,_e),ge&&ge.enumerable&&m(_e,ge))}g.each_ivar=L,g.freeze_props=function(_){var m={get:null,set:function(U){j(_)},enumerable:!0};L(_,function(U,te){te.writable&&(m.get=se(te.value),Object.defineProperty(_,U,m))})},g.escape_regexp=function(_){return _.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},g.global_regexp=function(_){return _.global?_:(_.$$g==null?_.$$g=new RegExp(_.source,(_.multiline?"gm":"g")+(_.ignoreCase?"i":"")):_.$$g.lastIndex=null,_.$$g)},g.global_multiline_regexp=function(_){var m,U;return _.global&&_.multiline?_:(U="gm"+(_.ignoreCase?"i":""),_.multiline?(_.$$g==null&&(_.$$g=new RegExp(_.source,U)),m=_.$$g):(_.$$gm==null&&(_.$$gm=new RegExp(_.source,U)),m=_.$$gm),m.lastIndex=null,m)},g.regexp=function(_,m){for(var U,te=typeof m<"u"&&m&&m.indexOf("i")>=0,ue=0,_e=_.length;ue<_e;ue++)U=_[ue],U instanceof RegExp&&(U.ignoreCase!==te&&g.Kernel.$warn("ignore case doesn't match for "+U.source.$inspect(),new Map([["uplevel",1]])),U=U.source),U===""&&(U="(?:"+U+")"),_[ue]=U;return m?new RegExp(_.join(""),m):new RegExp(_.join(""))},g.modules={},g.loaded_features=["corelib/runtime"],g.current_dir=".",g.require_table={"corelib/runtime":!0},g.normalize=function(_){var m,U,te=[],ue="/";g.current_dir!=="."&&(_=g.current_dir.replace(/\/*$/,"/")+_),_=_.replace(/^\.\//,""),_=_.replace(/\.(rb|opal|js)$/,""),m=_.split(ue);for(var _e=0,ge=m.length;_e<ge;_e++)U=m[_e],U!==""&&(U===".."?te.pop():te.push(U));return te.join(ue)},g.loaded=function(_){var m,U,te;for(m=0,U=_.length;m<U;m++)te=g.normalize(_[m]),!g.require_table[te]&&(g.loaded_features.push(te),g.require_table[te]=!0)},g.load_normalized=function(_){g.loaded([_]);var m=g.modules[_];if(m){var U=m(g);if(typeof Promise<"u"&&U instanceof Promise)return U.then(se(!0))}else{var te=g.config.missing_require_severity,ue="cannot load such file -- "+_;te==="error"?z(g.LoadError,ue):te==="warning"&&x.warn("WARNING: LoadError: "+ue)}return!0},g.load=function(_){return _=g.normalize(_),g.load_normalized(_)},g.require=function(_){return _=g.normalize(_),g.require_table[_]?!1:g.load_normalized(_)},g.encodings=Object.create(null),g.set_encoding=function(_,m,U){typeof U>"u"&&(U="encoding"),(typeof _=="string"||_.$$frozen===!0)&&z(g.FrozenError,"can't modify frozen String");var te=g.find_encoding(m);return te===_[U]||(_[U]=te),_},g.find_encoding=function(_){var m=g.encodings,U=m[_]||m[_.toUpperCase()];return U||z(g.ArgumentError,"unknown encoding name - "+_),U},g.enc=function(_,m){var U=new String(_);return U=g.set_encoding(U,m),U.internal_encoding=U.encoding,U},g.binary=function(_){var m=new String(_);return g.set_encoding(m,"binary","internal_encoding")},g.last_promise=null,g.promise_unhandled_exception=!1,g.queue=function(_){if(g.last_promise)return g.last_promise=g.last_promise.then(function(){if(!g.promise_unhandled_exception)return _(g)}).catch(function(U){g.respond_to(U,"$full_message")&&(U=U.$full_message()),x.error(U),g.promise_unhandled_exception=!0,g.exit(1)}),g.last_promise;var m=_(g);return typeof Promise=="function"&&typeof m=="object"&&m instanceof Promise&&(g.last_promise=m),m};function Y(_,m){return typeof _=="number"&&typeof m=="number"}g.rb_plus=function(_,m){return Y(_,m)?_+m:_["$+"](m)},g.rb_minus=function(_,m){return Y(_,m)?_-m:_["$-"](m)},g.rb_times=function(_,m){return Y(_,m)?_*m:_["$*"](m)},g.rb_divide=function(_,m){return Y(_,m)?_/m:_["$/"](m)},g.rb_lt=function(_,m){return Y(_,m)?_<m:_["$<"](m)},g.rb_gt=function(_,m){return Y(_,m)?_>m:_["$>"](m)},g.rb_le=function(_,m){return Y(_,m)?_<=m:_["$<="](m)},g.rb_ge=function(_,m){return Y(_,m)?_>=m:_["$>="](m)};function W(_,m){return typeof _=="number"&&typeof m=="number"||typeof _=="string"&&typeof m=="string"}function ne(_,m){return W(_,m)?_===m:k(_["$=="](m))}g.eqeq=ne,g.eqeqeq=function(_,m){return W(_,m)?_===m:k(_["$==="](m))},g.neqeq=function(_,m){return W(_,m)?_!==m:k(_["$!="](m))},g.not=function(_){return _==null||_===!1||E===_?!0:_===!0||_["$!"].$$pristine?!1:k(_["$!"]())};function se(_){return function(){return _}}g.return_val=se,g.return_self=function(){return this},g.return_ivar=function(_){return function(){return this[_]==null?E:this[_]}},g.assign_ivar=function(_){return function(m){return j(this),this[_]=m}},g.assign_ivar_val=function(_,m){return function(){return j(this),this[_]=m}},g.ensure_kwargs=function(_){if(_==null)return new Map;if(_.$$is_hash)return _;z(g.ArgumentError,"expected kwargs")},g.get_kwarg=function(_,m){var U=g.hash_get(_,m);return U===void 0&&z(g.ArgumentError,"missing keyword: "+m),U},g.large_array_unpack=function(_){var m=_.split(","),U=m.length,te;for(te=0;te<U;te++)switch(m[te][0]){case void 0:m[te]=E;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":m[te]=+m[te]}return m},g.opal32_init=se(1332765036);function oe(_,m){return _<<m|_>>>32-m}g.opal32_add=function(_,m){return _^=m,_=oe(_,1),_},g.BasicObject=N=X("BasicObject",null),g.Object=S=X("Object",g.BasicObject),g.Module=ee=X("Module",g.Object),g.Class=Z=X("Class",g.Module),g.Opal=R=a("Opal"),g.Kernel=V=a("Kernel"),J(g.BasicObject,g.Class.$$prototype),J(g.Object,g.Class.$$prototype),J(g.Module,g.Class.$$prototype),J(g.Class,g.Class.$$prototype),N.$$const.BasicObject=N,l(S,"BasicObject",N),l(S,"Object",S),l(S,"Module",ee),l(S,"Class",Z),l(S,"Opal",R),l(S,"Kernel",V),N.$$class=Z,S.$$class=Z,ee.$$class=Z,Z.$$class=Z,R.$$class=ee,V.$$class=ee,p(S.$$prototype,"toString",function(){var _=this.$to_s();return _.$$is_string&&typeof _=="object"?_.valueOf():_}),p(S.$$prototype,"$require",g.require),g.top=new S,g.top.$to_s=g.top.$inspect=se("main"),g.top.$define_method=fe;function fe(){var _=fe.$$p;return fe.$$p=null,g.send(S,"define_method",arguments,_)}g.NilClass=X("NilClass",g.Object),l(S,"NilClass",g.NilClass),E=g.nil=new g.NilClass,E.$$id=b,E.call=E.apply=function(){z(g.LocalJumpError,"no block given")},E.$$frozen=!0,E.$$comparable=!1,Object.seal(E),g.thrower=function(_){var m={$thrower_type:_,$throw:function(U,te){throw U==null&&(U=E),this.is_orphan&&!te&&z(g.LocalJumpError,"unexpected "+_,U,_.$to_sym()),this.$v=U,this},is_orphan:!1};return m},Object.defineProperty(F,"@",{enumerable:!0,configurable:!0,get:function(){return k(F["!"])?F["!"].$backtrace():E},set:function(_){k(F["!"])?F["!"].$set_backtrace(_):z(g.ArgumentError,"$! not set")}}),g.t_eval_return=g.thrower("return"),TypeError.$$super=Error,g.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(e){var x=e.type_error,E=e.coerce_to,N=e.module,S=e.defs,ee=e.slice,Z=e.eqeqeq,R=e.Kernel,V=e.truthy,g=e.Opal,H=e.nil,$e=e.$$$;return e.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(Q){var J=N(Q,"Opal");S(J,"$bridge",function(b,y){return e.bridge(b,y)}),S(J,"$coerce_to!",function(b,y,K,F){var z,B,p=H;return z=ee(arguments,3),B=z,p=E(b,y,K,B),Z(y,p)||R.$raise(x(b,y,K,p)),p},-4),S(J,"$coerce_to?",function(b,y,K,F){var z,B,p=H;return z=ee(arguments,3),B=z,!V(b["$respond_to?"](K))||(p=E(b,y,K,B),V(p["$nil?"]()))?H:(Z(y,p)||R.$raise(x(b,y,K,p)),p)},-4),S(J,"$try_convert",function(b,y,K){return Z(y,b)?b:V(b["$respond_to?"](K))?b.$__send__(K):H}),S(J,"$compare",function(b,y){var K=H;return K=b["$<=>"](y),V(K===H)&&R.$raise($e("ArgumentError"),"comparison of "+b.$class()+" with "+y.$class()+" failed"),K}),S(J,"$destructure",function(b){if(b.length==1)return b[0];if(b.$$is_array)return b;for(var y=new Array(b.length),K=0,F=y.length;K<F;K++)y[K]=b[K];return y}),S(J,"$respond_to?",function(b,y,K){return K==null&&(K=!1),b==null||!b.$$class?!1:b["$respond_to?"](y,K)},-3),S(J,"$instance_variable_name!",function(b){return b=g["$coerce_to!"](b,$e("String"),"to_str"),V(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(b))||R.$raise($e("NameError").$new("'"+b+"' is not allowed as an instance variable name",b)),b}),S(J,"$class_variable_name!",function(b){return b=g["$coerce_to!"](b,$e("String"),"to_str"),V(b.length<3||b.slice(0,2)!=="@@")&&R.$raise($e("NameError").$new("`"+b+"' is not allowed as a class variable name",b)),b}),S(J,"$const_name?",function(b){return typeof b!="string"&&(b=g["$coerce_to!"](b,$e("String"),"to_str")),b[0]===b[0].toUpperCase()}),S(J,"$const_name!",function(b){var y=this;return V($e("::","String","skip_raise")?"constant":H)&&(b=g["$coerce_to!"](b,$e("String"),"to_str")),(!b||b[0]!=b[0].toUpperCase())&&y.$raise($e("NameError"),"wrong constant name "+b),b}),S(J,"$pristine",function(b,y){var K,F;K=ee(arguments,1),F=K;for(var z,B,p=F.length-1;p>=0;p--)z=F[p],B=b.$$prototype[e.jsid(z)],B&&!B.$$stub&&(B.$$pristine=!0);return H},-2);var re=[];return S(J,"$inspect",function(b){var y=H,K=!1;return function(){try{try{return b===null?"null":b===void 0?"undefined":typeof b.$$class>"u"?Object.prototype.toString.apply(b):typeof b.$inspect!="function"||b.$inspect.$$stub||re.indexOf(b.$__id__())!==-1?"#<"+b.$$class+":0x"+b.$__id__().$to_s(16)+">":(re.push(b.$__id__()),K=!0,b.$inspect())}catch(F){if(e.rescue(F,[$e("Exception")])){y=F;try{return"#<"+b.$$class+":0x"+b.$__id__().$to_s(16)+">"}finally{e.pop_exception(F)}}else throw F}}finally{K&&re.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(e){var x=e.truthy,E=e.coerce_to,N=e.const_set,S=e.Object,ee=e.return_ivar,Z=e.assign_ivar,R=e.ivar,V=e.deny_frozen_access,g=e.freeze,H=e.prop,$e=e.jsid,Q=e.each_ivar,J=e.klass,re=e.Opal,D=e.Kernel,b=e.defs,y=e.send,K=e.def,F=e.eqeqeq,z=e.Module,B=e.rb_lt,p=e.rb_gt,k=e.slice,P=e.to_a,A=e.return_val,q=e.eqeq,o=e.not,d=e.rb_le,T=e.range,h=e.send2,l=e.find_super,c=e.alias,X=[],w=e.nil,s=e.$$$;return e.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(a,$,n){var t=J(a,$,"Module"),r=[t].concat(n),i=e.$r(r);function u(C){if(C.$$is_string)return C;var M=re.$try_convert(C,s("String"),"to_str");if(M.$$is_string)return M;M===w?D.$raise(s("TypeError"),""+C+" is not a symbol nor a string"):D.$raise(s("TypeError"),"can't convert "+C.$class()+" to String ("+C.$class()+"#to_str gives "+M.$class())}b(t,"$allocate",function(){var M=this,G=e.allocate_module(w,function(){});return M!==e.Module&&Object.setPrototypeOf(G,M.$$prototype),G}),K(t,"$initialize",function C(){var M=C.$$p||w,G=this;return C.$$p=null,M!==w?y(G,"module_eval",[],M.$to_proc()):w}),K(t,"$===",function(M){var G=this;return x(M==null)?!1:e.is_a(M,G)}),K(t,"$<",function(M){var G=this;F(z,M)||D.$raise(s("TypeError"),"compared with non class/module");var O=G,ae,le,ce;if(O===M)return!1;for(le=0,ae=e.ancestors(G),ce=ae.length;le<ce;le++)if(ae[le]===M)return!0;for(le=0,ae=e.ancestors(M),ce=ae.length;le<ce;le++)if(ae[le]===G)return!1;return w}),K(t,"$<=",function(M){var G=this,O=w;return x(O=G["$equal?"](M))?O:B(G,M)}),K(t,"$>",function(M){var G=this;return F(z,M)||D.$raise(s("TypeError"),"compared with non class/module"),B(M,G)}),K(t,"$>=",function(M){var G=this,O=w;return x(O=G["$equal?"](M))?O:p(G,M)}),K(t,"$<=>",function(M){var G=this,O=w;return G===M?0:!F(z,M)||(O=B(G,M),x(O["$nil?"]()))?w:x(O)?-1:1}),K(t,"$alias_method",function(M,G){var O=this;return V(O),M=E(M,s("String"),"to_str"),G=E(G,s("String"),"to_str"),e.alias(O,M,G),O}),K(t,"$alias_native",function(M,G){var O=this;return G==null&&(G=M),V(O),e.alias_native(O,M,G),O},-2),K(t,"$ancestors",function(){var M=this;return e.ancestors(M)}),K(t,"$append_features",function(M){var G=this;return V(M),e.append_features(G,M),G}),K(t,"$attr_accessor",function(M){var G,O,ae=this;return G=k(arguments),O=G,y(ae,"attr_reader",P(O)),y(ae,"attr_writer",P(O))},-1),K(t,"$attr",function(M){var G,O,ae=this;return G=k(arguments),O=G,O.length==2&&(O[1]===!0||O[1]===!1)?(ae.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),O[1]?ae.$attr_accessor(O[0]):ae.$attr_reader(O[0]),w):y(ae,"attr_reader",P(O))},-1),K(t,"$attr_reader",function(M){var G,O,ae=this;G=k(arguments),O=G,V(ae);for(var le=ae.$$prototype,ce=O.length-1;ce>=0;ce--){var de=O[ce],he=$e(de),ve=R(de),me=ee(ve);e.prop(le,ve,w),me.$$parameters=[],me.$$arity=0,e.defn(ae,he,me)}return w},-1),K(t,"$attr_writer",function(M){var G,O,ae=this;G=k(arguments),O=G,V(ae);for(var le=ae.$$prototype,ce=O.length-1;ce>=0;ce--){var de=O[ce],he=$e(de+"="),ve=R(de),me=Z(ve);me.$$parameters=[["req"]],me.$$arity=1,e.prop(le,ve,w),e.defn(ae,he,me)}return w},-1),K(t,"$autoload",function(M,G){var O=this;return V(O),i("Opal")["$const_name?"](M)||D.$raise(s("NameError"),"autoload must be constant name: "+M),G==""&&D.$raise(s("ArgumentError"),"empty file name"),O.$$const.hasOwnProperty(M)||(O.$$autoload||(O.$$autoload={}),e.const_cache_version++,O.$$autoload[M]={path:G,loaded:!1,required:!1,success:!1,exception:!1},O.$const_added&&!O.$const_added.$$pristine&&O.$const_added(M)),w}),K(t,"$autoload?",function(M){var G=this;if(G.$$autoload&&G.$$autoload[M]&&!G.$$autoload[M].required&&!G.$$autoload[M].success)return G.$$autoload[M].path;for(var O=G.$ancestors(),ae=0,le=O.length;ae<le;ae++)if(O[ae].$$autoload&&O[ae].$$autoload[M]&&!O[ae].$$autoload[M].required&&!O[ae].$$autoload[M].success)return O[ae].$$autoload[M].path;return w}),K(t,"$class_variables",function(){var M=this;return Object.keys(e.class_variables(M))}),K(t,"$class_variable_get",function(M){var G=this;return M=re["$class_variable_name!"](M),e.class_variable_get(G,M,!1)}),K(t,"$class_variable_set",function(M,G){var O=this;return V(O),M=re["$class_variable_name!"](M),e.class_variable_set(O,M,G)}),K(t,"$class_variable_defined?",function(M){var G=this;return M=re["$class_variable_name!"](M),e.class_variables(G).hasOwnProperty(M)}),K(t,"$const_added",A(w)),re.$pristine(t,"const_added"),K(t,"$remove_class_variable",function(M){var G=this;if(V(G),M=re["$class_variable_name!"](M),e.hasOwnProperty.call(G.$$cvars,M)){var O=G.$$cvars[M];return delete G.$$cvars[M],O}else D.$raise(s("NameError"),"cannot remove "+M+" for "+G)}),K(t,"$constants",function(M){var G=this;return M==null&&(M=!0),e.constants(G,M)},-1),b(t,"$constants",function(M){var G=this;if(M==null){var O=(G.$$nesting||[]).concat(S),ae,le={},ce,de;for(ce=0,de=O.length;ce<de;ce++)for(ae in O[ce].$$const)le[ae]=!0;return Object.keys(le)}else return e.constants(G,M)},-1),b(t,"$nesting",function(){var M=this;return M.$$nesting||[]}),K(t,"$const_defined?",function(M,G){var O=this;G==null&&(G=!0),M=i("Opal")["$const_name!"](M),x(M["$=~"](s(re,"CONST_NAME_REGEXP")))||D.$raise(s("NameError").$new("wrong constant name "+M,M));var ae,le=[O],ce,de;for(G&&(le=le.concat(e.ancestors(O)),O.$$is_module&&(le=le.concat([S]).concat(e.ancestors(S)))),ce=0,de=le.length;ce<de;ce++)if(ae=le[ce],ae.$$const[M]!=null||ae.$$autoload&&ae.$$autoload[M]&&!ae.$$autoload[M].required&&!ae.$$autoload[M].success)return!0;return!1},-2),K(t,"$const_get",function(M,G){var O=this;return G==null&&(G=!0),M=i("Opal")["$const_name!"](M),M.indexOf("::")===0&&M!=="::"&&(M=M.slice(2)),x(M.indexOf("::")!=-1&&M!="::")?y(M.$split("::"),"inject",[O],function(le,ce){return le==null&&(le=w),ce==null&&(ce=w),le.$const_get(ce)}):(x(M["$=~"](s(re,"CONST_NAME_REGEXP")))||D.$raise(s("NameError").$new("wrong constant name "+M,M)),G?e.$$([O],M):e.const_get_local(O,M))},-2),K(t,"$const_missing",function(M){var G=this,O=w;return O=q(G,S)?M:""+G+"::"+M,D.$raise(s("NameError").$new("uninitialized constant "+O,M))}),K(t,"$const_set",function(M,G){var O=this;return V(O),M=re["$const_name!"](M),(x(M["$!~"](s(re,"CONST_NAME_REGEXP")))||x(M["$start_with?"]("::")))&&D.$raise(s("NameError").$new("wrong constant name "+M,M)),N(O,M,G),G}),K(t,"$public_constant",A(w)),K(t,"$define_method",function C(M,G){var O=C.$$p||w,ae=this,le=w,ce=w,de=w;return C.$$p=null,V(ae),G===void 0&&O===w&&D.$raise(s("ArgumentError"),"tried to create a Proc object without a block"),M=u(M),x(G!==void 0)&&(O=F(s("Proc"),le=G)?G:F(s("Method"),le)?G.$to_proc().$$unbound:F(s("UnboundMethod"),le)?e.wrap_method_body(G.$$method):D.$raise(s("TypeError"),"wrong argument type "+G.$class()+" (expected Proc/Method/UnboundMethod)"),x(!G.$$is_proc)&&(ce=G.$owner(),x(ce.$$is_class)&&o(d(ae,ce))&&(de=x(ce.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+ce,D.$raise(s("TypeError"),de)))),typeof Proxy<"u"&&(O.$$proxy_target=O,O=new Proxy(O,{apply:function(he,ve,me){var be=he.$$jsid,ie=he.$$is_lambda;he.$$jsid=M,he.$$is_lambda=!0;try{return he.apply(ve,me)}catch(j){if(j===he.$$brk||j===he.$$ret)return j.$v;throw j}finally{he.$$jsid=be,he.$$is_lambda=ie}}})),O.$$jsid=M,O.$$s=null,O.$$def=O,O.$$define_meth=!0,e.defn(ae,$e(M),O)},-2),K(t,"$freeze",function(){var M=this;return x(M["$frozen?"]())?M:(M.hasOwnProperty("$$base_module")||H(M,"$$base_module",null),g(M))}),K(t,"$remove_method",function(M){var G,O,ae=this;G=k(arguments),O=G;for(var le=0;le<O.length;le++){var ce=u(O[le]);V(ae),e.rdef(ae,"$"+ce)}return ae},-1),K(t,"$singleton_class?",function(){var M=this;return!!M.$$is_singleton}),K(t,"$include",function(M){var G,O,ae=this;G=k(arguments),O=G;for(var le=O.length-1;le>=0;le--){var ce=O[le];ce.$$is_module||D.$raise(s("TypeError"),"wrong argument type "+ce.$class()+" (expected Module)"),ce.$append_features(ae),ce.$included(ae)}return ae},-1),K(t,"$included_modules",function(){var M=this;return e.included_modules(M)}),K(t,"$include?",function(M){var G=this;M.$$is_module||D.$raise(s("TypeError"),"wrong argument type "+M.$class()+" (expected Module)");var O,ae,le,ce=e.ancestors(G);for(O=0,ae=ce.length;O<ae;O++)if(le=ce[O],le===M&&le!==G)return!0;return!1}),K(t,"$instance_method",function(M){var G=this,O=G.$$prototype[$e(M)];return(!O||O.$$stub)&&D.$raise(s("NameError").$new("undefined method `"+M+"' for class `"+G.$name()+"'",M)),s("UnboundMethod").$new(G,O.$$owner||G,O,M)}),K(t,"$instance_methods",function(M){var G=this;return M==null&&(M=!0),x(M)?e.instance_methods(G):e.own_instance_methods(G)},-1),K(t,"$included",A(w)),K(t,"$extended",A(w)),K(t,"$extend_object",function(M){return V(M),w}),K(t,"$method_added",function(M){return k(arguments),w},-1),K(t,"$method_removed",function(M){return k(arguments),w},-1),K(t,"$method_undefined",function(M){return k(arguments),w},-1),K(t,"$module_eval",function C(M){var G=C.$$p||w,O,ae,le,ce=this,de=w,he=w,ve=w,me=w,be=w,ie=w;C.$$p=null,O=k(arguments),ae=O,x(G["$nil?"]())&&x(!!e.compile)?(x(T(1,3,!1)["$cover?"](ae.$size()))||D.$raise(s("ArgumentError"),"wrong number of arguments (0 for 1..3)"),le=[].concat(P(ae)),de=le[0]==null?w:le[0],he=le[1]==null?w:le[1],le[2]==null||le[2],ve=new Map([["file",x(me=he)?me:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(ve),ie=re.$compile(de,be),G=y(D,"proc",[],function Y(){var W=Y.$$s==null?this:Y.$$s;return new Function("Opal,self","return "+ie)(e,W)},{$$s:ce})):x(ae["$any?"]())&&D.$raise(s("ArgumentError"),"wrong number of arguments ("+ae.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var j=G.$$s,L;return G.$$s=null,L=G.apply(ce,[ce]),G.$$s=j,L},-1),K(t,"$module_exec",function C(M){var G=C.$$p||w,O,ae,le=this;C.$$p=null,O=k(arguments),ae=O,G===w&&D.$raise(s("LocalJumpError"),"no block given");var ce=G.$$s,de;return G.$$s=null,de=G.apply(le,ae),G.$$s=ce,de},-1),K(t,"$method_defined?",function(M){var G=this,O=G.$$prototype[$e(M)];return!!O&&!O.$$stub}),K(t,"$module_function",function(M){var G,O,ae=this;if(G=k(arguments),O=G,V(ae),O.length===0)return ae.$$module_function=!0,w;for(var le=0,ce=O.length;le<ce;le++){var de=O[le],he=$e(de),ve=ae.$$prototype[he];e.defs(ae,he,ve)}return O.length===1?O[0]:O},-1),K(t,"$name",function(){var M=this;if(M.$$full_name)return M.$$full_name;for(var G=[],O=M;O;){if(O.$$name===w||O.$$name==null)return w;if(G.unshift(O.$$name),O=O.$$base_module,O===S)break}return G.length===0?w:M.$$full_name=G.join("::")}),K(t,"$prepend",function(M){var G,O,ae=this;G=k(arguments),O=G,O.length===0&&D.$raise(s("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var le=O.length-1;le>=0;le--){var ce=O[le];ce.$$is_module||D.$raise(s("TypeError"),"wrong argument type "+ce.$class()+" (expected Module)"),ce.$prepend_features(ae),ce.$prepended(ae)}return ae},-1),K(t,"$prepend_features",function(M){var G=this;return V(M),G.$$is_module||D.$raise(s("TypeError"),"wrong argument type "+G.$class()+" (expected Module)"),e.prepend_features(G,M),G}),K(t,"$prepended",A(w)),K(t,"$remove_const",function(M){var G=this;return V(G),e.const_remove(G,M)}),K(t,"$to_s",function(){var M=this,G=w;return x(G=e.Module.$name.call(M))?G:"#<"+(M.$$is_module?"Module":"Class")+":0x"+M.$__id__().$to_s(16)+">"}),K(t,"$undef_method",function(M){var G,O,ae=this;G=k(arguments),O=G;for(var le=0;le<O.length;le++){var ce=u(O[le]);V(ae),e.udef(ae,"$"+ce)}return ae},-1),K(t,"$instance_variables",function(){var M=this,G=w;G=(e.Module.$$nesting=r,M.$constants());var O=[];return Q(M,function(ae){ae!=="constructor"&&!G["$include?"](ae)&&O.push("@"+ae)}),O});function f(C,M){var G,O=e.own_instance_methods(C);for(G=0;G<O.length;G++){var ae=O[G],le=$e(ae),ce=C.$$prototype[le],de=e.wrap_method_body(ce);de.$$jsid=ae,e.defn(M,le,de)}}function v(C,M){for(var G=C.$$own_included_modules,O=G.length-1;O>=0;O--)e.append_features(G[O],M)}function I(C,M){for(var G=C.$$own_prepended_modules,O=G.length-1;O>=0;O--)e.prepend_features(G[O],M)}return K(t,"$initialize_copy",function(M){var G=this;return f(M,G),v(M,G),I(M,G),G.$$cloned_from=M.$$cloned_from.concat(M),G.$copy_class_variables(M),G.$copy_constants(M)}),K(t,"$initialize_dup",function C(M){var G=C.$$p||w,O=this;return C.$$p=null,h(O,l(O,"initialize_dup",C,!1,!0),"initialize_dup",[M],G),O.$copy_singleton_methods(M)}),K(t,"$copy_class_variables",function(M){var G=this;for(var O in M.$$cvars)G.$$cvars[O]=M.$$cvars[O]}),K(t,"$copy_constants",function(M){var G=this,O,ae=M.$$const;for(O in ae)N(G,O,ae[O])}),K(t,"$refine",function C(M){var G=C.$$p||w,O,ae=this,le=w,ce=w,de=w;return C.$$p=null,O=[ae,w,w],le=O[0],ce=O[1],de=O[2],de=e.id(M),typeof ae.$$refine_modules>"u"&&(ae.$$refine_modules=Object.create(null)),typeof ae.$$refine_modules[de]>"u"?ce=ae.$$refine_modules[de]=s("Refinement").$new():ce=ae.$$refine_modules[de],ce.refinement_module=le,ce.refined_class=M,y(ce,"class_exec",[],G.$to_proc()),ce}),K(t,"$refinements",function(){var M=this,G=M.$$refine_modules,O=new Map;if(typeof G>"u")return O;for(var ae in G)O["$[]="](G[ae].refined_class,G[ae]);return O}),K(t,"$using",function(M){return D.$raise("Module#using is not permitted in methods")}),c(t,"class_eval","module_eval"),c(t,"class_exec","module_exec"),c(t,"inspect","to_s")}("::",null,X),function(a,$){var n=J(a,$,"Refinement"),t=n.$$prototype;return t.refinement_module=t.refined_class=w,n.$attr_reader("refined_class"),K(n,"$inspect",function r(){var i=r.$$p||w,u=this;return r.$$p=null,x(u.refinement_module)?"#<refinement:"+u.refined_class.$inspect()+"@"+u.refinement_module.$inspect()+">":h(u,l(u,"inspect",r,!1,!0),"inspect",[],i)})}("::",z)};Opal.modules["corelib/class"]=function(e){var x=e.klass,E=e.send,N=e.defs,S=e.def,ee=e.ensure_kwargs,Z=e.hash_get,R=e.eqeq,V=e.truthy,g=e.rb_plus,H=e.return_val,$e=e.slice,Q=e.send2,J=e.find_super,re=e.Kernel,D=e.alias,b=e.top,y=[],K=e.nil,F=e.$$$;return e.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),b.$require("corelib/module"),function(z,B,p){var k=x(z,B,"Class"),P=[k].concat(p),A=e.$r(P);return N(k,"$new",function q(o){var d=q.$$p||K;if(q.$$p=null,o==null&&(o=A("Object")),!o.$$is_class)throw e.TypeError.$new("superclass must be a Class");var T=e.allocate_class(K,o);return o.$inherited(T),d!==K&&E(T,"class_eval",[],d.$to_proc()),T},-1),S(k,"$allocate",function(){var o=this,d=new o.$$constructor;return d.$$id=e.uid(),d}),S(k,"$clone",function(o){var d,T=this,h=K;return o=ee(o),d=Z(o,"freeze"),d==null&&(d=K),V(d["$nil?"]())||R(d,!0)||R(d,!1)||T.$raise(A("ArgumentError"),"unexpected value for freeze: "+d.$class()),h=e.allocate_class(K,T.$$super),h.$copy_instance_variables(T),h.$copy_singleton_methods(T),h.$initialize_clone(T,new Map([["freeze",d]])),(R(d,!0)||V(d["$nil?"]())&&V(T["$frozen?"]()))&&h.$freeze(),h},-1),S(k,"$dup",function(){var o=this,d=K;return d=e.allocate_class(K,o.$$super),d.$copy_instance_variables(o),d.$initialize_dup(o),d}),S(k,"$descendants",function(){var o=this;return g(o.$subclasses(),E(o.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),S(k,"$inherited",H(K)),S(k,"$new",function q(o){var d=q.$$p||K,T,h,l=this;q.$$p=null,T=$e(arguments),h=T;var c=l.$allocate();return e.send(c,c.$initialize,h,d),c},-1),S(k,"$subclasses",function(){var o=this;if(typeof WeakRef<"u"){var d,T,h=[];for(d=0;d<o.$$subclasses.length;d++)T=o.$$subclasses[d].deref(),T!==void 0&&h.push(T);return h}else return o.$$subclasses}),S(k,"$superclass",function(){var o=this;return o.$$super||K}),S(k,"$to_s",function q(){q.$$p;var o=this;q.$$p=null;var d=o.$$singleton_of;return d&&d.$$is_a_module?"#<Class:"+d.$name()+">":d?"#<Class:#<"+d.$$class.$name()+":0x"+e.id(d).$to_s(16)+">>":Q(o,J(o,"to_s",q,!1,!0),"to_s",[],null)}),S(k,"$attached_object",function(){var o=this;if(o.$$singleton_of!=null)return o.$$singleton_of;re.$raise(F("TypeError"),"`"+o+"' is not a singleton class")}),D(k,"inspect","to_s")}("::",null,y)};Opal.modules["corelib/basic_object"]=function(e){var x=e.klass,E=e.slice,N=e.def,S=e.alias,ee=e.return_val,Z=e.Opal,R=e.truthy,V=e.range,g=e.Kernel,H=e.to_a,$e=e.send,Q=e.eqeq,J=e.rb_ge,re=e.nil,D=e.$$$;return e.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(b,y){var K=x(b,y,"BasicObject");return N(K,"$initialize",function(z){return E(arguments),re},-1),N(K,"$==",function(z){var B=this;return B===z}),N(K,"$eql?",function(z){var B=this;return B["$=="](z)}),S(K,"equal?","=="),N(K,"$__id__",function(){var z=this;return z.$$id!=null||e.prop(z,"$$id",e.uid()),z.$$id}),N(K,"$__send__",function F(z,B){var p=F.$$p||re,k,P,A=this;F.$$p=null,k=E(arguments,1),P=k,z.$$is_string||A.$raise(D("TypeError"),""+A.$inspect()+" is not a symbol nor a string");var q=A[e.jsid(z)];return q?(p!==re&&(q.$$p=p),q.apply(A,P)):(p!==re&&(A.$method_missing.$$p=p),A.$method_missing.apply(A,[z].concat(P)))},-2),N(K,"$!",ee(!1)),Z.$pristine("!"),N(K,"$!=",function(z){var B=this;return B["$=="](z)["$!"]()}),N(K,"$instance_eval",function F(z){var B=F.$$p||re,p,k,P,A=this,q=re,o=re,d=re,T=re,h=re,l=re;if(F.$$p=null,p=E(arguments),k=p,R(B["$nil?"]())&&R(!!e.compile))R(V(1,3,!1)["$cover?"](k.$size()))||g.$raise(D("ArgumentError"),"wrong number of arguments (0 for 1..3)"),P=[].concat(H(k)),q=P[0]==null?re:P[0],o=P[1]==null?re:P[1],P[2]==null||P[2],d=new Map([["file",R(T=o)?T:"(eval)"],["eval",!0]]),h=new Map([["arity_check",!1]]).$merge(d),l=Z.$compile(q,h),B=$e(g,"proc",[],function w(){var s=w.$$s==null?this:w.$$s;return new Function("Opal,self","return "+l)(e,s)},{$$s:A});else{if(R(B["$nil?"]())&&R(J(k.$length(),1))&&Q(k.$first()["$[]"](0),"@"))return A.$instance_variable_get(k.$first());R(k["$any?"]())&&g.$raise(D("ArgumentError"),"wrong number of arguments ("+k.$size()+" for 0)")}var c=B.$$s,X;if(B.$$s=null,A.$$is_a_module){A.$$eval=!0;try{X=B.call(A,A)}finally{A.$$eval=!1}}else X=B.call(A,A);return B.$$s=c,X},-1),N(K,"$instance_exec",function F(z){var B=F.$$p||re,p,k,P=this;F.$$p=null,p=E(arguments),k=p,R(B)||g.$raise(D("ArgumentError"),"no block given");var A=B.$$s,q;if(B.$$s=null,P.$$is_a_module){P.$$eval=!0;try{q=B.apply(P,k)}finally{P.$$eval=!1}}else q=B.apply(P,k);return B.$$s=A,q},-1),N(K,"$singleton_method_added",function(z){return E(arguments),re},-1),N(K,"$singleton_method_removed",function(z){return E(arguments),re},-1),N(K,"$singleton_method_undefined",function(z){return E(arguments),re},-1),N(K,"$method_missing",function F(z,B){F.$$p;var p,k,P=this,A=re;return F.$$p=null,p=E(arguments,1),k=p,A=Z.$inspect(P),g.$raise(D("NoMethodError").$new("undefined method `"+z+"' for "+A,z,k),re,g.$caller(1))},-2),Z.$pristine(K,"method_missing"),N(K,"$respond_to_missing?",function(z,B){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(e){var x=e.truthy,E=e.coerce_to,N=e.respond_to,S=e.Opal,ee=e.deny_frozen_access,Z=e.freeze,R=e.freeze_props,V=e.jsid,g=e.each_ivar,H=e.module,$e=e.return_val,Q=e.def,J=e.Kernel,re=e.gvars,D=e.slice,b=e.send,y=e.to_a,K=e.ensure_kwargs,F=e.hash_get,z=e.eqeq,B=e.rb_plus,p=e.extract_kwargs,k=e.eqeqeq,P=e.return_self,A=e.rb_le,q=e.rb_lt,o=e.Object,d=e.alias,T=e.klass,h=[],l=e.nil,c=e.$$$;return e.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(X,w){var s=H(X,"Kernel"),a=[s].concat(w),$=e.$r(a);Q(s,"$=~",$e(!1)),Q(s,"$!~",function(r){var i=this;return i["$=~"](r)["$!"]()}),Q(s,"$===",function(r){var i=this,u=l;return x(u=i.$object_id()["$=="](r.$object_id()))?u:i["$=="](r)}),Q(s,"$<=>",function(r){var i=this;i.$$comparable=!0;var u=i["$=="](r);return u&&u!==l?0:l}),Q(s,"$method",function(r){var i=this,u=i[V(r)];return(!u||u.$$stub)&&J.$raise(c("NameError").$new("undefined method `"+r+"' for class `"+i.$class()+"'",r)),c("Method").$new(i,u.$$owner||i.$class(),u,r)}),Q(s,"$methods",function(r){var i=this;return r==null&&(r=!0),x(r)?e.methods(i):e.own_methods(i)},-1),Q(s,"$public_methods",function(r){var i=this;return r==null&&(r=!0),x(r)?e.methods(i):e.receiver_methods(i)},-1),Q(s,"$Array",function(r){var i;return r===l?[]:r.$$is_array?r:(i=S["$coerce_to?"](r,c("Array"),"to_ary"),i!==l||(i=S["$coerce_to?"](r,c("Array"),"to_a"),i!==l)?i:[r])}),Q(s,"$at_exit",function t(){var r=t.$$p||l,i=l;return re.__at_exit__==null&&(re.__at_exit__=l),t.$$p=null,re.__at_exit__=x(i=re.__at_exit__)?i:[],re.__at_exit__["$<<"](r),r}),Q(s,"$caller",function(r,i){r==null&&(r=1),i==null&&(i=l);var u,f;u=new Error().$backtrace(),f=[];for(var v=r+1,I=u.length;v<I;v++)u[v].match(/runtime\.js/)||f.push(u[v]);return i!=l&&(f=f.slice(0,i)),f},-1),Q(s,"$caller_locations",function(r){var i,u,f=this;return i=D(arguments),u=i,b(b(f,"caller",y(u)),"map",[],function(I){return I==null&&(I=l),c(c(c("Thread"),"Backtrace"),"Location").$new(I)})},-1),Q(s,"$class",function(){var r=this;return r.$$class}),Q(s,"$copy_instance_variables",function(r){var i=this,u=Object.keys(r),f,v,I;for(f=0,v=u.length;f<v;f++)I=u[f],I.charAt(0)!=="$"&&r.hasOwnProperty(I)&&(i[I]=r[I])}),Q(s,"$copy_singleton_methods",function(r){var i=this,u,f,v,I;if(r.hasOwnProperty("$$meta")&&r.$$meta!==null){var C=e.get_singleton_class(r),M=e.get_singleton_class(i);for(v=Object.getOwnPropertyNames(C.$$prototype),u=0,I=v.length;u<I;u++)f=v[u],e.is_method(f)&&(M.$$prototype[f]=C.$$prototype[f]);M.$$const=Object.assign({},C.$$const),Object.setPrototypeOf(M.$$prototype,Object.getPrototypeOf(C.$$prototype))}for(u=0,v=Object.getOwnPropertyNames(r),I=v.length;u<I;u++)f=v[u],f.charAt(0)==="$"&&f.charAt(1)!=="$"&&r.hasOwnProperty(f)&&(i[f]=r[f])}),Q(s,"$clone",function(r){var i,u=this,f=l;return r=K(r),i=F(r,"freeze"),i==null&&(i=l),x(i["$nil?"]())||z(i,!0)||z(i,!1)||u.$raise($("ArgumentError"),"unexpected value for freeze: "+i.$class()),f=u.$class().$allocate(),f.$copy_instance_variables(u),f.$copy_singleton_methods(u),f.$initialize_clone(u,new Map([["freeze",i]])),(z(i,!0)||x(i["$nil?"]())&&x(u["$frozen?"]()))&&f.$freeze(),f},-1),Q(s,"$initialize_clone",function(r,i){var u=this;return i=K(i),F(i,"freeze"),u.$initialize_copy(r),u},-2),Q(s,"$define_singleton_method",function t(r,i){var u=t.$$p||l,f=this;return t.$$p=null,b(f.$singleton_class(),"define_method",[r,i],u.$to_proc())},-2),Q(s,"$dup",function(){var r=this,i=l;return i=r.$class().$allocate(),i.$copy_instance_variables(r),i.$initialize_dup(r),i}),Q(s,"$initialize_dup",function(r){var i=this;return i.$initialize_copy(r)}),Q(s,"$enum_for",function t(r,i){var u=t.$$p||l,f,v,I,C=this;return t.$$p=null,f=D(arguments),f.length>0&&(v=f.shift()),v==null&&(v="each"),I=f,b(c("Enumerator"),"for",[C,v].concat(y(I)),u.$to_proc())},-1),Q(s,"$equal?",function(r){var i=this;return i===r}),Q(s,"$exit",function(r){var i=l,u=l;for(re.__at_exit__==null&&(re.__at_exit__=l),r==null&&(r=!0),re.__at_exit__=x(i=re.__at_exit__)?i:[];!x(re.__at_exit__["$empty?"]());)u=re.__at_exit__.$pop(),u.$call();return r.$$is_boolean?r=r?0:1:r=E(r,c("Integer"),"to_int"),e.exit(r),l},-1),Q(s,"$extend",function(r){var i,u,f=this;i=D(arguments),u=i,u.length==0&&f.$raise(c("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),ee(f);for(var v=f.$singleton_class(),I=u.length-1;I>=0;I--){var C=u[I];C.$$is_module||J.$raise(c("TypeError"),"wrong argument type "+C.$class()+" (expected Module)"),C.$append_features(v),C.$extend_object(f),C.$extended(f)}return f},-1),Q(s,"$freeze",function(){var r=this;return x(r["$frozen?"]())?r:typeof r=="object"?(R(r),Z(r)):r}),Q(s,"$frozen?",function(){var r=this;switch(typeof r){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return r.$$frozen||!1;default:return!1}}),Q(s,"$gets",function(r){var i,u;return re.stdin==null&&(re.stdin=l),i=D(arguments),u=i,b(re.stdin,"gets",y(u))},-1),Q(s,"$hash",function(){var r=this;return r.$__id__()}),Q(s,"$initialize_copy",$e(l));var n=[];return Q(s,"$inspect",function(){var r=this,i=l,u=l,f=l,v=l;return function(){try{try{return i="",u=r.$__id__(),x(n["$include?"](u))?i=" ...":(n["$<<"](u),f=!0,b(r.$instance_variables(),"each",[],function I(C){var M=I.$$s==null?this:I.$$s,G=l,O=l;return C==null&&(C=l),G=M.$instance_variable_get(C),O=$("Opal").$inspect(G),i=B(i," "+C+"="+O)},{$$s:r})),"#<"+r.$class()+":0x"+u.$to_s(16)+i+">"}catch(I){if(e.rescue(I,[$("StandardError")])){v=I;try{return"#<"+r.$class()+":0x"+u.$to_s(16)+">"}finally{e.pop_exception(I)}}else throw I}}finally{x(f)&&n.$pop()}}()}),Q(s,"$instance_of?",function(r){var i=this;return!r.$$is_class&&!r.$$is_module&&J.$raise(c("TypeError"),"class or module required"),i.$$class===r}),Q(s,"$instance_variable_defined?",function(r){var i=this;return r=S["$instance_variable_name!"](r),e.hasOwnProperty.call(i,r.substr(1))}),Q(s,"$instance_variable_get",function(r){var i=this;r=S["$instance_variable_name!"](r);var u=i[e.ivar(r.substr(1))];return u??l}),Q(s,"$instance_variable_set",function(r,i){var u=this;return ee(u),r=S["$instance_variable_name!"](r),u[e.ivar(r.substr(1))]=i}),Q(s,"$remove_instance_variable",function(r){var i=this;r=S["$instance_variable_name!"](r);var u=e.ivar(r.substr(1)),f;return i.hasOwnProperty(u)?(f=i[u],delete i[u],f):J.$raise(c("NameError"),"instance variable "+r+" not defined")}),Q(s,"$instance_variables",function(){var r=this,i=[];return g(r,function(u){u.substr(-1)==="$"&&(u=u.slice(0,u.length-1)),i.push("@"+u)}),i}),Q(s,"$Integer",function(r,i,u){var f,v,I,C;f=D(arguments,1),v=p(f),v=K(v),f.length>0&&(I=f.shift()),C=F(v,"exception"),C==null&&(C=!0);var M,G,O;if(C=x(C),!r.$$is_string){if(I!==void 0)if(C)J.$raise(c("ArgumentError"),"base specified for non string value");else return l;if(r===l)if(C)J.$raise(c("TypeError"),"can't convert nil into Integer");else return l;if(r.$$is_number){if(r===1/0||r===-1/0||isNaN(r))if(C)J.$raise(c("FloatDomainError"),r);else return l;return Math.floor(r)}if(r["$respond_to?"]("to_int")&&(M=r.$to_int(),e.is_a(M,c("Integer")))||r["$respond_to?"]("to_i")&&(M=r.$to_i(),e.is_a(M,c("Integer"))))return M;if(C)J.$raise(c("TypeError"),"can't convert "+r.$class()+" into Integer");else return l}if(r==="0")return 0;if(I===void 0)I=0;else if(I=E(I,c("Integer"),"to_int"),I===1||I<0||I>36)if(C)J.$raise(c("ArgumentError"),"invalid radix "+I);else return l;if(G=r.toLowerCase(),G=G.replace(/(\d)_(?=\d)/g,"$1"),G=G.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ae,le,ce){switch(ce){case"0b":if(I===0||I===2)return I=2,le;case"0":case"0o":if(I===0||I===8)return I=8,le;case"0d":if(I===0||I===10)return I=10,le;case"0x":if(I===0||I===16)return I=16,le}if(C)J.$raise(c("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return l}),I=I===0?10:I,O="0-"+(I<=10?I-1:"9a-"+String.fromCharCode(97+(I-11))),!new RegExp("^\\s*[+-]?["+O+"]+\\s*$").test(G))if(C)J.$raise(c("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return l;if(M=parseInt(G,I),isNaN(M))if(C)J.$raise(c("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return l;return M},-2),Q(s,"$Float",function(r,i){var u;i=K(i),u=F(i,"exception"),u==null&&(u=!0);var f;if(u=x(u),r===l)if(u)J.$raise(c("TypeError"),"can't convert nil into Float");else return l;if(r.$$is_string){if(f=r.toString(),f=f.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(f))return J.$Integer(f);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(f))if(u)J.$raise(c("ArgumentError"),'invalid value for Float(): "'+r+'"');else return l;return parseFloat(f)}return u?S["$coerce_to!"](r,c("Float"),"to_f"):E(r,c("Float"),"to_f")},-2),Q(s,"$Hash",function(r){return x(r["$nil?"]())||z(r,[])?new Map:k(c("Hash"),r)?r:S["$coerce_to!"](r,c("Hash"),"to_hash")}),Q(s,"$is_a?",function(r){var i=this;return!r.$$is_class&&!r.$$is_module&&J.$raise(c("TypeError"),"class or module required"),e.is_a(i,r)}),Q(s,"$itself",P),Q(s,"$lambda",function t(){var r=t.$$p||l;return t.$$p=null,e.lambda(r)}),Q(s,"$load",function(r){return r=S["$coerce_to!"](r,c("String"),"to_str"),e.load(r)}),Q(s,"$loop",function t(){var r=t.$$p||l,i=this,u=l;if(t.$$p=null,r===l)return b(i,"enum_for",["loop"],function(){return c(c("Float"),"INFINITY")});for(;x(!0);)try{e.yieldX(r,[])}catch(f){if(e.rescue(f,[c("StopIteration")])){u=f;try{return u.$result()}finally{e.pop_exception(f)}}else throw f}return i}),Q(s,"$nil?",$e(!1)),Q(s,"$printf",function(r){var i,u,f=this,v=l;return re.stdout==null&&(re.stdout=l),i=D(arguments),u=i,x(u["$empty?"]())||(v=x(u[0].$$is_string)?re.stdout:u.$shift(),v.$write(b(f,"format",y(u)))),l},-1),Q(s,"$proc",function t(){var r=t.$$p||l;return t.$$p=null,x(r)||J.$raise(c("ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r}),Q(s,"$puts",function(r){var i,u;return re.stdout==null&&(re.stdout=l),i=D(arguments),u=i,b(re.stdout,"puts",y(u))},-1),Q(s,"$p",function(r){var i,u;return i=D(arguments),u=i,b(u,"each",[],function(v){return re.stdout==null&&(re.stdout=l),v==null&&(v=l),re.stdout.$puts(v.$inspect())}),x(A(u.$length(),1))?u["$[]"](0):u},-1),Q(s,"$print",function(r){var i,u;return re.stdout==null&&(re.stdout=l),i=D(arguments),u=i,b(re.stdout,"print",y(u))},-1),Q(s,"$readline",function(r){var i,u;return re.stdin==null&&(re.stdin=l),i=D(arguments),u=i,b(re.stdin,"readline",y(u))},-1),Q(s,"$warn",function(r,i){var u,f,v,I,C,M,G=this,O=l;return re.VERBOSE==null&&(re.VERBOSE=l),re.stderr==null&&(re.stderr=l),u=D(arguments),f=p(u),f=K(f),v=u,I=F(f,"uplevel"),I==null&&(I=l),x(I)&&(I=S["$coerce_to!"](I,c("Integer"),"to_str"),x(q(I,0))&&J.$raise(c("ArgumentError"),"negative level ("+I+")"),O=(C=(M=G.$caller(B(I,1),1).$first(),M===l||M==null?l:M.$split(":in `")),C===l||C==null?l:C.$first()),x(O)&&(O=""+O+": "),v=b(v,"map",[],function(le){return le==null&&(le=l),""+O+"warning: "+le})),x(re.VERBOSE["$nil?"]())||x(v["$empty?"]())?l:b(re.stderr,"puts",y(v))},-1),Q(s,"$raise",function(r,i,u){throw re["!"]==null&&(re["!"]=l),i==null&&(i=l),u==null&&(u=l),r==null&&re["!"]!==l?re["!"]:(r==null?r=c("RuntimeError").$new(""):N(r,"$to_str")?r=c("RuntimeError").$new(r.$to_str()):r.$$is_class&&N(r,"$exception")?r=r.$exception(i):r.$$is_exception||(r=c("TypeError").$new("exception class/object expected")),u!==l&&r.$set_backtrace(u),re["!"]!==l&&e.exceptions.push(re["!"]),re["!"]=r,r)},-1),Q(s,"$rand",function(r){return r===void 0?c(c("Random"),"DEFAULT").$rand():(r.$$is_number&&(r<0&&(r=Math.abs(r)),r%1!==0&&(r=r.$to_i()),r===0&&(r=void 0)),c(c("Random"),"DEFAULT").$rand(r))},-1),Q(s,"$respond_to?",function(r,i){var u=this;i==null&&(i=!1);var f=u[V(r)];return typeof f=="function"&&!f.$$stub?!0:u["$respond_to_missing?"].$$pristine===!0?!1:u["$respond_to_missing?"](r,i)},-2),Q(s,"$respond_to_missing?",function(r,i){return!1},-2),S.$pristine(s,"respond_to?","respond_to_missing?"),Q(s,"$require",function(r){return typeof r!="string"&&e.String&&e.Array&&(r=S["$coerce_to!"](r,c("String"),"to_str")),e.require(r)}),Q(s,"$require_relative",function(r){return S["$try_convert!"](r,c("String"),"to_str"),r=c("File").$expand_path(c("File").$join(e.current_file,"..",r)),e.require(r)}),Q(s,"$require_tree",function(r,i){var u;i=K(i),u=F(i,"autoload"),u==null&&(u=!1);var f=[];r=c("File").$expand_path(r),r=e.normalize(r),r==="."&&(r="");for(var v in e.modules)v["$start_with?"](r)&&(u?f.push([v,!0]):f.push([v,e.require(v)]));return f},-2),Q(s,"$singleton_class",function(){var r=this;return e.get_singleton_class(r)}),Q(s,"$sleep",function(r){r==null&&(r=l),r===l&&J.$raise(c("TypeError"),"can't convert NilClass into time interval"),r.$$is_number||J.$raise(c("TypeError"),"can't convert "+r.$class()+" into time interval"),r<0&&J.$raise(c("ArgumentError"),"time interval must be positive");for(var i=e.global.performance?function(){return performance.now()}:function(){return new Date},u=i();i()-u<=r*1e3;);return Math.round(r)},-1),Q(s,"$srand",function(r){return r==null&&(r=$("Random").$new_seed()),c("Random").$srand(r)},-1),Q(s,"$String",function(r){var i=l;return x(i=S["$coerce_to?"](r,c("String"),"to_str"))?i:S["$coerce_to!"](r,c("String"),"to_s")}),Q(s,"$tap",function t(){var r=t.$$p||l,i=this;return t.$$p=null,e.yield1(r,i),i}),Q(s,"$to_proc",P),Q(s,"$to_s",function(){var r=this;return"#<"+r.$class()+":0x"+r.$__id__().$to_s(16)+">"}),Q(s,"$catch",function t(r){var i=t.$$p||l,u=l,f=l;t.$$p=null,r==null&&(r=l);try{return r=x(u=r)?u:o.$new(),e.yield1(i,r)}catch(v){if(e.rescue(v,[c("UncaughtThrowError")])){f=v;try{return z(f.$tag(),r)?f.$value():J.$raise()}finally{e.pop_exception(v)}}else throw v}},-1),Q(s,"$throw",function(r,i){return i==null&&(i=l),J.$raise(c("UncaughtThrowError").$new(r,i))},-2),Q(s,"$open",function t(r){var i=t.$$p||l,u,f;return t.$$p=null,u=D(arguments),f=u,b(c("File"),"open",y(f),i.$to_proc())},-1),Q(s,"$yield_self",function t(){var r=t.$$p||l,i=this;return t.$$p=null,r===l?b(i,"enum_for",["yield_self"],$e(1)):e.yield1(r,i)}),d(s,"fail","raise"),d(s,"kind_of?","is_a?"),d(s,"object_id","__id__"),d(s,"public_send","__send__"),d(s,"send","__send__"),d(s,"then","yield_self"),d(s,"to_enum","enum_for")}("::",h),function(X,w){var s=T(X,w,"Object");return delete o.$$prototype.$require,s.$include(J)}("::",null)};Opal.modules["corelib/main"]=function(e){var x=e.return_val,E=e.def,N=e.Object,S=e.slice,ee=e.Kernel,Z=e.top;return e.nil,e.add_stubs("include,raise"),function(R,V){return E(R,"$to_s",x("main")),E(R,"$include",function(H){return N.$include(H)}),E(R,"$autoload",function(H){var $e,Q;return $e=S(arguments),Q=$e,e.Object.$autoload.apply(e.Object,Q)},-1),E(R,"$using",function(H){return ee.$raise("main.using is permitted only at toplevel")})}(e.get_singleton_class(Z))};Opal.modules["corelib/error/errno"]=function(e){var x=e.module,E=e.truthy,N=e.rb_plus,S=e.send2,ee=e.find_super,Z=e.def,R=e.klass,V=e.nil,g=e.$$$;return e.add_stubs("+,errno,class,attr_reader"),function(H,$e){var Q=x(H,"Errno"),J=V,re=V;J=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],re=V;var D;for(D=0;D<J.length;D++)(function(){var b=J[D][0],y=J[D][1],K=J[D][2];re=e.klass(Q,e.SystemCallError,b),re.errno=K,function(F,z){return Z(F,"$new",function B(p){B.$$p;var k=this,P=V;return B.$$p=null,p==null&&(p=V),P=y,E(p)&&(P=N(P," - "+p)),S(k,ee(k,"new",B,!1,!0),"new",[P],null)},-1)}(e.get_singleton_class(re))})()}("::"),function(H,$e,Q){var J=R(H,$e,"SystemCallError");return Z(J,"$errno",function(){var D=this;return D.$class().$errno()}),function(re,D){return re.$attr_reader("errno")}(e.get_singleton_class(J))}("::",g("StandardError"))};Opal.modules["corelib/error"]=function(e){var x=e.klass,E=e.slice,N=e.gvars,S=e.defs,ee=e.send,Z=e.to_a,R=e.def,V=e.send2,g=e.find_super,H=e.truthy,$e=e.Kernel,Q=e.not,J=e.rb_plus,re=e.eqeq,D=e.Object,b=e.ensure_kwargs,y=e.hash_get,K=e.module,F=[],z=e.nil,B=e.$$$;return e.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(p,k,P){var A=x(p,k,"Exception"),q=[A].concat(P),o=e.$r(q),d=A.$$prototype;d.message=z,e.prop(A.$$prototype,"$$is_exception",!0);var T;Error.stackTraceLimit=100,S(A,"$new",function(c){var X,w,s=this;N["!"]==null&&(N["!"]=z),X=E(arguments),w=X;var a=w.length>0?w[0]:z,$=new s.$$constructor(a);return $.name=s.$$name,$.message=a,$.cause=N["!"],e.send($,$.$initialize,w),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace($,T),$},-1),T=A.$new,S(A,"$exception",function(c){var X,w,s=this;return X=E(arguments),w=X,ee(s,"new",Z(w))},-1),R(A,"$initialize",function(c){var X,w,s=this;return X=E(arguments),w=X,s.message=w.length>0?w[0]:z},-1),R(A,"$copy_instance_variables",function l(c){var X=l.$$p||z,w=this;l.$$p=null,V(w,g(w,"copy_instance_variables",l,!1,!0),"copy_instance_variables",[c],X),w.message=c.message,w.cause=c.cause,w.stack=c.stack});function h(l){for(var c=[],X,w=0;w<l.length;w++){var s=l[w];!s||!s.$$is_string||((X=s.match(/^    at (.*?) \((.*?)\)$/))?c.push(X[2]+":in `"+X[1]+"'"):(X=s.match(/^    at (.*?)$/))?c.push(X[1]+":in `undefined'"):(X=s.match(/^  from (.*?)$/))?c.push(X[1]):(X=s.match(/^(.*?)@(.*?)$/))&&c.push(X[2]+":in `"+X[1]+"'"))}return c}return R(A,"$backtrace",function(){var c=this;if(c.backtrace)return c.backtrace;var X=c.stack;return typeof X<"u"&&X.$$is_string?c.backtrace=h(X.split(`
`)):X?c.backtrace=h(X):[]}),R(A,"$backtrace_locations",function(){var c,X=this;return X.backtrace_locations||(X.backtrace_locations=(c=X.$backtrace(),c===z||c==null?z:ee(c,"map",[],function(s){return s==null&&(s=z),B(B(B("Thread"),"Backtrace"),"Location").$new(s)}))),X.backtrace_locations}),R(A,"$cause",function(){var c=this;return c.cause||z}),R(A,"$exception",function(c){var X=this;if(c==null&&(c=z),c===z||X===c)return X;var w=X.$clone();return w.message=c,X.backtrace&&(w.backtrace=X.backtrace.$dup()),w.stack=X.stack,w.cause=X.cause,w},-1),R(A,"$message",function(){var c=this;return c.$to_s()}),R(A,"$full_message",function(c){var X,w=this,s=z,a=z,$=z,n=z,t=z,r=z,i=z,u=z,f=z;return N.stderr==null&&(N.stderr=z),c==null&&(c=z),H(o("Hash","skip_raise")?"constant":z)?(c=new Map([["highlight",N.stderr["$tty?"]()],["order","top"]]).$merge(H(s=c)?s:new Map),X=[c["$[]"]("highlight"),c["$[]"]("order")],a=X[0],$=X[1],H([!0,!1]["$include?"](a))||$e.$raise(B("ArgumentError"),"expected true or false as highlight: "+a),H(["top","bottom"]["$include?"]($))||$e.$raise(B("ArgumentError"),"expected :top or :bottom as order: "+$),H(a)?(n="\x1B[1;4m",t="\x1B[1m",r="\x1B[m"):n=t=r="",i=w.$backtrace().$dup(),(Q(i)||H(i["$empty?"]()))&&(i=w.$caller()),u=i.$shift(),f=""+u+": ",f=J(f,""+t+w.$to_s()+" ("+n+w.$class()+r+t+")"+r+`
`),f=J(f,ee(i,"map",[],function(I){return I==null&&(I=z),"	from "+I+`
`}).$join()),H(w.$cause())&&(f=J(f,w.$cause().$full_message(new Map([["highlight",a]])))),re($,"bottom")&&(f=f.$split(`
`).$reverse().$join(`
`),f=J(""+t+"Traceback"+r+` (most recent call last):
`,f)),f):""+w.message+`
`+w.stack},-1),R(A,"$inspect",function(){var c=this,X=z;return X=c.$to_s(),H(X["$empty?"]())?c.$class().$to_s():"#<"+c.$class().$to_s()+": "+c.$to_s()+">"}),R(A,"$set_backtrace",function(c){var X=this,w=!0,s,a;if(c===z)X.backtrace=z,X.stack="";else if(c.$$is_string)X.backtrace=[c],X.stack="  from "+c;else{if(c.$$is_array){for(s=0,a=c.length;s<a;s++)if(!c[s].$$is_string){w=!1;break}}else w=!1;w===!1&&$e.$raise(B("TypeError"),"backtrace must be Array of String"),X.backtrace=c,X.stack=ee(c,"map",[],function(n){return n==null&&(n=z),J("  from ",n)}).join(`
`)}return c}),R(A,"$to_s",function(){var c=this,X=z,w=z;return H(X=H(w=c.message)?c.message.$to_s():w)?X:c.$class().$to_s()})}("::",Error,F),x("::",B("Exception"),"ScriptError"),x("::",B("ScriptError"),"SyntaxError"),x("::",B("ScriptError"),"LoadError"),x("::",B("ScriptError"),"NotImplementedError"),x("::",B("Exception"),"SystemExit"),x("::",B("Exception"),"NoMemoryError"),x("::",B("Exception"),"SignalException"),x("::",B("SignalException"),"Interrupt"),x("::",B("Exception"),"SecurityError"),x("::",B("Exception"),"SystemStackError"),x("::",B("Exception"),"StandardError"),x("::",B("StandardError"),"EncodingError"),x("::",B("StandardError"),"ZeroDivisionError"),x("::",B("StandardError"),"NameError"),x("::",B("NameError"),"NoMethodError"),x("::",B("StandardError"),"RuntimeError"),x("::",B("RuntimeError"),"FrozenError"),x("::",B("StandardError"),"LocalJumpError"),x("::",B("StandardError"),"TypeError"),x("::",B("StandardError"),"ArgumentError"),x("::",B("ArgumentError"),"UncaughtThrowError"),x("::",B("StandardError"),"IndexError"),x("::",B("IndexError"),"StopIteration"),x("::",B("StopIteration"),"ClosedQueueError"),x("::",B("IndexError"),"KeyError"),x("::",B("StandardError"),"RangeError"),x("::",B("RangeError"),"FloatDomainError"),x("::",B("StandardError"),"IOError"),x("::",B("IOError"),"EOFError"),x("::",B("StandardError"),"SystemCallError"),x("::",B("StandardError"),"RegexpError"),x("::",B("StandardError"),"ThreadError"),x("::",B("StandardError"),"FiberError"),D.$autoload("Errno","corelib/error/errno"),function(p,k){var P=x(p,k,"FrozenError");return P.$attr_reader("receiver"),R(P,"$initialize",function A(q,o){var d;A.$$p;var T=this;return A.$$p=null,o=b(o),d=y(o,"receiver"),d==null&&(d=z),V(T,g(T,"initialize",A,!1,!0),"initialize",[q],null),T.receiver=d},-2)}("::",B("RuntimeError")),function(p,k){var P=x(p,k,"UncaughtThrowError"),A=P.$$prototype;return A.tag=z,P.$attr_reader("tag","value"),R(P,"$initialize",function q(o,d){q.$$p;var T=this;return q.$$p=null,d==null&&(d=z),T.tag=o,T.value=d,V(T,g(T,"initialize",q,!1,!0),"initialize",["uncaught throw "+T.tag.$inspect()],null)},-2)}("::",B("ArgumentError")),function(p,k){var P=x(p,k,"NameError");return P.$attr_reader("name"),R(P,"$initialize",function A(q,o){A.$$p;var d=this;return A.$$p=null,o==null&&(o=z),V(d,g(d,"initialize",A,!1,!0),"initialize",[q],null),d.name=o},-2)}("::",null),function(p,k){var P=x(p,k,"NoMethodError");return P.$attr_reader("args"),R(P,"$initialize",function A(q,o,d){A.$$p;var T=this;return A.$$p=null,o==null&&(o=z),d==null&&(d=[]),V(T,g(T,"initialize",A,!1,!0),"initialize",[q,o],null),T.args=d},-2)}("::",null),function(p,k){var P=x(p,k,"StopIteration");return P.$attr_reader("result")}("::",null),function(p,k){var P=x(p,k,"KeyError"),A=P.$$prototype;return A.receiver=A.key=z,R(P,"$initialize",function q(o,d){var T,h;q.$$p;var l=this;return q.$$p=null,d=b(d),T=y(d,"receiver"),T==null&&(T=z),h=y(d,"key"),h==null&&(h=z),V(l,g(l,"initialize",q,!1,!0),"initialize",[o],null),l.receiver=T,l.key=h},-2),R(P,"$receiver",function(){var o=this,d=z;return H(d=o.receiver)?d:$e.$raise(B("ArgumentError"),"no receiver is available")}),R(P,"$key",function(){var o=this,d=z;return H(d=o.key)?d:$e.$raise(B("ArgumentError"),"no key is available")})}("::",null),function(p,k){var P=x(p,k,"LocalJumpError");return P.$attr_reader("exit_value","reason"),R(P,"$initialize",function A(q,o,d){A.$$p;var T=this;return A.$$p=null,o==null&&(o=z),d==null&&(d="noreason"),V(T,g(T,"initialize",A,!1,!0),"initialize",[q],null),T.exit_value=o,T.reason=d},-2)}("::",null),function(p,k){var P=K(p,"JS"),A=[P].concat(k);return x(A[0],null,"Error"),z}("::",F)};Opal.modules["corelib/constants"]=function(e){var x=e.const_set;e.nil;var E=e.$$$;return x("::","RUBY_PLATFORM","opal"),x("::","RUBY_ENGINE","opal"),x("::","RUBY_VERSION","3.2.0"),x("::","RUBY_ENGINE_VERSION","1.8.2"),x("::","RUBY_RELEASE_DATE","2023-11-23"),x("::","RUBY_PATCHLEVEL",0),x("::","RUBY_REVISION","0"),x("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),x("::","RUBY_DESCRIPTION","opal "+E("RUBY_ENGINE_VERSION")+" ("+E("RUBY_RELEASE_DATE")+" revision "+E("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(e){var x=e.Object;return e.nil,e.add_stubs("require"),x.$require("corelib/runtime"),x.$require("corelib/helpers"),x.$require("corelib/module"),x.$require("corelib/class"),x.$require("corelib/basic_object"),x.$require("corelib/kernel"),x.$require("corelib/main"),x.$require("corelib/error"),x.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(e){var x=e.klass,E=e.Kernel,N=e.def,S=e.return_val,ee=e.ensure_kwargs,Z=e.hash_get,R=e.NilClass,V=e.slice,g=e.truthy,H=e.rb_gt,$e=e.alias,Q=e.nil,J=e.$$$;return e.add_stubs("raise,name,new,>,length,Rational,to_i"),function(re,D,b){var y=x(re,D,"NilClass");return y.$$prototype.$$meta=y,function(K,F){return N(K,"$allocate",function(){var B=this;return E.$raise(J("TypeError"),"allocator undefined for "+B.$name())}),e.udef(K,"$new"),Q}(e.get_singleton_class(y)),N(y,"$!",S(!0)),N(y,"$&",S(!1)),N(y,"$|",function(F){return F!==!1&&F!==Q}),N(y,"$^",function(F){return F!==!1&&F!==Q}),N(y,"$==",function(F){return F===Q}),N(y,"$dup",S(Q)),N(y,"$clone",function(F){return F=ee(F),Z(F,"freeze"),Q},-1),N(y,"$inspect",S("nil")),N(y,"$nil?",S(!0)),N(y,"$singleton_class",function(){return R}),N(y,"$to_a",function(){return[]}),N(y,"$to_h",function(){return new Map}),N(y,"$to_i",S(0)),N(y,"$to_s",S("")),N(y,"$to_c",function(){return J("Complex").$new(0,0)}),N(y,"$rationalize",function(F){var z,B;return z=V(arguments),B=z,g(H(B.$length(),1))&&E.$raise(J("ArgumentError")),E.$Rational(0,1)},-1),N(y,"$to_r",function(){return E.$Rational(0,1)}),N(y,"$instance_variables",function(){return[]}),$e(y,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(e){var x=e.klass,E=e.Kernel,N=e.def,S=e.return_self,ee=e.ensure_kwargs,Z=e.hash_get,R=e.slice,V=e.truthy,g=e.send2,H=e.find_super,$e=e.to_a,Q=e.alias,J=e.nil,re=e.$$$;return e.add_stubs("raise,name,==,to_s,__id__"),function(D,b,y){var K=x(D,b,"Boolean");e.prop(K.$$prototype,"$$is_boolean",!0);for(var F=["$$class","$$meta"],z=0;z<F.length;z++)Object.defineProperty(K.$$prototype,F[z],{configurable:!0,enumerable:!1,get:function(){return this==!0?e.TrueClass:this==!1?e.FalseClass:e.Boolean}});return Object.defineProperty(K.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:J}}),function(B,p){return N(B,"$allocate",function(){var P=this;return E.$raise(re("TypeError"),"allocator undefined for "+P.$name())}),e.udef(B,"$new"),J}(e.get_singleton_class(K)),N(K,"$__id__",function(){var p=this;return p.valueOf()?2:0}),N(K,"$!",function(){var p=this;return p!=!0}),N(K,"$&",function(p){var k=this;return k==!0?p!==!1&&p!==J:!1}),N(K,"$|",function(p){var k=this;return k==!0?!0:p!==!1&&p!==J}),N(K,"$^",function(p){var k=this;return k==!0?p===!1||p===J:p!==!1&&p!==J}),N(K,"$==",function(p){var k=this;return k==!0===p.valueOf()}),N(K,"$singleton_class",function(){var p=this;return p.$$meta}),N(K,"$to_s",function(){var p=this;return p==!0?"true":"false"}),N(K,"$dup",S),N(K,"$clone",function(p){var k=this;return p=ee(p),Z(p,"freeze"),k},-1),N(K,"$method_missing",function B(p,k){var P=B.$$p||J,A,q,o=this;B.$$p=null,A=R(arguments,1),q=A;var d=o.$$class.$$prototype[e.jsid(p)];return V(typeof d<"u"&&!d.$$stub)||g(o,H(o,"method_missing",B,!1,!0),"method_missing",[p].concat($e(q)),P),e.send(o,d,q,P)},-2),N(K,"$respond_to_missing?",function(p,k){var P=this,A=P.$$class.$$prototype[e.jsid(p)];return typeof A<"u"&&!A.$$stub},-2),Q(K,"eql?","=="),Q(K,"equal?","=="),Q(K,"inspect","to_s"),Q(K,"object_id","__id__")}("::",Boolean),x("::",re("Boolean"),"TrueClass"),x("::",re("Boolean"),"FalseClass"),J};Opal.modules["corelib/comparable"]=function(e){var x=e.truthy,E=e.module,N=e.rb_gt,S=e.rb_lt,ee=e.eqeqeq,Z=e.Kernel,R=e.def,V=e.nil,g=e.$$$;return e.add_stubs(">,<,===,raise,class,<=>,equal?"),function(H){var $e=E(H,"Comparable"),Q=V;function J(b){return e.is_a(b,e.Integer)?b:N(b,0)?1:S(b,0)?-1:0}function re(b,y){var K;ee(V,Q=y)||ee(!0,Q)||ee(!1,Q)||ee(g("Integer"),Q)||ee(g("Float"),Q)?K=y.$inspect():K=y.$$class,Z.$raise(g("ArgumentError"),"comparison of "+b.$class()+" with "+K+" failed")}function D(b,y){var K=b["$<=>"](y);return x(K)||re(b,y),J(K)}return R($e,"$==",function(y){var K=this,F=V;return x(K["$equal?"](y))?!0:K["$<=>"]==e.Kernel["$<=>"]?!1:K.$$comparable?(K.$$comparable=!1,!1):x(F=K["$<=>"](y))?J(F)==0:!1}),R($e,"$>",function(y){var K=this;return D(K,y)>0}),R($e,"$>=",function(y){var K=this;return D(K,y)>=0}),R($e,"$<",function(y){var K=this;return D(K,y)<0}),R($e,"$<=",function(y){var K=this;return D(K,y)<=0}),R($e,"$between?",function(y,K){var F=this;return!(x(S(F,y))||x(N(F,K)))}),R($e,"$clamp",function(y,K){var F=this;K==null&&(K=V);var z,B;if(K===V&&(e.is_a(y,e.Range)||Z.$raise(g("TypeError"),"wrong argument type "+y.$class()+" (expected Range)"),B=y.excl,K=y.end,y=y.begin,K!==V&&B&&Z.$raise(g("ArgumentError"),"cannot clamp with an exclusive range")),y!==V&&K!==V&&D(y,K)>0&&Z.$raise(g("ArgumentError"),"min argument must be smaller than max argument"),y!==V){if(z=D(F,y),z==0)return F;if(z<0)return y}return K!==V&&(z=D(F,K),z>0)?K:F},-2)}("::")};Opal.modules["corelib/regexp"]=function(e){var x=e.coerce_to,E=e.prop,N=e.freeze,S=e.klass,ee=e.const_set,Z=e.send2,R=e.find_super,V=e.def,g=e.truthy,H=e.gvars,$e=e.slice,Q=e.Kernel,J=e.Opal,re=e.alias,D=e.send,b=e.regexp,y=e.rb_plus,K=e.ensure_kwargs,F=e.hash_get,z=e.rb_ge,B=e.to_a,p=e.eqeqeq,k=e.rb_minus,P=e.return_ivar,A=[],q=e.nil,o=e.$$$;return e.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),S("::",o("StandardError"),"RegexpError"),function(d,T,h){var l=S(d,T,"Regexp"),c=[l].concat(h),X=e.$r(c);return ee(l,"IGNORECASE",1),ee(l,"EXTENDED",2),ee(l,"MULTILINE",4),e.prop(l.$$prototype,"$$is_regexp",!0),function(w,s){var a=[w].concat(s),$=e.$r(a);return V(w,"$allocate",function n(){var t=n.$$p||q,r=this,i=q;return n.$$p=null,i=Z(r,R(r,"allocate",n,!1,!0),"allocate",[],t),i.uninitialized=!0,i}),V(w,"$escape",function(t){return t=x(t,o("String"),"to_str"),e.escape_regexp(t)}),V(w,"$last_match",function(t){return H["~"]==null&&(H["~"]=q),t==null&&(t=q),g(t["$nil?"]())?H["~"]:g(H["~"])?H["~"]["$[]"](t):q},-1),V(w,"$union",function(t){var r,i,u=this;r=$e(arguments),i=r;var f,v,I,C,M;if(i.length==0)return/(?!)/;if(i.length==1&&i[0].$$is_regexp)return i[0];f=i[0].$$is_array,i.length>1&&f&&Q.$raise(o("TypeError"),"no implicit conversion of Array into String"),f&&(i=i[0]),C=void 0,v=[];for(var G=0;G<i.length;G++)I=i[G],I.$$is_string?v.push(u.$escape(I)):I.$$is_regexp?(M=I.$options(),C!=null&&C!=M&&Q.$raise(o("TypeError"),"All expressions must use the same options"),C=M,v.push("("+I.source+")")):v.push(u.$escape(I.$to_str()));return u.$new(v.$join("|"),C)},-1),V(w,"$new",function(t,r){if(t.$$is_regexp)return new RegExp(t);if(t=J["$coerce_to!"](t,o("String"),"to_str"),t.charAt(t.length-1)==="\\"&&t.charAt(t.length-2)!=="\\"&&Q.$raise(o("RegexpError"),"too short escape sequence: /"+t+"/"),t=t.replace("\\A","^").replace("\\z","$"),r===void 0||r["$!"]())return new RegExp(t);if(r.$$is_number){var i="";$("IGNORECASE")&r&&(i+="i"),$("MULTILINE")&r&&(i+="m"),r=i}else r="i";return new RegExp(t,r)},-2),re(w,"compile","new"),re(w,"quote","escape")}(e.get_singleton_class(l),c),V(l,"$==",function(s){var a=this;return s instanceof RegExp&&a.toString()===s.toString()}),V(l,"$===",function(s){var a=this;return a.$match(J["$coerce_to?"](s,o("String"),"to_str"))!==q}),V(l,"$=~",function(s){var a=this,$=q;return H["~"]==null&&(H["~"]=q),g($=a.$match(s))?H["~"].$begin(0):$}),V(l,"$freeze",function(){var s=this;return g(s["$frozen?"]())?s:(s.hasOwnProperty("$$g")||E(s,"$$g",null),s.hasOwnProperty("$$gm")||E(s,"$$gm",null),N(s))}),V(l,"$inspect",function(){var s=this,a=/^\/(.*)\/([^\/]*)$/,$=s.toString(),n=a.exec($);if(n){for(var t=n[1],r=n[2],i=t.split(""),u=i.length,f=!1,v="",I=0;I<u;I++){var C=i[I];!f&&C=="/"&&(v=v.concat("\\")),v=v.concat(C),C=="\\"?f?f=!1:f=!0:f=!1}return"/"+v+"/"+r}else return $}),V(l,"$match",function w(s,a){var $=w.$$p||q,n=this;if(H["~"]==null&&(H["~"]=q),w.$$p=null,n.uninitialized&&Q.$raise(o("TypeError"),"uninitialized Regexp"),a===void 0){if(s===q)return H["~"]=q;var t=n.exec(x(s,o("String"),"to_str"));return t?(H["~"]=o("MatchData").$new(n,t),$===q?H["~"]:e.yield1($,H["~"])):H["~"]=q}if(a=x(a,o("Integer"),"to_int"),s===q||(s=x(s,o("String"),"to_str"),a<0&&(a+=s.length,a<0)))return H["~"]=q;for(var r,i=e.global_regexp(n);;){if(r=i.exec(s),r===null)return H["~"]=q;if(r.index>=a)return H["~"]=o("MatchData").$new(i,r),$===q?H["~"]:e.yield1($,H["~"]);i.lastIndex=r.index+1}},-2),V(l,"$match?",function(s,a){var $=this;if($.uninitialized&&Q.$raise(o("TypeError"),"uninitialized Regexp"),a===void 0)return s===q?!1:$.test(x(s,o("String"),"to_str"));if(a=x(a,o("Integer"),"to_int"),s===q||(s=x(s,o("String"),"to_str"),a<0&&(a+=s.length,a<0)))return!1;var n,t=e.global_regexp($);return n=t.exec(s),!(n===null||n.index<a)},-2),V(l,"$names",function(){var s=this;return D(s.$source().$scan(b(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),V(l,"$named_captures",function(){var s=this;return D(D(D(s.$source().$scan(b(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function($){return $==null&&($=q),D($,"map",[],function(t){return t==null&&(t=q),y(t.$last(),1)})})}),V(l,"$~",function(){var s=this;return H._==null&&(H._=q),s["$=~"](H._)}),V(l,"$source",function(){var s=this;return s.source}),V(l,"$options",function(){var s=this;s.uninitialized&&Q.$raise(o("TypeError"),"uninitialized Regexp");var a=0;return s.multiline&&(a|=X("MULTILINE")),s.ignoreCase&&(a|=X("IGNORECASE")),a}),V(l,"$casefold?",function(){var s=this;return s.ignoreCase}),re(l,"eql?","=="),re(l,"to_s","source")}("::",RegExp,A),function(d,T,h){var l=S(d,T,"MatchData"),c=[l].concat(h),X=e.$r(c),w=l.$$prototype;return w.matches=q,l.$attr_reader("post_match","pre_match","regexp","string"),V(l,"$initialize",function(a,$,n){var t,r=this;n=K(n),t=F(n,"no_matchdata"),t==null&&(t=!1),g(t)||(H["~"]=r),r.regexp=a,r.begin=$.index,r.string=$.input,r.pre_match=$.input.slice(0,$.index),r.post_match=$.input.slice($.index+$[0].length),r.matches=[];for(var i=0,u=$.length;i<u;i++){var f=$[i];f==null?r.matches.push(q):r.matches.push(f)}},-3),V(l,"$match",function(a){var $=this,n=q;return g(n=$["$[]"](a))?n:g(a["$is_a?"](X("Integer")))&&g(z(a,$.$length()))?Q.$raise(o("IndexError"),"index "+a+" out of matches"):q}),V(l,"$match_length",function(a){var $,n=this;return $=n.$match(a),$===q||$==null?q:$.$length()}),V(l,"$[]",function(a){var $,n,t=this;return $=$e(arguments),n=$,n[0].$$is_string?(t.$regexp().$names()["$include?"](n["$[]"](0))["$!"]()&&Q.$raise(o("IndexError"),"undefined group name reference: "+n["$[]"](0)),t.$named_captures()["$[]"](n["$[]"](0))):D(t.matches,"[]",B(n))},-1),V(l,"$offset",function(a){var $=this;return a!==0&&Q.$raise(o("ArgumentError"),"MatchData#offset only supports 0th element"),[$.begin,$.begin+$.matches[a].length]}),V(l,"$==",function(a){var $=this,n=q,t=q,r=q,i=q;return p(o("MatchData"),a)?g(n=g(t=g(r=g(i=$.string==a.string)?$.regexp.toString()==a.regexp.toString():i)?$.pre_match==a.pre_match:r)?$.post_match==a.post_match:t)?$.begin==a.begin:n:!1}),V(l,"$begin",function(a){var $=this;return a!==0&&Q.$raise(o("ArgumentError"),"MatchData#begin only supports 0th element"),$.begin}),V(l,"$end",function(a){var $=this;return a!==0&&Q.$raise(o("ArgumentError"),"MatchData#end only supports 0th element"),$.begin+$.matches[a].length}),V(l,"$captures",function(){var a=this;return a.matches.slice(1)}),V(l,"$named_captures",function(){var a=this,$=q;return $=a.$captures(),D(a.$regexp().$named_captures(),"transform_values",[],function(t){return t==null&&(t=q),$["$[]"](k(t.$last(),1))})}),V(l,"$names",function(){var a=this;return a.$regexp().$names()}),V(l,"$inspect",function(){var a=this,$="#<MatchData "+a.matches[0].$inspect();if(a.$regexp().$names()["$empty?"]())for(var n=1,t=a.matches.length;n<t;n++)$+=" "+n+":"+a.matches[n].$inspect();else D(a.$named_captures(),"each",[],function(i,u){return i==null&&(i=q),u==null&&(u=q),$+=" "+i+":"+u.$inspect()});return $+">"}),V(l,"$length",function(){var a=this;return a.matches.length}),V(l,"$to_a",P("matches")),V(l,"$to_s",function(){var a=this;return a.matches[0]}),V(l,"$values_at",function(a){var $,n,t=this;$=$e(arguments),n=$;var r,i,u,f=[];for(r=0;r<n.length;r++){if(n[r].$$is_range&&(i=n[r].$to_a(),i.unshift(r,1),Array.prototype.splice.apply(n,i)),u=J["$coerce_to!"](n[r],o("Integer"),"to_int"),u<0&&(u+=t.matches.length,u<0)){f.push(q);continue}f.push(t.matches[u])}return f},-1),re(l,"eql?","=="),re(l,"size","length")}(A[0],null,A)};Opal.modules["corelib/string"]=function(e){var x=e.coerce_to,E=e.respond_to,N=e.global_multiline_regexp,S=e.prop,ee=e.opal32_init,Z=e.opal32_add,R=e.klass,V=e.send2,g=e.find_super,H=e.def,$e=e.Opal,Q=e.defs,J=e.slice,re=e.send,D=e.to_a,b=e.extract_kwargs,y=e.ensure_kwargs,K=e.hash_get,F=e.eqeqeq,z=e.Kernel,B=e.truthy,p=e.gvars,k=e.rb_divide,P=e.rb_plus,A=e.eqeq,q=e.alias,o=e.const_set,d=e.top,T=[],h=e.$r(T),l=e.nil,c=e.$$$;return e.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),d.$require("corelib/comparable"),d.$require("corelib/regexp"),function(X,w,s){var a=R(X,w,"String"),$=[a].concat(s),n=e.$r($);a.$include(c("Comparable")),e.prop(a.$$prototype,"$$is_string",!0);var t=new Map;(function(){H(a,"$__id__",function i(){var u=i.$$p||l,f=this;if(i.$$p=null,typeof f=="object")return V(f,g(f,"__id__",i,!1,!0),"__id__",[],u);if(t.has(f))return t.get(f);var v=e.uid();return t.set(f,v),v}),H(a,"$hash",function(){var u=this,f=ee(),v,I=u.length;for(f=Z(f,5),f=Z(f,I),v=0;v<I;v++)f=Z(f,u.charCodeAt(v));return f})})(),Q(a,"$try_convert",function(u){return $e["$coerce_to?"](u,c("String"),"to_str")}),Q(a,"$new",function(u){var f,v,I=this;f=J(arguments),v=f;var C=v[0]||"",M=v[v.length-1];return C=x(C,c("String"),"to_str"),M&&M.$$is_hash&&M.has("encoding")&&(C=C.$force_encoding(M.get("encoding").value)),C=new I.$$constructor(C),C.$initialize.$$pristine||re(C,"initialize",D(v)),C},-1),H(a,"$initialize",function(u,f){var v,I;return v=J(arguments),I=b(v),I=y(I),v.length>0&&v.shift(),K(I,"encoding"),K(I,"capacity"),l},-1),H(a,"$%",function(u){var f=this;return F(c("Array"),u)?re(f,"format",[f].concat(D(u))):f.$format(f,u)}),H(a,"$*",function(u){var f=this;if(u=x(u,c("Integer"),"to_int"),u<0&&z.$raise(c("ArgumentError"),"negative argument"),u===0)return"";var v="",I=f.toString();for(I.length*u>=1<<28&&z.$raise(c("RangeError"),"multiply count must not overflow maximum string size");(u&1)===1&&(v+=I),u>>>=1,u!==0;)I+=I;return v}),H(a,"$+",function(u){var f=this;if(u=x(u,c("String"),"to_str"),u==""&&f.$$class===e.String)return f;if(f==""&&u.$$class===e.String)return u;var v=f+u;return f.encoding===v.encoding&&u.encoding===v.encoding||f.encoding.name==="UTF-8"||u.encoding.name==="UTF-8"?v:e.enc(v,f.encoding)}),H(a,"$<=>",function(u){var f=this;if(B(u["$respond_to?"]("to_str")))return u=u.$to_str().$to_s(),f>u?1:f<u?-1:0;var v=u["$<=>"](f);return v===l?l:v>0?-1:v<0?1:0}),H(a,"$==",function(u){var f=this;return u.$$is_string?f.toString()===u.toString():E(u,"$to_str")?u["$=="](f):!1}),H(a,"$=~",function(u){var f=this;return u.$$is_string&&z.$raise(c("TypeError"),"type mismatch: String given"),u["$=~"](f)}),H(a,"$[]",function(u,f){var v=this,I=v.length,C,M;if(u.$$is_range)return C=u.excl,M=u,f=u.end===l?-1:x(u.end,c("Integer"),"to_int"),u=u.begin===l?0:x(u.begin,c("Integer"),"to_int"),Math.abs(u)>I?l:(u<0&&(u+=I),f<0&&(f+=I),(!C||M.end===l)&&(f+=1),f=f-u,f<0&&(f=0),v.substr(u,f));if(u.$$is_string)return f!=null&&z.$raise(c("TypeError")),v.indexOf(u)!==-1?u:l;if(u.$$is_regexp){var G=v.match(u);return G===null?(p["~"]=l,l):(p["~"]=c("MatchData").$new(u,G),f==null?G[0]:(f=x(f,c("Integer"),"to_int"),f<0&&-f<G.length?G[f+=G.length]:f>=0&&f<G.length?G[f]:l))}return u=x(u,c("Integer"),"to_int"),u<0&&(u+=I),f==null?u>=I||u<0?l:v.substr(u,1):(f=x(f,c("Integer"),"to_int"),f<0||u>I||u<0?l:v.substr(u,f))},-2),H(a,"$b",function(){var u=this;return new String(u).$force_encoding("binary")}),H(a,"$capitalize",function(){var u=this;return u.charAt(0).toUpperCase()+u.substr(1).toLowerCase()}),H(a,"$casecmp",function(u){var f=this;if(!B(u["$respond_to?"]("to_str")))return l;u=x(u,c("String"),"to_str").$to_s();var v=/^[\x00-\x7F]*$/;return v.test(f)&&v.test(u)&&(f=f.toLowerCase(),u=u.toLowerCase()),f["$<=>"](u)}),H(a,"$casecmp?",function(u){var f=this,v=f.$casecmp(u);return v===l?l:v===0}),H(a,"$center",function(u,f){var v=this;if(f==null&&(f=" "),u=x(u,c("Integer"),"to_int"),f=x(f,c("String"),"to_str").$to_s(),B(f["$empty?"]())&&z.$raise(c("ArgumentError"),"zero width padding"),B(u<=v.length))return v;var I=v.$ljust(k(P(u,v.length),2).$ceil(),f),C=v.$rjust(k(P(u,v.length),2).$floor(),f);return C+I.slice(v.length)},-2),H(a,"$chomp",function(u){var f=this;if(p["/"]==null&&(p["/"]=l),u==null&&(u=p["/"]),B(u===l||f.length===0))return f;u=$e["$coerce_to!"](u,c("String"),"to_str").$to_s();var v;if(u===`
`)v=f.replace(/\r?\n?$/,"");else if(u==="")v=f.replace(/(\r?\n)+$/,"");else if(f.length>=u.length){var I=f.substr(f.length-u.length,u.length);I===u&&(v=f.substr(0,f.length-u.length))}return v??f},-1),H(a,"$chop",function(){var u=this,f=u.length,v;return f<=1?v="":u.charAt(f-1)===`
`&&u.charAt(f-2)==="\r"?v=u.substr(0,f-2):v=u.substr(0,f-1),v}),H(a,"$chr",function(){var u=this;return u.charAt(0)}),H(a,"$clone",function(u){var f,v=this,I=l;return u=y(u),f=K(u,"freeze"),f==null&&(f=l),B(f["$nil?"]())||A(f,!0)||A(f,!1)||v.$raise(n("ArgumentError"),"unexpected value for freeze: "+f.$class()),I=new String(v),I.$copy_singleton_methods(v),I.$initialize_clone(v,new Map([["freeze",f]])),A(f,!0)?I.$$frozen||(I.$$frozen=!0):B(f["$nil?"]())&&v.$$frozen&&(I.$$frozen=!0),I},-1),H(a,"$dup",function(){var u=this,f=l;return f=new String(u),f.$initialize_dup(u),f}),H(a,"$count",function(u){var f,v,I=this;f=J(arguments),v=f,v.length===0&&z.$raise(c("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var C=r(v);return C===null?0:I.length-I.replace(new RegExp(C,"g"),"").length},-1),H(a,"$delete",function(u){var f,v,I=this;f=J(arguments),v=f,v.length===0&&z.$raise(c("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var C=r(v);return C===null?I:I.replace(new RegExp(C,"g"),"")},-1),H(a,"$delete_prefix",function(u){var f=this;return u.$$is_string||(u=x(u,c("String"),"to_str")),f.slice(0,u.length)===u?f.slice(u.length):f}),H(a,"$delete_suffix",function(u){var f=this;return u.$$is_string||(u=x(u,c("String"),"to_str")),f.slice(f.length-u.length)===u?f.slice(0,f.length-u.length):f}),H(a,"$downcase",function(){var u=this;return u.toLowerCase()}),H(a,"$each_line",function i(u,f){var v=i.$$p||l,I,C,M,G,O=this;if(p["/"]==null&&(p["/"]=l),i.$$p=null,I=J(arguments),C=b(I),C=y(C),I.length>0&&(M=I.shift()),M==null&&(M=p["/"]),G=K(C,"chomp"),G==null&&(G=!1),v===l)return O.$enum_for("each_line",M,new Map([["chomp",G]]));if(M===l)return e.yield1(v,O),O;M=x(M,c("String"),"to_str");var ae,le,ce,de,he,ve,me,be;if(M.length===0){for(ae=O.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),le=0,ce=ae.length;le<ce;le+=2)(ae[le]||ae[le+1])&&(be=(ae[le]||"")+(ae[le+1]||""),G&&(be=be.$chomp(`
`)),e.yield1(v,be));return O}for(he=O.$chomp(M),ve=O.length!=he.length,me=he.split(M),le=0,de=me.length;le<de;le++)be=me[le],(le<de-1||ve)&&(be+=M),G&&(be=be.$chomp(M)),e.yield1(v,be);return O},-1),H(a,"$empty?",function(){var u=this;return u.length===0}),H(a,"$end_with?",function(u){var f,v,I=this;f=J(arguments),v=f;for(var C=0,M=v.length;C<M;C++){var G=x(v[C],c("String"),"to_str").$to_s();if(I.length>=G.length&&I.substr(I.length-G.length,G.length)==G)return!0}return!1},-1),H(a,"$gsub",function i(u,f){var v=i.$$p||l,I=this;if(i.$$p=null,f===void 0&&v===l)return I.$enum_for("gsub",u);var C="",M=l,G=0,O,ae;u.$$is_regexp?u=N(u):(u=x(u,c("String"),"to_str"),u=new RegExp(u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var le;;){if(O=u.exec(I),O===null){p["~"]=l,C+=I.slice(G);break}M=c("MatchData").$new(u,O),f===void 0?(le=u.lastIndex,ae=v(O[0]),u.lastIndex=le):f.$$is_hash?ae=f["$[]"](O[0]).$to_s():(f.$$is_string||(f=x(f,c("String"),"to_str")),ae=f.replace(/([\\]+)([0-9+&`'])/g,function(ce,de,he){if(de.length%2===0)return ce;switch(he){case"+":for(var ve=O.length-1;ve>0;ve--)if(O[ve]!==void 0)return de.slice(1)+O[ve];return"";case"&":return de.slice(1)+O[0];case"`":return de.slice(1)+I.slice(0,O.index);case"'":return de.slice(1)+I.slice(O.index+O[0].length);default:return de.slice(1)+(O[he]||"")}}).replace(/\\\\/g,"\\")),u.lastIndex===O.index?(C+=I.slice(G,O.index)+ae+(I[O.index]||""),u.lastIndex+=1):C+=I.slice(G,O.index)+ae,G=u.lastIndex}return p["~"]=M,C},-2),H(a,"$hex",function(){var u=this;return u.$to_i(16)}),H(a,"$include?",function(u){var f=this;return u.$$is_string||(u=x(u,c("String"),"to_str")),f.indexOf(u)!==-1}),H(a,"$index",function(u,f){var v=this,I,C,M;if(f===void 0)f=0;else if(f=x(f,c("Integer"),"to_int"),f<0&&(f+=v.length,f<0))return l;if(u.$$is_regexp)for(M=N(u);;){if(C=M.exec(v),C===null){p["~"]=l,I=-1;break}if(C.index>=f){p["~"]=c("MatchData").$new(M,C),I=C.index;break}M.lastIndex=C.index+1}else u=x(u,c("String"),"to_str"),u.length===0&&f>v.length?I=-1:I=v.indexOf(u,f);return I===-1?l:I},-2),H(a,"$inspect",function(){var u=this,f=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,v={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},I=u.replace(f,function(C){return v[C]?v[C]:(C=C.charCodeAt(0),C<=255&&(u.encoding["$binary?"]()||u.internal_encoding["$binary?"]())?"\\x"+("00"+C.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+C.toString(16).toUpperCase()).slice(-4))});return'"'+I.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),H(a,"$intern",function(){var u=this;return u.toString()}),H(a,"$length",function(){var u=this;return u.length}),q(a,"size","length"),H(a,"$lines",function i(u,f){var v=i.$$p||l,I,C,M,G,O=this,ae=l;return p["/"]==null&&(p["/"]=l),i.$$p=null,I=J(arguments),C=b(I),C=y(C),I.length>0&&(M=I.shift()),M==null&&(M=p["/"]),G=K(C,"chomp"),G==null&&(G=!1),ae=re(O,"each_line",[M,new Map([["chomp",G]])],v.$to_proc()),B(v)?O:ae.$to_a()},-1),H(a,"$ljust",function(u,f){var v=this;if(f==null&&(f=" "),u=x(u,c("Integer"),"to_int"),f=x(f,c("String"),"to_str").$to_s(),B(f["$empty?"]())&&z.$raise(c("ArgumentError"),"zero width padding"),B(u<=v.length))return v;var I=-1,C="";for(u-=v.length;++I<u;)C+=f;return v+C.slice(0,u)},-2),H(a,"$lstrip",function(){var u=this;return u.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),H(a,"$ascii_only?",function(){var u=this;return u.encoding.ascii?/^[\x00-\x7F]*$/.test(u):!1}),H(a,"$match",function i(u,f){var v=i.$$p||l,I=this;return i.$$p=null,(F(n("String"),u)||B(u["$respond_to?"]("to_str")))&&(u=c("Regexp").$new(u.$to_str())),F(c("Regexp"),u)||z.$raise(c("TypeError"),"wrong argument type "+u.$class()+" (expected Regexp)"),re(u,"match",[I,f],v.$to_proc())},-2),H(a,"$match?",function(u,f){var v=this;return(F(n("String"),u)||B(u["$respond_to?"]("to_str")))&&(u=c("Regexp").$new(u.$to_str())),F(c("Regexp"),u)||z.$raise(c("TypeError"),"wrong argument type "+u.$class()+" (expected Regexp)"),u["$match?"](v,f)},-2),H(a,"$next",function(){var u=this,f=u.length;if(f===0)return"";for(var v=u,I=u.search(/[a-zA-Z0-9]/),C=!1,M;f--;){if(M=u.charCodeAt(f),M>=48&&M<=57||M>=65&&M<=90||M>=97&&M<=122)switch(M){case 57:C=!0,M=48;break;case 90:C=!0,M=65;break;case 122:C=!0,M=97;break;default:C=!1,M+=1}else I===-1?M===255?(C=!0,M=0):(C=!1,M+=1):C=!0;if(v=v.slice(0,f)+String.fromCharCode(M)+v.slice(f+1),C&&(f===0||f===I)){switch(M){case 65:break;case 97:break;default:M+=1}f===0?v=String.fromCharCode(M)+v:v=v.slice(0,f)+String.fromCharCode(M)+v.slice(f),C=!1}if(!C)break}return v}),H(a,"$oct",function(){var u=this,f,v=u,I=8;return/^\s*_/.test(v)?0:(v=v.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(C,M,G,O){switch(O.charAt(0)){case"+":case"-":return C;case"0":if(O.charAt(1)==="x"&&G==="0x")return C}switch(G){case"0b":I=2;break;case"0":case"0o":I=8;break;case"0d":I=10;break;case"0x":I=16;break}return M+O}),f=parseInt(v.replace(/_(?!_)/g,""),I),isNaN(f)?0:f)}),H(a,"$ord",function(){var u=this;return typeof u.codePointAt=="function"?u.codePointAt(0):u.charCodeAt(0)}),H(a,"$partition",function(u){var f=this,v,I;return u.$$is_regexp?(I=u.exec(f),I===null?v=-1:(c("MatchData").$new(u,I),u=I[0],v=I.index)):(u=x(u,c("String"),"to_str"),v=f.indexOf(u)),v===-1?[f,"",""]:[f.slice(0,v),f.slice(v,v+u.length),f.slice(v+u.length)]}),H(a,"$reverse",function(){var u=this;return u.split("").reverse().join("")}),H(a,"$rindex",function(u,f){var v=this,I,C,M,G;if(f===void 0)f=v.length;else if(f=x(f,c("Integer"),"to_int"),f<0&&(f+=v.length,f<0))return l;if(u.$$is_regexp){for(C=null,M=N(u);G=M.exec(v),!(G===null||G.index>f);)C=G,M.lastIndex=C.index+1;C===null?(p["~"]=l,I=-1):(c("MatchData").$new(M,C),I=C.index)}else u=x(u,c("String"),"to_str"),I=v.lastIndexOf(u,f);return I===-1?l:I},-2),H(a,"$rjust",function(u,f){var v=this;if(f==null&&(f=" "),u=x(u,c("Integer"),"to_int"),f=x(f,c("String"),"to_str").$to_s(),B(f["$empty?"]())&&z.$raise(c("ArgumentError"),"zero width padding"),B(u<=v.length))return v;var I=Math.floor(u-v.length),C=Math.floor(I/f.length),M=Array(C+1).join(f),G=I-M.length;return M+f.slice(0,G)+v},-2),H(a,"$rpartition",function(u){var f=this,v,I,C,M;if(u.$$is_regexp){for(I=null,C=N(u);M=C.exec(f),M!==null;)I=M,C.lastIndex=I.index+1;I===null?v=-1:(c("MatchData").$new(C,I),u=I[0],v=I.index)}else u=x(u,c("String"),"to_str"),v=f.lastIndexOf(u);return v===-1?["","",f]:[f.slice(0,v),f.slice(v,v+u.length),f.slice(v+u.length)]}),H(a,"$rstrip",function(){var u=this;return u.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),H(a,"$scan",function i(u,f){var v=i.$$p||l,I,C=this;i.$$p=null,f=y(f),I=K(f,"no_matchdata"),I==null&&(I=!1);var M=[],G=l,O;for(u.$$is_regexp?u=N(u):(u=x(u,c("String"),"to_str"),u=new RegExp(u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(O=u.exec(C))!=null;)G=c("MatchData").$new(u,O,new Map([["no_matchdata",I]])),v===l?O.length==1?M.push(O[0]):M.push(G.$captures()):O.length==1?e.yield1(v,O[0]):e.yield1(v,G.$captures()),u.lastIndex===O.index&&(u.lastIndex+=1);return I||(p["~"]=G),v!==l?C:M},-2),H(a,"$singleton_class",function(){var u=this;return e.get_singleton_class(u)}),H(a,"$split",function(u,f){var v=this,I=l;if(p[";"]==null&&(p[";"]=l),v.length===0)return[];if(f===void 0)f=0;else if(f=$e["$coerce_to!"](f,c("Integer"),"to_int"),f===1)return[v];(u===void 0||u===l)&&(u=B(I=p[";"])?I:" ");var C=[],M=v.toString(),G=0,O,ae=0,le=0,ce,de;if(u.$$is_regexp?u=N(u):(u=x(u,c("String"),"to_str").$to_s(),u===" "&&(u=/\s+/gm,M=M.replace(/^\s+/,""))),C=M.split(u),C.length===1&&C[0]===M)return[C[0]];for(;(ce=C.indexOf(void 0))!==-1;)C.splice(ce,1);if(f===0){for(;C[C.length-1]==="";)C.pop();return C}if(u.$$is_regexp||(u=e.escape_regexp(u),u=new RegExp(u,"gm")),O=u.exec(M),f<0){if(O!==null&&O[0]===""&&u.source.indexOf("(?=")===-1)for(ce=0,de=O.length;ce<de;ce++)C.push("");return C}if(O!==null&&O[0]==="")return le=(O.length-1)*(f-1)+f,C.splice(le-1,C.length-1,C.slice(le-1).join("")),C;if(f>=C.length)return C;for(;O!==null&&(ae++,G=u.lastIndex,le+=O.length,ae+1!==f);)O=u.exec(M);return C.splice(le,C.length-1,M.slice(G)),C},-1),H(a,"$squeeze",function(u){var f,v,I=this;if(f=J(arguments),v=f,v.length===0)return I.replace(/(.)\1+/g,"$1");var C=r(v);return C===null?I:I.replace(new RegExp("("+C+")\\1+","g"),"$1")},-1),H(a,"$start_with?",function(u){var f,v,I=this;f=J(arguments),v=f;for(var C=0,M=v.length;C<M;C++)if(v[C].$$is_regexp){var G=v[C],O=G.exec(I);if(O!=null&&O.index===0)return p["~"]=c("MatchData").$new(G,O),!0;p["~"]=l}else{var ae=x(v[C],c("String"),"to_str").$to_s();if(I.length>=ae.length&&I.startsWith(ae))return!0}return!1},-1),H(a,"$strip",function(){var u=this;return u.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),H(a,"$sub",function i(u,f){var v=i.$$p||l,I=this;i.$$p=null,u.$$is_regexp||(u=x(u,c("String"),"to_str"),u=new RegExp(u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var C,M=u.exec(I);return M===null?(p["~"]=l,C=I.toString()):(c("MatchData").$new(u,M),f===void 0?(v===l&&z.$raise(c("ArgumentError"),"wrong number of arguments (1 for 2)"),C=I.slice(0,M.index)+v(M[0])+I.slice(M.index+M[0].length)):f.$$is_hash?C=I.slice(0,M.index)+f["$[]"](M[0]).$to_s()+I.slice(M.index+M[0].length):(f=x(f,c("String"),"to_str"),f=f.replace(/([\\]+)([0-9+&`'])/g,function(G,O,ae){if(O.length%2===0)return G;switch(ae){case"+":for(var le=M.length-1;le>0;le--)if(M[le]!==void 0)return O.slice(1)+M[le];return"";case"&":return O.slice(1)+M[0];case"`":return O.slice(1)+I.slice(0,M.index);case"'":return O.slice(1)+I.slice(M.index+M[0].length);default:return O.slice(1)+(M[ae]||"")}}).replace(/\\\\/g,"\\"),C=I.slice(0,M.index)+f+I.slice(M.index+M[0].length))),C},-2),H(a,"$sum",function(u){var f=this;u==null&&(u=16),u=x(u,c("Integer"),"to_int");for(var v=0,I=f.length,C=0;C<I;C++)v+=f.charCodeAt(C);return u<=0?v:v&Math.pow(2,u)-1},-1),H(a,"$swapcase",function(){var u=this,f=u.replace(/([a-z]+)|([A-Z]+)/g,function(v,I,C){return I?v.toUpperCase():v.toLowerCase()});return f}),H(a,"$to_f",function(){var u=this;if(u.charAt(0)==="_")return 0;var f=parseFloat(u.replace(/_/g,""));return isNaN(f)||f==1/0||f==-1/0?0:f}),H(a,"$to_i",function(u){var f=this;u==null&&(u=10);var v,I=f.toLowerCase(),C=x(u,c("Integer"),"to_int");return(C===1||C<0||C>36)&&z.$raise(c("ArgumentError"),"invalid radix "+C),/^\s*_/.test(I)?0:(I=I.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(M,G,O,ae){switch(ae.charAt(0)){case"+":case"-":return M;case"0":if(ae.charAt(1)==="x"&&O==="0x"&&(C===0||C===16))return M}switch(O){case"0b":if(C===0||C===2)return C=2,G+ae;break;case"0":case"0o":if(C===0||C===8)return C=8,G+ae;break;case"0d":if(C===0||C===10)return C=10,G+ae;break;case"0x":if(C===0||C===16)return C=16,G+ae;break}return M}),v=parseInt(I.replace(/_(?!_)/g,""),C),isNaN(v)?0:v)},-1),H(a,"$to_proc",function i(){i.$$p;var u=this,f=l,v=l,I=l;return i.$$p=null,f=u.valueOf(),v=e.jsid(f),I=re(z,"proc",[],function C(M){var G=C.$$p||l,O,ae;C.$$p=null,O=J(arguments),ae=O,ae.length===0&&z.$raise(c("ArgumentError"),"no receiver given");var le=ae[0];le==null&&(le=l);var ce=le[v];return ce?ae=ae.slice(1):(ce=le.$method_missing,ae[0]=f),typeof G=="function"&&(ce.$$p=G),ae.length===0?ce.call(le):ce.apply(le,ae)},-1),I.$$source_location=l,I}),H(a,"$to_s",function(){var u=this;return u.toString()}),H(a,"$tr",function(u,f){var v=this;if(u=x(u,c("String"),"to_str").$to_s(),f=x(f,c("String"),"to_str").$to_s(),u.length==0||u===f)return v;var I,C,M,G,O,ae,le,ce={},de=u.split(""),he=de.length,ve=f.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],he-=1);var j=[],L=null;for(C=!1,I=0;I<he;I++)if(G=de[I],L==null)L=G,j.push(G);else if(G==="-")L==="-"?(j.push("-"),j.push("-")):I==he-1?j.push("-"):C=!0;else if(C){for(O=L.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&z.$raise(c("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)j.push(String.fromCharCode(M));j.push(G),C=null,L=null}else j.push(G);if(de=j,he=de.length,be)for(I=0;I<he;I++)ce[de[I]]=!0;else{if(me>0){var Y=[],W=null;for(C=!1,I=0;I<me;I++)if(G=ve[I],W==null)W=G,Y.push(G);else if(G==="-")W==="-"?(Y.push("-"),Y.push("-")):I==me-1?Y.push("-"):C=!0;else if(C){for(O=W.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&z.$raise(c("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)Y.push(String.fromCharCode(M));Y.push(G),C=null,W=null}else Y.push(G);ve=Y,me=ve.length}var ne=he-me;if(ne>0){var se=me>0?ve[me-1]:"";for(I=0;I<ne;I++)ve.push(se)}for(I=0;I<he;I++)ce[de[I]]=ve[I]}var oe="";for(I=0,le=v.length;I<le;I++){G=v.charAt(I);var fe=ce[G];be?oe+=fe==null?ie:G:oe+=fe??G}return oe}),H(a,"$tr_s",function(u,f){var v=this;if(u=x(u,c("String"),"to_str").$to_s(),f=x(f,c("String"),"to_str").$to_s(),u.length==0)return v;var I,C,M,G,O,ae,le,ce={},de=u.split(""),he=de.length,ve=f.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],he-=1);var j=[],L=null;for(C=!1,I=0;I<he;I++)if(G=de[I],L==null)L=G,j.push(G);else if(G==="-")L==="-"?(j.push("-"),j.push("-")):I==he-1?j.push("-"):C=!0;else if(C){for(O=L.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&z.$raise(c("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)j.push(String.fromCharCode(M));j.push(G),C=null,L=null}else j.push(G);if(de=j,he=de.length,be)for(I=0;I<he;I++)ce[de[I]]=!0;else{if(me>0){var Y=[],W=null;for(C=!1,I=0;I<me;I++)if(G=ve[I],L==null)L=G,Y.push(G);else if(G==="-")W==="-"?(Y.push("-"),Y.push("-")):I==me-1?Y.push("-"):C=!0;else if(C){for(O=L.charCodeAt(0),ae=G.charCodeAt(0),O>ae&&z.$raise(c("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)Y.push(String.fromCharCode(M));Y.push(G),C=null,L=null}else Y.push(G);ve=Y,me=ve.length}var ne=he-me;if(ne>0){var se=me>0?ve[me-1]:"";for(I=0;I<ne;I++)ve.push(se)}for(I=0;I<he;I++)ce[de[I]]=ve[I]}var oe="",fe=null;for(I=0,le=v.length;I<le;I++){G=v.charAt(I);var _=ce[G];be?_==null?fe==null&&(oe+=ie,fe=!0):(oe+=G,fe=null):_!=null?(fe==null||fe!==_)&&(oe+=_,fe=_):(oe+=G,fe=null)}return oe}),H(a,"$upcase",function(){var u=this;return u.toUpperCase()}),H(a,"$upto",function i(u,f){var v=i.$$p||l,I=this;if(i.$$p=null,f==null&&(f=!1),v===l)return I.$enum_for("upto",u,f);var C,M,G=I.toString();if(u=x(u,c("String"),"to_str"),G.length===1&&u.length===1)for(C=G.charCodeAt(0),M=u.charCodeAt(0);C<=M&&!(f&&C===M);)v(String.fromCharCode(C)),C+=1;else if(parseInt(G,10).toString()===G&&parseInt(u,10).toString()===u)for(C=parseInt(G,10),M=parseInt(u,10);C<=M&&!(f&&C===M);)v(C.toString()),C+=1;else for(;G.length<=u.length&&G<=u&&!(f&&G===u);)v(G),G=G.$succ();return I},-2);function r(i){function u(ce){var de="",he,ve=ce.length,me,be,ie,j,L;for(he=0;he<ve;he++)if(me=ce.charAt(he),me==="-"&&he>0&&he<ve-1&&!be){for(ie=ce.charCodeAt(he-1),j=ce.charCodeAt(he+1),ie>j&&z.$raise(c("ArgumentError"),'invalid range "'+ie+"-"+j+'" in string transliteration'),L=ie+1;L<j+1;L++)de+=String.fromCharCode(L);be=!0,he++}else be=me==="\\",de+=me;return de}function f(ce,de){if(ce.length===0)return de;var he="",ve,me=ce.length,be;for(ve=0;ve<me;ve++)be=ce.charAt(ve),de.indexOf(be)!==-1&&(he+=be);return he}var v,I,C,M,G,O,ae="",le="";for(v=0,I=i.length;v<I;v++)C=x(i[v],c("String"),"to_str"),M=C.charAt(0)==="^"&&C.length>1,C=u(M?C.slice(1):C),M?le=f(le,C):ae=f(ae,C);if(ae.length>0&&le.length>0){for(O="",v=0,I=ae.length;v<I;v++)G=ae.charAt(v),le.indexOf(G)===-1&&(O+=G);ae=O,le=""}return ae.length>0?"["+c("Regexp").$escape(ae)+"]":le.length>0?"[^"+c("Regexp").$escape(le)+"]":null}return H(a,"$instance_variables",function(){return[]}),Q(a,"$_load",function(u){var f,v,I=this;return f=J(arguments),v=f,re(I,"new",D(v))},-1),H(a,"$unicode_normalize",function(u){var f=this;return u==null&&(u="nfc"),B(["nfc","nfd","nfkc","nfkd"]["$include?"](u))||z.$raise(c("ArgumentError"),"Invalid normalization form "+u),f.normalize(u.$upcase())},-1),H(a,"$unicode_normalized?",function(u){var f=this;return u==null&&(u="nfc"),f.$unicode_normalize(u)["$=="](f)},-1),H(a,"$unpack",function(u){return z.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),H(a,"$unpack1",function(u){return z.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),H(a,"$freeze",function(){var u=this;return typeof u=="string"||S(u,"$$frozen",!0),u}),H(a,"$-@",function(){var u=this;return typeof u=="string"||u.$$frozen?u:u.encoding.name=="UTF-8"&&u.internal_encoding.name=="UTF-8"?u.toString():u.$dup().$freeze()}),H(a,"$frozen?",function(){var u=this;return typeof u=="string"||u.$$frozen===!0}),q(a,"+@","dup"),q(a,"===","=="),q(a,"byteslice","[]"),q(a,"eql?","=="),q(a,"equal?","==="),q(a,"object_id","__id__"),q(a,"slice","[]"),q(a,"succ","next"),q(a,"to_str","to_s"),q(a,"to_sym","intern"),$e.$pristine(a,"initialize")}("::",String,T),o(T[0],"Symbol",h("String"))};Opal.modules["corelib/enumerable"]=function(e){var x=e.truthy,E=e.coerce_to,N=e.yield1,S=e.yieldX,ee=e.deny_frozen_access,Z=e.module,R=e.send,V=e.slice,g=e.to_a,H=e.Opal,$e=e.thrower,Q=e.def,J=e.Kernel,re=e.return_val,D=e.rb_gt,b=e.rb_times,y=e.rb_lt,K=e.eqeq,F=e.rb_plus,z=e.rb_minus,B=e.rb_divide,p=e.rb_le,k=e.lambda,P=e.not,A=e.alias,q=[],o=e.nil,d=e.$$$;return e.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(T,h){var l=Z(T,"Enumerable"),c=[l].concat(h),X=e.$r(c);function w(s){return s.length===0&&(s=[o]),s.length>1&&(s=[s]),s}return Q(l,"$all?",function s(a){try{var $=$e("return"),n=s.$$p||o,t=this;return s.$$p=null,x(a!==void 0)?R(t,"each",[],function r(i){var u,f,v=o;if(u=V(arguments),f=u,v=w(f),x(R(a,"public_send",["==="].concat(g(v)))))return o;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}):n!==o?R(t,"each",[],function r(i){var u,f;if(u=V(arguments),f=u,x(e.yieldX(n,g(f))))return o;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}):R(t,"each",[],function r(i){var u,f;if(u=V(arguments),f=u,x(H.$destructure(f)))return o;$.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:$}),!0}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),Q(l,"$any?",function s(a){try{var $=$e("return"),n=s.$$p||o,t=this;return s.$$p=null,x(a!==void 0)?R(t,"each",[],function r(i){var u,f,v=o;if(u=V(arguments),f=u,v=w(f),x(R(a,"public_send",["==="].concat(g(v)))))$.$throw(!0,r.$$is_lambda);else return o},{$$arity:-1,$$ret:$}):n!==o?R(t,"each",[],function r(i){var u,f;if(u=V(arguments),f=u,x(e.yieldX(n,g(f))))$.$throw(!0,r.$$is_lambda);else return o},{$$arity:-1,$$ret:$}):R(t,"each",[],function r(i){var u,f;if(u=V(arguments),f=u,x(H.$destructure(f)))$.$throw(!0,r.$$is_lambda);else return o},{$$arity:-1,$$ret:$}),!1}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),Q(l,"$chunk",function s(){var a=s.$$p||o,$=this;return s.$$p=null,a===o?R($,"to_enum",["chunk"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:$}):R(d("Enumerator"),"new",[],function n(t){var r=n.$$s==null?this:n.$$s;t==null&&(t=o);var i=o,u=[];function f(){u.length>0&&t.$yield(i,u)}r.$each.$$p=function(v){var I=N(a,v);I===o?(f(),u=[],i=o):(i===o||i===I?u.push(v):(f(),u=[v]),i=I)},r.$each(),f()},{$$s:$})}),Q(l,"$chunk_while",function s(){var a=s.$$p||o,$=this;return s.$$p=null,a===o&&J.$raise(d("ArgumentError"),"no block given"),R($,"slice_when",[],function(t,r){return t==null&&(t=o),r==null&&(r=o),e.yieldX(a,[t,r])["$!"]()})}),Q(l,"$collect",function s(){var a=s.$$p||o,$=this;if(s.$$p=null,a===o)return R($,"enum_for",["collect"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:$});var n=[];return $.$each.$$p=function(){var t=S(a,arguments);n.push(t)},$.$each(),n}),Q(l,"$collect_concat",function s(){var a=s.$$p||o,$=this;return s.$$p=null,a===o?R($,"enum_for",["collect_concat"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:$}):R($,"map",[],a.$to_proc()).$flatten(1)}),Q(l,"$compact",function(){var a=this;return a.$to_a().$compact()}),Q(l,"$count",function s(a){var $=s.$$p||o,n=this,t=o;return s.$$p=null,t=0,a!=null&&$!==o&&n.$warn("warning: given block not used"),x(a!=null)?$=R(J,"proc",[],function(i){var u,f;return u=V(arguments),f=u,H.$destructure(f)["$=="](a)},-1):x($["$nil?"]())&&($=R(J,"proc",[],re(!0))),R(n,"each",[],function(i){var u,f;return u=V(arguments),f=u,x(S($,f))?t++:o},-1),t},-1),Q(l,"$cycle",function s(a){var $=s.$$p||o,n=this;if(s.$$p=null,a==null&&(a=o),$===o)return R(n,"enum_for",["cycle",a],function u(){var f=u.$$s==null?this:u.$$s;return x(a["$nil?"]())?x(f["$respond_to?"]("size"))?d(d("Float"),"INFINITY"):o:(a=H["$coerce_to!"](a,d("Integer"),"to_int"),x(D(a,0))?b(f.$enumerator_size(),a):0)},{$$s:n});if(!x(a["$nil?"]())&&(a=H["$coerce_to!"](a,d("Integer"),"to_int"),x(a<=0)))return o;var t=[],r,i;if(n.$each.$$p=function(){var u=H.$destructure(arguments);N($,u),t.push(u)},n.$each(),t.length===0)return o;if(a===o)for(;;)for(r=0,i=t.length;r<i;r++)N($,t[r]);else for(;a>1;){for(r=0,i=t.length;r<i;r++)N($,t[r]);a--}},-1),Q(l,"$detect",function s(a){try{var $=$e("return"),n=s.$$p||o,t=this;return s.$$p=null,n===o?t.$enum_for("detect",a):(R(t,"each",[],function r(i){var u,f,v=o;if(u=V(arguments),f=u,v=H.$destructure(f),x(e.yield1(n,v)))$.$throw(v,r.$$is_lambda);else return o},{$$arity:-1,$$ret:$}),a!==void 0?typeof a=="function"?a():a:o)}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),Q(l,"$drop",function(a){var $=this;a=E(a,d("Integer"),"to_int"),x(a<0)&&J.$raise(d("ArgumentError"),"attempt to drop negative size");var n=[],t=0;return $.$each.$$p=function(){a<=t&&n.push(H.$destructure(arguments)),t++},$.$each(),n}),Q(l,"$drop_while",function s(){var a=s.$$p||o,$=this;if(s.$$p=null,a===o)return $.$enum_for("drop_while");var n=[],t=!0;return $.$each.$$p=function(){var r=H.$destructure(arguments);if(t){var i=N(a,r);x(i)||(t=!1,n.push(r))}else n.push(r)},$.$each(),n}),Q(l,"$each_cons",function s(a){var $=s.$$p||o,n=this;if(s.$$p=null,x(arguments.length!=1)&&J.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),a=H.$try_convert(a,d("Integer"),"to_int"),x(a<=0)&&J.$raise(d("ArgumentError"),"invalid size"),$===o)return R(n,"enum_for",["each_cons",a],function r(){var i=r.$$s==null?this:r.$$s,u=o;return u=i.$enumerator_size(),x(u["$nil?"]())?o:K(u,0)||x(y(u,a))?0:F(z(u,a),1)},{$$s:n});var t=[];return n.$each.$$p=function(){var r=H.$destructure(arguments);t.push(r),t.length>a&&t.shift(),t.length==a&&N($,t.slice(0,a))},n.$each(),n}),Q(l,"$each_entry",function s(a){var $=s.$$p||o,n,t,r=this;return s.$$p=null,n=V(arguments),t=n,$===o?R(r,"to_enum",["each_entry"].concat(g(t)),function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:r}):(r.$each.$$p=function(){var i=H.$destructure(arguments);N($,i)},r.$each.apply(r,t),r)},-1),Q(l,"$each_slice",function s(a){var $=s.$$p||o,n=this;if(s.$$p=null,a=E(a,d("Integer"),"to_int"),x(a<=0)&&J.$raise(d("ArgumentError"),"invalid slice size"),$===o)return R(n,"enum_for",["each_slice",a],function r(){var i=r.$$s==null?this:r.$$s;return x(i["$respond_to?"]("size"))?B(i.$size(),a).$ceil():o},{$$s:n});var t=[];return n.$each.$$p=function(){var r=H.$destructure(arguments);t.push(r),t.length===a&&(N($,t),t=[])},n.$each(),t.length>0&&N($,t),n}),Q(l,"$each_with_index",function s(a){var $=s.$$p||o,n,t,r=this;if(s.$$p=null,n=V(arguments),t=n,$===o)return R(r,"enum_for",["each_with_index"].concat(g(t)),function u(){var f=u.$$s==null?this:u.$$s;return f.$enumerator_size()},{$$s:r});var i=0;return r.$each.$$p=function(){var u=H.$destructure(arguments);$(u,i),i++},r.$each.apply(r,t),r},-1),Q(l,"$each_with_object",function s(a){var $=s.$$p||o,n=this;return s.$$p=null,$===o?R(n,"enum_for",["each_with_object",a],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:n}):(n.$each.$$p=function(){var t=H.$destructure(arguments);$(t,a)},n.$each(),a)}),Q(l,"$entries",function(a){var $,n,t=this;$=V(arguments),n=$;var r=[];return t.$each.$$p=function(){r.push(H.$destructure(arguments))},t.$each.apply(t,n),r},-1),Q(l,"$filter_map",function s(){var a=s.$$p||o,$=this;return s.$$p=null,a===o?R($,"enum_for",["filter_map"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:$}):R(R($,"map",[],a.$to_proc()),"select",[],"itself".$to_proc())}),Q(l,"$find_all",function s(){var a=s.$$p||o,$=this;if(s.$$p=null,a===o)return R($,"enum_for",["find_all"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:$});var n=[];return $.$each.$$p=function(){var t=H.$destructure(arguments),r=N(a,t);x(r)&&n.push(t)},$.$each(),n}),Q(l,"$find_index",function s(a){try{var $=$e("return"),n=s.$$p||o,t=this,r=o;return s.$$p=null,x(a===void 0&&n===o)?t.$enum_for("find_index"):(a!=null&&n!==o&&t.$warn("warning: given block not used"),r=0,x(a!=null)?R(t,"each",[],function i(u){var f,v;return f=V(arguments),v=f,K(H.$destructure(v),a)&&$.$throw(r,i.$$is_lambda),r+=1},{$$arity:-1,$$ret:$}):R(t,"each",[],function i(u){var f,v;return f=V(arguments),v=f,x(e.yieldX(n,g(v)))&&$.$throw(r,i.$$is_lambda),r+=1},{$$arity:-1,$$ret:$}),o)}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),Q(l,"$first",function(a){try{var $=$e("return"),n=this,t=o,r=o;return x(a===void 0)?R(n,"each",[],function i(u){u==null&&(u=o),$.$throw(u,i.$$is_lambda)},{$$ret:$}):(t=[],a=E(a,d("Integer"),"to_int"),x(a<0)&&J.$raise(d("ArgumentError"),"attempt to take negative size"),x(a==0)?[]:(r=0,R(n,"each",[],function i(u){var f,v;if(f=V(arguments),v=f,t.push(H.$destructure(v)),x(a<=++r))$.$throw(t,i.$$is_lambda);else return o},{$$arity:-1,$$ret:$}),t))}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),Q(l,"$grep",function s(a){var $=s.$$p||o,n=this,t=o;return s.$$p=null,t=[],R(n,"each",[],function(i){var u,f,v=o;return u=V(arguments),f=u,v=w(f),x(R(a,"__send__",["==="].concat(g(v))))?($!==o?(x(D(f.$length(),1))&&(f=[f]),f=e.yieldX($,g(f))):x(p(f.$length(),1))&&(f=f["$[]"](0)),t.$push(f)):o},-1),t}),Q(l,"$grep_v",function s(a){var $=s.$$p||o,n=this,t=o;return s.$$p=null,t=[],R(n,"each",[],function(i){var u,f,v=o;return u=V(arguments),f=u,v=w(f),x(R(a,"__send__",["==="].concat(g(v))))?o:($!==o?(x(D(f.$length(),1))&&(f=[f]),f=e.yieldX($,g(f))):x(p(f.$length(),1))&&(f=f["$[]"](0)),t.$push(f))},-1),t}),Q(l,"$group_by",function s(){var a=s.$$p||o,$,n=this,t=o,r=o;return s.$$p=null,a===o?R(n,"enum_for",["group_by"],function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:n}):(t=new Map,n.$each.$$p=function(){var i=H.$destructure(arguments),u=N(a,i);(x(r=t["$[]"](u))?r:($=[u,[]],R(t,"[]=",$),$[$.length-1]))["$<<"](i)},n.$each(),t)}),Q(l,"$include?",function(a){try{var $=$e("return"),n=this;return R(n,"each",[],function t(r){var i,u;if(i=V(arguments),u=i,K(H.$destructure(u),a))$.$throw(!0,t.$$is_lambda);else return o},{$$arity:-1,$$ret:$}),!1}catch(t){if(t===$)return t.$v;throw t}finally{$.is_orphan=!0}}),Q(l,"$inject",function s(a,$){var n=s.$$p||o,t=this;s.$$p=null;var r=a;return n!==o&&$===void 0?t.$each.$$p=function(){var i=H.$destructure(arguments);if(r===void 0){r=i;return}i=S(n,[r,i]),r=i}:($===void 0&&(d("Symbol")["$==="](a)||J.$raise(d("TypeError"),""+a.$inspect()+" is not a Symbol"),$=a,r=void 0),t.$each.$$p=function(){var i=H.$destructure(arguments);if(r===void 0){r=i;return}r=r.$__send__($,i)}),t.$each(),r??o},-1),Q(l,"$lazy",function(){var a=this;return R(d(d("Enumerator"),"Lazy"),"new",[a,a.$enumerator_size()],function(n,t){var r,i;return n==null&&(n=o),r=V(arguments,1),i=r,R(n,"yield",g(i))},-2)}),Q(l,"$enumerator_size",function(){var a=this;return x(a["$respond_to?"]("size"))?a.$size():o}),Q(l,"$max",function s(a){var $=s.$$p||o,n=this;if(s.$$p=null,a===void 0||a===o){var t,r;return n.$each.$$p=function(){var i=H.$destructure(arguments);if(t===void 0){t=i;return}$!==o?r=S($,[i,t]):r=i["$<=>"](t),r===o&&J.$raise(d("ArgumentError"),"comparison failed"),r>0&&(t=i)},n.$each(),t===void 0?o:t}return a=E(a,d("Integer"),"to_int"),R(n,"sort",[],$.$to_proc()).$reverse().$first(a)},-1),Q(l,"$max_by",function s(a){var $=s.$$p||o,n=this;if(s.$$p=null,a==null&&(a=o),!x($))return R(n,"enum_for",["max_by",a],function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:n});if(!x(a["$nil?"]()))return R(n,"sort_by",[],$.$to_proc()).$reverse().$take(a);var t,r;return n.$each.$$p=function(){var i=H.$destructure(arguments),u=N($,i);if(t===void 0){t=i,r=u;return}u["$<=>"](r)>0&&(t=i,r=u)},n.$each(),t===void 0?o:t},-1),Q(l,"$min",function s(a){var $=s.$$p||o,n=this;if(s.$$p=null,a==null&&(a=o),!x(a["$nil?"]()))return $!==o?R(n,"sort",[],function(i,u){return i==null&&(i=o),u==null&&(u=o),e.yieldX($,[i,u])}).$take(a):n.$sort().$take(a);var t;return $!==o?n.$each.$$p=function(){var r=H.$destructure(arguments);if(t===void 0){t=r;return}var i=$(r,t);i===o&&J.$raise(d("ArgumentError"),"comparison failed"),i<0&&(t=r)}:n.$each.$$p=function(){var r=H.$destructure(arguments);if(t===void 0){t=r;return}H.$compare(r,t)<0&&(t=r)},n.$each(),t===void 0?o:t},-1),Q(l,"$min_by",function s(a){var $=s.$$p||o,n=this;if(s.$$p=null,a==null&&(a=o),!x($))return R(n,"enum_for",["min_by",a],function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:n});if(!x(a["$nil?"]()))return R(n,"sort_by",[],$.$to_proc()).$take(a);var t,r;return n.$each.$$p=function(){var i=H.$destructure(arguments),u=N($,i);if(t===void 0){t=i,r=u;return}u["$<=>"](r)<0&&(t=i,r=u)},n.$each(),t===void 0?o:t},-1),Q(l,"$minmax",function s(){var a=s.$$p||o,$=this,n=o;s.$$p=null,a=x(n=a)?n:R(J,"proc",[],function(f,v){return f==null&&(f=o),v==null&&(v=o),f["$<=>"](v)});var t=o,r=o,i=!0;return $.$each.$$p=function(){var u=H.$destructure(arguments);if(i)t=r=u,i=!1;else{var f=a.$call(t,u);f===o?J.$raise(d("ArgumentError"),"comparison failed"):f>0&&(t=u);var v=a.$call(r,u);v===o?J.$raise(d("ArgumentError"),"comparison failed"):v<0&&(r=u)}},$.$each(),[t,r]}),Q(l,"$minmax_by",function s(){var a=s.$$p||o,$=this;if(s.$$p=null,!x(a))return R($,"enum_for",["minmax_by"],function u(){var f=u.$$s==null?this:u.$$s;return f.$enumerator_size()},{$$s:$});var n=o,t=o,r,i;return $.$each.$$p=function(){var u=H.$destructure(arguments),f=N(a,u);(r===void 0||f["$<=>"](r)<0)&&(n=u,r=f),(i===void 0||f["$<=>"](i)>0)&&(t=u,i=f)},$.$each(),[n,t]}),Q(l,"$none?",function s(a){try{var $=$e("return"),n=s.$$p||o,t=this;return s.$$p=null,x(a!==void 0)?R(t,"each",[],function r(i){var u,f,v=o;if(u=V(arguments),f=u,v=w(f),x(R(a,"public_send",["==="].concat(g(v)))))$.$throw(!1,r.$$is_lambda);else return o},{$$arity:-1,$$ret:$}):n!==o?R(t,"each",[],function r(i){var u,f;if(u=V(arguments),f=u,x(e.yieldX(n,g(f))))$.$throw(!1,r.$$is_lambda);else return o},{$$arity:-1,$$ret:$}):R(t,"each",[],function r(i){var u,f,v=o;if(u=V(arguments),f=u,v=H.$destructure(f),x(v))$.$throw(!1,r.$$is_lambda);else return o},{$$arity:-1,$$ret:$}),!0}catch(r){if(r===$)return r.$v;throw r}finally{$.is_orphan=!0}},-1),Q(l,"$one?",function s(a){try{var $=$e("return"),n=s.$$p||o,t=this,r=o;return s.$$p=null,r=0,x(a!==void 0)?R(t,"each",[],function i(u){var f,v,I=o;if(f=V(arguments),v=f,I=w(v),x(R(a,"public_send",["==="].concat(g(I)))))if(r=F(r,1),x(D(r,1)))$.$throw(!1,i.$$is_lambda);else return o;else return o},{$$arity:-1,$$ret:$}):n!==o?R(t,"each",[],function i(u){var f,v;if(f=V(arguments),v=f,!x(e.yieldX(n,g(v))))return o;if(r=F(r,1),x(D(r,1)))$.$throw(!1,i.$$is_lambda);else return o},{$$arity:-1,$$ret:$}):R(t,"each",[],function i(u){var f,v;if(f=V(arguments),v=f,!x(H.$destructure(v)))return o;if(r=F(r,1),x(D(r,1)))$.$throw(!1,i.$$is_lambda);else return o},{$$arity:-1,$$ret:$}),r["$=="](1)}catch(i){if(i===$)return i.$v;throw i}finally{$.is_orphan=!0}},-1),Q(l,"$partition",function s(){var a=s.$$p||o,$=this;if(s.$$p=null,a===o)return R($,"enum_for",["partition"],function r(){var i=r.$$s==null?this:r.$$s;return i.$enumerator_size()},{$$s:$});var n=[],t=[];return $.$each.$$p=function(){var r=H.$destructure(arguments),i=N(a,r);x(i)?n.push(r):t.push(r)},$.$each(),[n,t]}),Q(l,"$reject",function s(){var a=s.$$p||o,$=this;if(s.$$p=null,a===o)return R($,"enum_for",["reject"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:$});var n=[];return $.$each.$$p=function(){var t=H.$destructure(arguments),r=N(a,t);x(r)||n.push(t)},$.$each(),n}),Q(l,"$reverse_each",function s(){var a=s.$$p||o,$=this;if(s.$$p=null,a===o)return R($,"enum_for",["reverse_each"],function r(){var i=r.$$s==null?this:r.$$s;return i.$enumerator_size()},{$$s:$});var n=[];$.$each.$$p=function(){n.push(arguments)},$.$each();for(var t=n.length-1;t>=0;t--)S(a,n[t]);return n}),Q(l,"$slice_before",function s(a){var $=s.$$p||o,n=this;return s.$$p=null,x(a===void 0&&$===o)&&J.$raise(d("ArgumentError"),"both pattern and block are given"),x(a!==void 0&&$!==o||arguments.length>1)&&J.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),R(d("Enumerator"),"new",[],function t(r){var i=t.$$s==null?this:t.$$s;r==null&&(r=o);var u=[];$!==o?a===void 0?i.$each.$$p=function(){var f=H.$destructure(arguments),v=N($,f);x(v)&&u.length>0&&(r["$<<"](u),u=[]),u.push(f)}:i.$each.$$p=function(){var f=H.$destructure(arguments),v=$(f,a.$dup());x(v)&&u.length>0&&(r["$<<"](u),u=[]),u.push(f)}:i.$each.$$p=function(){var f=H.$destructure(arguments),v=a["$==="](f);x(v)&&u.length>0&&(r["$<<"](u),u=[]),u.push(f)},i.$each(),u.length>0&&r["$<<"](u)},{$$s:n})},-1),Q(l,"$slice_after",function s(a){var $=s.$$p||o,n=this;return s.$$p=null,x(a===void 0&&$===o)&&J.$raise(d("ArgumentError"),"both pattern and block are given"),x(a!==void 0&&$!==o||arguments.length>1)&&J.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),x(a!==void 0)&&($=R(J,"proc",[],function(r){return r==null&&(r=o),a["$==="](r)})),R(d("Enumerator"),"new",[],function t(r){var i=t.$$s==null?this:t.$$s;r==null&&(r=o);var u;i.$each.$$p=function(){var f=H.$destructure(arguments),v=N($,f);u==null&&(u=[]),x(v)?(u.push(f),r.$yield(u),u=null):u.push(f)},i.$each(),u!=null&&r.$yield(u)},{$$s:n})},-1),Q(l,"$slice_when",function s(){var a=s.$$p||o,$=this;return s.$$p=null,a===o&&J.$raise(d("ArgumentError"),"wrong number of arguments (0 for 1)"),R(d("Enumerator"),"new",[],function n(t){var r=n.$$s==null?this:n.$$s;t==null&&(t=o);var i=o,u=o;r.$each_cons.$$p=function(){var f=H.$destructure(arguments),v=f[0],I=f[1],C=S(a,[v,I]);u=I,i===o&&(i=[]),x(C)?(i.push(v),t.$yield(i),i=[]):i.push(v)},r.$each_cons(2),i!==o&&(i.push(u),t.$yield(i))},{$$s:$})}),Q(l,"$sort",function s(){var a=s.$$p||o,$=this,n=o;return s.$$p=null,n=$.$to_a(),a===o&&(a=k(function(r,i){return r==null&&(r=o),i==null&&(i=o),r["$<=>"](i)})),R(n,"sort",[],a.$to_proc())}),Q(l,"$sort_by",function s(){var a=s.$$p||o,$=this,n=o;return s.$$p=null,a===o?R($,"enum_for",["sort_by"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:$}):(n=R($,"map",[],function(){var r=o;return r=H.$destructure(arguments),[e.yield1(a,r),r]}),R(n,"sort!",[],function(r,i){return r==null&&(r=o),i==null&&(i=o),r[0]["$<=>"](i[0])}),R(n,"map!",[],function(r){return r==null&&(r=o),r[1]}))}),Q(l,"$sum",function s(a){var $=s.$$p||o,n=this,t=o,r=o;return s.$$p=null,a==null&&(a=0),t=a,r=0,R(n,"each",[],function(u){var f,v,I=o,C=o,M=o;return f=V(arguments),v=f,I=$!==o?e.yieldX($,g(v)):H.$destructure(v),P([d(d("Float"),"INFINITY"),d(d("Float"),"INFINITY")["$-@"]()]["$include?"](I))&&x(I["$respond_to?"]("-"))?(C=z(I,r),M=F(t,C),r=z(z(M,t),C),t=M):t=F(t,I)},-1),t},-1),Q(l,"$take",function(a){var $=this;return $.$first(a)}),Q(l,"$take_while",function s(){try{var a=$e("return"),$=s.$$p||o,n=this,t=o;return s.$$p=null,x($)?(t=[],R(n,"each",[],function r(i){var u,f,v=o;return u=V(arguments),f=u,v=H.$destructure(f),x(e.yield1($,v))||a.$throw(t,r.$$is_lambda),t.push(v)},{$$arity:-1,$$ret:a})):n.$enum_for("take_while")}catch(r){if(r===a)return r.$v;throw r}finally{a.is_orphan=!0}}),Q(l,"$uniq",function s(){var a=s.$$p||o,$=this,n=o;return s.$$p=null,n=new Map,R($,"each",[],function(r){var i,u,f,v=o,I=o;return i=V(arguments),u=i,v=H.$destructure(u),I=a!==o?e.yield1(a,v):v,x(n["$key?"](I))?o:(f=[I,v],R(n,"[]=",f),f[f.length-1])},-1),n.$values()}),Q(l,"$tally",function(a){var $=this,n=o;return a&&a!==o&&ee(a),n=R(R($,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),x(a)?(R(n,"each",[],function(r,i){var u;return r==null&&(r=o),i==null&&(i=o),u=[r,F(a.$fetch(r,0),i)],R(a,"[]=",u),u[u.length-1]}),a):n},-1),Q(l,"$to_h",function s(a){var $=s.$$p||o,n,t,r=this;if(s.$$p=null,n=V(arguments),t=n,$!==o)return R(R(r,"map",[],$.$to_proc()),"to_h",g(t));var i=new Map;return r.$each.$$p=function(){var u=H.$destructure(arguments),f=H["$coerce_to?"](u,d("Array"),"to_ary"),v,I;f.$$is_array||J.$raise(d("TypeError"),"wrong element type "+u.$class()+" (expected array)"),f.length!==2&&J.$raise(d("ArgumentError"),"element has wrong array length (expected 2, was "+f.$length()+")"),v=f[0],I=f[1],e.hash_put(i,v,I)},r.$each.apply(r,t),i},-1),Q(l,"$to_set",function s(a,$){var n=s.$$p||o,t,r,i,u=this;return s.$$p=null,t=V(arguments),t.length>0&&(r=t.shift()),r==null&&(r=X("Set")),i=t,R(r,"new",[u].concat(g(i)),n.$to_proc())},-1),Q(l,"$zip",function s(a){s.$$p;var $,n,t=this;return s.$$p=null,$=V(arguments),n=$,R(t.$to_a(),"zip",g(n))},-1),A(l,"find","detect"),A(l,"filter","find_all"),A(l,"flat_map","collect_concat"),A(l,"map","collect"),A(l,"member?","include?"),A(l,"reduce","inject"),A(l,"select","find_all"),A(l,"to_a","entries")}("::",q)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(e){var x=e.klass,E=e.truthy,N=e.to_a,S=e.eqeq,ee=e.Kernel,Z=e.def,R=e.rb_gt,V=e.rb_lt,g=e.rb_le,H=e.rb_ge,$e=e.rb_plus,Q=e.rb_minus,J=e.eqeqeq,re=e.not,D=e.rb_times,b=e.rb_divide,y=e.alias,K=[],F=e.nil,z=e.$$$;return e.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(B,p,k){var P=x(B,p,"Enumerator"),A=[P].concat(k);return function(q,o,d){var T=x(q,o,"ArithmeticSequence"),h=[T].concat(d),l=e.$r(h),c=T.$$prototype;c.step_arg2=c.receiver_num=c.step_arg1=c.step=c.range=c.topfx=c.bypfx=c.creation_method=c.skipped_arg=F,e.prop(T.$$prototype,"$$is_arithmetic_seq",!0);var X=1/0;return Z(T,"$initialize",function(s,a,$){var n,t=this,r=F;return $==null&&($="step"),t.creation_method=$,E(s["$is_a?"](z("Array")))?(n=[].concat(N(s)),t.step_arg1=n[0]==null?F:n[0],t.step_arg2=n[1]==null?F:n[1],t.topfx=n[2]==null?F:n[2],t.bypfx=n[3]==null?F:n[3],t.receiver_num=a,t.step=1,t.range=E(t.step_arg2)?(t.step=t.step_arg2,e.Range.$new(t.receiver_num,t.step_arg1,!1)):E(t.step_arg1)?e.Range.$new(t.receiver_num,t.step_arg1,!1):e.Range.$new(t.receiver_num,F,!1)):(E(a)||(t.skipped_arg=!0),n=[s,E(r=a)?r:1],t.range=n[0],t.step=n[1]),t.object=t,S(t.step,0)&&ee.$raise(l("ArgumentError"),"step can't be 0"),E(t.step["$respond_to?"]("to_int"))?F:ee.$raise(l("ArgumentError"),"no implicit conversion of "+t.step.$class()+" into Integer")},-2),T.$attr_reader("step"),Z(T,"$begin",function(){var s=this;return s.range.$begin()}),Z(T,"$end",function(){var s=this;return s.range.$end()}),Z(T,"$exclude_end?",function(){var s=this;return s.range["$exclude_end?"]()}),Z(T,"$_lesser_than_end?",function(s){var a=this,$=F,n=F;return $=E(n=a.$end())?n:X,E(R(a.$step(),0))?E(a["$exclude_end?"]())?V(s,$):g(s,$):E(a["$exclude_end?"]())?R(s,$):H(s,$)}),Z(T,"$_greater_than_begin?",function(s){var a=this,$=F,n=F;return $=E(n=a.$begin())?n:X["$-@"](),E(R(a.$step(),0))?R(s,$):V(s,$)}),Z(T,"$first",function(s){var a=this,$=F,n=F,t=F;if($=E(n=a.$begin())?n:X["$-@"](),!E(s))return E(a["$_lesser_than_end?"]($))?$:F;for(t=[];E(E(n=a["$_lesser_than_end?"]($))?R(s,0):n);)t["$<<"]($),$=$e($,a.$step()),s=Q(s,1);return t},-1),Z(T,"$each",function w(){var s=w.$$p||F,a=this,$=F,n=F;if(w.$$p=null,s===F)return a;for(J(F,$=a.$begin())&&ee.$raise(l("TypeError"),"nil can't be coerced into Integer"),n=E($=a.$begin())?$:X["$-@"]();E(a["$_lesser_than_end?"](n));)e.yield1(s,n),n=$e(n,a.$step());return a}),Z(T,"$last",function(s){var a=this,$=F,n=F,t=F;if(J(X,$=a.$end())||J(X["$-@"](),$)?ee.$raise(z("FloatDomainError"),a.$end()):J(F,$)&&ee.$raise(z("RangeError"),"cannot get the last element of endless arithmetic sequence"),n=Q(a.$end(),Q(a.$end(),a.$begin())["$%"](a.$step())),E(a["$_lesser_than_end?"](n))||(n=Q(n,a.$step())),!E(s))return E(a["$_greater_than_begin?"](n))?n:F;for(t=[];E(E($=a["$_greater_than_begin?"](n))?R(s,0):$);)t["$<<"](n),n=Q(n,a.$step()),s=Q(s,1);return t.$reverse()},-1),Z(T,"$size",function(){var s=this,a=F,$=F;return a=E(R(s.$step(),0))?1:-1,re(s["$_lesser_than_end?"](s.$begin()))?0:E([X["$-@"](),X]["$include?"](s.$step()))?1:E([D(X["$-@"](),a),F]["$include?"](s.$begin()))||E([D(X,a),F]["$include?"](s.$end()))?X:($=Q(s.$end(),Q(s.$end(),s.$begin())["$%"](s.$step())),E(s["$_lesser_than_end?"]($))||($=Q($,s.$step())),$e(b(Q($,s.$begin()),s.$step()).$abs().$to_i(),1))}),Z(T,"$==",function(s){var a=this,$=F,n=F,t=F,r=F;return E($=E(n=E(t=E(r=a.$class()["$=="](s.$class()))?a.$begin()["$=="](s.$begin()):r)?a.$end()["$=="](s.$end()):t)?a.$step()["$=="](s.$step()):n)?a["$exclude_end?"]()["$=="](s["$exclude_end?"]()):$}),Z(T,"$hash",function(){var s=this;return[l("ArithmeticSequence"),s.$begin(),s.$end(),s.$step(),s["$exclude_end?"]()].$hash()}),Z(T,"$inspect",function(){var s=this,a=F;return E(s.receiver_num)?(a=E(s.step_arg2)?"("+s.topfx+s.step_arg1.$inspect()+", "+s.bypfx+s.step_arg2.$inspect()+")":E(s.step_arg1)?"("+s.topfx+s.step_arg1.$inspect()+")":F,"("+s.receiver_num.$inspect()+"."+s.creation_method+a+")"):(a=E(s.skipped_arg)?F:"("+s.step+")","(("+s.range.$inspect()+")."+s.creation_method+a+")")}),y(T,"===","=="),y(T,"eql?","==")}(P,P,A)}("::",null,K)};Opal.modules["corelib/enumerator/chain"]=function(e){var x=e.deny_frozen_access,E=e.klass,N=e.slice,S=e.def,ee=e.send,Z=e.to_a,R=e.truthy,V=e.rb_plus,g=e.thrower,H=e.nil,$e=e.$$$;return e.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(Q,J){var re=E(Q,J,"Enumerator");return function(D,b){var y=E(D,b,"Chain"),K=y.$$prototype;return K.enums=K.iterated=H,S(y,"$initialize",function(z){var B,p,k=this;return B=N(arguments),p=B,x(k),k.enums=p,k.iterated=[],k.object=k},-1),S(y,"$each",function F(z){var B=F.$$p||H,p,k,P=this;return F.$$p=null,p=N(arguments),k=p,B===H?ee(P,"to_enum",["each"].concat(Z(k)),function A(){var q=A.$$s==null?this:A.$$s;return q.$size()},{$$s:P}):(ee(P.enums,"each",[],function A(q){var o=A.$$s==null?this:A.$$s;return o.iterated==null&&(o.iterated=H),q==null&&(q=H),o.iterated["$<<"](q),ee(q,"each",Z(k),B.$to_proc())},{$$s:P}),P)},-1),S(y,"$size",function(z){try{var B=g("return"),p,k,P=this,A=H;return p=N(arguments),k=p,A=0,ee(P.enums,"each",[],function q(o){var d=H;return o==null&&(o=H),d=ee(o,"size",Z(k)),R([H,$e($e("Float"),"INFINITY")]["$include?"](d))&&B.$throw(d,q.$$is_lambda),A=V(A,d)},{$$ret:B}),A}catch(q){if(q===B)return q.$v;throw q}finally{B.is_orphan=!0}},-1),S(y,"$rewind",function(){var z=this;return ee(z.iterated,"reverse_each",[],function(p){return p==null&&(p=H),R(p["$respond_to?"]("rewind"))?p.$rewind():H}),z.iterated=[],z}),S(y,"$inspect",function(){var z=this;return"#<Enumerator::Chain: "+z.enums.$inspect()+">"})}(re,re)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(e){var x=e.deny_frozen_access,E=e.klass,N=e.truthy,S=e.Kernel,ee=e.def,Z=e.slice,R=e.send,V=[],g=e.nil,H=e.$$$;return e.add_stubs("include,raise,new,to_proc"),function($e,Q,J){var re=E($e,Q,"Enumerator"),D=[re].concat(J);return function(b,y,K){var F=E(b,y,"Generator"),z=[F].concat(K),B=e.$r(z),p=F.$$prototype;return p.block=g,F.$include(H("Enumerable")),ee(F,"$initialize",function k(){var P=k.$$p||g,A=this;return k.$$p=null,x(A),N(P)||S.$raise(H("LocalJumpError"),"no block given"),A.block=P}),ee(F,"$each",function k(P){var A=k.$$p||g,q,o,d=this,T=g;k.$$p=null,q=Z(arguments),o=q,T=R(B("Yielder"),"new",[],A.$to_proc());try{o.unshift(T),e.yieldX(d.block,o)}catch(h){if(h&&h.$thrower_type=="breaker")return h.$v;throw h}return d},-1)}(D[0],null,D)}(V[0],null,V)};Opal.modules["corelib/enumerator/lazy"]=function(e){var x=e.truthy,E=e.coerce_to,N=e.yield1,S=e.yieldX,ee=e.deny_frozen_access,Z=e.klass,R=e.slice,V=e.send2,g=e.find_super,H=e.to_a,$e=e.defs,Q=e.Kernel,J=e.send,re=e.def,D=e.return_self,b=e.Opal,y=e.rb_lt,K=e.eqeqeq,F=e.rb_plus,z=e.alias,B=[],p=e.nil,k=e.$$$;return e.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(P,A,q){var o=Z(P,A,"Enumerator"),d=[o].concat(q);return function(T,h,l){var c=Z(T,h,"Lazy"),X=[c].concat(l),w=e.$r(X),s=c.$$prototype;return s.enumerator=p,Z(c,k("Exception"),"StopLazyError"),$e(c,"$for",function a($,n){var t,r,i=a.$$p||p,u=this,f=p;return a.$$p=null,t=R(arguments,1),r=t,f=V(u,g(u,"for",a,!1,!0),"for",[$].concat(H(r)),i),f.enumerator=$,f},-2),re(c,"$initialize",function a($,n){var t=a.$$p||p,r=this;return a.$$p=null,n==null&&(n=p),ee(r),t===p&&Q.$raise(k("ArgumentError"),"tried to call lazy new without a block"),r.enumerator=$,V(r,g(r,"initialize",a,!1,!0),"initialize",[n],function(u,f){var v,I;u==null&&(u=p),v=R(arguments,1),I=v;try{return J($,"each",H(I),function(M){var G,O;G=R(arguments),O=G,O.unshift(u),S(t,O)},-1)}catch(C){if(e.rescue(C,[w("StopLazyError")]))try{return p}finally{e.pop_exception(C)}else throw C}},-2)},-2),re(c,"$lazy",D),re(c,"$collect",function a(){var $=a.$$p||p,n=this;return a.$$p=null,x($)||Q.$raise(k("ArgumentError"),"tried to call lazy map without a block"),J(w("Lazy"),"new",[n,n.$enumerator_size()],function(r,i){var u,f;r==null&&(r=p),u=R(arguments,1),f=u;var v=S($,f);r.$yield(v)},-2)}),re(c,"$collect_concat",function a(){var $=a.$$p||p,n=this;return a.$$p=null,x($)||Q.$raise(k("ArgumentError"),"tried to call lazy map without a block"),J(w("Lazy"),"new",[n,p],function(r,i){var u,f;r==null&&(r=p),u=R(arguments,1),f=u;var v=S($,f);if(v["$respond_to?"]("force")&&v["$respond_to?"]("each"))J(v,"each",[],function(M){return M==null&&(M=p),r.$yield(M)});else{var I=b.$try_convert(v,k("Array"),"to_ary");I===p?r.$yield(v):J(v,"each",[],function(M){return M==null&&(M=p),r.$yield(M)})}},-2)}),re(c,"$drop",function($){var n=this,t=p,r=p,i=p;return $=E($,k("Integer"),"to_int"),x(y($,0))&&Q.$raise(k("ArgumentError"),"attempt to drop negative size"),t=n.$enumerator_size(),r=K(k("Integer"),t)&&x(y($,t))?$:t,i=0,J(w("Lazy"),"new",[n,r],function(f,v){var I,C;return f==null&&(f=p),I=R(arguments,1),C=I,x(y(i,$))?i=F(i,1):J(f,"yield",H(C))},-2)}),re(c,"$drop_while",function a(){var $=a.$$p||p,n=this,t=p;return a.$$p=null,x($)||Q.$raise(k("ArgumentError"),"tried to call lazy drop_while without a block"),t=!0,J(w("Lazy"),"new",[n,p],function(i,u){var f,v;if(i==null&&(i=p),f=R(arguments,1),v=f,x(t)){var I=S($,v);x(I)||(t=!1,J(i,"yield",H(v)))}else return J(i,"yield",H(v))},-2)}),re(c,"$enum_for",function a($,n){var t=a.$$p||p,r,i,u,f=this;return a.$$p=null,r=R(arguments),r.length>0&&(i=r.shift()),i==null&&(i="each"),u=r,J(f.$class(),"for",[f,i].concat(H(u)),t.$to_proc())},-1),re(c,"$find_all",function a(){var $=a.$$p||p,n=this;return a.$$p=null,x($)||Q.$raise(k("ArgumentError"),"tried to call lazy select without a block"),J(w("Lazy"),"new",[n,p],function(r,i){var u,f;r==null&&(r=p),u=R(arguments,1),f=u;var v=S($,f);x(v)&&J(r,"yield",H(f))},-2)}),re(c,"$grep",function a($){var n=a.$$p||p,t=this;return a.$$p=null,x(n)?J(w("Lazy"),"new",[t,p],function(i,u){var f,v;i==null&&(i=p),f=R(arguments,1),v=f;var I=b.$destructure(v),C=$["$==="](I);x(C)&&(C=N(n,I),i.$yield(N(n,I)))},-2):J(w("Lazy"),"new",[t,p],function(i,u){var f,v;i==null&&(i=p),f=R(arguments,1),v=f;var I=b.$destructure(v),C=$["$==="](I);x(C)&&i.$yield(I)},-2)}),re(c,"$reject",function a(){var $=a.$$p||p,n=this;return a.$$p=null,x($)||Q.$raise(k("ArgumentError"),"tried to call lazy reject without a block"),J(w("Lazy"),"new",[n,p],function(r,i){var u,f;r==null&&(r=p),u=R(arguments,1),f=u;var v=S($,f);x(v)||J(r,"yield",H(f))},-2)}),re(c,"$take",function($){var n=this,t=p,r=p,i=p;return $=E($,k("Integer"),"to_int"),x(y($,0))&&Q.$raise(k("ArgumentError"),"attempt to take negative size"),t=n.$enumerator_size(),r=K(k("Integer"),t)&&x(y($,t))?$:t,i=0,J(w("Lazy"),"new",[n,r],function(f,v){var I,C;return f==null&&(f=p),I=R(arguments,1),C=I,x(y(i,$))?(J(f,"yield",H(C)),i=F(i,1)):Q.$raise(w("StopLazyError"))},-2)}),re(c,"$take_while",function a(){var $=a.$$p||p,n=this;return a.$$p=null,x($)||Q.$raise(k("ArgumentError"),"tried to call lazy take_while without a block"),J(w("Lazy"),"new",[n,p],function(r,i){var u,f;r==null&&(r=p),u=R(arguments,1),f=u;var v=S($,f);x(v)?J(r,"yield",H(f)):Q.$raise(w("StopLazyError"))},-2)}),re(c,"$inspect",function(){var $=this;return"#<"+$.$class()+": "+$.enumerator.$inspect()+">"}),z(c,"force","to_a"),z(c,"filter","find_all"),z(c,"flat_map","collect_concat"),z(c,"map","collect"),z(c,"select","find_all"),z(c,"to_enum","enum_for")}(o,o,d)}("::",null,B)};Opal.modules["corelib/enumerator/yielder"]=function(e){var x=e.klass,E=e.def,N=e.slice,S=e.send,ee=e.to_a,Z=[],R=e.nil;return e.add_stubs("yield,proc"),function(V,g,H){var $e=x(V,g,"Enumerator"),Q=[$e].concat(H);return function(J,re){var D=x(J,re,"Yielder"),b=D.$$prototype;return b.block=R,E(D,"$initialize",function y(){var K=y.$$p||R,F=this;return y.$$p=null,F.block=K,F}),E(D,"$yield",function(K){var F,z,B=this;F=N(arguments),z=F;var p=e.yieldX(B.block,z);if(p&&p.$thrower_type=="break")throw p;return p},-1),E(D,"$<<",function(K){var F=this;return F.$yield(K),F}),E(D,"$to_proc",function(){var K=this;return S(K,"proc",[],function F(z){var B,p,k=F.$$s==null?this:F.$$s;return B=N(arguments),p=B,S(k,"yield",ee(p))},{$$arity:-1,$$s:K})})}(Q[0],null)}(Z[0],null,Z)};Opal.modules["corelib/enumerator"]=function(e){var x=e.slice,E=e.coerce_to,N=e.deny_frozen_access,S=e.klass,ee=e.defs,Z=e.truthy,R=e.send,V=e.not,g=e.def,H=e.rb_plus,$e=e.to_a,Q=e.Opal,J=e.send2,re=e.find_super,D=e.rb_ge,b=e.Kernel,y=e.rb_le,K=e.alias,F=e.top,z=[],B=e.nil,p=e.$$$;return e.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),F.$require("corelib/enumerable"),function(k,P,A){var q=S(k,P,"Enumerator"),o=[q].concat(A),d=e.$r(o),T=q.$$prototype;return T.size=T.args=T.object=T.method=T.values=T.cursor=B,q.$include(p("Enumerable")),q.$$prototype.$$is_enumerator=!0,ee(q,"$for",function h(l,c,X){var w=h.$$p||B,s,a,$,n=this;h.$$p=null,s=x(arguments,1),s.length>0&&(a=s.shift()),a==null&&(a="each"),$=s;var t=n.$allocate();return t.object=l,t.size=w,t.method=a,t.args=$,t.cursor=0,t},-2),g(q,"$initialize",function h(l){var c=h.$$p||B,X=this;return h.$$p=null,x(arguments),N(X),X.cursor=0,Z(c)?(X.object=R(d("Generator"),"new",[],c.$to_proc()),X.method="each",X.args=[],X.size=arguments[0]||B,Z(X.size)&&V(X.size["$respond_to?"]("call"))?X.size=E(X.size,p("Integer"),"to_int"):B):(X.object=arguments[0],X.method=arguments[1]||"each",X.args=x(arguments,2),X.size=B)},-1),g(q,"$each",function h(l){var c=h.$$p||B,X,w,s=this;return h.$$p=null,X=x(arguments),w=X,Z(c["$nil?"]())&&Z(w["$empty?"]())?s:(w=H(s.args,w),Z(c["$nil?"]())?R(s.$class(),"new",[s.object,s.method].concat($e(w))):R(s.object,"__send__",[s.method].concat($e(w)),c.$to_proc()))},-1),g(q,"$size",function(){var l=this;return Z(l.size["$respond_to?"]("call"))?R(l.size,"call",$e(l.args)):l.size}),g(q,"$with_index",function h(l){var c=h.$$p||B,X=this;if(h.$$p=null,l==null&&(l=0),l=Z(l)?E(l,p("Integer"),"to_int"):0,!Z(c))return R(X,"enum_for",["with_index",l],function s(){var a=s.$$s==null?this:s.$$s;return a.$size()},{$$s:X});var w=l;return X.$each.$$p=function(){var s=Q.$destructure(arguments),a=c(s,w);return w++,a},X.$each()},-1),g(q,"$each_with_index",function h(){var l=h.$$p||B,c=this;return h.$$p=null,l===B?R(c,"enum_for",["each_with_index"],function X(){var w=X.$$s==null?this:X.$$s;return w.$size()},{$$s:c}):(J(c,re(c,"each_with_index",h,!1,!0),"each_with_index",[],l),c.object)}),g(q,"$rewind",function(){var l=this;return l.cursor=0,l}),g(q,"$peek_values",function(){var l=this,c=B;return l.values=Z(c=l.values)?c:R(l,"map",[],function(w){var s,a;return s=x(arguments),a=s,a},-1),Z(D(l.cursor,l.values.$length()))&&b.$raise(p("StopIteration"),"iteration reached an end"),l.values["$[]"](l.cursor)}),g(q,"$peek",function(){var l=this,c=B;return c=l.$peek_values(),Z(y(c.$length(),1))?c["$[]"](0):c}),g(q,"$next_values",function(){var l=this,c=B;return c=l.$peek_values(),l.cursor=H(l.cursor,1),c}),g(q,"$next",function(){var l=this,c=B;return c=l.$next_values(),Z(y(c.$length(),1))?c["$[]"](0):c}),g(q,"$feed",function(l){var c=this;return c.$raise(d("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),g(q,"$+",function(l){var c=this;return p(p("Enumerator"),"Chain").$new(c,l)}),g(q,"$inspect",function(){var l=this,c=B;return c="#<"+l.$class()+": "+l.object.$inspect()+":"+l.method,Z(l.args["$any?"]())&&(c=H(c,"("+l.args.$inspect()["$[]"](p("Range").$new(1,-2))+")")),H(c,">")}),K(q,"with_object","each_with_object"),q.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),q.$autoload("Chain","corelib/enumerator/chain"),q.$autoload("Generator","corelib/enumerator/generator"),q.$autoload("Lazy","corelib/enumerator/lazy"),q.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,z)};Opal.modules["corelib/numeric"]=function(e){var x=e.klass,E=e.truthy,N=e.Kernel,S=e.def,ee=e.to_ary,Z=e.return_self,R=e.rb_minus,V=e.rb_times,g=e.rb_lt,H=e.eqeq,$e=e.rb_divide,Q=e.return_val,J=e.Opal,re=e.slice,D=e.extract_kwargs,b=e.ensure_kwargs,y=e.hash_get,K=e.not,F=e.send,z=e.rb_ge,B=e.rb_le,p=e.rb_plus,k=e.rb_gt,P=e.alias,A=e.top,q=e.nil,o=e.$$$;return e.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),A.$require("corelib/comparable"),function(d,T){var h=x(d,T,"Numeric");return h.$include(o("Comparable")),S(h,"$coerce",function(c){var X=this;return E(c["$instance_of?"](X.$class()))?[c,X]:[N.$Float(c),N.$Float(X)]}),S(h,"$__coerced__",function(c,X){var w,s,a=this,$=q,n=q;if(E(X["$respond_to?"]("coerce")))return s=X.$coerce(a),w=ee(s),$=w[0]==null?q:w[0],n=w[1]==null?q:w[1],$.$__send__(c,n);switch(c.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return N.$raise(o("TypeError"),""+X.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return N.$raise(o("ArgumentError"),"comparison of "+a.$class()+" with "+X.$class()+" failed");default:return q}}),S(h,"$<=>",function(c){var X=this;return E(X["$equal?"](c))?0:q}),S(h,"$+@",Z),S(h,"$-@",function(){var c=this;return R(0,c)}),S(h,"$%",function(c){var X=this;return R(X,V(c,X.$div(c)))}),S(h,"$abs",function(){var c=this;return E(g(c,0))?c["$-@"]():c}),S(h,"$abs2",function(){var c=this;return V(c,c)}),S(h,"$angle",function(){var c=this;return E(g(c,0))?o(o("Math"),"PI"):0}),S(h,"$ceil",function(c){var X=this;return c==null&&(c=0),X.$to_f().$ceil(c)},-1),S(h,"$conj",Z),S(h,"$denominator",function(){var c=this;return c.$to_r().$denominator()}),S(h,"$div",function(c){var X=this;return H(c,0)&&N.$raise(o("ZeroDivisionError"),"divided by o"),$e(X,c).$floor()}),S(h,"$divmod",function(c){var X=this;return[X.$div(c),X["$%"](c)]}),S(h,"$fdiv",function(c){var X=this;return $e(X.$to_f(),c)}),S(h,"$floor",function(c){var X=this;return c==null&&(c=0),X.$to_f().$floor(c)},-1),S(h,"$i",function(){var c=this;return N.$Complex(0,c)}),S(h,"$imag",Q(0)),S(h,"$integer?",Q(!1)),S(h,"$nonzero?",function(){var c=this;return E(c["$zero?"]())?q:c}),S(h,"$numerator",function(){var c=this;return c.$to_r().$numerator()}),S(h,"$polar",function(){var c=this;return[c.$abs(),c.$arg()]}),S(h,"$quo",function(c){var X=this;return $e(J["$coerce_to!"](X,o("Rational"),"to_r"),c)}),S(h,"$real",Z),S(h,"$real?",Q(!0)),S(h,"$rect",function(){var c=this;return[c,0]}),S(h,"$round",function(c){var X=this;return X.$to_f().$round(c)},-1),S(h,"$step",function l(c,X,w){var s=l.$$p||q,a,$,n,t,r,i,u=this,f=q;l.$$p=null,a=re(arguments),$=D(a),$=b($),a.length>0&&(n=a.shift()),a.length>0&&(t=a.shift()),r=y($,"to"),i=y($,"by"),n!==void 0&&r!==void 0&&N.$raise(o("ArgumentError"),"to is given twice"),t!==void 0&&i!==void 0&&N.$raise(o("ArgumentError"),"step is given twice"),r!==void 0&&(n=r),i!==void 0&&(t=i),n===void 0&&(n=q);function v(){t===q&&N.$raise(o("TypeError"),"step must be numeric"),t!=null&&t["$=="](0)&&N.$raise(o("ArgumentError"),"step can't be 0"),(t===q||t==null)&&(t=1);var he=t["$<=>"](0);he===q&&N.$raise(o("ArgumentError"),"0 can't be coerced into "+t.$class()),(n===q||n==null)&&(n=he>0?o(o("Float"),"INFINITY"):o(o("Float"),"INFINITY")["$-@"]()),J.$compare(u,n)}function I(){if(t>0&&u>n||t<0&&u<n)return 0;if(t===1/0||t===-1/0)return 1;var he=Math.abs,ve=Math.floor,me=(he(u)+he(n)+he(n-u))/he(t)*o(o("Float"),"EPSILON");return me===1/0||me===-1/0?0:(me>.5&&(me=.5),ve((n-u)/t+me)+1)}function C(){if(v(),t===0)return 1/0;if(t%1!==0)return I();if(t>0&&u>n||t<0&&u<n)return 0;var he=Math.ceil,ve=Math.abs,me=ve(u-n)+1,be=ve(t);return he(me/be)}if(s===q)return(K(n)||E(n["$is_a?"](o("Numeric"))))&&(K(t)||E(t["$is_a?"](o("Numeric"))))?o(o("Enumerator"),"ArithmeticSequence").$new([n,t,E(r)?"to: ":q,E(i)?"by: ":q],u):F(u,"enum_for",["step",n,t],C.$to_proc());v();var M=t["$negative?"](),G=t["$=="](0)||n===1/0&&!M||n===-1/0&&M;if(u.$$is_number&&t.$$is_number&&n.$$is_number)if(u%1===0&&(G||n%1===0)&&t%1===0){var O=u;if(G)for(;;O+=t)s(O);else if(M)for(;O>=n;O+=t)s(O);else for(;O<=n;O+=t)s(O);return u}else{var ae=u.$to_f().valueOf();t=t.$to_f().valueOf(),n=n.$to_f().valueOf();var le=I();if(!isFinite(t))le!==0&&s(ae);else if(t===0)for(;;)s(ae);else for(var ce=0;ce<le;ce++){var de=ce*t+u;(t>=0?n<de:n>de)&&(de=n),s(de)}return u}for(f=u;E(M?z(f,n):B(f,n));)e.yield1(s,f),f=p(f,t)},-1),S(h,"$to_c",function(){var c=this;return N.$Complex(c,0)}),S(h,"$to_int",function(){var c=this;return c.$to_i()}),S(h,"$truncate",function(c){var X=this;return c==null&&(c=0),X.$to_f().$truncate(c)},-1),S(h,"$zero?",function(){var c=this;return c["$=="](0)}),S(h,"$positive?",function(){var c=this;return k(c,0)}),S(h,"$negative?",function(){var c=this;return g(c,0)}),S(h,"$dup",Z),S(h,"$clone",function(c){var X=this;return c=b(c),y(c,"freeze"),X},-1),S(h,"$finite?",Q(!0)),S(h,"$infinite?",Q(q)),P(h,"arg","angle"),P(h,"conjugate","conj"),P(h,"imaginary","imag"),P(h,"magnitude","abs"),P(h,"modulo","%"),P(h,"phase","arg"),P(h,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(e){var x=e.truthy,E=e.falsy,N=e.yield1,S=e.hash_get,ee=e.hash_put,Z=e.hash_delete,R=e.coerce_to,V=e.respond_to,g=e.deny_frozen_access,H=e.freeze,$e=e.opal32_init,Q=e.opal32_add,J=e.klass,re=e.slice,D=e.defs,b=e.Kernel,y=e.def,K=e.Opal,F=e.eqeqeq,z=e.send2,B=e.find_super,p=e.send,k=e.rb_gt,P=e.rb_times,A=e.eqeq,q=e.rb_minus,o=e.to_a,d=e.to_ary,T=e.gvars,h=e.rb_ge,l=e.assign_ivar,c=e.rb_lt,X=e.return_self,w=e.neqeq,s=e.alias,a=e.top,$=[],n=e.nil,t=e.$$$;return e.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),a.$require("corelib/enumerable"),a.$require("corelib/numeric"),function(r,i,u){var f=J(r,i,"Array"),v=[f].concat(u),I=e.$r(v);f.$include(t("Enumerable")),e.prop(f.$$prototype,"$$is_array",!0);function C(ie){for(var j=ie[0],L=1,Y=ie.length;L<Y;L++)ie[L-1]=ie[L];return ie.pop(),j}function M(ie,j){return j.$$name===e.Array?ie:j.$allocate().$replace(ie.$to_a())}function G(ie,j,L){for(var Y,W=null,ne=new Array(ie.length),se=0,oe=0;se<ie.length;se++){if(!W)try{Y=N(L,ie[se])}catch(fe){W=fe}(W||j(Y))&&(ne[oe]=ie[se],oe+=1)}if(oe!==se&&(ie.splice.apply(ie,[0,ne.length].concat(ne)),ie.splice(oe,ne.length)),W)throw W}function O(ie){return ie.$$is_array||(ie=R(ie,t("Array"),"to_ary")),ie.$to_a()}function ae(ie,j){var L=j.length;if(L>6&&L<32767)ie.push.apply(ie,j);else for(var Y=0;Y<L;Y++)ie.push(j[Y])}D(f,"$[]",function(j){var L,Y,W=this;return L=re(arguments),Y=L,M(Y,W)},-1),y(f,"$initialize",function ie(j,L){var Y=ie.$$p||n,W=this;if(ie.$$p=null,j==null&&(j=n),L==null&&(L=n),g(W),L!==n&&Y!==n&&b.$warn("warning: block supersedes default value argument"),j>t(t("Integer"),"MAX")&&b.$raise(t("ArgumentError"),"array size too big"),arguments.length>2&&b.$raise(t("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return W.length>0&&W.splice(0,W.length),W;if(arguments.length===1){if(j.$$is_array)return W.$replace(j.$to_a()),W;if(j["$respond_to?"]("to_ary"))return W.$replace(j.$to_ary()),W}j=R(j,t("Integer"),"to_int"),j<0&&b.$raise(t("ArgumentError"),"negative array size"),W.splice(0,W.length);var ne,se;if(Y===n)for(ne=0;ne<j;ne++)W.push(L);else for(ne=0,se;ne<j;ne++)se=Y(ne),W[ne]=se;return W},-1),D(f,"$try_convert",function(j){return K["$coerce_to?"](j,t("Array"),"to_ary")}),y(f,"$&",function(j){var L=this;if(j=O(j),L.length===0||j.length===0)return[];var Y=[],W=new Map,ne,se,oe;for(ne=0,se=j.length;ne<se;ne++)ee(W,j[ne],!0);for(ne=0,se=L.length;ne<se;ne++)oe=L[ne],Z(W,oe)!==void 0&&Y.push(oe);return Y}),y(f,"$|",function(j){var L=this;j=O(j);var Y=new Map,W,ne;for(W=0,ne=L.length;W<ne;W++)ee(Y,L[W],!0);for(W=0,ne=j.length;W<ne;W++)ee(Y,j[W],!0);return Y.$keys()}),y(f,"$*",function(j){var L=this;if(x(j["$respond_to?"]("to_str")))return L.$join(j.$to_str());j=R(j,t("Integer"),"to_int"),x(j<0)&&b.$raise(t("ArgumentError"),"negative argument");for(var Y=[],W=L.$to_a(),ne=0;ne<j;ne++)Y=Y.concat(W);return Y}),y(f,"$+",function(j){var L=this;return j=O(j),L.concat(j)}),y(f,"$-",function(j){var L=this;if(j=O(j),x(L.length===0))return[];if(x(j.length===0))return L.slice();var Y=[],W=new Map,ne,se,oe;for(ne=0,se=j.length;ne<se;ne++)ee(W,j[ne],!0);for(ne=0,se=L.length;ne<se;ne++)oe=L[ne],S(W,oe)===void 0&&Y.push(oe);return Y}),y(f,"$<<",function(j){var L=this;return g(L),L.push(j),L}),y(f,"$<=>",function(j){var L=this;if(F(t("Array"),j))j=j.$to_a();else if(x(j["$respond_to?"]("to_ary")))j=j.$to_ary().$to_a();else return n;if(L===j)return 0;for(var Y=Math.min(L.length,j.length),W=0;W<Y;W++){var ne=L[W]["$<=>"](j[W]);if(ne!==0)return ne}return L.length["$<=>"](j.length)}),y(f,"$==",function(j){var L=this,Y={};function W(ne,se){var oe,fe,_,m;if(ne===se)return!0;if(!se.$$is_array)return V(se,"$to_ary")?se["$=="](ne):!1;if(ne.$$constructor!==Array&&(ne=ne.$to_a()),se.$$constructor!==Array&&(se=se.$to_a()),ne.length!==se.length)return!1;for(Y[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(_=ne[oe],m=se[oe],_.$$is_array){if(m.$$is_array&&m.length!==_.length||!Y.hasOwnProperty(_.$object_id())&&!W(_,m))return!1}else if(!_["$=="](m))return!1;return!0}return W(L,j)});function le(ie,j){var L=ie.length,Y,W,ne,se;return Y=j.excl,W=j.begin===n?0:R(j.begin,e.Integer,"to_int"),ne=j.end===n?-1:R(j.end,e.Integer,"to_int"),W<0&&(W+=L,W<0)||(j.excl_rev&&j.begin!==n&&(W+=1),W>L)?n:ne<0&&(ne+=L,ne<0)?[]:((!Y||j.end===n)&&(ne+=1),se=ie.slice(W,ne),se)}function ce(ie,j){var L,Y=[],W=0,ne;for(j.step<0?(ne={begin:j.range.end,end:j.range.begin,excl:!1,excl_rev:j.range.excl},L=le(ie,ne).$reverse()):L=le(ie,j.range);W<L.length;)Y.push(L[W]),W+=Math.abs(j.step);return Y}function de(ie,j,L){var Y=ie.length,W;return j=R(j,e.Integer,"to_int"),j<0&&(j+=Y,j<0)?n:L===void 0?j>=Y||j<0?n:ie[j]:(L=R(L,e.Integer,"to_int"),L<0||j>Y||j<0?n:(W=ie.slice(j,j+L),W))}y(f,"$[]",function(j,L){var Y=this;return j.$$is_range?le(Y,j):j.$$is_arithmetic_seq?ce(Y,j):de(Y,j,L)},-2),y(f,"$[]=",function(j,L,Y){var W=this,ne=n,se=n;g(W),ne=n;var oe,fe=W.length;if(j.$$is_range){L.$$is_array?ne=L.$to_a():L["$respond_to?"]("to_ary")?ne=L.$to_ary().$to_a():ne=[L];var _=j.excl,m=j.begin===n?0:R(j.begin,e.Integer,"to_int"),U=j.end===n?-1:R(j.end,e.Integer,"to_int");if(m<0&&(m+=fe,m<0&&b.$raise(t("RangeError"),""+j.$inspect()+" out of range")),U<0&&(U+=fe),(!_||j.end===n)&&(U+=1),m>fe)for(oe=fe;oe<m;oe++)W[oe]=n;return U<0?W.splice.apply(W,[m,0].concat(ne)):W.splice.apply(W,[m,U-m].concat(ne)),L}else{Y===void 0?se=1:(se=L,L=Y,L.$$is_array?ne=L.$to_a():L["$respond_to?"]("to_ary")?ne=L.$to_ary().$to_a():ne=[L]);var te;if(j=R(j,t("Integer"),"to_int"),se=R(se,t("Integer"),"to_int"),j<0&&(te=j,j+=fe,j<0&&b.$raise(t("IndexError"),"index "+te+" too small for array; minimum "+-W.length)),se<0&&b.$raise(t("IndexError"),"negative length ("+se+")"),j>fe)for(oe=fe;oe<j;oe++)W[oe]=n;return Y===void 0?W[j]=L:W.splice.apply(W,[j,se].concat(ne)),L}},-3),y(f,"$any?",function ie(j){var L=ie.$$p||n,Y=this;return ie.$$p=null,Y.length===0?!1:z(Y,B(Y,"any?",ie,!1,!0),"any?",[j],L)},-1),y(f,"$assoc",function(j){for(var L=this,Y=0,W=L.length,ne;Y<W;Y++)if(ne=L[Y],ne.length&&ne[0]["$=="](j))return ne;return n}),y(f,"$at",function(j){var L=this;return j=R(j,t("Integer"),"to_int"),j<0&&(j+=L.length),j<0||j>=L.length?n:L[j]}),y(f,"$bsearch_index",function ie(){var j=ie.$$p||n,L=this;if(ie.$$p=null,j===n)return L.$enum_for("bsearch_index");for(var Y=0,W=L.length,ne,se,oe,fe=!1,_=n;Y<W;){if(ne=Y+Math.floor((W-Y)/2),se=L[ne],oe=N(j,se),oe===!0)_=ne,fe=!0;else if(oe===!1||oe===n)fe=!1;else if(oe.$$is_number){if(oe===0)return ne;fe=oe<0}else b.$raise(t("TypeError"),"wrong argument type "+oe.$class()+" (must be numeric, true, false or nil)");fe?W=ne:Y=ne+1}return _}),y(f,"$bsearch",function ie(){var j=ie.$$p||n,L=this,Y=n;return ie.$$p=null,j===n?L.$enum_for("bsearch"):(Y=p(L,"bsearch_index",[],j.$to_proc()),Y!=null&&Y.$$is_number?L[Y]:Y)}),y(f,"$cycle",function ie(j){var L=ie.$$p||n,Y=this;if(ie.$$p=null,j==null&&(j=n),L===n)return p(Y,"enum_for",["cycle",j],function se(){var oe=se.$$s==null?this:se.$$s;return x(j["$nil?"]())?t(t("Float"),"INFINITY"):(j=K["$coerce_to!"](j,t("Integer"),"to_int"),x(k(j,0))?P(oe.$enumerator_size(),j):0)},{$$s:Y});if(x(Y["$empty?"]())||A(j,0))return n;var W,ne;if(j===n)for(;;)for(W=0,ne=Y.length;W<ne;W++)N(L,Y[W]);else{if(j=K["$coerce_to!"](j,t("Integer"),"to_int"),j<=0)return Y;for(;j>0;){for(W=0,ne=Y.length;W<ne;W++)N(L,Y[W]);j--}}return Y},-1),y(f,"$clear",function(){var j=this;return g(j),j.splice(0,j.length),j}),y(f,"$count",function ie(j){var L=ie.$$p||n,Y=this;return ie.$$p=null,x(j!==void 0)||x(L)?z(Y,B(Y,"count",ie,!1,!0),"count",[j],L):Y.$size()},-1),y(f,"$initialize_copy",function(j){var L=this;return L.$replace(j)}),y(f,"$collect",function ie(){var j=ie.$$p||n,L=this;if(ie.$$p=null,j===n)return p(L,"enum_for",["collect"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:L});for(var Y=[],W=0;W<L.length;W++){var ne=N(j,L[W]);Y[W]=ne}return Y}),y(f,"$collect!",function ie(){var j=ie.$$p||n,L=this;if(ie.$$p=null,j===n)return p(L,"enum_for",["collect!"],function ne(){var se=ne.$$s==null?this:ne.$$s;return se.$size()},{$$s:L});g(L);for(var Y=0;Y<L.length;Y++){var W=N(j,L[Y]);L[Y]=W}return L});function he(ie,j){return ie===j||j===0?1:j>0&&ie>j?he(ie-1,j-1)+he(ie-1,j):0}y(f,"$combination",function ie(j){var L=ie.$$p||n,Y=this,W=n;if(ie.$$p=null,W=K["$coerce_to!"](j,t("Integer"),"to_int"),L===n)return p(Y,"enum_for",["combination",W],function te(){var ue=te.$$s==null?this:te.$$s;return he(ue.length,W)},{$$s:Y});var ne,se,oe,fe,_,m,U;if(W===0)e.yield1(L,[]);else if(W===1)for(ne=0,se=Y.length;ne<se;ne++)e.yield1(L,[Y[ne]]);else if(W===Y.length)e.yield1(L,Y.slice());else if(W>=0&&W<Y.length){for(oe=[],ne=0;ne<=W+1;ne++)oe.push(0);for(fe=[],_=0,m=!1,oe[0]=-1;!m;){for(fe[_]=Y[oe[_+1]];_<W-1;)_++,U=oe[_+1]=oe[_]+1,fe[_]=Y[U];e.yield1(L,fe.slice()),_++;do m=_===0,oe[_]++,_--;while(oe[_+1]+W===Y.length+_+1)}}return Y}),y(f,"$repeated_combination",function ie(j){var L=ie.$$p||n,Y=this,W=n;if(ie.$$p=null,W=K["$coerce_to!"](j,t("Integer"),"to_int"),L===n)return p(Y,"enum_for",["repeated_combination",W],function se(){var oe=se.$$s==null?this:se.$$s;return he(oe.length+W-1,W)},{$$s:Y});function ne(se,oe,fe,_){if(fe.length==se){var m=fe.slice();e.yield1(L,m);return}for(var U=oe;U<_.length;U++)fe.push(_[U]),ne(se,U,fe,_),fe.pop()}return W>=0&&ne(W,0,[],Y),Y}),y(f,"$compact",function(){for(var j=this,L=[],Y=0,W=j.length,ne;Y<W;Y++)(ne=j[Y])!==n&&L.push(ne);return L}),y(f,"$compact!",function(){var j=this;g(j);for(var L=j.length,Y=0,W=j.length;Y<W;Y++)j[Y]===n&&(j.splice(Y,1),W--,Y--);return j.length===L?n:j}),y(f,"$concat",function(j){var L,Y,W=this;return L=re(arguments),Y=L,g(W),Y=p(Y,"map",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;return se==null&&(se=n),se=O(se),x(se["$equal?"](oe))&&(se=se.$dup()),se},{$$s:W}),p(Y,"each",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;se==null&&(se=n);for(var fe=0,_=se.length;fe<_;fe++)oe.push(se[fe])},{$$s:W}),W},-1),y(f,"$delete",function ie(j){var L=ie.$$p||n,Y=this;ie.$$p=null;for(var W=Y.length,ne=0,se=W;ne<se;ne++)Y[ne]["$=="](j)&&(g(Y),Y.splice(ne,1),se--,ne--);return Y.length===W?L!==n?e.yieldX(L,[]):n:j}),y(f,"$delete_at",function(j){var L=this;if(g(L),j=R(j,t("Integer"),"to_int"),j<0&&(j+=L.length),j<0||j>=L.length)return n;var Y=L[j];return L.splice(j,1),Y}),y(f,"$delete_if",function ie(){var j=ie.$$p||n,L=this;return ie.$$p=null,j===n?p(L,"enum_for",["delete_if"],function Y(){var W=Y.$$s==null?this:Y.$$s;return W.$size()},{$$s:L}):(g(L),G(L,E,j),L)}),y(f,"$difference",function(j){var L,Y,W=this;return L=re(arguments),Y=L,p(Y,"reduce",[W.$to_a().$dup()],function(se,oe){return se==null&&(se=n),oe==null&&(oe=n),q(se,oe)})},-1),y(f,"$dig",function(j,L){var Y,W,ne=this,se=n;return Y=re(arguments,1),W=Y,se=ne["$[]"](j),se===n||W.length===0?se:(x(se["$respond_to?"]("dig"))||b.$raise(t("TypeError"),""+se.$class()+" does not have #dig method"),p(se,"dig",o(W)))},-2),y(f,"$drop",function(j){var L=this;return j=R(j,t("Integer"),"to_int"),j<0&&b.$raise(t("ArgumentError")),L.slice(j)}),y(f,"$dup",function ie(){var j=ie.$$p||n,L=this;return ie.$$p=null,L.$$class===e.Array&&L.$$class.$allocate.$$pristine&&L.$copy_instance_variables.$$pristine&&L.$initialize_dup.$$pristine?L.slice(0):z(L,B(L,"dup",ie,!1,!0),"dup",[],j)}),y(f,"$each",function ie(){var j=ie.$$p||n,L=this;if(ie.$$p=null,j===n)return p(L,"enum_for",["each"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:L});for(var Y=0;Y<L.length;Y++)N(j,L[Y]);return L}),y(f,"$each_index",function ie(){var j=ie.$$p||n,L=this;if(ie.$$p=null,j===n)return p(L,"enum_for",["each_index"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:L});for(var Y=0;Y<L.length;Y++)N(j,Y);return L}),y(f,"$empty?",function(){var j=this;return j.length===0}),y(f,"$eql?",function(j){var L=this,Y={};function W(ne,se){var oe,fe,_,m;if(!se.$$is_array||(se=se.$to_a(),ne.length!==se.length))return!1;for(Y[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(_=ne[oe],m=se[oe],_.$$is_array){if(m.$$is_array&&m.length!==_.length||!Y.hasOwnProperty(_.$object_id())&&!W(_,m))return!1}else if(!_["$eql?"](m))return!1;return!0}return W(L,j)}),y(f,"$fetch",function ie(j,L){var Y=ie.$$p||n,W=this;ie.$$p=null;var ne=j;if(j=R(j,t("Integer"),"to_int"),j<0&&(j+=W.length),j>=0&&j<W.length)return W[j];if(Y!==n&&L!=null&&W.$warn("warning: block supersedes default value argument"),Y!==n)return Y(ne);if(L!=null)return L;W.length===0?b.$raise(t("IndexError"),"index "+ne+" outside of array bounds: 0...0"):b.$raise(t("IndexError"),"index "+ne+" outside of array bounds: -"+W.length+"..."+W.length)},-2),y(f,"$fill",function ie(j){var L=ie.$$p||n,Y,W,ne,se,oe=this,fe=n,_=n,m=n,U=n,te=n;ie.$$p=null,Y=re(arguments),W=Y,g(oe);var ue,_e;if(x(L)?(x(W.length>2)&&b.$raise(t("ArgumentError"),"wrong number of arguments ("+W.$length()+" for 0..2)"),se=W,ne=d(se),fe=ne[0]==null?n:ne[0],_=ne[1]==null?n:ne[1]):(x(W.length==0)?b.$raise(t("ArgumentError"),"wrong number of arguments (0 for 1..3)"):x(W.length>3)&&b.$raise(t("ArgumentError"),"wrong number of arguments ("+W.$length()+" for 1..3)"),se=W,ne=d(se),m=ne[0]==null?n:ne[0],fe=ne[1]==null?n:ne[1],_=ne[2]==null?n:ne[2]),F(t("Range"),fe)){if(x(_)&&b.$raise(t("TypeError"),"length invalid with range"),U=fe.begin===n?0:R(fe.begin,t("Integer"),"to_int"),x(U<0)&&(U+=this.length),x(U<0)&&b.$raise(t("RangeError"),""+fe.$inspect()+" out of range"),te=fe.end===n?-1:R(fe.end,t("Integer"),"to_int"),x(te<0)&&(te+=this.length),x(fe["$exclude_end?"]())||(te+=1),x(te<=U))return oe}else if(x(fe))if(U=R(fe,t("Integer"),"to_int"),x(U<0)&&(U+=this.length),x(U<0)&&(U=0),x(_)){if(te=R(_,t("Integer"),"to_int"),x(te==0))return oe;te+=U}else te=this.length;else U=0,te=this.length;if(x(U>this.length))for(ue=this.length;ue<te;ue++)oe[ue]=n;if(x(te>this.length)&&(this.length=te),x(L))for(this.length;U<te;U++)_e=L(U),oe[U]=_e;else for(this.length;U<te;U++)oe[U]=m;return oe},-1),y(f,"$first",function(j){var L=this;return j==null?L.length===0?n:L[0]:(j=R(j,t("Integer"),"to_int"),j<0&&b.$raise(t("ArgumentError"),"negative array size"),L.slice(0,j))},-1),y(f,"$flatten",function(j){var L=this;function Y(W,ne){var se=[],oe,fe,_,m;for(W=W.$to_a(),oe=0,fe=W.length;oe<fe;oe++){if(_=W[oe],!V(_,"$to_ary",!0)){se.push(_);continue}if(m=_.$to_ary(),m===n){se.push(_);continue}switch(m.$$is_array||b.$raise(t("TypeError")),m===L&&b.$raise(t("ArgumentError")),ne){case void 0:se=se.concat(Y(m));break;case 0:se.push(m);break;default:ae(se,Y(m,ne-1))}}return se}return j!==void 0&&(j=R(j,t("Integer"),"to_int")),Y(L,j)},-1),y(f,"$flatten!",function(j){var L=this;g(L);var Y=L.$flatten(j);if(L.length==Y.length){for(var W=0,ne=L.length;W<ne&&L[W]===Y[W];W++);if(W==ne)return n}return L.$replace(Y),L},-1),y(f,"$freeze",function(){var j=this;return x(j["$frozen?"]())?j:H(j)});var ve;y(f,"$hash",function(){var j=this,L=ve===void 0,Y=$e(),W=j.$object_id(),ne,se,oe;if(Y=Q(Y,10),Y=Q(Y,j.length),L)ve=Object.create(null);else if(ve[W])return Q(Y,16843009);try{for(oe in ve)if(ne=ve[oe],j["$eql?"](ne))return Q(Y,16843009);for(ve[W]=j,se=0;se<j.length;se++)ne=j[se],Y=Q(Y,ne.$hash());return Y}finally{L&&(ve=void 0)}}),y(f,"$include?",function(j){for(var L=this,Y=0,W=L.length;Y<W;Y++)if(L[Y]["$=="](j))return!0;return!1}),y(f,"$index",function ie(j){var L=ie.$$p||n,Y=this;ie.$$p=null;var W,ne,se;if(j!=null&&L!==n&&Y.$warn("warning: given block not used"),j!=null){for(W=0,ne=Y.length;W<ne;W++)if(Y[W]["$=="](j))return W}else if(L!==n){for(W=0;W<Y.length;W++)if(se=L(Y[W]),se!==!1&&se!==n)return W}else return Y.$enum_for("index");return n},-1),y(f,"$insert",function(j,L){var Y,W,ne=this;if(Y=re(arguments,1),W=Y,g(ne),j=R(j,t("Integer"),"to_int"),W.length>0){if(j<0&&(j+=ne.length+1,j<0&&b.$raise(t("IndexError"),""+j+" is out of bounds")),j>ne.length)for(var se=ne.length;se<j;se++)ne.push(n);ne.splice.apply(ne,[j,0].concat(W))}return ne},-2);var me=[];y(f,"$inspect",function(){var j=this,L=[],Y=j.$__id__(),W=!0;return function(){try{if(me.indexOf(Y)!==-1)return W=!1,"[...]";me.push(Y);for(var ne=0,se=j.length;ne<se;ne++){var oe=j["$[]"](ne);L.push(I("Opal").$inspect(oe))}return"["+L.join(", ")+"]"}finally{W&&me.pop()}}()}),y(f,"$intersection",function(j){var L,Y,W=this,ne=n,se=n;return L=re(arguments),Y=L,Y.length===0?W.$to_a().$dup():(Y=Y.map(O),W.length===0?[]:(Y=p(Y,"sort_by",[],"length".$to_proc()),x(W.length<Y[0].length)?p(Y,"reduce",[W],"&".$to_proc()):(ne=Y.pop(),se=p(Y,"reduce",[ne],"&".$to_proc()),W["$&"](se))))},-1),y(f,"$intersect?",function(j){var L=this,Y,W,ne=new Map,se,oe;for(L.length<j.length?(Y=L,W=j):(Y=j,W=L),se=0,oe=Y.length;se<oe;se++)ee(ne,Y[se],!0);for(se=0,oe=W.length;se<oe;se++)if(S(ne,W[se]))return!0;return!1}),y(f,"$join",function(j){var L=this;if(T[","]==null&&(T[","]=n),j==null&&(j=n),x(L.length===0))return"";x(j===n)&&(j=T[","]);var Y=[],W,ne,se,oe;for(W=0,ne=L.length;W<ne;W++){if(se=L[W],V(se,"$to_str")&&(oe=se.$to_str(),oe!==n)){Y.push(oe.$to_s());continue}if(V(se,"$to_ary")&&(oe=se.$to_ary(),oe===L&&b.$raise(t("ArgumentError")),oe!==n)){Y.push(oe.$join(j));continue}if(V(se,"$to_s")&&(oe=se.$to_s(),oe!==n)){Y.push(oe);continue}b.$raise(t("NoMethodError").$new(""+I("Opal").$inspect(L.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return j===n?Y.join(""):Y.join(K["$coerce_to!"](j,t("String"),"to_str").$to_s())},-1),y(f,"$keep_if",function ie(){var j=ie.$$p||n,L=this;return ie.$$p=null,j===n?p(L,"enum_for",["keep_if"],function Y(){var W=Y.$$s==null?this:Y.$$s;return W.$size()},{$$s:L}):(g(L),G(L,x,j),L)}),y(f,"$last",function(j){var L=this;return j==null?L.length===0?n:L[L.length-1]:(j=R(j,t("Integer"),"to_int"),j<0&&b.$raise(t("ArgumentError"),"negative array size"),j>L.length&&(j=L.length),L.slice(L.length-j,L.length))},-1),y(f,"$length",function(){var j=this;return j.length}),y(f,"$max",function ie(j){var L=ie.$$p||n,Y=this;return ie.$$p=null,p(Y.$each(),"max",[j],L.$to_proc())},-1),y(f,"$min",function ie(){var j=ie.$$p||n,L=this;return ie.$$p=null,p(L.$each(),"min",[],j.$to_proc())});function be(ie,j){for(var L=j>=0?1:0;j;)L*=ie,ie--,j--;return L}return y(f,"$permutation",function ie(j){var L=ie.$$p||n,Y=this,W=n,ne=n;if(ie.$$p=null,L===n)return p(Y,"enum_for",["permutation",j],function m(){var U=m.$$s==null?this:m.$$s;return be(U.length,j===void 0?U.length:j)},{$$s:Y});var se,oe,fe;if(j===void 0?j=Y.length:j=R(j,t("Integer"),"to_int"),!(j<0||Y.length<j))if(j===0)e.yield1(L,[]);else if(j===1)for(var _=0;_<Y.length;_++)e.yield1(L,[Y[_]]);else W=I("Array").$new(j),ne=I("Array").$new(Y.length,!1),se=function(m,U,te,ue,_e){Y=this;for(var ge=0;ge<Y.length;ge++)if(ue["$[]"](ge)["$!"]())if(U[te]=ge,te<m-1)ue[ge]=!0,se.call(Y,m,U,te+1,ue,_e),ue[ge]=!1;else{fe=[];for(var pe=0;pe<U.length;pe++)fe.push(Y[U[pe]]);N(_e,fe)}},L!==n?(oe=Y.slice(),se.call(oe,j,W,0,ne,L)):se.call(Y,j,W,0,ne,L);return Y},-1),y(f,"$repeated_permutation",function ie(j){var L=ie.$$p||n,Y=this,W=n;if(ie.$$p=null,W=K["$coerce_to!"](j,t("Integer"),"to_int"),L===n)return p(Y,"enum_for",["repeated_permutation",W],function se(){var oe=se.$$s==null?this:se.$$s;return x(h(W,0))?oe.$size()["$**"](W):0},{$$s:Y});function ne(se,oe,fe){if(oe.length==se){var _=oe.slice();e.yield1(L,_);return}for(var m=0;m<fe.length;m++)oe.push(fe[m]),ne(se,oe,fe),oe.pop()}return ne(W,[],Y.slice()),Y}),y(f,"$pop",function(j){var L=this;return g(L),x(j===void 0)?x(L.length===0)?n:L.pop():(j=R(j,t("Integer"),"to_int"),x(j<0)&&b.$raise(t("ArgumentError"),"negative array size"),x(L.length===0)?[]:x(j===1)?[L.pop()]:x(j>L.length)?L.splice(0,L.length):L.splice(L.length-j,L.length))},-1),y(f,"$product",function ie(j){var L=ie.$$p||n,Y,W,ne=this;ie.$$p=null,Y=re(arguments),W=Y;var se=L!==n?null:[],oe=W.length+1,fe=new Array(oe),_=new Array(oe),m=new Array(oe),U,te,ue,_e,ge=1;for(m[0]=ne,U=1;U<oe;U++)m[U]=R(W[U-1],t("Array"),"to_ary");for(U=0;U<oe;U++){if(_e=m[U].length,_e===0)return se||ne;ge*=_e,ge>2147483647&&b.$raise(t("RangeError"),"too big to product"),_[U]=_e,fe[U]=0}e:for(;;){for(ue=[],U=0;U<oe;U++)ue.push(m[U][fe[U]]);for(se?se.push(ue):e.yield1(L,ue),te=oe-1,fe[te]++;fe[te]===_[te];){if(fe[te]=0,--te<0)break e;fe[te]++}}return se||ne},-1),y(f,"$push",function(j){var L,Y,W=this;return L=re(arguments),Y=L,g(W),ae(W,Y),W},-1),y(f,"$rassoc",function(j){for(var L=this,Y=0,W=L.length,ne;Y<W;Y++)if(ne=L[Y],ne.length&&ne[1]!==void 0&&ne[1]["$=="](j))return ne;return n}),y(f,"$reject",function ie(){var j=ie.$$p||n,L=this;if(ie.$$p=null,j===n)return p(L,"enum_for",["reject"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:L});for(var Y=[],W=0,ne;W<L.length;W++)ne=j(L[W]),(ne===!1||ne===n)&&Y.push(L[W]);return Y}),y(f,"$reject!",function ie(){var j=ie.$$p||n,L=this,Y=n;return ie.$$p=null,j===n?p(L,"enum_for",["reject!"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:L}):(g(L),Y=L.$length(),p(L,"delete_if",[],j.$to_proc()),A(L.$length(),Y)?n:L)}),y(f,"$replace",function(j){var L=this;return g(L),j=O(j),L.length>0&&L.splice(0,L.length),ae(L,j),L}),y(f,"$reverse",function(){var j=this;return j.slice(0).reverse()}),y(f,"$reverse!",function(){var j=this;return g(j),j.reverse()}),y(f,"$reverse_each",function ie(){var j=ie.$$p||n,L=this;if(ie.$$p=null,j===n)return p(L,"enum_for",["reverse_each"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:L});for(var Y=L.length-1;Y>=0;Y--)N(j,L[Y]);return L}),y(f,"$rindex",function ie(j){var L=ie.$$p||n,Y=this;ie.$$p=null;var W,ne;if(j!=null&&L!==n&&Y.$warn("warning: given block not used"),j!=null){for(W=Y.length-1;W>=0&&!(W>=Y.length);W--)if(Y[W]["$=="](j))return W}else if(L!==n){for(W=Y.length-1;W>=0&&!(W>=Y.length);W--)if(ne=L(Y[W]),ne!==!1&&ne!==n)return W}else if(j==null)return Y.$enum_for("rindex");return n},-1),y(f,"$rotate",function(j){var L=this;j==null&&(j=1);var Y,W,ne,se;return j=R(j,t("Integer"),"to_int"),L.length===1?L.slice():L.length===0?[]:(Y=L.slice(),W=j%Y.length,ne=Y.slice(W),se=Y.slice(0,W),ne.concat(se))},-1),y(f,"$rotate!",function(j){var L=this,Y=n;return j==null&&(j=1),g(L),L.length===0||L.length===1?L:(j=R(j,t("Integer"),"to_int"),Y=L.$rotate(j),L.$replace(Y))},-1),function(ie,j){var L=J(ie,j,"SampleRandom"),Y=L.$$prototype;return Y.rng=n,y(L,"$initialize",l("rng")),y(L,"$rand",function(ne){var se=this,oe=n;return oe=R(se.rng.$rand(ne),t("Integer"),"to_int"),x(oe<0)&&b.$raise(t("RangeError"),"random value must be >= 0"),x(oe<ne)||b.$raise(t("RangeError"),"random value must be less than Array size"),oe})}(f,null),y(f,"$sample",function(j,L){var Y=this,W=n,ne=n;if(x(j===void 0))return Y.$at(b.$rand(Y.length));if(x(L===void 0)?x(W=K["$coerce_to?"](j,t("Hash"),"to_hash"))?(L=W,j=n):(L=n,j=R(j,t("Integer"),"to_int")):(j=R(j,t("Integer"),"to_int"),L=R(L,t("Hash"),"to_hash")),x(j)&&x(j<0)&&b.$raise(t("ArgumentError"),"count must be greater than 0"),x(L)&&(ne=L["$[]"]("random")),ne=x(ne)&&x(ne["$respond_to?"]("rand"))?I("SampleRandom").$new(ne):b,!x(j))return Y[ne.$rand(Y.length)];var se,oe,fe,_,m,U,te,ue;switch(j>Y.length&&(j=Y.length),j){case 0:return[];case 1:return[Y[ne.$rand(Y.length)]];case 2:return _=ne.$rand(Y.length),m=ne.$rand(Y.length-1),_<=m&&m++,[Y[_],Y[m]];default:if(Y.length/j>3){for(se=!1,oe=0,fe=I("Array").$new(j),_=1,fe[0]=ne.$rand(Y.length);_<j;){for(U=ne.$rand(Y.length),m=0;m<_;){for(;U===fe[m];){if(oe++,oe>100){se=!0;break}U=ne.$rand(Y.length)}if(se)break;m++}if(se)break;fe[_]=U,_++}if(!se){for(_=0;_<j;)fe[_]=Y[fe[_]],_++;return fe}}fe=Y.slice();for(var _e=0;_e<j;_e++)te=ne.$rand(Y.length-_e)+_e,ue=fe[_e],fe[_e]=fe[te],fe[te]=ue;return j===Y.length?fe:fe["$[]"](0,j)}},-1),y(f,"$select",function ie(){var j=ie.$$p||n,L=this;if(ie.$$p=null,j===n)return p(L,"enum_for",["select"],function oe(){var fe=oe.$$s==null?this:oe.$$s;return fe.$size()},{$$s:L});for(var Y=[],W=0,ne,se;W<L.length;W++)ne=L[W],se=N(j,ne),x(se)&&Y.push(ne);return Y}),y(f,"$select!",function ie(){var j=ie.$$p||n,L=this;if(ie.$$p=null,j===n)return p(L,"enum_for",["select!"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:L});g(L);var Y=L.length;return p(L,"keep_if",[],j.$to_proc()),L.length===Y?n:L}),y(f,"$shift",function(j){var L=this;return g(L),x(j===void 0)?x(L.length===0)?n:C(L):(j=R(j,t("Integer"),"to_int"),x(j<0)&&b.$raise(t("ArgumentError"),"negative array size"),x(L.length===0)?[]:L.splice(0,j))},-1),y(f,"$shuffle",function(j){var L=this;return L.$dup().$to_a()["$shuffle!"](j)},-1),y(f,"$shuffle!",function(j){var L=this;g(L);var Y,W=L.length,ne,se;for(j!==void 0&&(j=K["$coerce_to?"](j,t("Hash"),"to_hash"),j!==n&&(j=j["$[]"]("random"),j!==n&&j["$respond_to?"]("rand")&&(Y=j)));W;)Y?(ne=Y.$rand(W).$to_int(),ne<0&&b.$raise(t("RangeError"),"random number too small "+ne),ne>=W&&b.$raise(t("RangeError"),"random number too big "+ne)):ne=L.$rand(W),se=L[--W],L[W]=L[ne],L[ne]=se;return L},-1),y(f,"$slice!",function(j,L){var Y=this,W=n,ne=n,se=n,oe=n,fe=n;if(g(Y),W=n,x(L===void 0))if(F(t("Range"),j)){ne=j,W=Y["$[]"](ne),se=ne.begin===n?0:R(ne.begin,t("Integer"),"to_int"),oe=ne.end===n?-1:R(ne.end,t("Integer"),"to_int"),se<0&&(se+=Y.length),oe<0?oe+=Y.length:oe>=Y.length&&(oe=Y.length-1,ne.excl&&(oe+=1));var _=oe-se;ne.excl&&ne.end!==n?oe-=1:_+=1,se<Y.length&&se>=0&&oe<Y.length&&oe>=0&&_>0&&Y.splice(se,_)}else{if(fe=R(j,t("Integer"),"to_int"),fe<0&&(fe+=Y.length),fe<0||fe>=Y.length)return n;W=Y[fe],fe===0?Y.shift():Y.splice(fe,1)}else{if(fe=R(j,t("Integer"),"to_int"),L=R(L,t("Integer"),"to_int"),L<0)return n;W=Y["$[]"](fe,L),fe<0&&(fe+=Y.length),fe+L>Y.length&&(L=Y.length-fe),fe<Y.length&&fe>=0&&Y.splice(fe,L)}return W},-2),y(f,"$sort",function ie(){var j=ie.$$p||n,L=this;return ie.$$p=null,x(L.length>1)?(j===n&&(j=function(Y,W){return Y["$<=>"](W)}),L.slice().sort(function(Y,W){var ne=j(Y,W);return ne===n&&b.$raise(t("ArgumentError"),"comparison of "+Y.$inspect()+" with "+W.$inspect()+" failed"),k(ne,0)?1:c(ne,0)?-1:0})):L}),y(f,"$sort!",function ie(){var j=ie.$$p||n,L=this;ie.$$p=null,g(L);var Y;j!==n?Y=p(L.slice(),"sort",[],j.$to_proc()):Y=L.slice().$sort(),L.length=0;for(var W=0,ne=Y.length;W<ne;W++)L.push(Y[W]);return L}),y(f,"$sort_by!",function ie(){var j=ie.$$p||n,L=this;return ie.$$p=null,j===n?p(L,"enum_for",["sort_by!"],function Y(){var W=Y.$$s==null?this:Y.$$s;return W.$size()},{$$s:L}):(g(L),L.$replace(p(L,"sort_by",[],j.$to_proc())))}),y(f,"$take",function(j){var L=this;return j<0&&b.$raise(t("ArgumentError")),L.slice(0,j)}),y(f,"$take_while",function ie(){var j=ie.$$p||n,L=this;ie.$$p=null;for(var Y=[],W=0,ne,se;W<L.length;W++){if(ne=L[W],se=j(ne),se===!1||se===n)return Y;Y.push(ne)}return Y}),y(f,"$to_a",function(){var j=this;return j.$$class===e.Array?j:e.Array.$new(j)}),y(f,"$to_ary",X),y(f,"$to_h",function ie(){var j=ie.$$p||n,L=this,Y=n;ie.$$p=null,Y=L,j!==n&&(Y=p(Y,"map",[],j.$to_proc()));var W,ne=Y.length,se,oe,fe,_=new Map;for(W=0;W<ne;W++)se=K["$coerce_to?"](Y[W],t("Array"),"to_ary"),se.$$is_array||b.$raise(t("TypeError"),"wrong element type "+Y[W].$class()+" at "+W+" (expected array)"),se.length!==2&&b.$raise(t("ArgumentError"),"element has wrong array length at "+W+" (expected 2, was "+se.$length()+")"),oe=se[0],fe=se[1],ee(_,oe,fe);return _}),y(f,"$transpose",function(){var j=this,L=n,Y=n;return x(j["$empty?"]())?[]:(L=[],Y=n,p(j,"each",[],function(ne){var se=n;return ne==null&&(ne=n),ne=O(ne),Y=x(se=Y)?se:ne.length,w(ne.length,Y)&&b.$raise(t("IndexError"),"element size differs ("+ne.length+" should be "+Y+")"),p(ne.length,"times",[],function(fe){var _,m=n;return fe==null&&(fe=n),m=x(se=L["$[]"](fe))?se:(_=[fe,[]],p(L,"[]=",_),_[_.length-1]),m["$<<"](ne.$at(fe))})}),L)}),y(f,"$union",function(j){var L,Y,W=this;return L=re(arguments),Y=L,p(Y,"reduce",[W.$uniq()],function(se,oe){return se==null&&(se=n),oe==null&&(oe=n),se["$|"](oe)})},-1),y(f,"$uniq",function ie(){var j=ie.$$p||n,L=this;ie.$$p=null;var Y=new Map,W,ne,se,oe;if(j===n)for(W=0,ne=L.length;W<ne;W++)se=L[W],S(Y,se)===void 0&&ee(Y,se,se);else for(W=0;W<L.length;W++)se=L[W],oe=N(j,se),S(Y,oe)===void 0&&ee(Y,oe,se);return Y.$values()}),y(f,"$uniq!",function ie(){var j=ie.$$p||n,L=this;ie.$$p=null,g(L);var Y=new Map,W,ne,se,oe=[];for(W=0;W<L.length;W++)ne=L[W],se=j===n?ne:N(j,ne),S(Y,se)===void 0?ee(Y,se,ne):oe.push(W);for(W=oe.length-1;W>=0;W--)L.splice(oe[W],1);return oe.length===0?n:L}),y(f,"$unshift",function(j){var L,Y,W=this;L=re(arguments),Y=L,g(W);var ne=W.length,se=Y.length;if(se==0)return W;for(var oe=ne-se,fe=0;fe<se;fe++)W.push(W[oe+fe]);for(var _=ne-1;_-se>=0;)W[_]=W[_-se],_--;for(var m=0;m<se;m++)W[m]=Y[m];return W},-1),y(f,"$values_at",function(j){var L,Y,W=this,ne=n;return L=re(arguments),Y=L,ne=[],p(Y,"each",[],function se(oe){var fe=se.$$s==null?this:se.$$s,_=n,m=n,U=n;return oe==null&&(oe=n),x(oe["$is_a?"](t("Range")))?(_=oe.$end()===n?-1:R(oe.$end(),t("Integer"),"to_int"),m=oe.$begin()===n?0:R(oe.$begin(),t("Integer"),"to_int"),m<0?(m=m+fe.length,n):(_<0&&(_=_+fe.length),oe["$exclude_end?"]()&&oe.$end()!==n&&_--,_<m?n:p(m,"upto",[_],function te(ue){var _e=te.$$s==null?this:te.$$s;return ue==null&&(ue=n),ne["$<<"](_e.$at(ue))},{$$s:fe}))):(U=R(oe,t("Integer"),"to_int"),ne["$<<"](fe.$at(U)))},{$$s:W}),ne},-1),y(f,"$zip",function ie(j){var L=ie.$$p||n,Y,W,ne=this,se=n;ie.$$p=null,Y=re(arguments),W=Y;var oe=[],fe=ne.length,_,m,U,te,ue;for(te=0,ue=W.length;te<ue;te++)if(m=W[te],!m.$$is_array){if(m.$$is_range||m.$$is_enumerator){W[te]=m.$take(fe);continue}W[te]=(x(se=K["$coerce_to?"](m,t("Array"),"to_ary"))?se:K["$coerce_to!"](m,t("Enumerator"),"to_enum","each")).$to_a()}for(U=0;U<fe;U++){for(_=[ne[U]],te=0,ue=W.length;te<ue;te++)m=W[te][U],m==null&&(m=n),_[te+1]=m;oe[U]=_}if(L!==n){for(U=0;U<fe;U++)e.yield1(L,oe[U]);return n}return oe},-1),D(f,"$inherited",function(j){j.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),y(f,"$instance_variables",function ie(){var j=ie.$$p||n,L=this;return ie.$$p=null,p(z(L,B(L,"instance_variables",ie,!1,!0),"instance_variables",[],j),"reject",[],function(W){var ne=n;return W==null&&(W=n),x(ne=/^@\d+$/.test(W))?ne:W["$=="]("@length")})}),y(f,"$pack",function(j){return re(arguments),b.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),s(f,"append","push"),s(f,"filter","select"),s(f,"filter!","select!"),s(f,"map","collect"),s(f,"map!","collect!"),s(f,"prepend","unshift"),s(f,"size","length"),s(f,"slice","[]"),s(f,"to_s","inspect"),K.$pristine(f.$singleton_class(),"allocate"),K.$pristine(f,"copy_instance_variables","initialize_dup")}("::",Array,$)};Opal.modules["corelib/hash"]=function(e){var x=e.yield1,E=e.hash_clone,N=e.hash_delete,S=e.hash_each,ee=e.hash_get,Z=e.hash_put,R=e.deny_frozen_access,V=e.freeze,g=e.opal32_init,H=e.opal32_add,$e=e.klass,Q=e.slice,J=e.Opal,re=e.Kernel,D=e.defs,b=e.def,y=e.send,K=e.rb_ge,F=e.rb_gt,z=e.truthy,B=e.to_a,p=e.return_self,k=e.not,P=e.alias,A=e.top,q=[],o=e.nil,d=e.$$$;return e.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),A.$require("corelib/enumerable"),function(T,h,l){var c=$e(T,h,"Hash"),X=[c].concat(l),w=e.$r(X);c.$include(d("Enumerable")),c.$$prototype.$$is_hash=!0,D(c,"$[]",function(n){var t,r,i=this;t=Q(arguments),r=t;var u,f=r.length,v,I;if(f===1){if(u=J["$coerce_to?"](r["$[]"](0),d("Hash"),"to_hash"),u!==o)return i.$allocate()["$merge!"](u);for(r=J["$coerce_to?"](r["$[]"](0),d("Array"),"to_ary"),r===o&&re.$raise(d("ArgumentError"),"odd number of arguments for Hash"),f=r.length,u=i.$allocate(),I=0;I<f;I++)v=r[I],v.$$is_array||re.$raise(d("ArgumentError"),"invalid element "+v.$inspect()+" for Hash"),v.length===1?u.$store(v[0],o):v.length===2?u.$store(v[0],v[1]):re.$raise(d("ArgumentError"),"invalid number of elements ("+v.length+" for "+v.$inspect()+"), must be 1..2");return u}for(f%2!==0&&re.$raise(d("ArgumentError"),"odd number of arguments for Hash"),u=i.$allocate(),I=0;I<f;I+=2)u.$store(r[I],r[I+1]);return u},-1),D(c,"$allocate",function(){var n=this,t=new n.$$constructor;return t.$$none=o,t.$$proc=o,t}),D(c,"$try_convert",function(n){return J["$coerce_to?"](n,d("Hash"),"to_hash")}),b(c,"$initialize",function $(n){var t=$.$$p||o,r=this;return $.$$p=null,R(r),n!==void 0&&t!==o&&re.$raise(d("ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=n===void 0?o:n,r.$$proc=t,r},-1),b(c,"$==",function(n){var t=this;return t===n?!0:!n.$$is_hash||t.size!==n.size?!1:S(t,!0,function(r,i){var u=ee(n,r);return u===void 0||!i["$eql?"](u)?[!0,!1]:[!1,!0]})}),b(c,"$>=",function(n){var t=this,r=o;return n=J["$coerce_to!"](n,d("Hash"),"to_hash"),t.size<n.size?!1:(r=!0,y(n,"each",[],function i(u,f){var v=i.$$s==null?this:i.$$s,I=o;if(u==null&&(u=o),f==null&&(f=o),I=v.$fetch(u,null),I==null||I!==f){r=!1;return}},{$$s:t}),r)}),b(c,"$>",function(n){var t=this;return n=J["$coerce_to!"](n,d("Hash"),"to_hash"),t.size<=n.size?!1:K(t,n)}),b(c,"$<",function(n){var t=this;return n=J["$coerce_to!"](n,d("Hash"),"to_hash"),F(n,t)}),b(c,"$<=",function(n){var t=this;return n=J["$coerce_to!"](n,d("Hash"),"to_hash"),K(n,t)}),b(c,"$[]",function(n){var t=this,r=ee(t,n);return r!==void 0?r:t.$default(n)}),b(c,"$[]=",function(n,t){var r=this;return R(r),Z(r,n,t),t}),b(c,"$assoc",function(n){var t=this;return S(t,o,function(r,i){return r["$=="](n)?[!0,[r,i]]:[!1,o]})}),b(c,"$clear",function(){var n=this;return R(n),n.clear(),n.$$keys&&n.$$keys.clear(),n}),b(c,"$clone",function(){var n=this,t=n.$class().$new();return E(n,t),n["$frozen?"]()?t.$freeze():t}),b(c,"$compact",function(){var n=this,t=new Map;return S(n,t,function(r,i){return i!==o&&Z(t,r,i),[!1,t]})}),b(c,"$compact!",function(){var n=this;R(n);var t=o;return S(n,t,function(r,i){return i===o&&(N(n,r),t=n),[!1,t]})}),b(c,"$compare_by_identity",function(){var n=this;return R(n),n.$$by_identity||(n.$$by_identity=!0,n.size!==0&&e.hash_rehash(n)),n}),b(c,"$compare_by_identity?",function(){var n=this;return n.$$by_identity===!0}),b(c,"$default",function(n){var t=this;return n!==void 0&&t.$$proc!==o&&t.$$proc!==void 0?t.$$proc.$call(t,n):t.$$none===void 0?o:t.$$none},-1),b(c,"$default=",function(n){var t=this;return R(t),t.$$proc=o,t.$$none=n,n}),b(c,"$default_proc",function(){var n=this;return n.$$proc!==void 0?n.$$proc:o}),b(c,"$default_proc=",function(n){var t=this;R(t);var r=n;return r!==o&&(r=J["$coerce_to!"](r,d("Proc"),"to_proc"),r["$lambda?"]()&&r.$arity().$abs()!==2&&re.$raise(d("TypeError"),"default_proc takes two arguments")),t.$$none=o,t.$$proc=r,n}),b(c,"$delete",function $(n){var t=$.$$p||o,r=this;$.$$p=null,R(r);var i=N(r,n);return i!==void 0?i:t!==o?e.yield1(t,n):o}),b(c,"$delete_if",function $(){var n=$.$$p||o,t=this;return $.$$p=null,z(n)?(R(t),S(t,t,function(r,i){var u=n(r,i);return u!==!1&&u!==o&&N(t,r),[!1,t]})):y(t,"enum_for",["delete_if"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(c,"$dig",function(n,t){var r,i,u=this,f=o;return r=Q(arguments,1),i=r,f=u["$[]"](n),f===o||i.length===0?f:(z(f["$respond_to?"]("dig"))||re.$raise(d("TypeError"),""+f.$class()+" does not have #dig method"),y(f,"dig",B(i)))},-2),b(c,"$dup",function(){var n=this;return E(n,n.$class().$new())}),b(c,"$each",function $(){var n=$.$$p||o,t=this;return $.$$p=null,z(n)?S(t,t,function(r,i){return x(n,[r,i]),[!1,t]}):y(t,"enum_for",["each"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(c,"$each_key",function $(){var n=$.$$p||o,t=this;return $.$$p=null,z(n)?S(t,t,function(r,i){return n(r),[!1,t]}):y(t,"enum_for",["each_key"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(c,"$each_value",function $(){var n=$.$$p||o,t=this;return $.$$p=null,z(n)?S(t,t,function(r,i){return n(i),[!1,t]}):y(t,"enum_for",["each_value"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(c,"$empty?",function(){var n=this;return n.size===0}),b(c,"$except",function(n){var t,r,i=this;return t=Q(arguments),r=t,y(i.$dup(),"except!",B(r))},-1),b(c,"$except!",function(n){var t,r,i=this;return t=Q(arguments),r=t,y(r,"each",[],function u(f){var v=u.$$s==null?this:u.$$s;return f==null&&(f=o),v.$delete(f)},{$$s:i}),i},-1),b(c,"$fetch",function $(n,t){var r=$.$$p||o,i=this;$.$$p=null;var u=ee(i,n);return u!==void 0?u:r!==o?r(n):t!==void 0?t:re.$raise(d("KeyError").$new("key not found: "+n.$inspect(),new Map([["key",n],["receiver",i]])))},-2),b(c,"$fetch_values",function $(n){var t=$.$$p||o,r,i,u=this;return $.$$p=null,r=Q(arguments),i=r,y(i,"map",[],function f(v){var I=f.$$s==null?this:f.$$s;return v==null&&(v=o),y(I,"fetch",[v],t.$to_proc())},{$$s:u})},-1),b(c,"$flatten",function(n){var t=this;n==null&&(n=1),n=J["$coerce_to!"](n,d("Integer"),"to_int");var r=[];return S(t,r,function(i,u){return r.push(i),u.$$is_array?n===1?(r.push(u),[!1,r]):(r=r.concat(u.$flatten(n-2)),[!1,r]):(r.push(u),[!1,r])})},-1),b(c,"$freeze",function(){var n=this;return z(n["$frozen?"]())?n:V(n)}),b(c,"$has_key?",function(n){var t=this;return ee(t,n)!==void 0}),b(c,"$has_value?",function(n){var t=this;return S(t,!1,function(r,i){return i["$=="](n)?[!0,!0]:[!1,!1]})});var s;b(c,"$hash",function(){var n=this,t=s===void 0,r=n.$object_id(),i=g(),u,f,v,I=n.size,C=new Int32Array(I);if(i=H(i,4),i=H(i,I),t)s=Object.create(null);else if(s[r])return H(i,16843009);try{for(u in s)if(f=s[u],n["$eql?"](f))return H(i,16843009);for(s[r]=n,v=0,S(n,!1,function(M,G){return C[v]=[1883326802,M,G].$hash(),v++,[!1,!1]}),C=C.sort(),v=0;v<C.length;v++)i=H(i,C[v]);return i}finally{t&&(s=void 0)}}),b(c,"$index",function(n){var t=this;return S(t,o,function(r,i){return i["$=="](n)?[!0,r]:[!1,o]})}),b(c,"$indexes",function(n){var t,r,i=this;t=Q(arguments),r=t;for(var u=[],f=0,v=r.length,I,C;f<v;f++){if(I=r[f],C=ee(i,I),C===void 0){u.push(i.$default());continue}u.push(C)}return u},-1);var a;return b(c,"$inspect",function(){var n=this,t=a===void 0,r=n.$object_id(),i=[];return function(){try{if(t&&(a={}),a.hasOwnProperty(r))return"{...}";return a[r]=!0,S(n,!1,function(u,f){return f=w("Opal").$inspect(f),u=w("Opal").$inspect(u),i.push(u+"=>"+f),[!1,!1]}),"{"+i.join(", ")+"}";return o}finally{t&&(a=void 0)}}()}),b(c,"$invert",function(){var n=this,t=new Map;return S(n,t,function(r,i){return Z(t,i,r),[!1,t]})}),b(c,"$keep_if",function $(){var n=$.$$p||o,t=this;return $.$$p=null,z(n)?(R(t),S(t,t,function(r,i){var u=n(r,i);return(u===!1||u===o)&&N(t,r),[!1,t]})):y(t,"enum_for",["keep_if"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(c,"$keys",function(){var n=this;return Array.from(n.keys())}),b(c,"$length",function(){var n=this;return n.size}),b(c,"$merge",function $(n){var t=$.$$p||o,r,i,u=this;return $.$$p=null,r=Q(arguments),i=r,y(u.$dup(),"merge!",B(i),t.$to_proc())},-1),b(c,"$merge!",function $(n){var t=$.$$p||o,r,i,u=this;$.$$p=null,r=Q(arguments),i=r,R(u);var f,v;for(f=0;f<i.length;++f)v=J["$coerce_to!"](i[f],d("Hash"),"to_hash"),t===o?S(v,!1,function(I,C){return Z(u,I,C),[!1,!1]}):S(v,!1,function(I,C){var M=ee(u,I);return M===void 0?(Z(u,I,C),[!1,!1]):(Z(u,I,t(I,M,C)),[!1,!1])});return u},-1),b(c,"$rassoc",function(n){var t=this;return S(t,o,function(r,i){return i["$=="](n)?[!0,[r,i]]:[!1,o]})}),b(c,"$rehash",function(){var n=this;return R(n),e.hash_rehash(n)}),b(c,"$reject",function $(){var n=$.$$p||o,t=this;if($.$$p=null,!z(n))return y(t,"enum_for",["reject"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:t});var r=new Map;return S(t,r,function(i,u){var f=n(i,u);return(f===!1||f===o)&&Z(r,i,u),[!1,r]})}),b(c,"$reject!",function $(){var n=$.$$p||o,t=this;if($.$$p=null,!z(n))return y(t,"enum_for",["reject!"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:t});R(t);var r=o;return S(t,r,function(i,u){var f=n(i,u);return f!==!1&&f!==o&&(N(t,i),r=t),[!1,r]})}),b(c,"$replace",function(n){var t=this;return R(t),n=J["$coerce_to!"](n,d("Hash"),"to_hash"),t.$clear(),S(n,!1,function(r,i){return Z(t,r,i),[!1,!1]}),z(n.$default_proc())?t["$default_proc="](n.$default_proc()):t["$default="](n.$default()),t}),b(c,"$select",function $(){var n=$.$$p||o,t=this;if($.$$p=null,!z(n))return y(t,"enum_for",["select"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:t});var r=new Map;return S(t,r,function(i,u){var f=n(i,u);return f!==!1&&f!==o&&Z(r,i,u),[!1,r]})}),b(c,"$select!",function $(){var n=$.$$p||o,t=this;if($.$$p=null,!z(n))return y(t,"enum_for",["select!"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:t});R(t);var r=o;return S(t,r,function(i,u){var f=n(i,u);return(f===!1||f===o)&&(N(t,i),r=t),[!1,r]})}),b(c,"$shift",function(){var n=this;return R(n),S(n,o,function(t,r){return[!0,[t,N(n,t)]]})}),b(c,"$slice",function(n){var t,r,i=this;t=Q(arguments),r=t;for(var u=new Map,f=0,v=r.length;f<v;f++){var I=r[f],C=ee(i,I);C!==void 0&&Z(u,I,C)}return u},-1),b(c,"$to_a",function(){var n=this,t=[];return S(n,t,function(r,i){return t.push([r,i]),[!1,t]})}),b(c,"$to_h",function $(){var n=$.$$p||o,t=this;if($.$$p=null,n!==o)return y(t,"map",[],n.$to_proc()).$to_h();if(t.$$class===e.Hash)return t;var r=new Map;return E(t,r),r}),b(c,"$to_hash",p),b(c,"$to_proc",function(){var n=this;return y(n,"proc",[],function t(r){var i=t.$$s==null?this:t.$$s;return r==null&&re.$raise(d("ArgumentError"),"no key given"),i["$[]"](r)},{$$arity:-1,$$s:n})}),b(c,"$transform_keys",function $(n){var t=$.$$p||o,r=this;if($.$$p=null,n==null&&(n=o),k(t)&&k(n))return y(r,"enum_for",["transform_keys"],function u(){var f=u.$$s==null?this:u.$$s;return f.$size()},{$$s:r});var i=new Map;return S(r,i,function(u,f){var v;return n!==o&&(v=ee(n,u)),v===void 0&&t&&t!==o&&(v=t(u)),v===void 0&&(v=u),Z(i,v,f),[!1,i]})},-1),b(c,"$transform_keys!",function $(n){var t=$.$$p||o,r=this;if($.$$p=null,n==null&&(n=o),k(t)&&k(n))return y(r,"enum_for",["transform_keys!"],function u(){var f=u.$$s==null?this:u.$$s;return f.$size()},{$$s:r});R(r);var i=new Map;return S(r,r,function(u,f){var v;return n!==o&&(v=ee(n,u)),v===void 0&&t&&t!==o&&(v=t(u)),v===void 0?[!1,r]:(ee(i,u)||N(r,u),Z(r,v,f),Z(i,v,!0),[!1,r])})},-1),b(c,"$transform_values",function $(){var n=$.$$p||o,t=this;if($.$$p=null,!z(n))return y(t,"enum_for",["transform_values"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:t});var r=new Map;return S(t,r,function(i,u){return Z(r,i,n(u)),[!1,r]})}),b(c,"$transform_values!",function $(){var n=$.$$p||o,t=this;return $.$$p=null,z(n)?(R(t),S(t,t,function(r,i){return Z(t,r,n(i)),[!1,t]})):y(t,"enum_for",["transform_values!"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(c,"$values",function(){var n=this;return Array.from(n.values())}),P(c,"each_pair","each"),P(c,"eql?","=="),P(c,"filter","select"),P(c,"filter!","select!"),P(c,"include?","has_key?"),P(c,"indices","indexes"),P(c,"key","index"),P(c,"key?","has_key?"),P(c,"member?","has_key?"),P(c,"size","length"),P(c,"store","[]="),P(c,"to_s","inspect"),P(c,"update","merge!"),P(c,"value?","has_value?"),P(c,"values_at","indexes")}("::",Map,q)};Opal.modules["corelib/number"]=function(e){var x=e.klass,E=e.Opal,N=e.Kernel,S=e.def,ee=e.eqeqeq,Z=e.truthy,R=e.rb_gt,V=e.not,g=e.rb_lt,H=e.alias,$e=e.send2,Q=e.find_super,J=e.send,re=e.rb_plus,D=e.rb_minus,b=e.eqeq,y=e.return_self,K=e.rb_divide,F=e.to_ary,z=e.rb_times,B=e.rb_le,p=e.rb_ge,k=e.return_val,P=e.const_set,A=e.top,q=[],o=e.nil,d=e.$$$;return e.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),A.$require("corelib/numeric"),function(T,h,l){var c=x(T,h,"Number");E.$bridge(Number,c),e.prop(c.$$prototype,"$$is_number",!0),c.$$is_number_class=!0;var X=new Map;(function(t,r){return S(t,"$allocate",function(){var u=this;return N.$raise(d("TypeError"),"allocator undefined for "+u.$name())}),e.udef(t,"$new"),o})(e.get_singleton_class(c)),S(c,"$coerce",function(r){var i=this;if(r===o)N.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float");else{if(r.$$is_string)return[N.$Float(r),i];if(r["$respond_to?"]("to_f"))return[E["$coerce_to!"](r,d("Float"),"to_f"),i];if(r.$$is_number)return[r,i];N.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float")}}),S(c,"$__id__",function(){var r=this;if(r|r===0)return r*2+1;if(X.has(r))return X.get(r);var i=e.uid();return X.set(r,i),i}),S(c,"$hash",function(){var r=this;return r|r===0?r.$__id__():r.toString().$hash()}),S(c,"$+",function(r){var i=this;return r.$$is_number?i+r:i.$__coerced__("+",r)}),S(c,"$-",function(r){var i=this;return r.$$is_number?i-r:i.$__coerced__("-",r)}),S(c,"$*",function(r){var i=this;return r.$$is_number?i*r:i.$__coerced__("*",r)}),S(c,"$/",function(r){var i=this;return r.$$is_number?i/r:i.$__coerced__("/",r)}),S(c,"$%",function(r){var i=this;if(r.$$is_number){if(r==-1/0)return r;if(r==0)N.$raise(d("ZeroDivisionError"),"divided by 0");else return r<0||i<0?(i%r+r)%r:i%r}else return i.$__coerced__("%",r)}),S(c,"$&",function(r){var i=this;return r.$$is_number?i&r:i.$__coerced__("&",r)}),S(c,"$|",function(r){var i=this;return r.$$is_number?i|r:i.$__coerced__("|",r)}),S(c,"$^",function(r){var i=this;return r.$$is_number?i^r:i.$__coerced__("^",r)}),S(c,"$<",function(r){var i=this;return r.$$is_number?i<r:i.$__coerced__("<",r)}),S(c,"$<=",function(r){var i=this;return r.$$is_number?i<=r:i.$__coerced__("<=",r)}),S(c,"$>",function(r){var i=this;return r.$$is_number?i>r:i.$__coerced__(">",r)}),S(c,"$>=",function(r){var i=this;return r.$$is_number?i>=r:i.$__coerced__(">=",r)});var w=function(t,r){return r.$$is_number?isNaN(t)||isNaN(r)?o:t>r?1:t<r?-1:0:t.$__coerced__("<=>",r)};S(c,"$<=>",function(r){var i=this;try{return w(i,r)}catch(u){if(e.rescue(u,[d("ArgumentError")]))try{return o}finally{e.pop_exception(u)}else throw u}}),S(c,"$<<",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),r>0?i<<r:i>>-r}),S(c,"$>>",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),r>0?i>>r:i<<-r}),S(c,"$[]",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),r<0?0:r>=32?i<0?1:0:i>>r&1}),S(c,"$+@",function(){var r=this;return+r}),S(c,"$-@",function(){var r=this;return-r}),S(c,"$~",function(){var r=this;return~r}),S(c,"$**",function(r){var i=this;return ee(d("Integer"),r)?V(d("Integer")["$==="](i))||Z(R(r,0))?Math.pow(i,r):d("Rational").$new(i,1)["$**"](r):Z(g(i,0))&&(ee(d("Float"),r)||ee(d("Rational"),r))?d("Complex").$new(i,0)["$**"](r.$to_f()):Z(r.$$is_number!=null)?Math.pow(i,r):i.$__coerced__("**",r)}),S(c,"$==",function(r){var i=this;return r.$$is_number?i.valueOf()===r.valueOf():r["$respond_to?"]("==")?r["$=="](i):!1}),H(c,"===","=="),S(c,"$abs",function(){var r=this;return Math.abs(r)}),S(c,"$abs2",function(){var r=this;return Math.abs(r*r)}),S(c,"$allbits?",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)==r}),S(c,"$anybits?",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)!==0}),S(c,"$angle",function(){var r=this;return Z(r["$nan?"]())?r:r==0?1/r>0?0:Math.PI:r<0?Math.PI:0}),S(c,"$bit_length",function(){var r=this;if(ee(d("Integer"),r)||N.$raise(d("NoMethodError").$new("undefined method `bit_length` for "+r+":Float","bit_length")),r===0||r===-1)return 0;for(var i=0,u=r<0?~r:r;u!=0;)i+=1,u>>>=1;return i}),S(c,"$ceil",function(r){var i=this;r==null&&(r=0);var u=i.$to_f();if(u%1===0&&r>=0)return u;var f=Math.pow(10,r),v=Math.ceil(u*f)/f;return u%1===0&&(v=Math.round(v)),v},-1),S(c,"$chr",function(r){var i=this;return e.enc(String.fromCharCode(i),r||"BINARY")},-1),S(c,"$denominator",function t(){var r=t.$$p||o,i=this;return t.$$p=null,Z(i["$nan?"]())||Z(i["$infinite?"]())?1:$e(i,Q(i,"denominator",t,!1,!0),"denominator",[],r)}),S(c,"$downto",function t(r){var i=t.$$p||o,u=this;if(t.$$p=null,i===o)return J(u,"enum_for",["downto",r],function v(){var I=v.$$s==null?this:v.$$s;return ee(d("Numeric"),r)||N.$raise(d("ArgumentError"),"comparison of "+I.$class()+" with "+r.$class()+" failed"),Z(R(r,I))?0:re(D(I,r),1)},{$$s:u});r.$$is_number||N.$raise(d("ArgumentError"),"comparison of "+u.$class()+" with "+r.$class()+" failed");for(var f=u;f>=r;f--)i(f);return u}),S(c,"$equal?",function(r){var i=this,u=o;return Z(u=i["$=="](r))?u:isNaN(i)&&isNaN(r)}),S(c,"$even?",function(){var r=this;return r%2===0}),S(c,"$floor",function(r){var i=this;r==null&&(r=0);var u=i.$to_f();if(u%1===0&&r>=0)return u;var f=Math.pow(10,r),v=Math.floor(u*f)/f;return u%1===0&&(v=Math.round(v)),v},-1),S(c,"$gcd",function(r){var i=this;ee(d("Integer"),r)||N.$raise(d("TypeError"),"not an integer");for(var u=Math.abs(i),f=Math.abs(r);u>0;){var v=u;u=f%u,f=v}return f}),S(c,"$gcdlcm",function(r){var i=this;return[i.$gcd(r),i.$lcm(r)]}),S(c,"$integer?",function(){var r=this;return r%1===0}),S(c,"$is_a?",function t(r){var i=t.$$p||o,u=this;return t.$$p=null,b(r,d("Integer"))&&ee(d("Integer"),u)||b(r,d("Integer"))&&ee(d("Integer"),u)||b(r,d("Float"))&&ee(d("Float"),u)?!0:$e(u,Q(u,"is_a?",t,!1,!0),"is_a?",[r],i)}),S(c,"$instance_of?",function t(r){var i=t.$$p||o,u=this;return t.$$p=null,b(r,d("Integer"))&&ee(d("Integer"),u)||b(r,d("Integer"))&&ee(d("Integer"),u)||b(r,d("Float"))&&ee(d("Float"),u)?!0:$e(u,Q(u,"instance_of?",t,!1,!0),"instance_of?",[r],i)}),S(c,"$lcm",function(r){var i=this;return ee(d("Integer"),r)||N.$raise(d("TypeError"),"not an integer"),i==0||r==0?0:Math.abs(i*r/i.$gcd(r))}),S(c,"$next",function(){var r=this;return r+1}),S(c,"$nobits?",function(r){var i=this;return r=E["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)==0}),S(c,"$nonzero?",function(){var r=this;return r==0?o:r}),S(c,"$numerator",function t(){var r=t.$$p||o,i=this;return t.$$p=null,Z(i["$nan?"]())||Z(i["$infinite?"]())?i:$e(i,Q(i,"numerator",t,!1,!0),"numerator",[],r)}),S(c,"$odd?",function(){var r=this;return r%2!==0}),S(c,"$ord",y),S(c,"$pow",function(r,i){var u=this;return u==0&&N.$raise(d("ZeroDivisionError"),"divided by 0"),i===void 0?u["$**"](r):(d("Integer")["$==="](r)||N.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),r<0&&N.$raise(d("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),d("Integer")["$==="](i)||N.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),i===0&&N.$raise(d("ZeroDivisionError"),"divided by 0"),u["$**"](r)["$%"](i))},-2),S(c,"$pred",function(){var r=this;return r-1}),S(c,"$quo",function t(r){var i=t.$$p||o,u=this;return t.$$p=null,ee(d("Integer"),u)?$e(u,Q(u,"quo",t,!1,!0),"quo",[r],i):K(u,r)}),S(c,"$rationalize",function(r){var i,u,f=this,v=o,I=o;return arguments.length>1&&N.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(d("Integer"),f)?d("Rational").$new(f,1):Z(f["$infinite?"]())?N.$raise(d("FloatDomainError"),"Infinity"):Z(f["$nan?"]())?N.$raise(d("FloatDomainError"),"NaN"):Z(r==null)?(u=d("Math").$frexp(f),i=F(u),v=i[0]==null?o:i[0],I=i[1]==null?o:i[1],v=d("Math").$ldexp(v,d(d("Float"),"MANT_DIG")).$to_i(),I=D(I,d(d("Float"),"MANT_DIG")),d("Rational").$new(z(2,v),1["$<<"](D(1,I))).$rationalize(d("Rational").$new(1,1["$<<"](D(1,I))))):f.$to_r().$rationalize(r)},-1),S(c,"$remainder",function(r){var i=this;return D(i,z(r,K(i,r).$truncate()))}),S(c,"$round",function(r){var i,u,f=this,v=o;if(ee(d("Integer"),f)){if(Z(r==null)||(ee(d("Float"),r)&&Z(r["$infinite?"]())&&N.$raise(d("RangeError"),"Infinity"),r=E["$coerce_to!"](r,d("Integer"),"to_int"),Z(g(r,d(d("Integer"),"MIN")))&&N.$raise(d("RangeError"),"out of bounds"),Z(r>=0)))return f;if(r=r["$-@"](),.415241*r-.125>f.$size())return 0;var I=Math.pow(10,r),C=Math.floor((Math.abs(f)+I/2)/I)*I;return f<0?-C:C}else{if(Z(f["$nan?"]())&&Z(r==null)&&N.$raise(d("FloatDomainError"),"NaN"),r=E["$coerce_to!"](r||0,d("Integer"),"to_int"),Z(B(r,0)))Z(f["$nan?"]())?N.$raise(d("RangeError"),"NaN"):Z(f["$infinite?"]())&&N.$raise(d("FloatDomainError"),"Infinity");else{if(b(r,0))return Math.round(f);if(Z(f["$nan?"]())||Z(f["$infinite?"]()))return f}return u=d("Math").$frexp(f),i=F(u),i[0]==null||i[0],v=i[1]==null?o:i[1],Z(p(r,D(re(d(d("Float"),"DIG"),2),Z(R(v,0))?K(v,4):D(K(v,3),1))))?f:Z(g(r,(Z(R(v,0))?re(K(v,3),1):K(v,4))["$-@"]()))?0:Math.round(f*Math.pow(10,r))/Math.pow(10,r)}},-1),S(c,"$times",function t(){var r=t.$$p||o,i=this;if(t.$$p=null,!Z(r))return J(i,"enum_for",["times"],function f(){var v=f.$$s==null?this:f.$$s;return v},{$$s:i});for(var u=0;u<i;u++)r(u);return i}),S(c,"$to_f",y),S(c,"$to_i",function(){var r=this;return r<0?Math.ceil(r):Math.floor(r)}),S(c,"$to_r",function(){var r,i,u=this,f=o,v=o;return ee(d("Integer"),u)?d("Rational").$new(u,1):(i=d("Math").$frexp(u),r=F(i),f=r[0]==null?o:r[0],v=r[1]==null?o:r[1],f=d("Math").$ldexp(f,d(d("Float"),"MANT_DIG")).$to_i(),v=D(v,d(d("Float"),"MANT_DIG")),z(f,d(d("Float"),"RADIX")["$**"](v)).$to_r())}),S(c,"$to_s",function(r){var i=this;return r==null&&(r=10),r=E["$coerce_to!"](r,d("Integer"),"to_int"),(Z(g(r,2))||Z(R(r,36)))&&N.$raise(d("ArgumentError"),"invalid radix "+r),b(i,0)&&Z(1/i===-1/0)?"-0.0":i.toString(r)},-1),S(c,"$truncate",function(r){var i=this;r==null&&(r=0);var u=i.$to_f();if(u%1===0&&r>=0)return u;var f=Math.pow(10,r),v=parseInt(u*f,10)/f;return u%1===0&&(v=Math.round(v)),v},-1),S(c,"$digits",function(r){var i=this;r==null&&(r=10),Z(g(i,0))&&N.$raise(d(d("Math"),"DomainError"),"out of domain"),r=E["$coerce_to!"](r,d("Integer"),"to_int"),Z(g(r,2))&&N.$raise(d("ArgumentError"),"invalid radix "+r),i!=parseInt(i)&&N.$raise(d("NoMethodError"),"undefined method `digits' for "+i.$inspect());var u=i,f=[];if(i==0)return[0];for(;u!=0;)f.push(u%r),u=parseInt(u/r,10);return f},-1),S(c,"$divmod",function t(r){var i=t.$$p||o,u=this;return t.$$p=null,Z(u["$nan?"]())||Z(r["$nan?"]())?N.$raise(d("FloatDomainError"),"NaN"):Z(u["$infinite?"]())?N.$raise(d("FloatDomainError"),"Infinity"):$e(u,Q(u,"divmod",t,!1,!0),"divmod",[r],i)}),S(c,"$upto",function t(r){var i=t.$$p||o,u=this;if(t.$$p=null,i===o)return J(u,"enum_for",["upto",r],function v(){var I=v.$$s==null?this:v.$$s;return ee(d("Numeric"),r)||N.$raise(d("ArgumentError"),"comparison of "+I.$class()+" with "+r.$class()+" failed"),Z(g(r,I))?0:re(D(r,I),1)},{$$s:u});r.$$is_number||N.$raise(d("ArgumentError"),"comparison of "+u.$class()+" with "+r.$class()+" failed");for(var f=u;f<=r;f++)i(f);return u}),S(c,"$zero?",function(){var r=this;return r==0}),S(c,"$size",k(4)),S(c,"$nan?",function(){var r=this;return isNaN(r)}),S(c,"$finite?",function(){var r=this;return r!=1/0&&r!=-1/0&&!isNaN(r)}),S(c,"$infinite?",function(){var r=this;return r==1/0?1:r==-1/0?-1:o}),S(c,"$positive?",function(){var r=this;return r!=0&&(r==1/0||1/r>0)}),S(c,"$negative?",function(){var r=this;return r==-1/0||1/r<0});function s(t){var r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,t,!0),r}function a(t){return new DataView(t.buffer).getFloat64(0,!0)}function $(t){for(var r=s(t),i=0;i<r.length;i++)if(r[i]===255)r[i]=0;else{r[i]++;break}return a(r)}function n(t){for(var r=s(t),i=0;i<r.length;i++)if(r[i]===0)r[i]=255;else{r[i]--;break}return a(r)}return S(c,"$next_float",function(){var r=this;return b(r,d(d("Float"),"INFINITY"))?d(d("Float"),"INFINITY"):Z(r["$nan?"]())?d(d("Float"),"NAN"):Z(p(r,0))?$(Math.abs(r)):n(r)}),S(c,"$prev_float",function(){var r=this;return b(r,d(d("Float"),"INFINITY")["$-@"]())?d(d("Float"),"INFINITY")["$-@"]():Z(r["$nan?"]())?d(d("Float"),"NAN"):Z(R(r,0))?n(r):-$(Math.abs(r))}),H(c,"arg","angle"),H(c,"eql?","=="),H(c,"fdiv","/"),H(c,"inspect","to_s"),H(c,"kind_of?","is_a?"),H(c,"magnitude","abs"),H(c,"modulo","%"),H(c,"object_id","__id__"),H(c,"phase","angle"),H(c,"succ","next"),H(c,"to_int","to_i")}("::",d("Numeric")),P("::","Fixnum",d("Number")),function(T,h,l){var c=x(T,h,"Integer"),X=[c].concat(l);return c.$$is_number_class=!0,c.$$is_integer_class=!0,function(w,s){var a=[w].concat(s),$=e.$r(a);return S(w,"$allocate",function(){var t=this;return N.$raise(d("TypeError"),"allocator undefined for "+t.$name())}),e.udef(w,"$new"),S(w,"$sqrt",function(t){return t=E["$coerce_to!"](t,d("Integer"),"to_int"),t<0&&N.$raise(d(d("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)}),S(w,"$try_convert",function(t){var r=this;return $("Opal")["$coerce_to?"](t,r,"to_int")})}(e.get_singleton_class(c),X),P(c,"MAX",Math.pow(2,30)-1),P(c,"MIN",-Math.pow(2,30))}("::",d("Numeric"),q),function(T,h,l){var c=x(T,h,"Float");return c.$$is_number_class=!0,function(X,w){return S(X,"$allocate",function(){var a=this;return N.$raise(d("TypeError"),"allocator undefined for "+a.$name())}),e.udef(X,"$new"),S(X,"$===",function(a){return!!a.$$is_number})}(e.get_singleton_class(c)),P(c,"INFINITY",1/0),P(c,"MAX",Number.MAX_VALUE),P(c,"MIN",Number.MIN_VALUE),P(c,"NAN",NaN),P(c,"DIG",15),P(c,"MANT_DIG",53),P(c,"RADIX",2),P(c,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",d("Numeric"))};Opal.modules["corelib/range"]=function(e){var x=e.klass,E=e.truthy,N=e.Kernel,S=e.def,ee=e.not,Z=e.send2,R=e.find_super,V=e.lambda,g=e.send,H=e.rb_ge,$e=e.rb_gt,Q=e.eqeq,J=e.rb_le,re=e.rb_lt,D=e.eqeqeq,b=e.return_ivar,y=e.rb_minus,K=e.Opal,F=e.rb_divide,z=e.rb_plus,B=e.rb_times,p=e.thrower,k=e.alias,P=e.top,A=[],q=e.nil,o=e.$$$;return e.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),P.$require("corelib/enumerable"),function(d,T,h){var l=x(d,T,"Range"),c=[l].concat(h),X=e.$r(c),w=l.$$prototype;w.begin=w.end=w.excl=q,l.$include(o("Enumerable")),l.$$prototype.$$is_range=!0,l.$attr_reader("begin","end"),S(l,"$initialize",function($,n,t){var r=this;return t==null&&(t=!1),E(r.begin)&&N.$raise(o("NameError"),"'initialize' called twice"),E($["$<=>"](n))||E($["$nil?"]())||E(n["$nil?"]())||N.$raise(o("ArgumentError"),"bad value for range"),r.begin=$,r.end=n,r.excl=t},-3),S(l,"$===",function($){var n=this;return E($.$$is_range)?!1:n["$cover?"]($)});function s(a){return a.begin===q||a.end===q||a.begin===-1/0||a.end===1/0||a.begin===1/0||a.end===-1/0}return S(l,"$count",function a(){var $=a.$$p||q,n=this;return a.$$p=null,ee($!==q)&&E(s(n))?o(o("Float"),"INFINITY"):Z(n,R(n,"count",a,!1,!0),"count",[],$)}),S(l,"$to_a",function a(){var $=a.$$p||q,n=this;return a.$$p=null,E(s(n))&&N.$raise(o("TypeError"),"cannot convert endless range to an array"),Z(n,R(n,"to_a",a,!1,!0),"to_a",[],$)}),S(l,"$cover?",function($){var n=this,t=q,r=q,i=q,u=q,f=q,v=q,I=q,C=q;return t=V(function(G,O){var ae=q;return G==null&&(G=q),O==null&&(O=q),E(ae=G["$<=>"](O))?ae:1}),E($.$$is_range)?(r=$.$begin(),i=$.$end(),u=$["$exclude_end?"](),E(n.begin)&&E(r["$nil?"]())||E(n.end)&&E(i["$nil?"]())||E(r)&&E(i)&&E(g(t.$call(r,i),"then",[],function(G){return G==null&&(G=q),E(u)?H(G,0):$e(G,0)}))||E(r)&&ee(n["$cover?"](r))?!1:(f=t.$call(n.end,i),Q(n.excl,u)?H(f,0):E(n.excl)?$e(f,0):E(H(f,0))?!0:(v=$.$max(),E(I=v["$nil?"]()["$!"]())?J(t.$call(v,n.end),0):I))):E(n.begin)&&E($e(t.$call(n.begin,$),0))?!1:E(n.end["$nil?"]())?!0:(C=t.$call($,n.end),E(n.excl)?re(C,0):J(C,0))}),S(l,"$each",function a(){var $=a.$$p||q,n=this,t=q,r=q,i=q;if(a.$$p=null,$===q)return g(n,"enum_for",["each"],function v(){var I=v.$$s==null?this:v.$$s;return I.$size()},{$$s:n});var u,f;if(n.begin.$$is_number&&n.end.$$is_number){for((n.begin%1!==0||n.end%1!==0)&&N.$raise(o("TypeError"),"can't iterate from Float"),u=n.begin,f=n.end+(E(n.excl)?0:1);u<f;u++)$(u);return n}if(n.begin.$$is_string&&n.end.$$is_string)return g(n.begin,"upto",[n.end,n.excl],$.$to_proc()),n;for(t=n.begin,r=n.end,E(t["$respond_to?"]("succ"))||N.$raise(o("TypeError"),"can't iterate from "+t.$class());E(E(i=n.end["$nil?"]())?i:re(t["$<=>"](r),0));)e.yield1($,t),t=t.$succ();return ee(n.excl)&&Q(t,r)&&e.yield1($,t),n}),S(l,"$eql?",function($){var n=this,t=q,r=q;return D(o("Range"),$)?E(t=E(r=n.excl["$==="]($["$exclude_end?"]()))?n.begin["$eql?"]($.$begin()):r)?n.end["$eql?"]($.$end()):t:!1}),S(l,"$exclude_end?",b("excl")),S(l,"$first",function a($){var n=a.$$p||q,t=this;return a.$$p=null,E(t.begin["$nil?"]())&&N.$raise(o("RangeError"),"cannot get the minimum of beginless range"),E($==null)?t.begin:Z(t,R(t,"first",a,!1,!0),"first",[$],n)},-1),S(l,"$include?",function a($){var n=a.$$p||q,t=this,r=q,i=q;if(a.$$p=null,E(t.begin.$$is_number||t.end.$$is_number)||E(t.begin["$is_a?"](o("Time")))||E(t.end["$is_a?"](o("Time")))||E(o("Integer").$try_convert(t.begin))||E(o("Integer").$try_convert(t.end)))return t["$cover?"]($);if(E(t.begin.$$is_string||t.end.$$is_string)){if(E(t.begin.$$is_string&&t.end.$$is_string))return g(t.begin.$upto(t.end,t.excl),"any?",[],function(f){return f==null&&(f=q),f["$=="]($)});if(E(t.begin["$nil?"]()))return r=$["$<=>"](t.end),E(i=r["$nil?"]()["$!"]())?E(t.excl)?re(r,0):J(r,0):i;if(E(t.end["$nil?"]()))return r=t.begin["$<=>"]($),E(i=r["$nil?"]()["$!"]())?J(r,0):i}return Z(t,R(t,"include?",a,!1,!0),"include?",[$],n)}),S(l,"$last",function($){var n=this;return E(n.end["$nil?"]())&&N.$raise(o("RangeError"),"cannot get the maximum of endless range"),E($==null)?n.end:n.$to_a().$last($)},-1),S(l,"$max",function a(){var $=a.$$p||q,n=this;return a.$$p=null,E(n.end["$nil?"]())?N.$raise(o("RangeError"),"cannot get the maximum of endless range"):$!==q?Z(n,R(n,"max",a,!1,!0),"max",[],$):ee(n.begin["$nil?"]())&&(E($e(n.begin,n.end))||E(n.excl)&&Q(n.begin,n.end))?q:n.excl?n.end-1:n.end}),S(l,"$min",function a(){var $=a.$$p||q,n=this;return a.$$p=null,E(n.begin["$nil?"]())?N.$raise(o("RangeError"),"cannot get the minimum of beginless range"):$!==q?Z(n,R(n,"min",a,!1,!0),"min",[],$):ee(n.end["$nil?"]())&&(E($e(n.begin,n.end))||E(n.excl)&&Q(n.begin,n.end))?q:n.begin}),S(l,"$size",function(){var $=this.begin,n=this.end;if(o("Numeric")["$==="]($)){if(o("Numeric")["$==="](n)){var t=y(n,$);return t<0?0:(this.excl||(t+=1),o("Float")["$==="]($)||o("Float")["$==="](n)?Math.floor(t):t)}else if(n===q)return 1/0}else if($===q&&o("Numeric")["$==="](n))return 1/0;return q}),S(l,"$step",function a($){var n=a.$$p||q,t=this,r=q,i=q;a.$$p=null;function u(){$==null?$=1:$.$$is_number||($=K["$coerce_to!"]($,o("Integer"),"to_int")),$<0?N.$raise(o("ArgumentError"),"step can't be negative"):$===0&&N.$raise(o("ArgumentError"),"step can't be 0")}function f(){if(!t.begin["$respond_to?"]("succ")||t.begin.$$is_string&&t.end.$$is_string)return q;if($%1===0)return F(t.$size(),$).$ceil();var v=t.begin,I=t.end,C=Math.abs,M=Math.floor,G=(C(v)+C(I)+C(I-v))/C($)*o(o("Float"),"EPSILON"),O;return G>.5&&(G=.5),t.excl?(O=M((I-v)/$-G),O*$+v<I&&O++):O=M((I-v)/$+G)+1,O}return n===q?(E(t.begin["$is_a?"](X("Numeric")))||E(t.begin["$nil?"]()))&&(E(t.end["$is_a?"](X("Numeric")))||E(t.end["$nil?"]()))&&ee(E(r=t.begin["$nil?"]())?t.end["$nil?"]():r)?o(o("Enumerator"),"ArithmeticSequence").$new(t,$,"step"):g(t,"enum_for",["step",$],function(){return u(),f()}):(u(),E(t.begin.$$is_number&&t.end.$$is_number)?(i=0,function(){try{var v=p("break");return g(t,"loop",[],function I(){var C=I.$$s==null?this:I.$$s,M=q;return C.begin==null&&(C.begin=q),C.excl==null&&(C.excl=q),C.end==null&&(C.end=q),M=z(C.begin,B(i,$)),E(C.excl)?E(H(M,C.end))&&v.$throw(q,I.$$is_lambda):E($e(M,C.end))&&v.$throw(q,I.$$is_lambda),e.yield1(n,M),i=z(i,1)},{$$s:t})}catch(I){if(I===v)return I.$v;throw I}finally{v.is_orphan=!0}}()):(t.begin.$$is_string&&t.end.$$is_string&&$%1!==0&&N.$raise(o("TypeError"),"no implicit conversion to float from string"),g(t,"each_with_index",[],function(I,C){return I==null&&(I=q),C==null&&(C=q),Q(C["$%"]($),0)?e.yield1(n,I):q})),t)},-1),S(l,"$%",function($){var n=this;return E(n.begin["$is_a?"](X("Numeric")))&&E(n.end["$is_a?"](X("Numeric")))?o(o("Enumerator"),"ArithmeticSequence").$new(n,$,"%"):n.$step($)}),S(l,"$bsearch",function a(){var $=a.$$p||q,n=this;return a.$$p=null,$===q?n.$enum_for("bsearch"):(E(s(n)&&(n.begin.$$is_number||n.end.$$is_number))&&N.$raise(o("NotImplementedError"),"Can't #bsearch an infinite range"),E(n.begin.$$is_number&&n.end.$$is_number)||N.$raise(o("TypeError"),"can't do binary search for "+n.begin.$class()),g(n.$to_a(),"bsearch",[],$.$to_proc()))}),S(l,"$to_s",function(){var $=this,n=q;return""+(E(n=$.begin)?n:"")+(E($.excl)?"...":"..")+(E(n=$.end)?n:"")}),S(l,"$inspect",function(){var $=this,n=q;return""+(E(n=$.begin)?$.begin.$inspect():n)+(E($.excl)?"...":"..")+(E(n=$.end)?$.end.$inspect():n)}),S(l,"$marshal_load",function($){var n=this;return n.begin=$["$[]"]("begin"),n.end=$["$[]"]("end"),n.excl=$["$[]"]("excl")}),S(l,"$hash",function(){var $=this;return[o("Range"),$.begin,$.end,$.excl].$hash()}),k(l,"==","eql?"),k(l,"member?","include?")}("::",null,A)};Opal.modules["corelib/proc"]=function(e){var x=e.slice,E=e.each_ivar,N=e.klass,S=e.truthy,ee=e.Kernel,Z=e.defs,R=e.def,V=e.send,g=e.to_a,H=e.return_self,$e=e.ensure_kwargs,Q=e.hash_get,J=e.Opal,re=e.alias,D=e.nil,b=e.$$$;return e.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(y,K){var F=N(y,K,"Proc");e.prop(F.$$prototype,"$$is_proc",!0),e.prop(F.$$prototype,"$$is_lambda",!1),Z(F,"$new",function p(){var k=p.$$p||D;return p.$$p=null,S(k)||ee.$raise(b("ArgumentError"),"tried to create a Proc object without a block"),k});function z(p,k){if(p.$$ret)try{return p.apply(null,k)}catch(P){if(P===p.$$ret)return P.$v;throw P}else return p.apply(null,k)}function B(p,k){if(p.$$brk)try{return e.yieldX(p,k)}catch(P){if(P===p.$$brk)return P.$v;throw P}else return e.yieldX(p,k)}return R(F,"$call",function p(k){var P=p.$$p||D,A,q,o=this;return p.$$p=null,A=x(arguments),q=A,P!==D&&(o.$$p=P),o.$$is_lambda?z(o,q):B(o,q)},-1),R(F,"$>>",function p(k){p.$$p;var P=this;return p.$$p=null,V(ee,"proc",[],function A(q){var o=A.$$p||D,d,T,h=A.$$s==null?this:A.$$s,l=D;return A.$$p=null,d=x(arguments),T=d,l=V(h,"call",g(T),o.$to_proc()),k.$call(l)},{$$arity:-1,$$s:P})}),R(F,"$<<",function p(k){p.$$p;var P=this;return p.$$p=null,V(ee,"proc",[],function A(q){var o=A.$$p||D,d,T,h=A.$$s==null?this:A.$$s,l=D;return A.$$p=null,d=x(arguments),T=d,l=V(k,"call",g(T),o.$to_proc()),h.$call(l)},{$$arity:-1,$$s:P})}),R(F,"$to_proc",H),R(F,"$lambda?",function(){var k=this;return!!k.$$is_lambda}),R(F,"$arity",function(){var k=this;return k.$$is_curried?-1:k.$$arity!=null?k.$$arity:k.length}),R(F,"$source_location",function(){var k=this,P=D;return k.$$is_curried?D:S(P=k.$$source_location)?P:D}),R(F,"$binding",function(){var k=this;return k.$$is_curried&&ee.$raise(b("ArgumentError"),"Can't create Binding"),S(b("::","Binding","skip_raise")?"constant":D)?b("Binding").$new(D,[],k.$$s,k.$source_location()):D}),R(F,"$parameters",function(k){var P,A=this;if(k=$e(k),P=Q(k,"lambda"),A.$$is_curried)return[["rest"]];if(A.$$parameters){if(P??A.$$is_lambda)return A.$$parameters;var q=[],o,d;for(o=0,d=A.$$parameters.length;o<d;o++){var T=A.$$parameters[o];T[0]==="req"&&(T=["opt",T[1]]),q.push(T)}return q}else return[]},-1),R(F,"$curry",function(k){var P=this;k===void 0?k=P.length:(k=J["$coerce_to!"](k,b("Integer"),"to_int"),P.$$is_lambda&&k!==P.length&&ee.$raise(b("ArgumentError"),"wrong number of arguments ("+k+" for "+P.length+")"));function A(){var q=x(arguments),o=q.length,d;return o>k&&P.$$is_lambda&&!P.$$is_curried&&ee.$raise(b("ArgumentError"),"wrong number of arguments ("+o+" for "+k+")"),o>=k?P.$call.apply(P,q):(d=function(){return A.apply(null,q.concat(x(arguments)))},d.$$is_lambda=P.$$is_lambda,d.$$is_curried=!0,d)}return A.$$is_lambda=P.$$is_lambda,A.$$is_curried=!0,A},-1),R(F,"$dup",function(){var k=this,P=k.$$original_proc||k,A=function(){return P.apply(this,arguments)};return E(k,function(q){A[q]=k[q]}),A}),re(F,"===","call"),re(F,"clone","dup"),re(F,"yield","call"),re(F,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(e){var x=e.klass,E=e.def,N=e.truthy,S=e.slice,ee=e.alias,Z=e.Kernel,R=e.send,V=e.to_a,g=e.nil,H=e.$$$;return e.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function($e,Q){var J=x($e,Q,"Method"),re=J.$$prototype;return re.method=re.receiver=re.owner=re.name=g,J.$attr_reader("owner","receiver","name"),E(J,"$initialize",function(b,y,K,F){var z=this;return z.receiver=b,z.owner=y,z.name=F,z.method=K}),E(J,"$arity",function(){var b=this;return b.method.$arity()}),E(J,"$parameters",function(){var b=this;return b.method.$$parameters}),E(J,"$source_location",function(){var b=this,y=g;return N(y=b.method.$$source_location)?y:["(eval)",0]}),E(J,"$comments",function(){var b=this,y=g;return N(y=b.method.$$comments)?y:[]}),E(J,"$call",function D(b){var y=D.$$p||g,K,F,z=this;return D.$$p=null,K=S(arguments),F=K,z.method.$$p=y,z.method.apply(z.receiver,F)},-1),E(J,"$curry",function(b){var y=this;return y.method.$curry(b)},-1),E(J,"$>>",function(b){var y=this;return y.method["$>>"](b)}),E(J,"$<<",function(b){var y=this;return y.method["$<<"](b)}),E(J,"$unbind",function(){var b=this;return H("UnboundMethod").$new(b.receiver.$class(),b.owner,b.method,b.name)}),E(J,"$to_proc",function(){var b=this,y=b.$call.bind(b);return y.$$unbound=b.method,y.$$is_lambda=!0,y.$$arity=b.method.$$arity==null?b.method.length:b.method.$$arity,y.$$parameters=b.method.$$parameters,y}),E(J,"$inspect",function(){var b=this;return"#<"+b.$class()+": "+b.receiver.$class()+"#"+b.name+" (defined in "+b.owner+" in "+b.$source_location().$join(":")+")>"}),ee(J,"[]","call"),ee(J,"===","call")}("::",null),function($e,Q){var J=x($e,Q,"UnboundMethod"),re=J.$$prototype;return re.method=re.owner=re.name=re.source=g,J.$attr_reader("source","owner","name"),E(J,"$initialize",function(b,y,K,F){var z=this;return z.source=b,z.owner=y,z.method=K,z.name=F,z.$$method=K}),E(J,"$arity",function(){var b=this;return b.method.$arity()}),E(J,"$parameters",function(){var b=this;return b.method.$$parameters}),E(J,"$source_location",function(){var b=this,y=g;return N(y=b.method.$$source_location)?y:["(eval)",0]}),E(J,"$comments",function(){var b=this,y=g;return N(y=b.method.$$comments)?y:[]}),E(J,"$bind",function(b){var y=this;if(y.owner.$$is_module||e.is_a(b,y.owner))return H("Method").$new(b,y.owner,y.method,y.name);Z.$raise(H("TypeError"),"can't bind singleton method to a different class (expected "+b+".kind_of?("+y.owner+" to be true)")}),E(J,"$bind_call",function D(b,y){var K=D.$$p||g,F,z,B=this;return D.$$p=null,F=S(arguments,1),z=F,R(B.$bind(b),"call",V(z),K.$to_proc())},-2),E(J,"$inspect",function(){var b=this;return"#<"+b.$class()+": "+b.source+"#"+b.name+" (defined in "+b.owner+" in "+b.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(e){var x=e.gvars,E=e.const_set,N=e.Object,S=e.nil;return e.add_stubs("new"),x["&"]=x["~"]=x["`"]=x["'"]=S,x.LOADED_FEATURES=x['"']=e.loaded_features,x.LOAD_PATH=x[":"]=[],x["/"]=`
`,x[","]=S,E("::","ARGV",[]),E("::","ARGF",N.$new()),E("::","ENV",new Map),x.VERBOSE=!1,x.DEBUG=!1,x.SAFE=0};Opal.modules["corelib/io"]=function(e){var x=e.klass,E=e.const_set,N=e.not,S=e.truthy,ee=e.def,Z=e.return_ivar,R=e.return_val,V=e.slice,g=e.Kernel,H=e.gvars,$e=e.send,Q=e.to_a,J=e.rb_plus,re=e.neqeq,D=e.range,b=e.eqeq,y=e.to_ary,K=e.rb_gt,F=e.assign_ivar_val,z=e.alias,B,p=e.nil,k=e.$$$;e.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(A,q){var o=x(A,q,"IO"),d=o.$$prototype;return d.read_buffer=d.closed=p,E(o,"SEEK_SET",0),E(o,"SEEK_CUR",1),E(o,"SEEK_END",2),E(o,"SEEK_DATA",3),E(o,"SEEK_HOLE",4),E(o,"READABLE",1),E(o,"WRITABLE",4),o.$attr_reader("eof"),o.$attr_accessor("read_proc","sync","tty","write_proc"),ee(o,"$initialize",function(h,l){var c=this;return l==null&&(l="r"),c.fd=h,c.flags=l,c.eof=!1,S(l["$include?"]("r"))&&N(l["$match?"](/[wa+]/))?c.closed="write":S(l["$match?"](/[wa]/))&&N(l["$match?"](/[r+]/))?c.closed="read":p},-2),ee(o,"$fileno",Z("fd")),ee(o,"$tty?",function(){var h=this;return h.tty==!0}),ee(o,"$write",function(h){var l=this;return l.write_proc(h),h.$size()}),ee(o,"$flush",R(p)),ee(o,"$<<",function(h){var l=this;return l.$write(h),l}),ee(o,"$print",function(h){var l,c,X=this;H[","]==null&&(H[","]=p),l=V(arguments),c=l;for(var w=0,s=c.length;w<s;w++)c[w]=g.$String(c[w]);return X.$write(c.join(H[","])),p},-1),ee(o,"$puts",function(h){var l,c,X=this;l=V(arguments),c=l;var w;if(c.length===0)return X.$write(`
`),p;for(var s=0,a=c.length;s<a;s++)if(c[s].$$is_array){var $=c[s].$flatten();$.length>0&&$e(X,"puts",Q($))}else c[s].$$is_string?w=c[s].valueOf():w=g.$String(c[s]),w.endsWith(`
`)||(w+=`
`),X.$write(w);return p},-1),ee(o,"$getc",function(){var h=this,l=p,c=p,X=p;h.read_buffer=S(l=h.read_buffer)?l:"",c="";do if(h.read_buffer=J(h.read_buffer,c),re(h.read_buffer,""))return X=h.read_buffer["$[]"](0),h.read_buffer=h.read_buffer["$[]"](D(1,-1,!1)),X;while(S(c=h.$sysread_noraise(1)));return p}),ee(o,"$getbyte",function(){var h,l=this;return h=l.$getc(),h===p||h==null?p:h.$ord()}),ee(o,"$readbyte",function(){var h=this;return h.$readchar().$ord()}),ee(o,"$readchar",function(){var h=this,l=p;return S(l=h.$getc())?l:g.$raise(k("EOFError"),"end of file reached")}),ee(o,"$readline",function(h){var l,c,X=this,w=p;return l=V(arguments),c=l,S(w=$e(X,"gets",Q(c)))?w:g.$raise(k("EOFError"),"end of file reached")},-1),ee(o,"$gets",function(h,l,c){var X,w,s=this,a=p,$=p,n=p,t=p,r=p,i=p;H["/"]==null&&(H["/"]=p),h==null&&(h=!1),l==null&&(l=p),c==null&&(c=new Map),S(h.$$is_number)&&N(l)&&(X=[!1,h,l],h=X[0],l=X[1],c=X[2]),S(h.$$is_hash)&&N(l)&&b(c,new Map)?(X=[!1,p,h],h=X[0],l=X[1],c=X[2]):S(l.$$is_hash)&&b(c,new Map)&&(X=[h,p,l],h=X[0],l=X[1],c=X[2]),a=h,b(h,!1)&&(h=H["/"]),b(h,"")&&(h=/\r?\n\r?\n/),h=S($=h)?$:"",b(a,"")||(h=h.$to_str()),n=b(a,"")?2:h.$length(),b(h," ")&&(h=/ /),s.read_buffer=S($=s.read_buffer)?$:"",t="",r=p;do if(s.read_buffer=J(s.read_buffer,t),re(h,"")&&S(S(h.$$is_regexp)?s.read_buffer["$match?"](h):s.read_buffer["$include?"](h))){i=s.read_buffer,w=s.read_buffer.$split(h,2),X=y(w),r=X[0]==null?p:X[0],s.read_buffer=X[1]==null?p:X[1],re(r,i)&&(r=J(r,i["$[]"](r.$length(),n)));break}while(S(t=s.$sysread_noraise(b(h,"")?65536:1)));return S(r)||(X=[S($=s.read_buffer)?$:"",""],r=X[0],s.read_buffer=X[1],b(r,"")&&(r=p)),S(r)&&(S(l)&&(r=r["$[]"](e.Range.$new(0,l,!0)),s.read_buffer=J(r["$[]"](e.Range.$new(l,-1,!1)),s.read_buffer)),S(c["$[]"]("chomp"))&&(r=r.$sub(/\r?\n$/,"")),b(a,"")&&(r=r.$sub(/^[\r\n]+/,""))),b(a,!1)&&(H._=r),r},-1),ee(o,"$sysread",function(h){var l=this,c=p;return S(c=l.read_proc(h))?c:(l.eof=!0,g.$raise(k("EOFError"),"end of file reached"))}),ee(o,"$sysread_noraise",function(h){var l=this;try{return l.$sysread(h)}catch(c){if(e.rescue(c,[k("EOFError")]))try{return p}finally{e.pop_exception(c)}else throw c}}),ee(o,"$readpartial",function(h){var l,c=this,X=p,w=p,s=p;return c.read_buffer=S(X=c.read_buffer)?X:"",w=c.$sysread(h),l=[J(c.read_buffer,S(X=w)?X:""),""],s=l[0],c.read_buffer=l[1],b(s,"")&&(s=p),s}),ee(o,"$read",function(h){var l,c=this,X=p,w=p,s=p;h==null&&(h=p),c.read_buffer=S(X=c.read_buffer)?X:"",w="",s=p;do if(c.read_buffer=J(c.read_buffer,w),S(h)&&S(K(c.read_buffer.$length(),h)))return l=[c.read_buffer["$[]"](e.Range.$new(0,h,!0)),c.read_buffer["$[]"](e.Range.$new(h,-1,!1))],s=l[0],c.read_buffer=l[1],s;while(S(w=c.$sysread_noraise(S(X=h)?X:65536)));return l=[c.read_buffer,""],s=l[0],c.read_buffer=l[1],s},-1),ee(o,"$readlines",function(h){var l=this;return H["/"]==null&&(H["/"]=p),h==null&&(h=H["/"]),l.$each_line(h).$to_a()},-1),ee(o,"$each",function T(h,l){var c=T.$$p||p,X,w,s,a=this,$=p;if(H["/"]==null&&(H["/"]=p),T.$$p=null,X=V(arguments),X.length>0&&(w=X.shift()),w==null&&(w=H["/"]),s=X,c===p)return $e(a,"enum_for",["each",w].concat(Q(s)));for(;S($=$e(a,"gets",[w].concat(Q(s))));)e.yield1(c,$);return a},-1),ee(o,"$each_byte",function T(){var h=T.$$p||p,l=this,c=p;if(T.$$p=null,h===p)return l.$enum_for("each_byte");for(;S(c=l.$getbyte());)e.yield1(h,c);return l}),ee(o,"$each_char",function T(){var h=T.$$p||p,l=this,c=p;if(T.$$p=null,h===p)return l.$enum_for("each_char");for(;S(c=l.$getc());)e.yield1(h,c);return l}),ee(o,"$close",F("closed","both")),ee(o,"$close_read",function(){var h=this;return b(h.closed,"write")?h.closed="both":h.closed="read"}),ee(o,"$close_write",function(){var h=this;return b(h.closed,"read")?h.closed="both":h.closed="write"}),ee(o,"$closed?",function(){var h=this;return h.closed["$=="]("both")}),ee(o,"$closed_read?",function(){var h=this,l=p;return S(l=h.closed["$=="]("read"))?l:h.closed["$=="]("both")}),ee(o,"$closed_write?",function(){var h=this,l=p;return S(l=h.closed["$=="]("write"))?l:h.closed["$=="]("both")}),ee(o,"$check_writable",function(){var h=this;return S(h["$closed_write?"]())?g.$raise(k("IOError"),"not opened for writing"):p}),ee(o,"$check_readable",function(){var h=this;return S(h["$closed_read?"]())?g.$raise(k("IOError"),"not opened for reading"):p}),z(o,"each_line","each"),z(o,"eof?","eof")}("::",null),E("::","STDIN",H.stdin=k("IO").$new(0,"r")),E("::","STDOUT",H.stdout=k("IO").$new(1,"w")),E("::","STDERR",H.stderr=k("IO").$new(2,"w"));var P=e.global.console;return k("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(A){process.stdout.write(A)}:function(A){P.log(A)}),k("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(A){process.stderr.write(A)}:function(A){P.warn(A)}),B=[function(A){var q=prompt();return q!==null?q+`
`:p}],$e(k("STDIN"),"read_proc=",B),B[B.length-1]};Opal.modules["opal/regexp_anchors"]=function(e){var x=e.module,E=e.const_set,N=[];e.nil;var S=e.$$$;return e.add_stubs("new"),function(ee,Z){var R=x(ee,"Opal"),V=[R].concat(Z),g=e.$r(V);return E(R,"REGEXP_START","^"),E(R,"REGEXP_END","$"),E(R,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),E(R,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),E(R,"INLINE_IDENTIFIER_REGEXP",g("Regexp").$new("[^"+S(R,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+S(R,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),E(R,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),E(R,"CONST_NAME_REGEXP",g("Regexp").$new(""+S(R,"REGEXP_START")+"(::)?[A-Z][^"+S(R,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+S(R,"REGEXP_END")))}(N[0],N)};Opal.modules["opal/mini"]=function(e){var x=e.Object;return e.nil,e.add_stubs("require"),x.$require("opal/base"),x.$require("corelib/nil"),x.$require("corelib/boolean"),x.$require("corelib/string"),x.$require("corelib/comparable"),x.$require("corelib/enumerable"),x.$require("corelib/enumerator"),x.$require("corelib/array"),x.$require("corelib/hash"),x.$require("corelib/number"),x.$require("corelib/range"),x.$require("corelib/proc"),x.$require("corelib/method"),x.$require("corelib/regexp"),x.$require("corelib/variables"),x.$require("corelib/io"),x.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(e){var x=e.coerce_to,E=e.module,N=e.slice,S=e.truthy,ee=e.eqeq,Z=e.Opal,R=e.Kernel,V=e.gvars,g=e.def,H=e.alias,$e=e.nil,Q=e.$$$;return e.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(J){var re=E(J,"Kernel");return g(re,"$format",function(b,y){var K,F,z=$e;V.DEBUG==null&&(V.DEBUG=$e),K=N(arguments,1),F=K,ee(F.$length(),1)&&S(F["$[]"](0)["$respond_to?"]("to_ary"))&&(z=Z["$coerce_to?"](F["$[]"](0),Q("Array"),"to_ary"),S(z["$nil?"]())||(F=z.$to_a()));var B="",p=0,k,P,A=b.length,q,o,d,T,h,l,c,X,w,s,a,$,n,t=1,r=0,i,u=0,f=1,v=2,I=4,C=8,M=16,G=32,O=64,ae=128;function le(){i&G&&R.$raise(Q("ArgumentError"),"flag after width"),i&ae&&R.$raise(Q("ArgumentError"),"flag after precision")}function ce(){i&G&&R.$raise(Q("ArgumentError"),"width given twice"),i&ae&&R.$raise(Q("ArgumentError"),"width after precision")}function de(j){return j>=F.length&&R.$raise(Q("ArgumentError"),"too few arguments"),F[j]}function he(){switch(r){case-1:R.$raise(Q("ArgumentError"),"unnumbered("+t+") mixed with numbered");case-2:R.$raise(Q("ArgumentError"),"unnumbered("+t+") mixed with named")}return r=t++,de(r-1)}function ve(j){return r>0&&R.$raise(Q("ArgumentError"),"numbered("+j+") after unnumbered("+r+")"),r===-2&&R.$raise(Q("ArgumentError"),"numbered("+j+") after named"),j<1&&R.$raise(Q("ArgumentError"),"invalid index - "+j+"$"),r=-1,de(j-1)}function me(){return n===void 0?he():n}function be(j){for(var L,Y="";;P++){if(P===A&&R.$raise(Q("ArgumentError"),"malformed format string - %*[0-9]"),b.charCodeAt(P)<48||b.charCodeAt(P)>57)return P--,L=parseInt(Y,10)||0,L>2147483647&&R.$raise(Q("ArgumentError"),""+j+" too big"),L;Y+=b.charAt(P)}}function ie(j){var L,Y=be(j);return b.charAt(P+1)==="$"?(P++,L=ve(Y)):L=he(),L.$to_int()}for(P=b.indexOf("%");P!==-1;P=b.indexOf("%",P)){switch(o=void 0,i=u,T=-1,h=-1,n=void 0,k=P,P++,b.charAt(P)){case"%":p=P;case"":case`
`:case"\0":P++;continue}e:for(;P<A;P++)switch(b.charAt(P)){case" ":le(),i|=M;continue e;case"#":le(),i|=f;continue e;case"+":le(),i|=I;continue e;case"-":le(),i|=v;continue e;case"0":le(),i|=C;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(l=be("width"),b.charAt(P+1)==="$"){if(P+2===A){o="%",P++;break e}n!==void 0&&R.$raise(Q("ArgumentError"),"value given twice - %"+l+"$"),n=ve(l),P++}else ce(),i|=G,T=l;continue e;case"<":case"{":for(X=b.charAt(P)==="<"?">":"}",c="",P++;;P++){if(P===A&&R.$raise(Q("ArgumentError"),"malformed name - unmatched parenthesis"),b.charAt(P)===X){if(r>0&&R.$raise(Q("ArgumentError"),"named "+c+" after unnumbered("+r+")"),r===-1&&R.$raise(Q("ArgumentError"),"named "+c+" after numbered"),r=-2,(F[0]===void 0||!F[0].$$is_hash)&&R.$raise(Q("ArgumentError"),"one hash required"),n=F[0].$fetch(c),X===">")continue e;if(o=n.toString(),h!==-1&&(o=o.slice(0,h)),i&v)for(;o.length<T;)o=o+" ";else for(;o.length<T;)o=" "+o;break e}c+=b.charAt(P)}case"*":P++,ce(),i|=G,T=ie("width"),T<0&&(i|=v,T=-T);continue e;case".":if(i&ae&&R.$raise(Q("ArgumentError"),"precision given twice"),i|=O|ae,h=0,P++,b.charAt(P)==="*"){P++,h=ie("precision"),h<0&&(i&=~O);continue e}h=be("precision");continue e;case"d":case"i":case"u":if(q=R.$Integer(me()),q>=0){for(o=q.toString();o.length<h;)o="0"+o;if(i&v)for((i&I||i&M)&&(o=(i&I?"+":" ")+o);o.length<T;)o=o+" ";else if(i&C&&h===-1){for(;o.length<T-(i&I||i&M?1:0);)o="0"+o;(i&I||i&M)&&(o=(i&I?"+":" ")+o)}else for((i&I||i&M)&&(o=(i&I?"+":" ")+o);o.length<T;)o=" "+o}else{for(o=(-q).toString();o.length<h;)o="0"+o;if(i&v)for(o="-"+o;o.length<T;)o=o+" ";else if(i&C&&h===-1){for(;o.length<T-1;)o="0"+o;o="-"+o}else for(o="-"+o;o.length<T;)o=" "+o}break e;case"b":case"B":case"o":case"x":case"X":switch(b.charAt(P)){case"b":case"B":w=2,s="0b",a=/^1+/,$="1";break;case"o":w=8,s="0",a=/^3?7+/,$="7";break;case"x":case"X":w=16,s="0x",a=/^f+/,$="f";break}if(q=R.$Integer(me()),q>=0){for(o=q.toString(w);o.length<h;)o="0"+o;if(i&v)for((i&I||i&M)&&(o=(i&I?"+":" ")+o),i&f&&q!==0&&(o=s+o);o.length<T;)o=o+" ";else if(i&C&&h===-1){for(;o.length<T-(i&I||i&M?1:0)-(i&f&&q!==0?s.length:0);)o="0"+o;i&f&&q!==0&&(o=s+o),(i&I||i&M)&&(o=(i&I?"+":" ")+o)}else for(i&f&&q!==0&&(o=s+o),(i&I||i&M)&&(o=(i&I?"+":" ")+o);o.length<T;)o=" "+o}else if(i&I||i&M){for(o=(-q).toString(w);o.length<h;)o="0"+o;if(i&v)for(i&f&&(o=s+o),o="-"+o;o.length<T;)o=o+" ";else if(i&C&&h===-1){for(;o.length<T-1-(i&f?2:0);)o="0"+o;i&f&&(o=s+o),o="-"+o}else for(i&f&&(o=s+o),o="-"+o;o.length<T;)o=" "+o}else{for(o=(q>>>0).toString(w).replace(a,$);o.length<h-2;)o=$+o;if(i&v)for(o=".."+o,i&f&&(o=s+o);o.length<T;)o=o+" ";else if(i&C&&h===-1){for(;o.length<T-2-(i&f?s.length:0);)o=$+o;o=".."+o,i&f&&(o=s+o)}else for(o=".."+o,i&f&&(o=s+o);o.length<T;)o=" "+o}b.charAt(P)===b.charAt(P).toUpperCase()&&(o=o.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(q=R.$Float(me()),q>=0||isNaN(q)){if(q===1/0)o="Inf";else switch(b.charAt(P)){case"f":o=q.toFixed(h===-1?6:h);break;case"e":case"E":o=q.toExponential(h===-1?6:h);break;case"g":case"G":o=q.toExponential(),d=parseInt(o.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(o=q.toPrecision(h===-1?i&f?6:void 0:h));break}if(i&v)for((i&I||i&M)&&(o=(i&I?"+":" ")+o);o.length<T;)o=o+" ";else if(i&C&&q!==1/0&&!isNaN(q)){for(;o.length<T-(i&I||i&M?1:0);)o="0"+o;(i&I||i&M)&&(o=(i&I?"+":" ")+o)}else for((i&I||i&M)&&(o=(i&I?"+":" ")+o);o.length<T;)o=" "+o}else{if(q===-1/0)o="Inf";else switch(b.charAt(P)){case"f":o=(-q).toFixed(h===-1?6:h);break;case"e":case"E":o=(-q).toExponential(h===-1?6:h);break;case"g":case"G":o=(-q).toExponential(),d=parseInt(o.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(o=(-q).toPrecision(h===-1?i&f?6:void 0:h));break}if(i&v)for(o="-"+o;o.length<T;)o=o+" ";else if(i&C&&q!==-1/0){for(;o.length<T-1;)o="0"+o;o="-"+o}else for(o="-"+o;o.length<T;)o=" "+o}b.charAt(P)===b.charAt(P).toUpperCase()&&q!==1/0&&q!==-1/0&&!isNaN(q)&&(o=o.toUpperCase()),o=o.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":R.$raise(Q("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(q=me(),q["$respond_to?"]("to_ary")&&(q=q.$to_ary()[0]),q["$respond_to?"]("to_str")?o=q.$to_str():o=String.fromCharCode(x(q,Q("Integer"),"to_int")),o.length!==1&&R.$raise(Q("ArgumentError"),"%c requires a character"),i&v)for(;o.length<T;)o=o+" ";else for(;o.length<T;)o=" "+o;break e;case"p":if(o=me().$inspect(),h!==-1&&(o=o.slice(0,h)),i&v)for(;o.length<T;)o=o+" ";else for(;o.length<T;)o=" "+o;break e;case"s":if(o=me().$to_s(),h!==-1&&(o=o.slice(0,h)),i&v)for(;o.length<T;)o=o+" ";else for(;o.length<T;)o=" "+o;break e;default:R.$raise(Q("ArgumentError"),"malformed format string - %"+b.charAt(P))}o===void 0&&R.$raise(Q("ArgumentError"),"malformed format string - %"),B+=b.slice(p,k)+o,p=P+1}return V.DEBUG&&r>=0&&t<F.length&&R.$raise(Q("ArgumentError"),"too many arguments for format string"),B+b.slice(p)},-2),H(re,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(e){var x=e.klass,E=e.rb_plus,N=e.truthy,S=e.send,ee=e.defs,Z=e.eqeq,R=e.def,V=e.return_ivar,g=e.return_val,H=e.slice,$e=e.Kernel,Q=e.Opal,J=e.rb_lt,re,D=e.top,b=[],y=e.$r(b),K=e.nil,F=e.$$$;return e.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),D.$require("corelib/string"),function(z,B,p){var k=x(z,B,"Encoding"),P=[k].concat(p),A=k.$$prototype;return A.name=A.dummy=K,ee(k,"$register",function q(o,d){var T=q.$$p||K,h=this,l=K,c=K,X=K,w=K,s=K,a=K;return q.$$p=null,d==null&&(d=new Map),l=E([o],N(c=d["$[]"]("aliases"))?c:[]),X=N(c=d["$[]"]("ascii"))&&c,w=N(c=d["$[]"]("dummy"))&&c,N(d["$[]"]("inherits"))?(s=d["$[]"]("inherits").$clone(),s.$initialize(o,l,X,w)):s=h.$new(o,l,X,w),T!==K&&S(s,"instance_eval",[],T.$to_proc()),a=e.encodings,S(l,"each",[],function $(n){var t=$.$$s==null?this:$.$$s;return n==null&&(n=K),t.$const_set(n.$tr("-","_"),s),a[n]=s},{$$s:h})},-2),ee(k,"$find",function(o){var d=this;return Z(o,"default_external")?d.$default_external():e.find_encoding(o)}),k.$singleton_class().$attr_accessor("default_external"),k.$attr_reader("name","names"),R(k,"$initialize",function(o,d,T,h){var l=this;return l.name=o,l.names=d,l.ascii=T,l.dummy=h}),R(k,"$ascii_compatible?",V("ascii")),R(k,"$dummy?",V("dummy")),R(k,"$binary?",g(!1)),R(k,"$to_s",V("name")),R(k,"$inspect",function(){var o=this;return"#<Encoding:"+o.name+(N(o.dummy)?" (dummy)":K)+">"}),R(k,"$charsize",function(o){for(var d=0,T=0,h=o.length;T<h;T++){var l=o.charCodeAt(T);l>=55296&&l<=56319||d++}return d}),R(k,"$each_char",function q(o){var d=q.$$p||K;q.$$p=null;for(var T="",h=0,l=o.length;h<l;h++){var c=o.charCodeAt(h),X=o.charAt(h);if(c>=56320&&c<=57343){T=X;continue}else c>=55296&&c<=56319&&(X=T+X);o.encoding.name!="UTF-8"&&(X=new String(X),X.encoding=o.encoding),e.yield1(d,X)}}),R(k,"$each_byte",function(o){return H(arguments),$e.$raise(F("NotImplementedError"))},-1),R(k,"$bytesize",function(o){return H(arguments),$e.$raise(F("NotImplementedError"))},-1),x("::",F("StandardError"),"EncodingError"),x("::",F("EncodingError"),"CompatibilityError"),x(P[0],F("EncodingError"),"UndefinedConversionError"),K}("::",null,b),S(F("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function z(){var B=z.$$s==null?this:z.$$s;return R(B,"$each_byte",function p(k){var P=p.$$p||K;p.$$p=null;for(var A=1/0,q,o=k.length,d=null,T=0;T<o;++T){if(q=k.charCodeAt(T),q>55295&&q<57344){if(!d){if(q>56319){(A-=3)>-1&&(e.yield1(P,239),e.yield1(P,191),e.yield1(P,189));continue}else if(T+1===o){(A-=3)>-1&&(e.yield1(P,239),e.yield1(P,191),e.yield1(P,189));continue}d=q;continue}if(q<56320){(A-=3)>-1&&(e.yield1(P,239),e.yield1(P,191),e.yield1(P,189)),d=q;continue}q=(d-55296<<10|q-56320)+65536}else d&&(A-=3)>-1&&(e.yield1(P,239),e.yield1(P,191),e.yield1(P,189));if(d=null,q<128){if((A-=1)<0)break;e.yield1(P,q)}else if(q<2048){if((A-=2)<0)break;e.yield1(P,q>>6|192),e.yield1(P,q&63|128)}else if(q<65536){if((A-=3)<0)break;e.yield1(P,q>>12|224),e.yield1(P,q>>6&63|128),e.yield1(P,q&63|128)}else if(q<1114112){if((A-=4)<0)break;e.yield1(P,q>>18|240),e.yield1(P,q>>12&63|128),e.yield1(P,q>>6&63|128),e.yield1(P,q&63|128)}}}),R(B,"$bytesize",function(k){return k.$bytes().$length()})},{$$s:D}),S(F("Encoding"),"register",["UTF-16LE"],function z(){var B=z.$$s==null?this:z.$$s;return R(B,"$each_byte",function p(k){var P=p.$$p||K;p.$$p=null;for(var A=0,q=k.length;A<q;A++){var o=k.charCodeAt(A);e.yield1(P,o&255),e.yield1(P,o>>8)}}),R(B,"$bytesize",function(k){return k.length*2})},{$$s:D}),S(F("Encoding"),"register",["UTF-16BE",new Map([["inherits",F(F("Encoding"),"UTF_16LE")]])],function z(){var B=z.$$s==null?this:z.$$s;return R(B,"$each_byte",function p(k){var P=p.$$p||K;p.$$p=null;for(var A=0,q=k.length;A<q;A++){var o=k.charCodeAt(A);e.yield1(P,o>>8),e.yield1(P,o&255)}})},{$$s:D}),S(F("Encoding"),"register",["UTF-32LE"],function z(){var B=z.$$s==null?this:z.$$s;return R(B,"$each_byte",function p(k){var P=p.$$p||K;p.$$p=null;for(var A=0,q=k.length;A<q;A++){var o=k.charCodeAt(A);e.yield1(P,o&255),e.yield1(P,o>>8),e.yield1(P,0),e.yield1(P,0)}}),R(B,"$bytesize",function(k){return k.length*4})},{$$s:D}),S(F("Encoding"),"register",["UTF-32BE",new Map([["inherits",F(F("Encoding"),"UTF_32LE")]])],function z(){var B=z.$$s==null?this:z.$$s;return R(B,"$each_byte",function p(k){var P=p.$$p||K;p.$$p=null;for(var A=0,q=k.length;A<q;A++){var o=k.charCodeAt(A);e.yield1(P,0),e.yield1(P,0),e.yield1(P,o>>8),e.yield1(P,o&255)}})},{$$s:D}),S(F("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function z(){var B=z.$$s==null?this:z.$$s;return R(B,"$each_char",function p(k){var P=p.$$p||K;p.$$p=null;for(var A=0,q=k.length;A<q;A++){var o=new String(k.charAt(A));o.encoding=k.encoding,e.yield1(P,o)}}),R(B,"$charsize",function(k){return k.length}),R(B,"$each_byte",function p(k){var P=p.$$p||K;p.$$p=null;for(var A=0,q=k.length;A<q;A++){var o=k.charCodeAt(A);e.yield1(P,o&255)}}),R(B,"$bytesize",function(k){return k.length}),R(B,"$binary?",g(!0))},{$$s:D}),F("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",F(F("Encoding"),"ASCII_8BIT")]])),F("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",F(F("Encoding"),"ASCII_8BIT")]])),function(z,B){var p=x(z,B,"String"),k=p.$$prototype;return k.internal_encoding=k.bytes=k.encoding=K,p.$attr_reader("encoding"),p.$attr_reader("internal_encoding"),e.prop(String.prototype,"bytes",K),e.prop(String.prototype,"encoding",F(F("Encoding"),"UTF_8")),e.prop(String.prototype,"internal_encoding",F(F("Encoding"),"UTF_8")),R(p,"$b",function(){var A=this;return A.$dup().$force_encoding("binary")}),R(p,"$bytesize",function(){var A=this;return A.internal_encoding.$bytesize(A)}),R(p,"$each_byte",function P(){var A=P.$$p||K,q=this;return P.$$p=null,A===K?S(q,"enum_for",["each_byte"],function o(){var d=o.$$s==null?this:o.$$s;return d.$bytesize()},{$$s:q}):(S(q.internal_encoding,"each_byte",[q],A.$to_proc()),q)}),R(p,"$bytes",function(){var A=this,q=K;return typeof A=="string"?new String(A).$each_byte().$to_a():(A.bytes=N(q=A.bytes)?q:A.$each_byte().$to_a(),A.bytes.$dup())}),R(p,"$each_char",function P(){var A=P.$$p||K,q=this;return P.$$p=null,A===K?S(q,"enum_for",["each_char"],function o(){var d=o.$$s==null?this:o.$$s;return d.$length()},{$$s:q}):(S(q.encoding,"each_char",[q],A.$to_proc()),q)}),R(p,"$chars",function P(){var A=P.$$p||K,q=this;return P.$$p=null,N(A)?S(q,"each_char",[],A.$to_proc()):q.$each_char().$to_a()}),R(p,"$each_codepoint",function P(){var A=P.$$p||K,q=this;if(P.$$p=null,A===K)return q.$enum_for("each_codepoint");for(var o=0,d=q.length;o<d;o++)e.yield1(A,q.codePointAt(o));return q}),R(p,"$codepoints",function P(){var A=P.$$p||K,q=this;return P.$$p=null,A!==K?S(q,"each_codepoint",[],A.$to_proc()):q.$each_codepoint().$to_a()}),R(p,"$encode",function(A){var q=this;return e.enc(q,A)}),R(p,"$force_encoding",function(A){var q=this,o=q;return A===o.encoding||(A=Q["$coerce_to!"](A,F("String"),"to_s"),A=F("Encoding").$find(A),A===o.encoding)||(o=e.set_encoding(o,A)),o}),R(p,"$getbyte",function(A){var q=this,o=K;return o=q.$bytes(),A=Q["$coerce_to!"](A,F("Integer"),"to_int"),N(J(o.$length(),A))?K:o["$[]"](A)}),R(p,"$initialize_copy",function(A){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),R(p,"$valid_encoding?",g(!0))}("::",null),re=[F(y("Encoding"),"UTF_8")],S(F("Encoding"),"default_external=",re),re[re.length-1]};Opal.modules["corelib/math"]=function(e){var x=e.type_error,E=e.module,N=e.const_set,S=e.Class,ee=e.slice,Z=e.Kernel,R=e.defs,V=e.truthy,g=e.send,H=e.def,$e=e.rb_minus,Q=e.eqeqeq,J=e.rb_divide,re=[],D=e.nil,b=e.$$$;return e.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(y,K){var F=E(y,"Math"),z=[F].concat(K),B=e.$r(z);return N(F,"E",Math.E),N(F,"PI",Math.PI),N(F,"DomainError",S.$new(b("StandardError"))),R(F,"$checked",function(k,P){var A,q;if(A=ee(arguments,1),q=A,isNaN(q[0])||q.length==2&&isNaN(q[1]))return NaN;var o=Math[k].apply(null,q);return isNaN(o)&&Z.$raise(B("DomainError"),'Numerical argument is out of domain - "'+k+'"'),o},-2),R(F,"$float!",function(k){try{return Z.$Float(k)}catch(P){if(e.rescue(P,[b("ArgumentError")]))try{return Z.$raise(x(k,b("Float")))}finally{e.pop_exception(P)}else throw P}}),R(F,"$integer!",function(k){try{return Z.$Integer(k)}catch(P){if(e.rescue(P,[b("ArgumentError")]))try{return Z.$raise(x(k,b("Integer")))}finally{e.pop_exception(P)}else throw P}}),F.$module_function(),V(typeof Math.erf<"u")||e.prop(Math,"erf",function(p){var k=.254829592,P=-.284496736,A=1.421413741,q=-1.453152027,o=1.061405429,d=.3275911,T=1;p<0&&(T=-1),p=Math.abs(p);var h=1/(1+d*p),l=1-((((o*h+q)*h+A)*h+P)*h+k)*h*Math.exp(-p*p);return T*l}),V(typeof Math.erfc<"u")||e.prop(Math,"erfc",function(p){var k=Math.abs(p),P=1/(.5*k+1),A=P*.17087277+-.82215223,q=P*A+1.48851587,o=P*q+-1.13520398,d=P*o+.27886807,T=P*d+-.18628806,h=P*T+.09678418,l=P*h+.37409196,c=P*l+1.00002368,X=P*c,w=-k*k-1.26551223+X,s=P*Math.exp(w);return p<0?2-s:s}),g(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function p(k){var P=p.$$s==null?this:p.$$s;return k==null&&(k=D),g(P,"define_method",[k],function(q){return q==null&&(q=D),b("Math").$checked(k,b("Math")["$float!"](q))})},{$$s:F}),H(F,"$atan2",function(k,P){return b("Math").$checked("atan2",b("Math")["$float!"](k),b("Math")["$float!"](P))}),H(F,"$hypot",function(k,P){return b("Math").$checked("hypot",b("Math")["$float!"](k),b("Math")["$float!"](P))}),H(F,"$frexp",function(k){if(k=B("Math")["$float!"](k),isNaN(k))return[NaN,0];var P=Math.floor(Math.log(Math.abs(k))/Math.log(2))+1,A=k/Math.pow(2,P);return[A,P]}),H(F,"$gamma",function(k){k=B("Math")["$float!"](k);var P,A,q,o,d,T,h,l,c,X=4.7421875,w=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(k))return NaN;if(k===0&&1/k<0)return-1/0;if((k===-1||k===-1/0)&&Z.$raise(B("DomainError"),'Numerical argument is out of domain - "gamma"'),B("Integer")["$==="](k)){if(k<=0)return isFinite(k)?1/0:NaN;if(k>171)return 1/0;for(o=k-2,d=k-1;o>1;)d*=o,o--;return d==0&&(d=1),d}if(k<.5)return Math.PI/(Math.sin(Math.PI*k)*b("Math").$gamma($e(1,k)));if(k>=171.35)return 1/0;if(k>85)return T=k*k,h=T*k,l=h*k,c=l*k,Math.sqrt(2*Math.PI/k)*Math.pow(k/Math.E,k)*(1+1/(12*k)+1/(288*T)-139/(51840*h)-571/(2488320*l)+163879/(209018880*c)+5246819/(75246796800*c*k));for(k-=1,q=w[0],P=1;P<w.length;++P)q+=w[P]/(k+P);return A=k+X+.5,Math.sqrt(2*Math.PI)*Math.pow(A,k+.5)*Math.exp(-A)*q}),H(F,"$ldexp",function(k,P){return k=B("Math")["$float!"](k),P=B("Math")["$integer!"](P),isNaN(P)&&Z.$raise(b("RangeError"),"float NaN out of range of integer"),k*Math.pow(2,P)}),H(F,"$lgamma",function(k){return k==-1?[1/0,1]:[Math.log(Math.abs(b("Math").$gamma(k))),b("Math").$gamma(k)<0?-1:1]}),H(F,"$log",function(k,P){return Q(b("String"),k)&&Z.$raise(x(k,b("Float"))),V(P==null)?b("Math").$checked("log",b("Math")["$float!"](k)):(Q(b("String"),P)&&Z.$raise(x(P,b("Float"))),J(b("Math").$checked("log",b("Math")["$float!"](k)),b("Math").$checked("log",b("Math")["$float!"](P))))},-2),H(F,"$log10",function(k){return Q(b("String"),k)&&Z.$raise(x(k,b("Float"))),b("Math").$checked("log10",b("Math")["$float!"](k))}),H(F,"$log2",function(k){return Q(b("String"),k)&&Z.$raise(x(k,b("Float"))),b("Math").$checked("log2",b("Math")["$float!"](k))}),H(F,"$tan",function(k){return k=b("Math")["$float!"](k),V(k["$infinite?"]())?b(b("Float"),"NAN"):b("Math").$checked("tan",b("Math")["$float!"](k))})}("::",re)};Opal.modules["corelib/complex/base"]=function(e){var x=e.module,E=e.truthy,N=e.def,S=e.klass,ee=[],Z=e.nil;return e.add_stubs("new,from_string"),function(R,V){var g=x(R,"Kernel"),H=[g].concat(V),$e=e.$r(H);return N(g,"$Complex",function(J,re){return re==null&&(re=Z),E(re)?$e("Complex").$new(J,re):$e("Complex").$new(J,0)},-2)}("::",ee),function(R,V,g){var H=S(R,V,"String"),$e=[H].concat(g),Q=e.$r($e);return N(H,"$to_c",function(){var re=this;return Q("Complex").$from_string(re)})}("::",null,ee)};Opal.modules["corelib/complex"]=function(e){var x=e.klass,E=e.truthy,N=e.eqeqeq,S=e.Kernel,ee=e.defs,Z=e.rb_times,R=e.def,V=e.rb_plus,g=e.rb_minus,H=e.rb_divide,$e=e.eqeq,Q=e.to_ary,J=e.rb_gt,re=e.neqeq,D=e.return_val,b=e.const_set,y=e.alias,K=e.top,F=[],z=e.nil,B=e.$$$;return e.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),K.$require("corelib/numeric"),K.$require("corelib/complex/base"),function(p,k,P){var A=x(p,k,"Complex"),q=[A].concat(P),o=e.$r(q),d=A.$$prototype;return d.real=d.imag=z,ee(A,"$rect",function(h,l){var c=this;return l==null&&(l=0),N(B("Numeric"),h)&&E(h["$real?"]())&&N(B("Numeric"),l)&&E(l["$real?"]())||S.$raise(B("TypeError"),"not a real"),c.$new(h,l)},-2),ee(A,"$polar",function(h,l){var c=this;return l==null&&(l=0),N(B("Numeric"),h)&&E(h["$real?"]())&&N(B("Numeric"),l)&&E(l["$real?"]())||S.$raise(B("TypeError"),"not a real"),c.$new(Z(h,B("Math").$cos(l)),Z(h,B("Math").$sin(l)))},-2),A.$attr_reader("real","imag"),R(A,"$initialize",function(h,l){var c=this;return l==null&&(l=0),c.real=h,c.imag=l,c.$freeze()},-2),R(A,"$coerce",function(h){var l=this;return N(B("Complex"),h)?[h,l]:N(B("Numeric"),h)&&E(h["$real?"]())?[B("Complex").$new(h,0),l]:S.$raise(B("TypeError"),""+h.$class()+" can't be coerced into Complex")}),R(A,"$==",function(h){var l=this,c=z;return N(B("Complex"),h)?E(c=l.real["$=="](h.$real()))?l.imag["$=="](h.$imag()):c:N(B("Numeric"),h)&&E(h["$real?"]())?E(c=l.real["$=="](h))?l.imag["$=="](0):c:h["$=="](l)}),R(A,"$-@",function(){var h=this;return S.$Complex(h.real["$-@"](),h.imag["$-@"]())}),R(A,"$+",function(h){var l=this;return N(B("Complex"),h)?S.$Complex(V(l.real,h.$real()),V(l.imag,h.$imag())):N(B("Numeric"),h)&&E(h["$real?"]())?S.$Complex(V(l.real,h),l.imag):l.$__coerced__("+",h)}),R(A,"$-",function(h){var l=this;return N(B("Complex"),h)?S.$Complex(g(l.real,h.$real()),g(l.imag,h.$imag())):N(B("Numeric"),h)&&E(h["$real?"]())?S.$Complex(g(l.real,h),l.imag):l.$__coerced__("-",h)}),R(A,"$*",function(h){var l=this;return N(B("Complex"),h)?S.$Complex(g(Z(l.real,h.$real()),Z(l.imag,h.$imag())),V(Z(l.real,h.$imag()),Z(l.imag,h.$real()))):N(B("Numeric"),h)&&E(h["$real?"]())?S.$Complex(Z(l.real,h),Z(l.imag,h)):l.$__coerced__("*",h)}),R(A,"$/",function(h){var l=this;return N(B("Complex"),h)?N(B("Number"),l.real)&&E(l.real["$nan?"]())||N(B("Number"),l.imag)&&E(l.imag["$nan?"]())||N(B("Number"),h.$real())&&E(h.$real()["$nan?"]())||N(B("Number"),h.$imag())&&E(h.$imag()["$nan?"]())?B("Complex").$new(B(B("Float"),"NAN"),B(B("Float"),"NAN")):H(Z(l,h.$conj()),h.$abs2()):N(B("Numeric"),h)&&E(h["$real?"]())?S.$Complex(l.real.$quo(h),l.imag.$quo(h)):l.$__coerced__("/",h)}),R(A,"$**",function(h){var l,c,X=this,w=z,s=z,a=z,$=z,n=z,t=z,r=z,i=z,u=z,f=z,v=z;if($e(h,0))return B("Complex").$new(1,0);if(N(B("Complex"),h))return c=X.$polar(),l=Q(c),w=l[0]==null?z:l[0],s=l[1]==null?z:l[1],a=h.$real(),$=h.$imag(),n=B("Math").$exp(g(Z(a,B("Math").$log(w)),Z($,s))),t=V(Z(s,a),Z($,B("Math").$log(w))),B("Complex").$polar(n,t);if(N(B("Integer"),h))if(E(J(h,0))){for(r=X,i=r,u=g(h,1);re(u,0);){for(c=u.$divmod(2),l=Q(c),f=l[0]==null?z:l[0],v=l[1]==null?z:l[1];$e(v,0);)r=S.$Complex(g(Z(r.$real(),r.$real()),Z(r.$imag(),r.$imag())),Z(Z(2,r.$real()),r.$imag())),u=f,c=u.$divmod(2),l=Q(c),f=l[0]==null?z:l[0],v=l[1]==null?z:l[1];i=Z(i,r),u=g(u,1)}return i}else return H(B("Rational").$new(1,1),X)["$**"](h["$-@"]());else return N(B("Float"),h)||N(B("Rational"),h)?(c=X.$polar(),l=Q(c),w=l[0]==null?z:l[0],s=l[1]==null?z:l[1],B("Complex").$polar(w["$**"](h),Z(s,h))):X.$__coerced__("**",h)}),R(A,"$abs",function(){var h=this;return B("Math").$hypot(h.real,h.imag)}),R(A,"$abs2",function(){var h=this;return V(Z(h.real,h.real),Z(h.imag,h.imag))}),R(A,"$angle",function(){var h=this;return B("Math").$atan2(h.imag,h.real)}),R(A,"$conj",function(){var h=this;return S.$Complex(h.real,h.imag["$-@"]())}),R(A,"$denominator",function(){var h=this;return h.real.$denominator().$lcm(h.imag.$denominator())}),R(A,"$eql?",function(h){var l=this,c=z,X=z;return E(c=E(X=o("Complex")["$==="](h))?l.real.$class()["$=="](l.imag.$class()):X)?l["$=="](h):c}),R(A,"$fdiv",function(h){var l=this;return N(B("Numeric"),h)||S.$raise(B("TypeError"),""+h.$class()+" can't be coerced into Complex"),H(l,h)}),R(A,"$finite?",function(){var h=this,l=z;return E(l=h.real["$finite?"]())?h.imag["$finite?"]():l}),R(A,"$hash",function(){var h=this;return[B("Complex"),h.real,h.imag].$hash()}),R(A,"$infinite?",function(){var h=this,l=z;return E(l=h.real["$infinite?"]())?l:h.imag["$infinite?"]()}),R(A,"$inspect",function(){var h=this;return"("+h+")"}),R(A,"$numerator",function(){var h=this,l=z;return l=h.$denominator(),S.$Complex(Z(h.real.$numerator(),H(l,h.real.$denominator())),Z(h.imag.$numerator(),H(l,h.imag.$denominator())))}),R(A,"$polar",function(){var h=this;return[h.$abs(),h.$arg()]}),R(A,"$rationalize",function(h){var l=this;return arguments.length>1&&S.$raise(B("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),re(l.imag,0)&&S.$raise(B("RangeError"),"can't convert "+l+" into Rational"),l.$real().$rationalize(h)},-1),R(A,"$real?",D(!1)),R(A,"$rect",function(){var h=this;return[h.real,h.imag]}),R(A,"$to_f",function(){var h=this;return $e(h.imag,0)||S.$raise(B("RangeError"),"can't convert "+h+" into Float"),h.real.$to_f()}),R(A,"$to_i",function(){var h=this;return $e(h.imag,0)||S.$raise(B("RangeError"),"can't convert "+h+" into Integer"),h.real.$to_i()}),R(A,"$to_r",function(){var h=this;return $e(h.imag,0)||S.$raise(B("RangeError"),"can't convert "+h+" into Rational"),h.real.$to_r()}),R(A,"$to_s",function(){var h=this,l=z;return l=h.real.$inspect(),l=V(l,N(B("Number"),h.imag)&&E(h.imag["$nan?"]())||E(h.imag["$positive?"]())||E(h.imag["$zero?"]())?"+":"-"),l=V(l,h.imag.$abs().$inspect()),N(B("Number"),h.imag)&&(E(h.imag["$nan?"]())||E(h.imag["$infinite?"]()))&&(l=V(l,"*")),V(l,"i")}),b(q[0],"I",A.$new(0,1)),ee(A,"$from_string",function(h){var l=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;h.match(l);var c,X;function w(){return l.test(h)}function s(){var $=h.match(l),n=$[0];return h=h.slice(n.length),n.replace(/_/g,"")}function a(){if(w()){var $=parseFloat(s());if(h[0]==="/")if(h=h.slice(1),w()){var n=parseFloat(s());return S.$Rational($,n)}else return h="/"+h,$;else return $}else return null}return c=a(),c?(X=a(),X?S.$Complex(c,X):h[0]==="i"?S.$Complex(0,c):S.$Complex(c,0)):h[0]==="i"?S.$Complex(0,1):h[0]==="-"&&h[1]==="i"?S.$Complex(0,-1):h[0]==="+"&&h[1]==="i"?S.$Complex(0,1):S.$Complex(0,0)}),function(T,h){return y(T,"rectangular","rect")}(e.get_singleton_class(A)),y(A,"arg","angle"),y(A,"conjugate","conj"),y(A,"divide","/"),y(A,"imaginary","imag"),y(A,"magnitude","abs"),y(A,"phase","arg"),y(A,"quo","/"),y(A,"rectangular","rect"),e.udef(A,"$negative?"),e.udef(A,"$positive?"),e.udef(A,"$step"),z}("::",B("Numeric"),F)};Opal.modules["corelib/rational/base"]=function(e){var x=e.module,E=e.def,N=e.klass;e.nil;var S=e.$$$;return e.add_stubs("convert,from_string"),function(ee){var Z=x(ee,"Kernel");return E(Z,"$Rational",function(V,g){return g==null&&(g=1),S("Rational").$convert(V,g)},-2)}("::"),function(ee,Z){var R=N(ee,Z,"String");return E(R,"$to_r",function(){var g=this;return S("Rational").$from_string(g)})}("::",null)};Opal.modules["corelib/rational"]=function(e){var x=e.klass,E=e.eqeq,N=e.Kernel,S=e.truthy,ee=e.rb_lt,Z=e.rb_divide,R=e.defs,V=e.eqeqeq,g=e.not,H=e.Opal,$e=e.def,Q=e.return_ivar,J=e.rb_minus,re=e.rb_times,D=e.rb_plus,b=e.rb_gt,y=e.rb_le,K=e.return_self,F=e.alias,z=e.top,B=e.nil,p=e.$$$;return e.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),z.$require("corelib/numeric"),z.$require("corelib/rational/base"),function(k,P){var A=x(k,P,"Rational"),q=A.$$prototype;return q.num=q.den=B,R(A,"$reduce",function(d,T){var h=this,l=B;if(d=d.$to_i(),T=T.$to_i(),E(T,0))N.$raise(p("ZeroDivisionError"),"divided by 0");else if(S(ee(T,0)))d=d["$-@"](),T=T["$-@"]();else if(E(T,1))return h.$new(d,T);return l=d.$gcd(T),h.$new(Z(d,l),Z(T,l))}),R(A,"$convert",function(d,T){var h=this;return(S(d["$nil?"]())||S(T["$nil?"]()))&&N.$raise(p("TypeError"),"cannot convert nil into Rational"),V(p("Integer"),d)&&V(p("Integer"),T)?h.$reduce(d,T):((V(p("Float"),d)||V(p("String"),d)||V(p("Complex"),d))&&(d=d.$to_r()),(V(p("Float"),T)||V(p("String"),T)||V(p("Complex"),T))&&(T=T.$to_r()),S(T["$equal?"](1))&&g(p("Integer")["$==="](d))?H["$coerce_to!"](d,p("Rational"),"to_r"):V(p("Numeric"),d)&&V(p("Numeric"),T)?Z(d,T):h.$reduce(d,T))}),$e(A,"$initialize",function(d,T){var h=this;return h.num=d,h.den=T,h.$freeze()}),$e(A,"$numerator",Q("num")),$e(A,"$denominator",Q("den")),$e(A,"$coerce",function(d){var T=this,h=B;return V(p("Rational"),h=d)?[d,T]:V(p("Integer"),h)?[d.$to_r(),T]:V(p("Float"),h)?[d,T.$to_f()]:B}),$e(A,"$==",function(d){var T=this,h=B,l=B;return V(p("Rational"),h=d)?S(l=T.num["$=="](d.$numerator()))?T.den["$=="](d.$denominator()):l:V(p("Integer"),h)?S(l=T.num["$=="](d))?T.den["$=="](1):l:V(p("Float"),h)?T.$to_f()["$=="](d):d["$=="](T)}),$e(A,"$<=>",function(d){var T=this,h=B;return V(p("Rational"),h=d)?J(re(T.num,d.$denominator()),re(T.den,d.$numerator()))["$<=>"](0):V(p("Integer"),h)?J(T.num,re(T.den,d))["$<=>"](0):V(p("Float"),h)?T.$to_f()["$<=>"](d):T.$__coerced__("<=>",d)}),$e(A,"$+",function(d){var T=this,h=B,l=B,c=B;return V(p("Rational"),h=d)?(l=D(re(T.num,d.$denominator()),re(T.den,d.$numerator())),c=re(T.den,d.$denominator()),N.$Rational(l,c)):V(p("Integer"),h)?N.$Rational(D(T.num,re(d,T.den)),T.den):V(p("Float"),h)?D(T.$to_f(),d):T.$__coerced__("+",d)}),$e(A,"$-",function(d){var T=this,h=B,l=B,c=B;return V(p("Rational"),h=d)?(l=J(re(T.num,d.$denominator()),re(T.den,d.$numerator())),c=re(T.den,d.$denominator()),N.$Rational(l,c)):V(p("Integer"),h)?N.$Rational(J(T.num,re(d,T.den)),T.den):V(p("Float"),h)?J(T.$to_f(),d):T.$__coerced__("-",d)}),$e(A,"$*",function(d){var T=this,h=B,l=B,c=B;return V(p("Rational"),h=d)?(l=re(T.num,d.$numerator()),c=re(T.den,d.$denominator()),N.$Rational(l,c)):V(p("Integer"),h)?N.$Rational(re(T.num,d),T.den):V(p("Float"),h)?re(T.$to_f(),d):T.$__coerced__("*",d)}),$e(A,"$/",function(d){var T=this,h=B,l=B,c=B;return V(p("Rational"),h=d)?(l=re(T.num,d.$denominator()),c=re(T.den,d.$numerator()),N.$Rational(l,c)):V(p("Integer"),h)?E(d,0)?Z(T.$to_f(),0):N.$Rational(T.num,re(T.den,d)):V(p("Float"),h)?Z(T.$to_f(),d):T.$__coerced__("/",d)}),$e(A,"$**",function(d){var T=this,h=B;return V(p("Integer"),h=d)?E(T,0)&&S(ee(d,0))?p(p("Float"),"INFINITY"):S(b(d,0))?N.$Rational(T.num["$**"](d),T.den["$**"](d)):S(ee(d,0))?N.$Rational(T.den["$**"](d["$-@"]()),T.num["$**"](d["$-@"]())):N.$Rational(1,1):V(p("Float"),h)?T.$to_f()["$**"](d):V(p("Rational"),h)?E(d,0)?N.$Rational(1,1):E(d.$denominator(),1)?S(ee(d,0))?N.$Rational(T.den["$**"](d.$numerator().$abs()),T.num["$**"](d.$numerator().$abs())):N.$Rational(T.num["$**"](d.$numerator()),T.den["$**"](d.$numerator())):E(T,0)&&S(ee(d,0))?N.$raise(p("ZeroDivisionError"),"divided by 0"):T.$to_f()["$**"](d):T.$__coerced__("**",d)}),$e(A,"$abs",function(){var d=this;return N.$Rational(d.num.$abs(),d.den.$abs())}),$e(A,"$ceil",function(d){var T=this;return d==null&&(d=0),E(d,0)?Z(T.num["$-@"](),T.den)["$-@"]().$ceil():T.$with_precision("ceil",d)},-1),$e(A,"$floor",function(d){var T=this;return d==null&&(d=0),E(d,0)?Z(T.num["$-@"](),T.den)["$-@"]().$floor():T.$with_precision("floor",d)},-1),$e(A,"$hash",function(){var d=this;return[p("Rational"),d.num,d.den].$hash()}),$e(A,"$inspect",function(){var d=this;return"("+d+")"}),$e(A,"$rationalize",function(d){var T=this;if(arguments.length>1&&N.$raise(p("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d==null)return T;for(var h=d.$abs(),l=J(T,h),c=D(T,h),X=0,w=1,s=1,a=0,$,n,t,r,i;t=l.$ceil(),!y(t,c);)r=t-1,$=r*w+X,n=r*a+s,i=Z(1,J(c,r)),c=Z(1,J(l,r)),l=i,X=w,s=a,w=$,a=n;return N.$Rational(t*w+X,t*a+s)},-1),$e(A,"$round",function(d){var T=this,h=B,l=B,c=B;return d==null&&(d=0),E(d,0)?E(T.num,0)?0:E(T.den,1)?T.num:(h=D(re(T.num.$abs(),2),T.den),l=re(T.den,2),c=Z(h,l).$truncate(),S(ee(T.num,0))?c["$-@"]():c):T.$with_precision("round",d)},-1),$e(A,"$to_f",function(){var d=this;return Z(d.num,d.den)}),$e(A,"$to_i",function(){var d=this;return d.$truncate()}),$e(A,"$to_r",K),$e(A,"$to_s",function(){var d=this;return""+d.num+"/"+d.den}),$e(A,"$truncate",function(d){var T=this;return d==null&&(d=0),E(d,0)?S(ee(T.num,0))?T.$ceil():T.$floor():T.$with_precision("truncate",d)},-1),$e(A,"$with_precision",function(d,T){var h=this,l=B,c=B;return V(p("Integer"),T)||N.$raise(p("TypeError"),"not an Integer"),l=10["$**"](T),c=re(h,l),S(ee(T,1))?Z(c.$send(d),l).$to_i():N.$Rational(c.$send(d),l)}),R(A,"$from_string",function(d){var T=d.trimLeft(),h=/^[+-]?[\d_]+(\.[\d_]+)?/;T.match(h);var l,c;function X(){return h.test(T)}function w(){var s=T.match(h),a=s[0];return T=T.slice(a.length),a.replace(/_/g,"")}return X()?(l=parseFloat(w()),T[0]==="/"?(T=T.slice(1),X()?(c=parseFloat(w()),N.$Rational(l,c)):N.$Rational(l,1)):N.$Rational(l,1)):N.$Rational(0,1)}),F(A,"divide","/"),F(A,"quo","/")}("::",p("Numeric"))};Opal.modules["corelib/time"]=function(e){var x=e.slice,E=e.deny_frozen_access,N=e.klass,S=e.Kernel,ee=e.Opal,Z=e.defs,R=e.eqeqeq,V=e.def,g=e.truthy,H=e.rb_gt,$e=e.rb_lt,Q=e.send,J=e.rb_plus,re=e.rb_divide,D=e.rb_minus,b=e.range,y=e.neqeq,K=e.rb_le,F=e.eqeq,z=e.alias,B=e.top,p=[],k=e.nil,P=e.$$$;return e.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),B.$require("corelib/comparable"),function(A,q,o){var d=N(A,q,"Time"),T=[d].concat(o),h=e.$r(T);d.$include(P("Comparable"));var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=["January","February","March","April","May","June","July","August","September","October","November","December"];Z(d,"$at",function($,n){var t;return P("Time")["$==="]($)?(n!==void 0&&S.$raise(P("TypeError"),"can't convert Time into an exact number"),t=new Date($.getTime()),t.timezone=$.timezone,t):($.$$is_number||($=ee["$coerce_to!"]($,P("Integer"),"to_int")),n===void 0?new Date($*1e3):(n.$$is_number||(n=ee["$coerce_to!"](n,P("Integer"),"to_int")),new Date($*1e3+n/1e3)))},-2);function s(a,$,n,t,r,i){if(a.$$is_string?a=parseInt(a,10):a=ee["$coerce_to!"](a,P("Integer"),"to_int"),$===k)$=1;else if(!$.$$is_number)if($["$respond_to?"]("to_str"))switch($=$.$to_str(),$.toLowerCase()){case"jan":$=1;break;case"feb":$=2;break;case"mar":$=3;break;case"apr":$=4;break;case"may":$=5;break;case"jun":$=6;break;case"jul":$=7;break;case"aug":$=8;break;case"sep":$=9;break;case"oct":$=10;break;case"nov":$=11;break;case"dec":$=12;break;default:$=$.$to_i()}else $=ee["$coerce_to!"]($,P("Integer"),"to_int");return($<1||$>12)&&S.$raise(P("ArgumentError"),"month out of range: "+$),$=$-1,n===k?n=1:n.$$is_string?n=parseInt(n,10):n=ee["$coerce_to!"](n,P("Integer"),"to_int"),(n<1||n>31)&&S.$raise(P("ArgumentError"),"day out of range: "+n),t===k?t=0:t.$$is_string?t=parseInt(t,10):t=ee["$coerce_to!"](t,P("Integer"),"to_int"),(t<0||t>24)&&S.$raise(P("ArgumentError"),"hour out of range: "+t),r===k?r=0:r.$$is_string?r=parseInt(r,10):r=ee["$coerce_to!"](r,P("Integer"),"to_int"),(r<0||r>59)&&S.$raise(P("ArgumentError"),"min out of range: "+r),i===k?i=0:i.$$is_number||(i.$$is_string?i=parseInt(i,10):i=ee["$coerce_to!"](i,P("Integer"),"to_int")),(i<0||i>60)&&S.$raise(P("ArgumentError"),"sec out of range: "+i),[a,$,n,t,r,i]}return Z(d,"$new",function($,n,t,r,i,u,f){var v=this;n==null&&(n=k),t==null&&(t=k),r==null&&(r=k),i==null&&(i=k),u==null&&(u=k),f==null&&(f=k);var I,C,M,G;return $===void 0?new Date:(I=s($,n,t,r,i,u),$=I[0],n=I[1],t=I[2],r=I[3],i=I[4],u=I[5],f===k?(C=new Date($,n,t,r,i,0,u*1e3),$<100&&C.setFullYear($),C):(M=v.$_parse_offset(f),G=new Date(Date.UTC($,n,t,r,i,0,u*1e3)),$<100&&G.setUTCFullYear($),C=new Date(G.getTime()-M*36e5),C.timezone=M,C))},-1),Z(d,"$_parse_offset",function($){var n;if($.$$is_string)if($=="UTC")n=0;else if(/^[+-]\d\d:[0-5]\d$/.test($)){var t,r,i;t=$[0],r=+($[1]+$[2]),i=+($[4]+$[5]),n=(t=="-"?-1:1)*(r+i/60)}else S.$raise(P("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+$);else $.$$is_number?n=$/3600:S.$raise(P("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return n}),Z(d,"$local",function($,n,t,r,i,u,f,v,I,C){n==null&&(n=k),t==null&&(t=k),r==null&&(r=k),i==null&&(i=k),u==null&&(u=k),f==null&&(f=k),v==null&&(v=k),I==null&&(I=k),C==null&&(C=k);var M,G;return arguments.length===10&&(M=x(arguments),$=M[5],n=M[4],t=M[3],r=M[2],i=M[1],u=M[0]),M=s($,n,t,r,i,u),$=M[0],n=M[1],t=M[2],r=M[3],i=M[4],u=M[5],G=new Date($,n,t,r,i,0,u*1e3),$<100&&G.setFullYear($),G},-2),Z(d,"$gm",function($,n,t,r,i,u,f,v,I,C){n==null&&(n=k),t==null&&(t=k),r==null&&(r=k),i==null&&(i=k),u==null&&(u=k),f==null&&(f=k),v==null&&(v=k),I==null&&(I=k),C==null&&(C=k);var M,G;return arguments.length===10&&(M=x(arguments),$=M[5],n=M[4],t=M[3],r=M[2],i=M[1],u=M[0]),M=s($,n,t,r,i,u),$=M[0],n=M[1],t=M[2],r=M[3],i=M[4],u=M[5],G=new Date(Date.UTC($,n,t,r,i,0,u*1e3)),$<100&&G.setUTCFullYear($),G.timezone=0,G},-2),Z(d,"$now",function(){var $=this;return $.$new()}),V(d,"$+",function($){var n=this;R(P("Time"),$)&&S.$raise(P("TypeError"),"time + time?"),$.$$is_number||($=ee["$coerce_to!"]($,P("Integer"),"to_int"));var t=new Date(n.getTime()+$*1e3);return t.timezone=n.timezone,t}),V(d,"$-",function($){var n=this;if(R(P("Time"),$))return(n.getTime()-$.getTime())/1e3;$.$$is_number||($=ee["$coerce_to!"]($,P("Integer"),"to_int"));var t=new Date(n.getTime()-$*1e3);return t.timezone=n.timezone,t}),V(d,"$<=>",function($){var n=this,t=k;return R(P("Time"),$)?n.$to_f()["$<=>"]($.$to_f()):(t=$["$<=>"](n),g(t["$nil?"]())?k:g(H(t,0))?-1:g($e(t,0))?1:0)}),V(d,"$==",function($){var n=this,t=k;return g(t=P("Time")["$==="]($))?n.$to_f()===$.$to_f():t}),V(d,"$asctime",function(){var $=this;return $.$strftime("%a %b %e %H:%M:%S %Y")}),Q([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function a($,n,t,r){var i=a.$$s==null?this:a.$$s;return $==null&&($=k),n==null&&(n=k),t==null&&(t=k),r==null&&(r=0),Q(i,"define_method",[$],function u(){var f=u.$$s==null?this:u.$$s;return r+(f.timezone!=null?new Date(f.getTime()+f.timezone*36e5)[t]():f[n]())},{$$s:i})},{$$arity:-4,$$s:d}),V(d,"$yday",function(){var $=this,n=k,t=k,r=k;return n=h("Time").$new($.$year()).$to_i(),t=h("Time").$new($.$year(),$.$month(),$.$day()).$to_i(),r=86400,J(re(D(t,n),r).$round(),1)}),V(d,"$isdst",function(){var $=this,n=new Date($.getFullYear(),0,1),t=new Date($.getFullYear(),6,1);return $.getTimezoneOffset()<Math.max(n.getTimezoneOffset(),t.getTimezoneOffset())}),V(d,"$dup",function(){var $=this,n=k;return n=new Date($.getTime()),n.$copy_instance_variables($),n.$initialize_dup($),n}),V(d,"$eql?",function($){var n=this,t=k;return g(t=$["$is_a?"](P("Time")))?n["$<=>"]($)["$zero?"]():t}),Q([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function a($,n){var t=a.$$s==null?this:a.$$s;return $==null&&($=k),n==null&&(n=k),Q(t,"define_method",[$],function r(){var i=r.$$s==null?this:r.$$s;return i.$wday()===n},{$$s:t})},{$$s:d}),V(d,"$hash",function(){var $=this;return[P("Time"),$.getTime()].$hash()}),V(d,"$inspect",function(){var $=this;return g($["$utc?"]())?$.$strftime("%Y-%m-%d %H:%M:%S UTC"):$.$strftime("%Y-%m-%d %H:%M:%S %z")}),V(d,"$succ",function(){var $=this,n=new Date($.getTime()+1e3);return n.timezone=$.timezone,n}),V(d,"$usec",function(){var $=this;return $.getMilliseconds()*1e3}),V(d,"$zone",function(){var $=this;if($.timezone===0)return"UTC";if($.timezone!=null)return k;var n=$.toString(),t;return n.indexOf("(")==-1?t=n.match(/[A-Z]{3,4}/)[0]:t=n.match(/\((.+)\)(?:\s|$)/)[1],t=="GMT"&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:t}),V(d,"$getgm",function(){var $=this,n=new Date($.getTime());return n.timezone=0,n}),V(d,"$gmtime",function(){var $=this;return $.timezone!==0&&(E($),$.timezone=0),$}),V(d,"$gmt?",function(){var $=this;return $.timezone===0}),V(d,"$gmt_offset",function(){var $=this;return $.timezone!=null?$.timezone*60:-$.getTimezoneOffset()*60}),V(d,"$strftime",function($){var n=this;return $.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,r,i,u,f){var v="",I,C,M,G=r.indexOf("0")!==-1,O=r.indexOf("-")===-1,ae=r.indexOf("_")!==-1,le=r.indexOf("^")!==-1,ce=r.indexOf("#")!==-1,de=(r.match(":")||[]).length;switch(i=parseInt(i,10),G&&ae&&(r.indexOf("0")<r.indexOf("_")?G=!1:ae=!1),f){case"Y":v+=n.$year();break;case"C":G=!ae,v+=Math.round(n.$year()/100);break;case"y":G=!ae,v+=n.$year()%100;break;case"m":G=!ae,v+=n.$mon();break;case"B":v+=w[n.$mon()-1];break;case"b":case"h":ae=!G,v+=X[n.$mon()-1];break;case"d":G=!ae,v+=n.$day();break;case"e":ae=!G,v+=n.$day();break;case"j":G=!ae,i=isNaN(i)?3:i,v+=n.$yday();break;case"H":G=!ae,v+=n.$hour();break;case"k":ae=!G,v+=n.$hour();break;case"I":G=!ae,v+=n.$hour()%12||12;break;case"l":ae=!G,v+=n.$hour()%12||12;break;case"P":v+=n.$hour()>=12?"pm":"am";break;case"p":v+=n.$hour()>=12?"PM":"AM";break;case"M":G=!ae,v+=n.$min();break;case"S":G=!ae,v+=n.$sec();break;case"L":G=!ae,i=isNaN(i)?3:i,v+=n.getMilliseconds();break;case"N":i=isNaN(i)?9:i,v+=n.getMilliseconds().toString().$rjust(3,"0"),v=v.$ljust(i,"0");break;case"z":var he=n.timezone==null?n.getTimezoneOffset():-n.timezone*60,ve=Math.floor(Math.abs(he)/60),me=Math.abs(he)%60;v+=he<0?"+":"-",v+=ve<10?"0":"",v+=ve,de>0&&(v+=":"),v+=me<10?"0":"",v+=me,de>1&&(v+=":00");break;case"Z":v+=n.$zone();break;case"A":v+=l[n.$wday()];break;case"a":v+=c[n.$wday()];break;case"u":v+=n.$wday()+1;break;case"w":v+=n.$wday();break;case"V":v+=n.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":v+=n.$cweek_cyear()["$[]"](1);break;case"g":v+=n.$cweek_cyear()["$[]"](1)["$[]"](b(-2,-1,!1));break;case"s":v+=n.$to_i();break;case"n":v+=`
`;break;case"t":v+="	";break;case"%":v+="%";break;case"c":v+=n.$strftime("%a %b %e %T %Y");break;case"D":case"x":v+=n.$strftime("%m/%d/%y");break;case"F":v+=n.$strftime("%Y-%m-%d");break;case"v":v+=n.$strftime("%e-%^b-%4Y");break;case"r":v+=n.$strftime("%I:%M:%S %p");break;case"R":v+=n.$strftime("%H:%M");break;case"T":case"X":v+=n.$strftime("%H:%M:%S");break;case"J":if(I=n.$to_date().$jd(),I<2405160){v+=n.$strftime("%Y-%m-%d");break}else I<2419614?(C="M",M=1867):I<2424875?(C="T",M=1911):I<2447535?(C="S",M=1925):I<2458605?(C="H",M=1988):(C="R",M=2018);v+=n.$format("%c%02d",C,D(n.$year(),M)),v+=n.$strftime("-%m-%d");break;default:return t}return le&&(v=v.toUpperCase()),ce&&(v=v.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),O&&(G||ae)&&(v=v.$rjust(isNaN(i)?2:i,ae?" ":"0")),v})}),V(d,"$to_a",function(){var $=this;return[$.$sec(),$.$min(),$.$hour(),$.$day(),$.$month(),$.$year(),$.$wday(),$.$yday(),$.$isdst(),$.$zone()]}),V(d,"$to_f",function(){var $=this;return $.getTime()/1e3}),V(d,"$to_i",function(){var $=this;return parseInt($.getTime()/1e3,10)}),V(d,"$cweek_cyear",function(){var $=this,n=k,t=k,r=k,i=k,u=k,f=k,v=k;return n=P("Time").$new($.$year(),1,1),t=n.$wday(),r=$.$year(),g(K(t,4))&&y(t,0)?i=D(t,1):(i=D(D(t,7),1),F(i,-8)&&(i=-1)),u=re(J($.$yday(),i),7).$ceil(),g(K(u,0))?P("Time").$new(D($.$year(),1),12,31).$cweek_cyear():(F(u,53)&&(f=P("Time").$new($.$year(),12,31),v=f.$wday(),g(K(v,3))&&y(v,0)&&(u=1,r=J(r,1))),[u,r])}),function(a,$){return z(a,"mktime","local"),z(a,"utc","gm")}(e.get_singleton_class(d)),z(d,"ctime","asctime"),z(d,"dst?","isdst"),z(d,"getutc","getgm"),z(d,"gmtoff","gmt_offset"),z(d,"mday","day"),z(d,"month","mon"),z(d,"to_s","inspect"),z(d,"tv_sec","to_i"),z(d,"tv_usec","usec"),z(d,"utc","gmtime"),z(d,"utc?","gmt?"),z(d,"utc_offset","gmt_offset")}("::",Date,p)};Opal.modules["corelib/struct"]=function(e){var x=e.klass,E=e.slice,N=e.extract_kwargs,S=e.ensure_kwargs,ee=e.hash_get,Z=e.truthy,R=e.neqeq,V=e.eqeq,g=e.Opal,H=e.send,$e=e.Class,Q=e.to_a,J=e.def,re=e.defs,D=e.Kernel,b=e.rb_gt,y=e.rb_minus,K=e.eqeqeq,F=e.rb_lt,z=e.rb_ge,B=e.rb_plus,p=e.alias,k=e.top,P=[],A=e.nil,q=e.$$$;return e.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),k.$require("corelib/enumerable"),function(o,d,T){var h=x(o,d,"Struct"),l=[h].concat(T),c=e.$r(l);h.$include(q("Enumerable")),re(h,"$new",function w(s,a,$){var n=w.$$p||A,t,r,i,u,f=this,v=A;if(w.$$p=null,t=E(arguments,1),r=N(t),r=S(r),i=t,u=ee(r,"keyword_init"),u==null&&(u=!1),Z(s))if(V(s.$class(),q("String"))&&R(s["$[]"](0).$upcase(),s["$[]"](0)))i.$unshift(s),s=A;else try{s=g["$const_name!"](s)}catch(I){if(e.rescue(I,[q("TypeError"),q("NameError")]))try{i.$unshift(s),s=A}finally{e.pop_exception(I)}else throw I}return H(i,"map",[],function(C){return C==null&&(C=A),g["$coerce_to!"](C,q("String"),"to_str")}),v=H($e,"new",[f],function I(){var C=I.$$s==null?this:I.$$s;return H(i,"each",[],function M(G){var O=M.$$s==null?this:M.$$s;return G==null&&(G=A),O.$define_struct_attribute(G)},{$$s:C}),function(M,G){return J(M,"$new",function(ae){var le,ce,de=this,he=A;return le=E(arguments),ce=le,he=de.$allocate(),he.$$data={},H(he,"initialize",Q(ce)),he},-1),M.$alias_method("[]","new")}(e.get_singleton_class(C))},{$$s:f}),Z(n)&&H(v,"module_eval",[],n.$to_proc()),v.$$keyword_init=u,Z(s)&&q("Struct").$const_set(s,v),v},-2),re(h,"$define_struct_attribute",function(s){var a=this;return V(a,q("Struct"))&&D.$raise(q("ArgumentError"),"you cannot define attributes to the Struct class"),a.$members()["$<<"](s),H(a,"define_method",[s],function $(){var n=$.$$s==null?this:$.$$s;return n.$$data[s]},{$$s:a}),H(a,"define_method",[""+s+"="],function $(n){var t=$.$$s==null?this:$.$$s;return n==null&&(n=A),t.$$data[s]=n},{$$s:a})}),re(h,"$members",function(){var s=this,a=A;return s.members==null&&(s.members=A),V(s,q("Struct"))&&D.$raise(q("ArgumentError"),"the Struct class has no members"),s.members=Z(a=s.members)?a:[]}),re(h,"$inherited",function(s){var a=this,$=A;return a.members==null&&(a.members=A),$=a.members,H(s,"instance_eval",[],function n(){var t=n.$$s==null?this:n.$$s;return t.members=$},{$$s:a})}),J(h,"$initialize",function(s){var a,$,n=this,t=A,r=A,i=A;return a=E(arguments),$=a,Z(n.$class().$$keyword_init)?(t=Z(r=$.$last())?r:new Map,(Z(b($.$length(),1))||Z($.length===1&&!t.$$is_hash))&&D.$raise(q("ArgumentError"),"wrong number of arguments (given "+$.$length()+", expected 0)"),i=y(t.$keys(),n.$class().$members()),Z(i["$any?"]())&&D.$raise(q("ArgumentError"),"unknown keywords: "+i.$join(", ")),H(n.$class().$members(),"each",[],function u(f){var v,I=u.$$s==null?this:u.$$s;return f==null&&(f=A),v=[f,t["$[]"](f)],H(I,"[]=",v),v[v.length-1]},{$$s:n})):(Z(b($.$length(),n.$class().$members().$length()))&&D.$raise(q("ArgumentError"),"struct size differs"),H(n.$class().$members(),"each_with_index",[],function u(f,v){var I,C=u.$$s==null?this:u.$$s;return f==null&&(f=A),v==null&&(v=A),I=[f,$["$[]"](v)],H(C,"[]=",I),I[I.length-1]},{$$s:n}))},-1),J(h,"$initialize_copy",function(s){var a=this;a.$$data={};var $=Object.keys(s.$$data),n,t,r;for(n=0,t=$.length;n<t;n++)r=$[n],a.$$data[r]=s.$$data[r]}),re(h,"$keyword_init?",function(){var s=this;return s.$$keyword_init}),J(h,"$members",function(){var s=this;return s.$class().$members()}),J(h,"$hash",function(){var s=this;return[s.$class(),s.$to_a()].$hash()}),J(h,"$[]",function(s){var a=this;return K(q("Integer"),s)?(Z(F(s,a.$class().$members().$size()["$-@"]()))&&D.$raise(q("IndexError"),"offset "+s+" too small for struct(size:"+a.$class().$members().$size()+")"),Z(z(s,a.$class().$members().$size()))&&D.$raise(q("IndexError"),"offset "+s+" too large for struct(size:"+a.$class().$members().$size()+")"),s=a.$class().$members()["$[]"](s)):K(q("String"),s)?a.$$data.hasOwnProperty(s)||D.$raise(q("NameError").$new("no member '"+s+"' in struct",s)):D.$raise(q("TypeError"),"no implicit conversion of "+s.$class()+" into Integer"),s=g["$coerce_to!"](s,q("String"),"to_str"),a.$$data[s]}),J(h,"$[]=",function(s,a){var $=this;return K(q("Integer"),s)?(Z(F(s,$.$class().$members().$size()["$-@"]()))&&D.$raise(q("IndexError"),"offset "+s+" too small for struct(size:"+$.$class().$members().$size()+")"),Z(z(s,$.$class().$members().$size()))&&D.$raise(q("IndexError"),"offset "+s+" too large for struct(size:"+$.$class().$members().$size()+")"),s=$.$class().$members()["$[]"](s)):K(q("String"),s)?Z($.$class().$members()["$include?"](s.$to_sym()))||D.$raise(q("NameError").$new("no member '"+s+"' in struct",s)):D.$raise(q("TypeError"),"no implicit conversion of "+s.$class()+" into Integer"),s=g["$coerce_to!"](s,q("String"),"to_str"),$.$$data[s]=a}),J(h,"$==",function(s){var a=this;if(!Z(s["$instance_of?"](a.$class())))return!1;var $={},n={};function t(r,i){var u,f,v;$[r.$__id__()]=!0,n[i.$__id__()]=!0;for(u in r.$$data)if(f=r.$$data[u],v=i.$$data[u],q("Struct")["$==="](f)){if((!$.hasOwnProperty(f.$__id__())||!n.hasOwnProperty(v.$__id__()))&&!t(f,v))return!1}else if(!f["$=="](v))return!1;return!0}return t(a,s)}),J(h,"$eql?",function(s){var a=this;if(!Z(s["$instance_of?"](a.$class())))return!1;var $={},n={};function t(r,i){var u,f,v;$[r.$__id__()]=!0,n[i.$__id__()]=!0;for(u in r.$$data)if(f=r.$$data[u],v=i.$$data[u],q("Struct")["$==="](f)){if((!$.hasOwnProperty(f.$__id__())||!n.hasOwnProperty(v.$__id__()))&&!t(f,v))return!1}else if(!f["$eql?"](v))return!1;return!0}return t(a,s)}),J(h,"$each",function w(){var s=w.$$p||A,a=this;return w.$$p=null,s===A?H(a,"enum_for",["each"],function $(){var n=$.$$s==null?this:$.$$s;return n.$size()},{$$s:a}):(H(a.$class().$members(),"each",[],function $(n){var t=$.$$s==null?this:$.$$s;return n==null&&(n=A),e.yield1(s,t["$[]"](n))},{$$s:a}),a)}),J(h,"$each_pair",function w(){var s=w.$$p||A,a=this;return w.$$p=null,s===A?H(a,"enum_for",["each_pair"],function $(){var n=$.$$s==null?this:$.$$s;return n.$size()},{$$s:a}):(H(a.$class().$members(),"each",[],function $(n){var t=$.$$s==null?this:$.$$s;return n==null&&(n=A),e.yield1(s,[n,t["$[]"](n)])},{$$s:a}),a)}),J(h,"$length",function(){var s=this;return s.$class().$members().$length()}),J(h,"$to_a",function(){var s=this;return H(s.$class().$members(),"map",[],function a($){var n=a.$$s==null?this:a.$$s;return $==null&&($=A),n["$[]"]($)},{$$s:s})});var X=[];return J(h,"$inspect",function(){var s=this,a=A,$=A;return function(){try{return a="#<struct ",Z(X["$include?"](s.$__id__()))?B(a,":...>"):(X["$<<"](s.$__id__()),$=!0,K(q("Struct"),s)&&Z(s.$class().$name())&&(a=B(a,""+s.$class()+" ")),a=B(a,H(s.$each_pair(),"map",[],function(t,r){return t==null&&(t=A),r==null&&(r=A),""+t+"="+c("Opal").$inspect(r)}).$join(", ")),a=B(a,">"),a)}finally{Z($)&&X.pop()}}()}),J(h,"$to_h",function w(s){var a=w.$$p||A,$,n,t=this;return w.$$p=null,$=E(arguments),n=$,a!==A?H(H(t,"map",[],a.$to_proc()),"to_h",Q(n)):H(t.$class().$members(),"each_with_object",[new Map],function r(i,u){var f,v=r.$$s==null?this:r.$$s;return i==null&&(i=A),u==null&&(u=A),f=[i,v["$[]"](i)],H(u,"[]=",f),f[f.length-1]},{$$s:t})},-1),J(h,"$values_at",function(s){var a,$,n=this;a=E(arguments),$=a,$=H($,"map",[],function(f){return f==null&&(f=A),f.$$is_range?f.$to_a():f}).$flatten();for(var t=[],r=0,i=$.length;r<i;r++)$[r].$$is_number||D.$raise(q("TypeError"),"no implicit conversion of "+$[r].$class()+" into Integer"),t.push(n["$[]"]($[r]));return t},-1),J(h,"$dig",function(s,a){var $,n,t=this,r=A;return $=E(arguments,1),n=$,r=Z(s.$$is_string&&t.$$data.hasOwnProperty(s))&&t.$$data[s]||A,r===A||n.length===0?r:(Z(r["$respond_to?"]("dig"))||D.$raise(q("TypeError"),""+r.$class()+" does not have #dig method"),H(r,"dig",Q(n)))},-2),p(h,"size","length"),p(h,"to_s","inspect"),p(h,"values","to_a")}("::",null,P)};Opal.modules["corelib/set"]=function(e){var x=e.freeze,E=e.klass,N=e.slice,S=e.defs,ee=e.truthy,Z=e.eqeqeq,R=e.Kernel,V=e.send,g=e.def,H=e.eqeq,$e=e.rb_lt,Q=e.rb_le,J=e.alias,re=[],D=e.nil,b=e.$$$;return e.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(y,K,F){var z=E(y,K,"Set"),B=[z].concat(F),p=e.$r(B),k=D,P=z.$$prototype;P.hash=D,z.$include(b("Enumerable")),S(z,"$[]",function(o){var d,T,h=this;return d=N(arguments),T=d,h.$new(T)},-1),g(z,"$initialize",function q(o){var d=q.$$p||D,T=this;return q.$$p=null,o==null&&(o=D),T.hash=new Map,ee(o["$nil?"]())?D:(Z(b("Enumerable"),o)||R.$raise(b("ArgumentError"),"value must be enumerable"),ee(d)?V(o,"each",[],function h(l){var c=h.$$s==null?this:h.$$s;return l==null&&(l=D),c.$add(e.yield1(d,l))},{$$s:T}):T.$merge(o))},-1),g(z,"$dup",function(){var o=this,d=D;return d=o.$class().$new(),d.$merge(o)}),g(z,"$-",function(o){var d=this;return ee(o["$respond_to?"]("each"))||R.$raise(b("ArgumentError"),"value must be enumerable"),d.$dup().$subtract(o)}),g(z,"$inspect",function(){var o=this;return"#<Set: {"+o.$to_a().$join(",")+"}>"}),g(z,"$==",function(o){var d=this;return ee(d["$equal?"](o))?!0:ee(o["$instance_of?"](d.$class()))?d.hash["$=="](o.$instance_variable_get("@hash")):ee(o["$is_a?"](b("Set")))&&H(d.$size(),o.$size())?V(o,"all?",[],function T(h){var l=T.$$s==null?this:T.$$s;return l.hash==null&&(l.hash=D),h==null&&(h=D),l.hash["$include?"](h)},{$$s:d}):!1}),g(z,"$add",function(o){var d=this;return d.hash["$[]="](o,!0),d}),g(z,"$classify",function q(){var o=q.$$p||D,d=this,T=D;return q.$$p=null,o===D?d.$enum_for("classify"):(T=V(b("Hash"),"new",[],function h(l,c){var X,w=h.$$s==null?this:h.$$s;return l==null&&(l=D),c==null&&(c=D),X=[c,w.$class().$new()],V(l,"[]=",X),X[X.length-1]},{$$s:d}),V(d,"each",[],function(l){return l==null&&(l=D),T["$[]"](e.yield1(o,l)).$add(l)}),T)}),g(z,"$collect!",function q(){var o=q.$$p||D,d=this,T=D;return q.$$p=null,o===D?d.$enum_for("collect!"):(T=d.$class().$new(),V(d,"each",[],function(l){return l==null&&(l=D),T["$<<"](e.yield1(o,l))}),d.$replace(T))}),g(z,"$compare_by_identity",function(){var o=this;return ee(o.hash["$respond_to?"]("compare_by_identity"))?(o.hash.$compare_by_identity(),o):o.$raise(p("NotImplementedError"),""+o.$class().$name()+"#compare_by_identity is not implemented")}),g(z,"$compare_by_identity?",function(){var o=this,d=D;return ee(d=o.hash["$respond_to?"]("compare_by_identity?"))?o.hash["$compare_by_identity?"]():d}),g(z,"$delete",function(o){var d=this;return d.hash.$delete(o),d}),g(z,"$delete?",function(o){var d=this;return ee(d["$include?"](o))?(d.$delete(o),d):D}),g(z,"$delete_if",function q(){var o=q.$$p||D,d=this;return q.$$p=null,o===D?d.$enum_for("delete_if"):(V(V(d,"select",[],function(h){return h==null&&(h=D),e.yield1(o,h)}),"each",[],function T(h){var l=T.$$s==null?this:T.$$s;return l.hash==null&&(l.hash=D),h==null&&(h=D),l.hash.$delete(h)},{$$s:d}),d)}),g(z,"$freeze",function(){var o=this;return ee(o["$frozen?"]())?o:(o.hash.$freeze(),x(o))}),g(z,"$keep_if",function q(){var o=q.$$p||D,d=this;return q.$$p=null,o===D?d.$enum_for("keep_if"):(V(V(d,"reject",[],function(h){return h==null&&(h=D),e.yield1(o,h)}),"each",[],function T(h){var l=T.$$s==null?this:T.$$s;return l.hash==null&&(l.hash=D),h==null&&(h=D),l.hash.$delete(h)},{$$s:d}),d)}),g(z,"$reject!",function q(){var o=q.$$p||D,d=this,T=D;return q.$$p=null,o===D?d.$enum_for("reject!"):(T=d.$size(),V(d,"delete_if",[],o.$to_proc()),H(d.$size(),T)?D:d)}),g(z,"$select!",function q(){var o=q.$$p||D,d=this,T=D;return q.$$p=null,o===D?d.$enum_for("select!"):(T=d.$size(),V(d,"keep_if",[],o.$to_proc()),H(d.$size(),T)?D:d)}),g(z,"$add?",function(o){var d=this;return ee(d["$include?"](o))?D:d.$add(o)}),g(z,"$each",function q(){var o=q.$$p||D,d=this;return q.$$p=null,o===D?d.$enum_for("each"):(V(d.hash,"each_key",[],o.$to_proc()),d)}),g(z,"$empty?",function(){var o=this;return o.hash["$empty?"]()}),g(z,"$eql?",function(o){var d=this;return d.hash["$eql?"](V(o,"instance_eval",[],function T(){var h=T.$$s==null?this:T.$$s;return h.hash==null&&(h.hash=D),h.hash},{$$s:d}))}),g(z,"$clear",function(){var o=this;return o.hash.$clear(),o}),g(z,"$include?",function(o){var d=this;return d.hash["$include?"](o)}),g(z,"$merge",function(o){var d=this;return V(o,"each",[],function T(h){var l=T.$$s==null?this:T.$$s;return h==null&&(h=D),l.$add(h)},{$$s:d}),d}),g(z,"$replace",function(o){var d=this;return d.$clear(),d.$merge(o),d}),g(z,"$size",function(){var o=this;return o.hash.$size()}),g(z,"$subtract",function(o){var d=this;return V(o,"each",[],function T(h){var l=T.$$s==null?this:T.$$s;return h==null&&(h=D),l.$delete(h)},{$$s:d}),d}),g(z,"$|",function(o){var d=this;return ee(o["$respond_to?"]("each"))||R.$raise(b("ArgumentError"),"value must be enumerable"),d.$dup().$merge(o)});function A(q){ee(k=q["$is_a?"](b("Set")))||R.$raise(b("ArgumentError"),"value must be a set")}return g(z,"$superset?",function(o){var d=this;return A(o),ee($e(d.$size(),o.$size()))?!1:V(o,"all?",[],function T(h){var l=T.$$s==null?this:T.$$s;return h==null&&(h=D),l["$include?"](h)},{$$s:d})}),g(z,"$proper_superset?",function(o){var d=this;return A(o),ee(Q(d.$size(),o.$size()))?!1:V(o,"all?",[],function T(h){var l=T.$$s==null?this:T.$$s;return h==null&&(h=D),l["$include?"](h)},{$$s:d})}),g(z,"$subset?",function(o){var d=this;return A(o),ee($e(o.$size(),d.$size()))?!1:V(d,"all?",[],function(h){return h==null&&(h=D),o["$include?"](h)})}),g(z,"$proper_subset?",function(o){var d=this;return A(o),ee(Q(o.$size(),d.$size()))?!1:V(d,"all?",[],function(h){return h==null&&(h=D),o["$include?"](h)})}),g(z,"$intersect?",function(o){var d=this;return A(o),ee($e(d.$size(),o.$size()))?V(d,"any?",[],function(h){return h==null&&(h=D),o["$include?"](h)}):V(o,"any?",[],function T(h){var l=T.$$s==null?this:T.$$s;return h==null&&(h=D),l["$include?"](h)},{$$s:d})}),g(z,"$disjoint?",function(o){var d=this;return d["$intersect?"](o)["$!"]()}),g(z,"$to_a",function(){var o=this;return o.hash.$keys()}),J(z,"+","|"),J(z,"<","proper_subset?"),J(z,"<<","add"),J(z,"<=","subset?"),J(z,">","proper_superset?"),J(z,">=","superset?"),J(z,"difference","-"),J(z,"filter!","select!"),J(z,"length","size"),J(z,"map!","collect!"),J(z,"member?","include?"),J(z,"union","|")}("::",null,re)};Opal.modules["corelib/dir"]=function(e){var x=e.klass,E=e.def,N=e.truthy,S=e.alias,ee=e.nil,Z=e.$$$;return e.add_stubs("[],pwd"),function(R,V,g){var H=x(R,V,"Dir");return function($e,Q){return E($e,"$chdir",function J(re){var D=J.$$p||ee,b=ee;return J.$$p=null,function(){try{return b=e.current_dir,e.current_dir=re,e.yieldX(D,[])}finally{e.current_dir=b}}()}),E($e,"$pwd",function(){return e.current_dir||"."}),E($e,"$home",function(){var re=ee;return N(re=Z("ENV")["$[]"]("HOME"))?re:"."}),S($e,"getwd","pwd")}(e.get_singleton_class(H))}("::",null)};Opal.modules["corelib/file"]=function(e){var x=e.truthy,E=e.klass,N=e.const_set,S=e.Opal,ee=e.regexp,Z=e.rb_plus,R=e.def,V=e.Kernel,g=e.eqeq,H=e.rb_lt,$e=e.rb_minus,Q=e.range,J=e.send,re=e.slice,D=e.alias,b=[],y=e.nil,K=e.$$$;return e.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(F,z,B){var p=E(F,z,"File"),k=[p].concat(B),P=y;return N(k[0],"Separator",N(k[0],"SEPARATOR","/")),N(k[0],"ALT_SEPARATOR",y),N(k[0],"PATH_SEPARATOR",":"),N(k[0],"FNM_SYSCASE",0),P=/^[a-zA-Z]:(?:\\|\/)/,function(A,q){var o=[A].concat(q),d=e.$r(o);R(A,"$absolute_path",function(c,X){var w=y,s=y,a=y,$=y,n=y,t=y,r=y,i=y,u=y,f=y;X==null&&(X=y),w=d("SEPARATOR"),s=h(),a=[],c=x(c["$respond_to?"]("to_path"))?c.$to_path():c,c=S["$coerce_to!"](c,K("String"),"to_str"),X=x($=X)?$:K("Dir").$pwd(),n=c.substr(0,w.length)===w||P.test(c),t=X.substr(0,w.length)===w||P.test(X),x(n)?(r=c.$split(ee(["[",s,"]"])),i=P.test(c)?"":c.$sub(ee(["^([",s,"]+).*$"]),"\\1"),u=!0):(r=Z(X.$split(ee(["[",s,"]"])),c.$split(ee(["[",s,"]"]))),i=P.test(X)?"":X.$sub(ee(["^([",s,"]+).*$"]),"\\1"),u=t);for(var v,I=0,C=r.length;I<C;I++)v=r[I],!(v===y||v===""&&(a.length===0||u)||v==="."&&(a.length===0||u))&&(v===".."?a.pop():a.push(v));return!u&&r[0]!=="."&&a.$unshift("."),f=a.$join(w),x(u)&&(f=Z(i,f)),f},-2),R(A,"$expand_path",function(c,X){var w=this,s=y,a=y,$=y,n=y,t=y;return X==null&&(X=y),s=d("SEPARATOR"),a=h(),x(c[0]==="~"||X&&X[0]==="~")&&($=d("Dir").$home(),x($)||V.$raise(K("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),n=P.test($)?"":$.$sub(ee(["^([",a,"]+).*$"]),"\\1"),x($["$start_with?"](n))||V.$raise(K("ArgumentError"),"non-absolute home"),$=Z($,s),t=ee(["^\\~(?:",s,"|$)"]),c=c.$sub(t,$),x(X)&&(X=X.$sub(t,$))),w.$absolute_path(c,X)},-2);function T(l){return x(l["$respond_to?"]("to_path"))&&(l=l.$to_path()),l=S["$coerce_to!"](l,K("String"),"to_str"),l}function h(){return d("ALT_SEPARATOR")===y?e.escape_regexp(d("SEPARATOR")):e.escape_regexp(Z(d("SEPARATOR"),d("ALT_SEPARATOR")))}return R(A,"$dirname",function(c,X){var w=this,s=y;if(X==null&&(X=1),g(X,0))return c;x(H(X,0))&&V.$raise(K("ArgumentError"),"level can't be negative"),s=h(),c=T(c);var a=c.match(new RegExp("^["+s+"]")),$;return c=c.replace(new RegExp("["+s+"]+$"),""),c=c.replace(new RegExp("[^"+s+"]+$"),""),c=c.replace(new RegExp("["+s+"]+$"),""),c===""?$=a?"/":".":$=c,X==1?$:w.$dirname($,$e(X,1))},-2),R(A,"$basename",function(c,X){var w=y;return X==null&&(X=y),w=h(),c=T(c),c.length==0||(X!==y?X=S["$coerce_to!"](X,K("String"),"to_str"):X=null,c=c.replace(new RegExp("(.)["+w+"]*$"),"$1"),c=c.replace(new RegExp("^(?:.*["+w+"])?([^"+w+"]+)$"),"$1"),X===".*"?c=c.replace(/\.[^\.]+$/,""):X!==null&&(X=e.escape_regexp(X),c=c.replace(new RegExp(""+X+"$"),""))),c},-2),R(A,"$extname",function(c){var X=this,w=y,s=y;return c=T(c),w=X.$basename(c),x(w["$empty?"]())||(s=w["$[]"](Q(1,-1,!1)).$rindex("."),x(s["$nil?"]())||g(Z(s,1),$e(w.$length(),1)))?"":w["$[]"](e.Range.$new(Z(s,1),-1,!1))}),R(A,"$exist?",function(c){return e.modules[c]!=null}),R(A,"$directory?",function(c){var X=y;X=[];for(var w in e.modules)X.push(w);return c=c.$gsub(ee(["(^.",d("SEPARATOR"),"+|",d("SEPARATOR"),"+$)"])),J(X,"find",[],function(a){return a==null&&(a=y),a["$=~"](ee(["^",c]))})}),R(A,"$join",function(c){var X,w,s=y;return X=re(arguments),w=X,x(w["$empty?"]())?"":(s="",w=J(w.$flatten().$each_with_index(),"map",[],function($,n){return $==null&&($=y),n==null&&(n=y),g(n,0)&&x($["$empty?"]())||g(w.$length(),Z(n,1))&&x($["$empty?"]())?d("SEPARATOR"):$}),w=J(w,"reject",[],"empty?".$to_proc()),J(w,"each_with_index",[],function($,n){var t=y;return $==null&&($=y),n==null&&(n=y),t=w["$[]"](Z(n,1)),x(t["$nil?"]())?s=""+s+$:(x($["$end_with?"](d("SEPARATOR")))&&x(t["$start_with?"](d("SEPARATOR")))&&($=$.$sub(ee([d("SEPARATOR"),"+$"]),"")),s=x($["$end_with?"](d("SEPARATOR")))||x(t["$start_with?"](d("SEPARATOR")))?""+s+$:""+s+$+d("SEPARATOR"))}),s)},-1),R(A,"$split",function(c){return c.$split(d("SEPARATOR"))}),D(A,"realpath","expand_path"),D(A,"exists?","exist?")}(e.get_singleton_class(p),k)}("::",K("IO"),b)};Opal.modules["corelib/process/base"]=function(e){var x=e.klass,E=e.slice,N=e.defs,S=e.return_val,ee=e.nil;return function(Z,R){var V=x(Z,R,"Signal");return N(V,"$trap",function(H){return E(arguments),ee},-1)}("::",null),function(Z,R){var V=x(Z,R,"GC");return N(V,"$start",S(ee))}("::",null)};Opal.modules["corelib/process"]=function(e){var x=e.module,E=e.defs,N=e.truthy,S=e.return_val,ee=e.Kernel,Z=e.nil,R=e.$$$;return e.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(V){var g=x(V,"Process"),H=Z;if(g.__clocks__=[],E(g,"$__register_clock__",function(J,re){var D=this;return D.__clocks__==null&&(D.__clocks__=Z),D.$const_set(J,D.__clocks__.$size()),D.__clocks__["$<<"](re)}),g.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),H=!1,e.global.performance)H=function(){return performance.now()};else if(e.global.process&&process.hrtime){var $e=process.hrtime();H=function(){var Q=process.hrtime($e),J=Q[1]/1e3|0;return Q[0]*1e3+J/1e3}}return N(H)&&g.$__register_clock__("CLOCK_MONOTONIC",H),E(g,"$pid",S(0)),E(g,"$times",function(){var J=Z;return J=R("Time").$now().$to_f(),R(R("Benchmark"),"Tms").$new(J,J,J,J,J)}),E(g,"$clock_gettime",function(J,re){var D=this,b=Z;D.__clocks__==null&&(D.__clocks__=Z),re==null&&(re="float_second"),N(b=D.__clocks__["$[]"](J))||ee.$raise(R(R("Errno"),"EINVAL"),"clock_gettime("+J+") "+D.__clocks__["$[]"](J));var y=b();switch(re){case"float_second":return y/1e3;case"float_millisecond":return y/1;case"float_microsecond":return y*1e3;case"second":return y/1e3|0;case"millisecond":return y/1|0;case"microsecond":return y*1e3|0;case"nanosecond":return y*1e6|0;default:ee.$raise(R("ArgumentError"),"unexpected unit: "+re)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(e){var x=e.klass,E=e.module,N=e.def,S=e.range,ee=e.send,Z=e.rb_divide,R=e.Kernel,V=e.Opal,g=[],H=e.nil,$e=e.$$$;return e.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(Q,J,re){var D=x(Q,J,"Random"),b=[D].concat(re);return function(y,K){var F=E(y,"Formatter"),z=[F].concat(K),B=e.$r(z);return N(F,"$hex",function(k){var P=this;k==null&&(k=H),k=$e("Random").$_verify_count(k);for(var A=P.$bytes(k),q="",o=0;o<k;o++)q+=A.charCodeAt(o).toString(16).padStart(2,"0");return q.$encode("US-ASCII")},-1),N(F,"$random_bytes",function(k){var P=this;return k==null&&(k=H),P.$bytes(k)},-1),N(F,"$base64",function(k){var P=this;return k==null&&(k=H),$e("Base64").$strict_encode64(P.$random_bytes(k)).$encode("US-ASCII")},-1),N(F,"$urlsafe_base64",function(k,P){var A=this;return k==null&&(k=H),P==null&&(P=!1),$e("Base64").$urlsafe_encode64(A.$random_bytes(k),P).$encode("US-ASCII")},-1),N(F,"$uuid",function(){var k=this,P=H;return P=k.$hex(16).$split(""),P["$[]="](12,"4"),P["$[]="](16,(parseInt(P["$[]"](16),16)&3|8).toString(16)),P=[P["$[]"](S(0,8,!0)),P["$[]"](S(8,12,!0)),P["$[]"](S(12,16,!0)),P["$[]"](S(16,20,!0)),P["$[]"](S(20,32,!0))],P=ee(P,"map",[],"join".$to_proc()),P.$join("-")}),N(F,"$random_float",function(){var k=this,P=H,A=H;return P=k.$bytes(4),A=0,ee(4,"times",[],function(o){return o==null&&(o=H),A=A["$<<"](8),A=A["$|"](P["$[]"](o).$ord())}),Z(A.$abs(),2147483647)}),N(F,"$random_number",function(k){var P=this;function A(){return P.$random_float()}function q(d){return Math.floor(A()*d)}function o(){var d=k.begin,T=k.end;if(d===H||T===H)return H;var h=T-d;return h<0?H:h===0?d:(T%1===0&&d%1===0&&!k.excl&&h++,q(h)+d)}return k==null?A():k.$$is_range?o():k.$$is_number?(k<=0&&R.$raise($e("ArgumentError"),"invalid argument - "+k),k%1===0?q(k):A()*k):(k=V["$coerce_to!"](k,$e("Integer"),"to_int"),k<=0&&R.$raise($e("ArgumentError"),"invalid argument - "+k),q(k))},-1),N(F,"$alphanumeric",function(k){var P=this,A=H;return k==null&&(k=H),k=B("Random").$_verify_count(k),A=ee([S("0","9",!1),S("a","z",!1),S("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),ee($e("Array"),"new",[k],function q(o){var d=q.$$s==null?this:q.$$s;return A["$[]"](d.$random_number(A.$length()))},{$$s:P}).$join()},-1)}(D,b),D.$include($e($e("Random"),"Formatter")),D.$extend($e($e("Random"),"Formatter"))}("::",null,g)};Opal.modules["corelib/random/mersenne_twister"]=function(e){var x=e.klass,E=e.const_set,N=e.send,S=e.nil,ee=e.$$$,Z=S;return e.add_stubs("generator="),Z=function(){var R=624,V=397,g=2567483615,H=2147483648,$e=2147483647,Q=function(z,B){return z&H|B&$e},J=function(z,B){return Q(z,B)>>>1^(B&1?g:0)};function re(z){var B={left:0,next:R,state:new Array(R)};return D(B,z),B}function D(z,B){var p;for(z.state[0]=B>>>0,p=1;p<R;p++)z.state[p]=1812433253*(z.state[p-1]^z.state[p-1]>>30>>>0)+p,z.state[p]&=4294967295;z.left=1,z.next=R}function b(z){var B=0,p=z.state,k;for(z.left=R,z.next=0,k=R-V+1;--k;B++)p[B]=p[B+V]^J(p[B+0],p[B+1]);for(k=V;--k;B++)p[B]=p[B+(V-R)]^J(p[B+0],p[B+1]);p[B]=p[B+(V-R)]^J(p[B+0],p[0])}function y(z){var B;return--z.left<=0&&b(z),B=z.state[z.next++],B^=B>>>11,B^=B<<7&2636928640,B^=B<<15&4022730752,B^=B>>>18,B>>>0}function K(z,B){return z>>>=5,B>>>=6,(z*67108864+B)*(1/9007199254740992)}function F(z){var B=y(z),p=y(z);return K(B,p)}return{genrand_real:F,init:re}}(),function(R,V){var g=x(R,V,"Random"),H,$e=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return E(g,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*$e)},reseed:function(Q){return Z.init(Q)},rand:function(Q){return Z.genrand_real(Q)}}),H=[ee(g,"MERSENNE_TWISTER_GENERATOR")],N(g,"generator=",H),H[H.length-1]}("::",null)};Opal.modules["corelib/random"]=function(e){var x=e.truthy,E=e.klass,N=e.Kernel,S=e.defs,ee=e.Opal,Z=e.def,R=e.eqeqeq,V=e.send,g=e.top,H=e.nil,$e=e.$$$;return e.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),g.$require("corelib/random/formatter"),function(Q,J){var re=E(Q,J,"Random");return re.$attr_reader("seed","state"),S(re,"$_verify_count",function(b){return x(b)||(b=16),typeof b!="number"&&(b=b.$to_int()),b<0&&N.$raise($e("ArgumentError"),"negative string size (or size too big)"),b=Math.floor(b),b}),Z(re,"$initialize",function(b){var y=this;return b==null&&(b=$e("Random").$new_seed()),b=ee["$coerce_to!"](b,$e("Integer"),"to_int"),y.state=b,y.$reseed(b)},-1),Z(re,"$reseed",function(b){var y=this;return y.seed=b,y.$rng=e.$$rand.reseed(b)}),S(re,"$new_seed",function(){return e.$$rand.new_seed()}),S(re,"$rand",function(b){var y=this;return $e(y,"DEFAULT").$rand(b)},-1),S(re,"$srand",function(b){var y=this,K=H;return b==null&&(b=$e("Random").$new_seed()),b=ee["$coerce_to!"](b,$e("Integer"),"to_int"),K=$e(y,"DEFAULT").$seed(),$e(y,"DEFAULT").$reseed(b),K},-1),S(re,"$urandom",function(b){return $e("SecureRandom").$bytes(b)}),Z(re,"$==",function(b){var y=this,K=H;return R($e("Random"),b)?x(K=y.$seed()["$=="](b.$seed()))?y.$state()["$=="](b.$state()):K:!1}),Z(re,"$bytes",function(b){var y=this;return b=$e("Random").$_verify_count(b),V($e("Array"),"new",[b],function K(){var F=K.$$s==null?this:K.$$s;return F.$rand(255).$chr()},{$$s:y}).$join().$encode("ASCII-8BIT")}),S(re,"$bytes",function(b){var y=this;return $e(y,"DEFAULT").$bytes(b)}),Z(re,"$rand",function(b){var y=this;return y.$random_number(b)},-1),Z(re,"$random_float",function(){var b=this;return b.state++,e.$$rand.rand(b.$rng)}),S(re,"$random_float",function(){var b=this;return $e(b,"DEFAULT").$random_float()}),S(re,"$generator=",function(b){var y=this;return e.$$rand=b,x(y["$const_defined?"]("DEFAULT"))?$e(y,"DEFAULT").$reseed():y.$const_set("DEFAULT",y.$new(y.$new_seed()))})}("::",null),g.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(e){var x=e.Kernel,E=e.klass,N=e.send,S=e.slice,ee=e.module,Z=e.def,R=e.return_val,V=e.alias,g=e.defs,H=e.top,$e=[],Q=e.nil,J=e.$$$;e.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var re={};function D(y){switch(e.config.unsupported_features_severity){case"error":x.$raise(J("NotImplementedError"),y);break;case"warning":b(y);break}}function b(y){re[y]||(re[y]=!0,H.$warn(y))}return function(y,K){var F=E(y,K,"String"),z="String#%s not supported. Mutable String methods are not supported in Opal.";return N(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function B(p){var k=B.$$s==null?this:B.$$s;return p==null&&(p=Q),N(k,"define_method",[p],function(A){return S(arguments),x.$raise(J("NotImplementedError"),z["$%"](p))},-1)},{$$s:F})}("::",null),function(y){var K=ee(y,"Kernel"),F="Object tainting is not supported by Opal";return Z(K,"$taint",function(){var B=this;return D(F),B}),Z(K,"$untaint",function(){var B=this;return D(F),B}),Z(K,"$tainted?",function(){return D(F),!1})}("::"),function(y,K){var F=E(y,K,"Module");return Z(F,"$public",function(B){var p,k,P=this;return p=S(arguments),k=p,k.length===0?(P.$$module_function=!1,Q):k.length===1?k[0]:k},-1),Z(F,"$private_class_method",function(B){var p,k;return p=S(arguments),k=p,k.length===1?k[0]:k},-1),Z(F,"$private_method_defined?",R(!1)),Z(F,"$private_constant",function(B){return S(arguments),Q},-1),V(F,"nesting","public"),V(F,"private","public"),V(F,"protected","public"),V(F,"protected_method_defined?","private_method_defined?"),V(F,"public_class_method","private_class_method"),V(F,"public_instance_method","instance_method"),V(F,"public_instance_methods","instance_methods"),V(F,"public_method_defined?","method_defined?")}("::",null),function(y){var K=ee(y,"Kernel");return Z(K,"$private_methods",function(z){return S(arguments),[]},-1),V(K,"protected_methods","private_methods"),V(K,"private_instance_methods","private_methods"),V(K,"protected_instance_methods","private_methods")}("::"),function(y,K){var F=ee(y,"Kernel"),z=[F].concat(K),B=e.$r(z);return Z(F,"$eval",function(k){return S(arguments),x.$raise(J("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+B("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",$e),g(H,"$public",function(K){var F,z;return F=S(arguments),z=F,z.length===1?z[0]:z},-1),g(H,"$private",function(K){var F,z;return F=S(arguments),z=F,z.length===1?z[0]:z},-1)};Opal.modules["corelib/binding"]=function(e){var x=e.klass,E=e.truthy,N=e.def,S=e.slice,ee=e.send,Z=e.to_a,R=e.Kernel,V=e.return_ivar,g=e.eqeq;e.thrower;var H=e.module,$e=e.const_set,Q=e.top,J=[],re=e.nil,D=e.$$$;return e.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(b,y){var K=x(b,y,"Binding"),F=K.$$prototype;return F.jseval=F.scope_variables=re,N(K,"$initialize",function(B,p,k,P){var A,q=this;return p==null&&(p=[]),P==null&&(P=re),A=[B,p,k,P],q.jseval=A[0],q.scope_variables=A[1],q.receiver=A[2],q.source_location=A[3],E(typeof k!==void 0)?re:k=q.$js_eval("self")},-2),N(K,"$js_eval",function(B){var p,k,P=this;return p=S(arguments),k=p,E(P.jseval)?ee(P.jseval,"call",Z(k)):R.$raise("Evaluation on a Proc#binding is not supported")},-1),N(K,"$local_variable_get",function(B){var p=this;try{return p.$js_eval(B)}catch(k){if(e.rescue(k,[D("Exception")]))try{return R.$raise(D("NameError"),"local variable `"+B+"' is not defined for "+p.$inspect())}finally{e.pop_exception(k)}else throw k}}),N(K,"$local_variable_set",function(B,p){var k=this;return e.Binding.tmp_value=p,k.$js_eval(""+B+" = Opal.Binding.tmp_value"),delete e.Binding.tmp_value,p}),N(K,"$local_variables",V("scope_variables")),N(K,"$local_variable_defined?",function(B){var p=this;return p.scope_variables["$include?"](B)}),N(K,"$eval",function(B,p,k){try{var P=this;return p==null&&(p=re),k==null&&(k=re),g(B,"self")?P.$receiver():R.$eval(B,P,p,k)}catch(A){if(A===e.t_eval_return)return A.$v;throw A}},-2),K.$attr_reader("receiver","source_location")}("::",null),function(b){var y=H(b,"Kernel");return N(y,"$binding",function(){return R.$raise("Opal doesn't support dynamic calls to binding")})}("::"),$e(J[0],"TOPLEVEL_BINDING",D("Binding").$new(function(b){return new Function("self","return "+b)(Q)},[],Q,["<main>",0]))};Opal.modules["corelib/irb"]=function(e){var x=e.module,E=e.truthy,N=e.Kernel,S=e.defs,ee=e.gvars,Z=e.lambda,R=e.hash_rehash,V=e.send,g=e.rb_plus,H=e.const_set,$e=e.klass,Q=e.def,J=e.Opal,re=e.range,D=e.eqeq,b=e.thrower,y=[],K=e.nil,F=e.$$$;e.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(z,B){var p=x(z,"Opal"),k=[p].concat(B);return function(P,A){var q=x(P,"IRB"),o=[q].concat(A),d=e.$r(o);return S(q,"$ensure_loaded",function(h){var l=K,c=K;if(E(e.loaded_features["$include?"](h)))return K;l=E(d("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":d("RUBY_ENGINE_VERSION"),c="https://cdn.opalrb.com/opal/"+l+"/"+h+".js";var X;if(typeof XMLHttpRequest<"u"){var w=new XMLHttpRequest;w.open("GET",c,!1),w.send(""),X=w.responseText}else N.$raise("You need to provision "+h+" yourself in this environment");return new Function("Opal",X)(e),e.require(h),E(e.loaded_features["$include?"](h))?K:N.$raise("Could not load "+h+" for some reason")}),q.$singleton_class().$attr_accessor("output"),S(q,"$prepare_console",function T(){var h=T.$$p||K,l,c=this,X=K,w=K;return ee.stdout==null&&(ee.stdout=K),ee.stderr==null&&(ee.stderr=K),ee.stdin==null&&(ee.stdin=K),T.$$p=null,function(){try{return c["$output="](""),X=R(new Map([[ee.stdout,Z(function(a){return a==null&&(a=K),ee.stdout=a})],[ee.stderr,Z(function(a){return a==null&&(a=K),ee.stderr=a})]])),E(c["$browser?"]())&&(V(X,"each",[],function s(a,$){var n=s.$$s==null?this:s.$$s,t=K;return a==null&&(a=K),$==null&&($=K),t=a.$dup(),t["$write_proc="](V(n,"proc",[],function r(i){var u=r.$$s==null?this:r.$$s;return i==null&&(i=K),u["$output="](g(u.$output(),i)),u["$output="](u.$output().$split(`
`).$last(30).$join(`
`)),E(i["$end_with?"](`
`))&&u["$output="](g(u.$output(),`
`)),a.$write_proc().$call(i)},{$$s:n})),t["$tty="](!1),$.$call(t)},{$$s:c}),w=ee.stdin.$read_proc(),ee.stdin["$read_proc="](function(s){var a=prompt(c.$output());return a!==null?a+`
`:K})),e.yieldX(h,[])}finally{V(X,"each",[],function(a,$){return a==null&&(a=K),$==null&&($=K),$.$call(a)}),l=[w],V(ee.stdin,"read_proc=",l),l[l.length-1],l=[""],V(c,"output=",l),l[l.length-1]}}()}),S(q,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),H(o[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(T,h){var l=$e(T,h,"Silencer"),c=l.$$prototype;return c.collector=c.stderr=K,Q(l,"$initialize",function(){var w=this;return ee.stderr==null&&(ee.stderr=K),w.stderr=ee.stderr}),Q(l,"$silence",function X(){var w=X.$$p||K,s=this;return X.$$p=null,function(){try{return s.collector=F("StringIO").$new(),ee.stderr=s.collector,e.yieldX(w,[])}finally{ee.stderr=s.stderr}}()}),Q(l,"$warnings",function(){var w=this;return w.collector.$string()})}(o[0],null)}(k[0],k)}(y[0],y),function(z,B,p){var k=$e(z,B,"Binding"),P=[k].concat(p),A=e.$r(P);return Q(k,"$irb",function(){try{var o=b("return"),d=this,T=K;return F(J,"IRB").$ensure_loaded("opal-replutils"),T=F(F(J,"IRB"),"Silencer").$new(),V(F(J,"IRB"),"prepare_console",[],function h(){var l=h.$$s==null?this:h.$$s;return function(){try{var c=b("break");return V(l,"loop",[],function X(){var w=X.$$s==null?this:X.$$s,s=K,a=K,$=K,n=K,t=K;w.$print(">> "),s=w.$gets(),E(s)||c.$throw(K,X.$$is_lambda),a="",E(F(J,"IRB")["$browser?"]())&&w.$puts(s),E(s["$start_with?"]("ls "))?(a=s["$[]"](re(3,-1,!1)),$="ls"):D(s,`ls
`)?(a="self",$="ls"):E(s["$start_with?"]("show "))?(a=s["$[]"](re(5,-1,!1)),$="show"):(a=s,$="inspect"),n=K;do{try{V(T,"silence",[],function(){return n=e.compile(a,{irb:!0})})}catch(r){if(e.rescue(r,[A("SyntaxError")])){t=r;try{if(E(F(F(J,"IRB"),"LINEBREAKS")["$include?"](t.$message()))){w.$print(".. "),s=w.$gets(),E(s)||o.$throw(K,X.$$is_lambda),E(F(J,"IRB")["$browser?"]())&&w.$puts(s),a=g(a,s);continue}else E(T.$warnings()["$empty?"]())?w.$warn(t.$full_message()):w.$warn(T.$warnings())}finally{e.pop_exception(r)}}else throw r}break}while(!0);return D($,"show")&&(w.$puts(n),o.$throw(K,X.$$is_lambda)),w.$puts(F("REPLUtils").$eval_and_print(n,$,!1,w))},{$$s:l,$$ret:o})}catch(X){if(X===c)return X.$v;throw X}finally{c.is_orphan=!0}}()},{$$s:d})}catch(h){if(h===o)return h.$v;throw h}finally{o.is_orphan=!0}})}("::",null,y),e.irb=function(z){F("Binding").$new(z).$irb()},e.load_parser=function(){e.Opal.IRB.$ensure_loaded("opal-parser")},typeof e.eval>"u"&&(e.eval=function(z){return e.load_parser(),e.eval(z)}),typeof e.compile>"u"&&(e.compile=function(z,B){return e.load_parser(),e.compile(z,B)})};Opal.modules.opal=function(e){var x=e.Object;return e.nil,e.add_stubs("require,autoload"),x.$require("opal/base"),x.$require("opal/mini"),x.$require("corelib/kernel/format"),x.$require("corelib/string/encoding"),x.$autoload("Math","corelib/math"),x.$require("corelib/complex/base"),x.$autoload("Complex","corelib/complex"),x.$require("corelib/rational/base"),x.$autoload("Rational","corelib/rational"),x.$require("corelib/time"),x.$autoload("Struct","corelib/struct"),x.$autoload("Set","corelib/set"),x.$autoload("Dir","corelib/dir"),x.$autoload("File","corelib/file"),x.$require("corelib/process/base"),x.$autoload("Process","corelib/process"),x.$autoload("Random","corelib/random"),x.$require("corelib/unsupported"),x.$require("corelib/binding"),x.$require("corelib/irb")};Opal.modules["js/proxy"]=function(e){var x=e.module,E=e.truthy,N=e.def,S=e.klass,ee=e.const_set,Z=e.slice,R=e.range,V=e.send,g=e.to_a,H=e.gvars,$e=e.top,Q=[],J=e.nil;return e.add_stubs("require,new,to_n,to_rb_name,include,attr_accessor,Native,to_js_name,end_with?,existing_property?,raise,[],[]=,first,native,dup,call,class,<<,wrap_result,respond_to?,enum_for,length,each,private,join,with_index,map,split,to_s,include?,downcase,gsub,upcase,zero?,capitalize,sub,native="),$e.$require("opal"),$e.$require("native"),function(re,D){var b=x(re,"JS"),y=[b].concat(D),K=e.$r(y);return function(F,z){var B=x(F,"Helpers"),p=[B].concat(z),k=e.$r(p);return N(B,"$wrap_result",function(A){return E(A&&typeof A.then=="function")?k("Promise").$new(A):E(typeof A=="object"&&A!==null)?k("Proxy").$new(A):A}),N(B,"$native_methods",function(){var A=this,q=J;return A.native_methods==null&&(A.native_methods=J),A.native_methods=function(){if(E(q=A.native_methods))return q;{let o=A.$to_n();const d=new Set;for(;o!==null;){for(const T of Reflect.ownKeys(o)){const h=T.toString(),l=A.$to_rb_name(h);typeof T!="symbol"&&h!==l&&d.add(l),d.add(h)}o=Object.getPrototypeOf(o)}return Array.from(d)}}()})}(y[0],y),function(F,z,B){var p=S(F,z,"Proxy"),k=[p].concat(B),P=e.$r(k);return p.$include(P("Enumerable")),p.$include(P("Helpers")),p.$attr_accessor("native"),ee(k[0],"IRREGULARS",["html","url","uri"]),N(p,"$initialize",function(q){var o=this;return o.native=o.$Native(q)}),N(p,"$method_missing",function A(q,o){var d=A.$$p||J,T,h,l,c=this,X=J,w=J,s=J,a=J,$=J,n=J;return A.$$p=null,T=Z(arguments,1),h=T,X=c.$to_js_name(q),E(c["$existing_property?"](X))||E(X["$end_with?"]("="))||c.$raise(P("NoMethodError"),"undefined method `"+q+"` for "+c),E(X["$end_with?"]("="))?(w=X["$[]"](R(0,-2,!1)),l=[w,h.$first()],V(c.$native(),"[]=",l),l[l.length-1]):(s=c.$native()["$[]"](X),E(typeof s=="function")?(a=h.$dup(),E(d)&&($=function(){let t=Array.prototype.slice.call(arguments);return V(d,"call",[c.$class().$new(this)].concat(g(t)))},a["$<<"]($)),n=s.apply(c.$to_n(),a.$to_n()),c.$wrap_result(n)):E(typeof s=="object"&&s!==null)?c.$wrap_result(s):s)},-2),N(p,"$to_str",function(){var q=this;return q.$to_n().toString()}),N(p,"$respond_to_missing?",function(q,o){return!0},-2),N(p,"$each",function A(){var q=A.$$p||J,o=this,d=J;return A.$$p=null,E(o["$respond_to?"]("length"))?(d=o.$length(),V(e.Range.$new(0,d,!0),"each",[],function T(h){var l=T.$$s==null?this:T.$$s;return h==null&&(h=J),e.yield1(q,l["$[]"](h))},{$$s:o})):o.$enum_for("each")}),N(p,"$[]",function(q){var o=this,d=J;return d=o.$native()["$[]"](q),o.$wrap_result(d)}),N(p,"$[]=",function(q,o){var d=this;return d.$native()["$[]="](q,o),d.$wrap_result(d.$native())}),N(p,"$to_n",function(){var q=this;return q.$native().$to_n()}),N(p,"$length",function(){var q=this;return q.$native().$length()}),p.$private(),N(p,"$to_js_name",function(q){return V(q.$to_s().$split("_").$map(),"with_index",[],function(d,T){return d==null&&(d=J),T==null&&(T=J),E(P("IRREGULARS")["$include?"](d.$gsub("=","").$downcase()))?d.$upcase():E(T["$zero?"]())?d:d.$capitalize()}).$join()}),N(p,"$to_rb_name",function(q){return V(q.$to_s(),"gsub",[/([A-Z]+)/],function(){var d;return"_"+((d=H["~"])===J?J:d["$[]"](1)).$downcase()}).$sub(/^_/,"")}),N(p,"$existing_property?",function(q){var o=this;return q in o.$to_n()})}(y[0],null,y),function(F,z,B){var p=S(F,z,"Promise"),k=[p].concat(B),P=e.$r(k);return p.$include(P("Helpers")),N(p,"$then",function A(){var q=A.$$p||J,o,d=this,T=J;return A.$$p=null,T=function(h){var l=q.$call(d.$wrap_result(h));return l&&typeof l.then=="function"?l:l&&typeof l.to_n=="function"?l.to_n():l},o=[d.$to_n().then(T)],V(d,"native=",o),o[o.length-1]}),N(p,"$catch",function A(){var q=A.$$p||J,o,d=this,T=J;return A.$$p=null,T=function(h){var l=q.$call(d.$wrap_result(h));return l&&typeof l.then=="function"?l:l&&typeof l.to_n=="function"?l.to_n():l},o=[d.$to_n().catch(T)],V(d,"native=",o),o[o.length-1]})}(y[0],K("Proxy"),y)}(Q[0],Q)};Opal.modules["opal_stimulus/stimulus_controller"]=function(e){var x=e.klass,E=e.const_set,N=e.Opal,S=e.defs,ee=e.truthy,Z=e.send,R=e.gvars,V=e.return_val,g=e.thrower,H=e.rb_plus,$e=e.eqeqeq,Q=e.def,J=e.top,re=[],D=e.nil,b=e.$$$;return e.add_stubs("require,bridge,stimulus_controller,downcase,gsub,name,include?,sub,to_s,each,subclasses,define_method,stimulus_name,to_ruby_name,+,new,map,capitalize,===,raise,[]=,to_n,Native,==,window,document"),J.$require("opal"),J.$require("native"),J.$require("js/proxy"),function(y,K,F){var z=x(y,K,"StimulusController"),B=[z].concat(F),p=e.$r(B),k=z.$$prototype;return k.window=k.document=D,E(B[0],"DEFAULT_METHODS",["initialize","connect","disconnect","dispatch"]),E(B[0],"DEFAULT_GETTERS",["element"]),S(z,"$inherited",function(A){return N.$bridge(A.$stimulus_controller(),A)}),S(z,"$stimulus_controller",function(){var A=this;return A.stimulus_controller==null&&(A.stimulus_controller=D),ee(A.stimulus_controller)||(A.stimulus_controller=class extends Controller{}),A.stimulus_controller}),S(z,"$stimulus_name",function(){var A=this;return A.$name().$gsub(/Controller$/,"").$gsub(/([a-z])([A-Z])/,"\\1-\\2").$gsub("::","--").$downcase()}),S(z,"$method_added",function(A){var q=this;if(ee(p("DEFAULT_GETTERS")["$include?"](A)))return D;q.$stimulus_controller().prototype[A]=function(...o){try{var d=o.map(function(T){return T&&typeof T=="object"&&!T.$$class?e.JS.Proxy.$new(T):T});return this["$"+A].apply(this,d)}catch(T){console.error("Uncaught",T)}}}),S(z,"$to_ruby_name",function(A){return Z(A.$to_s(),"gsub",[/([A-Z]+)/],function(){var o;return"_"+((o=R["~"])===D?D:o["$[]"](1)).$downcase()}).$sub(/^_/,"")}),S(z,"$register_all!",function(){try{var A=g("return"),q=this;return Z(q.$subclasses(),"each",[],function o(d){return d==null&&(d=D),Z(d,"define_method",["dummy"],V(D)),ee(application.controllers["$include?"](d.$stimulus_name()))&&A.$throw(D,o.$$is_lambda),application.register(d.$stimulus_name(),d.$stimulus_controller())},{$$ret:A})}catch(o){if(o===A)return o.$v;throw o}finally{A.is_orphan=!0}}),S(z,"$targets=",function(A){var q=this;return A==null&&(A=[]),q.$stimulus_controller().targets=A,Z(A,"each",[],function o(d){var T=o.$$s==null?this:o.$$s,h=D,l=D,c=D,X=D,w=D,s=D;d==null&&(d=D),h=d.$to_s(),l=T.$to_ruby_name(d),Z(T,"define_method",[H(l,"_target")],function(){return b(p("JS"),"Proxy").$new(this[H(h,"Target")])}),Z(T,"define_method",[H(l,"_targets")],function(){return Z(this[H(h,"Targets")],"map",[],function(n){return n==null&&(n=D),b(p("JS"),"Proxy").$new(n)})}),Z(T,"define_method",[H(H("has_",l),"_target")],function(){return this[H(H("has",h.$capitalize()),"Target")]}),c=H(l,"_target_connected"),X=H(h,"TargetConnected"),T.$stimulus_controller().prototype[X]=function(){if(this["$respond_to?"]&&this["$respond_to?"](c))return this["$"+c]()},w=H(l,"_target_disconnected"),s=H(h,"TargetDisconnected"),T.$stimulus_controller().prototype[s]=function(){if(this["$respond_to?"]&&this["$respond_to?"](w))return this["$"+w]()}},{$$s:q})},-1),S(z,"$outlets=",function(A){var q=this;return A==null&&(A=[]),q.$stimulus_controller().outlets=A,Z(A,"each",[],function o(d){var T=o.$$s==null?this:o.$$s,h=D,l=D,c=D,X=D,w=D,s=D;d==null&&(d=D),h=d.$to_s(),l=T.$to_ruby_name(d),Z(T,"define_method",[H(l,"_outlet")],function(){return this[H(h,"Outlet")]}),Z(T,"define_method",[H(l,"_outlets")],function(){return this[H(h,"Outlets")]}),Z(T,"define_method",[H(H("has_",l),"_outlet")],function(){return this[H(H("has",h.$capitalize()),"Outlet")]}),c=H(l,"_outlet_connected"),X=H(h,"OutletConnected"),T.$stimulus_controller().prototype[X]=function(){if(this["$respond_to?"]&&this["$respond_to?"](c))return this["$"+c]()},w=H(l,"_outlet_disconnected"),s=H(h,"OutletDisconnected"),T.$stimulus_controller().prototype[s]=function(){if(this["$respond_to?"]&&this["$respond_to?"](w))return this["$"+w]()}},{$$s:q})},-1),S(z,"$values=",function(A){var q=this,o=D;return A==null&&(A=new Map),o=new Map,Z(A,"each",[],function d(T,h){var l=d.$$s==null?this:d.$$s,c=D,X=D,w=D,s=D;T==null&&(T=D),h==null&&(h=D),T=l.$to_ruby_name(T),c=$e("string",X=h)?String:$e("number",X)?Number:$e("boolean",X)?Boolean:$e("array",X)?Array:$e("object",X)?Object:l.$raise(p("ArgumentError"),"Unsupported value type: "+h+", please use :string, :number, :boolean, :array, or :object"),o["$[]="](T,c),l.$stimulus_controller().values=o.$to_n(),Z(l,"define_method",[H(T,"_value")],function a(){var $=a.$$s==null?this:a.$$s;return $.$Native(this[H(T,"Value")])},{$$s:l}),Z(l,"define_method",[H(T,"_value=")],function a($){var n=a.$$s==null?this:a.$$s;return $==null&&($=D),n.$Native(this[H(T,"Value")]=$)},{$$s:l}),Z(l,"define_method",["has_"+T],function(){return this[H(H("has",T.$to_s().$capitalize()),"Value")]}),w=""+T+"_value_changed",s=""+T+"ValueChanged",l.$stimulus_controller().prototype[s]=function(a,$){if(h["$=="]("object")&&(a=JSON.stringify(a),$=JSON.stringify($)),this["$respond_to?"]&&this["$respond_to?"](w))return this["$"+w](a,$)}},{$$s:q})},-1),S(z,"$classes=",function(A){var q=this;return A==null&&(A=[]),q.$stimulus_controller().classes=A,Z(A,"each",[],function o(d){var T=o.$$s==null?this:o.$$s,h=D,l=D;return d==null&&(d=D),h=d.$to_s(),l=T.$to_ruby_name(d),Z(T,"define_method",[""+l+"_class"],function(){return this[H(h,"Class")]}),Z(T,"define_method",[""+l+"_classes"],function(){return this[H(h,"Classes")]}),Z(T,"define_method",["has_"+l+"_class"],function(){return this[H(H("has",h.$capitalize()),"Class")]})},{$$s:q})},-1),Q(z,"$element",function(){return b(p("JS"),"Proxy").$new(this.element)}),Q(z,"$window",function(){var A=this,q=D;return R.$==null&&(R.$=D),A.window=ee(q=A.window)?q:b(p("JS"),"Proxy").$new(R.$.$window())}),Q(z,"$document",function(){var A=this,q=D;return R.$==null&&(R.$=D),A.document=ee(q=A.document)?q:b(p("JS"),"Proxy").$new(R.$.$document())})}(re[0],Controller,re)};Opal.modules["opal_vite/concerns/v1/js_proxy_ex"]=function(e){var x=e.module,E=e.truthy,N=e.def,S=e.send,ee=e.klass,Z=e.assign_ivar,R=e.return_ivar,V=e.slice,g=e.range,H=e.eqeq,$e=e.lambda,Q=e.to_a,J=e.eqeqeq,re=e.rb_plus,D=e.defs,b=e.const_set,y=[],K=e.$r(y),F=e.nil,z=e.$$$;return e.add_stubs("new,to_n,nil?,respond_to?,times,<<,to_s,snake_to_camel,wrap_result,end_with?,[],!,==,call,map,===,length,enum_for,private,upcase,split,+,join,to_proc,test,js_array_to_ruby"),function(B,p){var k=x(B,"OpalVite"),P=[k].concat(p);return function(A,q){var o=x(A,"Concerns"),d=[o].concat(q);return function(T,h){var l=x(T,"V1"),c=[l].concat(h);return function(X,w){var s=x(X,"JsProxyEx"),a=[s].concat(w),$=e.$r(a);return N(s,"$local_storage",function(){var t=this,r=F;return t.local_storage==null&&(t.local_storage=F),t.local_storage=E(r=t.local_storage)?r:$("JsObject").$new(localStorage)}),N(s,"$session_storage",function(){var t=this,r=F;return t.session_storage==null&&(t.session_storage=F),t.session_storage=E(r=t.session_storage)?r:$("JsObject").$new(sessionStorage)}),N(s,"$js_json",function(){var t=this,r=F;return t.js_json==null&&(t.js_json=F),t.js_json=E(r=t.js_json)?r:$("JsonWrapper").$new()}),N(s,"$js_date",function(){return $("DateWrapper")}),N(s,"$js_console",function(){var t=this,r=F;return t.js_console==null&&(t.js_console=F),t.js_console=E(r=t.js_console)?r:$("JsObject").$new(console)}),N(s,"$new_event",function(t,r){return r==null&&(r=new Map),$("JsObject").$new(new Event(t,r.$to_n()))},-2),N(s,"$new_custom_event",function(t,r){return r==null&&(r=new Map),$("JsObject").$new(new CustomEvent(t,{detail:r.$to_n()}))},-2),N(s,"$new_url",function(t){return $("JsObject").$new(new URL(t))}),N(s,"$new_regexp",function(t,r){return r==null&&(r=""),$("RegExpWrapper").$new(t,r)},-2),N(s,"$new_date",function(t){return t==null&&(t=F),E(t)?$("JsObject").$new(new Date(t)):$("JsObject").$new(new Date)},-1),N(s,"$date_now",function(){return Date.now()}),N(s,"$wrap_js",function(t){var r=F;return E(t["$nil?"]())?F:(r=E(t["$respond_to?"]("to_n"))?t.$to_n():t,$("JsObject").$new(r))}),N(s,"$js_array_to_ruby",function(t){var r=F,i=F;return r=[],i=t.length,S(i,"times",[],function(f){var v=F;return f==null&&(f=F),v=t[f],r["$<<"]($("JsObject").$new(v))}),r}),N(s,"$new_js_array",function(){return $("JsObject").$new([])}),function(n,t,r){var i=ee(n,t,"JsObject"),u=[i].concat(r),f=e.$r(u),v=i.$$prototype;return v.native=F,N(i,"$initialize",Z("native")),N(i,"$to_n",R("native")),N(i,"$[]",function(C){var M=this,G=F,O=F,ae=F;return G=C.$to_s(),O=M.$snake_to_camel(G),ae=M.native[O],M.$wrap_result(ae)}),N(i,"$[]=",function(C,M){var G=this,O=F,ae=F,le=F;return O=C.$to_s(),ae=G.$snake_to_camel(O),le=E(M["$respond_to?"]("to_n"))?M.$to_n():M,G.native[ae]=le}),N(i,"$method_missing",function I(C,M){var G=I.$$p||F,O,ae,le=this,ce=F,de=F,he=F,ve=F,me=F,be=F,ie=F,j=F,L=F,Y=F;return I.$$p=null,O=V(arguments,1),ae=O,ce=C.$to_s(),E(ce["$end_with?"]("="))?(de=ce["$[]"](g(0,-2,!1)),he=le.$snake_to_camel(de),ve=ae["$[]"](0),me=E(ve["$respond_to?"]("to_n"))?ve.$to_n():ve,le.native[he]=me,ve):E(ce["$end_with?"]("?"))?(de=ce["$[]"](g(0,-2,!1)),he=le.$snake_to_camel(de),le.native[he]["$!"]()["$!"]()):(he=le.$snake_to_camel(ce),be=typeof le.native[he]=="function",E(be)?H(he,"addEventListener")&&E(G)?(ie=$e(function(ne){return ne==null&&(ne=F),G.$call(f("JsObject").$new(ne))}),le.native.addEventListener(ae["$[]"](0),ie),F):(j=S(ae,"map",[],function(ne){return ne==null&&(ne=F),E(ne["$respond_to?"]("to_n"))?ne.$to_n():ne}),E(G)&&(ie=$e(function W(ne){var se,oe,fe=W.$$s==null?this:W.$$s,_=F;return se=V(arguments),oe=se,_=S(oe,"map",[],function m(U){var te=m.$$s==null?this:m.$$s;return U==null&&(U=F),te.$wrap_result(U)},{$$s:fe}),S(G,"call",Q(_))},{$$arity:-1,$$s:le}),j["$<<"](ie)),L=J(0,Y=j.$length())?le.native[he]():J(1,Y)?le.native[he](j["$[]"](0)):J(2,Y)?le.native[he](j["$[]"](0),j["$[]"](1)):J(3,Y)?le.native[he](j["$[]"](0),j["$[]"](1),j["$[]"](2)):le.native[he].apply(le.native,j),le.$wrap_result(L)):(L=le.native[he],le.$wrap_result(L)))},-2),N(i,"$respond_to_missing?",function(C,M){return!0},-2),N(i,"$each",function I(){var C=I.$$p||F,M=this,G=F;return I.$$p=null,E(C)?(G=M.native.length,E(G)&&S(G,"times",[],function O(ae){var le=O.$$s==null?this:O.$$s,ce=F;return le.native==null&&(le.native=F),ae==null&&(ae=F),ce=le.native[ae],C.$call(le.$wrap_result(ce))},{$$s:M}),M):M.$enum_for("each")}),N(i,"$length",function(){var C=this;return C.native.length}),N(i,"$size",function(){var C=this;return C.$length()}),N(i,"$nil?",function(){var C=this;return C.native==null}),N(i,"$exists?",function(){var C=this;return C["$nil?"]()["$!"]()}),N(i,"$to_s",function(){var C=this;return String(C.native)}),N(i,"$inspect",function(){var C=this;return"#<JsObject: "+C.$to_s()+">"}),i.$private(),N(i,"$snake_to_camel",function(C){var M=F;return H(C,C.$upcase())||(M=C.$split("_"),H(M.$length(),1))?C:re(M["$[]"](0),S(M["$[]"](g(1,-1,!1)),"map",[],"capitalize".$to_proc()).$join())}),N(i,"$wrap_result",function(C){return E(C==null)?F:E(typeof C=="number")||E(typeof C=="string")||E(typeof C=="boolean")?C:f("JsObject").$new(C)})}(a[0],null,a),function(n,t,r){var i=ee(n,t,"JsonWrapper"),u=[i].concat(r),f=e.$r(u);return N(i,"$parse",function(I){var C=F;return C=JSON.parse(I),f("JsObject").$new(C)}),N(i,"$stringify",function(I){var C=F;return C=E(I["$respond_to?"]("to_n"))?I.$to_n():I,JSON.stringify(C)})}(a[0],null,a),function(n,t,r){var i=ee(n,t,"RegExpWrapper"),u=[i].concat(r),f=e.$r(u),v=i.$$prototype;return v.native=F,N(i,"$initialize",function(C,M){var G=this;return M==null&&(M=""),G.native=new RegExp(C,M)},-2),N(i,"$to_n",R("native")),N(i,"$test",function(C){var M=this;return M.native.test(C)}),N(i,"$match",function(C){var M=this,G=F;return G=C.match(M.native),E(G===null)?F:f("JsObject").$new(G)}),N(i,"$=~",function(C){var M=this;return M.$test(C)})}(a[0],null,a),function(n,t){var r=x(n,"DateWrapper"),i=[r].concat(t),u=e.$r(i);return D(r,"$now",function(){return Date.now()}),D(r,"$new",function(v){return v==null&&(v=F),E(v)?u("JsObject").$new(new Date(v)):u("JsObject").$new(new Date)},-1),D(r,"$parse",function(v){return Date.parse(v)})}(a[0],a),N(s,"$has_target?",function(t){var r=this,i=F,u=F;return i=r.$snake_to_camel(t.$to_s()),u="has"+i["$[]"](0).$upcase()+i["$[]"](g(1,-1,!1))+"Target",this[u]}),N(s,"$target",function(t){var r=this,i=F,u=F,f=F;return i=r.$snake_to_camel(t.$to_s()),u=""+i+"Target",f=this[u],$("JsObject").$new(f)}),N(s,"$targets",function(t){var r=this,i=F,u=F,f=F;return i=r.$snake_to_camel(t.$to_s()),u=""+i+"Targets",f=this[u],r.$js_array_to_ruby(f)}),N(s,"$set_target_text",function(t,r){var i=this,u=F,f=F,v=F;u=i.$snake_to_camel(t.$to_s()),f="has"+u["$[]"](0).$upcase()+u["$[]"](g(1,-1,!1))+"Target",v=""+u+"Target",this[f]&&(this[v].textContent=r)}),N(s,"$set_target_class",function(t,r){var i=this,u=F,f=F,v=F;u=i.$snake_to_camel(t.$to_s()),f="has"+u["$[]"](0).$upcase()+u["$[]"](g(1,-1,!1))+"Target",v=""+u+"Target",this[f]&&(this[v].className=r)}),N(s,"$set_target_disabled",function(t,r){var i=this,u=F,f=F,v=F;u=i.$snake_to_camel(t.$to_s()),f="has"+u["$[]"](0).$upcase()+u["$[]"](g(1,-1,!1))+"Target",v=""+u+"Target",this[f]&&(this[v].disabled=r)}),s.$private(),N(s,"$snake_to_camel",function(t){var r=F;return H(t,t.$upcase())||(r=t.$to_s().$split("_"),H(r.$length(),1))?t:re(r["$[]"](0),S(r["$[]"](g(1,-1,!1)),"map",[],"capitalize".$to_proc()).$join())})}(c[0],c)}(d[0],d)}(P[0],P)}(y[0],y),b(y[0],"JsProxyEx",z(z(z(K("OpalVite"),"Concerns"),"V1"),"JsProxyEx"))};Opal.modules["opal_vite/concerns/v1/stimulus_helpers"]=function(e){var x=e.module,E=e.def,N=e.truthy,S=e.eqeq,ee=e.send,Z=e.slice,R=e.ensure_kwargs,V=e.get_kwarg,g=e.hash_get,H=e.rb_plus,$e=e.range,Q=e.const_set,J=[],re=e.$r(J),D=e.nil,b=e.$$$;return e.add_stubs("camelize,has_target?,target_set_value,target_set_html,set_target_style,get_target_style,==,show_target,hide_target,call,body_style,to_n,storage_get,is_a?,parse_int,event_data,to_native_element,Native,map,to_a,js_timestamp,is_nan?,parse_float,to_s,empty?,respond_to?,fetch_json_promise,fetch_json_safe,js_then,js_catch,console_error,private,include?,+,upcase,[],downcase,split,join,to_proc,first"),function(y,K){var F=x(y,"OpalVite"),z=[F].concat(K);return function(B,p){var k=x(B,"Concerns"),P=[k].concat(p);return function(A,q){var o=x(A,"V1"),d=[o].concat(q);return function(T,h){var l=x(T,"StimulusHelpers"),c=[l].concat(h),X=e.$r(c);return E(l,"$has_target?",function(s){var a=this,$=D;return $="has"+a.$camelize(s)+"Target",this[$]}),E(l,"$get_target",function(s){var a=this,$=D;return N(a["$has_target?"](s))?($=""+a.$camelize(s,!1)+"Target",this[$]):D}),E(l,"$get_targets",function(s){var a=this,$=D;return $=""+a.$camelize(s,!1)+"Targets",Array.from(this[$]||[])}),E(l,"$target_value",function(s){var a=this,$=D;return N(a["$has_target?"](s))?($=""+a.$camelize(s,!1)+"Target",this[$].value):D}),E(l,"$target_set_value",function(s,a){var $=this,n=D;return N($["$has_target?"](s))?(n=""+$.$camelize(s,!1)+"Target",this[n].value=a):D}),E(l,"$target_html",function(s){var a=this,$=D;return N(a["$has_target?"](s))?($=""+a.$camelize(s,!1)+"Target",this[$].innerHTML):D}),E(l,"$target_set_html",function(s,a){var $=this,n=D;return N($["$has_target?"](s))?(n=""+$.$camelize(s,!1)+"Target",this[n].innerHTML=a):D}),E(l,"$target_text",function(s){var a=this,$=D;return N(a["$has_target?"](s))?($=""+a.$camelize(s,!1)+"Target",this[$].textContent):D}),E(l,"$target_set_text",function(s,a){var $=this,n=D;return N($["$has_target?"](s))?(n=""+$.$camelize(s,!1)+"Target",this[n].textContent=a):D}),E(l,"$target_data",function(s,a){var $=this,n=D;return N($["$has_target?"](s))?(n=""+$.$camelize(s,!1)+"Target",this[n].getAttribute("data-"+a)):D}),E(l,"$target_set_data",function(s,a,$){var n=this,t=D;return N(n["$has_target?"](s))?(t=""+n.$camelize(s,!1)+"Target",this[t].setAttribute("data-"+a,$)):D}),E(l,"$target_clear",function(s){var a=this;return a.$target_set_value(s,"")}),E(l,"$target_clear_html",function(s){var a=this;return a.$target_set_html(s,"")}),E(l,"$set_target_style",function(s,a,$){var n=this,t=D;return N(n["$has_target?"](s))?(t=""+n.$camelize(s,!1)+"Target",this[t].style[a]=$):D}),E(l,"$get_target_style",function(s,a){var $=this,n=D;return N($["$has_target?"](s))?(n=""+$.$camelize(s,!1)+"Target",this[n].style[a]):D}),E(l,"$show_target",function(s){var a=this;return a.$set_target_style(s,"display","")}),E(l,"$hide_target",function(s){var a=this;return a.$set_target_style(s,"display","none")}),E(l,"$toggle_target_visibility",function(s){var a=this,$=D;return $=a.$get_target_style(s,"display"),S($,"none")?a.$show_target(s):a.$hide_target(s)}),E(l,"$add_target_class",function(s,a){var $=this,n=D;return N($["$has_target?"](s))?(n=""+$.$camelize(s,!1)+"Target",this[n].classList.add(a)):D}),E(l,"$remove_target_class",function(s,a){var $=this,n=D;return N($["$has_target?"](s))?(n=""+$.$camelize(s,!1)+"Target",this[n].classList.remove(a)):D}),E(l,"$toggle_target_class",function(s,a){var $=this,n=D;return N($["$has_target?"](s))?(n=""+$.$camelize(s,!1)+"Target",this[n].classList.toggle(a)):D}),E(l,"$has_target_class?",function(s,a){var $=this,n=D;return N($["$has_target?"](s))?(n=""+$.$camelize(s,!1)+"Target",this[n].classList.contains(a)):!1}),E(l,"$js_timestamp",function(){return Date.now()}),E(l,"$js_iso_date",function(){return new Date().toISOString()}),E(l,"$js_date",function(s){return s==null&&(s=D),N(s)?new Date(s):new Date},-1),E(l,"$js_regexp",function(s,a){return a==null&&(a=""),new RegExp(s,a)},-2),E(l,"$js_regexp_test",function(s,a,$){return $==null&&($=""),new RegExp(s,$).test(a)},-3),E(l,"$set_timeout",function w(s){var a=w.$$p||D;return w.$$p=null,setTimeout(function(){a.$call()},s)}),E(l,"$set_interval",function w(s){var a=w.$$p||D;return w.$$p=null,setInterval(function(){a.$call()},s)}),E(l,"$clear_timeout",function(s){return clearTimeout(s)}),E(l,"$clear_interval",function(s){return clearInterval(s)}),E(l,"$body_style",function(s,a){return document.body.style[s]=a}),E(l,"$lock_body_scroll",function(){var s=this;return s.$body_style("overflow","hidden")}),E(l,"$unlock_body_scroll",function(){var s=this;return s.$body_style("overflow","")}),E(l,"$js_array",function(){return[]}),E(l,"$js_array_push",function(s,a){return s.push(a.$to_n())}),E(l,"$js_array_length",function(s){return s.length}),E(l,"$js_array_at",function(s,a){return s[a]}),E(l,"$storage_get",function(s){return localStorage.getItem(s)}),E(l,"$storage_set",function(s,a){return localStorage.setItem(s,a)}),E(l,"$storage_remove",function(s){return localStorage.removeItem(s)}),E(l,"$storage_get_json",function(s,a){var $=this,n=D;return a==null&&(a=D),n=$.$storage_get(s),N(n===null)?a:JSON.parse(n)},-2),E(l,"$storage_set_json",function(s,a){return localStorage.setItem(s,JSON.stringify(a.$to_n()))}),E(l,"$dispatch_window_event",function(s,a){var $=D;a==null&&(a=new Map),$=N(a["$is_a?"](X("Hash")))?a.$to_n():a;const n=new CustomEvent(s,{detail:$});window.dispatchEvent(n)},-2),E(l,"$dispatch_event",function(s,a){var $=D;a==null&&(a=new Map),$=N(a["$is_a?"](X("Hash")))?a.$to_n():a;const n=new CustomEvent(s,{detail:$});this.element.dispatchEvent(n)},-2),E(l,"$on_window_event",function w(s){var a=w.$$p||D;return w.$$p=null,window.addEventListener(s,a)}),E(l,"$off_window_event",function(s,a){return window.removeEventListener(s,a)}),E(l,"$on_document_event",function w(s){var a=w.$$p||D;return w.$$p=null,document.addEventListener(s,a)}),E(l,"$on_dom_ready",function w(){var s=w.$$p||D;return w.$$p=null,document.addEventListener("DOMContentLoaded",s)}),E(l,"$on_element_event",function w(s,a){var $=w.$$p||D;return w.$$p=null,s.addEventListener(a,$)}),E(l,"$off_element_event",function(s,a,$){return s.removeEventListener(a,$)}),E(l,"$on_controller_event",function w(s){var a=w.$$p||D;w.$$p=null;const $=a;this.element.addEventListener(s,function(n){$(n)})}),E(l,"$event_target",function(){return event.currentTarget}),E(l,"$event_data",function(s){return event.currentTarget.getAttribute("data-"+s)}),E(l,"$event_data_int",function(s){var a=this;return a.$parse_int(a.$event_data(s))}),E(l,"$prevent_default",function(){return event.preventDefault()}),E(l,"$event_key",function(){return event.key}),E(l,"$to_native_element",function(s){return N(typeof s.$to_n=="function")?s.$to_n():s}),E(l,"$add_class",function(s,a){var $=this,n=D;return n=$.$to_native_element(s),n.classList.add(a)}),E(l,"$remove_class",function(s,a){var $=this,n=D;return n=$.$to_native_element(s),n.classList.remove(a)}),E(l,"$toggle_class",function(s,a){var $=this,n=D;return n=$.$to_native_element(s),n.classList.toggle(a)}),E(l,"$has_class?",function(s,a){var $=this,n=D;return n=$.$to_native_element(s),n.classList.contains(a)}),E(l,"$set_attr",function(s,a,$){var n=this,t=D;return t=n.$to_native_element(s),t.setAttribute(a,$)}),E(l,"$get_attr",function(s,a){var $=this,n=D;return n=$.$to_native_element(s),n.getAttribute(a)}),E(l,"$remove_attr",function(s,a){var $=this,n=D;return n=$.$to_native_element(s),n.removeAttribute(a)}),E(l,"$set_style",function(s,a,$){var n=this,t=D;return t=n.$to_native_element(s),t.style[a]=$}),E(l,"$set_html",function(s,a){var $=this,n=D;return n=$.$to_native_element(s),n.innerHTML=a}),E(l,"$set_text",function(s,a){var $=this,n=D;return n=$.$to_native_element(s),n.textContent=a}),E(l,"$get_value",function(s){var a=this,$=D;return $=a.$to_native_element(s),$.value}),E(l,"$set_value",function(s,a){var $=this,n=D;return n=$.$to_native_element(s),n.value=a}),E(l,"$focus",function(s){var a=this,$=D;return $=a.$to_native_element(s),$.focus()}),E(l,"$has_attr?",function(s,a){var $=this,n=D;return n=$.$to_native_element(s),n.hasAttribute(a)}),E(l,"$create_element",function(s){return document.createElement(s)}),E(l,"$append_child",function(s,a){var $=this,n=D,t=D;return n=$.$to_native_element(s),t=$.$to_native_element(a),n.appendChild(t)}),E(l,"$remove_element",function(s){var a=this,$=D;return $=a.$to_native_element(s),$.remove()}),E(l,"$next_sibling",function(s){var a=this,$=D;return $=a.$to_native_element(s),$.nextElementSibling}),E(l,"$prev_sibling",function(s){var a=this,$=D;return $=a.$to_native_element(s),$.previousElementSibling}),E(l,"$parent",function(s){var a=this,$=D;return $=a.$to_native_element(s),$.parentElement}),E(l,"$query",function(s){var a=this,$=D;return $=document.querySelector(s),N($===null)?D:a.$Native($)}),E(l,"$query_all",function(s){var a=this,$=D;return $=Array.from(document.querySelectorAll(s)),ee(a.$Native($).$to_a(),"map",[],function n(t){var r=n.$$s==null?this:n.$$s;return t==null&&(t=D),r.$Native(t)},{$$s:a})}),E(l,"$query_element",function(s){var a=this,$=D;return $=this.element.querySelector(s),N($===null)?D:a.$Native($)}),E(l,"$query_all_element",function(s){var a=this,$=D;return $=Array.from(this.element.querySelectorAll(s)),ee(a.$Native($).$to_a(),"map",[],function n(t){var r=n.$$s==null?this:n.$$s;return t==null&&(t=D),r.$Native(t)},{$$s:a})}),E(l,"$doc_root",function(){return document.documentElement}),E(l,"$set_root_attr",function(s,a){return document.documentElement.setAttribute(s,a)}),E(l,"$get_root_attr",function(s){return document.documentElement.getAttribute(s)}),E(l,"$clone_template",function(s){var a=this,$=D;return $=""+a.$camelize(s,!1)+"Target",this[$].content.cloneNode(!0)}),E(l,"$template_first_child",function(s){return s.firstElementChild}),E(l,"$element_add_class",function(s){return this.element.classList.add(s)}),E(l,"$element_remove_class",function(s){return this.element.classList.remove(s)}),E(l,"$element_toggle_class",function(s){return this.element.classList.toggle(s)}),E(l,"$generate_id",function(){var s=this;return s.$js_timestamp()}),E(l,"$target_focus",function(s){var a=this,$=D;return N(a["$has_target?"](s))?($=""+a.$camelize(s,!1)+"Target",this[$].focus()):D}),E(l,"$target_blur",function(s){var a=this,$=D;return N(a["$has_target?"](s))?($=""+a.$camelize(s,!1)+"Target",this[$].blur()):D}),E(l,"$parse_int",function(s,a){return a==null&&(a=10),parseInt(s,a)},-2),E(l,"$parse_float",function(s){return parseFloat(s)}),E(l,"$is_nan?",function(s){return Number.isNaN(s)}),E(l,"$parse_int_or",function(s,a){var $=this,n=D;return a==null&&(a=0),n=$.$parse_int(s),N($["$is_nan?"](n))?a:n},-2),E(l,"$parse_float_or",function(s,a){var $=this,n=D;return a==null&&(a=0),n=$.$parse_float(s),N($["$is_nan?"](n))?a:n},-2),E(l,"$js_prop",function(s){return this[s.$to_s()]}),E(l,"$js_set_prop",function(s,a){return this[s.$to_s()]=a}),E(l,"$js_has_prop?",function(s){return!!this[s.$to_s()]}),E(l,"$js_call",function(s,a){var $,n,t=D;return $=Z(arguments,1),n=$,N(n["$empty?"]())?this[s.$to_s()]():(t=ee(n,"map",[],function(i){return i==null&&(i=D),N(i["$respond_to?"]("to_n"))?i.$to_n():i}),this[s.$to_s()].apply(this,t))},-2),E(l,"$js_call_on",function(s,a,$){var n,t,r=D;return n=Z(arguments,2),t=n,N(t["$empty?"]())?s[a.$to_s()]():(r=ee(t,"map",[],function(u){return u==null&&(u=D),N(u["$respond_to?"]("to_n"))?u.$to_n():u}),s[a.$to_s()].apply(s,r))},-3),E(l,"$js_get",function(s,a){return s[a.$to_s()]}),E(l,"$js_set",function(s,a,$){return s[a.$to_s()]=$}),E(l,"$json_parse",function(s){return JSON.parse(s)}),E(l,"$json_stringify",function(s){var a=D;return a=N(s["$respond_to?"]("to_n"))?s.$to_n():s,JSON.stringify(a)}),E(l,"$console_log",function(s){var a,$;return a=Z(arguments),$=a,console.log.apply(console,$)},-1),E(l,"$console_warn",function(s){var a,$;return a=Z(arguments),$=a,console.warn.apply(console,$)},-1),E(l,"$console_error",function(s){var a,$;return a=Z(arguments),$=a,console.error.apply(console,$)},-1),E(l,"$js_string_char_at",function(s,a){return s.charAt(a)}),E(l,"$js_substring",function(s,a,$){return $==null&&($=D),N($)?s.substring(a,$):s.substring(a)},-3),E(l,"$js_split",function(s,a){return s.split(a)}),E(l,"$js_trim",function(s){return s.trim()}),E(l,"$js_includes?",function(s,a){return s.includes(a)}),E(l,"$js_equals?",function(s,a){return s===a}),E(l,"$js_loose_equals?",function(s,a){return s==a}),E(l,"$js_random",function(){return Math.random()}),E(l,"$js_min",function(s,a){return Math.min(s,a)}),E(l,"$js_max",function(s,a){return Math.max(s,a)}),E(l,"$js_abs",function(s){return Math.abs(s)}),E(l,"$js_round",function(s){return Math.round(s)}),E(l,"$js_ceil",function(s){return Math.ceil(s)}),E(l,"$js_to_fixed",function(s,a){return s.toFixed(a)}),E(l,"$random_int",function(s){return Math.floor(Math.random()*s)}),E(l,"$js_floor",function(s){return Math.floor(s)}),E(l,"$js_global_exists?",function(s){return typeof window[s]<"u"}),E(l,"$js_global",function(s){return window[s]}),E(l,"$js_new",function(s,a){var $,n,t=D;return $=Z(arguments,1),n=$,N(n["$empty?"]())?new s:(t=ee(n,"map",[],function(i){return i==null&&(i=D),i!=null&&typeof i.$to_n=="function"?i.$to_n():i}),Reflect.construct(s,t))},-2),E(l,"$js_define_method",function w(s){var a=w.$$p||D;return w.$$p=null,this[s.$to_s()]=a}),E(l,"$js_define_method_on",function w(s,a){var $=w.$$p||D;return w.$$p=null,s[a.$to_s()]=$}),E(l,"$js_length",function(s){return s.length}),E(l,"$js_map",function w(s){var a=w.$$p||D;return w.$$p=null,s.map(a)}),E(l,"$js_filter",function w(s){var a=w.$$p||D;return w.$$p=null,s.filter(a)}),E(l,"$js_reduce",function w(s,a){var $=w.$$p||D;return w.$$p=null,s.reduce($,a)}),E(l,"$js_each",function w(s){var a=w.$$p||D;return w.$$p=null,s.forEach(a)}),E(l,"$js_slice",function(s,a,$){return $==null&&($=D),N($)?s.slice(a,$):s.slice(a)},-3),E(l,"$js_object",function(){return{}}),E(l,"$js_keys",function(s){return Object.keys(s)}),E(l,"$js_values",function(s){return Object.values(s)}),E(l,"$js_entries",function(s){return Object.entries(s)}),E(l,"$js_unique_count",function(s){return new Set(s).size}),E(l,"$js_fetch",function(s){return fetch(s)}),E(l,"$fetch_json",function w(s){var a=w.$$p||D;w.$$p=null,fetch(s).then($=>$.json()).then($=>a.$call($)).catch($=>console.error("Fetch error:",$))}),E(l,"$fetch_json_promise",function(s){return fetch(s).then(a=>a.json())}),E(l,"$fetch_json_safe",function(s){return fetch(s).then(function(a){if(!a.ok)throw new Error("Network response was not ok: "+a.status);return a.json()})}),E(l,"$fetch_all_json",function(s){var a=this,$=D;return $=ee(s,"map",[],function n(t){var r=n.$$s==null?this:n.$$s;return t==null&&(t=D),r.$fetch_json_promise(t)},{$$s:a}),Promise.all($)}),E(l,"$fetch_json_with_handlers",function(s,a){var $,n,t=this,r=D;return a=R(a),$=V(a,"on_success"),n=g(a,"on_error"),n==null&&(n=D),r=t.$fetch_json_safe(s),r=ee(t,"js_then",[r],function(u){return u==null&&(u=D),$.$call(u)}),N(n)?ee(t,"js_catch",[r],function(u){return u==null&&(u=D),n.$call(u)}):ee(t,"js_catch",[r],function i(u){var f=i.$$s==null?this:i.$$s;return u==null&&(u=D),f.$console_error("Fetch error:",u)},{$$s:t})}),E(l,"$promise_all",function(s){return Promise.all(s)}),E(l,"$promise_race",function(s){return Promise.race(s)}),E(l,"$promise_resolve",function(s){var a=D;return a=N(s["$respond_to?"]("to_n"))?s.$to_n():s,Promise.resolve(a)}),E(l,"$promise_reject",function(s){return Promise.reject(s)}),E(l,"$js_then",function w(s){var a=w.$$p||D;return w.$$p=null,s.then(a)}),E(l,"$js_catch",function w(s){var a=w.$$p||D;return w.$$p=null,s.catch(a)}),E(l,"$js_finally",function w(s){var a=w.$$p||D;return w.$$p=null,s.finally(a)}),l.$private(),E(l,"$camelize",function(s,a){var $=D,n=D;return a==null&&(a=!0),$=s.$to_s(),N($["$include?"]("_"))?(n=$.$split("_"),N(a)?ee(n,"map",[],"capitalize".$to_proc()).$join():H([n.$first()],ee(n["$[]"]($e(1,-1,!1)),"map",[],"capitalize".$to_proc())).$join()):N(a)?H($["$[]"](0).$upcase(),$["$[]"]($e(1,-1,!1)).$to_s()):H($["$[]"](0).$downcase(),$["$[]"]($e(1,-1,!1)).$to_s())},-2)}(d[0],d)}(P[0],P)}(z[0],z)}(J[0],J),Q(J[0],"StimulusHelpers",b(b(b(re("OpalVite"),"Concerns"),"V1"),"StimulusHelpers"))};Opal.modules["opal_vite/concerns/v1/storable"]=function(e){var x=e.module,E=e.truthy,N=e.def,S=e.const_set,ee=[],Z=e.$r(ee),R=e.nil,V=e.$$$;return e.add_stubs("to_n"),function(g,H){var $e=x(g,"OpalVite"),Q=[$e].concat(H);return function(J,re){var D=x(J,"Concerns"),b=[D].concat(re);return function(y,K){var F=x(y,"V1"),z=[F].concat(K);return function(B,p){var k=x(B,"Storable"),P=[k].concat(p),A=e.$r(P);return N(k,"$storage_get",function(o){var d=R;if(d=localStorage.getItem(o),!E(d))return R;try{return JSON.parse(d)}catch(T){if(e.rescue(T,[A("StandardError")]))try{return R}finally{e.pop_exception(T)}else throw T}}),N(k,"$storage_set",function(o,d){var T=R;return T=JSON.stringify(d.$to_n()),localStorage.setItem(o,T)}),N(k,"$storage_remove",function(o){return localStorage.removeItem(o)})}(z[0],z)}(b[0],b)}(Q[0],Q)}(ee[0],ee),S(ee[0],"Storable",V(V(V(Z("OpalVite"),"Concerns"),"V1"),"Storable"))};Opal.modules["data/translations"]=function(e){var x=e.module,E=e.const_set,N=e.defs,S=e.truthy,ee=[],Z=e.nil;return e.add_stubs("freeze,[],include?"),function(R,V){var g=x(R,"Translations"),H=[g].concat(V),$e=e.$r(H);return E(H[0],"SUPPORTED_LOCALES",["en","ja","es","fr","de"].$freeze()),E(H[0],"DEFAULT_LOCALE","en".$freeze()),N(g,"$data",function(){var J=Z;return J={en:{title:" Internationalization Example",subtitle:"Multi-language support with Stimulus + Opal",languageLabel:"Select Language",welcomeTitle:"Welcome!",welcomeMessage:"This application demonstrates internationalization (i18n) features. Switch languages using the buttons above.",productsTitle:"Featured Products",product1Name:"Laptop",product1Desc:"High-performance laptop for professionals",product2Name:"Smartphone",product2Desc:"Latest model with amazing camera",product3Name:"Headphones",product3Desc:"Wireless noise-cancelling headphones",notificationsTitle:"Notifications",dateTimeTitle:"Date & Time",currentDateLabel:"Current Date:",currentTimeLabel:"Current Time:",formTitle:"Contact Form",nameLabel:"Name",emailLabel:"Email",messageLabel:"Message",submitBtn:"Send Message",featuresTitle:" Features Demonstrated",feature1Title:" Multi-language",feature1Desc:"Support for 5 languages: EN, JA, ES, FR, DE",feature2Title:" localStorage",feature2Desc:"Language preference persisted in browser",feature3Title:" Pluralization",feature3Desc:"Smart handling of singular/plural forms",feature4Title:" Number Formatting",feature4Desc:"Currency and number formatting per locale",feature5Title:" Date Formatting",feature5Desc:"Locale-specific date and time formats",feature6Title:" Dynamic Switching",feature6Desc:"Instant language switching without reload",footerText:'Built with <a href="https://opalrb.com/" target="_blank">Opal</a>, <a href="https://stimulus.hotwired.dev/" target="_blank">Stimulus</a>, and <a href="https://vitejs.dev/" target="_blank">Vite</a>',placeholders:{name:"Enter your name",email:"Enter your email",message:"Enter your message"},plurals:{message:{zero:"You have no new messages",one:"You have 1 new message",other:"You have {count} new messages"},item:{zero:"Out of stock",one:"1 item in stock",other:"{count} items in stock"}}},ja:{title:" ",subtitle:"Stimulus + Opal",languageLabel:"",welcomeTitle:"",welcomeMessage:"i18n",productsTitle:"",product1Name:"",product1Desc:"",product2Name:"",product2Desc:"",product3Name:"",product3Desc:"",notificationsTitle:"",dateTimeTitle:"",currentDateLabel:"",currentTimeLabel:"",formTitle:"",nameLabel:"",emailLabel:"",messageLabel:"",submitBtn:"",featuresTitle:" ",feature1Title:" ",feature1Desc:"5ENJAESFRDE",feature2Title:" localStorage",feature2Desc:"",feature3Title:" ",feature3Desc:"",feature4Title:" ",feature4Desc:"",feature5Title:" ",feature5Desc:"",feature6Title:" ",feature6Desc:"",footerText:'<a href="https://opalrb.com/" target="_blank">Opal</a><a href="https://stimulus.hotwired.dev/" target="_blank">Stimulus</a><a href="https://vitejs.dev/" target="_blank">Vite</a>',placeholders:{name:"",email:"",message:""},plurals:{message:{zero:"",one:"1",other:"{count}"},item:{zero:"",one:"1",other:"{count}"}}},es:{title:" Ejemplo de Internacionalizacin",subtitle:"Soporte multiidioma con Stimulus + Opal",languageLabel:"Seleccionar Idioma",welcomeTitle:"Bienvenido!",welcomeMessage:"Esta aplicacin demuestra caractersticas de internacionalizacin (i18n). Cambia de idioma usando los botones de arriba.",productsTitle:"Productos Destacados",product1Name:"Porttil",product1Desc:"Porttil de alto rendimiento para profesionales",product2Name:"Telfono Inteligente",product2Desc:"ltimo modelo con cmara increble",product3Name:"Auriculares",product3Desc:"Auriculares inalmbricos con cancelacin de ruido",notificationsTitle:"Notificaciones",dateTimeTitle:"Fecha y Hora",currentDateLabel:"Fecha Actual:",currentTimeLabel:"Hora Actual:",formTitle:"Formulario de Contacto",nameLabel:"Nombre",emailLabel:"Correo Electrnico",messageLabel:"Mensaje",submitBtn:"Enviar Mensaje",featuresTitle:" Caractersticas Demostradas",feature1Title:" Multiidioma",feature1Desc:"Soporte para 5 idiomas: EN, JA, ES, FR, DE",feature2Title:" localStorage",feature2Desc:"Preferencia de idioma guardada en el navegador",feature3Title:" Pluralizacin",feature3Desc:"Manejo inteligente de formas singulares/plurales",feature4Title:" Formato de Nmeros",feature4Desc:"Formato de moneda y nmeros por configuracin regional",feature5Title:" Formato de Fecha",feature5Desc:"Formatos de fecha y hora especficos del idioma",feature6Title:" Cambio Dinmico",feature6Desc:"Cambio instantneo de idioma sin recargar",footerText:'Construido con <a href="https://opalrb.com/" target="_blank">Opal</a>, <a href="https://stimulus.hotwired.dev/" target="_blank">Stimulus</a> y <a href="https://vitejs.dev/" target="_blank">Vite</a>',placeholders:{name:"Ingrese su nombre",email:"Ingrese su correo electrnico",message:"Ingrese su mensaje"},plurals:{message:{zero:"No tienes mensajes nuevos",one:"Tienes 1 mensaje nuevo",other:"Tienes {count} mensajes nuevos"},item:{zero:"Agotado",one:"1 artculo en stock",other:"{count} artculos en stock"}}},fr:{title:" Exemple d'Internationalisation",subtitle:"Support multilingue avec Stimulus + Opal",languageLabel:"Slectionner la Langue",welcomeTitle:"Bienvenue !",welcomeMessage:"Cette application dmontre les fonctionnalits d'internationalisation (i18n). Changez de langue en utilisant les boutons ci-dessus.",productsTitle:"Produits en Vedette",product1Name:"Ordinateur Portable",product1Desc:"Ordinateur portable haute performance pour les professionnels",product2Name:"Smartphone",product2Desc:"Dernier modle avec appareil photo incroyable",product3Name:"Casque Audio",product3Desc:"Casque sans fil  rduction de bruit",notificationsTitle:"Notifications",dateTimeTitle:"Date et Heure",currentDateLabel:"Date Actuelle :",currentTimeLabel:"Heure Actuelle :",formTitle:"Formulaire de Contact",nameLabel:"Nom",emailLabel:"E-mail",messageLabel:"Message",submitBtn:"Envoyer le Message",featuresTitle:" Fonctionnalits Dmontres",feature1Title:" Multilingue",feature1Desc:"Support de 5 langues : EN, JA, ES, FR, DE",feature2Title:" localStorage",feature2Desc:"Prfrence de langue conserve dans le navigateur",feature3Title:" Pluralisation",feature3Desc:"Gestion intelligente des formes singulier/pluriel",feature4Title:" Formatage des Nombres",feature4Desc:"Formatage des devises et des nombres par locale",feature5Title:" Formatage de Date",feature5Desc:"Formats de date et heure spcifiques  la locale",feature6Title:" Changement Dynamique",feature6Desc:"Changement de langue instantan sans rechargement",footerText:'Construit avec <a href="https://opalrb.com/" target="_blank">Opal</a>, <a href="https://stimulus.hotwired.dev/" target="_blank">Stimulus</a> et <a href="https://vitejs.dev/" target="_blank">Vite</a>',placeholders:{name:"Entrez votre nom",email:"Entrez votre e-mail",message:"Entrez votre message"},plurals:{message:{zero:"Vous n'avez aucun nouveau message",one:"Vous avez 1 nouveau message",other:"Vous avez {count} nouveaux messages"},item:{zero:"Rupture de stock",one:"1 article en stock",other:"{count} articles en stock"}}},de:{title:" Internationalisierungsbeispiel",subtitle:"Mehrsprachige Untersttzung mit Stimulus + Opal",languageLabel:"Sprache Whlen",welcomeTitle:"Willkommen!",welcomeMessage:"Diese Anwendung demonstriert Internationalisierungs (i18n) Funktionen. Wechseln Sie die Sprache mit den Schaltflchen oben.",productsTitle:"Ausgewhlte Produkte",product1Name:"Laptop",product1Desc:"Hochleistungs-Laptop fr Profis",product2Name:"Smartphone",product2Desc:"Neuestes Modell mit erstaunlicher Kamera",product3Name:"Kopfhrer",product3Desc:"Kabellose Kopfhrer mit Geruschunterdrckung",notificationsTitle:"Benachrichtigungen",dateTimeTitle:"Datum und Uhrzeit",currentDateLabel:"Aktuelles Datum:",currentTimeLabel:"Aktuelle Uhrzeit:",formTitle:"Kontaktformular",nameLabel:"Name",emailLabel:"E-Mail",messageLabel:"Nachricht",submitBtn:"Nachricht Senden",featuresTitle:" Demonstrierte Funktionen",feature1Title:" Mehrsprachig",feature1Desc:"Untersttzung fr 5 Sprachen: EN, JA, ES, FR, DE",feature2Title:" localStorage",feature2Desc:"Sprachprferenz im Browser gespeichert",feature3Title:" Pluralisierung",feature3Desc:"Intelligente Handhabung von Singular-/Pluralformen",feature4Title:" Zahlenformatierung",feature4Desc:"Whrungs- und Zahlenformatierung pro Gebietsschema",feature5Title:" Datumsformatierung",feature5Desc:"Gebietsschemaspezifische Datums- und Zeitformate",feature6Title:" Dynamischer Wechsel",feature6Desc:"Sofortiger Sprachwechsel ohne Neuladen",footerText:'Erstellt mit <a href="https://opalrb.com/" target="_blank">Opal</a>, <a href="https://stimulus.hotwired.dev/" target="_blank">Stimulus</a> und <a href="https://vitejs.dev/" target="_blank">Vite</a>',placeholders:{name:"Geben Sie Ihren Namen ein",email:"Geben Sie Ihre E-Mail ein",message:"Geben Sie Ihre Nachricht ein"},plurals:{message:{zero:"Sie haben keine neuen Nachrichten",one:"Sie haben 1 neue Nachricht",other:"Sie haben {count} neue Nachrichten"},item:{zero:"Nicht vorrtig",one:"1 Artikel auf Lager",other:"{count} Artikel auf Lager"}}}},J}),E(H[0],"SUCCESS_MESSAGES",new Map([["en","Message sent successfully!"],["ja",""],["es","Mensaje enviado con xito!"],["fr","Message envoy avec succs !"],["de","Nachricht erfolgreich gesendet!"]]).$freeze()),N(g,"$success_message",function(J){var re=Z;return S(re=$e("SUCCESS_MESSAGES")["$[]"](J))?re:$e("SUCCESS_MESSAGES")["$[]"]($e("DEFAULT_LOCALE"))}),N(g,"$supported?",function(J){return $e("SUPPORTED_LOCALES")["$include?"](J)})}(ee[0],ee)};Opal.modules["services/i18n_service"]=function(e){var x=e.klass,E=e.const_set,N=e.truthy,S=e.def,ee=e.return_ivar,Z=e.eqeqeq,R=e.eqeq,V=[],g=e.nil,H=e.$$$;return e.add_stubs("include,freeze,attr_reader,data,load_saved_locale,supported?,save_locale,===,js_get,to_sym,==,js_global,js_new,to_n,js_call_on,success_message,private,storage_get,storage_set"),function($e,Q,J){var re=x($e,Q,"I18nService"),D=[re].concat(J),b=e.$r(D),y=re.$$prototype;return y.translations=y.current_locale=g,re.$include(b("StimulusHelpers")),E(D[0],"STORAGE_KEY","preferredLocale".$freeze()),re.$attr_reader("translations"),S(re,"$initialize",function(){var F=this,z=g;return F.translations=b("Translations").$data(),F.current_locale=N(z=F.$load_saved_locale())?z:H(b("Translations"),"DEFAULT_LOCALE")}),S(re,"$current_locale",ee("current_locale")),S(re,"$current_locale=",function(F){var z=this;return N(b("Translations")["$supported?"](F))?(z.current_locale=F,z.$save_locale(F)):g}),S(re,"$t",function(){var F=this,z=g;return!N(F.translations)||(z=F.translations[F.current_locale],N(z===void 0))?g:z}),S(re,"$valid_locale?",function(F){var z=this,B=g;return B=typeof z.translations=="object"&&z.translations!==null,N(B)?z.translations[F]!==void 0:!1}),S(re,"$pluralize",function(F,z){var B=this,p=g,k=g,P=g;return p=Z(0,k=z)?"zero":Z(1,k)?"one":"other",P=N(k=B.$js_get(F,p.$to_sym()))?k:B.$js_get(F,"other"),P.replace("{count}",z)}),S(re,"$format_currency",function(F){var z=this,B=g,p=g,k=g,P=g;B=R(z.current_locale,"ja")?"JPY":"USD";try{return p=z.$js_global("Intl"),k=z.$js_get(p,"NumberFormat"),P=z.$js_new(k,z.current_locale,new Map([["style","currency"],["currency",B]]).$to_n()),z.$js_call_on(P,"format",F)}catch(A){if(e.rescue(A,[b("StandardError")]))try{return"$"+F.toFixed(2)}finally{e.pop_exception(A)}else throw A}}),S(re,"$format_date",function(F){var z=this,B=g,p=g,k=g,P=g;try{return B=z.$js_global("Intl"),p=z.$js_get(B,"DateTimeFormat"),k=new Map([["year","numeric"],["month","long"],["day","numeric"]]).$to_n(),P=z.$js_new(p,z.current_locale,k),z.$js_call_on(P,"format",F)}catch(A){if(e.rescue(A,[b("StandardError")]))try{return F.toLocaleDateString()}finally{e.pop_exception(A)}else throw A}}),S(re,"$format_time",function(F){var z=this,B=g,p=g,k=g,P=g;try{return B=z.$js_global("Intl"),p=z.$js_get(B,"DateTimeFormat"),k=new Map([["hour","numeric"],["minute","numeric"],["hour12",z.current_locale["$=="]("en")]]).$to_n(),P=z.$js_new(p,z.current_locale,k),z.$js_call_on(P,"format",F)}catch(A){if(e.rescue(A,[b("StandardError")]))try{return F.toLocaleTimeString()}finally{e.pop_exception(A)}else throw A}}),S(re,"$success_message",function(){var F=this;return b("Translations").$success_message(F.current_locale)}),re.$private(),S(re,"$load_saved_locale",function(){var F=this,z=g;return z=F.$storage_get(b("STORAGE_KEY")),N(z)&&N(b("Translations")["$supported?"](z))?z:g}),S(re,"$save_locale",function(F){var z=this;return z.$storage_set(b("STORAGE_KEY"),F)})}(V[0],null,V)};Opal.modules["controllers/i18n_controller"]=function(e){var x=e.klass,E=e.def,N=e.truthy,S=e.send,ee=[],Z=e.$r(ee),R=e.nil;return e.add_stubs("include,targets=,values=,new,js_set_prop,current_locale,update_active_button,update_translations,current_target,wrap_js,dataset,[],valid_locale?,current_locale=,prevent_default,success_message,private,js_prop,js_each,js_get,js_call_on,t,update_text_targets,update_placeholders,update_pluralized_messages,update_prices,update_date_time,set_root_attr,has_target?,target_set_text,target_set_html,get_target,js_set,pluralize,format_currency,js_date,format_date,format_time"),function(V,g,H){var $e=x(V,g,"I18nController"),Q=[$e].concat(H),J=e.$r(Q),re=$e.$$prototype;return re.i18n_service=R,$e.$include(J("JsProxyEx")),$e.$include(J("StimulusHelpers")),$e["$targets="](e.large_array_unpack("title,subtitle,languageLabel,langBtn,welcomeTitle,welcomeMessage,productsTitle,product1Name,product1Desc,product1Price,product1Stock,product2Name,product2Desc,product2Price,product2Stock,product3Name,product3Desc,product3Price,product3Stock,notificationsTitle,notification1,notification2,notification3,dateTimeTitle,currentDateLabel,currentDate,currentTimeLabel,currentTime,formTitle,nameLabel,nameInput,emailLabel,emailInput,messageLabel,messageInput,submitBtn,featuresTitle,feature1Title,feature1Desc,feature2Title,feature2Desc,feature3Title,feature3Desc,feature4Title,feature4Desc,feature5Title,feature5Desc,feature6Title,feature6Desc,footerText")),$e["$values="](new Map([["current_locale","string"]])),E($e,"$connect",function(){var b=this;return b.i18n_service=J("I18nService").$new(),b.$js_set_prop("currentLocaleValue",b.i18n_service.$current_locale()),b.$update_active_button(),b.$update_translations()}),E($e,"$switch_language",function(b){var y=this,K=R,F=R,z=R;return K=b.$current_target(),F=y.$wrap_js(K.$dataset()),z=F["$[]"]("locale"),N(y.i18n_service["$valid_locale?"](z))?(y.i18n_service["$current_locale="](z),y.$js_set_prop("currentLocaleValue",z),y.$update_active_button(),y.$update_translations()):R}),E($e,"$handle_submit",function(b){var y=this,K=R;return b.$prevent_default(),K=y.i18n_service.$success_message(),alert(K)}),$e.$private(),E($e,"$update_active_button",function(){var b=this,y=R,K=R;return y=b.$js_prop("langBtnTargets"),K=b.i18n_service.$current_locale(),S(b,"js_each",[y],function F(z){var B=F.$$s==null?this:F.$$s,p=R,k=R;return z==null&&(z=R),p=B.$js_get(B.$js_get(z,"dataset"),"locale"),k=B.$js_get(z,"classList"),N(p===K)?B.$js_call_on(k,"add","active"):B.$js_call_on(k,"remove","active")},{$$s:b})}),E($e,"$update_translations",function(){var b=this,y=R;return y=b.i18n_service.$t(),N(y)?(b.$update_text_targets(y),b.$update_placeholders(y),b.$update_pluralized_messages(y),b.$update_prices(),b.$update_date_time(),b.$set_root_attr("lang",b.i18n_service.$current_locale())):R}),E($e,"$update_text_targets",function(b){var y=this;return N(y["$has_target?"]("title"))&&y.$target_set_text("title",y.$js_get(b,"title")),N(y["$has_target?"]("subtitle"))&&y.$target_set_text("subtitle",y.$js_get(b,"subtitle")),N(y["$has_target?"]("languageLabel"))&&y.$target_set_text("languageLabel",y.$js_get(b,"languageLabel")),N(y["$has_target?"]("welcomeTitle"))&&y.$target_set_text("welcomeTitle",y.$js_get(b,"welcomeTitle")),N(y["$has_target?"]("welcomeMessage"))&&y.$target_set_text("welcomeMessage",y.$js_get(b,"welcomeMessage")),N(y["$has_target?"]("productsTitle"))&&y.$target_set_text("productsTitle",y.$js_get(b,"productsTitle")),N(y["$has_target?"]("product1Name"))&&y.$target_set_text("product1Name",y.$js_get(b,"product1Name")),N(y["$has_target?"]("product1Desc"))&&y.$target_set_text("product1Desc",y.$js_get(b,"product1Desc")),N(y["$has_target?"]("product2Name"))&&y.$target_set_text("product2Name",y.$js_get(b,"product2Name")),N(y["$has_target?"]("product2Desc"))&&y.$target_set_text("product2Desc",y.$js_get(b,"product2Desc")),N(y["$has_target?"]("product3Name"))&&y.$target_set_text("product3Name",y.$js_get(b,"product3Name")),N(y["$has_target?"]("product3Desc"))&&y.$target_set_text("product3Desc",y.$js_get(b,"product3Desc")),N(y["$has_target?"]("notificationsTitle"))&&y.$target_set_text("notificationsTitle",y.$js_get(b,"notificationsTitle")),N(y["$has_target?"]("dateTimeTitle"))&&y.$target_set_text("dateTimeTitle",y.$js_get(b,"dateTimeTitle")),N(y["$has_target?"]("currentDateLabel"))&&y.$target_set_text("currentDateLabel",y.$js_get(b,"currentDateLabel")),N(y["$has_target?"]("currentTimeLabel"))&&y.$target_set_text("currentTimeLabel",y.$js_get(b,"currentTimeLabel")),N(y["$has_target?"]("formTitle"))&&y.$target_set_text("formTitle",y.$js_get(b,"formTitle")),N(y["$has_target?"]("nameLabel"))&&y.$target_set_text("nameLabel",y.$js_get(b,"nameLabel")),N(y["$has_target?"]("emailLabel"))&&y.$target_set_text("emailLabel",y.$js_get(b,"emailLabel")),N(y["$has_target?"]("messageLabel"))&&y.$target_set_text("messageLabel",y.$js_get(b,"messageLabel")),N(y["$has_target?"]("submitBtn"))&&y.$target_set_text("submitBtn",y.$js_get(b,"submitBtn")),N(y["$has_target?"]("featuresTitle"))&&y.$target_set_text("featuresTitle",y.$js_get(b,"featuresTitle")),N(y["$has_target?"]("feature1Title"))&&y.$target_set_text("feature1Title",y.$js_get(b,"feature1Title")),N(y["$has_target?"]("feature1Desc"))&&y.$target_set_text("feature1Desc",y.$js_get(b,"feature1Desc")),N(y["$has_target?"]("feature2Title"))&&y.$target_set_text("feature2Title",y.$js_get(b,"feature2Title")),N(y["$has_target?"]("feature2Desc"))&&y.$target_set_text("feature2Desc",y.$js_get(b,"feature2Desc")),N(y["$has_target?"]("feature3Title"))&&y.$target_set_text("feature3Title",y.$js_get(b,"feature3Title")),N(y["$has_target?"]("feature3Desc"))&&y.$target_set_text("feature3Desc",y.$js_get(b,"feature3Desc")),N(y["$has_target?"]("feature4Title"))&&y.$target_set_text("feature4Title",y.$js_get(b,"feature4Title")),N(y["$has_target?"]("feature4Desc"))&&y.$target_set_text("feature4Desc",y.$js_get(b,"feature4Desc")),N(y["$has_target?"]("feature5Title"))&&y.$target_set_text("feature5Title",y.$js_get(b,"feature5Title")),N(y["$has_target?"]("feature5Desc"))&&y.$target_set_text("feature5Desc",y.$js_get(b,"feature5Desc")),N(y["$has_target?"]("feature6Title"))&&y.$target_set_text("feature6Title",y.$js_get(b,"feature6Title")),N(y["$has_target?"]("feature6Desc"))&&y.$target_set_text("feature6Desc",y.$js_get(b,"feature6Desc")),N(y["$has_target?"]("footerText"))?y.$target_set_html("footerText",y.$js_get(b,"footerText")):R}),E($e,"$update_placeholders",function(b){var y=this,K=R,F=R,z=R,B=R;return K=y.$js_get(b,"placeholders"),N(K)?(N(y["$has_target?"]("nameInput"))&&(F=y.$get_target("nameInput"),y.$js_set(F,"placeholder",y.$js_get(K,"name"))),N(y["$has_target?"]("emailInput"))&&(z=y.$get_target("emailInput"),y.$js_set(z,"placeholder",y.$js_get(K,"email"))),N(y["$has_target?"]("messageInput"))?(B=y.$get_target("messageInput"),y.$js_set(B,"placeholder",y.$js_get(K,"message"))):R):R}),E($e,"$update_pluralized_messages",function(b){var y=this,K=R,F=R,z=R;return K=y.$js_get(b,"plurals"),N(K)?(F=y.$js_get(K,"message"),z=y.$js_get(K,"item"),N(y["$has_target?"]("notification1"))&&y.$target_set_text("notification1",y.i18n_service.$pluralize(F,1)),N(y["$has_target?"]("notification2"))&&y.$target_set_text("notification2",y.i18n_service.$pluralize(F,5)),N(y["$has_target?"]("notification3"))&&y.$target_set_text("notification3",y.i18n_service.$pluralize(F,0)),N(y["$has_target?"]("product1Stock"))&&y.$target_set_text("product1Stock",y.i18n_service.$pluralize(z,10)),N(y["$has_target?"]("product2Stock"))&&y.$target_set_text("product2Stock",y.i18n_service.$pluralize(z,1)),N(y["$has_target?"]("product3Stock"))?y.$target_set_text("product3Stock",y.i18n_service.$pluralize(z,0)):R):R}),E($e,"$update_prices",function(){var b=this;return N(b["$has_target?"]("product1Price"))&&b.$target_set_text("product1Price",b.i18n_service.$format_currency(1299.99)),N(b["$has_target?"]("product2Price"))&&b.$target_set_text("product2Price",b.i18n_service.$format_currency(899.99)),N(b["$has_target?"]("product3Price"))?b.$target_set_text("product3Price",b.i18n_service.$format_currency(349.99)):R}),E($e,"$update_date_time",function(){var b=this,y=R;return y=b.$js_date(),N(b["$has_target?"]("currentDate"))&&b.$target_set_text("currentDate",b.i18n_service.$format_date(y)),N(b["$has_target?"]("currentTime"))?b.$target_set_text("currentTime",b.i18n_service.$format_time(y)):R})}(ee[0],Z("StimulusController"),ee)};Opal.queue(function(e){var x=e.top,E=[],N=e.$r(E);return e.nil,e.add_stubs("require,puts,register_all!"),x.$require("native"),x.$require("opal_stimulus/stimulus_controller"),x.$require("opal_vite/concerns/v1/js_proxy_ex"),x.$require("opal_vite/concerns/v1/stimulus_helpers"),x.$require("opal_vite/concerns/v1/storable"),x.$require("data/translations"),x.$require("services/i18n_service"),x.$require("controllers/i18n_controller"),x.$puts("i18n Example - Opal + Stimulus"),x.$puts("Ruby version: "+N("RUBY_VERSION")),N("StimulusController")["$register_all!"](),x.$puts("All controllers registered!")});
