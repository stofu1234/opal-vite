Opal.modules.native=function(e){var E=e.hash_put,B=e.module,P=e.defs,A=e.slice,te=e.truthy,Q=e.send,N=e.Kernel,Z=e.extract_kwargs,g=e.ensure_kwargs,K=e.hash_get,$e=e.range,W=e.to_a,G=e.def,ee=e.return_ivar,V=e.alias,b=e.klass,y=e.rb_minus,F=e.return_val,Y=e.send2,z=e.find_super,D=e.eqeqeq,m=e.rb_ge,q=e.return_self,R=e.gvars,x=e.top,w=[],s=e.$r(w),d=e.nil,k=e.$$$;return e.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(h,c){var o=B(h,"Native"),X=[o].concat(c),L=e.$r(X);return P(o,"$is_a?",function(f,a){var n=this;try{return f instanceof n.$try_convert(a)}catch{return!1}}),P(o,"$try_convert",function(f,a){var n=this;return a==null&&(a=d),n["$native?"](f)?f:f["$respond_to?"]("to_n")?f.$to_n():a},-2),P(o,"$convert",function(f){var a=this;if(a["$native?"](f))return f;if(f["$respond_to?"]("to_n"))return f.$to_n();a.$raise(L("ArgumentError"),""+f.$inspect()+" isn't native")}),P(o,"$call",function _(f,a,n){var t=_.$$p||d,r,$,i=this;_.$$p=null,r=A(arguments,2),$=r;var u=f[a];if(u instanceof Function){for(var p=new Array($.length),S=0,M=$.length;S<M;S++){var T=$[S],H=i.$try_convert(T);p[S]=H===d?T:H}return t!==d&&p.push(t),i.$Native(u.apply(f,p))}else return i.$Native(u)},-3),P(o,"$proc",function _(){var f=_.$$p||d,a=this;return _.$$p=null,te(f)||a.$raise(L("LocalJumpError"),"no block given"),Q(N,"proc",[],function n(t){var r,$,i=n.$$s==null?this:n.$$s,u=d;if(r=A(arguments),$=r,Q($,"map!",[],function S(M){var T=S.$$s==null?this:S.$$s;return M==null&&(M=d),T.$Native(M)},{$$s:i}),u=i.$Native(this),this===e.global)return f.apply(i,$);var p=f.$$s;f.$$s=null;try{return f.apply(u,$)}finally{f.$$s=p}},{$$arity:-1,$$s:a})}),function(_,f){var a=B(_,"Helpers"),n=[a].concat(f),t=e.$r(n);return G(a,"$alias_native",function r($,i,u){var p,S,M,T;r.$$p;var H=this;return r.$$p=null,p=A(arguments,1),S=Z(p),S=g(S),p.length>0&&(M=p.shift()),M==null&&(M=$),T=K(S,"as"),T==null&&(T=d),te(M["$end_with?"]("="))?Q(H,"define_method",[$],function O(ae){var le=O.$$s==null?this:O.$$s;return le.native==null&&(le.native=d),ae==null&&(ae=d),le.native[M["$[]"]($e(0,-2,!1))]=t("Native").$convert(ae),ae},{$$s:H}):te(T)?Q(H,"define_method",[$],function O(ae){var le=O.$$p||d,_e,de,ge=O.$$s==null?this:O.$$s,ve=d;return ge.native==null&&(ge.native=d),O.$$p=null,_e=A(arguments),de=_e,ve=Q(t("Native"),"call",[ge.native,M].concat(W(de)),le.$to_proc()),te(ve)?T.$new(ve.$to_n()):d},{$$arity:-1,$$s:H}):Q(H,"define_method",[$],function O(ae){var le=O.$$p||d,_e,de,ge=O.$$s==null?this:O.$$s;return ge.native==null&&(ge.native=d),O.$$p=null,_e=A(arguments),de=_e,Q(t("Native"),"call",[ge.native,M].concat(W(de)),le.$to_proc())},{$$arity:-1,$$s:H})},-2),G(a,"$native_reader",function($){var i,u,p=this;return i=A(arguments),u=i,Q(u,"each",[],function S(M){var T=S.$$s==null?this:S.$$s;return M==null&&(M=d),Q(T,"define_method",[M],function H(){var O=H.$$s==null?this:H.$$s;return O.native==null&&(O.native=d),O.$Native(O.native[M])},{$$s:T})},{$$s:p})},-1),G(a,"$native_writer",function($){var i,u,p=this;return i=A(arguments),u=i,Q(u,"each",[],function S(M){var T=S.$$s==null?this:S.$$s;return M==null&&(M=d),Q(T,"define_method",[""+M+"="],function H(O){var ae=H.$$s==null?this:H.$$s;return ae.native==null&&(ae.native=d),O==null&&(O=d),ae.$Native(ae.native[M]=O)},{$$s:T})},{$$s:p})},-1),G(a,"$native_accessor",function($){var i,u,p=this;return i=A(arguments),u=i,Q(p,"native_reader",W(u)),Q(p,"native_writer",W(u))},-1)}(X[0],X),function(_,f){var a=B(_,"Wrapper"),n=[a].concat(f),t=e.$r(n);return G(a,"$initialize",function($){var i=this;return te(N["$native?"]($))||N.$raise(t("ArgumentError"),""+$.$inspect()+" isn't native"),i.native=$}),G(a,"$to_n",ee("native")),P(a,"$included",function($){return $.$extend(t("Helpers"))})}(X[0],X),P(o,"$included",function(f){var a=this;return a.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),f.$include(L("Wrapper"))})}(w[0],w),function(h,c){var o=B(h,"Kernel"),X=[o].concat(c),L=e.$r(X);return G(o,"$native?",function(f){return f==null||!f.$$class}),G(o,"$Native",function _(f){_.$$p;var a=this;return _.$$p=null,te(f==null)?d:te(a["$native?"](f))?k(L("Native"),"Object").$new(f):te(f["$is_a?"](L("Array")))?Q(f,"map",[],function n(t){var r=n.$$s==null?this:n.$$s;return t==null&&(t=d),r.$Native(t)},{$$s:a}):te(f["$is_a?"](L("Proc")))?Q(a,"proc",[],function n(t){var r=n.$$p||d,$,i,u=n.$$s==null?this:n.$$s;return n.$$p=null,$=A(arguments),i=$,u.$Native(Q(f,"call",W(i),r.$to_proc()))},{$$arity:-1,$$s:a}):f}),V(o,"_Array","Array"),G(o,"$Array",function _(f,a){var n=_.$$p||d,t,r,$=this;return _.$$p=null,t=A(arguments,1),r=t,te($["$native?"](f))?Q(k(L("Native"),"Array"),"new",[f].concat(W(r)),n.$to_proc()).$to_a():$.$_Array(f)},-2)}(w[0],w),function(h,c){var o=b(h,c,"Object"),X=o.$$prototype;return X.native=d,o.$include(k(k("Native"),"Wrapper")),G(o,"$==",function(_){var f=this;return f.native===k("Native").$try_convert(_)}),G(o,"$has_key?",function(_){var f=this;return e.hasOwnProperty.call(f.native,_)}),G(o,"$each",function L(_){var f,a,n=L.$$p||d,t=this;if(L.$$p=null,f=A(arguments),a=f,n!==d){for(var r in t.native)e.yieldX(n,[r,t.native[r]]);return t}else return Q(t,"method_missing",["each"].concat(W(a)))},-1),G(o,"$[]",function(_){var f=this,a=f.native[_];return a instanceof Function?a:k("Native").$call(f.native,_)}),G(o,"$[]=",function(_,f){var a=this,n=d;return n=k("Native").$try_convert(f),te(n===d)?a.native[_]=f:a.native[_]=n}),G(o,"$merge!",function(_){var f=this;_=k("Native").$convert(_);for(var a in _)f.native[a]=_[a];return f}),G(o,"$respond_to?",function(_,f){var a=this;return f==null&&(f=!1),N.$instance_method("respond_to?").$bind(a).$call(_,f)},-2),G(o,"$respond_to_missing?",function(_,f){var a=this;return e.hasOwnProperty.call(a.native,_)},-2),G(o,"$method_missing",function L(_,f){var a=L.$$p||d,n,t,r,$=this;return L.$$p=null,n=A(arguments,1),t=n,_.charAt(_.length-1)==="="?(r=[_.$slice(0,y(_.$length(),1)),t["$[]"](0)],Q($,"[]=",r),r[r.length-1]):Q(k("Native"),"call",[$.native,_].concat(W(t)),a.$to_proc())},-2),G(o,"$nil?",F(!1)),G(o,"$is_a?",function(_){var f=this;return e.is_a(f,_)}),G(o,"$instance_of?",function(_){var f=this;return f.$$class===_}),G(o,"$class",function(){var _=this;return _.$$class}),G(o,"$to_a",function L(_){var f=L.$$p||d,a=this;return L.$$p=null,_==null&&(_=new Map),Q(k(k("Native"),"Array"),"new",[a.native,_],f.$to_proc()).$to_a()},-1),G(o,"$inspect",function(){var _=this;return"#<Native:"+String(_.native)+">"}),V(o,"include?","has_key?"),V(o,"key?","has_key?"),V(o,"kind_of?","is_a?"),V(o,"member?","has_key?")}(s("Native"),s("BasicObject")),function(h,c,o){var X=b(h,c,"Array"),L=[X].concat(o),_=e.$r(L),f=X.$$prototype;return f.named=f.native=f.get=f.block=f.set=f.length=d,X.$include(k(_("Native"),"Wrapper")),X.$include(_("Enumerable")),G(X,"$initialize",function a(n,t){var r=a.$$p||d,$=this,i=d;return a.$$p=null,t==null&&(t=new Map),Y($,z($,"initialize",a,!1,!0),"initialize",[n],null),$.get=te(i=t["$[]"]("get"))?i:t["$[]"]("access"),$.named=t["$[]"]("named"),$.set=te(i=t["$[]"]("set"))?i:t["$[]"]("access"),$.length=te(i=t["$[]"]("length"))?i:"length",$.block=r,te($.$length()==null)?$.$raise(_("ArgumentError"),"no length found on the array-like object"):d},-2),G(X,"$each",function a(){var n=a.$$p||d,t=this;if(a.$$p=null,!te(n))return t.$enum_for("each");for(var r=0,$=t.$length();r<$;r++)e.yield1(n,t["$[]"](r));return t}),G(X,"$[]",function(n){var t=this,r=d,$=d;return r=D(_("String"),$=n)||D(_("Symbol"),$)?te(t.named)?t.native[t.named](n):t.native[n]:D(_("Integer"),$)?te(t.get)?t.native[t.get](n):t.native[n]:d,te(r)?te(t.block)?t.block.$call(r):t.$Native(r):d}),G(X,"$[]=",function(n,t){var r=this;return te(r.set)?r.native[r.set](n,_("Native").$convert(t)):r.native[n]=_("Native").$convert(t)}),G(X,"$last",function(n){var t=this,r=d,$=d;if(n==null&&(n=d),te(n)){for(r=y(t.$length(),1),$=[];te(m(r,0));)$["$<<"](t["$[]"](r)),r=y(r,1);return $}else return t["$[]"](y(t.$length(),1))},-1),G(X,"$length",function(){var n=this;return n.native[n.length]}),G(X,"$inspect",function(){var n=this;return n.$to_a().$inspect()}),V(X,"to_ary","to_a")}(s("Native"),null,w),function(h,c){var o=b(h,c,"Numeric");return G(o,"$to_n",function(){var L=this;return L.valueOf()})}(w[0],null),function(h,c){var o=b(h,c,"Proc");return G(o,"$to_n",q)}(w[0],null),function(h,c){var o=b(h,c,"String");return G(o,"$to_n",function(){var L=this;return L.valueOf()})}(w[0],null),function(h,c){var o=b(h,c,"Regexp");return G(o,"$to_n",function(){var L=this;return L.valueOf()})}(w[0],null),function(h,c){var o=b(h,c,"MatchData");return G(o,"$to_n",ee("matches"))}(w[0],null),function(h,c,o){var X=b(h,c,"Struct"),L=[X].concat(o),_=e.$r(L);return G(X,"$to_n",function(){var a=this,n=d;return n={},Q(a,"each_pair",[],function(r,$){return r==null&&(r=d),$==null&&($=d),n[r]=_("Native").$try_convert($,$)}),n})}(w[0],null,w),function(h,c,o){var X=b(h,c,"Array"),L=[X].concat(o),_=e.$r(L);return G(X,"$to_n",function(){for(var a=this,n=[],t=0,r=a.length;t<r;t++){var $=a[t];n.push(_("Native").$try_convert($,$))}return n})}(w[0],null,w),function(h,c){var o=b(h,c,"Boolean");return G(o,"$to_n",function(){var L=this;return L.valueOf()})}(w[0],null),function(h,c){var o=b(h,c,"Time");return G(o,"$to_n",q)}(w[0],null),function(h,c){var o=b(h,c,"NilClass");return G(o,"$to_n",function(){return null})}(w[0],null),te(s("Hash")["$method_defined?"]("_initialize"))||function(h,c,o){var X=b(h,c,"Hash"),L=[X].concat(o),_=e.$r(L);V(X,"_initialize","initialize");function f(a,n,t){t&&(t.constructor===void 0||t.constructor===Object||t instanceof Map)?E(a,n,_("Hash").$new(t)):t&&t.$$is_array?(t=t.map(function(r){return r&&(r.constructor===void 0||r.constructor===Object||t instanceof Map)?_("Hash").$new(r):X.$Native(r)}),E(a,n,t)):E(a,n,X.$Native(t))}return G(X,"$initialize",function a(n){var t=a.$$p||d,r=this;if(a.$$p=null,n!=null)if(n.constructor===void 0||n.constructor===Object){var $,i;for($ in n)i=n[$],f(r,$,i);return r}else n instanceof Map&&e.hash_each(n,!1,function(u,p){return f(r,u,p),[!1,!1]});return Q(r,"_initialize",[n],t.$to_proc())},-1),G(X,"$to_n",function(){var n=this,t={};return e.hash_each(n,!1,function(r,$){return t[_("Native").$try_convert(r,r)]=_("Native").$try_convert($,$),[!1,!1]}),t})}(w[0],null,w),function(h,c){var o=b(h,c,"Module");return G(o,"$native_module",function(){var L=this;return e.global[L.$name()]=L})}(w[0],null),function(h,c,o){var X=b(h,c,"Class"),L=[X].concat(o),_=e.$r(L);return G(X,"$native_alias",function(a,n){var t=this,r=t.prototype[e.jsid(n)];r||t.$raise(_("NameError").$new("undefined method `"+n+"' for class `"+t.$inspect()+"'",n)),t.prototype[a]=r}),G(X,"$native_class",function(){var a=this;return a.$native_module(),a.new=a.$new})}(w[0],null,w),R.$=R.global=x.$Native(e.global)};(function(e){var E;if(typeof globalThis<"u"?e=globalThis:typeof global<"u"?e=global:typeof window<"u"&&(e=window),e.console==null&&(e.console={}),typeof e.console=="object"?E=e.console:E={},"log"in E||(E.log=function(){}),"warn"in E||(E.warn=E.log),typeof e.Opal<"u")return E.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),e.Opal;var B,P,A,te,Q,N,Z,g=e.Opal={};g.global=e,g.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var K=Function.prototype.call,$e=Function.prototype.bind,W=Object.hasOwn||K.bind(Object.prototype.hasOwnProperty),G=Object.setPrototypeOf,ee=K.bind(Array.prototype.slice),V=K.bind(Array.prototype.splice),b=4,y=b;function F(){return y+=2,y}g.uid=F,g.id=function(l){return l.$$is_number?l*2+1:(l.$$id==null&&m(l,"$$id",F()),l.$$id)};var Y=g.gvars={};g.exit=function(l){Y.DEBUG&&E.log("Exited with status "+l)},g.exceptions=[],g.pop_exception=function(l){var v=g.exceptions.pop();v===l||(v?Y["!"]=v:Y["!"]=B)};function z(l,v){if(l||(l=g.Exception||Error),Z&&Z.$raise)arguments.length>2?Z.$raise(l.$new.apply(l,ee(arguments,1))):Z.$raise(l,v);else throw l.$new?l.$new(v):new l(v)}var D={value:void 0,enumerable:!1,configurable:!0,writable:!0};function m(l,v,j){typeof l=="string"?l[v]=j:(D.value=j,Object.defineProperty(l,v,D))}g.prop=m,g.defineProperty=g.prop,g.slice=ee;var q=g.truthy=function(l){return l!==!1&&B!==l&&l!==void 0&&l!==null&&(!(l instanceof Boolean)||l.valueOf()===!0)};g.falsy=function(l){return!q(l)},g.type_error=function(l,v,j,re){l=l.$$class,re&&j?(re=re.$$class,z(g.TypeError,"can't convert "+l+" into "+v+" ("+l+"#"+j+" gives "+re+")")):z(g.TypeError,"no implicit conversion of "+l+" into "+v)},g.coerce_to=function(l,v,j,re){var ue;return j==="to_int"&&v===g.Integer&&l.$$is_number?l<0?Math.ceil(l):Math.floor(l):j==="to_str"&&v===g.String&&l.$$is_string||g.is_a(l,v)?l:l["$respond_to?"].$$pristine&&l.$method_missing.$$pristine?(ue=l[de(j)],(ue==null||ue.$$stub)&&g.type_error(l,v),ue.apply(l,re)):(l["$respond_to?"](j)||g.type_error(l,v),re==null&&(re=[]),g.send(l,j,re))},g.respond_to=function(l,v,j){if(l==null||!l.$$class)return!1;j=!!j;var re=l[v];if(l["$respond_to?"].$$pristine){if(typeof re=="function"&&!re.$$stub)return!0;if(!l["$respond_to_missing?"].$$pristine)return g.send(l,l["$respond_to_missing?"],[v.substr(1),j])}else return g.send(l,l["$respond_to?"],[v.substr(1),j])},g.trace_class=!1,g.tracers_for_class=[];function R(l){var v,j,re;for(v=0,j=g.tracers_for_class.length;v<j;v++)re=g.tracers_for_class[v],re.trace_object=l,re.block.$call(re)}function x(l,v){if(l.$$autoload[v].loaded){if(l.$$autoload[v].loaded&&!l.$$autoload[v].required&&l.$$autoload[v].exception)throw l.$$autoload[v].exception}else{l.$$autoload[v].loaded=!0;try{g.Kernel.$require(l.$$autoload[v].path)}catch(j){throw l.$$autoload[v].exception=j,j}if(l.$$autoload[v].required=!0,l.$$const[v]!=null)return l.$$autoload[v].success=!0,l.$$const[v]}}function w(l,v){if(l){if(l.$$const[v]!=null)return l.$$const[v];if(l.$$autoload&&l.$$autoload[v])return x(l,v)}}function s(l,v){var j,re,ue;if(l.length!==0)for(j=0,re=l.length;j<re;j++){if(ue=l[j].$$const[v],ue!=null)return ue;if(l[j].$$autoload&&l[j].$$autoload[v])return x(l[j],v)}}function d(l,v){var j,re,ue;if(l!=null)for(ue=H(l),j=0,re=ue.length;j<re;j++){if(ue[j].$$const&&W(ue[j].$$const,v))return ue[j].$$const[v];if(ue[j].$$autoload&&ue[j].$$autoload[v])return x(ue[j],v)}}function k(l,v){if(l==null||l.$$is_module)return d(A,v)}function h(l,v){return(l||A).$const_missing(v)}g.const_get_local=function(l,v,j){var re;if(l!=null)return l==="::"&&(l=A),!l.$$is_module&&!l.$$is_class&&z(g.TypeError,l.toString()+" is not a class/module"),re=w(l,v),re!=null||j?re:h(l,v)},g.const_get_qualified=function(l,v,j){var re,ue,ce,he=g.const_cache_version;if(v==null)return re=w(A,l),re??g.const_get_qualified(A,l,j);if(l!=null)return l==="::"&&(l=A),!l.$$is_module&&!l.$$is_class&&z(g.TypeError,l.toString()+" is not a class/module"),(ue=l.$$const_cache)==null&&(m(l,"$$const_cache",Object.create(null)),ue=l.$$const_cache),ce=ue[v],ce==null||ce[0]!==he?((re=w(l,v))!=null||(re=d(l,v))!=null,ue[v]=[he,re]):re=ce[1],re!=null||j?re:h(l,v)},g.const_cache_version=1,g.const_get_relative=function(l,v,j){var re=l[0],ue,ce=g.const_cache_version,he,pe;return(he=l.$$const_cache)==null&&(m(l,"$$const_cache",Object.create(null)),he=l.$$const_cache),pe=he[v],pe==null||pe[0]!==ce?((ue=w(re,v))!=null||(ue=s(l,v))!=null||(ue=d(re,v))!=null||(ue=k(re,v))!=null,he[v]=[ce,ue]):ue=pe[1],ue!=null||j?ue:h(re,v)};function c(l,v,j){var re=!0;return(l==null||l==="::")&&(l=A),j.$$is_a_module&&((j.$$name==null||j.$$name===B)&&(j.$$name=v),j.$$base_module==null&&(j.$$base_module=l)),l.$$const=l.$$const||Object.create(null),(v in l.$$const||"$$autoload"in l&&v in l.$$autoload)&&(re=!1),l.$$const[v]=j,l.$$=l.$$const,g.const_cache_version++,l===A&&(g[v]=j),m(l,v,j),re&&l.$const_added&&!l.$const_added.$$pristine&&l.$const_added(v),j}g.const_set=c,g.constants=function(l,v){v==null&&(v=!0);var j,re=[l],ue,ce,he={},pe;for(v&&(re=re.concat(H(l))),v&&l.$$is_module&&(re=re.concat([g.Object]).concat(H(g.Object))),ue=0,ce=re.length;ue<ce&&(j=re[ue],!(l!==A&&j==A));ue++){for(pe in j.$$const)he[pe]=!0;if(j.$$autoload)for(pe in j.$$autoload)he[pe]=!0}return Object.keys(he)},g.const_remove=function(l,v){if(g.const_cache_version++,l.$$const[v]!=null){var j=l.$$const[v];return delete l.$$const[v],j}if(l.$$autoload&&l.$$autoload[v])return delete l.$$autoload[v],B;z(g.NameError,"constant "+l+"::"+l.$name()+" not defined")},g.const_get_relative_factory=function(l){return function(v,j){return g.$$(l,v,j)}},g.$$=g.const_get_relative,g.$$$=g.const_get_qualified,g.$r=g.const_get_relative_factory;function o(l){return l==null?!1:l.$$bridge?l:l.$$super?o(l.$$super):!1}function X(l,v,j){var re,ue;if((ue=o(v))?re=function(){var ye=new($e.apply(ue.$$constructor,ge(null,arguments)));return G(ye,re.$$prototype),ye}:re=function(){},l&&l!==B&&m(re,"displayName","::"+l),m(re,"$$name",l),m(re,"$$constructor",re),m(re,"$$prototype",re.prototype),m(re,"$$const",{}),m(re,"$$is_class",!0),m(re,"$$is_a_module",!0),m(re,"$$super",v),m(re,"$$cvars",{}),m(re,"$$own_included_modules",[]),m(re,"$$own_prepended_modules",[]),m(re,"$$ancestors",[]),m(re,"$$ancestors_cache_version",null),m(re,"$$subclasses",[]),m(re,"$$cloned_from",[]),m(re.$$prototype,"$$class",re),g.Class&&G(re,g.Class.prototype),v!=null){if(G(re.$$prototype,v.$$prototype),j!==!0)if(typeof WeakRef<"u"){var ce,he,pe=[];for(ce=0;ce<v.$$subclasses.length;ce++)he=v.$$subclasses[ce],he.deref()!==void 0&&pe.push(he);pe.push(new WeakRef(re)),v.$$subclasses=pe}else v.$$subclasses.push(re);v.$$meta&&g.build_class_singleton_class(re)}return re}g.allocate_class=X;function L(l,v){var j=w(l,v);if(j)return j.$$is_class||z(g.TypeError,v+" is not a class"),j}function _(l,v){l.$$super!==v&&z(g.TypeError,"superclass mismatch for class "+l.$$name)}g.klass=function(l,v,j){var re;l==null||l=="::"?l=A:!l.$$is_class&&!l.$$is_module&&(l=l.$$class),v!=null&&(!v.hasOwnProperty||v.hasOwnProperty&&!v.hasOwnProperty("$$is_class"))&&(v.constructor&&v.constructor.name=="Function"?(re=v,v=A):z(g.TypeError,"superclass must be a Class ("+(v.constructor&&(v.constructor.name||v.constructor.$$name)||typeof v)+" given)"));var ue=L(l,j);return ue!=null?v&&_(ue,v):(v==null&&(v=A),ue=X(j,v),c(l,j,ue),v.$inherited&&v.$inherited(ue),re&&g.bridge(re,ue)),g.trace_class&&R(ue),ue};function f(l){var v=function(){},j=v;return l&&m(v,"displayName",l+".constructor"),m(j,"$$name",l),m(j,"$$prototype",v.prototype),m(j,"$$const",{}),m(j,"$$is_module",!0),m(j,"$$is_a_module",!0),m(j,"$$cvars",{}),m(j,"$$iclasses",[]),m(j,"$$own_included_modules",[]),m(j,"$$own_prepended_modules",[]),m(j,"$$ancestors",[j]),m(j,"$$ancestors_cache_version",null),m(j,"$$cloned_from",[]),G(j,g.Module.prototype),j}g.allocate_module=f;function a(l,v){var j=w(l,v);return j==null&&l===A&&(j=d(A,v)),j&&!j.$$is_module&&j!==A&&z(g.TypeError,v+" is not a module"),j}g.module=function(l,v){var j;return l==null||l=="::"?l=A:!l.$$is_class&&!l.$$is_module&&(l=l.$$class),j=a(l,v),j==null&&(j=f(v),c(l,v,j)),g.trace_class&&R(j),j},g.get_singleton_class=function(l){return l.$$is_number&&z(g.TypeError,"can't define singleton"),l.$$meta?l.$$meta:l.hasOwnProperty("$$is_class")?g.build_class_singleton_class(l):l.hasOwnProperty("$$is_module")?g.build_module_singleton_class(l):g.build_object_singleton_class(l)};function n(l,v){l.hasOwnProperty("$$meta")?l.$$meta=v:m(l,"$$meta",v),l.$$frozen?l.$$meta.$freeze():G(l,v.$$prototype)}g.build_class_singleton_class=function(l){if(l.$$meta)return l.$$meta;var v=l===P?Q:g.get_singleton_class(l.$$super),j=X(null,v,!0);return m(j,"$$is_singleton",!0),m(j,"$$singleton_of",l),n(l,j),m(l,"$$class",g.Class),j},g.build_module_singleton_class=function(l){if(l.$$meta)return l.$$meta;var v=X(null,g.Module,!0);return m(v,"$$is_singleton",!0),m(v,"$$singleton_of",l),n(l,v),m(l,"$$class",g.Module),v},g.build_object_singleton_class=function(l){var v=l.$$class,j=X(B,v,!0);return m(j,"$$is_singleton",!0),m(j,"$$singleton_of",l),delete j.$$prototype.$$class,n(l,j),j},g.is_method=function(l){return l[0]==="$"&&l[1]!=="$"},g.instance_methods=function(l){for(var v=Object.create(null),j=[],re=H(l),ue=0,ce=re.length;ue<ce;ue++){var he=re[ue],pe=he.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ze=ye.length;we<ze;we++){var Ee=ye[we];if(!v[Ee]){if(g.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);j.push(qe)}}v[Ee]=!0}}}return j},g.own_instance_methods=function(l){var v=[],j=l.$$prototype;j.hasOwnProperty("$$dummy")&&(j=j.$$define_methods_on);for(var re=Object.getOwnPropertyNames(j),ue=0,ce=re.length;ue<ce;ue++){var he=re[ue];if(g.is_method(he)){var pe=j[he];if(!pe.$$stub){var ye=he.slice(1);v.push(ye)}}}return v},g.methods=function(l){return g.instance_methods(l.$$meta||l.$$class)},g.own_methods=function(l){return l.$$meta?g.own_instance_methods(l.$$meta):[]},g.receiver_methods=function(l){var v=g.get_singleton_class(l),j=g.own_instance_methods(v),re=g.own_instance_methods(v.$$super);return j.concat(re)},g.class_variables=function(l){var v=H(l),j,re=v.length,ue={};for(j=re-1;j>=0;j--){var ce=v[j];for(var he in ce.$$cvars)ue[he]=ce.$$cvars[he]}return ue},g.class_variable_set=function(l,v,j){var re=H(l),ue,ce=re.length;for(ue=ce-2;ue>=0;ue--){var he=re[ue];if(W(he.$$cvars,v))return he.$$cvars[v]=j,j}return l.$$cvars[v]=j,j},g.class_variable_get=function(l,v,j){if(W(l.$$cvars,v))return l.$$cvars[v];var re=H(l),ue,ce=re.length;for(ue=0;ue<ce;ue++){var he=re[ue];if(W(he.$$cvars,v))return he.$$cvars[v]}return j||z(g.NameError,"uninitialized class variable "+v+" in "+l.$name()),B};function t(l){return l.hasOwnProperty("$$iclass")&&l.hasOwnProperty("$$root")}function r(l){for(var v=[],j,re=Object.getPrototypeOf(l.$$prototype);re&&!re.hasOwnProperty("$$class");)j=M(re),j&&v.push(j),re=Object.getPrototypeOf(re);return v}function $(l){var v=[],j,re=Object.getPrototypeOf(l.$$prototype);if(l.$$prototype.hasOwnProperty("$$dummy"))for(;re&&re!==l.$$prototype.$$define_methods_on;)j=M(re),j&&v.push(j),re=Object.getPrototypeOf(re);return v}g.append_features=function(l,v){var j=H(l),re=[];j.indexOf(v)!==-1&&z(g.ArgumentError,"cyclic include detected");for(var ue=0,ce=j.length;ue<ce;ue++){var he=j[ue],pe=u(he);m(pe,"$$included",!0),re.push(pe)}var ye=H(v),we=S(re),ze,Ee;if(ye.indexOf(l)===-1)ze=v.$$prototype,Ee=Object.getPrototypeOf(v.$$prototype);else{for(var xe=v.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===l&&t(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var Ae=Object.getPrototypeOf(qe);Ae.hasOwnProperty("$$iclass")&&!t(Ae);)Ae=Object.getPrototypeOf(Ae);ze=xe,Ee=Ae}else ze=v.$$prototype,Ee=Object.getPrototypeOf(v.$$prototype)}G(ze,we.first),G(we.last,Ee),v.$$own_included_modules=r(v),g.const_cache_version++},g.prepend_features=function(l,v){var j=H(l),re=[];j.indexOf(v)!==-1&&z(g.ArgumentError,"cyclic prepend detected");for(var ue=0,ce=j.length;ue<ce;ue++){var he=j[ue],pe=u(he);m(pe,"$$prepended",!0),re.push(pe)}var ye=S(re),we=v.$$prototype,ze=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=p(v),i(v),m(we,"$$dummy",!0),m(we,"$$define_methods_on",Ee),G(we,Ee),G(Ee,ze));var Ae=H(v);if(Ae.indexOf(l)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else z(g.RuntimeError,"Prepending a module multiple times is not supported");G(xe,ye.first),G(ye.last,qe),v.$$own_prepended_modules=$(v),g.const_cache_version++};function i(l){for(var v=l.$$prototype,j=Object.getOwnPropertyNames(v),re=0;re<j.length;re++){var ue=j[re];g.is_method(ue)&&delete v[ue]}}function u(l){var v=p(l);return l.$$is_module&&l.$$iclasses.push(v),v}function p(l){var v={},j=l.$$prototype;j.hasOwnProperty("$$dummy")&&(j=j.$$define_methods_on);var re=Object.getOwnPropertyNames(j),ue=re.length,ce;for(ce=0;ce<ue;ce++){var he=re[ce];m(v,he,j[he])}return m(v,"$$iclass",!0),m(v,"$$module",l),v}function S(l){var v=l.length,j=l[0];if(m(j,"$$root",!0),v===1)return{first:j,last:j};for(var re=j,ue=1;ue<v;ue++){var ce=l[ue];G(re,ce),re=ce}return{first:l[0],last:l[v-1]}}g.bridge=function(l,v){l.hasOwnProperty("$$bridge")&&z(g.ArgumentError,"already bridged"),m(l,"$$bridge",v),G(l.prototype,(v.$$super||g.Object).$$prototype),m(v,"$$prototype",l.prototype),m(v.$$prototype,"$$class",v),m(v,"$$constructor",l),m(v,"$$bridge",!0)};function M(l){if(!l.hasOwnProperty("$$dummy")){if(l.hasOwnProperty("$$iclass"))return l.$$module;if(l.hasOwnProperty("$$class"))return l.$$class}}function T(l){return l.$$own_prepended_modules.concat([l]).concat(l.$$own_included_modules)}function H(l){if(!l)return[];if(l.$$ancestors_cache_version===g.const_cache_version)return l.$$ancestors;var v=[],j,re,ue;for(j=0,re=T(l),ue=re.length;j<ue;j++)v.push(re[j]);if(l.$$super)for(j=0,re=H(l.$$super),ue=re.length;j<ue;j++)v.push(re[j]);return l.$$ancestors_cache_version=g.const_cache_version,l.$$ancestors=v,v}g.ancestors=H,g.included_modules=function(l){for(var v=[],j=null,re=Object.getPrototypeOf(l.$$prototype);re&&Object.getPrototypeOf(re);re=Object.getPrototypeOf(re))j=M(re),j&&j.$$is_module&&re.$$iclass&&re.$$included&&v.push(j);return v},g.add_stubs=function(l){var v=g.BasicObject.$$prototype,j,re;l=l.split(",");for(var ue=0,ce=l.length;ue<ce;ue++)j=de(l[ue]),re=v[j],(re==null||re.$$stub)&&g.add_stub_for(v,j)},g.add_stub_for=function(l,v){m(l,v,g.stub_for(v))},g.stub_for=function(l){function v(){return this.$method_missing.$$p=v.$$p,v.$$p=null,this.$method_missing.apply(this,ge(l.slice(1),arguments))}return v.$$stub=!0,v},g.ac=function(l,v,j,re){var ue="";j.$$is_a_module?ue+=j.$$name+".":ue+=j.$$class.$$name+"#",ue+=re,z(g.ArgumentError,"["+ue+"] wrong number of arguments (given "+l+", expected "+v+")")},g.block_ac=function(l,v,j){var re="`block in "+j+"'";z(g.ArgumentError,re+": wrong number of arguments (given "+l+", expected "+v+")")};function O(l){return l.hasOwnProperty("$$meta")&&l.$$meta!==null?H(l.$$meta):H(l.$$class)}g.find_super=function(l,v,j,re,ue){var ce=de(v),he,pe,ye,we,ze=-1,Ee;for(he=O(l),we=j.$$owner,Ee=0;Ee<he.length;Ee++)if(pe=he[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ze=Ee;break}for(Ee=ze+1;Ee<he.length;Ee++){pe=he[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(ce)){ye=xe[ce];break}}return!re&&ye&&ye.$$stub&&l.$method_missing.$$pristine&&z(g.NoMethodError,"super: no superclass method `"+v+"' for "+l,v),ye.$$stub&&!ue?null:ye},g.find_block_super=function(l,v,j,re,ue){var ce=v;return j||z(g.RuntimeError,"super called outside of method"),ue&&j.$$define_meth&&z(g.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),j.$$def&&(ce=j.$$jsid),g.find_super(l,ce,j,re)},g.find_super_dispatcher=g.find_super,g.find_iter_super_dispatcher=g.find_block_super;function ae(l,v,j){try{l(v)}catch(re){if(re===j)return j.$v;throw re}}g.yield1=function(l,v){typeof l!="function"&&z(g.LocalJumpError,"no block given");var j=l.$$has_top_level_mlhs_arg,re=l.$$has_trailing_comma_in_args,ue=l.$$is_lambda&&l.$$ret;return(l.length>1||(j||re)&&l.length===1)&&(v=g.to_ary(v)),(l.length>1||re&&l.length===1)&&v.$$is_array?ue?ae(l.apply.bind(l,null),v,l.$$ret):l.apply(null,v):ue?ae(l,v,l.$$ret):l(v)},g.yieldX=function(l,v){return typeof l!="function"&&z(g.LocalJumpError,"no block given"),l.length>1&&v.length===1&&v[0].$$is_array&&(v=v[0]),l.$$is_lambda&&l.$$ret?ae(l.apply.bind(l,null),v,l.$$ret):l.apply(null,v)},g.rescue=function(l,v){for(var j=0;j<v.length;j++){var re=v[j];if(re.$$is_array){var ue=g.rescue(l,re);if(ue)return ue}else if(re===g.JS.Error||re["$==="](l))return re}return null},g.is_a=function(l,v){if(v!=null&&l.$$meta===v||l.$$class===v)return!0;if(l.$$is_number&&v.$$is_number_class)return v.$$is_integer_class?l%1===0:!0;var j=H(l.$$is_class?g.get_singleton_class(l):l.$$meta||l.$$class);return j.indexOf(v)!==-1},g.to_hash=function(l){if(l.$$is_hash)return l;if(l["$respond_to?"]("to_hash",!0)){var v=l.$to_hash();if(v.$$is_hash)return v;z(g.TypeError,"Can't convert "+l.$$class+" to Hash ("+l.$$class+"#to_hash gives "+v.$$class+")")}else z(g.TypeError,"no implicit conversion of "+l.$$class+" into Hash")},g.to_ary=function(l){if(l.$$is_array)return l;if(l["$respond_to?"]("to_ary",!0)){var v=l.$to_ary();if(v===B)return[l];if(v.$$is_array)return v;z(g.TypeError,"Can't convert "+l.$$class+" to Array ("+l.$$class+"#to_ary gives "+v.$$class+")")}else return[l]},g.to_a=function(l){if(l.$$is_array)return l.slice();if(l["$respond_to?"]("to_a",!0)){var v=l.$to_a();if(v===B)return[l];if(v.$$is_array)return v;z(g.TypeError,"Can't convert "+l.$$class+" to Array ("+l.$$class+"#to_a gives "+v.$$class+")")}else return[l]},g.extract_kwargs=function(l){var v=l[l.length-1];if(v!=null&&g.respond_to(v,"$to_hash",!0))return V(l,l.length-1),v},g.kwrestargs=function(l,v){var j=new Map;return g.hash_each(l,!1,function(re,ue){return v[re]||g.hash_put(j,re,ue),[!1,!1]}),j};function le(l,v){typeof v=="number"?l.$$arity=v:typeof v=="object"&&Object.assign(l,v)}var _e=new Map;function de(l){var v=_e.get(l);return v||(v="$"+l,_e.set(l,v)),v}g.jsid=de;function ge(l,v){return v.$$is_array||(v=ee(v)),[l].concat(v)}g.send=function(l,v,j,re,ue){var ce;return typeof v=="function"?(ce=v,v=null):typeof v=="string"?ce=l[de(v)]:z(g.NameError,"Passed method should be a string or a function"),g.send2(l,ce,v,j,re,ue)},g.send2=function(l,v,j,re,ue,ce){return v==null&&j!=null&&l.$method_missing&&(v=l.$method_missing,re=ge(j,re)),le(ue,ce),typeof ue=="function"&&(v.$$p=ue),v.apply(l,re)},g.refined_send=function(l,v,j,re,ue,ce){var he,pe,ye,we,ze,Ee,xe,qe,Ae,ke;for(we=O(v),he=0;he<we.length;he++)for(ze=g.id(we[he]),pe=0;pe<l.length;pe++)for(Ee=l[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ze]>"u")&&(Ae=qe[ze],typeof Ae.$$prototype[de(j)]<"u")))return ke=Ae.$$prototype[de(j)],g.send2(v,ke,j,re,ue,ce);return g.send(v,j,re,ue,ce)},g.lambda=function(l,v){return l.$$is_lambda=!0,le(l,v),l},g.def=function(l,v,j,re){return le(j,re),l===g.top?g.defn(g.Object,v,j):!l.$$eval&&l.$$is_a_module?g.defn(l,v,j):g.defs(l,v,j)},g.defn=function(l,v,j){I(l),j.displayName=v,j.$$owner=l;var re=v.substr(1),ue=l.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),m(ue,v,j),l.$$is_module){l.$$module_function&&g.defs(l,v,j);for(var ce=0,he=l.$$iclasses,pe=he.length;ce<pe;ce++){var ye=he[ce];m(ye,v,j)}}var we=l.$$singleton_of;return l.$method_added&&!l.$method_added.$$stub&&!we?l.$method_added(re):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(re),re},g.defs=function(l,v,j,re){return le(j,re),(l.$$is_string||l.$$is_number)&&z(g.TypeError,"can't define singleton"),g.defn(g.get_singleton_class(l),v,j)};function ve(l,v){if(l.$$is_module)for(var j=0,re=l.$$iclasses,ue=re.length;j<ue;j++){var ce=re[j];delete ce[v]}}g.rdef=function(l,v){W(l.$$prototype,v)||z(g.NameError,"method '"+v.substr(1)+"' not defined in "+l.$name()),delete l.$$prototype[v],ve(l,v),l.$$is_singleton?l.$$prototype.$singleton_method_removed&&!l.$$prototype.$singleton_method_removed.$$stub&&l.$$prototype.$singleton_method_removed(v.substr(1)):l.$method_removed&&!l.$method_removed.$$stub&&l.$method_removed(v.substr(1))},g.udef=function(l,v){(!l.$$prototype[v]||l.$$prototype[v].$$stub)&&z(g.NameError,"method '"+v.substr(1)+"' not defined in "+l.$name()),g.add_stub_for(l.$$prototype,v),ve(l,v),l.$$is_singleton?l.$$prototype.$singleton_method_undefined&&!l.$$prototype.$singleton_method_undefined.$$stub&&l.$$prototype.$singleton_method_undefined(v.substr(1)):l.$method_undefined&&!l.$method_undefined.$$stub&&l.$method_undefined(v.substr(1))};function me(l){return typeof l=="function"&&!l.$$stub}g.alias=function(l,v,j){var re=de(v),ue=de(j),ce,he;if(typeof l.$$prototype>"u"&&(l=g.Object),ce=l.$$prototype[ue],l.$$eval)return g.alias(g.get_singleton_class(l),v,j);if(!me(ce)){for(var pe=l.$$super;typeof ce!="function"&&pe;)ce=pe[ue],pe=pe.$$super;!me(ce)&&l.$$is_module&&(ce=g.Object.$$prototype[ue]),me(ce)||z(g.NameError,"undefined method `"+j+"' for class `"+l.$name()+"'")}return ce.$$alias_of&&(ce=ce.$$alias_of),he=g.wrap_method_body(ce),he.displayName=v,he.$$alias_of=ce,he.$$alias_name=v,g.defn(l,re,he),l},g.wrap_method_body=function(l){var v=function(){var j=v.$$p;return v.$$p=null,g.send(this,l,arguments,j)};try{Object.defineProperty(v,"length",{value:l.length})}catch{}return v.$$arity=l.$$arity==null?l.length:l.$$arity,v.$$parameters=l.$$parameters,v.$$source_location=l.$$source_location,v},g.alias_gvar=function(l,v){return Object.defineProperty(Y,l,{configurable:!0,enumerable:!0,get:function(){return Y[v]},set:function(j){Y[v]=j}}),B},g.alias_native=function(l,v,j){var re=de(v),ue=l.$$prototype[j];return(typeof ue!="function"||ue.$$stub)&&z(g.NameError,"undefined native method `"+j+"' for class `"+l.$name()+"'"),g.defn(l,re,ue),l},g.hash_init=function(l){E.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},g.hash_clone=function(l,v){return v.$$none=l.$$none,v.$$proc=l.$$proc,g.hash_each(l,v,function(j,re){return g.hash_put(v,j,re),[!1,v]})},g.hash_put=function(l,v,j){var re=typeof v;if(re==="string"||re==="symbol"||re==="number"||re==="boolean"||re==="bigint")l.set(v,j);else if(v.$$is_string)l.set(v.valueOf(),j);else{l.$$keys||(l.$$keys=new Map);var ue=v.$$is_string?v.valueOf():l.$$by_identity?g.id(v):v.$hash(),ce=l.$$keys;if(!ce.has(ue)){ce.set(ue,[v]),l.set(v,j);return}for(var he=ce.get(ue),pe,ye=0;ye<he.length;ye++)if(pe=he[ye],v===pe||v["$eql?"](pe)){l.set(pe,j);return}he.push(v),l.set(v,j)}},g.hash_get=function(l,v){var j=typeof v;if(j==="string"||j==="symbol"||j==="number"||j==="boolean"||j==="bigint")return l.get(v);if(l.$$keys){var re=v.$$is_string?v.valueOf():l.$$by_identity?g.id(v):v.$hash(),ue=l.$$keys.get(re),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],v===ce||v["$eql?"](ce))return l.get(ce)}else if(v.$$is_string)return l.get(re)}else if(v.$$is_string)return l.get(v.valueOf())};function be(l,v){var j=l.get(v);if(j!==void 0)return l.delete(v),j}g.hash_delete=function(l,v){var j=typeof v;if(j==="string"||j==="symbol"||j==="number"||j==="boolean"||j==="bigint")return be(l,v);if(l.$$keys){var re=v.$$is_string?v.valueOf():l.$$by_identity?g.id(v):v.$hash(),ue=l.$$keys.get(re),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],v===ce||v["$eql?"](ce))return ue.splice(he,1),ue.length===0&&l.$$keys.delete(re),be(l,ce)}else if(v.$$is_string)return be(l,re)}else if(v.$$is_string)return be(l,v.valueOf())},g.hash_rehash=function(l){var v=l.$$keys;return v&&v.clear(),g.hash_each(l,!1,function(j,re){var ue=typeof j;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var ce=j.$$is_string?j.valueOf():l.$$by_identity?g.id(j):j.$hash();if(v||(l.$$keys=v=new Map),!v.has(ce))return v.set(ce,[j]),[!1,!1];for(var he=v.get(ce),pe=he.length===1?he:ee(he),ye,we=0;we<pe.length;we++)ye=pe[we],(j===ye||j["$eql?"](ye))&&(he.splice(he.indexOf(ye),1),l.delete(ye));return he.push(j),[!1,!1]}),l},g.hash=function(){var l=arguments.length,v,j,re,ue,ce,he;if(l===1&&arguments[0].$$is_hash)return arguments[0];if(j=new Map,l===1)if(v=arguments[0],arguments[0].$$is_array){for(ue=v.length,re=0;re<ue;re++)v[re].length!==2&&z(g.ArgumentError,"value not of length 2: "+v[re].$inspect()),ce=v[re][0],he=v[re][1],g.hash_put(j,ce,he);return j}else{v=arguments[0];for(ce in v)W(v,ce)&&(he=v[ce],g.hash_put(j,ce,he));return j}for(l%2!==0&&z(g.ArgumentError,"odd number of arguments for Hash"),re=0;re<l;re+=2)ce=arguments[re],he=arguments[re+1],g.hash_put(j,ce,he);return j},g.hash2=function(l,v){E.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var j=new Map,re=0,ue=l.length;re<ue;re++)j.set(l[re],v[l[re]]);return j},g.hash_each=function(l,v,j){for(var re,ue=0,ce,he=Array.from(l.entries()),pe=he.length;ue<pe;ue++)if(ce=he[ue],re=j(ce[0],ce[1]),re[0])return re[1];return re?re[1]:v},g.range=function(l,v,j){var re=new g.Range;return re.begin=l,re.end=v,re.excl=j,re};var ie=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];g.ivar=function(l){return ie.indexOf(l)!==-1&&(l+="$"),l};function I(l){l.$$frozen&&z(g.FrozenError,"can't modify frozen "+l.$class()+": "+l,new Map([["receiver",l]]))}g.deny_frozen_access=I,g.freeze=function(l){return m(l,"$$frozen",!0),l.hasOwnProperty("$$id")||m(l,"$$id",F()),l.hasOwnProperty("$$meta")?l.$$meta.$freeze():m(l,"$$meta",null),l.hasOwnProperty("$$comparable")||m(l,"$$comparable",null),Object.seal(l),l};function C(l,v){var j=Object.getOwnPropertyNames(l),re=j.length,ue,ce,he;for(ue=0;ue<re;ue++)ce=j[ue],ce[0]!=="$"&&(he=Object.getOwnPropertyDescriptor(l,ce),he&&he.enumerable&&v(ce,he))}g.each_ivar=C,g.freeze_props=function(l){var v={get:null,set:function(j){I(l)},enumerable:!0};C(l,function(j,re){re.writable&&(v.get=se(re.value),Object.defineProperty(l,j,v))})},g.escape_regexp=function(l){return l.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},g.global_regexp=function(l){return l.global?l:(l.$$g==null?l.$$g=new RegExp(l.source,(l.multiline?"gm":"g")+(l.ignoreCase?"i":"")):l.$$g.lastIndex=null,l.$$g)},g.global_multiline_regexp=function(l){var v,j;return l.global&&l.multiline?l:(j="gm"+(l.ignoreCase?"i":""),l.multiline?(l.$$g==null&&(l.$$g=new RegExp(l.source,j)),v=l.$$g):(l.$$gm==null&&(l.$$gm=new RegExp(l.source,j)),v=l.$$gm),v.lastIndex=null,v)},g.regexp=function(l,v){for(var j,re=typeof v<"u"&&v&&v.indexOf("i")>=0,ue=0,ce=l.length;ue<ce;ue++)j=l[ue],j instanceof RegExp&&(j.ignoreCase!==re&&g.Kernel.$warn("ignore case doesn't match for "+j.source.$inspect(),new Map([["uplevel",1]])),j=j.source),j===""&&(j="(?:"+j+")"),l[ue]=j;return v?new RegExp(l.join(""),v):new RegExp(l.join(""))},g.modules={},g.loaded_features=["corelib/runtime"],g.current_dir=".",g.require_table={"corelib/runtime":!0},g.normalize=function(l){var v,j,re=[],ue="/";g.current_dir!=="."&&(l=g.current_dir.replace(/\/*$/,"/")+l),l=l.replace(/^\.\//,""),l=l.replace(/\.(rb|opal|js)$/,""),v=l.split(ue);for(var ce=0,he=v.length;ce<he;ce++)j=v[ce],j!==""&&(j===".."?re.pop():re.push(j));return re.join(ue)},g.loaded=function(l){var v,j,re;for(v=0,j=l.length;v<j;v++)re=g.normalize(l[v]),!g.require_table[re]&&(g.loaded_features.push(re),g.require_table[re]=!0)},g.load_normalized=function(l){g.loaded([l]);var v=g.modules[l];if(v){var j=v(g);if(typeof Promise<"u"&&j instanceof Promise)return j.then(se(!0))}else{var re=g.config.missing_require_severity,ue="cannot load such file -- "+l;re==="error"?z(g.LoadError,ue):re==="warning"&&E.warn("WARNING: LoadError: "+ue)}return!0},g.load=function(l){return l=g.normalize(l),g.load_normalized(l)},g.require=function(l){return l=g.normalize(l),g.require_table[l]?!1:g.load_normalized(l)},g.encodings=Object.create(null),g.set_encoding=function(l,v,j){typeof j>"u"&&(j="encoding"),(typeof l=="string"||l.$$frozen===!0)&&z(g.FrozenError,"can't modify frozen String");var re=g.find_encoding(v);return re===l[j]||(l[j]=re),l},g.find_encoding=function(l){var v=g.encodings,j=v[l]||v[l.toUpperCase()];return j||z(g.ArgumentError,"unknown encoding name - "+l),j},g.enc=function(l,v){var j=new String(l);return j=g.set_encoding(j,v),j.internal_encoding=j.encoding,j},g.binary=function(l){var v=new String(l);return g.set_encoding(v,"binary","internal_encoding")},g.last_promise=null,g.promise_unhandled_exception=!1,g.queue=function(l){if(g.last_promise)return g.last_promise=g.last_promise.then(function(){if(!g.promise_unhandled_exception)return l(g)}).catch(function(j){g.respond_to(j,"$full_message")&&(j=j.$full_message()),E.error(j),g.promise_unhandled_exception=!0,g.exit(1)}),g.last_promise;var v=l(g);return typeof Promise=="function"&&typeof v=="object"&&v instanceof Promise&&(g.last_promise=v),v};function U(l,v){return typeof l=="number"&&typeof v=="number"}g.rb_plus=function(l,v){return U(l,v)?l+v:l["$+"](v)},g.rb_minus=function(l,v){return U(l,v)?l-v:l["$-"](v)},g.rb_times=function(l,v){return U(l,v)?l*v:l["$*"](v)},g.rb_divide=function(l,v){return U(l,v)?l/v:l["$/"](v)},g.rb_lt=function(l,v){return U(l,v)?l<v:l["$<"](v)},g.rb_gt=function(l,v){return U(l,v)?l>v:l["$>"](v)},g.rb_le=function(l,v){return U(l,v)?l<=v:l["$<="](v)},g.rb_ge=function(l,v){return U(l,v)?l>=v:l["$>="](v)};function J(l,v){return typeof l=="number"&&typeof v=="number"||typeof l=="string"&&typeof v=="string"}function ne(l,v){return J(l,v)?l===v:q(l["$=="](v))}g.eqeq=ne,g.eqeqeq=function(l,v){return J(l,v)?l===v:q(l["$==="](v))},g.neqeq=function(l,v){return J(l,v)?l!==v:q(l["$!="](v))},g.not=function(l){return l==null||l===!1||B===l?!0:l===!0||l["$!"].$$pristine?!1:q(l["$!"]())};function se(l){return function(){return l}}g.return_val=se,g.return_self=function(){return this},g.return_ivar=function(l){return function(){return this[l]==null?B:this[l]}},g.assign_ivar=function(l){return function(v){return I(this),this[l]=v}},g.assign_ivar_val=function(l,v){return function(){return I(this),this[l]=v}},g.ensure_kwargs=function(l){if(l==null)return new Map;if(l.$$is_hash)return l;z(g.ArgumentError,"expected kwargs")},g.get_kwarg=function(l,v){var j=g.hash_get(l,v);return j===void 0&&z(g.ArgumentError,"missing keyword: "+v),j},g.large_array_unpack=function(l){var v=l.split(","),j=v.length,re;for(re=0;re<j;re++)switch(v[re][0]){case void 0:v[re]=B;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":v[re]=+v[re]}return v},g.opal32_init=se(1332765036);function oe(l,v){return l<<v|l>>>32-v}g.opal32_add=function(l,v){return l^=v,l=oe(l,1),l},g.BasicObject=P=X("BasicObject",null),g.Object=A=X("Object",g.BasicObject),g.Module=te=X("Module",g.Object),g.Class=Q=X("Class",g.Module),g.Opal=N=f("Opal"),g.Kernel=Z=f("Kernel"),G(g.BasicObject,g.Class.$$prototype),G(g.Object,g.Class.$$prototype),G(g.Module,g.Class.$$prototype),G(g.Class,g.Class.$$prototype),P.$$const.BasicObject=P,c(A,"BasicObject",P),c(A,"Object",A),c(A,"Module",te),c(A,"Class",Q),c(A,"Opal",N),c(A,"Kernel",Z),P.$$class=Q,A.$$class=Q,te.$$class=Q,Q.$$class=Q,N.$$class=te,Z.$$class=te,m(A.$$prototype,"toString",function(){var l=this.$to_s();return l.$$is_string&&typeof l=="object"?l.valueOf():l}),m(A.$$prototype,"$require",g.require),g.top=new A,g.top.$to_s=g.top.$inspect=se("main"),g.top.$define_method=fe;function fe(){var l=fe.$$p;return fe.$$p=null,g.send(A,"define_method",arguments,l)}g.NilClass=X("NilClass",g.Object),c(A,"NilClass",g.NilClass),B=g.nil=new g.NilClass,B.$$id=b,B.call=B.apply=function(){z(g.LocalJumpError,"no block given")},B.$$frozen=!0,B.$$comparable=!1,Object.seal(B),g.thrower=function(l){var v={$thrower_type:l,$throw:function(j,re){throw j==null&&(j=B),this.is_orphan&&!re&&z(g.LocalJumpError,"unexpected "+l,j,l.$to_sym()),this.$v=j,this},is_orphan:!1};return v},Object.defineProperty(Y,"@",{enumerable:!0,configurable:!0,get:function(){return q(Y["!"])?Y["!"].$backtrace():B},set:function(l){q(Y["!"])?Y["!"].$set_backtrace(l):z(g.ArgumentError,"$! not set")}}),g.t_eval_return=g.thrower("return"),TypeError.$$super=Error,g.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(e){var E=e.type_error,B=e.coerce_to,P=e.module,A=e.defs,te=e.slice,Q=e.eqeqeq,N=e.Kernel,Z=e.truthy,g=e.Opal,K=e.nil,$e=e.$$$;return e.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(W){var G=P(W,"Opal");A(G,"$bridge",function(b,y){return e.bridge(b,y)}),A(G,"$coerce_to!",function(b,y,F,Y){var z,D,m=K;return z=te(arguments,3),D=z,m=B(b,y,F,D),Q(y,m)||N.$raise(E(b,y,F,m)),m},-4),A(G,"$coerce_to?",function(b,y,F,Y){var z,D,m=K;return z=te(arguments,3),D=z,!Z(b["$respond_to?"](F))||(m=B(b,y,F,D),Z(m["$nil?"]()))?K:(Q(y,m)||N.$raise(E(b,y,F,m)),m)},-4),A(G,"$try_convert",function(b,y,F){return Q(y,b)?b:Z(b["$respond_to?"](F))?b.$__send__(F):K}),A(G,"$compare",function(b,y){var F=K;return F=b["$<=>"](y),Z(F===K)&&N.$raise($e("ArgumentError"),"comparison of "+b.$class()+" with "+y.$class()+" failed"),F}),A(G,"$destructure",function(b){if(b.length==1)return b[0];if(b.$$is_array)return b;for(var y=new Array(b.length),F=0,Y=y.length;F<Y;F++)y[F]=b[F];return y}),A(G,"$respond_to?",function(b,y,F){return F==null&&(F=!1),b==null||!b.$$class?!1:b["$respond_to?"](y,F)},-3),A(G,"$instance_variable_name!",function(b){return b=g["$coerce_to!"](b,$e("String"),"to_str"),Z(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(b))||N.$raise($e("NameError").$new("'"+b+"' is not allowed as an instance variable name",b)),b}),A(G,"$class_variable_name!",function(b){return b=g["$coerce_to!"](b,$e("String"),"to_str"),Z(b.length<3||b.slice(0,2)!=="@@")&&N.$raise($e("NameError").$new("`"+b+"' is not allowed as a class variable name",b)),b}),A(G,"$const_name?",function(b){return typeof b!="string"&&(b=g["$coerce_to!"](b,$e("String"),"to_str")),b[0]===b[0].toUpperCase()}),A(G,"$const_name!",function(b){var y=this;return Z($e("::","String","skip_raise")?"constant":K)&&(b=g["$coerce_to!"](b,$e("String"),"to_str")),(!b||b[0]!=b[0].toUpperCase())&&y.$raise($e("NameError"),"wrong constant name "+b),b}),A(G,"$pristine",function(b,y){var F,Y;F=te(arguments,1),Y=F;for(var z,D,m=Y.length-1;m>=0;m--)z=Y[m],D=b.$$prototype[e.jsid(z)],D&&!D.$$stub&&(D.$$pristine=!0);return K},-2);var ee=[];return A(G,"$inspect",function(b){var y=K,F=!1;return function(){try{try{return b===null?"null":b===void 0?"undefined":typeof b.$$class>"u"?Object.prototype.toString.apply(b):typeof b.$inspect!="function"||b.$inspect.$$stub||ee.indexOf(b.$__id__())!==-1?"#<"+b.$$class+":0x"+b.$__id__().$to_s(16)+">":(ee.push(b.$__id__()),F=!0,b.$inspect())}catch(Y){if(e.rescue(Y,[$e("Exception")])){y=Y;try{return"#<"+b.$$class+":0x"+b.$__id__().$to_s(16)+">"}finally{e.pop_exception(Y)}}else throw Y}}finally{F&&ee.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(e){var E=e.truthy,B=e.coerce_to,P=e.const_set,A=e.Object,te=e.return_ivar,Q=e.assign_ivar,N=e.ivar,Z=e.deny_frozen_access,g=e.freeze,K=e.prop,$e=e.jsid,W=e.each_ivar,G=e.klass,ee=e.Opal,V=e.Kernel,b=e.defs,y=e.send,F=e.def,Y=e.eqeqeq,z=e.Module,D=e.rb_lt,m=e.rb_gt,q=e.slice,R=e.to_a,x=e.return_val,w=e.eqeq,s=e.not,d=e.rb_le,k=e.range,h=e.send2,c=e.find_super,o=e.alias,X=[],L=e.nil,_=e.$$$;return e.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(f,a,n){var t=G(f,a,"Module"),r=[t].concat(n),$=e.$r(r);function i(M){if(M.$$is_string)return M;var T=ee.$try_convert(M,_("String"),"to_str");if(T.$$is_string)return T;T===L?V.$raise(_("TypeError"),""+M+" is not a symbol nor a string"):V.$raise(_("TypeError"),"can't convert "+M.$class()+" to String ("+M.$class()+"#to_str gives "+T.$class())}b(t,"$allocate",function(){var T=this,H=e.allocate_module(L,function(){});return T!==e.Module&&Object.setPrototypeOf(H,T.$$prototype),H}),F(t,"$initialize",function M(){var T=M.$$p||L,H=this;return M.$$p=null,T!==L?y(H,"module_eval",[],T.$to_proc()):L}),F(t,"$===",function(T){var H=this;return E(T==null)?!1:e.is_a(T,H)}),F(t,"$<",function(T){var H=this;Y(z,T)||V.$raise(_("TypeError"),"compared with non class/module");var O=H,ae,le,_e;if(O===T)return!1;for(le=0,ae=e.ancestors(H),_e=ae.length;le<_e;le++)if(ae[le]===T)return!0;for(le=0,ae=e.ancestors(T),_e=ae.length;le<_e;le++)if(ae[le]===H)return!1;return L}),F(t,"$<=",function(T){var H=this,O=L;return E(O=H["$equal?"](T))?O:D(H,T)}),F(t,"$>",function(T){var H=this;return Y(z,T)||V.$raise(_("TypeError"),"compared with non class/module"),D(T,H)}),F(t,"$>=",function(T){var H=this,O=L;return E(O=H["$equal?"](T))?O:m(H,T)}),F(t,"$<=>",function(T){var H=this,O=L;return H===T?0:!Y(z,T)||(O=D(H,T),E(O["$nil?"]()))?L:E(O)?-1:1}),F(t,"$alias_method",function(T,H){var O=this;return Z(O),T=B(T,_("String"),"to_str"),H=B(H,_("String"),"to_str"),e.alias(O,T,H),O}),F(t,"$alias_native",function(T,H){var O=this;return H==null&&(H=T),Z(O),e.alias_native(O,T,H),O},-2),F(t,"$ancestors",function(){var T=this;return e.ancestors(T)}),F(t,"$append_features",function(T){var H=this;return Z(T),e.append_features(H,T),H}),F(t,"$attr_accessor",function(T){var H,O,ae=this;return H=q(arguments),O=H,y(ae,"attr_reader",R(O)),y(ae,"attr_writer",R(O))},-1),F(t,"$attr",function(T){var H,O,ae=this;return H=q(arguments),O=H,O.length==2&&(O[1]===!0||O[1]===!1)?(ae.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),O[1]?ae.$attr_accessor(O[0]):ae.$attr_reader(O[0]),L):y(ae,"attr_reader",R(O))},-1),F(t,"$attr_reader",function(T){var H,O,ae=this;H=q(arguments),O=H,Z(ae);for(var le=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=$e(de),ve=N(de),me=te(ve);e.prop(le,ve,L),me.$$parameters=[],me.$$arity=0,e.defn(ae,ge,me)}return L},-1),F(t,"$attr_writer",function(T){var H,O,ae=this;H=q(arguments),O=H,Z(ae);for(var le=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=$e(de+"="),ve=N(de),me=Q(ve);me.$$parameters=[["req"]],me.$$arity=1,e.prop(le,ve,L),e.defn(ae,ge,me)}return L},-1),F(t,"$autoload",function(T,H){var O=this;return Z(O),$("Opal")["$const_name?"](T)||V.$raise(_("NameError"),"autoload must be constant name: "+T),H==""&&V.$raise(_("ArgumentError"),"empty file name"),O.$$const.hasOwnProperty(T)||(O.$$autoload||(O.$$autoload={}),e.const_cache_version++,O.$$autoload[T]={path:H,loaded:!1,required:!1,success:!1,exception:!1},O.$const_added&&!O.$const_added.$$pristine&&O.$const_added(T)),L}),F(t,"$autoload?",function(T){var H=this;if(H.$$autoload&&H.$$autoload[T]&&!H.$$autoload[T].required&&!H.$$autoload[T].success)return H.$$autoload[T].path;for(var O=H.$ancestors(),ae=0,le=O.length;ae<le;ae++)if(O[ae].$$autoload&&O[ae].$$autoload[T]&&!O[ae].$$autoload[T].required&&!O[ae].$$autoload[T].success)return O[ae].$$autoload[T].path;return L}),F(t,"$class_variables",function(){var T=this;return Object.keys(e.class_variables(T))}),F(t,"$class_variable_get",function(T){var H=this;return T=ee["$class_variable_name!"](T),e.class_variable_get(H,T,!1)}),F(t,"$class_variable_set",function(T,H){var O=this;return Z(O),T=ee["$class_variable_name!"](T),e.class_variable_set(O,T,H)}),F(t,"$class_variable_defined?",function(T){var H=this;return T=ee["$class_variable_name!"](T),e.class_variables(H).hasOwnProperty(T)}),F(t,"$const_added",x(L)),ee.$pristine(t,"const_added"),F(t,"$remove_class_variable",function(T){var H=this;if(Z(H),T=ee["$class_variable_name!"](T),e.hasOwnProperty.call(H.$$cvars,T)){var O=H.$$cvars[T];return delete H.$$cvars[T],O}else V.$raise(_("NameError"),"cannot remove "+T+" for "+H)}),F(t,"$constants",function(T){var H=this;return T==null&&(T=!0),e.constants(H,T)},-1),b(t,"$constants",function(T){var H=this;if(T==null){var O=(H.$$nesting||[]).concat(A),ae,le={},_e,de;for(_e=0,de=O.length;_e<de;_e++)for(ae in O[_e].$$const)le[ae]=!0;return Object.keys(le)}else return e.constants(H,T)},-1),b(t,"$nesting",function(){var T=this;return T.$$nesting||[]}),F(t,"$const_defined?",function(T,H){var O=this;H==null&&(H=!0),T=$("Opal")["$const_name!"](T),E(T["$=~"](_(ee,"CONST_NAME_REGEXP")))||V.$raise(_("NameError").$new("wrong constant name "+T,T));var ae,le=[O],_e,de;for(H&&(le=le.concat(e.ancestors(O)),O.$$is_module&&(le=le.concat([A]).concat(e.ancestors(A)))),_e=0,de=le.length;_e<de;_e++)if(ae=le[_e],ae.$$const[T]!=null||ae.$$autoload&&ae.$$autoload[T]&&!ae.$$autoload[T].required&&!ae.$$autoload[T].success)return!0;return!1},-2),F(t,"$const_get",function(T,H){var O=this;return H==null&&(H=!0),T=$("Opal")["$const_name!"](T),T.indexOf("::")===0&&T!=="::"&&(T=T.slice(2)),E(T.indexOf("::")!=-1&&T!="::")?y(T.$split("::"),"inject",[O],function(le,_e){return le==null&&(le=L),_e==null&&(_e=L),le.$const_get(_e)}):(E(T["$=~"](_(ee,"CONST_NAME_REGEXP")))||V.$raise(_("NameError").$new("wrong constant name "+T,T)),H?e.$$([O],T):e.const_get_local(O,T))},-2),F(t,"$const_missing",function(T){var H=this,O=L;return O=w(H,A)?T:""+H+"::"+T,V.$raise(_("NameError").$new("uninitialized constant "+O,T))}),F(t,"$const_set",function(T,H){var O=this;return Z(O),T=ee["$const_name!"](T),(E(T["$!~"](_(ee,"CONST_NAME_REGEXP")))||E(T["$start_with?"]("::")))&&V.$raise(_("NameError").$new("wrong constant name "+T,T)),P(O,T,H),H}),F(t,"$public_constant",x(L)),F(t,"$define_method",function M(T,H){var O=M.$$p||L,ae=this,le=L,_e=L,de=L;return M.$$p=null,Z(ae),H===void 0&&O===L&&V.$raise(_("ArgumentError"),"tried to create a Proc object without a block"),T=i(T),E(H!==void 0)&&(O=Y(_("Proc"),le=H)?H:Y(_("Method"),le)?H.$to_proc().$$unbound:Y(_("UnboundMethod"),le)?e.wrap_method_body(H.$$method):V.$raise(_("TypeError"),"wrong argument type "+H.$class()+" (expected Proc/Method/UnboundMethod)"),E(!H.$$is_proc)&&(_e=H.$owner(),E(_e.$$is_class)&&s(d(ae,_e))&&(de=E(_e.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+_e,V.$raise(_("TypeError"),de)))),typeof Proxy<"u"&&(O.$$proxy_target=O,O=new Proxy(O,{apply:function(ge,ve,me){var be=ge.$$jsid,ie=ge.$$is_lambda;ge.$$jsid=T,ge.$$is_lambda=!0;try{return ge.apply(ve,me)}catch(I){if(I===ge.$$brk||I===ge.$$ret)return I.$v;throw I}finally{ge.$$jsid=be,ge.$$is_lambda=ie}}})),O.$$jsid=T,O.$$s=null,O.$$def=O,O.$$define_meth=!0,e.defn(ae,$e(T),O)},-2),F(t,"$freeze",function(){var T=this;return E(T["$frozen?"]())?T:(T.hasOwnProperty("$$base_module")||K(T,"$$base_module",null),g(T))}),F(t,"$remove_method",function(T){var H,O,ae=this;H=q(arguments),O=H;for(var le=0;le<O.length;le++){var _e=i(O[le]);Z(ae),e.rdef(ae,"$"+_e)}return ae},-1),F(t,"$singleton_class?",function(){var T=this;return!!T.$$is_singleton}),F(t,"$include",function(T){var H,O,ae=this;H=q(arguments),O=H;for(var le=O.length-1;le>=0;le--){var _e=O[le];_e.$$is_module||V.$raise(_("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$append_features(ae),_e.$included(ae)}return ae},-1),F(t,"$included_modules",function(){var T=this;return e.included_modules(T)}),F(t,"$include?",function(T){var H=this;T.$$is_module||V.$raise(_("TypeError"),"wrong argument type "+T.$class()+" (expected Module)");var O,ae,le,_e=e.ancestors(H);for(O=0,ae=_e.length;O<ae;O++)if(le=_e[O],le===T&&le!==H)return!0;return!1}),F(t,"$instance_method",function(T){var H=this,O=H.$$prototype[$e(T)];return(!O||O.$$stub)&&V.$raise(_("NameError").$new("undefined method `"+T+"' for class `"+H.$name()+"'",T)),_("UnboundMethod").$new(H,O.$$owner||H,O,T)}),F(t,"$instance_methods",function(T){var H=this;return T==null&&(T=!0),E(T)?e.instance_methods(H):e.own_instance_methods(H)},-1),F(t,"$included",x(L)),F(t,"$extended",x(L)),F(t,"$extend_object",function(T){return Z(T),L}),F(t,"$method_added",function(T){return q(arguments),L},-1),F(t,"$method_removed",function(T){return q(arguments),L},-1),F(t,"$method_undefined",function(T){return q(arguments),L},-1),F(t,"$module_eval",function M(T){var H=M.$$p||L,O,ae,le,_e=this,de=L,ge=L,ve=L,me=L,be=L,ie=L;M.$$p=null,O=q(arguments),ae=O,E(H["$nil?"]())&&E(!!e.compile)?(E(k(1,3,!1)["$cover?"](ae.$size()))||V.$raise(_("ArgumentError"),"wrong number of arguments (0 for 1..3)"),le=[].concat(R(ae)),de=le[0]==null?L:le[0],ge=le[1]==null?L:le[1],le[2]==null||le[2],ve=new Map([["file",E(me=ge)?me:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(ve),ie=ee.$compile(de,be),H=y(V,"proc",[],function U(){var J=U.$$s==null?this:U.$$s;return new Function("Opal,self","return "+ie)(e,J)},{$$s:_e})):E(ae["$any?"]())&&V.$raise(_("ArgumentError"),"wrong number of arguments ("+ae.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var I=H.$$s,C;return H.$$s=null,C=H.apply(_e,[_e]),H.$$s=I,C},-1),F(t,"$module_exec",function M(T){var H=M.$$p||L,O,ae,le=this;M.$$p=null,O=q(arguments),ae=O,H===L&&V.$raise(_("LocalJumpError"),"no block given");var _e=H.$$s,de;return H.$$s=null,de=H.apply(le,ae),H.$$s=_e,de},-1),F(t,"$method_defined?",function(T){var H=this,O=H.$$prototype[$e(T)];return!!O&&!O.$$stub}),F(t,"$module_function",function(T){var H,O,ae=this;if(H=q(arguments),O=H,Z(ae),O.length===0)return ae.$$module_function=!0,L;for(var le=0,_e=O.length;le<_e;le++){var de=O[le],ge=$e(de),ve=ae.$$prototype[ge];e.defs(ae,ge,ve)}return O.length===1?O[0]:O},-1),F(t,"$name",function(){var T=this;if(T.$$full_name)return T.$$full_name;for(var H=[],O=T;O;){if(O.$$name===L||O.$$name==null)return L;if(H.unshift(O.$$name),O=O.$$base_module,O===A)break}return H.length===0?L:T.$$full_name=H.join("::")}),F(t,"$prepend",function(T){var H,O,ae=this;H=q(arguments),O=H,O.length===0&&V.$raise(_("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var le=O.length-1;le>=0;le--){var _e=O[le];_e.$$is_module||V.$raise(_("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$prepend_features(ae),_e.$prepended(ae)}return ae},-1),F(t,"$prepend_features",function(T){var H=this;return Z(T),H.$$is_module||V.$raise(_("TypeError"),"wrong argument type "+H.$class()+" (expected Module)"),e.prepend_features(H,T),H}),F(t,"$prepended",x(L)),F(t,"$remove_const",function(T){var H=this;return Z(H),e.const_remove(H,T)}),F(t,"$to_s",function(){var T=this,H=L;return E(H=e.Module.$name.call(T))?H:"#<"+(T.$$is_module?"Module":"Class")+":0x"+T.$__id__().$to_s(16)+">"}),F(t,"$undef_method",function(T){var H,O,ae=this;H=q(arguments),O=H;for(var le=0;le<O.length;le++){var _e=i(O[le]);Z(ae),e.udef(ae,"$"+_e)}return ae},-1),F(t,"$instance_variables",function(){var T=this,H=L;H=(e.Module.$$nesting=r,T.$constants());var O=[];return W(T,function(ae){ae!=="constructor"&&!H["$include?"](ae)&&O.push("@"+ae)}),O});function u(M,T){var H,O=e.own_instance_methods(M);for(H=0;H<O.length;H++){var ae=O[H],le=$e(ae),_e=M.$$prototype[le],de=e.wrap_method_body(_e);de.$$jsid=ae,e.defn(T,le,de)}}function p(M,T){for(var H=M.$$own_included_modules,O=H.length-1;O>=0;O--)e.append_features(H[O],T)}function S(M,T){for(var H=M.$$own_prepended_modules,O=H.length-1;O>=0;O--)e.prepend_features(H[O],T)}return F(t,"$initialize_copy",function(T){var H=this;return u(T,H),p(T,H),S(T,H),H.$$cloned_from=T.$$cloned_from.concat(T),H.$copy_class_variables(T),H.$copy_constants(T)}),F(t,"$initialize_dup",function M(T){var H=M.$$p||L,O=this;return M.$$p=null,h(O,c(O,"initialize_dup",M,!1,!0),"initialize_dup",[T],H),O.$copy_singleton_methods(T)}),F(t,"$copy_class_variables",function(T){var H=this;for(var O in T.$$cvars)H.$$cvars[O]=T.$$cvars[O]}),F(t,"$copy_constants",function(T){var H=this,O,ae=T.$$const;for(O in ae)P(H,O,ae[O])}),F(t,"$refine",function M(T){var H=M.$$p||L,O,ae=this,le=L,_e=L,de=L;return M.$$p=null,O=[ae,L,L],le=O[0],_e=O[1],de=O[2],de=e.id(T),typeof ae.$$refine_modules>"u"&&(ae.$$refine_modules=Object.create(null)),typeof ae.$$refine_modules[de]>"u"?_e=ae.$$refine_modules[de]=_("Refinement").$new():_e=ae.$$refine_modules[de],_e.refinement_module=le,_e.refined_class=T,y(_e,"class_exec",[],H.$to_proc()),_e}),F(t,"$refinements",function(){var T=this,H=T.$$refine_modules,O=new Map;if(typeof H>"u")return O;for(var ae in H)O["$[]="](H[ae].refined_class,H[ae]);return O}),F(t,"$using",function(T){return V.$raise("Module#using is not permitted in methods")}),o(t,"class_eval","module_eval"),o(t,"class_exec","module_exec"),o(t,"inspect","to_s")}("::",null,X),function(f,a){var n=G(f,a,"Refinement"),t=n.$$prototype;return t.refinement_module=t.refined_class=L,n.$attr_reader("refined_class"),F(n,"$inspect",function r(){var $=r.$$p||L,i=this;return r.$$p=null,E(i.refinement_module)?"#<refinement:"+i.refined_class.$inspect()+"@"+i.refinement_module.$inspect()+">":h(i,c(i,"inspect",r,!1,!0),"inspect",[],$)})}("::",z)};Opal.modules["corelib/class"]=function(e){var E=e.klass,B=e.send,P=e.defs,A=e.def,te=e.ensure_kwargs,Q=e.hash_get,N=e.eqeq,Z=e.truthy,g=e.rb_plus,K=e.return_val,$e=e.slice,W=e.send2,G=e.find_super,ee=e.Kernel,V=e.alias,b=e.top,y=[],F=e.nil,Y=e.$$$;return e.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),b.$require("corelib/module"),function(z,D,m){var q=E(z,D,"Class"),R=[q].concat(m),x=e.$r(R);return P(q,"$new",function w(s){var d=w.$$p||F;if(w.$$p=null,s==null&&(s=x("Object")),!s.$$is_class)throw e.TypeError.$new("superclass must be a Class");var k=e.allocate_class(F,s);return s.$inherited(k),d!==F&&B(k,"class_eval",[],d.$to_proc()),k},-1),A(q,"$allocate",function(){var s=this,d=new s.$$constructor;return d.$$id=e.uid(),d}),A(q,"$clone",function(s){var d,k=this,h=F;return s=te(s),d=Q(s,"freeze"),d==null&&(d=F),Z(d["$nil?"]())||N(d,!0)||N(d,!1)||k.$raise(x("ArgumentError"),"unexpected value for freeze: "+d.$class()),h=e.allocate_class(F,k.$$super),h.$copy_instance_variables(k),h.$copy_singleton_methods(k),h.$initialize_clone(k,new Map([["freeze",d]])),(N(d,!0)||Z(d["$nil?"]())&&Z(k["$frozen?"]()))&&h.$freeze(),h},-1),A(q,"$dup",function(){var s=this,d=F;return d=e.allocate_class(F,s.$$super),d.$copy_instance_variables(s),d.$initialize_dup(s),d}),A(q,"$descendants",function(){var s=this;return g(s.$subclasses(),B(s.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),A(q,"$inherited",K(F)),A(q,"$new",function w(s){var d=w.$$p||F,k,h,c=this;w.$$p=null,k=$e(arguments),h=k;var o=c.$allocate();return e.send(o,o.$initialize,h,d),o},-1),A(q,"$subclasses",function(){var s=this;if(typeof WeakRef<"u"){var d,k,h=[];for(d=0;d<s.$$subclasses.length;d++)k=s.$$subclasses[d].deref(),k!==void 0&&h.push(k);return h}else return s.$$subclasses}),A(q,"$superclass",function(){var s=this;return s.$$super||F}),A(q,"$to_s",function w(){w.$$p;var s=this;w.$$p=null;var d=s.$$singleton_of;return d&&d.$$is_a_module?"#<Class:"+d.$name()+">":d?"#<Class:#<"+d.$$class.$name()+":0x"+e.id(d).$to_s(16)+">>":W(s,G(s,"to_s",w,!1,!0),"to_s",[],null)}),A(q,"$attached_object",function(){var s=this;if(s.$$singleton_of!=null)return s.$$singleton_of;ee.$raise(Y("TypeError"),"`"+s+"' is not a singleton class")}),V(q,"inspect","to_s")}("::",null,y)};Opal.modules["corelib/basic_object"]=function(e){var E=e.klass,B=e.slice,P=e.def,A=e.alias,te=e.return_val,Q=e.Opal,N=e.truthy,Z=e.range,g=e.Kernel,K=e.to_a,$e=e.send,W=e.eqeq,G=e.rb_ge,ee=e.nil,V=e.$$$;return e.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(b,y){var F=E(b,y,"BasicObject");return P(F,"$initialize",function(z){return B(arguments),ee},-1),P(F,"$==",function(z){var D=this;return D===z}),P(F,"$eql?",function(z){var D=this;return D["$=="](z)}),A(F,"equal?","=="),P(F,"$__id__",function(){var z=this;return z.$$id!=null||e.prop(z,"$$id",e.uid()),z.$$id}),P(F,"$__send__",function Y(z,D){var m=Y.$$p||ee,q,R,x=this;Y.$$p=null,q=B(arguments,1),R=q,z.$$is_string||x.$raise(V("TypeError"),""+x.$inspect()+" is not a symbol nor a string");var w=x[e.jsid(z)];return w?(m!==ee&&(w.$$p=m),w.apply(x,R)):(m!==ee&&(x.$method_missing.$$p=m),x.$method_missing.apply(x,[z].concat(R)))},-2),P(F,"$!",te(!1)),Q.$pristine("!"),P(F,"$!=",function(z){var D=this;return D["$=="](z)["$!"]()}),P(F,"$instance_eval",function Y(z){var D=Y.$$p||ee,m,q,R,x=this,w=ee,s=ee,d=ee,k=ee,h=ee,c=ee;if(Y.$$p=null,m=B(arguments),q=m,N(D["$nil?"]())&&N(!!e.compile))N(Z(1,3,!1)["$cover?"](q.$size()))||g.$raise(V("ArgumentError"),"wrong number of arguments (0 for 1..3)"),R=[].concat(K(q)),w=R[0]==null?ee:R[0],s=R[1]==null?ee:R[1],R[2]==null||R[2],d=new Map([["file",N(k=s)?k:"(eval)"],["eval",!0]]),h=new Map([["arity_check",!1]]).$merge(d),c=Q.$compile(w,h),D=$e(g,"proc",[],function L(){var _=L.$$s==null?this:L.$$s;return new Function("Opal,self","return "+c)(e,_)},{$$s:x});else{if(N(D["$nil?"]())&&N(G(q.$length(),1))&&W(q.$first()["$[]"](0),"@"))return x.$instance_variable_get(q.$first());N(q["$any?"]())&&g.$raise(V("ArgumentError"),"wrong number of arguments ("+q.$size()+" for 0)")}var o=D.$$s,X;if(D.$$s=null,x.$$is_a_module){x.$$eval=!0;try{X=D.call(x,x)}finally{x.$$eval=!1}}else X=D.call(x,x);return D.$$s=o,X},-1),P(F,"$instance_exec",function Y(z){var D=Y.$$p||ee,m,q,R=this;Y.$$p=null,m=B(arguments),q=m,N(D)||g.$raise(V("ArgumentError"),"no block given");var x=D.$$s,w;if(D.$$s=null,R.$$is_a_module){R.$$eval=!0;try{w=D.apply(R,q)}finally{R.$$eval=!1}}else w=D.apply(R,q);return D.$$s=x,w},-1),P(F,"$singleton_method_added",function(z){return B(arguments),ee},-1),P(F,"$singleton_method_removed",function(z){return B(arguments),ee},-1),P(F,"$singleton_method_undefined",function(z){return B(arguments),ee},-1),P(F,"$method_missing",function Y(z,D){Y.$$p;var m,q,R=this,x=ee;return Y.$$p=null,m=B(arguments,1),q=m,x=Q.$inspect(R),g.$raise(V("NoMethodError").$new("undefined method `"+z+"' for "+x,z,q),ee,g.$caller(1))},-2),Q.$pristine(F,"method_missing"),P(F,"$respond_to_missing?",function(z,D){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(e){var E=e.truthy,B=e.coerce_to,P=e.respond_to,A=e.Opal,te=e.deny_frozen_access,Q=e.freeze,N=e.freeze_props,Z=e.jsid,g=e.each_ivar,K=e.module,$e=e.return_val,W=e.def,G=e.Kernel,ee=e.gvars,V=e.slice,b=e.send,y=e.to_a,F=e.ensure_kwargs,Y=e.hash_get,z=e.eqeq,D=e.rb_plus,m=e.extract_kwargs,q=e.eqeqeq,R=e.return_self,x=e.rb_le,w=e.rb_lt,s=e.Object,d=e.alias,k=e.klass,h=[],c=e.nil,o=e.$$$;return e.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(X,L){var _=K(X,"Kernel"),f=[_].concat(L),a=e.$r(f);W(_,"$=~",$e(!1)),W(_,"$!~",function(r){var $=this;return $["$=~"](r)["$!"]()}),W(_,"$===",function(r){var $=this,i=c;return E(i=$.$object_id()["$=="](r.$object_id()))?i:$["$=="](r)}),W(_,"$<=>",function(r){var $=this;$.$$comparable=!0;var i=$["$=="](r);return i&&i!==c?0:c}),W(_,"$method",function(r){var $=this,i=$[Z(r)];return(!i||i.$$stub)&&G.$raise(o("NameError").$new("undefined method `"+r+"' for class `"+$.$class()+"'",r)),o("Method").$new($,i.$$owner||$.$class(),i,r)}),W(_,"$methods",function(r){var $=this;return r==null&&(r=!0),E(r)?e.methods($):e.own_methods($)},-1),W(_,"$public_methods",function(r){var $=this;return r==null&&(r=!0),E(r)?e.methods($):e.receiver_methods($)},-1),W(_,"$Array",function(r){var $;return r===c?[]:r.$$is_array?r:($=A["$coerce_to?"](r,o("Array"),"to_ary"),$!==c||($=A["$coerce_to?"](r,o("Array"),"to_a"),$!==c)?$:[r])}),W(_,"$at_exit",function t(){var r=t.$$p||c,$=c;return ee.__at_exit__==null&&(ee.__at_exit__=c),t.$$p=null,ee.__at_exit__=E($=ee.__at_exit__)?$:[],ee.__at_exit__["$<<"](r),r}),W(_,"$caller",function(r,$){r==null&&(r=1),$==null&&($=c);var i,u;i=new Error().$backtrace(),u=[];for(var p=r+1,S=i.length;p<S;p++)i[p].match(/runtime\.js/)||u.push(i[p]);return $!=c&&(u=u.slice(0,$)),u},-1),W(_,"$caller_locations",function(r){var $,i,u=this;return $=V(arguments),i=$,b(b(u,"caller",y(i)),"map",[],function(S){return S==null&&(S=c),o(o(o("Thread"),"Backtrace"),"Location").$new(S)})},-1),W(_,"$class",function(){var r=this;return r.$$class}),W(_,"$copy_instance_variables",function(r){var $=this,i=Object.keys(r),u,p,S;for(u=0,p=i.length;u<p;u++)S=i[u],S.charAt(0)!=="$"&&r.hasOwnProperty(S)&&($[S]=r[S])}),W(_,"$copy_singleton_methods",function(r){var $=this,i,u,p,S;if(r.hasOwnProperty("$$meta")&&r.$$meta!==null){var M=e.get_singleton_class(r),T=e.get_singleton_class($);for(p=Object.getOwnPropertyNames(M.$$prototype),i=0,S=p.length;i<S;i++)u=p[i],e.is_method(u)&&(T.$$prototype[u]=M.$$prototype[u]);T.$$const=Object.assign({},M.$$const),Object.setPrototypeOf(T.$$prototype,Object.getPrototypeOf(M.$$prototype))}for(i=0,p=Object.getOwnPropertyNames(r),S=p.length;i<S;i++)u=p[i],u.charAt(0)==="$"&&u.charAt(1)!=="$"&&r.hasOwnProperty(u)&&($[u]=r[u])}),W(_,"$clone",function(r){var $,i=this,u=c;return r=F(r),$=Y(r,"freeze"),$==null&&($=c),E($["$nil?"]())||z($,!0)||z($,!1)||i.$raise(a("ArgumentError"),"unexpected value for freeze: "+$.$class()),u=i.$class().$allocate(),u.$copy_instance_variables(i),u.$copy_singleton_methods(i),u.$initialize_clone(i,new Map([["freeze",$]])),(z($,!0)||E($["$nil?"]())&&E(i["$frozen?"]()))&&u.$freeze(),u},-1),W(_,"$initialize_clone",function(r,$){var i=this;return $=F($),Y($,"freeze"),i.$initialize_copy(r),i},-2),W(_,"$define_singleton_method",function t(r,$){var i=t.$$p||c,u=this;return t.$$p=null,b(u.$singleton_class(),"define_method",[r,$],i.$to_proc())},-2),W(_,"$dup",function(){var r=this,$=c;return $=r.$class().$allocate(),$.$copy_instance_variables(r),$.$initialize_dup(r),$}),W(_,"$initialize_dup",function(r){var $=this;return $.$initialize_copy(r)}),W(_,"$enum_for",function t(r,$){var i=t.$$p||c,u,p,S,M=this;return t.$$p=null,u=V(arguments),u.length>0&&(p=u.shift()),p==null&&(p="each"),S=u,b(o("Enumerator"),"for",[M,p].concat(y(S)),i.$to_proc())},-1),W(_,"$equal?",function(r){var $=this;return $===r}),W(_,"$exit",function(r){var $=c,i=c;for(ee.__at_exit__==null&&(ee.__at_exit__=c),r==null&&(r=!0),ee.__at_exit__=E($=ee.__at_exit__)?$:[];!E(ee.__at_exit__["$empty?"]());)i=ee.__at_exit__.$pop(),i.$call();return r.$$is_boolean?r=r?0:1:r=B(r,o("Integer"),"to_int"),e.exit(r),c},-1),W(_,"$extend",function(r){var $,i,u=this;$=V(arguments),i=$,i.length==0&&u.$raise(o("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),te(u);for(var p=u.$singleton_class(),S=i.length-1;S>=0;S--){var M=i[S];M.$$is_module||G.$raise(o("TypeError"),"wrong argument type "+M.$class()+" (expected Module)"),M.$append_features(p),M.$extend_object(u),M.$extended(u)}return u},-1),W(_,"$freeze",function(){var r=this;return E(r["$frozen?"]())?r:typeof r=="object"?(N(r),Q(r)):r}),W(_,"$frozen?",function(){var r=this;switch(typeof r){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return r.$$frozen||!1;default:return!1}}),W(_,"$gets",function(r){var $,i;return ee.stdin==null&&(ee.stdin=c),$=V(arguments),i=$,b(ee.stdin,"gets",y(i))},-1),W(_,"$hash",function(){var r=this;return r.$__id__()}),W(_,"$initialize_copy",$e(c));var n=[];return W(_,"$inspect",function(){var r=this,$=c,i=c,u=c,p=c;return function(){try{try{return $="",i=r.$__id__(),E(n["$include?"](i))?$=" ...":(n["$<<"](i),u=!0,b(r.$instance_variables(),"each",[],function S(M){var T=S.$$s==null?this:S.$$s,H=c,O=c;return M==null&&(M=c),H=T.$instance_variable_get(M),O=a("Opal").$inspect(H),$=D($," "+M+"="+O)},{$$s:r})),"#<"+r.$class()+":0x"+i.$to_s(16)+$+">"}catch(S){if(e.rescue(S,[a("StandardError")])){p=S;try{return"#<"+r.$class()+":0x"+i.$to_s(16)+">"}finally{e.pop_exception(S)}}else throw S}}finally{E(u)&&n.$pop()}}()}),W(_,"$instance_of?",function(r){var $=this;return!r.$$is_class&&!r.$$is_module&&G.$raise(o("TypeError"),"class or module required"),$.$$class===r}),W(_,"$instance_variable_defined?",function(r){var $=this;return r=A["$instance_variable_name!"](r),e.hasOwnProperty.call($,r.substr(1))}),W(_,"$instance_variable_get",function(r){var $=this;r=A["$instance_variable_name!"](r);var i=$[e.ivar(r.substr(1))];return i??c}),W(_,"$instance_variable_set",function(r,$){var i=this;return te(i),r=A["$instance_variable_name!"](r),i[e.ivar(r.substr(1))]=$}),W(_,"$remove_instance_variable",function(r){var $=this;r=A["$instance_variable_name!"](r);var i=e.ivar(r.substr(1)),u;return $.hasOwnProperty(i)?(u=$[i],delete $[i],u):G.$raise(o("NameError"),"instance variable "+r+" not defined")}),W(_,"$instance_variables",function(){var r=this,$=[];return g(r,function(i){i.substr(-1)==="$"&&(i=i.slice(0,i.length-1)),$.push("@"+i)}),$}),W(_,"$Integer",function(r,$,i){var u,p,S,M;u=V(arguments,1),p=m(u),p=F(p),u.length>0&&(S=u.shift()),M=Y(p,"exception"),M==null&&(M=!0);var T,H,O;if(M=E(M),!r.$$is_string){if(S!==void 0)if(M)G.$raise(o("ArgumentError"),"base specified for non string value");else return c;if(r===c)if(M)G.$raise(o("TypeError"),"can't convert nil into Integer");else return c;if(r.$$is_number){if(r===1/0||r===-1/0||isNaN(r))if(M)G.$raise(o("FloatDomainError"),r);else return c;return Math.floor(r)}if(r["$respond_to?"]("to_int")&&(T=r.$to_int(),e.is_a(T,o("Integer")))||r["$respond_to?"]("to_i")&&(T=r.$to_i(),e.is_a(T,o("Integer"))))return T;if(M)G.$raise(o("TypeError"),"can't convert "+r.$class()+" into Integer");else return c}if(r==="0")return 0;if(S===void 0)S=0;else if(S=B(S,o("Integer"),"to_int"),S===1||S<0||S>36)if(M)G.$raise(o("ArgumentError"),"invalid radix "+S);else return c;if(H=r.toLowerCase(),H=H.replace(/(\d)_(?=\d)/g,"$1"),H=H.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ae,le,_e){switch(_e){case"0b":if(S===0||S===2)return S=2,le;case"0":case"0o":if(S===0||S===8)return S=8,le;case"0d":if(S===0||S===10)return S=10,le;case"0x":if(S===0||S===16)return S=16,le}if(M)G.$raise(o("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c}),S=S===0?10:S,O="0-"+(S<=10?S-1:"9a-"+String.fromCharCode(97+(S-11))),!new RegExp("^\\s*[+-]?["+O+"]+\\s*$").test(H))if(M)G.$raise(o("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c;if(T=parseInt(H,S),isNaN(T))if(M)G.$raise(o("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return c;return T},-2),W(_,"$Float",function(r,$){var i;$=F($),i=Y($,"exception"),i==null&&(i=!0);var u;if(i=E(i),r===c)if(i)G.$raise(o("TypeError"),"can't convert nil into Float");else return c;if(r.$$is_string){if(u=r.toString(),u=u.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(u))return G.$Integer(u);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(u))if(i)G.$raise(o("ArgumentError"),'invalid value for Float(): "'+r+'"');else return c;return parseFloat(u)}return i?A["$coerce_to!"](r,o("Float"),"to_f"):B(r,o("Float"),"to_f")},-2),W(_,"$Hash",function(r){return E(r["$nil?"]())||z(r,[])?new Map:q(o("Hash"),r)?r:A["$coerce_to!"](r,o("Hash"),"to_hash")}),W(_,"$is_a?",function(r){var $=this;return!r.$$is_class&&!r.$$is_module&&G.$raise(o("TypeError"),"class or module required"),e.is_a($,r)}),W(_,"$itself",R),W(_,"$lambda",function t(){var r=t.$$p||c;return t.$$p=null,e.lambda(r)}),W(_,"$load",function(r){return r=A["$coerce_to!"](r,o("String"),"to_str"),e.load(r)}),W(_,"$loop",function t(){var r=t.$$p||c,$=this,i=c;if(t.$$p=null,r===c)return b($,"enum_for",["loop"],function(){return o(o("Float"),"INFINITY")});for(;E(!0);)try{e.yieldX(r,[])}catch(u){if(e.rescue(u,[o("StopIteration")])){i=u;try{return i.$result()}finally{e.pop_exception(u)}}else throw u}return $}),W(_,"$nil?",$e(!1)),W(_,"$printf",function(r){var $,i,u=this,p=c;return ee.stdout==null&&(ee.stdout=c),$=V(arguments),i=$,E(i["$empty?"]())||(p=E(i[0].$$is_string)?ee.stdout:i.$shift(),p.$write(b(u,"format",y(i)))),c},-1),W(_,"$proc",function t(){var r=t.$$p||c;return t.$$p=null,E(r)||G.$raise(o("ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r}),W(_,"$puts",function(r){var $,i;return ee.stdout==null&&(ee.stdout=c),$=V(arguments),i=$,b(ee.stdout,"puts",y(i))},-1),W(_,"$p",function(r){var $,i;return $=V(arguments),i=$,b(i,"each",[],function(p){return ee.stdout==null&&(ee.stdout=c),p==null&&(p=c),ee.stdout.$puts(p.$inspect())}),E(x(i.$length(),1))?i["$[]"](0):i},-1),W(_,"$print",function(r){var $,i;return ee.stdout==null&&(ee.stdout=c),$=V(arguments),i=$,b(ee.stdout,"print",y(i))},-1),W(_,"$readline",function(r){var $,i;return ee.stdin==null&&(ee.stdin=c),$=V(arguments),i=$,b(ee.stdin,"readline",y(i))},-1),W(_,"$warn",function(r,$){var i,u,p,S,M,T,H=this,O=c;return ee.VERBOSE==null&&(ee.VERBOSE=c),ee.stderr==null&&(ee.stderr=c),i=V(arguments),u=m(i),u=F(u),p=i,S=Y(u,"uplevel"),S==null&&(S=c),E(S)&&(S=A["$coerce_to!"](S,o("Integer"),"to_str"),E(w(S,0))&&G.$raise(o("ArgumentError"),"negative level ("+S+")"),O=(M=(T=H.$caller(D(S,1),1).$first(),T===c||T==null?c:T.$split(":in `")),M===c||M==null?c:M.$first()),E(O)&&(O=""+O+": "),p=b(p,"map",[],function(le){return le==null&&(le=c),""+O+"warning: "+le})),E(ee.VERBOSE["$nil?"]())||E(p["$empty?"]())?c:b(ee.stderr,"puts",y(p))},-1),W(_,"$raise",function(r,$,i){throw ee["!"]==null&&(ee["!"]=c),$==null&&($=c),i==null&&(i=c),r==null&&ee["!"]!==c?ee["!"]:(r==null?r=o("RuntimeError").$new(""):P(r,"$to_str")?r=o("RuntimeError").$new(r.$to_str()):r.$$is_class&&P(r,"$exception")?r=r.$exception($):r.$$is_exception||(r=o("TypeError").$new("exception class/object expected")),i!==c&&r.$set_backtrace(i),ee["!"]!==c&&e.exceptions.push(ee["!"]),ee["!"]=r,r)},-1),W(_,"$rand",function(r){return r===void 0?o(o("Random"),"DEFAULT").$rand():(r.$$is_number&&(r<0&&(r=Math.abs(r)),r%1!==0&&(r=r.$to_i()),r===0&&(r=void 0)),o(o("Random"),"DEFAULT").$rand(r))},-1),W(_,"$respond_to?",function(r,$){var i=this;$==null&&($=!1);var u=i[Z(r)];return typeof u=="function"&&!u.$$stub?!0:i["$respond_to_missing?"].$$pristine===!0?!1:i["$respond_to_missing?"](r,$)},-2),W(_,"$respond_to_missing?",function(r,$){return!1},-2),A.$pristine(_,"respond_to?","respond_to_missing?"),W(_,"$require",function(r){return typeof r!="string"&&e.String&&e.Array&&(r=A["$coerce_to!"](r,o("String"),"to_str")),e.require(r)}),W(_,"$require_relative",function(r){return A["$try_convert!"](r,o("String"),"to_str"),r=o("File").$expand_path(o("File").$join(e.current_file,"..",r)),e.require(r)}),W(_,"$require_tree",function(r,$){var i;$=F($),i=Y($,"autoload"),i==null&&(i=!1);var u=[];r=o("File").$expand_path(r),r=e.normalize(r),r==="."&&(r="");for(var p in e.modules)p["$start_with?"](r)&&(i?u.push([p,!0]):u.push([p,e.require(p)]));return u},-2),W(_,"$singleton_class",function(){var r=this;return e.get_singleton_class(r)}),W(_,"$sleep",function(r){r==null&&(r=c),r===c&&G.$raise(o("TypeError"),"can't convert NilClass into time interval"),r.$$is_number||G.$raise(o("TypeError"),"can't convert "+r.$class()+" into time interval"),r<0&&G.$raise(o("ArgumentError"),"time interval must be positive");for(var $=e.global.performance?function(){return performance.now()}:function(){return new Date},i=$();$()-i<=r*1e3;);return Math.round(r)},-1),W(_,"$srand",function(r){return r==null&&(r=a("Random").$new_seed()),o("Random").$srand(r)},-1),W(_,"$String",function(r){var $=c;return E($=A["$coerce_to?"](r,o("String"),"to_str"))?$:A["$coerce_to!"](r,o("String"),"to_s")}),W(_,"$tap",function t(){var r=t.$$p||c,$=this;return t.$$p=null,e.yield1(r,$),$}),W(_,"$to_proc",R),W(_,"$to_s",function(){var r=this;return"#<"+r.$class()+":0x"+r.$__id__().$to_s(16)+">"}),W(_,"$catch",function t(r){var $=t.$$p||c,i=c,u=c;t.$$p=null,r==null&&(r=c);try{return r=E(i=r)?i:s.$new(),e.yield1($,r)}catch(p){if(e.rescue(p,[o("UncaughtThrowError")])){u=p;try{return z(u.$tag(),r)?u.$value():G.$raise()}finally{e.pop_exception(p)}}else throw p}},-1),W(_,"$throw",function(r,$){return $==null&&($=c),G.$raise(o("UncaughtThrowError").$new(r,$))},-2),W(_,"$open",function t(r){var $=t.$$p||c,i,u;return t.$$p=null,i=V(arguments),u=i,b(o("File"),"open",y(u),$.$to_proc())},-1),W(_,"$yield_self",function t(){var r=t.$$p||c,$=this;return t.$$p=null,r===c?b($,"enum_for",["yield_self"],$e(1)):e.yield1(r,$)}),d(_,"fail","raise"),d(_,"kind_of?","is_a?"),d(_,"object_id","__id__"),d(_,"public_send","__send__"),d(_,"send","__send__"),d(_,"then","yield_self"),d(_,"to_enum","enum_for")}("::",h),function(X,L){var _=k(X,L,"Object");return delete s.$$prototype.$require,_.$include(G)}("::",null)};Opal.modules["corelib/main"]=function(e){var E=e.return_val,B=e.def,P=e.Object,A=e.slice,te=e.Kernel,Q=e.top;return e.nil,e.add_stubs("include,raise"),function(N,Z){return B(N,"$to_s",E("main")),B(N,"$include",function(K){return P.$include(K)}),B(N,"$autoload",function(K){var $e,W;return $e=A(arguments),W=$e,e.Object.$autoload.apply(e.Object,W)},-1),B(N,"$using",function(K){return te.$raise("main.using is permitted only at toplevel")})}(e.get_singleton_class(Q))};Opal.modules["corelib/error/errno"]=function(e){var E=e.module,B=e.truthy,P=e.rb_plus,A=e.send2,te=e.find_super,Q=e.def,N=e.klass,Z=e.nil,g=e.$$$;return e.add_stubs("+,errno,class,attr_reader"),function(K,$e){var W=E(K,"Errno"),G=Z,ee=Z;G=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],ee=Z;var V;for(V=0;V<G.length;V++)(function(){var b=G[V][0],y=G[V][1],F=G[V][2];ee=e.klass(W,e.SystemCallError,b),ee.errno=F,function(Y,z){return Q(Y,"$new",function D(m){D.$$p;var q=this,R=Z;return D.$$p=null,m==null&&(m=Z),R=y,B(m)&&(R=P(R," - "+m)),A(q,te(q,"new",D,!1,!0),"new",[R],null)},-1)}(e.get_singleton_class(ee))})()}("::"),function(K,$e,W){var G=N(K,$e,"SystemCallError");return Q(G,"$errno",function(){var V=this;return V.$class().$errno()}),function(ee,V){return ee.$attr_reader("errno")}(e.get_singleton_class(G))}("::",g("StandardError"))};Opal.modules["corelib/error"]=function(e){var E=e.klass,B=e.slice,P=e.gvars,A=e.defs,te=e.send,Q=e.to_a,N=e.def,Z=e.send2,g=e.find_super,K=e.truthy,$e=e.Kernel,W=e.not,G=e.rb_plus,ee=e.eqeq,V=e.Object,b=e.ensure_kwargs,y=e.hash_get,F=e.module,Y=[],z=e.nil,D=e.$$$;return e.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(m,q,R){var x=E(m,q,"Exception"),w=[x].concat(R),s=e.$r(w),d=x.$$prototype;d.message=z,e.prop(x.$$prototype,"$$is_exception",!0);var k;Error.stackTraceLimit=100,A(x,"$new",function(o){var X,L,_=this;P["!"]==null&&(P["!"]=z),X=B(arguments),L=X;var f=L.length>0?L[0]:z,a=new _.$$constructor(f);return a.name=_.$$name,a.message=f,a.cause=P["!"],e.send(a,a.$initialize,L),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(a,k),a},-1),k=x.$new,A(x,"$exception",function(o){var X,L,_=this;return X=B(arguments),L=X,te(_,"new",Q(L))},-1),N(x,"$initialize",function(o){var X,L,_=this;return X=B(arguments),L=X,_.message=L.length>0?L[0]:z},-1),N(x,"$copy_instance_variables",function c(o){var X=c.$$p||z,L=this;c.$$p=null,Z(L,g(L,"copy_instance_variables",c,!1,!0),"copy_instance_variables",[o],X),L.message=o.message,L.cause=o.cause,L.stack=o.stack});function h(c){for(var o=[],X,L=0;L<c.length;L++){var _=c[L];!_||!_.$$is_string||((X=_.match(/^    at (.*?) \((.*?)\)$/))?o.push(X[2]+":in `"+X[1]+"'"):(X=_.match(/^    at (.*?)$/))?o.push(X[1]+":in `undefined'"):(X=_.match(/^  from (.*?)$/))?o.push(X[1]):(X=_.match(/^(.*?)@(.*?)$/))&&o.push(X[2]+":in `"+X[1]+"'"))}return o}return N(x,"$backtrace",function(){var o=this;if(o.backtrace)return o.backtrace;var X=o.stack;return typeof X<"u"&&X.$$is_string?o.backtrace=h(X.split(`
`)):X?o.backtrace=h(X):[]}),N(x,"$backtrace_locations",function(){var o,X=this;return X.backtrace_locations||(X.backtrace_locations=(o=X.$backtrace(),o===z||o==null?z:te(o,"map",[],function(_){return _==null&&(_=z),D(D(D("Thread"),"Backtrace"),"Location").$new(_)}))),X.backtrace_locations}),N(x,"$cause",function(){var o=this;return o.cause||z}),N(x,"$exception",function(o){var X=this;if(o==null&&(o=z),o===z||X===o)return X;var L=X.$clone();return L.message=o,X.backtrace&&(L.backtrace=X.backtrace.$dup()),L.stack=X.stack,L.cause=X.cause,L},-1),N(x,"$message",function(){var o=this;return o.$to_s()}),N(x,"$full_message",function(o){var X,L=this,_=z,f=z,a=z,n=z,t=z,r=z,$=z,i=z,u=z;return P.stderr==null&&(P.stderr=z),o==null&&(o=z),K(s("Hash","skip_raise")?"constant":z)?(o=new Map([["highlight",P.stderr["$tty?"]()],["order","top"]]).$merge(K(_=o)?_:new Map),X=[o["$[]"]("highlight"),o["$[]"]("order")],f=X[0],a=X[1],K([!0,!1]["$include?"](f))||$e.$raise(D("ArgumentError"),"expected true or false as highlight: "+f),K(["top","bottom"]["$include?"](a))||$e.$raise(D("ArgumentError"),"expected :top or :bottom as order: "+a),K(f)?(n="\x1B[1;4m",t="\x1B[1m",r="\x1B[m"):n=t=r="",$=L.$backtrace().$dup(),(W($)||K($["$empty?"]()))&&($=L.$caller()),i=$.$shift(),u=""+i+": ",u=G(u,""+t+L.$to_s()+" ("+n+L.$class()+r+t+")"+r+`
`),u=G(u,te($,"map",[],function(S){return S==null&&(S=z),"	from "+S+`
`}).$join()),K(L.$cause())&&(u=G(u,L.$cause().$full_message(new Map([["highlight",f]])))),ee(a,"bottom")&&(u=u.$split(`
`).$reverse().$join(`
`),u=G(""+t+"Traceback"+r+` (most recent call last):
`,u)),u):""+L.message+`
`+L.stack},-1),N(x,"$inspect",function(){var o=this,X=z;return X=o.$to_s(),K(X["$empty?"]())?o.$class().$to_s():"#<"+o.$class().$to_s()+": "+o.$to_s()+">"}),N(x,"$set_backtrace",function(o){var X=this,L=!0,_,f;if(o===z)X.backtrace=z,X.stack="";else if(o.$$is_string)X.backtrace=[o],X.stack="  from "+o;else{if(o.$$is_array){for(_=0,f=o.length;_<f;_++)if(!o[_].$$is_string){L=!1;break}}else L=!1;L===!1&&$e.$raise(D("TypeError"),"backtrace must be Array of String"),X.backtrace=o,X.stack=te(o,"map",[],function(n){return n==null&&(n=z),G("  from ",n)}).join(`
`)}return o}),N(x,"$to_s",function(){var o=this,X=z,L=z;return K(X=K(L=o.message)?o.message.$to_s():L)?X:o.$class().$to_s()})}("::",Error,Y),E("::",D("Exception"),"ScriptError"),E("::",D("ScriptError"),"SyntaxError"),E("::",D("ScriptError"),"LoadError"),E("::",D("ScriptError"),"NotImplementedError"),E("::",D("Exception"),"SystemExit"),E("::",D("Exception"),"NoMemoryError"),E("::",D("Exception"),"SignalException"),E("::",D("SignalException"),"Interrupt"),E("::",D("Exception"),"SecurityError"),E("::",D("Exception"),"SystemStackError"),E("::",D("Exception"),"StandardError"),E("::",D("StandardError"),"EncodingError"),E("::",D("StandardError"),"ZeroDivisionError"),E("::",D("StandardError"),"NameError"),E("::",D("NameError"),"NoMethodError"),E("::",D("StandardError"),"RuntimeError"),E("::",D("RuntimeError"),"FrozenError"),E("::",D("StandardError"),"LocalJumpError"),E("::",D("StandardError"),"TypeError"),E("::",D("StandardError"),"ArgumentError"),E("::",D("ArgumentError"),"UncaughtThrowError"),E("::",D("StandardError"),"IndexError"),E("::",D("IndexError"),"StopIteration"),E("::",D("StopIteration"),"ClosedQueueError"),E("::",D("IndexError"),"KeyError"),E("::",D("StandardError"),"RangeError"),E("::",D("RangeError"),"FloatDomainError"),E("::",D("StandardError"),"IOError"),E("::",D("IOError"),"EOFError"),E("::",D("StandardError"),"SystemCallError"),E("::",D("StandardError"),"RegexpError"),E("::",D("StandardError"),"ThreadError"),E("::",D("StandardError"),"FiberError"),V.$autoload("Errno","corelib/error/errno"),function(m,q){var R=E(m,q,"FrozenError");return R.$attr_reader("receiver"),N(R,"$initialize",function x(w,s){var d;x.$$p;var k=this;return x.$$p=null,s=b(s),d=y(s,"receiver"),d==null&&(d=z),Z(k,g(k,"initialize",x,!1,!0),"initialize",[w],null),k.receiver=d},-2)}("::",D("RuntimeError")),function(m,q){var R=E(m,q,"UncaughtThrowError"),x=R.$$prototype;return x.tag=z,R.$attr_reader("tag","value"),N(R,"$initialize",function w(s,d){w.$$p;var k=this;return w.$$p=null,d==null&&(d=z),k.tag=s,k.value=d,Z(k,g(k,"initialize",w,!1,!0),"initialize",["uncaught throw "+k.tag.$inspect()],null)},-2)}("::",D("ArgumentError")),function(m,q){var R=E(m,q,"NameError");return R.$attr_reader("name"),N(R,"$initialize",function x(w,s){x.$$p;var d=this;return x.$$p=null,s==null&&(s=z),Z(d,g(d,"initialize",x,!1,!0),"initialize",[w],null),d.name=s},-2)}("::",null),function(m,q){var R=E(m,q,"NoMethodError");return R.$attr_reader("args"),N(R,"$initialize",function x(w,s,d){x.$$p;var k=this;return x.$$p=null,s==null&&(s=z),d==null&&(d=[]),Z(k,g(k,"initialize",x,!1,!0),"initialize",[w,s],null),k.args=d},-2)}("::",null),function(m,q){var R=E(m,q,"StopIteration");return R.$attr_reader("result")}("::",null),function(m,q){var R=E(m,q,"KeyError"),x=R.$$prototype;return x.receiver=x.key=z,N(R,"$initialize",function w(s,d){var k,h;w.$$p;var c=this;return w.$$p=null,d=b(d),k=y(d,"receiver"),k==null&&(k=z),h=y(d,"key"),h==null&&(h=z),Z(c,g(c,"initialize",w,!1,!0),"initialize",[s],null),c.receiver=k,c.key=h},-2),N(R,"$receiver",function(){var s=this,d=z;return K(d=s.receiver)?d:$e.$raise(D("ArgumentError"),"no receiver is available")}),N(R,"$key",function(){var s=this,d=z;return K(d=s.key)?d:$e.$raise(D("ArgumentError"),"no key is available")})}("::",null),function(m,q){var R=E(m,q,"LocalJumpError");return R.$attr_reader("exit_value","reason"),N(R,"$initialize",function x(w,s,d){x.$$p;var k=this;return x.$$p=null,s==null&&(s=z),d==null&&(d="noreason"),Z(k,g(k,"initialize",x,!1,!0),"initialize",[w],null),k.exit_value=s,k.reason=d},-2)}("::",null),function(m,q){var R=F(m,"JS"),x=[R].concat(q);return E(x[0],null,"Error"),z}("::",Y)};Opal.modules["corelib/constants"]=function(e){var E=e.const_set;e.nil;var B=e.$$$;return E("::","RUBY_PLATFORM","opal"),E("::","RUBY_ENGINE","opal"),E("::","RUBY_VERSION","3.2.0"),E("::","RUBY_ENGINE_VERSION","1.8.2"),E("::","RUBY_RELEASE_DATE","2023-11-23"),E("::","RUBY_PATCHLEVEL",0),E("::","RUBY_REVISION","0"),E("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),E("::","RUBY_DESCRIPTION","opal "+B("RUBY_ENGINE_VERSION")+" ("+B("RUBY_RELEASE_DATE")+" revision "+B("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(e){var E=e.Object;return e.nil,e.add_stubs("require"),E.$require("corelib/runtime"),E.$require("corelib/helpers"),E.$require("corelib/module"),E.$require("corelib/class"),E.$require("corelib/basic_object"),E.$require("corelib/kernel"),E.$require("corelib/main"),E.$require("corelib/error"),E.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(e){var E=e.klass,B=e.Kernel,P=e.def,A=e.return_val,te=e.ensure_kwargs,Q=e.hash_get,N=e.NilClass,Z=e.slice,g=e.truthy,K=e.rb_gt,$e=e.alias,W=e.nil,G=e.$$$;return e.add_stubs("raise,name,new,>,length,Rational,to_i"),function(ee,V,b){var y=E(ee,V,"NilClass");return y.$$prototype.$$meta=y,function(F,Y){return P(F,"$allocate",function(){var D=this;return B.$raise(G("TypeError"),"allocator undefined for "+D.$name())}),e.udef(F,"$new"),W}(e.get_singleton_class(y)),P(y,"$!",A(!0)),P(y,"$&",A(!1)),P(y,"$|",function(Y){return Y!==!1&&Y!==W}),P(y,"$^",function(Y){return Y!==!1&&Y!==W}),P(y,"$==",function(Y){return Y===W}),P(y,"$dup",A(W)),P(y,"$clone",function(Y){return Y=te(Y),Q(Y,"freeze"),W},-1),P(y,"$inspect",A("nil")),P(y,"$nil?",A(!0)),P(y,"$singleton_class",function(){return N}),P(y,"$to_a",function(){return[]}),P(y,"$to_h",function(){return new Map}),P(y,"$to_i",A(0)),P(y,"$to_s",A("")),P(y,"$to_c",function(){return G("Complex").$new(0,0)}),P(y,"$rationalize",function(Y){var z,D;return z=Z(arguments),D=z,g(K(D.$length(),1))&&B.$raise(G("ArgumentError")),B.$Rational(0,1)},-1),P(y,"$to_r",function(){return B.$Rational(0,1)}),P(y,"$instance_variables",function(){return[]}),$e(y,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(e){var E=e.klass,B=e.Kernel,P=e.def,A=e.return_self,te=e.ensure_kwargs,Q=e.hash_get,N=e.slice,Z=e.truthy,g=e.send2,K=e.find_super,$e=e.to_a,W=e.alias,G=e.nil,ee=e.$$$;return e.add_stubs("raise,name,==,to_s,__id__"),function(V,b,y){var F=E(V,b,"Boolean");e.prop(F.$$prototype,"$$is_boolean",!0);for(var Y=["$$class","$$meta"],z=0;z<Y.length;z++)Object.defineProperty(F.$$prototype,Y[z],{configurable:!0,enumerable:!1,get:function(){return this==!0?e.TrueClass:this==!1?e.FalseClass:e.Boolean}});return Object.defineProperty(F.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:G}}),function(D,m){return P(D,"$allocate",function(){var R=this;return B.$raise(ee("TypeError"),"allocator undefined for "+R.$name())}),e.udef(D,"$new"),G}(e.get_singleton_class(F)),P(F,"$__id__",function(){var m=this;return m.valueOf()?2:0}),P(F,"$!",function(){var m=this;return m!=!0}),P(F,"$&",function(m){var q=this;return q==!0?m!==!1&&m!==G:!1}),P(F,"$|",function(m){var q=this;return q==!0?!0:m!==!1&&m!==G}),P(F,"$^",function(m){var q=this;return q==!0?m===!1||m===G:m!==!1&&m!==G}),P(F,"$==",function(m){var q=this;return q==!0===m.valueOf()}),P(F,"$singleton_class",function(){var m=this;return m.$$meta}),P(F,"$to_s",function(){var m=this;return m==!0?"true":"false"}),P(F,"$dup",A),P(F,"$clone",function(m){var q=this;return m=te(m),Q(m,"freeze"),q},-1),P(F,"$method_missing",function D(m,q){var R=D.$$p||G,x,w,s=this;D.$$p=null,x=N(arguments,1),w=x;var d=s.$$class.$$prototype[e.jsid(m)];return Z(typeof d<"u"&&!d.$$stub)||g(s,K(s,"method_missing",D,!1,!0),"method_missing",[m].concat($e(w)),R),e.send(s,d,w,R)},-2),P(F,"$respond_to_missing?",function(m,q){var R=this,x=R.$$class.$$prototype[e.jsid(m)];return typeof x<"u"&&!x.$$stub},-2),W(F,"eql?","=="),W(F,"equal?","=="),W(F,"inspect","to_s"),W(F,"object_id","__id__")}("::",Boolean),E("::",ee("Boolean"),"TrueClass"),E("::",ee("Boolean"),"FalseClass"),G};Opal.modules["corelib/comparable"]=function(e){var E=e.truthy,B=e.module,P=e.rb_gt,A=e.rb_lt,te=e.eqeqeq,Q=e.Kernel,N=e.def,Z=e.nil,g=e.$$$;return e.add_stubs(">,<,===,raise,class,<=>,equal?"),function(K){var $e=B(K,"Comparable"),W=Z;function G(b){return e.is_a(b,e.Integer)?b:P(b,0)?1:A(b,0)?-1:0}function ee(b,y){var F;te(Z,W=y)||te(!0,W)||te(!1,W)||te(g("Integer"),W)||te(g("Float"),W)?F=y.$inspect():F=y.$$class,Q.$raise(g("ArgumentError"),"comparison of "+b.$class()+" with "+F+" failed")}function V(b,y){var F=b["$<=>"](y);return E(F)||ee(b,y),G(F)}return N($e,"$==",function(y){var F=this,Y=Z;return E(F["$equal?"](y))?!0:F["$<=>"]==e.Kernel["$<=>"]?!1:F.$$comparable?(F.$$comparable=!1,!1):E(Y=F["$<=>"](y))?G(Y)==0:!1}),N($e,"$>",function(y){var F=this;return V(F,y)>0}),N($e,"$>=",function(y){var F=this;return V(F,y)>=0}),N($e,"$<",function(y){var F=this;return V(F,y)<0}),N($e,"$<=",function(y){var F=this;return V(F,y)<=0}),N($e,"$between?",function(y,F){var Y=this;return!(E(A(Y,y))||E(P(Y,F)))}),N($e,"$clamp",function(y,F){var Y=this;F==null&&(F=Z);var z,D;if(F===Z&&(e.is_a(y,e.Range)||Q.$raise(g("TypeError"),"wrong argument type "+y.$class()+" (expected Range)"),D=y.excl,F=y.end,y=y.begin,F!==Z&&D&&Q.$raise(g("ArgumentError"),"cannot clamp with an exclusive range")),y!==Z&&F!==Z&&V(y,F)>0&&Q.$raise(g("ArgumentError"),"min argument must be smaller than max argument"),y!==Z){if(z=V(Y,y),z==0)return Y;if(z<0)return y}return F!==Z&&(z=V(Y,F),z>0)?F:Y},-2)}("::")};Opal.modules["corelib/regexp"]=function(e){var E=e.coerce_to,B=e.prop,P=e.freeze,A=e.klass,te=e.const_set,Q=e.send2,N=e.find_super,Z=e.def,g=e.truthy,K=e.gvars,$e=e.slice,W=e.Kernel,G=e.Opal,ee=e.alias,V=e.send,b=e.regexp,y=e.rb_plus,F=e.ensure_kwargs,Y=e.hash_get,z=e.rb_ge,D=e.to_a,m=e.eqeqeq,q=e.rb_minus,R=e.return_ivar,x=[],w=e.nil,s=e.$$$;return e.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),A("::",s("StandardError"),"RegexpError"),function(d,k,h){var c=A(d,k,"Regexp"),o=[c].concat(h),X=e.$r(o);return te(c,"IGNORECASE",1),te(c,"EXTENDED",2),te(c,"MULTILINE",4),e.prop(c.$$prototype,"$$is_regexp",!0),function(L,_){var f=[L].concat(_),a=e.$r(f);return Z(L,"$allocate",function n(){var t=n.$$p||w,r=this,$=w;return n.$$p=null,$=Q(r,N(r,"allocate",n,!1,!0),"allocate",[],t),$.uninitialized=!0,$}),Z(L,"$escape",function(t){return t=E(t,s("String"),"to_str"),e.escape_regexp(t)}),Z(L,"$last_match",function(t){return K["~"]==null&&(K["~"]=w),t==null&&(t=w),g(t["$nil?"]())?K["~"]:g(K["~"])?K["~"]["$[]"](t):w},-1),Z(L,"$union",function(t){var r,$,i=this;r=$e(arguments),$=r;var u,p,S,M,T;if($.length==0)return/(?!)/;if($.length==1&&$[0].$$is_regexp)return $[0];u=$[0].$$is_array,$.length>1&&u&&W.$raise(s("TypeError"),"no implicit conversion of Array into String"),u&&($=$[0]),M=void 0,p=[];for(var H=0;H<$.length;H++)S=$[H],S.$$is_string?p.push(i.$escape(S)):S.$$is_regexp?(T=S.$options(),M!=null&&M!=T&&W.$raise(s("TypeError"),"All expressions must use the same options"),M=T,p.push("("+S.source+")")):p.push(i.$escape(S.$to_str()));return i.$new(p.$join("|"),M)},-1),Z(L,"$new",function(t,r){if(t.$$is_regexp)return new RegExp(t);if(t=G["$coerce_to!"](t,s("String"),"to_str"),t.charAt(t.length-1)==="\\"&&t.charAt(t.length-2)!=="\\"&&W.$raise(s("RegexpError"),"too short escape sequence: /"+t+"/"),t=t.replace("\\A","^").replace("\\z","$"),r===void 0||r["$!"]())return new RegExp(t);if(r.$$is_number){var $="";a("IGNORECASE")&r&&($+="i"),a("MULTILINE")&r&&($+="m"),r=$}else r="i";return new RegExp(t,r)},-2),ee(L,"compile","new"),ee(L,"quote","escape")}(e.get_singleton_class(c),o),Z(c,"$==",function(_){var f=this;return _ instanceof RegExp&&f.toString()===_.toString()}),Z(c,"$===",function(_){var f=this;return f.$match(G["$coerce_to?"](_,s("String"),"to_str"))!==w}),Z(c,"$=~",function(_){var f=this,a=w;return K["~"]==null&&(K["~"]=w),g(a=f.$match(_))?K["~"].$begin(0):a}),Z(c,"$freeze",function(){var _=this;return g(_["$frozen?"]())?_:(_.hasOwnProperty("$$g")||B(_,"$$g",null),_.hasOwnProperty("$$gm")||B(_,"$$gm",null),P(_))}),Z(c,"$inspect",function(){var _=this,f=/^\/(.*)\/([^\/]*)$/,a=_.toString(),n=f.exec(a);if(n){for(var t=n[1],r=n[2],$=t.split(""),i=$.length,u=!1,p="",S=0;S<i;S++){var M=$[S];!u&&M=="/"&&(p=p.concat("\\")),p=p.concat(M),M=="\\"?u?u=!1:u=!0:u=!1}return"/"+p+"/"+r}else return a}),Z(c,"$match",function L(_,f){var a=L.$$p||w,n=this;if(K["~"]==null&&(K["~"]=w),L.$$p=null,n.uninitialized&&W.$raise(s("TypeError"),"uninitialized Regexp"),f===void 0){if(_===w)return K["~"]=w;var t=n.exec(E(_,s("String"),"to_str"));return t?(K["~"]=s("MatchData").$new(n,t),a===w?K["~"]:e.yield1(a,K["~"])):K["~"]=w}if(f=E(f,s("Integer"),"to_int"),_===w||(_=E(_,s("String"),"to_str"),f<0&&(f+=_.length,f<0)))return K["~"]=w;for(var r,$=e.global_regexp(n);;){if(r=$.exec(_),r===null)return K["~"]=w;if(r.index>=f)return K["~"]=s("MatchData").$new($,r),a===w?K["~"]:e.yield1(a,K["~"]);$.lastIndex=r.index+1}},-2),Z(c,"$match?",function(_,f){var a=this;if(a.uninitialized&&W.$raise(s("TypeError"),"uninitialized Regexp"),f===void 0)return _===w?!1:a.test(E(_,s("String"),"to_str"));if(f=E(f,s("Integer"),"to_int"),_===w||(_=E(_,s("String"),"to_str"),f<0&&(f+=_.length,f<0)))return!1;var n,t=e.global_regexp(a);return n=t.exec(_),!(n===null||n.index<f)},-2),Z(c,"$names",function(){var _=this;return V(_.$source().$scan(b(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),Z(c,"$named_captures",function(){var _=this;return V(V(V(_.$source().$scan(b(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(a){return a==null&&(a=w),V(a,"map",[],function(t){return t==null&&(t=w),y(t.$last(),1)})})}),Z(c,"$~",function(){var _=this;return K._==null&&(K._=w),_["$=~"](K._)}),Z(c,"$source",function(){var _=this;return _.source}),Z(c,"$options",function(){var _=this;_.uninitialized&&W.$raise(s("TypeError"),"uninitialized Regexp");var f=0;return _.multiline&&(f|=X("MULTILINE")),_.ignoreCase&&(f|=X("IGNORECASE")),f}),Z(c,"$casefold?",function(){var _=this;return _.ignoreCase}),ee(c,"eql?","=="),ee(c,"to_s","source")}("::",RegExp,x),function(d,k,h){var c=A(d,k,"MatchData"),o=[c].concat(h),X=e.$r(o),L=c.$$prototype;return L.matches=w,c.$attr_reader("post_match","pre_match","regexp","string"),Z(c,"$initialize",function(f,a,n){var t,r=this;n=F(n),t=Y(n,"no_matchdata"),t==null&&(t=!1),g(t)||(K["~"]=r),r.regexp=f,r.begin=a.index,r.string=a.input,r.pre_match=a.input.slice(0,a.index),r.post_match=a.input.slice(a.index+a[0].length),r.matches=[];for(var $=0,i=a.length;$<i;$++){var u=a[$];u==null?r.matches.push(w):r.matches.push(u)}},-3),Z(c,"$match",function(f){var a=this,n=w;return g(n=a["$[]"](f))?n:g(f["$is_a?"](X("Integer")))&&g(z(f,a.$length()))?W.$raise(s("IndexError"),"index "+f+" out of matches"):w}),Z(c,"$match_length",function(f){var a,n=this;return a=n.$match(f),a===w||a==null?w:a.$length()}),Z(c,"$[]",function(f){var a,n,t=this;return a=$e(arguments),n=a,n[0].$$is_string?(t.$regexp().$names()["$include?"](n["$[]"](0))["$!"]()&&W.$raise(s("IndexError"),"undefined group name reference: "+n["$[]"](0)),t.$named_captures()["$[]"](n["$[]"](0))):V(t.matches,"[]",D(n))},-1),Z(c,"$offset",function(f){var a=this;return f!==0&&W.$raise(s("ArgumentError"),"MatchData#offset only supports 0th element"),[a.begin,a.begin+a.matches[f].length]}),Z(c,"$==",function(f){var a=this,n=w,t=w,r=w,$=w;return m(s("MatchData"),f)?g(n=g(t=g(r=g($=a.string==f.string)?a.regexp.toString()==f.regexp.toString():$)?a.pre_match==f.pre_match:r)?a.post_match==f.post_match:t)?a.begin==f.begin:n:!1}),Z(c,"$begin",function(f){var a=this;return f!==0&&W.$raise(s("ArgumentError"),"MatchData#begin only supports 0th element"),a.begin}),Z(c,"$end",function(f){var a=this;return f!==0&&W.$raise(s("ArgumentError"),"MatchData#end only supports 0th element"),a.begin+a.matches[f].length}),Z(c,"$captures",function(){var f=this;return f.matches.slice(1)}),Z(c,"$named_captures",function(){var f=this,a=w;return a=f.$captures(),V(f.$regexp().$named_captures(),"transform_values",[],function(t){return t==null&&(t=w),a["$[]"](q(t.$last(),1))})}),Z(c,"$names",function(){var f=this;return f.$regexp().$names()}),Z(c,"$inspect",function(){var f=this,a="#<MatchData "+f.matches[0].$inspect();if(f.$regexp().$names()["$empty?"]())for(var n=1,t=f.matches.length;n<t;n++)a+=" "+n+":"+f.matches[n].$inspect();else V(f.$named_captures(),"each",[],function($,i){return $==null&&($=w),i==null&&(i=w),a+=" "+$+":"+i.$inspect()});return a+">"}),Z(c,"$length",function(){var f=this;return f.matches.length}),Z(c,"$to_a",R("matches")),Z(c,"$to_s",function(){var f=this;return f.matches[0]}),Z(c,"$values_at",function(f){var a,n,t=this;a=$e(arguments),n=a;var r,$,i,u=[];for(r=0;r<n.length;r++){if(n[r].$$is_range&&($=n[r].$to_a(),$.unshift(r,1),Array.prototype.splice.apply(n,$)),i=G["$coerce_to!"](n[r],s("Integer"),"to_int"),i<0&&(i+=t.matches.length,i<0)){u.push(w);continue}u.push(t.matches[i])}return u},-1),ee(c,"eql?","=="),ee(c,"size","length")}(x[0],null,x)};Opal.modules["corelib/string"]=function(e){var E=e.coerce_to,B=e.respond_to,P=e.global_multiline_regexp,A=e.prop,te=e.opal32_init,Q=e.opal32_add,N=e.klass,Z=e.send2,g=e.find_super,K=e.def,$e=e.Opal,W=e.defs,G=e.slice,ee=e.send,V=e.to_a,b=e.extract_kwargs,y=e.ensure_kwargs,F=e.hash_get,Y=e.eqeqeq,z=e.Kernel,D=e.truthy,m=e.gvars,q=e.rb_divide,R=e.rb_plus,x=e.eqeq,w=e.alias,s=e.const_set,d=e.top,k=[],h=e.$r(k),c=e.nil,o=e.$$$;return e.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),d.$require("corelib/comparable"),d.$require("corelib/regexp"),function(X,L,_){var f=N(X,L,"String"),a=[f].concat(_),n=e.$r(a);f.$include(o("Comparable")),e.prop(f.$$prototype,"$$is_string",!0);var t=new Map;(function(){K(f,"$__id__",function $(){var i=$.$$p||c,u=this;if($.$$p=null,typeof u=="object")return Z(u,g(u,"__id__",$,!1,!0),"__id__",[],i);if(t.has(u))return t.get(u);var p=e.uid();return t.set(u,p),p}),K(f,"$hash",function(){var i=this,u=te(),p,S=i.length;for(u=Q(u,5),u=Q(u,S),p=0;p<S;p++)u=Q(u,i.charCodeAt(p));return u})})(),W(f,"$try_convert",function(i){return $e["$coerce_to?"](i,o("String"),"to_str")}),W(f,"$new",function(i){var u,p,S=this;u=G(arguments),p=u;var M=p[0]||"",T=p[p.length-1];return M=E(M,o("String"),"to_str"),T&&T.$$is_hash&&T.has("encoding")&&(M=M.$force_encoding(T.get("encoding").value)),M=new S.$$constructor(M),M.$initialize.$$pristine||ee(M,"initialize",V(p)),M},-1),K(f,"$initialize",function(i,u){var p,S;return p=G(arguments),S=b(p),S=y(S),p.length>0&&p.shift(),F(S,"encoding"),F(S,"capacity"),c},-1),K(f,"$%",function(i){var u=this;return Y(o("Array"),i)?ee(u,"format",[u].concat(V(i))):u.$format(u,i)}),K(f,"$*",function(i){var u=this;if(i=E(i,o("Integer"),"to_int"),i<0&&z.$raise(o("ArgumentError"),"negative argument"),i===0)return"";var p="",S=u.toString();for(S.length*i>=1<<28&&z.$raise(o("RangeError"),"multiply count must not overflow maximum string size");(i&1)===1&&(p+=S),i>>>=1,i!==0;)S+=S;return p}),K(f,"$+",function(i){var u=this;if(i=E(i,o("String"),"to_str"),i==""&&u.$$class===e.String)return u;if(u==""&&i.$$class===e.String)return i;var p=u+i;return u.encoding===p.encoding&&i.encoding===p.encoding||u.encoding.name==="UTF-8"||i.encoding.name==="UTF-8"?p:e.enc(p,u.encoding)}),K(f,"$<=>",function(i){var u=this;if(D(i["$respond_to?"]("to_str")))return i=i.$to_str().$to_s(),u>i?1:u<i?-1:0;var p=i["$<=>"](u);return p===c?c:p>0?-1:p<0?1:0}),K(f,"$==",function(i){var u=this;return i.$$is_string?u.toString()===i.toString():B(i,"$to_str")?i["$=="](u):!1}),K(f,"$=~",function(i){var u=this;return i.$$is_string&&z.$raise(o("TypeError"),"type mismatch: String given"),i["$=~"](u)}),K(f,"$[]",function(i,u){var p=this,S=p.length,M,T;if(i.$$is_range)return M=i.excl,T=i,u=i.end===c?-1:E(i.end,o("Integer"),"to_int"),i=i.begin===c?0:E(i.begin,o("Integer"),"to_int"),Math.abs(i)>S?c:(i<0&&(i+=S),u<0&&(u+=S),(!M||T.end===c)&&(u+=1),u=u-i,u<0&&(u=0),p.substr(i,u));if(i.$$is_string)return u!=null&&z.$raise(o("TypeError")),p.indexOf(i)!==-1?i:c;if(i.$$is_regexp){var H=p.match(i);return H===null?(m["~"]=c,c):(m["~"]=o("MatchData").$new(i,H),u==null?H[0]:(u=E(u,o("Integer"),"to_int"),u<0&&-u<H.length?H[u+=H.length]:u>=0&&u<H.length?H[u]:c))}return i=E(i,o("Integer"),"to_int"),i<0&&(i+=S),u==null?i>=S||i<0?c:p.substr(i,1):(u=E(u,o("Integer"),"to_int"),u<0||i>S||i<0?c:p.substr(i,u))},-2),K(f,"$b",function(){var i=this;return new String(i).$force_encoding("binary")}),K(f,"$capitalize",function(){var i=this;return i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()}),K(f,"$casecmp",function(i){var u=this;if(!D(i["$respond_to?"]("to_str")))return c;i=E(i,o("String"),"to_str").$to_s();var p=/^[\x00-\x7F]*$/;return p.test(u)&&p.test(i)&&(u=u.toLowerCase(),i=i.toLowerCase()),u["$<=>"](i)}),K(f,"$casecmp?",function(i){var u=this,p=u.$casecmp(i);return p===c?c:p===0}),K(f,"$center",function(i,u){var p=this;if(u==null&&(u=" "),i=E(i,o("Integer"),"to_int"),u=E(u,o("String"),"to_str").$to_s(),D(u["$empty?"]())&&z.$raise(o("ArgumentError"),"zero width padding"),D(i<=p.length))return p;var S=p.$ljust(q(R(i,p.length),2).$ceil(),u),M=p.$rjust(q(R(i,p.length),2).$floor(),u);return M+S.slice(p.length)},-2),K(f,"$chomp",function(i){var u=this;if(m["/"]==null&&(m["/"]=c),i==null&&(i=m["/"]),D(i===c||u.length===0))return u;i=$e["$coerce_to!"](i,o("String"),"to_str").$to_s();var p;if(i===`
`)p=u.replace(/\r?\n?$/,"");else if(i==="")p=u.replace(/(\r?\n)+$/,"");else if(u.length>=i.length){var S=u.substr(u.length-i.length,i.length);S===i&&(p=u.substr(0,u.length-i.length))}return p??u},-1),K(f,"$chop",function(){var i=this,u=i.length,p;return u<=1?p="":i.charAt(u-1)===`
`&&i.charAt(u-2)==="\r"?p=i.substr(0,u-2):p=i.substr(0,u-1),p}),K(f,"$chr",function(){var i=this;return i.charAt(0)}),K(f,"$clone",function(i){var u,p=this,S=c;return i=y(i),u=F(i,"freeze"),u==null&&(u=c),D(u["$nil?"]())||x(u,!0)||x(u,!1)||p.$raise(n("ArgumentError"),"unexpected value for freeze: "+u.$class()),S=new String(p),S.$copy_singleton_methods(p),S.$initialize_clone(p,new Map([["freeze",u]])),x(u,!0)?S.$$frozen||(S.$$frozen=!0):D(u["$nil?"]())&&p.$$frozen&&(S.$$frozen=!0),S},-1),K(f,"$dup",function(){var i=this,u=c;return u=new String(i),u.$initialize_dup(i),u}),K(f,"$count",function(i){var u,p,S=this;u=G(arguments),p=u,p.length===0&&z.$raise(o("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var M=r(p);return M===null?0:S.length-S.replace(new RegExp(M,"g"),"").length},-1),K(f,"$delete",function(i){var u,p,S=this;u=G(arguments),p=u,p.length===0&&z.$raise(o("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var M=r(p);return M===null?S:S.replace(new RegExp(M,"g"),"")},-1),K(f,"$delete_prefix",function(i){var u=this;return i.$$is_string||(i=E(i,o("String"),"to_str")),u.slice(0,i.length)===i?u.slice(i.length):u}),K(f,"$delete_suffix",function(i){var u=this;return i.$$is_string||(i=E(i,o("String"),"to_str")),u.slice(u.length-i.length)===i?u.slice(0,u.length-i.length):u}),K(f,"$downcase",function(){var i=this;return i.toLowerCase()}),K(f,"$each_line",function $(i,u){var p=$.$$p||c,S,M,T,H,O=this;if(m["/"]==null&&(m["/"]=c),$.$$p=null,S=G(arguments),M=b(S),M=y(M),S.length>0&&(T=S.shift()),T==null&&(T=m["/"]),H=F(M,"chomp"),H==null&&(H=!1),p===c)return O.$enum_for("each_line",T,new Map([["chomp",H]]));if(T===c)return e.yield1(p,O),O;T=E(T,o("String"),"to_str");var ae,le,_e,de,ge,ve,me,be;if(T.length===0){for(ae=O.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),le=0,_e=ae.length;le<_e;le+=2)(ae[le]||ae[le+1])&&(be=(ae[le]||"")+(ae[le+1]||""),H&&(be=be.$chomp(`
`)),e.yield1(p,be));return O}for(ge=O.$chomp(T),ve=O.length!=ge.length,me=ge.split(T),le=0,de=me.length;le<de;le++)be=me[le],(le<de-1||ve)&&(be+=T),H&&(be=be.$chomp(T)),e.yield1(p,be);return O},-1),K(f,"$empty?",function(){var i=this;return i.length===0}),K(f,"$end_with?",function(i){var u,p,S=this;u=G(arguments),p=u;for(var M=0,T=p.length;M<T;M++){var H=E(p[M],o("String"),"to_str").$to_s();if(S.length>=H.length&&S.substr(S.length-H.length,H.length)==H)return!0}return!1},-1),K(f,"$gsub",function $(i,u){var p=$.$$p||c,S=this;if($.$$p=null,u===void 0&&p===c)return S.$enum_for("gsub",i);var M="",T=c,H=0,O,ae;i.$$is_regexp?i=P(i):(i=E(i,o("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var le;;){if(O=i.exec(S),O===null){m["~"]=c,M+=S.slice(H);break}T=o("MatchData").$new(i,O),u===void 0?(le=i.lastIndex,ae=p(O[0]),i.lastIndex=le):u.$$is_hash?ae=u["$[]"](O[0]).$to_s():(u.$$is_string||(u=E(u,o("String"),"to_str")),ae=u.replace(/([\\]+)([0-9+&`'])/g,function(_e,de,ge){if(de.length%2===0)return _e;switch(ge){case"+":for(var ve=O.length-1;ve>0;ve--)if(O[ve]!==void 0)return de.slice(1)+O[ve];return"";case"&":return de.slice(1)+O[0];case"`":return de.slice(1)+S.slice(0,O.index);case"'":return de.slice(1)+S.slice(O.index+O[0].length);default:return de.slice(1)+(O[ge]||"")}}).replace(/\\\\/g,"\\")),i.lastIndex===O.index?(M+=S.slice(H,O.index)+ae+(S[O.index]||""),i.lastIndex+=1):M+=S.slice(H,O.index)+ae,H=i.lastIndex}return m["~"]=T,M},-2),K(f,"$hex",function(){var i=this;return i.$to_i(16)}),K(f,"$include?",function(i){var u=this;return i.$$is_string||(i=E(i,o("String"),"to_str")),u.indexOf(i)!==-1}),K(f,"$index",function(i,u){var p=this,S,M,T;if(u===void 0)u=0;else if(u=E(u,o("Integer"),"to_int"),u<0&&(u+=p.length,u<0))return c;if(i.$$is_regexp)for(T=P(i);;){if(M=T.exec(p),M===null){m["~"]=c,S=-1;break}if(M.index>=u){m["~"]=o("MatchData").$new(T,M),S=M.index;break}T.lastIndex=M.index+1}else i=E(i,o("String"),"to_str"),i.length===0&&u>p.length?S=-1:S=p.indexOf(i,u);return S===-1?c:S},-2),K(f,"$inspect",function(){var i=this,u=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},S=i.replace(u,function(M){return p[M]?p[M]:(M=M.charCodeAt(0),M<=255&&(i.encoding["$binary?"]()||i.internal_encoding["$binary?"]())?"\\x"+("00"+M.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+M.toString(16).toUpperCase()).slice(-4))});return'"'+S.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),K(f,"$intern",function(){var i=this;return i.toString()}),K(f,"$length",function(){var i=this;return i.length}),w(f,"size","length"),K(f,"$lines",function $(i,u){var p=$.$$p||c,S,M,T,H,O=this,ae=c;return m["/"]==null&&(m["/"]=c),$.$$p=null,S=G(arguments),M=b(S),M=y(M),S.length>0&&(T=S.shift()),T==null&&(T=m["/"]),H=F(M,"chomp"),H==null&&(H=!1),ae=ee(O,"each_line",[T,new Map([["chomp",H]])],p.$to_proc()),D(p)?O:ae.$to_a()},-1),K(f,"$ljust",function(i,u){var p=this;if(u==null&&(u=" "),i=E(i,o("Integer"),"to_int"),u=E(u,o("String"),"to_str").$to_s(),D(u["$empty?"]())&&z.$raise(o("ArgumentError"),"zero width padding"),D(i<=p.length))return p;var S=-1,M="";for(i-=p.length;++S<i;)M+=u;return p+M.slice(0,i)},-2),K(f,"$lstrip",function(){var i=this;return i.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),K(f,"$ascii_only?",function(){var i=this;return i.encoding.ascii?/^[\x00-\x7F]*$/.test(i):!1}),K(f,"$match",function $(i,u){var p=$.$$p||c,S=this;return $.$$p=null,(Y(n("String"),i)||D(i["$respond_to?"]("to_str")))&&(i=o("Regexp").$new(i.$to_str())),Y(o("Regexp"),i)||z.$raise(o("TypeError"),"wrong argument type "+i.$class()+" (expected Regexp)"),ee(i,"match",[S,u],p.$to_proc())},-2),K(f,"$match?",function(i,u){var p=this;return(Y(n("String"),i)||D(i["$respond_to?"]("to_str")))&&(i=o("Regexp").$new(i.$to_str())),Y(o("Regexp"),i)||z.$raise(o("TypeError"),"wrong argument type "+i.$class()+" (expected Regexp)"),i["$match?"](p,u)},-2),K(f,"$next",function(){var i=this,u=i.length;if(u===0)return"";for(var p=i,S=i.search(/[a-zA-Z0-9]/),M=!1,T;u--;){if(T=i.charCodeAt(u),T>=48&&T<=57||T>=65&&T<=90||T>=97&&T<=122)switch(T){case 57:M=!0,T=48;break;case 90:M=!0,T=65;break;case 122:M=!0,T=97;break;default:M=!1,T+=1}else S===-1?T===255?(M=!0,T=0):(M=!1,T+=1):M=!0;if(p=p.slice(0,u)+String.fromCharCode(T)+p.slice(u+1),M&&(u===0||u===S)){switch(T){case 65:break;case 97:break;default:T+=1}u===0?p=String.fromCharCode(T)+p:p=p.slice(0,u)+String.fromCharCode(T)+p.slice(u),M=!1}if(!M)break}return p}),K(f,"$oct",function(){var i=this,u,p=i,S=8;return/^\s*_/.test(p)?0:(p=p.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(M,T,H,O){switch(O.charAt(0)){case"+":case"-":return M;case"0":if(O.charAt(1)==="x"&&H==="0x")return M}switch(H){case"0b":S=2;break;case"0":case"0o":S=8;break;case"0d":S=10;break;case"0x":S=16;break}return T+O}),u=parseInt(p.replace(/_(?!_)/g,""),S),isNaN(u)?0:u)}),K(f,"$ord",function(){var i=this;return typeof i.codePointAt=="function"?i.codePointAt(0):i.charCodeAt(0)}),K(f,"$partition",function(i){var u=this,p,S;return i.$$is_regexp?(S=i.exec(u),S===null?p=-1:(o("MatchData").$new(i,S),i=S[0],p=S.index)):(i=E(i,o("String"),"to_str"),p=u.indexOf(i)),p===-1?[u,"",""]:[u.slice(0,p),u.slice(p,p+i.length),u.slice(p+i.length)]}),K(f,"$reverse",function(){var i=this;return i.split("").reverse().join("")}),K(f,"$rindex",function(i,u){var p=this,S,M,T,H;if(u===void 0)u=p.length;else if(u=E(u,o("Integer"),"to_int"),u<0&&(u+=p.length,u<0))return c;if(i.$$is_regexp){for(M=null,T=P(i);H=T.exec(p),!(H===null||H.index>u);)M=H,T.lastIndex=M.index+1;M===null?(m["~"]=c,S=-1):(o("MatchData").$new(T,M),S=M.index)}else i=E(i,o("String"),"to_str"),S=p.lastIndexOf(i,u);return S===-1?c:S},-2),K(f,"$rjust",function(i,u){var p=this;if(u==null&&(u=" "),i=E(i,o("Integer"),"to_int"),u=E(u,o("String"),"to_str").$to_s(),D(u["$empty?"]())&&z.$raise(o("ArgumentError"),"zero width padding"),D(i<=p.length))return p;var S=Math.floor(i-p.length),M=Math.floor(S/u.length),T=Array(M+1).join(u),H=S-T.length;return T+u.slice(0,H)+p},-2),K(f,"$rpartition",function(i){var u=this,p,S,M,T;if(i.$$is_regexp){for(S=null,M=P(i);T=M.exec(u),T!==null;)S=T,M.lastIndex=S.index+1;S===null?p=-1:(o("MatchData").$new(M,S),i=S[0],p=S.index)}else i=E(i,o("String"),"to_str"),p=u.lastIndexOf(i);return p===-1?["","",u]:[u.slice(0,p),u.slice(p,p+i.length),u.slice(p+i.length)]}),K(f,"$rstrip",function(){var i=this;return i.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),K(f,"$scan",function $(i,u){var p=$.$$p||c,S,M=this;$.$$p=null,u=y(u),S=F(u,"no_matchdata"),S==null&&(S=!1);var T=[],H=c,O;for(i.$$is_regexp?i=P(i):(i=E(i,o("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(O=i.exec(M))!=null;)H=o("MatchData").$new(i,O,new Map([["no_matchdata",S]])),p===c?O.length==1?T.push(O[0]):T.push(H.$captures()):O.length==1?e.yield1(p,O[0]):e.yield1(p,H.$captures()),i.lastIndex===O.index&&(i.lastIndex+=1);return S||(m["~"]=H),p!==c?M:T},-2),K(f,"$singleton_class",function(){var i=this;return e.get_singleton_class(i)}),K(f,"$split",function(i,u){var p=this,S=c;if(m[";"]==null&&(m[";"]=c),p.length===0)return[];if(u===void 0)u=0;else if(u=$e["$coerce_to!"](u,o("Integer"),"to_int"),u===1)return[p];(i===void 0||i===c)&&(i=D(S=m[";"])?S:" ");var M=[],T=p.toString(),H=0,O,ae=0,le=0,_e,de;if(i.$$is_regexp?i=P(i):(i=E(i,o("String"),"to_str").$to_s(),i===" "&&(i=/\s+/gm,T=T.replace(/^\s+/,""))),M=T.split(i),M.length===1&&M[0]===T)return[M[0]];for(;(_e=M.indexOf(void 0))!==-1;)M.splice(_e,1);if(u===0){for(;M[M.length-1]==="";)M.pop();return M}if(i.$$is_regexp||(i=e.escape_regexp(i),i=new RegExp(i,"gm")),O=i.exec(T),u<0){if(O!==null&&O[0]===""&&i.source.indexOf("(?=")===-1)for(_e=0,de=O.length;_e<de;_e++)M.push("");return M}if(O!==null&&O[0]==="")return le=(O.length-1)*(u-1)+u,M.splice(le-1,M.length-1,M.slice(le-1).join("")),M;if(u>=M.length)return M;for(;O!==null&&(ae++,H=i.lastIndex,le+=O.length,ae+1!==u);)O=i.exec(T);return M.splice(le,M.length-1,T.slice(H)),M},-1),K(f,"$squeeze",function(i){var u,p,S=this;if(u=G(arguments),p=u,p.length===0)return S.replace(/(.)\1+/g,"$1");var M=r(p);return M===null?S:S.replace(new RegExp("("+M+")\\1+","g"),"$1")},-1),K(f,"$start_with?",function(i){var u,p,S=this;u=G(arguments),p=u;for(var M=0,T=p.length;M<T;M++)if(p[M].$$is_regexp){var H=p[M],O=H.exec(S);if(O!=null&&O.index===0)return m["~"]=o("MatchData").$new(H,O),!0;m["~"]=c}else{var ae=E(p[M],o("String"),"to_str").$to_s();if(S.length>=ae.length&&S.startsWith(ae))return!0}return!1},-1),K(f,"$strip",function(){var i=this;return i.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),K(f,"$sub",function $(i,u){var p=$.$$p||c,S=this;$.$$p=null,i.$$is_regexp||(i=E(i,o("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var M,T=i.exec(S);return T===null?(m["~"]=c,M=S.toString()):(o("MatchData").$new(i,T),u===void 0?(p===c&&z.$raise(o("ArgumentError"),"wrong number of arguments (1 for 2)"),M=S.slice(0,T.index)+p(T[0])+S.slice(T.index+T[0].length)):u.$$is_hash?M=S.slice(0,T.index)+u["$[]"](T[0]).$to_s()+S.slice(T.index+T[0].length):(u=E(u,o("String"),"to_str"),u=u.replace(/([\\]+)([0-9+&`'])/g,function(H,O,ae){if(O.length%2===0)return H;switch(ae){case"+":for(var le=T.length-1;le>0;le--)if(T[le]!==void 0)return O.slice(1)+T[le];return"";case"&":return O.slice(1)+T[0];case"`":return O.slice(1)+S.slice(0,T.index);case"'":return O.slice(1)+S.slice(T.index+T[0].length);default:return O.slice(1)+(T[ae]||"")}}).replace(/\\\\/g,"\\"),M=S.slice(0,T.index)+u+S.slice(T.index+T[0].length))),M},-2),K(f,"$sum",function(i){var u=this;i==null&&(i=16),i=E(i,o("Integer"),"to_int");for(var p=0,S=u.length,M=0;M<S;M++)p+=u.charCodeAt(M);return i<=0?p:p&Math.pow(2,i)-1},-1),K(f,"$swapcase",function(){var i=this,u=i.replace(/([a-z]+)|([A-Z]+)/g,function(p,S,M){return S?p.toUpperCase():p.toLowerCase()});return u}),K(f,"$to_f",function(){var i=this;if(i.charAt(0)==="_")return 0;var u=parseFloat(i.replace(/_/g,""));return isNaN(u)||u==1/0||u==-1/0?0:u}),K(f,"$to_i",function(i){var u=this;i==null&&(i=10);var p,S=u.toLowerCase(),M=E(i,o("Integer"),"to_int");return(M===1||M<0||M>36)&&z.$raise(o("ArgumentError"),"invalid radix "+M),/^\s*_/.test(S)?0:(S=S.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(T,H,O,ae){switch(ae.charAt(0)){case"+":case"-":return T;case"0":if(ae.charAt(1)==="x"&&O==="0x"&&(M===0||M===16))return T}switch(O){case"0b":if(M===0||M===2)return M=2,H+ae;break;case"0":case"0o":if(M===0||M===8)return M=8,H+ae;break;case"0d":if(M===0||M===10)return M=10,H+ae;break;case"0x":if(M===0||M===16)return M=16,H+ae;break}return T}),p=parseInt(S.replace(/_(?!_)/g,""),M),isNaN(p)?0:p)},-1),K(f,"$to_proc",function $(){$.$$p;var i=this,u=c,p=c,S=c;return $.$$p=null,u=i.valueOf(),p=e.jsid(u),S=ee(z,"proc",[],function M(T){var H=M.$$p||c,O,ae;M.$$p=null,O=G(arguments),ae=O,ae.length===0&&z.$raise(o("ArgumentError"),"no receiver given");var le=ae[0];le==null&&(le=c);var _e=le[p];return _e?ae=ae.slice(1):(_e=le.$method_missing,ae[0]=u),typeof H=="function"&&(_e.$$p=H),ae.length===0?_e.call(le):_e.apply(le,ae)},-1),S.$$source_location=c,S}),K(f,"$to_s",function(){var i=this;return i.toString()}),K(f,"$tr",function(i,u){var p=this;if(i=E(i,o("String"),"to_str").$to_s(),u=E(u,o("String"),"to_str").$to_s(),i.length==0||i===u)return p;var S,M,T,H,O,ae,le,_e={},de=i.split(""),ge=de.length,ve=u.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],ge-=1);var I=[],C=null;for(M=!1,S=0;S<ge;S++)if(H=de[S],C==null)C=H,I.push(H);else if(H==="-")C==="-"?(I.push("-"),I.push("-")):S==ge-1?I.push("-"):M=!0;else if(M){for(O=C.charCodeAt(0),ae=H.charCodeAt(0),O>ae&&z.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),T=O+1;T<ae;T++)I.push(String.fromCharCode(T));I.push(H),M=null,C=null}else I.push(H);if(de=I,ge=de.length,be)for(S=0;S<ge;S++)_e[de[S]]=!0;else{if(me>0){var U=[],J=null;for(M=!1,S=0;S<me;S++)if(H=ve[S],J==null)J=H,U.push(H);else if(H==="-")J==="-"?(U.push("-"),U.push("-")):S==me-1?U.push("-"):M=!0;else if(M){for(O=J.charCodeAt(0),ae=H.charCodeAt(0),O>ae&&z.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),T=O+1;T<ae;T++)U.push(String.fromCharCode(T));U.push(H),M=null,J=null}else U.push(H);ve=U,me=ve.length}var ne=ge-me;if(ne>0){var se=me>0?ve[me-1]:"";for(S=0;S<ne;S++)ve.push(se)}for(S=0;S<ge;S++)_e[de[S]]=ve[S]}var oe="";for(S=0,le=p.length;S<le;S++){H=p.charAt(S);var fe=_e[H];be?oe+=fe==null?ie:H:oe+=fe??H}return oe}),K(f,"$tr_s",function(i,u){var p=this;if(i=E(i,o("String"),"to_str").$to_s(),u=E(u,o("String"),"to_str").$to_s(),i.length==0)return p;var S,M,T,H,O,ae,le,_e={},de=i.split(""),ge=de.length,ve=u.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],ge-=1);var I=[],C=null;for(M=!1,S=0;S<ge;S++)if(H=de[S],C==null)C=H,I.push(H);else if(H==="-")C==="-"?(I.push("-"),I.push("-")):S==ge-1?I.push("-"):M=!0;else if(M){for(O=C.charCodeAt(0),ae=H.charCodeAt(0),O>ae&&z.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),T=O+1;T<ae;T++)I.push(String.fromCharCode(T));I.push(H),M=null,C=null}else I.push(H);if(de=I,ge=de.length,be)for(S=0;S<ge;S++)_e[de[S]]=!0;else{if(me>0){var U=[],J=null;for(M=!1,S=0;S<me;S++)if(H=ve[S],C==null)C=H,U.push(H);else if(H==="-")J==="-"?(U.push("-"),U.push("-")):S==me-1?U.push("-"):M=!0;else if(M){for(O=C.charCodeAt(0),ae=H.charCodeAt(0),O>ae&&z.$raise(o("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),T=O+1;T<ae;T++)U.push(String.fromCharCode(T));U.push(H),M=null,C=null}else U.push(H);ve=U,me=ve.length}var ne=ge-me;if(ne>0){var se=me>0?ve[me-1]:"";for(S=0;S<ne;S++)ve.push(se)}for(S=0;S<ge;S++)_e[de[S]]=ve[S]}var oe="",fe=null;for(S=0,le=p.length;S<le;S++){H=p.charAt(S);var l=_e[H];be?l==null?fe==null&&(oe+=ie,fe=!0):(oe+=H,fe=null):l!=null?(fe==null||fe!==l)&&(oe+=l,fe=l):(oe+=H,fe=null)}return oe}),K(f,"$upcase",function(){var i=this;return i.toUpperCase()}),K(f,"$upto",function $(i,u){var p=$.$$p||c,S=this;if($.$$p=null,u==null&&(u=!1),p===c)return S.$enum_for("upto",i,u);var M,T,H=S.toString();if(i=E(i,o("String"),"to_str"),H.length===1&&i.length===1)for(M=H.charCodeAt(0),T=i.charCodeAt(0);M<=T&&!(u&&M===T);)p(String.fromCharCode(M)),M+=1;else if(parseInt(H,10).toString()===H&&parseInt(i,10).toString()===i)for(M=parseInt(H,10),T=parseInt(i,10);M<=T&&!(u&&M===T);)p(M.toString()),M+=1;else for(;H.length<=i.length&&H<=i&&!(u&&H===i);)p(H),H=H.$succ();return S},-2);function r($){function i(_e){var de="",ge,ve=_e.length,me,be,ie,I,C;for(ge=0;ge<ve;ge++)if(me=_e.charAt(ge),me==="-"&&ge>0&&ge<ve-1&&!be){for(ie=_e.charCodeAt(ge-1),I=_e.charCodeAt(ge+1),ie>I&&z.$raise(o("ArgumentError"),'invalid range "'+ie+"-"+I+'" in string transliteration'),C=ie+1;C<I+1;C++)de+=String.fromCharCode(C);be=!0,ge++}else be=me==="\\",de+=me;return de}function u(_e,de){if(_e.length===0)return de;var ge="",ve,me=_e.length,be;for(ve=0;ve<me;ve++)be=_e.charAt(ve),de.indexOf(be)!==-1&&(ge+=be);return ge}var p,S,M,T,H,O,ae="",le="";for(p=0,S=$.length;p<S;p++)M=E($[p],o("String"),"to_str"),T=M.charAt(0)==="^"&&M.length>1,M=i(T?M.slice(1):M),T?le=u(le,M):ae=u(ae,M);if(ae.length>0&&le.length>0){for(O="",p=0,S=ae.length;p<S;p++)H=ae.charAt(p),le.indexOf(H)===-1&&(O+=H);ae=O,le=""}return ae.length>0?"["+o("Regexp").$escape(ae)+"]":le.length>0?"[^"+o("Regexp").$escape(le)+"]":null}return K(f,"$instance_variables",function(){return[]}),W(f,"$_load",function(i){var u,p,S=this;return u=G(arguments),p=u,ee(S,"new",V(p))},-1),K(f,"$unicode_normalize",function(i){var u=this;return i==null&&(i="nfc"),D(["nfc","nfd","nfkc","nfkd"]["$include?"](i))||z.$raise(o("ArgumentError"),"Invalid normalization form "+i),u.normalize(i.$upcase())},-1),K(f,"$unicode_normalized?",function(i){var u=this;return i==null&&(i="nfc"),u.$unicode_normalize(i)["$=="](u)},-1),K(f,"$unpack",function(i){return z.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),K(f,"$unpack1",function(i){return z.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),K(f,"$freeze",function(){var i=this;return typeof i=="string"||A(i,"$$frozen",!0),i}),K(f,"$-@",function(){var i=this;return typeof i=="string"||i.$$frozen?i:i.encoding.name=="UTF-8"&&i.internal_encoding.name=="UTF-8"?i.toString():i.$dup().$freeze()}),K(f,"$frozen?",function(){var i=this;return typeof i=="string"||i.$$frozen===!0}),w(f,"+@","dup"),w(f,"===","=="),w(f,"byteslice","[]"),w(f,"eql?","=="),w(f,"equal?","==="),w(f,"object_id","__id__"),w(f,"slice","[]"),w(f,"succ","next"),w(f,"to_str","to_s"),w(f,"to_sym","intern"),$e.$pristine(f,"initialize")}("::",String,k),s(k[0],"Symbol",h("String"))};Opal.modules["corelib/enumerable"]=function(e){var E=e.truthy,B=e.coerce_to,P=e.yield1,A=e.yieldX,te=e.deny_frozen_access,Q=e.module,N=e.send,Z=e.slice,g=e.to_a,K=e.Opal,$e=e.thrower,W=e.def,G=e.Kernel,ee=e.return_val,V=e.rb_gt,b=e.rb_times,y=e.rb_lt,F=e.eqeq,Y=e.rb_plus,z=e.rb_minus,D=e.rb_divide,m=e.rb_le,q=e.lambda,R=e.not,x=e.alias,w=[],s=e.nil,d=e.$$$;return e.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(k,h){var c=Q(k,"Enumerable"),o=[c].concat(h),X=e.$r(o);function L(_){return _.length===0&&(_=[s]),_.length>1&&(_=[_]),_}return W(c,"$all?",function _(f){try{var a=$e("return"),n=_.$$p||s,t=this;return _.$$p=null,E(f!==void 0)?N(t,"each",[],function r($){var i,u,p=s;if(i=Z(arguments),u=i,p=L(u),E(N(f,"public_send",["==="].concat(g(p)))))return s;a.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:a}):n!==s?N(t,"each",[],function r($){var i,u;if(i=Z(arguments),u=i,E(e.yieldX(n,g(u))))return s;a.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:a}):N(t,"each",[],function r($){var i,u;if(i=Z(arguments),u=i,E(K.$destructure(u)))return s;a.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:a}),!0}catch(r){if(r===a)return r.$v;throw r}finally{a.is_orphan=!0}},-1),W(c,"$any?",function _(f){try{var a=$e("return"),n=_.$$p||s,t=this;return _.$$p=null,E(f!==void 0)?N(t,"each",[],function r($){var i,u,p=s;if(i=Z(arguments),u=i,p=L(u),E(N(f,"public_send",["==="].concat(g(p)))))a.$throw(!0,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):n!==s?N(t,"each",[],function r($){var i,u;if(i=Z(arguments),u=i,E(e.yieldX(n,g(u))))a.$throw(!0,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):N(t,"each",[],function r($){var i,u;if(i=Z(arguments),u=i,E(K.$destructure(u)))a.$throw(!0,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),!1}catch(r){if(r===a)return r.$v;throw r}finally{a.is_orphan=!0}},-1),W(c,"$chunk",function _(){var f=_.$$p||s,a=this;return _.$$p=null,f===s?N(a,"to_enum",["chunk"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:a}):N(d("Enumerator"),"new",[],function n(t){var r=n.$$s==null?this:n.$$s;t==null&&(t=s);var $=s,i=[];function u(){i.length>0&&t.$yield($,i)}r.$each.$$p=function(p){var S=P(f,p);S===s?(u(),i=[],$=s):($===s||$===S?i.push(p):(u(),i=[p]),$=S)},r.$each(),u()},{$$s:a})}),W(c,"$chunk_while",function _(){var f=_.$$p||s,a=this;return _.$$p=null,f===s&&G.$raise(d("ArgumentError"),"no block given"),N(a,"slice_when",[],function(t,r){return t==null&&(t=s),r==null&&(r=s),e.yieldX(f,[t,r])["$!"]()})}),W(c,"$collect",function _(){var f=_.$$p||s,a=this;if(_.$$p=null,f===s)return N(a,"enum_for",["collect"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:a});var n=[];return a.$each.$$p=function(){var t=A(f,arguments);n.push(t)},a.$each(),n}),W(c,"$collect_concat",function _(){var f=_.$$p||s,a=this;return _.$$p=null,f===s?N(a,"enum_for",["collect_concat"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:a}):N(a,"map",[],f.$to_proc()).$flatten(1)}),W(c,"$compact",function(){var f=this;return f.$to_a().$compact()}),W(c,"$count",function _(f){var a=_.$$p||s,n=this,t=s;return _.$$p=null,t=0,f!=null&&a!==s&&n.$warn("warning: given block not used"),E(f!=null)?a=N(G,"proc",[],function($){var i,u;return i=Z(arguments),u=i,K.$destructure(u)["$=="](f)},-1):E(a["$nil?"]())&&(a=N(G,"proc",[],ee(!0))),N(n,"each",[],function($){var i,u;return i=Z(arguments),u=i,E(A(a,u))?t++:s},-1),t},-1),W(c,"$cycle",function _(f){var a=_.$$p||s,n=this;if(_.$$p=null,f==null&&(f=s),a===s)return N(n,"enum_for",["cycle",f],function i(){var u=i.$$s==null?this:i.$$s;return E(f["$nil?"]())?E(u["$respond_to?"]("size"))?d(d("Float"),"INFINITY"):s:(f=K["$coerce_to!"](f,d("Integer"),"to_int"),E(V(f,0))?b(u.$enumerator_size(),f):0)},{$$s:n});if(!E(f["$nil?"]())&&(f=K["$coerce_to!"](f,d("Integer"),"to_int"),E(f<=0)))return s;var t=[],r,$;if(n.$each.$$p=function(){var i=K.$destructure(arguments);P(a,i),t.push(i)},n.$each(),t.length===0)return s;if(f===s)for(;;)for(r=0,$=t.length;r<$;r++)P(a,t[r]);else for(;f>1;){for(r=0,$=t.length;r<$;r++)P(a,t[r]);f--}},-1),W(c,"$detect",function _(f){try{var a=$e("return"),n=_.$$p||s,t=this;return _.$$p=null,n===s?t.$enum_for("detect",f):(N(t,"each",[],function r($){var i,u,p=s;if(i=Z(arguments),u=i,p=K.$destructure(u),E(e.yield1(n,p)))a.$throw(p,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),f!==void 0?typeof f=="function"?f():f:s)}catch(r){if(r===a)return r.$v;throw r}finally{a.is_orphan=!0}},-1),W(c,"$drop",function(f){var a=this;f=B(f,d("Integer"),"to_int"),E(f<0)&&G.$raise(d("ArgumentError"),"attempt to drop negative size");var n=[],t=0;return a.$each.$$p=function(){f<=t&&n.push(K.$destructure(arguments)),t++},a.$each(),n}),W(c,"$drop_while",function _(){var f=_.$$p||s,a=this;if(_.$$p=null,f===s)return a.$enum_for("drop_while");var n=[],t=!0;return a.$each.$$p=function(){var r=K.$destructure(arguments);if(t){var $=P(f,r);E($)||(t=!1,n.push(r))}else n.push(r)},a.$each(),n}),W(c,"$each_cons",function _(f){var a=_.$$p||s,n=this;if(_.$$p=null,E(arguments.length!=1)&&G.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),f=K.$try_convert(f,d("Integer"),"to_int"),E(f<=0)&&G.$raise(d("ArgumentError"),"invalid size"),a===s)return N(n,"enum_for",["each_cons",f],function r(){var $=r.$$s==null?this:r.$$s,i=s;return i=$.$enumerator_size(),E(i["$nil?"]())?s:F(i,0)||E(y(i,f))?0:Y(z(i,f),1)},{$$s:n});var t=[];return n.$each.$$p=function(){var r=K.$destructure(arguments);t.push(r),t.length>f&&t.shift(),t.length==f&&P(a,t.slice(0,f))},n.$each(),n}),W(c,"$each_entry",function _(f){var a=_.$$p||s,n,t,r=this;return _.$$p=null,n=Z(arguments),t=n,a===s?N(r,"to_enum",["each_entry"].concat(g(t)),function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:r}):(r.$each.$$p=function(){var $=K.$destructure(arguments);P(a,$)},r.$each.apply(r,t),r)},-1),W(c,"$each_slice",function _(f){var a=_.$$p||s,n=this;if(_.$$p=null,f=B(f,d("Integer"),"to_int"),E(f<=0)&&G.$raise(d("ArgumentError"),"invalid slice size"),a===s)return N(n,"enum_for",["each_slice",f],function r(){var $=r.$$s==null?this:r.$$s;return E($["$respond_to?"]("size"))?D($.$size(),f).$ceil():s},{$$s:n});var t=[];return n.$each.$$p=function(){var r=K.$destructure(arguments);t.push(r),t.length===f&&(P(a,t),t=[])},n.$each(),t.length>0&&P(a,t),n}),W(c,"$each_with_index",function _(f){var a=_.$$p||s,n,t,r=this;if(_.$$p=null,n=Z(arguments),t=n,a===s)return N(r,"enum_for",["each_with_index"].concat(g(t)),function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:r});var $=0;return r.$each.$$p=function(){var i=K.$destructure(arguments);a(i,$),$++},r.$each.apply(r,t),r},-1),W(c,"$each_with_object",function _(f){var a=_.$$p||s,n=this;return _.$$p=null,a===s?N(n,"enum_for",["each_with_object",f],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:n}):(n.$each.$$p=function(){var t=K.$destructure(arguments);a(t,f)},n.$each(),f)}),W(c,"$entries",function(f){var a,n,t=this;a=Z(arguments),n=a;var r=[];return t.$each.$$p=function(){r.push(K.$destructure(arguments))},t.$each.apply(t,n),r},-1),W(c,"$filter_map",function _(){var f=_.$$p||s,a=this;return _.$$p=null,f===s?N(a,"enum_for",["filter_map"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:a}):N(N(a,"map",[],f.$to_proc()),"select",[],"itself".$to_proc())}),W(c,"$find_all",function _(){var f=_.$$p||s,a=this;if(_.$$p=null,f===s)return N(a,"enum_for",["find_all"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:a});var n=[];return a.$each.$$p=function(){var t=K.$destructure(arguments),r=P(f,t);E(r)&&n.push(t)},a.$each(),n}),W(c,"$find_index",function _(f){try{var a=$e("return"),n=_.$$p||s,t=this,r=s;return _.$$p=null,E(f===void 0&&n===s)?t.$enum_for("find_index"):(f!=null&&n!==s&&t.$warn("warning: given block not used"),r=0,E(f!=null)?N(t,"each",[],function $(i){var u,p;return u=Z(arguments),p=u,F(K.$destructure(p),f)&&a.$throw(r,$.$$is_lambda),r+=1},{$$arity:-1,$$ret:a}):N(t,"each",[],function $(i){var u,p;return u=Z(arguments),p=u,E(e.yieldX(n,g(p)))&&a.$throw(r,$.$$is_lambda),r+=1},{$$arity:-1,$$ret:a}),s)}catch($){if($===a)return $.$v;throw $}finally{a.is_orphan=!0}},-1),W(c,"$first",function(f){try{var a=$e("return"),n=this,t=s,r=s;return E(f===void 0)?N(n,"each",[],function $(i){i==null&&(i=s),a.$throw(i,$.$$is_lambda)},{$$ret:a}):(t=[],f=B(f,d("Integer"),"to_int"),E(f<0)&&G.$raise(d("ArgumentError"),"attempt to take negative size"),E(f==0)?[]:(r=0,N(n,"each",[],function $(i){var u,p;if(u=Z(arguments),p=u,t.push(K.$destructure(p)),E(f<=++r))a.$throw(t,$.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),t))}catch($){if($===a)return $.$v;throw $}finally{a.is_orphan=!0}},-1),W(c,"$grep",function _(f){var a=_.$$p||s,n=this,t=s;return _.$$p=null,t=[],N(n,"each",[],function($){var i,u,p=s;return i=Z(arguments),u=i,p=L(u),E(N(f,"__send__",["==="].concat(g(p))))?(a!==s?(E(V(u.$length(),1))&&(u=[u]),u=e.yieldX(a,g(u))):E(m(u.$length(),1))&&(u=u["$[]"](0)),t.$push(u)):s},-1),t}),W(c,"$grep_v",function _(f){var a=_.$$p||s,n=this,t=s;return _.$$p=null,t=[],N(n,"each",[],function($){var i,u,p=s;return i=Z(arguments),u=i,p=L(u),E(N(f,"__send__",["==="].concat(g(p))))?s:(a!==s?(E(V(u.$length(),1))&&(u=[u]),u=e.yieldX(a,g(u))):E(m(u.$length(),1))&&(u=u["$[]"](0)),t.$push(u))},-1),t}),W(c,"$group_by",function _(){var f=_.$$p||s,a,n=this,t=s,r=s;return _.$$p=null,f===s?N(n,"enum_for",["group_by"],function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:n}):(t=new Map,n.$each.$$p=function(){var $=K.$destructure(arguments),i=P(f,$);(E(r=t["$[]"](i))?r:(a=[i,[]],N(t,"[]=",a),a[a.length-1]))["$<<"]($)},n.$each(),t)}),W(c,"$include?",function(f){try{var a=$e("return"),n=this;return N(n,"each",[],function t(r){var $,i;if($=Z(arguments),i=$,F(K.$destructure(i),f))a.$throw(!0,t.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),!1}catch(t){if(t===a)return t.$v;throw t}finally{a.is_orphan=!0}}),W(c,"$inject",function _(f,a){var n=_.$$p||s,t=this;_.$$p=null;var r=f;return n!==s&&a===void 0?t.$each.$$p=function(){var $=K.$destructure(arguments);if(r===void 0){r=$;return}$=A(n,[r,$]),r=$}:(a===void 0&&(d("Symbol")["$==="](f)||G.$raise(d("TypeError"),""+f.$inspect()+" is not a Symbol"),a=f,r=void 0),t.$each.$$p=function(){var $=K.$destructure(arguments);if(r===void 0){r=$;return}r=r.$__send__(a,$)}),t.$each(),r??s},-1),W(c,"$lazy",function(){var f=this;return N(d(d("Enumerator"),"Lazy"),"new",[f,f.$enumerator_size()],function(n,t){var r,$;return n==null&&(n=s),r=Z(arguments,1),$=r,N(n,"yield",g($))},-2)}),W(c,"$enumerator_size",function(){var f=this;return E(f["$respond_to?"]("size"))?f.$size():s}),W(c,"$max",function _(f){var a=_.$$p||s,n=this;if(_.$$p=null,f===void 0||f===s){var t,r;return n.$each.$$p=function(){var $=K.$destructure(arguments);if(t===void 0){t=$;return}a!==s?r=A(a,[$,t]):r=$["$<=>"](t),r===s&&G.$raise(d("ArgumentError"),"comparison failed"),r>0&&(t=$)},n.$each(),t===void 0?s:t}return f=B(f,d("Integer"),"to_int"),N(n,"sort",[],a.$to_proc()).$reverse().$first(f)},-1),W(c,"$max_by",function _(f){var a=_.$$p||s,n=this;if(_.$$p=null,f==null&&(f=s),!E(a))return N(n,"enum_for",["max_by",f],function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:n});if(!E(f["$nil?"]()))return N(n,"sort_by",[],a.$to_proc()).$reverse().$take(f);var t,r;return n.$each.$$p=function(){var $=K.$destructure(arguments),i=P(a,$);if(t===void 0){t=$,r=i;return}i["$<=>"](r)>0&&(t=$,r=i)},n.$each(),t===void 0?s:t},-1),W(c,"$min",function _(f){var a=_.$$p||s,n=this;if(_.$$p=null,f==null&&(f=s),!E(f["$nil?"]()))return a!==s?N(n,"sort",[],function($,i){return $==null&&($=s),i==null&&(i=s),e.yieldX(a,[$,i])}).$take(f):n.$sort().$take(f);var t;return a!==s?n.$each.$$p=function(){var r=K.$destructure(arguments);if(t===void 0){t=r;return}var $=a(r,t);$===s&&G.$raise(d("ArgumentError"),"comparison failed"),$<0&&(t=r)}:n.$each.$$p=function(){var r=K.$destructure(arguments);if(t===void 0){t=r;return}K.$compare(r,t)<0&&(t=r)},n.$each(),t===void 0?s:t},-1),W(c,"$min_by",function _(f){var a=_.$$p||s,n=this;if(_.$$p=null,f==null&&(f=s),!E(a))return N(n,"enum_for",["min_by",f],function $(){var i=$.$$s==null?this:$.$$s;return i.$enumerator_size()},{$$s:n});if(!E(f["$nil?"]()))return N(n,"sort_by",[],a.$to_proc()).$take(f);var t,r;return n.$each.$$p=function(){var $=K.$destructure(arguments),i=P(a,$);if(t===void 0){t=$,r=i;return}i["$<=>"](r)<0&&(t=$,r=i)},n.$each(),t===void 0?s:t},-1),W(c,"$minmax",function _(){var f=_.$$p||s,a=this,n=s;_.$$p=null,f=E(n=f)?n:N(G,"proc",[],function(u,p){return u==null&&(u=s),p==null&&(p=s),u["$<=>"](p)});var t=s,r=s,$=!0;return a.$each.$$p=function(){var i=K.$destructure(arguments);if($)t=r=i,$=!1;else{var u=f.$call(t,i);u===s?G.$raise(d("ArgumentError"),"comparison failed"):u>0&&(t=i);var p=f.$call(r,i);p===s?G.$raise(d("ArgumentError"),"comparison failed"):p<0&&(r=i)}},a.$each(),[t,r]}),W(c,"$minmax_by",function _(){var f=_.$$p||s,a=this;if(_.$$p=null,!E(f))return N(a,"enum_for",["minmax_by"],function i(){var u=i.$$s==null?this:i.$$s;return u.$enumerator_size()},{$$s:a});var n=s,t=s,r,$;return a.$each.$$p=function(){var i=K.$destructure(arguments),u=P(f,i);(r===void 0||u["$<=>"](r)<0)&&(n=i,r=u),($===void 0||u["$<=>"]($)>0)&&(t=i,$=u)},a.$each(),[n,t]}),W(c,"$none?",function _(f){try{var a=$e("return"),n=_.$$p||s,t=this;return _.$$p=null,E(f!==void 0)?N(t,"each",[],function r($){var i,u,p=s;if(i=Z(arguments),u=i,p=L(u),E(N(f,"public_send",["==="].concat(g(p)))))a.$throw(!1,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):n!==s?N(t,"each",[],function r($){var i,u;if(i=Z(arguments),u=i,E(e.yieldX(n,g(u))))a.$throw(!1,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):N(t,"each",[],function r($){var i,u,p=s;if(i=Z(arguments),u=i,p=K.$destructure(u),E(p))a.$throw(!1,r.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),!0}catch(r){if(r===a)return r.$v;throw r}finally{a.is_orphan=!0}},-1),W(c,"$one?",function _(f){try{var a=$e("return"),n=_.$$p||s,t=this,r=s;return _.$$p=null,r=0,E(f!==void 0)?N(t,"each",[],function $(i){var u,p,S=s;if(u=Z(arguments),p=u,S=L(p),E(N(f,"public_send",["==="].concat(g(S)))))if(r=Y(r,1),E(V(r,1)))a.$throw(!1,$.$$is_lambda);else return s;else return s},{$$arity:-1,$$ret:a}):n!==s?N(t,"each",[],function $(i){var u,p;if(u=Z(arguments),p=u,!E(e.yieldX(n,g(p))))return s;if(r=Y(r,1),E(V(r,1)))a.$throw(!1,$.$$is_lambda);else return s},{$$arity:-1,$$ret:a}):N(t,"each",[],function $(i){var u,p;if(u=Z(arguments),p=u,!E(K.$destructure(p)))return s;if(r=Y(r,1),E(V(r,1)))a.$throw(!1,$.$$is_lambda);else return s},{$$arity:-1,$$ret:a}),r["$=="](1)}catch($){if($===a)return $.$v;throw $}finally{a.is_orphan=!0}},-1),W(c,"$partition",function _(){var f=_.$$p||s,a=this;if(_.$$p=null,f===s)return N(a,"enum_for",["partition"],function r(){var $=r.$$s==null?this:r.$$s;return $.$enumerator_size()},{$$s:a});var n=[],t=[];return a.$each.$$p=function(){var r=K.$destructure(arguments),$=P(f,r);E($)?n.push(r):t.push(r)},a.$each(),[n,t]}),W(c,"$reject",function _(){var f=_.$$p||s,a=this;if(_.$$p=null,f===s)return N(a,"enum_for",["reject"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:a});var n=[];return a.$each.$$p=function(){var t=K.$destructure(arguments),r=P(f,t);E(r)||n.push(t)},a.$each(),n}),W(c,"$reverse_each",function _(){var f=_.$$p||s,a=this;if(_.$$p=null,f===s)return N(a,"enum_for",["reverse_each"],function r(){var $=r.$$s==null?this:r.$$s;return $.$enumerator_size()},{$$s:a});var n=[];a.$each.$$p=function(){n.push(arguments)},a.$each();for(var t=n.length-1;t>=0;t--)A(f,n[t]);return n}),W(c,"$slice_before",function _(f){var a=_.$$p||s,n=this;return _.$$p=null,E(f===void 0&&a===s)&&G.$raise(d("ArgumentError"),"both pattern and block are given"),E(f!==void 0&&a!==s||arguments.length>1)&&G.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),N(d("Enumerator"),"new",[],function t(r){var $=t.$$s==null?this:t.$$s;r==null&&(r=s);var i=[];a!==s?f===void 0?$.$each.$$p=function(){var u=K.$destructure(arguments),p=P(a,u);E(p)&&i.length>0&&(r["$<<"](i),i=[]),i.push(u)}:$.$each.$$p=function(){var u=K.$destructure(arguments),p=a(u,f.$dup());E(p)&&i.length>0&&(r["$<<"](i),i=[]),i.push(u)}:$.$each.$$p=function(){var u=K.$destructure(arguments),p=f["$==="](u);E(p)&&i.length>0&&(r["$<<"](i),i=[]),i.push(u)},$.$each(),i.length>0&&r["$<<"](i)},{$$s:n})},-1),W(c,"$slice_after",function _(f){var a=_.$$p||s,n=this;return _.$$p=null,E(f===void 0&&a===s)&&G.$raise(d("ArgumentError"),"both pattern and block are given"),E(f!==void 0&&a!==s||arguments.length>1)&&G.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),E(f!==void 0)&&(a=N(G,"proc",[],function(r){return r==null&&(r=s),f["$==="](r)})),N(d("Enumerator"),"new",[],function t(r){var $=t.$$s==null?this:t.$$s;r==null&&(r=s);var i;$.$each.$$p=function(){var u=K.$destructure(arguments),p=P(a,u);i==null&&(i=[]),E(p)?(i.push(u),r.$yield(i),i=null):i.push(u)},$.$each(),i!=null&&r.$yield(i)},{$$s:n})},-1),W(c,"$slice_when",function _(){var f=_.$$p||s,a=this;return _.$$p=null,f===s&&G.$raise(d("ArgumentError"),"wrong number of arguments (0 for 1)"),N(d("Enumerator"),"new",[],function n(t){var r=n.$$s==null?this:n.$$s;t==null&&(t=s);var $=s,i=s;r.$each_cons.$$p=function(){var u=K.$destructure(arguments),p=u[0],S=u[1],M=A(f,[p,S]);i=S,$===s&&($=[]),E(M)?($.push(p),t.$yield($),$=[]):$.push(p)},r.$each_cons(2),$!==s&&($.push(i),t.$yield($))},{$$s:a})}),W(c,"$sort",function _(){var f=_.$$p||s,a=this,n=s;return _.$$p=null,n=a.$to_a(),f===s&&(f=q(function(r,$){return r==null&&(r=s),$==null&&($=s),r["$<=>"]($)})),N(n,"sort",[],f.$to_proc())}),W(c,"$sort_by",function _(){var f=_.$$p||s,a=this,n=s;return _.$$p=null,f===s?N(a,"enum_for",["sort_by"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:a}):(n=N(a,"map",[],function(){var r=s;return r=K.$destructure(arguments),[e.yield1(f,r),r]}),N(n,"sort!",[],function(r,$){return r==null&&(r=s),$==null&&($=s),r[0]["$<=>"]($[0])}),N(n,"map!",[],function(r){return r==null&&(r=s),r[1]}))}),W(c,"$sum",function _(f){var a=_.$$p||s,n=this,t=s,r=s;return _.$$p=null,f==null&&(f=0),t=f,r=0,N(n,"each",[],function(i){var u,p,S=s,M=s,T=s;return u=Z(arguments),p=u,S=a!==s?e.yieldX(a,g(p)):K.$destructure(p),R([d(d("Float"),"INFINITY"),d(d("Float"),"INFINITY")["$-@"]()]["$include?"](S))&&E(S["$respond_to?"]("-"))?(M=z(S,r),T=Y(t,M),r=z(z(T,t),M),t=T):t=Y(t,S)},-1),t},-1),W(c,"$take",function(f){var a=this;return a.$first(f)}),W(c,"$take_while",function _(){try{var f=$e("return"),a=_.$$p||s,n=this,t=s;return _.$$p=null,E(a)?(t=[],N(n,"each",[],function r($){var i,u,p=s;return i=Z(arguments),u=i,p=K.$destructure(u),E(e.yield1(a,p))||f.$throw(t,r.$$is_lambda),t.push(p)},{$$arity:-1,$$ret:f})):n.$enum_for("take_while")}catch(r){if(r===f)return r.$v;throw r}finally{f.is_orphan=!0}}),W(c,"$uniq",function _(){var f=_.$$p||s,a=this,n=s;return _.$$p=null,n=new Map,N(a,"each",[],function(r){var $,i,u,p=s,S=s;return $=Z(arguments),i=$,p=K.$destructure(i),S=f!==s?e.yield1(f,p):p,E(n["$key?"](S))?s:(u=[S,p],N(n,"[]=",u),u[u.length-1])},-1),n.$values()}),W(c,"$tally",function(f){var a=this,n=s;return f&&f!==s&&te(f),n=N(N(a,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),E(f)?(N(n,"each",[],function(r,$){var i;return r==null&&(r=s),$==null&&($=s),i=[r,Y(f.$fetch(r,0),$)],N(f,"[]=",i),i[i.length-1]}),f):n},-1),W(c,"$to_h",function _(f){var a=_.$$p||s,n,t,r=this;if(_.$$p=null,n=Z(arguments),t=n,a!==s)return N(N(r,"map",[],a.$to_proc()),"to_h",g(t));var $=new Map;return r.$each.$$p=function(){var i=K.$destructure(arguments),u=K["$coerce_to?"](i,d("Array"),"to_ary"),p,S;u.$$is_array||G.$raise(d("TypeError"),"wrong element type "+i.$class()+" (expected array)"),u.length!==2&&G.$raise(d("ArgumentError"),"element has wrong array length (expected 2, was "+u.$length()+")"),p=u[0],S=u[1],e.hash_put($,p,S)},r.$each.apply(r,t),$},-1),W(c,"$to_set",function _(f,a){var n=_.$$p||s,t,r,$,i=this;return _.$$p=null,t=Z(arguments),t.length>0&&(r=t.shift()),r==null&&(r=X("Set")),$=t,N(r,"new",[i].concat(g($)),n.$to_proc())},-1),W(c,"$zip",function _(f){_.$$p;var a,n,t=this;return _.$$p=null,a=Z(arguments),n=a,N(t.$to_a(),"zip",g(n))},-1),x(c,"find","detect"),x(c,"filter","find_all"),x(c,"flat_map","collect_concat"),x(c,"map","collect"),x(c,"member?","include?"),x(c,"reduce","inject"),x(c,"select","find_all"),x(c,"to_a","entries")}("::",w)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(e){var E=e.klass,B=e.truthy,P=e.to_a,A=e.eqeq,te=e.Kernel,Q=e.def,N=e.rb_gt,Z=e.rb_lt,g=e.rb_le,K=e.rb_ge,$e=e.rb_plus,W=e.rb_minus,G=e.eqeqeq,ee=e.not,V=e.rb_times,b=e.rb_divide,y=e.alias,F=[],Y=e.nil,z=e.$$$;return e.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(D,m,q){var R=E(D,m,"Enumerator"),x=[R].concat(q);return function(w,s,d){var k=E(w,s,"ArithmeticSequence"),h=[k].concat(d),c=e.$r(h),o=k.$$prototype;o.step_arg2=o.receiver_num=o.step_arg1=o.step=o.range=o.topfx=o.bypfx=o.creation_method=o.skipped_arg=Y,e.prop(k.$$prototype,"$$is_arithmetic_seq",!0);var X=1/0;return Q(k,"$initialize",function(_,f,a){var n,t=this,r=Y;return a==null&&(a="step"),t.creation_method=a,B(_["$is_a?"](z("Array")))?(n=[].concat(P(_)),t.step_arg1=n[0]==null?Y:n[0],t.step_arg2=n[1]==null?Y:n[1],t.topfx=n[2]==null?Y:n[2],t.bypfx=n[3]==null?Y:n[3],t.receiver_num=f,t.step=1,t.range=B(t.step_arg2)?(t.step=t.step_arg2,e.Range.$new(t.receiver_num,t.step_arg1,!1)):B(t.step_arg1)?e.Range.$new(t.receiver_num,t.step_arg1,!1):e.Range.$new(t.receiver_num,Y,!1)):(B(f)||(t.skipped_arg=!0),n=[_,B(r=f)?r:1],t.range=n[0],t.step=n[1]),t.object=t,A(t.step,0)&&te.$raise(c("ArgumentError"),"step can't be 0"),B(t.step["$respond_to?"]("to_int"))?Y:te.$raise(c("ArgumentError"),"no implicit conversion of "+t.step.$class()+" into Integer")},-2),k.$attr_reader("step"),Q(k,"$begin",function(){var _=this;return _.range.$begin()}),Q(k,"$end",function(){var _=this;return _.range.$end()}),Q(k,"$exclude_end?",function(){var _=this;return _.range["$exclude_end?"]()}),Q(k,"$_lesser_than_end?",function(_){var f=this,a=Y,n=Y;return a=B(n=f.$end())?n:X,B(N(f.$step(),0))?B(f["$exclude_end?"]())?Z(_,a):g(_,a):B(f["$exclude_end?"]())?N(_,a):K(_,a)}),Q(k,"$_greater_than_begin?",function(_){var f=this,a=Y,n=Y;return a=B(n=f.$begin())?n:X["$-@"](),B(N(f.$step(),0))?N(_,a):Z(_,a)}),Q(k,"$first",function(_){var f=this,a=Y,n=Y,t=Y;if(a=B(n=f.$begin())?n:X["$-@"](),!B(_))return B(f["$_lesser_than_end?"](a))?a:Y;for(t=[];B(B(n=f["$_lesser_than_end?"](a))?N(_,0):n);)t["$<<"](a),a=$e(a,f.$step()),_=W(_,1);return t},-1),Q(k,"$each",function L(){var _=L.$$p||Y,f=this,a=Y,n=Y;if(L.$$p=null,_===Y)return f;for(G(Y,a=f.$begin())&&te.$raise(c("TypeError"),"nil can't be coerced into Integer"),n=B(a=f.$begin())?a:X["$-@"]();B(f["$_lesser_than_end?"](n));)e.yield1(_,n),n=$e(n,f.$step());return f}),Q(k,"$last",function(_){var f=this,a=Y,n=Y,t=Y;if(G(X,a=f.$end())||G(X["$-@"](),a)?te.$raise(z("FloatDomainError"),f.$end()):G(Y,a)&&te.$raise(z("RangeError"),"cannot get the last element of endless arithmetic sequence"),n=W(f.$end(),W(f.$end(),f.$begin())["$%"](f.$step())),B(f["$_lesser_than_end?"](n))||(n=W(n,f.$step())),!B(_))return B(f["$_greater_than_begin?"](n))?n:Y;for(t=[];B(B(a=f["$_greater_than_begin?"](n))?N(_,0):a);)t["$<<"](n),n=W(n,f.$step()),_=W(_,1);return t.$reverse()},-1),Q(k,"$size",function(){var _=this,f=Y,a=Y;return f=B(N(_.$step(),0))?1:-1,ee(_["$_lesser_than_end?"](_.$begin()))?0:B([X["$-@"](),X]["$include?"](_.$step()))?1:B([V(X["$-@"](),f),Y]["$include?"](_.$begin()))||B([V(X,f),Y]["$include?"](_.$end()))?X:(a=W(_.$end(),W(_.$end(),_.$begin())["$%"](_.$step())),B(_["$_lesser_than_end?"](a))||(a=W(a,_.$step())),$e(b(W(a,_.$begin()),_.$step()).$abs().$to_i(),1))}),Q(k,"$==",function(_){var f=this,a=Y,n=Y,t=Y,r=Y;return B(a=B(n=B(t=B(r=f.$class()["$=="](_.$class()))?f.$begin()["$=="](_.$begin()):r)?f.$end()["$=="](_.$end()):t)?f.$step()["$=="](_.$step()):n)?f["$exclude_end?"]()["$=="](_["$exclude_end?"]()):a}),Q(k,"$hash",function(){var _=this;return[c("ArithmeticSequence"),_.$begin(),_.$end(),_.$step(),_["$exclude_end?"]()].$hash()}),Q(k,"$inspect",function(){var _=this,f=Y;return B(_.receiver_num)?(f=B(_.step_arg2)?"("+_.topfx+_.step_arg1.$inspect()+", "+_.bypfx+_.step_arg2.$inspect()+")":B(_.step_arg1)?"("+_.topfx+_.step_arg1.$inspect()+")":Y,"("+_.receiver_num.$inspect()+"."+_.creation_method+f+")"):(f=B(_.skipped_arg)?Y:"("+_.step+")","(("+_.range.$inspect()+")."+_.creation_method+f+")")}),y(k,"===","=="),y(k,"eql?","==")}(R,R,x)}("::",null,F)};Opal.modules["corelib/enumerator/chain"]=function(e){var E=e.deny_frozen_access,B=e.klass,P=e.slice,A=e.def,te=e.send,Q=e.to_a,N=e.truthy,Z=e.rb_plus,g=e.thrower,K=e.nil,$e=e.$$$;return e.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(W,G){var ee=B(W,G,"Enumerator");return function(V,b){var y=B(V,b,"Chain"),F=y.$$prototype;return F.enums=F.iterated=K,A(y,"$initialize",function(z){var D,m,q=this;return D=P(arguments),m=D,E(q),q.enums=m,q.iterated=[],q.object=q},-1),A(y,"$each",function Y(z){var D=Y.$$p||K,m,q,R=this;return Y.$$p=null,m=P(arguments),q=m,D===K?te(R,"to_enum",["each"].concat(Q(q)),function x(){var w=x.$$s==null?this:x.$$s;return w.$size()},{$$s:R}):(te(R.enums,"each",[],function x(w){var s=x.$$s==null?this:x.$$s;return s.iterated==null&&(s.iterated=K),w==null&&(w=K),s.iterated["$<<"](w),te(w,"each",Q(q),D.$to_proc())},{$$s:R}),R)},-1),A(y,"$size",function(z){try{var D=g("return"),m,q,R=this,x=K;return m=P(arguments),q=m,x=0,te(R.enums,"each",[],function w(s){var d=K;return s==null&&(s=K),d=te(s,"size",Q(q)),N([K,$e($e("Float"),"INFINITY")]["$include?"](d))&&D.$throw(d,w.$$is_lambda),x=Z(x,d)},{$$ret:D}),x}catch(w){if(w===D)return w.$v;throw w}finally{D.is_orphan=!0}},-1),A(y,"$rewind",function(){var z=this;return te(z.iterated,"reverse_each",[],function(m){return m==null&&(m=K),N(m["$respond_to?"]("rewind"))?m.$rewind():K}),z.iterated=[],z}),A(y,"$inspect",function(){var z=this;return"#<Enumerator::Chain: "+z.enums.$inspect()+">"})}(ee,ee)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(e){var E=e.deny_frozen_access,B=e.klass,P=e.truthy,A=e.Kernel,te=e.def,Q=e.slice,N=e.send,Z=[],g=e.nil,K=e.$$$;return e.add_stubs("include,raise,new,to_proc"),function($e,W,G){var ee=B($e,W,"Enumerator"),V=[ee].concat(G);return function(b,y,F){var Y=B(b,y,"Generator"),z=[Y].concat(F),D=e.$r(z),m=Y.$$prototype;return m.block=g,Y.$include(K("Enumerable")),te(Y,"$initialize",function q(){var R=q.$$p||g,x=this;return q.$$p=null,E(x),P(R)||A.$raise(K("LocalJumpError"),"no block given"),x.block=R}),te(Y,"$each",function q(R){var x=q.$$p||g,w,s,d=this,k=g;q.$$p=null,w=Q(arguments),s=w,k=N(D("Yielder"),"new",[],x.$to_proc());try{s.unshift(k),e.yieldX(d.block,s)}catch(h){if(h&&h.$thrower_type=="breaker")return h.$v;throw h}return d},-1)}(V[0],null,V)}(Z[0],null,Z)};Opal.modules["corelib/enumerator/lazy"]=function(e){var E=e.truthy,B=e.coerce_to,P=e.yield1,A=e.yieldX,te=e.deny_frozen_access,Q=e.klass,N=e.slice,Z=e.send2,g=e.find_super,K=e.to_a,$e=e.defs,W=e.Kernel,G=e.send,ee=e.def,V=e.return_self,b=e.Opal,y=e.rb_lt,F=e.eqeqeq,Y=e.rb_plus,z=e.alias,D=[],m=e.nil,q=e.$$$;return e.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(R,x,w){var s=Q(R,x,"Enumerator"),d=[s].concat(w);return function(k,h,c){var o=Q(k,h,"Lazy"),X=[o].concat(c),L=e.$r(X),_=o.$$prototype;return _.enumerator=m,Q(o,q("Exception"),"StopLazyError"),$e(o,"$for",function f(a,n){var t,r,$=f.$$p||m,i=this,u=m;return f.$$p=null,t=N(arguments,1),r=t,u=Z(i,g(i,"for",f,!1,!0),"for",[a].concat(K(r)),$),u.enumerator=a,u},-2),ee(o,"$initialize",function f(a,n){var t=f.$$p||m,r=this;return f.$$p=null,n==null&&(n=m),te(r),t===m&&W.$raise(q("ArgumentError"),"tried to call lazy new without a block"),r.enumerator=a,Z(r,g(r,"initialize",f,!1,!0),"initialize",[n],function(i,u){var p,S;i==null&&(i=m),p=N(arguments,1),S=p;try{return G(a,"each",K(S),function(T){var H,O;H=N(arguments),O=H,O.unshift(i),A(t,O)},-1)}catch(M){if(e.rescue(M,[L("StopLazyError")]))try{return m}finally{e.pop_exception(M)}else throw M}},-2)},-2),ee(o,"$lazy",V),ee(o,"$collect",function f(){var a=f.$$p||m,n=this;return f.$$p=null,E(a)||W.$raise(q("ArgumentError"),"tried to call lazy map without a block"),G(L("Lazy"),"new",[n,n.$enumerator_size()],function(r,$){var i,u;r==null&&(r=m),i=N(arguments,1),u=i;var p=A(a,u);r.$yield(p)},-2)}),ee(o,"$collect_concat",function f(){var a=f.$$p||m,n=this;return f.$$p=null,E(a)||W.$raise(q("ArgumentError"),"tried to call lazy map without a block"),G(L("Lazy"),"new",[n,m],function(r,$){var i,u;r==null&&(r=m),i=N(arguments,1),u=i;var p=A(a,u);if(p["$respond_to?"]("force")&&p["$respond_to?"]("each"))G(p,"each",[],function(T){return T==null&&(T=m),r.$yield(T)});else{var S=b.$try_convert(p,q("Array"),"to_ary");S===m?r.$yield(p):G(p,"each",[],function(T){return T==null&&(T=m),r.$yield(T)})}},-2)}),ee(o,"$drop",function(a){var n=this,t=m,r=m,$=m;return a=B(a,q("Integer"),"to_int"),E(y(a,0))&&W.$raise(q("ArgumentError"),"attempt to drop negative size"),t=n.$enumerator_size(),r=F(q("Integer"),t)&&E(y(a,t))?a:t,$=0,G(L("Lazy"),"new",[n,r],function(u,p){var S,M;return u==null&&(u=m),S=N(arguments,1),M=S,E(y($,a))?$=Y($,1):G(u,"yield",K(M))},-2)}),ee(o,"$drop_while",function f(){var a=f.$$p||m,n=this,t=m;return f.$$p=null,E(a)||W.$raise(q("ArgumentError"),"tried to call lazy drop_while without a block"),t=!0,G(L("Lazy"),"new",[n,m],function($,i){var u,p;if($==null&&($=m),u=N(arguments,1),p=u,E(t)){var S=A(a,p);E(S)||(t=!1,G($,"yield",K(p)))}else return G($,"yield",K(p))},-2)}),ee(o,"$enum_for",function f(a,n){var t=f.$$p||m,r,$,i,u=this;return f.$$p=null,r=N(arguments),r.length>0&&($=r.shift()),$==null&&($="each"),i=r,G(u.$class(),"for",[u,$].concat(K(i)),t.$to_proc())},-1),ee(o,"$find_all",function f(){var a=f.$$p||m,n=this;return f.$$p=null,E(a)||W.$raise(q("ArgumentError"),"tried to call lazy select without a block"),G(L("Lazy"),"new",[n,m],function(r,$){var i,u;r==null&&(r=m),i=N(arguments,1),u=i;var p=A(a,u);E(p)&&G(r,"yield",K(u))},-2)}),ee(o,"$grep",function f(a){var n=f.$$p||m,t=this;return f.$$p=null,E(n)?G(L("Lazy"),"new",[t,m],function($,i){var u,p;$==null&&($=m),u=N(arguments,1),p=u;var S=b.$destructure(p),M=a["$==="](S);E(M)&&(M=P(n,S),$.$yield(P(n,S)))},-2):G(L("Lazy"),"new",[t,m],function($,i){var u,p;$==null&&($=m),u=N(arguments,1),p=u;var S=b.$destructure(p),M=a["$==="](S);E(M)&&$.$yield(S)},-2)}),ee(o,"$reject",function f(){var a=f.$$p||m,n=this;return f.$$p=null,E(a)||W.$raise(q("ArgumentError"),"tried to call lazy reject without a block"),G(L("Lazy"),"new",[n,m],function(r,$){var i,u;r==null&&(r=m),i=N(arguments,1),u=i;var p=A(a,u);E(p)||G(r,"yield",K(u))},-2)}),ee(o,"$take",function(a){var n=this,t=m,r=m,$=m;return a=B(a,q("Integer"),"to_int"),E(y(a,0))&&W.$raise(q("ArgumentError"),"attempt to take negative size"),t=n.$enumerator_size(),r=F(q("Integer"),t)&&E(y(a,t))?a:t,$=0,G(L("Lazy"),"new",[n,r],function(u,p){var S,M;return u==null&&(u=m),S=N(arguments,1),M=S,E(y($,a))?(G(u,"yield",K(M)),$=Y($,1)):W.$raise(L("StopLazyError"))},-2)}),ee(o,"$take_while",function f(){var a=f.$$p||m,n=this;return f.$$p=null,E(a)||W.$raise(q("ArgumentError"),"tried to call lazy take_while without a block"),G(L("Lazy"),"new",[n,m],function(r,$){var i,u;r==null&&(r=m),i=N(arguments,1),u=i;var p=A(a,u);E(p)?G(r,"yield",K(u)):W.$raise(L("StopLazyError"))},-2)}),ee(o,"$inspect",function(){var a=this;return"#<"+a.$class()+": "+a.enumerator.$inspect()+">"}),z(o,"force","to_a"),z(o,"filter","find_all"),z(o,"flat_map","collect_concat"),z(o,"map","collect"),z(o,"select","find_all"),z(o,"to_enum","enum_for")}(s,s,d)}("::",null,D)};Opal.modules["corelib/enumerator/yielder"]=function(e){var E=e.klass,B=e.def,P=e.slice,A=e.send,te=e.to_a,Q=[],N=e.nil;return e.add_stubs("yield,proc"),function(Z,g,K){var $e=E(Z,g,"Enumerator"),W=[$e].concat(K);return function(G,ee){var V=E(G,ee,"Yielder"),b=V.$$prototype;return b.block=N,B(V,"$initialize",function y(){var F=y.$$p||N,Y=this;return y.$$p=null,Y.block=F,Y}),B(V,"$yield",function(F){var Y,z,D=this;Y=P(arguments),z=Y;var m=e.yieldX(D.block,z);if(m&&m.$thrower_type=="break")throw m;return m},-1),B(V,"$<<",function(F){var Y=this;return Y.$yield(F),Y}),B(V,"$to_proc",function(){var F=this;return A(F,"proc",[],function Y(z){var D,m,q=Y.$$s==null?this:Y.$$s;return D=P(arguments),m=D,A(q,"yield",te(m))},{$$arity:-1,$$s:F})})}(W[0],null)}(Q[0],null,Q)};Opal.modules["corelib/enumerator"]=function(e){var E=e.slice,B=e.coerce_to,P=e.deny_frozen_access,A=e.klass,te=e.defs,Q=e.truthy,N=e.send,Z=e.not,g=e.def,K=e.rb_plus,$e=e.to_a,W=e.Opal,G=e.send2,ee=e.find_super,V=e.rb_ge,b=e.Kernel,y=e.rb_le,F=e.alias,Y=e.top,z=[],D=e.nil,m=e.$$$;return e.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),Y.$require("corelib/enumerable"),function(q,R,x){var w=A(q,R,"Enumerator"),s=[w].concat(x),d=e.$r(s),k=w.$$prototype;return k.size=k.args=k.object=k.method=k.values=k.cursor=D,w.$include(m("Enumerable")),w.$$prototype.$$is_enumerator=!0,te(w,"$for",function h(c,o,X){var L=h.$$p||D,_,f,a,n=this;h.$$p=null,_=E(arguments,1),_.length>0&&(f=_.shift()),f==null&&(f="each"),a=_;var t=n.$allocate();return t.object=c,t.size=L,t.method=f,t.args=a,t.cursor=0,t},-2),g(w,"$initialize",function h(c){var o=h.$$p||D,X=this;return h.$$p=null,E(arguments),P(X),X.cursor=0,Q(o)?(X.object=N(d("Generator"),"new",[],o.$to_proc()),X.method="each",X.args=[],X.size=arguments[0]||D,Q(X.size)&&Z(X.size["$respond_to?"]("call"))?X.size=B(X.size,m("Integer"),"to_int"):D):(X.object=arguments[0],X.method=arguments[1]||"each",X.args=E(arguments,2),X.size=D)},-1),g(w,"$each",function h(c){var o=h.$$p||D,X,L,_=this;return h.$$p=null,X=E(arguments),L=X,Q(o["$nil?"]())&&Q(L["$empty?"]())?_:(L=K(_.args,L),Q(o["$nil?"]())?N(_.$class(),"new",[_.object,_.method].concat($e(L))):N(_.object,"__send__",[_.method].concat($e(L)),o.$to_proc()))},-1),g(w,"$size",function(){var c=this;return Q(c.size["$respond_to?"]("call"))?N(c.size,"call",$e(c.args)):c.size}),g(w,"$with_index",function h(c){var o=h.$$p||D,X=this;if(h.$$p=null,c==null&&(c=0),c=Q(c)?B(c,m("Integer"),"to_int"):0,!Q(o))return N(X,"enum_for",["with_index",c],function _(){var f=_.$$s==null?this:_.$$s;return f.$size()},{$$s:X});var L=c;return X.$each.$$p=function(){var _=W.$destructure(arguments),f=o(_,L);return L++,f},X.$each()},-1),g(w,"$each_with_index",function h(){var c=h.$$p||D,o=this;return h.$$p=null,c===D?N(o,"enum_for",["each_with_index"],function X(){var L=X.$$s==null?this:X.$$s;return L.$size()},{$$s:o}):(G(o,ee(o,"each_with_index",h,!1,!0),"each_with_index",[],c),o.object)}),g(w,"$rewind",function(){var c=this;return c.cursor=0,c}),g(w,"$peek_values",function(){var c=this,o=D;return c.values=Q(o=c.values)?o:N(c,"map",[],function(L){var _,f;return _=E(arguments),f=_,f},-1),Q(V(c.cursor,c.values.$length()))&&b.$raise(m("StopIteration"),"iteration reached an end"),c.values["$[]"](c.cursor)}),g(w,"$peek",function(){var c=this,o=D;return o=c.$peek_values(),Q(y(o.$length(),1))?o["$[]"](0):o}),g(w,"$next_values",function(){var c=this,o=D;return o=c.$peek_values(),c.cursor=K(c.cursor,1),o}),g(w,"$next",function(){var c=this,o=D;return o=c.$next_values(),Q(y(o.$length(),1))?o["$[]"](0):o}),g(w,"$feed",function(c){var o=this;return o.$raise(d("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),g(w,"$+",function(c){var o=this;return m(m("Enumerator"),"Chain").$new(o,c)}),g(w,"$inspect",function(){var c=this,o=D;return o="#<"+c.$class()+": "+c.object.$inspect()+":"+c.method,Q(c.args["$any?"]())&&(o=K(o,"("+c.args.$inspect()["$[]"](m("Range").$new(1,-2))+")")),K(o,">")}),F(w,"with_object","each_with_object"),w.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),w.$autoload("Chain","corelib/enumerator/chain"),w.$autoload("Generator","corelib/enumerator/generator"),w.$autoload("Lazy","corelib/enumerator/lazy"),w.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,z)};Opal.modules["corelib/numeric"]=function(e){var E=e.klass,B=e.truthy,P=e.Kernel,A=e.def,te=e.to_ary,Q=e.return_self,N=e.rb_minus,Z=e.rb_times,g=e.rb_lt,K=e.eqeq,$e=e.rb_divide,W=e.return_val,G=e.Opal,ee=e.slice,V=e.extract_kwargs,b=e.ensure_kwargs,y=e.hash_get,F=e.not,Y=e.send,z=e.rb_ge,D=e.rb_le,m=e.rb_plus,q=e.rb_gt,R=e.alias,x=e.top,w=e.nil,s=e.$$$;return e.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),x.$require("corelib/comparable"),function(d,k){var h=E(d,k,"Numeric");return h.$include(s("Comparable")),A(h,"$coerce",function(o){var X=this;return B(o["$instance_of?"](X.$class()))?[o,X]:[P.$Float(o),P.$Float(X)]}),A(h,"$__coerced__",function(o,X){var L,_,f=this,a=w,n=w;if(B(X["$respond_to?"]("coerce")))return _=X.$coerce(f),L=te(_),a=L[0]==null?w:L[0],n=L[1]==null?w:L[1],a.$__send__(o,n);switch(o.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return P.$raise(s("TypeError"),""+X.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return P.$raise(s("ArgumentError"),"comparison of "+f.$class()+" with "+X.$class()+" failed");default:return w}}),A(h,"$<=>",function(o){var X=this;return B(X["$equal?"](o))?0:w}),A(h,"$+@",Q),A(h,"$-@",function(){var o=this;return N(0,o)}),A(h,"$%",function(o){var X=this;return N(X,Z(o,X.$div(o)))}),A(h,"$abs",function(){var o=this;return B(g(o,0))?o["$-@"]():o}),A(h,"$abs2",function(){var o=this;return Z(o,o)}),A(h,"$angle",function(){var o=this;return B(g(o,0))?s(s("Math"),"PI"):0}),A(h,"$ceil",function(o){var X=this;return o==null&&(o=0),X.$to_f().$ceil(o)},-1),A(h,"$conj",Q),A(h,"$denominator",function(){var o=this;return o.$to_r().$denominator()}),A(h,"$div",function(o){var X=this;return K(o,0)&&P.$raise(s("ZeroDivisionError"),"divided by o"),$e(X,o).$floor()}),A(h,"$divmod",function(o){var X=this;return[X.$div(o),X["$%"](o)]}),A(h,"$fdiv",function(o){var X=this;return $e(X.$to_f(),o)}),A(h,"$floor",function(o){var X=this;return o==null&&(o=0),X.$to_f().$floor(o)},-1),A(h,"$i",function(){var o=this;return P.$Complex(0,o)}),A(h,"$imag",W(0)),A(h,"$integer?",W(!1)),A(h,"$nonzero?",function(){var o=this;return B(o["$zero?"]())?w:o}),A(h,"$numerator",function(){var o=this;return o.$to_r().$numerator()}),A(h,"$polar",function(){var o=this;return[o.$abs(),o.$arg()]}),A(h,"$quo",function(o){var X=this;return $e(G["$coerce_to!"](X,s("Rational"),"to_r"),o)}),A(h,"$real",Q),A(h,"$real?",W(!0)),A(h,"$rect",function(){var o=this;return[o,0]}),A(h,"$round",function(o){var X=this;return X.$to_f().$round(o)},-1),A(h,"$step",function c(o,X,L){var _=c.$$p||w,f,a,n,t,r,$,i=this,u=w;c.$$p=null,f=ee(arguments),a=V(f),a=b(a),f.length>0&&(n=f.shift()),f.length>0&&(t=f.shift()),r=y(a,"to"),$=y(a,"by"),n!==void 0&&r!==void 0&&P.$raise(s("ArgumentError"),"to is given twice"),t!==void 0&&$!==void 0&&P.$raise(s("ArgumentError"),"step is given twice"),r!==void 0&&(n=r),$!==void 0&&(t=$),n===void 0&&(n=w);function p(){t===w&&P.$raise(s("TypeError"),"step must be numeric"),t!=null&&t["$=="](0)&&P.$raise(s("ArgumentError"),"step can't be 0"),(t===w||t==null)&&(t=1);var ge=t["$<=>"](0);ge===w&&P.$raise(s("ArgumentError"),"0 can't be coerced into "+t.$class()),(n===w||n==null)&&(n=ge>0?s(s("Float"),"INFINITY"):s(s("Float"),"INFINITY")["$-@"]()),G.$compare(i,n)}function S(){if(t>0&&i>n||t<0&&i<n)return 0;if(t===1/0||t===-1/0)return 1;var ge=Math.abs,ve=Math.floor,me=(ge(i)+ge(n)+ge(n-i))/ge(t)*s(s("Float"),"EPSILON");return me===1/0||me===-1/0?0:(me>.5&&(me=.5),ve((n-i)/t+me)+1)}function M(){if(p(),t===0)return 1/0;if(t%1!==0)return S();if(t>0&&i>n||t<0&&i<n)return 0;var ge=Math.ceil,ve=Math.abs,me=ve(i-n)+1,be=ve(t);return ge(me/be)}if(_===w)return(F(n)||B(n["$is_a?"](s("Numeric"))))&&(F(t)||B(t["$is_a?"](s("Numeric"))))?s(s("Enumerator"),"ArithmeticSequence").$new([n,t,B(r)?"to: ":w,B($)?"by: ":w],i):Y(i,"enum_for",["step",n,t],M.$to_proc());p();var T=t["$negative?"](),H=t["$=="](0)||n===1/0&&!T||n===-1/0&&T;if(i.$$is_number&&t.$$is_number&&n.$$is_number)if(i%1===0&&(H||n%1===0)&&t%1===0){var O=i;if(H)for(;;O+=t)_(O);else if(T)for(;O>=n;O+=t)_(O);else for(;O<=n;O+=t)_(O);return i}else{var ae=i.$to_f().valueOf();t=t.$to_f().valueOf(),n=n.$to_f().valueOf();var le=S();if(!isFinite(t))le!==0&&_(ae);else if(t===0)for(;;)_(ae);else for(var _e=0;_e<le;_e++){var de=_e*t+i;(t>=0?n<de:n>de)&&(de=n),_(de)}return i}for(u=i;B(T?z(u,n):D(u,n));)e.yield1(_,u),u=m(u,t)},-1),A(h,"$to_c",function(){var o=this;return P.$Complex(o,0)}),A(h,"$to_int",function(){var o=this;return o.$to_i()}),A(h,"$truncate",function(o){var X=this;return o==null&&(o=0),X.$to_f().$truncate(o)},-1),A(h,"$zero?",function(){var o=this;return o["$=="](0)}),A(h,"$positive?",function(){var o=this;return q(o,0)}),A(h,"$negative?",function(){var o=this;return g(o,0)}),A(h,"$dup",Q),A(h,"$clone",function(o){var X=this;return o=b(o),y(o,"freeze"),X},-1),A(h,"$finite?",W(!0)),A(h,"$infinite?",W(w)),R(h,"arg","angle"),R(h,"conjugate","conj"),R(h,"imaginary","imag"),R(h,"magnitude","abs"),R(h,"modulo","%"),R(h,"phase","arg"),R(h,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(e){var E=e.truthy,B=e.falsy,P=e.yield1,A=e.hash_get,te=e.hash_put,Q=e.hash_delete,N=e.coerce_to,Z=e.respond_to,g=e.deny_frozen_access,K=e.freeze,$e=e.opal32_init,W=e.opal32_add,G=e.klass,ee=e.slice,V=e.defs,b=e.Kernel,y=e.def,F=e.Opal,Y=e.eqeqeq,z=e.send2,D=e.find_super,m=e.send,q=e.rb_gt,R=e.rb_times,x=e.eqeq,w=e.rb_minus,s=e.to_a,d=e.to_ary,k=e.gvars,h=e.rb_ge,c=e.assign_ivar,o=e.rb_lt,X=e.return_self,L=e.neqeq,_=e.alias,f=e.top,a=[],n=e.nil,t=e.$$$;return e.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),f.$require("corelib/enumerable"),f.$require("corelib/numeric"),function(r,$,i){var u=G(r,$,"Array"),p=[u].concat(i),S=e.$r(p);u.$include(t("Enumerable")),e.prop(u.$$prototype,"$$is_array",!0);function M(ie){for(var I=ie[0],C=1,U=ie.length;C<U;C++)ie[C-1]=ie[C];return ie.pop(),I}function T(ie,I){return I.$$name===e.Array?ie:I.$allocate().$replace(ie.$to_a())}function H(ie,I,C){for(var U,J=null,ne=new Array(ie.length),se=0,oe=0;se<ie.length;se++){if(!J)try{U=P(C,ie[se])}catch(fe){J=fe}(J||I(U))&&(ne[oe]=ie[se],oe+=1)}if(oe!==se&&(ie.splice.apply(ie,[0,ne.length].concat(ne)),ie.splice(oe,ne.length)),J)throw J}function O(ie){return ie.$$is_array||(ie=N(ie,t("Array"),"to_ary")),ie.$to_a()}function ae(ie,I){var C=I.length;if(C>6&&C<32767)ie.push.apply(ie,I);else for(var U=0;U<C;U++)ie.push(I[U])}V(u,"$[]",function(I){var C,U,J=this;return C=ee(arguments),U=C,T(U,J)},-1),y(u,"$initialize",function ie(I,C){var U=ie.$$p||n,J=this;if(ie.$$p=null,I==null&&(I=n),C==null&&(C=n),g(J),C!==n&&U!==n&&b.$warn("warning: block supersedes default value argument"),I>t(t("Integer"),"MAX")&&b.$raise(t("ArgumentError"),"array size too big"),arguments.length>2&&b.$raise(t("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return J.length>0&&J.splice(0,J.length),J;if(arguments.length===1){if(I.$$is_array)return J.$replace(I.$to_a()),J;if(I["$respond_to?"]("to_ary"))return J.$replace(I.$to_ary()),J}I=N(I,t("Integer"),"to_int"),I<0&&b.$raise(t("ArgumentError"),"negative array size"),J.splice(0,J.length);var ne,se;if(U===n)for(ne=0;ne<I;ne++)J.push(C);else for(ne=0,se;ne<I;ne++)se=U(ne),J[ne]=se;return J},-1),V(u,"$try_convert",function(I){return F["$coerce_to?"](I,t("Array"),"to_ary")}),y(u,"$&",function(I){var C=this;if(I=O(I),C.length===0||I.length===0)return[];var U=[],J=new Map,ne,se,oe;for(ne=0,se=I.length;ne<se;ne++)te(J,I[ne],!0);for(ne=0,se=C.length;ne<se;ne++)oe=C[ne],Q(J,oe)!==void 0&&U.push(oe);return U}),y(u,"$|",function(I){var C=this;I=O(I);var U=new Map,J,ne;for(J=0,ne=C.length;J<ne;J++)te(U,C[J],!0);for(J=0,ne=I.length;J<ne;J++)te(U,I[J],!0);return U.$keys()}),y(u,"$*",function(I){var C=this;if(E(I["$respond_to?"]("to_str")))return C.$join(I.$to_str());I=N(I,t("Integer"),"to_int"),E(I<0)&&b.$raise(t("ArgumentError"),"negative argument");for(var U=[],J=C.$to_a(),ne=0;ne<I;ne++)U=U.concat(J);return U}),y(u,"$+",function(I){var C=this;return I=O(I),C.concat(I)}),y(u,"$-",function(I){var C=this;if(I=O(I),E(C.length===0))return[];if(E(I.length===0))return C.slice();var U=[],J=new Map,ne,se,oe;for(ne=0,se=I.length;ne<se;ne++)te(J,I[ne],!0);for(ne=0,se=C.length;ne<se;ne++)oe=C[ne],A(J,oe)===void 0&&U.push(oe);return U}),y(u,"$<<",function(I){var C=this;return g(C),C.push(I),C}),y(u,"$<=>",function(I){var C=this;if(Y(t("Array"),I))I=I.$to_a();else if(E(I["$respond_to?"]("to_ary")))I=I.$to_ary().$to_a();else return n;if(C===I)return 0;for(var U=Math.min(C.length,I.length),J=0;J<U;J++){var ne=C[J]["$<=>"](I[J]);if(ne!==0)return ne}return C.length["$<=>"](I.length)}),y(u,"$==",function(I){var C=this,U={};function J(ne,se){var oe,fe,l,v;if(ne===se)return!0;if(!se.$$is_array)return Z(se,"$to_ary")?se["$=="](ne):!1;if(ne.$$constructor!==Array&&(ne=ne.$to_a()),se.$$constructor!==Array&&(se=se.$to_a()),ne.length!==se.length)return!1;for(U[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(l=ne[oe],v=se[oe],l.$$is_array){if(v.$$is_array&&v.length!==l.length||!U.hasOwnProperty(l.$object_id())&&!J(l,v))return!1}else if(!l["$=="](v))return!1;return!0}return J(C,I)});function le(ie,I){var C=ie.length,U,J,ne,se;return U=I.excl,J=I.begin===n?0:N(I.begin,e.Integer,"to_int"),ne=I.end===n?-1:N(I.end,e.Integer,"to_int"),J<0&&(J+=C,J<0)||(I.excl_rev&&I.begin!==n&&(J+=1),J>C)?n:ne<0&&(ne+=C,ne<0)?[]:((!U||I.end===n)&&(ne+=1),se=ie.slice(J,ne),se)}function _e(ie,I){var C,U=[],J=0,ne;for(I.step<0?(ne={begin:I.range.end,end:I.range.begin,excl:!1,excl_rev:I.range.excl},C=le(ie,ne).$reverse()):C=le(ie,I.range);J<C.length;)U.push(C[J]),J+=Math.abs(I.step);return U}function de(ie,I,C){var U=ie.length,J;return I=N(I,e.Integer,"to_int"),I<0&&(I+=U,I<0)?n:C===void 0?I>=U||I<0?n:ie[I]:(C=N(C,e.Integer,"to_int"),C<0||I>U||I<0?n:(J=ie.slice(I,I+C),J))}y(u,"$[]",function(I,C){var U=this;return I.$$is_range?le(U,I):I.$$is_arithmetic_seq?_e(U,I):de(U,I,C)},-2),y(u,"$[]=",function(I,C,U){var J=this,ne=n,se=n;g(J),ne=n;var oe,fe=J.length;if(I.$$is_range){C.$$is_array?ne=C.$to_a():C["$respond_to?"]("to_ary")?ne=C.$to_ary().$to_a():ne=[C];var l=I.excl,v=I.begin===n?0:N(I.begin,e.Integer,"to_int"),j=I.end===n?-1:N(I.end,e.Integer,"to_int");if(v<0&&(v+=fe,v<0&&b.$raise(t("RangeError"),""+I.$inspect()+" out of range")),j<0&&(j+=fe),(!l||I.end===n)&&(j+=1),v>fe)for(oe=fe;oe<v;oe++)J[oe]=n;return j<0?J.splice.apply(J,[v,0].concat(ne)):J.splice.apply(J,[v,j-v].concat(ne)),C}else{U===void 0?se=1:(se=C,C=U,C.$$is_array?ne=C.$to_a():C["$respond_to?"]("to_ary")?ne=C.$to_ary().$to_a():ne=[C]);var re;if(I=N(I,t("Integer"),"to_int"),se=N(se,t("Integer"),"to_int"),I<0&&(re=I,I+=fe,I<0&&b.$raise(t("IndexError"),"index "+re+" too small for array; minimum "+-J.length)),se<0&&b.$raise(t("IndexError"),"negative length ("+se+")"),I>fe)for(oe=fe;oe<I;oe++)J[oe]=n;return U===void 0?J[I]=C:J.splice.apply(J,[I,se].concat(ne)),C}},-3),y(u,"$any?",function ie(I){var C=ie.$$p||n,U=this;return ie.$$p=null,U.length===0?!1:z(U,D(U,"any?",ie,!1,!0),"any?",[I],C)},-1),y(u,"$assoc",function(I){for(var C=this,U=0,J=C.length,ne;U<J;U++)if(ne=C[U],ne.length&&ne[0]["$=="](I))return ne;return n}),y(u,"$at",function(I){var C=this;return I=N(I,t("Integer"),"to_int"),I<0&&(I+=C.length),I<0||I>=C.length?n:C[I]}),y(u,"$bsearch_index",function ie(){var I=ie.$$p||n,C=this;if(ie.$$p=null,I===n)return C.$enum_for("bsearch_index");for(var U=0,J=C.length,ne,se,oe,fe=!1,l=n;U<J;){if(ne=U+Math.floor((J-U)/2),se=C[ne],oe=P(I,se),oe===!0)l=ne,fe=!0;else if(oe===!1||oe===n)fe=!1;else if(oe.$$is_number){if(oe===0)return ne;fe=oe<0}else b.$raise(t("TypeError"),"wrong argument type "+oe.$class()+" (must be numeric, true, false or nil)");fe?J=ne:U=ne+1}return l}),y(u,"$bsearch",function ie(){var I=ie.$$p||n,C=this,U=n;return ie.$$p=null,I===n?C.$enum_for("bsearch"):(U=m(C,"bsearch_index",[],I.$to_proc()),U!=null&&U.$$is_number?C[U]:U)}),y(u,"$cycle",function ie(I){var C=ie.$$p||n,U=this;if(ie.$$p=null,I==null&&(I=n),C===n)return m(U,"enum_for",["cycle",I],function se(){var oe=se.$$s==null?this:se.$$s;return E(I["$nil?"]())?t(t("Float"),"INFINITY"):(I=F["$coerce_to!"](I,t("Integer"),"to_int"),E(q(I,0))?R(oe.$enumerator_size(),I):0)},{$$s:U});if(E(U["$empty?"]())||x(I,0))return n;var J,ne;if(I===n)for(;;)for(J=0,ne=U.length;J<ne;J++)P(C,U[J]);else{if(I=F["$coerce_to!"](I,t("Integer"),"to_int"),I<=0)return U;for(;I>0;){for(J=0,ne=U.length;J<ne;J++)P(C,U[J]);I--}}return U},-1),y(u,"$clear",function(){var I=this;return g(I),I.splice(0,I.length),I}),y(u,"$count",function ie(I){var C=ie.$$p||n,U=this;return ie.$$p=null,E(I!==void 0)||E(C)?z(U,D(U,"count",ie,!1,!0),"count",[I],C):U.$size()},-1),y(u,"$initialize_copy",function(I){var C=this;return C.$replace(I)}),y(u,"$collect",function ie(){var I=ie.$$p||n,C=this;if(ie.$$p=null,I===n)return m(C,"enum_for",["collect"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:C});for(var U=[],J=0;J<C.length;J++){var ne=P(I,C[J]);U[J]=ne}return U}),y(u,"$collect!",function ie(){var I=ie.$$p||n,C=this;if(ie.$$p=null,I===n)return m(C,"enum_for",["collect!"],function ne(){var se=ne.$$s==null?this:ne.$$s;return se.$size()},{$$s:C});g(C);for(var U=0;U<C.length;U++){var J=P(I,C[U]);C[U]=J}return C});function ge(ie,I){return ie===I||I===0?1:I>0&&ie>I?ge(ie-1,I-1)+ge(ie-1,I):0}y(u,"$combination",function ie(I){var C=ie.$$p||n,U=this,J=n;if(ie.$$p=null,J=F["$coerce_to!"](I,t("Integer"),"to_int"),C===n)return m(U,"enum_for",["combination",J],function re(){var ue=re.$$s==null?this:re.$$s;return ge(ue.length,J)},{$$s:U});var ne,se,oe,fe,l,v,j;if(J===0)e.yield1(C,[]);else if(J===1)for(ne=0,se=U.length;ne<se;ne++)e.yield1(C,[U[ne]]);else if(J===U.length)e.yield1(C,U.slice());else if(J>=0&&J<U.length){for(oe=[],ne=0;ne<=J+1;ne++)oe.push(0);for(fe=[],l=0,v=!1,oe[0]=-1;!v;){for(fe[l]=U[oe[l+1]];l<J-1;)l++,j=oe[l+1]=oe[l]+1,fe[l]=U[j];e.yield1(C,fe.slice()),l++;do v=l===0,oe[l]++,l--;while(oe[l+1]+J===U.length+l+1)}}return U}),y(u,"$repeated_combination",function ie(I){var C=ie.$$p||n,U=this,J=n;if(ie.$$p=null,J=F["$coerce_to!"](I,t("Integer"),"to_int"),C===n)return m(U,"enum_for",["repeated_combination",J],function se(){var oe=se.$$s==null?this:se.$$s;return ge(oe.length+J-1,J)},{$$s:U});function ne(se,oe,fe,l){if(fe.length==se){var v=fe.slice();e.yield1(C,v);return}for(var j=oe;j<l.length;j++)fe.push(l[j]),ne(se,j,fe,l),fe.pop()}return J>=0&&ne(J,0,[],U),U}),y(u,"$compact",function(){for(var I=this,C=[],U=0,J=I.length,ne;U<J;U++)(ne=I[U])!==n&&C.push(ne);return C}),y(u,"$compact!",function(){var I=this;g(I);for(var C=I.length,U=0,J=I.length;U<J;U++)I[U]===n&&(I.splice(U,1),J--,U--);return I.length===C?n:I}),y(u,"$concat",function(I){var C,U,J=this;return C=ee(arguments),U=C,g(J),U=m(U,"map",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;return se==null&&(se=n),se=O(se),E(se["$equal?"](oe))&&(se=se.$dup()),se},{$$s:J}),m(U,"each",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;se==null&&(se=n);for(var fe=0,l=se.length;fe<l;fe++)oe.push(se[fe])},{$$s:J}),J},-1),y(u,"$delete",function ie(I){var C=ie.$$p||n,U=this;ie.$$p=null;for(var J=U.length,ne=0,se=J;ne<se;ne++)U[ne]["$=="](I)&&(g(U),U.splice(ne,1),se--,ne--);return U.length===J?C!==n?e.yieldX(C,[]):n:I}),y(u,"$delete_at",function(I){var C=this;if(g(C),I=N(I,t("Integer"),"to_int"),I<0&&(I+=C.length),I<0||I>=C.length)return n;var U=C[I];return C.splice(I,1),U}),y(u,"$delete_if",function ie(){var I=ie.$$p||n,C=this;return ie.$$p=null,I===n?m(C,"enum_for",["delete_if"],function U(){var J=U.$$s==null?this:U.$$s;return J.$size()},{$$s:C}):(g(C),H(C,B,I),C)}),y(u,"$difference",function(I){var C,U,J=this;return C=ee(arguments),U=C,m(U,"reduce",[J.$to_a().$dup()],function(se,oe){return se==null&&(se=n),oe==null&&(oe=n),w(se,oe)})},-1),y(u,"$dig",function(I,C){var U,J,ne=this,se=n;return U=ee(arguments,1),J=U,se=ne["$[]"](I),se===n||J.length===0?se:(E(se["$respond_to?"]("dig"))||b.$raise(t("TypeError"),""+se.$class()+" does not have #dig method"),m(se,"dig",s(J)))},-2),y(u,"$drop",function(I){var C=this;return I=N(I,t("Integer"),"to_int"),I<0&&b.$raise(t("ArgumentError")),C.slice(I)}),y(u,"$dup",function ie(){var I=ie.$$p||n,C=this;return ie.$$p=null,C.$$class===e.Array&&C.$$class.$allocate.$$pristine&&C.$copy_instance_variables.$$pristine&&C.$initialize_dup.$$pristine?C.slice(0):z(C,D(C,"dup",ie,!1,!0),"dup",[],I)}),y(u,"$each",function ie(){var I=ie.$$p||n,C=this;if(ie.$$p=null,I===n)return m(C,"enum_for",["each"],function J(){var ne=J.$$s==null?this:J.$$s;return ne.$size()},{$$s:C});for(var U=0;U<C.length;U++)P(I,C[U]);return C}),y(u,"$each_index",function ie(){var I=ie.$$p||n,C=this;if(ie.$$p=null,I===n)return m(C,"enum_for",["each_index"],function J(){var ne=J.$$s==null?this:J.$$s;return ne.$size()},{$$s:C});for(var U=0;U<C.length;U++)P(I,U);return C}),y(u,"$empty?",function(){var I=this;return I.length===0}),y(u,"$eql?",function(I){var C=this,U={};function J(ne,se){var oe,fe,l,v;if(!se.$$is_array||(se=se.$to_a(),ne.length!==se.length))return!1;for(U[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(l=ne[oe],v=se[oe],l.$$is_array){if(v.$$is_array&&v.length!==l.length||!U.hasOwnProperty(l.$object_id())&&!J(l,v))return!1}else if(!l["$eql?"](v))return!1;return!0}return J(C,I)}),y(u,"$fetch",function ie(I,C){var U=ie.$$p||n,J=this;ie.$$p=null;var ne=I;if(I=N(I,t("Integer"),"to_int"),I<0&&(I+=J.length),I>=0&&I<J.length)return J[I];if(U!==n&&C!=null&&J.$warn("warning: block supersedes default value argument"),U!==n)return U(ne);if(C!=null)return C;J.length===0?b.$raise(t("IndexError"),"index "+ne+" outside of array bounds: 0...0"):b.$raise(t("IndexError"),"index "+ne+" outside of array bounds: -"+J.length+"..."+J.length)},-2),y(u,"$fill",function ie(I){var C=ie.$$p||n,U,J,ne,se,oe=this,fe=n,l=n,v=n,j=n,re=n;ie.$$p=null,U=ee(arguments),J=U,g(oe);var ue,ce;if(E(C)?(E(J.length>2)&&b.$raise(t("ArgumentError"),"wrong number of arguments ("+J.$length()+" for 0..2)"),se=J,ne=d(se),fe=ne[0]==null?n:ne[0],l=ne[1]==null?n:ne[1]):(E(J.length==0)?b.$raise(t("ArgumentError"),"wrong number of arguments (0 for 1..3)"):E(J.length>3)&&b.$raise(t("ArgumentError"),"wrong number of arguments ("+J.$length()+" for 1..3)"),se=J,ne=d(se),v=ne[0]==null?n:ne[0],fe=ne[1]==null?n:ne[1],l=ne[2]==null?n:ne[2]),Y(t("Range"),fe)){if(E(l)&&b.$raise(t("TypeError"),"length invalid with range"),j=fe.begin===n?0:N(fe.begin,t("Integer"),"to_int"),E(j<0)&&(j+=this.length),E(j<0)&&b.$raise(t("RangeError"),""+fe.$inspect()+" out of range"),re=fe.end===n?-1:N(fe.end,t("Integer"),"to_int"),E(re<0)&&(re+=this.length),E(fe["$exclude_end?"]())||(re+=1),E(re<=j))return oe}else if(E(fe))if(j=N(fe,t("Integer"),"to_int"),E(j<0)&&(j+=this.length),E(j<0)&&(j=0),E(l)){if(re=N(l,t("Integer"),"to_int"),E(re==0))return oe;re+=j}else re=this.length;else j=0,re=this.length;if(E(j>this.length))for(ue=this.length;ue<re;ue++)oe[ue]=n;if(E(re>this.length)&&(this.length=re),E(C))for(this.length;j<re;j++)ce=C(j),oe[j]=ce;else for(this.length;j<re;j++)oe[j]=v;return oe},-1),y(u,"$first",function(I){var C=this;return I==null?C.length===0?n:C[0]:(I=N(I,t("Integer"),"to_int"),I<0&&b.$raise(t("ArgumentError"),"negative array size"),C.slice(0,I))},-1),y(u,"$flatten",function(I){var C=this;function U(J,ne){var se=[],oe,fe,l,v;for(J=J.$to_a(),oe=0,fe=J.length;oe<fe;oe++){if(l=J[oe],!Z(l,"$to_ary",!0)){se.push(l);continue}if(v=l.$to_ary(),v===n){se.push(l);continue}switch(v.$$is_array||b.$raise(t("TypeError")),v===C&&b.$raise(t("ArgumentError")),ne){case void 0:se=se.concat(U(v));break;case 0:se.push(v);break;default:ae(se,U(v,ne-1))}}return se}return I!==void 0&&(I=N(I,t("Integer"),"to_int")),U(C,I)},-1),y(u,"$flatten!",function(I){var C=this;g(C);var U=C.$flatten(I);if(C.length==U.length){for(var J=0,ne=C.length;J<ne&&C[J]===U[J];J++);if(J==ne)return n}return C.$replace(U),C},-1),y(u,"$freeze",function(){var I=this;return E(I["$frozen?"]())?I:K(I)});var ve;y(u,"$hash",function(){var I=this,C=ve===void 0,U=$e(),J=I.$object_id(),ne,se,oe;if(U=W(U,10),U=W(U,I.length),C)ve=Object.create(null);else if(ve[J])return W(U,16843009);try{for(oe in ve)if(ne=ve[oe],I["$eql?"](ne))return W(U,16843009);for(ve[J]=I,se=0;se<I.length;se++)ne=I[se],U=W(U,ne.$hash());return U}finally{C&&(ve=void 0)}}),y(u,"$include?",function(I){for(var C=this,U=0,J=C.length;U<J;U++)if(C[U]["$=="](I))return!0;return!1}),y(u,"$index",function ie(I){var C=ie.$$p||n,U=this;ie.$$p=null;var J,ne,se;if(I!=null&&C!==n&&U.$warn("warning: given block not used"),I!=null){for(J=0,ne=U.length;J<ne;J++)if(U[J]["$=="](I))return J}else if(C!==n){for(J=0;J<U.length;J++)if(se=C(U[J]),se!==!1&&se!==n)return J}else return U.$enum_for("index");return n},-1),y(u,"$insert",function(I,C){var U,J,ne=this;if(U=ee(arguments,1),J=U,g(ne),I=N(I,t("Integer"),"to_int"),J.length>0){if(I<0&&(I+=ne.length+1,I<0&&b.$raise(t("IndexError"),""+I+" is out of bounds")),I>ne.length)for(var se=ne.length;se<I;se++)ne.push(n);ne.splice.apply(ne,[I,0].concat(J))}return ne},-2);var me=[];y(u,"$inspect",function(){var I=this,C=[],U=I.$__id__(),J=!0;return function(){try{if(me.indexOf(U)!==-1)return J=!1,"[...]";me.push(U);for(var ne=0,se=I.length;ne<se;ne++){var oe=I["$[]"](ne);C.push(S("Opal").$inspect(oe))}return"["+C.join(", ")+"]"}finally{J&&me.pop()}}()}),y(u,"$intersection",function(I){var C,U,J=this,ne=n,se=n;return C=ee(arguments),U=C,U.length===0?J.$to_a().$dup():(U=U.map(O),J.length===0?[]:(U=m(U,"sort_by",[],"length".$to_proc()),E(J.length<U[0].length)?m(U,"reduce",[J],"&".$to_proc()):(ne=U.pop(),se=m(U,"reduce",[ne],"&".$to_proc()),J["$&"](se))))},-1),y(u,"$intersect?",function(I){var C=this,U,J,ne=new Map,se,oe;for(C.length<I.length?(U=C,J=I):(U=I,J=C),se=0,oe=U.length;se<oe;se++)te(ne,U[se],!0);for(se=0,oe=J.length;se<oe;se++)if(A(ne,J[se]))return!0;return!1}),y(u,"$join",function(I){var C=this;if(k[","]==null&&(k[","]=n),I==null&&(I=n),E(C.length===0))return"";E(I===n)&&(I=k[","]);var U=[],J,ne,se,oe;for(J=0,ne=C.length;J<ne;J++){if(se=C[J],Z(se,"$to_str")&&(oe=se.$to_str(),oe!==n)){U.push(oe.$to_s());continue}if(Z(se,"$to_ary")&&(oe=se.$to_ary(),oe===C&&b.$raise(t("ArgumentError")),oe!==n)){U.push(oe.$join(I));continue}if(Z(se,"$to_s")&&(oe=se.$to_s(),oe!==n)){U.push(oe);continue}b.$raise(t("NoMethodError").$new(""+S("Opal").$inspect(C.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return I===n?U.join(""):U.join(F["$coerce_to!"](I,t("String"),"to_str").$to_s())},-1),y(u,"$keep_if",function ie(){var I=ie.$$p||n,C=this;return ie.$$p=null,I===n?m(C,"enum_for",["keep_if"],function U(){var J=U.$$s==null?this:U.$$s;return J.$size()},{$$s:C}):(g(C),H(C,E,I),C)}),y(u,"$last",function(I){var C=this;return I==null?C.length===0?n:C[C.length-1]:(I=N(I,t("Integer"),"to_int"),I<0&&b.$raise(t("ArgumentError"),"negative array size"),I>C.length&&(I=C.length),C.slice(C.length-I,C.length))},-1),y(u,"$length",function(){var I=this;return I.length}),y(u,"$max",function ie(I){var C=ie.$$p||n,U=this;return ie.$$p=null,m(U.$each(),"max",[I],C.$to_proc())},-1),y(u,"$min",function ie(){var I=ie.$$p||n,C=this;return ie.$$p=null,m(C.$each(),"min",[],I.$to_proc())});function be(ie,I){for(var C=I>=0?1:0;I;)C*=ie,ie--,I--;return C}return y(u,"$permutation",function ie(I){var C=ie.$$p||n,U=this,J=n,ne=n;if(ie.$$p=null,C===n)return m(U,"enum_for",["permutation",I],function v(){var j=v.$$s==null?this:v.$$s;return be(j.length,I===void 0?j.length:I)},{$$s:U});var se,oe,fe;if(I===void 0?I=U.length:I=N(I,t("Integer"),"to_int"),!(I<0||U.length<I))if(I===0)e.yield1(C,[]);else if(I===1)for(var l=0;l<U.length;l++)e.yield1(C,[U[l]]);else J=S("Array").$new(I),ne=S("Array").$new(U.length,!1),se=function(v,j,re,ue,ce){U=this;for(var he=0;he<U.length;he++)if(ue["$[]"](he)["$!"]())if(j[re]=he,re<v-1)ue[he]=!0,se.call(U,v,j,re+1,ue,ce),ue[he]=!1;else{fe=[];for(var pe=0;pe<j.length;pe++)fe.push(U[j[pe]]);P(ce,fe)}},C!==n?(oe=U.slice(),se.call(oe,I,J,0,ne,C)):se.call(U,I,J,0,ne,C);return U},-1),y(u,"$repeated_permutation",function ie(I){var C=ie.$$p||n,U=this,J=n;if(ie.$$p=null,J=F["$coerce_to!"](I,t("Integer"),"to_int"),C===n)return m(U,"enum_for",["repeated_permutation",J],function se(){var oe=se.$$s==null?this:se.$$s;return E(h(J,0))?oe.$size()["$**"](J):0},{$$s:U});function ne(se,oe,fe){if(oe.length==se){var l=oe.slice();e.yield1(C,l);return}for(var v=0;v<fe.length;v++)oe.push(fe[v]),ne(se,oe,fe),oe.pop()}return ne(J,[],U.slice()),U}),y(u,"$pop",function(I){var C=this;return g(C),E(I===void 0)?E(C.length===0)?n:C.pop():(I=N(I,t("Integer"),"to_int"),E(I<0)&&b.$raise(t("ArgumentError"),"negative array size"),E(C.length===0)?[]:E(I===1)?[C.pop()]:E(I>C.length)?C.splice(0,C.length):C.splice(C.length-I,C.length))},-1),y(u,"$product",function ie(I){var C=ie.$$p||n,U,J,ne=this;ie.$$p=null,U=ee(arguments),J=U;var se=C!==n?null:[],oe=J.length+1,fe=new Array(oe),l=new Array(oe),v=new Array(oe),j,re,ue,ce,he=1;for(v[0]=ne,j=1;j<oe;j++)v[j]=N(J[j-1],t("Array"),"to_ary");for(j=0;j<oe;j++){if(ce=v[j].length,ce===0)return se||ne;he*=ce,he>2147483647&&b.$raise(t("RangeError"),"too big to product"),l[j]=ce,fe[j]=0}e:for(;;){for(ue=[],j=0;j<oe;j++)ue.push(v[j][fe[j]]);for(se?se.push(ue):e.yield1(C,ue),re=oe-1,fe[re]++;fe[re]===l[re];){if(fe[re]=0,--re<0)break e;fe[re]++}}return se||ne},-1),y(u,"$push",function(I){var C,U,J=this;return C=ee(arguments),U=C,g(J),ae(J,U),J},-1),y(u,"$rassoc",function(I){for(var C=this,U=0,J=C.length,ne;U<J;U++)if(ne=C[U],ne.length&&ne[1]!==void 0&&ne[1]["$=="](I))return ne;return n}),y(u,"$reject",function ie(){var I=ie.$$p||n,C=this;if(ie.$$p=null,I===n)return m(C,"enum_for",["reject"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:C});for(var U=[],J=0,ne;J<C.length;J++)ne=I(C[J]),(ne===!1||ne===n)&&U.push(C[J]);return U}),y(u,"$reject!",function ie(){var I=ie.$$p||n,C=this,U=n;return ie.$$p=null,I===n?m(C,"enum_for",["reject!"],function J(){var ne=J.$$s==null?this:J.$$s;return ne.$size()},{$$s:C}):(g(C),U=C.$length(),m(C,"delete_if",[],I.$to_proc()),x(C.$length(),U)?n:C)}),y(u,"$replace",function(I){var C=this;return g(C),I=O(I),C.length>0&&C.splice(0,C.length),ae(C,I),C}),y(u,"$reverse",function(){var I=this;return I.slice(0).reverse()}),y(u,"$reverse!",function(){var I=this;return g(I),I.reverse()}),y(u,"$reverse_each",function ie(){var I=ie.$$p||n,C=this;if(ie.$$p=null,I===n)return m(C,"enum_for",["reverse_each"],function J(){var ne=J.$$s==null?this:J.$$s;return ne.$size()},{$$s:C});for(var U=C.length-1;U>=0;U--)P(I,C[U]);return C}),y(u,"$rindex",function ie(I){var C=ie.$$p||n,U=this;ie.$$p=null;var J,ne;if(I!=null&&C!==n&&U.$warn("warning: given block not used"),I!=null){for(J=U.length-1;J>=0&&!(J>=U.length);J--)if(U[J]["$=="](I))return J}else if(C!==n){for(J=U.length-1;J>=0&&!(J>=U.length);J--)if(ne=C(U[J]),ne!==!1&&ne!==n)return J}else if(I==null)return U.$enum_for("rindex");return n},-1),y(u,"$rotate",function(I){var C=this;I==null&&(I=1);var U,J,ne,se;return I=N(I,t("Integer"),"to_int"),C.length===1?C.slice():C.length===0?[]:(U=C.slice(),J=I%U.length,ne=U.slice(J),se=U.slice(0,J),ne.concat(se))},-1),y(u,"$rotate!",function(I){var C=this,U=n;return I==null&&(I=1),g(C),C.length===0||C.length===1?C:(I=N(I,t("Integer"),"to_int"),U=C.$rotate(I),C.$replace(U))},-1),function(ie,I){var C=G(ie,I,"SampleRandom"),U=C.$$prototype;return U.rng=n,y(C,"$initialize",c("rng")),y(C,"$rand",function(ne){var se=this,oe=n;return oe=N(se.rng.$rand(ne),t("Integer"),"to_int"),E(oe<0)&&b.$raise(t("RangeError"),"random value must be >= 0"),E(oe<ne)||b.$raise(t("RangeError"),"random value must be less than Array size"),oe})}(u,null),y(u,"$sample",function(I,C){var U=this,J=n,ne=n;if(E(I===void 0))return U.$at(b.$rand(U.length));if(E(C===void 0)?E(J=F["$coerce_to?"](I,t("Hash"),"to_hash"))?(C=J,I=n):(C=n,I=N(I,t("Integer"),"to_int")):(I=N(I,t("Integer"),"to_int"),C=N(C,t("Hash"),"to_hash")),E(I)&&E(I<0)&&b.$raise(t("ArgumentError"),"count must be greater than 0"),E(C)&&(ne=C["$[]"]("random")),ne=E(ne)&&E(ne["$respond_to?"]("rand"))?S("SampleRandom").$new(ne):b,!E(I))return U[ne.$rand(U.length)];var se,oe,fe,l,v,j,re,ue;switch(I>U.length&&(I=U.length),I){case 0:return[];case 1:return[U[ne.$rand(U.length)]];case 2:return l=ne.$rand(U.length),v=ne.$rand(U.length-1),l<=v&&v++,[U[l],U[v]];default:if(U.length/I>3){for(se=!1,oe=0,fe=S("Array").$new(I),l=1,fe[0]=ne.$rand(U.length);l<I;){for(j=ne.$rand(U.length),v=0;v<l;){for(;j===fe[v];){if(oe++,oe>100){se=!0;break}j=ne.$rand(U.length)}if(se)break;v++}if(se)break;fe[l]=j,l++}if(!se){for(l=0;l<I;)fe[l]=U[fe[l]],l++;return fe}}fe=U.slice();for(var ce=0;ce<I;ce++)re=ne.$rand(U.length-ce)+ce,ue=fe[ce],fe[ce]=fe[re],fe[re]=ue;return I===U.length?fe:fe["$[]"](0,I)}},-1),y(u,"$select",function ie(){var I=ie.$$p||n,C=this;if(ie.$$p=null,I===n)return m(C,"enum_for",["select"],function oe(){var fe=oe.$$s==null?this:oe.$$s;return fe.$size()},{$$s:C});for(var U=[],J=0,ne,se;J<C.length;J++)ne=C[J],se=P(I,ne),E(se)&&U.push(ne);return U}),y(u,"$select!",function ie(){var I=ie.$$p||n,C=this;if(ie.$$p=null,I===n)return m(C,"enum_for",["select!"],function J(){var ne=J.$$s==null?this:J.$$s;return ne.$size()},{$$s:C});g(C);var U=C.length;return m(C,"keep_if",[],I.$to_proc()),C.length===U?n:C}),y(u,"$shift",function(I){var C=this;return g(C),E(I===void 0)?E(C.length===0)?n:M(C):(I=N(I,t("Integer"),"to_int"),E(I<0)&&b.$raise(t("ArgumentError"),"negative array size"),E(C.length===0)?[]:C.splice(0,I))},-1),y(u,"$shuffle",function(I){var C=this;return C.$dup().$to_a()["$shuffle!"](I)},-1),y(u,"$shuffle!",function(I){var C=this;g(C);var U,J=C.length,ne,se;for(I!==void 0&&(I=F["$coerce_to?"](I,t("Hash"),"to_hash"),I!==n&&(I=I["$[]"]("random"),I!==n&&I["$respond_to?"]("rand")&&(U=I)));J;)U?(ne=U.$rand(J).$to_int(),ne<0&&b.$raise(t("RangeError"),"random number too small "+ne),ne>=J&&b.$raise(t("RangeError"),"random number too big "+ne)):ne=C.$rand(J),se=C[--J],C[J]=C[ne],C[ne]=se;return C},-1),y(u,"$slice!",function(I,C){var U=this,J=n,ne=n,se=n,oe=n,fe=n;if(g(U),J=n,E(C===void 0))if(Y(t("Range"),I)){ne=I,J=U["$[]"](ne),se=ne.begin===n?0:N(ne.begin,t("Integer"),"to_int"),oe=ne.end===n?-1:N(ne.end,t("Integer"),"to_int"),se<0&&(se+=U.length),oe<0?oe+=U.length:oe>=U.length&&(oe=U.length-1,ne.excl&&(oe+=1));var l=oe-se;ne.excl&&ne.end!==n?oe-=1:l+=1,se<U.length&&se>=0&&oe<U.length&&oe>=0&&l>0&&U.splice(se,l)}else{if(fe=N(I,t("Integer"),"to_int"),fe<0&&(fe+=U.length),fe<0||fe>=U.length)return n;J=U[fe],fe===0?U.shift():U.splice(fe,1)}else{if(fe=N(I,t("Integer"),"to_int"),C=N(C,t("Integer"),"to_int"),C<0)return n;J=U["$[]"](fe,C),fe<0&&(fe+=U.length),fe+C>U.length&&(C=U.length-fe),fe<U.length&&fe>=0&&U.splice(fe,C)}return J},-2),y(u,"$sort",function ie(){var I=ie.$$p||n,C=this;return ie.$$p=null,E(C.length>1)?(I===n&&(I=function(U,J){return U["$<=>"](J)}),C.slice().sort(function(U,J){var ne=I(U,J);return ne===n&&b.$raise(t("ArgumentError"),"comparison of "+U.$inspect()+" with "+J.$inspect()+" failed"),q(ne,0)?1:o(ne,0)?-1:0})):C}),y(u,"$sort!",function ie(){var I=ie.$$p||n,C=this;ie.$$p=null,g(C);var U;I!==n?U=m(C.slice(),"sort",[],I.$to_proc()):U=C.slice().$sort(),C.length=0;for(var J=0,ne=U.length;J<ne;J++)C.push(U[J]);return C}),y(u,"$sort_by!",function ie(){var I=ie.$$p||n,C=this;return ie.$$p=null,I===n?m(C,"enum_for",["sort_by!"],function U(){var J=U.$$s==null?this:U.$$s;return J.$size()},{$$s:C}):(g(C),C.$replace(m(C,"sort_by",[],I.$to_proc())))}),y(u,"$take",function(I){var C=this;return I<0&&b.$raise(t("ArgumentError")),C.slice(0,I)}),y(u,"$take_while",function ie(){var I=ie.$$p||n,C=this;ie.$$p=null;for(var U=[],J=0,ne,se;J<C.length;J++){if(ne=C[J],se=I(ne),se===!1||se===n)return U;U.push(ne)}return U}),y(u,"$to_a",function(){var I=this;return I.$$class===e.Array?I:e.Array.$new(I)}),y(u,"$to_ary",X),y(u,"$to_h",function ie(){var I=ie.$$p||n,C=this,U=n;ie.$$p=null,U=C,I!==n&&(U=m(U,"map",[],I.$to_proc()));var J,ne=U.length,se,oe,fe,l=new Map;for(J=0;J<ne;J++)se=F["$coerce_to?"](U[J],t("Array"),"to_ary"),se.$$is_array||b.$raise(t("TypeError"),"wrong element type "+U[J].$class()+" at "+J+" (expected array)"),se.length!==2&&b.$raise(t("ArgumentError"),"element has wrong array length at "+J+" (expected 2, was "+se.$length()+")"),oe=se[0],fe=se[1],te(l,oe,fe);return l}),y(u,"$transpose",function(){var I=this,C=n,U=n;return E(I["$empty?"]())?[]:(C=[],U=n,m(I,"each",[],function(ne){var se=n;return ne==null&&(ne=n),ne=O(ne),U=E(se=U)?se:ne.length,L(ne.length,U)&&b.$raise(t("IndexError"),"element size differs ("+ne.length+" should be "+U+")"),m(ne.length,"times",[],function(fe){var l,v=n;return fe==null&&(fe=n),v=E(se=C["$[]"](fe))?se:(l=[fe,[]],m(C,"[]=",l),l[l.length-1]),v["$<<"](ne.$at(fe))})}),C)}),y(u,"$union",function(I){var C,U,J=this;return C=ee(arguments),U=C,m(U,"reduce",[J.$uniq()],function(se,oe){return se==null&&(se=n),oe==null&&(oe=n),se["$|"](oe)})},-1),y(u,"$uniq",function ie(){var I=ie.$$p||n,C=this;ie.$$p=null;var U=new Map,J,ne,se,oe;if(I===n)for(J=0,ne=C.length;J<ne;J++)se=C[J],A(U,se)===void 0&&te(U,se,se);else for(J=0;J<C.length;J++)se=C[J],oe=P(I,se),A(U,oe)===void 0&&te(U,oe,se);return U.$values()}),y(u,"$uniq!",function ie(){var I=ie.$$p||n,C=this;ie.$$p=null,g(C);var U=new Map,J,ne,se,oe=[];for(J=0;J<C.length;J++)ne=C[J],se=I===n?ne:P(I,ne),A(U,se)===void 0?te(U,se,ne):oe.push(J);for(J=oe.length-1;J>=0;J--)C.splice(oe[J],1);return oe.length===0?n:C}),y(u,"$unshift",function(I){var C,U,J=this;C=ee(arguments),U=C,g(J);var ne=J.length,se=U.length;if(se==0)return J;for(var oe=ne-se,fe=0;fe<se;fe++)J.push(J[oe+fe]);for(var l=ne-1;l-se>=0;)J[l]=J[l-se],l--;for(var v=0;v<se;v++)J[v]=U[v];return J},-1),y(u,"$values_at",function(I){var C,U,J=this,ne=n;return C=ee(arguments),U=C,ne=[],m(U,"each",[],function se(oe){var fe=se.$$s==null?this:se.$$s,l=n,v=n,j=n;return oe==null&&(oe=n),E(oe["$is_a?"](t("Range")))?(l=oe.$end()===n?-1:N(oe.$end(),t("Integer"),"to_int"),v=oe.$begin()===n?0:N(oe.$begin(),t("Integer"),"to_int"),v<0?(v=v+fe.length,n):(l<0&&(l=l+fe.length),oe["$exclude_end?"]()&&oe.$end()!==n&&l--,l<v?n:m(v,"upto",[l],function re(ue){var ce=re.$$s==null?this:re.$$s;return ue==null&&(ue=n),ne["$<<"](ce.$at(ue))},{$$s:fe}))):(j=N(oe,t("Integer"),"to_int"),ne["$<<"](fe.$at(j)))},{$$s:J}),ne},-1),y(u,"$zip",function ie(I){var C=ie.$$p||n,U,J,ne=this,se=n;ie.$$p=null,U=ee(arguments),J=U;var oe=[],fe=ne.length,l,v,j,re,ue;for(re=0,ue=J.length;re<ue;re++)if(v=J[re],!v.$$is_array){if(v.$$is_range||v.$$is_enumerator){J[re]=v.$take(fe);continue}J[re]=(E(se=F["$coerce_to?"](v,t("Array"),"to_ary"))?se:F["$coerce_to!"](v,t("Enumerator"),"to_enum","each")).$to_a()}for(j=0;j<fe;j++){for(l=[ne[j]],re=0,ue=J.length;re<ue;re++)v=J[re][j],v==null&&(v=n),l[re+1]=v;oe[j]=l}if(C!==n){for(j=0;j<fe;j++)e.yield1(C,oe[j]);return n}return oe},-1),V(u,"$inherited",function(I){I.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),y(u,"$instance_variables",function ie(){var I=ie.$$p||n,C=this;return ie.$$p=null,m(z(C,D(C,"instance_variables",ie,!1,!0),"instance_variables",[],I),"reject",[],function(J){var ne=n;return J==null&&(J=n),E(ne=/^@\d+$/.test(J))?ne:J["$=="]("@length")})}),y(u,"$pack",function(I){return ee(arguments),b.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),_(u,"append","push"),_(u,"filter","select"),_(u,"filter!","select!"),_(u,"map","collect"),_(u,"map!","collect!"),_(u,"prepend","unshift"),_(u,"size","length"),_(u,"slice","[]"),_(u,"to_s","inspect"),F.$pristine(u.$singleton_class(),"allocate"),F.$pristine(u,"copy_instance_variables","initialize_dup")}("::",Array,a)};Opal.modules["corelib/hash"]=function(e){var E=e.yield1,B=e.hash_clone,P=e.hash_delete,A=e.hash_each,te=e.hash_get,Q=e.hash_put,N=e.deny_frozen_access,Z=e.freeze,g=e.opal32_init,K=e.opal32_add,$e=e.klass,W=e.slice,G=e.Opal,ee=e.Kernel,V=e.defs,b=e.def,y=e.send,F=e.rb_ge,Y=e.rb_gt,z=e.truthy,D=e.to_a,m=e.return_self,q=e.not,R=e.alias,x=e.top,w=[],s=e.nil,d=e.$$$;return e.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),x.$require("corelib/enumerable"),function(k,h,c){var o=$e(k,h,"Hash"),X=[o].concat(c),L=e.$r(X);o.$include(d("Enumerable")),o.$$prototype.$$is_hash=!0,V(o,"$[]",function(n){var t,r,$=this;t=W(arguments),r=t;var i,u=r.length,p,S;if(u===1){if(i=G["$coerce_to?"](r["$[]"](0),d("Hash"),"to_hash"),i!==s)return $.$allocate()["$merge!"](i);for(r=G["$coerce_to?"](r["$[]"](0),d("Array"),"to_ary"),r===s&&ee.$raise(d("ArgumentError"),"odd number of arguments for Hash"),u=r.length,i=$.$allocate(),S=0;S<u;S++)p=r[S],p.$$is_array||ee.$raise(d("ArgumentError"),"invalid element "+p.$inspect()+" for Hash"),p.length===1?i.$store(p[0],s):p.length===2?i.$store(p[0],p[1]):ee.$raise(d("ArgumentError"),"invalid number of elements ("+p.length+" for "+p.$inspect()+"), must be 1..2");return i}for(u%2!==0&&ee.$raise(d("ArgumentError"),"odd number of arguments for Hash"),i=$.$allocate(),S=0;S<u;S+=2)i.$store(r[S],r[S+1]);return i},-1),V(o,"$allocate",function(){var n=this,t=new n.$$constructor;return t.$$none=s,t.$$proc=s,t}),V(o,"$try_convert",function(n){return G["$coerce_to?"](n,d("Hash"),"to_hash")}),b(o,"$initialize",function a(n){var t=a.$$p||s,r=this;return a.$$p=null,N(r),n!==void 0&&t!==s&&ee.$raise(d("ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=n===void 0?s:n,r.$$proc=t,r},-1),b(o,"$==",function(n){var t=this;return t===n?!0:!n.$$is_hash||t.size!==n.size?!1:A(t,!0,function(r,$){var i=te(n,r);return i===void 0||!$["$eql?"](i)?[!0,!1]:[!1,!0]})}),b(o,"$>=",function(n){var t=this,r=s;return n=G["$coerce_to!"](n,d("Hash"),"to_hash"),t.size<n.size?!1:(r=!0,y(n,"each",[],function $(i,u){var p=$.$$s==null?this:$.$$s,S=s;if(i==null&&(i=s),u==null&&(u=s),S=p.$fetch(i,null),S==null||S!==u){r=!1;return}},{$$s:t}),r)}),b(o,"$>",function(n){var t=this;return n=G["$coerce_to!"](n,d("Hash"),"to_hash"),t.size<=n.size?!1:F(t,n)}),b(o,"$<",function(n){var t=this;return n=G["$coerce_to!"](n,d("Hash"),"to_hash"),Y(n,t)}),b(o,"$<=",function(n){var t=this;return n=G["$coerce_to!"](n,d("Hash"),"to_hash"),F(n,t)}),b(o,"$[]",function(n){var t=this,r=te(t,n);return r!==void 0?r:t.$default(n)}),b(o,"$[]=",function(n,t){var r=this;return N(r),Q(r,n,t),t}),b(o,"$assoc",function(n){var t=this;return A(t,s,function(r,$){return r["$=="](n)?[!0,[r,$]]:[!1,s]})}),b(o,"$clear",function(){var n=this;return N(n),n.clear(),n.$$keys&&n.$$keys.clear(),n}),b(o,"$clone",function(){var n=this,t=n.$class().$new();return B(n,t),n["$frozen?"]()?t.$freeze():t}),b(o,"$compact",function(){var n=this,t=new Map;return A(n,t,function(r,$){return $!==s&&Q(t,r,$),[!1,t]})}),b(o,"$compact!",function(){var n=this;N(n);var t=s;return A(n,t,function(r,$){return $===s&&(P(n,r),t=n),[!1,t]})}),b(o,"$compare_by_identity",function(){var n=this;return N(n),n.$$by_identity||(n.$$by_identity=!0,n.size!==0&&e.hash_rehash(n)),n}),b(o,"$compare_by_identity?",function(){var n=this;return n.$$by_identity===!0}),b(o,"$default",function(n){var t=this;return n!==void 0&&t.$$proc!==s&&t.$$proc!==void 0?t.$$proc.$call(t,n):t.$$none===void 0?s:t.$$none},-1),b(o,"$default=",function(n){var t=this;return N(t),t.$$proc=s,t.$$none=n,n}),b(o,"$default_proc",function(){var n=this;return n.$$proc!==void 0?n.$$proc:s}),b(o,"$default_proc=",function(n){var t=this;N(t);var r=n;return r!==s&&(r=G["$coerce_to!"](r,d("Proc"),"to_proc"),r["$lambda?"]()&&r.$arity().$abs()!==2&&ee.$raise(d("TypeError"),"default_proc takes two arguments")),t.$$none=s,t.$$proc=r,n}),b(o,"$delete",function a(n){var t=a.$$p||s,r=this;a.$$p=null,N(r);var $=P(r,n);return $!==void 0?$:t!==s?e.yield1(t,n):s}),b(o,"$delete_if",function a(){var n=a.$$p||s,t=this;return a.$$p=null,z(n)?(N(t),A(t,t,function(r,$){var i=n(r,$);return i!==!1&&i!==s&&P(t,r),[!1,t]})):y(t,"enum_for",["delete_if"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:t})}),b(o,"$dig",function(n,t){var r,$,i=this,u=s;return r=W(arguments,1),$=r,u=i["$[]"](n),u===s||$.length===0?u:(z(u["$respond_to?"]("dig"))||ee.$raise(d("TypeError"),""+u.$class()+" does not have #dig method"),y(u,"dig",D($)))},-2),b(o,"$dup",function(){var n=this;return B(n,n.$class().$new())}),b(o,"$each",function a(){var n=a.$$p||s,t=this;return a.$$p=null,z(n)?A(t,t,function(r,$){return E(n,[r,$]),[!1,t]}):y(t,"enum_for",["each"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:t})}),b(o,"$each_key",function a(){var n=a.$$p||s,t=this;return a.$$p=null,z(n)?A(t,t,function(r,$){return n(r),[!1,t]}):y(t,"enum_for",["each_key"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:t})}),b(o,"$each_value",function a(){var n=a.$$p||s,t=this;return a.$$p=null,z(n)?A(t,t,function(r,$){return n($),[!1,t]}):y(t,"enum_for",["each_value"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:t})}),b(o,"$empty?",function(){var n=this;return n.size===0}),b(o,"$except",function(n){var t,r,$=this;return t=W(arguments),r=t,y($.$dup(),"except!",D(r))},-1),b(o,"$except!",function(n){var t,r,$=this;return t=W(arguments),r=t,y(r,"each",[],function i(u){var p=i.$$s==null?this:i.$$s;return u==null&&(u=s),p.$delete(u)},{$$s:$}),$},-1),b(o,"$fetch",function a(n,t){var r=a.$$p||s,$=this;a.$$p=null;var i=te($,n);return i!==void 0?i:r!==s?r(n):t!==void 0?t:ee.$raise(d("KeyError").$new("key not found: "+n.$inspect(),new Map([["key",n],["receiver",$]])))},-2),b(o,"$fetch_values",function a(n){var t=a.$$p||s,r,$,i=this;return a.$$p=null,r=W(arguments),$=r,y($,"map",[],function u(p){var S=u.$$s==null?this:u.$$s;return p==null&&(p=s),y(S,"fetch",[p],t.$to_proc())},{$$s:i})},-1),b(o,"$flatten",function(n){var t=this;n==null&&(n=1),n=G["$coerce_to!"](n,d("Integer"),"to_int");var r=[];return A(t,r,function($,i){return r.push($),i.$$is_array?n===1?(r.push(i),[!1,r]):(r=r.concat(i.$flatten(n-2)),[!1,r]):(r.push(i),[!1,r])})},-1),b(o,"$freeze",function(){var n=this;return z(n["$frozen?"]())?n:Z(n)}),b(o,"$has_key?",function(n){var t=this;return te(t,n)!==void 0}),b(o,"$has_value?",function(n){var t=this;return A(t,!1,function(r,$){return $["$=="](n)?[!0,!0]:[!1,!1]})});var _;b(o,"$hash",function(){var n=this,t=_===void 0,r=n.$object_id(),$=g(),i,u,p,S=n.size,M=new Int32Array(S);if($=K($,4),$=K($,S),t)_=Object.create(null);else if(_[r])return K($,16843009);try{for(i in _)if(u=_[i],n["$eql?"](u))return K($,16843009);for(_[r]=n,p=0,A(n,!1,function(T,H){return M[p]=[1883326802,T,H].$hash(),p++,[!1,!1]}),M=M.sort(),p=0;p<M.length;p++)$=K($,M[p]);return $}finally{t&&(_=void 0)}}),b(o,"$index",function(n){var t=this;return A(t,s,function(r,$){return $["$=="](n)?[!0,r]:[!1,s]})}),b(o,"$indexes",function(n){var t,r,$=this;t=W(arguments),r=t;for(var i=[],u=0,p=r.length,S,M;u<p;u++){if(S=r[u],M=te($,S),M===void 0){i.push($.$default());continue}i.push(M)}return i},-1);var f;return b(o,"$inspect",function(){var n=this,t=f===void 0,r=n.$object_id(),$=[];return function(){try{if(t&&(f={}),f.hasOwnProperty(r))return"{...}";return f[r]=!0,A(n,!1,function(i,u){return u=L("Opal").$inspect(u),i=L("Opal").$inspect(i),$.push(i+"=>"+u),[!1,!1]}),"{"+$.join(", ")+"}";return s}finally{t&&(f=void 0)}}()}),b(o,"$invert",function(){var n=this,t=new Map;return A(n,t,function(r,$){return Q(t,$,r),[!1,t]})}),b(o,"$keep_if",function a(){var n=a.$$p||s,t=this;return a.$$p=null,z(n)?(N(t),A(t,t,function(r,$){var i=n(r,$);return(i===!1||i===s)&&P(t,r),[!1,t]})):y(t,"enum_for",["keep_if"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:t})}),b(o,"$keys",function(){var n=this;return Array.from(n.keys())}),b(o,"$length",function(){var n=this;return n.size}),b(o,"$merge",function a(n){var t=a.$$p||s,r,$,i=this;return a.$$p=null,r=W(arguments),$=r,y(i.$dup(),"merge!",D($),t.$to_proc())},-1),b(o,"$merge!",function a(n){var t=a.$$p||s,r,$,i=this;a.$$p=null,r=W(arguments),$=r,N(i);var u,p;for(u=0;u<$.length;++u)p=G["$coerce_to!"]($[u],d("Hash"),"to_hash"),t===s?A(p,!1,function(S,M){return Q(i,S,M),[!1,!1]}):A(p,!1,function(S,M){var T=te(i,S);return T===void 0?(Q(i,S,M),[!1,!1]):(Q(i,S,t(S,T,M)),[!1,!1])});return i},-1),b(o,"$rassoc",function(n){var t=this;return A(t,s,function(r,$){return $["$=="](n)?[!0,[r,$]]:[!1,s]})}),b(o,"$rehash",function(){var n=this;return N(n),e.hash_rehash(n)}),b(o,"$reject",function a(){var n=a.$$p||s,t=this;if(a.$$p=null,!z(n))return y(t,"enum_for",["reject"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:t});var r=new Map;return A(t,r,function($,i){var u=n($,i);return(u===!1||u===s)&&Q(r,$,i),[!1,r]})}),b(o,"$reject!",function a(){var n=a.$$p||s,t=this;if(a.$$p=null,!z(n))return y(t,"enum_for",["reject!"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:t});N(t);var r=s;return A(t,r,function($,i){var u=n($,i);return u!==!1&&u!==s&&(P(t,$),r=t),[!1,r]})}),b(o,"$replace",function(n){var t=this;return N(t),n=G["$coerce_to!"](n,d("Hash"),"to_hash"),t.$clear(),A(n,!1,function(r,$){return Q(t,r,$),[!1,!1]}),z(n.$default_proc())?t["$default_proc="](n.$default_proc()):t["$default="](n.$default()),t}),b(o,"$select",function a(){var n=a.$$p||s,t=this;if(a.$$p=null,!z(n))return y(t,"enum_for",["select"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:t});var r=new Map;return A(t,r,function($,i){var u=n($,i);return u!==!1&&u!==s&&Q(r,$,i),[!1,r]})}),b(o,"$select!",function a(){var n=a.$$p||s,t=this;if(a.$$p=null,!z(n))return y(t,"enum_for",["select!"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:t});N(t);var r=s;return A(t,r,function($,i){var u=n($,i);return(u===!1||u===s)&&(P(t,$),r=t),[!1,r]})}),b(o,"$shift",function(){var n=this;return N(n),A(n,s,function(t,r){return[!0,[t,P(n,t)]]})}),b(o,"$slice",function(n){var t,r,$=this;t=W(arguments),r=t;for(var i=new Map,u=0,p=r.length;u<p;u++){var S=r[u],M=te($,S);M!==void 0&&Q(i,S,M)}return i},-1),b(o,"$to_a",function(){var n=this,t=[];return A(n,t,function(r,$){return t.push([r,$]),[!1,t]})}),b(o,"$to_h",function a(){var n=a.$$p||s,t=this;if(a.$$p=null,n!==s)return y(t,"map",[],n.$to_proc()).$to_h();if(t.$$class===e.Hash)return t;var r=new Map;return B(t,r),r}),b(o,"$to_hash",m),b(o,"$to_proc",function(){var n=this;return y(n,"proc",[],function t(r){var $=t.$$s==null?this:t.$$s;return r==null&&ee.$raise(d("ArgumentError"),"no key given"),$["$[]"](r)},{$$arity:-1,$$s:n})}),b(o,"$transform_keys",function a(n){var t=a.$$p||s,r=this;if(a.$$p=null,n==null&&(n=s),q(t)&&q(n))return y(r,"enum_for",["transform_keys"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:r});var $=new Map;return A(r,$,function(i,u){var p;return n!==s&&(p=te(n,i)),p===void 0&&t&&t!==s&&(p=t(i)),p===void 0&&(p=i),Q($,p,u),[!1,$]})},-1),b(o,"$transform_keys!",function a(n){var t=a.$$p||s,r=this;if(a.$$p=null,n==null&&(n=s),q(t)&&q(n))return y(r,"enum_for",["transform_keys!"],function i(){var u=i.$$s==null?this:i.$$s;return u.$size()},{$$s:r});N(r);var $=new Map;return A(r,r,function(i,u){var p;return n!==s&&(p=te(n,i)),p===void 0&&t&&t!==s&&(p=t(i)),p===void 0?[!1,r]:(te($,i)||P(r,i),Q(r,p,u),Q($,p,!0),[!1,r])})},-1),b(o,"$transform_values",function a(){var n=a.$$p||s,t=this;if(a.$$p=null,!z(n))return y(t,"enum_for",["transform_values"],function $(){var i=$.$$s==null?this:$.$$s;return i.$size()},{$$s:t});var r=new Map;return A(t,r,function($,i){return Q(r,$,n(i)),[!1,r]})}),b(o,"$transform_values!",function a(){var n=a.$$p||s,t=this;return a.$$p=null,z(n)?(N(t),A(t,t,function(r,$){return Q(t,r,n($)),[!1,t]})):y(t,"enum_for",["transform_values!"],function r(){var $=r.$$s==null?this:r.$$s;return $.$size()},{$$s:t})}),b(o,"$values",function(){var n=this;return Array.from(n.values())}),R(o,"each_pair","each"),R(o,"eql?","=="),R(o,"filter","select"),R(o,"filter!","select!"),R(o,"include?","has_key?"),R(o,"indices","indexes"),R(o,"key","index"),R(o,"key?","has_key?"),R(o,"member?","has_key?"),R(o,"size","length"),R(o,"store","[]="),R(o,"to_s","inspect"),R(o,"update","merge!"),R(o,"value?","has_value?"),R(o,"values_at","indexes")}("::",Map,w)};Opal.modules["corelib/number"]=function(e){var E=e.klass,B=e.Opal,P=e.Kernel,A=e.def,te=e.eqeqeq,Q=e.truthy,N=e.rb_gt,Z=e.not,g=e.rb_lt,K=e.alias,$e=e.send2,W=e.find_super,G=e.send,ee=e.rb_plus,V=e.rb_minus,b=e.eqeq,y=e.return_self,F=e.rb_divide,Y=e.to_ary,z=e.rb_times,D=e.rb_le,m=e.rb_ge,q=e.return_val,R=e.const_set,x=e.top,w=[],s=e.nil,d=e.$$$;return e.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),x.$require("corelib/numeric"),function(k,h,c){var o=E(k,h,"Number");B.$bridge(Number,o),e.prop(o.$$prototype,"$$is_number",!0),o.$$is_number_class=!0;var X=new Map;(function(t,r){return A(t,"$allocate",function(){var i=this;return P.$raise(d("TypeError"),"allocator undefined for "+i.$name())}),e.udef(t,"$new"),s})(e.get_singleton_class(o)),A(o,"$coerce",function(r){var $=this;if(r===s)P.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float");else{if(r.$$is_string)return[P.$Float(r),$];if(r["$respond_to?"]("to_f"))return[B["$coerce_to!"](r,d("Float"),"to_f"),$];if(r.$$is_number)return[r,$];P.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float")}}),A(o,"$__id__",function(){var r=this;if(r|r===0)return r*2+1;if(X.has(r))return X.get(r);var $=e.uid();return X.set(r,$),$}),A(o,"$hash",function(){var r=this;return r|r===0?r.$__id__():r.toString().$hash()}),A(o,"$+",function(r){var $=this;return r.$$is_number?$+r:$.$__coerced__("+",r)}),A(o,"$-",function(r){var $=this;return r.$$is_number?$-r:$.$__coerced__("-",r)}),A(o,"$*",function(r){var $=this;return r.$$is_number?$*r:$.$__coerced__("*",r)}),A(o,"$/",function(r){var $=this;return r.$$is_number?$/r:$.$__coerced__("/",r)}),A(o,"$%",function(r){var $=this;if(r.$$is_number){if(r==-1/0)return r;if(r==0)P.$raise(d("ZeroDivisionError"),"divided by 0");else return r<0||$<0?($%r+r)%r:$%r}else return $.$__coerced__("%",r)}),A(o,"$&",function(r){var $=this;return r.$$is_number?$&r:$.$__coerced__("&",r)}),A(o,"$|",function(r){var $=this;return r.$$is_number?$|r:$.$__coerced__("|",r)}),A(o,"$^",function(r){var $=this;return r.$$is_number?$^r:$.$__coerced__("^",r)}),A(o,"$<",function(r){var $=this;return r.$$is_number?$<r:$.$__coerced__("<",r)}),A(o,"$<=",function(r){var $=this;return r.$$is_number?$<=r:$.$__coerced__("<=",r)}),A(o,"$>",function(r){var $=this;return r.$$is_number?$>r:$.$__coerced__(">",r)}),A(o,"$>=",function(r){var $=this;return r.$$is_number?$>=r:$.$__coerced__(">=",r)});var L=function(t,r){return r.$$is_number?isNaN(t)||isNaN(r)?s:t>r?1:t<r?-1:0:t.$__coerced__("<=>",r)};A(o,"$<=>",function(r){var $=this;try{return L($,r)}catch(i){if(e.rescue(i,[d("ArgumentError")]))try{return s}finally{e.pop_exception(i)}else throw i}}),A(o,"$<<",function(r){var $=this;return r=B["$coerce_to!"](r,d("Integer"),"to_int"),r>0?$<<r:$>>-r}),A(o,"$>>",function(r){var $=this;return r=B["$coerce_to!"](r,d("Integer"),"to_int"),r>0?$>>r:$<<-r}),A(o,"$[]",function(r){var $=this;return r=B["$coerce_to!"](r,d("Integer"),"to_int"),r<0?0:r>=32?$<0?1:0:$>>r&1}),A(o,"$+@",function(){var r=this;return+r}),A(o,"$-@",function(){var r=this;return-r}),A(o,"$~",function(){var r=this;return~r}),A(o,"$**",function(r){var $=this;return te(d("Integer"),r)?Z(d("Integer")["$==="]($))||Q(N(r,0))?Math.pow($,r):d("Rational").$new($,1)["$**"](r):Q(g($,0))&&(te(d("Float"),r)||te(d("Rational"),r))?d("Complex").$new($,0)["$**"](r.$to_f()):Q(r.$$is_number!=null)?Math.pow($,r):$.$__coerced__("**",r)}),A(o,"$==",function(r){var $=this;return r.$$is_number?$.valueOf()===r.valueOf():r["$respond_to?"]("==")?r["$=="]($):!1}),K(o,"===","=="),A(o,"$abs",function(){var r=this;return Math.abs(r)}),A(o,"$abs2",function(){var r=this;return Math.abs(r*r)}),A(o,"$allbits?",function(r){var $=this;return r=B["$coerce_to!"](r,d("Integer"),"to_int"),($&r)==r}),A(o,"$anybits?",function(r){var $=this;return r=B["$coerce_to!"](r,d("Integer"),"to_int"),($&r)!==0}),A(o,"$angle",function(){var r=this;return Q(r["$nan?"]())?r:r==0?1/r>0?0:Math.PI:r<0?Math.PI:0}),A(o,"$bit_length",function(){var r=this;if(te(d("Integer"),r)||P.$raise(d("NoMethodError").$new("undefined method `bit_length` for "+r+":Float","bit_length")),r===0||r===-1)return 0;for(var $=0,i=r<0?~r:r;i!=0;)$+=1,i>>>=1;return $}),A(o,"$ceil",function(r){var $=this;r==null&&(r=0);var i=$.$to_f();if(i%1===0&&r>=0)return i;var u=Math.pow(10,r),p=Math.ceil(i*u)/u;return i%1===0&&(p=Math.round(p)),p},-1),A(o,"$chr",function(r){var $=this;return e.enc(String.fromCharCode($),r||"BINARY")},-1),A(o,"$denominator",function t(){var r=t.$$p||s,$=this;return t.$$p=null,Q($["$nan?"]())||Q($["$infinite?"]())?1:$e($,W($,"denominator",t,!1,!0),"denominator",[],r)}),A(o,"$downto",function t(r){var $=t.$$p||s,i=this;if(t.$$p=null,$===s)return G(i,"enum_for",["downto",r],function p(){var S=p.$$s==null?this:p.$$s;return te(d("Numeric"),r)||P.$raise(d("ArgumentError"),"comparison of "+S.$class()+" with "+r.$class()+" failed"),Q(N(r,S))?0:ee(V(S,r),1)},{$$s:i});r.$$is_number||P.$raise(d("ArgumentError"),"comparison of "+i.$class()+" with "+r.$class()+" failed");for(var u=i;u>=r;u--)$(u);return i}),A(o,"$equal?",function(r){var $=this,i=s;return Q(i=$["$=="](r))?i:isNaN($)&&isNaN(r)}),A(o,"$even?",function(){var r=this;return r%2===0}),A(o,"$floor",function(r){var $=this;r==null&&(r=0);var i=$.$to_f();if(i%1===0&&r>=0)return i;var u=Math.pow(10,r),p=Math.floor(i*u)/u;return i%1===0&&(p=Math.round(p)),p},-1),A(o,"$gcd",function(r){var $=this;te(d("Integer"),r)||P.$raise(d("TypeError"),"not an integer");for(var i=Math.abs($),u=Math.abs(r);i>0;){var p=i;i=u%i,u=p}return u}),A(o,"$gcdlcm",function(r){var $=this;return[$.$gcd(r),$.$lcm(r)]}),A(o,"$integer?",function(){var r=this;return r%1===0}),A(o,"$is_a?",function t(r){var $=t.$$p||s,i=this;return t.$$p=null,b(r,d("Integer"))&&te(d("Integer"),i)||b(r,d("Integer"))&&te(d("Integer"),i)||b(r,d("Float"))&&te(d("Float"),i)?!0:$e(i,W(i,"is_a?",t,!1,!0),"is_a?",[r],$)}),A(o,"$instance_of?",function t(r){var $=t.$$p||s,i=this;return t.$$p=null,b(r,d("Integer"))&&te(d("Integer"),i)||b(r,d("Integer"))&&te(d("Integer"),i)||b(r,d("Float"))&&te(d("Float"),i)?!0:$e(i,W(i,"instance_of?",t,!1,!0),"instance_of?",[r],$)}),A(o,"$lcm",function(r){var $=this;return te(d("Integer"),r)||P.$raise(d("TypeError"),"not an integer"),$==0||r==0?0:Math.abs($*r/$.$gcd(r))}),A(o,"$next",function(){var r=this;return r+1}),A(o,"$nobits?",function(r){var $=this;return r=B["$coerce_to!"](r,d("Integer"),"to_int"),($&r)==0}),A(o,"$nonzero?",function(){var r=this;return r==0?s:r}),A(o,"$numerator",function t(){var r=t.$$p||s,$=this;return t.$$p=null,Q($["$nan?"]())||Q($["$infinite?"]())?$:$e($,W($,"numerator",t,!1,!0),"numerator",[],r)}),A(o,"$odd?",function(){var r=this;return r%2!==0}),A(o,"$ord",y),A(o,"$pow",function(r,$){var i=this;return i==0&&P.$raise(d("ZeroDivisionError"),"divided by 0"),$===void 0?i["$**"](r):(d("Integer")["$==="](r)||P.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),r<0&&P.$raise(d("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),d("Integer")["$==="]($)||P.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),$===0&&P.$raise(d("ZeroDivisionError"),"divided by 0"),i["$**"](r)["$%"]($))},-2),A(o,"$pred",function(){var r=this;return r-1}),A(o,"$quo",function t(r){var $=t.$$p||s,i=this;return t.$$p=null,te(d("Integer"),i)?$e(i,W(i,"quo",t,!1,!0),"quo",[r],$):F(i,r)}),A(o,"$rationalize",function(r){var $,i,u=this,p=s,S=s;return arguments.length>1&&P.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),te(d("Integer"),u)?d("Rational").$new(u,1):Q(u["$infinite?"]())?P.$raise(d("FloatDomainError"),"Infinity"):Q(u["$nan?"]())?P.$raise(d("FloatDomainError"),"NaN"):Q(r==null)?(i=d("Math").$frexp(u),$=Y(i),p=$[0]==null?s:$[0],S=$[1]==null?s:$[1],p=d("Math").$ldexp(p,d(d("Float"),"MANT_DIG")).$to_i(),S=V(S,d(d("Float"),"MANT_DIG")),d("Rational").$new(z(2,p),1["$<<"](V(1,S))).$rationalize(d("Rational").$new(1,1["$<<"](V(1,S))))):u.$to_r().$rationalize(r)},-1),A(o,"$remainder",function(r){var $=this;return V($,z(r,F($,r).$truncate()))}),A(o,"$round",function(r){var $,i,u=this,p=s;if(te(d("Integer"),u)){if(Q(r==null)||(te(d("Float"),r)&&Q(r["$infinite?"]())&&P.$raise(d("RangeError"),"Infinity"),r=B["$coerce_to!"](r,d("Integer"),"to_int"),Q(g(r,d(d("Integer"),"MIN")))&&P.$raise(d("RangeError"),"out of bounds"),Q(r>=0)))return u;if(r=r["$-@"](),.415241*r-.125>u.$size())return 0;var S=Math.pow(10,r),M=Math.floor((Math.abs(u)+S/2)/S)*S;return u<0?-M:M}else{if(Q(u["$nan?"]())&&Q(r==null)&&P.$raise(d("FloatDomainError"),"NaN"),r=B["$coerce_to!"](r||0,d("Integer"),"to_int"),Q(D(r,0)))Q(u["$nan?"]())?P.$raise(d("RangeError"),"NaN"):Q(u["$infinite?"]())&&P.$raise(d("FloatDomainError"),"Infinity");else{if(b(r,0))return Math.round(u);if(Q(u["$nan?"]())||Q(u["$infinite?"]()))return u}return i=d("Math").$frexp(u),$=Y(i),$[0]==null||$[0],p=$[1]==null?s:$[1],Q(m(r,V(ee(d(d("Float"),"DIG"),2),Q(N(p,0))?F(p,4):V(F(p,3),1))))?u:Q(g(r,(Q(N(p,0))?ee(F(p,3),1):F(p,4))["$-@"]()))?0:Math.round(u*Math.pow(10,r))/Math.pow(10,r)}},-1),A(o,"$times",function t(){var r=t.$$p||s,$=this;if(t.$$p=null,!Q(r))return G($,"enum_for",["times"],function u(){var p=u.$$s==null?this:u.$$s;return p},{$$s:$});for(var i=0;i<$;i++)r(i);return $}),A(o,"$to_f",y),A(o,"$to_i",function(){var r=this;return r<0?Math.ceil(r):Math.floor(r)}),A(o,"$to_r",function(){var r,$,i=this,u=s,p=s;return te(d("Integer"),i)?d("Rational").$new(i,1):($=d("Math").$frexp(i),r=Y($),u=r[0]==null?s:r[0],p=r[1]==null?s:r[1],u=d("Math").$ldexp(u,d(d("Float"),"MANT_DIG")).$to_i(),p=V(p,d(d("Float"),"MANT_DIG")),z(u,d(d("Float"),"RADIX")["$**"](p)).$to_r())}),A(o,"$to_s",function(r){var $=this;return r==null&&(r=10),r=B["$coerce_to!"](r,d("Integer"),"to_int"),(Q(g(r,2))||Q(N(r,36)))&&P.$raise(d("ArgumentError"),"invalid radix "+r),b($,0)&&Q(1/$===-1/0)?"-0.0":$.toString(r)},-1),A(o,"$truncate",function(r){var $=this;r==null&&(r=0);var i=$.$to_f();if(i%1===0&&r>=0)return i;var u=Math.pow(10,r),p=parseInt(i*u,10)/u;return i%1===0&&(p=Math.round(p)),p},-1),A(o,"$digits",function(r){var $=this;r==null&&(r=10),Q(g($,0))&&P.$raise(d(d("Math"),"DomainError"),"out of domain"),r=B["$coerce_to!"](r,d("Integer"),"to_int"),Q(g(r,2))&&P.$raise(d("ArgumentError"),"invalid radix "+r),$!=parseInt($)&&P.$raise(d("NoMethodError"),"undefined method `digits' for "+$.$inspect());var i=$,u=[];if($==0)return[0];for(;i!=0;)u.push(i%r),i=parseInt(i/r,10);return u},-1),A(o,"$divmod",function t(r){var $=t.$$p||s,i=this;return t.$$p=null,Q(i["$nan?"]())||Q(r["$nan?"]())?P.$raise(d("FloatDomainError"),"NaN"):Q(i["$infinite?"]())?P.$raise(d("FloatDomainError"),"Infinity"):$e(i,W(i,"divmod",t,!1,!0),"divmod",[r],$)}),A(o,"$upto",function t(r){var $=t.$$p||s,i=this;if(t.$$p=null,$===s)return G(i,"enum_for",["upto",r],function p(){var S=p.$$s==null?this:p.$$s;return te(d("Numeric"),r)||P.$raise(d("ArgumentError"),"comparison of "+S.$class()+" with "+r.$class()+" failed"),Q(g(r,S))?0:ee(V(r,S),1)},{$$s:i});r.$$is_number||P.$raise(d("ArgumentError"),"comparison of "+i.$class()+" with "+r.$class()+" failed");for(var u=i;u<=r;u++)$(u);return i}),A(o,"$zero?",function(){var r=this;return r==0}),A(o,"$size",q(4)),A(o,"$nan?",function(){var r=this;return isNaN(r)}),A(o,"$finite?",function(){var r=this;return r!=1/0&&r!=-1/0&&!isNaN(r)}),A(o,"$infinite?",function(){var r=this;return r==1/0?1:r==-1/0?-1:s}),A(o,"$positive?",function(){var r=this;return r!=0&&(r==1/0||1/r>0)}),A(o,"$negative?",function(){var r=this;return r==-1/0||1/r<0});function _(t){var r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,t,!0),r}function f(t){return new DataView(t.buffer).getFloat64(0,!0)}function a(t){for(var r=_(t),$=0;$<r.length;$++)if(r[$]===255)r[$]=0;else{r[$]++;break}return f(r)}function n(t){for(var r=_(t),$=0;$<r.length;$++)if(r[$]===0)r[$]=255;else{r[$]--;break}return f(r)}return A(o,"$next_float",function(){var r=this;return b(r,d(d("Float"),"INFINITY"))?d(d("Float"),"INFINITY"):Q(r["$nan?"]())?d(d("Float"),"NAN"):Q(m(r,0))?a(Math.abs(r)):n(r)}),A(o,"$prev_float",function(){var r=this;return b(r,d(d("Float"),"INFINITY")["$-@"]())?d(d("Float"),"INFINITY")["$-@"]():Q(r["$nan?"]())?d(d("Float"),"NAN"):Q(N(r,0))?n(r):-a(Math.abs(r))}),K(o,"arg","angle"),K(o,"eql?","=="),K(o,"fdiv","/"),K(o,"inspect","to_s"),K(o,"kind_of?","is_a?"),K(o,"magnitude","abs"),K(o,"modulo","%"),K(o,"object_id","__id__"),K(o,"phase","angle"),K(o,"succ","next"),K(o,"to_int","to_i")}("::",d("Numeric")),R("::","Fixnum",d("Number")),function(k,h,c){var o=E(k,h,"Integer"),X=[o].concat(c);return o.$$is_number_class=!0,o.$$is_integer_class=!0,function(L,_){var f=[L].concat(_),a=e.$r(f);return A(L,"$allocate",function(){var t=this;return P.$raise(d("TypeError"),"allocator undefined for "+t.$name())}),e.udef(L,"$new"),A(L,"$sqrt",function(t){return t=B["$coerce_to!"](t,d("Integer"),"to_int"),t<0&&P.$raise(d(d("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)}),A(L,"$try_convert",function(t){var r=this;return a("Opal")["$coerce_to?"](t,r,"to_int")})}(e.get_singleton_class(o),X),R(o,"MAX",Math.pow(2,30)-1),R(o,"MIN",-Math.pow(2,30))}("::",d("Numeric"),w),function(k,h,c){var o=E(k,h,"Float");return o.$$is_number_class=!0,function(X,L){return A(X,"$allocate",function(){var f=this;return P.$raise(d("TypeError"),"allocator undefined for "+f.$name())}),e.udef(X,"$new"),A(X,"$===",function(f){return!!f.$$is_number})}(e.get_singleton_class(o)),R(o,"INFINITY",1/0),R(o,"MAX",Number.MAX_VALUE),R(o,"MIN",Number.MIN_VALUE),R(o,"NAN",NaN),R(o,"DIG",15),R(o,"MANT_DIG",53),R(o,"RADIX",2),R(o,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",d("Numeric"))};Opal.modules["corelib/range"]=function(e){var E=e.klass,B=e.truthy,P=e.Kernel,A=e.def,te=e.not,Q=e.send2,N=e.find_super,Z=e.lambda,g=e.send,K=e.rb_ge,$e=e.rb_gt,W=e.eqeq,G=e.rb_le,ee=e.rb_lt,V=e.eqeqeq,b=e.return_ivar,y=e.rb_minus,F=e.Opal,Y=e.rb_divide,z=e.rb_plus,D=e.rb_times,m=e.thrower,q=e.alias,R=e.top,x=[],w=e.nil,s=e.$$$;return e.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),R.$require("corelib/enumerable"),function(d,k,h){var c=E(d,k,"Range"),o=[c].concat(h),X=e.$r(o),L=c.$$prototype;L.begin=L.end=L.excl=w,c.$include(s("Enumerable")),c.$$prototype.$$is_range=!0,c.$attr_reader("begin","end"),A(c,"$initialize",function(a,n,t){var r=this;return t==null&&(t=!1),B(r.begin)&&P.$raise(s("NameError"),"'initialize' called twice"),B(a["$<=>"](n))||B(a["$nil?"]())||B(n["$nil?"]())||P.$raise(s("ArgumentError"),"bad value for range"),r.begin=a,r.end=n,r.excl=t},-3),A(c,"$===",function(a){var n=this;return B(a.$$is_range)?!1:n["$cover?"](a)});function _(f){return f.begin===w||f.end===w||f.begin===-1/0||f.end===1/0||f.begin===1/0||f.end===-1/0}return A(c,"$count",function f(){var a=f.$$p||w,n=this;return f.$$p=null,te(a!==w)&&B(_(n))?s(s("Float"),"INFINITY"):Q(n,N(n,"count",f,!1,!0),"count",[],a)}),A(c,"$to_a",function f(){var a=f.$$p||w,n=this;return f.$$p=null,B(_(n))&&P.$raise(s("TypeError"),"cannot convert endless range to an array"),Q(n,N(n,"to_a",f,!1,!0),"to_a",[],a)}),A(c,"$cover?",function(a){var n=this,t=w,r=w,$=w,i=w,u=w,p=w,S=w,M=w;return t=Z(function(H,O){var ae=w;return H==null&&(H=w),O==null&&(O=w),B(ae=H["$<=>"](O))?ae:1}),B(a.$$is_range)?(r=a.$begin(),$=a.$end(),i=a["$exclude_end?"](),B(n.begin)&&B(r["$nil?"]())||B(n.end)&&B($["$nil?"]())||B(r)&&B($)&&B(g(t.$call(r,$),"then",[],function(H){return H==null&&(H=w),B(i)?K(H,0):$e(H,0)}))||B(r)&&te(n["$cover?"](r))?!1:(u=t.$call(n.end,$),W(n.excl,i)?K(u,0):B(n.excl)?$e(u,0):B(K(u,0))?!0:(p=a.$max(),B(S=p["$nil?"]()["$!"]())?G(t.$call(p,n.end),0):S))):B(n.begin)&&B($e(t.$call(n.begin,a),0))?!1:B(n.end["$nil?"]())?!0:(M=t.$call(a,n.end),B(n.excl)?ee(M,0):G(M,0))}),A(c,"$each",function f(){var a=f.$$p||w,n=this,t=w,r=w,$=w;if(f.$$p=null,a===w)return g(n,"enum_for",["each"],function p(){var S=p.$$s==null?this:p.$$s;return S.$size()},{$$s:n});var i,u;if(n.begin.$$is_number&&n.end.$$is_number){for((n.begin%1!==0||n.end%1!==0)&&P.$raise(s("TypeError"),"can't iterate from Float"),i=n.begin,u=n.end+(B(n.excl)?0:1);i<u;i++)a(i);return n}if(n.begin.$$is_string&&n.end.$$is_string)return g(n.begin,"upto",[n.end,n.excl],a.$to_proc()),n;for(t=n.begin,r=n.end,B(t["$respond_to?"]("succ"))||P.$raise(s("TypeError"),"can't iterate from "+t.$class());B(B($=n.end["$nil?"]())?$:ee(t["$<=>"](r),0));)e.yield1(a,t),t=t.$succ();return te(n.excl)&&W(t,r)&&e.yield1(a,t),n}),A(c,"$eql?",function(a){var n=this,t=w,r=w;return V(s("Range"),a)?B(t=B(r=n.excl["$==="](a["$exclude_end?"]()))?n.begin["$eql?"](a.$begin()):r)?n.end["$eql?"](a.$end()):t:!1}),A(c,"$exclude_end?",b("excl")),A(c,"$first",function f(a){var n=f.$$p||w,t=this;return f.$$p=null,B(t.begin["$nil?"]())&&P.$raise(s("RangeError"),"cannot get the minimum of beginless range"),B(a==null)?t.begin:Q(t,N(t,"first",f,!1,!0),"first",[a],n)},-1),A(c,"$include?",function f(a){var n=f.$$p||w,t=this,r=w,$=w;if(f.$$p=null,B(t.begin.$$is_number||t.end.$$is_number)||B(t.begin["$is_a?"](s("Time")))||B(t.end["$is_a?"](s("Time")))||B(s("Integer").$try_convert(t.begin))||B(s("Integer").$try_convert(t.end)))return t["$cover?"](a);if(B(t.begin.$$is_string||t.end.$$is_string)){if(B(t.begin.$$is_string&&t.end.$$is_string))return g(t.begin.$upto(t.end,t.excl),"any?",[],function(u){return u==null&&(u=w),u["$=="](a)});if(B(t.begin["$nil?"]()))return r=a["$<=>"](t.end),B($=r["$nil?"]()["$!"]())?B(t.excl)?ee(r,0):G(r,0):$;if(B(t.end["$nil?"]()))return r=t.begin["$<=>"](a),B($=r["$nil?"]()["$!"]())?G(r,0):$}return Q(t,N(t,"include?",f,!1,!0),"include?",[a],n)}),A(c,"$last",function(a){var n=this;return B(n.end["$nil?"]())&&P.$raise(s("RangeError"),"cannot get the maximum of endless range"),B(a==null)?n.end:n.$to_a().$last(a)},-1),A(c,"$max",function f(){var a=f.$$p||w,n=this;return f.$$p=null,B(n.end["$nil?"]())?P.$raise(s("RangeError"),"cannot get the maximum of endless range"):a!==w?Q(n,N(n,"max",f,!1,!0),"max",[],a):te(n.begin["$nil?"]())&&(B($e(n.begin,n.end))||B(n.excl)&&W(n.begin,n.end))?w:n.excl?n.end-1:n.end}),A(c,"$min",function f(){var a=f.$$p||w,n=this;return f.$$p=null,B(n.begin["$nil?"]())?P.$raise(s("RangeError"),"cannot get the minimum of beginless range"):a!==w?Q(n,N(n,"min",f,!1,!0),"min",[],a):te(n.end["$nil?"]())&&(B($e(n.begin,n.end))||B(n.excl)&&W(n.begin,n.end))?w:n.begin}),A(c,"$size",function(){var a=this.begin,n=this.end;if(s("Numeric")["$==="](a)){if(s("Numeric")["$==="](n)){var t=y(n,a);return t<0?0:(this.excl||(t+=1),s("Float")["$==="](a)||s("Float")["$==="](n)?Math.floor(t):t)}else if(n===w)return 1/0}else if(a===w&&s("Numeric")["$==="](n))return 1/0;return w}),A(c,"$step",function f(a){var n=f.$$p||w,t=this,r=w,$=w;f.$$p=null;function i(){a==null?a=1:a.$$is_number||(a=F["$coerce_to!"](a,s("Integer"),"to_int")),a<0?P.$raise(s("ArgumentError"),"step can't be negative"):a===0&&P.$raise(s("ArgumentError"),"step can't be 0")}function u(){if(!t.begin["$respond_to?"]("succ")||t.begin.$$is_string&&t.end.$$is_string)return w;if(a%1===0)return Y(t.$size(),a).$ceil();var p=t.begin,S=t.end,M=Math.abs,T=Math.floor,H=(M(p)+M(S)+M(S-p))/M(a)*s(s("Float"),"EPSILON"),O;return H>.5&&(H=.5),t.excl?(O=T((S-p)/a-H),O*a+p<S&&O++):O=T((S-p)/a+H)+1,O}return n===w?(B(t.begin["$is_a?"](X("Numeric")))||B(t.begin["$nil?"]()))&&(B(t.end["$is_a?"](X("Numeric")))||B(t.end["$nil?"]()))&&te(B(r=t.begin["$nil?"]())?t.end["$nil?"]():r)?s(s("Enumerator"),"ArithmeticSequence").$new(t,a,"step"):g(t,"enum_for",["step",a],function(){return i(),u()}):(i(),B(t.begin.$$is_number&&t.end.$$is_number)?($=0,function(){try{var p=m("break");return g(t,"loop",[],function S(){var M=S.$$s==null?this:S.$$s,T=w;return M.begin==null&&(M.begin=w),M.excl==null&&(M.excl=w),M.end==null&&(M.end=w),T=z(M.begin,D($,a)),B(M.excl)?B(K(T,M.end))&&p.$throw(w,S.$$is_lambda):B($e(T,M.end))&&p.$throw(w,S.$$is_lambda),e.yield1(n,T),$=z($,1)},{$$s:t})}catch(S){if(S===p)return S.$v;throw S}finally{p.is_orphan=!0}}()):(t.begin.$$is_string&&t.end.$$is_string&&a%1!==0&&P.$raise(s("TypeError"),"no implicit conversion to float from string"),g(t,"each_with_index",[],function(S,M){return S==null&&(S=w),M==null&&(M=w),W(M["$%"](a),0)?e.yield1(n,S):w})),t)},-1),A(c,"$%",function(a){var n=this;return B(n.begin["$is_a?"](X("Numeric")))&&B(n.end["$is_a?"](X("Numeric")))?s(s("Enumerator"),"ArithmeticSequence").$new(n,a,"%"):n.$step(a)}),A(c,"$bsearch",function f(){var a=f.$$p||w,n=this;return f.$$p=null,a===w?n.$enum_for("bsearch"):(B(_(n)&&(n.begin.$$is_number||n.end.$$is_number))&&P.$raise(s("NotImplementedError"),"Can't #bsearch an infinite range"),B(n.begin.$$is_number&&n.end.$$is_number)||P.$raise(s("TypeError"),"can't do binary search for "+n.begin.$class()),g(n.$to_a(),"bsearch",[],a.$to_proc()))}),A(c,"$to_s",function(){var a=this,n=w;return""+(B(n=a.begin)?n:"")+(B(a.excl)?"...":"..")+(B(n=a.end)?n:"")}),A(c,"$inspect",function(){var a=this,n=w;return""+(B(n=a.begin)?a.begin.$inspect():n)+(B(a.excl)?"...":"..")+(B(n=a.end)?a.end.$inspect():n)}),A(c,"$marshal_load",function(a){var n=this;return n.begin=a["$[]"]("begin"),n.end=a["$[]"]("end"),n.excl=a["$[]"]("excl")}),A(c,"$hash",function(){var a=this;return[s("Range"),a.begin,a.end,a.excl].$hash()}),q(c,"==","eql?"),q(c,"member?","include?")}("::",null,x)};Opal.modules["corelib/proc"]=function(e){var E=e.slice,B=e.each_ivar,P=e.klass,A=e.truthy,te=e.Kernel,Q=e.defs,N=e.def,Z=e.send,g=e.to_a,K=e.return_self,$e=e.ensure_kwargs,W=e.hash_get,G=e.Opal,ee=e.alias,V=e.nil,b=e.$$$;return e.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(y,F){var Y=P(y,F,"Proc");e.prop(Y.$$prototype,"$$is_proc",!0),e.prop(Y.$$prototype,"$$is_lambda",!1),Q(Y,"$new",function m(){var q=m.$$p||V;return m.$$p=null,A(q)||te.$raise(b("ArgumentError"),"tried to create a Proc object without a block"),q});function z(m,q){if(m.$$ret)try{return m.apply(null,q)}catch(R){if(R===m.$$ret)return R.$v;throw R}else return m.apply(null,q)}function D(m,q){if(m.$$brk)try{return e.yieldX(m,q)}catch(R){if(R===m.$$brk)return R.$v;throw R}else return e.yieldX(m,q)}return N(Y,"$call",function m(q){var R=m.$$p||V,x,w,s=this;return m.$$p=null,x=E(arguments),w=x,R!==V&&(s.$$p=R),s.$$is_lambda?z(s,w):D(s,w)},-1),N(Y,"$>>",function m(q){m.$$p;var R=this;return m.$$p=null,Z(te,"proc",[],function x(w){var s=x.$$p||V,d,k,h=x.$$s==null?this:x.$$s,c=V;return x.$$p=null,d=E(arguments),k=d,c=Z(h,"call",g(k),s.$to_proc()),q.$call(c)},{$$arity:-1,$$s:R})}),N(Y,"$<<",function m(q){m.$$p;var R=this;return m.$$p=null,Z(te,"proc",[],function x(w){var s=x.$$p||V,d,k,h=x.$$s==null?this:x.$$s,c=V;return x.$$p=null,d=E(arguments),k=d,c=Z(q,"call",g(k),s.$to_proc()),h.$call(c)},{$$arity:-1,$$s:R})}),N(Y,"$to_proc",K),N(Y,"$lambda?",function(){var q=this;return!!q.$$is_lambda}),N(Y,"$arity",function(){var q=this;return q.$$is_curried?-1:q.$$arity!=null?q.$$arity:q.length}),N(Y,"$source_location",function(){var q=this,R=V;return q.$$is_curried?V:A(R=q.$$source_location)?R:V}),N(Y,"$binding",function(){var q=this;return q.$$is_curried&&te.$raise(b("ArgumentError"),"Can't create Binding"),A(b("::","Binding","skip_raise")?"constant":V)?b("Binding").$new(V,[],q.$$s,q.$source_location()):V}),N(Y,"$parameters",function(q){var R,x=this;if(q=$e(q),R=W(q,"lambda"),x.$$is_curried)return[["rest"]];if(x.$$parameters){if(R??x.$$is_lambda)return x.$$parameters;var w=[],s,d;for(s=0,d=x.$$parameters.length;s<d;s++){var k=x.$$parameters[s];k[0]==="req"&&(k=["opt",k[1]]),w.push(k)}return w}else return[]},-1),N(Y,"$curry",function(q){var R=this;q===void 0?q=R.length:(q=G["$coerce_to!"](q,b("Integer"),"to_int"),R.$$is_lambda&&q!==R.length&&te.$raise(b("ArgumentError"),"wrong number of arguments ("+q+" for "+R.length+")"));function x(){var w=E(arguments),s=w.length,d;return s>q&&R.$$is_lambda&&!R.$$is_curried&&te.$raise(b("ArgumentError"),"wrong number of arguments ("+s+" for "+q+")"),s>=q?R.$call.apply(R,w):(d=function(){return x.apply(null,w.concat(E(arguments)))},d.$$is_lambda=R.$$is_lambda,d.$$is_curried=!0,d)}return x.$$is_lambda=R.$$is_lambda,x.$$is_curried=!0,x},-1),N(Y,"$dup",function(){var q=this,R=q.$$original_proc||q,x=function(){return R.apply(this,arguments)};return B(q,function(w){x[w]=q[w]}),x}),ee(Y,"===","call"),ee(Y,"clone","dup"),ee(Y,"yield","call"),ee(Y,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(e){var E=e.klass,B=e.def,P=e.truthy,A=e.slice,te=e.alias,Q=e.Kernel,N=e.send,Z=e.to_a,g=e.nil,K=e.$$$;return e.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function($e,W){var G=E($e,W,"Method"),ee=G.$$prototype;return ee.method=ee.receiver=ee.owner=ee.name=g,G.$attr_reader("owner","receiver","name"),B(G,"$initialize",function(b,y,F,Y){var z=this;return z.receiver=b,z.owner=y,z.name=Y,z.method=F}),B(G,"$arity",function(){var b=this;return b.method.$arity()}),B(G,"$parameters",function(){var b=this;return b.method.$$parameters}),B(G,"$source_location",function(){var b=this,y=g;return P(y=b.method.$$source_location)?y:["(eval)",0]}),B(G,"$comments",function(){var b=this,y=g;return P(y=b.method.$$comments)?y:[]}),B(G,"$call",function V(b){var y=V.$$p||g,F,Y,z=this;return V.$$p=null,F=A(arguments),Y=F,z.method.$$p=y,z.method.apply(z.receiver,Y)},-1),B(G,"$curry",function(b){var y=this;return y.method.$curry(b)},-1),B(G,"$>>",function(b){var y=this;return y.method["$>>"](b)}),B(G,"$<<",function(b){var y=this;return y.method["$<<"](b)}),B(G,"$unbind",function(){var b=this;return K("UnboundMethod").$new(b.receiver.$class(),b.owner,b.method,b.name)}),B(G,"$to_proc",function(){var b=this,y=b.$call.bind(b);return y.$$unbound=b.method,y.$$is_lambda=!0,y.$$arity=b.method.$$arity==null?b.method.length:b.method.$$arity,y.$$parameters=b.method.$$parameters,y}),B(G,"$inspect",function(){var b=this;return"#<"+b.$class()+": "+b.receiver.$class()+"#"+b.name+" (defined in "+b.owner+" in "+b.$source_location().$join(":")+")>"}),te(G,"[]","call"),te(G,"===","call")}("::",null),function($e,W){var G=E($e,W,"UnboundMethod"),ee=G.$$prototype;return ee.method=ee.owner=ee.name=ee.source=g,G.$attr_reader("source","owner","name"),B(G,"$initialize",function(b,y,F,Y){var z=this;return z.source=b,z.owner=y,z.method=F,z.name=Y,z.$$method=F}),B(G,"$arity",function(){var b=this;return b.method.$arity()}),B(G,"$parameters",function(){var b=this;return b.method.$$parameters}),B(G,"$source_location",function(){var b=this,y=g;return P(y=b.method.$$source_location)?y:["(eval)",0]}),B(G,"$comments",function(){var b=this,y=g;return P(y=b.method.$$comments)?y:[]}),B(G,"$bind",function(b){var y=this;if(y.owner.$$is_module||e.is_a(b,y.owner))return K("Method").$new(b,y.owner,y.method,y.name);Q.$raise(K("TypeError"),"can't bind singleton method to a different class (expected "+b+".kind_of?("+y.owner+" to be true)")}),B(G,"$bind_call",function V(b,y){var F=V.$$p||g,Y,z,D=this;return V.$$p=null,Y=A(arguments,1),z=Y,N(D.$bind(b),"call",Z(z),F.$to_proc())},-2),B(G,"$inspect",function(){var b=this;return"#<"+b.$class()+": "+b.source+"#"+b.name+" (defined in "+b.owner+" in "+b.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(e){var E=e.gvars,B=e.const_set,P=e.Object,A=e.nil;return e.add_stubs("new"),E["&"]=E["~"]=E["`"]=E["'"]=A,E.LOADED_FEATURES=E['"']=e.loaded_features,E.LOAD_PATH=E[":"]=[],E["/"]=`
`,E[","]=A,B("::","ARGV",[]),B("::","ARGF",P.$new()),B("::","ENV",new Map),E.VERBOSE=!1,E.DEBUG=!1,E.SAFE=0};Opal.modules["corelib/io"]=function(e){var E=e.klass,B=e.const_set,P=e.not,A=e.truthy,te=e.def,Q=e.return_ivar,N=e.return_val,Z=e.slice,g=e.Kernel,K=e.gvars,$e=e.send,W=e.to_a,G=e.rb_plus,ee=e.neqeq,V=e.range,b=e.eqeq,y=e.to_ary,F=e.rb_gt,Y=e.assign_ivar_val,z=e.alias,D,m=e.nil,q=e.$$$;e.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(x,w){var s=E(x,w,"IO"),d=s.$$prototype;return d.read_buffer=d.closed=m,B(s,"SEEK_SET",0),B(s,"SEEK_CUR",1),B(s,"SEEK_END",2),B(s,"SEEK_DATA",3),B(s,"SEEK_HOLE",4),B(s,"READABLE",1),B(s,"WRITABLE",4),s.$attr_reader("eof"),s.$attr_accessor("read_proc","sync","tty","write_proc"),te(s,"$initialize",function(h,c){var o=this;return c==null&&(c="r"),o.fd=h,o.flags=c,o.eof=!1,A(c["$include?"]("r"))&&P(c["$match?"](/[wa+]/))?o.closed="write":A(c["$match?"](/[wa]/))&&P(c["$match?"](/[r+]/))?o.closed="read":m},-2),te(s,"$fileno",Q("fd")),te(s,"$tty?",function(){var h=this;return h.tty==!0}),te(s,"$write",function(h){var c=this;return c.write_proc(h),h.$size()}),te(s,"$flush",N(m)),te(s,"$<<",function(h){var c=this;return c.$write(h),c}),te(s,"$print",function(h){var c,o,X=this;K[","]==null&&(K[","]=m),c=Z(arguments),o=c;for(var L=0,_=o.length;L<_;L++)o[L]=g.$String(o[L]);return X.$write(o.join(K[","])),m},-1),te(s,"$puts",function(h){var c,o,X=this;c=Z(arguments),o=c;var L;if(o.length===0)return X.$write(`
`),m;for(var _=0,f=o.length;_<f;_++)if(o[_].$$is_array){var a=o[_].$flatten();a.length>0&&$e(X,"puts",W(a))}else o[_].$$is_string?L=o[_].valueOf():L=g.$String(o[_]),L.endsWith(`
`)||(L+=`
`),X.$write(L);return m},-1),te(s,"$getc",function(){var h=this,c=m,o=m,X=m;h.read_buffer=A(c=h.read_buffer)?c:"",o="";do if(h.read_buffer=G(h.read_buffer,o),ee(h.read_buffer,""))return X=h.read_buffer["$[]"](0),h.read_buffer=h.read_buffer["$[]"](V(1,-1,!1)),X;while(A(o=h.$sysread_noraise(1)));return m}),te(s,"$getbyte",function(){var h,c=this;return h=c.$getc(),h===m||h==null?m:h.$ord()}),te(s,"$readbyte",function(){var h=this;return h.$readchar().$ord()}),te(s,"$readchar",function(){var h=this,c=m;return A(c=h.$getc())?c:g.$raise(q("EOFError"),"end of file reached")}),te(s,"$readline",function(h){var c,o,X=this,L=m;return c=Z(arguments),o=c,A(L=$e(X,"gets",W(o)))?L:g.$raise(q("EOFError"),"end of file reached")},-1),te(s,"$gets",function(h,c,o){var X,L,_=this,f=m,a=m,n=m,t=m,r=m,$=m;K["/"]==null&&(K["/"]=m),h==null&&(h=!1),c==null&&(c=m),o==null&&(o=new Map),A(h.$$is_number)&&P(c)&&(X=[!1,h,c],h=X[0],c=X[1],o=X[2]),A(h.$$is_hash)&&P(c)&&b(o,new Map)?(X=[!1,m,h],h=X[0],c=X[1],o=X[2]):A(c.$$is_hash)&&b(o,new Map)&&(X=[h,m,c],h=X[0],c=X[1],o=X[2]),f=h,b(h,!1)&&(h=K["/"]),b(h,"")&&(h=/\r?\n\r?\n/),h=A(a=h)?a:"",b(f,"")||(h=h.$to_str()),n=b(f,"")?2:h.$length(),b(h," ")&&(h=/ /),_.read_buffer=A(a=_.read_buffer)?a:"",t="",r=m;do if(_.read_buffer=G(_.read_buffer,t),ee(h,"")&&A(A(h.$$is_regexp)?_.read_buffer["$match?"](h):_.read_buffer["$include?"](h))){$=_.read_buffer,L=_.read_buffer.$split(h,2),X=y(L),r=X[0]==null?m:X[0],_.read_buffer=X[1]==null?m:X[1],ee(r,$)&&(r=G(r,$["$[]"](r.$length(),n)));break}while(A(t=_.$sysread_noraise(b(h,"")?65536:1)));return A(r)||(X=[A(a=_.read_buffer)?a:"",""],r=X[0],_.read_buffer=X[1],b(r,"")&&(r=m)),A(r)&&(A(c)&&(r=r["$[]"](e.Range.$new(0,c,!0)),_.read_buffer=G(r["$[]"](e.Range.$new(c,-1,!1)),_.read_buffer)),A(o["$[]"]("chomp"))&&(r=r.$sub(/\r?\n$/,"")),b(f,"")&&(r=r.$sub(/^[\r\n]+/,""))),b(f,!1)&&(K._=r),r},-1),te(s,"$sysread",function(h){var c=this,o=m;return A(o=c.read_proc(h))?o:(c.eof=!0,g.$raise(q("EOFError"),"end of file reached"))}),te(s,"$sysread_noraise",function(h){var c=this;try{return c.$sysread(h)}catch(o){if(e.rescue(o,[q("EOFError")]))try{return m}finally{e.pop_exception(o)}else throw o}}),te(s,"$readpartial",function(h){var c,o=this,X=m,L=m,_=m;return o.read_buffer=A(X=o.read_buffer)?X:"",L=o.$sysread(h),c=[G(o.read_buffer,A(X=L)?X:""),""],_=c[0],o.read_buffer=c[1],b(_,"")&&(_=m),_}),te(s,"$read",function(h){var c,o=this,X=m,L=m,_=m;h==null&&(h=m),o.read_buffer=A(X=o.read_buffer)?X:"",L="",_=m;do if(o.read_buffer=G(o.read_buffer,L),A(h)&&A(F(o.read_buffer.$length(),h)))return c=[o.read_buffer["$[]"](e.Range.$new(0,h,!0)),o.read_buffer["$[]"](e.Range.$new(h,-1,!1))],_=c[0],o.read_buffer=c[1],_;while(A(L=o.$sysread_noraise(A(X=h)?X:65536)));return c=[o.read_buffer,""],_=c[0],o.read_buffer=c[1],_},-1),te(s,"$readlines",function(h){var c=this;return K["/"]==null&&(K["/"]=m),h==null&&(h=K["/"]),c.$each_line(h).$to_a()},-1),te(s,"$each",function k(h,c){var o=k.$$p||m,X,L,_,f=this,a=m;if(K["/"]==null&&(K["/"]=m),k.$$p=null,X=Z(arguments),X.length>0&&(L=X.shift()),L==null&&(L=K["/"]),_=X,o===m)return $e(f,"enum_for",["each",L].concat(W(_)));for(;A(a=$e(f,"gets",[L].concat(W(_))));)e.yield1(o,a);return f},-1),te(s,"$each_byte",function k(){var h=k.$$p||m,c=this,o=m;if(k.$$p=null,h===m)return c.$enum_for("each_byte");for(;A(o=c.$getbyte());)e.yield1(h,o);return c}),te(s,"$each_char",function k(){var h=k.$$p||m,c=this,o=m;if(k.$$p=null,h===m)return c.$enum_for("each_char");for(;A(o=c.$getc());)e.yield1(h,o);return c}),te(s,"$close",Y("closed","both")),te(s,"$close_read",function(){var h=this;return b(h.closed,"write")?h.closed="both":h.closed="read"}),te(s,"$close_write",function(){var h=this;return b(h.closed,"read")?h.closed="both":h.closed="write"}),te(s,"$closed?",function(){var h=this;return h.closed["$=="]("both")}),te(s,"$closed_read?",function(){var h=this,c=m;return A(c=h.closed["$=="]("read"))?c:h.closed["$=="]("both")}),te(s,"$closed_write?",function(){var h=this,c=m;return A(c=h.closed["$=="]("write"))?c:h.closed["$=="]("both")}),te(s,"$check_writable",function(){var h=this;return A(h["$closed_write?"]())?g.$raise(q("IOError"),"not opened for writing"):m}),te(s,"$check_readable",function(){var h=this;return A(h["$closed_read?"]())?g.$raise(q("IOError"),"not opened for reading"):m}),z(s,"each_line","each"),z(s,"eof?","eof")}("::",null),B("::","STDIN",K.stdin=q("IO").$new(0,"r")),B("::","STDOUT",K.stdout=q("IO").$new(1,"w")),B("::","STDERR",K.stderr=q("IO").$new(2,"w"));var R=e.global.console;return q("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(x){process.stdout.write(x)}:function(x){R.log(x)}),q("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(x){process.stderr.write(x)}:function(x){R.warn(x)}),D=[function(x){var w=prompt();return w!==null?w+`
`:m}],$e(q("STDIN"),"read_proc=",D),D[D.length-1]};Opal.modules["opal/regexp_anchors"]=function(e){var E=e.module,B=e.const_set,P=[];e.nil;var A=e.$$$;return e.add_stubs("new"),function(te,Q){var N=E(te,"Opal"),Z=[N].concat(Q),g=e.$r(Z);return B(N,"REGEXP_START","^"),B(N,"REGEXP_END","$"),B(N,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),B(N,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),B(N,"INLINE_IDENTIFIER_REGEXP",g("Regexp").$new("[^"+A(N,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+A(N,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),B(N,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),B(N,"CONST_NAME_REGEXP",g("Regexp").$new(""+A(N,"REGEXP_START")+"(::)?[A-Z][^"+A(N,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+A(N,"REGEXP_END")))}(P[0],P)};Opal.modules["opal/mini"]=function(e){var E=e.Object;return e.nil,e.add_stubs("require"),E.$require("opal/base"),E.$require("corelib/nil"),E.$require("corelib/boolean"),E.$require("corelib/string"),E.$require("corelib/comparable"),E.$require("corelib/enumerable"),E.$require("corelib/enumerator"),E.$require("corelib/array"),E.$require("corelib/hash"),E.$require("corelib/number"),E.$require("corelib/range"),E.$require("corelib/proc"),E.$require("corelib/method"),E.$require("corelib/regexp"),E.$require("corelib/variables"),E.$require("corelib/io"),E.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(e){var E=e.coerce_to,B=e.module,P=e.slice,A=e.truthy,te=e.eqeq,Q=e.Opal,N=e.Kernel,Z=e.gvars,g=e.def,K=e.alias,$e=e.nil,W=e.$$$;return e.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(G){var ee=B(G,"Kernel");return g(ee,"$format",function(b,y){var F,Y,z=$e;Z.DEBUG==null&&(Z.DEBUG=$e),F=P(arguments,1),Y=F,te(Y.$length(),1)&&A(Y["$[]"](0)["$respond_to?"]("to_ary"))&&(z=Q["$coerce_to?"](Y["$[]"](0),W("Array"),"to_ary"),A(z["$nil?"]())||(Y=z.$to_a()));var D="",m=0,q,R,x=b.length,w,s,d,k,h,c,o,X,L,_,f,a,n,t=1,r=0,$,i=0,u=1,p=2,S=4,M=8,T=16,H=32,O=64,ae=128;function le(){$&H&&N.$raise(W("ArgumentError"),"flag after width"),$&ae&&N.$raise(W("ArgumentError"),"flag after precision")}function _e(){$&H&&N.$raise(W("ArgumentError"),"width given twice"),$&ae&&N.$raise(W("ArgumentError"),"width after precision")}function de(I){return I>=Y.length&&N.$raise(W("ArgumentError"),"too few arguments"),Y[I]}function ge(){switch(r){case-1:N.$raise(W("ArgumentError"),"unnumbered("+t+") mixed with numbered");case-2:N.$raise(W("ArgumentError"),"unnumbered("+t+") mixed with named")}return r=t++,de(r-1)}function ve(I){return r>0&&N.$raise(W("ArgumentError"),"numbered("+I+") after unnumbered("+r+")"),r===-2&&N.$raise(W("ArgumentError"),"numbered("+I+") after named"),I<1&&N.$raise(W("ArgumentError"),"invalid index - "+I+"$"),r=-1,de(I-1)}function me(){return n===void 0?ge():n}function be(I){for(var C,U="";;R++){if(R===x&&N.$raise(W("ArgumentError"),"malformed format string - %*[0-9]"),b.charCodeAt(R)<48||b.charCodeAt(R)>57)return R--,C=parseInt(U,10)||0,C>2147483647&&N.$raise(W("ArgumentError"),""+I+" too big"),C;U+=b.charAt(R)}}function ie(I){var C,U=be(I);return b.charAt(R+1)==="$"?(R++,C=ve(U)):C=ge(),C.$to_int()}for(R=b.indexOf("%");R!==-1;R=b.indexOf("%",R)){switch(s=void 0,$=i,k=-1,h=-1,n=void 0,q=R,R++,b.charAt(R)){case"%":m=R;case"":case`
`:case"\0":R++;continue}e:for(;R<x;R++)switch(b.charAt(R)){case" ":le(),$|=T;continue e;case"#":le(),$|=u;continue e;case"+":le(),$|=S;continue e;case"-":le(),$|=p;continue e;case"0":le(),$|=M;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(c=be("width"),b.charAt(R+1)==="$"){if(R+2===x){s="%",R++;break e}n!==void 0&&N.$raise(W("ArgumentError"),"value given twice - %"+c+"$"),n=ve(c),R++}else _e(),$|=H,k=c;continue e;case"<":case"{":for(X=b.charAt(R)==="<"?">":"}",o="",R++;;R++){if(R===x&&N.$raise(W("ArgumentError"),"malformed name - unmatched parenthesis"),b.charAt(R)===X){if(r>0&&N.$raise(W("ArgumentError"),"named "+o+" after unnumbered("+r+")"),r===-1&&N.$raise(W("ArgumentError"),"named "+o+" after numbered"),r=-2,(Y[0]===void 0||!Y[0].$$is_hash)&&N.$raise(W("ArgumentError"),"one hash required"),n=Y[0].$fetch(o),X===">")continue e;if(s=n.toString(),h!==-1&&(s=s.slice(0,h)),$&p)for(;s.length<k;)s=s+" ";else for(;s.length<k;)s=" "+s;break e}o+=b.charAt(R)}case"*":R++,_e(),$|=H,k=ie("width"),k<0&&($|=p,k=-k);continue e;case".":if($&ae&&N.$raise(W("ArgumentError"),"precision given twice"),$|=O|ae,h=0,R++,b.charAt(R)==="*"){R++,h=ie("precision"),h<0&&($&=~O);continue e}h=be("precision");continue e;case"d":case"i":case"u":if(w=N.$Integer(me()),w>=0){for(s=w.toString();s.length<h;)s="0"+s;if($&p)for(($&S||$&T)&&(s=($&S?"+":" ")+s);s.length<k;)s=s+" ";else if($&M&&h===-1){for(;s.length<k-($&S||$&T?1:0);)s="0"+s;($&S||$&T)&&(s=($&S?"+":" ")+s)}else for(($&S||$&T)&&(s=($&S?"+":" ")+s);s.length<k;)s=" "+s}else{for(s=(-w).toString();s.length<h;)s="0"+s;if($&p)for(s="-"+s;s.length<k;)s=s+" ";else if($&M&&h===-1){for(;s.length<k-1;)s="0"+s;s="-"+s}else for(s="-"+s;s.length<k;)s=" "+s}break e;case"b":case"B":case"o":case"x":case"X":switch(b.charAt(R)){case"b":case"B":L=2,_="0b",f=/^1+/,a="1";break;case"o":L=8,_="0",f=/^3?7+/,a="7";break;case"x":case"X":L=16,_="0x",f=/^f+/,a="f";break}if(w=N.$Integer(me()),w>=0){for(s=w.toString(L);s.length<h;)s="0"+s;if($&p)for(($&S||$&T)&&(s=($&S?"+":" ")+s),$&u&&w!==0&&(s=_+s);s.length<k;)s=s+" ";else if($&M&&h===-1){for(;s.length<k-($&S||$&T?1:0)-($&u&&w!==0?_.length:0);)s="0"+s;$&u&&w!==0&&(s=_+s),($&S||$&T)&&(s=($&S?"+":" ")+s)}else for($&u&&w!==0&&(s=_+s),($&S||$&T)&&(s=($&S?"+":" ")+s);s.length<k;)s=" "+s}else if($&S||$&T){for(s=(-w).toString(L);s.length<h;)s="0"+s;if($&p)for($&u&&(s=_+s),s="-"+s;s.length<k;)s=s+" ";else if($&M&&h===-1){for(;s.length<k-1-($&u?2:0);)s="0"+s;$&u&&(s=_+s),s="-"+s}else for($&u&&(s=_+s),s="-"+s;s.length<k;)s=" "+s}else{for(s=(w>>>0).toString(L).replace(f,a);s.length<h-2;)s=a+s;if($&p)for(s=".."+s,$&u&&(s=_+s);s.length<k;)s=s+" ";else if($&M&&h===-1){for(;s.length<k-2-($&u?_.length:0);)s=a+s;s=".."+s,$&u&&(s=_+s)}else for(s=".."+s,$&u&&(s=_+s);s.length<k;)s=" "+s}b.charAt(R)===b.charAt(R).toUpperCase()&&(s=s.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(w=N.$Float(me()),w>=0||isNaN(w)){if(w===1/0)s="Inf";else switch(b.charAt(R)){case"f":s=w.toFixed(h===-1?6:h);break;case"e":case"E":s=w.toExponential(h===-1?6:h);break;case"g":case"G":s=w.toExponential(),d=parseInt(s.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(s=w.toPrecision(h===-1?$&u?6:void 0:h));break}if($&p)for(($&S||$&T)&&(s=($&S?"+":" ")+s);s.length<k;)s=s+" ";else if($&M&&w!==1/0&&!isNaN(w)){for(;s.length<k-($&S||$&T?1:0);)s="0"+s;($&S||$&T)&&(s=($&S?"+":" ")+s)}else for(($&S||$&T)&&(s=($&S?"+":" ")+s);s.length<k;)s=" "+s}else{if(w===-1/0)s="Inf";else switch(b.charAt(R)){case"f":s=(-w).toFixed(h===-1?6:h);break;case"e":case"E":s=(-w).toExponential(h===-1?6:h);break;case"g":case"G":s=(-w).toExponential(),d=parseInt(s.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(s=(-w).toPrecision(h===-1?$&u?6:void 0:h));break}if($&p)for(s="-"+s;s.length<k;)s=s+" ";else if($&M&&w!==-1/0){for(;s.length<k-1;)s="0"+s;s="-"+s}else for(s="-"+s;s.length<k;)s=" "+s}b.charAt(R)===b.charAt(R).toUpperCase()&&w!==1/0&&w!==-1/0&&!isNaN(w)&&(s=s.toUpperCase()),s=s.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":N.$raise(W("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(w=me(),w["$respond_to?"]("to_ary")&&(w=w.$to_ary()[0]),w["$respond_to?"]("to_str")?s=w.$to_str():s=String.fromCharCode(E(w,W("Integer"),"to_int")),s.length!==1&&N.$raise(W("ArgumentError"),"%c requires a character"),$&p)for(;s.length<k;)s=s+" ";else for(;s.length<k;)s=" "+s;break e;case"p":if(s=me().$inspect(),h!==-1&&(s=s.slice(0,h)),$&p)for(;s.length<k;)s=s+" ";else for(;s.length<k;)s=" "+s;break e;case"s":if(s=me().$to_s(),h!==-1&&(s=s.slice(0,h)),$&p)for(;s.length<k;)s=s+" ";else for(;s.length<k;)s=" "+s;break e;default:N.$raise(W("ArgumentError"),"malformed format string - %"+b.charAt(R))}s===void 0&&N.$raise(W("ArgumentError"),"malformed format string - %"),D+=b.slice(m,q)+s,m=R+1}return Z.DEBUG&&r>=0&&t<Y.length&&N.$raise(W("ArgumentError"),"too many arguments for format string"),D+b.slice(m)},-2),K(ee,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(e){var E=e.klass,B=e.rb_plus,P=e.truthy,A=e.send,te=e.defs,Q=e.eqeq,N=e.def,Z=e.return_ivar,g=e.return_val,K=e.slice,$e=e.Kernel,W=e.Opal,G=e.rb_lt,ee,V=e.top,b=[],y=e.$r(b),F=e.nil,Y=e.$$$;return e.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),V.$require("corelib/string"),function(z,D,m){var q=E(z,D,"Encoding"),R=[q].concat(m),x=q.$$prototype;return x.name=x.dummy=F,te(q,"$register",function w(s,d){var k=w.$$p||F,h=this,c=F,o=F,X=F,L=F,_=F,f=F;return w.$$p=null,d==null&&(d=new Map),c=B([s],P(o=d["$[]"]("aliases"))?o:[]),X=P(o=d["$[]"]("ascii"))&&o,L=P(o=d["$[]"]("dummy"))&&o,P(d["$[]"]("inherits"))?(_=d["$[]"]("inherits").$clone(),_.$initialize(s,c,X,L)):_=h.$new(s,c,X,L),k!==F&&A(_,"instance_eval",[],k.$to_proc()),f=e.encodings,A(c,"each",[],function a(n){var t=a.$$s==null?this:a.$$s;return n==null&&(n=F),t.$const_set(n.$tr("-","_"),_),f[n]=_},{$$s:h})},-2),te(q,"$find",function(s){var d=this;return Q(s,"default_external")?d.$default_external():e.find_encoding(s)}),q.$singleton_class().$attr_accessor("default_external"),q.$attr_reader("name","names"),N(q,"$initialize",function(s,d,k,h){var c=this;return c.name=s,c.names=d,c.ascii=k,c.dummy=h}),N(q,"$ascii_compatible?",Z("ascii")),N(q,"$dummy?",Z("dummy")),N(q,"$binary?",g(!1)),N(q,"$to_s",Z("name")),N(q,"$inspect",function(){var s=this;return"#<Encoding:"+s.name+(P(s.dummy)?" (dummy)":F)+">"}),N(q,"$charsize",function(s){for(var d=0,k=0,h=s.length;k<h;k++){var c=s.charCodeAt(k);c>=55296&&c<=56319||d++}return d}),N(q,"$each_char",function w(s){var d=w.$$p||F;w.$$p=null;for(var k="",h=0,c=s.length;h<c;h++){var o=s.charCodeAt(h),X=s.charAt(h);if(o>=56320&&o<=57343){k=X;continue}else o>=55296&&o<=56319&&(X=k+X);s.encoding.name!="UTF-8"&&(X=new String(X),X.encoding=s.encoding),e.yield1(d,X)}}),N(q,"$each_byte",function(s){return K(arguments),$e.$raise(Y("NotImplementedError"))},-1),N(q,"$bytesize",function(s){return K(arguments),$e.$raise(Y("NotImplementedError"))},-1),E("::",Y("StandardError"),"EncodingError"),E("::",Y("EncodingError"),"CompatibilityError"),E(R[0],Y("EncodingError"),"UndefinedConversionError"),F}("::",null,b),A(Y("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function z(){var D=z.$$s==null?this:z.$$s;return N(D,"$each_byte",function m(q){var R=m.$$p||F;m.$$p=null;for(var x=1/0,w,s=q.length,d=null,k=0;k<s;++k){if(w=q.charCodeAt(k),w>55295&&w<57344){if(!d){if(w>56319){(x-=3)>-1&&(e.yield1(R,239),e.yield1(R,191),e.yield1(R,189));continue}else if(k+1===s){(x-=3)>-1&&(e.yield1(R,239),e.yield1(R,191),e.yield1(R,189));continue}d=w;continue}if(w<56320){(x-=3)>-1&&(e.yield1(R,239),e.yield1(R,191),e.yield1(R,189)),d=w;continue}w=(d-55296<<10|w-56320)+65536}else d&&(x-=3)>-1&&(e.yield1(R,239),e.yield1(R,191),e.yield1(R,189));if(d=null,w<128){if((x-=1)<0)break;e.yield1(R,w)}else if(w<2048){if((x-=2)<0)break;e.yield1(R,w>>6|192),e.yield1(R,w&63|128)}else if(w<65536){if((x-=3)<0)break;e.yield1(R,w>>12|224),e.yield1(R,w>>6&63|128),e.yield1(R,w&63|128)}else if(w<1114112){if((x-=4)<0)break;e.yield1(R,w>>18|240),e.yield1(R,w>>12&63|128),e.yield1(R,w>>6&63|128),e.yield1(R,w&63|128)}}}),N(D,"$bytesize",function(q){return q.$bytes().$length()})},{$$s:V}),A(Y("Encoding"),"register",["UTF-16LE"],function z(){var D=z.$$s==null?this:z.$$s;return N(D,"$each_byte",function m(q){var R=m.$$p||F;m.$$p=null;for(var x=0,w=q.length;x<w;x++){var s=q.charCodeAt(x);e.yield1(R,s&255),e.yield1(R,s>>8)}}),N(D,"$bytesize",function(q){return q.length*2})},{$$s:V}),A(Y("Encoding"),"register",["UTF-16BE",new Map([["inherits",Y(Y("Encoding"),"UTF_16LE")]])],function z(){var D=z.$$s==null?this:z.$$s;return N(D,"$each_byte",function m(q){var R=m.$$p||F;m.$$p=null;for(var x=0,w=q.length;x<w;x++){var s=q.charCodeAt(x);e.yield1(R,s>>8),e.yield1(R,s&255)}})},{$$s:V}),A(Y("Encoding"),"register",["UTF-32LE"],function z(){var D=z.$$s==null?this:z.$$s;return N(D,"$each_byte",function m(q){var R=m.$$p||F;m.$$p=null;for(var x=0,w=q.length;x<w;x++){var s=q.charCodeAt(x);e.yield1(R,s&255),e.yield1(R,s>>8),e.yield1(R,0),e.yield1(R,0)}}),N(D,"$bytesize",function(q){return q.length*4})},{$$s:V}),A(Y("Encoding"),"register",["UTF-32BE",new Map([["inherits",Y(Y("Encoding"),"UTF_32LE")]])],function z(){var D=z.$$s==null?this:z.$$s;return N(D,"$each_byte",function m(q){var R=m.$$p||F;m.$$p=null;for(var x=0,w=q.length;x<w;x++){var s=q.charCodeAt(x);e.yield1(R,0),e.yield1(R,0),e.yield1(R,s>>8),e.yield1(R,s&255)}})},{$$s:V}),A(Y("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function z(){var D=z.$$s==null?this:z.$$s;return N(D,"$each_char",function m(q){var R=m.$$p||F;m.$$p=null;for(var x=0,w=q.length;x<w;x++){var s=new String(q.charAt(x));s.encoding=q.encoding,e.yield1(R,s)}}),N(D,"$charsize",function(q){return q.length}),N(D,"$each_byte",function m(q){var R=m.$$p||F;m.$$p=null;for(var x=0,w=q.length;x<w;x++){var s=q.charCodeAt(x);e.yield1(R,s&255)}}),N(D,"$bytesize",function(q){return q.length}),N(D,"$binary?",g(!0))},{$$s:V}),Y("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",Y(Y("Encoding"),"ASCII_8BIT")]])),Y("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",Y(Y("Encoding"),"ASCII_8BIT")]])),function(z,D){var m=E(z,D,"String"),q=m.$$prototype;return q.internal_encoding=q.bytes=q.encoding=F,m.$attr_reader("encoding"),m.$attr_reader("internal_encoding"),e.prop(String.prototype,"bytes",F),e.prop(String.prototype,"encoding",Y(Y("Encoding"),"UTF_8")),e.prop(String.prototype,"internal_encoding",Y(Y("Encoding"),"UTF_8")),N(m,"$b",function(){var x=this;return x.$dup().$force_encoding("binary")}),N(m,"$bytesize",function(){var x=this;return x.internal_encoding.$bytesize(x)}),N(m,"$each_byte",function R(){var x=R.$$p||F,w=this;return R.$$p=null,x===F?A(w,"enum_for",["each_byte"],function s(){var d=s.$$s==null?this:s.$$s;return d.$bytesize()},{$$s:w}):(A(w.internal_encoding,"each_byte",[w],x.$to_proc()),w)}),N(m,"$bytes",function(){var x=this,w=F;return typeof x=="string"?new String(x).$each_byte().$to_a():(x.bytes=P(w=x.bytes)?w:x.$each_byte().$to_a(),x.bytes.$dup())}),N(m,"$each_char",function R(){var x=R.$$p||F,w=this;return R.$$p=null,x===F?A(w,"enum_for",["each_char"],function s(){var d=s.$$s==null?this:s.$$s;return d.$length()},{$$s:w}):(A(w.encoding,"each_char",[w],x.$to_proc()),w)}),N(m,"$chars",function R(){var x=R.$$p||F,w=this;return R.$$p=null,P(x)?A(w,"each_char",[],x.$to_proc()):w.$each_char().$to_a()}),N(m,"$each_codepoint",function R(){var x=R.$$p||F,w=this;if(R.$$p=null,x===F)return w.$enum_for("each_codepoint");for(var s=0,d=w.length;s<d;s++)e.yield1(x,w.codePointAt(s));return w}),N(m,"$codepoints",function R(){var x=R.$$p||F,w=this;return R.$$p=null,x!==F?A(w,"each_codepoint",[],x.$to_proc()):w.$each_codepoint().$to_a()}),N(m,"$encode",function(x){var w=this;return e.enc(w,x)}),N(m,"$force_encoding",function(x){var w=this,s=w;return x===s.encoding||(x=W["$coerce_to!"](x,Y("String"),"to_s"),x=Y("Encoding").$find(x),x===s.encoding)||(s=e.set_encoding(s,x)),s}),N(m,"$getbyte",function(x){var w=this,s=F;return s=w.$bytes(),x=W["$coerce_to!"](x,Y("Integer"),"to_int"),P(G(s.$length(),x))?F:s["$[]"](x)}),N(m,"$initialize_copy",function(x){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),N(m,"$valid_encoding?",g(!0))}("::",null),ee=[Y(y("Encoding"),"UTF_8")],A(Y("Encoding"),"default_external=",ee),ee[ee.length-1]};Opal.modules["corelib/math"]=function(e){var E=e.type_error,B=e.module,P=e.const_set,A=e.Class,te=e.slice,Q=e.Kernel,N=e.defs,Z=e.truthy,g=e.send,K=e.def,$e=e.rb_minus,W=e.eqeqeq,G=e.rb_divide,ee=[],V=e.nil,b=e.$$$;return e.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(y,F){var Y=B(y,"Math"),z=[Y].concat(F),D=e.$r(z);return P(Y,"E",Math.E),P(Y,"PI",Math.PI),P(Y,"DomainError",A.$new(b("StandardError"))),N(Y,"$checked",function(q,R){var x,w;if(x=te(arguments,1),w=x,isNaN(w[0])||w.length==2&&isNaN(w[1]))return NaN;var s=Math[q].apply(null,w);return isNaN(s)&&Q.$raise(D("DomainError"),'Numerical argument is out of domain - "'+q+'"'),s},-2),N(Y,"$float!",function(q){try{return Q.$Float(q)}catch(R){if(e.rescue(R,[b("ArgumentError")]))try{return Q.$raise(E(q,b("Float")))}finally{e.pop_exception(R)}else throw R}}),N(Y,"$integer!",function(q){try{return Q.$Integer(q)}catch(R){if(e.rescue(R,[b("ArgumentError")]))try{return Q.$raise(E(q,b("Integer")))}finally{e.pop_exception(R)}else throw R}}),Y.$module_function(),Z(typeof Math.erf<"u")||e.prop(Math,"erf",function(m){var q=.254829592,R=-.284496736,x=1.421413741,w=-1.453152027,s=1.061405429,d=.3275911,k=1;m<0&&(k=-1),m=Math.abs(m);var h=1/(1+d*m),c=1-((((s*h+w)*h+x)*h+R)*h+q)*h*Math.exp(-m*m);return k*c}),Z(typeof Math.erfc<"u")||e.prop(Math,"erfc",function(m){var q=Math.abs(m),R=1/(.5*q+1),x=R*.17087277+-.82215223,w=R*x+1.48851587,s=R*w+-1.13520398,d=R*s+.27886807,k=R*d+-.18628806,h=R*k+.09678418,c=R*h+.37409196,o=R*c+1.00002368,X=R*o,L=-q*q-1.26551223+X,_=R*Math.exp(L);return m<0?2-_:_}),g(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function m(q){var R=m.$$s==null?this:m.$$s;return q==null&&(q=V),g(R,"define_method",[q],function(w){return w==null&&(w=V),b("Math").$checked(q,b("Math")["$float!"](w))})},{$$s:Y}),K(Y,"$atan2",function(q,R){return b("Math").$checked("atan2",b("Math")["$float!"](q),b("Math")["$float!"](R))}),K(Y,"$hypot",function(q,R){return b("Math").$checked("hypot",b("Math")["$float!"](q),b("Math")["$float!"](R))}),K(Y,"$frexp",function(q){if(q=D("Math")["$float!"](q),isNaN(q))return[NaN,0];var R=Math.floor(Math.log(Math.abs(q))/Math.log(2))+1,x=q/Math.pow(2,R);return[x,R]}),K(Y,"$gamma",function(q){q=D("Math")["$float!"](q);var R,x,w,s,d,k,h,c,o,X=4.7421875,L=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(q))return NaN;if(q===0&&1/q<0)return-1/0;if((q===-1||q===-1/0)&&Q.$raise(D("DomainError"),'Numerical argument is out of domain - "gamma"'),D("Integer")["$==="](q)){if(q<=0)return isFinite(q)?1/0:NaN;if(q>171)return 1/0;for(s=q-2,d=q-1;s>1;)d*=s,s--;return d==0&&(d=1),d}if(q<.5)return Math.PI/(Math.sin(Math.PI*q)*b("Math").$gamma($e(1,q)));if(q>=171.35)return 1/0;if(q>85)return k=q*q,h=k*q,c=h*q,o=c*q,Math.sqrt(2*Math.PI/q)*Math.pow(q/Math.E,q)*(1+1/(12*q)+1/(288*k)-139/(51840*h)-571/(2488320*c)+163879/(209018880*o)+5246819/(75246796800*o*q));for(q-=1,w=L[0],R=1;R<L.length;++R)w+=L[R]/(q+R);return x=q+X+.5,Math.sqrt(2*Math.PI)*Math.pow(x,q+.5)*Math.exp(-x)*w}),K(Y,"$ldexp",function(q,R){return q=D("Math")["$float!"](q),R=D("Math")["$integer!"](R),isNaN(R)&&Q.$raise(b("RangeError"),"float NaN out of range of integer"),q*Math.pow(2,R)}),K(Y,"$lgamma",function(q){return q==-1?[1/0,1]:[Math.log(Math.abs(b("Math").$gamma(q))),b("Math").$gamma(q)<0?-1:1]}),K(Y,"$log",function(q,R){return W(b("String"),q)&&Q.$raise(E(q,b("Float"))),Z(R==null)?b("Math").$checked("log",b("Math")["$float!"](q)):(W(b("String"),R)&&Q.$raise(E(R,b("Float"))),G(b("Math").$checked("log",b("Math")["$float!"](q)),b("Math").$checked("log",b("Math")["$float!"](R))))},-2),K(Y,"$log10",function(q){return W(b("String"),q)&&Q.$raise(E(q,b("Float"))),b("Math").$checked("log10",b("Math")["$float!"](q))}),K(Y,"$log2",function(q){return W(b("String"),q)&&Q.$raise(E(q,b("Float"))),b("Math").$checked("log2",b("Math")["$float!"](q))}),K(Y,"$tan",function(q){return q=b("Math")["$float!"](q),Z(q["$infinite?"]())?b(b("Float"),"NAN"):b("Math").$checked("tan",b("Math")["$float!"](q))})}("::",ee)};Opal.modules["corelib/complex/base"]=function(e){var E=e.module,B=e.truthy,P=e.def,A=e.klass,te=[],Q=e.nil;return e.add_stubs("new,from_string"),function(N,Z){var g=E(N,"Kernel"),K=[g].concat(Z),$e=e.$r(K);return P(g,"$Complex",function(G,ee){return ee==null&&(ee=Q),B(ee)?$e("Complex").$new(G,ee):$e("Complex").$new(G,0)},-2)}("::",te),function(N,Z,g){var K=A(N,Z,"String"),$e=[K].concat(g),W=e.$r($e);return P(K,"$to_c",function(){var ee=this;return W("Complex").$from_string(ee)})}("::",null,te)};Opal.modules["corelib/complex"]=function(e){var E=e.klass,B=e.truthy,P=e.eqeqeq,A=e.Kernel,te=e.defs,Q=e.rb_times,N=e.def,Z=e.rb_plus,g=e.rb_minus,K=e.rb_divide,$e=e.eqeq,W=e.to_ary,G=e.rb_gt,ee=e.neqeq,V=e.return_val,b=e.const_set,y=e.alias,F=e.top,Y=[],z=e.nil,D=e.$$$;return e.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),F.$require("corelib/numeric"),F.$require("corelib/complex/base"),function(m,q,R){var x=E(m,q,"Complex"),w=[x].concat(R),s=e.$r(w),d=x.$$prototype;return d.real=d.imag=z,te(x,"$rect",function(h,c){var o=this;return c==null&&(c=0),P(D("Numeric"),h)&&B(h["$real?"]())&&P(D("Numeric"),c)&&B(c["$real?"]())||A.$raise(D("TypeError"),"not a real"),o.$new(h,c)},-2),te(x,"$polar",function(h,c){var o=this;return c==null&&(c=0),P(D("Numeric"),h)&&B(h["$real?"]())&&P(D("Numeric"),c)&&B(c["$real?"]())||A.$raise(D("TypeError"),"not a real"),o.$new(Q(h,D("Math").$cos(c)),Q(h,D("Math").$sin(c)))},-2),x.$attr_reader("real","imag"),N(x,"$initialize",function(h,c){var o=this;return c==null&&(c=0),o.real=h,o.imag=c,o.$freeze()},-2),N(x,"$coerce",function(h){var c=this;return P(D("Complex"),h)?[h,c]:P(D("Numeric"),h)&&B(h["$real?"]())?[D("Complex").$new(h,0),c]:A.$raise(D("TypeError"),""+h.$class()+" can't be coerced into Complex")}),N(x,"$==",function(h){var c=this,o=z;return P(D("Complex"),h)?B(o=c.real["$=="](h.$real()))?c.imag["$=="](h.$imag()):o:P(D("Numeric"),h)&&B(h["$real?"]())?B(o=c.real["$=="](h))?c.imag["$=="](0):o:h["$=="](c)}),N(x,"$-@",function(){var h=this;return A.$Complex(h.real["$-@"](),h.imag["$-@"]())}),N(x,"$+",function(h){var c=this;return P(D("Complex"),h)?A.$Complex(Z(c.real,h.$real()),Z(c.imag,h.$imag())):P(D("Numeric"),h)&&B(h["$real?"]())?A.$Complex(Z(c.real,h),c.imag):c.$__coerced__("+",h)}),N(x,"$-",function(h){var c=this;return P(D("Complex"),h)?A.$Complex(g(c.real,h.$real()),g(c.imag,h.$imag())):P(D("Numeric"),h)&&B(h["$real?"]())?A.$Complex(g(c.real,h),c.imag):c.$__coerced__("-",h)}),N(x,"$*",function(h){var c=this;return P(D("Complex"),h)?A.$Complex(g(Q(c.real,h.$real()),Q(c.imag,h.$imag())),Z(Q(c.real,h.$imag()),Q(c.imag,h.$real()))):P(D("Numeric"),h)&&B(h["$real?"]())?A.$Complex(Q(c.real,h),Q(c.imag,h)):c.$__coerced__("*",h)}),N(x,"$/",function(h){var c=this;return P(D("Complex"),h)?P(D("Number"),c.real)&&B(c.real["$nan?"]())||P(D("Number"),c.imag)&&B(c.imag["$nan?"]())||P(D("Number"),h.$real())&&B(h.$real()["$nan?"]())||P(D("Number"),h.$imag())&&B(h.$imag()["$nan?"]())?D("Complex").$new(D(D("Float"),"NAN"),D(D("Float"),"NAN")):K(Q(c,h.$conj()),h.$abs2()):P(D("Numeric"),h)&&B(h["$real?"]())?A.$Complex(c.real.$quo(h),c.imag.$quo(h)):c.$__coerced__("/",h)}),N(x,"$**",function(h){var c,o,X=this,L=z,_=z,f=z,a=z,n=z,t=z,r=z,$=z,i=z,u=z,p=z;if($e(h,0))return D("Complex").$new(1,0);if(P(D("Complex"),h))return o=X.$polar(),c=W(o),L=c[0]==null?z:c[0],_=c[1]==null?z:c[1],f=h.$real(),a=h.$imag(),n=D("Math").$exp(g(Q(f,D("Math").$log(L)),Q(a,_))),t=Z(Q(_,f),Q(a,D("Math").$log(L))),D("Complex").$polar(n,t);if(P(D("Integer"),h))if(B(G(h,0))){for(r=X,$=r,i=g(h,1);ee(i,0);){for(o=i.$divmod(2),c=W(o),u=c[0]==null?z:c[0],p=c[1]==null?z:c[1];$e(p,0);)r=A.$Complex(g(Q(r.$real(),r.$real()),Q(r.$imag(),r.$imag())),Q(Q(2,r.$real()),r.$imag())),i=u,o=i.$divmod(2),c=W(o),u=c[0]==null?z:c[0],p=c[1]==null?z:c[1];$=Q($,r),i=g(i,1)}return $}else return K(D("Rational").$new(1,1),X)["$**"](h["$-@"]());else return P(D("Float"),h)||P(D("Rational"),h)?(o=X.$polar(),c=W(o),L=c[0]==null?z:c[0],_=c[1]==null?z:c[1],D("Complex").$polar(L["$**"](h),Q(_,h))):X.$__coerced__("**",h)}),N(x,"$abs",function(){var h=this;return D("Math").$hypot(h.real,h.imag)}),N(x,"$abs2",function(){var h=this;return Z(Q(h.real,h.real),Q(h.imag,h.imag))}),N(x,"$angle",function(){var h=this;return D("Math").$atan2(h.imag,h.real)}),N(x,"$conj",function(){var h=this;return A.$Complex(h.real,h.imag["$-@"]())}),N(x,"$denominator",function(){var h=this;return h.real.$denominator().$lcm(h.imag.$denominator())}),N(x,"$eql?",function(h){var c=this,o=z,X=z;return B(o=B(X=s("Complex")["$==="](h))?c.real.$class()["$=="](c.imag.$class()):X)?c["$=="](h):o}),N(x,"$fdiv",function(h){var c=this;return P(D("Numeric"),h)||A.$raise(D("TypeError"),""+h.$class()+" can't be coerced into Complex"),K(c,h)}),N(x,"$finite?",function(){var h=this,c=z;return B(c=h.real["$finite?"]())?h.imag["$finite?"]():c}),N(x,"$hash",function(){var h=this;return[D("Complex"),h.real,h.imag].$hash()}),N(x,"$infinite?",function(){var h=this,c=z;return B(c=h.real["$infinite?"]())?c:h.imag["$infinite?"]()}),N(x,"$inspect",function(){var h=this;return"("+h+")"}),N(x,"$numerator",function(){var h=this,c=z;return c=h.$denominator(),A.$Complex(Q(h.real.$numerator(),K(c,h.real.$denominator())),Q(h.imag.$numerator(),K(c,h.imag.$denominator())))}),N(x,"$polar",function(){var h=this;return[h.$abs(),h.$arg()]}),N(x,"$rationalize",function(h){var c=this;return arguments.length>1&&A.$raise(D("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(c.imag,0)&&A.$raise(D("RangeError"),"can't convert "+c+" into Rational"),c.$real().$rationalize(h)},-1),N(x,"$real?",V(!1)),N(x,"$rect",function(){var h=this;return[h.real,h.imag]}),N(x,"$to_f",function(){var h=this;return $e(h.imag,0)||A.$raise(D("RangeError"),"can't convert "+h+" into Float"),h.real.$to_f()}),N(x,"$to_i",function(){var h=this;return $e(h.imag,0)||A.$raise(D("RangeError"),"can't convert "+h+" into Integer"),h.real.$to_i()}),N(x,"$to_r",function(){var h=this;return $e(h.imag,0)||A.$raise(D("RangeError"),"can't convert "+h+" into Rational"),h.real.$to_r()}),N(x,"$to_s",function(){var h=this,c=z;return c=h.real.$inspect(),c=Z(c,P(D("Number"),h.imag)&&B(h.imag["$nan?"]())||B(h.imag["$positive?"]())||B(h.imag["$zero?"]())?"+":"-"),c=Z(c,h.imag.$abs().$inspect()),P(D("Number"),h.imag)&&(B(h.imag["$nan?"]())||B(h.imag["$infinite?"]()))&&(c=Z(c,"*")),Z(c,"i")}),b(w[0],"I",x.$new(0,1)),te(x,"$from_string",function(h){var c=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;h.match(c);var o,X;function L(){return c.test(h)}function _(){var a=h.match(c),n=a[0];return h=h.slice(n.length),n.replace(/_/g,"")}function f(){if(L()){var a=parseFloat(_());if(h[0]==="/")if(h=h.slice(1),L()){var n=parseFloat(_());return A.$Rational(a,n)}else return h="/"+h,a;else return a}else return null}return o=f(),o?(X=f(),X?A.$Complex(o,X):h[0]==="i"?A.$Complex(0,o):A.$Complex(o,0)):h[0]==="i"?A.$Complex(0,1):h[0]==="-"&&h[1]==="i"?A.$Complex(0,-1):h[0]==="+"&&h[1]==="i"?A.$Complex(0,1):A.$Complex(0,0)}),function(k,h){return y(k,"rectangular","rect")}(e.get_singleton_class(x)),y(x,"arg","angle"),y(x,"conjugate","conj"),y(x,"divide","/"),y(x,"imaginary","imag"),y(x,"magnitude","abs"),y(x,"phase","arg"),y(x,"quo","/"),y(x,"rectangular","rect"),e.udef(x,"$negative?"),e.udef(x,"$positive?"),e.udef(x,"$step"),z}("::",D("Numeric"),Y)};Opal.modules["corelib/rational/base"]=function(e){var E=e.module,B=e.def,P=e.klass;e.nil;var A=e.$$$;return e.add_stubs("convert,from_string"),function(te){var Q=E(te,"Kernel");return B(Q,"$Rational",function(Z,g){return g==null&&(g=1),A("Rational").$convert(Z,g)},-2)}("::"),function(te,Q){var N=P(te,Q,"String");return B(N,"$to_r",function(){var g=this;return A("Rational").$from_string(g)})}("::",null)};Opal.modules["corelib/rational"]=function(e){var E=e.klass,B=e.eqeq,P=e.Kernel,A=e.truthy,te=e.rb_lt,Q=e.rb_divide,N=e.defs,Z=e.eqeqeq,g=e.not,K=e.Opal,$e=e.def,W=e.return_ivar,G=e.rb_minus,ee=e.rb_times,V=e.rb_plus,b=e.rb_gt,y=e.rb_le,F=e.return_self,Y=e.alias,z=e.top,D=e.nil,m=e.$$$;return e.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),z.$require("corelib/numeric"),z.$require("corelib/rational/base"),function(q,R){var x=E(q,R,"Rational"),w=x.$$prototype;return w.num=w.den=D,N(x,"$reduce",function(d,k){var h=this,c=D;if(d=d.$to_i(),k=k.$to_i(),B(k,0))P.$raise(m("ZeroDivisionError"),"divided by 0");else if(A(te(k,0)))d=d["$-@"](),k=k["$-@"]();else if(B(k,1))return h.$new(d,k);return c=d.$gcd(k),h.$new(Q(d,c),Q(k,c))}),N(x,"$convert",function(d,k){var h=this;return(A(d["$nil?"]())||A(k["$nil?"]()))&&P.$raise(m("TypeError"),"cannot convert nil into Rational"),Z(m("Integer"),d)&&Z(m("Integer"),k)?h.$reduce(d,k):((Z(m("Float"),d)||Z(m("String"),d)||Z(m("Complex"),d))&&(d=d.$to_r()),(Z(m("Float"),k)||Z(m("String"),k)||Z(m("Complex"),k))&&(k=k.$to_r()),A(k["$equal?"](1))&&g(m("Integer")["$==="](d))?K["$coerce_to!"](d,m("Rational"),"to_r"):Z(m("Numeric"),d)&&Z(m("Numeric"),k)?Q(d,k):h.$reduce(d,k))}),$e(x,"$initialize",function(d,k){var h=this;return h.num=d,h.den=k,h.$freeze()}),$e(x,"$numerator",W("num")),$e(x,"$denominator",W("den")),$e(x,"$coerce",function(d){var k=this,h=D;return Z(m("Rational"),h=d)?[d,k]:Z(m("Integer"),h)?[d.$to_r(),k]:Z(m("Float"),h)?[d,k.$to_f()]:D}),$e(x,"$==",function(d){var k=this,h=D,c=D;return Z(m("Rational"),h=d)?A(c=k.num["$=="](d.$numerator()))?k.den["$=="](d.$denominator()):c:Z(m("Integer"),h)?A(c=k.num["$=="](d))?k.den["$=="](1):c:Z(m("Float"),h)?k.$to_f()["$=="](d):d["$=="](k)}),$e(x,"$<=>",function(d){var k=this,h=D;return Z(m("Rational"),h=d)?G(ee(k.num,d.$denominator()),ee(k.den,d.$numerator()))["$<=>"](0):Z(m("Integer"),h)?G(k.num,ee(k.den,d))["$<=>"](0):Z(m("Float"),h)?k.$to_f()["$<=>"](d):k.$__coerced__("<=>",d)}),$e(x,"$+",function(d){var k=this,h=D,c=D,o=D;return Z(m("Rational"),h=d)?(c=V(ee(k.num,d.$denominator()),ee(k.den,d.$numerator())),o=ee(k.den,d.$denominator()),P.$Rational(c,o)):Z(m("Integer"),h)?P.$Rational(V(k.num,ee(d,k.den)),k.den):Z(m("Float"),h)?V(k.$to_f(),d):k.$__coerced__("+",d)}),$e(x,"$-",function(d){var k=this,h=D,c=D,o=D;return Z(m("Rational"),h=d)?(c=G(ee(k.num,d.$denominator()),ee(k.den,d.$numerator())),o=ee(k.den,d.$denominator()),P.$Rational(c,o)):Z(m("Integer"),h)?P.$Rational(G(k.num,ee(d,k.den)),k.den):Z(m("Float"),h)?G(k.$to_f(),d):k.$__coerced__("-",d)}),$e(x,"$*",function(d){var k=this,h=D,c=D,o=D;return Z(m("Rational"),h=d)?(c=ee(k.num,d.$numerator()),o=ee(k.den,d.$denominator()),P.$Rational(c,o)):Z(m("Integer"),h)?P.$Rational(ee(k.num,d),k.den):Z(m("Float"),h)?ee(k.$to_f(),d):k.$__coerced__("*",d)}),$e(x,"$/",function(d){var k=this,h=D,c=D,o=D;return Z(m("Rational"),h=d)?(c=ee(k.num,d.$denominator()),o=ee(k.den,d.$numerator()),P.$Rational(c,o)):Z(m("Integer"),h)?B(d,0)?Q(k.$to_f(),0):P.$Rational(k.num,ee(k.den,d)):Z(m("Float"),h)?Q(k.$to_f(),d):k.$__coerced__("/",d)}),$e(x,"$**",function(d){var k=this,h=D;return Z(m("Integer"),h=d)?B(k,0)&&A(te(d,0))?m(m("Float"),"INFINITY"):A(b(d,0))?P.$Rational(k.num["$**"](d),k.den["$**"](d)):A(te(d,0))?P.$Rational(k.den["$**"](d["$-@"]()),k.num["$**"](d["$-@"]())):P.$Rational(1,1):Z(m("Float"),h)?k.$to_f()["$**"](d):Z(m("Rational"),h)?B(d,0)?P.$Rational(1,1):B(d.$denominator(),1)?A(te(d,0))?P.$Rational(k.den["$**"](d.$numerator().$abs()),k.num["$**"](d.$numerator().$abs())):P.$Rational(k.num["$**"](d.$numerator()),k.den["$**"](d.$numerator())):B(k,0)&&A(te(d,0))?P.$raise(m("ZeroDivisionError"),"divided by 0"):k.$to_f()["$**"](d):k.$__coerced__("**",d)}),$e(x,"$abs",function(){var d=this;return P.$Rational(d.num.$abs(),d.den.$abs())}),$e(x,"$ceil",function(d){var k=this;return d==null&&(d=0),B(d,0)?Q(k.num["$-@"](),k.den)["$-@"]().$ceil():k.$with_precision("ceil",d)},-1),$e(x,"$floor",function(d){var k=this;return d==null&&(d=0),B(d,0)?Q(k.num["$-@"](),k.den)["$-@"]().$floor():k.$with_precision("floor",d)},-1),$e(x,"$hash",function(){var d=this;return[m("Rational"),d.num,d.den].$hash()}),$e(x,"$inspect",function(){var d=this;return"("+d+")"}),$e(x,"$rationalize",function(d){var k=this;if(arguments.length>1&&P.$raise(m("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d==null)return k;for(var h=d.$abs(),c=G(k,h),o=V(k,h),X=0,L=1,_=1,f=0,a,n,t,r,$;t=c.$ceil(),!y(t,o);)r=t-1,a=r*L+X,n=r*f+_,$=Q(1,G(o,r)),o=Q(1,G(c,r)),c=$,X=L,_=f,L=a,f=n;return P.$Rational(t*L+X,t*f+_)},-1),$e(x,"$round",function(d){var k=this,h=D,c=D,o=D;return d==null&&(d=0),B(d,0)?B(k.num,0)?0:B(k.den,1)?k.num:(h=V(ee(k.num.$abs(),2),k.den),c=ee(k.den,2),o=Q(h,c).$truncate(),A(te(k.num,0))?o["$-@"]():o):k.$with_precision("round",d)},-1),$e(x,"$to_f",function(){var d=this;return Q(d.num,d.den)}),$e(x,"$to_i",function(){var d=this;return d.$truncate()}),$e(x,"$to_r",F),$e(x,"$to_s",function(){var d=this;return""+d.num+"/"+d.den}),$e(x,"$truncate",function(d){var k=this;return d==null&&(d=0),B(d,0)?A(te(k.num,0))?k.$ceil():k.$floor():k.$with_precision("truncate",d)},-1),$e(x,"$with_precision",function(d,k){var h=this,c=D,o=D;return Z(m("Integer"),k)||P.$raise(m("TypeError"),"not an Integer"),c=10["$**"](k),o=ee(h,c),A(te(k,1))?Q(o.$send(d),c).$to_i():P.$Rational(o.$send(d),c)}),N(x,"$from_string",function(d){var k=d.trimLeft(),h=/^[+-]?[\d_]+(\.[\d_]+)?/;k.match(h);var c,o;function X(){return h.test(k)}function L(){var _=k.match(h),f=_[0];return k=k.slice(f.length),f.replace(/_/g,"")}return X()?(c=parseFloat(L()),k[0]==="/"?(k=k.slice(1),X()?(o=parseFloat(L()),P.$Rational(c,o)):P.$Rational(c,1)):P.$Rational(c,1)):P.$Rational(0,1)}),Y(x,"divide","/"),Y(x,"quo","/")}("::",m("Numeric"))};Opal.modules["corelib/time"]=function(e){var E=e.slice,B=e.deny_frozen_access,P=e.klass,A=e.Kernel,te=e.Opal,Q=e.defs,N=e.eqeqeq,Z=e.def,g=e.truthy,K=e.rb_gt,$e=e.rb_lt,W=e.send,G=e.rb_plus,ee=e.rb_divide,V=e.rb_minus,b=e.range,y=e.neqeq,F=e.rb_le,Y=e.eqeq,z=e.alias,D=e.top,m=[],q=e.nil,R=e.$$$;return e.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),D.$require("corelib/comparable"),function(x,w,s){var d=P(x,w,"Time"),k=[d].concat(s),h=e.$r(k);d.$include(R("Comparable"));var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],L=["January","February","March","April","May","June","July","August","September","October","November","December"];Q(d,"$at",function(a,n){var t;return R("Time")["$==="](a)?(n!==void 0&&A.$raise(R("TypeError"),"can't convert Time into an exact number"),t=new Date(a.getTime()),t.timezone=a.timezone,t):(a.$$is_number||(a=te["$coerce_to!"](a,R("Integer"),"to_int")),n===void 0?new Date(a*1e3):(n.$$is_number||(n=te["$coerce_to!"](n,R("Integer"),"to_int")),new Date(a*1e3+n/1e3)))},-2);function _(f,a,n,t,r,$){if(f.$$is_string?f=parseInt(f,10):f=te["$coerce_to!"](f,R("Integer"),"to_int"),a===q)a=1;else if(!a.$$is_number)if(a["$respond_to?"]("to_str"))switch(a=a.$to_str(),a.toLowerCase()){case"jan":a=1;break;case"feb":a=2;break;case"mar":a=3;break;case"apr":a=4;break;case"may":a=5;break;case"jun":a=6;break;case"jul":a=7;break;case"aug":a=8;break;case"sep":a=9;break;case"oct":a=10;break;case"nov":a=11;break;case"dec":a=12;break;default:a=a.$to_i()}else a=te["$coerce_to!"](a,R("Integer"),"to_int");return(a<1||a>12)&&A.$raise(R("ArgumentError"),"month out of range: "+a),a=a-1,n===q?n=1:n.$$is_string?n=parseInt(n,10):n=te["$coerce_to!"](n,R("Integer"),"to_int"),(n<1||n>31)&&A.$raise(R("ArgumentError"),"day out of range: "+n),t===q?t=0:t.$$is_string?t=parseInt(t,10):t=te["$coerce_to!"](t,R("Integer"),"to_int"),(t<0||t>24)&&A.$raise(R("ArgumentError"),"hour out of range: "+t),r===q?r=0:r.$$is_string?r=parseInt(r,10):r=te["$coerce_to!"](r,R("Integer"),"to_int"),(r<0||r>59)&&A.$raise(R("ArgumentError"),"min out of range: "+r),$===q?$=0:$.$$is_number||($.$$is_string?$=parseInt($,10):$=te["$coerce_to!"]($,R("Integer"),"to_int")),($<0||$>60)&&A.$raise(R("ArgumentError"),"sec out of range: "+$),[f,a,n,t,r,$]}return Q(d,"$new",function(a,n,t,r,$,i,u){var p=this;n==null&&(n=q),t==null&&(t=q),r==null&&(r=q),$==null&&($=q),i==null&&(i=q),u==null&&(u=q);var S,M,T,H;return a===void 0?new Date:(S=_(a,n,t,r,$,i),a=S[0],n=S[1],t=S[2],r=S[3],$=S[4],i=S[5],u===q?(M=new Date(a,n,t,r,$,0,i*1e3),a<100&&M.setFullYear(a),M):(T=p.$_parse_offset(u),H=new Date(Date.UTC(a,n,t,r,$,0,i*1e3)),a<100&&H.setUTCFullYear(a),M=new Date(H.getTime()-T*36e5),M.timezone=T,M))},-1),Q(d,"$_parse_offset",function(a){var n;if(a.$$is_string)if(a=="UTC")n=0;else if(/^[+-]\d\d:[0-5]\d$/.test(a)){var t,r,$;t=a[0],r=+(a[1]+a[2]),$=+(a[4]+a[5]),n=(t=="-"?-1:1)*(r+$/60)}else A.$raise(R("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+a);else a.$$is_number?n=a/3600:A.$raise(R("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return n}),Q(d,"$local",function(a,n,t,r,$,i,u,p,S,M){n==null&&(n=q),t==null&&(t=q),r==null&&(r=q),$==null&&($=q),i==null&&(i=q),u==null&&(u=q),p==null&&(p=q),S==null&&(S=q),M==null&&(M=q);var T,H;return arguments.length===10&&(T=E(arguments),a=T[5],n=T[4],t=T[3],r=T[2],$=T[1],i=T[0]),T=_(a,n,t,r,$,i),a=T[0],n=T[1],t=T[2],r=T[3],$=T[4],i=T[5],H=new Date(a,n,t,r,$,0,i*1e3),a<100&&H.setFullYear(a),H},-2),Q(d,"$gm",function(a,n,t,r,$,i,u,p,S,M){n==null&&(n=q),t==null&&(t=q),r==null&&(r=q),$==null&&($=q),i==null&&(i=q),u==null&&(u=q),p==null&&(p=q),S==null&&(S=q),M==null&&(M=q);var T,H;return arguments.length===10&&(T=E(arguments),a=T[5],n=T[4],t=T[3],r=T[2],$=T[1],i=T[0]),T=_(a,n,t,r,$,i),a=T[0],n=T[1],t=T[2],r=T[3],$=T[4],i=T[5],H=new Date(Date.UTC(a,n,t,r,$,0,i*1e3)),a<100&&H.setUTCFullYear(a),H.timezone=0,H},-2),Q(d,"$now",function(){var a=this;return a.$new()}),Z(d,"$+",function(a){var n=this;N(R("Time"),a)&&A.$raise(R("TypeError"),"time + time?"),a.$$is_number||(a=te["$coerce_to!"](a,R("Integer"),"to_int"));var t=new Date(n.getTime()+a*1e3);return t.timezone=n.timezone,t}),Z(d,"$-",function(a){var n=this;if(N(R("Time"),a))return(n.getTime()-a.getTime())/1e3;a.$$is_number||(a=te["$coerce_to!"](a,R("Integer"),"to_int"));var t=new Date(n.getTime()-a*1e3);return t.timezone=n.timezone,t}),Z(d,"$<=>",function(a){var n=this,t=q;return N(R("Time"),a)?n.$to_f()["$<=>"](a.$to_f()):(t=a["$<=>"](n),g(t["$nil?"]())?q:g(K(t,0))?-1:g($e(t,0))?1:0)}),Z(d,"$==",function(a){var n=this,t=q;return g(t=R("Time")["$==="](a))?n.$to_f()===a.$to_f():t}),Z(d,"$asctime",function(){var a=this;return a.$strftime("%a %b %e %H:%M:%S %Y")}),W([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function f(a,n,t,r){var $=f.$$s==null?this:f.$$s;return a==null&&(a=q),n==null&&(n=q),t==null&&(t=q),r==null&&(r=0),W($,"define_method",[a],function i(){var u=i.$$s==null?this:i.$$s;return r+(u.timezone!=null?new Date(u.getTime()+u.timezone*36e5)[t]():u[n]())},{$$s:$})},{$$arity:-4,$$s:d}),Z(d,"$yday",function(){var a=this,n=q,t=q,r=q;return n=h("Time").$new(a.$year()).$to_i(),t=h("Time").$new(a.$year(),a.$month(),a.$day()).$to_i(),r=86400,G(ee(V(t,n),r).$round(),1)}),Z(d,"$isdst",function(){var a=this,n=new Date(a.getFullYear(),0,1),t=new Date(a.getFullYear(),6,1);return a.getTimezoneOffset()<Math.max(n.getTimezoneOffset(),t.getTimezoneOffset())}),Z(d,"$dup",function(){var a=this,n=q;return n=new Date(a.getTime()),n.$copy_instance_variables(a),n.$initialize_dup(a),n}),Z(d,"$eql?",function(a){var n=this,t=q;return g(t=a["$is_a?"](R("Time")))?n["$<=>"](a)["$zero?"]():t}),W([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function f(a,n){var t=f.$$s==null?this:f.$$s;return a==null&&(a=q),n==null&&(n=q),W(t,"define_method",[a],function r(){var $=r.$$s==null?this:r.$$s;return $.$wday()===n},{$$s:t})},{$$s:d}),Z(d,"$hash",function(){var a=this;return[R("Time"),a.getTime()].$hash()}),Z(d,"$inspect",function(){var a=this;return g(a["$utc?"]())?a.$strftime("%Y-%m-%d %H:%M:%S UTC"):a.$strftime("%Y-%m-%d %H:%M:%S %z")}),Z(d,"$succ",function(){var a=this,n=new Date(a.getTime()+1e3);return n.timezone=a.timezone,n}),Z(d,"$usec",function(){var a=this;return a.getMilliseconds()*1e3}),Z(d,"$zone",function(){var a=this;if(a.timezone===0)return"UTC";if(a.timezone!=null)return q;var n=a.toString(),t;return n.indexOf("(")==-1?t=n.match(/[A-Z]{3,4}/)[0]:t=n.match(/\((.+)\)(?:\s|$)/)[1],t=="GMT"&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:t}),Z(d,"$getgm",function(){var a=this,n=new Date(a.getTime());return n.timezone=0,n}),Z(d,"$gmtime",function(){var a=this;return a.timezone!==0&&(B(a),a.timezone=0),a}),Z(d,"$gmt?",function(){var a=this;return a.timezone===0}),Z(d,"$gmt_offset",function(){var a=this;return a.timezone!=null?a.timezone*60:-a.getTimezoneOffset()*60}),Z(d,"$strftime",function(a){var n=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,r,$,i,u){var p="",S,M,T,H=r.indexOf("0")!==-1,O=r.indexOf("-")===-1,ae=r.indexOf("_")!==-1,le=r.indexOf("^")!==-1,_e=r.indexOf("#")!==-1,de=(r.match(":")||[]).length;switch($=parseInt($,10),H&&ae&&(r.indexOf("0")<r.indexOf("_")?H=!1:ae=!1),u){case"Y":p+=n.$year();break;case"C":H=!ae,p+=Math.round(n.$year()/100);break;case"y":H=!ae,p+=n.$year()%100;break;case"m":H=!ae,p+=n.$mon();break;case"B":p+=L[n.$mon()-1];break;case"b":case"h":ae=!H,p+=X[n.$mon()-1];break;case"d":H=!ae,p+=n.$day();break;case"e":ae=!H,p+=n.$day();break;case"j":H=!ae,$=isNaN($)?3:$,p+=n.$yday();break;case"H":H=!ae,p+=n.$hour();break;case"k":ae=!H,p+=n.$hour();break;case"I":H=!ae,p+=n.$hour()%12||12;break;case"l":ae=!H,p+=n.$hour()%12||12;break;case"P":p+=n.$hour()>=12?"pm":"am";break;case"p":p+=n.$hour()>=12?"PM":"AM";break;case"M":H=!ae,p+=n.$min();break;case"S":H=!ae,p+=n.$sec();break;case"L":H=!ae,$=isNaN($)?3:$,p+=n.getMilliseconds();break;case"N":$=isNaN($)?9:$,p+=n.getMilliseconds().toString().$rjust(3,"0"),p=p.$ljust($,"0");break;case"z":var ge=n.timezone==null?n.getTimezoneOffset():-n.timezone*60,ve=Math.floor(Math.abs(ge)/60),me=Math.abs(ge)%60;p+=ge<0?"+":"-",p+=ve<10?"0":"",p+=ve,de>0&&(p+=":"),p+=me<10?"0":"",p+=me,de>1&&(p+=":00");break;case"Z":p+=n.$zone();break;case"A":p+=c[n.$wday()];break;case"a":p+=o[n.$wday()];break;case"u":p+=n.$wday()+1;break;case"w":p+=n.$wday();break;case"V":p+=n.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":p+=n.$cweek_cyear()["$[]"](1);break;case"g":p+=n.$cweek_cyear()["$[]"](1)["$[]"](b(-2,-1,!1));break;case"s":p+=n.$to_i();break;case"n":p+=`
`;break;case"t":p+="	";break;case"%":p+="%";break;case"c":p+=n.$strftime("%a %b %e %T %Y");break;case"D":case"x":p+=n.$strftime("%m/%d/%y");break;case"F":p+=n.$strftime("%Y-%m-%d");break;case"v":p+=n.$strftime("%e-%^b-%4Y");break;case"r":p+=n.$strftime("%I:%M:%S %p");break;case"R":p+=n.$strftime("%H:%M");break;case"T":case"X":p+=n.$strftime("%H:%M:%S");break;case"J":if(S=n.$to_date().$jd(),S<2405160){p+=n.$strftime("%Y-%m-%d");break}else S<2419614?(M="M",T=1867):S<2424875?(M="T",T=1911):S<2447535?(M="S",T=1925):S<2458605?(M="H",T=1988):(M="R",T=2018);p+=n.$format("%c%02d",M,V(n.$year(),T)),p+=n.$strftime("-%m-%d");break;default:return t}return le&&(p=p.toUpperCase()),_e&&(p=p.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),O&&(H||ae)&&(p=p.$rjust(isNaN($)?2:$,ae?" ":"0")),p})}),Z(d,"$to_a",function(){var a=this;return[a.$sec(),a.$min(),a.$hour(),a.$day(),a.$month(),a.$year(),a.$wday(),a.$yday(),a.$isdst(),a.$zone()]}),Z(d,"$to_f",function(){var a=this;return a.getTime()/1e3}),Z(d,"$to_i",function(){var a=this;return parseInt(a.getTime()/1e3,10)}),Z(d,"$cweek_cyear",function(){var a=this,n=q,t=q,r=q,$=q,i=q,u=q,p=q;return n=R("Time").$new(a.$year(),1,1),t=n.$wday(),r=a.$year(),g(F(t,4))&&y(t,0)?$=V(t,1):($=V(V(t,7),1),Y($,-8)&&($=-1)),i=ee(G(a.$yday(),$),7).$ceil(),g(F(i,0))?R("Time").$new(V(a.$year(),1),12,31).$cweek_cyear():(Y(i,53)&&(u=R("Time").$new(a.$year(),12,31),p=u.$wday(),g(F(p,3))&&y(p,0)&&(i=1,r=G(r,1))),[i,r])}),function(f,a){return z(f,"mktime","local"),z(f,"utc","gm")}(e.get_singleton_class(d)),z(d,"ctime","asctime"),z(d,"dst?","isdst"),z(d,"getutc","getgm"),z(d,"gmtoff","gmt_offset"),z(d,"mday","day"),z(d,"month","mon"),z(d,"to_s","inspect"),z(d,"tv_sec","to_i"),z(d,"tv_usec","usec"),z(d,"utc","gmtime"),z(d,"utc?","gmt?"),z(d,"utc_offset","gmt_offset")}("::",Date,m)};Opal.modules["corelib/struct"]=function(e){var E=e.klass,B=e.slice,P=e.extract_kwargs,A=e.ensure_kwargs,te=e.hash_get,Q=e.truthy,N=e.neqeq,Z=e.eqeq,g=e.Opal,K=e.send,$e=e.Class,W=e.to_a,G=e.def,ee=e.defs,V=e.Kernel,b=e.rb_gt,y=e.rb_minus,F=e.eqeqeq,Y=e.rb_lt,z=e.rb_ge,D=e.rb_plus,m=e.alias,q=e.top,R=[],x=e.nil,w=e.$$$;return e.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),q.$require("corelib/enumerable"),function(s,d,k){var h=E(s,d,"Struct"),c=[h].concat(k),o=e.$r(c);h.$include(w("Enumerable")),ee(h,"$new",function L(_,f,a){var n=L.$$p||x,t,r,$,i,u=this,p=x;if(L.$$p=null,t=B(arguments,1),r=P(t),r=A(r),$=t,i=te(r,"keyword_init"),i==null&&(i=!1),Q(_))if(Z(_.$class(),w("String"))&&N(_["$[]"](0).$upcase(),_["$[]"](0)))$.$unshift(_),_=x;else try{_=g["$const_name!"](_)}catch(S){if(e.rescue(S,[w("TypeError"),w("NameError")]))try{$.$unshift(_),_=x}finally{e.pop_exception(S)}else throw S}return K($,"map",[],function(M){return M==null&&(M=x),g["$coerce_to!"](M,w("String"),"to_str")}),p=K($e,"new",[u],function S(){var M=S.$$s==null?this:S.$$s;return K($,"each",[],function T(H){var O=T.$$s==null?this:T.$$s;return H==null&&(H=x),O.$define_struct_attribute(H)},{$$s:M}),function(T,H){return G(T,"$new",function(ae){var le,_e,de=this,ge=x;return le=B(arguments),_e=le,ge=de.$allocate(),ge.$$data={},K(ge,"initialize",W(_e)),ge},-1),T.$alias_method("[]","new")}(e.get_singleton_class(M))},{$$s:u}),Q(n)&&K(p,"module_eval",[],n.$to_proc()),p.$$keyword_init=i,Q(_)&&w("Struct").$const_set(_,p),p},-2),ee(h,"$define_struct_attribute",function(_){var f=this;return Z(f,w("Struct"))&&V.$raise(w("ArgumentError"),"you cannot define attributes to the Struct class"),f.$members()["$<<"](_),K(f,"define_method",[_],function a(){var n=a.$$s==null?this:a.$$s;return n.$$data[_]},{$$s:f}),K(f,"define_method",[""+_+"="],function a(n){var t=a.$$s==null?this:a.$$s;return n==null&&(n=x),t.$$data[_]=n},{$$s:f})}),ee(h,"$members",function(){var _=this,f=x;return _.members==null&&(_.members=x),Z(_,w("Struct"))&&V.$raise(w("ArgumentError"),"the Struct class has no members"),_.members=Q(f=_.members)?f:[]}),ee(h,"$inherited",function(_){var f=this,a=x;return f.members==null&&(f.members=x),a=f.members,K(_,"instance_eval",[],function n(){var t=n.$$s==null?this:n.$$s;return t.members=a},{$$s:f})}),G(h,"$initialize",function(_){var f,a,n=this,t=x,r=x,$=x;return f=B(arguments),a=f,Q(n.$class().$$keyword_init)?(t=Q(r=a.$last())?r:new Map,(Q(b(a.$length(),1))||Q(a.length===1&&!t.$$is_hash))&&V.$raise(w("ArgumentError"),"wrong number of arguments (given "+a.$length()+", expected 0)"),$=y(t.$keys(),n.$class().$members()),Q($["$any?"]())&&V.$raise(w("ArgumentError"),"unknown keywords: "+$.$join(", ")),K(n.$class().$members(),"each",[],function i(u){var p,S=i.$$s==null?this:i.$$s;return u==null&&(u=x),p=[u,t["$[]"](u)],K(S,"[]=",p),p[p.length-1]},{$$s:n})):(Q(b(a.$length(),n.$class().$members().$length()))&&V.$raise(w("ArgumentError"),"struct size differs"),K(n.$class().$members(),"each_with_index",[],function i(u,p){var S,M=i.$$s==null?this:i.$$s;return u==null&&(u=x),p==null&&(p=x),S=[u,a["$[]"](p)],K(M,"[]=",S),S[S.length-1]},{$$s:n}))},-1),G(h,"$initialize_copy",function(_){var f=this;f.$$data={};var a=Object.keys(_.$$data),n,t,r;for(n=0,t=a.length;n<t;n++)r=a[n],f.$$data[r]=_.$$data[r]}),ee(h,"$keyword_init?",function(){var _=this;return _.$$keyword_init}),G(h,"$members",function(){var _=this;return _.$class().$members()}),G(h,"$hash",function(){var _=this;return[_.$class(),_.$to_a()].$hash()}),G(h,"$[]",function(_){var f=this;return F(w("Integer"),_)?(Q(Y(_,f.$class().$members().$size()["$-@"]()))&&V.$raise(w("IndexError"),"offset "+_+" too small for struct(size:"+f.$class().$members().$size()+")"),Q(z(_,f.$class().$members().$size()))&&V.$raise(w("IndexError"),"offset "+_+" too large for struct(size:"+f.$class().$members().$size()+")"),_=f.$class().$members()["$[]"](_)):F(w("String"),_)?f.$$data.hasOwnProperty(_)||V.$raise(w("NameError").$new("no member '"+_+"' in struct",_)):V.$raise(w("TypeError"),"no implicit conversion of "+_.$class()+" into Integer"),_=g["$coerce_to!"](_,w("String"),"to_str"),f.$$data[_]}),G(h,"$[]=",function(_,f){var a=this;return F(w("Integer"),_)?(Q(Y(_,a.$class().$members().$size()["$-@"]()))&&V.$raise(w("IndexError"),"offset "+_+" too small for struct(size:"+a.$class().$members().$size()+")"),Q(z(_,a.$class().$members().$size()))&&V.$raise(w("IndexError"),"offset "+_+" too large for struct(size:"+a.$class().$members().$size()+")"),_=a.$class().$members()["$[]"](_)):F(w("String"),_)?Q(a.$class().$members()["$include?"](_.$to_sym()))||V.$raise(w("NameError").$new("no member '"+_+"' in struct",_)):V.$raise(w("TypeError"),"no implicit conversion of "+_.$class()+" into Integer"),_=g["$coerce_to!"](_,w("String"),"to_str"),a.$$data[_]=f}),G(h,"$==",function(_){var f=this;if(!Q(_["$instance_of?"](f.$class())))return!1;var a={},n={};function t(r,$){var i,u,p;a[r.$__id__()]=!0,n[$.$__id__()]=!0;for(i in r.$$data)if(u=r.$$data[i],p=$.$$data[i],w("Struct")["$==="](u)){if((!a.hasOwnProperty(u.$__id__())||!n.hasOwnProperty(p.$__id__()))&&!t(u,p))return!1}else if(!u["$=="](p))return!1;return!0}return t(f,_)}),G(h,"$eql?",function(_){var f=this;if(!Q(_["$instance_of?"](f.$class())))return!1;var a={},n={};function t(r,$){var i,u,p;a[r.$__id__()]=!0,n[$.$__id__()]=!0;for(i in r.$$data)if(u=r.$$data[i],p=$.$$data[i],w("Struct")["$==="](u)){if((!a.hasOwnProperty(u.$__id__())||!n.hasOwnProperty(p.$__id__()))&&!t(u,p))return!1}else if(!u["$eql?"](p))return!1;return!0}return t(f,_)}),G(h,"$each",function L(){var _=L.$$p||x,f=this;return L.$$p=null,_===x?K(f,"enum_for",["each"],function a(){var n=a.$$s==null?this:a.$$s;return n.$size()},{$$s:f}):(K(f.$class().$members(),"each",[],function a(n){var t=a.$$s==null?this:a.$$s;return n==null&&(n=x),e.yield1(_,t["$[]"](n))},{$$s:f}),f)}),G(h,"$each_pair",function L(){var _=L.$$p||x,f=this;return L.$$p=null,_===x?K(f,"enum_for",["each_pair"],function a(){var n=a.$$s==null?this:a.$$s;return n.$size()},{$$s:f}):(K(f.$class().$members(),"each",[],function a(n){var t=a.$$s==null?this:a.$$s;return n==null&&(n=x),e.yield1(_,[n,t["$[]"](n)])},{$$s:f}),f)}),G(h,"$length",function(){var _=this;return _.$class().$members().$length()}),G(h,"$to_a",function(){var _=this;return K(_.$class().$members(),"map",[],function f(a){var n=f.$$s==null?this:f.$$s;return a==null&&(a=x),n["$[]"](a)},{$$s:_})});var X=[];return G(h,"$inspect",function(){var _=this,f=x,a=x;return function(){try{return f="#<struct ",Q(X["$include?"](_.$__id__()))?D(f,":...>"):(X["$<<"](_.$__id__()),a=!0,F(w("Struct"),_)&&Q(_.$class().$name())&&(f=D(f,""+_.$class()+" ")),f=D(f,K(_.$each_pair(),"map",[],function(t,r){return t==null&&(t=x),r==null&&(r=x),""+t+"="+o("Opal").$inspect(r)}).$join(", ")),f=D(f,">"),f)}finally{Q(a)&&X.pop()}}()}),G(h,"$to_h",function L(_){var f=L.$$p||x,a,n,t=this;return L.$$p=null,a=B(arguments),n=a,f!==x?K(K(t,"map",[],f.$to_proc()),"to_h",W(n)):K(t.$class().$members(),"each_with_object",[new Map],function r($,i){var u,p=r.$$s==null?this:r.$$s;return $==null&&($=x),i==null&&(i=x),u=[$,p["$[]"]($)],K(i,"[]=",u),u[u.length-1]},{$$s:t})},-1),G(h,"$values_at",function(_){var f,a,n=this;f=B(arguments),a=f,a=K(a,"map",[],function(u){return u==null&&(u=x),u.$$is_range?u.$to_a():u}).$flatten();for(var t=[],r=0,$=a.length;r<$;r++)a[r].$$is_number||V.$raise(w("TypeError"),"no implicit conversion of "+a[r].$class()+" into Integer"),t.push(n["$[]"](a[r]));return t},-1),G(h,"$dig",function(_,f){var a,n,t=this,r=x;return a=B(arguments,1),n=a,r=Q(_.$$is_string&&t.$$data.hasOwnProperty(_))&&t.$$data[_]||x,r===x||n.length===0?r:(Q(r["$respond_to?"]("dig"))||V.$raise(w("TypeError"),""+r.$class()+" does not have #dig method"),K(r,"dig",W(n)))},-2),m(h,"size","length"),m(h,"to_s","inspect"),m(h,"values","to_a")}("::",null,R)};Opal.modules["corelib/set"]=function(e){var E=e.freeze,B=e.klass,P=e.slice,A=e.defs,te=e.truthy,Q=e.eqeqeq,N=e.Kernel,Z=e.send,g=e.def,K=e.eqeq,$e=e.rb_lt,W=e.rb_le,G=e.alias,ee=[],V=e.nil,b=e.$$$;return e.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(y,F,Y){var z=B(y,F,"Set"),D=[z].concat(Y),m=e.$r(D),q=V,R=z.$$prototype;R.hash=V,z.$include(b("Enumerable")),A(z,"$[]",function(s){var d,k,h=this;return d=P(arguments),k=d,h.$new(k)},-1),g(z,"$initialize",function w(s){var d=w.$$p||V,k=this;return w.$$p=null,s==null&&(s=V),k.hash=new Map,te(s["$nil?"]())?V:(Q(b("Enumerable"),s)||N.$raise(b("ArgumentError"),"value must be enumerable"),te(d)?Z(s,"each",[],function h(c){var o=h.$$s==null?this:h.$$s;return c==null&&(c=V),o.$add(e.yield1(d,c))},{$$s:k}):k.$merge(s))},-1),g(z,"$dup",function(){var s=this,d=V;return d=s.$class().$new(),d.$merge(s)}),g(z,"$-",function(s){var d=this;return te(s["$respond_to?"]("each"))||N.$raise(b("ArgumentError"),"value must be enumerable"),d.$dup().$subtract(s)}),g(z,"$inspect",function(){var s=this;return"#<Set: {"+s.$to_a().$join(",")+"}>"}),g(z,"$==",function(s){var d=this;return te(d["$equal?"](s))?!0:te(s["$instance_of?"](d.$class()))?d.hash["$=="](s.$instance_variable_get("@hash")):te(s["$is_a?"](b("Set")))&&K(d.$size(),s.$size())?Z(s,"all?",[],function k(h){var c=k.$$s==null?this:k.$$s;return c.hash==null&&(c.hash=V),h==null&&(h=V),c.hash["$include?"](h)},{$$s:d}):!1}),g(z,"$add",function(s){var d=this;return d.hash["$[]="](s,!0),d}),g(z,"$classify",function w(){var s=w.$$p||V,d=this,k=V;return w.$$p=null,s===V?d.$enum_for("classify"):(k=Z(b("Hash"),"new",[],function h(c,o){var X,L=h.$$s==null?this:h.$$s;return c==null&&(c=V),o==null&&(o=V),X=[o,L.$class().$new()],Z(c,"[]=",X),X[X.length-1]},{$$s:d}),Z(d,"each",[],function(c){return c==null&&(c=V),k["$[]"](e.yield1(s,c)).$add(c)}),k)}),g(z,"$collect!",function w(){var s=w.$$p||V,d=this,k=V;return w.$$p=null,s===V?d.$enum_for("collect!"):(k=d.$class().$new(),Z(d,"each",[],function(c){return c==null&&(c=V),k["$<<"](e.yield1(s,c))}),d.$replace(k))}),g(z,"$compare_by_identity",function(){var s=this;return te(s.hash["$respond_to?"]("compare_by_identity"))?(s.hash.$compare_by_identity(),s):s.$raise(m("NotImplementedError"),""+s.$class().$name()+"#compare_by_identity is not implemented")}),g(z,"$compare_by_identity?",function(){var s=this,d=V;return te(d=s.hash["$respond_to?"]("compare_by_identity?"))?s.hash["$compare_by_identity?"]():d}),g(z,"$delete",function(s){var d=this;return d.hash.$delete(s),d}),g(z,"$delete?",function(s){var d=this;return te(d["$include?"](s))?(d.$delete(s),d):V}),g(z,"$delete_if",function w(){var s=w.$$p||V,d=this;return w.$$p=null,s===V?d.$enum_for("delete_if"):(Z(Z(d,"select",[],function(h){return h==null&&(h=V),e.yield1(s,h)}),"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return c.hash==null&&(c.hash=V),h==null&&(h=V),c.hash.$delete(h)},{$$s:d}),d)}),g(z,"$freeze",function(){var s=this;return te(s["$frozen?"]())?s:(s.hash.$freeze(),E(s))}),g(z,"$keep_if",function w(){var s=w.$$p||V,d=this;return w.$$p=null,s===V?d.$enum_for("keep_if"):(Z(Z(d,"reject",[],function(h){return h==null&&(h=V),e.yield1(s,h)}),"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return c.hash==null&&(c.hash=V),h==null&&(h=V),c.hash.$delete(h)},{$$s:d}),d)}),g(z,"$reject!",function w(){var s=w.$$p||V,d=this,k=V;return w.$$p=null,s===V?d.$enum_for("reject!"):(k=d.$size(),Z(d,"delete_if",[],s.$to_proc()),K(d.$size(),k)?V:d)}),g(z,"$select!",function w(){var s=w.$$p||V,d=this,k=V;return w.$$p=null,s===V?d.$enum_for("select!"):(k=d.$size(),Z(d,"keep_if",[],s.$to_proc()),K(d.$size(),k)?V:d)}),g(z,"$add?",function(s){var d=this;return te(d["$include?"](s))?V:d.$add(s)}),g(z,"$each",function w(){var s=w.$$p||V,d=this;return w.$$p=null,s===V?d.$enum_for("each"):(Z(d.hash,"each_key",[],s.$to_proc()),d)}),g(z,"$empty?",function(){var s=this;return s.hash["$empty?"]()}),g(z,"$eql?",function(s){var d=this;return d.hash["$eql?"](Z(s,"instance_eval",[],function k(){var h=k.$$s==null?this:k.$$s;return h.hash==null&&(h.hash=V),h.hash},{$$s:d}))}),g(z,"$clear",function(){var s=this;return s.hash.$clear(),s}),g(z,"$include?",function(s){var d=this;return d.hash["$include?"](s)}),g(z,"$merge",function(s){var d=this;return Z(s,"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=V),c.$add(h)},{$$s:d}),d}),g(z,"$replace",function(s){var d=this;return d.$clear(),d.$merge(s),d}),g(z,"$size",function(){var s=this;return s.hash.$size()}),g(z,"$subtract",function(s){var d=this;return Z(s,"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=V),c.$delete(h)},{$$s:d}),d}),g(z,"$|",function(s){var d=this;return te(s["$respond_to?"]("each"))||N.$raise(b("ArgumentError"),"value must be enumerable"),d.$dup().$merge(s)});function x(w){te(q=w["$is_a?"](b("Set")))||N.$raise(b("ArgumentError"),"value must be a set")}return g(z,"$superset?",function(s){var d=this;return x(s),te($e(d.$size(),s.$size()))?!1:Z(s,"all?",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=V),c["$include?"](h)},{$$s:d})}),g(z,"$proper_superset?",function(s){var d=this;return x(s),te(W(d.$size(),s.$size()))?!1:Z(s,"all?",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=V),c["$include?"](h)},{$$s:d})}),g(z,"$subset?",function(s){var d=this;return x(s),te($e(s.$size(),d.$size()))?!1:Z(d,"all?",[],function(h){return h==null&&(h=V),s["$include?"](h)})}),g(z,"$proper_subset?",function(s){var d=this;return x(s),te(W(s.$size(),d.$size()))?!1:Z(d,"all?",[],function(h){return h==null&&(h=V),s["$include?"](h)})}),g(z,"$intersect?",function(s){var d=this;return x(s),te($e(d.$size(),s.$size()))?Z(d,"any?",[],function(h){return h==null&&(h=V),s["$include?"](h)}):Z(s,"any?",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=V),c["$include?"](h)},{$$s:d})}),g(z,"$disjoint?",function(s){var d=this;return d["$intersect?"](s)["$!"]()}),g(z,"$to_a",function(){var s=this;return s.hash.$keys()}),G(z,"+","|"),G(z,"<","proper_subset?"),G(z,"<<","add"),G(z,"<=","subset?"),G(z,">","proper_superset?"),G(z,">=","superset?"),G(z,"difference","-"),G(z,"filter!","select!"),G(z,"length","size"),G(z,"map!","collect!"),G(z,"member?","include?"),G(z,"union","|")}("::",null,ee)};Opal.modules["corelib/dir"]=function(e){var E=e.klass,B=e.def,P=e.truthy,A=e.alias,te=e.nil,Q=e.$$$;return e.add_stubs("[],pwd"),function(N,Z,g){var K=E(N,Z,"Dir");return function($e,W){return B($e,"$chdir",function G(ee){var V=G.$$p||te,b=te;return G.$$p=null,function(){try{return b=e.current_dir,e.current_dir=ee,e.yieldX(V,[])}finally{e.current_dir=b}}()}),B($e,"$pwd",function(){return e.current_dir||"."}),B($e,"$home",function(){var ee=te;return P(ee=Q("ENV")["$[]"]("HOME"))?ee:"."}),A($e,"getwd","pwd")}(e.get_singleton_class(K))}("::",null)};Opal.modules["corelib/file"]=function(e){var E=e.truthy,B=e.klass,P=e.const_set,A=e.Opal,te=e.regexp,Q=e.rb_plus,N=e.def,Z=e.Kernel,g=e.eqeq,K=e.rb_lt,$e=e.rb_minus,W=e.range,G=e.send,ee=e.slice,V=e.alias,b=[],y=e.nil,F=e.$$$;return e.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(Y,z,D){var m=B(Y,z,"File"),q=[m].concat(D),R=y;return P(q[0],"Separator",P(q[0],"SEPARATOR","/")),P(q[0],"ALT_SEPARATOR",y),P(q[0],"PATH_SEPARATOR",":"),P(q[0],"FNM_SYSCASE",0),R=/^[a-zA-Z]:(?:\\|\/)/,function(x,w){var s=[x].concat(w),d=e.$r(s);N(x,"$absolute_path",function(o,X){var L=y,_=y,f=y,a=y,n=y,t=y,r=y,$=y,i=y,u=y;X==null&&(X=y),L=d("SEPARATOR"),_=h(),f=[],o=E(o["$respond_to?"]("to_path"))?o.$to_path():o,o=A["$coerce_to!"](o,F("String"),"to_str"),X=E(a=X)?a:F("Dir").$pwd(),n=o.substr(0,L.length)===L||R.test(o),t=X.substr(0,L.length)===L||R.test(X),E(n)?(r=o.$split(te(["[",_,"]"])),$=R.test(o)?"":o.$sub(te(["^([",_,"]+).*$"]),"\\1"),i=!0):(r=Q(X.$split(te(["[",_,"]"])),o.$split(te(["[",_,"]"]))),$=R.test(X)?"":X.$sub(te(["^([",_,"]+).*$"]),"\\1"),i=t);for(var p,S=0,M=r.length;S<M;S++)p=r[S],!(p===y||p===""&&(f.length===0||i)||p==="."&&(f.length===0||i))&&(p===".."?f.pop():f.push(p));return!i&&r[0]!=="."&&f.$unshift("."),u=f.$join(L),E(i)&&(u=Q($,u)),u},-2),N(x,"$expand_path",function(o,X){var L=this,_=y,f=y,a=y,n=y,t=y;return X==null&&(X=y),_=d("SEPARATOR"),f=h(),E(o[0]==="~"||X&&X[0]==="~")&&(a=d("Dir").$home(),E(a)||Z.$raise(F("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),n=R.test(a)?"":a.$sub(te(["^([",f,"]+).*$"]),"\\1"),E(a["$start_with?"](n))||Z.$raise(F("ArgumentError"),"non-absolute home"),a=Q(a,_),t=te(["^\\~(?:",_,"|$)"]),o=o.$sub(t,a),E(X)&&(X=X.$sub(t,a))),L.$absolute_path(o,X)},-2);function k(c){return E(c["$respond_to?"]("to_path"))&&(c=c.$to_path()),c=A["$coerce_to!"](c,F("String"),"to_str"),c}function h(){return d("ALT_SEPARATOR")===y?e.escape_regexp(d("SEPARATOR")):e.escape_regexp(Q(d("SEPARATOR"),d("ALT_SEPARATOR")))}return N(x,"$dirname",function(o,X){var L=this,_=y;if(X==null&&(X=1),g(X,0))return o;E(K(X,0))&&Z.$raise(F("ArgumentError"),"level can't be negative"),_=h(),o=k(o);var f=o.match(new RegExp("^["+_+"]")),a;return o=o.replace(new RegExp("["+_+"]+$"),""),o=o.replace(new RegExp("[^"+_+"]+$"),""),o=o.replace(new RegExp("["+_+"]+$"),""),o===""?a=f?"/":".":a=o,X==1?a:L.$dirname(a,$e(X,1))},-2),N(x,"$basename",function(o,X){var L=y;return X==null&&(X=y),L=h(),o=k(o),o.length==0||(X!==y?X=A["$coerce_to!"](X,F("String"),"to_str"):X=null,o=o.replace(new RegExp("(.)["+L+"]*$"),"$1"),o=o.replace(new RegExp("^(?:.*["+L+"])?([^"+L+"]+)$"),"$1"),X===".*"?o=o.replace(/\.[^\.]+$/,""):X!==null&&(X=e.escape_regexp(X),o=o.replace(new RegExp(""+X+"$"),""))),o},-2),N(x,"$extname",function(o){var X=this,L=y,_=y;return o=k(o),L=X.$basename(o),E(L["$empty?"]())||(_=L["$[]"](W(1,-1,!1)).$rindex("."),E(_["$nil?"]())||g(Q(_,1),$e(L.$length(),1)))?"":L["$[]"](e.Range.$new(Q(_,1),-1,!1))}),N(x,"$exist?",function(o){return e.modules[o]!=null}),N(x,"$directory?",function(o){var X=y;X=[];for(var L in e.modules)X.push(L);return o=o.$gsub(te(["(^.",d("SEPARATOR"),"+|",d("SEPARATOR"),"+$)"])),G(X,"find",[],function(f){return f==null&&(f=y),f["$=~"](te(["^",o]))})}),N(x,"$join",function(o){var X,L,_=y;return X=ee(arguments),L=X,E(L["$empty?"]())?"":(_="",L=G(L.$flatten().$each_with_index(),"map",[],function(a,n){return a==null&&(a=y),n==null&&(n=y),g(n,0)&&E(a["$empty?"]())||g(L.$length(),Q(n,1))&&E(a["$empty?"]())?d("SEPARATOR"):a}),L=G(L,"reject",[],"empty?".$to_proc()),G(L,"each_with_index",[],function(a,n){var t=y;return a==null&&(a=y),n==null&&(n=y),t=L["$[]"](Q(n,1)),E(t["$nil?"]())?_=""+_+a:(E(a["$end_with?"](d("SEPARATOR")))&&E(t["$start_with?"](d("SEPARATOR")))&&(a=a.$sub(te([d("SEPARATOR"),"+$"]),"")),_=E(a["$end_with?"](d("SEPARATOR")))||E(t["$start_with?"](d("SEPARATOR")))?""+_+a:""+_+a+d("SEPARATOR"))}),_)},-1),N(x,"$split",function(o){return o.$split(d("SEPARATOR"))}),V(x,"realpath","expand_path"),V(x,"exists?","exist?")}(e.get_singleton_class(m),q)}("::",F("IO"),b)};Opal.modules["corelib/process/base"]=function(e){var E=e.klass,B=e.slice,P=e.defs,A=e.return_val,te=e.nil;return function(Q,N){var Z=E(Q,N,"Signal");return P(Z,"$trap",function(K){return B(arguments),te},-1)}("::",null),function(Q,N){var Z=E(Q,N,"GC");return P(Z,"$start",A(te))}("::",null)};Opal.modules["corelib/process"]=function(e){var E=e.module,B=e.defs,P=e.truthy,A=e.return_val,te=e.Kernel,Q=e.nil,N=e.$$$;return e.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(Z){var g=E(Z,"Process"),K=Q;if(g.__clocks__=[],B(g,"$__register_clock__",function(G,ee){var V=this;return V.__clocks__==null&&(V.__clocks__=Q),V.$const_set(G,V.__clocks__.$size()),V.__clocks__["$<<"](ee)}),g.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),K=!1,e.global.performance)K=function(){return performance.now()};else if(e.global.process&&process.hrtime){var $e=process.hrtime();K=function(){var W=process.hrtime($e),G=W[1]/1e3|0;return W[0]*1e3+G/1e3}}return P(K)&&g.$__register_clock__("CLOCK_MONOTONIC",K),B(g,"$pid",A(0)),B(g,"$times",function(){var G=Q;return G=N("Time").$now().$to_f(),N(N("Benchmark"),"Tms").$new(G,G,G,G,G)}),B(g,"$clock_gettime",function(G,ee){var V=this,b=Q;V.__clocks__==null&&(V.__clocks__=Q),ee==null&&(ee="float_second"),P(b=V.__clocks__["$[]"](G))||te.$raise(N(N("Errno"),"EINVAL"),"clock_gettime("+G+") "+V.__clocks__["$[]"](G));var y=b();switch(ee){case"float_second":return y/1e3;case"float_millisecond":return y/1;case"float_microsecond":return y*1e3;case"second":return y/1e3|0;case"millisecond":return y/1|0;case"microsecond":return y*1e3|0;case"nanosecond":return y*1e6|0;default:te.$raise(N("ArgumentError"),"unexpected unit: "+ee)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(e){var E=e.klass,B=e.module,P=e.def,A=e.range,te=e.send,Q=e.rb_divide,N=e.Kernel,Z=e.Opal,g=[],K=e.nil,$e=e.$$$;return e.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(W,G,ee){var V=E(W,G,"Random"),b=[V].concat(ee);return function(y,F){var Y=B(y,"Formatter"),z=[Y].concat(F),D=e.$r(z);return P(Y,"$hex",function(q){var R=this;q==null&&(q=K),q=$e("Random").$_verify_count(q);for(var x=R.$bytes(q),w="",s=0;s<q;s++)w+=x.charCodeAt(s).toString(16).padStart(2,"0");return w.$encode("US-ASCII")},-1),P(Y,"$random_bytes",function(q){var R=this;return q==null&&(q=K),R.$bytes(q)},-1),P(Y,"$base64",function(q){var R=this;return q==null&&(q=K),$e("Base64").$strict_encode64(R.$random_bytes(q)).$encode("US-ASCII")},-1),P(Y,"$urlsafe_base64",function(q,R){var x=this;return q==null&&(q=K),R==null&&(R=!1),$e("Base64").$urlsafe_encode64(x.$random_bytes(q),R).$encode("US-ASCII")},-1),P(Y,"$uuid",function(){var q=this,R=K;return R=q.$hex(16).$split(""),R["$[]="](12,"4"),R["$[]="](16,(parseInt(R["$[]"](16),16)&3|8).toString(16)),R=[R["$[]"](A(0,8,!0)),R["$[]"](A(8,12,!0)),R["$[]"](A(12,16,!0)),R["$[]"](A(16,20,!0)),R["$[]"](A(20,32,!0))],R=te(R,"map",[],"join".$to_proc()),R.$join("-")}),P(Y,"$random_float",function(){var q=this,R=K,x=K;return R=q.$bytes(4),x=0,te(4,"times",[],function(s){return s==null&&(s=K),x=x["$<<"](8),x=x["$|"](R["$[]"](s).$ord())}),Q(x.$abs(),2147483647)}),P(Y,"$random_number",function(q){var R=this;function x(){return R.$random_float()}function w(d){return Math.floor(x()*d)}function s(){var d=q.begin,k=q.end;if(d===K||k===K)return K;var h=k-d;return h<0?K:h===0?d:(k%1===0&&d%1===0&&!q.excl&&h++,w(h)+d)}return q==null?x():q.$$is_range?s():q.$$is_number?(q<=0&&N.$raise($e("ArgumentError"),"invalid argument - "+q),q%1===0?w(q):x()*q):(q=Z["$coerce_to!"](q,$e("Integer"),"to_int"),q<=0&&N.$raise($e("ArgumentError"),"invalid argument - "+q),w(q))},-1),P(Y,"$alphanumeric",function(q){var R=this,x=K;return q==null&&(q=K),q=D("Random").$_verify_count(q),x=te([A("0","9",!1),A("a","z",!1),A("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),te($e("Array"),"new",[q],function w(s){var d=w.$$s==null?this:w.$$s;return x["$[]"](d.$random_number(x.$length()))},{$$s:R}).$join()},-1)}(V,b),V.$include($e($e("Random"),"Formatter")),V.$extend($e($e("Random"),"Formatter"))}("::",null,g)};Opal.modules["corelib/random/mersenne_twister"]=function(e){var E=e.klass,B=e.const_set,P=e.send,A=e.nil,te=e.$$$,Q=A;return e.add_stubs("generator="),Q=function(){var N=624,Z=397,g=2567483615,K=2147483648,$e=2147483647,W=function(z,D){return z&K|D&$e},G=function(z,D){return W(z,D)>>>1^(D&1?g:0)};function ee(z){var D={left:0,next:N,state:new Array(N)};return V(D,z),D}function V(z,D){var m;for(z.state[0]=D>>>0,m=1;m<N;m++)z.state[m]=1812433253*(z.state[m-1]^z.state[m-1]>>30>>>0)+m,z.state[m]&=4294967295;z.left=1,z.next=N}function b(z){var D=0,m=z.state,q;for(z.left=N,z.next=0,q=N-Z+1;--q;D++)m[D]=m[D+Z]^G(m[D+0],m[D+1]);for(q=Z;--q;D++)m[D]=m[D+(Z-N)]^G(m[D+0],m[D+1]);m[D]=m[D+(Z-N)]^G(m[D+0],m[0])}function y(z){var D;return--z.left<=0&&b(z),D=z.state[z.next++],D^=D>>>11,D^=D<<7&2636928640,D^=D<<15&4022730752,D^=D>>>18,D>>>0}function F(z,D){return z>>>=5,D>>>=6,(z*67108864+D)*(1/9007199254740992)}function Y(z){var D=y(z),m=y(z);return F(D,m)}return{genrand_real:Y,init:ee}}(),function(N,Z){var g=E(N,Z,"Random"),K,$e=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return B(g,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*$e)},reseed:function(W){return Q.init(W)},rand:function(W){return Q.genrand_real(W)}}),K=[te(g,"MERSENNE_TWISTER_GENERATOR")],P(g,"generator=",K),K[K.length-1]}("::",null)};Opal.modules["corelib/random"]=function(e){var E=e.truthy,B=e.klass,P=e.Kernel,A=e.defs,te=e.Opal,Q=e.def,N=e.eqeqeq,Z=e.send,g=e.top,K=e.nil,$e=e.$$$;return e.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),g.$require("corelib/random/formatter"),function(W,G){var ee=B(W,G,"Random");return ee.$attr_reader("seed","state"),A(ee,"$_verify_count",function(b){return E(b)||(b=16),typeof b!="number"&&(b=b.$to_int()),b<0&&P.$raise($e("ArgumentError"),"negative string size (or size too big)"),b=Math.floor(b),b}),Q(ee,"$initialize",function(b){var y=this;return b==null&&(b=$e("Random").$new_seed()),b=te["$coerce_to!"](b,$e("Integer"),"to_int"),y.state=b,y.$reseed(b)},-1),Q(ee,"$reseed",function(b){var y=this;return y.seed=b,y.$rng=e.$$rand.reseed(b)}),A(ee,"$new_seed",function(){return e.$$rand.new_seed()}),A(ee,"$rand",function(b){var y=this;return $e(y,"DEFAULT").$rand(b)},-1),A(ee,"$srand",function(b){var y=this,F=K;return b==null&&(b=$e("Random").$new_seed()),b=te["$coerce_to!"](b,$e("Integer"),"to_int"),F=$e(y,"DEFAULT").$seed(),$e(y,"DEFAULT").$reseed(b),F},-1),A(ee,"$urandom",function(b){return $e("SecureRandom").$bytes(b)}),Q(ee,"$==",function(b){var y=this,F=K;return N($e("Random"),b)?E(F=y.$seed()["$=="](b.$seed()))?y.$state()["$=="](b.$state()):F:!1}),Q(ee,"$bytes",function(b){var y=this;return b=$e("Random").$_verify_count(b),Z($e("Array"),"new",[b],function F(){var Y=F.$$s==null?this:F.$$s;return Y.$rand(255).$chr()},{$$s:y}).$join().$encode("ASCII-8BIT")}),A(ee,"$bytes",function(b){var y=this;return $e(y,"DEFAULT").$bytes(b)}),Q(ee,"$rand",function(b){var y=this;return y.$random_number(b)},-1),Q(ee,"$random_float",function(){var b=this;return b.state++,e.$$rand.rand(b.$rng)}),A(ee,"$random_float",function(){var b=this;return $e(b,"DEFAULT").$random_float()}),A(ee,"$generator=",function(b){var y=this;return e.$$rand=b,E(y["$const_defined?"]("DEFAULT"))?$e(y,"DEFAULT").$reseed():y.$const_set("DEFAULT",y.$new(y.$new_seed()))})}("::",null),g.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(e){var E=e.Kernel,B=e.klass,P=e.send,A=e.slice,te=e.module,Q=e.def,N=e.return_val,Z=e.alias,g=e.defs,K=e.top,$e=[],W=e.nil,G=e.$$$;e.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var ee={};function V(y){switch(e.config.unsupported_features_severity){case"error":E.$raise(G("NotImplementedError"),y);break;case"warning":b(y);break}}function b(y){ee[y]||(ee[y]=!0,K.$warn(y))}return function(y,F){var Y=B(y,F,"String"),z="String#%s not supported. Mutable String methods are not supported in Opal.";return P(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function D(m){var q=D.$$s==null?this:D.$$s;return m==null&&(m=W),P(q,"define_method",[m],function(x){return A(arguments),E.$raise(G("NotImplementedError"),z["$%"](m))},-1)},{$$s:Y})}("::",null),function(y){var F=te(y,"Kernel"),Y="Object tainting is not supported by Opal";return Q(F,"$taint",function(){var D=this;return V(Y),D}),Q(F,"$untaint",function(){var D=this;return V(Y),D}),Q(F,"$tainted?",function(){return V(Y),!1})}("::"),function(y,F){var Y=B(y,F,"Module");return Q(Y,"$public",function(D){var m,q,R=this;return m=A(arguments),q=m,q.length===0?(R.$$module_function=!1,W):q.length===1?q[0]:q},-1),Q(Y,"$private_class_method",function(D){var m,q;return m=A(arguments),q=m,q.length===1?q[0]:q},-1),Q(Y,"$private_method_defined?",N(!1)),Q(Y,"$private_constant",function(D){return A(arguments),W},-1),Z(Y,"nesting","public"),Z(Y,"private","public"),Z(Y,"protected","public"),Z(Y,"protected_method_defined?","private_method_defined?"),Z(Y,"public_class_method","private_class_method"),Z(Y,"public_instance_method","instance_method"),Z(Y,"public_instance_methods","instance_methods"),Z(Y,"public_method_defined?","method_defined?")}("::",null),function(y){var F=te(y,"Kernel");return Q(F,"$private_methods",function(z){return A(arguments),[]},-1),Z(F,"protected_methods","private_methods"),Z(F,"private_instance_methods","private_methods"),Z(F,"protected_instance_methods","private_methods")}("::"),function(y,F){var Y=te(y,"Kernel"),z=[Y].concat(F),D=e.$r(z);return Q(Y,"$eval",function(q){return A(arguments),E.$raise(G("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+D("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",$e),g(K,"$public",function(F){var Y,z;return Y=A(arguments),z=Y,z.length===1?z[0]:z},-1),g(K,"$private",function(F){var Y,z;return Y=A(arguments),z=Y,z.length===1?z[0]:z},-1)};Opal.modules["corelib/binding"]=function(e){var E=e.klass,B=e.truthy,P=e.def,A=e.slice,te=e.send,Q=e.to_a,N=e.Kernel,Z=e.return_ivar,g=e.eqeq;e.thrower;var K=e.module,$e=e.const_set,W=e.top,G=[],ee=e.nil,V=e.$$$;return e.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(b,y){var F=E(b,y,"Binding"),Y=F.$$prototype;return Y.jseval=Y.scope_variables=ee,P(F,"$initialize",function(D,m,q,R){var x,w=this;return m==null&&(m=[]),R==null&&(R=ee),x=[D,m,q,R],w.jseval=x[0],w.scope_variables=x[1],w.receiver=x[2],w.source_location=x[3],B(typeof q!==void 0)?ee:q=w.$js_eval("self")},-2),P(F,"$js_eval",function(D){var m,q,R=this;return m=A(arguments),q=m,B(R.jseval)?te(R.jseval,"call",Q(q)):N.$raise("Evaluation on a Proc#binding is not supported")},-1),P(F,"$local_variable_get",function(D){var m=this;try{return m.$js_eval(D)}catch(q){if(e.rescue(q,[V("Exception")]))try{return N.$raise(V("NameError"),"local variable `"+D+"' is not defined for "+m.$inspect())}finally{e.pop_exception(q)}else throw q}}),P(F,"$local_variable_set",function(D,m){var q=this;return e.Binding.tmp_value=m,q.$js_eval(""+D+" = Opal.Binding.tmp_value"),delete e.Binding.tmp_value,m}),P(F,"$local_variables",Z("scope_variables")),P(F,"$local_variable_defined?",function(D){var m=this;return m.scope_variables["$include?"](D)}),P(F,"$eval",function(D,m,q){try{var R=this;return m==null&&(m=ee),q==null&&(q=ee),g(D,"self")?R.$receiver():N.$eval(D,R,m,q)}catch(x){if(x===e.t_eval_return)return x.$v;throw x}},-2),F.$attr_reader("receiver","source_location")}("::",null),function(b){var y=K(b,"Kernel");return P(y,"$binding",function(){return N.$raise("Opal doesn't support dynamic calls to binding")})}("::"),$e(G[0],"TOPLEVEL_BINDING",V("Binding").$new(function(b){return new Function("self","return "+b)(W)},[],W,["<main>",0]))};Opal.modules["corelib/irb"]=function(e){var E=e.module,B=e.truthy,P=e.Kernel,A=e.defs,te=e.gvars,Q=e.lambda,N=e.hash_rehash,Z=e.send,g=e.rb_plus,K=e.const_set,$e=e.klass,W=e.def,G=e.Opal,ee=e.range,V=e.eqeq,b=e.thrower,y=[],F=e.nil,Y=e.$$$;e.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(z,D){var m=E(z,"Opal"),q=[m].concat(D);return function(R,x){var w=E(R,"IRB"),s=[w].concat(x),d=e.$r(s);return A(w,"$ensure_loaded",function(h){var c=F,o=F;if(B(e.loaded_features["$include?"](h)))return F;c=B(d("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":d("RUBY_ENGINE_VERSION"),o="https://cdn.opalrb.com/opal/"+c+"/"+h+".js";var X;if(typeof XMLHttpRequest<"u"){var L=new XMLHttpRequest;L.open("GET",o,!1),L.send(""),X=L.responseText}else P.$raise("You need to provision "+h+" yourself in this environment");return new Function("Opal",X)(e),e.require(h),B(e.loaded_features["$include?"](h))?F:P.$raise("Could not load "+h+" for some reason")}),w.$singleton_class().$attr_accessor("output"),A(w,"$prepare_console",function k(){var h=k.$$p||F,c,o=this,X=F,L=F;return te.stdout==null&&(te.stdout=F),te.stderr==null&&(te.stderr=F),te.stdin==null&&(te.stdin=F),k.$$p=null,function(){try{return o["$output="](""),X=N(new Map([[te.stdout,Q(function(f){return f==null&&(f=F),te.stdout=f})],[te.stderr,Q(function(f){return f==null&&(f=F),te.stderr=f})]])),B(o["$browser?"]())&&(Z(X,"each",[],function _(f,a){var n=_.$$s==null?this:_.$$s,t=F;return f==null&&(f=F),a==null&&(a=F),t=f.$dup(),t["$write_proc="](Z(n,"proc",[],function r($){var i=r.$$s==null?this:r.$$s;return $==null&&($=F),i["$output="](g(i.$output(),$)),i["$output="](i.$output().$split(`
`).$last(30).$join(`
`)),B($["$end_with?"](`
`))&&i["$output="](g(i.$output(),`
`)),f.$write_proc().$call($)},{$$s:n})),t["$tty="](!1),a.$call(t)},{$$s:o}),L=te.stdin.$read_proc(),te.stdin["$read_proc="](function(_){var f=prompt(o.$output());return f!==null?f+`
`:F})),e.yieldX(h,[])}finally{Z(X,"each",[],function(f,a){return f==null&&(f=F),a==null&&(a=F),a.$call(f)}),c=[L],Z(te.stdin,"read_proc=",c),c[c.length-1],c=[""],Z(o,"output=",c),c[c.length-1]}}()}),A(w,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),K(s[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(k,h){var c=$e(k,h,"Silencer"),o=c.$$prototype;return o.collector=o.stderr=F,W(c,"$initialize",function(){var L=this;return te.stderr==null&&(te.stderr=F),L.stderr=te.stderr}),W(c,"$silence",function X(){var L=X.$$p||F,_=this;return X.$$p=null,function(){try{return _.collector=Y("StringIO").$new(),te.stderr=_.collector,e.yieldX(L,[])}finally{te.stderr=_.stderr}}()}),W(c,"$warnings",function(){var L=this;return L.collector.$string()})}(s[0],null)}(q[0],q)}(y[0],y),function(z,D,m){var q=$e(z,D,"Binding"),R=[q].concat(m),x=e.$r(R);return W(q,"$irb",function(){try{var s=b("return"),d=this,k=F;return Y(G,"IRB").$ensure_loaded("opal-replutils"),k=Y(Y(G,"IRB"),"Silencer").$new(),Z(Y(G,"IRB"),"prepare_console",[],function h(){var c=h.$$s==null?this:h.$$s;return function(){try{var o=b("break");return Z(c,"loop",[],function X(){var L=X.$$s==null?this:X.$$s,_=F,f=F,a=F,n=F,t=F;L.$print(">> "),_=L.$gets(),B(_)||o.$throw(F,X.$$is_lambda),f="",B(Y(G,"IRB")["$browser?"]())&&L.$puts(_),B(_["$start_with?"]("ls "))?(f=_["$[]"](ee(3,-1,!1)),a="ls"):V(_,`ls
`)?(f="self",a="ls"):B(_["$start_with?"]("show "))?(f=_["$[]"](ee(5,-1,!1)),a="show"):(f=_,a="inspect"),n=F;do{try{Z(k,"silence",[],function(){return n=e.compile(f,{irb:!0})})}catch(r){if(e.rescue(r,[x("SyntaxError")])){t=r;try{if(B(Y(Y(G,"IRB"),"LINEBREAKS")["$include?"](t.$message()))){L.$print(".. "),_=L.$gets(),B(_)||s.$throw(F,X.$$is_lambda),B(Y(G,"IRB")["$browser?"]())&&L.$puts(_),f=g(f,_);continue}else B(k.$warnings()["$empty?"]())?L.$warn(t.$full_message()):L.$warn(k.$warnings())}finally{e.pop_exception(r)}}else throw r}break}while(!0);return V(a,"show")&&(L.$puts(n),s.$throw(F,X.$$is_lambda)),L.$puts(Y("REPLUtils").$eval_and_print(n,a,!1,L))},{$$s:c,$$ret:s})}catch(X){if(X===o)return X.$v;throw X}finally{o.is_orphan=!0}}()},{$$s:d})}catch(h){if(h===s)return h.$v;throw h}finally{s.is_orphan=!0}})}("::",null,y),e.irb=function(z){Y("Binding").$new(z).$irb()},e.load_parser=function(){e.Opal.IRB.$ensure_loaded("opal-parser")},typeof e.eval>"u"&&(e.eval=function(z){return e.load_parser(),e.eval(z)}),typeof e.compile>"u"&&(e.compile=function(z,D){return e.load_parser(),e.compile(z,D)})};Opal.modules.opal=function(e){var E=e.Object;return e.nil,e.add_stubs("require,autoload"),E.$require("opal/base"),E.$require("opal/mini"),E.$require("corelib/kernel/format"),E.$require("corelib/string/encoding"),E.$autoload("Math","corelib/math"),E.$require("corelib/complex/base"),E.$autoload("Complex","corelib/complex"),E.$require("corelib/rational/base"),E.$autoload("Rational","corelib/rational"),E.$require("corelib/time"),E.$autoload("Struct","corelib/struct"),E.$autoload("Set","corelib/set"),E.$autoload("Dir","corelib/dir"),E.$autoload("File","corelib/file"),E.$require("corelib/process/base"),E.$autoload("Process","corelib/process"),E.$autoload("Random","corelib/random"),E.$require("corelib/unsupported"),E.$require("corelib/binding"),E.$require("corelib/irb")};Opal.modules["js/proxy"]=function(e){var E=e.module,B=e.truthy,P=e.def,A=e.klass,te=e.const_set,Q=e.slice,N=e.range,Z=e.send,g=e.to_a,K=e.gvars,$e=e.top,W=[],G=e.nil;return e.add_stubs("require,new,to_n,to_rb_name,include,attr_accessor,Native,to_js_name,end_with?,existing_property?,raise,[],[]=,first,native,dup,call,class,<<,wrap_result,respond_to?,enum_for,length,each,private,join,with_index,map,split,to_s,include?,downcase,gsub,upcase,zero?,capitalize,sub,native="),$e.$require("opal"),$e.$require("native"),function(ee,V){var b=E(ee,"JS"),y=[b].concat(V),F=e.$r(y);return function(Y,z){var D=E(Y,"Helpers"),m=[D].concat(z),q=e.$r(m);return P(D,"$wrap_result",function(x){return B(x&&typeof x.then=="function")?q("Promise").$new(x):B(typeof x=="object"&&x!==null)?q("Proxy").$new(x):x}),P(D,"$native_methods",function(){var x=this,w=G;return x.native_methods==null&&(x.native_methods=G),x.native_methods=function(){if(B(w=x.native_methods))return w;{let s=x.$to_n();const d=new Set;for(;s!==null;){for(const k of Reflect.ownKeys(s)){const h=k.toString(),c=x.$to_rb_name(h);typeof k!="symbol"&&h!==c&&d.add(c),d.add(h)}s=Object.getPrototypeOf(s)}return Array.from(d)}}()})}(y[0],y),function(Y,z,D){var m=A(Y,z,"Proxy"),q=[m].concat(D),R=e.$r(q);return m.$include(R("Enumerable")),m.$include(R("Helpers")),m.$attr_accessor("native"),te(q[0],"IRREGULARS",["html","url","uri"]),P(m,"$initialize",function(w){var s=this;return s.native=s.$Native(w)}),P(m,"$method_missing",function x(w,s){var d=x.$$p||G,k,h,c,o=this,X=G,L=G,_=G,f=G,a=G,n=G;return x.$$p=null,k=Q(arguments,1),h=k,X=o.$to_js_name(w),B(o["$existing_property?"](X))||B(X["$end_with?"]("="))||o.$raise(R("NoMethodError"),"undefined method `"+w+"` for "+o),B(X["$end_with?"]("="))?(L=X["$[]"](N(0,-2,!1)),c=[L,h.$first()],Z(o.$native(),"[]=",c),c[c.length-1]):(_=o.$native()["$[]"](X),B(typeof _=="function")?(f=h.$dup(),B(d)&&(a=function(){let t=Array.prototype.slice.call(arguments);return Z(d,"call",[o.$class().$new(this)].concat(g(t)))},f["$<<"](a)),n=_.apply(o.$to_n(),f.$to_n()),o.$wrap_result(n)):B(typeof _=="object"&&_!==null)?o.$wrap_result(_):_)},-2),P(m,"$to_str",function(){var w=this;return w.$to_n().toString()}),P(m,"$respond_to_missing?",function(w,s){return!0},-2),P(m,"$each",function x(){var w=x.$$p||G,s=this,d=G;return x.$$p=null,B(s["$respond_to?"]("length"))?(d=s.$length(),Z(e.Range.$new(0,d,!0),"each",[],function k(h){var c=k.$$s==null?this:k.$$s;return h==null&&(h=G),e.yield1(w,c["$[]"](h))},{$$s:s})):s.$enum_for("each")}),P(m,"$[]",function(w){var s=this,d=G;return d=s.$native()["$[]"](w),s.$wrap_result(d)}),P(m,"$[]=",function(w,s){var d=this;return d.$native()["$[]="](w,s),d.$wrap_result(d.$native())}),P(m,"$to_n",function(){var w=this;return w.$native().$to_n()}),P(m,"$length",function(){var w=this;return w.$native().$length()}),m.$private(),P(m,"$to_js_name",function(w){return Z(w.$to_s().$split("_").$map(),"with_index",[],function(d,k){return d==null&&(d=G),k==null&&(k=G),B(R("IRREGULARS")["$include?"](d.$gsub("=","").$downcase()))?d.$upcase():B(k["$zero?"]())?d:d.$capitalize()}).$join()}),P(m,"$to_rb_name",function(w){return Z(w.$to_s(),"gsub",[/([A-Z]+)/],function(){var d;return"_"+((d=K["~"])===G?G:d["$[]"](1)).$downcase()}).$sub(/^_/,"")}),P(m,"$existing_property?",function(w){var s=this;return w in s.$to_n()})}(y[0],null,y),function(Y,z,D){var m=A(Y,z,"Promise"),q=[m].concat(D),R=e.$r(q);return m.$include(R("Helpers")),P(m,"$then",function x(){var w=x.$$p||G,s,d=this,k=G;return x.$$p=null,k=function(h){var c=w.$call(d.$wrap_result(h));return c&&typeof c.then=="function"?c:c&&typeof c.to_n=="function"?c.to_n():c},s=[d.$to_n().then(k)],Z(d,"native=",s),s[s.length-1]}),P(m,"$catch",function x(){var w=x.$$p||G,s,d=this,k=G;return x.$$p=null,k=function(h){var c=w.$call(d.$wrap_result(h));return c&&typeof c.then=="function"?c:c&&typeof c.to_n=="function"?c.to_n():c},s=[d.$to_n().catch(k)],Z(d,"native=",s),s[s.length-1]})}(y[0],F("Proxy"),y)}(W[0],W)};Opal.modules["opal_stimulus/stimulus_controller"]=function(e){var E=e.klass,B=e.const_set,P=e.Opal,A=e.defs,te=e.truthy,Q=e.send,N=e.gvars,Z=e.return_val,g=e.thrower,K=e.rb_plus,$e=e.eqeqeq,W=e.def,G=e.top,ee=[],V=e.nil,b=e.$$$;return e.add_stubs("require,bridge,stimulus_controller,downcase,gsub,name,include?,sub,to_s,each,subclasses,define_method,stimulus_name,to_ruby_name,+,new,map,capitalize,===,raise,[]=,to_n,Native,==,window,document"),G.$require("opal"),G.$require("native"),G.$require("js/proxy"),function(y,F,Y){var z=E(y,F,"StimulusController"),D=[z].concat(Y),m=e.$r(D),q=z.$$prototype;return q.window=q.document=V,B(D[0],"DEFAULT_METHODS",["initialize","connect","disconnect","dispatch"]),B(D[0],"DEFAULT_GETTERS",["element"]),A(z,"$inherited",function(x){return P.$bridge(x.$stimulus_controller(),x)}),A(z,"$stimulus_controller",function(){var x=this;return x.stimulus_controller==null&&(x.stimulus_controller=V),te(x.stimulus_controller)||(x.stimulus_controller=class extends Controller{}),x.stimulus_controller}),A(z,"$stimulus_name",function(){var x=this;return x.$name().$gsub(/Controller$/,"").$gsub(/([a-z])([A-Z])/,"\\1-\\2").$gsub("::","--").$downcase()}),A(z,"$method_added",function(x){var w=this;if(te(m("DEFAULT_GETTERS")["$include?"](x)))return V;w.$stimulus_controller().prototype[x]=function(...s){try{var d=s.map(function(k){return k&&typeof k=="object"&&!k.$$class?e.JS.Proxy.$new(k):k});return this["$"+x].apply(this,d)}catch(k){console.error("Uncaught",k)}}}),A(z,"$to_ruby_name",function(x){return Q(x.$to_s(),"gsub",[/([A-Z]+)/],function(){var s;return"_"+((s=N["~"])===V?V:s["$[]"](1)).$downcase()}).$sub(/^_/,"")}),A(z,"$register_all!",function(){try{var x=g("return"),w=this;return Q(w.$subclasses(),"each",[],function s(d){return d==null&&(d=V),Q(d,"define_method",["dummy"],Z(V)),te(application.controllers["$include?"](d.$stimulus_name()))&&x.$throw(V,s.$$is_lambda),application.register(d.$stimulus_name(),d.$stimulus_controller())},{$$ret:x})}catch(s){if(s===x)return s.$v;throw s}finally{x.is_orphan=!0}}),A(z,"$targets=",function(x){var w=this;return x==null&&(x=[]),w.$stimulus_controller().targets=x,Q(x,"each",[],function s(d){var k=s.$$s==null?this:s.$$s,h=V,c=V,o=V,X=V,L=V,_=V;d==null&&(d=V),h=d.$to_s(),c=k.$to_ruby_name(d),Q(k,"define_method",[K(c,"_target")],function(){return b(m("JS"),"Proxy").$new(this[K(h,"Target")])}),Q(k,"define_method",[K(c,"_targets")],function(){return Q(this[K(h,"Targets")],"map",[],function(n){return n==null&&(n=V),b(m("JS"),"Proxy").$new(n)})}),Q(k,"define_method",[K(K("has_",c),"_target")],function(){return this[K(K("has",h.$capitalize()),"Target")]}),o=K(c,"_target_connected"),X=K(h,"TargetConnected"),k.$stimulus_controller().prototype[X]=function(){if(this["$respond_to?"]&&this["$respond_to?"](o))return this["$"+o]()},L=K(c,"_target_disconnected"),_=K(h,"TargetDisconnected"),k.$stimulus_controller().prototype[_]=function(){if(this["$respond_to?"]&&this["$respond_to?"](L))return this["$"+L]()}},{$$s:w})},-1),A(z,"$outlets=",function(x){var w=this;return x==null&&(x=[]),w.$stimulus_controller().outlets=x,Q(x,"each",[],function s(d){var k=s.$$s==null?this:s.$$s,h=V,c=V,o=V,X=V,L=V,_=V;d==null&&(d=V),h=d.$to_s(),c=k.$to_ruby_name(d),Q(k,"define_method",[K(c,"_outlet")],function(){return this[K(h,"Outlet")]}),Q(k,"define_method",[K(c,"_outlets")],function(){return this[K(h,"Outlets")]}),Q(k,"define_method",[K(K("has_",c),"_outlet")],function(){return this[K(K("has",h.$capitalize()),"Outlet")]}),o=K(c,"_outlet_connected"),X=K(h,"OutletConnected"),k.$stimulus_controller().prototype[X]=function(){if(this["$respond_to?"]&&this["$respond_to?"](o))return this["$"+o]()},L=K(c,"_outlet_disconnected"),_=K(h,"OutletDisconnected"),k.$stimulus_controller().prototype[_]=function(){if(this["$respond_to?"]&&this["$respond_to?"](L))return this["$"+L]()}},{$$s:w})},-1),A(z,"$values=",function(x){var w=this,s=V;return x==null&&(x=new Map),s=new Map,Q(x,"each",[],function d(k,h){var c=d.$$s==null?this:d.$$s,o=V,X=V,L=V,_=V;k==null&&(k=V),h==null&&(h=V),k=c.$to_ruby_name(k),o=$e("string",X=h)?String:$e("number",X)?Number:$e("boolean",X)?Boolean:$e("array",X)?Array:$e("object",X)?Object:c.$raise(m("ArgumentError"),"Unsupported value type: "+h+", please use :string, :number, :boolean, :array, or :object"),s["$[]="](k,o),c.$stimulus_controller().values=s.$to_n(),Q(c,"define_method",[K(k,"_value")],function f(){var a=f.$$s==null?this:f.$$s;return a.$Native(this[K(k,"Value")])},{$$s:c}),Q(c,"define_method",[K(k,"_value=")],function f(a){var n=f.$$s==null?this:f.$$s;return a==null&&(a=V),n.$Native(this[K(k,"Value")]=a)},{$$s:c}),Q(c,"define_method",["has_"+k],function(){return this[K(K("has",k.$to_s().$capitalize()),"Value")]}),L=""+k+"_value_changed",_=""+k+"ValueChanged",c.$stimulus_controller().prototype[_]=function(f,a){if(h["$=="]("object")&&(f=JSON.stringify(f),a=JSON.stringify(a)),this["$respond_to?"]&&this["$respond_to?"](L))return this["$"+L](f,a)}},{$$s:w})},-1),A(z,"$classes=",function(x){var w=this;return x==null&&(x=[]),w.$stimulus_controller().classes=x,Q(x,"each",[],function s(d){var k=s.$$s==null?this:s.$$s,h=V,c=V;return d==null&&(d=V),h=d.$to_s(),c=k.$to_ruby_name(d),Q(k,"define_method",[""+c+"_class"],function(){return this[K(h,"Class")]}),Q(k,"define_method",[""+c+"_classes"],function(){return this[K(h,"Classes")]}),Q(k,"define_method",["has_"+c+"_class"],function(){return this[K(K("has",h.$capitalize()),"Class")]})},{$$s:w})},-1),W(z,"$element",function(){return b(m("JS"),"Proxy").$new(this.element)}),W(z,"$window",function(){var x=this,w=V;return N.$==null&&(N.$=V),x.window=te(w=x.window)?w:b(m("JS"),"Proxy").$new(N.$.$window())}),W(z,"$document",function(){var x=this,w=V;return N.$==null&&(N.$=V),x.document=te(w=x.document)?w:b(m("JS"),"Proxy").$new(N.$.$document())})}(ee[0],Controller,ee)};Opal.modules["data/translations"]=function(e){var E=e.module,B=e.const_set,P=e.defs,A=e.truthy,te=[],Q=e.nil;return e.add_stubs("freeze,[],include?"),function(N,Z){var g=E(N,"Translations"),K=[g].concat(Z),$e=e.$r(K);return B(K[0],"SUPPORTED_LOCALES",["en","ja","es","fr","de"].$freeze()),B(K[0],"DEFAULT_LOCALE","en".$freeze()),P(g,"$data",function(){}),B(K[0],"SUCCESS_MESSAGES",new Map([["en","Message sent successfully!"],["ja",""],["es","Mensaje enviado con xito!"],["fr","Message envoy avec succs !"],["de","Nachricht erfolgreich gesendet!"]]).$freeze()),P(g,"$success_message",function(G){var ee=Q;return A(ee=$e("SUCCESS_MESSAGES")["$[]"](G))?ee:$e("SUCCESS_MESSAGES")["$[]"]($e("DEFAULT_LOCALE"))}),P(g,"$supported?",function(G){return $e("SUPPORTED_LOCALES")["$include?"](G)})}(te[0],te)};Opal.modules["services/i18n_service"]=function(e){var E=e.klass,B=e.const_set,P=e.truthy,A=e.def,te=e.return_ivar,Q=e.eqeqeq,N=e.eqeq,Z=[],g=e.nil,K=e.$$$;return e.add_stubs("include,freeze,attr_reader,data,load_saved_locale,supported?,save_locale,===,js_get,to_sym,==,js_global,js_new,to_n,js_call_on,success_message,private,storage_get,storage_set"),function($e,W,G){var ee=E($e,W,"I18nService"),V=[ee].concat(G),b=e.$r(V),y=ee.$$prototype;return y.translations=y.current_locale=g,ee.$include(b("StimulusHelpers")),B(V[0],"STORAGE_KEY","preferredLocale".$freeze()),ee.$attr_reader("translations"),A(ee,"$initialize",function(){var Y=this,z=g;return Y.translations=b("Translations").$data(),Y.current_locale=P(z=Y.$load_saved_locale())?z:K(b("Translations"),"DEFAULT_LOCALE")}),A(ee,"$current_locale",te("current_locale")),A(ee,"$current_locale=",function(Y){var z=this;return P(b("Translations")["$supported?"](Y))?(z.current_locale=Y,z.$save_locale(Y)):g}),A(ee,"$t",function(){var Y=this;return Y.translations[Y.current_locale]}),A(ee,"$valid_locale?",function(Y){var z=this;return z.translations[Y]!==void 0}),A(ee,"$pluralize",function(Y,z){var D=this,m=g,q=g,R=g;return m=Q(0,q=z)?"zero":Q(1,q)?"one":"other",R=P(q=D.$js_get(Y,m.$to_sym()))?q:D.$js_get(Y,"other"),R.replace("{count}",z)}),A(ee,"$format_currency",function(Y){var z=this,D=g,m=g,q=g,R=g;D=N(z.current_locale,"ja")?"JPY":"USD";try{return m=z.$js_global("Intl"),q=z.$js_get(m,"NumberFormat"),R=z.$js_new(q,z.current_locale,new Map([["style","currency"],["currency",D]]).$to_n()),z.$js_call_on(R,"format",Y)}catch(x){if(e.rescue(x,[b("StandardError")]))try{return"$"+Y.toFixed(2)}finally{e.pop_exception(x)}else throw x}}),A(ee,"$format_date",function(Y){var z=this,D=g,m=g,q=g,R=g;try{return D=z.$js_global("Intl"),m=z.$js_get(D,"DateTimeFormat"),q=new Map([["year","numeric"],["month","long"],["day","numeric"]]).$to_n(),R=z.$js_new(m,z.current_locale,q),z.$js_call_on(R,"format",Y)}catch(x){if(e.rescue(x,[b("StandardError")]))try{return Y.toLocaleDateString()}finally{e.pop_exception(x)}else throw x}}),A(ee,"$format_time",function(Y){var z=this,D=g,m=g,q=g,R=g;try{return D=z.$js_global("Intl"),m=z.$js_get(D,"DateTimeFormat"),q=new Map([["hour","numeric"],["minute","numeric"],["hour12",z.current_locale["$=="]("en")]]).$to_n(),R=z.$js_new(m,z.current_locale,q),z.$js_call_on(R,"format",Y)}catch(x){if(e.rescue(x,[b("StandardError")]))try{return Y.toLocaleTimeString()}finally{e.pop_exception(x)}else throw x}}),A(ee,"$success_message",function(){var Y=this;return b("Translations").$success_message(Y.current_locale)}),ee.$private(),A(ee,"$load_saved_locale",function(){var Y=this,z=g;return z=Y.$storage_get(b("STORAGE_KEY")),P(z)&&P(b("Translations")["$supported?"](z))?z:g}),A(ee,"$save_locale",function(Y){var z=this;return z.$storage_set(b("STORAGE_KEY"),Y)})}(Z[0],null,Z)};Opal.modules["controllers/i18n_controller"]=function(e){var E=e.klass,B=e.def,P=e.truthy,A=e.send,te=[],Q=e.$r(te),N=e.nil;return e.add_stubs("include,targets=,values=,new,js_set_prop,current_locale,update_active_button,update_translations,event_current_target,js_get,valid_locale?,current_locale=,success_message,private,js_prop,js_each,js_call_on,t,update_text_targets,update_placeholders,update_pluralized_messages,update_prices,update_date_time,set_root_attr,has_target?,target_set_text,target_set_html,get_target,js_set,pluralize,format_currency,js_date,format_date,format_time"),function(Z,g,K){var $e=E(Z,g,"I18nController"),W=[$e].concat(K),G=e.$r(W),ee=$e.$$prototype;return ee.i18n_service=N,$e.$include(G("StimulusHelpers")),$e["$targets="](e.large_array_unpack("title,subtitle,languageLabel,langBtn,welcomeTitle,welcomeMessage,productsTitle,product1Name,product1Desc,product1Price,product1Stock,product2Name,product2Desc,product2Price,product2Stock,product3Name,product3Desc,product3Price,product3Stock,notificationsTitle,notification1,notification2,notification3,dateTimeTitle,currentDateLabel,currentDate,currentTimeLabel,currentTime,formTitle,nameLabel,nameInput,emailLabel,emailInput,messageLabel,messageInput,submitBtn,featuresTitle,feature1Title,feature1Desc,feature2Title,feature2Desc,feature3Title,feature3Desc,feature4Title,feature4Desc,feature5Title,feature5Desc,feature6Title,feature6Desc,footerText")),$e["$values="](new Map([["current_locale","string"]])),B($e,"$connect",function(){var b=this;return b.i18n_service=G("I18nService").$new(),b.$js_set_prop("currentLocaleValue",b.i18n_service.$current_locale()),b.$update_active_button(),b.$update_translations()}),B($e,"$switch_language",function(){var b=this,y=N,F=N,Y=N;return y=b.$event_current_target(),F=b.$js_get(y,"dataset"),Y=b.$js_get(F,"locale"),P(b.i18n_service["$valid_locale?"](Y))?(b.i18n_service["$current_locale="](Y),b.$js_set_prop("currentLocaleValue",Y),b.$update_active_button(),b.$update_translations()):N}),B($e,"$handle_submit",function(){var b=this,y=N;return event.preventDefault(),y=b.i18n_service.$success_message(),alert(y)}),$e.$private(),B($e,"$update_active_button",function(){var b=this,y=N,F=N;return y=b.$js_prop("langBtnTargets"),F=b.i18n_service.$current_locale(),A(b,"js_each",[y],function Y(z){var D=Y.$$s==null?this:Y.$$s,m=N,q=N;return z==null&&(z=N),m=D.$js_get(D.$js_get(z,"dataset"),"locale"),q=D.$js_get(z,"classList"),P(m===F)?D.$js_call_on(q,"add","active"):D.$js_call_on(q,"remove","active")},{$$s:b})}),B($e,"$update_translations",function(){var b=this,y=N;return y=b.i18n_service.$t(),P(y)?(b.$update_text_targets(y),b.$update_placeholders(y),b.$update_pluralized_messages(y),b.$update_prices(),b.$update_date_time(),b.$set_root_attr("lang",b.i18n_service.$current_locale())):N}),B($e,"$update_text_targets",function(b){var y=this;return P(y["$has_target?"]("title"))&&y.$target_set_text("title",y.$js_get(b,"title")),P(y["$has_target?"]("subtitle"))&&y.$target_set_text("subtitle",y.$js_get(b,"subtitle")),P(y["$has_target?"]("languageLabel"))&&y.$target_set_text("languageLabel",y.$js_get(b,"languageLabel")),P(y["$has_target?"]("welcomeTitle"))&&y.$target_set_text("welcomeTitle",y.$js_get(b,"welcomeTitle")),P(y["$has_target?"]("welcomeMessage"))&&y.$target_set_text("welcomeMessage",y.$js_get(b,"welcomeMessage")),P(y["$has_target?"]("productsTitle"))&&y.$target_set_text("productsTitle",y.$js_get(b,"productsTitle")),P(y["$has_target?"]("product1Name"))&&y.$target_set_text("product1Name",y.$js_get(b,"product1Name")),P(y["$has_target?"]("product1Desc"))&&y.$target_set_text("product1Desc",y.$js_get(b,"product1Desc")),P(y["$has_target?"]("product2Name"))&&y.$target_set_text("product2Name",y.$js_get(b,"product2Name")),P(y["$has_target?"]("product2Desc"))&&y.$target_set_text("product2Desc",y.$js_get(b,"product2Desc")),P(y["$has_target?"]("product3Name"))&&y.$target_set_text("product3Name",y.$js_get(b,"product3Name")),P(y["$has_target?"]("product3Desc"))&&y.$target_set_text("product3Desc",y.$js_get(b,"product3Desc")),P(y["$has_target?"]("notificationsTitle"))&&y.$target_set_text("notificationsTitle",y.$js_get(b,"notificationsTitle")),P(y["$has_target?"]("dateTimeTitle"))&&y.$target_set_text("dateTimeTitle",y.$js_get(b,"dateTimeTitle")),P(y["$has_target?"]("currentDateLabel"))&&y.$target_set_text("currentDateLabel",y.$js_get(b,"currentDateLabel")),P(y["$has_target?"]("currentTimeLabel"))&&y.$target_set_text("currentTimeLabel",y.$js_get(b,"currentTimeLabel")),P(y["$has_target?"]("formTitle"))&&y.$target_set_text("formTitle",y.$js_get(b,"formTitle")),P(y["$has_target?"]("nameLabel"))&&y.$target_set_text("nameLabel",y.$js_get(b,"nameLabel")),P(y["$has_target?"]("emailLabel"))&&y.$target_set_text("emailLabel",y.$js_get(b,"emailLabel")),P(y["$has_target?"]("messageLabel"))&&y.$target_set_text("messageLabel",y.$js_get(b,"messageLabel")),P(y["$has_target?"]("submitBtn"))&&y.$target_set_text("submitBtn",y.$js_get(b,"submitBtn")),P(y["$has_target?"]("featuresTitle"))&&y.$target_set_text("featuresTitle",y.$js_get(b,"featuresTitle")),P(y["$has_target?"]("feature1Title"))&&y.$target_set_text("feature1Title",y.$js_get(b,"feature1Title")),P(y["$has_target?"]("feature1Desc"))&&y.$target_set_text("feature1Desc",y.$js_get(b,"feature1Desc")),P(y["$has_target?"]("feature2Title"))&&y.$target_set_text("feature2Title",y.$js_get(b,"feature2Title")),P(y["$has_target?"]("feature2Desc"))&&y.$target_set_text("feature2Desc",y.$js_get(b,"feature2Desc")),P(y["$has_target?"]("feature3Title"))&&y.$target_set_text("feature3Title",y.$js_get(b,"feature3Title")),P(y["$has_target?"]("feature3Desc"))&&y.$target_set_text("feature3Desc",y.$js_get(b,"feature3Desc")),P(y["$has_target?"]("feature4Title"))&&y.$target_set_text("feature4Title",y.$js_get(b,"feature4Title")),P(y["$has_target?"]("feature4Desc"))&&y.$target_set_text("feature4Desc",y.$js_get(b,"feature4Desc")),P(y["$has_target?"]("feature5Title"))&&y.$target_set_text("feature5Title",y.$js_get(b,"feature5Title")),P(y["$has_target?"]("feature5Desc"))&&y.$target_set_text("feature5Desc",y.$js_get(b,"feature5Desc")),P(y["$has_target?"]("feature6Title"))&&y.$target_set_text("feature6Title",y.$js_get(b,"feature6Title")),P(y["$has_target?"]("feature6Desc"))&&y.$target_set_text("feature6Desc",y.$js_get(b,"feature6Desc")),P(y["$has_target?"]("footerText"))?y.$target_set_html("footerText",y.$js_get(b,"footerText")):N}),B($e,"$update_placeholders",function(b){var y=this,F=N,Y=N,z=N,D=N;return F=y.$js_get(b,"placeholders"),P(F)?(P(y["$has_target?"]("nameInput"))&&(Y=y.$get_target("nameInput"),y.$js_set(Y,"placeholder",y.$js_get(F,"name"))),P(y["$has_target?"]("emailInput"))&&(z=y.$get_target("emailInput"),y.$js_set(z,"placeholder",y.$js_get(F,"email"))),P(y["$has_target?"]("messageInput"))?(D=y.$get_target("messageInput"),y.$js_set(D,"placeholder",y.$js_get(F,"message"))):N):N}),B($e,"$update_pluralized_messages",function(b){var y=this,F=N,Y=N,z=N;return F=y.$js_get(b,"plurals"),P(F)?(Y=y.$js_get(F,"message"),z=y.$js_get(F,"item"),P(y["$has_target?"]("notification1"))&&y.$target_set_text("notification1",y.i18n_service.$pluralize(Y,1)),P(y["$has_target?"]("notification2"))&&y.$target_set_text("notification2",y.i18n_service.$pluralize(Y,5)),P(y["$has_target?"]("notification3"))&&y.$target_set_text("notification3",y.i18n_service.$pluralize(Y,0)),P(y["$has_target?"]("product1Stock"))&&y.$target_set_text("product1Stock",y.i18n_service.$pluralize(z,10)),P(y["$has_target?"]("product2Stock"))&&y.$target_set_text("product2Stock",y.i18n_service.$pluralize(z,1)),P(y["$has_target?"]("product3Stock"))?y.$target_set_text("product3Stock",y.i18n_service.$pluralize(z,0)):N):N}),B($e,"$update_prices",function(){var b=this;return P(b["$has_target?"]("product1Price"))&&b.$target_set_text("product1Price",b.i18n_service.$format_currency(1299.99)),P(b["$has_target?"]("product2Price"))&&b.$target_set_text("product2Price",b.i18n_service.$format_currency(899.99)),P(b["$has_target?"]("product3Price"))?b.$target_set_text("product3Price",b.i18n_service.$format_currency(349.99)):N}),B($e,"$update_date_time",function(){var b=this,y=N;return y=b.$js_date(),P(b["$has_target?"]("currentDate"))&&b.$target_set_text("currentDate",b.i18n_service.$format_date(y)),P(b["$has_target?"]("currentTime"))?b.$target_set_text("currentTime",b.i18n_service.$format_time(y)):N})}(te[0],Q("StimulusController"),te)};Opal.queue(function(e){var E=e.top,B=[],P=e.$r(B);return e.nil,e.add_stubs("require,puts,register_all!"),E.$require("native"),E.$require("opal_stimulus/stimulus_controller"),E.$require("data/translations"),E.$require("services/i18n_service"),E.$require("controllers/i18n_controller"),E.$puts("i18n Example - Opal + Stimulus"),E.$puts("Ruby version: "+P("RUBY_VERSION")),P("StimulusController")["$register_all!"](),E.$puts("All controllers registered!")});
