Opal.modules.native=function($){var q=$.hash_put,y=$.module,D=$.defs,z=$.slice,re=$.truthy,J=$.send,R=$.Kernel,Q=$.extract_kwargs,v=$.ensure_kwargs,K=$.hash_get,$e=$.range,Z=$.to_a,U=$.def,ee=$.return_ivar,X=$.alias,x=$.klass,p=$.rb_minus,P=$.return_val,G=$.send2,T=$.find_super,B=$.eqeqeq,b=$.rb_ge,A=$.return_self,F=$.gvars,k=$.top,E=[],u=$.$r(E),d=$.nil,S=$.$$$;return $.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(h,c){var l=y(h,"Native"),w=[l].concat(c),H=$.$r(w);return D(l,"$is_a?",function(s,n){var r=this;try{return s instanceof r.$try_convert(n)}catch{return!1}}),D(l,"$try_convert",function(s,n){var r=this;return n==null&&(n=d),r["$native?"](s)?s:s["$respond_to?"]("to_n")?s.$to_n():n},-2),D(l,"$convert",function(s){var n=this;if(n["$native?"](s))return s;if(s["$respond_to?"]("to_n"))return s.$to_n();n.$raise(H("ArgumentError"),""+s.$inspect()+" isn't native")}),D(l,"$call",function _(s,n,r){var e=_.$$p||d,t,i,a=this;_.$$p=null,t=z(arguments,2),i=t;var o=s[n];if(o instanceof Function){for(var g=new Array(i.length),I=0,C=i.length;I<C;I++){var M=i[I],V=a.$try_convert(M);g[I]=V===d?M:V}return e!==d&&g.push(e),a.$Native(o.apply(s,g))}else return a.$Native(o)},-3),D(l,"$proc",function _(){var s=_.$$p||d,n=this;return _.$$p=null,re(s)||n.$raise(H("LocalJumpError"),"no block given"),J(R,"proc",[],function r(e){var t,i,a=r.$$s==null?this:r.$$s,o=d;if(t=z(arguments),i=t,J(i,"map!",[],function I(C){var M=I.$$s==null?this:I.$$s;return C==null&&(C=d),M.$Native(C)},{$$s:a}),o=a.$Native(this),this===$.global)return s.apply(a,i);var g=s.$$s;s.$$s=null;try{return s.apply(o,i)}finally{s.$$s=g}},{$$arity:-1,$$s:n})}),function(_,s){var n=y(_,"Helpers"),r=[n].concat(s),e=$.$r(r);return U(n,"$alias_native",function t(i,a,o){var g,I,C,M;t.$$p;var V=this;return t.$$p=null,g=z(arguments,1),I=Q(g),I=v(I),g.length>0&&(C=g.shift()),C==null&&(C=i),M=K(I,"as"),M==null&&(M=d),re(C["$end_with?"]("="))?J(V,"define_method",[i],function O(ae){var le=O.$$s==null?this:O.$$s;return le.native==null&&(le.native=d),ae==null&&(ae=d),le.native[C["$[]"]($e(0,-2,!1))]=e("Native").$convert(ae),ae},{$$s:V}):re(M)?J(V,"define_method",[i],function O(ae){var le=O.$$p||d,_e,de,ge=O.$$s==null?this:O.$$s,ve=d;return ge.native==null&&(ge.native=d),O.$$p=null,_e=z(arguments),de=_e,ve=J(e("Native"),"call",[ge.native,C].concat(Z(de)),le.$to_proc()),re(ve)?M.$new(ve.$to_n()):d},{$$arity:-1,$$s:V}):J(V,"define_method",[i],function O(ae){var le=O.$$p||d,_e,de,ge=O.$$s==null?this:O.$$s;return ge.native==null&&(ge.native=d),O.$$p=null,_e=z(arguments),de=_e,J(e("Native"),"call",[ge.native,C].concat(Z(de)),le.$to_proc())},{$$arity:-1,$$s:V})},-2),U(n,"$native_reader",function(i){var a,o,g=this;return a=z(arguments),o=a,J(o,"each",[],function I(C){var M=I.$$s==null?this:I.$$s;return C==null&&(C=d),J(M,"define_method",[C],function V(){var O=V.$$s==null?this:V.$$s;return O.native==null&&(O.native=d),O.$Native(O.native[C])},{$$s:M})},{$$s:g})},-1),U(n,"$native_writer",function(i){var a,o,g=this;return a=z(arguments),o=a,J(o,"each",[],function I(C){var M=I.$$s==null?this:I.$$s;return C==null&&(C=d),J(M,"define_method",[""+C+"="],function V(O){var ae=V.$$s==null?this:V.$$s;return ae.native==null&&(ae.native=d),O==null&&(O=d),ae.$Native(ae.native[C]=O)},{$$s:M})},{$$s:g})},-1),U(n,"$native_accessor",function(i){var a,o,g=this;return a=z(arguments),o=a,J(g,"native_reader",Z(o)),J(g,"native_writer",Z(o))},-1)}(w[0],w),function(_,s){var n=y(_,"Wrapper"),r=[n].concat(s),e=$.$r(r);return U(n,"$initialize",function(i){var a=this;return re(R["$native?"](i))||R.$raise(e("ArgumentError"),""+i.$inspect()+" isn't native"),a.native=i}),U(n,"$to_n",ee("native")),D(n,"$included",function(i){return i.$extend(e("Helpers"))})}(w[0],w),D(l,"$included",function(s){var n=this;return n.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),s.$include(H("Wrapper"))})}(E[0],E),function(h,c){var l=y(h,"Kernel"),w=[l].concat(c),H=$.$r(w);return U(l,"$native?",function(s){return s==null||!s.$$class}),U(l,"$Native",function _(s){_.$$p;var n=this;return _.$$p=null,re(s==null)?d:re(n["$native?"](s))?S(H("Native"),"Object").$new(s):re(s["$is_a?"](H("Array")))?J(s,"map",[],function r(e){var t=r.$$s==null?this:r.$$s;return e==null&&(e=d),t.$Native(e)},{$$s:n}):re(s["$is_a?"](H("Proc")))?J(n,"proc",[],function r(e){var t=r.$$p||d,i,a,o=r.$$s==null?this:r.$$s;return r.$$p=null,i=z(arguments),a=i,o.$Native(J(s,"call",Z(a),t.$to_proc()))},{$$arity:-1,$$s:n}):s}),X(l,"_Array","Array"),U(l,"$Array",function _(s,n){var r=_.$$p||d,e,t,i=this;return _.$$p=null,e=z(arguments,1),t=e,re(i["$native?"](s))?J(S(H("Native"),"Array"),"new",[s].concat(Z(t)),r.$to_proc()).$to_a():i.$_Array(s)},-2)}(E[0],E),function(h,c){var l=x(h,c,"Object"),w=l.$$prototype;return w.native=d,l.$include(S(S("Native"),"Wrapper")),U(l,"$==",function(_){var s=this;return s.native===S("Native").$try_convert(_)}),U(l,"$has_key?",function(_){var s=this;return $.hasOwnProperty.call(s.native,_)}),U(l,"$each",function H(_){var s,n,r=H.$$p||d,e=this;if(H.$$p=null,s=z(arguments),n=s,r!==d){for(var t in e.native)$.yieldX(r,[t,e.native[t]]);return e}else return J(e,"method_missing",["each"].concat(Z(n)))},-1),U(l,"$[]",function(_){var s=this,n=s.native[_];return n instanceof Function?n:S("Native").$call(s.native,_)}),U(l,"$[]=",function(_,s){var n=this,r=d;return r=S("Native").$try_convert(s),re(r===d)?n.native[_]=s:n.native[_]=r}),U(l,"$merge!",function(_){var s=this;_=S("Native").$convert(_);for(var n in _)s.native[n]=_[n];return s}),U(l,"$respond_to?",function(_,s){var n=this;return s==null&&(s=!1),R.$instance_method("respond_to?").$bind(n).$call(_,s)},-2),U(l,"$respond_to_missing?",function(_,s){var n=this;return $.hasOwnProperty.call(n.native,_)},-2),U(l,"$method_missing",function H(_,s){var n=H.$$p||d,r,e,t,i=this;return H.$$p=null,r=z(arguments,1),e=r,_.charAt(_.length-1)==="="?(t=[_.$slice(0,p(_.$length(),1)),e["$[]"](0)],J(i,"[]=",t),t[t.length-1]):J(S("Native"),"call",[i.native,_].concat(Z(e)),n.$to_proc())},-2),U(l,"$nil?",P(!1)),U(l,"$is_a?",function(_){var s=this;return $.is_a(s,_)}),U(l,"$instance_of?",function(_){var s=this;return s.$$class===_}),U(l,"$class",function(){var _=this;return _.$$class}),U(l,"$to_a",function H(_){var s=H.$$p||d,n=this;return H.$$p=null,_==null&&(_=new Map),J(S(S("Native"),"Array"),"new",[n.native,_],s.$to_proc()).$to_a()},-1),U(l,"$inspect",function(){var _=this;return"#<Native:"+String(_.native)+">"}),X(l,"include?","has_key?"),X(l,"key?","has_key?"),X(l,"kind_of?","is_a?"),X(l,"member?","has_key?")}(u("Native"),u("BasicObject")),function(h,c,l){var w=x(h,c,"Array"),H=[w].concat(l),_=$.$r(H),s=w.$$prototype;return s.named=s.native=s.get=s.block=s.set=s.length=d,w.$include(S(_("Native"),"Wrapper")),w.$include(_("Enumerable")),U(w,"$initialize",function n(r,e){var t=n.$$p||d,i=this,a=d;return n.$$p=null,e==null&&(e=new Map),G(i,T(i,"initialize",n,!1,!0),"initialize",[r],null),i.get=re(a=e["$[]"]("get"))?a:e["$[]"]("access"),i.named=e["$[]"]("named"),i.set=re(a=e["$[]"]("set"))?a:e["$[]"]("access"),i.length=re(a=e["$[]"]("length"))?a:"length",i.block=t,re(i.$length()==null)?i.$raise(_("ArgumentError"),"no length found on the array-like object"):d},-2),U(w,"$each",function n(){var r=n.$$p||d,e=this;if(n.$$p=null,!re(r))return e.$enum_for("each");for(var t=0,i=e.$length();t<i;t++)$.yield1(r,e["$[]"](t));return e}),U(w,"$[]",function(r){var e=this,t=d,i=d;return t=B(_("String"),i=r)||B(_("Symbol"),i)?re(e.named)?e.native[e.named](r):e.native[r]:B(_("Integer"),i)?re(e.get)?e.native[e.get](r):e.native[r]:d,re(t)?re(e.block)?e.block.$call(t):e.$Native(t):d}),U(w,"$[]=",function(r,e){var t=this;return re(t.set)?t.native[t.set](r,_("Native").$convert(e)):t.native[r]=_("Native").$convert(e)}),U(w,"$last",function(r){var e=this,t=d,i=d;if(r==null&&(r=d),re(r)){for(t=p(e.$length(),1),i=[];re(b(t,0));)i["$<<"](e["$[]"](t)),t=p(t,1);return i}else return e["$[]"](p(e.$length(),1))},-1),U(w,"$length",function(){var r=this;return r.native[r.length]}),U(w,"$inspect",function(){var r=this;return r.$to_a().$inspect()}),X(w,"to_ary","to_a")}(u("Native"),null,E),function(h,c){var l=x(h,c,"Numeric");return U(l,"$to_n",function(){var H=this;return H.valueOf()})}(E[0],null),function(h,c){var l=x(h,c,"Proc");return U(l,"$to_n",A)}(E[0],null),function(h,c){var l=x(h,c,"String");return U(l,"$to_n",function(){var H=this;return H.valueOf()})}(E[0],null),function(h,c){var l=x(h,c,"Regexp");return U(l,"$to_n",function(){var H=this;return H.valueOf()})}(E[0],null),function(h,c){var l=x(h,c,"MatchData");return U(l,"$to_n",ee("matches"))}(E[0],null),function(h,c,l){var w=x(h,c,"Struct"),H=[w].concat(l),_=$.$r(H);return U(w,"$to_n",function(){var n=this,r=d;return r={},J(n,"each_pair",[],function(t,i){return t==null&&(t=d),i==null&&(i=d),r[t]=_("Native").$try_convert(i,i)}),r})}(E[0],null,E),function(h,c,l){var w=x(h,c,"Array"),H=[w].concat(l),_=$.$r(H);return U(w,"$to_n",function(){for(var n=this,r=[],e=0,t=n.length;e<t;e++){var i=n[e];r.push(_("Native").$try_convert(i,i))}return r})}(E[0],null,E),function(h,c){var l=x(h,c,"Boolean");return U(l,"$to_n",function(){var H=this;return H.valueOf()})}(E[0],null),function(h,c){var l=x(h,c,"Time");return U(l,"$to_n",A)}(E[0],null),function(h,c){var l=x(h,c,"NilClass");return U(l,"$to_n",function(){return null})}(E[0],null),re(u("Hash")["$method_defined?"]("_initialize"))||function(h,c,l){var w=x(h,c,"Hash"),H=[w].concat(l),_=$.$r(H);X(w,"_initialize","initialize");function s(n,r,e){e&&(e.constructor===void 0||e.constructor===Object||e instanceof Map)?q(n,r,_("Hash").$new(e)):e&&e.$$is_array?(e=e.map(function(t){return t&&(t.constructor===void 0||t.constructor===Object||e instanceof Map)?_("Hash").$new(t):w.$Native(t)}),q(n,r,e)):q(n,r,w.$Native(e))}return U(w,"$initialize",function n(r){var e=n.$$p||d,t=this;if(n.$$p=null,r!=null)if(r.constructor===void 0||r.constructor===Object){var i,a;for(i in r)a=r[i],s(t,i,a);return t}else r instanceof Map&&$.hash_each(r,!1,function(o,g){return s(t,o,g),[!1,!1]});return J(t,"_initialize",[r],e.$to_proc())},-1),U(w,"$to_n",function(){var r=this,e={};return $.hash_each(r,!1,function(t,i){return e[_("Native").$try_convert(t,t)]=_("Native").$try_convert(i,i),[!1,!1]}),e})}(E[0],null,E),function(h,c){var l=x(h,c,"Module");return U(l,"$native_module",function(){var H=this;return $.global[H.$name()]=H})}(E[0],null),function(h,c,l){var w=x(h,c,"Class"),H=[w].concat(l),_=$.$r(H);return U(w,"$native_alias",function(n,r){var e=this,t=e.prototype[$.jsid(r)];t||e.$raise(_("NameError").$new("undefined method `"+r+"' for class `"+e.$inspect()+"'",r)),e.prototype[n]=t}),U(w,"$native_class",function(){var n=this;return n.$native_module(),n.new=n.$new})}(E[0],null,E),F.$=F.global=k.$Native($.global)};(function($){var q;if(typeof globalThis<"u"?$=globalThis:typeof global<"u"?$=global:typeof window<"u"&&($=window),$.console==null&&($.console={}),typeof $.console=="object"?q=$.console:q={},"log"in q||(q.log=function(){}),"warn"in q||(q.warn=q.log),typeof $.Opal<"u")return q.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),$.Opal;var y,D,z,re,J,R,Q,v=$.Opal={};v.global=$,v.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var K=Function.prototype.call,$e=Function.prototype.bind,Z=Object.hasOwn||K.bind(Object.prototype.hasOwnProperty),U=Object.setPrototypeOf,ee=K.bind(Array.prototype.slice),X=K.bind(Array.prototype.splice),x=4,p=x;function P(){return p+=2,p}v.uid=P,v.id=function(f){return f.$$is_number?f*2+1:(f.$$id==null&&b(f,"$$id",P()),f.$$id)};var G=v.gvars={};v.exit=function(f){G.DEBUG&&q.log("Exited with status "+f)},v.exceptions=[],v.pop_exception=function(f){var m=v.exceptions.pop();m===f||(m?G["!"]=m:G["!"]=y)};function T(f,m){if(f||(f=v.Exception||Error),Q&&Q.$raise)arguments.length>2?Q.$raise(f.$new.apply(f,ee(arguments,1))):Q.$raise(f,m);else throw f.$new?f.$new(m):new f(m)}var B={value:void 0,enumerable:!1,configurable:!0,writable:!0};function b(f,m,L){typeof f=="string"?f[m]=L:(B.value=L,Object.defineProperty(f,m,B))}v.prop=b,v.defineProperty=v.prop,v.slice=ee;var A=v.truthy=function(f){return f!==!1&&y!==f&&f!==void 0&&f!==null&&(!(f instanceof Boolean)||f.valueOf()===!0)};v.falsy=function(f){return!A(f)},v.type_error=function(f,m,L,te){f=f.$$class,te&&L?(te=te.$$class,T(v.TypeError,"can't convert "+f+" into "+m+" ("+f+"#"+L+" gives "+te+")")):T(v.TypeError,"no implicit conversion of "+f+" into "+m)},v.coerce_to=function(f,m,L,te){var ue;return L==="to_int"&&m===v.Integer&&f.$$is_number?f<0?Math.ceil(f):Math.floor(f):L==="to_str"&&m===v.String&&f.$$is_string||v.is_a(f,m)?f:f["$respond_to?"].$$pristine&&f.$method_missing.$$pristine?(ue=f[de(L)],(ue==null||ue.$$stub)&&v.type_error(f,m),ue.apply(f,te)):(f["$respond_to?"](L)||v.type_error(f,m),te==null&&(te=[]),v.send(f,L,te))},v.respond_to=function(f,m,L){if(f==null||!f.$$class)return!1;L=!!L;var te=f[m];if(f["$respond_to?"].$$pristine){if(typeof te=="function"&&!te.$$stub)return!0;if(!f["$respond_to_missing?"].$$pristine)return v.send(f,f["$respond_to_missing?"],[m.substr(1),L])}else return v.send(f,f["$respond_to?"],[m.substr(1),L])},v.trace_class=!1,v.tracers_for_class=[];function F(f){var m,L,te;for(m=0,L=v.tracers_for_class.length;m<L;m++)te=v.tracers_for_class[m],te.trace_object=f,te.block.$call(te)}function k(f,m){if(f.$$autoload[m].loaded){if(f.$$autoload[m].loaded&&!f.$$autoload[m].required&&f.$$autoload[m].exception)throw f.$$autoload[m].exception}else{f.$$autoload[m].loaded=!0;try{v.Kernel.$require(f.$$autoload[m].path)}catch(L){throw f.$$autoload[m].exception=L,L}if(f.$$autoload[m].required=!0,f.$$const[m]!=null)return f.$$autoload[m].success=!0,f.$$const[m]}}function E(f,m){if(f){if(f.$$const[m]!=null)return f.$$const[m];if(f.$$autoload&&f.$$autoload[m])return k(f,m)}}function u(f,m){var L,te,ue;if(f.length!==0)for(L=0,te=f.length;L<te;L++){if(ue=f[L].$$const[m],ue!=null)return ue;if(f[L].$$autoload&&f[L].$$autoload[m])return k(f[L],m)}}function d(f,m){var L,te,ue;if(f!=null)for(ue=V(f),L=0,te=ue.length;L<te;L++){if(ue[L].$$const&&Z(ue[L].$$const,m))return ue[L].$$const[m];if(ue[L].$$autoload&&ue[L].$$autoload[m])return k(ue[L],m)}}function S(f,m){if(f==null||f.$$is_module)return d(z,m)}function h(f,m){return(f||z).$const_missing(m)}v.const_get_local=function(f,m,L){var te;if(f!=null)return f==="::"&&(f=z),!f.$$is_module&&!f.$$is_class&&T(v.TypeError,f.toString()+" is not a class/module"),te=E(f,m),te!=null||L?te:h(f,m)},v.const_get_qualified=function(f,m,L){var te,ue,ce,he=v.const_cache_version;if(m==null)return te=E(z,f),te??v.const_get_qualified(z,f,L);if(f!=null)return f==="::"&&(f=z),!f.$$is_module&&!f.$$is_class&&T(v.TypeError,f.toString()+" is not a class/module"),(ue=f.$$const_cache)==null&&(b(f,"$$const_cache",Object.create(null)),ue=f.$$const_cache),ce=ue[m],ce==null||ce[0]!==he?((te=E(f,m))!=null||(te=d(f,m))!=null,ue[m]=[he,te]):te=ce[1],te!=null||L?te:h(f,m)},v.const_cache_version=1,v.const_get_relative=function(f,m,L){var te=f[0],ue,ce=v.const_cache_version,he,pe;return(he=f.$$const_cache)==null&&(b(f,"$$const_cache",Object.create(null)),he=f.$$const_cache),pe=he[m],pe==null||pe[0]!==ce?((ue=E(te,m))!=null||(ue=u(f,m))!=null||(ue=d(te,m))!=null||(ue=S(te,m))!=null,he[m]=[ce,ue]):ue=pe[1],ue!=null||L?ue:h(te,m)};function c(f,m,L){var te=!0;return(f==null||f==="::")&&(f=z),L.$$is_a_module&&((L.$$name==null||L.$$name===y)&&(L.$$name=m),L.$$base_module==null&&(L.$$base_module=f)),f.$$const=f.$$const||Object.create(null),(m in f.$$const||"$$autoload"in f&&m in f.$$autoload)&&(te=!1),f.$$const[m]=L,f.$$=f.$$const,v.const_cache_version++,f===z&&(v[m]=L),b(f,m,L),te&&f.$const_added&&!f.$const_added.$$pristine&&f.$const_added(m),L}v.const_set=c,v.constants=function(f,m){m==null&&(m=!0);var L,te=[f],ue,ce,he={},pe;for(m&&(te=te.concat(V(f))),m&&f.$$is_module&&(te=te.concat([v.Object]).concat(V(v.Object))),ue=0,ce=te.length;ue<ce&&(L=te[ue],!(f!==z&&L==z));ue++){for(pe in L.$$const)he[pe]=!0;if(L.$$autoload)for(pe in L.$$autoload)he[pe]=!0}return Object.keys(he)},v.const_remove=function(f,m){if(v.const_cache_version++,f.$$const[m]!=null){var L=f.$$const[m];return delete f.$$const[m],L}if(f.$$autoload&&f.$$autoload[m])return delete f.$$autoload[m],y;T(v.NameError,"constant "+f+"::"+f.$name()+" not defined")},v.const_get_relative_factory=function(f){return function(m,L){return v.$$(f,m,L)}},v.$$=v.const_get_relative,v.$$$=v.const_get_qualified,v.$r=v.const_get_relative_factory;function l(f){return f==null?!1:f.$$bridge?f:f.$$super?l(f.$$super):!1}function w(f,m,L){var te,ue;if((ue=l(m))?te=function(){var ye=new($e.apply(ue.$$constructor,ge(null,arguments)));return U(ye,te.$$prototype),ye}:te=function(){},f&&f!==y&&b(te,"displayName","::"+f),b(te,"$$name",f),b(te,"$$constructor",te),b(te,"$$prototype",te.prototype),b(te,"$$const",{}),b(te,"$$is_class",!0),b(te,"$$is_a_module",!0),b(te,"$$super",m),b(te,"$$cvars",{}),b(te,"$$own_included_modules",[]),b(te,"$$own_prepended_modules",[]),b(te,"$$ancestors",[]),b(te,"$$ancestors_cache_version",null),b(te,"$$subclasses",[]),b(te,"$$cloned_from",[]),b(te.$$prototype,"$$class",te),v.Class&&U(te,v.Class.prototype),m!=null){if(U(te.$$prototype,m.$$prototype),L!==!0)if(typeof WeakRef<"u"){var ce,he,pe=[];for(ce=0;ce<m.$$subclasses.length;ce++)he=m.$$subclasses[ce],he.deref()!==void 0&&pe.push(he);pe.push(new WeakRef(te)),m.$$subclasses=pe}else m.$$subclasses.push(te);m.$$meta&&v.build_class_singleton_class(te)}return te}v.allocate_class=w;function H(f,m){var L=E(f,m);if(L)return L.$$is_class||T(v.TypeError,m+" is not a class"),L}function _(f,m){f.$$super!==m&&T(v.TypeError,"superclass mismatch for class "+f.$$name)}v.klass=function(f,m,L){var te;f==null||f=="::"?f=z:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),m!=null&&(!m.hasOwnProperty||m.hasOwnProperty&&!m.hasOwnProperty("$$is_class"))&&(m.constructor&&m.constructor.name=="Function"?(te=m,m=z):T(v.TypeError,"superclass must be a Class ("+(m.constructor&&(m.constructor.name||m.constructor.$$name)||typeof m)+" given)"));var ue=H(f,L);return ue!=null?m&&_(ue,m):(m==null&&(m=z),ue=w(L,m),c(f,L,ue),m.$inherited&&m.$inherited(ue),te&&v.bridge(te,ue)),v.trace_class&&F(ue),ue};function s(f){var m=function(){},L=m;return f&&b(m,"displayName",f+".constructor"),b(L,"$$name",f),b(L,"$$prototype",m.prototype),b(L,"$$const",{}),b(L,"$$is_module",!0),b(L,"$$is_a_module",!0),b(L,"$$cvars",{}),b(L,"$$iclasses",[]),b(L,"$$own_included_modules",[]),b(L,"$$own_prepended_modules",[]),b(L,"$$ancestors",[L]),b(L,"$$ancestors_cache_version",null),b(L,"$$cloned_from",[]),U(L,v.Module.prototype),L}v.allocate_module=s;function n(f,m){var L=E(f,m);return L==null&&f===z&&(L=d(z,m)),L&&!L.$$is_module&&L!==z&&T(v.TypeError,m+" is not a module"),L}v.module=function(f,m){var L;return f==null||f=="::"?f=z:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),L=n(f,m),L==null&&(L=s(m),c(f,m,L)),v.trace_class&&F(L),L},v.get_singleton_class=function(f){return f.$$is_number&&T(v.TypeError,"can't define singleton"),f.$$meta?f.$$meta:f.hasOwnProperty("$$is_class")?v.build_class_singleton_class(f):f.hasOwnProperty("$$is_module")?v.build_module_singleton_class(f):v.build_object_singleton_class(f)};function r(f,m){f.hasOwnProperty("$$meta")?f.$$meta=m:b(f,"$$meta",m),f.$$frozen?f.$$meta.$freeze():U(f,m.$$prototype)}v.build_class_singleton_class=function(f){if(f.$$meta)return f.$$meta;var m=f===D?J:v.get_singleton_class(f.$$super),L=w(null,m,!0);return b(L,"$$is_singleton",!0),b(L,"$$singleton_of",f),r(f,L),b(f,"$$class",v.Class),L},v.build_module_singleton_class=function(f){if(f.$$meta)return f.$$meta;var m=w(null,v.Module,!0);return b(m,"$$is_singleton",!0),b(m,"$$singleton_of",f),r(f,m),b(f,"$$class",v.Module),m},v.build_object_singleton_class=function(f){var m=f.$$class,L=w(y,m,!0);return b(L,"$$is_singleton",!0),b(L,"$$singleton_of",f),delete L.$$prototype.$$class,r(f,L),L},v.is_method=function(f){return f[0]==="$"&&f[1]!=="$"},v.instance_methods=function(f){for(var m=Object.create(null),L=[],te=V(f),ue=0,ce=te.length;ue<ce;ue++){var he=te[ue],pe=he.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ze=ye.length;we<ze;we++){var Ee=ye[we];if(!m[Ee]){if(v.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);L.push(qe)}}m[Ee]=!0}}}return L},v.own_instance_methods=function(f){var m=[],L=f.$$prototype;L.hasOwnProperty("$$dummy")&&(L=L.$$define_methods_on);for(var te=Object.getOwnPropertyNames(L),ue=0,ce=te.length;ue<ce;ue++){var he=te[ue];if(v.is_method(he)){var pe=L[he];if(!pe.$$stub){var ye=he.slice(1);m.push(ye)}}}return m},v.methods=function(f){return v.instance_methods(f.$$meta||f.$$class)},v.own_methods=function(f){return f.$$meta?v.own_instance_methods(f.$$meta):[]},v.receiver_methods=function(f){var m=v.get_singleton_class(f),L=v.own_instance_methods(m),te=v.own_instance_methods(m.$$super);return L.concat(te)},v.class_variables=function(f){var m=V(f),L,te=m.length,ue={};for(L=te-1;L>=0;L--){var ce=m[L];for(var he in ce.$$cvars)ue[he]=ce.$$cvars[he]}return ue},v.class_variable_set=function(f,m,L){var te=V(f),ue,ce=te.length;for(ue=ce-2;ue>=0;ue--){var he=te[ue];if(Z(he.$$cvars,m))return he.$$cvars[m]=L,L}return f.$$cvars[m]=L,L},v.class_variable_get=function(f,m,L){if(Z(f.$$cvars,m))return f.$$cvars[m];var te=V(f),ue,ce=te.length;for(ue=0;ue<ce;ue++){var he=te[ue];if(Z(he.$$cvars,m))return he.$$cvars[m]}return L||T(v.NameError,"uninitialized class variable "+m+" in "+f.$name()),y};function e(f){return f.hasOwnProperty("$$iclass")&&f.hasOwnProperty("$$root")}function t(f){for(var m=[],L,te=Object.getPrototypeOf(f.$$prototype);te&&!te.hasOwnProperty("$$class");)L=C(te),L&&m.push(L),te=Object.getPrototypeOf(te);return m}function i(f){var m=[],L,te=Object.getPrototypeOf(f.$$prototype);if(f.$$prototype.hasOwnProperty("$$dummy"))for(;te&&te!==f.$$prototype.$$define_methods_on;)L=C(te),L&&m.push(L),te=Object.getPrototypeOf(te);return m}v.append_features=function(f,m){var L=V(f),te=[];L.indexOf(m)!==-1&&T(v.ArgumentError,"cyclic include detected");for(var ue=0,ce=L.length;ue<ce;ue++){var he=L[ue],pe=o(he);b(pe,"$$included",!0),te.push(pe)}var ye=V(m),we=I(te),ze,Ee;if(ye.indexOf(f)===-1)ze=m.$$prototype,Ee=Object.getPrototypeOf(m.$$prototype);else{for(var xe=m.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===f&&e(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var Ae=Object.getPrototypeOf(qe);Ae.hasOwnProperty("$$iclass")&&!e(Ae);)Ae=Object.getPrototypeOf(Ae);ze=xe,Ee=Ae}else ze=m.$$prototype,Ee=Object.getPrototypeOf(m.$$prototype)}U(ze,we.first),U(we.last,Ee),m.$$own_included_modules=t(m),v.const_cache_version++},v.prepend_features=function(f,m){var L=V(f),te=[];L.indexOf(m)!==-1&&T(v.ArgumentError,"cyclic prepend detected");for(var ue=0,ce=L.length;ue<ce;ue++){var he=L[ue],pe=o(he);b(pe,"$$prepended",!0),te.push(pe)}var ye=I(te),we=m.$$prototype,ze=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=g(m),a(m),b(we,"$$dummy",!0),b(we,"$$define_methods_on",Ee),U(we,Ee),U(Ee,ze));var Ae=V(m);if(Ae.indexOf(f)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else T(v.RuntimeError,"Prepending a module multiple times is not supported");U(xe,ye.first),U(ye.last,qe),m.$$own_prepended_modules=i(m),v.const_cache_version++};function a(f){for(var m=f.$$prototype,L=Object.getOwnPropertyNames(m),te=0;te<L.length;te++){var ue=L[te];v.is_method(ue)&&delete m[ue]}}function o(f){var m=g(f);return f.$$is_module&&f.$$iclasses.push(m),m}function g(f){var m={},L=f.$$prototype;L.hasOwnProperty("$$dummy")&&(L=L.$$define_methods_on);var te=Object.getOwnPropertyNames(L),ue=te.length,ce;for(ce=0;ce<ue;ce++){var he=te[ce];b(m,he,L[he])}return b(m,"$$iclass",!0),b(m,"$$module",f),m}function I(f){var m=f.length,L=f[0];if(b(L,"$$root",!0),m===1)return{first:L,last:L};for(var te=L,ue=1;ue<m;ue++){var ce=f[ue];U(te,ce),te=ce}return{first:f[0],last:f[m-1]}}v.bridge=function(f,m){f.hasOwnProperty("$$bridge")&&T(v.ArgumentError,"already bridged"),b(f,"$$bridge",m),U(f.prototype,(m.$$super||v.Object).$$prototype),b(m,"$$prototype",f.prototype),b(m.$$prototype,"$$class",m),b(m,"$$constructor",f),b(m,"$$bridge",!0)};function C(f){if(!f.hasOwnProperty("$$dummy")){if(f.hasOwnProperty("$$iclass"))return f.$$module;if(f.hasOwnProperty("$$class"))return f.$$class}}function M(f){return f.$$own_prepended_modules.concat([f]).concat(f.$$own_included_modules)}function V(f){if(!f)return[];if(f.$$ancestors_cache_version===v.const_cache_version)return f.$$ancestors;var m=[],L,te,ue;for(L=0,te=M(f),ue=te.length;L<ue;L++)m.push(te[L]);if(f.$$super)for(L=0,te=V(f.$$super),ue=te.length;L<ue;L++)m.push(te[L]);return f.$$ancestors_cache_version=v.const_cache_version,f.$$ancestors=m,m}v.ancestors=V,v.included_modules=function(f){for(var m=[],L=null,te=Object.getPrototypeOf(f.$$prototype);te&&Object.getPrototypeOf(te);te=Object.getPrototypeOf(te))L=C(te),L&&L.$$is_module&&te.$$iclass&&te.$$included&&m.push(L);return m},v.add_stubs=function(f){var m=v.BasicObject.$$prototype,L,te;f=f.split(",");for(var ue=0,ce=f.length;ue<ce;ue++)L=de(f[ue]),te=m[L],(te==null||te.$$stub)&&v.add_stub_for(m,L)},v.add_stub_for=function(f,m){b(f,m,v.stub_for(m))},v.stub_for=function(f){function m(){return this.$method_missing.$$p=m.$$p,m.$$p=null,this.$method_missing.apply(this,ge(f.slice(1),arguments))}return m.$$stub=!0,m},v.ac=function(f,m,L,te){var ue="";L.$$is_a_module?ue+=L.$$name+".":ue+=L.$$class.$$name+"#",ue+=te,T(v.ArgumentError,"["+ue+"] wrong number of arguments (given "+f+", expected "+m+")")},v.block_ac=function(f,m,L){var te="`block in "+L+"'";T(v.ArgumentError,te+": wrong number of arguments (given "+f+", expected "+m+")")};function O(f){return f.hasOwnProperty("$$meta")&&f.$$meta!==null?V(f.$$meta):V(f.$$class)}v.find_super=function(f,m,L,te,ue){var ce=de(m),he,pe,ye,we,ze=-1,Ee;for(he=O(f),we=L.$$owner,Ee=0;Ee<he.length;Ee++)if(pe=he[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ze=Ee;break}for(Ee=ze+1;Ee<he.length;Ee++){pe=he[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(ce)){ye=xe[ce];break}}return!te&&ye&&ye.$$stub&&f.$method_missing.$$pristine&&T(v.NoMethodError,"super: no superclass method `"+m+"' for "+f,m),ye.$$stub&&!ue?null:ye},v.find_block_super=function(f,m,L,te,ue){var ce=m;return L||T(v.RuntimeError,"super called outside of method"),ue&&L.$$define_meth&&T(v.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),L.$$def&&(ce=L.$$jsid),v.find_super(f,ce,L,te)},v.find_super_dispatcher=v.find_super,v.find_iter_super_dispatcher=v.find_block_super;function ae(f,m,L){try{f(m)}catch(te){if(te===L)return L.$v;throw te}}v.yield1=function(f,m){typeof f!="function"&&T(v.LocalJumpError,"no block given");var L=f.$$has_top_level_mlhs_arg,te=f.$$has_trailing_comma_in_args,ue=f.$$is_lambda&&f.$$ret;return(f.length>1||(L||te)&&f.length===1)&&(m=v.to_ary(m)),(f.length>1||te&&f.length===1)&&m.$$is_array?ue?ae(f.apply.bind(f,null),m,f.$$ret):f.apply(null,m):ue?ae(f,m,f.$$ret):f(m)},v.yieldX=function(f,m){return typeof f!="function"&&T(v.LocalJumpError,"no block given"),f.length>1&&m.length===1&&m[0].$$is_array&&(m=m[0]),f.$$is_lambda&&f.$$ret?ae(f.apply.bind(f,null),m,f.$$ret):f.apply(null,m)},v.rescue=function(f,m){for(var L=0;L<m.length;L++){var te=m[L];if(te.$$is_array){var ue=v.rescue(f,te);if(ue)return ue}else if(te===v.JS.Error||te["$==="](f))return te}return null},v.is_a=function(f,m){if(m!=null&&f.$$meta===m||f.$$class===m)return!0;if(f.$$is_number&&m.$$is_number_class)return m.$$is_integer_class?f%1===0:!0;var L=V(f.$$is_class?v.get_singleton_class(f):f.$$meta||f.$$class);return L.indexOf(m)!==-1},v.to_hash=function(f){if(f.$$is_hash)return f;if(f["$respond_to?"]("to_hash",!0)){var m=f.$to_hash();if(m.$$is_hash)return m;T(v.TypeError,"Can't convert "+f.$$class+" to Hash ("+f.$$class+"#to_hash gives "+m.$$class+")")}else T(v.TypeError,"no implicit conversion of "+f.$$class+" into Hash")},v.to_ary=function(f){if(f.$$is_array)return f;if(f["$respond_to?"]("to_ary",!0)){var m=f.$to_ary();if(m===y)return[f];if(m.$$is_array)return m;T(v.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_ary gives "+m.$$class+")")}else return[f]},v.to_a=function(f){if(f.$$is_array)return f.slice();if(f["$respond_to?"]("to_a",!0)){var m=f.$to_a();if(m===y)return[f];if(m.$$is_array)return m;T(v.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_a gives "+m.$$class+")")}else return[f]},v.extract_kwargs=function(f){var m=f[f.length-1];if(m!=null&&v.respond_to(m,"$to_hash",!0))return X(f,f.length-1),m},v.kwrestargs=function(f,m){var L=new Map;return v.hash_each(f,!1,function(te,ue){return m[te]||v.hash_put(L,te,ue),[!1,!1]}),L};function le(f,m){typeof m=="number"?f.$$arity=m:typeof m=="object"&&Object.assign(f,m)}var _e=new Map;function de(f){var m=_e.get(f);return m||(m="$"+f,_e.set(f,m)),m}v.jsid=de;function ge(f,m){return m.$$is_array||(m=ee(m)),[f].concat(m)}v.send=function(f,m,L,te,ue){var ce;return typeof m=="function"?(ce=m,m=null):typeof m=="string"?ce=f[de(m)]:T(v.NameError,"Passed method should be a string or a function"),v.send2(f,ce,m,L,te,ue)},v.send2=function(f,m,L,te,ue,ce){return m==null&&L!=null&&f.$method_missing&&(m=f.$method_missing,te=ge(L,te)),le(ue,ce),typeof ue=="function"&&(m.$$p=ue),m.apply(f,te)},v.refined_send=function(f,m,L,te,ue,ce){var he,pe,ye,we,ze,Ee,xe,qe,Ae,ke;for(we=O(m),he=0;he<we.length;he++)for(ze=v.id(we[he]),pe=0;pe<f.length;pe++)for(Ee=f[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ze]>"u")&&(Ae=qe[ze],typeof Ae.$$prototype[de(L)]<"u")))return ke=Ae.$$prototype[de(L)],v.send2(m,ke,L,te,ue,ce);return v.send(m,L,te,ue,ce)},v.lambda=function(f,m){return f.$$is_lambda=!0,le(f,m),f},v.def=function(f,m,L,te){return le(L,te),f===v.top?v.defn(v.Object,m,L):!f.$$eval&&f.$$is_a_module?v.defn(f,m,L):v.defs(f,m,L)},v.defn=function(f,m,L){N(f),L.displayName=m,L.$$owner=f;var te=m.substr(1),ue=f.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),b(ue,m,L),f.$$is_module){f.$$module_function&&v.defs(f,m,L);for(var ce=0,he=f.$$iclasses,pe=he.length;ce<pe;ce++){var ye=he[ce];b(ye,m,L)}}var we=f.$$singleton_of;return f.$method_added&&!f.$method_added.$$stub&&!we?f.$method_added(te):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(te),te},v.defs=function(f,m,L,te){return le(L,te),(f.$$is_string||f.$$is_number)&&T(v.TypeError,"can't define singleton"),v.defn(v.get_singleton_class(f),m,L)};function ve(f,m){if(f.$$is_module)for(var L=0,te=f.$$iclasses,ue=te.length;L<ue;L++){var ce=te[L];delete ce[m]}}v.rdef=function(f,m){Z(f.$$prototype,m)||T(v.NameError,"method '"+m.substr(1)+"' not defined in "+f.$name()),delete f.$$prototype[m],ve(f,m),f.$$is_singleton?f.$$prototype.$singleton_method_removed&&!f.$$prototype.$singleton_method_removed.$$stub&&f.$$prototype.$singleton_method_removed(m.substr(1)):f.$method_removed&&!f.$method_removed.$$stub&&f.$method_removed(m.substr(1))},v.udef=function(f,m){(!f.$$prototype[m]||f.$$prototype[m].$$stub)&&T(v.NameError,"method '"+m.substr(1)+"' not defined in "+f.$name()),v.add_stub_for(f.$$prototype,m),ve(f,m),f.$$is_singleton?f.$$prototype.$singleton_method_undefined&&!f.$$prototype.$singleton_method_undefined.$$stub&&f.$$prototype.$singleton_method_undefined(m.substr(1)):f.$method_undefined&&!f.$method_undefined.$$stub&&f.$method_undefined(m.substr(1))};function me(f){return typeof f=="function"&&!f.$$stub}v.alias=function(f,m,L){var te=de(m),ue=de(L),ce,he;if(typeof f.$$prototype>"u"&&(f=v.Object),ce=f.$$prototype[ue],f.$$eval)return v.alias(v.get_singleton_class(f),m,L);if(!me(ce)){for(var pe=f.$$super;typeof ce!="function"&&pe;)ce=pe[ue],pe=pe.$$super;!me(ce)&&f.$$is_module&&(ce=v.Object.$$prototype[ue]),me(ce)||T(v.NameError,"undefined method `"+L+"' for class `"+f.$name()+"'")}return ce.$$alias_of&&(ce=ce.$$alias_of),he=v.wrap_method_body(ce),he.displayName=m,he.$$alias_of=ce,he.$$alias_name=m,v.defn(f,te,he),f},v.wrap_method_body=function(f){var m=function(){var L=m.$$p;return m.$$p=null,v.send(this,f,arguments,L)};try{Object.defineProperty(m,"length",{value:f.length})}catch{}return m.$$arity=f.$$arity==null?f.length:f.$$arity,m.$$parameters=f.$$parameters,m.$$source_location=f.$$source_location,m},v.alias_gvar=function(f,m){return Object.defineProperty(G,f,{configurable:!0,enumerable:!0,get:function(){return G[m]},set:function(L){G[m]=L}}),y},v.alias_native=function(f,m,L){var te=de(m),ue=f.$$prototype[L];return(typeof ue!="function"||ue.$$stub)&&T(v.NameError,"undefined native method `"+L+"' for class `"+f.$name()+"'"),v.defn(f,te,ue),f},v.hash_init=function(f){q.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},v.hash_clone=function(f,m){return m.$$none=f.$$none,m.$$proc=f.$$proc,v.hash_each(f,m,function(L,te){return v.hash_put(m,L,te),[!1,m]})},v.hash_put=function(f,m,L){var te=typeof m;if(te==="string"||te==="symbol"||te==="number"||te==="boolean"||te==="bigint")f.set(m,L);else if(m.$$is_string)f.set(m.valueOf(),L);else{f.$$keys||(f.$$keys=new Map);var ue=m.$$is_string?m.valueOf():f.$$by_identity?v.id(m):m.$hash(),ce=f.$$keys;if(!ce.has(ue)){ce.set(ue,[m]),f.set(m,L);return}for(var he=ce.get(ue),pe,ye=0;ye<he.length;ye++)if(pe=he[ye],m===pe||m["$eql?"](pe)){f.set(pe,L);return}he.push(m),f.set(m,L)}},v.hash_get=function(f,m){var L=typeof m;if(L==="string"||L==="symbol"||L==="number"||L==="boolean"||L==="bigint")return f.get(m);if(f.$$keys){var te=m.$$is_string?m.valueOf():f.$$by_identity?v.id(m):m.$hash(),ue=f.$$keys.get(te),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],m===ce||m["$eql?"](ce))return f.get(ce)}else if(m.$$is_string)return f.get(te)}else if(m.$$is_string)return f.get(m.valueOf())};function be(f,m){var L=f.get(m);if(L!==void 0)return f.delete(m),L}v.hash_delete=function(f,m){var L=typeof m;if(L==="string"||L==="symbol"||L==="number"||L==="boolean"||L==="bigint")return be(f,m);if(f.$$keys){var te=m.$$is_string?m.valueOf():f.$$by_identity?v.id(m):m.$hash(),ue=f.$$keys.get(te),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],m===ce||m["$eql?"](ce))return ue.splice(he,1),ue.length===0&&f.$$keys.delete(te),be(f,ce)}else if(m.$$is_string)return be(f,te)}else if(m.$$is_string)return be(f,m.valueOf())},v.hash_rehash=function(f){var m=f.$$keys;return m&&m.clear(),v.hash_each(f,!1,function(L,te){var ue=typeof L;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var ce=L.$$is_string?L.valueOf():f.$$by_identity?v.id(L):L.$hash();if(m||(f.$$keys=m=new Map),!m.has(ce))return m.set(ce,[L]),[!1,!1];for(var he=m.get(ce),pe=he.length===1?he:ee(he),ye,we=0;we<pe.length;we++)ye=pe[we],(L===ye||L["$eql?"](ye))&&(he.splice(he.indexOf(ye),1),f.delete(ye));return he.push(L),[!1,!1]}),f},v.hash=function(){var f=arguments.length,m,L,te,ue,ce,he;if(f===1&&arguments[0].$$is_hash)return arguments[0];if(L=new Map,f===1)if(m=arguments[0],arguments[0].$$is_array){for(ue=m.length,te=0;te<ue;te++)m[te].length!==2&&T(v.ArgumentError,"value not of length 2: "+m[te].$inspect()),ce=m[te][0],he=m[te][1],v.hash_put(L,ce,he);return L}else{m=arguments[0];for(ce in m)Z(m,ce)&&(he=m[ce],v.hash_put(L,ce,he));return L}for(f%2!==0&&T(v.ArgumentError,"odd number of arguments for Hash"),te=0;te<f;te+=2)ce=arguments[te],he=arguments[te+1],v.hash_put(L,ce,he);return L},v.hash2=function(f,m){q.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var L=new Map,te=0,ue=f.length;te<ue;te++)L.set(f[te],m[f[te]]);return L},v.hash_each=function(f,m,L){for(var te,ue=0,ce,he=Array.from(f.entries()),pe=he.length;ue<pe;ue++)if(ce=he[ue],te=L(ce[0],ce[1]),te[0])return te[1];return te?te[1]:m},v.range=function(f,m,L){var te=new v.Range;return te.begin=f,te.end=m,te.excl=L,te};var ie=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];v.ivar=function(f){return ie.indexOf(f)!==-1&&(f+="$"),f};function N(f){f.$$frozen&&T(v.FrozenError,"can't modify frozen "+f.$class()+": "+f,new Map([["receiver",f]]))}v.deny_frozen_access=N,v.freeze=function(f){return b(f,"$$frozen",!0),f.hasOwnProperty("$$id")||b(f,"$$id",P()),f.hasOwnProperty("$$meta")?f.$$meta.$freeze():b(f,"$$meta",null),f.hasOwnProperty("$$comparable")||b(f,"$$comparable",null),Object.seal(f),f};function j(f,m){var L=Object.getOwnPropertyNames(f),te=L.length,ue,ce,he;for(ue=0;ue<te;ue++)ce=L[ue],ce[0]!=="$"&&(he=Object.getOwnPropertyDescriptor(f,ce),he&&he.enumerable&&m(ce,he))}v.each_ivar=j,v.freeze_props=function(f){var m={get:null,set:function(L){N(f)},enumerable:!0};j(f,function(L,te){te.writable&&(m.get=se(te.value),Object.defineProperty(f,L,m))})},v.escape_regexp=function(f){return f.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},v.global_regexp=function(f){return f.global?f:(f.$$g==null?f.$$g=new RegExp(f.source,(f.multiline?"gm":"g")+(f.ignoreCase?"i":"")):f.$$g.lastIndex=null,f.$$g)},v.global_multiline_regexp=function(f){var m,L;return f.global&&f.multiline?f:(L="gm"+(f.ignoreCase?"i":""),f.multiline?(f.$$g==null&&(f.$$g=new RegExp(f.source,L)),m=f.$$g):(f.$$gm==null&&(f.$$gm=new RegExp(f.source,L)),m=f.$$gm),m.lastIndex=null,m)},v.regexp=function(f,m){for(var L,te=typeof m<"u"&&m&&m.indexOf("i")>=0,ue=0,ce=f.length;ue<ce;ue++)L=f[ue],L instanceof RegExp&&(L.ignoreCase!==te&&v.Kernel.$warn("ignore case doesn't match for "+L.source.$inspect(),new Map([["uplevel",1]])),L=L.source),L===""&&(L="(?:"+L+")"),f[ue]=L;return m?new RegExp(f.join(""),m):new RegExp(f.join(""))},v.modules={},v.loaded_features=["corelib/runtime"],v.current_dir=".",v.require_table={"corelib/runtime":!0},v.normalize=function(f){var m,L,te=[],ue="/";v.current_dir!=="."&&(f=v.current_dir.replace(/\/*$/,"/")+f),f=f.replace(/^\.\//,""),f=f.replace(/\.(rb|opal|js)$/,""),m=f.split(ue);for(var ce=0,he=m.length;ce<he;ce++)L=m[ce],L!==""&&(L===".."?te.pop():te.push(L));return te.join(ue)},v.loaded=function(f){var m,L,te;for(m=0,L=f.length;m<L;m++)te=v.normalize(f[m]),!v.require_table[te]&&(v.loaded_features.push(te),v.require_table[te]=!0)},v.load_normalized=function(f){v.loaded([f]);var m=v.modules[f];if(m){var L=m(v);if(typeof Promise<"u"&&L instanceof Promise)return L.then(se(!0))}else{var te=v.config.missing_require_severity,ue="cannot load such file -- "+f;te==="error"?T(v.LoadError,ue):te==="warning"&&q.warn("WARNING: LoadError: "+ue)}return!0},v.load=function(f){return f=v.normalize(f),v.load_normalized(f)},v.require=function(f){return f=v.normalize(f),v.require_table[f]?!1:v.load_normalized(f)},v.encodings=Object.create(null),v.set_encoding=function(f,m,L){typeof L>"u"&&(L="encoding"),(typeof f=="string"||f.$$frozen===!0)&&T(v.FrozenError,"can't modify frozen String");var te=v.find_encoding(m);return te===f[L]||(f[L]=te),f},v.find_encoding=function(f){var m=v.encodings,L=m[f]||m[f.toUpperCase()];return L||T(v.ArgumentError,"unknown encoding name - "+f),L},v.enc=function(f,m){var L=new String(f);return L=v.set_encoding(L,m),L.internal_encoding=L.encoding,L},v.binary=function(f){var m=new String(f);return v.set_encoding(m,"binary","internal_encoding")},v.last_promise=null,v.promise_unhandled_exception=!1,v.queue=function(f){if(v.last_promise)return v.last_promise=v.last_promise.then(function(){if(!v.promise_unhandled_exception)return f(v)}).catch(function(L){v.respond_to(L,"$full_message")&&(L=L.$full_message()),q.error(L),v.promise_unhandled_exception=!0,v.exit(1)}),v.last_promise;var m=f(v);return typeof Promise=="function"&&typeof m=="object"&&m instanceof Promise&&(v.last_promise=m),m};function Y(f,m){return typeof f=="number"&&typeof m=="number"}v.rb_plus=function(f,m){return Y(f,m)?f+m:f["$+"](m)},v.rb_minus=function(f,m){return Y(f,m)?f-m:f["$-"](m)},v.rb_times=function(f,m){return Y(f,m)?f*m:f["$*"](m)},v.rb_divide=function(f,m){return Y(f,m)?f/m:f["$/"](m)},v.rb_lt=function(f,m){return Y(f,m)?f<m:f["$<"](m)},v.rb_gt=function(f,m){return Y(f,m)?f>m:f["$>"](m)},v.rb_le=function(f,m){return Y(f,m)?f<=m:f["$<="](m)},v.rb_ge=function(f,m){return Y(f,m)?f>=m:f["$>="](m)};function W(f,m){return typeof f=="number"&&typeof m=="number"||typeof f=="string"&&typeof m=="string"}function ne(f,m){return W(f,m)?f===m:A(f["$=="](m))}v.eqeq=ne,v.eqeqeq=function(f,m){return W(f,m)?f===m:A(f["$==="](m))},v.neqeq=function(f,m){return W(f,m)?f!==m:A(f["$!="](m))},v.not=function(f){return f==null||f===!1||y===f?!0:f===!0||f["$!"].$$pristine?!1:A(f["$!"]())};function se(f){return function(){return f}}v.return_val=se,v.return_self=function(){return this},v.return_ivar=function(f){return function(){return this[f]==null?y:this[f]}},v.assign_ivar=function(f){return function(m){return N(this),this[f]=m}},v.assign_ivar_val=function(f,m){return function(){return N(this),this[f]=m}},v.ensure_kwargs=function(f){if(f==null)return new Map;if(f.$$is_hash)return f;T(v.ArgumentError,"expected kwargs")},v.get_kwarg=function(f,m){var L=v.hash_get(f,m);return L===void 0&&T(v.ArgumentError,"missing keyword: "+m),L},v.large_array_unpack=function(f){var m=f.split(","),L=m.length,te;for(te=0;te<L;te++)switch(m[te][0]){case void 0:m[te]=y;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":m[te]=+m[te]}return m},v.opal32_init=se(1332765036);function oe(f,m){return f<<m|f>>>32-m}v.opal32_add=function(f,m){return f^=m,f=oe(f,1),f},v.BasicObject=D=w("BasicObject",null),v.Object=z=w("Object",v.BasicObject),v.Module=re=w("Module",v.Object),v.Class=J=w("Class",v.Module),v.Opal=R=s("Opal"),v.Kernel=Q=s("Kernel"),U(v.BasicObject,v.Class.$$prototype),U(v.Object,v.Class.$$prototype),U(v.Module,v.Class.$$prototype),U(v.Class,v.Class.$$prototype),D.$$const.BasicObject=D,c(z,"BasicObject",D),c(z,"Object",z),c(z,"Module",re),c(z,"Class",J),c(z,"Opal",R),c(z,"Kernel",Q),D.$$class=J,z.$$class=J,re.$$class=J,J.$$class=J,R.$$class=re,Q.$$class=re,b(z.$$prototype,"toString",function(){var f=this.$to_s();return f.$$is_string&&typeof f=="object"?f.valueOf():f}),b(z.$$prototype,"$require",v.require),v.top=new z,v.top.$to_s=v.top.$inspect=se("main"),v.top.$define_method=fe;function fe(){var f=fe.$$p;return fe.$$p=null,v.send(z,"define_method",arguments,f)}v.NilClass=w("NilClass",v.Object),c(z,"NilClass",v.NilClass),y=v.nil=new v.NilClass,y.$$id=x,y.call=y.apply=function(){T(v.LocalJumpError,"no block given")},y.$$frozen=!0,y.$$comparable=!1,Object.seal(y),v.thrower=function(f){var m={$thrower_type:f,$throw:function(L,te){throw L==null&&(L=y),this.is_orphan&&!te&&T(v.LocalJumpError,"unexpected "+f,L,f.$to_sym()),this.$v=L,this},is_orphan:!1};return m},Object.defineProperty(G,"@",{enumerable:!0,configurable:!0,get:function(){return A(G["!"])?G["!"].$backtrace():y},set:function(f){A(G["!"])?G["!"].$set_backtrace(f):T(v.ArgumentError,"$! not set")}}),v.t_eval_return=v.thrower("return"),TypeError.$$super=Error,v.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function($){var q=$.type_error,y=$.coerce_to,D=$.module,z=$.defs,re=$.slice,J=$.eqeqeq,R=$.Kernel,Q=$.truthy,v=$.Opal,K=$.nil,$e=$.$$$;return $.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(Z){var U=D(Z,"Opal");z(U,"$bridge",function(x,p){return $.bridge(x,p)}),z(U,"$coerce_to!",function(x,p,P,G){var T,B,b=K;return T=re(arguments,3),B=T,b=y(x,p,P,B),J(p,b)||R.$raise(q(x,p,P,b)),b},-4),z(U,"$coerce_to?",function(x,p,P,G){var T,B,b=K;return T=re(arguments,3),B=T,!Q(x["$respond_to?"](P))||(b=y(x,p,P,B),Q(b["$nil?"]()))?K:(J(p,b)||R.$raise(q(x,p,P,b)),b)},-4),z(U,"$try_convert",function(x,p,P){return J(p,x)?x:Q(x["$respond_to?"](P))?x.$__send__(P):K}),z(U,"$compare",function(x,p){var P=K;return P=x["$<=>"](p),Q(P===K)&&R.$raise($e("ArgumentError"),"comparison of "+x.$class()+" with "+p.$class()+" failed"),P}),z(U,"$destructure",function(x){if(x.length==1)return x[0];if(x.$$is_array)return x;for(var p=new Array(x.length),P=0,G=p.length;P<G;P++)p[P]=x[P];return p}),z(U,"$respond_to?",function(x,p,P){return P==null&&(P=!1),x==null||!x.$$class?!1:x["$respond_to?"](p,P)},-3),z(U,"$instance_variable_name!",function(x){return x=v["$coerce_to!"](x,$e("String"),"to_str"),Q(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(x))||R.$raise($e("NameError").$new("'"+x+"' is not allowed as an instance variable name",x)),x}),z(U,"$class_variable_name!",function(x){return x=v["$coerce_to!"](x,$e("String"),"to_str"),Q(x.length<3||x.slice(0,2)!=="@@")&&R.$raise($e("NameError").$new("`"+x+"' is not allowed as a class variable name",x)),x}),z(U,"$const_name?",function(x){return typeof x!="string"&&(x=v["$coerce_to!"](x,$e("String"),"to_str")),x[0]===x[0].toUpperCase()}),z(U,"$const_name!",function(x){var p=this;return Q($e("::","String","skip_raise")?"constant":K)&&(x=v["$coerce_to!"](x,$e("String"),"to_str")),(!x||x[0]!=x[0].toUpperCase())&&p.$raise($e("NameError"),"wrong constant name "+x),x}),z(U,"$pristine",function(x,p){var P,G;P=re(arguments,1),G=P;for(var T,B,b=G.length-1;b>=0;b--)T=G[b],B=x.$$prototype[$.jsid(T)],B&&!B.$$stub&&(B.$$pristine=!0);return K},-2);var ee=[];return z(U,"$inspect",function(x){var p=K,P=!1;return function(){try{try{return x===null?"null":x===void 0?"undefined":typeof x.$$class>"u"?Object.prototype.toString.apply(x):typeof x.$inspect!="function"||x.$inspect.$$stub||ee.indexOf(x.$__id__())!==-1?"#<"+x.$$class+":0x"+x.$__id__().$to_s(16)+">":(ee.push(x.$__id__()),P=!0,x.$inspect())}catch(G){if($.rescue(G,[$e("Exception")])){p=G;try{return"#<"+x.$$class+":0x"+x.$__id__().$to_s(16)+">"}finally{$.pop_exception(G)}}else throw G}}finally{P&&ee.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function($){var q=$.truthy,y=$.coerce_to,D=$.const_set,z=$.Object,re=$.return_ivar,J=$.assign_ivar,R=$.ivar,Q=$.deny_frozen_access,v=$.freeze,K=$.prop,$e=$.jsid,Z=$.each_ivar,U=$.klass,ee=$.Opal,X=$.Kernel,x=$.defs,p=$.send,P=$.def,G=$.eqeqeq,T=$.Module,B=$.rb_lt,b=$.rb_gt,A=$.slice,F=$.to_a,k=$.return_val,E=$.eqeq,u=$.not,d=$.rb_le,S=$.range,h=$.send2,c=$.find_super,l=$.alias,w=[],H=$.nil,_=$.$$$;return $.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(s,n,r){var e=U(s,n,"Module"),t=[e].concat(r),i=$.$r(t);function a(C){if(C.$$is_string)return C;var M=ee.$try_convert(C,_("String"),"to_str");if(M.$$is_string)return M;M===H?X.$raise(_("TypeError"),""+C+" is not a symbol nor a string"):X.$raise(_("TypeError"),"can't convert "+C.$class()+" to String ("+C.$class()+"#to_str gives "+M.$class())}x(e,"$allocate",function(){var M=this,V=$.allocate_module(H,function(){});return M!==$.Module&&Object.setPrototypeOf(V,M.$$prototype),V}),P(e,"$initialize",function C(){var M=C.$$p||H,V=this;return C.$$p=null,M!==H?p(V,"module_eval",[],M.$to_proc()):H}),P(e,"$===",function(M){var V=this;return q(M==null)?!1:$.is_a(M,V)}),P(e,"$<",function(M){var V=this;G(T,M)||X.$raise(_("TypeError"),"compared with non class/module");var O=V,ae,le,_e;if(O===M)return!1;for(le=0,ae=$.ancestors(V),_e=ae.length;le<_e;le++)if(ae[le]===M)return!0;for(le=0,ae=$.ancestors(M),_e=ae.length;le<_e;le++)if(ae[le]===V)return!1;return H}),P(e,"$<=",function(M){var V=this,O=H;return q(O=V["$equal?"](M))?O:B(V,M)}),P(e,"$>",function(M){var V=this;return G(T,M)||X.$raise(_("TypeError"),"compared with non class/module"),B(M,V)}),P(e,"$>=",function(M){var V=this,O=H;return q(O=V["$equal?"](M))?O:b(V,M)}),P(e,"$<=>",function(M){var V=this,O=H;return V===M?0:!G(T,M)||(O=B(V,M),q(O["$nil?"]()))?H:q(O)?-1:1}),P(e,"$alias_method",function(M,V){var O=this;return Q(O),M=y(M,_("String"),"to_str"),V=y(V,_("String"),"to_str"),$.alias(O,M,V),O}),P(e,"$alias_native",function(M,V){var O=this;return V==null&&(V=M),Q(O),$.alias_native(O,M,V),O},-2),P(e,"$ancestors",function(){var M=this;return $.ancestors(M)}),P(e,"$append_features",function(M){var V=this;return Q(M),$.append_features(V,M),V}),P(e,"$attr_accessor",function(M){var V,O,ae=this;return V=A(arguments),O=V,p(ae,"attr_reader",F(O)),p(ae,"attr_writer",F(O))},-1),P(e,"$attr",function(M){var V,O,ae=this;return V=A(arguments),O=V,O.length==2&&(O[1]===!0||O[1]===!1)?(ae.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),O[1]?ae.$attr_accessor(O[0]):ae.$attr_reader(O[0]),H):p(ae,"attr_reader",F(O))},-1),P(e,"$attr_reader",function(M){var V,O,ae=this;V=A(arguments),O=V,Q(ae);for(var le=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=$e(de),ve=R(de),me=re(ve);$.prop(le,ve,H),me.$$parameters=[],me.$$arity=0,$.defn(ae,ge,me)}return H},-1),P(e,"$attr_writer",function(M){var V,O,ae=this;V=A(arguments),O=V,Q(ae);for(var le=ae.$$prototype,_e=O.length-1;_e>=0;_e--){var de=O[_e],ge=$e(de+"="),ve=R(de),me=J(ve);me.$$parameters=[["req"]],me.$$arity=1,$.prop(le,ve,H),$.defn(ae,ge,me)}return H},-1),P(e,"$autoload",function(M,V){var O=this;return Q(O),i("Opal")["$const_name?"](M)||X.$raise(_("NameError"),"autoload must be constant name: "+M),V==""&&X.$raise(_("ArgumentError"),"empty file name"),O.$$const.hasOwnProperty(M)||(O.$$autoload||(O.$$autoload={}),$.const_cache_version++,O.$$autoload[M]={path:V,loaded:!1,required:!1,success:!1,exception:!1},O.$const_added&&!O.$const_added.$$pristine&&O.$const_added(M)),H}),P(e,"$autoload?",function(M){var V=this;if(V.$$autoload&&V.$$autoload[M]&&!V.$$autoload[M].required&&!V.$$autoload[M].success)return V.$$autoload[M].path;for(var O=V.$ancestors(),ae=0,le=O.length;ae<le;ae++)if(O[ae].$$autoload&&O[ae].$$autoload[M]&&!O[ae].$$autoload[M].required&&!O[ae].$$autoload[M].success)return O[ae].$$autoload[M].path;return H}),P(e,"$class_variables",function(){var M=this;return Object.keys($.class_variables(M))}),P(e,"$class_variable_get",function(M){var V=this;return M=ee["$class_variable_name!"](M),$.class_variable_get(V,M,!1)}),P(e,"$class_variable_set",function(M,V){var O=this;return Q(O),M=ee["$class_variable_name!"](M),$.class_variable_set(O,M,V)}),P(e,"$class_variable_defined?",function(M){var V=this;return M=ee["$class_variable_name!"](M),$.class_variables(V).hasOwnProperty(M)}),P(e,"$const_added",k(H)),ee.$pristine(e,"const_added"),P(e,"$remove_class_variable",function(M){var V=this;if(Q(V),M=ee["$class_variable_name!"](M),$.hasOwnProperty.call(V.$$cvars,M)){var O=V.$$cvars[M];return delete V.$$cvars[M],O}else X.$raise(_("NameError"),"cannot remove "+M+" for "+V)}),P(e,"$constants",function(M){var V=this;return M==null&&(M=!0),$.constants(V,M)},-1),x(e,"$constants",function(M){var V=this;if(M==null){var O=(V.$$nesting||[]).concat(z),ae,le={},_e,de;for(_e=0,de=O.length;_e<de;_e++)for(ae in O[_e].$$const)le[ae]=!0;return Object.keys(le)}else return $.constants(V,M)},-1),x(e,"$nesting",function(){var M=this;return M.$$nesting||[]}),P(e,"$const_defined?",function(M,V){var O=this;V==null&&(V=!0),M=i("Opal")["$const_name!"](M),q(M["$=~"](_(ee,"CONST_NAME_REGEXP")))||X.$raise(_("NameError").$new("wrong constant name "+M,M));var ae,le=[O],_e,de;for(V&&(le=le.concat($.ancestors(O)),O.$$is_module&&(le=le.concat([z]).concat($.ancestors(z)))),_e=0,de=le.length;_e<de;_e++)if(ae=le[_e],ae.$$const[M]!=null||ae.$$autoload&&ae.$$autoload[M]&&!ae.$$autoload[M].required&&!ae.$$autoload[M].success)return!0;return!1},-2),P(e,"$const_get",function(M,V){var O=this;return V==null&&(V=!0),M=i("Opal")["$const_name!"](M),M.indexOf("::")===0&&M!=="::"&&(M=M.slice(2)),q(M.indexOf("::")!=-1&&M!="::")?p(M.$split("::"),"inject",[O],function(le,_e){return le==null&&(le=H),_e==null&&(_e=H),le.$const_get(_e)}):(q(M["$=~"](_(ee,"CONST_NAME_REGEXP")))||X.$raise(_("NameError").$new("wrong constant name "+M,M)),V?$.$$([O],M):$.const_get_local(O,M))},-2),P(e,"$const_missing",function(M){var V=this,O=H;return O=E(V,z)?M:""+V+"::"+M,X.$raise(_("NameError").$new("uninitialized constant "+O,M))}),P(e,"$const_set",function(M,V){var O=this;return Q(O),M=ee["$const_name!"](M),(q(M["$!~"](_(ee,"CONST_NAME_REGEXP")))||q(M["$start_with?"]("::")))&&X.$raise(_("NameError").$new("wrong constant name "+M,M)),D(O,M,V),V}),P(e,"$public_constant",k(H)),P(e,"$define_method",function C(M,V){var O=C.$$p||H,ae=this,le=H,_e=H,de=H;return C.$$p=null,Q(ae),V===void 0&&O===H&&X.$raise(_("ArgumentError"),"tried to create a Proc object without a block"),M=a(M),q(V!==void 0)&&(O=G(_("Proc"),le=V)?V:G(_("Method"),le)?V.$to_proc().$$unbound:G(_("UnboundMethod"),le)?$.wrap_method_body(V.$$method):X.$raise(_("TypeError"),"wrong argument type "+V.$class()+" (expected Proc/Method/UnboundMethod)"),q(!V.$$is_proc)&&(_e=V.$owner(),q(_e.$$is_class)&&u(d(ae,_e))&&(de=q(_e.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+_e,X.$raise(_("TypeError"),de)))),typeof Proxy<"u"&&(O.$$proxy_target=O,O=new Proxy(O,{apply:function(ge,ve,me){var be=ge.$$jsid,ie=ge.$$is_lambda;ge.$$jsid=M,ge.$$is_lambda=!0;try{return ge.apply(ve,me)}catch(N){if(N===ge.$$brk||N===ge.$$ret)return N.$v;throw N}finally{ge.$$jsid=be,ge.$$is_lambda=ie}}})),O.$$jsid=M,O.$$s=null,O.$$def=O,O.$$define_meth=!0,$.defn(ae,$e(M),O)},-2),P(e,"$freeze",function(){var M=this;return q(M["$frozen?"]())?M:(M.hasOwnProperty("$$base_module")||K(M,"$$base_module",null),v(M))}),P(e,"$remove_method",function(M){var V,O,ae=this;V=A(arguments),O=V;for(var le=0;le<O.length;le++){var _e=a(O[le]);Q(ae),$.rdef(ae,"$"+_e)}return ae},-1),P(e,"$singleton_class?",function(){var M=this;return!!M.$$is_singleton}),P(e,"$include",function(M){var V,O,ae=this;V=A(arguments),O=V;for(var le=O.length-1;le>=0;le--){var _e=O[le];_e.$$is_module||X.$raise(_("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$append_features(ae),_e.$included(ae)}return ae},-1),P(e,"$included_modules",function(){var M=this;return $.included_modules(M)}),P(e,"$include?",function(M){var V=this;M.$$is_module||X.$raise(_("TypeError"),"wrong argument type "+M.$class()+" (expected Module)");var O,ae,le,_e=$.ancestors(V);for(O=0,ae=_e.length;O<ae;O++)if(le=_e[O],le===M&&le!==V)return!0;return!1}),P(e,"$instance_method",function(M){var V=this,O=V.$$prototype[$e(M)];return(!O||O.$$stub)&&X.$raise(_("NameError").$new("undefined method `"+M+"' for class `"+V.$name()+"'",M)),_("UnboundMethod").$new(V,O.$$owner||V,O,M)}),P(e,"$instance_methods",function(M){var V=this;return M==null&&(M=!0),q(M)?$.instance_methods(V):$.own_instance_methods(V)},-1),P(e,"$included",k(H)),P(e,"$extended",k(H)),P(e,"$extend_object",function(M){return Q(M),H}),P(e,"$method_added",function(M){return A(arguments),H},-1),P(e,"$method_removed",function(M){return A(arguments),H},-1),P(e,"$method_undefined",function(M){return A(arguments),H},-1),P(e,"$module_eval",function C(M){var V=C.$$p||H,O,ae,le,_e=this,de=H,ge=H,ve=H,me=H,be=H,ie=H;C.$$p=null,O=A(arguments),ae=O,q(V["$nil?"]())&&q(!!$.compile)?(q(S(1,3,!1)["$cover?"](ae.$size()))||X.$raise(_("ArgumentError"),"wrong number of arguments (0 for 1..3)"),le=[].concat(F(ae)),de=le[0]==null?H:le[0],ge=le[1]==null?H:le[1],le[2]==null||le[2],ve=new Map([["file",q(me=ge)?me:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(ve),ie=ee.$compile(de,be),V=p(X,"proc",[],function Y(){var W=Y.$$s==null?this:Y.$$s;return new Function("Opal,self","return "+ie)($,W)},{$$s:_e})):q(ae["$any?"]())&&X.$raise(_("ArgumentError"),"wrong number of arguments ("+ae.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var N=V.$$s,j;return V.$$s=null,j=V.apply(_e,[_e]),V.$$s=N,j},-1),P(e,"$module_exec",function C(M){var V=C.$$p||H,O,ae,le=this;C.$$p=null,O=A(arguments),ae=O,V===H&&X.$raise(_("LocalJumpError"),"no block given");var _e=V.$$s,de;return V.$$s=null,de=V.apply(le,ae),V.$$s=_e,de},-1),P(e,"$method_defined?",function(M){var V=this,O=V.$$prototype[$e(M)];return!!O&&!O.$$stub}),P(e,"$module_function",function(M){var V,O,ae=this;if(V=A(arguments),O=V,Q(ae),O.length===0)return ae.$$module_function=!0,H;for(var le=0,_e=O.length;le<_e;le++){var de=O[le],ge=$e(de),ve=ae.$$prototype[ge];$.defs(ae,ge,ve)}return O.length===1?O[0]:O},-1),P(e,"$name",function(){var M=this;if(M.$$full_name)return M.$$full_name;for(var V=[],O=M;O;){if(O.$$name===H||O.$$name==null)return H;if(V.unshift(O.$$name),O=O.$$base_module,O===z)break}return V.length===0?H:M.$$full_name=V.join("::")}),P(e,"$prepend",function(M){var V,O,ae=this;V=A(arguments),O=V,O.length===0&&X.$raise(_("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var le=O.length-1;le>=0;le--){var _e=O[le];_e.$$is_module||X.$raise(_("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$prepend_features(ae),_e.$prepended(ae)}return ae},-1),P(e,"$prepend_features",function(M){var V=this;return Q(M),V.$$is_module||X.$raise(_("TypeError"),"wrong argument type "+V.$class()+" (expected Module)"),$.prepend_features(V,M),V}),P(e,"$prepended",k(H)),P(e,"$remove_const",function(M){var V=this;return Q(V),$.const_remove(V,M)}),P(e,"$to_s",function(){var M=this,V=H;return q(V=$.Module.$name.call(M))?V:"#<"+(M.$$is_module?"Module":"Class")+":0x"+M.$__id__().$to_s(16)+">"}),P(e,"$undef_method",function(M){var V,O,ae=this;V=A(arguments),O=V;for(var le=0;le<O.length;le++){var _e=a(O[le]);Q(ae),$.udef(ae,"$"+_e)}return ae},-1),P(e,"$instance_variables",function(){var M=this,V=H;V=($.Module.$$nesting=t,M.$constants());var O=[];return Z(M,function(ae){ae!=="constructor"&&!V["$include?"](ae)&&O.push("@"+ae)}),O});function o(C,M){var V,O=$.own_instance_methods(C);for(V=0;V<O.length;V++){var ae=O[V],le=$e(ae),_e=C.$$prototype[le],de=$.wrap_method_body(_e);de.$$jsid=ae,$.defn(M,le,de)}}function g(C,M){for(var V=C.$$own_included_modules,O=V.length-1;O>=0;O--)$.append_features(V[O],M)}function I(C,M){for(var V=C.$$own_prepended_modules,O=V.length-1;O>=0;O--)$.prepend_features(V[O],M)}return P(e,"$initialize_copy",function(M){var V=this;return o(M,V),g(M,V),I(M,V),V.$$cloned_from=M.$$cloned_from.concat(M),V.$copy_class_variables(M),V.$copy_constants(M)}),P(e,"$initialize_dup",function C(M){var V=C.$$p||H,O=this;return C.$$p=null,h(O,c(O,"initialize_dup",C,!1,!0),"initialize_dup",[M],V),O.$copy_singleton_methods(M)}),P(e,"$copy_class_variables",function(M){var V=this;for(var O in M.$$cvars)V.$$cvars[O]=M.$$cvars[O]}),P(e,"$copy_constants",function(M){var V=this,O,ae=M.$$const;for(O in ae)D(V,O,ae[O])}),P(e,"$refine",function C(M){var V=C.$$p||H,O,ae=this,le=H,_e=H,de=H;return C.$$p=null,O=[ae,H,H],le=O[0],_e=O[1],de=O[2],de=$.id(M),typeof ae.$$refine_modules>"u"&&(ae.$$refine_modules=Object.create(null)),typeof ae.$$refine_modules[de]>"u"?_e=ae.$$refine_modules[de]=_("Refinement").$new():_e=ae.$$refine_modules[de],_e.refinement_module=le,_e.refined_class=M,p(_e,"class_exec",[],V.$to_proc()),_e}),P(e,"$refinements",function(){var M=this,V=M.$$refine_modules,O=new Map;if(typeof V>"u")return O;for(var ae in V)O["$[]="](V[ae].refined_class,V[ae]);return O}),P(e,"$using",function(M){return X.$raise("Module#using is not permitted in methods")}),l(e,"class_eval","module_eval"),l(e,"class_exec","module_exec"),l(e,"inspect","to_s")}("::",null,w),function(s,n){var r=U(s,n,"Refinement"),e=r.$$prototype;return e.refinement_module=e.refined_class=H,r.$attr_reader("refined_class"),P(r,"$inspect",function t(){var i=t.$$p||H,a=this;return t.$$p=null,q(a.refinement_module)?"#<refinement:"+a.refined_class.$inspect()+"@"+a.refinement_module.$inspect()+">":h(a,c(a,"inspect",t,!1,!0),"inspect",[],i)})}("::",T)};Opal.modules["corelib/class"]=function($){var q=$.klass,y=$.send,D=$.defs,z=$.def,re=$.ensure_kwargs,J=$.hash_get,R=$.eqeq,Q=$.truthy,v=$.rb_plus,K=$.return_val,$e=$.slice,Z=$.send2,U=$.find_super,ee=$.Kernel,X=$.alias,x=$.top,p=[],P=$.nil,G=$.$$$;return $.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),x.$require("corelib/module"),function(T,B,b){var A=q(T,B,"Class"),F=[A].concat(b),k=$.$r(F);return D(A,"$new",function E(u){var d=E.$$p||P;if(E.$$p=null,u==null&&(u=k("Object")),!u.$$is_class)throw $.TypeError.$new("superclass must be a Class");var S=$.allocate_class(P,u);return u.$inherited(S),d!==P&&y(S,"class_eval",[],d.$to_proc()),S},-1),z(A,"$allocate",function(){var u=this,d=new u.$$constructor;return d.$$id=$.uid(),d}),z(A,"$clone",function(u){var d,S=this,h=P;return u=re(u),d=J(u,"freeze"),d==null&&(d=P),Q(d["$nil?"]())||R(d,!0)||R(d,!1)||S.$raise(k("ArgumentError"),"unexpected value for freeze: "+d.$class()),h=$.allocate_class(P,S.$$super),h.$copy_instance_variables(S),h.$copy_singleton_methods(S),h.$initialize_clone(S,new Map([["freeze",d]])),(R(d,!0)||Q(d["$nil?"]())&&Q(S["$frozen?"]()))&&h.$freeze(),h},-1),z(A,"$dup",function(){var u=this,d=P;return d=$.allocate_class(P,u.$$super),d.$copy_instance_variables(u),d.$initialize_dup(u),d}),z(A,"$descendants",function(){var u=this;return v(u.$subclasses(),y(u.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),z(A,"$inherited",K(P)),z(A,"$new",function E(u){var d=E.$$p||P,S,h,c=this;E.$$p=null,S=$e(arguments),h=S;var l=c.$allocate();return $.send(l,l.$initialize,h,d),l},-1),z(A,"$subclasses",function(){var u=this;if(typeof WeakRef<"u"){var d,S,h=[];for(d=0;d<u.$$subclasses.length;d++)S=u.$$subclasses[d].deref(),S!==void 0&&h.push(S);return h}else return u.$$subclasses}),z(A,"$superclass",function(){var u=this;return u.$$super||P}),z(A,"$to_s",function E(){E.$$p;var u=this;E.$$p=null;var d=u.$$singleton_of;return d&&d.$$is_a_module?"#<Class:"+d.$name()+">":d?"#<Class:#<"+d.$$class.$name()+":0x"+$.id(d).$to_s(16)+">>":Z(u,U(u,"to_s",E,!1,!0),"to_s",[],null)}),z(A,"$attached_object",function(){var u=this;if(u.$$singleton_of!=null)return u.$$singleton_of;ee.$raise(G("TypeError"),"`"+u+"' is not a singleton class")}),X(A,"inspect","to_s")}("::",null,p)};Opal.modules["corelib/basic_object"]=function($){var q=$.klass,y=$.slice,D=$.def,z=$.alias,re=$.return_val,J=$.Opal,R=$.truthy,Q=$.range,v=$.Kernel,K=$.to_a,$e=$.send,Z=$.eqeq,U=$.rb_ge,ee=$.nil,X=$.$$$;return $.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(x,p){var P=q(x,p,"BasicObject");return D(P,"$initialize",function(T){return y(arguments),ee},-1),D(P,"$==",function(T){var B=this;return B===T}),D(P,"$eql?",function(T){var B=this;return B["$=="](T)}),z(P,"equal?","=="),D(P,"$__id__",function(){var T=this;return T.$$id!=null||$.prop(T,"$$id",$.uid()),T.$$id}),D(P,"$__send__",function G(T,B){var b=G.$$p||ee,A,F,k=this;G.$$p=null,A=y(arguments,1),F=A,T.$$is_string||k.$raise(X("TypeError"),""+k.$inspect()+" is not a symbol nor a string");var E=k[$.jsid(T)];return E?(b!==ee&&(E.$$p=b),E.apply(k,F)):(b!==ee&&(k.$method_missing.$$p=b),k.$method_missing.apply(k,[T].concat(F)))},-2),D(P,"$!",re(!1)),J.$pristine("!"),D(P,"$!=",function(T){var B=this;return B["$=="](T)["$!"]()}),D(P,"$instance_eval",function G(T){var B=G.$$p||ee,b,A,F,k=this,E=ee,u=ee,d=ee,S=ee,h=ee,c=ee;if(G.$$p=null,b=y(arguments),A=b,R(B["$nil?"]())&&R(!!$.compile))R(Q(1,3,!1)["$cover?"](A.$size()))||v.$raise(X("ArgumentError"),"wrong number of arguments (0 for 1..3)"),F=[].concat(K(A)),E=F[0]==null?ee:F[0],u=F[1]==null?ee:F[1],F[2]==null||F[2],d=new Map([["file",R(S=u)?S:"(eval)"],["eval",!0]]),h=new Map([["arity_check",!1]]).$merge(d),c=J.$compile(E,h),B=$e(v,"proc",[],function H(){var _=H.$$s==null?this:H.$$s;return new Function("Opal,self","return "+c)($,_)},{$$s:k});else{if(R(B["$nil?"]())&&R(U(A.$length(),1))&&Z(A.$first()["$[]"](0),"@"))return k.$instance_variable_get(A.$first());R(A["$any?"]())&&v.$raise(X("ArgumentError"),"wrong number of arguments ("+A.$size()+" for 0)")}var l=B.$$s,w;if(B.$$s=null,k.$$is_a_module){k.$$eval=!0;try{w=B.call(k,k)}finally{k.$$eval=!1}}else w=B.call(k,k);return B.$$s=l,w},-1),D(P,"$instance_exec",function G(T){var B=G.$$p||ee,b,A,F=this;G.$$p=null,b=y(arguments),A=b,R(B)||v.$raise(X("ArgumentError"),"no block given");var k=B.$$s,E;if(B.$$s=null,F.$$is_a_module){F.$$eval=!0;try{E=B.apply(F,A)}finally{F.$$eval=!1}}else E=B.apply(F,A);return B.$$s=k,E},-1),D(P,"$singleton_method_added",function(T){return y(arguments),ee},-1),D(P,"$singleton_method_removed",function(T){return y(arguments),ee},-1),D(P,"$singleton_method_undefined",function(T){return y(arguments),ee},-1),D(P,"$method_missing",function G(T,B){G.$$p;var b,A,F=this,k=ee;return G.$$p=null,b=y(arguments,1),A=b,k=J.$inspect(F),v.$raise(X("NoMethodError").$new("undefined method `"+T+"' for "+k,T,A),ee,v.$caller(1))},-2),J.$pristine(P,"method_missing"),D(P,"$respond_to_missing?",function(T,B){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function($){var q=$.truthy,y=$.coerce_to,D=$.respond_to,z=$.Opal,re=$.deny_frozen_access,J=$.freeze,R=$.freeze_props,Q=$.jsid,v=$.each_ivar,K=$.module,$e=$.return_val,Z=$.def,U=$.Kernel,ee=$.gvars,X=$.slice,x=$.send,p=$.to_a,P=$.ensure_kwargs,G=$.hash_get,T=$.eqeq,B=$.rb_plus,b=$.extract_kwargs,A=$.eqeqeq,F=$.return_self,k=$.rb_le,E=$.rb_lt,u=$.Object,d=$.alias,S=$.klass,h=[],c=$.nil,l=$.$$$;return $.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(w,H){var _=K(w,"Kernel"),s=[_].concat(H),n=$.$r(s);Z(_,"$=~",$e(!1)),Z(_,"$!~",function(t){var i=this;return i["$=~"](t)["$!"]()}),Z(_,"$===",function(t){var i=this,a=c;return q(a=i.$object_id()["$=="](t.$object_id()))?a:i["$=="](t)}),Z(_,"$<=>",function(t){var i=this;i.$$comparable=!0;var a=i["$=="](t);return a&&a!==c?0:c}),Z(_,"$method",function(t){var i=this,a=i[Q(t)];return(!a||a.$$stub)&&U.$raise(l("NameError").$new("undefined method `"+t+"' for class `"+i.$class()+"'",t)),l("Method").$new(i,a.$$owner||i.$class(),a,t)}),Z(_,"$methods",function(t){var i=this;return t==null&&(t=!0),q(t)?$.methods(i):$.own_methods(i)},-1),Z(_,"$public_methods",function(t){var i=this;return t==null&&(t=!0),q(t)?$.methods(i):$.receiver_methods(i)},-1),Z(_,"$Array",function(t){var i;return t===c?[]:t.$$is_array?t:(i=z["$coerce_to?"](t,l("Array"),"to_ary"),i!==c||(i=z["$coerce_to?"](t,l("Array"),"to_a"),i!==c)?i:[t])}),Z(_,"$at_exit",function e(){var t=e.$$p||c,i=c;return ee.__at_exit__==null&&(ee.__at_exit__=c),e.$$p=null,ee.__at_exit__=q(i=ee.__at_exit__)?i:[],ee.__at_exit__["$<<"](t),t}),Z(_,"$caller",function(t,i){t==null&&(t=1),i==null&&(i=c);var a,o;a=new Error().$backtrace(),o=[];for(var g=t+1,I=a.length;g<I;g++)a[g].match(/runtime\.js/)||o.push(a[g]);return i!=c&&(o=o.slice(0,i)),o},-1),Z(_,"$caller_locations",function(t){var i,a,o=this;return i=X(arguments),a=i,x(x(o,"caller",p(a)),"map",[],function(I){return I==null&&(I=c),l(l(l("Thread"),"Backtrace"),"Location").$new(I)})},-1),Z(_,"$class",function(){var t=this;return t.$$class}),Z(_,"$copy_instance_variables",function(t){var i=this,a=Object.keys(t),o,g,I;for(o=0,g=a.length;o<g;o++)I=a[o],I.charAt(0)!=="$"&&t.hasOwnProperty(I)&&(i[I]=t[I])}),Z(_,"$copy_singleton_methods",function(t){var i=this,a,o,g,I;if(t.hasOwnProperty("$$meta")&&t.$$meta!==null){var C=$.get_singleton_class(t),M=$.get_singleton_class(i);for(g=Object.getOwnPropertyNames(C.$$prototype),a=0,I=g.length;a<I;a++)o=g[a],$.is_method(o)&&(M.$$prototype[o]=C.$$prototype[o]);M.$$const=Object.assign({},C.$$const),Object.setPrototypeOf(M.$$prototype,Object.getPrototypeOf(C.$$prototype))}for(a=0,g=Object.getOwnPropertyNames(t),I=g.length;a<I;a++)o=g[a],o.charAt(0)==="$"&&o.charAt(1)!=="$"&&t.hasOwnProperty(o)&&(i[o]=t[o])}),Z(_,"$clone",function(t){var i,a=this,o=c;return t=P(t),i=G(t,"freeze"),i==null&&(i=c),q(i["$nil?"]())||T(i,!0)||T(i,!1)||a.$raise(n("ArgumentError"),"unexpected value for freeze: "+i.$class()),o=a.$class().$allocate(),o.$copy_instance_variables(a),o.$copy_singleton_methods(a),o.$initialize_clone(a,new Map([["freeze",i]])),(T(i,!0)||q(i["$nil?"]())&&q(a["$frozen?"]()))&&o.$freeze(),o},-1),Z(_,"$initialize_clone",function(t,i){var a=this;return i=P(i),G(i,"freeze"),a.$initialize_copy(t),a},-2),Z(_,"$define_singleton_method",function e(t,i){var a=e.$$p||c,o=this;return e.$$p=null,x(o.$singleton_class(),"define_method",[t,i],a.$to_proc())},-2),Z(_,"$dup",function(){var t=this,i=c;return i=t.$class().$allocate(),i.$copy_instance_variables(t),i.$initialize_dup(t),i}),Z(_,"$initialize_dup",function(t){var i=this;return i.$initialize_copy(t)}),Z(_,"$enum_for",function e(t,i){var a=e.$$p||c,o,g,I,C=this;return e.$$p=null,o=X(arguments),o.length>0&&(g=o.shift()),g==null&&(g="each"),I=o,x(l("Enumerator"),"for",[C,g].concat(p(I)),a.$to_proc())},-1),Z(_,"$equal?",function(t){var i=this;return i===t}),Z(_,"$exit",function(t){var i=c,a=c;for(ee.__at_exit__==null&&(ee.__at_exit__=c),t==null&&(t=!0),ee.__at_exit__=q(i=ee.__at_exit__)?i:[];!q(ee.__at_exit__["$empty?"]());)a=ee.__at_exit__.$pop(),a.$call();return t.$$is_boolean?t=t?0:1:t=y(t,l("Integer"),"to_int"),$.exit(t),c},-1),Z(_,"$extend",function(t){var i,a,o=this;i=X(arguments),a=i,a.length==0&&o.$raise(l("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),re(o);for(var g=o.$singleton_class(),I=a.length-1;I>=0;I--){var C=a[I];C.$$is_module||U.$raise(l("TypeError"),"wrong argument type "+C.$class()+" (expected Module)"),C.$append_features(g),C.$extend_object(o),C.$extended(o)}return o},-1),Z(_,"$freeze",function(){var t=this;return q(t["$frozen?"]())?t:typeof t=="object"?(R(t),J(t)):t}),Z(_,"$frozen?",function(){var t=this;switch(typeof t){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return t.$$frozen||!1;default:return!1}}),Z(_,"$gets",function(t){var i,a;return ee.stdin==null&&(ee.stdin=c),i=X(arguments),a=i,x(ee.stdin,"gets",p(a))},-1),Z(_,"$hash",function(){var t=this;return t.$__id__()}),Z(_,"$initialize_copy",$e(c));var r=[];return Z(_,"$inspect",function(){var t=this,i=c,a=c,o=c,g=c;return function(){try{try{return i="",a=t.$__id__(),q(r["$include?"](a))?i=" ...":(r["$<<"](a),o=!0,x(t.$instance_variables(),"each",[],function I(C){var M=I.$$s==null?this:I.$$s,V=c,O=c;return C==null&&(C=c),V=M.$instance_variable_get(C),O=n("Opal").$inspect(V),i=B(i," "+C+"="+O)},{$$s:t})),"#<"+t.$class()+":0x"+a.$to_s(16)+i+">"}catch(I){if($.rescue(I,[n("StandardError")])){g=I;try{return"#<"+t.$class()+":0x"+a.$to_s(16)+">"}finally{$.pop_exception(I)}}else throw I}}finally{q(o)&&r.$pop()}}()}),Z(_,"$instance_of?",function(t){var i=this;return!t.$$is_class&&!t.$$is_module&&U.$raise(l("TypeError"),"class or module required"),i.$$class===t}),Z(_,"$instance_variable_defined?",function(t){var i=this;return t=z["$instance_variable_name!"](t),$.hasOwnProperty.call(i,t.substr(1))}),Z(_,"$instance_variable_get",function(t){var i=this;t=z["$instance_variable_name!"](t);var a=i[$.ivar(t.substr(1))];return a??c}),Z(_,"$instance_variable_set",function(t,i){var a=this;return re(a),t=z["$instance_variable_name!"](t),a[$.ivar(t.substr(1))]=i}),Z(_,"$remove_instance_variable",function(t){var i=this;t=z["$instance_variable_name!"](t);var a=$.ivar(t.substr(1)),o;return i.hasOwnProperty(a)?(o=i[a],delete i[a],o):U.$raise(l("NameError"),"instance variable "+t+" not defined")}),Z(_,"$instance_variables",function(){var t=this,i=[];return v(t,function(a){a.substr(-1)==="$"&&(a=a.slice(0,a.length-1)),i.push("@"+a)}),i}),Z(_,"$Integer",function(t,i,a){var o,g,I,C;o=X(arguments,1),g=b(o),g=P(g),o.length>0&&(I=o.shift()),C=G(g,"exception"),C==null&&(C=!0);var M,V,O;if(C=q(C),!t.$$is_string){if(I!==void 0)if(C)U.$raise(l("ArgumentError"),"base specified for non string value");else return c;if(t===c)if(C)U.$raise(l("TypeError"),"can't convert nil into Integer");else return c;if(t.$$is_number){if(t===1/0||t===-1/0||isNaN(t))if(C)U.$raise(l("FloatDomainError"),t);else return c;return Math.floor(t)}if(t["$respond_to?"]("to_int")&&(M=t.$to_int(),$.is_a(M,l("Integer")))||t["$respond_to?"]("to_i")&&(M=t.$to_i(),$.is_a(M,l("Integer"))))return M;if(C)U.$raise(l("TypeError"),"can't convert "+t.$class()+" into Integer");else return c}if(t==="0")return 0;if(I===void 0)I=0;else if(I=y(I,l("Integer"),"to_int"),I===1||I<0||I>36)if(C)U.$raise(l("ArgumentError"),"invalid radix "+I);else return c;if(V=t.toLowerCase(),V=V.replace(/(\d)_(?=\d)/g,"$1"),V=V.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ae,le,_e){switch(_e){case"0b":if(I===0||I===2)return I=2,le;case"0":case"0o":if(I===0||I===8)return I=8,le;case"0d":if(I===0||I===10)return I=10,le;case"0x":if(I===0||I===16)return I=16,le}if(C)U.$raise(l("ArgumentError"),'invalid value for Integer(): "'+t+'"');else return c}),I=I===0?10:I,O="0-"+(I<=10?I-1:"9a-"+String.fromCharCode(97+(I-11))),!new RegExp("^\\s*[+-]?["+O+"]+\\s*$").test(V))if(C)U.$raise(l("ArgumentError"),'invalid value for Integer(): "'+t+'"');else return c;if(M=parseInt(V,I),isNaN(M))if(C)U.$raise(l("ArgumentError"),'invalid value for Integer(): "'+t+'"');else return c;return M},-2),Z(_,"$Float",function(t,i){var a;i=P(i),a=G(i,"exception"),a==null&&(a=!0);var o;if(a=q(a),t===c)if(a)U.$raise(l("TypeError"),"can't convert nil into Float");else return c;if(t.$$is_string){if(o=t.toString(),o=o.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(o))return U.$Integer(o);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(o))if(a)U.$raise(l("ArgumentError"),'invalid value for Float(): "'+t+'"');else return c;return parseFloat(o)}return a?z["$coerce_to!"](t,l("Float"),"to_f"):y(t,l("Float"),"to_f")},-2),Z(_,"$Hash",function(t){return q(t["$nil?"]())||T(t,[])?new Map:A(l("Hash"),t)?t:z["$coerce_to!"](t,l("Hash"),"to_hash")}),Z(_,"$is_a?",function(t){var i=this;return!t.$$is_class&&!t.$$is_module&&U.$raise(l("TypeError"),"class or module required"),$.is_a(i,t)}),Z(_,"$itself",F),Z(_,"$lambda",function e(){var t=e.$$p||c;return e.$$p=null,$.lambda(t)}),Z(_,"$load",function(t){return t=z["$coerce_to!"](t,l("String"),"to_str"),$.load(t)}),Z(_,"$loop",function e(){var t=e.$$p||c,i=this,a=c;if(e.$$p=null,t===c)return x(i,"enum_for",["loop"],function(){return l(l("Float"),"INFINITY")});for(;q(!0);)try{$.yieldX(t,[])}catch(o){if($.rescue(o,[l("StopIteration")])){a=o;try{return a.$result()}finally{$.pop_exception(o)}}else throw o}return i}),Z(_,"$nil?",$e(!1)),Z(_,"$printf",function(t){var i,a,o=this,g=c;return ee.stdout==null&&(ee.stdout=c),i=X(arguments),a=i,q(a["$empty?"]())||(g=q(a[0].$$is_string)?ee.stdout:a.$shift(),g.$write(x(o,"format",p(a)))),c},-1),Z(_,"$proc",function e(){var t=e.$$p||c;return e.$$p=null,q(t)||U.$raise(l("ArgumentError"),"tried to create Proc object without a block"),t.$$is_lambda=!1,t}),Z(_,"$puts",function(t){var i,a;return ee.stdout==null&&(ee.stdout=c),i=X(arguments),a=i,x(ee.stdout,"puts",p(a))},-1),Z(_,"$p",function(t){var i,a;return i=X(arguments),a=i,x(a,"each",[],function(g){return ee.stdout==null&&(ee.stdout=c),g==null&&(g=c),ee.stdout.$puts(g.$inspect())}),q(k(a.$length(),1))?a["$[]"](0):a},-1),Z(_,"$print",function(t){var i,a;return ee.stdout==null&&(ee.stdout=c),i=X(arguments),a=i,x(ee.stdout,"print",p(a))},-1),Z(_,"$readline",function(t){var i,a;return ee.stdin==null&&(ee.stdin=c),i=X(arguments),a=i,x(ee.stdin,"readline",p(a))},-1),Z(_,"$warn",function(t,i){var a,o,g,I,C,M,V=this,O=c;return ee.VERBOSE==null&&(ee.VERBOSE=c),ee.stderr==null&&(ee.stderr=c),a=X(arguments),o=b(a),o=P(o),g=a,I=G(o,"uplevel"),I==null&&(I=c),q(I)&&(I=z["$coerce_to!"](I,l("Integer"),"to_str"),q(E(I,0))&&U.$raise(l("ArgumentError"),"negative level ("+I+")"),O=(C=(M=V.$caller(B(I,1),1).$first(),M===c||M==null?c:M.$split(":in `")),C===c||C==null?c:C.$first()),q(O)&&(O=""+O+": "),g=x(g,"map",[],function(le){return le==null&&(le=c),""+O+"warning: "+le})),q(ee.VERBOSE["$nil?"]())||q(g["$empty?"]())?c:x(ee.stderr,"puts",p(g))},-1),Z(_,"$raise",function(t,i,a){throw ee["!"]==null&&(ee["!"]=c),i==null&&(i=c),a==null&&(a=c),t==null&&ee["!"]!==c?ee["!"]:(t==null?t=l("RuntimeError").$new(""):D(t,"$to_str")?t=l("RuntimeError").$new(t.$to_str()):t.$$is_class&&D(t,"$exception")?t=t.$exception(i):t.$$is_exception||(t=l("TypeError").$new("exception class/object expected")),a!==c&&t.$set_backtrace(a),ee["!"]!==c&&$.exceptions.push(ee["!"]),ee["!"]=t,t)},-1),Z(_,"$rand",function(t){return t===void 0?l(l("Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!==0&&(t=t.$to_i()),t===0&&(t=void 0)),l(l("Random"),"DEFAULT").$rand(t))},-1),Z(_,"$respond_to?",function(t,i){var a=this;i==null&&(i=!1);var o=a[Q(t)];return typeof o=="function"&&!o.$$stub?!0:a["$respond_to_missing?"].$$pristine===!0?!1:a["$respond_to_missing?"](t,i)},-2),Z(_,"$respond_to_missing?",function(t,i){return!1},-2),z.$pristine(_,"respond_to?","respond_to_missing?"),Z(_,"$require",function(t){return typeof t!="string"&&$.String&&$.Array&&(t=z["$coerce_to!"](t,l("String"),"to_str")),$.require(t)}),Z(_,"$require_relative",function(t){return z["$try_convert!"](t,l("String"),"to_str"),t=l("File").$expand_path(l("File").$join($.current_file,"..",t)),$.require(t)}),Z(_,"$require_tree",function(t,i){var a;i=P(i),a=G(i,"autoload"),a==null&&(a=!1);var o=[];t=l("File").$expand_path(t),t=$.normalize(t),t==="."&&(t="");for(var g in $.modules)g["$start_with?"](t)&&(a?o.push([g,!0]):o.push([g,$.require(g)]));return o},-2),Z(_,"$singleton_class",function(){var t=this;return $.get_singleton_class(t)}),Z(_,"$sleep",function(t){t==null&&(t=c),t===c&&U.$raise(l("TypeError"),"can't convert NilClass into time interval"),t.$$is_number||U.$raise(l("TypeError"),"can't convert "+t.$class()+" into time interval"),t<0&&U.$raise(l("ArgumentError"),"time interval must be positive");for(var i=$.global.performance?function(){return performance.now()}:function(){return new Date},a=i();i()-a<=t*1e3;);return Math.round(t)},-1),Z(_,"$srand",function(t){return t==null&&(t=n("Random").$new_seed()),l("Random").$srand(t)},-1),Z(_,"$String",function(t){var i=c;return q(i=z["$coerce_to?"](t,l("String"),"to_str"))?i:z["$coerce_to!"](t,l("String"),"to_s")}),Z(_,"$tap",function e(){var t=e.$$p||c,i=this;return e.$$p=null,$.yield1(t,i),i}),Z(_,"$to_proc",F),Z(_,"$to_s",function(){var t=this;return"#<"+t.$class()+":0x"+t.$__id__().$to_s(16)+">"}),Z(_,"$catch",function e(t){var i=e.$$p||c,a=c,o=c;e.$$p=null,t==null&&(t=c);try{return t=q(a=t)?a:u.$new(),$.yield1(i,t)}catch(g){if($.rescue(g,[l("UncaughtThrowError")])){o=g;try{return T(o.$tag(),t)?o.$value():U.$raise()}finally{$.pop_exception(g)}}else throw g}},-1),Z(_,"$throw",function(t,i){return i==null&&(i=c),U.$raise(l("UncaughtThrowError").$new(t,i))},-2),Z(_,"$open",function e(t){var i=e.$$p||c,a,o;return e.$$p=null,a=X(arguments),o=a,x(l("File"),"open",p(o),i.$to_proc())},-1),Z(_,"$yield_self",function e(){var t=e.$$p||c,i=this;return e.$$p=null,t===c?x(i,"enum_for",["yield_self"],$e(1)):$.yield1(t,i)}),d(_,"fail","raise"),d(_,"kind_of?","is_a?"),d(_,"object_id","__id__"),d(_,"public_send","__send__"),d(_,"send","__send__"),d(_,"then","yield_self"),d(_,"to_enum","enum_for")}("::",h),function(w,H){var _=S(w,H,"Object");return delete u.$$prototype.$require,_.$include(U)}("::",null)};Opal.modules["corelib/main"]=function($){var q=$.return_val,y=$.def,D=$.Object,z=$.slice,re=$.Kernel,J=$.top;return $.nil,$.add_stubs("include,raise"),function(R,Q){return y(R,"$to_s",q("main")),y(R,"$include",function(K){return D.$include(K)}),y(R,"$autoload",function(K){var $e,Z;return $e=z(arguments),Z=$e,$.Object.$autoload.apply($.Object,Z)},-1),y(R,"$using",function(K){return re.$raise("main.using is permitted only at toplevel")})}($.get_singleton_class(J))};Opal.modules["corelib/error/errno"]=function($){var q=$.module,y=$.truthy,D=$.rb_plus,z=$.send2,re=$.find_super,J=$.def,R=$.klass,Q=$.nil,v=$.$$$;return $.add_stubs("+,errno,class,attr_reader"),function(K,$e){var Z=q(K,"Errno"),U=Q,ee=Q;U=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],ee=Q;var X;for(X=0;X<U.length;X++)(function(){var x=U[X][0],p=U[X][1],P=U[X][2];ee=$.klass(Z,$.SystemCallError,x),ee.errno=P,function(G,T){return J(G,"$new",function B(b){B.$$p;var A=this,F=Q;return B.$$p=null,b==null&&(b=Q),F=p,y(b)&&(F=D(F," - "+b)),z(A,re(A,"new",B,!1,!0),"new",[F],null)},-1)}($.get_singleton_class(ee))})()}("::"),function(K,$e,Z){var U=R(K,$e,"SystemCallError");return J(U,"$errno",function(){var X=this;return X.$class().$errno()}),function(ee,X){return ee.$attr_reader("errno")}($.get_singleton_class(U))}("::",v("StandardError"))};Opal.modules["corelib/error"]=function($){var q=$.klass,y=$.slice,D=$.gvars,z=$.defs,re=$.send,J=$.to_a,R=$.def,Q=$.send2,v=$.find_super,K=$.truthy,$e=$.Kernel,Z=$.not,U=$.rb_plus,ee=$.eqeq,X=$.Object,x=$.ensure_kwargs,p=$.hash_get,P=$.module,G=[],T=$.nil,B=$.$$$;return $.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(b,A,F){var k=q(b,A,"Exception"),E=[k].concat(F),u=$.$r(E),d=k.$$prototype;d.message=T,$.prop(k.$$prototype,"$$is_exception",!0);var S;Error.stackTraceLimit=100,z(k,"$new",function(l){var w,H,_=this;D["!"]==null&&(D["!"]=T),w=y(arguments),H=w;var s=H.length>0?H[0]:T,n=new _.$$constructor(s);return n.name=_.$$name,n.message=s,n.cause=D["!"],$.send(n,n.$initialize,H),$.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(n,S),n},-1),S=k.$new,z(k,"$exception",function(l){var w,H,_=this;return w=y(arguments),H=w,re(_,"new",J(H))},-1),R(k,"$initialize",function(l){var w,H,_=this;return w=y(arguments),H=w,_.message=H.length>0?H[0]:T},-1),R(k,"$copy_instance_variables",function c(l){var w=c.$$p||T,H=this;c.$$p=null,Q(H,v(H,"copy_instance_variables",c,!1,!0),"copy_instance_variables",[l],w),H.message=l.message,H.cause=l.cause,H.stack=l.stack});function h(c){for(var l=[],w,H=0;H<c.length;H++){var _=c[H];!_||!_.$$is_string||((w=_.match(/^    at (.*?) \((.*?)\)$/))?l.push(w[2]+":in `"+w[1]+"'"):(w=_.match(/^    at (.*?)$/))?l.push(w[1]+":in `undefined'"):(w=_.match(/^  from (.*?)$/))?l.push(w[1]):(w=_.match(/^(.*?)@(.*?)$/))&&l.push(w[2]+":in `"+w[1]+"'"))}return l}return R(k,"$backtrace",function(){var l=this;if(l.backtrace)return l.backtrace;var w=l.stack;return typeof w<"u"&&w.$$is_string?l.backtrace=h(w.split(`
`)):w?l.backtrace=h(w):[]}),R(k,"$backtrace_locations",function(){var l,w=this;return w.backtrace_locations||(w.backtrace_locations=(l=w.$backtrace(),l===T||l==null?T:re(l,"map",[],function(_){return _==null&&(_=T),B(B(B("Thread"),"Backtrace"),"Location").$new(_)}))),w.backtrace_locations}),R(k,"$cause",function(){var l=this;return l.cause||T}),R(k,"$exception",function(l){var w=this;if(l==null&&(l=T),l===T||w===l)return w;var H=w.$clone();return H.message=l,w.backtrace&&(H.backtrace=w.backtrace.$dup()),H.stack=w.stack,H.cause=w.cause,H},-1),R(k,"$message",function(){var l=this;return l.$to_s()}),R(k,"$full_message",function(l){var w,H=this,_=T,s=T,n=T,r=T,e=T,t=T,i=T,a=T,o=T;return D.stderr==null&&(D.stderr=T),l==null&&(l=T),K(u("Hash","skip_raise")?"constant":T)?(l=new Map([["highlight",D.stderr["$tty?"]()],["order","top"]]).$merge(K(_=l)?_:new Map),w=[l["$[]"]("highlight"),l["$[]"]("order")],s=w[0],n=w[1],K([!0,!1]["$include?"](s))||$e.$raise(B("ArgumentError"),"expected true or false as highlight: "+s),K(["top","bottom"]["$include?"](n))||$e.$raise(B("ArgumentError"),"expected :top or :bottom as order: "+n),K(s)?(r="\x1B[1;4m",e="\x1B[1m",t="\x1B[m"):r=e=t="",i=H.$backtrace().$dup(),(Z(i)||K(i["$empty?"]()))&&(i=H.$caller()),a=i.$shift(),o=""+a+": ",o=U(o,""+e+H.$to_s()+" ("+r+H.$class()+t+e+")"+t+`
`),o=U(o,re(i,"map",[],function(I){return I==null&&(I=T),"	from "+I+`
`}).$join()),K(H.$cause())&&(o=U(o,H.$cause().$full_message(new Map([["highlight",s]])))),ee(n,"bottom")&&(o=o.$split(`
`).$reverse().$join(`
`),o=U(""+e+"Traceback"+t+` (most recent call last):
`,o)),o):""+H.message+`
`+H.stack},-1),R(k,"$inspect",function(){var l=this,w=T;return w=l.$to_s(),K(w["$empty?"]())?l.$class().$to_s():"#<"+l.$class().$to_s()+": "+l.$to_s()+">"}),R(k,"$set_backtrace",function(l){var w=this,H=!0,_,s;if(l===T)w.backtrace=T,w.stack="";else if(l.$$is_string)w.backtrace=[l],w.stack="  from "+l;else{if(l.$$is_array){for(_=0,s=l.length;_<s;_++)if(!l[_].$$is_string){H=!1;break}}else H=!1;H===!1&&$e.$raise(B("TypeError"),"backtrace must be Array of String"),w.backtrace=l,w.stack=re(l,"map",[],function(r){return r==null&&(r=T),U("  from ",r)}).join(`
`)}return l}),R(k,"$to_s",function(){var l=this,w=T,H=T;return K(w=K(H=l.message)?l.message.$to_s():H)?w:l.$class().$to_s()})}("::",Error,G),q("::",B("Exception"),"ScriptError"),q("::",B("ScriptError"),"SyntaxError"),q("::",B("ScriptError"),"LoadError"),q("::",B("ScriptError"),"NotImplementedError"),q("::",B("Exception"),"SystemExit"),q("::",B("Exception"),"NoMemoryError"),q("::",B("Exception"),"SignalException"),q("::",B("SignalException"),"Interrupt"),q("::",B("Exception"),"SecurityError"),q("::",B("Exception"),"SystemStackError"),q("::",B("Exception"),"StandardError"),q("::",B("StandardError"),"EncodingError"),q("::",B("StandardError"),"ZeroDivisionError"),q("::",B("StandardError"),"NameError"),q("::",B("NameError"),"NoMethodError"),q("::",B("StandardError"),"RuntimeError"),q("::",B("RuntimeError"),"FrozenError"),q("::",B("StandardError"),"LocalJumpError"),q("::",B("StandardError"),"TypeError"),q("::",B("StandardError"),"ArgumentError"),q("::",B("ArgumentError"),"UncaughtThrowError"),q("::",B("StandardError"),"IndexError"),q("::",B("IndexError"),"StopIteration"),q("::",B("StopIteration"),"ClosedQueueError"),q("::",B("IndexError"),"KeyError"),q("::",B("StandardError"),"RangeError"),q("::",B("RangeError"),"FloatDomainError"),q("::",B("StandardError"),"IOError"),q("::",B("IOError"),"EOFError"),q("::",B("StandardError"),"SystemCallError"),q("::",B("StandardError"),"RegexpError"),q("::",B("StandardError"),"ThreadError"),q("::",B("StandardError"),"FiberError"),X.$autoload("Errno","corelib/error/errno"),function(b,A){var F=q(b,A,"FrozenError");return F.$attr_reader("receiver"),R(F,"$initialize",function k(E,u){var d;k.$$p;var S=this;return k.$$p=null,u=x(u),d=p(u,"receiver"),d==null&&(d=T),Q(S,v(S,"initialize",k,!1,!0),"initialize",[E],null),S.receiver=d},-2)}("::",B("RuntimeError")),function(b,A){var F=q(b,A,"UncaughtThrowError"),k=F.$$prototype;return k.tag=T,F.$attr_reader("tag","value"),R(F,"$initialize",function E(u,d){E.$$p;var S=this;return E.$$p=null,d==null&&(d=T),S.tag=u,S.value=d,Q(S,v(S,"initialize",E,!1,!0),"initialize",["uncaught throw "+S.tag.$inspect()],null)},-2)}("::",B("ArgumentError")),function(b,A){var F=q(b,A,"NameError");return F.$attr_reader("name"),R(F,"$initialize",function k(E,u){k.$$p;var d=this;return k.$$p=null,u==null&&(u=T),Q(d,v(d,"initialize",k,!1,!0),"initialize",[E],null),d.name=u},-2)}("::",null),function(b,A){var F=q(b,A,"NoMethodError");return F.$attr_reader("args"),R(F,"$initialize",function k(E,u,d){k.$$p;var S=this;return k.$$p=null,u==null&&(u=T),d==null&&(d=[]),Q(S,v(S,"initialize",k,!1,!0),"initialize",[E,u],null),S.args=d},-2)}("::",null),function(b,A){var F=q(b,A,"StopIteration");return F.$attr_reader("result")}("::",null),function(b,A){var F=q(b,A,"KeyError"),k=F.$$prototype;return k.receiver=k.key=T,R(F,"$initialize",function E(u,d){var S,h;E.$$p;var c=this;return E.$$p=null,d=x(d),S=p(d,"receiver"),S==null&&(S=T),h=p(d,"key"),h==null&&(h=T),Q(c,v(c,"initialize",E,!1,!0),"initialize",[u],null),c.receiver=S,c.key=h},-2),R(F,"$receiver",function(){var u=this,d=T;return K(d=u.receiver)?d:$e.$raise(B("ArgumentError"),"no receiver is available")}),R(F,"$key",function(){var u=this,d=T;return K(d=u.key)?d:$e.$raise(B("ArgumentError"),"no key is available")})}("::",null),function(b,A){var F=q(b,A,"LocalJumpError");return F.$attr_reader("exit_value","reason"),R(F,"$initialize",function k(E,u,d){k.$$p;var S=this;return k.$$p=null,u==null&&(u=T),d==null&&(d="noreason"),Q(S,v(S,"initialize",k,!1,!0),"initialize",[E],null),S.exit_value=u,S.reason=d},-2)}("::",null),function(b,A){var F=P(b,"JS"),k=[F].concat(A);return q(k[0],null,"Error"),T}("::",G)};Opal.modules["corelib/constants"]=function($){var q=$.const_set;$.nil;var y=$.$$$;return q("::","RUBY_PLATFORM","opal"),q("::","RUBY_ENGINE","opal"),q("::","RUBY_VERSION","3.2.0"),q("::","RUBY_ENGINE_VERSION","1.8.2"),q("::","RUBY_RELEASE_DATE","2023-11-23"),q("::","RUBY_PATCHLEVEL",0),q("::","RUBY_REVISION","0"),q("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),q("::","RUBY_DESCRIPTION","opal "+y("RUBY_ENGINE_VERSION")+" ("+y("RUBY_RELEASE_DATE")+" revision "+y("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function($){var q=$.Object;return $.nil,$.add_stubs("require"),q.$require("corelib/runtime"),q.$require("corelib/helpers"),q.$require("corelib/module"),q.$require("corelib/class"),q.$require("corelib/basic_object"),q.$require("corelib/kernel"),q.$require("corelib/main"),q.$require("corelib/error"),q.$require("corelib/constants")};Opal.modules["corelib/nil"]=function($){var q=$.klass,y=$.Kernel,D=$.def,z=$.return_val,re=$.ensure_kwargs,J=$.hash_get,R=$.NilClass,Q=$.slice,v=$.truthy,K=$.rb_gt,$e=$.alias,Z=$.nil,U=$.$$$;return $.add_stubs("raise,name,new,>,length,Rational,to_i"),function(ee,X,x){var p=q(ee,X,"NilClass");return p.$$prototype.$$meta=p,function(P,G){return D(P,"$allocate",function(){var B=this;return y.$raise(U("TypeError"),"allocator undefined for "+B.$name())}),$.udef(P,"$new"),Z}($.get_singleton_class(p)),D(p,"$!",z(!0)),D(p,"$&",z(!1)),D(p,"$|",function(G){return G!==!1&&G!==Z}),D(p,"$^",function(G){return G!==!1&&G!==Z}),D(p,"$==",function(G){return G===Z}),D(p,"$dup",z(Z)),D(p,"$clone",function(G){return G=re(G),J(G,"freeze"),Z},-1),D(p,"$inspect",z("nil")),D(p,"$nil?",z(!0)),D(p,"$singleton_class",function(){return R}),D(p,"$to_a",function(){return[]}),D(p,"$to_h",function(){return new Map}),D(p,"$to_i",z(0)),D(p,"$to_s",z("")),D(p,"$to_c",function(){return U("Complex").$new(0,0)}),D(p,"$rationalize",function(G){var T,B;return T=Q(arguments),B=T,v(K(B.$length(),1))&&y.$raise(U("ArgumentError")),y.$Rational(0,1)},-1),D(p,"$to_r",function(){return y.$Rational(0,1)}),D(p,"$instance_variables",function(){return[]}),$e(p,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function($){var q=$.klass,y=$.Kernel,D=$.def,z=$.return_self,re=$.ensure_kwargs,J=$.hash_get,R=$.slice,Q=$.truthy,v=$.send2,K=$.find_super,$e=$.to_a,Z=$.alias,U=$.nil,ee=$.$$$;return $.add_stubs("raise,name,==,to_s,__id__"),function(X,x,p){var P=q(X,x,"Boolean");$.prop(P.$$prototype,"$$is_boolean",!0);for(var G=["$$class","$$meta"],T=0;T<G.length;T++)Object.defineProperty(P.$$prototype,G[T],{configurable:!0,enumerable:!1,get:function(){return this==!0?$.TrueClass:this==!1?$.FalseClass:$.Boolean}});return Object.defineProperty(P.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:U}}),function(B,b){return D(B,"$allocate",function(){var F=this;return y.$raise(ee("TypeError"),"allocator undefined for "+F.$name())}),$.udef(B,"$new"),U}($.get_singleton_class(P)),D(P,"$__id__",function(){var b=this;return b.valueOf()?2:0}),D(P,"$!",function(){var b=this;return b!=!0}),D(P,"$&",function(b){var A=this;return A==!0?b!==!1&&b!==U:!1}),D(P,"$|",function(b){var A=this;return A==!0?!0:b!==!1&&b!==U}),D(P,"$^",function(b){var A=this;return A==!0?b===!1||b===U:b!==!1&&b!==U}),D(P,"$==",function(b){var A=this;return A==!0===b.valueOf()}),D(P,"$singleton_class",function(){var b=this;return b.$$meta}),D(P,"$to_s",function(){var b=this;return b==!0?"true":"false"}),D(P,"$dup",z),D(P,"$clone",function(b){var A=this;return b=re(b),J(b,"freeze"),A},-1),D(P,"$method_missing",function B(b,A){var F=B.$$p||U,k,E,u=this;B.$$p=null,k=R(arguments,1),E=k;var d=u.$$class.$$prototype[$.jsid(b)];return Q(typeof d<"u"&&!d.$$stub)||v(u,K(u,"method_missing",B,!1,!0),"method_missing",[b].concat($e(E)),F),$.send(u,d,E,F)},-2),D(P,"$respond_to_missing?",function(b,A){var F=this,k=F.$$class.$$prototype[$.jsid(b)];return typeof k<"u"&&!k.$$stub},-2),Z(P,"eql?","=="),Z(P,"equal?","=="),Z(P,"inspect","to_s"),Z(P,"object_id","__id__")}("::",Boolean),q("::",ee("Boolean"),"TrueClass"),q("::",ee("Boolean"),"FalseClass"),U};Opal.modules["corelib/comparable"]=function($){var q=$.truthy,y=$.module,D=$.rb_gt,z=$.rb_lt,re=$.eqeqeq,J=$.Kernel,R=$.def,Q=$.nil,v=$.$$$;return $.add_stubs(">,<,===,raise,class,<=>,equal?"),function(K){var $e=y(K,"Comparable"),Z=Q;function U(x){return $.is_a(x,$.Integer)?x:D(x,0)?1:z(x,0)?-1:0}function ee(x,p){var P;re(Q,Z=p)||re(!0,Z)||re(!1,Z)||re(v("Integer"),Z)||re(v("Float"),Z)?P=p.$inspect():P=p.$$class,J.$raise(v("ArgumentError"),"comparison of "+x.$class()+" with "+P+" failed")}function X(x,p){var P=x["$<=>"](p);return q(P)||ee(x,p),U(P)}return R($e,"$==",function(p){var P=this,G=Q;return q(P["$equal?"](p))?!0:P["$<=>"]==$.Kernel["$<=>"]?!1:P.$$comparable?(P.$$comparable=!1,!1):q(G=P["$<=>"](p))?U(G)==0:!1}),R($e,"$>",function(p){var P=this;return X(P,p)>0}),R($e,"$>=",function(p){var P=this;return X(P,p)>=0}),R($e,"$<",function(p){var P=this;return X(P,p)<0}),R($e,"$<=",function(p){var P=this;return X(P,p)<=0}),R($e,"$between?",function(p,P){var G=this;return!(q(z(G,p))||q(D(G,P)))}),R($e,"$clamp",function(p,P){var G=this;P==null&&(P=Q);var T,B;if(P===Q&&($.is_a(p,$.Range)||J.$raise(v("TypeError"),"wrong argument type "+p.$class()+" (expected Range)"),B=p.excl,P=p.end,p=p.begin,P!==Q&&B&&J.$raise(v("ArgumentError"),"cannot clamp with an exclusive range")),p!==Q&&P!==Q&&X(p,P)>0&&J.$raise(v("ArgumentError"),"min argument must be smaller than max argument"),p!==Q){if(T=X(G,p),T==0)return G;if(T<0)return p}return P!==Q&&(T=X(G,P),T>0)?P:G},-2)}("::")};Opal.modules["corelib/regexp"]=function($){var q=$.coerce_to,y=$.prop,D=$.freeze,z=$.klass,re=$.const_set,J=$.send2,R=$.find_super,Q=$.def,v=$.truthy,K=$.gvars,$e=$.slice,Z=$.Kernel,U=$.Opal,ee=$.alias,X=$.send,x=$.regexp,p=$.rb_plus,P=$.ensure_kwargs,G=$.hash_get,T=$.rb_ge,B=$.to_a,b=$.eqeqeq,A=$.rb_minus,F=$.return_ivar,k=[],E=$.nil,u=$.$$$;return $.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),z("::",u("StandardError"),"RegexpError"),function(d,S,h){var c=z(d,S,"Regexp"),l=[c].concat(h),w=$.$r(l);return re(c,"IGNORECASE",1),re(c,"EXTENDED",2),re(c,"MULTILINE",4),$.prop(c.$$prototype,"$$is_regexp",!0),function(H,_){var s=[H].concat(_),n=$.$r(s);return Q(H,"$allocate",function r(){var e=r.$$p||E,t=this,i=E;return r.$$p=null,i=J(t,R(t,"allocate",r,!1,!0),"allocate",[],e),i.uninitialized=!0,i}),Q(H,"$escape",function(e){return e=q(e,u("String"),"to_str"),$.escape_regexp(e)}),Q(H,"$last_match",function(e){return K["~"]==null&&(K["~"]=E),e==null&&(e=E),v(e["$nil?"]())?K["~"]:v(K["~"])?K["~"]["$[]"](e):E},-1),Q(H,"$union",function(e){var t,i,a=this;t=$e(arguments),i=t;var o,g,I,C,M;if(i.length==0)return/(?!)/;if(i.length==1&&i[0].$$is_regexp)return i[0];o=i[0].$$is_array,i.length>1&&o&&Z.$raise(u("TypeError"),"no implicit conversion of Array into String"),o&&(i=i[0]),C=void 0,g=[];for(var V=0;V<i.length;V++)I=i[V],I.$$is_string?g.push(a.$escape(I)):I.$$is_regexp?(M=I.$options(),C!=null&&C!=M&&Z.$raise(u("TypeError"),"All expressions must use the same options"),C=M,g.push("("+I.source+")")):g.push(a.$escape(I.$to_str()));return a.$new(g.$join("|"),C)},-1),Q(H,"$new",function(e,t){if(e.$$is_regexp)return new RegExp(e);if(e=U["$coerce_to!"](e,u("String"),"to_str"),e.charAt(e.length-1)==="\\"&&e.charAt(e.length-2)!=="\\"&&Z.$raise(u("RegexpError"),"too short escape sequence: /"+e+"/"),e=e.replace("\\A","^").replace("\\z","$"),t===void 0||t["$!"]())return new RegExp(e);if(t.$$is_number){var i="";n("IGNORECASE")&t&&(i+="i"),n("MULTILINE")&t&&(i+="m"),t=i}else t="i";return new RegExp(e,t)},-2),ee(H,"compile","new"),ee(H,"quote","escape")}($.get_singleton_class(c),l),Q(c,"$==",function(_){var s=this;return _ instanceof RegExp&&s.toString()===_.toString()}),Q(c,"$===",function(_){var s=this;return s.$match(U["$coerce_to?"](_,u("String"),"to_str"))!==E}),Q(c,"$=~",function(_){var s=this,n=E;return K["~"]==null&&(K["~"]=E),v(n=s.$match(_))?K["~"].$begin(0):n}),Q(c,"$freeze",function(){var _=this;return v(_["$frozen?"]())?_:(_.hasOwnProperty("$$g")||y(_,"$$g",null),_.hasOwnProperty("$$gm")||y(_,"$$gm",null),D(_))}),Q(c,"$inspect",function(){var _=this,s=/^\/(.*)\/([^\/]*)$/,n=_.toString(),r=s.exec(n);if(r){for(var e=r[1],t=r[2],i=e.split(""),a=i.length,o=!1,g="",I=0;I<a;I++){var C=i[I];!o&&C=="/"&&(g=g.concat("\\")),g=g.concat(C),C=="\\"?o?o=!1:o=!0:o=!1}return"/"+g+"/"+t}else return n}),Q(c,"$match",function H(_,s){var n=H.$$p||E,r=this;if(K["~"]==null&&(K["~"]=E),H.$$p=null,r.uninitialized&&Z.$raise(u("TypeError"),"uninitialized Regexp"),s===void 0){if(_===E)return K["~"]=E;var e=r.exec(q(_,u("String"),"to_str"));return e?(K["~"]=u("MatchData").$new(r,e),n===E?K["~"]:$.yield1(n,K["~"])):K["~"]=E}if(s=q(s,u("Integer"),"to_int"),_===E||(_=q(_,u("String"),"to_str"),s<0&&(s+=_.length,s<0)))return K["~"]=E;for(var t,i=$.global_regexp(r);;){if(t=i.exec(_),t===null)return K["~"]=E;if(t.index>=s)return K["~"]=u("MatchData").$new(i,t),n===E?K["~"]:$.yield1(n,K["~"]);i.lastIndex=t.index+1}},-2),Q(c,"$match?",function(_,s){var n=this;if(n.uninitialized&&Z.$raise(u("TypeError"),"uninitialized Regexp"),s===void 0)return _===E?!1:n.test(q(_,u("String"),"to_str"));if(s=q(s,u("Integer"),"to_int"),_===E||(_=q(_,u("String"),"to_str"),s<0&&(s+=_.length,s<0)))return!1;var r,e=$.global_regexp(n);return r=e.exec(_),!(r===null||r.index<s)},-2),Q(c,"$names",function(){var _=this;return X(_.$source().$scan(x(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),Q(c,"$named_captures",function(){var _=this;return X(X(X(_.$source().$scan(x(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(n){return n==null&&(n=E),X(n,"map",[],function(e){return e==null&&(e=E),p(e.$last(),1)})})}),Q(c,"$~",function(){var _=this;return K._==null&&(K._=E),_["$=~"](K._)}),Q(c,"$source",function(){var _=this;return _.source}),Q(c,"$options",function(){var _=this;_.uninitialized&&Z.$raise(u("TypeError"),"uninitialized Regexp");var s=0;return _.multiline&&(s|=w("MULTILINE")),_.ignoreCase&&(s|=w("IGNORECASE")),s}),Q(c,"$casefold?",function(){var _=this;return _.ignoreCase}),ee(c,"eql?","=="),ee(c,"to_s","source")}("::",RegExp,k),function(d,S,h){var c=z(d,S,"MatchData"),l=[c].concat(h),w=$.$r(l),H=c.$$prototype;return H.matches=E,c.$attr_reader("post_match","pre_match","regexp","string"),Q(c,"$initialize",function(s,n,r){var e,t=this;r=P(r),e=G(r,"no_matchdata"),e==null&&(e=!1),v(e)||(K["~"]=t),t.regexp=s,t.begin=n.index,t.string=n.input,t.pre_match=n.input.slice(0,n.index),t.post_match=n.input.slice(n.index+n[0].length),t.matches=[];for(var i=0,a=n.length;i<a;i++){var o=n[i];o==null?t.matches.push(E):t.matches.push(o)}},-3),Q(c,"$match",function(s){var n=this,r=E;return v(r=n["$[]"](s))?r:v(s["$is_a?"](w("Integer")))&&v(T(s,n.$length()))?Z.$raise(u("IndexError"),"index "+s+" out of matches"):E}),Q(c,"$match_length",function(s){var n,r=this;return n=r.$match(s),n===E||n==null?E:n.$length()}),Q(c,"$[]",function(s){var n,r,e=this;return n=$e(arguments),r=n,r[0].$$is_string?(e.$regexp().$names()["$include?"](r["$[]"](0))["$!"]()&&Z.$raise(u("IndexError"),"undefined group name reference: "+r["$[]"](0)),e.$named_captures()["$[]"](r["$[]"](0))):X(e.matches,"[]",B(r))},-1),Q(c,"$offset",function(s){var n=this;return s!==0&&Z.$raise(u("ArgumentError"),"MatchData#offset only supports 0th element"),[n.begin,n.begin+n.matches[s].length]}),Q(c,"$==",function(s){var n=this,r=E,e=E,t=E,i=E;return b(u("MatchData"),s)?v(r=v(e=v(t=v(i=n.string==s.string)?n.regexp.toString()==s.regexp.toString():i)?n.pre_match==s.pre_match:t)?n.post_match==s.post_match:e)?n.begin==s.begin:r:!1}),Q(c,"$begin",function(s){var n=this;return s!==0&&Z.$raise(u("ArgumentError"),"MatchData#begin only supports 0th element"),n.begin}),Q(c,"$end",function(s){var n=this;return s!==0&&Z.$raise(u("ArgumentError"),"MatchData#end only supports 0th element"),n.begin+n.matches[s].length}),Q(c,"$captures",function(){var s=this;return s.matches.slice(1)}),Q(c,"$named_captures",function(){var s=this,n=E;return n=s.$captures(),X(s.$regexp().$named_captures(),"transform_values",[],function(e){return e==null&&(e=E),n["$[]"](A(e.$last(),1))})}),Q(c,"$names",function(){var s=this;return s.$regexp().$names()}),Q(c,"$inspect",function(){var s=this,n="#<MatchData "+s.matches[0].$inspect();if(s.$regexp().$names()["$empty?"]())for(var r=1,e=s.matches.length;r<e;r++)n+=" "+r+":"+s.matches[r].$inspect();else X(s.$named_captures(),"each",[],function(i,a){return i==null&&(i=E),a==null&&(a=E),n+=" "+i+":"+a.$inspect()});return n+">"}),Q(c,"$length",function(){var s=this;return s.matches.length}),Q(c,"$to_a",F("matches")),Q(c,"$to_s",function(){var s=this;return s.matches[0]}),Q(c,"$values_at",function(s){var n,r,e=this;n=$e(arguments),r=n;var t,i,a,o=[];for(t=0;t<r.length;t++){if(r[t].$$is_range&&(i=r[t].$to_a(),i.unshift(t,1),Array.prototype.splice.apply(r,i)),a=U["$coerce_to!"](r[t],u("Integer"),"to_int"),a<0&&(a+=e.matches.length,a<0)){o.push(E);continue}o.push(e.matches[a])}return o},-1),ee(c,"eql?","=="),ee(c,"size","length")}(k[0],null,k)};Opal.modules["corelib/string"]=function($){var q=$.coerce_to,y=$.respond_to,D=$.global_multiline_regexp,z=$.prop,re=$.opal32_init,J=$.opal32_add,R=$.klass,Q=$.send2,v=$.find_super,K=$.def,$e=$.Opal,Z=$.defs,U=$.slice,ee=$.send,X=$.to_a,x=$.extract_kwargs,p=$.ensure_kwargs,P=$.hash_get,G=$.eqeqeq,T=$.Kernel,B=$.truthy,b=$.gvars,A=$.rb_divide,F=$.rb_plus,k=$.eqeq,E=$.alias,u=$.const_set,d=$.top,S=[],h=$.$r(S),c=$.nil,l=$.$$$;return $.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),d.$require("corelib/comparable"),d.$require("corelib/regexp"),function(w,H,_){var s=R(w,H,"String"),n=[s].concat(_),r=$.$r(n);s.$include(l("Comparable")),$.prop(s.$$prototype,"$$is_string",!0);var e=new Map;(function(){K(s,"$__id__",function i(){var a=i.$$p||c,o=this;if(i.$$p=null,typeof o=="object")return Q(o,v(o,"__id__",i,!1,!0),"__id__",[],a);if(e.has(o))return e.get(o);var g=$.uid();return e.set(o,g),g}),K(s,"$hash",function(){var a=this,o=re(),g,I=a.length;for(o=J(o,5),o=J(o,I),g=0;g<I;g++)o=J(o,a.charCodeAt(g));return o})})(),Z(s,"$try_convert",function(a){return $e["$coerce_to?"](a,l("String"),"to_str")}),Z(s,"$new",function(a){var o,g,I=this;o=U(arguments),g=o;var C=g[0]||"",M=g[g.length-1];return C=q(C,l("String"),"to_str"),M&&M.$$is_hash&&M.has("encoding")&&(C=C.$force_encoding(M.get("encoding").value)),C=new I.$$constructor(C),C.$initialize.$$pristine||ee(C,"initialize",X(g)),C},-1),K(s,"$initialize",function(a,o){var g,I;return g=U(arguments),I=x(g),I=p(I),g.length>0&&g.shift(),P(I,"encoding"),P(I,"capacity"),c},-1),K(s,"$%",function(a){var o=this;return G(l("Array"),a)?ee(o,"format",[o].concat(X(a))):o.$format(o,a)}),K(s,"$*",function(a){var o=this;if(a=q(a,l("Integer"),"to_int"),a<0&&T.$raise(l("ArgumentError"),"negative argument"),a===0)return"";var g="",I=o.toString();for(I.length*a>=1<<28&&T.$raise(l("RangeError"),"multiply count must not overflow maximum string size");(a&1)===1&&(g+=I),a>>>=1,a!==0;)I+=I;return g}),K(s,"$+",function(a){var o=this;if(a=q(a,l("String"),"to_str"),a==""&&o.$$class===$.String)return o;if(o==""&&a.$$class===$.String)return a;var g=o+a;return o.encoding===g.encoding&&a.encoding===g.encoding||o.encoding.name==="UTF-8"||a.encoding.name==="UTF-8"?g:$.enc(g,o.encoding)}),K(s,"$<=>",function(a){var o=this;if(B(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),o>a?1:o<a?-1:0;var g=a["$<=>"](o);return g===c?c:g>0?-1:g<0?1:0}),K(s,"$==",function(a){var o=this;return a.$$is_string?o.toString()===a.toString():y(a,"$to_str")?a["$=="](o):!1}),K(s,"$=~",function(a){var o=this;return a.$$is_string&&T.$raise(l("TypeError"),"type mismatch: String given"),a["$=~"](o)}),K(s,"$[]",function(a,o){var g=this,I=g.length,C,M;if(a.$$is_range)return C=a.excl,M=a,o=a.end===c?-1:q(a.end,l("Integer"),"to_int"),a=a.begin===c?0:q(a.begin,l("Integer"),"to_int"),Math.abs(a)>I?c:(a<0&&(a+=I),o<0&&(o+=I),(!C||M.end===c)&&(o+=1),o=o-a,o<0&&(o=0),g.substr(a,o));if(a.$$is_string)return o!=null&&T.$raise(l("TypeError")),g.indexOf(a)!==-1?a:c;if(a.$$is_regexp){var V=g.match(a);return V===null?(b["~"]=c,c):(b["~"]=l("MatchData").$new(a,V),o==null?V[0]:(o=q(o,l("Integer"),"to_int"),o<0&&-o<V.length?V[o+=V.length]:o>=0&&o<V.length?V[o]:c))}return a=q(a,l("Integer"),"to_int"),a<0&&(a+=I),o==null?a>=I||a<0?c:g.substr(a,1):(o=q(o,l("Integer"),"to_int"),o<0||a>I||a<0?c:g.substr(a,o))},-2),K(s,"$b",function(){var a=this;return new String(a).$force_encoding("binary")}),K(s,"$capitalize",function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}),K(s,"$casecmp",function(a){var o=this;if(!B(a["$respond_to?"]("to_str")))return c;a=q(a,l("String"),"to_str").$to_s();var g=/^[\x00-\x7F]*$/;return g.test(o)&&g.test(a)&&(o=o.toLowerCase(),a=a.toLowerCase()),o["$<=>"](a)}),K(s,"$casecmp?",function(a){var o=this,g=o.$casecmp(a);return g===c?c:g===0}),K(s,"$center",function(a,o){var g=this;if(o==null&&(o=" "),a=q(a,l("Integer"),"to_int"),o=q(o,l("String"),"to_str").$to_s(),B(o["$empty?"]())&&T.$raise(l("ArgumentError"),"zero width padding"),B(a<=g.length))return g;var I=g.$ljust(A(F(a,g.length),2).$ceil(),o),C=g.$rjust(A(F(a,g.length),2).$floor(),o);return C+I.slice(g.length)},-2),K(s,"$chomp",function(a){var o=this;if(b["/"]==null&&(b["/"]=c),a==null&&(a=b["/"]),B(a===c||o.length===0))return o;a=$e["$coerce_to!"](a,l("String"),"to_str").$to_s();var g;if(a===`
`)g=o.replace(/\r?\n?$/,"");else if(a==="")g=o.replace(/(\r?\n)+$/,"");else if(o.length>=a.length){var I=o.substr(o.length-a.length,a.length);I===a&&(g=o.substr(0,o.length-a.length))}return g??o},-1),K(s,"$chop",function(){var a=this,o=a.length,g;return o<=1?g="":a.charAt(o-1)===`
`&&a.charAt(o-2)==="\r"?g=a.substr(0,o-2):g=a.substr(0,o-1),g}),K(s,"$chr",function(){var a=this;return a.charAt(0)}),K(s,"$clone",function(a){var o,g=this,I=c;return a=p(a),o=P(a,"freeze"),o==null&&(o=c),B(o["$nil?"]())||k(o,!0)||k(o,!1)||g.$raise(r("ArgumentError"),"unexpected value for freeze: "+o.$class()),I=new String(g),I.$copy_singleton_methods(g),I.$initialize_clone(g,new Map([["freeze",o]])),k(o,!0)?I.$$frozen||(I.$$frozen=!0):B(o["$nil?"]())&&g.$$frozen&&(I.$$frozen=!0),I},-1),K(s,"$dup",function(){var a=this,o=c;return o=new String(a),o.$initialize_dup(a),o}),K(s,"$count",function(a){var o,g,I=this;o=U(arguments),g=o,g.length===0&&T.$raise(l("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var C=t(g);return C===null?0:I.length-I.replace(new RegExp(C,"g"),"").length},-1),K(s,"$delete",function(a){var o,g,I=this;o=U(arguments),g=o,g.length===0&&T.$raise(l("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var C=t(g);return C===null?I:I.replace(new RegExp(C,"g"),"")},-1),K(s,"$delete_prefix",function(a){var o=this;return a.$$is_string||(a=q(a,l("String"),"to_str")),o.slice(0,a.length)===a?o.slice(a.length):o}),K(s,"$delete_suffix",function(a){var o=this;return a.$$is_string||(a=q(a,l("String"),"to_str")),o.slice(o.length-a.length)===a?o.slice(0,o.length-a.length):o}),K(s,"$downcase",function(){var a=this;return a.toLowerCase()}),K(s,"$each_line",function i(a,o){var g=i.$$p||c,I,C,M,V,O=this;if(b["/"]==null&&(b["/"]=c),i.$$p=null,I=U(arguments),C=x(I),C=p(C),I.length>0&&(M=I.shift()),M==null&&(M=b["/"]),V=P(C,"chomp"),V==null&&(V=!1),g===c)return O.$enum_for("each_line",M,new Map([["chomp",V]]));if(M===c)return $.yield1(g,O),O;M=q(M,l("String"),"to_str");var ae,le,_e,de,ge,ve,me,be;if(M.length===0){for(ae=O.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),le=0,_e=ae.length;le<_e;le+=2)(ae[le]||ae[le+1])&&(be=(ae[le]||"")+(ae[le+1]||""),V&&(be=be.$chomp(`
`)),$.yield1(g,be));return O}for(ge=O.$chomp(M),ve=O.length!=ge.length,me=ge.split(M),le=0,de=me.length;le<de;le++)be=me[le],(le<de-1||ve)&&(be+=M),V&&(be=be.$chomp(M)),$.yield1(g,be);return O},-1),K(s,"$empty?",function(){var a=this;return a.length===0}),K(s,"$end_with?",function(a){var o,g,I=this;o=U(arguments),g=o;for(var C=0,M=g.length;C<M;C++){var V=q(g[C],l("String"),"to_str").$to_s();if(I.length>=V.length&&I.substr(I.length-V.length,V.length)==V)return!0}return!1},-1),K(s,"$gsub",function i(a,o){var g=i.$$p||c,I=this;if(i.$$p=null,o===void 0&&g===c)return I.$enum_for("gsub",a);var C="",M=c,V=0,O,ae;a.$$is_regexp?a=D(a):(a=q(a,l("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var le;;){if(O=a.exec(I),O===null){b["~"]=c,C+=I.slice(V);break}M=l("MatchData").$new(a,O),o===void 0?(le=a.lastIndex,ae=g(O[0]),a.lastIndex=le):o.$$is_hash?ae=o["$[]"](O[0]).$to_s():(o.$$is_string||(o=q(o,l("String"),"to_str")),ae=o.replace(/([\\]+)([0-9+&`'])/g,function(_e,de,ge){if(de.length%2===0)return _e;switch(ge){case"+":for(var ve=O.length-1;ve>0;ve--)if(O[ve]!==void 0)return de.slice(1)+O[ve];return"";case"&":return de.slice(1)+O[0];case"`":return de.slice(1)+I.slice(0,O.index);case"'":return de.slice(1)+I.slice(O.index+O[0].length);default:return de.slice(1)+(O[ge]||"")}}).replace(/\\\\/g,"\\")),a.lastIndex===O.index?(C+=I.slice(V,O.index)+ae+(I[O.index]||""),a.lastIndex+=1):C+=I.slice(V,O.index)+ae,V=a.lastIndex}return b["~"]=M,C},-2),K(s,"$hex",function(){var a=this;return a.$to_i(16)}),K(s,"$include?",function(a){var o=this;return a.$$is_string||(a=q(a,l("String"),"to_str")),o.indexOf(a)!==-1}),K(s,"$index",function(a,o){var g=this,I,C,M;if(o===void 0)o=0;else if(o=q(o,l("Integer"),"to_int"),o<0&&(o+=g.length,o<0))return c;if(a.$$is_regexp)for(M=D(a);;){if(C=M.exec(g),C===null){b["~"]=c,I=-1;break}if(C.index>=o){b["~"]=l("MatchData").$new(M,C),I=C.index;break}M.lastIndex=C.index+1}else a=q(a,l("String"),"to_str"),a.length===0&&o>g.length?I=-1:I=g.indexOf(a,o);return I===-1?c:I},-2),K(s,"$inspect",function(){var a=this,o=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},I=a.replace(o,function(C){return g[C]?g[C]:(C=C.charCodeAt(0),C<=255&&(a.encoding["$binary?"]()||a.internal_encoding["$binary?"]())?"\\x"+("00"+C.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+C.toString(16).toUpperCase()).slice(-4))});return'"'+I.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),K(s,"$intern",function(){var a=this;return a.toString()}),K(s,"$length",function(){var a=this;return a.length}),E(s,"size","length"),K(s,"$lines",function i(a,o){var g=i.$$p||c,I,C,M,V,O=this,ae=c;return b["/"]==null&&(b["/"]=c),i.$$p=null,I=U(arguments),C=x(I),C=p(C),I.length>0&&(M=I.shift()),M==null&&(M=b["/"]),V=P(C,"chomp"),V==null&&(V=!1),ae=ee(O,"each_line",[M,new Map([["chomp",V]])],g.$to_proc()),B(g)?O:ae.$to_a()},-1),K(s,"$ljust",function(a,o){var g=this;if(o==null&&(o=" "),a=q(a,l("Integer"),"to_int"),o=q(o,l("String"),"to_str").$to_s(),B(o["$empty?"]())&&T.$raise(l("ArgumentError"),"zero width padding"),B(a<=g.length))return g;var I=-1,C="";for(a-=g.length;++I<a;)C+=o;return g+C.slice(0,a)},-2),K(s,"$lstrip",function(){var a=this;return a.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),K(s,"$ascii_only?",function(){var a=this;return a.encoding.ascii?/^[\x00-\x7F]*$/.test(a):!1}),K(s,"$match",function i(a,o){var g=i.$$p||c,I=this;return i.$$p=null,(G(r("String"),a)||B(a["$respond_to?"]("to_str")))&&(a=l("Regexp").$new(a.$to_str())),G(l("Regexp"),a)||T.$raise(l("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),ee(a,"match",[I,o],g.$to_proc())},-2),K(s,"$match?",function(a,o){var g=this;return(G(r("String"),a)||B(a["$respond_to?"]("to_str")))&&(a=l("Regexp").$new(a.$to_str())),G(l("Regexp"),a)||T.$raise(l("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),a["$match?"](g,o)},-2),K(s,"$next",function(){var a=this,o=a.length;if(o===0)return"";for(var g=a,I=a.search(/[a-zA-Z0-9]/),C=!1,M;o--;){if(M=a.charCodeAt(o),M>=48&&M<=57||M>=65&&M<=90||M>=97&&M<=122)switch(M){case 57:C=!0,M=48;break;case 90:C=!0,M=65;break;case 122:C=!0,M=97;break;default:C=!1,M+=1}else I===-1?M===255?(C=!0,M=0):(C=!1,M+=1):C=!0;if(g=g.slice(0,o)+String.fromCharCode(M)+g.slice(o+1),C&&(o===0||o===I)){switch(M){case 65:break;case 97:break;default:M+=1}o===0?g=String.fromCharCode(M)+g:g=g.slice(0,o)+String.fromCharCode(M)+g.slice(o),C=!1}if(!C)break}return g}),K(s,"$oct",function(){var a=this,o,g=a,I=8;return/^\s*_/.test(g)?0:(g=g.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(C,M,V,O){switch(O.charAt(0)){case"+":case"-":return C;case"0":if(O.charAt(1)==="x"&&V==="0x")return C}switch(V){case"0b":I=2;break;case"0":case"0o":I=8;break;case"0d":I=10;break;case"0x":I=16;break}return M+O}),o=parseInt(g.replace(/_(?!_)/g,""),I),isNaN(o)?0:o)}),K(s,"$ord",function(){var a=this;return typeof a.codePointAt=="function"?a.codePointAt(0):a.charCodeAt(0)}),K(s,"$partition",function(a){var o=this,g,I;return a.$$is_regexp?(I=a.exec(o),I===null?g=-1:(l("MatchData").$new(a,I),a=I[0],g=I.index)):(a=q(a,l("String"),"to_str"),g=o.indexOf(a)),g===-1?[o,"",""]:[o.slice(0,g),o.slice(g,g+a.length),o.slice(g+a.length)]}),K(s,"$reverse",function(){var a=this;return a.split("").reverse().join("")}),K(s,"$rindex",function(a,o){var g=this,I,C,M,V;if(o===void 0)o=g.length;else if(o=q(o,l("Integer"),"to_int"),o<0&&(o+=g.length,o<0))return c;if(a.$$is_regexp){for(C=null,M=D(a);V=M.exec(g),!(V===null||V.index>o);)C=V,M.lastIndex=C.index+1;C===null?(b["~"]=c,I=-1):(l("MatchData").$new(M,C),I=C.index)}else a=q(a,l("String"),"to_str"),I=g.lastIndexOf(a,o);return I===-1?c:I},-2),K(s,"$rjust",function(a,o){var g=this;if(o==null&&(o=" "),a=q(a,l("Integer"),"to_int"),o=q(o,l("String"),"to_str").$to_s(),B(o["$empty?"]())&&T.$raise(l("ArgumentError"),"zero width padding"),B(a<=g.length))return g;var I=Math.floor(a-g.length),C=Math.floor(I/o.length),M=Array(C+1).join(o),V=I-M.length;return M+o.slice(0,V)+g},-2),K(s,"$rpartition",function(a){var o=this,g,I,C,M;if(a.$$is_regexp){for(I=null,C=D(a);M=C.exec(o),M!==null;)I=M,C.lastIndex=I.index+1;I===null?g=-1:(l("MatchData").$new(C,I),a=I[0],g=I.index)}else a=q(a,l("String"),"to_str"),g=o.lastIndexOf(a);return g===-1?["","",o]:[o.slice(0,g),o.slice(g,g+a.length),o.slice(g+a.length)]}),K(s,"$rstrip",function(){var a=this;return a.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),K(s,"$scan",function i(a,o){var g=i.$$p||c,I,C=this;i.$$p=null,o=p(o),I=P(o,"no_matchdata"),I==null&&(I=!1);var M=[],V=c,O;for(a.$$is_regexp?a=D(a):(a=q(a,l("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(O=a.exec(C))!=null;)V=l("MatchData").$new(a,O,new Map([["no_matchdata",I]])),g===c?O.length==1?M.push(O[0]):M.push(V.$captures()):O.length==1?$.yield1(g,O[0]):$.yield1(g,V.$captures()),a.lastIndex===O.index&&(a.lastIndex+=1);return I||(b["~"]=V),g!==c?C:M},-2),K(s,"$singleton_class",function(){var a=this;return $.get_singleton_class(a)}),K(s,"$split",function(a,o){var g=this,I=c;if(b[";"]==null&&(b[";"]=c),g.length===0)return[];if(o===void 0)o=0;else if(o=$e["$coerce_to!"](o,l("Integer"),"to_int"),o===1)return[g];(a===void 0||a===c)&&(a=B(I=b[";"])?I:" ");var C=[],M=g.toString(),V=0,O,ae=0,le=0,_e,de;if(a.$$is_regexp?a=D(a):(a=q(a,l("String"),"to_str").$to_s(),a===" "&&(a=/\s+/gm,M=M.replace(/^\s+/,""))),C=M.split(a),C.length===1&&C[0]===M)return[C[0]];for(;(_e=C.indexOf(void 0))!==-1;)C.splice(_e,1);if(o===0){for(;C[C.length-1]==="";)C.pop();return C}if(a.$$is_regexp||(a=$.escape_regexp(a),a=new RegExp(a,"gm")),O=a.exec(M),o<0){if(O!==null&&O[0]===""&&a.source.indexOf("(?=")===-1)for(_e=0,de=O.length;_e<de;_e++)C.push("");return C}if(O!==null&&O[0]==="")return le=(O.length-1)*(o-1)+o,C.splice(le-1,C.length-1,C.slice(le-1).join("")),C;if(o>=C.length)return C;for(;O!==null&&(ae++,V=a.lastIndex,le+=O.length,ae+1!==o);)O=a.exec(M);return C.splice(le,C.length-1,M.slice(V)),C},-1),K(s,"$squeeze",function(a){var o,g,I=this;if(o=U(arguments),g=o,g.length===0)return I.replace(/(.)\1+/g,"$1");var C=t(g);return C===null?I:I.replace(new RegExp("("+C+")\\1+","g"),"$1")},-1),K(s,"$start_with?",function(a){var o,g,I=this;o=U(arguments),g=o;for(var C=0,M=g.length;C<M;C++)if(g[C].$$is_regexp){var V=g[C],O=V.exec(I);if(O!=null&&O.index===0)return b["~"]=l("MatchData").$new(V,O),!0;b["~"]=c}else{var ae=q(g[C],l("String"),"to_str").$to_s();if(I.length>=ae.length&&I.startsWith(ae))return!0}return!1},-1),K(s,"$strip",function(){var a=this;return a.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),K(s,"$sub",function i(a,o){var g=i.$$p||c,I=this;i.$$p=null,a.$$is_regexp||(a=q(a,l("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var C,M=a.exec(I);return M===null?(b["~"]=c,C=I.toString()):(l("MatchData").$new(a,M),o===void 0?(g===c&&T.$raise(l("ArgumentError"),"wrong number of arguments (1 for 2)"),C=I.slice(0,M.index)+g(M[0])+I.slice(M.index+M[0].length)):o.$$is_hash?C=I.slice(0,M.index)+o["$[]"](M[0]).$to_s()+I.slice(M.index+M[0].length):(o=q(o,l("String"),"to_str"),o=o.replace(/([\\]+)([0-9+&`'])/g,function(V,O,ae){if(O.length%2===0)return V;switch(ae){case"+":for(var le=M.length-1;le>0;le--)if(M[le]!==void 0)return O.slice(1)+M[le];return"";case"&":return O.slice(1)+M[0];case"`":return O.slice(1)+I.slice(0,M.index);case"'":return O.slice(1)+I.slice(M.index+M[0].length);default:return O.slice(1)+(M[ae]||"")}}).replace(/\\\\/g,"\\"),C=I.slice(0,M.index)+o+I.slice(M.index+M[0].length))),C},-2),K(s,"$sum",function(a){var o=this;a==null&&(a=16),a=q(a,l("Integer"),"to_int");for(var g=0,I=o.length,C=0;C<I;C++)g+=o.charCodeAt(C);return a<=0?g:g&Math.pow(2,a)-1},-1),K(s,"$swapcase",function(){var a=this,o=a.replace(/([a-z]+)|([A-Z]+)/g,function(g,I,C){return I?g.toUpperCase():g.toLowerCase()});return o}),K(s,"$to_f",function(){var a=this;if(a.charAt(0)==="_")return 0;var o=parseFloat(a.replace(/_/g,""));return isNaN(o)||o==1/0||o==-1/0?0:o}),K(s,"$to_i",function(a){var o=this;a==null&&(a=10);var g,I=o.toLowerCase(),C=q(a,l("Integer"),"to_int");return(C===1||C<0||C>36)&&T.$raise(l("ArgumentError"),"invalid radix "+C),/^\s*_/.test(I)?0:(I=I.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(M,V,O,ae){switch(ae.charAt(0)){case"+":case"-":return M;case"0":if(ae.charAt(1)==="x"&&O==="0x"&&(C===0||C===16))return M}switch(O){case"0b":if(C===0||C===2)return C=2,V+ae;break;case"0":case"0o":if(C===0||C===8)return C=8,V+ae;break;case"0d":if(C===0||C===10)return C=10,V+ae;break;case"0x":if(C===0||C===16)return C=16,V+ae;break}return M}),g=parseInt(I.replace(/_(?!_)/g,""),C),isNaN(g)?0:g)},-1),K(s,"$to_proc",function i(){i.$$p;var a=this,o=c,g=c,I=c;return i.$$p=null,o=a.valueOf(),g=$.jsid(o),I=ee(T,"proc",[],function C(M){var V=C.$$p||c,O,ae;C.$$p=null,O=U(arguments),ae=O,ae.length===0&&T.$raise(l("ArgumentError"),"no receiver given");var le=ae[0];le==null&&(le=c);var _e=le[g];return _e?ae=ae.slice(1):(_e=le.$method_missing,ae[0]=o),typeof V=="function"&&(_e.$$p=V),ae.length===0?_e.call(le):_e.apply(le,ae)},-1),I.$$source_location=c,I}),K(s,"$to_s",function(){var a=this;return a.toString()}),K(s,"$tr",function(a,o){var g=this;if(a=q(a,l("String"),"to_str").$to_s(),o=q(o,l("String"),"to_str").$to_s(),a.length==0||a===o)return g;var I,C,M,V,O,ae,le,_e={},de=a.split(""),ge=de.length,ve=o.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],ge-=1);var N=[],j=null;for(C=!1,I=0;I<ge;I++)if(V=de[I],j==null)j=V,N.push(V);else if(V==="-")j==="-"?(N.push("-"),N.push("-")):I==ge-1?N.push("-"):C=!0;else if(C){for(O=j.charCodeAt(0),ae=V.charCodeAt(0),O>ae&&T.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)N.push(String.fromCharCode(M));N.push(V),C=null,j=null}else N.push(V);if(de=N,ge=de.length,be)for(I=0;I<ge;I++)_e[de[I]]=!0;else{if(me>0){var Y=[],W=null;for(C=!1,I=0;I<me;I++)if(V=ve[I],W==null)W=V,Y.push(V);else if(V==="-")W==="-"?(Y.push("-"),Y.push("-")):I==me-1?Y.push("-"):C=!0;else if(C){for(O=W.charCodeAt(0),ae=V.charCodeAt(0),O>ae&&T.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)Y.push(String.fromCharCode(M));Y.push(V),C=null,W=null}else Y.push(V);ve=Y,me=ve.length}var ne=ge-me;if(ne>0){var se=me>0?ve[me-1]:"";for(I=0;I<ne;I++)ve.push(se)}for(I=0;I<ge;I++)_e[de[I]]=ve[I]}var oe="";for(I=0,le=g.length;I<le;I++){V=g.charAt(I);var fe=_e[V];be?oe+=fe==null?ie:V:oe+=fe??V}return oe}),K(s,"$tr_s",function(a,o){var g=this;if(a=q(a,l("String"),"to_str").$to_s(),o=q(o,l("String"),"to_str").$to_s(),a.length==0)return g;var I,C,M,V,O,ae,le,_e={},de=a.split(""),ge=de.length,ve=o.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],ge-=1);var N=[],j=null;for(C=!1,I=0;I<ge;I++)if(V=de[I],j==null)j=V,N.push(V);else if(V==="-")j==="-"?(N.push("-"),N.push("-")):I==ge-1?N.push("-"):C=!0;else if(C){for(O=j.charCodeAt(0),ae=V.charCodeAt(0),O>ae&&T.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)N.push(String.fromCharCode(M));N.push(V),C=null,j=null}else N.push(V);if(de=N,ge=de.length,be)for(I=0;I<ge;I++)_e[de[I]]=!0;else{if(me>0){var Y=[],W=null;for(C=!1,I=0;I<me;I++)if(V=ve[I],j==null)j=V,Y.push(V);else if(V==="-")W==="-"?(Y.push("-"),Y.push("-")):I==me-1?Y.push("-"):C=!0;else if(C){for(O=j.charCodeAt(0),ae=V.charCodeAt(0),O>ae&&T.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(ae)+'" in string transliteration'),M=O+1;M<ae;M++)Y.push(String.fromCharCode(M));Y.push(V),C=null,j=null}else Y.push(V);ve=Y,me=ve.length}var ne=ge-me;if(ne>0){var se=me>0?ve[me-1]:"";for(I=0;I<ne;I++)ve.push(se)}for(I=0;I<ge;I++)_e[de[I]]=ve[I]}var oe="",fe=null;for(I=0,le=g.length;I<le;I++){V=g.charAt(I);var f=_e[V];be?f==null?fe==null&&(oe+=ie,fe=!0):(oe+=V,fe=null):f!=null?(fe==null||fe!==f)&&(oe+=f,fe=f):(oe+=V,fe=null)}return oe}),K(s,"$upcase",function(){var a=this;return a.toUpperCase()}),K(s,"$upto",function i(a,o){var g=i.$$p||c,I=this;if(i.$$p=null,o==null&&(o=!1),g===c)return I.$enum_for("upto",a,o);var C,M,V=I.toString();if(a=q(a,l("String"),"to_str"),V.length===1&&a.length===1)for(C=V.charCodeAt(0),M=a.charCodeAt(0);C<=M&&!(o&&C===M);)g(String.fromCharCode(C)),C+=1;else if(parseInt(V,10).toString()===V&&parseInt(a,10).toString()===a)for(C=parseInt(V,10),M=parseInt(a,10);C<=M&&!(o&&C===M);)g(C.toString()),C+=1;else for(;V.length<=a.length&&V<=a&&!(o&&V===a);)g(V),V=V.$succ();return I},-2);function t(i){function a(_e){var de="",ge,ve=_e.length,me,be,ie,N,j;for(ge=0;ge<ve;ge++)if(me=_e.charAt(ge),me==="-"&&ge>0&&ge<ve-1&&!be){for(ie=_e.charCodeAt(ge-1),N=_e.charCodeAt(ge+1),ie>N&&T.$raise(l("ArgumentError"),'invalid range "'+ie+"-"+N+'" in string transliteration'),j=ie+1;j<N+1;j++)de+=String.fromCharCode(j);be=!0,ge++}else be=me==="\\",de+=me;return de}function o(_e,de){if(_e.length===0)return de;var ge="",ve,me=_e.length,be;for(ve=0;ve<me;ve++)be=_e.charAt(ve),de.indexOf(be)!==-1&&(ge+=be);return ge}var g,I,C,M,V,O,ae="",le="";for(g=0,I=i.length;g<I;g++)C=q(i[g],l("String"),"to_str"),M=C.charAt(0)==="^"&&C.length>1,C=a(M?C.slice(1):C),M?le=o(le,C):ae=o(ae,C);if(ae.length>0&&le.length>0){for(O="",g=0,I=ae.length;g<I;g++)V=ae.charAt(g),le.indexOf(V)===-1&&(O+=V);ae=O,le=""}return ae.length>0?"["+l("Regexp").$escape(ae)+"]":le.length>0?"[^"+l("Regexp").$escape(le)+"]":null}return K(s,"$instance_variables",function(){return[]}),Z(s,"$_load",function(a){var o,g,I=this;return o=U(arguments),g=o,ee(I,"new",X(g))},-1),K(s,"$unicode_normalize",function(a){var o=this;return a==null&&(a="nfc"),B(["nfc","nfd","nfkc","nfkd"]["$include?"](a))||T.$raise(l("ArgumentError"),"Invalid normalization form "+a),o.normalize(a.$upcase())},-1),K(s,"$unicode_normalized?",function(a){var o=this;return a==null&&(a="nfc"),o.$unicode_normalize(a)["$=="](o)},-1),K(s,"$unpack",function(a){return T.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),K(s,"$unpack1",function(a){return T.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),K(s,"$freeze",function(){var a=this;return typeof a=="string"||z(a,"$$frozen",!0),a}),K(s,"$-@",function(){var a=this;return typeof a=="string"||a.$$frozen?a:a.encoding.name=="UTF-8"&&a.internal_encoding.name=="UTF-8"?a.toString():a.$dup().$freeze()}),K(s,"$frozen?",function(){var a=this;return typeof a=="string"||a.$$frozen===!0}),E(s,"+@","dup"),E(s,"===","=="),E(s,"byteslice","[]"),E(s,"eql?","=="),E(s,"equal?","==="),E(s,"object_id","__id__"),E(s,"slice","[]"),E(s,"succ","next"),E(s,"to_str","to_s"),E(s,"to_sym","intern"),$e.$pristine(s,"initialize")}("::",String,S),u(S[0],"Symbol",h("String"))};Opal.modules["corelib/enumerable"]=function($){var q=$.truthy,y=$.coerce_to,D=$.yield1,z=$.yieldX,re=$.deny_frozen_access,J=$.module,R=$.send,Q=$.slice,v=$.to_a,K=$.Opal,$e=$.thrower,Z=$.def,U=$.Kernel,ee=$.return_val,X=$.rb_gt,x=$.rb_times,p=$.rb_lt,P=$.eqeq,G=$.rb_plus,T=$.rb_minus,B=$.rb_divide,b=$.rb_le,A=$.lambda,F=$.not,k=$.alias,E=[],u=$.nil,d=$.$$$;return $.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(S,h){var c=J(S,"Enumerable"),l=[c].concat(h),w=$.$r(l);function H(_){return _.length===0&&(_=[u]),_.length>1&&(_=[_]),_}return Z(c,"$all?",function _(s){try{var n=$e("return"),r=_.$$p||u,e=this;return _.$$p=null,q(s!==void 0)?R(e,"each",[],function t(i){var a,o,g=u;if(a=Q(arguments),o=a,g=H(o),q(R(s,"public_send",["==="].concat(v(g)))))return u;n.$throw(!1,t.$$is_lambda)},{$$arity:-1,$$ret:n}):r!==u?R(e,"each",[],function t(i){var a,o;if(a=Q(arguments),o=a,q($.yieldX(r,v(o))))return u;n.$throw(!1,t.$$is_lambda)},{$$arity:-1,$$ret:n}):R(e,"each",[],function t(i){var a,o;if(a=Q(arguments),o=a,q(K.$destructure(o)))return u;n.$throw(!1,t.$$is_lambda)},{$$arity:-1,$$ret:n}),!0}catch(t){if(t===n)return t.$v;throw t}finally{n.is_orphan=!0}},-1),Z(c,"$any?",function _(s){try{var n=$e("return"),r=_.$$p||u,e=this;return _.$$p=null,q(s!==void 0)?R(e,"each",[],function t(i){var a,o,g=u;if(a=Q(arguments),o=a,g=H(o),q(R(s,"public_send",["==="].concat(v(g)))))n.$throw(!0,t.$$is_lambda);else return u},{$$arity:-1,$$ret:n}):r!==u?R(e,"each",[],function t(i){var a,o;if(a=Q(arguments),o=a,q($.yieldX(r,v(o))))n.$throw(!0,t.$$is_lambda);else return u},{$$arity:-1,$$ret:n}):R(e,"each",[],function t(i){var a,o;if(a=Q(arguments),o=a,q(K.$destructure(o)))n.$throw(!0,t.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),!1}catch(t){if(t===n)return t.$v;throw t}finally{n.is_orphan=!0}},-1),Z(c,"$chunk",function _(){var s=_.$$p||u,n=this;return _.$$p=null,s===u?R(n,"to_enum",["chunk"],function r(){var e=r.$$s==null?this:r.$$s;return e.$enumerator_size()},{$$s:n}):R(d("Enumerator"),"new",[],function r(e){var t=r.$$s==null?this:r.$$s;e==null&&(e=u);var i=u,a=[];function o(){a.length>0&&e.$yield(i,a)}t.$each.$$p=function(g){var I=D(s,g);I===u?(o(),a=[],i=u):(i===u||i===I?a.push(g):(o(),a=[g]),i=I)},t.$each(),o()},{$$s:n})}),Z(c,"$chunk_while",function _(){var s=_.$$p||u,n=this;return _.$$p=null,s===u&&U.$raise(d("ArgumentError"),"no block given"),R(n,"slice_when",[],function(e,t){return e==null&&(e=u),t==null&&(t=u),$.yieldX(s,[e,t])["$!"]()})}),Z(c,"$collect",function _(){var s=_.$$p||u,n=this;if(_.$$p=null,s===u)return R(n,"enum_for",["collect"],function e(){var t=e.$$s==null?this:e.$$s;return t.$enumerator_size()},{$$s:n});var r=[];return n.$each.$$p=function(){var e=z(s,arguments);r.push(e)},n.$each(),r}),Z(c,"$collect_concat",function _(){var s=_.$$p||u,n=this;return _.$$p=null,s===u?R(n,"enum_for",["collect_concat"],function r(){var e=r.$$s==null?this:r.$$s;return e.$enumerator_size()},{$$s:n}):R(n,"map",[],s.$to_proc()).$flatten(1)}),Z(c,"$compact",function(){var s=this;return s.$to_a().$compact()}),Z(c,"$count",function _(s){var n=_.$$p||u,r=this,e=u;return _.$$p=null,e=0,s!=null&&n!==u&&r.$warn("warning: given block not used"),q(s!=null)?n=R(U,"proc",[],function(i){var a,o;return a=Q(arguments),o=a,K.$destructure(o)["$=="](s)},-1):q(n["$nil?"]())&&(n=R(U,"proc",[],ee(!0))),R(r,"each",[],function(i){var a,o;return a=Q(arguments),o=a,q(z(n,o))?e++:u},-1),e},-1),Z(c,"$cycle",function _(s){var n=_.$$p||u,r=this;if(_.$$p=null,s==null&&(s=u),n===u)return R(r,"enum_for",["cycle",s],function a(){var o=a.$$s==null?this:a.$$s;return q(s["$nil?"]())?q(o["$respond_to?"]("size"))?d(d("Float"),"INFINITY"):u:(s=K["$coerce_to!"](s,d("Integer"),"to_int"),q(X(s,0))?x(o.$enumerator_size(),s):0)},{$$s:r});if(!q(s["$nil?"]())&&(s=K["$coerce_to!"](s,d("Integer"),"to_int"),q(s<=0)))return u;var e=[],t,i;if(r.$each.$$p=function(){var a=K.$destructure(arguments);D(n,a),e.push(a)},r.$each(),e.length===0)return u;if(s===u)for(;;)for(t=0,i=e.length;t<i;t++)D(n,e[t]);else for(;s>1;){for(t=0,i=e.length;t<i;t++)D(n,e[t]);s--}},-1),Z(c,"$detect",function _(s){try{var n=$e("return"),r=_.$$p||u,e=this;return _.$$p=null,r===u?e.$enum_for("detect",s):(R(e,"each",[],function t(i){var a,o,g=u;if(a=Q(arguments),o=a,g=K.$destructure(o),q($.yield1(r,g)))n.$throw(g,t.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),s!==void 0?typeof s=="function"?s():s:u)}catch(t){if(t===n)return t.$v;throw t}finally{n.is_orphan=!0}},-1),Z(c,"$drop",function(s){var n=this;s=y(s,d("Integer"),"to_int"),q(s<0)&&U.$raise(d("ArgumentError"),"attempt to drop negative size");var r=[],e=0;return n.$each.$$p=function(){s<=e&&r.push(K.$destructure(arguments)),e++},n.$each(),r}),Z(c,"$drop_while",function _(){var s=_.$$p||u,n=this;if(_.$$p=null,s===u)return n.$enum_for("drop_while");var r=[],e=!0;return n.$each.$$p=function(){var t=K.$destructure(arguments);if(e){var i=D(s,t);q(i)||(e=!1,r.push(t))}else r.push(t)},n.$each(),r}),Z(c,"$each_cons",function _(s){var n=_.$$p||u,r=this;if(_.$$p=null,q(arguments.length!=1)&&U.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),s=K.$try_convert(s,d("Integer"),"to_int"),q(s<=0)&&U.$raise(d("ArgumentError"),"invalid size"),n===u)return R(r,"enum_for",["each_cons",s],function t(){var i=t.$$s==null?this:t.$$s,a=u;return a=i.$enumerator_size(),q(a["$nil?"]())?u:P(a,0)||q(p(a,s))?0:G(T(a,s),1)},{$$s:r});var e=[];return r.$each.$$p=function(){var t=K.$destructure(arguments);e.push(t),e.length>s&&e.shift(),e.length==s&&D(n,e.slice(0,s))},r.$each(),r}),Z(c,"$each_entry",function _(s){var n=_.$$p||u,r,e,t=this;return _.$$p=null,r=Q(arguments),e=r,n===u?R(t,"to_enum",["each_entry"].concat(v(e)),function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:t}):(t.$each.$$p=function(){var i=K.$destructure(arguments);D(n,i)},t.$each.apply(t,e),t)},-1),Z(c,"$each_slice",function _(s){var n=_.$$p||u,r=this;if(_.$$p=null,s=y(s,d("Integer"),"to_int"),q(s<=0)&&U.$raise(d("ArgumentError"),"invalid slice size"),n===u)return R(r,"enum_for",["each_slice",s],function t(){var i=t.$$s==null?this:t.$$s;return q(i["$respond_to?"]("size"))?B(i.$size(),s).$ceil():u},{$$s:r});var e=[];return r.$each.$$p=function(){var t=K.$destructure(arguments);e.push(t),e.length===s&&(D(n,e),e=[])},r.$each(),e.length>0&&D(n,e),r}),Z(c,"$each_with_index",function _(s){var n=_.$$p||u,r,e,t=this;if(_.$$p=null,r=Q(arguments),e=r,n===u)return R(t,"enum_for",["each_with_index"].concat(v(e)),function a(){var o=a.$$s==null?this:a.$$s;return o.$enumerator_size()},{$$s:t});var i=0;return t.$each.$$p=function(){var a=K.$destructure(arguments);n(a,i),i++},t.$each.apply(t,e),t},-1),Z(c,"$each_with_object",function _(s){var n=_.$$p||u,r=this;return _.$$p=null,n===u?R(r,"enum_for",["each_with_object",s],function e(){var t=e.$$s==null?this:e.$$s;return t.$enumerator_size()},{$$s:r}):(r.$each.$$p=function(){var e=K.$destructure(arguments);n(e,s)},r.$each(),s)}),Z(c,"$entries",function(s){var n,r,e=this;n=Q(arguments),r=n;var t=[];return e.$each.$$p=function(){t.push(K.$destructure(arguments))},e.$each.apply(e,r),t},-1),Z(c,"$filter_map",function _(){var s=_.$$p||u,n=this;return _.$$p=null,s===u?R(n,"enum_for",["filter_map"],function r(){var e=r.$$s==null?this:r.$$s;return e.$enumerator_size()},{$$s:n}):R(R(n,"map",[],s.$to_proc()),"select",[],"itself".$to_proc())}),Z(c,"$find_all",function _(){var s=_.$$p||u,n=this;if(_.$$p=null,s===u)return R(n,"enum_for",["find_all"],function e(){var t=e.$$s==null?this:e.$$s;return t.$enumerator_size()},{$$s:n});var r=[];return n.$each.$$p=function(){var e=K.$destructure(arguments),t=D(s,e);q(t)&&r.push(e)},n.$each(),r}),Z(c,"$find_index",function _(s){try{var n=$e("return"),r=_.$$p||u,e=this,t=u;return _.$$p=null,q(s===void 0&&r===u)?e.$enum_for("find_index"):(s!=null&&r!==u&&e.$warn("warning: given block not used"),t=0,q(s!=null)?R(e,"each",[],function i(a){var o,g;return o=Q(arguments),g=o,P(K.$destructure(g),s)&&n.$throw(t,i.$$is_lambda),t+=1},{$$arity:-1,$$ret:n}):R(e,"each",[],function i(a){var o,g;return o=Q(arguments),g=o,q($.yieldX(r,v(g)))&&n.$throw(t,i.$$is_lambda),t+=1},{$$arity:-1,$$ret:n}),u)}catch(i){if(i===n)return i.$v;throw i}finally{n.is_orphan=!0}},-1),Z(c,"$first",function(s){try{var n=$e("return"),r=this,e=u,t=u;return q(s===void 0)?R(r,"each",[],function i(a){a==null&&(a=u),n.$throw(a,i.$$is_lambda)},{$$ret:n}):(e=[],s=y(s,d("Integer"),"to_int"),q(s<0)&&U.$raise(d("ArgumentError"),"attempt to take negative size"),q(s==0)?[]:(t=0,R(r,"each",[],function i(a){var o,g;if(o=Q(arguments),g=o,e.push(K.$destructure(g)),q(s<=++t))n.$throw(e,i.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),e))}catch(i){if(i===n)return i.$v;throw i}finally{n.is_orphan=!0}},-1),Z(c,"$grep",function _(s){var n=_.$$p||u,r=this,e=u;return _.$$p=null,e=[],R(r,"each",[],function(i){var a,o,g=u;return a=Q(arguments),o=a,g=H(o),q(R(s,"__send__",["==="].concat(v(g))))?(n!==u?(q(X(o.$length(),1))&&(o=[o]),o=$.yieldX(n,v(o))):q(b(o.$length(),1))&&(o=o["$[]"](0)),e.$push(o)):u},-1),e}),Z(c,"$grep_v",function _(s){var n=_.$$p||u,r=this,e=u;return _.$$p=null,e=[],R(r,"each",[],function(i){var a,o,g=u;return a=Q(arguments),o=a,g=H(o),q(R(s,"__send__",["==="].concat(v(g))))?u:(n!==u?(q(X(o.$length(),1))&&(o=[o]),o=$.yieldX(n,v(o))):q(b(o.$length(),1))&&(o=o["$[]"](0)),e.$push(o))},-1),e}),Z(c,"$group_by",function _(){var s=_.$$p||u,n,r=this,e=u,t=u;return _.$$p=null,s===u?R(r,"enum_for",["group_by"],function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:r}):(e=new Map,r.$each.$$p=function(){var i=K.$destructure(arguments),a=D(s,i);(q(t=e["$[]"](a))?t:(n=[a,[]],R(e,"[]=",n),n[n.length-1]))["$<<"](i)},r.$each(),e)}),Z(c,"$include?",function(s){try{var n=$e("return"),r=this;return R(r,"each",[],function e(t){var i,a;if(i=Q(arguments),a=i,P(K.$destructure(a),s))n.$throw(!0,e.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),!1}catch(e){if(e===n)return e.$v;throw e}finally{n.is_orphan=!0}}),Z(c,"$inject",function _(s,n){var r=_.$$p||u,e=this;_.$$p=null;var t=s;return r!==u&&n===void 0?e.$each.$$p=function(){var i=K.$destructure(arguments);if(t===void 0){t=i;return}i=z(r,[t,i]),t=i}:(n===void 0&&(d("Symbol")["$==="](s)||U.$raise(d("TypeError"),""+s.$inspect()+" is not a Symbol"),n=s,t=void 0),e.$each.$$p=function(){var i=K.$destructure(arguments);if(t===void 0){t=i;return}t=t.$__send__(n,i)}),e.$each(),t??u},-1),Z(c,"$lazy",function(){var s=this;return R(d(d("Enumerator"),"Lazy"),"new",[s,s.$enumerator_size()],function(r,e){var t,i;return r==null&&(r=u),t=Q(arguments,1),i=t,R(r,"yield",v(i))},-2)}),Z(c,"$enumerator_size",function(){var s=this;return q(s["$respond_to?"]("size"))?s.$size():u}),Z(c,"$max",function _(s){var n=_.$$p||u,r=this;if(_.$$p=null,s===void 0||s===u){var e,t;return r.$each.$$p=function(){var i=K.$destructure(arguments);if(e===void 0){e=i;return}n!==u?t=z(n,[i,e]):t=i["$<=>"](e),t===u&&U.$raise(d("ArgumentError"),"comparison failed"),t>0&&(e=i)},r.$each(),e===void 0?u:e}return s=y(s,d("Integer"),"to_int"),R(r,"sort",[],n.$to_proc()).$reverse().$first(s)},-1),Z(c,"$max_by",function _(s){var n=_.$$p||u,r=this;if(_.$$p=null,s==null&&(s=u),!q(n))return R(r,"enum_for",["max_by",s],function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:r});if(!q(s["$nil?"]()))return R(r,"sort_by",[],n.$to_proc()).$reverse().$take(s);var e,t;return r.$each.$$p=function(){var i=K.$destructure(arguments),a=D(n,i);if(e===void 0){e=i,t=a;return}a["$<=>"](t)>0&&(e=i,t=a)},r.$each(),e===void 0?u:e},-1),Z(c,"$min",function _(s){var n=_.$$p||u,r=this;if(_.$$p=null,s==null&&(s=u),!q(s["$nil?"]()))return n!==u?R(r,"sort",[],function(i,a){return i==null&&(i=u),a==null&&(a=u),$.yieldX(n,[i,a])}).$take(s):r.$sort().$take(s);var e;return n!==u?r.$each.$$p=function(){var t=K.$destructure(arguments);if(e===void 0){e=t;return}var i=n(t,e);i===u&&U.$raise(d("ArgumentError"),"comparison failed"),i<0&&(e=t)}:r.$each.$$p=function(){var t=K.$destructure(arguments);if(e===void 0){e=t;return}K.$compare(t,e)<0&&(e=t)},r.$each(),e===void 0?u:e},-1),Z(c,"$min_by",function _(s){var n=_.$$p||u,r=this;if(_.$$p=null,s==null&&(s=u),!q(n))return R(r,"enum_for",["min_by",s],function i(){var a=i.$$s==null?this:i.$$s;return a.$enumerator_size()},{$$s:r});if(!q(s["$nil?"]()))return R(r,"sort_by",[],n.$to_proc()).$take(s);var e,t;return r.$each.$$p=function(){var i=K.$destructure(arguments),a=D(n,i);if(e===void 0){e=i,t=a;return}a["$<=>"](t)<0&&(e=i,t=a)},r.$each(),e===void 0?u:e},-1),Z(c,"$minmax",function _(){var s=_.$$p||u,n=this,r=u;_.$$p=null,s=q(r=s)?r:R(U,"proc",[],function(o,g){return o==null&&(o=u),g==null&&(g=u),o["$<=>"](g)});var e=u,t=u,i=!0;return n.$each.$$p=function(){var a=K.$destructure(arguments);if(i)e=t=a,i=!1;else{var o=s.$call(e,a);o===u?U.$raise(d("ArgumentError"),"comparison failed"):o>0&&(e=a);var g=s.$call(t,a);g===u?U.$raise(d("ArgumentError"),"comparison failed"):g<0&&(t=a)}},n.$each(),[e,t]}),Z(c,"$minmax_by",function _(){var s=_.$$p||u,n=this;if(_.$$p=null,!q(s))return R(n,"enum_for",["minmax_by"],function a(){var o=a.$$s==null?this:a.$$s;return o.$enumerator_size()},{$$s:n});var r=u,e=u,t,i;return n.$each.$$p=function(){var a=K.$destructure(arguments),o=D(s,a);(t===void 0||o["$<=>"](t)<0)&&(r=a,t=o),(i===void 0||o["$<=>"](i)>0)&&(e=a,i=o)},n.$each(),[r,e]}),Z(c,"$none?",function _(s){try{var n=$e("return"),r=_.$$p||u,e=this;return _.$$p=null,q(s!==void 0)?R(e,"each",[],function t(i){var a,o,g=u;if(a=Q(arguments),o=a,g=H(o),q(R(s,"public_send",["==="].concat(v(g)))))n.$throw(!1,t.$$is_lambda);else return u},{$$arity:-1,$$ret:n}):r!==u?R(e,"each",[],function t(i){var a,o;if(a=Q(arguments),o=a,q($.yieldX(r,v(o))))n.$throw(!1,t.$$is_lambda);else return u},{$$arity:-1,$$ret:n}):R(e,"each",[],function t(i){var a,o,g=u;if(a=Q(arguments),o=a,g=K.$destructure(o),q(g))n.$throw(!1,t.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),!0}catch(t){if(t===n)return t.$v;throw t}finally{n.is_orphan=!0}},-1),Z(c,"$one?",function _(s){try{var n=$e("return"),r=_.$$p||u,e=this,t=u;return _.$$p=null,t=0,q(s!==void 0)?R(e,"each",[],function i(a){var o,g,I=u;if(o=Q(arguments),g=o,I=H(g),q(R(s,"public_send",["==="].concat(v(I)))))if(t=G(t,1),q(X(t,1)))n.$throw(!1,i.$$is_lambda);else return u;else return u},{$$arity:-1,$$ret:n}):r!==u?R(e,"each",[],function i(a){var o,g;if(o=Q(arguments),g=o,!q($.yieldX(r,v(g))))return u;if(t=G(t,1),q(X(t,1)))n.$throw(!1,i.$$is_lambda);else return u},{$$arity:-1,$$ret:n}):R(e,"each",[],function i(a){var o,g;if(o=Q(arguments),g=o,!q(K.$destructure(g)))return u;if(t=G(t,1),q(X(t,1)))n.$throw(!1,i.$$is_lambda);else return u},{$$arity:-1,$$ret:n}),t["$=="](1)}catch(i){if(i===n)return i.$v;throw i}finally{n.is_orphan=!0}},-1),Z(c,"$partition",function _(){var s=_.$$p||u,n=this;if(_.$$p=null,s===u)return R(n,"enum_for",["partition"],function t(){var i=t.$$s==null?this:t.$$s;return i.$enumerator_size()},{$$s:n});var r=[],e=[];return n.$each.$$p=function(){var t=K.$destructure(arguments),i=D(s,t);q(i)?r.push(t):e.push(t)},n.$each(),[r,e]}),Z(c,"$reject",function _(){var s=_.$$p||u,n=this;if(_.$$p=null,s===u)return R(n,"enum_for",["reject"],function e(){var t=e.$$s==null?this:e.$$s;return t.$enumerator_size()},{$$s:n});var r=[];return n.$each.$$p=function(){var e=K.$destructure(arguments),t=D(s,e);q(t)||r.push(e)},n.$each(),r}),Z(c,"$reverse_each",function _(){var s=_.$$p||u,n=this;if(_.$$p=null,s===u)return R(n,"enum_for",["reverse_each"],function t(){var i=t.$$s==null?this:t.$$s;return i.$enumerator_size()},{$$s:n});var r=[];n.$each.$$p=function(){r.push(arguments)},n.$each();for(var e=r.length-1;e>=0;e--)z(s,r[e]);return r}),Z(c,"$slice_before",function _(s){var n=_.$$p||u,r=this;return _.$$p=null,q(s===void 0&&n===u)&&U.$raise(d("ArgumentError"),"both pattern and block are given"),q(s!==void 0&&n!==u||arguments.length>1)&&U.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),R(d("Enumerator"),"new",[],function e(t){var i=e.$$s==null?this:e.$$s;t==null&&(t=u);var a=[];n!==u?s===void 0?i.$each.$$p=function(){var o=K.$destructure(arguments),g=D(n,o);q(g)&&a.length>0&&(t["$<<"](a),a=[]),a.push(o)}:i.$each.$$p=function(){var o=K.$destructure(arguments),g=n(o,s.$dup());q(g)&&a.length>0&&(t["$<<"](a),a=[]),a.push(o)}:i.$each.$$p=function(){var o=K.$destructure(arguments),g=s["$==="](o);q(g)&&a.length>0&&(t["$<<"](a),a=[]),a.push(o)},i.$each(),a.length>0&&t["$<<"](a)},{$$s:r})},-1),Z(c,"$slice_after",function _(s){var n=_.$$p||u,r=this;return _.$$p=null,q(s===void 0&&n===u)&&U.$raise(d("ArgumentError"),"both pattern and block are given"),q(s!==void 0&&n!==u||arguments.length>1)&&U.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),q(s!==void 0)&&(n=R(U,"proc",[],function(t){return t==null&&(t=u),s["$==="](t)})),R(d("Enumerator"),"new",[],function e(t){var i=e.$$s==null?this:e.$$s;t==null&&(t=u);var a;i.$each.$$p=function(){var o=K.$destructure(arguments),g=D(n,o);a==null&&(a=[]),q(g)?(a.push(o),t.$yield(a),a=null):a.push(o)},i.$each(),a!=null&&t.$yield(a)},{$$s:r})},-1),Z(c,"$slice_when",function _(){var s=_.$$p||u,n=this;return _.$$p=null,s===u&&U.$raise(d("ArgumentError"),"wrong number of arguments (0 for 1)"),R(d("Enumerator"),"new",[],function r(e){var t=r.$$s==null?this:r.$$s;e==null&&(e=u);var i=u,a=u;t.$each_cons.$$p=function(){var o=K.$destructure(arguments),g=o[0],I=o[1],C=z(s,[g,I]);a=I,i===u&&(i=[]),q(C)?(i.push(g),e.$yield(i),i=[]):i.push(g)},t.$each_cons(2),i!==u&&(i.push(a),e.$yield(i))},{$$s:n})}),Z(c,"$sort",function _(){var s=_.$$p||u,n=this,r=u;return _.$$p=null,r=n.$to_a(),s===u&&(s=A(function(t,i){return t==null&&(t=u),i==null&&(i=u),t["$<=>"](i)})),R(r,"sort",[],s.$to_proc())}),Z(c,"$sort_by",function _(){var s=_.$$p||u,n=this,r=u;return _.$$p=null,s===u?R(n,"enum_for",["sort_by"],function e(){var t=e.$$s==null?this:e.$$s;return t.$enumerator_size()},{$$s:n}):(r=R(n,"map",[],function(){var t=u;return t=K.$destructure(arguments),[$.yield1(s,t),t]}),R(r,"sort!",[],function(t,i){return t==null&&(t=u),i==null&&(i=u),t[0]["$<=>"](i[0])}),R(r,"map!",[],function(t){return t==null&&(t=u),t[1]}))}),Z(c,"$sum",function _(s){var n=_.$$p||u,r=this,e=u,t=u;return _.$$p=null,s==null&&(s=0),e=s,t=0,R(r,"each",[],function(a){var o,g,I=u,C=u,M=u;return o=Q(arguments),g=o,I=n!==u?$.yieldX(n,v(g)):K.$destructure(g),F([d(d("Float"),"INFINITY"),d(d("Float"),"INFINITY")["$-@"]()]["$include?"](I))&&q(I["$respond_to?"]("-"))?(C=T(I,t),M=G(e,C),t=T(T(M,e),C),e=M):e=G(e,I)},-1),e},-1),Z(c,"$take",function(s){var n=this;return n.$first(s)}),Z(c,"$take_while",function _(){try{var s=$e("return"),n=_.$$p||u,r=this,e=u;return _.$$p=null,q(n)?(e=[],R(r,"each",[],function t(i){var a,o,g=u;return a=Q(arguments),o=a,g=K.$destructure(o),q($.yield1(n,g))||s.$throw(e,t.$$is_lambda),e.push(g)},{$$arity:-1,$$ret:s})):r.$enum_for("take_while")}catch(t){if(t===s)return t.$v;throw t}finally{s.is_orphan=!0}}),Z(c,"$uniq",function _(){var s=_.$$p||u,n=this,r=u;return _.$$p=null,r=new Map,R(n,"each",[],function(t){var i,a,o,g=u,I=u;return i=Q(arguments),a=i,g=K.$destructure(a),I=s!==u?$.yield1(s,g):g,q(r["$key?"](I))?u:(o=[I,g],R(r,"[]=",o),o[o.length-1])},-1),r.$values()}),Z(c,"$tally",function(s){var n=this,r=u;return s&&s!==u&&re(s),r=R(R(n,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),q(s)?(R(r,"each",[],function(t,i){var a;return t==null&&(t=u),i==null&&(i=u),a=[t,G(s.$fetch(t,0),i)],R(s,"[]=",a),a[a.length-1]}),s):r},-1),Z(c,"$to_h",function _(s){var n=_.$$p||u,r,e,t=this;if(_.$$p=null,r=Q(arguments),e=r,n!==u)return R(R(t,"map",[],n.$to_proc()),"to_h",v(e));var i=new Map;return t.$each.$$p=function(){var a=K.$destructure(arguments),o=K["$coerce_to?"](a,d("Array"),"to_ary"),g,I;o.$$is_array||U.$raise(d("TypeError"),"wrong element type "+a.$class()+" (expected array)"),o.length!==2&&U.$raise(d("ArgumentError"),"element has wrong array length (expected 2, was "+o.$length()+")"),g=o[0],I=o[1],$.hash_put(i,g,I)},t.$each.apply(t,e),i},-1),Z(c,"$to_set",function _(s,n){var r=_.$$p||u,e,t,i,a=this;return _.$$p=null,e=Q(arguments),e.length>0&&(t=e.shift()),t==null&&(t=w("Set")),i=e,R(t,"new",[a].concat(v(i)),r.$to_proc())},-1),Z(c,"$zip",function _(s){_.$$p;var n,r,e=this;return _.$$p=null,n=Q(arguments),r=n,R(e.$to_a(),"zip",v(r))},-1),k(c,"find","detect"),k(c,"filter","find_all"),k(c,"flat_map","collect_concat"),k(c,"map","collect"),k(c,"member?","include?"),k(c,"reduce","inject"),k(c,"select","find_all"),k(c,"to_a","entries")}("::",E)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function($){var q=$.klass,y=$.truthy,D=$.to_a,z=$.eqeq,re=$.Kernel,J=$.def,R=$.rb_gt,Q=$.rb_lt,v=$.rb_le,K=$.rb_ge,$e=$.rb_plus,Z=$.rb_minus,U=$.eqeqeq,ee=$.not,X=$.rb_times,x=$.rb_divide,p=$.alias,P=[],G=$.nil,T=$.$$$;return $.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(B,b,A){var F=q(B,b,"Enumerator"),k=[F].concat(A);return function(E,u,d){var S=q(E,u,"ArithmeticSequence"),h=[S].concat(d),c=$.$r(h),l=S.$$prototype;l.step_arg2=l.receiver_num=l.step_arg1=l.step=l.range=l.topfx=l.bypfx=l.creation_method=l.skipped_arg=G,$.prop(S.$$prototype,"$$is_arithmetic_seq",!0);var w=1/0;return J(S,"$initialize",function(_,s,n){var r,e=this,t=G;return n==null&&(n="step"),e.creation_method=n,y(_["$is_a?"](T("Array")))?(r=[].concat(D(_)),e.step_arg1=r[0]==null?G:r[0],e.step_arg2=r[1]==null?G:r[1],e.topfx=r[2]==null?G:r[2],e.bypfx=r[3]==null?G:r[3],e.receiver_num=s,e.step=1,e.range=y(e.step_arg2)?(e.step=e.step_arg2,$.Range.$new(e.receiver_num,e.step_arg1,!1)):y(e.step_arg1)?$.Range.$new(e.receiver_num,e.step_arg1,!1):$.Range.$new(e.receiver_num,G,!1)):(y(s)||(e.skipped_arg=!0),r=[_,y(t=s)?t:1],e.range=r[0],e.step=r[1]),e.object=e,z(e.step,0)&&re.$raise(c("ArgumentError"),"step can't be 0"),y(e.step["$respond_to?"]("to_int"))?G:re.$raise(c("ArgumentError"),"no implicit conversion of "+e.step.$class()+" into Integer")},-2),S.$attr_reader("step"),J(S,"$begin",function(){var _=this;return _.range.$begin()}),J(S,"$end",function(){var _=this;return _.range.$end()}),J(S,"$exclude_end?",function(){var _=this;return _.range["$exclude_end?"]()}),J(S,"$_lesser_than_end?",function(_){var s=this,n=G,r=G;return n=y(r=s.$end())?r:w,y(R(s.$step(),0))?y(s["$exclude_end?"]())?Q(_,n):v(_,n):y(s["$exclude_end?"]())?R(_,n):K(_,n)}),J(S,"$_greater_than_begin?",function(_){var s=this,n=G,r=G;return n=y(r=s.$begin())?r:w["$-@"](),y(R(s.$step(),0))?R(_,n):Q(_,n)}),J(S,"$first",function(_){var s=this,n=G,r=G,e=G;if(n=y(r=s.$begin())?r:w["$-@"](),!y(_))return y(s["$_lesser_than_end?"](n))?n:G;for(e=[];y(y(r=s["$_lesser_than_end?"](n))?R(_,0):r);)e["$<<"](n),n=$e(n,s.$step()),_=Z(_,1);return e},-1),J(S,"$each",function H(){var _=H.$$p||G,s=this,n=G,r=G;if(H.$$p=null,_===G)return s;for(U(G,n=s.$begin())&&re.$raise(c("TypeError"),"nil can't be coerced into Integer"),r=y(n=s.$begin())?n:w["$-@"]();y(s["$_lesser_than_end?"](r));)$.yield1(_,r),r=$e(r,s.$step());return s}),J(S,"$last",function(_){var s=this,n=G,r=G,e=G;if(U(w,n=s.$end())||U(w["$-@"](),n)?re.$raise(T("FloatDomainError"),s.$end()):U(G,n)&&re.$raise(T("RangeError"),"cannot get the last element of endless arithmetic sequence"),r=Z(s.$end(),Z(s.$end(),s.$begin())["$%"](s.$step())),y(s["$_lesser_than_end?"](r))||(r=Z(r,s.$step())),!y(_))return y(s["$_greater_than_begin?"](r))?r:G;for(e=[];y(y(n=s["$_greater_than_begin?"](r))?R(_,0):n);)e["$<<"](r),r=Z(r,s.$step()),_=Z(_,1);return e.$reverse()},-1),J(S,"$size",function(){var _=this,s=G,n=G;return s=y(R(_.$step(),0))?1:-1,ee(_["$_lesser_than_end?"](_.$begin()))?0:y([w["$-@"](),w]["$include?"](_.$step()))?1:y([X(w["$-@"](),s),G]["$include?"](_.$begin()))||y([X(w,s),G]["$include?"](_.$end()))?w:(n=Z(_.$end(),Z(_.$end(),_.$begin())["$%"](_.$step())),y(_["$_lesser_than_end?"](n))||(n=Z(n,_.$step())),$e(x(Z(n,_.$begin()),_.$step()).$abs().$to_i(),1))}),J(S,"$==",function(_){var s=this,n=G,r=G,e=G,t=G;return y(n=y(r=y(e=y(t=s.$class()["$=="](_.$class()))?s.$begin()["$=="](_.$begin()):t)?s.$end()["$=="](_.$end()):e)?s.$step()["$=="](_.$step()):r)?s["$exclude_end?"]()["$=="](_["$exclude_end?"]()):n}),J(S,"$hash",function(){var _=this;return[c("ArithmeticSequence"),_.$begin(),_.$end(),_.$step(),_["$exclude_end?"]()].$hash()}),J(S,"$inspect",function(){var _=this,s=G;return y(_.receiver_num)?(s=y(_.step_arg2)?"("+_.topfx+_.step_arg1.$inspect()+", "+_.bypfx+_.step_arg2.$inspect()+")":y(_.step_arg1)?"("+_.topfx+_.step_arg1.$inspect()+")":G,"("+_.receiver_num.$inspect()+"."+_.creation_method+s+")"):(s=y(_.skipped_arg)?G:"("+_.step+")","(("+_.range.$inspect()+")."+_.creation_method+s+")")}),p(S,"===","=="),p(S,"eql?","==")}(F,F,k)}("::",null,P)};Opal.modules["corelib/enumerator/chain"]=function($){var q=$.deny_frozen_access,y=$.klass,D=$.slice,z=$.def,re=$.send,J=$.to_a,R=$.truthy,Q=$.rb_plus,v=$.thrower,K=$.nil,$e=$.$$$;return $.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(Z,U){var ee=y(Z,U,"Enumerator");return function(X,x){var p=y(X,x,"Chain"),P=p.$$prototype;return P.enums=P.iterated=K,z(p,"$initialize",function(T){var B,b,A=this;return B=D(arguments),b=B,q(A),A.enums=b,A.iterated=[],A.object=A},-1),z(p,"$each",function G(T){var B=G.$$p||K,b,A,F=this;return G.$$p=null,b=D(arguments),A=b,B===K?re(F,"to_enum",["each"].concat(J(A)),function k(){var E=k.$$s==null?this:k.$$s;return E.$size()},{$$s:F}):(re(F.enums,"each",[],function k(E){var u=k.$$s==null?this:k.$$s;return u.iterated==null&&(u.iterated=K),E==null&&(E=K),u.iterated["$<<"](E),re(E,"each",J(A),B.$to_proc())},{$$s:F}),F)},-1),z(p,"$size",function(T){try{var B=v("return"),b,A,F=this,k=K;return b=D(arguments),A=b,k=0,re(F.enums,"each",[],function E(u){var d=K;return u==null&&(u=K),d=re(u,"size",J(A)),R([K,$e($e("Float"),"INFINITY")]["$include?"](d))&&B.$throw(d,E.$$is_lambda),k=Q(k,d)},{$$ret:B}),k}catch(E){if(E===B)return E.$v;throw E}finally{B.is_orphan=!0}},-1),z(p,"$rewind",function(){var T=this;return re(T.iterated,"reverse_each",[],function(b){return b==null&&(b=K),R(b["$respond_to?"]("rewind"))?b.$rewind():K}),T.iterated=[],T}),z(p,"$inspect",function(){var T=this;return"#<Enumerator::Chain: "+T.enums.$inspect()+">"})}(ee,ee)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function($){var q=$.deny_frozen_access,y=$.klass,D=$.truthy,z=$.Kernel,re=$.def,J=$.slice,R=$.send,Q=[],v=$.nil,K=$.$$$;return $.add_stubs("include,raise,new,to_proc"),function($e,Z,U){var ee=y($e,Z,"Enumerator"),X=[ee].concat(U);return function(x,p,P){var G=y(x,p,"Generator"),T=[G].concat(P),B=$.$r(T),b=G.$$prototype;return b.block=v,G.$include(K("Enumerable")),re(G,"$initialize",function A(){var F=A.$$p||v,k=this;return A.$$p=null,q(k),D(F)||z.$raise(K("LocalJumpError"),"no block given"),k.block=F}),re(G,"$each",function A(F){var k=A.$$p||v,E,u,d=this,S=v;A.$$p=null,E=J(arguments),u=E,S=R(B("Yielder"),"new",[],k.$to_proc());try{u.unshift(S),$.yieldX(d.block,u)}catch(h){if(h&&h.$thrower_type=="breaker")return h.$v;throw h}return d},-1)}(X[0],null,X)}(Q[0],null,Q)};Opal.modules["corelib/enumerator/lazy"]=function($){var q=$.truthy,y=$.coerce_to,D=$.yield1,z=$.yieldX,re=$.deny_frozen_access,J=$.klass,R=$.slice,Q=$.send2,v=$.find_super,K=$.to_a,$e=$.defs,Z=$.Kernel,U=$.send,ee=$.def,X=$.return_self,x=$.Opal,p=$.rb_lt,P=$.eqeqeq,G=$.rb_plus,T=$.alias,B=[],b=$.nil,A=$.$$$;return $.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(F,k,E){var u=J(F,k,"Enumerator"),d=[u].concat(E);return function(S,h,c){var l=J(S,h,"Lazy"),w=[l].concat(c),H=$.$r(w),_=l.$$prototype;return _.enumerator=b,J(l,A("Exception"),"StopLazyError"),$e(l,"$for",function s(n,r){var e,t,i=s.$$p||b,a=this,o=b;return s.$$p=null,e=R(arguments,1),t=e,o=Q(a,v(a,"for",s,!1,!0),"for",[n].concat(K(t)),i),o.enumerator=n,o},-2),ee(l,"$initialize",function s(n,r){var e=s.$$p||b,t=this;return s.$$p=null,r==null&&(r=b),re(t),e===b&&Z.$raise(A("ArgumentError"),"tried to call lazy new without a block"),t.enumerator=n,Q(t,v(t,"initialize",s,!1,!0),"initialize",[r],function(a,o){var g,I;a==null&&(a=b),g=R(arguments,1),I=g;try{return U(n,"each",K(I),function(M){var V,O;V=R(arguments),O=V,O.unshift(a),z(e,O)},-1)}catch(C){if($.rescue(C,[H("StopLazyError")]))try{return b}finally{$.pop_exception(C)}else throw C}},-2)},-2),ee(l,"$lazy",X),ee(l,"$collect",function s(){var n=s.$$p||b,r=this;return s.$$p=null,q(n)||Z.$raise(A("ArgumentError"),"tried to call lazy map without a block"),U(H("Lazy"),"new",[r,r.$enumerator_size()],function(t,i){var a,o;t==null&&(t=b),a=R(arguments,1),o=a;var g=z(n,o);t.$yield(g)},-2)}),ee(l,"$collect_concat",function s(){var n=s.$$p||b,r=this;return s.$$p=null,q(n)||Z.$raise(A("ArgumentError"),"tried to call lazy map without a block"),U(H("Lazy"),"new",[r,b],function(t,i){var a,o;t==null&&(t=b),a=R(arguments,1),o=a;var g=z(n,o);if(g["$respond_to?"]("force")&&g["$respond_to?"]("each"))U(g,"each",[],function(M){return M==null&&(M=b),t.$yield(M)});else{var I=x.$try_convert(g,A("Array"),"to_ary");I===b?t.$yield(g):U(g,"each",[],function(M){return M==null&&(M=b),t.$yield(M)})}},-2)}),ee(l,"$drop",function(n){var r=this,e=b,t=b,i=b;return n=y(n,A("Integer"),"to_int"),q(p(n,0))&&Z.$raise(A("ArgumentError"),"attempt to drop negative size"),e=r.$enumerator_size(),t=P(A("Integer"),e)&&q(p(n,e))?n:e,i=0,U(H("Lazy"),"new",[r,t],function(o,g){var I,C;return o==null&&(o=b),I=R(arguments,1),C=I,q(p(i,n))?i=G(i,1):U(o,"yield",K(C))},-2)}),ee(l,"$drop_while",function s(){var n=s.$$p||b,r=this,e=b;return s.$$p=null,q(n)||Z.$raise(A("ArgumentError"),"tried to call lazy drop_while without a block"),e=!0,U(H("Lazy"),"new",[r,b],function(i,a){var o,g;if(i==null&&(i=b),o=R(arguments,1),g=o,q(e)){var I=z(n,g);q(I)||(e=!1,U(i,"yield",K(g)))}else return U(i,"yield",K(g))},-2)}),ee(l,"$enum_for",function s(n,r){var e=s.$$p||b,t,i,a,o=this;return s.$$p=null,t=R(arguments),t.length>0&&(i=t.shift()),i==null&&(i="each"),a=t,U(o.$class(),"for",[o,i].concat(K(a)),e.$to_proc())},-1),ee(l,"$find_all",function s(){var n=s.$$p||b,r=this;return s.$$p=null,q(n)||Z.$raise(A("ArgumentError"),"tried to call lazy select without a block"),U(H("Lazy"),"new",[r,b],function(t,i){var a,o;t==null&&(t=b),a=R(arguments,1),o=a;var g=z(n,o);q(g)&&U(t,"yield",K(o))},-2)}),ee(l,"$grep",function s(n){var r=s.$$p||b,e=this;return s.$$p=null,q(r)?U(H("Lazy"),"new",[e,b],function(i,a){var o,g;i==null&&(i=b),o=R(arguments,1),g=o;var I=x.$destructure(g),C=n["$==="](I);q(C)&&(C=D(r,I),i.$yield(D(r,I)))},-2):U(H("Lazy"),"new",[e,b],function(i,a){var o,g;i==null&&(i=b),o=R(arguments,1),g=o;var I=x.$destructure(g),C=n["$==="](I);q(C)&&i.$yield(I)},-2)}),ee(l,"$reject",function s(){var n=s.$$p||b,r=this;return s.$$p=null,q(n)||Z.$raise(A("ArgumentError"),"tried to call lazy reject without a block"),U(H("Lazy"),"new",[r,b],function(t,i){var a,o;t==null&&(t=b),a=R(arguments,1),o=a;var g=z(n,o);q(g)||U(t,"yield",K(o))},-2)}),ee(l,"$take",function(n){var r=this,e=b,t=b,i=b;return n=y(n,A("Integer"),"to_int"),q(p(n,0))&&Z.$raise(A("ArgumentError"),"attempt to take negative size"),e=r.$enumerator_size(),t=P(A("Integer"),e)&&q(p(n,e))?n:e,i=0,U(H("Lazy"),"new",[r,t],function(o,g){var I,C;return o==null&&(o=b),I=R(arguments,1),C=I,q(p(i,n))?(U(o,"yield",K(C)),i=G(i,1)):Z.$raise(H("StopLazyError"))},-2)}),ee(l,"$take_while",function s(){var n=s.$$p||b,r=this;return s.$$p=null,q(n)||Z.$raise(A("ArgumentError"),"tried to call lazy take_while without a block"),U(H("Lazy"),"new",[r,b],function(t,i){var a,o;t==null&&(t=b),a=R(arguments,1),o=a;var g=z(n,o);q(g)?U(t,"yield",K(o)):Z.$raise(H("StopLazyError"))},-2)}),ee(l,"$inspect",function(){var n=this;return"#<"+n.$class()+": "+n.enumerator.$inspect()+">"}),T(l,"force","to_a"),T(l,"filter","find_all"),T(l,"flat_map","collect_concat"),T(l,"map","collect"),T(l,"select","find_all"),T(l,"to_enum","enum_for")}(u,u,d)}("::",null,B)};Opal.modules["corelib/enumerator/yielder"]=function($){var q=$.klass,y=$.def,D=$.slice,z=$.send,re=$.to_a,J=[],R=$.nil;return $.add_stubs("yield,proc"),function(Q,v,K){var $e=q(Q,v,"Enumerator"),Z=[$e].concat(K);return function(U,ee){var X=q(U,ee,"Yielder"),x=X.$$prototype;return x.block=R,y(X,"$initialize",function p(){var P=p.$$p||R,G=this;return p.$$p=null,G.block=P,G}),y(X,"$yield",function(P){var G,T,B=this;G=D(arguments),T=G;var b=$.yieldX(B.block,T);if(b&&b.$thrower_type=="break")throw b;return b},-1),y(X,"$<<",function(P){var G=this;return G.$yield(P),G}),y(X,"$to_proc",function(){var P=this;return z(P,"proc",[],function G(T){var B,b,A=G.$$s==null?this:G.$$s;return B=D(arguments),b=B,z(A,"yield",re(b))},{$$arity:-1,$$s:P})})}(Z[0],null)}(J[0],null,J)};Opal.modules["corelib/enumerator"]=function($){var q=$.slice,y=$.coerce_to,D=$.deny_frozen_access,z=$.klass,re=$.defs,J=$.truthy,R=$.send,Q=$.not,v=$.def,K=$.rb_plus,$e=$.to_a,Z=$.Opal,U=$.send2,ee=$.find_super,X=$.rb_ge,x=$.Kernel,p=$.rb_le,P=$.alias,G=$.top,T=[],B=$.nil,b=$.$$$;return $.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),G.$require("corelib/enumerable"),function(A,F,k){var E=z(A,F,"Enumerator"),u=[E].concat(k),d=$.$r(u),S=E.$$prototype;return S.size=S.args=S.object=S.method=S.values=S.cursor=B,E.$include(b("Enumerable")),E.$$prototype.$$is_enumerator=!0,re(E,"$for",function h(c,l,w){var H=h.$$p||B,_,s,n,r=this;h.$$p=null,_=q(arguments,1),_.length>0&&(s=_.shift()),s==null&&(s="each"),n=_;var e=r.$allocate();return e.object=c,e.size=H,e.method=s,e.args=n,e.cursor=0,e},-2),v(E,"$initialize",function h(c){var l=h.$$p||B,w=this;return h.$$p=null,q(arguments),D(w),w.cursor=0,J(l)?(w.object=R(d("Generator"),"new",[],l.$to_proc()),w.method="each",w.args=[],w.size=arguments[0]||B,J(w.size)&&Q(w.size["$respond_to?"]("call"))?w.size=y(w.size,b("Integer"),"to_int"):B):(w.object=arguments[0],w.method=arguments[1]||"each",w.args=q(arguments,2),w.size=B)},-1),v(E,"$each",function h(c){var l=h.$$p||B,w,H,_=this;return h.$$p=null,w=q(arguments),H=w,J(l["$nil?"]())&&J(H["$empty?"]())?_:(H=K(_.args,H),J(l["$nil?"]())?R(_.$class(),"new",[_.object,_.method].concat($e(H))):R(_.object,"__send__",[_.method].concat($e(H)),l.$to_proc()))},-1),v(E,"$size",function(){var c=this;return J(c.size["$respond_to?"]("call"))?R(c.size,"call",$e(c.args)):c.size}),v(E,"$with_index",function h(c){var l=h.$$p||B,w=this;if(h.$$p=null,c==null&&(c=0),c=J(c)?y(c,b("Integer"),"to_int"):0,!J(l))return R(w,"enum_for",["with_index",c],function _(){var s=_.$$s==null?this:_.$$s;return s.$size()},{$$s:w});var H=c;return w.$each.$$p=function(){var _=Z.$destructure(arguments),s=l(_,H);return H++,s},w.$each()},-1),v(E,"$each_with_index",function h(){var c=h.$$p||B,l=this;return h.$$p=null,c===B?R(l,"enum_for",["each_with_index"],function w(){var H=w.$$s==null?this:w.$$s;return H.$size()},{$$s:l}):(U(l,ee(l,"each_with_index",h,!1,!0),"each_with_index",[],c),l.object)}),v(E,"$rewind",function(){var c=this;return c.cursor=0,c}),v(E,"$peek_values",function(){var c=this,l=B;return c.values=J(l=c.values)?l:R(c,"map",[],function(H){var _,s;return _=q(arguments),s=_,s},-1),J(X(c.cursor,c.values.$length()))&&x.$raise(b("StopIteration"),"iteration reached an end"),c.values["$[]"](c.cursor)}),v(E,"$peek",function(){var c=this,l=B;return l=c.$peek_values(),J(p(l.$length(),1))?l["$[]"](0):l}),v(E,"$next_values",function(){var c=this,l=B;return l=c.$peek_values(),c.cursor=K(c.cursor,1),l}),v(E,"$next",function(){var c=this,l=B;return l=c.$next_values(),J(p(l.$length(),1))?l["$[]"](0):l}),v(E,"$feed",function(c){var l=this;return l.$raise(d("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),v(E,"$+",function(c){var l=this;return b(b("Enumerator"),"Chain").$new(l,c)}),v(E,"$inspect",function(){var c=this,l=B;return l="#<"+c.$class()+": "+c.object.$inspect()+":"+c.method,J(c.args["$any?"]())&&(l=K(l,"("+c.args.$inspect()["$[]"](b("Range").$new(1,-2))+")")),K(l,">")}),P(E,"with_object","each_with_object"),E.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),E.$autoload("Chain","corelib/enumerator/chain"),E.$autoload("Generator","corelib/enumerator/generator"),E.$autoload("Lazy","corelib/enumerator/lazy"),E.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,T)};Opal.modules["corelib/numeric"]=function($){var q=$.klass,y=$.truthy,D=$.Kernel,z=$.def,re=$.to_ary,J=$.return_self,R=$.rb_minus,Q=$.rb_times,v=$.rb_lt,K=$.eqeq,$e=$.rb_divide,Z=$.return_val,U=$.Opal,ee=$.slice,X=$.extract_kwargs,x=$.ensure_kwargs,p=$.hash_get,P=$.not,G=$.send,T=$.rb_ge,B=$.rb_le,b=$.rb_plus,A=$.rb_gt,F=$.alias,k=$.top,E=$.nil,u=$.$$$;return $.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),k.$require("corelib/comparable"),function(d,S){var h=q(d,S,"Numeric");return h.$include(u("Comparable")),z(h,"$coerce",function(l){var w=this;return y(l["$instance_of?"](w.$class()))?[l,w]:[D.$Float(l),D.$Float(w)]}),z(h,"$__coerced__",function(l,w){var H,_,s=this,n=E,r=E;if(y(w["$respond_to?"]("coerce")))return _=w.$coerce(s),H=re(_),n=H[0]==null?E:H[0],r=H[1]==null?E:H[1],n.$__send__(l,r);switch(l.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return D.$raise(u("TypeError"),""+w.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return D.$raise(u("ArgumentError"),"comparison of "+s.$class()+" with "+w.$class()+" failed");default:return E}}),z(h,"$<=>",function(l){var w=this;return y(w["$equal?"](l))?0:E}),z(h,"$+@",J),z(h,"$-@",function(){var l=this;return R(0,l)}),z(h,"$%",function(l){var w=this;return R(w,Q(l,w.$div(l)))}),z(h,"$abs",function(){var l=this;return y(v(l,0))?l["$-@"]():l}),z(h,"$abs2",function(){var l=this;return Q(l,l)}),z(h,"$angle",function(){var l=this;return y(v(l,0))?u(u("Math"),"PI"):0}),z(h,"$ceil",function(l){var w=this;return l==null&&(l=0),w.$to_f().$ceil(l)},-1),z(h,"$conj",J),z(h,"$denominator",function(){var l=this;return l.$to_r().$denominator()}),z(h,"$div",function(l){var w=this;return K(l,0)&&D.$raise(u("ZeroDivisionError"),"divided by o"),$e(w,l).$floor()}),z(h,"$divmod",function(l){var w=this;return[w.$div(l),w["$%"](l)]}),z(h,"$fdiv",function(l){var w=this;return $e(w.$to_f(),l)}),z(h,"$floor",function(l){var w=this;return l==null&&(l=0),w.$to_f().$floor(l)},-1),z(h,"$i",function(){var l=this;return D.$Complex(0,l)}),z(h,"$imag",Z(0)),z(h,"$integer?",Z(!1)),z(h,"$nonzero?",function(){var l=this;return y(l["$zero?"]())?E:l}),z(h,"$numerator",function(){var l=this;return l.$to_r().$numerator()}),z(h,"$polar",function(){var l=this;return[l.$abs(),l.$arg()]}),z(h,"$quo",function(l){var w=this;return $e(U["$coerce_to!"](w,u("Rational"),"to_r"),l)}),z(h,"$real",J),z(h,"$real?",Z(!0)),z(h,"$rect",function(){var l=this;return[l,0]}),z(h,"$round",function(l){var w=this;return w.$to_f().$round(l)},-1),z(h,"$step",function c(l,w,H){var _=c.$$p||E,s,n,r,e,t,i,a=this,o=E;c.$$p=null,s=ee(arguments),n=X(s),n=x(n),s.length>0&&(r=s.shift()),s.length>0&&(e=s.shift()),t=p(n,"to"),i=p(n,"by"),r!==void 0&&t!==void 0&&D.$raise(u("ArgumentError"),"to is given twice"),e!==void 0&&i!==void 0&&D.$raise(u("ArgumentError"),"step is given twice"),t!==void 0&&(r=t),i!==void 0&&(e=i),r===void 0&&(r=E);function g(){e===E&&D.$raise(u("TypeError"),"step must be numeric"),e!=null&&e["$=="](0)&&D.$raise(u("ArgumentError"),"step can't be 0"),(e===E||e==null)&&(e=1);var ge=e["$<=>"](0);ge===E&&D.$raise(u("ArgumentError"),"0 can't be coerced into "+e.$class()),(r===E||r==null)&&(r=ge>0?u(u("Float"),"INFINITY"):u(u("Float"),"INFINITY")["$-@"]()),U.$compare(a,r)}function I(){if(e>0&&a>r||e<0&&a<r)return 0;if(e===1/0||e===-1/0)return 1;var ge=Math.abs,ve=Math.floor,me=(ge(a)+ge(r)+ge(r-a))/ge(e)*u(u("Float"),"EPSILON");return me===1/0||me===-1/0?0:(me>.5&&(me=.5),ve((r-a)/e+me)+1)}function C(){if(g(),e===0)return 1/0;if(e%1!==0)return I();if(e>0&&a>r||e<0&&a<r)return 0;var ge=Math.ceil,ve=Math.abs,me=ve(a-r)+1,be=ve(e);return ge(me/be)}if(_===E)return(P(r)||y(r["$is_a?"](u("Numeric"))))&&(P(e)||y(e["$is_a?"](u("Numeric"))))?u(u("Enumerator"),"ArithmeticSequence").$new([r,e,y(t)?"to: ":E,y(i)?"by: ":E],a):G(a,"enum_for",["step",r,e],C.$to_proc());g();var M=e["$negative?"](),V=e["$=="](0)||r===1/0&&!M||r===-1/0&&M;if(a.$$is_number&&e.$$is_number&&r.$$is_number)if(a%1===0&&(V||r%1===0)&&e%1===0){var O=a;if(V)for(;;O+=e)_(O);else if(M)for(;O>=r;O+=e)_(O);else for(;O<=r;O+=e)_(O);return a}else{var ae=a.$to_f().valueOf();e=e.$to_f().valueOf(),r=r.$to_f().valueOf();var le=I();if(!isFinite(e))le!==0&&_(ae);else if(e===0)for(;;)_(ae);else for(var _e=0;_e<le;_e++){var de=_e*e+a;(e>=0?r<de:r>de)&&(de=r),_(de)}return a}for(o=a;y(M?T(o,r):B(o,r));)$.yield1(_,o),o=b(o,e)},-1),z(h,"$to_c",function(){var l=this;return D.$Complex(l,0)}),z(h,"$to_int",function(){var l=this;return l.$to_i()}),z(h,"$truncate",function(l){var w=this;return l==null&&(l=0),w.$to_f().$truncate(l)},-1),z(h,"$zero?",function(){var l=this;return l["$=="](0)}),z(h,"$positive?",function(){var l=this;return A(l,0)}),z(h,"$negative?",function(){var l=this;return v(l,0)}),z(h,"$dup",J),z(h,"$clone",function(l){var w=this;return l=x(l),p(l,"freeze"),w},-1),z(h,"$finite?",Z(!0)),z(h,"$infinite?",Z(E)),F(h,"arg","angle"),F(h,"conjugate","conj"),F(h,"imaginary","imag"),F(h,"magnitude","abs"),F(h,"modulo","%"),F(h,"phase","arg"),F(h,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function($){var q=$.truthy,y=$.falsy,D=$.yield1,z=$.hash_get,re=$.hash_put,J=$.hash_delete,R=$.coerce_to,Q=$.respond_to,v=$.deny_frozen_access,K=$.freeze,$e=$.opal32_init,Z=$.opal32_add,U=$.klass,ee=$.slice,X=$.defs,x=$.Kernel,p=$.def,P=$.Opal,G=$.eqeqeq,T=$.send2,B=$.find_super,b=$.send,A=$.rb_gt,F=$.rb_times,k=$.eqeq,E=$.rb_minus,u=$.to_a,d=$.to_ary,S=$.gvars,h=$.rb_ge,c=$.assign_ivar,l=$.rb_lt,w=$.return_self,H=$.neqeq,_=$.alias,s=$.top,n=[],r=$.nil,e=$.$$$;return $.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),s.$require("corelib/enumerable"),s.$require("corelib/numeric"),function(t,i,a){var o=U(t,i,"Array"),g=[o].concat(a),I=$.$r(g);o.$include(e("Enumerable")),$.prop(o.$$prototype,"$$is_array",!0);function C(ie){for(var N=ie[0],j=1,Y=ie.length;j<Y;j++)ie[j-1]=ie[j];return ie.pop(),N}function M(ie,N){return N.$$name===$.Array?ie:N.$allocate().$replace(ie.$to_a())}function V(ie,N,j){for(var Y,W=null,ne=new Array(ie.length),se=0,oe=0;se<ie.length;se++){if(!W)try{Y=D(j,ie[se])}catch(fe){W=fe}(W||N(Y))&&(ne[oe]=ie[se],oe+=1)}if(oe!==se&&(ie.splice.apply(ie,[0,ne.length].concat(ne)),ie.splice(oe,ne.length)),W)throw W}function O(ie){return ie.$$is_array||(ie=R(ie,e("Array"),"to_ary")),ie.$to_a()}function ae(ie,N){var j=N.length;if(j>6&&j<32767)ie.push.apply(ie,N);else for(var Y=0;Y<j;Y++)ie.push(N[Y])}X(o,"$[]",function(N){var j,Y,W=this;return j=ee(arguments),Y=j,M(Y,W)},-1),p(o,"$initialize",function ie(N,j){var Y=ie.$$p||r,W=this;if(ie.$$p=null,N==null&&(N=r),j==null&&(j=r),v(W),j!==r&&Y!==r&&x.$warn("warning: block supersedes default value argument"),N>e(e("Integer"),"MAX")&&x.$raise(e("ArgumentError"),"array size too big"),arguments.length>2&&x.$raise(e("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return W.length>0&&W.splice(0,W.length),W;if(arguments.length===1){if(N.$$is_array)return W.$replace(N.$to_a()),W;if(N["$respond_to?"]("to_ary"))return W.$replace(N.$to_ary()),W}N=R(N,e("Integer"),"to_int"),N<0&&x.$raise(e("ArgumentError"),"negative array size"),W.splice(0,W.length);var ne,se;if(Y===r)for(ne=0;ne<N;ne++)W.push(j);else for(ne=0,se;ne<N;ne++)se=Y(ne),W[ne]=se;return W},-1),X(o,"$try_convert",function(N){return P["$coerce_to?"](N,e("Array"),"to_ary")}),p(o,"$&",function(N){var j=this;if(N=O(N),j.length===0||N.length===0)return[];var Y=[],W=new Map,ne,se,oe;for(ne=0,se=N.length;ne<se;ne++)re(W,N[ne],!0);for(ne=0,se=j.length;ne<se;ne++)oe=j[ne],J(W,oe)!==void 0&&Y.push(oe);return Y}),p(o,"$|",function(N){var j=this;N=O(N);var Y=new Map,W,ne;for(W=0,ne=j.length;W<ne;W++)re(Y,j[W],!0);for(W=0,ne=N.length;W<ne;W++)re(Y,N[W],!0);return Y.$keys()}),p(o,"$*",function(N){var j=this;if(q(N["$respond_to?"]("to_str")))return j.$join(N.$to_str());N=R(N,e("Integer"),"to_int"),q(N<0)&&x.$raise(e("ArgumentError"),"negative argument");for(var Y=[],W=j.$to_a(),ne=0;ne<N;ne++)Y=Y.concat(W);return Y}),p(o,"$+",function(N){var j=this;return N=O(N),j.concat(N)}),p(o,"$-",function(N){var j=this;if(N=O(N),q(j.length===0))return[];if(q(N.length===0))return j.slice();var Y=[],W=new Map,ne,se,oe;for(ne=0,se=N.length;ne<se;ne++)re(W,N[ne],!0);for(ne=0,se=j.length;ne<se;ne++)oe=j[ne],z(W,oe)===void 0&&Y.push(oe);return Y}),p(o,"$<<",function(N){var j=this;return v(j),j.push(N),j}),p(o,"$<=>",function(N){var j=this;if(G(e("Array"),N))N=N.$to_a();else if(q(N["$respond_to?"]("to_ary")))N=N.$to_ary().$to_a();else return r;if(j===N)return 0;for(var Y=Math.min(j.length,N.length),W=0;W<Y;W++){var ne=j[W]["$<=>"](N[W]);if(ne!==0)return ne}return j.length["$<=>"](N.length)}),p(o,"$==",function(N){var j=this,Y={};function W(ne,se){var oe,fe,f,m;if(ne===se)return!0;if(!se.$$is_array)return Q(se,"$to_ary")?se["$=="](ne):!1;if(ne.$$constructor!==Array&&(ne=ne.$to_a()),se.$$constructor!==Array&&(se=se.$to_a()),ne.length!==se.length)return!1;for(Y[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(f=ne[oe],m=se[oe],f.$$is_array){if(m.$$is_array&&m.length!==f.length||!Y.hasOwnProperty(f.$object_id())&&!W(f,m))return!1}else if(!f["$=="](m))return!1;return!0}return W(j,N)});function le(ie,N){var j=ie.length,Y,W,ne,se;return Y=N.excl,W=N.begin===r?0:R(N.begin,$.Integer,"to_int"),ne=N.end===r?-1:R(N.end,$.Integer,"to_int"),W<0&&(W+=j,W<0)||(N.excl_rev&&N.begin!==r&&(W+=1),W>j)?r:ne<0&&(ne+=j,ne<0)?[]:((!Y||N.end===r)&&(ne+=1),se=ie.slice(W,ne),se)}function _e(ie,N){var j,Y=[],W=0,ne;for(N.step<0?(ne={begin:N.range.end,end:N.range.begin,excl:!1,excl_rev:N.range.excl},j=le(ie,ne).$reverse()):j=le(ie,N.range);W<j.length;)Y.push(j[W]),W+=Math.abs(N.step);return Y}function de(ie,N,j){var Y=ie.length,W;return N=R(N,$.Integer,"to_int"),N<0&&(N+=Y,N<0)?r:j===void 0?N>=Y||N<0?r:ie[N]:(j=R(j,$.Integer,"to_int"),j<0||N>Y||N<0?r:(W=ie.slice(N,N+j),W))}p(o,"$[]",function(N,j){var Y=this;return N.$$is_range?le(Y,N):N.$$is_arithmetic_seq?_e(Y,N):de(Y,N,j)},-2),p(o,"$[]=",function(N,j,Y){var W=this,ne=r,se=r;v(W),ne=r;var oe,fe=W.length;if(N.$$is_range){j.$$is_array?ne=j.$to_a():j["$respond_to?"]("to_ary")?ne=j.$to_ary().$to_a():ne=[j];var f=N.excl,m=N.begin===r?0:R(N.begin,$.Integer,"to_int"),L=N.end===r?-1:R(N.end,$.Integer,"to_int");if(m<0&&(m+=fe,m<0&&x.$raise(e("RangeError"),""+N.$inspect()+" out of range")),L<0&&(L+=fe),(!f||N.end===r)&&(L+=1),m>fe)for(oe=fe;oe<m;oe++)W[oe]=r;return L<0?W.splice.apply(W,[m,0].concat(ne)):W.splice.apply(W,[m,L-m].concat(ne)),j}else{Y===void 0?se=1:(se=j,j=Y,j.$$is_array?ne=j.$to_a():j["$respond_to?"]("to_ary")?ne=j.$to_ary().$to_a():ne=[j]);var te;if(N=R(N,e("Integer"),"to_int"),se=R(se,e("Integer"),"to_int"),N<0&&(te=N,N+=fe,N<0&&x.$raise(e("IndexError"),"index "+te+" too small for array; minimum "+-W.length)),se<0&&x.$raise(e("IndexError"),"negative length ("+se+")"),N>fe)for(oe=fe;oe<N;oe++)W[oe]=r;return Y===void 0?W[N]=j:W.splice.apply(W,[N,se].concat(ne)),j}},-3),p(o,"$any?",function ie(N){var j=ie.$$p||r,Y=this;return ie.$$p=null,Y.length===0?!1:T(Y,B(Y,"any?",ie,!1,!0),"any?",[N],j)},-1),p(o,"$assoc",function(N){for(var j=this,Y=0,W=j.length,ne;Y<W;Y++)if(ne=j[Y],ne.length&&ne[0]["$=="](N))return ne;return r}),p(o,"$at",function(N){var j=this;return N=R(N,e("Integer"),"to_int"),N<0&&(N+=j.length),N<0||N>=j.length?r:j[N]}),p(o,"$bsearch_index",function ie(){var N=ie.$$p||r,j=this;if(ie.$$p=null,N===r)return j.$enum_for("bsearch_index");for(var Y=0,W=j.length,ne,se,oe,fe=!1,f=r;Y<W;){if(ne=Y+Math.floor((W-Y)/2),se=j[ne],oe=D(N,se),oe===!0)f=ne,fe=!0;else if(oe===!1||oe===r)fe=!1;else if(oe.$$is_number){if(oe===0)return ne;fe=oe<0}else x.$raise(e("TypeError"),"wrong argument type "+oe.$class()+" (must be numeric, true, false or nil)");fe?W=ne:Y=ne+1}return f}),p(o,"$bsearch",function ie(){var N=ie.$$p||r,j=this,Y=r;return ie.$$p=null,N===r?j.$enum_for("bsearch"):(Y=b(j,"bsearch_index",[],N.$to_proc()),Y!=null&&Y.$$is_number?j[Y]:Y)}),p(o,"$cycle",function ie(N){var j=ie.$$p||r,Y=this;if(ie.$$p=null,N==null&&(N=r),j===r)return b(Y,"enum_for",["cycle",N],function se(){var oe=se.$$s==null?this:se.$$s;return q(N["$nil?"]())?e(e("Float"),"INFINITY"):(N=P["$coerce_to!"](N,e("Integer"),"to_int"),q(A(N,0))?F(oe.$enumerator_size(),N):0)},{$$s:Y});if(q(Y["$empty?"]())||k(N,0))return r;var W,ne;if(N===r)for(;;)for(W=0,ne=Y.length;W<ne;W++)D(j,Y[W]);else{if(N=P["$coerce_to!"](N,e("Integer"),"to_int"),N<=0)return Y;for(;N>0;){for(W=0,ne=Y.length;W<ne;W++)D(j,Y[W]);N--}}return Y},-1),p(o,"$clear",function(){var N=this;return v(N),N.splice(0,N.length),N}),p(o,"$count",function ie(N){var j=ie.$$p||r,Y=this;return ie.$$p=null,q(N!==void 0)||q(j)?T(Y,B(Y,"count",ie,!1,!0),"count",[N],j):Y.$size()},-1),p(o,"$initialize_copy",function(N){var j=this;return j.$replace(N)}),p(o,"$collect",function ie(){var N=ie.$$p||r,j=this;if(ie.$$p=null,N===r)return b(j,"enum_for",["collect"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:j});for(var Y=[],W=0;W<j.length;W++){var ne=D(N,j[W]);Y[W]=ne}return Y}),p(o,"$collect!",function ie(){var N=ie.$$p||r,j=this;if(ie.$$p=null,N===r)return b(j,"enum_for",["collect!"],function ne(){var se=ne.$$s==null?this:ne.$$s;return se.$size()},{$$s:j});v(j);for(var Y=0;Y<j.length;Y++){var W=D(N,j[Y]);j[Y]=W}return j});function ge(ie,N){return ie===N||N===0?1:N>0&&ie>N?ge(ie-1,N-1)+ge(ie-1,N):0}p(o,"$combination",function ie(N){var j=ie.$$p||r,Y=this,W=r;if(ie.$$p=null,W=P["$coerce_to!"](N,e("Integer"),"to_int"),j===r)return b(Y,"enum_for",["combination",W],function te(){var ue=te.$$s==null?this:te.$$s;return ge(ue.length,W)},{$$s:Y});var ne,se,oe,fe,f,m,L;if(W===0)$.yield1(j,[]);else if(W===1)for(ne=0,se=Y.length;ne<se;ne++)$.yield1(j,[Y[ne]]);else if(W===Y.length)$.yield1(j,Y.slice());else if(W>=0&&W<Y.length){for(oe=[],ne=0;ne<=W+1;ne++)oe.push(0);for(fe=[],f=0,m=!1,oe[0]=-1;!m;){for(fe[f]=Y[oe[f+1]];f<W-1;)f++,L=oe[f+1]=oe[f]+1,fe[f]=Y[L];$.yield1(j,fe.slice()),f++;do m=f===0,oe[f]++,f--;while(oe[f+1]+W===Y.length+f+1)}}return Y}),p(o,"$repeated_combination",function ie(N){var j=ie.$$p||r,Y=this,W=r;if(ie.$$p=null,W=P["$coerce_to!"](N,e("Integer"),"to_int"),j===r)return b(Y,"enum_for",["repeated_combination",W],function se(){var oe=se.$$s==null?this:se.$$s;return ge(oe.length+W-1,W)},{$$s:Y});function ne(se,oe,fe,f){if(fe.length==se){var m=fe.slice();$.yield1(j,m);return}for(var L=oe;L<f.length;L++)fe.push(f[L]),ne(se,L,fe,f),fe.pop()}return W>=0&&ne(W,0,[],Y),Y}),p(o,"$compact",function(){for(var N=this,j=[],Y=0,W=N.length,ne;Y<W;Y++)(ne=N[Y])!==r&&j.push(ne);return j}),p(o,"$compact!",function(){var N=this;v(N);for(var j=N.length,Y=0,W=N.length;Y<W;Y++)N[Y]===r&&(N.splice(Y,1),W--,Y--);return N.length===j?r:N}),p(o,"$concat",function(N){var j,Y,W=this;return j=ee(arguments),Y=j,v(W),Y=b(Y,"map",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;return se==null&&(se=r),se=O(se),q(se["$equal?"](oe))&&(se=se.$dup()),se},{$$s:W}),b(Y,"each",[],function ne(se){var oe=ne.$$s==null?this:ne.$$s;se==null&&(se=r);for(var fe=0,f=se.length;fe<f;fe++)oe.push(se[fe])},{$$s:W}),W},-1),p(o,"$delete",function ie(N){var j=ie.$$p||r,Y=this;ie.$$p=null;for(var W=Y.length,ne=0,se=W;ne<se;ne++)Y[ne]["$=="](N)&&(v(Y),Y.splice(ne,1),se--,ne--);return Y.length===W?j!==r?$.yieldX(j,[]):r:N}),p(o,"$delete_at",function(N){var j=this;if(v(j),N=R(N,e("Integer"),"to_int"),N<0&&(N+=j.length),N<0||N>=j.length)return r;var Y=j[N];return j.splice(N,1),Y}),p(o,"$delete_if",function ie(){var N=ie.$$p||r,j=this;return ie.$$p=null,N===r?b(j,"enum_for",["delete_if"],function Y(){var W=Y.$$s==null?this:Y.$$s;return W.$size()},{$$s:j}):(v(j),V(j,y,N),j)}),p(o,"$difference",function(N){var j,Y,W=this;return j=ee(arguments),Y=j,b(Y,"reduce",[W.$to_a().$dup()],function(se,oe){return se==null&&(se=r),oe==null&&(oe=r),E(se,oe)})},-1),p(o,"$dig",function(N,j){var Y,W,ne=this,se=r;return Y=ee(arguments,1),W=Y,se=ne["$[]"](N),se===r||W.length===0?se:(q(se["$respond_to?"]("dig"))||x.$raise(e("TypeError"),""+se.$class()+" does not have #dig method"),b(se,"dig",u(W)))},-2),p(o,"$drop",function(N){var j=this;return N=R(N,e("Integer"),"to_int"),N<0&&x.$raise(e("ArgumentError")),j.slice(N)}),p(o,"$dup",function ie(){var N=ie.$$p||r,j=this;return ie.$$p=null,j.$$class===$.Array&&j.$$class.$allocate.$$pristine&&j.$copy_instance_variables.$$pristine&&j.$initialize_dup.$$pristine?j.slice(0):T(j,B(j,"dup",ie,!1,!0),"dup",[],N)}),p(o,"$each",function ie(){var N=ie.$$p||r,j=this;if(ie.$$p=null,N===r)return b(j,"enum_for",["each"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:j});for(var Y=0;Y<j.length;Y++)D(N,j[Y]);return j}),p(o,"$each_index",function ie(){var N=ie.$$p||r,j=this;if(ie.$$p=null,N===r)return b(j,"enum_for",["each_index"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:j});for(var Y=0;Y<j.length;Y++)D(N,Y);return j}),p(o,"$empty?",function(){var N=this;return N.length===0}),p(o,"$eql?",function(N){var j=this,Y={};function W(ne,se){var oe,fe,f,m;if(!se.$$is_array||(se=se.$to_a(),ne.length!==se.length))return!1;for(Y[ne.$object_id()]=!0,oe=0,fe=ne.length;oe<fe;oe++)if(f=ne[oe],m=se[oe],f.$$is_array){if(m.$$is_array&&m.length!==f.length||!Y.hasOwnProperty(f.$object_id())&&!W(f,m))return!1}else if(!f["$eql?"](m))return!1;return!0}return W(j,N)}),p(o,"$fetch",function ie(N,j){var Y=ie.$$p||r,W=this;ie.$$p=null;var ne=N;if(N=R(N,e("Integer"),"to_int"),N<0&&(N+=W.length),N>=0&&N<W.length)return W[N];if(Y!==r&&j!=null&&W.$warn("warning: block supersedes default value argument"),Y!==r)return Y(ne);if(j!=null)return j;W.length===0?x.$raise(e("IndexError"),"index "+ne+" outside of array bounds: 0...0"):x.$raise(e("IndexError"),"index "+ne+" outside of array bounds: -"+W.length+"..."+W.length)},-2),p(o,"$fill",function ie(N){var j=ie.$$p||r,Y,W,ne,se,oe=this,fe=r,f=r,m=r,L=r,te=r;ie.$$p=null,Y=ee(arguments),W=Y,v(oe);var ue,ce;if(q(j)?(q(W.length>2)&&x.$raise(e("ArgumentError"),"wrong number of arguments ("+W.$length()+" for 0..2)"),se=W,ne=d(se),fe=ne[0]==null?r:ne[0],f=ne[1]==null?r:ne[1]):(q(W.length==0)?x.$raise(e("ArgumentError"),"wrong number of arguments (0 for 1..3)"):q(W.length>3)&&x.$raise(e("ArgumentError"),"wrong number of arguments ("+W.$length()+" for 1..3)"),se=W,ne=d(se),m=ne[0]==null?r:ne[0],fe=ne[1]==null?r:ne[1],f=ne[2]==null?r:ne[2]),G(e("Range"),fe)){if(q(f)&&x.$raise(e("TypeError"),"length invalid with range"),L=fe.begin===r?0:R(fe.begin,e("Integer"),"to_int"),q(L<0)&&(L+=this.length),q(L<0)&&x.$raise(e("RangeError"),""+fe.$inspect()+" out of range"),te=fe.end===r?-1:R(fe.end,e("Integer"),"to_int"),q(te<0)&&(te+=this.length),q(fe["$exclude_end?"]())||(te+=1),q(te<=L))return oe}else if(q(fe))if(L=R(fe,e("Integer"),"to_int"),q(L<0)&&(L+=this.length),q(L<0)&&(L=0),q(f)){if(te=R(f,e("Integer"),"to_int"),q(te==0))return oe;te+=L}else te=this.length;else L=0,te=this.length;if(q(L>this.length))for(ue=this.length;ue<te;ue++)oe[ue]=r;if(q(te>this.length)&&(this.length=te),q(j))for(this.length;L<te;L++)ce=j(L),oe[L]=ce;else for(this.length;L<te;L++)oe[L]=m;return oe},-1),p(o,"$first",function(N){var j=this;return N==null?j.length===0?r:j[0]:(N=R(N,e("Integer"),"to_int"),N<0&&x.$raise(e("ArgumentError"),"negative array size"),j.slice(0,N))},-1),p(o,"$flatten",function(N){var j=this;function Y(W,ne){var se=[],oe,fe,f,m;for(W=W.$to_a(),oe=0,fe=W.length;oe<fe;oe++){if(f=W[oe],!Q(f,"$to_ary",!0)){se.push(f);continue}if(m=f.$to_ary(),m===r){se.push(f);continue}switch(m.$$is_array||x.$raise(e("TypeError")),m===j&&x.$raise(e("ArgumentError")),ne){case void 0:se=se.concat(Y(m));break;case 0:se.push(m);break;default:ae(se,Y(m,ne-1))}}return se}return N!==void 0&&(N=R(N,e("Integer"),"to_int")),Y(j,N)},-1),p(o,"$flatten!",function(N){var j=this;v(j);var Y=j.$flatten(N);if(j.length==Y.length){for(var W=0,ne=j.length;W<ne&&j[W]===Y[W];W++);if(W==ne)return r}return j.$replace(Y),j},-1),p(o,"$freeze",function(){var N=this;return q(N["$frozen?"]())?N:K(N)});var ve;p(o,"$hash",function(){var N=this,j=ve===void 0,Y=$e(),W=N.$object_id(),ne,se,oe;if(Y=Z(Y,10),Y=Z(Y,N.length),j)ve=Object.create(null);else if(ve[W])return Z(Y,16843009);try{for(oe in ve)if(ne=ve[oe],N["$eql?"](ne))return Z(Y,16843009);for(ve[W]=N,se=0;se<N.length;se++)ne=N[se],Y=Z(Y,ne.$hash());return Y}finally{j&&(ve=void 0)}}),p(o,"$include?",function(N){for(var j=this,Y=0,W=j.length;Y<W;Y++)if(j[Y]["$=="](N))return!0;return!1}),p(o,"$index",function ie(N){var j=ie.$$p||r,Y=this;ie.$$p=null;var W,ne,se;if(N!=null&&j!==r&&Y.$warn("warning: given block not used"),N!=null){for(W=0,ne=Y.length;W<ne;W++)if(Y[W]["$=="](N))return W}else if(j!==r){for(W=0;W<Y.length;W++)if(se=j(Y[W]),se!==!1&&se!==r)return W}else return Y.$enum_for("index");return r},-1),p(o,"$insert",function(N,j){var Y,W,ne=this;if(Y=ee(arguments,1),W=Y,v(ne),N=R(N,e("Integer"),"to_int"),W.length>0){if(N<0&&(N+=ne.length+1,N<0&&x.$raise(e("IndexError"),""+N+" is out of bounds")),N>ne.length)for(var se=ne.length;se<N;se++)ne.push(r);ne.splice.apply(ne,[N,0].concat(W))}return ne},-2);var me=[];p(o,"$inspect",function(){var N=this,j=[],Y=N.$__id__(),W=!0;return function(){try{if(me.indexOf(Y)!==-1)return W=!1,"[...]";me.push(Y);for(var ne=0,se=N.length;ne<se;ne++){var oe=N["$[]"](ne);j.push(I("Opal").$inspect(oe))}return"["+j.join(", ")+"]"}finally{W&&me.pop()}}()}),p(o,"$intersection",function(N){var j,Y,W=this,ne=r,se=r;return j=ee(arguments),Y=j,Y.length===0?W.$to_a().$dup():(Y=Y.map(O),W.length===0?[]:(Y=b(Y,"sort_by",[],"length".$to_proc()),q(W.length<Y[0].length)?b(Y,"reduce",[W],"&".$to_proc()):(ne=Y.pop(),se=b(Y,"reduce",[ne],"&".$to_proc()),W["$&"](se))))},-1),p(o,"$intersect?",function(N){var j=this,Y,W,ne=new Map,se,oe;for(j.length<N.length?(Y=j,W=N):(Y=N,W=j),se=0,oe=Y.length;se<oe;se++)re(ne,Y[se],!0);for(se=0,oe=W.length;se<oe;se++)if(z(ne,W[se]))return!0;return!1}),p(o,"$join",function(N){var j=this;if(S[","]==null&&(S[","]=r),N==null&&(N=r),q(j.length===0))return"";q(N===r)&&(N=S[","]);var Y=[],W,ne,se,oe;for(W=0,ne=j.length;W<ne;W++){if(se=j[W],Q(se,"$to_str")&&(oe=se.$to_str(),oe!==r)){Y.push(oe.$to_s());continue}if(Q(se,"$to_ary")&&(oe=se.$to_ary(),oe===j&&x.$raise(e("ArgumentError")),oe!==r)){Y.push(oe.$join(N));continue}if(Q(se,"$to_s")&&(oe=se.$to_s(),oe!==r)){Y.push(oe);continue}x.$raise(e("NoMethodError").$new(""+I("Opal").$inspect(j.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return N===r?Y.join(""):Y.join(P["$coerce_to!"](N,e("String"),"to_str").$to_s())},-1),p(o,"$keep_if",function ie(){var N=ie.$$p||r,j=this;return ie.$$p=null,N===r?b(j,"enum_for",["keep_if"],function Y(){var W=Y.$$s==null?this:Y.$$s;return W.$size()},{$$s:j}):(v(j),V(j,q,N),j)}),p(o,"$last",function(N){var j=this;return N==null?j.length===0?r:j[j.length-1]:(N=R(N,e("Integer"),"to_int"),N<0&&x.$raise(e("ArgumentError"),"negative array size"),N>j.length&&(N=j.length),j.slice(j.length-N,j.length))},-1),p(o,"$length",function(){var N=this;return N.length}),p(o,"$max",function ie(N){var j=ie.$$p||r,Y=this;return ie.$$p=null,b(Y.$each(),"max",[N],j.$to_proc())},-1),p(o,"$min",function ie(){var N=ie.$$p||r,j=this;return ie.$$p=null,b(j.$each(),"min",[],N.$to_proc())});function be(ie,N){for(var j=N>=0?1:0;N;)j*=ie,ie--,N--;return j}return p(o,"$permutation",function ie(N){var j=ie.$$p||r,Y=this,W=r,ne=r;if(ie.$$p=null,j===r)return b(Y,"enum_for",["permutation",N],function m(){var L=m.$$s==null?this:m.$$s;return be(L.length,N===void 0?L.length:N)},{$$s:Y});var se,oe,fe;if(N===void 0?N=Y.length:N=R(N,e("Integer"),"to_int"),!(N<0||Y.length<N))if(N===0)$.yield1(j,[]);else if(N===1)for(var f=0;f<Y.length;f++)$.yield1(j,[Y[f]]);else W=I("Array").$new(N),ne=I("Array").$new(Y.length,!1),se=function(m,L,te,ue,ce){Y=this;for(var he=0;he<Y.length;he++)if(ue["$[]"](he)["$!"]())if(L[te]=he,te<m-1)ue[he]=!0,se.call(Y,m,L,te+1,ue,ce),ue[he]=!1;else{fe=[];for(var pe=0;pe<L.length;pe++)fe.push(Y[L[pe]]);D(ce,fe)}},j!==r?(oe=Y.slice(),se.call(oe,N,W,0,ne,j)):se.call(Y,N,W,0,ne,j);return Y},-1),p(o,"$repeated_permutation",function ie(N){var j=ie.$$p||r,Y=this,W=r;if(ie.$$p=null,W=P["$coerce_to!"](N,e("Integer"),"to_int"),j===r)return b(Y,"enum_for",["repeated_permutation",W],function se(){var oe=se.$$s==null?this:se.$$s;return q(h(W,0))?oe.$size()["$**"](W):0},{$$s:Y});function ne(se,oe,fe){if(oe.length==se){var f=oe.slice();$.yield1(j,f);return}for(var m=0;m<fe.length;m++)oe.push(fe[m]),ne(se,oe,fe),oe.pop()}return ne(W,[],Y.slice()),Y}),p(o,"$pop",function(N){var j=this;return v(j),q(N===void 0)?q(j.length===0)?r:j.pop():(N=R(N,e("Integer"),"to_int"),q(N<0)&&x.$raise(e("ArgumentError"),"negative array size"),q(j.length===0)?[]:q(N===1)?[j.pop()]:q(N>j.length)?j.splice(0,j.length):j.splice(j.length-N,j.length))},-1),p(o,"$product",function ie(N){var j=ie.$$p||r,Y,W,ne=this;ie.$$p=null,Y=ee(arguments),W=Y;var se=j!==r?null:[],oe=W.length+1,fe=new Array(oe),f=new Array(oe),m=new Array(oe),L,te,ue,ce,he=1;for(m[0]=ne,L=1;L<oe;L++)m[L]=R(W[L-1],e("Array"),"to_ary");for(L=0;L<oe;L++){if(ce=m[L].length,ce===0)return se||ne;he*=ce,he>2147483647&&x.$raise(e("RangeError"),"too big to product"),f[L]=ce,fe[L]=0}e:for(;;){for(ue=[],L=0;L<oe;L++)ue.push(m[L][fe[L]]);for(se?se.push(ue):$.yield1(j,ue),te=oe-1,fe[te]++;fe[te]===f[te];){if(fe[te]=0,--te<0)break e;fe[te]++}}return se||ne},-1),p(o,"$push",function(N){var j,Y,W=this;return j=ee(arguments),Y=j,v(W),ae(W,Y),W},-1),p(o,"$rassoc",function(N){for(var j=this,Y=0,W=j.length,ne;Y<W;Y++)if(ne=j[Y],ne.length&&ne[1]!==void 0&&ne[1]["$=="](N))return ne;return r}),p(o,"$reject",function ie(){var N=ie.$$p||r,j=this;if(ie.$$p=null,N===r)return b(j,"enum_for",["reject"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:j});for(var Y=[],W=0,ne;W<j.length;W++)ne=N(j[W]),(ne===!1||ne===r)&&Y.push(j[W]);return Y}),p(o,"$reject!",function ie(){var N=ie.$$p||r,j=this,Y=r;return ie.$$p=null,N===r?b(j,"enum_for",["reject!"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:j}):(v(j),Y=j.$length(),b(j,"delete_if",[],N.$to_proc()),k(j.$length(),Y)?r:j)}),p(o,"$replace",function(N){var j=this;return v(j),N=O(N),j.length>0&&j.splice(0,j.length),ae(j,N),j}),p(o,"$reverse",function(){var N=this;return N.slice(0).reverse()}),p(o,"$reverse!",function(){var N=this;return v(N),N.reverse()}),p(o,"$reverse_each",function ie(){var N=ie.$$p||r,j=this;if(ie.$$p=null,N===r)return b(j,"enum_for",["reverse_each"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:j});for(var Y=j.length-1;Y>=0;Y--)D(N,j[Y]);return j}),p(o,"$rindex",function ie(N){var j=ie.$$p||r,Y=this;ie.$$p=null;var W,ne;if(N!=null&&j!==r&&Y.$warn("warning: given block not used"),N!=null){for(W=Y.length-1;W>=0&&!(W>=Y.length);W--)if(Y[W]["$=="](N))return W}else if(j!==r){for(W=Y.length-1;W>=0&&!(W>=Y.length);W--)if(ne=j(Y[W]),ne!==!1&&ne!==r)return W}else if(N==null)return Y.$enum_for("rindex");return r},-1),p(o,"$rotate",function(N){var j=this;N==null&&(N=1);var Y,W,ne,se;return N=R(N,e("Integer"),"to_int"),j.length===1?j.slice():j.length===0?[]:(Y=j.slice(),W=N%Y.length,ne=Y.slice(W),se=Y.slice(0,W),ne.concat(se))},-1),p(o,"$rotate!",function(N){var j=this,Y=r;return N==null&&(N=1),v(j),j.length===0||j.length===1?j:(N=R(N,e("Integer"),"to_int"),Y=j.$rotate(N),j.$replace(Y))},-1),function(ie,N){var j=U(ie,N,"SampleRandom"),Y=j.$$prototype;return Y.rng=r,p(j,"$initialize",c("rng")),p(j,"$rand",function(ne){var se=this,oe=r;return oe=R(se.rng.$rand(ne),e("Integer"),"to_int"),q(oe<0)&&x.$raise(e("RangeError"),"random value must be >= 0"),q(oe<ne)||x.$raise(e("RangeError"),"random value must be less than Array size"),oe})}(o,null),p(o,"$sample",function(N,j){var Y=this,W=r,ne=r;if(q(N===void 0))return Y.$at(x.$rand(Y.length));if(q(j===void 0)?q(W=P["$coerce_to?"](N,e("Hash"),"to_hash"))?(j=W,N=r):(j=r,N=R(N,e("Integer"),"to_int")):(N=R(N,e("Integer"),"to_int"),j=R(j,e("Hash"),"to_hash")),q(N)&&q(N<0)&&x.$raise(e("ArgumentError"),"count must be greater than 0"),q(j)&&(ne=j["$[]"]("random")),ne=q(ne)&&q(ne["$respond_to?"]("rand"))?I("SampleRandom").$new(ne):x,!q(N))return Y[ne.$rand(Y.length)];var se,oe,fe,f,m,L,te,ue;switch(N>Y.length&&(N=Y.length),N){case 0:return[];case 1:return[Y[ne.$rand(Y.length)]];case 2:return f=ne.$rand(Y.length),m=ne.$rand(Y.length-1),f<=m&&m++,[Y[f],Y[m]];default:if(Y.length/N>3){for(se=!1,oe=0,fe=I("Array").$new(N),f=1,fe[0]=ne.$rand(Y.length);f<N;){for(L=ne.$rand(Y.length),m=0;m<f;){for(;L===fe[m];){if(oe++,oe>100){se=!0;break}L=ne.$rand(Y.length)}if(se)break;m++}if(se)break;fe[f]=L,f++}if(!se){for(f=0;f<N;)fe[f]=Y[fe[f]],f++;return fe}}fe=Y.slice();for(var ce=0;ce<N;ce++)te=ne.$rand(Y.length-ce)+ce,ue=fe[ce],fe[ce]=fe[te],fe[te]=ue;return N===Y.length?fe:fe["$[]"](0,N)}},-1),p(o,"$select",function ie(){var N=ie.$$p||r,j=this;if(ie.$$p=null,N===r)return b(j,"enum_for",["select"],function oe(){var fe=oe.$$s==null?this:oe.$$s;return fe.$size()},{$$s:j});for(var Y=[],W=0,ne,se;W<j.length;W++)ne=j[W],se=D(N,ne),q(se)&&Y.push(ne);return Y}),p(o,"$select!",function ie(){var N=ie.$$p||r,j=this;if(ie.$$p=null,N===r)return b(j,"enum_for",["select!"],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$size()},{$$s:j});v(j);var Y=j.length;return b(j,"keep_if",[],N.$to_proc()),j.length===Y?r:j}),p(o,"$shift",function(N){var j=this;return v(j),q(N===void 0)?q(j.length===0)?r:C(j):(N=R(N,e("Integer"),"to_int"),q(N<0)&&x.$raise(e("ArgumentError"),"negative array size"),q(j.length===0)?[]:j.splice(0,N))},-1),p(o,"$shuffle",function(N){var j=this;return j.$dup().$to_a()["$shuffle!"](N)},-1),p(o,"$shuffle!",function(N){var j=this;v(j);var Y,W=j.length,ne,se;for(N!==void 0&&(N=P["$coerce_to?"](N,e("Hash"),"to_hash"),N!==r&&(N=N["$[]"]("random"),N!==r&&N["$respond_to?"]("rand")&&(Y=N)));W;)Y?(ne=Y.$rand(W).$to_int(),ne<0&&x.$raise(e("RangeError"),"random number too small "+ne),ne>=W&&x.$raise(e("RangeError"),"random number too big "+ne)):ne=j.$rand(W),se=j[--W],j[W]=j[ne],j[ne]=se;return j},-1),p(o,"$slice!",function(N,j){var Y=this,W=r,ne=r,se=r,oe=r,fe=r;if(v(Y),W=r,q(j===void 0))if(G(e("Range"),N)){ne=N,W=Y["$[]"](ne),se=ne.begin===r?0:R(ne.begin,e("Integer"),"to_int"),oe=ne.end===r?-1:R(ne.end,e("Integer"),"to_int"),se<0&&(se+=Y.length),oe<0?oe+=Y.length:oe>=Y.length&&(oe=Y.length-1,ne.excl&&(oe+=1));var f=oe-se;ne.excl&&ne.end!==r?oe-=1:f+=1,se<Y.length&&se>=0&&oe<Y.length&&oe>=0&&f>0&&Y.splice(se,f)}else{if(fe=R(N,e("Integer"),"to_int"),fe<0&&(fe+=Y.length),fe<0||fe>=Y.length)return r;W=Y[fe],fe===0?Y.shift():Y.splice(fe,1)}else{if(fe=R(N,e("Integer"),"to_int"),j=R(j,e("Integer"),"to_int"),j<0)return r;W=Y["$[]"](fe,j),fe<0&&(fe+=Y.length),fe+j>Y.length&&(j=Y.length-fe),fe<Y.length&&fe>=0&&Y.splice(fe,j)}return W},-2),p(o,"$sort",function ie(){var N=ie.$$p||r,j=this;return ie.$$p=null,q(j.length>1)?(N===r&&(N=function(Y,W){return Y["$<=>"](W)}),j.slice().sort(function(Y,W){var ne=N(Y,W);return ne===r&&x.$raise(e("ArgumentError"),"comparison of "+Y.$inspect()+" with "+W.$inspect()+" failed"),A(ne,0)?1:l(ne,0)?-1:0})):j}),p(o,"$sort!",function ie(){var N=ie.$$p||r,j=this;ie.$$p=null,v(j);var Y;N!==r?Y=b(j.slice(),"sort",[],N.$to_proc()):Y=j.slice().$sort(),j.length=0;for(var W=0,ne=Y.length;W<ne;W++)j.push(Y[W]);return j}),p(o,"$sort_by!",function ie(){var N=ie.$$p||r,j=this;return ie.$$p=null,N===r?b(j,"enum_for",["sort_by!"],function Y(){var W=Y.$$s==null?this:Y.$$s;return W.$size()},{$$s:j}):(v(j),j.$replace(b(j,"sort_by",[],N.$to_proc())))}),p(o,"$take",function(N){var j=this;return N<0&&x.$raise(e("ArgumentError")),j.slice(0,N)}),p(o,"$take_while",function ie(){var N=ie.$$p||r,j=this;ie.$$p=null;for(var Y=[],W=0,ne,se;W<j.length;W++){if(ne=j[W],se=N(ne),se===!1||se===r)return Y;Y.push(ne)}return Y}),p(o,"$to_a",function(){var N=this;return N.$$class===$.Array?N:$.Array.$new(N)}),p(o,"$to_ary",w),p(o,"$to_h",function ie(){var N=ie.$$p||r,j=this,Y=r;ie.$$p=null,Y=j,N!==r&&(Y=b(Y,"map",[],N.$to_proc()));var W,ne=Y.length,se,oe,fe,f=new Map;for(W=0;W<ne;W++)se=P["$coerce_to?"](Y[W],e("Array"),"to_ary"),se.$$is_array||x.$raise(e("TypeError"),"wrong element type "+Y[W].$class()+" at "+W+" (expected array)"),se.length!==2&&x.$raise(e("ArgumentError"),"element has wrong array length at "+W+" (expected 2, was "+se.$length()+")"),oe=se[0],fe=se[1],re(f,oe,fe);return f}),p(o,"$transpose",function(){var N=this,j=r,Y=r;return q(N["$empty?"]())?[]:(j=[],Y=r,b(N,"each",[],function(ne){var se=r;return ne==null&&(ne=r),ne=O(ne),Y=q(se=Y)?se:ne.length,H(ne.length,Y)&&x.$raise(e("IndexError"),"element size differs ("+ne.length+" should be "+Y+")"),b(ne.length,"times",[],function(fe){var f,m=r;return fe==null&&(fe=r),m=q(se=j["$[]"](fe))?se:(f=[fe,[]],b(j,"[]=",f),f[f.length-1]),m["$<<"](ne.$at(fe))})}),j)}),p(o,"$union",function(N){var j,Y,W=this;return j=ee(arguments),Y=j,b(Y,"reduce",[W.$uniq()],function(se,oe){return se==null&&(se=r),oe==null&&(oe=r),se["$|"](oe)})},-1),p(o,"$uniq",function ie(){var N=ie.$$p||r,j=this;ie.$$p=null;var Y=new Map,W,ne,se,oe;if(N===r)for(W=0,ne=j.length;W<ne;W++)se=j[W],z(Y,se)===void 0&&re(Y,se,se);else for(W=0;W<j.length;W++)se=j[W],oe=D(N,se),z(Y,oe)===void 0&&re(Y,oe,se);return Y.$values()}),p(o,"$uniq!",function ie(){var N=ie.$$p||r,j=this;ie.$$p=null,v(j);var Y=new Map,W,ne,se,oe=[];for(W=0;W<j.length;W++)ne=j[W],se=N===r?ne:D(N,ne),z(Y,se)===void 0?re(Y,se,ne):oe.push(W);for(W=oe.length-1;W>=0;W--)j.splice(oe[W],1);return oe.length===0?r:j}),p(o,"$unshift",function(N){var j,Y,W=this;j=ee(arguments),Y=j,v(W);var ne=W.length,se=Y.length;if(se==0)return W;for(var oe=ne-se,fe=0;fe<se;fe++)W.push(W[oe+fe]);for(var f=ne-1;f-se>=0;)W[f]=W[f-se],f--;for(var m=0;m<se;m++)W[m]=Y[m];return W},-1),p(o,"$values_at",function(N){var j,Y,W=this,ne=r;return j=ee(arguments),Y=j,ne=[],b(Y,"each",[],function se(oe){var fe=se.$$s==null?this:se.$$s,f=r,m=r,L=r;return oe==null&&(oe=r),q(oe["$is_a?"](e("Range")))?(f=oe.$end()===r?-1:R(oe.$end(),e("Integer"),"to_int"),m=oe.$begin()===r?0:R(oe.$begin(),e("Integer"),"to_int"),m<0?(m=m+fe.length,r):(f<0&&(f=f+fe.length),oe["$exclude_end?"]()&&oe.$end()!==r&&f--,f<m?r:b(m,"upto",[f],function te(ue){var ce=te.$$s==null?this:te.$$s;return ue==null&&(ue=r),ne["$<<"](ce.$at(ue))},{$$s:fe}))):(L=R(oe,e("Integer"),"to_int"),ne["$<<"](fe.$at(L)))},{$$s:W}),ne},-1),p(o,"$zip",function ie(N){var j=ie.$$p||r,Y,W,ne=this,se=r;ie.$$p=null,Y=ee(arguments),W=Y;var oe=[],fe=ne.length,f,m,L,te,ue;for(te=0,ue=W.length;te<ue;te++)if(m=W[te],!m.$$is_array){if(m.$$is_range||m.$$is_enumerator){W[te]=m.$take(fe);continue}W[te]=(q(se=P["$coerce_to?"](m,e("Array"),"to_ary"))?se:P["$coerce_to!"](m,e("Enumerator"),"to_enum","each")).$to_a()}for(L=0;L<fe;L++){for(f=[ne[L]],te=0,ue=W.length;te<ue;te++)m=W[te][L],m==null&&(m=r),f[te+1]=m;oe[L]=f}if(j!==r){for(L=0;L<fe;L++)$.yield1(j,oe[L]);return r}return oe},-1),X(o,"$inherited",function(N){N.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),p(o,"$instance_variables",function ie(){var N=ie.$$p||r,j=this;return ie.$$p=null,b(T(j,B(j,"instance_variables",ie,!1,!0),"instance_variables",[],N),"reject",[],function(W){var ne=r;return W==null&&(W=r),q(ne=/^@\d+$/.test(W))?ne:W["$=="]("@length")})}),p(o,"$pack",function(N){return ee(arguments),x.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),_(o,"append","push"),_(o,"filter","select"),_(o,"filter!","select!"),_(o,"map","collect"),_(o,"map!","collect!"),_(o,"prepend","unshift"),_(o,"size","length"),_(o,"slice","[]"),_(o,"to_s","inspect"),P.$pristine(o.$singleton_class(),"allocate"),P.$pristine(o,"copy_instance_variables","initialize_dup")}("::",Array,n)};Opal.modules["corelib/hash"]=function($){var q=$.yield1,y=$.hash_clone,D=$.hash_delete,z=$.hash_each,re=$.hash_get,J=$.hash_put,R=$.deny_frozen_access,Q=$.freeze,v=$.opal32_init,K=$.opal32_add,$e=$.klass,Z=$.slice,U=$.Opal,ee=$.Kernel,X=$.defs,x=$.def,p=$.send,P=$.rb_ge,G=$.rb_gt,T=$.truthy,B=$.to_a,b=$.return_self,A=$.not,F=$.alias,k=$.top,E=[],u=$.nil,d=$.$$$;return $.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),k.$require("corelib/enumerable"),function(S,h,c){var l=$e(S,h,"Hash"),w=[l].concat(c),H=$.$r(w);l.$include(d("Enumerable")),l.$$prototype.$$is_hash=!0,X(l,"$[]",function(r){var e,t,i=this;e=Z(arguments),t=e;var a,o=t.length,g,I;if(o===1){if(a=U["$coerce_to?"](t["$[]"](0),d("Hash"),"to_hash"),a!==u)return i.$allocate()["$merge!"](a);for(t=U["$coerce_to?"](t["$[]"](0),d("Array"),"to_ary"),t===u&&ee.$raise(d("ArgumentError"),"odd number of arguments for Hash"),o=t.length,a=i.$allocate(),I=0;I<o;I++)g=t[I],g.$$is_array||ee.$raise(d("ArgumentError"),"invalid element "+g.$inspect()+" for Hash"),g.length===1?a.$store(g[0],u):g.length===2?a.$store(g[0],g[1]):ee.$raise(d("ArgumentError"),"invalid number of elements ("+g.length+" for "+g.$inspect()+"), must be 1..2");return a}for(o%2!==0&&ee.$raise(d("ArgumentError"),"odd number of arguments for Hash"),a=i.$allocate(),I=0;I<o;I+=2)a.$store(t[I],t[I+1]);return a},-1),X(l,"$allocate",function(){var r=this,e=new r.$$constructor;return e.$$none=u,e.$$proc=u,e}),X(l,"$try_convert",function(r){return U["$coerce_to?"](r,d("Hash"),"to_hash")}),x(l,"$initialize",function n(r){var e=n.$$p||u,t=this;return n.$$p=null,R(t),r!==void 0&&e!==u&&ee.$raise(d("ArgumentError"),"wrong number of arguments (1 for 0)"),t.$$none=r===void 0?u:r,t.$$proc=e,t},-1),x(l,"$==",function(r){var e=this;return e===r?!0:!r.$$is_hash||e.size!==r.size?!1:z(e,!0,function(t,i){var a=re(r,t);return a===void 0||!i["$eql?"](a)?[!0,!1]:[!1,!0]})}),x(l,"$>=",function(r){var e=this,t=u;return r=U["$coerce_to!"](r,d("Hash"),"to_hash"),e.size<r.size?!1:(t=!0,p(r,"each",[],function i(a,o){var g=i.$$s==null?this:i.$$s,I=u;if(a==null&&(a=u),o==null&&(o=u),I=g.$fetch(a,null),I==null||I!==o){t=!1;return}},{$$s:e}),t)}),x(l,"$>",function(r){var e=this;return r=U["$coerce_to!"](r,d("Hash"),"to_hash"),e.size<=r.size?!1:P(e,r)}),x(l,"$<",function(r){var e=this;return r=U["$coerce_to!"](r,d("Hash"),"to_hash"),G(r,e)}),x(l,"$<=",function(r){var e=this;return r=U["$coerce_to!"](r,d("Hash"),"to_hash"),P(r,e)}),x(l,"$[]",function(r){var e=this,t=re(e,r);return t!==void 0?t:e.$default(r)}),x(l,"$[]=",function(r,e){var t=this;return R(t),J(t,r,e),e}),x(l,"$assoc",function(r){var e=this;return z(e,u,function(t,i){return t["$=="](r)?[!0,[t,i]]:[!1,u]})}),x(l,"$clear",function(){var r=this;return R(r),r.clear(),r.$$keys&&r.$$keys.clear(),r}),x(l,"$clone",function(){var r=this,e=r.$class().$new();return y(r,e),r["$frozen?"]()?e.$freeze():e}),x(l,"$compact",function(){var r=this,e=new Map;return z(r,e,function(t,i){return i!==u&&J(e,t,i),[!1,e]})}),x(l,"$compact!",function(){var r=this;R(r);var e=u;return z(r,e,function(t,i){return i===u&&(D(r,t),e=r),[!1,e]})}),x(l,"$compare_by_identity",function(){var r=this;return R(r),r.$$by_identity||(r.$$by_identity=!0,r.size!==0&&$.hash_rehash(r)),r}),x(l,"$compare_by_identity?",function(){var r=this;return r.$$by_identity===!0}),x(l,"$default",function(r){var e=this;return r!==void 0&&e.$$proc!==u&&e.$$proc!==void 0?e.$$proc.$call(e,r):e.$$none===void 0?u:e.$$none},-1),x(l,"$default=",function(r){var e=this;return R(e),e.$$proc=u,e.$$none=r,r}),x(l,"$default_proc",function(){var r=this;return r.$$proc!==void 0?r.$$proc:u}),x(l,"$default_proc=",function(r){var e=this;R(e);var t=r;return t!==u&&(t=U["$coerce_to!"](t,d("Proc"),"to_proc"),t["$lambda?"]()&&t.$arity().$abs()!==2&&ee.$raise(d("TypeError"),"default_proc takes two arguments")),e.$$none=u,e.$$proc=t,r}),x(l,"$delete",function n(r){var e=n.$$p||u,t=this;n.$$p=null,R(t);var i=D(t,r);return i!==void 0?i:e!==u?$.yield1(e,r):u}),x(l,"$delete_if",function n(){var r=n.$$p||u,e=this;return n.$$p=null,T(r)?(R(e),z(e,e,function(t,i){var a=r(t,i);return a!==!1&&a!==u&&D(e,t),[!1,e]})):p(e,"enum_for",["delete_if"],function t(){var i=t.$$s==null?this:t.$$s;return i.$size()},{$$s:e})}),x(l,"$dig",function(r,e){var t,i,a=this,o=u;return t=Z(arguments,1),i=t,o=a["$[]"](r),o===u||i.length===0?o:(T(o["$respond_to?"]("dig"))||ee.$raise(d("TypeError"),""+o.$class()+" does not have #dig method"),p(o,"dig",B(i)))},-2),x(l,"$dup",function(){var r=this;return y(r,r.$class().$new())}),x(l,"$each",function n(){var r=n.$$p||u,e=this;return n.$$p=null,T(r)?z(e,e,function(t,i){return q(r,[t,i]),[!1,e]}):p(e,"enum_for",["each"],function t(){var i=t.$$s==null?this:t.$$s;return i.$size()},{$$s:e})}),x(l,"$each_key",function n(){var r=n.$$p||u,e=this;return n.$$p=null,T(r)?z(e,e,function(t,i){return r(t),[!1,e]}):p(e,"enum_for",["each_key"],function t(){var i=t.$$s==null?this:t.$$s;return i.$size()},{$$s:e})}),x(l,"$each_value",function n(){var r=n.$$p||u,e=this;return n.$$p=null,T(r)?z(e,e,function(t,i){return r(i),[!1,e]}):p(e,"enum_for",["each_value"],function t(){var i=t.$$s==null?this:t.$$s;return i.$size()},{$$s:e})}),x(l,"$empty?",function(){var r=this;return r.size===0}),x(l,"$except",function(r){var e,t,i=this;return e=Z(arguments),t=e,p(i.$dup(),"except!",B(t))},-1),x(l,"$except!",function(r){var e,t,i=this;return e=Z(arguments),t=e,p(t,"each",[],function a(o){var g=a.$$s==null?this:a.$$s;return o==null&&(o=u),g.$delete(o)},{$$s:i}),i},-1),x(l,"$fetch",function n(r,e){var t=n.$$p||u,i=this;n.$$p=null;var a=re(i,r);return a!==void 0?a:t!==u?t(r):e!==void 0?e:ee.$raise(d("KeyError").$new("key not found: "+r.$inspect(),new Map([["key",r],["receiver",i]])))},-2),x(l,"$fetch_values",function n(r){var e=n.$$p||u,t,i,a=this;return n.$$p=null,t=Z(arguments),i=t,p(i,"map",[],function o(g){var I=o.$$s==null?this:o.$$s;return g==null&&(g=u),p(I,"fetch",[g],e.$to_proc())},{$$s:a})},-1),x(l,"$flatten",function(r){var e=this;r==null&&(r=1),r=U["$coerce_to!"](r,d("Integer"),"to_int");var t=[];return z(e,t,function(i,a){return t.push(i),a.$$is_array?r===1?(t.push(a),[!1,t]):(t=t.concat(a.$flatten(r-2)),[!1,t]):(t.push(a),[!1,t])})},-1),x(l,"$freeze",function(){var r=this;return T(r["$frozen?"]())?r:Q(r)}),x(l,"$has_key?",function(r){var e=this;return re(e,r)!==void 0}),x(l,"$has_value?",function(r){var e=this;return z(e,!1,function(t,i){return i["$=="](r)?[!0,!0]:[!1,!1]})});var _;x(l,"$hash",function(){var r=this,e=_===void 0,t=r.$object_id(),i=v(),a,o,g,I=r.size,C=new Int32Array(I);if(i=K(i,4),i=K(i,I),e)_=Object.create(null);else if(_[t])return K(i,16843009);try{for(a in _)if(o=_[a],r["$eql?"](o))return K(i,16843009);for(_[t]=r,g=0,z(r,!1,function(M,V){return C[g]=[1883326802,M,V].$hash(),g++,[!1,!1]}),C=C.sort(),g=0;g<C.length;g++)i=K(i,C[g]);return i}finally{e&&(_=void 0)}}),x(l,"$index",function(r){var e=this;return z(e,u,function(t,i){return i["$=="](r)?[!0,t]:[!1,u]})}),x(l,"$indexes",function(r){var e,t,i=this;e=Z(arguments),t=e;for(var a=[],o=0,g=t.length,I,C;o<g;o++){if(I=t[o],C=re(i,I),C===void 0){a.push(i.$default());continue}a.push(C)}return a},-1);var s;return x(l,"$inspect",function(){var r=this,e=s===void 0,t=r.$object_id(),i=[];return function(){try{if(e&&(s={}),s.hasOwnProperty(t))return"{...}";return s[t]=!0,z(r,!1,function(a,o){return o=H("Opal").$inspect(o),a=H("Opal").$inspect(a),i.push(a+"=>"+o),[!1,!1]}),"{"+i.join(", ")+"}";return u}finally{e&&(s=void 0)}}()}),x(l,"$invert",function(){var r=this,e=new Map;return z(r,e,function(t,i){return J(e,i,t),[!1,e]})}),x(l,"$keep_if",function n(){var r=n.$$p||u,e=this;return n.$$p=null,T(r)?(R(e),z(e,e,function(t,i){var a=r(t,i);return(a===!1||a===u)&&D(e,t),[!1,e]})):p(e,"enum_for",["keep_if"],function t(){var i=t.$$s==null?this:t.$$s;return i.$size()},{$$s:e})}),x(l,"$keys",function(){var r=this;return Array.from(r.keys())}),x(l,"$length",function(){var r=this;return r.size}),x(l,"$merge",function n(r){var e=n.$$p||u,t,i,a=this;return n.$$p=null,t=Z(arguments),i=t,p(a.$dup(),"merge!",B(i),e.$to_proc())},-1),x(l,"$merge!",function n(r){var e=n.$$p||u,t,i,a=this;n.$$p=null,t=Z(arguments),i=t,R(a);var o,g;for(o=0;o<i.length;++o)g=U["$coerce_to!"](i[o],d("Hash"),"to_hash"),e===u?z(g,!1,function(I,C){return J(a,I,C),[!1,!1]}):z(g,!1,function(I,C){var M=re(a,I);return M===void 0?(J(a,I,C),[!1,!1]):(J(a,I,e(I,M,C)),[!1,!1])});return a},-1),x(l,"$rassoc",function(r){var e=this;return z(e,u,function(t,i){return i["$=="](r)?[!0,[t,i]]:[!1,u]})}),x(l,"$rehash",function(){var r=this;return R(r),$.hash_rehash(r)}),x(l,"$reject",function n(){var r=n.$$p||u,e=this;if(n.$$p=null,!T(r))return p(e,"enum_for",["reject"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});var t=new Map;return z(e,t,function(i,a){var o=r(i,a);return(o===!1||o===u)&&J(t,i,a),[!1,t]})}),x(l,"$reject!",function n(){var r=n.$$p||u,e=this;if(n.$$p=null,!T(r))return p(e,"enum_for",["reject!"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});R(e);var t=u;return z(e,t,function(i,a){var o=r(i,a);return o!==!1&&o!==u&&(D(e,i),t=e),[!1,t]})}),x(l,"$replace",function(r){var e=this;return R(e),r=U["$coerce_to!"](r,d("Hash"),"to_hash"),e.$clear(),z(r,!1,function(t,i){return J(e,t,i),[!1,!1]}),T(r.$default_proc())?e["$default_proc="](r.$default_proc()):e["$default="](r.$default()),e}),x(l,"$select",function n(){var r=n.$$p||u,e=this;if(n.$$p=null,!T(r))return p(e,"enum_for",["select"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});var t=new Map;return z(e,t,function(i,a){var o=r(i,a);return o!==!1&&o!==u&&J(t,i,a),[!1,t]})}),x(l,"$select!",function n(){var r=n.$$p||u,e=this;if(n.$$p=null,!T(r))return p(e,"enum_for",["select!"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});R(e);var t=u;return z(e,t,function(i,a){var o=r(i,a);return(o===!1||o===u)&&(D(e,i),t=e),[!1,t]})}),x(l,"$shift",function(){var r=this;return R(r),z(r,u,function(e,t){return[!0,[e,D(r,e)]]})}),x(l,"$slice",function(r){var e,t,i=this;e=Z(arguments),t=e;for(var a=new Map,o=0,g=t.length;o<g;o++){var I=t[o],C=re(i,I);C!==void 0&&J(a,I,C)}return a},-1),x(l,"$to_a",function(){var r=this,e=[];return z(r,e,function(t,i){return e.push([t,i]),[!1,e]})}),x(l,"$to_h",function n(){var r=n.$$p||u,e=this;if(n.$$p=null,r!==u)return p(e,"map",[],r.$to_proc()).$to_h();if(e.$$class===$.Hash)return e;var t=new Map;return y(e,t),t}),x(l,"$to_hash",b),x(l,"$to_proc",function(){var r=this;return p(r,"proc",[],function e(t){var i=e.$$s==null?this:e.$$s;return t==null&&ee.$raise(d("ArgumentError"),"no key given"),i["$[]"](t)},{$$arity:-1,$$s:r})}),x(l,"$transform_keys",function n(r){var e=n.$$p||u,t=this;if(n.$$p=null,r==null&&(r=u),A(e)&&A(r))return p(t,"enum_for",["transform_keys"],function a(){var o=a.$$s==null?this:a.$$s;return o.$size()},{$$s:t});var i=new Map;return z(t,i,function(a,o){var g;return r!==u&&(g=re(r,a)),g===void 0&&e&&e!==u&&(g=e(a)),g===void 0&&(g=a),J(i,g,o),[!1,i]})},-1),x(l,"$transform_keys!",function n(r){var e=n.$$p||u,t=this;if(n.$$p=null,r==null&&(r=u),A(e)&&A(r))return p(t,"enum_for",["transform_keys!"],function a(){var o=a.$$s==null?this:a.$$s;return o.$size()},{$$s:t});R(t);var i=new Map;return z(t,t,function(a,o){var g;return r!==u&&(g=re(r,a)),g===void 0&&e&&e!==u&&(g=e(a)),g===void 0?[!1,t]:(re(i,a)||D(t,a),J(t,g,o),J(i,g,!0),[!1,t])})},-1),x(l,"$transform_values",function n(){var r=n.$$p||u,e=this;if(n.$$p=null,!T(r))return p(e,"enum_for",["transform_values"],function i(){var a=i.$$s==null?this:i.$$s;return a.$size()},{$$s:e});var t=new Map;return z(e,t,function(i,a){return J(t,i,r(a)),[!1,t]})}),x(l,"$transform_values!",function n(){var r=n.$$p||u,e=this;return n.$$p=null,T(r)?(R(e),z(e,e,function(t,i){return J(e,t,r(i)),[!1,e]})):p(e,"enum_for",["transform_values!"],function t(){var i=t.$$s==null?this:t.$$s;return i.$size()},{$$s:e})}),x(l,"$values",function(){var r=this;return Array.from(r.values())}),F(l,"each_pair","each"),F(l,"eql?","=="),F(l,"filter","select"),F(l,"filter!","select!"),F(l,"include?","has_key?"),F(l,"indices","indexes"),F(l,"key","index"),F(l,"key?","has_key?"),F(l,"member?","has_key?"),F(l,"size","length"),F(l,"store","[]="),F(l,"to_s","inspect"),F(l,"update","merge!"),F(l,"value?","has_value?"),F(l,"values_at","indexes")}("::",Map,E)};Opal.modules["corelib/number"]=function($){var q=$.klass,y=$.Opal,D=$.Kernel,z=$.def,re=$.eqeqeq,J=$.truthy,R=$.rb_gt,Q=$.not,v=$.rb_lt,K=$.alias,$e=$.send2,Z=$.find_super,U=$.send,ee=$.rb_plus,X=$.rb_minus,x=$.eqeq,p=$.return_self,P=$.rb_divide,G=$.to_ary,T=$.rb_times,B=$.rb_le,b=$.rb_ge,A=$.return_val,F=$.const_set,k=$.top,E=[],u=$.nil,d=$.$$$;return $.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),k.$require("corelib/numeric"),function(S,h,c){var l=q(S,h,"Number");y.$bridge(Number,l),$.prop(l.$$prototype,"$$is_number",!0),l.$$is_number_class=!0;var w=new Map;(function(e,t){return z(e,"$allocate",function(){var a=this;return D.$raise(d("TypeError"),"allocator undefined for "+a.$name())}),$.udef(e,"$new"),u})($.get_singleton_class(l)),z(l,"$coerce",function(t){var i=this;if(t===u)D.$raise(d("TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[D.$Float(t),i];if(t["$respond_to?"]("to_f"))return[y["$coerce_to!"](t,d("Float"),"to_f"),i];if(t.$$is_number)return[t,i];D.$raise(d("TypeError"),"can't convert "+t.$class()+" into Float")}}),z(l,"$__id__",function(){var t=this;if(t|t===0)return t*2+1;if(w.has(t))return w.get(t);var i=$.uid();return w.set(t,i),i}),z(l,"$hash",function(){var t=this;return t|t===0?t.$__id__():t.toString().$hash()}),z(l,"$+",function(t){var i=this;return t.$$is_number?i+t:i.$__coerced__("+",t)}),z(l,"$-",function(t){var i=this;return t.$$is_number?i-t:i.$__coerced__("-",t)}),z(l,"$*",function(t){var i=this;return t.$$is_number?i*t:i.$__coerced__("*",t)}),z(l,"$/",function(t){var i=this;return t.$$is_number?i/t:i.$__coerced__("/",t)}),z(l,"$%",function(t){var i=this;if(t.$$is_number){if(t==-1/0)return t;if(t==0)D.$raise(d("ZeroDivisionError"),"divided by 0");else return t<0||i<0?(i%t+t)%t:i%t}else return i.$__coerced__("%",t)}),z(l,"$&",function(t){var i=this;return t.$$is_number?i&t:i.$__coerced__("&",t)}),z(l,"$|",function(t){var i=this;return t.$$is_number?i|t:i.$__coerced__("|",t)}),z(l,"$^",function(t){var i=this;return t.$$is_number?i^t:i.$__coerced__("^",t)}),z(l,"$<",function(t){var i=this;return t.$$is_number?i<t:i.$__coerced__("<",t)}),z(l,"$<=",function(t){var i=this;return t.$$is_number?i<=t:i.$__coerced__("<=",t)}),z(l,"$>",function(t){var i=this;return t.$$is_number?i>t:i.$__coerced__(">",t)}),z(l,"$>=",function(t){var i=this;return t.$$is_number?i>=t:i.$__coerced__(">=",t)});var H=function(e,t){return t.$$is_number?isNaN(e)||isNaN(t)?u:e>t?1:e<t?-1:0:e.$__coerced__("<=>",t)};z(l,"$<=>",function(t){var i=this;try{return H(i,t)}catch(a){if($.rescue(a,[d("ArgumentError")]))try{return u}finally{$.pop_exception(a)}else throw a}}),z(l,"$<<",function(t){var i=this;return t=y["$coerce_to!"](t,d("Integer"),"to_int"),t>0?i<<t:i>>-t}),z(l,"$>>",function(t){var i=this;return t=y["$coerce_to!"](t,d("Integer"),"to_int"),t>0?i>>t:i<<-t}),z(l,"$[]",function(t){var i=this;return t=y["$coerce_to!"](t,d("Integer"),"to_int"),t<0?0:t>=32?i<0?1:0:i>>t&1}),z(l,"$+@",function(){var t=this;return+t}),z(l,"$-@",function(){var t=this;return-t}),z(l,"$~",function(){var t=this;return~t}),z(l,"$**",function(t){var i=this;return re(d("Integer"),t)?Q(d("Integer")["$==="](i))||J(R(t,0))?Math.pow(i,t):d("Rational").$new(i,1)["$**"](t):J(v(i,0))&&(re(d("Float"),t)||re(d("Rational"),t))?d("Complex").$new(i,0)["$**"](t.$to_f()):J(t.$$is_number!=null)?Math.pow(i,t):i.$__coerced__("**",t)}),z(l,"$==",function(t){var i=this;return t.$$is_number?i.valueOf()===t.valueOf():t["$respond_to?"]("==")?t["$=="](i):!1}),K(l,"===","=="),z(l,"$abs",function(){var t=this;return Math.abs(t)}),z(l,"$abs2",function(){var t=this;return Math.abs(t*t)}),z(l,"$allbits?",function(t){var i=this;return t=y["$coerce_to!"](t,d("Integer"),"to_int"),(i&t)==t}),z(l,"$anybits?",function(t){var i=this;return t=y["$coerce_to!"](t,d("Integer"),"to_int"),(i&t)!==0}),z(l,"$angle",function(){var t=this;return J(t["$nan?"]())?t:t==0?1/t>0?0:Math.PI:t<0?Math.PI:0}),z(l,"$bit_length",function(){var t=this;if(re(d("Integer"),t)||D.$raise(d("NoMethodError").$new("undefined method `bit_length` for "+t+":Float","bit_length")),t===0||t===-1)return 0;for(var i=0,a=t<0?~t:t;a!=0;)i+=1,a>>>=1;return i}),z(l,"$ceil",function(t){var i=this;t==null&&(t=0);var a=i.$to_f();if(a%1===0&&t>=0)return a;var o=Math.pow(10,t),g=Math.ceil(a*o)/o;return a%1===0&&(g=Math.round(g)),g},-1),z(l,"$chr",function(t){var i=this;return $.enc(String.fromCharCode(i),t||"BINARY")},-1),z(l,"$denominator",function e(){var t=e.$$p||u,i=this;return e.$$p=null,J(i["$nan?"]())||J(i["$infinite?"]())?1:$e(i,Z(i,"denominator",e,!1,!0),"denominator",[],t)}),z(l,"$downto",function e(t){var i=e.$$p||u,a=this;if(e.$$p=null,i===u)return U(a,"enum_for",["downto",t],function g(){var I=g.$$s==null?this:g.$$s;return re(d("Numeric"),t)||D.$raise(d("ArgumentError"),"comparison of "+I.$class()+" with "+t.$class()+" failed"),J(R(t,I))?0:ee(X(I,t),1)},{$$s:a});t.$$is_number||D.$raise(d("ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed");for(var o=a;o>=t;o--)i(o);return a}),z(l,"$equal?",function(t){var i=this,a=u;return J(a=i["$=="](t))?a:isNaN(i)&&isNaN(t)}),z(l,"$even?",function(){var t=this;return t%2===0}),z(l,"$floor",function(t){var i=this;t==null&&(t=0);var a=i.$to_f();if(a%1===0&&t>=0)return a;var o=Math.pow(10,t),g=Math.floor(a*o)/o;return a%1===0&&(g=Math.round(g)),g},-1),z(l,"$gcd",function(t){var i=this;re(d("Integer"),t)||D.$raise(d("TypeError"),"not an integer");for(var a=Math.abs(i),o=Math.abs(t);a>0;){var g=a;a=o%a,o=g}return o}),z(l,"$gcdlcm",function(t){var i=this;return[i.$gcd(t),i.$lcm(t)]}),z(l,"$integer?",function(){var t=this;return t%1===0}),z(l,"$is_a?",function e(t){var i=e.$$p||u,a=this;return e.$$p=null,x(t,d("Integer"))&&re(d("Integer"),a)||x(t,d("Integer"))&&re(d("Integer"),a)||x(t,d("Float"))&&re(d("Float"),a)?!0:$e(a,Z(a,"is_a?",e,!1,!0),"is_a?",[t],i)}),z(l,"$instance_of?",function e(t){var i=e.$$p||u,a=this;return e.$$p=null,x(t,d("Integer"))&&re(d("Integer"),a)||x(t,d("Integer"))&&re(d("Integer"),a)||x(t,d("Float"))&&re(d("Float"),a)?!0:$e(a,Z(a,"instance_of?",e,!1,!0),"instance_of?",[t],i)}),z(l,"$lcm",function(t){var i=this;return re(d("Integer"),t)||D.$raise(d("TypeError"),"not an integer"),i==0||t==0?0:Math.abs(i*t/i.$gcd(t))}),z(l,"$next",function(){var t=this;return t+1}),z(l,"$nobits?",function(t){var i=this;return t=y["$coerce_to!"](t,d("Integer"),"to_int"),(i&t)==0}),z(l,"$nonzero?",function(){var t=this;return t==0?u:t}),z(l,"$numerator",function e(){var t=e.$$p||u,i=this;return e.$$p=null,J(i["$nan?"]())||J(i["$infinite?"]())?i:$e(i,Z(i,"numerator",e,!1,!0),"numerator",[],t)}),z(l,"$odd?",function(){var t=this;return t%2!==0}),z(l,"$ord",p),z(l,"$pow",function(t,i){var a=this;return a==0&&D.$raise(d("ZeroDivisionError"),"divided by 0"),i===void 0?a["$**"](t):(d("Integer")["$==="](t)||D.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&D.$raise(d("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),d("Integer")["$==="](i)||D.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),i===0&&D.$raise(d("ZeroDivisionError"),"divided by 0"),a["$**"](t)["$%"](i))},-2),z(l,"$pred",function(){var t=this;return t-1}),z(l,"$quo",function e(t){var i=e.$$p||u,a=this;return e.$$p=null,re(d("Integer"),a)?$e(a,Z(a,"quo",e,!1,!0),"quo",[t],i):P(a,t)}),z(l,"$rationalize",function(t){var i,a,o=this,g=u,I=u;return arguments.length>1&&D.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),re(d("Integer"),o)?d("Rational").$new(o,1):J(o["$infinite?"]())?D.$raise(d("FloatDomainError"),"Infinity"):J(o["$nan?"]())?D.$raise(d("FloatDomainError"),"NaN"):J(t==null)?(a=d("Math").$frexp(o),i=G(a),g=i[0]==null?u:i[0],I=i[1]==null?u:i[1],g=d("Math").$ldexp(g,d(d("Float"),"MANT_DIG")).$to_i(),I=X(I,d(d("Float"),"MANT_DIG")),d("Rational").$new(T(2,g),1["$<<"](X(1,I))).$rationalize(d("Rational").$new(1,1["$<<"](X(1,I))))):o.$to_r().$rationalize(t)},-1),z(l,"$remainder",function(t){var i=this;return X(i,T(t,P(i,t).$truncate()))}),z(l,"$round",function(t){var i,a,o=this,g=u;if(re(d("Integer"),o)){if(J(t==null)||(re(d("Float"),t)&&J(t["$infinite?"]())&&D.$raise(d("RangeError"),"Infinity"),t=y["$coerce_to!"](t,d("Integer"),"to_int"),J(v(t,d(d("Integer"),"MIN")))&&D.$raise(d("RangeError"),"out of bounds"),J(t>=0)))return o;if(t=t["$-@"](),.415241*t-.125>o.$size())return 0;var I=Math.pow(10,t),C=Math.floor((Math.abs(o)+I/2)/I)*I;return o<0?-C:C}else{if(J(o["$nan?"]())&&J(t==null)&&D.$raise(d("FloatDomainError"),"NaN"),t=y["$coerce_to!"](t||0,d("Integer"),"to_int"),J(B(t,0)))J(o["$nan?"]())?D.$raise(d("RangeError"),"NaN"):J(o["$infinite?"]())&&D.$raise(d("FloatDomainError"),"Infinity");else{if(x(t,0))return Math.round(o);if(J(o["$nan?"]())||J(o["$infinite?"]()))return o}return a=d("Math").$frexp(o),i=G(a),i[0]==null||i[0],g=i[1]==null?u:i[1],J(b(t,X(ee(d(d("Float"),"DIG"),2),J(R(g,0))?P(g,4):X(P(g,3),1))))?o:J(v(t,(J(R(g,0))?ee(P(g,3),1):P(g,4))["$-@"]()))?0:Math.round(o*Math.pow(10,t))/Math.pow(10,t)}},-1),z(l,"$times",function e(){var t=e.$$p||u,i=this;if(e.$$p=null,!J(t))return U(i,"enum_for",["times"],function o(){var g=o.$$s==null?this:o.$$s;return g},{$$s:i});for(var a=0;a<i;a++)t(a);return i}),z(l,"$to_f",p),z(l,"$to_i",function(){var t=this;return t<0?Math.ceil(t):Math.floor(t)}),z(l,"$to_r",function(){var t,i,a=this,o=u,g=u;return re(d("Integer"),a)?d("Rational").$new(a,1):(i=d("Math").$frexp(a),t=G(i),o=t[0]==null?u:t[0],g=t[1]==null?u:t[1],o=d("Math").$ldexp(o,d(d("Float"),"MANT_DIG")).$to_i(),g=X(g,d(d("Float"),"MANT_DIG")),T(o,d(d("Float"),"RADIX")["$**"](g)).$to_r())}),z(l,"$to_s",function(t){var i=this;return t==null&&(t=10),t=y["$coerce_to!"](t,d("Integer"),"to_int"),(J(v(t,2))||J(R(t,36)))&&D.$raise(d("ArgumentError"),"invalid radix "+t),x(i,0)&&J(1/i===-1/0)?"-0.0":i.toString(t)},-1),z(l,"$truncate",function(t){var i=this;t==null&&(t=0);var a=i.$to_f();if(a%1===0&&t>=0)return a;var o=Math.pow(10,t),g=parseInt(a*o,10)/o;return a%1===0&&(g=Math.round(g)),g},-1),z(l,"$digits",function(t){var i=this;t==null&&(t=10),J(v(i,0))&&D.$raise(d(d("Math"),"DomainError"),"out of domain"),t=y["$coerce_to!"](t,d("Integer"),"to_int"),J(v(t,2))&&D.$raise(d("ArgumentError"),"invalid radix "+t),i!=parseInt(i)&&D.$raise(d("NoMethodError"),"undefined method `digits' for "+i.$inspect());var a=i,o=[];if(i==0)return[0];for(;a!=0;)o.push(a%t),a=parseInt(a/t,10);return o},-1),z(l,"$divmod",function e(t){var i=e.$$p||u,a=this;return e.$$p=null,J(a["$nan?"]())||J(t["$nan?"]())?D.$raise(d("FloatDomainError"),"NaN"):J(a["$infinite?"]())?D.$raise(d("FloatDomainError"),"Infinity"):$e(a,Z(a,"divmod",e,!1,!0),"divmod",[t],i)}),z(l,"$upto",function e(t){var i=e.$$p||u,a=this;if(e.$$p=null,i===u)return U(a,"enum_for",["upto",t],function g(){var I=g.$$s==null?this:g.$$s;return re(d("Numeric"),t)||D.$raise(d("ArgumentError"),"comparison of "+I.$class()+" with "+t.$class()+" failed"),J(v(t,I))?0:ee(X(t,I),1)},{$$s:a});t.$$is_number||D.$raise(d("ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed");for(var o=a;o<=t;o++)i(o);return a}),z(l,"$zero?",function(){var t=this;return t==0}),z(l,"$size",A(4)),z(l,"$nan?",function(){var t=this;return isNaN(t)}),z(l,"$finite?",function(){var t=this;return t!=1/0&&t!=-1/0&&!isNaN(t)}),z(l,"$infinite?",function(){var t=this;return t==1/0?1:t==-1/0?-1:u}),z(l,"$positive?",function(){var t=this;return t!=0&&(t==1/0||1/t>0)}),z(l,"$negative?",function(){var t=this;return t==-1/0||1/t<0});function _(e){var t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),t}function s(e){return new DataView(e.buffer).getFloat64(0,!0)}function n(e){for(var t=_(e),i=0;i<t.length;i++)if(t[i]===255)t[i]=0;else{t[i]++;break}return s(t)}function r(e){for(var t=_(e),i=0;i<t.length;i++)if(t[i]===0)t[i]=255;else{t[i]--;break}return s(t)}return z(l,"$next_float",function(){var t=this;return x(t,d(d("Float"),"INFINITY"))?d(d("Float"),"INFINITY"):J(t["$nan?"]())?d(d("Float"),"NAN"):J(b(t,0))?n(Math.abs(t)):r(t)}),z(l,"$prev_float",function(){var t=this;return x(t,d(d("Float"),"INFINITY")["$-@"]())?d(d("Float"),"INFINITY")["$-@"]():J(t["$nan?"]())?d(d("Float"),"NAN"):J(R(t,0))?r(t):-n(Math.abs(t))}),K(l,"arg","angle"),K(l,"eql?","=="),K(l,"fdiv","/"),K(l,"inspect","to_s"),K(l,"kind_of?","is_a?"),K(l,"magnitude","abs"),K(l,"modulo","%"),K(l,"object_id","__id__"),K(l,"phase","angle"),K(l,"succ","next"),K(l,"to_int","to_i")}("::",d("Numeric")),F("::","Fixnum",d("Number")),function(S,h,c){var l=q(S,h,"Integer"),w=[l].concat(c);return l.$$is_number_class=!0,l.$$is_integer_class=!0,function(H,_){var s=[H].concat(_),n=$.$r(s);return z(H,"$allocate",function(){var e=this;return D.$raise(d("TypeError"),"allocator undefined for "+e.$name())}),$.udef(H,"$new"),z(H,"$sqrt",function(e){return e=y["$coerce_to!"](e,d("Integer"),"to_int"),e<0&&D.$raise(d(d("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(e),10)}),z(H,"$try_convert",function(e){var t=this;return n("Opal")["$coerce_to?"](e,t,"to_int")})}($.get_singleton_class(l),w),F(l,"MAX",Math.pow(2,30)-1),F(l,"MIN",-Math.pow(2,30))}("::",d("Numeric"),E),function(S,h,c){var l=q(S,h,"Float");return l.$$is_number_class=!0,function(w,H){return z(w,"$allocate",function(){var s=this;return D.$raise(d("TypeError"),"allocator undefined for "+s.$name())}),$.udef(w,"$new"),z(w,"$===",function(s){return!!s.$$is_number})}($.get_singleton_class(l)),F(l,"INFINITY",1/0),F(l,"MAX",Number.MAX_VALUE),F(l,"MIN",Number.MIN_VALUE),F(l,"NAN",NaN),F(l,"DIG",15),F(l,"MANT_DIG",53),F(l,"RADIX",2),F(l,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",d("Numeric"))};Opal.modules["corelib/range"]=function($){var q=$.klass,y=$.truthy,D=$.Kernel,z=$.def,re=$.not,J=$.send2,R=$.find_super,Q=$.lambda,v=$.send,K=$.rb_ge,$e=$.rb_gt,Z=$.eqeq,U=$.rb_le,ee=$.rb_lt,X=$.eqeqeq,x=$.return_ivar,p=$.rb_minus,P=$.Opal,G=$.rb_divide,T=$.rb_plus,B=$.rb_times,b=$.thrower,A=$.alias,F=$.top,k=[],E=$.nil,u=$.$$$;return $.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),F.$require("corelib/enumerable"),function(d,S,h){var c=q(d,S,"Range"),l=[c].concat(h),w=$.$r(l),H=c.$$prototype;H.begin=H.end=H.excl=E,c.$include(u("Enumerable")),c.$$prototype.$$is_range=!0,c.$attr_reader("begin","end"),z(c,"$initialize",function(n,r,e){var t=this;return e==null&&(e=!1),y(t.begin)&&D.$raise(u("NameError"),"'initialize' called twice"),y(n["$<=>"](r))||y(n["$nil?"]())||y(r["$nil?"]())||D.$raise(u("ArgumentError"),"bad value for range"),t.begin=n,t.end=r,t.excl=e},-3),z(c,"$===",function(n){var r=this;return y(n.$$is_range)?!1:r["$cover?"](n)});function _(s){return s.begin===E||s.end===E||s.begin===-1/0||s.end===1/0||s.begin===1/0||s.end===-1/0}return z(c,"$count",function s(){var n=s.$$p||E,r=this;return s.$$p=null,re(n!==E)&&y(_(r))?u(u("Float"),"INFINITY"):J(r,R(r,"count",s,!1,!0),"count",[],n)}),z(c,"$to_a",function s(){var n=s.$$p||E,r=this;return s.$$p=null,y(_(r))&&D.$raise(u("TypeError"),"cannot convert endless range to an array"),J(r,R(r,"to_a",s,!1,!0),"to_a",[],n)}),z(c,"$cover?",function(n){var r=this,e=E,t=E,i=E,a=E,o=E,g=E,I=E,C=E;return e=Q(function(V,O){var ae=E;return V==null&&(V=E),O==null&&(O=E),y(ae=V["$<=>"](O))?ae:1}),y(n.$$is_range)?(t=n.$begin(),i=n.$end(),a=n["$exclude_end?"](),y(r.begin)&&y(t["$nil?"]())||y(r.end)&&y(i["$nil?"]())||y(t)&&y(i)&&y(v(e.$call(t,i),"then",[],function(V){return V==null&&(V=E),y(a)?K(V,0):$e(V,0)}))||y(t)&&re(r["$cover?"](t))?!1:(o=e.$call(r.end,i),Z(r.excl,a)?K(o,0):y(r.excl)?$e(o,0):y(K(o,0))?!0:(g=n.$max(),y(I=g["$nil?"]()["$!"]())?U(e.$call(g,r.end),0):I))):y(r.begin)&&y($e(e.$call(r.begin,n),0))?!1:y(r.end["$nil?"]())?!0:(C=e.$call(n,r.end),y(r.excl)?ee(C,0):U(C,0))}),z(c,"$each",function s(){var n=s.$$p||E,r=this,e=E,t=E,i=E;if(s.$$p=null,n===E)return v(r,"enum_for",["each"],function g(){var I=g.$$s==null?this:g.$$s;return I.$size()},{$$s:r});var a,o;if(r.begin.$$is_number&&r.end.$$is_number){for((r.begin%1!==0||r.end%1!==0)&&D.$raise(u("TypeError"),"can't iterate from Float"),a=r.begin,o=r.end+(y(r.excl)?0:1);a<o;a++)n(a);return r}if(r.begin.$$is_string&&r.end.$$is_string)return v(r.begin,"upto",[r.end,r.excl],n.$to_proc()),r;for(e=r.begin,t=r.end,y(e["$respond_to?"]("succ"))||D.$raise(u("TypeError"),"can't iterate from "+e.$class());y(y(i=r.end["$nil?"]())?i:ee(e["$<=>"](t),0));)$.yield1(n,e),e=e.$succ();return re(r.excl)&&Z(e,t)&&$.yield1(n,e),r}),z(c,"$eql?",function(n){var r=this,e=E,t=E;return X(u("Range"),n)?y(e=y(t=r.excl["$==="](n["$exclude_end?"]()))?r.begin["$eql?"](n.$begin()):t)?r.end["$eql?"](n.$end()):e:!1}),z(c,"$exclude_end?",x("excl")),z(c,"$first",function s(n){var r=s.$$p||E,e=this;return s.$$p=null,y(e.begin["$nil?"]())&&D.$raise(u("RangeError"),"cannot get the minimum of beginless range"),y(n==null)?e.begin:J(e,R(e,"first",s,!1,!0),"first",[n],r)},-1),z(c,"$include?",function s(n){var r=s.$$p||E,e=this,t=E,i=E;if(s.$$p=null,y(e.begin.$$is_number||e.end.$$is_number)||y(e.begin["$is_a?"](u("Time")))||y(e.end["$is_a?"](u("Time")))||y(u("Integer").$try_convert(e.begin))||y(u("Integer").$try_convert(e.end)))return e["$cover?"](n);if(y(e.begin.$$is_string||e.end.$$is_string)){if(y(e.begin.$$is_string&&e.end.$$is_string))return v(e.begin.$upto(e.end,e.excl),"any?",[],function(o){return o==null&&(o=E),o["$=="](n)});if(y(e.begin["$nil?"]()))return t=n["$<=>"](e.end),y(i=t["$nil?"]()["$!"]())?y(e.excl)?ee(t,0):U(t,0):i;if(y(e.end["$nil?"]()))return t=e.begin["$<=>"](n),y(i=t["$nil?"]()["$!"]())?U(t,0):i}return J(e,R(e,"include?",s,!1,!0),"include?",[n],r)}),z(c,"$last",function(n){var r=this;return y(r.end["$nil?"]())&&D.$raise(u("RangeError"),"cannot get the maximum of endless range"),y(n==null)?r.end:r.$to_a().$last(n)},-1),z(c,"$max",function s(){var n=s.$$p||E,r=this;return s.$$p=null,y(r.end["$nil?"]())?D.$raise(u("RangeError"),"cannot get the maximum of endless range"):n!==E?J(r,R(r,"max",s,!1,!0),"max",[],n):re(r.begin["$nil?"]())&&(y($e(r.begin,r.end))||y(r.excl)&&Z(r.begin,r.end))?E:r.excl?r.end-1:r.end}),z(c,"$min",function s(){var n=s.$$p||E,r=this;return s.$$p=null,y(r.begin["$nil?"]())?D.$raise(u("RangeError"),"cannot get the minimum of beginless range"):n!==E?J(r,R(r,"min",s,!1,!0),"min",[],n):re(r.end["$nil?"]())&&(y($e(r.begin,r.end))||y(r.excl)&&Z(r.begin,r.end))?E:r.begin}),z(c,"$size",function(){var n=this.begin,r=this.end;if(u("Numeric")["$==="](n)){if(u("Numeric")["$==="](r)){var e=p(r,n);return e<0?0:(this.excl||(e+=1),u("Float")["$==="](n)||u("Float")["$==="](r)?Math.floor(e):e)}else if(r===E)return 1/0}else if(n===E&&u("Numeric")["$==="](r))return 1/0;return E}),z(c,"$step",function s(n){var r=s.$$p||E,e=this,t=E,i=E;s.$$p=null;function a(){n==null?n=1:n.$$is_number||(n=P["$coerce_to!"](n,u("Integer"),"to_int")),n<0?D.$raise(u("ArgumentError"),"step can't be negative"):n===0&&D.$raise(u("ArgumentError"),"step can't be 0")}function o(){if(!e.begin["$respond_to?"]("succ")||e.begin.$$is_string&&e.end.$$is_string)return E;if(n%1===0)return G(e.$size(),n).$ceil();var g=e.begin,I=e.end,C=Math.abs,M=Math.floor,V=(C(g)+C(I)+C(I-g))/C(n)*u(u("Float"),"EPSILON"),O;return V>.5&&(V=.5),e.excl?(O=M((I-g)/n-V),O*n+g<I&&O++):O=M((I-g)/n+V)+1,O}return r===E?(y(e.begin["$is_a?"](w("Numeric")))||y(e.begin["$nil?"]()))&&(y(e.end["$is_a?"](w("Numeric")))||y(e.end["$nil?"]()))&&re(y(t=e.begin["$nil?"]())?e.end["$nil?"]():t)?u(u("Enumerator"),"ArithmeticSequence").$new(e,n,"step"):v(e,"enum_for",["step",n],function(){return a(),o()}):(a(),y(e.begin.$$is_number&&e.end.$$is_number)?(i=0,function(){try{var g=b("break");return v(e,"loop",[],function I(){var C=I.$$s==null?this:I.$$s,M=E;return C.begin==null&&(C.begin=E),C.excl==null&&(C.excl=E),C.end==null&&(C.end=E),M=T(C.begin,B(i,n)),y(C.excl)?y(K(M,C.end))&&g.$throw(E,I.$$is_lambda):y($e(M,C.end))&&g.$throw(E,I.$$is_lambda),$.yield1(r,M),i=T(i,1)},{$$s:e})}catch(I){if(I===g)return I.$v;throw I}finally{g.is_orphan=!0}}()):(e.begin.$$is_string&&e.end.$$is_string&&n%1!==0&&D.$raise(u("TypeError"),"no implicit conversion to float from string"),v(e,"each_with_index",[],function(I,C){return I==null&&(I=E),C==null&&(C=E),Z(C["$%"](n),0)?$.yield1(r,I):E})),e)},-1),z(c,"$%",function(n){var r=this;return y(r.begin["$is_a?"](w("Numeric")))&&y(r.end["$is_a?"](w("Numeric")))?u(u("Enumerator"),"ArithmeticSequence").$new(r,n,"%"):r.$step(n)}),z(c,"$bsearch",function s(){var n=s.$$p||E,r=this;return s.$$p=null,n===E?r.$enum_for("bsearch"):(y(_(r)&&(r.begin.$$is_number||r.end.$$is_number))&&D.$raise(u("NotImplementedError"),"Can't #bsearch an infinite range"),y(r.begin.$$is_number&&r.end.$$is_number)||D.$raise(u("TypeError"),"can't do binary search for "+r.begin.$class()),v(r.$to_a(),"bsearch",[],n.$to_proc()))}),z(c,"$to_s",function(){var n=this,r=E;return""+(y(r=n.begin)?r:"")+(y(n.excl)?"...":"..")+(y(r=n.end)?r:"")}),z(c,"$inspect",function(){var n=this,r=E;return""+(y(r=n.begin)?n.begin.$inspect():r)+(y(n.excl)?"...":"..")+(y(r=n.end)?n.end.$inspect():r)}),z(c,"$marshal_load",function(n){var r=this;return r.begin=n["$[]"]("begin"),r.end=n["$[]"]("end"),r.excl=n["$[]"]("excl")}),z(c,"$hash",function(){var n=this;return[u("Range"),n.begin,n.end,n.excl].$hash()}),A(c,"==","eql?"),A(c,"member?","include?")}("::",null,k)};Opal.modules["corelib/proc"]=function($){var q=$.slice,y=$.each_ivar,D=$.klass,z=$.truthy,re=$.Kernel,J=$.defs,R=$.def,Q=$.send,v=$.to_a,K=$.return_self,$e=$.ensure_kwargs,Z=$.hash_get,U=$.Opal,ee=$.alias,X=$.nil,x=$.$$$;return $.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(p,P){var G=D(p,P,"Proc");$.prop(G.$$prototype,"$$is_proc",!0),$.prop(G.$$prototype,"$$is_lambda",!1),J(G,"$new",function b(){var A=b.$$p||X;return b.$$p=null,z(A)||re.$raise(x("ArgumentError"),"tried to create a Proc object without a block"),A});function T(b,A){if(b.$$ret)try{return b.apply(null,A)}catch(F){if(F===b.$$ret)return F.$v;throw F}else return b.apply(null,A)}function B(b,A){if(b.$$brk)try{return $.yieldX(b,A)}catch(F){if(F===b.$$brk)return F.$v;throw F}else return $.yieldX(b,A)}return R(G,"$call",function b(A){var F=b.$$p||X,k,E,u=this;return b.$$p=null,k=q(arguments),E=k,F!==X&&(u.$$p=F),u.$$is_lambda?T(u,E):B(u,E)},-1),R(G,"$>>",function b(A){b.$$p;var F=this;return b.$$p=null,Q(re,"proc",[],function k(E){var u=k.$$p||X,d,S,h=k.$$s==null?this:k.$$s,c=X;return k.$$p=null,d=q(arguments),S=d,c=Q(h,"call",v(S),u.$to_proc()),A.$call(c)},{$$arity:-1,$$s:F})}),R(G,"$<<",function b(A){b.$$p;var F=this;return b.$$p=null,Q(re,"proc",[],function k(E){var u=k.$$p||X,d,S,h=k.$$s==null?this:k.$$s,c=X;return k.$$p=null,d=q(arguments),S=d,c=Q(A,"call",v(S),u.$to_proc()),h.$call(c)},{$$arity:-1,$$s:F})}),R(G,"$to_proc",K),R(G,"$lambda?",function(){var A=this;return!!A.$$is_lambda}),R(G,"$arity",function(){var A=this;return A.$$is_curried?-1:A.$$arity!=null?A.$$arity:A.length}),R(G,"$source_location",function(){var A=this,F=X;return A.$$is_curried?X:z(F=A.$$source_location)?F:X}),R(G,"$binding",function(){var A=this;return A.$$is_curried&&re.$raise(x("ArgumentError"),"Can't create Binding"),z(x("::","Binding","skip_raise")?"constant":X)?x("Binding").$new(X,[],A.$$s,A.$source_location()):X}),R(G,"$parameters",function(A){var F,k=this;if(A=$e(A),F=Z(A,"lambda"),k.$$is_curried)return[["rest"]];if(k.$$parameters){if(F??k.$$is_lambda)return k.$$parameters;var E=[],u,d;for(u=0,d=k.$$parameters.length;u<d;u++){var S=k.$$parameters[u];S[0]==="req"&&(S=["opt",S[1]]),E.push(S)}return E}else return[]},-1),R(G,"$curry",function(A){var F=this;A===void 0?A=F.length:(A=U["$coerce_to!"](A,x("Integer"),"to_int"),F.$$is_lambda&&A!==F.length&&re.$raise(x("ArgumentError"),"wrong number of arguments ("+A+" for "+F.length+")"));function k(){var E=q(arguments),u=E.length,d;return u>A&&F.$$is_lambda&&!F.$$is_curried&&re.$raise(x("ArgumentError"),"wrong number of arguments ("+u+" for "+A+")"),u>=A?F.$call.apply(F,E):(d=function(){return k.apply(null,E.concat(q(arguments)))},d.$$is_lambda=F.$$is_lambda,d.$$is_curried=!0,d)}return k.$$is_lambda=F.$$is_lambda,k.$$is_curried=!0,k},-1),R(G,"$dup",function(){var A=this,F=A.$$original_proc||A,k=function(){return F.apply(this,arguments)};return y(A,function(E){k[E]=A[E]}),k}),ee(G,"===","call"),ee(G,"clone","dup"),ee(G,"yield","call"),ee(G,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function($){var q=$.klass,y=$.def,D=$.truthy,z=$.slice,re=$.alias,J=$.Kernel,R=$.send,Q=$.to_a,v=$.nil,K=$.$$$;return $.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function($e,Z){var U=q($e,Z,"Method"),ee=U.$$prototype;return ee.method=ee.receiver=ee.owner=ee.name=v,U.$attr_reader("owner","receiver","name"),y(U,"$initialize",function(x,p,P,G){var T=this;return T.receiver=x,T.owner=p,T.name=G,T.method=P}),y(U,"$arity",function(){var x=this;return x.method.$arity()}),y(U,"$parameters",function(){var x=this;return x.method.$$parameters}),y(U,"$source_location",function(){var x=this,p=v;return D(p=x.method.$$source_location)?p:["(eval)",0]}),y(U,"$comments",function(){var x=this,p=v;return D(p=x.method.$$comments)?p:[]}),y(U,"$call",function X(x){var p=X.$$p||v,P,G,T=this;return X.$$p=null,P=z(arguments),G=P,T.method.$$p=p,T.method.apply(T.receiver,G)},-1),y(U,"$curry",function(x){var p=this;return p.method.$curry(x)},-1),y(U,"$>>",function(x){var p=this;return p.method["$>>"](x)}),y(U,"$<<",function(x){var p=this;return p.method["$<<"](x)}),y(U,"$unbind",function(){var x=this;return K("UnboundMethod").$new(x.receiver.$class(),x.owner,x.method,x.name)}),y(U,"$to_proc",function(){var x=this,p=x.$call.bind(x);return p.$$unbound=x.method,p.$$is_lambda=!0,p.$$arity=x.method.$$arity==null?x.method.length:x.method.$$arity,p.$$parameters=x.method.$$parameters,p}),y(U,"$inspect",function(){var x=this;return"#<"+x.$class()+": "+x.receiver.$class()+"#"+x.name+" (defined in "+x.owner+" in "+x.$source_location().$join(":")+")>"}),re(U,"[]","call"),re(U,"===","call")}("::",null),function($e,Z){var U=q($e,Z,"UnboundMethod"),ee=U.$$prototype;return ee.method=ee.owner=ee.name=ee.source=v,U.$attr_reader("source","owner","name"),y(U,"$initialize",function(x,p,P,G){var T=this;return T.source=x,T.owner=p,T.method=P,T.name=G,T.$$method=P}),y(U,"$arity",function(){var x=this;return x.method.$arity()}),y(U,"$parameters",function(){var x=this;return x.method.$$parameters}),y(U,"$source_location",function(){var x=this,p=v;return D(p=x.method.$$source_location)?p:["(eval)",0]}),y(U,"$comments",function(){var x=this,p=v;return D(p=x.method.$$comments)?p:[]}),y(U,"$bind",function(x){var p=this;if(p.owner.$$is_module||$.is_a(x,p.owner))return K("Method").$new(x,p.owner,p.method,p.name);J.$raise(K("TypeError"),"can't bind singleton method to a different class (expected "+x+".kind_of?("+p.owner+" to be true)")}),y(U,"$bind_call",function X(x,p){var P=X.$$p||v,G,T,B=this;return X.$$p=null,G=z(arguments,1),T=G,R(B.$bind(x),"call",Q(T),P.$to_proc())},-2),y(U,"$inspect",function(){var x=this;return"#<"+x.$class()+": "+x.source+"#"+x.name+" (defined in "+x.owner+" in "+x.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function($){var q=$.gvars,y=$.const_set,D=$.Object,z=$.nil;return $.add_stubs("new"),q["&"]=q["~"]=q["`"]=q["'"]=z,q.LOADED_FEATURES=q['"']=$.loaded_features,q.LOAD_PATH=q[":"]=[],q["/"]=`
`,q[","]=z,y("::","ARGV",[]),y("::","ARGF",D.$new()),y("::","ENV",new Map),q.VERBOSE=!1,q.DEBUG=!1,q.SAFE=0};Opal.modules["corelib/io"]=function($){var q=$.klass,y=$.const_set,D=$.not,z=$.truthy,re=$.def,J=$.return_ivar,R=$.return_val,Q=$.slice,v=$.Kernel,K=$.gvars,$e=$.send,Z=$.to_a,U=$.rb_plus,ee=$.neqeq,X=$.range,x=$.eqeq,p=$.to_ary,P=$.rb_gt,G=$.assign_ivar_val,T=$.alias,B,b=$.nil,A=$.$$$;$.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(k,E){var u=q(k,E,"IO"),d=u.$$prototype;return d.read_buffer=d.closed=b,y(u,"SEEK_SET",0),y(u,"SEEK_CUR",1),y(u,"SEEK_END",2),y(u,"SEEK_DATA",3),y(u,"SEEK_HOLE",4),y(u,"READABLE",1),y(u,"WRITABLE",4),u.$attr_reader("eof"),u.$attr_accessor("read_proc","sync","tty","write_proc"),re(u,"$initialize",function(h,c){var l=this;return c==null&&(c="r"),l.fd=h,l.flags=c,l.eof=!1,z(c["$include?"]("r"))&&D(c["$match?"](/[wa+]/))?l.closed="write":z(c["$match?"](/[wa]/))&&D(c["$match?"](/[r+]/))?l.closed="read":b},-2),re(u,"$fileno",J("fd")),re(u,"$tty?",function(){var h=this;return h.tty==!0}),re(u,"$write",function(h){var c=this;return c.write_proc(h),h.$size()}),re(u,"$flush",R(b)),re(u,"$<<",function(h){var c=this;return c.$write(h),c}),re(u,"$print",function(h){var c,l,w=this;K[","]==null&&(K[","]=b),c=Q(arguments),l=c;for(var H=0,_=l.length;H<_;H++)l[H]=v.$String(l[H]);return w.$write(l.join(K[","])),b},-1),re(u,"$puts",function(h){var c,l,w=this;c=Q(arguments),l=c;var H;if(l.length===0)return w.$write(`
`),b;for(var _=0,s=l.length;_<s;_++)if(l[_].$$is_array){var n=l[_].$flatten();n.length>0&&$e(w,"puts",Z(n))}else l[_].$$is_string?H=l[_].valueOf():H=v.$String(l[_]),H.endsWith(`
`)||(H+=`
`),w.$write(H);return b},-1),re(u,"$getc",function(){var h=this,c=b,l=b,w=b;h.read_buffer=z(c=h.read_buffer)?c:"",l="";do if(h.read_buffer=U(h.read_buffer,l),ee(h.read_buffer,""))return w=h.read_buffer["$[]"](0),h.read_buffer=h.read_buffer["$[]"](X(1,-1,!1)),w;while(z(l=h.$sysread_noraise(1)));return b}),re(u,"$getbyte",function(){var h,c=this;return h=c.$getc(),h===b||h==null?b:h.$ord()}),re(u,"$readbyte",function(){var h=this;return h.$readchar().$ord()}),re(u,"$readchar",function(){var h=this,c=b;return z(c=h.$getc())?c:v.$raise(A("EOFError"),"end of file reached")}),re(u,"$readline",function(h){var c,l,w=this,H=b;return c=Q(arguments),l=c,z(H=$e(w,"gets",Z(l)))?H:v.$raise(A("EOFError"),"end of file reached")},-1),re(u,"$gets",function(h,c,l){var w,H,_=this,s=b,n=b,r=b,e=b,t=b,i=b;K["/"]==null&&(K["/"]=b),h==null&&(h=!1),c==null&&(c=b),l==null&&(l=new Map),z(h.$$is_number)&&D(c)&&(w=[!1,h,c],h=w[0],c=w[1],l=w[2]),z(h.$$is_hash)&&D(c)&&x(l,new Map)?(w=[!1,b,h],h=w[0],c=w[1],l=w[2]):z(c.$$is_hash)&&x(l,new Map)&&(w=[h,b,c],h=w[0],c=w[1],l=w[2]),s=h,x(h,!1)&&(h=K["/"]),x(h,"")&&(h=/\r?\n\r?\n/),h=z(n=h)?n:"",x(s,"")||(h=h.$to_str()),r=x(s,"")?2:h.$length(),x(h," ")&&(h=/ /),_.read_buffer=z(n=_.read_buffer)?n:"",e="",t=b;do if(_.read_buffer=U(_.read_buffer,e),ee(h,"")&&z(z(h.$$is_regexp)?_.read_buffer["$match?"](h):_.read_buffer["$include?"](h))){i=_.read_buffer,H=_.read_buffer.$split(h,2),w=p(H),t=w[0]==null?b:w[0],_.read_buffer=w[1]==null?b:w[1],ee(t,i)&&(t=U(t,i["$[]"](t.$length(),r)));break}while(z(e=_.$sysread_noraise(x(h,"")?65536:1)));return z(t)||(w=[z(n=_.read_buffer)?n:"",""],t=w[0],_.read_buffer=w[1],x(t,"")&&(t=b)),z(t)&&(z(c)&&(t=t["$[]"]($.Range.$new(0,c,!0)),_.read_buffer=U(t["$[]"]($.Range.$new(c,-1,!1)),_.read_buffer)),z(l["$[]"]("chomp"))&&(t=t.$sub(/\r?\n$/,"")),x(s,"")&&(t=t.$sub(/^[\r\n]+/,""))),x(s,!1)&&(K._=t),t},-1),re(u,"$sysread",function(h){var c=this,l=b;return z(l=c.read_proc(h))?l:(c.eof=!0,v.$raise(A("EOFError"),"end of file reached"))}),re(u,"$sysread_noraise",function(h){var c=this;try{return c.$sysread(h)}catch(l){if($.rescue(l,[A("EOFError")]))try{return b}finally{$.pop_exception(l)}else throw l}}),re(u,"$readpartial",function(h){var c,l=this,w=b,H=b,_=b;return l.read_buffer=z(w=l.read_buffer)?w:"",H=l.$sysread(h),c=[U(l.read_buffer,z(w=H)?w:""),""],_=c[0],l.read_buffer=c[1],x(_,"")&&(_=b),_}),re(u,"$read",function(h){var c,l=this,w=b,H=b,_=b;h==null&&(h=b),l.read_buffer=z(w=l.read_buffer)?w:"",H="",_=b;do if(l.read_buffer=U(l.read_buffer,H),z(h)&&z(P(l.read_buffer.$length(),h)))return c=[l.read_buffer["$[]"]($.Range.$new(0,h,!0)),l.read_buffer["$[]"]($.Range.$new(h,-1,!1))],_=c[0],l.read_buffer=c[1],_;while(z(H=l.$sysread_noraise(z(w=h)?w:65536)));return c=[l.read_buffer,""],_=c[0],l.read_buffer=c[1],_},-1),re(u,"$readlines",function(h){var c=this;return K["/"]==null&&(K["/"]=b),h==null&&(h=K["/"]),c.$each_line(h).$to_a()},-1),re(u,"$each",function S(h,c){var l=S.$$p||b,w,H,_,s=this,n=b;if(K["/"]==null&&(K["/"]=b),S.$$p=null,w=Q(arguments),w.length>0&&(H=w.shift()),H==null&&(H=K["/"]),_=w,l===b)return $e(s,"enum_for",["each",H].concat(Z(_)));for(;z(n=$e(s,"gets",[H].concat(Z(_))));)$.yield1(l,n);return s},-1),re(u,"$each_byte",function S(){var h=S.$$p||b,c=this,l=b;if(S.$$p=null,h===b)return c.$enum_for("each_byte");for(;z(l=c.$getbyte());)$.yield1(h,l);return c}),re(u,"$each_char",function S(){var h=S.$$p||b,c=this,l=b;if(S.$$p=null,h===b)return c.$enum_for("each_char");for(;z(l=c.$getc());)$.yield1(h,l);return c}),re(u,"$close",G("closed","both")),re(u,"$close_read",function(){var h=this;return x(h.closed,"write")?h.closed="both":h.closed="read"}),re(u,"$close_write",function(){var h=this;return x(h.closed,"read")?h.closed="both":h.closed="write"}),re(u,"$closed?",function(){var h=this;return h.closed["$=="]("both")}),re(u,"$closed_read?",function(){var h=this,c=b;return z(c=h.closed["$=="]("read"))?c:h.closed["$=="]("both")}),re(u,"$closed_write?",function(){var h=this,c=b;return z(c=h.closed["$=="]("write"))?c:h.closed["$=="]("both")}),re(u,"$check_writable",function(){var h=this;return z(h["$closed_write?"]())?v.$raise(A("IOError"),"not opened for writing"):b}),re(u,"$check_readable",function(){var h=this;return z(h["$closed_read?"]())?v.$raise(A("IOError"),"not opened for reading"):b}),T(u,"each_line","each"),T(u,"eof?","eof")}("::",null),y("::","STDIN",K.stdin=A("IO").$new(0,"r")),y("::","STDOUT",K.stdout=A("IO").$new(1,"w")),y("::","STDERR",K.stderr=A("IO").$new(2,"w"));var F=$.global.console;return A("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(k){process.stdout.write(k)}:function(k){F.log(k)}),A("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(k){process.stderr.write(k)}:function(k){F.warn(k)}),B=[function(k){var E=prompt();return E!==null?E+`
`:b}],$e(A("STDIN"),"read_proc=",B),B[B.length-1]};Opal.modules["opal/regexp_anchors"]=function($){var q=$.module,y=$.const_set,D=[];$.nil;var z=$.$$$;return $.add_stubs("new"),function(re,J){var R=q(re,"Opal"),Q=[R].concat(J),v=$.$r(Q);return y(R,"REGEXP_START","^"),y(R,"REGEXP_END","$"),y(R,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),y(R,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),y(R,"INLINE_IDENTIFIER_REGEXP",v("Regexp").$new("[^"+z(R,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+z(R,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),y(R,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),y(R,"CONST_NAME_REGEXP",v("Regexp").$new(""+z(R,"REGEXP_START")+"(::)?[A-Z][^"+z(R,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+z(R,"REGEXP_END")))}(D[0],D)};Opal.modules["opal/mini"]=function($){var q=$.Object;return $.nil,$.add_stubs("require"),q.$require("opal/base"),q.$require("corelib/nil"),q.$require("corelib/boolean"),q.$require("corelib/string"),q.$require("corelib/comparable"),q.$require("corelib/enumerable"),q.$require("corelib/enumerator"),q.$require("corelib/array"),q.$require("corelib/hash"),q.$require("corelib/number"),q.$require("corelib/range"),q.$require("corelib/proc"),q.$require("corelib/method"),q.$require("corelib/regexp"),q.$require("corelib/variables"),q.$require("corelib/io"),q.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function($){var q=$.coerce_to,y=$.module,D=$.slice,z=$.truthy,re=$.eqeq,J=$.Opal,R=$.Kernel,Q=$.gvars,v=$.def,K=$.alias,$e=$.nil,Z=$.$$$;return $.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(U){var ee=y(U,"Kernel");return v(ee,"$format",function(x,p){var P,G,T=$e;Q.DEBUG==null&&(Q.DEBUG=$e),P=D(arguments,1),G=P,re(G.$length(),1)&&z(G["$[]"](0)["$respond_to?"]("to_ary"))&&(T=J["$coerce_to?"](G["$[]"](0),Z("Array"),"to_ary"),z(T["$nil?"]())||(G=T.$to_a()));var B="",b=0,A,F,k=x.length,E,u,d,S,h,c,l,w,H,_,s,n,r,e=1,t=0,i,a=0,o=1,g=2,I=4,C=8,M=16,V=32,O=64,ae=128;function le(){i&V&&R.$raise(Z("ArgumentError"),"flag after width"),i&ae&&R.$raise(Z("ArgumentError"),"flag after precision")}function _e(){i&V&&R.$raise(Z("ArgumentError"),"width given twice"),i&ae&&R.$raise(Z("ArgumentError"),"width after precision")}function de(N){return N>=G.length&&R.$raise(Z("ArgumentError"),"too few arguments"),G[N]}function ge(){switch(t){case-1:R.$raise(Z("ArgumentError"),"unnumbered("+e+") mixed with numbered");case-2:R.$raise(Z("ArgumentError"),"unnumbered("+e+") mixed with named")}return t=e++,de(t-1)}function ve(N){return t>0&&R.$raise(Z("ArgumentError"),"numbered("+N+") after unnumbered("+t+")"),t===-2&&R.$raise(Z("ArgumentError"),"numbered("+N+") after named"),N<1&&R.$raise(Z("ArgumentError"),"invalid index - "+N+"$"),t=-1,de(N-1)}function me(){return r===void 0?ge():r}function be(N){for(var j,Y="";;F++){if(F===k&&R.$raise(Z("ArgumentError"),"malformed format string - %*[0-9]"),x.charCodeAt(F)<48||x.charCodeAt(F)>57)return F--,j=parseInt(Y,10)||0,j>2147483647&&R.$raise(Z("ArgumentError"),""+N+" too big"),j;Y+=x.charAt(F)}}function ie(N){var j,Y=be(N);return x.charAt(F+1)==="$"?(F++,j=ve(Y)):j=ge(),j.$to_int()}for(F=x.indexOf("%");F!==-1;F=x.indexOf("%",F)){switch(u=void 0,i=a,S=-1,h=-1,r=void 0,A=F,F++,x.charAt(F)){case"%":b=F;case"":case`
`:case"\0":F++;continue}e:for(;F<k;F++)switch(x.charAt(F)){case" ":le(),i|=M;continue e;case"#":le(),i|=o;continue e;case"+":le(),i|=I;continue e;case"-":le(),i|=g;continue e;case"0":le(),i|=C;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(c=be("width"),x.charAt(F+1)==="$"){if(F+2===k){u="%",F++;break e}r!==void 0&&R.$raise(Z("ArgumentError"),"value given twice - %"+c+"$"),r=ve(c),F++}else _e(),i|=V,S=c;continue e;case"<":case"{":for(w=x.charAt(F)==="<"?">":"}",l="",F++;;F++){if(F===k&&R.$raise(Z("ArgumentError"),"malformed name - unmatched parenthesis"),x.charAt(F)===w){if(t>0&&R.$raise(Z("ArgumentError"),"named "+l+" after unnumbered("+t+")"),t===-1&&R.$raise(Z("ArgumentError"),"named "+l+" after numbered"),t=-2,(G[0]===void 0||!G[0].$$is_hash)&&R.$raise(Z("ArgumentError"),"one hash required"),r=G[0].$fetch(l),w===">")continue e;if(u=r.toString(),h!==-1&&(u=u.slice(0,h)),i&g)for(;u.length<S;)u=u+" ";else for(;u.length<S;)u=" "+u;break e}l+=x.charAt(F)}case"*":F++,_e(),i|=V,S=ie("width"),S<0&&(i|=g,S=-S);continue e;case".":if(i&ae&&R.$raise(Z("ArgumentError"),"precision given twice"),i|=O|ae,h=0,F++,x.charAt(F)==="*"){F++,h=ie("precision"),h<0&&(i&=~O);continue e}h=be("precision");continue e;case"d":case"i":case"u":if(E=R.$Integer(me()),E>=0){for(u=E.toString();u.length<h;)u="0"+u;if(i&g)for((i&I||i&M)&&(u=(i&I?"+":" ")+u);u.length<S;)u=u+" ";else if(i&C&&h===-1){for(;u.length<S-(i&I||i&M?1:0);)u="0"+u;(i&I||i&M)&&(u=(i&I?"+":" ")+u)}else for((i&I||i&M)&&(u=(i&I?"+":" ")+u);u.length<S;)u=" "+u}else{for(u=(-E).toString();u.length<h;)u="0"+u;if(i&g)for(u="-"+u;u.length<S;)u=u+" ";else if(i&C&&h===-1){for(;u.length<S-1;)u="0"+u;u="-"+u}else for(u="-"+u;u.length<S;)u=" "+u}break e;case"b":case"B":case"o":case"x":case"X":switch(x.charAt(F)){case"b":case"B":H=2,_="0b",s=/^1+/,n="1";break;case"o":H=8,_="0",s=/^3?7+/,n="7";break;case"x":case"X":H=16,_="0x",s=/^f+/,n="f";break}if(E=R.$Integer(me()),E>=0){for(u=E.toString(H);u.length<h;)u="0"+u;if(i&g)for((i&I||i&M)&&(u=(i&I?"+":" ")+u),i&o&&E!==0&&(u=_+u);u.length<S;)u=u+" ";else if(i&C&&h===-1){for(;u.length<S-(i&I||i&M?1:0)-(i&o&&E!==0?_.length:0);)u="0"+u;i&o&&E!==0&&(u=_+u),(i&I||i&M)&&(u=(i&I?"+":" ")+u)}else for(i&o&&E!==0&&(u=_+u),(i&I||i&M)&&(u=(i&I?"+":" ")+u);u.length<S;)u=" "+u}else if(i&I||i&M){for(u=(-E).toString(H);u.length<h;)u="0"+u;if(i&g)for(i&o&&(u=_+u),u="-"+u;u.length<S;)u=u+" ";else if(i&C&&h===-1){for(;u.length<S-1-(i&o?2:0);)u="0"+u;i&o&&(u=_+u),u="-"+u}else for(i&o&&(u=_+u),u="-"+u;u.length<S;)u=" "+u}else{for(u=(E>>>0).toString(H).replace(s,n);u.length<h-2;)u=n+u;if(i&g)for(u=".."+u,i&o&&(u=_+u);u.length<S;)u=u+" ";else if(i&C&&h===-1){for(;u.length<S-2-(i&o?_.length:0);)u=n+u;u=".."+u,i&o&&(u=_+u)}else for(u=".."+u,i&o&&(u=_+u);u.length<S;)u=" "+u}x.charAt(F)===x.charAt(F).toUpperCase()&&(u=u.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(E=R.$Float(me()),E>=0||isNaN(E)){if(E===1/0)u="Inf";else switch(x.charAt(F)){case"f":u=E.toFixed(h===-1?6:h);break;case"e":case"E":u=E.toExponential(h===-1?6:h);break;case"g":case"G":u=E.toExponential(),d=parseInt(u.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(u=E.toPrecision(h===-1?i&o?6:void 0:h));break}if(i&g)for((i&I||i&M)&&(u=(i&I?"+":" ")+u);u.length<S;)u=u+" ";else if(i&C&&E!==1/0&&!isNaN(E)){for(;u.length<S-(i&I||i&M?1:0);)u="0"+u;(i&I||i&M)&&(u=(i&I?"+":" ")+u)}else for((i&I||i&M)&&(u=(i&I?"+":" ")+u);u.length<S;)u=" "+u}else{if(E===-1/0)u="Inf";else switch(x.charAt(F)){case"f":u=(-E).toFixed(h===-1?6:h);break;case"e":case"E":u=(-E).toExponential(h===-1?6:h);break;case"g":case"G":u=(-E).toExponential(),d=parseInt(u.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(u=(-E).toPrecision(h===-1?i&o?6:void 0:h));break}if(i&g)for(u="-"+u;u.length<S;)u=u+" ";else if(i&C&&E!==-1/0){for(;u.length<S-1;)u="0"+u;u="-"+u}else for(u="-"+u;u.length<S;)u=" "+u}x.charAt(F)===x.charAt(F).toUpperCase()&&E!==1/0&&E!==-1/0&&!isNaN(E)&&(u=u.toUpperCase()),u=u.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":R.$raise(Z("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(E=me(),E["$respond_to?"]("to_ary")&&(E=E.$to_ary()[0]),E["$respond_to?"]("to_str")?u=E.$to_str():u=String.fromCharCode(q(E,Z("Integer"),"to_int")),u.length!==1&&R.$raise(Z("ArgumentError"),"%c requires a character"),i&g)for(;u.length<S;)u=u+" ";else for(;u.length<S;)u=" "+u;break e;case"p":if(u=me().$inspect(),h!==-1&&(u=u.slice(0,h)),i&g)for(;u.length<S;)u=u+" ";else for(;u.length<S;)u=" "+u;break e;case"s":if(u=me().$to_s(),h!==-1&&(u=u.slice(0,h)),i&g)for(;u.length<S;)u=u+" ";else for(;u.length<S;)u=" "+u;break e;default:R.$raise(Z("ArgumentError"),"malformed format string - %"+x.charAt(F))}u===void 0&&R.$raise(Z("ArgumentError"),"malformed format string - %"),B+=x.slice(b,A)+u,b=F+1}return Q.DEBUG&&t>=0&&e<G.length&&R.$raise(Z("ArgumentError"),"too many arguments for format string"),B+x.slice(b)},-2),K(ee,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function($){var q=$.klass,y=$.rb_plus,D=$.truthy,z=$.send,re=$.defs,J=$.eqeq,R=$.def,Q=$.return_ivar,v=$.return_val,K=$.slice,$e=$.Kernel,Z=$.Opal,U=$.rb_lt,ee,X=$.top,x=[],p=$.$r(x),P=$.nil,G=$.$$$;return $.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),X.$require("corelib/string"),function(T,B,b){var A=q(T,B,"Encoding"),F=[A].concat(b),k=A.$$prototype;return k.name=k.dummy=P,re(A,"$register",function E(u,d){var S=E.$$p||P,h=this,c=P,l=P,w=P,H=P,_=P,s=P;return E.$$p=null,d==null&&(d=new Map),c=y([u],D(l=d["$[]"]("aliases"))?l:[]),w=D(l=d["$[]"]("ascii"))&&l,H=D(l=d["$[]"]("dummy"))&&l,D(d["$[]"]("inherits"))?(_=d["$[]"]("inherits").$clone(),_.$initialize(u,c,w,H)):_=h.$new(u,c,w,H),S!==P&&z(_,"instance_eval",[],S.$to_proc()),s=$.encodings,z(c,"each",[],function n(r){var e=n.$$s==null?this:n.$$s;return r==null&&(r=P),e.$const_set(r.$tr("-","_"),_),s[r]=_},{$$s:h})},-2),re(A,"$find",function(u){var d=this;return J(u,"default_external")?d.$default_external():$.find_encoding(u)}),A.$singleton_class().$attr_accessor("default_external"),A.$attr_reader("name","names"),R(A,"$initialize",function(u,d,S,h){var c=this;return c.name=u,c.names=d,c.ascii=S,c.dummy=h}),R(A,"$ascii_compatible?",Q("ascii")),R(A,"$dummy?",Q("dummy")),R(A,"$binary?",v(!1)),R(A,"$to_s",Q("name")),R(A,"$inspect",function(){var u=this;return"#<Encoding:"+u.name+(D(u.dummy)?" (dummy)":P)+">"}),R(A,"$charsize",function(u){for(var d=0,S=0,h=u.length;S<h;S++){var c=u.charCodeAt(S);c>=55296&&c<=56319||d++}return d}),R(A,"$each_char",function E(u){var d=E.$$p||P;E.$$p=null;for(var S="",h=0,c=u.length;h<c;h++){var l=u.charCodeAt(h),w=u.charAt(h);if(l>=56320&&l<=57343){S=w;continue}else l>=55296&&l<=56319&&(w=S+w);u.encoding.name!="UTF-8"&&(w=new String(w),w.encoding=u.encoding),$.yield1(d,w)}}),R(A,"$each_byte",function(u){return K(arguments),$e.$raise(G("NotImplementedError"))},-1),R(A,"$bytesize",function(u){return K(arguments),$e.$raise(G("NotImplementedError"))},-1),q("::",G("StandardError"),"EncodingError"),q("::",G("EncodingError"),"CompatibilityError"),q(F[0],G("EncodingError"),"UndefinedConversionError"),P}("::",null,x),z(G("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function T(){var B=T.$$s==null?this:T.$$s;return R(B,"$each_byte",function b(A){var F=b.$$p||P;b.$$p=null;for(var k=1/0,E,u=A.length,d=null,S=0;S<u;++S){if(E=A.charCodeAt(S),E>55295&&E<57344){if(!d){if(E>56319){(k-=3)>-1&&($.yield1(F,239),$.yield1(F,191),$.yield1(F,189));continue}else if(S+1===u){(k-=3)>-1&&($.yield1(F,239),$.yield1(F,191),$.yield1(F,189));continue}d=E;continue}if(E<56320){(k-=3)>-1&&($.yield1(F,239),$.yield1(F,191),$.yield1(F,189)),d=E;continue}E=(d-55296<<10|E-56320)+65536}else d&&(k-=3)>-1&&($.yield1(F,239),$.yield1(F,191),$.yield1(F,189));if(d=null,E<128){if((k-=1)<0)break;$.yield1(F,E)}else if(E<2048){if((k-=2)<0)break;$.yield1(F,E>>6|192),$.yield1(F,E&63|128)}else if(E<65536){if((k-=3)<0)break;$.yield1(F,E>>12|224),$.yield1(F,E>>6&63|128),$.yield1(F,E&63|128)}else if(E<1114112){if((k-=4)<0)break;$.yield1(F,E>>18|240),$.yield1(F,E>>12&63|128),$.yield1(F,E>>6&63|128),$.yield1(F,E&63|128)}}}),R(B,"$bytesize",function(A){return A.$bytes().$length()})},{$$s:X}),z(G("Encoding"),"register",["UTF-16LE"],function T(){var B=T.$$s==null?this:T.$$s;return R(B,"$each_byte",function b(A){var F=b.$$p||P;b.$$p=null;for(var k=0,E=A.length;k<E;k++){var u=A.charCodeAt(k);$.yield1(F,u&255),$.yield1(F,u>>8)}}),R(B,"$bytesize",function(A){return A.length*2})},{$$s:X}),z(G("Encoding"),"register",["UTF-16BE",new Map([["inherits",G(G("Encoding"),"UTF_16LE")]])],function T(){var B=T.$$s==null?this:T.$$s;return R(B,"$each_byte",function b(A){var F=b.$$p||P;b.$$p=null;for(var k=0,E=A.length;k<E;k++){var u=A.charCodeAt(k);$.yield1(F,u>>8),$.yield1(F,u&255)}})},{$$s:X}),z(G("Encoding"),"register",["UTF-32LE"],function T(){var B=T.$$s==null?this:T.$$s;return R(B,"$each_byte",function b(A){var F=b.$$p||P;b.$$p=null;for(var k=0,E=A.length;k<E;k++){var u=A.charCodeAt(k);$.yield1(F,u&255),$.yield1(F,u>>8),$.yield1(F,0),$.yield1(F,0)}}),R(B,"$bytesize",function(A){return A.length*4})},{$$s:X}),z(G("Encoding"),"register",["UTF-32BE",new Map([["inherits",G(G("Encoding"),"UTF_32LE")]])],function T(){var B=T.$$s==null?this:T.$$s;return R(B,"$each_byte",function b(A){var F=b.$$p||P;b.$$p=null;for(var k=0,E=A.length;k<E;k++){var u=A.charCodeAt(k);$.yield1(F,0),$.yield1(F,0),$.yield1(F,u>>8),$.yield1(F,u&255)}})},{$$s:X}),z(G("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function T(){var B=T.$$s==null?this:T.$$s;return R(B,"$each_char",function b(A){var F=b.$$p||P;b.$$p=null;for(var k=0,E=A.length;k<E;k++){var u=new String(A.charAt(k));u.encoding=A.encoding,$.yield1(F,u)}}),R(B,"$charsize",function(A){return A.length}),R(B,"$each_byte",function b(A){var F=b.$$p||P;b.$$p=null;for(var k=0,E=A.length;k<E;k++){var u=A.charCodeAt(k);$.yield1(F,u&255)}}),R(B,"$bytesize",function(A){return A.length}),R(B,"$binary?",v(!0))},{$$s:X}),G("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",G(G("Encoding"),"ASCII_8BIT")]])),G("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",G(G("Encoding"),"ASCII_8BIT")]])),function(T,B){var b=q(T,B,"String"),A=b.$$prototype;return A.internal_encoding=A.bytes=A.encoding=P,b.$attr_reader("encoding"),b.$attr_reader("internal_encoding"),$.prop(String.prototype,"bytes",P),$.prop(String.prototype,"encoding",G(G("Encoding"),"UTF_8")),$.prop(String.prototype,"internal_encoding",G(G("Encoding"),"UTF_8")),R(b,"$b",function(){var k=this;return k.$dup().$force_encoding("binary")}),R(b,"$bytesize",function(){var k=this;return k.internal_encoding.$bytesize(k)}),R(b,"$each_byte",function F(){var k=F.$$p||P,E=this;return F.$$p=null,k===P?z(E,"enum_for",["each_byte"],function u(){var d=u.$$s==null?this:u.$$s;return d.$bytesize()},{$$s:E}):(z(E.internal_encoding,"each_byte",[E],k.$to_proc()),E)}),R(b,"$bytes",function(){var k=this,E=P;return typeof k=="string"?new String(k).$each_byte().$to_a():(k.bytes=D(E=k.bytes)?E:k.$each_byte().$to_a(),k.bytes.$dup())}),R(b,"$each_char",function F(){var k=F.$$p||P,E=this;return F.$$p=null,k===P?z(E,"enum_for",["each_char"],function u(){var d=u.$$s==null?this:u.$$s;return d.$length()},{$$s:E}):(z(E.encoding,"each_char",[E],k.$to_proc()),E)}),R(b,"$chars",function F(){var k=F.$$p||P,E=this;return F.$$p=null,D(k)?z(E,"each_char",[],k.$to_proc()):E.$each_char().$to_a()}),R(b,"$each_codepoint",function F(){var k=F.$$p||P,E=this;if(F.$$p=null,k===P)return E.$enum_for("each_codepoint");for(var u=0,d=E.length;u<d;u++)$.yield1(k,E.codePointAt(u));return E}),R(b,"$codepoints",function F(){var k=F.$$p||P,E=this;return F.$$p=null,k!==P?z(E,"each_codepoint",[],k.$to_proc()):E.$each_codepoint().$to_a()}),R(b,"$encode",function(k){var E=this;return $.enc(E,k)}),R(b,"$force_encoding",function(k){var E=this,u=E;return k===u.encoding||(k=Z["$coerce_to!"](k,G("String"),"to_s"),k=G("Encoding").$find(k),k===u.encoding)||(u=$.set_encoding(u,k)),u}),R(b,"$getbyte",function(k){var E=this,u=P;return u=E.$bytes(),k=Z["$coerce_to!"](k,G("Integer"),"to_int"),D(U(u.$length(),k))?P:u["$[]"](k)}),R(b,"$initialize_copy",function(k){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),R(b,"$valid_encoding?",v(!0))}("::",null),ee=[G(p("Encoding"),"UTF_8")],z(G("Encoding"),"default_external=",ee),ee[ee.length-1]};Opal.modules["corelib/math"]=function($){var q=$.type_error,y=$.module,D=$.const_set,z=$.Class,re=$.slice,J=$.Kernel,R=$.defs,Q=$.truthy,v=$.send,K=$.def,$e=$.rb_minus,Z=$.eqeqeq,U=$.rb_divide,ee=[],X=$.nil,x=$.$$$;return $.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(p,P){var G=y(p,"Math"),T=[G].concat(P),B=$.$r(T);return D(G,"E",Math.E),D(G,"PI",Math.PI),D(G,"DomainError",z.$new(x("StandardError"))),R(G,"$checked",function(A,F){var k,E;if(k=re(arguments,1),E=k,isNaN(E[0])||E.length==2&&isNaN(E[1]))return NaN;var u=Math[A].apply(null,E);return isNaN(u)&&J.$raise(B("DomainError"),'Numerical argument is out of domain - "'+A+'"'),u},-2),R(G,"$float!",function(A){try{return J.$Float(A)}catch(F){if($.rescue(F,[x("ArgumentError")]))try{return J.$raise(q(A,x("Float")))}finally{$.pop_exception(F)}else throw F}}),R(G,"$integer!",function(A){try{return J.$Integer(A)}catch(F){if($.rescue(F,[x("ArgumentError")]))try{return J.$raise(q(A,x("Integer")))}finally{$.pop_exception(F)}else throw F}}),G.$module_function(),Q(typeof Math.erf<"u")||$.prop(Math,"erf",function(b){var A=.254829592,F=-.284496736,k=1.421413741,E=-1.453152027,u=1.061405429,d=.3275911,S=1;b<0&&(S=-1),b=Math.abs(b);var h=1/(1+d*b),c=1-((((u*h+E)*h+k)*h+F)*h+A)*h*Math.exp(-b*b);return S*c}),Q(typeof Math.erfc<"u")||$.prop(Math,"erfc",function(b){var A=Math.abs(b),F=1/(.5*A+1),k=F*.17087277+-.82215223,E=F*k+1.48851587,u=F*E+-1.13520398,d=F*u+.27886807,S=F*d+-.18628806,h=F*S+.09678418,c=F*h+.37409196,l=F*c+1.00002368,w=F*l,H=-A*A-1.26551223+w,_=F*Math.exp(H);return b<0?2-_:_}),v(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function b(A){var F=b.$$s==null?this:b.$$s;return A==null&&(A=X),v(F,"define_method",[A],function(E){return E==null&&(E=X),x("Math").$checked(A,x("Math")["$float!"](E))})},{$$s:G}),K(G,"$atan2",function(A,F){return x("Math").$checked("atan2",x("Math")["$float!"](A),x("Math")["$float!"](F))}),K(G,"$hypot",function(A,F){return x("Math").$checked("hypot",x("Math")["$float!"](A),x("Math")["$float!"](F))}),K(G,"$frexp",function(A){if(A=B("Math")["$float!"](A),isNaN(A))return[NaN,0];var F=Math.floor(Math.log(Math.abs(A))/Math.log(2))+1,k=A/Math.pow(2,F);return[k,F]}),K(G,"$gamma",function(A){A=B("Math")["$float!"](A);var F,k,E,u,d,S,h,c,l,w=4.7421875,H=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(A))return NaN;if(A===0&&1/A<0)return-1/0;if((A===-1||A===-1/0)&&J.$raise(B("DomainError"),'Numerical argument is out of domain - "gamma"'),B("Integer")["$==="](A)){if(A<=0)return isFinite(A)?1/0:NaN;if(A>171)return 1/0;for(u=A-2,d=A-1;u>1;)d*=u,u--;return d==0&&(d=1),d}if(A<.5)return Math.PI/(Math.sin(Math.PI*A)*x("Math").$gamma($e(1,A)));if(A>=171.35)return 1/0;if(A>85)return S=A*A,h=S*A,c=h*A,l=c*A,Math.sqrt(2*Math.PI/A)*Math.pow(A/Math.E,A)*(1+1/(12*A)+1/(288*S)-139/(51840*h)-571/(2488320*c)+163879/(209018880*l)+5246819/(75246796800*l*A));for(A-=1,E=H[0],F=1;F<H.length;++F)E+=H[F]/(A+F);return k=A+w+.5,Math.sqrt(2*Math.PI)*Math.pow(k,A+.5)*Math.exp(-k)*E}),K(G,"$ldexp",function(A,F){return A=B("Math")["$float!"](A),F=B("Math")["$integer!"](F),isNaN(F)&&J.$raise(x("RangeError"),"float NaN out of range of integer"),A*Math.pow(2,F)}),K(G,"$lgamma",function(A){return A==-1?[1/0,1]:[Math.log(Math.abs(x("Math").$gamma(A))),x("Math").$gamma(A)<0?-1:1]}),K(G,"$log",function(A,F){return Z(x("String"),A)&&J.$raise(q(A,x("Float"))),Q(F==null)?x("Math").$checked("log",x("Math")["$float!"](A)):(Z(x("String"),F)&&J.$raise(q(F,x("Float"))),U(x("Math").$checked("log",x("Math")["$float!"](A)),x("Math").$checked("log",x("Math")["$float!"](F))))},-2),K(G,"$log10",function(A){return Z(x("String"),A)&&J.$raise(q(A,x("Float"))),x("Math").$checked("log10",x("Math")["$float!"](A))}),K(G,"$log2",function(A){return Z(x("String"),A)&&J.$raise(q(A,x("Float"))),x("Math").$checked("log2",x("Math")["$float!"](A))}),K(G,"$tan",function(A){return A=x("Math")["$float!"](A),Q(A["$infinite?"]())?x(x("Float"),"NAN"):x("Math").$checked("tan",x("Math")["$float!"](A))})}("::",ee)};Opal.modules["corelib/complex/base"]=function($){var q=$.module,y=$.truthy,D=$.def,z=$.klass,re=[],J=$.nil;return $.add_stubs("new,from_string"),function(R,Q){var v=q(R,"Kernel"),K=[v].concat(Q),$e=$.$r(K);return D(v,"$Complex",function(U,ee){return ee==null&&(ee=J),y(ee)?$e("Complex").$new(U,ee):$e("Complex").$new(U,0)},-2)}("::",re),function(R,Q,v){var K=z(R,Q,"String"),$e=[K].concat(v),Z=$.$r($e);return D(K,"$to_c",function(){var ee=this;return Z("Complex").$from_string(ee)})}("::",null,re)};Opal.modules["corelib/complex"]=function($){var q=$.klass,y=$.truthy,D=$.eqeqeq,z=$.Kernel,re=$.defs,J=$.rb_times,R=$.def,Q=$.rb_plus,v=$.rb_minus,K=$.rb_divide,$e=$.eqeq,Z=$.to_ary,U=$.rb_gt,ee=$.neqeq,X=$.return_val,x=$.const_set,p=$.alias,P=$.top,G=[],T=$.nil,B=$.$$$;return $.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),P.$require("corelib/numeric"),P.$require("corelib/complex/base"),function(b,A,F){var k=q(b,A,"Complex"),E=[k].concat(F),u=$.$r(E),d=k.$$prototype;return d.real=d.imag=T,re(k,"$rect",function(h,c){var l=this;return c==null&&(c=0),D(B("Numeric"),h)&&y(h["$real?"]())&&D(B("Numeric"),c)&&y(c["$real?"]())||z.$raise(B("TypeError"),"not a real"),l.$new(h,c)},-2),re(k,"$polar",function(h,c){var l=this;return c==null&&(c=0),D(B("Numeric"),h)&&y(h["$real?"]())&&D(B("Numeric"),c)&&y(c["$real?"]())||z.$raise(B("TypeError"),"not a real"),l.$new(J(h,B("Math").$cos(c)),J(h,B("Math").$sin(c)))},-2),k.$attr_reader("real","imag"),R(k,"$initialize",function(h,c){var l=this;return c==null&&(c=0),l.real=h,l.imag=c,l.$freeze()},-2),R(k,"$coerce",function(h){var c=this;return D(B("Complex"),h)?[h,c]:D(B("Numeric"),h)&&y(h["$real?"]())?[B("Complex").$new(h,0),c]:z.$raise(B("TypeError"),""+h.$class()+" can't be coerced into Complex")}),R(k,"$==",function(h){var c=this,l=T;return D(B("Complex"),h)?y(l=c.real["$=="](h.$real()))?c.imag["$=="](h.$imag()):l:D(B("Numeric"),h)&&y(h["$real?"]())?y(l=c.real["$=="](h))?c.imag["$=="](0):l:h["$=="](c)}),R(k,"$-@",function(){var h=this;return z.$Complex(h.real["$-@"](),h.imag["$-@"]())}),R(k,"$+",function(h){var c=this;return D(B("Complex"),h)?z.$Complex(Q(c.real,h.$real()),Q(c.imag,h.$imag())):D(B("Numeric"),h)&&y(h["$real?"]())?z.$Complex(Q(c.real,h),c.imag):c.$__coerced__("+",h)}),R(k,"$-",function(h){var c=this;return D(B("Complex"),h)?z.$Complex(v(c.real,h.$real()),v(c.imag,h.$imag())):D(B("Numeric"),h)&&y(h["$real?"]())?z.$Complex(v(c.real,h),c.imag):c.$__coerced__("-",h)}),R(k,"$*",function(h){var c=this;return D(B("Complex"),h)?z.$Complex(v(J(c.real,h.$real()),J(c.imag,h.$imag())),Q(J(c.real,h.$imag()),J(c.imag,h.$real()))):D(B("Numeric"),h)&&y(h["$real?"]())?z.$Complex(J(c.real,h),J(c.imag,h)):c.$__coerced__("*",h)}),R(k,"$/",function(h){var c=this;return D(B("Complex"),h)?D(B("Number"),c.real)&&y(c.real["$nan?"]())||D(B("Number"),c.imag)&&y(c.imag["$nan?"]())||D(B("Number"),h.$real())&&y(h.$real()["$nan?"]())||D(B("Number"),h.$imag())&&y(h.$imag()["$nan?"]())?B("Complex").$new(B(B("Float"),"NAN"),B(B("Float"),"NAN")):K(J(c,h.$conj()),h.$abs2()):D(B("Numeric"),h)&&y(h["$real?"]())?z.$Complex(c.real.$quo(h),c.imag.$quo(h)):c.$__coerced__("/",h)}),R(k,"$**",function(h){var c,l,w=this,H=T,_=T,s=T,n=T,r=T,e=T,t=T,i=T,a=T,o=T,g=T;if($e(h,0))return B("Complex").$new(1,0);if(D(B("Complex"),h))return l=w.$polar(),c=Z(l),H=c[0]==null?T:c[0],_=c[1]==null?T:c[1],s=h.$real(),n=h.$imag(),r=B("Math").$exp(v(J(s,B("Math").$log(H)),J(n,_))),e=Q(J(_,s),J(n,B("Math").$log(H))),B("Complex").$polar(r,e);if(D(B("Integer"),h))if(y(U(h,0))){for(t=w,i=t,a=v(h,1);ee(a,0);){for(l=a.$divmod(2),c=Z(l),o=c[0]==null?T:c[0],g=c[1]==null?T:c[1];$e(g,0);)t=z.$Complex(v(J(t.$real(),t.$real()),J(t.$imag(),t.$imag())),J(J(2,t.$real()),t.$imag())),a=o,l=a.$divmod(2),c=Z(l),o=c[0]==null?T:c[0],g=c[1]==null?T:c[1];i=J(i,t),a=v(a,1)}return i}else return K(B("Rational").$new(1,1),w)["$**"](h["$-@"]());else return D(B("Float"),h)||D(B("Rational"),h)?(l=w.$polar(),c=Z(l),H=c[0]==null?T:c[0],_=c[1]==null?T:c[1],B("Complex").$polar(H["$**"](h),J(_,h))):w.$__coerced__("**",h)}),R(k,"$abs",function(){var h=this;return B("Math").$hypot(h.real,h.imag)}),R(k,"$abs2",function(){var h=this;return Q(J(h.real,h.real),J(h.imag,h.imag))}),R(k,"$angle",function(){var h=this;return B("Math").$atan2(h.imag,h.real)}),R(k,"$conj",function(){var h=this;return z.$Complex(h.real,h.imag["$-@"]())}),R(k,"$denominator",function(){var h=this;return h.real.$denominator().$lcm(h.imag.$denominator())}),R(k,"$eql?",function(h){var c=this,l=T,w=T;return y(l=y(w=u("Complex")["$==="](h))?c.real.$class()["$=="](c.imag.$class()):w)?c["$=="](h):l}),R(k,"$fdiv",function(h){var c=this;return D(B("Numeric"),h)||z.$raise(B("TypeError"),""+h.$class()+" can't be coerced into Complex"),K(c,h)}),R(k,"$finite?",function(){var h=this,c=T;return y(c=h.real["$finite?"]())?h.imag["$finite?"]():c}),R(k,"$hash",function(){var h=this;return[B("Complex"),h.real,h.imag].$hash()}),R(k,"$infinite?",function(){var h=this,c=T;return y(c=h.real["$infinite?"]())?c:h.imag["$infinite?"]()}),R(k,"$inspect",function(){var h=this;return"("+h+")"}),R(k,"$numerator",function(){var h=this,c=T;return c=h.$denominator(),z.$Complex(J(h.real.$numerator(),K(c,h.real.$denominator())),J(h.imag.$numerator(),K(c,h.imag.$denominator())))}),R(k,"$polar",function(){var h=this;return[h.$abs(),h.$arg()]}),R(k,"$rationalize",function(h){var c=this;return arguments.length>1&&z.$raise(B("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(c.imag,0)&&z.$raise(B("RangeError"),"can't convert "+c+" into Rational"),c.$real().$rationalize(h)},-1),R(k,"$real?",X(!1)),R(k,"$rect",function(){var h=this;return[h.real,h.imag]}),R(k,"$to_f",function(){var h=this;return $e(h.imag,0)||z.$raise(B("RangeError"),"can't convert "+h+" into Float"),h.real.$to_f()}),R(k,"$to_i",function(){var h=this;return $e(h.imag,0)||z.$raise(B("RangeError"),"can't convert "+h+" into Integer"),h.real.$to_i()}),R(k,"$to_r",function(){var h=this;return $e(h.imag,0)||z.$raise(B("RangeError"),"can't convert "+h+" into Rational"),h.real.$to_r()}),R(k,"$to_s",function(){var h=this,c=T;return c=h.real.$inspect(),c=Q(c,D(B("Number"),h.imag)&&y(h.imag["$nan?"]())||y(h.imag["$positive?"]())||y(h.imag["$zero?"]())?"+":"-"),c=Q(c,h.imag.$abs().$inspect()),D(B("Number"),h.imag)&&(y(h.imag["$nan?"]())||y(h.imag["$infinite?"]()))&&(c=Q(c,"*")),Q(c,"i")}),x(E[0],"I",k.$new(0,1)),re(k,"$from_string",function(h){var c=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;h.match(c);var l,w;function H(){return c.test(h)}function _(){var n=h.match(c),r=n[0];return h=h.slice(r.length),r.replace(/_/g,"")}function s(){if(H()){var n=parseFloat(_());if(h[0]==="/")if(h=h.slice(1),H()){var r=parseFloat(_());return z.$Rational(n,r)}else return h="/"+h,n;else return n}else return null}return l=s(),l?(w=s(),w?z.$Complex(l,w):h[0]==="i"?z.$Complex(0,l):z.$Complex(l,0)):h[0]==="i"?z.$Complex(0,1):h[0]==="-"&&h[1]==="i"?z.$Complex(0,-1):h[0]==="+"&&h[1]==="i"?z.$Complex(0,1):z.$Complex(0,0)}),function(S,h){return p(S,"rectangular","rect")}($.get_singleton_class(k)),p(k,"arg","angle"),p(k,"conjugate","conj"),p(k,"divide","/"),p(k,"imaginary","imag"),p(k,"magnitude","abs"),p(k,"phase","arg"),p(k,"quo","/"),p(k,"rectangular","rect"),$.udef(k,"$negative?"),$.udef(k,"$positive?"),$.udef(k,"$step"),T}("::",B("Numeric"),G)};Opal.modules["corelib/rational/base"]=function($){var q=$.module,y=$.def,D=$.klass;$.nil;var z=$.$$$;return $.add_stubs("convert,from_string"),function(re){var J=q(re,"Kernel");return y(J,"$Rational",function(Q,v){return v==null&&(v=1),z("Rational").$convert(Q,v)},-2)}("::"),function(re,J){var R=D(re,J,"String");return y(R,"$to_r",function(){var v=this;return z("Rational").$from_string(v)})}("::",null)};Opal.modules["corelib/rational"]=function($){var q=$.klass,y=$.eqeq,D=$.Kernel,z=$.truthy,re=$.rb_lt,J=$.rb_divide,R=$.defs,Q=$.eqeqeq,v=$.not,K=$.Opal,$e=$.def,Z=$.return_ivar,U=$.rb_minus,ee=$.rb_times,X=$.rb_plus,x=$.rb_gt,p=$.rb_le,P=$.return_self,G=$.alias,T=$.top,B=$.nil,b=$.$$$;return $.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),T.$require("corelib/numeric"),T.$require("corelib/rational/base"),function(A,F){var k=q(A,F,"Rational"),E=k.$$prototype;return E.num=E.den=B,R(k,"$reduce",function(d,S){var h=this,c=B;if(d=d.$to_i(),S=S.$to_i(),y(S,0))D.$raise(b("ZeroDivisionError"),"divided by 0");else if(z(re(S,0)))d=d["$-@"](),S=S["$-@"]();else if(y(S,1))return h.$new(d,S);return c=d.$gcd(S),h.$new(J(d,c),J(S,c))}),R(k,"$convert",function(d,S){var h=this;return(z(d["$nil?"]())||z(S["$nil?"]()))&&D.$raise(b("TypeError"),"cannot convert nil into Rational"),Q(b("Integer"),d)&&Q(b("Integer"),S)?h.$reduce(d,S):((Q(b("Float"),d)||Q(b("String"),d)||Q(b("Complex"),d))&&(d=d.$to_r()),(Q(b("Float"),S)||Q(b("String"),S)||Q(b("Complex"),S))&&(S=S.$to_r()),z(S["$equal?"](1))&&v(b("Integer")["$==="](d))?K["$coerce_to!"](d,b("Rational"),"to_r"):Q(b("Numeric"),d)&&Q(b("Numeric"),S)?J(d,S):h.$reduce(d,S))}),$e(k,"$initialize",function(d,S){var h=this;return h.num=d,h.den=S,h.$freeze()}),$e(k,"$numerator",Z("num")),$e(k,"$denominator",Z("den")),$e(k,"$coerce",function(d){var S=this,h=B;return Q(b("Rational"),h=d)?[d,S]:Q(b("Integer"),h)?[d.$to_r(),S]:Q(b("Float"),h)?[d,S.$to_f()]:B}),$e(k,"$==",function(d){var S=this,h=B,c=B;return Q(b("Rational"),h=d)?z(c=S.num["$=="](d.$numerator()))?S.den["$=="](d.$denominator()):c:Q(b("Integer"),h)?z(c=S.num["$=="](d))?S.den["$=="](1):c:Q(b("Float"),h)?S.$to_f()["$=="](d):d["$=="](S)}),$e(k,"$<=>",function(d){var S=this,h=B;return Q(b("Rational"),h=d)?U(ee(S.num,d.$denominator()),ee(S.den,d.$numerator()))["$<=>"](0):Q(b("Integer"),h)?U(S.num,ee(S.den,d))["$<=>"](0):Q(b("Float"),h)?S.$to_f()["$<=>"](d):S.$__coerced__("<=>",d)}),$e(k,"$+",function(d){var S=this,h=B,c=B,l=B;return Q(b("Rational"),h=d)?(c=X(ee(S.num,d.$denominator()),ee(S.den,d.$numerator())),l=ee(S.den,d.$denominator()),D.$Rational(c,l)):Q(b("Integer"),h)?D.$Rational(X(S.num,ee(d,S.den)),S.den):Q(b("Float"),h)?X(S.$to_f(),d):S.$__coerced__("+",d)}),$e(k,"$-",function(d){var S=this,h=B,c=B,l=B;return Q(b("Rational"),h=d)?(c=U(ee(S.num,d.$denominator()),ee(S.den,d.$numerator())),l=ee(S.den,d.$denominator()),D.$Rational(c,l)):Q(b("Integer"),h)?D.$Rational(U(S.num,ee(d,S.den)),S.den):Q(b("Float"),h)?U(S.$to_f(),d):S.$__coerced__("-",d)}),$e(k,"$*",function(d){var S=this,h=B,c=B,l=B;return Q(b("Rational"),h=d)?(c=ee(S.num,d.$numerator()),l=ee(S.den,d.$denominator()),D.$Rational(c,l)):Q(b("Integer"),h)?D.$Rational(ee(S.num,d),S.den):Q(b("Float"),h)?ee(S.$to_f(),d):S.$__coerced__("*",d)}),$e(k,"$/",function(d){var S=this,h=B,c=B,l=B;return Q(b("Rational"),h=d)?(c=ee(S.num,d.$denominator()),l=ee(S.den,d.$numerator()),D.$Rational(c,l)):Q(b("Integer"),h)?y(d,0)?J(S.$to_f(),0):D.$Rational(S.num,ee(S.den,d)):Q(b("Float"),h)?J(S.$to_f(),d):S.$__coerced__("/",d)}),$e(k,"$**",function(d){var S=this,h=B;return Q(b("Integer"),h=d)?y(S,0)&&z(re(d,0))?b(b("Float"),"INFINITY"):z(x(d,0))?D.$Rational(S.num["$**"](d),S.den["$**"](d)):z(re(d,0))?D.$Rational(S.den["$**"](d["$-@"]()),S.num["$**"](d["$-@"]())):D.$Rational(1,1):Q(b("Float"),h)?S.$to_f()["$**"](d):Q(b("Rational"),h)?y(d,0)?D.$Rational(1,1):y(d.$denominator(),1)?z(re(d,0))?D.$Rational(S.den["$**"](d.$numerator().$abs()),S.num["$**"](d.$numerator().$abs())):D.$Rational(S.num["$**"](d.$numerator()),S.den["$**"](d.$numerator())):y(S,0)&&z(re(d,0))?D.$raise(b("ZeroDivisionError"),"divided by 0"):S.$to_f()["$**"](d):S.$__coerced__("**",d)}),$e(k,"$abs",function(){var d=this;return D.$Rational(d.num.$abs(),d.den.$abs())}),$e(k,"$ceil",function(d){var S=this;return d==null&&(d=0),y(d,0)?J(S.num["$-@"](),S.den)["$-@"]().$ceil():S.$with_precision("ceil",d)},-1),$e(k,"$floor",function(d){var S=this;return d==null&&(d=0),y(d,0)?J(S.num["$-@"](),S.den)["$-@"]().$floor():S.$with_precision("floor",d)},-1),$e(k,"$hash",function(){var d=this;return[b("Rational"),d.num,d.den].$hash()}),$e(k,"$inspect",function(){var d=this;return"("+d+")"}),$e(k,"$rationalize",function(d){var S=this;if(arguments.length>1&&D.$raise(b("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d==null)return S;for(var h=d.$abs(),c=U(S,h),l=X(S,h),w=0,H=1,_=1,s=0,n,r,e,t,i;e=c.$ceil(),!p(e,l);)t=e-1,n=t*H+w,r=t*s+_,i=J(1,U(l,t)),l=J(1,U(c,t)),c=i,w=H,_=s,H=n,s=r;return D.$Rational(e*H+w,e*s+_)},-1),$e(k,"$round",function(d){var S=this,h=B,c=B,l=B;return d==null&&(d=0),y(d,0)?y(S.num,0)?0:y(S.den,1)?S.num:(h=X(ee(S.num.$abs(),2),S.den),c=ee(S.den,2),l=J(h,c).$truncate(),z(re(S.num,0))?l["$-@"]():l):S.$with_precision("round",d)},-1),$e(k,"$to_f",function(){var d=this;return J(d.num,d.den)}),$e(k,"$to_i",function(){var d=this;return d.$truncate()}),$e(k,"$to_r",P),$e(k,"$to_s",function(){var d=this;return""+d.num+"/"+d.den}),$e(k,"$truncate",function(d){var S=this;return d==null&&(d=0),y(d,0)?z(re(S.num,0))?S.$ceil():S.$floor():S.$with_precision("truncate",d)},-1),$e(k,"$with_precision",function(d,S){var h=this,c=B,l=B;return Q(b("Integer"),S)||D.$raise(b("TypeError"),"not an Integer"),c=10["$**"](S),l=ee(h,c),z(re(S,1))?J(l.$send(d),c).$to_i():D.$Rational(l.$send(d),c)}),R(k,"$from_string",function(d){var S=d.trimLeft(),h=/^[+-]?[\d_]+(\.[\d_]+)?/;S.match(h);var c,l;function w(){return h.test(S)}function H(){var _=S.match(h),s=_[0];return S=S.slice(s.length),s.replace(/_/g,"")}return w()?(c=parseFloat(H()),S[0]==="/"?(S=S.slice(1),w()?(l=parseFloat(H()),D.$Rational(c,l)):D.$Rational(c,1)):D.$Rational(c,1)):D.$Rational(0,1)}),G(k,"divide","/"),G(k,"quo","/")}("::",b("Numeric"))};Opal.modules["corelib/time"]=function($){var q=$.slice,y=$.deny_frozen_access,D=$.klass,z=$.Kernel,re=$.Opal,J=$.defs,R=$.eqeqeq,Q=$.def,v=$.truthy,K=$.rb_gt,$e=$.rb_lt,Z=$.send,U=$.rb_plus,ee=$.rb_divide,X=$.rb_minus,x=$.range,p=$.neqeq,P=$.rb_le,G=$.eqeq,T=$.alias,B=$.top,b=[],A=$.nil,F=$.$$$;return $.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),B.$require("corelib/comparable"),function(k,E,u){var d=D(k,E,"Time"),S=[d].concat(u),h=$.$r(S);d.$include(F("Comparable"));var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],H=["January","February","March","April","May","June","July","August","September","October","November","December"];J(d,"$at",function(n,r){var e;return F("Time")["$==="](n)?(r!==void 0&&z.$raise(F("TypeError"),"can't convert Time into an exact number"),e=new Date(n.getTime()),e.timezone=n.timezone,e):(n.$$is_number||(n=re["$coerce_to!"](n,F("Integer"),"to_int")),r===void 0?new Date(n*1e3):(r.$$is_number||(r=re["$coerce_to!"](r,F("Integer"),"to_int")),new Date(n*1e3+r/1e3)))},-2);function _(s,n,r,e,t,i){if(s.$$is_string?s=parseInt(s,10):s=re["$coerce_to!"](s,F("Integer"),"to_int"),n===A)n=1;else if(!n.$$is_number)if(n["$respond_to?"]("to_str"))switch(n=n.$to_str(),n.toLowerCase()){case"jan":n=1;break;case"feb":n=2;break;case"mar":n=3;break;case"apr":n=4;break;case"may":n=5;break;case"jun":n=6;break;case"jul":n=7;break;case"aug":n=8;break;case"sep":n=9;break;case"oct":n=10;break;case"nov":n=11;break;case"dec":n=12;break;default:n=n.$to_i()}else n=re["$coerce_to!"](n,F("Integer"),"to_int");return(n<1||n>12)&&z.$raise(F("ArgumentError"),"month out of range: "+n),n=n-1,r===A?r=1:r.$$is_string?r=parseInt(r,10):r=re["$coerce_to!"](r,F("Integer"),"to_int"),(r<1||r>31)&&z.$raise(F("ArgumentError"),"day out of range: "+r),e===A?e=0:e.$$is_string?e=parseInt(e,10):e=re["$coerce_to!"](e,F("Integer"),"to_int"),(e<0||e>24)&&z.$raise(F("ArgumentError"),"hour out of range: "+e),t===A?t=0:t.$$is_string?t=parseInt(t,10):t=re["$coerce_to!"](t,F("Integer"),"to_int"),(t<0||t>59)&&z.$raise(F("ArgumentError"),"min out of range: "+t),i===A?i=0:i.$$is_number||(i.$$is_string?i=parseInt(i,10):i=re["$coerce_to!"](i,F("Integer"),"to_int")),(i<0||i>60)&&z.$raise(F("ArgumentError"),"sec out of range: "+i),[s,n,r,e,t,i]}return J(d,"$new",function(n,r,e,t,i,a,o){var g=this;r==null&&(r=A),e==null&&(e=A),t==null&&(t=A),i==null&&(i=A),a==null&&(a=A),o==null&&(o=A);var I,C,M,V;return n===void 0?new Date:(I=_(n,r,e,t,i,a),n=I[0],r=I[1],e=I[2],t=I[3],i=I[4],a=I[5],o===A?(C=new Date(n,r,e,t,i,0,a*1e3),n<100&&C.setFullYear(n),C):(M=g.$_parse_offset(o),V=new Date(Date.UTC(n,r,e,t,i,0,a*1e3)),n<100&&V.setUTCFullYear(n),C=new Date(V.getTime()-M*36e5),C.timezone=M,C))},-1),J(d,"$_parse_offset",function(n){var r;if(n.$$is_string)if(n=="UTC")r=0;else if(/^[+-]\d\d:[0-5]\d$/.test(n)){var e,t,i;e=n[0],t=+(n[1]+n[2]),i=+(n[4]+n[5]),r=(e=="-"?-1:1)*(t+i/60)}else z.$raise(F("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+n);else n.$$is_number?r=n/3600:z.$raise(F("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return r}),J(d,"$local",function(n,r,e,t,i,a,o,g,I,C){r==null&&(r=A),e==null&&(e=A),t==null&&(t=A),i==null&&(i=A),a==null&&(a=A),o==null&&(o=A),g==null&&(g=A),I==null&&(I=A),C==null&&(C=A);var M,V;return arguments.length===10&&(M=q(arguments),n=M[5],r=M[4],e=M[3],t=M[2],i=M[1],a=M[0]),M=_(n,r,e,t,i,a),n=M[0],r=M[1],e=M[2],t=M[3],i=M[4],a=M[5],V=new Date(n,r,e,t,i,0,a*1e3),n<100&&V.setFullYear(n),V},-2),J(d,"$gm",function(n,r,e,t,i,a,o,g,I,C){r==null&&(r=A),e==null&&(e=A),t==null&&(t=A),i==null&&(i=A),a==null&&(a=A),o==null&&(o=A),g==null&&(g=A),I==null&&(I=A),C==null&&(C=A);var M,V;return arguments.length===10&&(M=q(arguments),n=M[5],r=M[4],e=M[3],t=M[2],i=M[1],a=M[0]),M=_(n,r,e,t,i,a),n=M[0],r=M[1],e=M[2],t=M[3],i=M[4],a=M[5],V=new Date(Date.UTC(n,r,e,t,i,0,a*1e3)),n<100&&V.setUTCFullYear(n),V.timezone=0,V},-2),J(d,"$now",function(){var n=this;return n.$new()}),Q(d,"$+",function(n){var r=this;R(F("Time"),n)&&z.$raise(F("TypeError"),"time + time?"),n.$$is_number||(n=re["$coerce_to!"](n,F("Integer"),"to_int"));var e=new Date(r.getTime()+n*1e3);return e.timezone=r.timezone,e}),Q(d,"$-",function(n){var r=this;if(R(F("Time"),n))return(r.getTime()-n.getTime())/1e3;n.$$is_number||(n=re["$coerce_to!"](n,F("Integer"),"to_int"));var e=new Date(r.getTime()-n*1e3);return e.timezone=r.timezone,e}),Q(d,"$<=>",function(n){var r=this,e=A;return R(F("Time"),n)?r.$to_f()["$<=>"](n.$to_f()):(e=n["$<=>"](r),v(e["$nil?"]())?A:v(K(e,0))?-1:v($e(e,0))?1:0)}),Q(d,"$==",function(n){var r=this,e=A;return v(e=F("Time")["$==="](n))?r.$to_f()===n.$to_f():e}),Q(d,"$asctime",function(){var n=this;return n.$strftime("%a %b %e %H:%M:%S %Y")}),Z([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function s(n,r,e,t){var i=s.$$s==null?this:s.$$s;return n==null&&(n=A),r==null&&(r=A),e==null&&(e=A),t==null&&(t=0),Z(i,"define_method",[n],function a(){var o=a.$$s==null?this:a.$$s;return t+(o.timezone!=null?new Date(o.getTime()+o.timezone*36e5)[e]():o[r]())},{$$s:i})},{$$arity:-4,$$s:d}),Q(d,"$yday",function(){var n=this,r=A,e=A,t=A;return r=h("Time").$new(n.$year()).$to_i(),e=h("Time").$new(n.$year(),n.$month(),n.$day()).$to_i(),t=86400,U(ee(X(e,r),t).$round(),1)}),Q(d,"$isdst",function(){var n=this,r=new Date(n.getFullYear(),0,1),e=new Date(n.getFullYear(),6,1);return n.getTimezoneOffset()<Math.max(r.getTimezoneOffset(),e.getTimezoneOffset())}),Q(d,"$dup",function(){var n=this,r=A;return r=new Date(n.getTime()),r.$copy_instance_variables(n),r.$initialize_dup(n),r}),Q(d,"$eql?",function(n){var r=this,e=A;return v(e=n["$is_a?"](F("Time")))?r["$<=>"](n)["$zero?"]():e}),Z([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function s(n,r){var e=s.$$s==null?this:s.$$s;return n==null&&(n=A),r==null&&(r=A),Z(e,"define_method",[n],function t(){var i=t.$$s==null?this:t.$$s;return i.$wday()===r},{$$s:e})},{$$s:d}),Q(d,"$hash",function(){var n=this;return[F("Time"),n.getTime()].$hash()}),Q(d,"$inspect",function(){var n=this;return v(n["$utc?"]())?n.$strftime("%Y-%m-%d %H:%M:%S UTC"):n.$strftime("%Y-%m-%d %H:%M:%S %z")}),Q(d,"$succ",function(){var n=this,r=new Date(n.getTime()+1e3);return r.timezone=n.timezone,r}),Q(d,"$usec",function(){var n=this;return n.getMilliseconds()*1e3}),Q(d,"$zone",function(){var n=this;if(n.timezone===0)return"UTC";if(n.timezone!=null)return A;var r=n.toString(),e;return r.indexOf("(")==-1?e=r.match(/[A-Z]{3,4}/)[0]:e=r.match(/\((.+)\)(?:\s|$)/)[1],e=="GMT"&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:e}),Q(d,"$getgm",function(){var n=this,r=new Date(n.getTime());return r.timezone=0,r}),Q(d,"$gmtime",function(){var n=this;return n.timezone!==0&&(y(n),n.timezone=0),n}),Q(d,"$gmt?",function(){var n=this;return n.timezone===0}),Q(d,"$gmt_offset",function(){var n=this;return n.timezone!=null?n.timezone*60:-n.getTimezoneOffset()*60}),Q(d,"$strftime",function(n){var r=this;return n.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,t,i,a,o){var g="",I,C,M,V=t.indexOf("0")!==-1,O=t.indexOf("-")===-1,ae=t.indexOf("_")!==-1,le=t.indexOf("^")!==-1,_e=t.indexOf("#")!==-1,de=(t.match(":")||[]).length;switch(i=parseInt(i,10),V&&ae&&(t.indexOf("0")<t.indexOf("_")?V=!1:ae=!1),o){case"Y":g+=r.$year();break;case"C":V=!ae,g+=Math.round(r.$year()/100);break;case"y":V=!ae,g+=r.$year()%100;break;case"m":V=!ae,g+=r.$mon();break;case"B":g+=H[r.$mon()-1];break;case"b":case"h":ae=!V,g+=w[r.$mon()-1];break;case"d":V=!ae,g+=r.$day();break;case"e":ae=!V,g+=r.$day();break;case"j":V=!ae,i=isNaN(i)?3:i,g+=r.$yday();break;case"H":V=!ae,g+=r.$hour();break;case"k":ae=!V,g+=r.$hour();break;case"I":V=!ae,g+=r.$hour()%12||12;break;case"l":ae=!V,g+=r.$hour()%12||12;break;case"P":g+=r.$hour()>=12?"pm":"am";break;case"p":g+=r.$hour()>=12?"PM":"AM";break;case"M":V=!ae,g+=r.$min();break;case"S":V=!ae,g+=r.$sec();break;case"L":V=!ae,i=isNaN(i)?3:i,g+=r.getMilliseconds();break;case"N":i=isNaN(i)?9:i,g+=r.getMilliseconds().toString().$rjust(3,"0"),g=g.$ljust(i,"0");break;case"z":var ge=r.timezone==null?r.getTimezoneOffset():-r.timezone*60,ve=Math.floor(Math.abs(ge)/60),me=Math.abs(ge)%60;g+=ge<0?"+":"-",g+=ve<10?"0":"",g+=ve,de>0&&(g+=":"),g+=me<10?"0":"",g+=me,de>1&&(g+=":00");break;case"Z":g+=r.$zone();break;case"A":g+=c[r.$wday()];break;case"a":g+=l[r.$wday()];break;case"u":g+=r.$wday()+1;break;case"w":g+=r.$wday();break;case"V":g+=r.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":g+=r.$cweek_cyear()["$[]"](1);break;case"g":g+=r.$cweek_cyear()["$[]"](1)["$[]"](x(-2,-1,!1));break;case"s":g+=r.$to_i();break;case"n":g+=`
`;break;case"t":g+="	";break;case"%":g+="%";break;case"c":g+=r.$strftime("%a %b %e %T %Y");break;case"D":case"x":g+=r.$strftime("%m/%d/%y");break;case"F":g+=r.$strftime("%Y-%m-%d");break;case"v":g+=r.$strftime("%e-%^b-%4Y");break;case"r":g+=r.$strftime("%I:%M:%S %p");break;case"R":g+=r.$strftime("%H:%M");break;case"T":case"X":g+=r.$strftime("%H:%M:%S");break;case"J":if(I=r.$to_date().$jd(),I<2405160){g+=r.$strftime("%Y-%m-%d");break}else I<2419614?(C="M",M=1867):I<2424875?(C="T",M=1911):I<2447535?(C="S",M=1925):I<2458605?(C="H",M=1988):(C="R",M=2018);g+=r.$format("%c%02d",C,X(r.$year(),M)),g+=r.$strftime("-%m-%d");break;default:return e}return le&&(g=g.toUpperCase()),_e&&(g=g.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),O&&(V||ae)&&(g=g.$rjust(isNaN(i)?2:i,ae?" ":"0")),g})}),Q(d,"$to_a",function(){var n=this;return[n.$sec(),n.$min(),n.$hour(),n.$day(),n.$month(),n.$year(),n.$wday(),n.$yday(),n.$isdst(),n.$zone()]}),Q(d,"$to_f",function(){var n=this;return n.getTime()/1e3}),Q(d,"$to_i",function(){var n=this;return parseInt(n.getTime()/1e3,10)}),Q(d,"$cweek_cyear",function(){var n=this,r=A,e=A,t=A,i=A,a=A,o=A,g=A;return r=F("Time").$new(n.$year(),1,1),e=r.$wday(),t=n.$year(),v(P(e,4))&&p(e,0)?i=X(e,1):(i=X(X(e,7),1),G(i,-8)&&(i=-1)),a=ee(U(n.$yday(),i),7).$ceil(),v(P(a,0))?F("Time").$new(X(n.$year(),1),12,31).$cweek_cyear():(G(a,53)&&(o=F("Time").$new(n.$year(),12,31),g=o.$wday(),v(P(g,3))&&p(g,0)&&(a=1,t=U(t,1))),[a,t])}),function(s,n){return T(s,"mktime","local"),T(s,"utc","gm")}($.get_singleton_class(d)),T(d,"ctime","asctime"),T(d,"dst?","isdst"),T(d,"getutc","getgm"),T(d,"gmtoff","gmt_offset"),T(d,"mday","day"),T(d,"month","mon"),T(d,"to_s","inspect"),T(d,"tv_sec","to_i"),T(d,"tv_usec","usec"),T(d,"utc","gmtime"),T(d,"utc?","gmt?"),T(d,"utc_offset","gmt_offset")}("::",Date,b)};Opal.modules["corelib/struct"]=function($){var q=$.klass,y=$.slice,D=$.extract_kwargs,z=$.ensure_kwargs,re=$.hash_get,J=$.truthy,R=$.neqeq,Q=$.eqeq,v=$.Opal,K=$.send,$e=$.Class,Z=$.to_a,U=$.def,ee=$.defs,X=$.Kernel,x=$.rb_gt,p=$.rb_minus,P=$.eqeqeq,G=$.rb_lt,T=$.rb_ge,B=$.rb_plus,b=$.alias,A=$.top,F=[],k=$.nil,E=$.$$$;return $.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),A.$require("corelib/enumerable"),function(u,d,S){var h=q(u,d,"Struct"),c=[h].concat(S),l=$.$r(c);h.$include(E("Enumerable")),ee(h,"$new",function H(_,s,n){var r=H.$$p||k,e,t,i,a,o=this,g=k;if(H.$$p=null,e=y(arguments,1),t=D(e),t=z(t),i=e,a=re(t,"keyword_init"),a==null&&(a=!1),J(_))if(Q(_.$class(),E("String"))&&R(_["$[]"](0).$upcase(),_["$[]"](0)))i.$unshift(_),_=k;else try{_=v["$const_name!"](_)}catch(I){if($.rescue(I,[E("TypeError"),E("NameError")]))try{i.$unshift(_),_=k}finally{$.pop_exception(I)}else throw I}return K(i,"map",[],function(C){return C==null&&(C=k),v["$coerce_to!"](C,E("String"),"to_str")}),g=K($e,"new",[o],function I(){var C=I.$$s==null?this:I.$$s;return K(i,"each",[],function M(V){var O=M.$$s==null?this:M.$$s;return V==null&&(V=k),O.$define_struct_attribute(V)},{$$s:C}),function(M,V){return U(M,"$new",function(ae){var le,_e,de=this,ge=k;return le=y(arguments),_e=le,ge=de.$allocate(),ge.$$data={},K(ge,"initialize",Z(_e)),ge},-1),M.$alias_method("[]","new")}($.get_singleton_class(C))},{$$s:o}),J(r)&&K(g,"module_eval",[],r.$to_proc()),g.$$keyword_init=a,J(_)&&E("Struct").$const_set(_,g),g},-2),ee(h,"$define_struct_attribute",function(_){var s=this;return Q(s,E("Struct"))&&X.$raise(E("ArgumentError"),"you cannot define attributes to the Struct class"),s.$members()["$<<"](_),K(s,"define_method",[_],function n(){var r=n.$$s==null?this:n.$$s;return r.$$data[_]},{$$s:s}),K(s,"define_method",[""+_+"="],function n(r){var e=n.$$s==null?this:n.$$s;return r==null&&(r=k),e.$$data[_]=r},{$$s:s})}),ee(h,"$members",function(){var _=this,s=k;return _.members==null&&(_.members=k),Q(_,E("Struct"))&&X.$raise(E("ArgumentError"),"the Struct class has no members"),_.members=J(s=_.members)?s:[]}),ee(h,"$inherited",function(_){var s=this,n=k;return s.members==null&&(s.members=k),n=s.members,K(_,"instance_eval",[],function r(){var e=r.$$s==null?this:r.$$s;return e.members=n},{$$s:s})}),U(h,"$initialize",function(_){var s,n,r=this,e=k,t=k,i=k;return s=y(arguments),n=s,J(r.$class().$$keyword_init)?(e=J(t=n.$last())?t:new Map,(J(x(n.$length(),1))||J(n.length===1&&!e.$$is_hash))&&X.$raise(E("ArgumentError"),"wrong number of arguments (given "+n.$length()+", expected 0)"),i=p(e.$keys(),r.$class().$members()),J(i["$any?"]())&&X.$raise(E("ArgumentError"),"unknown keywords: "+i.$join(", ")),K(r.$class().$members(),"each",[],function a(o){var g,I=a.$$s==null?this:a.$$s;return o==null&&(o=k),g=[o,e["$[]"](o)],K(I,"[]=",g),g[g.length-1]},{$$s:r})):(J(x(n.$length(),r.$class().$members().$length()))&&X.$raise(E("ArgumentError"),"struct size differs"),K(r.$class().$members(),"each_with_index",[],function a(o,g){var I,C=a.$$s==null?this:a.$$s;return o==null&&(o=k),g==null&&(g=k),I=[o,n["$[]"](g)],K(C,"[]=",I),I[I.length-1]},{$$s:r}))},-1),U(h,"$initialize_copy",function(_){var s=this;s.$$data={};var n=Object.keys(_.$$data),r,e,t;for(r=0,e=n.length;r<e;r++)t=n[r],s.$$data[t]=_.$$data[t]}),ee(h,"$keyword_init?",function(){var _=this;return _.$$keyword_init}),U(h,"$members",function(){var _=this;return _.$class().$members()}),U(h,"$hash",function(){var _=this;return[_.$class(),_.$to_a()].$hash()}),U(h,"$[]",function(_){var s=this;return P(E("Integer"),_)?(J(G(_,s.$class().$members().$size()["$-@"]()))&&X.$raise(E("IndexError"),"offset "+_+" too small for struct(size:"+s.$class().$members().$size()+")"),J(T(_,s.$class().$members().$size()))&&X.$raise(E("IndexError"),"offset "+_+" too large for struct(size:"+s.$class().$members().$size()+")"),_=s.$class().$members()["$[]"](_)):P(E("String"),_)?s.$$data.hasOwnProperty(_)||X.$raise(E("NameError").$new("no member '"+_+"' in struct",_)):X.$raise(E("TypeError"),"no implicit conversion of "+_.$class()+" into Integer"),_=v["$coerce_to!"](_,E("String"),"to_str"),s.$$data[_]}),U(h,"$[]=",function(_,s){var n=this;return P(E("Integer"),_)?(J(G(_,n.$class().$members().$size()["$-@"]()))&&X.$raise(E("IndexError"),"offset "+_+" too small for struct(size:"+n.$class().$members().$size()+")"),J(T(_,n.$class().$members().$size()))&&X.$raise(E("IndexError"),"offset "+_+" too large for struct(size:"+n.$class().$members().$size()+")"),_=n.$class().$members()["$[]"](_)):P(E("String"),_)?J(n.$class().$members()["$include?"](_.$to_sym()))||X.$raise(E("NameError").$new("no member '"+_+"' in struct",_)):X.$raise(E("TypeError"),"no implicit conversion of "+_.$class()+" into Integer"),_=v["$coerce_to!"](_,E("String"),"to_str"),n.$$data[_]=s}),U(h,"$==",function(_){var s=this;if(!J(_["$instance_of?"](s.$class())))return!1;var n={},r={};function e(t,i){var a,o,g;n[t.$__id__()]=!0,r[i.$__id__()]=!0;for(a in t.$$data)if(o=t.$$data[a],g=i.$$data[a],E("Struct")["$==="](o)){if((!n.hasOwnProperty(o.$__id__())||!r.hasOwnProperty(g.$__id__()))&&!e(o,g))return!1}else if(!o["$=="](g))return!1;return!0}return e(s,_)}),U(h,"$eql?",function(_){var s=this;if(!J(_["$instance_of?"](s.$class())))return!1;var n={},r={};function e(t,i){var a,o,g;n[t.$__id__()]=!0,r[i.$__id__()]=!0;for(a in t.$$data)if(o=t.$$data[a],g=i.$$data[a],E("Struct")["$==="](o)){if((!n.hasOwnProperty(o.$__id__())||!r.hasOwnProperty(g.$__id__()))&&!e(o,g))return!1}else if(!o["$eql?"](g))return!1;return!0}return e(s,_)}),U(h,"$each",function H(){var _=H.$$p||k,s=this;return H.$$p=null,_===k?K(s,"enum_for",["each"],function n(){var r=n.$$s==null?this:n.$$s;return r.$size()},{$$s:s}):(K(s.$class().$members(),"each",[],function n(r){var e=n.$$s==null?this:n.$$s;return r==null&&(r=k),$.yield1(_,e["$[]"](r))},{$$s:s}),s)}),U(h,"$each_pair",function H(){var _=H.$$p||k,s=this;return H.$$p=null,_===k?K(s,"enum_for",["each_pair"],function n(){var r=n.$$s==null?this:n.$$s;return r.$size()},{$$s:s}):(K(s.$class().$members(),"each",[],function n(r){var e=n.$$s==null?this:n.$$s;return r==null&&(r=k),$.yield1(_,[r,e["$[]"](r)])},{$$s:s}),s)}),U(h,"$length",function(){var _=this;return _.$class().$members().$length()}),U(h,"$to_a",function(){var _=this;return K(_.$class().$members(),"map",[],function s(n){var r=s.$$s==null?this:s.$$s;return n==null&&(n=k),r["$[]"](n)},{$$s:_})});var w=[];return U(h,"$inspect",function(){var _=this,s=k,n=k;return function(){try{return s="#<struct ",J(w["$include?"](_.$__id__()))?B(s,":...>"):(w["$<<"](_.$__id__()),n=!0,P(E("Struct"),_)&&J(_.$class().$name())&&(s=B(s,""+_.$class()+" ")),s=B(s,K(_.$each_pair(),"map",[],function(e,t){return e==null&&(e=k),t==null&&(t=k),""+e+"="+l("Opal").$inspect(t)}).$join(", ")),s=B(s,">"),s)}finally{J(n)&&w.pop()}}()}),U(h,"$to_h",function H(_){var s=H.$$p||k,n,r,e=this;return H.$$p=null,n=y(arguments),r=n,s!==k?K(K(e,"map",[],s.$to_proc()),"to_h",Z(r)):K(e.$class().$members(),"each_with_object",[new Map],function t(i,a){var o,g=t.$$s==null?this:t.$$s;return i==null&&(i=k),a==null&&(a=k),o=[i,g["$[]"](i)],K(a,"[]=",o),o[o.length-1]},{$$s:e})},-1),U(h,"$values_at",function(_){var s,n,r=this;s=y(arguments),n=s,n=K(n,"map",[],function(o){return o==null&&(o=k),o.$$is_range?o.$to_a():o}).$flatten();for(var e=[],t=0,i=n.length;t<i;t++)n[t].$$is_number||X.$raise(E("TypeError"),"no implicit conversion of "+n[t].$class()+" into Integer"),e.push(r["$[]"](n[t]));return e},-1),U(h,"$dig",function(_,s){var n,r,e=this,t=k;return n=y(arguments,1),r=n,t=J(_.$$is_string&&e.$$data.hasOwnProperty(_))&&e.$$data[_]||k,t===k||r.length===0?t:(J(t["$respond_to?"]("dig"))||X.$raise(E("TypeError"),""+t.$class()+" does not have #dig method"),K(t,"dig",Z(r)))},-2),b(h,"size","length"),b(h,"to_s","inspect"),b(h,"values","to_a")}("::",null,F)};Opal.modules["corelib/set"]=function($){var q=$.freeze,y=$.klass,D=$.slice,z=$.defs,re=$.truthy,J=$.eqeqeq,R=$.Kernel,Q=$.send,v=$.def,K=$.eqeq,$e=$.rb_lt,Z=$.rb_le,U=$.alias,ee=[],X=$.nil,x=$.$$$;return $.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(p,P,G){var T=y(p,P,"Set"),B=[T].concat(G),b=$.$r(B),A=X,F=T.$$prototype;F.hash=X,T.$include(x("Enumerable")),z(T,"$[]",function(u){var d,S,h=this;return d=D(arguments),S=d,h.$new(S)},-1),v(T,"$initialize",function E(u){var d=E.$$p||X,S=this;return E.$$p=null,u==null&&(u=X),S.hash=new Map,re(u["$nil?"]())?X:(J(x("Enumerable"),u)||R.$raise(x("ArgumentError"),"value must be enumerable"),re(d)?Q(u,"each",[],function h(c){var l=h.$$s==null?this:h.$$s;return c==null&&(c=X),l.$add($.yield1(d,c))},{$$s:S}):S.$merge(u))},-1),v(T,"$dup",function(){var u=this,d=X;return d=u.$class().$new(),d.$merge(u)}),v(T,"$-",function(u){var d=this;return re(u["$respond_to?"]("each"))||R.$raise(x("ArgumentError"),"value must be enumerable"),d.$dup().$subtract(u)}),v(T,"$inspect",function(){var u=this;return"#<Set: {"+u.$to_a().$join(",")+"}>"}),v(T,"$==",function(u){var d=this;return re(d["$equal?"](u))?!0:re(u["$instance_of?"](d.$class()))?d.hash["$=="](u.$instance_variable_get("@hash")):re(u["$is_a?"](x("Set")))&&K(d.$size(),u.$size())?Q(u,"all?",[],function S(h){var c=S.$$s==null?this:S.$$s;return c.hash==null&&(c.hash=X),h==null&&(h=X),c.hash["$include?"](h)},{$$s:d}):!1}),v(T,"$add",function(u){var d=this;return d.hash["$[]="](u,!0),d}),v(T,"$classify",function E(){var u=E.$$p||X,d=this,S=X;return E.$$p=null,u===X?d.$enum_for("classify"):(S=Q(x("Hash"),"new",[],function h(c,l){var w,H=h.$$s==null?this:h.$$s;return c==null&&(c=X),l==null&&(l=X),w=[l,H.$class().$new()],Q(c,"[]=",w),w[w.length-1]},{$$s:d}),Q(d,"each",[],function(c){return c==null&&(c=X),S["$[]"]($.yield1(u,c)).$add(c)}),S)}),v(T,"$collect!",function E(){var u=E.$$p||X,d=this,S=X;return E.$$p=null,u===X?d.$enum_for("collect!"):(S=d.$class().$new(),Q(d,"each",[],function(c){return c==null&&(c=X),S["$<<"]($.yield1(u,c))}),d.$replace(S))}),v(T,"$compare_by_identity",function(){var u=this;return re(u.hash["$respond_to?"]("compare_by_identity"))?(u.hash.$compare_by_identity(),u):u.$raise(b("NotImplementedError"),""+u.$class().$name()+"#compare_by_identity is not implemented")}),v(T,"$compare_by_identity?",function(){var u=this,d=X;return re(d=u.hash["$respond_to?"]("compare_by_identity?"))?u.hash["$compare_by_identity?"]():d}),v(T,"$delete",function(u){var d=this;return d.hash.$delete(u),d}),v(T,"$delete?",function(u){var d=this;return re(d["$include?"](u))?(d.$delete(u),d):X}),v(T,"$delete_if",function E(){var u=E.$$p||X,d=this;return E.$$p=null,u===X?d.$enum_for("delete_if"):(Q(Q(d,"select",[],function(h){return h==null&&(h=X),$.yield1(u,h)}),"each",[],function S(h){var c=S.$$s==null?this:S.$$s;return c.hash==null&&(c.hash=X),h==null&&(h=X),c.hash.$delete(h)},{$$s:d}),d)}),v(T,"$freeze",function(){var u=this;return re(u["$frozen?"]())?u:(u.hash.$freeze(),q(u))}),v(T,"$keep_if",function E(){var u=E.$$p||X,d=this;return E.$$p=null,u===X?d.$enum_for("keep_if"):(Q(Q(d,"reject",[],function(h){return h==null&&(h=X),$.yield1(u,h)}),"each",[],function S(h){var c=S.$$s==null?this:S.$$s;return c.hash==null&&(c.hash=X),h==null&&(h=X),c.hash.$delete(h)},{$$s:d}),d)}),v(T,"$reject!",function E(){var u=E.$$p||X,d=this,S=X;return E.$$p=null,u===X?d.$enum_for("reject!"):(S=d.$size(),Q(d,"delete_if",[],u.$to_proc()),K(d.$size(),S)?X:d)}),v(T,"$select!",function E(){var u=E.$$p||X,d=this,S=X;return E.$$p=null,u===X?d.$enum_for("select!"):(S=d.$size(),Q(d,"keep_if",[],u.$to_proc()),K(d.$size(),S)?X:d)}),v(T,"$add?",function(u){var d=this;return re(d["$include?"](u))?X:d.$add(u)}),v(T,"$each",function E(){var u=E.$$p||X,d=this;return E.$$p=null,u===X?d.$enum_for("each"):(Q(d.hash,"each_key",[],u.$to_proc()),d)}),v(T,"$empty?",function(){var u=this;return u.hash["$empty?"]()}),v(T,"$eql?",function(u){var d=this;return d.hash["$eql?"](Q(u,"instance_eval",[],function S(){var h=S.$$s==null?this:S.$$s;return h.hash==null&&(h.hash=X),h.hash},{$$s:d}))}),v(T,"$clear",function(){var u=this;return u.hash.$clear(),u}),v(T,"$include?",function(u){var d=this;return d.hash["$include?"](u)}),v(T,"$merge",function(u){var d=this;return Q(u,"each",[],function S(h){var c=S.$$s==null?this:S.$$s;return h==null&&(h=X),c.$add(h)},{$$s:d}),d}),v(T,"$replace",function(u){var d=this;return d.$clear(),d.$merge(u),d}),v(T,"$size",function(){var u=this;return u.hash.$size()}),v(T,"$subtract",function(u){var d=this;return Q(u,"each",[],function S(h){var c=S.$$s==null?this:S.$$s;return h==null&&(h=X),c.$delete(h)},{$$s:d}),d}),v(T,"$|",function(u){var d=this;return re(u["$respond_to?"]("each"))||R.$raise(x("ArgumentError"),"value must be enumerable"),d.$dup().$merge(u)});function k(E){re(A=E["$is_a?"](x("Set")))||R.$raise(x("ArgumentError"),"value must be a set")}return v(T,"$superset?",function(u){var d=this;return k(u),re($e(d.$size(),u.$size()))?!1:Q(u,"all?",[],function S(h){var c=S.$$s==null?this:S.$$s;return h==null&&(h=X),c["$include?"](h)},{$$s:d})}),v(T,"$proper_superset?",function(u){var d=this;return k(u),re(Z(d.$size(),u.$size()))?!1:Q(u,"all?",[],function S(h){var c=S.$$s==null?this:S.$$s;return h==null&&(h=X),c["$include?"](h)},{$$s:d})}),v(T,"$subset?",function(u){var d=this;return k(u),re($e(u.$size(),d.$size()))?!1:Q(d,"all?",[],function(h){return h==null&&(h=X),u["$include?"](h)})}),v(T,"$proper_subset?",function(u){var d=this;return k(u),re(Z(u.$size(),d.$size()))?!1:Q(d,"all?",[],function(h){return h==null&&(h=X),u["$include?"](h)})}),v(T,"$intersect?",function(u){var d=this;return k(u),re($e(d.$size(),u.$size()))?Q(d,"any?",[],function(h){return h==null&&(h=X),u["$include?"](h)}):Q(u,"any?",[],function S(h){var c=S.$$s==null?this:S.$$s;return h==null&&(h=X),c["$include?"](h)},{$$s:d})}),v(T,"$disjoint?",function(u){var d=this;return d["$intersect?"](u)["$!"]()}),v(T,"$to_a",function(){var u=this;return u.hash.$keys()}),U(T,"+","|"),U(T,"<","proper_subset?"),U(T,"<<","add"),U(T,"<=","subset?"),U(T,">","proper_superset?"),U(T,">=","superset?"),U(T,"difference","-"),U(T,"filter!","select!"),U(T,"length","size"),U(T,"map!","collect!"),U(T,"member?","include?"),U(T,"union","|")}("::",null,ee)};Opal.modules["corelib/dir"]=function($){var q=$.klass,y=$.def,D=$.truthy,z=$.alias,re=$.nil,J=$.$$$;return $.add_stubs("[],pwd"),function(R,Q,v){var K=q(R,Q,"Dir");return function($e,Z){return y($e,"$chdir",function U(ee){var X=U.$$p||re,x=re;return U.$$p=null,function(){try{return x=$.current_dir,$.current_dir=ee,$.yieldX(X,[])}finally{$.current_dir=x}}()}),y($e,"$pwd",function(){return $.current_dir||"."}),y($e,"$home",function(){var ee=re;return D(ee=J("ENV")["$[]"]("HOME"))?ee:"."}),z($e,"getwd","pwd")}($.get_singleton_class(K))}("::",null)};Opal.modules["corelib/file"]=function($){var q=$.truthy,y=$.klass,D=$.const_set,z=$.Opal,re=$.regexp,J=$.rb_plus,R=$.def,Q=$.Kernel,v=$.eqeq,K=$.rb_lt,$e=$.rb_minus,Z=$.range,U=$.send,ee=$.slice,X=$.alias,x=[],p=$.nil,P=$.$$$;return $.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(G,T,B){var b=y(G,T,"File"),A=[b].concat(B),F=p;return D(A[0],"Separator",D(A[0],"SEPARATOR","/")),D(A[0],"ALT_SEPARATOR",p),D(A[0],"PATH_SEPARATOR",":"),D(A[0],"FNM_SYSCASE",0),F=/^[a-zA-Z]:(?:\\|\/)/,function(k,E){var u=[k].concat(E),d=$.$r(u);R(k,"$absolute_path",function(l,w){var H=p,_=p,s=p,n=p,r=p,e=p,t=p,i=p,a=p,o=p;w==null&&(w=p),H=d("SEPARATOR"),_=h(),s=[],l=q(l["$respond_to?"]("to_path"))?l.$to_path():l,l=z["$coerce_to!"](l,P("String"),"to_str"),w=q(n=w)?n:P("Dir").$pwd(),r=l.substr(0,H.length)===H||F.test(l),e=w.substr(0,H.length)===H||F.test(w),q(r)?(t=l.$split(re(["[",_,"]"])),i=F.test(l)?"":l.$sub(re(["^([",_,"]+).*$"]),"\\1"),a=!0):(t=J(w.$split(re(["[",_,"]"])),l.$split(re(["[",_,"]"]))),i=F.test(w)?"":w.$sub(re(["^([",_,"]+).*$"]),"\\1"),a=e);for(var g,I=0,C=t.length;I<C;I++)g=t[I],!(g===p||g===""&&(s.length===0||a)||g==="."&&(s.length===0||a))&&(g===".."?s.pop():s.push(g));return!a&&t[0]!=="."&&s.$unshift("."),o=s.$join(H),q(a)&&(o=J(i,o)),o},-2),R(k,"$expand_path",function(l,w){var H=this,_=p,s=p,n=p,r=p,e=p;return w==null&&(w=p),_=d("SEPARATOR"),s=h(),q(l[0]==="~"||w&&w[0]==="~")&&(n=d("Dir").$home(),q(n)||Q.$raise(P("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),r=F.test(n)?"":n.$sub(re(["^([",s,"]+).*$"]),"\\1"),q(n["$start_with?"](r))||Q.$raise(P("ArgumentError"),"non-absolute home"),n=J(n,_),e=re(["^\\~(?:",_,"|$)"]),l=l.$sub(e,n),q(w)&&(w=w.$sub(e,n))),H.$absolute_path(l,w)},-2);function S(c){return q(c["$respond_to?"]("to_path"))&&(c=c.$to_path()),c=z["$coerce_to!"](c,P("String"),"to_str"),c}function h(){return d("ALT_SEPARATOR")===p?$.escape_regexp(d("SEPARATOR")):$.escape_regexp(J(d("SEPARATOR"),d("ALT_SEPARATOR")))}return R(k,"$dirname",function(l,w){var H=this,_=p;if(w==null&&(w=1),v(w,0))return l;q(K(w,0))&&Q.$raise(P("ArgumentError"),"level can't be negative"),_=h(),l=S(l);var s=l.match(new RegExp("^["+_+"]")),n;return l=l.replace(new RegExp("["+_+"]+$"),""),l=l.replace(new RegExp("[^"+_+"]+$"),""),l=l.replace(new RegExp("["+_+"]+$"),""),l===""?n=s?"/":".":n=l,w==1?n:H.$dirname(n,$e(w,1))},-2),R(k,"$basename",function(l,w){var H=p;return w==null&&(w=p),H=h(),l=S(l),l.length==0||(w!==p?w=z["$coerce_to!"](w,P("String"),"to_str"):w=null,l=l.replace(new RegExp("(.)["+H+"]*$"),"$1"),l=l.replace(new RegExp("^(?:.*["+H+"])?([^"+H+"]+)$"),"$1"),w===".*"?l=l.replace(/\.[^\.]+$/,""):w!==null&&(w=$.escape_regexp(w),l=l.replace(new RegExp(""+w+"$"),""))),l},-2),R(k,"$extname",function(l){var w=this,H=p,_=p;return l=S(l),H=w.$basename(l),q(H["$empty?"]())||(_=H["$[]"](Z(1,-1,!1)).$rindex("."),q(_["$nil?"]())||v(J(_,1),$e(H.$length(),1)))?"":H["$[]"]($.Range.$new(J(_,1),-1,!1))}),R(k,"$exist?",function(l){return $.modules[l]!=null}),R(k,"$directory?",function(l){var w=p;w=[];for(var H in $.modules)w.push(H);return l=l.$gsub(re(["(^.",d("SEPARATOR"),"+|",d("SEPARATOR"),"+$)"])),U(w,"find",[],function(s){return s==null&&(s=p),s["$=~"](re(["^",l]))})}),R(k,"$join",function(l){var w,H,_=p;return w=ee(arguments),H=w,q(H["$empty?"]())?"":(_="",H=U(H.$flatten().$each_with_index(),"map",[],function(n,r){return n==null&&(n=p),r==null&&(r=p),v(r,0)&&q(n["$empty?"]())||v(H.$length(),J(r,1))&&q(n["$empty?"]())?d("SEPARATOR"):n}),H=U(H,"reject",[],"empty?".$to_proc()),U(H,"each_with_index",[],function(n,r){var e=p;return n==null&&(n=p),r==null&&(r=p),e=H["$[]"](J(r,1)),q(e["$nil?"]())?_=""+_+n:(q(n["$end_with?"](d("SEPARATOR")))&&q(e["$start_with?"](d("SEPARATOR")))&&(n=n.$sub(re([d("SEPARATOR"),"+$"]),"")),_=q(n["$end_with?"](d("SEPARATOR")))||q(e["$start_with?"](d("SEPARATOR")))?""+_+n:""+_+n+d("SEPARATOR"))}),_)},-1),R(k,"$split",function(l){return l.$split(d("SEPARATOR"))}),X(k,"realpath","expand_path"),X(k,"exists?","exist?")}($.get_singleton_class(b),A)}("::",P("IO"),x)};Opal.modules["corelib/process/base"]=function($){var q=$.klass,y=$.slice,D=$.defs,z=$.return_val,re=$.nil;return function(J,R){var Q=q(J,R,"Signal");return D(Q,"$trap",function(K){return y(arguments),re},-1)}("::",null),function(J,R){var Q=q(J,R,"GC");return D(Q,"$start",z(re))}("::",null)};Opal.modules["corelib/process"]=function($){var q=$.module,y=$.defs,D=$.truthy,z=$.return_val,re=$.Kernel,J=$.nil,R=$.$$$;return $.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(Q){var v=q(Q,"Process"),K=J;if(v.__clocks__=[],y(v,"$__register_clock__",function(U,ee){var X=this;return X.__clocks__==null&&(X.__clocks__=J),X.$const_set(U,X.__clocks__.$size()),X.__clocks__["$<<"](ee)}),v.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),K=!1,$.global.performance)K=function(){return performance.now()};else if($.global.process&&process.hrtime){var $e=process.hrtime();K=function(){var Z=process.hrtime($e),U=Z[1]/1e3|0;return Z[0]*1e3+U/1e3}}return D(K)&&v.$__register_clock__("CLOCK_MONOTONIC",K),y(v,"$pid",z(0)),y(v,"$times",function(){var U=J;return U=R("Time").$now().$to_f(),R(R("Benchmark"),"Tms").$new(U,U,U,U,U)}),y(v,"$clock_gettime",function(U,ee){var X=this,x=J;X.__clocks__==null&&(X.__clocks__=J),ee==null&&(ee="float_second"),D(x=X.__clocks__["$[]"](U))||re.$raise(R(R("Errno"),"EINVAL"),"clock_gettime("+U+") "+X.__clocks__["$[]"](U));var p=x();switch(ee){case"float_second":return p/1e3;case"float_millisecond":return p/1;case"float_microsecond":return p*1e3;case"second":return p/1e3|0;case"millisecond":return p/1|0;case"microsecond":return p*1e3|0;case"nanosecond":return p*1e6|0;default:re.$raise(R("ArgumentError"),"unexpected unit: "+ee)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function($){var q=$.klass,y=$.module,D=$.def,z=$.range,re=$.send,J=$.rb_divide,R=$.Kernel,Q=$.Opal,v=[],K=$.nil,$e=$.$$$;return $.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(Z,U,ee){var X=q(Z,U,"Random"),x=[X].concat(ee);return function(p,P){var G=y(p,"Formatter"),T=[G].concat(P),B=$.$r(T);return D(G,"$hex",function(A){var F=this;A==null&&(A=K),A=$e("Random").$_verify_count(A);for(var k=F.$bytes(A),E="",u=0;u<A;u++)E+=k.charCodeAt(u).toString(16).padStart(2,"0");return E.$encode("US-ASCII")},-1),D(G,"$random_bytes",function(A){var F=this;return A==null&&(A=K),F.$bytes(A)},-1),D(G,"$base64",function(A){var F=this;return A==null&&(A=K),$e("Base64").$strict_encode64(F.$random_bytes(A)).$encode("US-ASCII")},-1),D(G,"$urlsafe_base64",function(A,F){var k=this;return A==null&&(A=K),F==null&&(F=!1),$e("Base64").$urlsafe_encode64(k.$random_bytes(A),F).$encode("US-ASCII")},-1),D(G,"$uuid",function(){var A=this,F=K;return F=A.$hex(16).$split(""),F["$[]="](12,"4"),F["$[]="](16,(parseInt(F["$[]"](16),16)&3|8).toString(16)),F=[F["$[]"](z(0,8,!0)),F["$[]"](z(8,12,!0)),F["$[]"](z(12,16,!0)),F["$[]"](z(16,20,!0)),F["$[]"](z(20,32,!0))],F=re(F,"map",[],"join".$to_proc()),F.$join("-")}),D(G,"$random_float",function(){var A=this,F=K,k=K;return F=A.$bytes(4),k=0,re(4,"times",[],function(u){return u==null&&(u=K),k=k["$<<"](8),k=k["$|"](F["$[]"](u).$ord())}),J(k.$abs(),2147483647)}),D(G,"$random_number",function(A){var F=this;function k(){return F.$random_float()}function E(d){return Math.floor(k()*d)}function u(){var d=A.begin,S=A.end;if(d===K||S===K)return K;var h=S-d;return h<0?K:h===0?d:(S%1===0&&d%1===0&&!A.excl&&h++,E(h)+d)}return A==null?k():A.$$is_range?u():A.$$is_number?(A<=0&&R.$raise($e("ArgumentError"),"invalid argument - "+A),A%1===0?E(A):k()*A):(A=Q["$coerce_to!"](A,$e("Integer"),"to_int"),A<=0&&R.$raise($e("ArgumentError"),"invalid argument - "+A),E(A))},-1),D(G,"$alphanumeric",function(A){var F=this,k=K;return A==null&&(A=K),A=B("Random").$_verify_count(A),k=re([z("0","9",!1),z("a","z",!1),z("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),re($e("Array"),"new",[A],function E(u){var d=E.$$s==null?this:E.$$s;return k["$[]"](d.$random_number(k.$length()))},{$$s:F}).$join()},-1)}(X,x),X.$include($e($e("Random"),"Formatter")),X.$extend($e($e("Random"),"Formatter"))}("::",null,v)};Opal.modules["corelib/random/mersenne_twister"]=function($){var q=$.klass,y=$.const_set,D=$.send,z=$.nil,re=$.$$$,J=z;return $.add_stubs("generator="),J=function(){var R=624,Q=397,v=2567483615,K=2147483648,$e=2147483647,Z=function(T,B){return T&K|B&$e},U=function(T,B){return Z(T,B)>>>1^(B&1?v:0)};function ee(T){var B={left:0,next:R,state:new Array(R)};return X(B,T),B}function X(T,B){var b;for(T.state[0]=B>>>0,b=1;b<R;b++)T.state[b]=1812433253*(T.state[b-1]^T.state[b-1]>>30>>>0)+b,T.state[b]&=4294967295;T.left=1,T.next=R}function x(T){var B=0,b=T.state,A;for(T.left=R,T.next=0,A=R-Q+1;--A;B++)b[B]=b[B+Q]^U(b[B+0],b[B+1]);for(A=Q;--A;B++)b[B]=b[B+(Q-R)]^U(b[B+0],b[B+1]);b[B]=b[B+(Q-R)]^U(b[B+0],b[0])}function p(T){var B;return--T.left<=0&&x(T),B=T.state[T.next++],B^=B>>>11,B^=B<<7&2636928640,B^=B<<15&4022730752,B^=B>>>18,B>>>0}function P(T,B){return T>>>=5,B>>>=6,(T*67108864+B)*(1/9007199254740992)}function G(T){var B=p(T),b=p(T);return P(B,b)}return{genrand_real:G,init:ee}}(),function(R,Q){var v=q(R,Q,"Random"),K,$e=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return y(v,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*$e)},reseed:function(Z){return J.init(Z)},rand:function(Z){return J.genrand_real(Z)}}),K=[re(v,"MERSENNE_TWISTER_GENERATOR")],D(v,"generator=",K),K[K.length-1]}("::",null)};Opal.modules["corelib/random"]=function($){var q=$.truthy,y=$.klass,D=$.Kernel,z=$.defs,re=$.Opal,J=$.def,R=$.eqeqeq,Q=$.send,v=$.top,K=$.nil,$e=$.$$$;return $.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),v.$require("corelib/random/formatter"),function(Z,U){var ee=y(Z,U,"Random");return ee.$attr_reader("seed","state"),z(ee,"$_verify_count",function(x){return q(x)||(x=16),typeof x!="number"&&(x=x.$to_int()),x<0&&D.$raise($e("ArgumentError"),"negative string size (or size too big)"),x=Math.floor(x),x}),J(ee,"$initialize",function(x){var p=this;return x==null&&(x=$e("Random").$new_seed()),x=re["$coerce_to!"](x,$e("Integer"),"to_int"),p.state=x,p.$reseed(x)},-1),J(ee,"$reseed",function(x){var p=this;return p.seed=x,p.$rng=$.$$rand.reseed(x)}),z(ee,"$new_seed",function(){return $.$$rand.new_seed()}),z(ee,"$rand",function(x){var p=this;return $e(p,"DEFAULT").$rand(x)},-1),z(ee,"$srand",function(x){var p=this,P=K;return x==null&&(x=$e("Random").$new_seed()),x=re["$coerce_to!"](x,$e("Integer"),"to_int"),P=$e(p,"DEFAULT").$seed(),$e(p,"DEFAULT").$reseed(x),P},-1),z(ee,"$urandom",function(x){return $e("SecureRandom").$bytes(x)}),J(ee,"$==",function(x){var p=this,P=K;return R($e("Random"),x)?q(P=p.$seed()["$=="](x.$seed()))?p.$state()["$=="](x.$state()):P:!1}),J(ee,"$bytes",function(x){var p=this;return x=$e("Random").$_verify_count(x),Q($e("Array"),"new",[x],function P(){var G=P.$$s==null?this:P.$$s;return G.$rand(255).$chr()},{$$s:p}).$join().$encode("ASCII-8BIT")}),z(ee,"$bytes",function(x){var p=this;return $e(p,"DEFAULT").$bytes(x)}),J(ee,"$rand",function(x){var p=this;return p.$random_number(x)},-1),J(ee,"$random_float",function(){var x=this;return x.state++,$.$$rand.rand(x.$rng)}),z(ee,"$random_float",function(){var x=this;return $e(x,"DEFAULT").$random_float()}),z(ee,"$generator=",function(x){var p=this;return $.$$rand=x,q(p["$const_defined?"]("DEFAULT"))?$e(p,"DEFAULT").$reseed():p.$const_set("DEFAULT",p.$new(p.$new_seed()))})}("::",null),v.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function($){var q=$.Kernel,y=$.klass,D=$.send,z=$.slice,re=$.module,J=$.def,R=$.return_val,Q=$.alias,v=$.defs,K=$.top,$e=[],Z=$.nil,U=$.$$$;$.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var ee={};function X(p){switch($.config.unsupported_features_severity){case"error":q.$raise(U("NotImplementedError"),p);break;case"warning":x(p);break}}function x(p){ee[p]||(ee[p]=!0,K.$warn(p))}return function(p,P){var G=y(p,P,"String"),T="String#%s not supported. Mutable String methods are not supported in Opal.";return D(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function B(b){var A=B.$$s==null?this:B.$$s;return b==null&&(b=Z),D(A,"define_method",[b],function(k){return z(arguments),q.$raise(U("NotImplementedError"),T["$%"](b))},-1)},{$$s:G})}("::",null),function(p){var P=re(p,"Kernel"),G="Object tainting is not supported by Opal";return J(P,"$taint",function(){var B=this;return X(G),B}),J(P,"$untaint",function(){var B=this;return X(G),B}),J(P,"$tainted?",function(){return X(G),!1})}("::"),function(p,P){var G=y(p,P,"Module");return J(G,"$public",function(B){var b,A,F=this;return b=z(arguments),A=b,A.length===0?(F.$$module_function=!1,Z):A.length===1?A[0]:A},-1),J(G,"$private_class_method",function(B){var b,A;return b=z(arguments),A=b,A.length===1?A[0]:A},-1),J(G,"$private_method_defined?",R(!1)),J(G,"$private_constant",function(B){return z(arguments),Z},-1),Q(G,"nesting","public"),Q(G,"private","public"),Q(G,"protected","public"),Q(G,"protected_method_defined?","private_method_defined?"),Q(G,"public_class_method","private_class_method"),Q(G,"public_instance_method","instance_method"),Q(G,"public_instance_methods","instance_methods"),Q(G,"public_method_defined?","method_defined?")}("::",null),function(p){var P=re(p,"Kernel");return J(P,"$private_methods",function(T){return z(arguments),[]},-1),Q(P,"protected_methods","private_methods"),Q(P,"private_instance_methods","private_methods"),Q(P,"protected_instance_methods","private_methods")}("::"),function(p,P){var G=re(p,"Kernel"),T=[G].concat(P),B=$.$r(T);return J(G,"$eval",function(A){return z(arguments),q.$raise(U("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+B("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",$e),v(K,"$public",function(P){var G,T;return G=z(arguments),T=G,T.length===1?T[0]:T},-1),v(K,"$private",function(P){var G,T;return G=z(arguments),T=G,T.length===1?T[0]:T},-1)};Opal.modules["corelib/binding"]=function($){var q=$.klass,y=$.truthy,D=$.def,z=$.slice,re=$.send,J=$.to_a,R=$.Kernel,Q=$.return_ivar,v=$.eqeq;$.thrower;var K=$.module,$e=$.const_set,Z=$.top,U=[],ee=$.nil,X=$.$$$;return $.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(x,p){var P=q(x,p,"Binding"),G=P.$$prototype;return G.jseval=G.scope_variables=ee,D(P,"$initialize",function(B,b,A,F){var k,E=this;return b==null&&(b=[]),F==null&&(F=ee),k=[B,b,A,F],E.jseval=k[0],E.scope_variables=k[1],E.receiver=k[2],E.source_location=k[3],y(typeof A!==void 0)?ee:A=E.$js_eval("self")},-2),D(P,"$js_eval",function(B){var b,A,F=this;return b=z(arguments),A=b,y(F.jseval)?re(F.jseval,"call",J(A)):R.$raise("Evaluation on a Proc#binding is not supported")},-1),D(P,"$local_variable_get",function(B){var b=this;try{return b.$js_eval(B)}catch(A){if($.rescue(A,[X("Exception")]))try{return R.$raise(X("NameError"),"local variable `"+B+"' is not defined for "+b.$inspect())}finally{$.pop_exception(A)}else throw A}}),D(P,"$local_variable_set",function(B,b){var A=this;return $.Binding.tmp_value=b,A.$js_eval(""+B+" = Opal.Binding.tmp_value"),delete $.Binding.tmp_value,b}),D(P,"$local_variables",Q("scope_variables")),D(P,"$local_variable_defined?",function(B){var b=this;return b.scope_variables["$include?"](B)}),D(P,"$eval",function(B,b,A){try{var F=this;return b==null&&(b=ee),A==null&&(A=ee),v(B,"self")?F.$receiver():R.$eval(B,F,b,A)}catch(k){if(k===$.t_eval_return)return k.$v;throw k}},-2),P.$attr_reader("receiver","source_location")}("::",null),function(x){var p=K(x,"Kernel");return D(p,"$binding",function(){return R.$raise("Opal doesn't support dynamic calls to binding")})}("::"),$e(U[0],"TOPLEVEL_BINDING",X("Binding").$new(function(x){return new Function("self","return "+x)(Z)},[],Z,["<main>",0]))};Opal.modules["corelib/irb"]=function($){var q=$.module,y=$.truthy,D=$.Kernel,z=$.defs,re=$.gvars,J=$.lambda,R=$.hash_rehash,Q=$.send,v=$.rb_plus,K=$.const_set,$e=$.klass,Z=$.def,U=$.Opal,ee=$.range,X=$.eqeq,x=$.thrower,p=[],P=$.nil,G=$.$$$;$.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(T,B){var b=q(T,"Opal"),A=[b].concat(B);return function(F,k){var E=q(F,"IRB"),u=[E].concat(k),d=$.$r(u);return z(E,"$ensure_loaded",function(h){var c=P,l=P;if(y($.loaded_features["$include?"](h)))return P;c=y(d("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":d("RUBY_ENGINE_VERSION"),l="https://cdn.opalrb.com/opal/"+c+"/"+h+".js";var w;if(typeof XMLHttpRequest<"u"){var H=new XMLHttpRequest;H.open("GET",l,!1),H.send(""),w=H.responseText}else D.$raise("You need to provision "+h+" yourself in this environment");return new Function("Opal",w)($),$.require(h),y($.loaded_features["$include?"](h))?P:D.$raise("Could not load "+h+" for some reason")}),E.$singleton_class().$attr_accessor("output"),z(E,"$prepare_console",function S(){var h=S.$$p||P,c,l=this,w=P,H=P;return re.stdout==null&&(re.stdout=P),re.stderr==null&&(re.stderr=P),re.stdin==null&&(re.stdin=P),S.$$p=null,function(){try{return l["$output="](""),w=R(new Map([[re.stdout,J(function(s){return s==null&&(s=P),re.stdout=s})],[re.stderr,J(function(s){return s==null&&(s=P),re.stderr=s})]])),y(l["$browser?"]())&&(Q(w,"each",[],function _(s,n){var r=_.$$s==null?this:_.$$s,e=P;return s==null&&(s=P),n==null&&(n=P),e=s.$dup(),e["$write_proc="](Q(r,"proc",[],function t(i){var a=t.$$s==null?this:t.$$s;return i==null&&(i=P),a["$output="](v(a.$output(),i)),a["$output="](a.$output().$split(`
`).$last(30).$join(`
`)),y(i["$end_with?"](`
`))&&a["$output="](v(a.$output(),`
`)),s.$write_proc().$call(i)},{$$s:r})),e["$tty="](!1),n.$call(e)},{$$s:l}),H=re.stdin.$read_proc(),re.stdin["$read_proc="](function(_){var s=prompt(l.$output());return s!==null?s+`
`:P})),$.yieldX(h,[])}finally{Q(w,"each",[],function(s,n){return s==null&&(s=P),n==null&&(n=P),n.$call(s)}),c=[H],Q(re.stdin,"read_proc=",c),c[c.length-1],c=[""],Q(l,"output=",c),c[c.length-1]}}()}),z(E,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),K(u[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(S,h){var c=$e(S,h,"Silencer"),l=c.$$prototype;return l.collector=l.stderr=P,Z(c,"$initialize",function(){var H=this;return re.stderr==null&&(re.stderr=P),H.stderr=re.stderr}),Z(c,"$silence",function w(){var H=w.$$p||P,_=this;return w.$$p=null,function(){try{return _.collector=G("StringIO").$new(),re.stderr=_.collector,$.yieldX(H,[])}finally{re.stderr=_.stderr}}()}),Z(c,"$warnings",function(){var H=this;return H.collector.$string()})}(u[0],null)}(A[0],A)}(p[0],p),function(T,B,b){var A=$e(T,B,"Binding"),F=[A].concat(b),k=$.$r(F);return Z(A,"$irb",function(){try{var u=x("return"),d=this,S=P;return G(U,"IRB").$ensure_loaded("opal-replutils"),S=G(G(U,"IRB"),"Silencer").$new(),Q(G(U,"IRB"),"prepare_console",[],function h(){var c=h.$$s==null?this:h.$$s;return function(){try{var l=x("break");return Q(c,"loop",[],function w(){var H=w.$$s==null?this:w.$$s,_=P,s=P,n=P,r=P,e=P;H.$print(">> "),_=H.$gets(),y(_)||l.$throw(P,w.$$is_lambda),s="",y(G(U,"IRB")["$browser?"]())&&H.$puts(_),y(_["$start_with?"]("ls "))?(s=_["$[]"](ee(3,-1,!1)),n="ls"):X(_,`ls
`)?(s="self",n="ls"):y(_["$start_with?"]("show "))?(s=_["$[]"](ee(5,-1,!1)),n="show"):(s=_,n="inspect"),r=P;do{try{Q(S,"silence",[],function(){return r=$.compile(s,{irb:!0})})}catch(t){if($.rescue(t,[k("SyntaxError")])){e=t;try{if(y(G(G(U,"IRB"),"LINEBREAKS")["$include?"](e.$message()))){H.$print(".. "),_=H.$gets(),y(_)||u.$throw(P,w.$$is_lambda),y(G(U,"IRB")["$browser?"]())&&H.$puts(_),s=v(s,_);continue}else y(S.$warnings()["$empty?"]())?H.$warn(e.$full_message()):H.$warn(S.$warnings())}finally{$.pop_exception(t)}}else throw t}break}while(!0);return X(n,"show")&&(H.$puts(r),u.$throw(P,w.$$is_lambda)),H.$puts(G("REPLUtils").$eval_and_print(r,n,!1,H))},{$$s:c,$$ret:u})}catch(w){if(w===l)return w.$v;throw w}finally{l.is_orphan=!0}}()},{$$s:d})}catch(h){if(h===u)return h.$v;throw h}finally{u.is_orphan=!0}})}("::",null,p),$.irb=function(T){G("Binding").$new(T).$irb()},$.load_parser=function(){$.Opal.IRB.$ensure_loaded("opal-parser")},typeof $.eval>"u"&&($.eval=function(T){return $.load_parser(),$.eval(T)}),typeof $.compile>"u"&&($.compile=function(T,B){return $.load_parser(),$.compile(T,B)})};Opal.modules.opal=function($){var q=$.Object;return $.nil,$.add_stubs("require,autoload"),q.$require("opal/base"),q.$require("opal/mini"),q.$require("corelib/kernel/format"),q.$require("corelib/string/encoding"),q.$autoload("Math","corelib/math"),q.$require("corelib/complex/base"),q.$autoload("Complex","corelib/complex"),q.$require("corelib/rational/base"),q.$autoload("Rational","corelib/rational"),q.$require("corelib/time"),q.$autoload("Struct","corelib/struct"),q.$autoload("Set","corelib/set"),q.$autoload("Dir","corelib/dir"),q.$autoload("File","corelib/file"),q.$require("corelib/process/base"),q.$autoload("Process","corelib/process"),q.$autoload("Random","corelib/random"),q.$require("corelib/unsupported"),q.$require("corelib/binding"),q.$require("corelib/irb")};Opal.modules["js/proxy"]=function($){var q=$.module,y=$.truthy,D=$.def,z=$.klass,re=$.const_set,J=$.slice,R=$.range,Q=$.send,v=$.to_a,K=$.gvars,$e=$.top,Z=[],U=$.nil;return $.add_stubs("require,new,to_n,to_rb_name,include,attr_accessor,Native,to_js_name,end_with?,existing_property?,raise,[],[]=,first,native,dup,call,class,<<,wrap_result,respond_to?,enum_for,length,each,private,join,with_index,map,split,to_s,include?,downcase,gsub,upcase,zero?,capitalize,sub,native="),$e.$require("opal"),$e.$require("native"),function(ee,X){var x=q(ee,"JS"),p=[x].concat(X),P=$.$r(p);return function(G,T){var B=q(G,"Helpers"),b=[B].concat(T),A=$.$r(b);return D(B,"$wrap_result",function(k){return y(k&&typeof k.then=="function")?A("Promise").$new(k):y(typeof k=="object"&&k!==null)?A("Proxy").$new(k):k}),D(B,"$native_methods",function(){var k=this,E=U;return k.native_methods==null&&(k.native_methods=U),k.native_methods=function(){if(y(E=k.native_methods))return E;{let u=k.$to_n();const d=new Set;for(;u!==null;){for(const S of Reflect.ownKeys(u)){const h=S.toString(),c=k.$to_rb_name(h);typeof S!="symbol"&&h!==c&&d.add(c),d.add(h)}u=Object.getPrototypeOf(u)}return Array.from(d)}}()})}(p[0],p),function(G,T,B){var b=z(G,T,"Proxy"),A=[b].concat(B),F=$.$r(A);return b.$include(F("Enumerable")),b.$include(F("Helpers")),b.$attr_accessor("native"),re(A[0],"IRREGULARS",["html","url","uri"]),D(b,"$initialize",function(E){var u=this;return u.native=u.$Native(E)}),D(b,"$method_missing",function k(E,u){var d=k.$$p||U,S,h,c,l=this,w=U,H=U,_=U,s=U,n=U,r=U;return k.$$p=null,S=J(arguments,1),h=S,w=l.$to_js_name(E),y(l["$existing_property?"](w))||y(w["$end_with?"]("="))||l.$raise(F("NoMethodError"),"undefined method `"+E+"` for "+l),y(w["$end_with?"]("="))?(H=w["$[]"](R(0,-2,!1)),c=[H,h.$first()],Q(l.$native(),"[]=",c),c[c.length-1]):(_=l.$native()["$[]"](w),y(typeof _=="function")?(s=h.$dup(),y(d)&&(n=function(){let e=Array.prototype.slice.call(arguments);return Q(d,"call",[l.$class().$new(this)].concat(v(e)))},s["$<<"](n)),r=_.apply(l.$to_n(),s.$to_n()),l.$wrap_result(r)):y(typeof _=="object"&&_!==null)?l.$wrap_result(_):_)},-2),D(b,"$to_str",function(){var E=this;return E.$to_n().toString()}),D(b,"$respond_to_missing?",function(E,u){return!0},-2),D(b,"$each",function k(){var E=k.$$p||U,u=this,d=U;return k.$$p=null,y(u["$respond_to?"]("length"))?(d=u.$length(),Q($.Range.$new(0,d,!0),"each",[],function S(h){var c=S.$$s==null?this:S.$$s;return h==null&&(h=U),$.yield1(E,c["$[]"](h))},{$$s:u})):u.$enum_for("each")}),D(b,"$[]",function(E){var u=this,d=U;return d=u.$native()["$[]"](E),u.$wrap_result(d)}),D(b,"$[]=",function(E,u){var d=this;return d.$native()["$[]="](E,u),d.$wrap_result(d.$native())}),D(b,"$to_n",function(){var E=this;return E.$native().$to_n()}),D(b,"$length",function(){var E=this;return E.$native().$length()}),b.$private(),D(b,"$to_js_name",function(E){return Q(E.$to_s().$split("_").$map(),"with_index",[],function(d,S){return d==null&&(d=U),S==null&&(S=U),y(F("IRREGULARS")["$include?"](d.$gsub("=","").$downcase()))?d.$upcase():y(S["$zero?"]())?d:d.$capitalize()}).$join()}),D(b,"$to_rb_name",function(E){return Q(E.$to_s(),"gsub",[/([A-Z]+)/],function(){var d;return"_"+((d=K["~"])===U?U:d["$[]"](1)).$downcase()}).$sub(/^_/,"")}),D(b,"$existing_property?",function(E){var u=this;return E in u.$to_n()})}(p[0],null,p),function(G,T,B){var b=z(G,T,"Promise"),A=[b].concat(B),F=$.$r(A);return b.$include(F("Helpers")),D(b,"$then",function k(){var E=k.$$p||U,u,d=this,S=U;return k.$$p=null,S=function(h){var c=E.$call(d.$wrap_result(h));return c&&typeof c.then=="function"?c:c&&typeof c.to_n=="function"?c.to_n():c},u=[d.$to_n().then(S)],Q(d,"native=",u),u[u.length-1]}),D(b,"$catch",function k(){var E=k.$$p||U,u,d=this,S=U;return k.$$p=null,S=function(h){var c=E.$call(d.$wrap_result(h));return c&&typeof c.then=="function"?c:c&&typeof c.to_n=="function"?c.to_n():c},u=[d.$to_n().catch(S)],Q(d,"native=",u),u[u.length-1]})}(p[0],P("Proxy"),p)}(Z[0],Z)};Opal.modules["opal_stimulus/stimulus_controller"]=function($){var q=$.klass,y=$.const_set,D=$.Opal,z=$.defs,re=$.truthy,J=$.send,R=$.gvars,Q=$.return_val,v=$.thrower,K=$.rb_plus,$e=$.eqeqeq,Z=$.def,U=$.top,ee=[],X=$.nil,x=$.$$$;return $.add_stubs("require,bridge,stimulus_controller,downcase,gsub,name,include?,sub,to_s,each,subclasses,define_method,stimulus_name,to_ruby_name,+,new,map,capitalize,===,raise,[]=,to_n,Native,==,window,document"),U.$require("opal"),U.$require("native"),U.$require("js/proxy"),function(p,P,G){var T=q(p,P,"StimulusController"),B=[T].concat(G),b=$.$r(B),A=T.$$prototype;return A.window=A.document=X,y(B[0],"DEFAULT_METHODS",["initialize","connect","disconnect","dispatch"]),y(B[0],"DEFAULT_GETTERS",["element"]),z(T,"$inherited",function(k){return D.$bridge(k.$stimulus_controller(),k)}),z(T,"$stimulus_controller",function(){var k=this;return k.stimulus_controller==null&&(k.stimulus_controller=X),re(k.stimulus_controller)||(k.stimulus_controller=class extends Controller{}),k.stimulus_controller}),z(T,"$stimulus_name",function(){var k=this;return k.$name().$gsub(/Controller$/,"").$gsub(/([a-z])([A-Z])/,"\\1-\\2").$gsub("::","--").$downcase()}),z(T,"$method_added",function(k){var E=this;if(re(b("DEFAULT_GETTERS")["$include?"](k)))return X;E.$stimulus_controller().prototype[k]=function(...u){try{var d=u.map(function(S){return S&&typeof S=="object"&&!S.$$class?$.JS.Proxy.$new(S):S});return this["$"+k].apply(this,d)}catch(S){console.error("Uncaught",S)}}}),z(T,"$to_ruby_name",function(k){return J(k.$to_s(),"gsub",[/([A-Z]+)/],function(){var u;return"_"+((u=R["~"])===X?X:u["$[]"](1)).$downcase()}).$sub(/^_/,"")}),z(T,"$register_all!",function(){try{var k=v("return"),E=this;return J(E.$subclasses(),"each",[],function u(d){return d==null&&(d=X),J(d,"define_method",["dummy"],Q(X)),re(application.controllers["$include?"](d.$stimulus_name()))&&k.$throw(X,u.$$is_lambda),application.register(d.$stimulus_name(),d.$stimulus_controller())},{$$ret:k})}catch(u){if(u===k)return u.$v;throw u}finally{k.is_orphan=!0}}),z(T,"$targets=",function(k){var E=this;return k==null&&(k=[]),E.$stimulus_controller().targets=k,J(k,"each",[],function u(d){var S=u.$$s==null?this:u.$$s,h=X,c=X,l=X,w=X,H=X,_=X;d==null&&(d=X),h=d.$to_s(),c=S.$to_ruby_name(d),J(S,"define_method",[K(c,"_target")],function(){return x(b("JS"),"Proxy").$new(this[K(h,"Target")])}),J(S,"define_method",[K(c,"_targets")],function(){return J(this[K(h,"Targets")],"map",[],function(r){return r==null&&(r=X),x(b("JS"),"Proxy").$new(r)})}),J(S,"define_method",[K(K("has_",c),"_target")],function(){return this[K(K("has",h.$capitalize()),"Target")]}),l=K(c,"_target_connected"),w=K(h,"TargetConnected"),S.$stimulus_controller().prototype[w]=function(){if(this["$respond_to?"]&&this["$respond_to?"](l))return this["$"+l]()},H=K(c,"_target_disconnected"),_=K(h,"TargetDisconnected"),S.$stimulus_controller().prototype[_]=function(){if(this["$respond_to?"]&&this["$respond_to?"](H))return this["$"+H]()}},{$$s:E})},-1),z(T,"$outlets=",function(k){var E=this;return k==null&&(k=[]),E.$stimulus_controller().outlets=k,J(k,"each",[],function u(d){var S=u.$$s==null?this:u.$$s,h=X,c=X,l=X,w=X,H=X,_=X;d==null&&(d=X),h=d.$to_s(),c=S.$to_ruby_name(d),J(S,"define_method",[K(c,"_outlet")],function(){return this[K(h,"Outlet")]}),J(S,"define_method",[K(c,"_outlets")],function(){return this[K(h,"Outlets")]}),J(S,"define_method",[K(K("has_",c),"_outlet")],function(){return this[K(K("has",h.$capitalize()),"Outlet")]}),l=K(c,"_outlet_connected"),w=K(h,"OutletConnected"),S.$stimulus_controller().prototype[w]=function(){if(this["$respond_to?"]&&this["$respond_to?"](l))return this["$"+l]()},H=K(c,"_outlet_disconnected"),_=K(h,"OutletDisconnected"),S.$stimulus_controller().prototype[_]=function(){if(this["$respond_to?"]&&this["$respond_to?"](H))return this["$"+H]()}},{$$s:E})},-1),z(T,"$values=",function(k){var E=this,u=X;return k==null&&(k=new Map),u=new Map,J(k,"each",[],function d(S,h){var c=d.$$s==null?this:d.$$s,l=X,w=X,H=X,_=X;S==null&&(S=X),h==null&&(h=X),S=c.$to_ruby_name(S),l=$e("string",w=h)?String:$e("number",w)?Number:$e("boolean",w)?Boolean:$e("array",w)?Array:$e("object",w)?Object:c.$raise(b("ArgumentError"),"Unsupported value type: "+h+", please use :string, :number, :boolean, :array, or :object"),u["$[]="](S,l),c.$stimulus_controller().values=u.$to_n(),J(c,"define_method",[K(S,"_value")],function s(){var n=s.$$s==null?this:s.$$s;return n.$Native(this[K(S,"Value")])},{$$s:c}),J(c,"define_method",[K(S,"_value=")],function s(n){var r=s.$$s==null?this:s.$$s;return n==null&&(n=X),r.$Native(this[K(S,"Value")]=n)},{$$s:c}),J(c,"define_method",["has_"+S],function(){return this[K(K("has",S.$to_s().$capitalize()),"Value")]}),H=""+S+"_value_changed",_=""+S+"ValueChanged",c.$stimulus_controller().prototype[_]=function(s,n){if(h["$=="]("object")&&(s=JSON.stringify(s),n=JSON.stringify(n)),this["$respond_to?"]&&this["$respond_to?"](H))return this["$"+H](s,n)}},{$$s:E})},-1),z(T,"$classes=",function(k){var E=this;return k==null&&(k=[]),E.$stimulus_controller().classes=k,J(k,"each",[],function u(d){var S=u.$$s==null?this:u.$$s,h=X,c=X;return d==null&&(d=X),h=d.$to_s(),c=S.$to_ruby_name(d),J(S,"define_method",[""+c+"_class"],function(){return this[K(h,"Class")]}),J(S,"define_method",[""+c+"_classes"],function(){return this[K(h,"Classes")]}),J(S,"define_method",["has_"+c+"_class"],function(){return this[K(K("has",h.$capitalize()),"Class")]})},{$$s:E})},-1),Z(T,"$element",function(){return x(b("JS"),"Proxy").$new(this.element)}),Z(T,"$window",function(){var k=this,E=X;return R.$==null&&(R.$=X),k.window=re(E=k.window)?E:x(b("JS"),"Proxy").$new(R.$.$window())}),Z(T,"$document",function(){var k=this,E=X;return R.$==null&&(R.$=X),k.document=re(E=k.document)?E:x(b("JS"),"Proxy").$new(R.$.$document())})}(ee[0],Controller,ee)};Opal.modules["opal_vite/concerns/v1/stimulus_helpers"]=function($){var q=$.module,y=$.def,D=$.truthy,z=$.eqeq,re=$.send,J=$.slice,R=$.ensure_kwargs,Q=$.get_kwarg,v=$.hash_get,K=$.rb_plus,$e=$.rb_minus,Z=$.to_a,U=$.range,ee=$.const_set,X=[],x=$.$r(X),p=$.nil,P=$.$$$;return $.add_stubs("camelize,has_target?,target_set_value,target_set_html,set_target_style,get_target_style,==,show_target,hide_target,call,body_style,to_n,storage_get,is_a?,parse_int,event_data,to_native_element,Native,map,to_a,js_timestamp,is_nan?,parse_float,to_s,empty?,respond_to?,fetch_json_promise,fetch_json_safe,js_then,js_catch,console_error,set_stimulus_value,+,stimulus_value,-,!,get_class,get_classes,has_outlet?,get_outlet,js_call_on,each,get_outlets,nil?,stimulus_dispatch,action_param,[],[]=,flatten,to_proc,blank?,private,include?,upcase,downcase,split,join,first"),function(G,T){var B=q(G,"OpalVite"),b=[B].concat(T);return function(A,F){var k=q(A,"Concerns"),E=[k].concat(F);return function(u,d){var S=q(u,"V1"),h=[S].concat(d);return function(c,l){var w=q(c,"StimulusHelpers"),H=[w].concat(l),_=$.$r(H);return y(w,"$has_target?",function(n){var r=this,e=p;return e="has"+r.$camelize(n)+"Target",this[e]}),y(w,"$get_target",function(n){var r=this,e=p;return D(r["$has_target?"](n))?(e=""+r.$camelize(n,!1)+"Target",this[e]):p}),y(w,"$get_targets",function(n){var r=this,e=p;return e=""+r.$camelize(n,!1)+"Targets",Array.from(this[e]||[])}),y(w,"$target_value",function(n){var r=this,e=p;return D(r["$has_target?"](n))?(e=""+r.$camelize(n,!1)+"Target",this[e].value):p}),y(w,"$target_set_value",function(n,r){var e=this,t=p;return D(e["$has_target?"](n))?(t=""+e.$camelize(n,!1)+"Target",this[t].value=r):p}),y(w,"$target_html",function(n){var r=this,e=p;return D(r["$has_target?"](n))?(e=""+r.$camelize(n,!1)+"Target",this[e].innerHTML):p}),y(w,"$target_set_html",function(n,r){var e=this,t=p;return D(e["$has_target?"](n))?(t=""+e.$camelize(n,!1)+"Target",this[t].innerHTML=r):p}),y(w,"$target_text",function(n){var r=this,e=p;return D(r["$has_target?"](n))?(e=""+r.$camelize(n,!1)+"Target",this[e].textContent):p}),y(w,"$target_set_text",function(n,r){var e=this,t=p;return D(e["$has_target?"](n))?(t=""+e.$camelize(n,!1)+"Target",this[t].textContent=r):p}),y(w,"$target_data",function(n,r){var e=this,t=p;return D(e["$has_target?"](n))?(t=""+e.$camelize(n,!1)+"Target",this[t].getAttribute("data-"+r)):p}),y(w,"$target_set_data",function(n,r,e){var t=this,i=p;return D(t["$has_target?"](n))?(i=""+t.$camelize(n,!1)+"Target",this[i].setAttribute("data-"+r,e)):p}),y(w,"$target_clear",function(n){var r=this;return r.$target_set_value(n,"")}),y(w,"$target_clear_html",function(n){var r=this;return r.$target_set_html(n,"")}),y(w,"$set_target_style",function(n,r,e){var t=this,i=p;return D(t["$has_target?"](n))?(i=""+t.$camelize(n,!1)+"Target",this[i].style[r]=e):p}),y(w,"$get_target_style",function(n,r){var e=this,t=p;return D(e["$has_target?"](n))?(t=""+e.$camelize(n,!1)+"Target",this[t].style[r]):p}),y(w,"$show_target",function(n){var r=this;return r.$set_target_style(n,"display","")}),y(w,"$hide_target",function(n){var r=this;return r.$set_target_style(n,"display","none")}),y(w,"$toggle_target_visibility",function(n){var r=this,e=p;return e=r.$get_target_style(n,"display"),z(e,"none")?r.$show_target(n):r.$hide_target(n)}),y(w,"$add_target_class",function(n,r){var e=this,t=p;return D(e["$has_target?"](n))?(t=""+e.$camelize(n,!1)+"Target",this[t].classList.add(r)):p}),y(w,"$remove_target_class",function(n,r){var e=this,t=p;return D(e["$has_target?"](n))?(t=""+e.$camelize(n,!1)+"Target",this[t].classList.remove(r)):p}),y(w,"$toggle_target_class",function(n,r){var e=this,t=p;return D(e["$has_target?"](n))?(t=""+e.$camelize(n,!1)+"Target",this[t].classList.toggle(r)):p}),y(w,"$has_target_class?",function(n,r){var e=this,t=p;return D(e["$has_target?"](n))?(t=""+e.$camelize(n,!1)+"Target",this[t].classList.contains(r)):!1}),y(w,"$js_timestamp",function(){return Date.now()}),y(w,"$js_iso_date",function(){return new Date().toISOString()}),y(w,"$js_date",function(n){return n==null&&(n=p),D(n)?new Date(n):new Date},-1),y(w,"$js_regexp",function(n,r){return r==null&&(r=""),new RegExp(n,r)},-2),y(w,"$js_regexp_test",function(n,r,e){return e==null&&(e=""),new RegExp(n,e).test(r)},-3),y(w,"$set_timeout",function s(n){var r=s.$$p||p;return s.$$p=null,setTimeout(function(){r.$call()},n)}),y(w,"$set_interval",function s(n){var r=s.$$p||p;return s.$$p=null,setInterval(function(){r.$call()},n)}),y(w,"$clear_timeout",function(n){return clearTimeout(n)}),y(w,"$clear_interval",function(n){return clearInterval(n)}),y(w,"$body_style",function(n,r){return document.body.style[n]=r}),y(w,"$lock_body_scroll",function(){var n=this;return n.$body_style("overflow","hidden")}),y(w,"$unlock_body_scroll",function(){var n=this;return n.$body_style("overflow","")}),y(w,"$js_array",function(){return[]}),y(w,"$js_array_push",function(n,r){return n.push(r.$to_n())}),y(w,"$js_array_length",function(n){return n.length}),y(w,"$js_array_at",function(n,r){return n[r]}),y(w,"$storage_get",function(n){return localStorage.getItem(n)}),y(w,"$storage_set",function(n,r){return localStorage.setItem(n,r)}),y(w,"$storage_remove",function(n){return localStorage.removeItem(n)}),y(w,"$storage_get_json",function(n,r){var e=this,t=p;return r==null&&(r=p),t=e.$storage_get(n),D(t===null)?r:JSON.parse(t)},-2),y(w,"$storage_set_json",function(n,r){return localStorage.setItem(n,JSON.stringify(r.$to_n()))}),y(w,"$dispatch_window_event",function(n,r){var e=p;r==null&&(r=new Map),e=D(r["$is_a?"](_("Hash")))?r.$to_n():r;const t=new CustomEvent(n,{detail:e});window.dispatchEvent(t)},-2),y(w,"$dispatch_event",function(n,r){var e=p;r==null&&(r=new Map),e=D(r["$is_a?"](_("Hash")))?r.$to_n():r;const t=new CustomEvent(n,{detail:e});this.element.dispatchEvent(t)},-2),y(w,"$on_window_event",function s(n){var r=s.$$p||p;return s.$$p=null,window.addEventListener(n,r)}),y(w,"$off_window_event",function(n,r){return window.removeEventListener(n,r)}),y(w,"$on_document_event",function s(n){var r=s.$$p||p;return s.$$p=null,document.addEventListener(n,r)}),y(w,"$on_dom_ready",function s(){var n=s.$$p||p;return s.$$p=null,document.addEventListener("DOMContentLoaded",n)}),y(w,"$on_element_event",function s(n,r){var e=s.$$p||p;return s.$$p=null,n.addEventListener(r,e)}),y(w,"$off_element_event",function(n,r,e){return n.removeEventListener(r,e)}),y(w,"$on_controller_event",function s(n){var r=s.$$p||p;return s.$$p=null,this.element.addEventListener(n,r)}),y(w,"$event_target",function(){return event.currentTarget}),y(w,"$event_data",function(n){return event.currentTarget.getAttribute("data-"+n)}),y(w,"$event_data_int",function(n){var r=this;return r.$parse_int(r.$event_data(n))}),y(w,"$prevent_default",function(){return event.preventDefault()}),y(w,"$event_key",function(){return event.key}),y(w,"$to_native_element",function(n){return D(typeof n.$to_n=="function")?n.$to_n():n}),y(w,"$add_class",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),t.classList.add(r)}),y(w,"$remove_class",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),t.classList.remove(r)}),y(w,"$toggle_class",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),t.classList.toggle(r)}),y(w,"$has_class?",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),t.classList.contains(r)}),y(w,"$set_attr",function(n,r,e){var t=this,i=p;return i=t.$to_native_element(n),i.setAttribute(r,e)}),y(w,"$get_attr",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),t.getAttribute(r)}),y(w,"$remove_attr",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),t.removeAttribute(r)}),y(w,"$set_style",function(n,r,e){var t=this,i=p;return i=t.$to_native_element(n),i.style[r]=e}),y(w,"$set_html",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),t.innerHTML=r}),y(w,"$set_text",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),t.textContent=r}),y(w,"$get_value",function(n){var r=this,e=p;return e=r.$to_native_element(n),e.value}),y(w,"$set_value",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),t.value=r}),y(w,"$focus",function(n){var r=this,e=p;return e=r.$to_native_element(n),e.focus()}),y(w,"$has_attr?",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),t.hasAttribute(r)}),y(w,"$create_element",function(n){return document.createElement(n)}),y(w,"$append_child",function(n,r){var e=this,t=p,i=p;return t=e.$to_native_element(n),i=e.$to_native_element(r),t.appendChild(i)}),y(w,"$remove_element",function(n){var r=this,e=p;return e=r.$to_native_element(n),e.remove()}),y(w,"$next_sibling",function(n){var r=this,e=p;return e=r.$to_native_element(n),e.nextElementSibling}),y(w,"$prev_sibling",function(n){var r=this,e=p;return e=r.$to_native_element(n),e.previousElementSibling}),y(w,"$parent",function(n){var r=this,e=p;return e=r.$to_native_element(n),e.parentElement}),y(w,"$query",function(n){var r=this,e=p;return e=document.querySelector(n),D(e===null)?p:r.$Native(e)}),y(w,"$query_all",function(n){var r=this,e=p;return e=Array.from(document.querySelectorAll(n)),re(r.$Native(e).$to_a(),"map",[],function t(i){var a=t.$$s==null?this:t.$$s;return i==null&&(i=p),a.$Native(i)},{$$s:r})}),y(w,"$query_element",function(n){var r=this,e=p;return e=this.element.querySelector(n),D(e===null)?p:r.$Native(e)}),y(w,"$query_all_element",function(n){var r=this,e=p;return e=Array.from(this.element.querySelectorAll(n)),re(r.$Native(e).$to_a(),"map",[],function t(i){var a=t.$$s==null?this:t.$$s;return i==null&&(i=p),a.$Native(i)},{$$s:r})}),y(w,"$doc_root",function(){return document.documentElement}),y(w,"$set_root_attr",function(n,r){return document.documentElement.setAttribute(n,r)}),y(w,"$get_root_attr",function(n){return document.documentElement.getAttribute(n)}),y(w,"$clone_template",function(n){var r=this,e=p;return e=""+r.$camelize(n,!1)+"Target",this[e].content.cloneNode(!0)}),y(w,"$template_first_child",function(n){return n.firstElementChild}),y(w,"$element_add_class",function(n){return this.element.classList.add(n)}),y(w,"$element_remove_class",function(n){return this.element.classList.remove(n)}),y(w,"$element_toggle_class",function(n){return this.element.classList.toggle(n)}),y(w,"$generate_id",function(){var n=this;return n.$js_timestamp()}),y(w,"$target_focus",function(n){var r=this,e=p;return D(r["$has_target?"](n))?(e=""+r.$camelize(n,!1)+"Target",this[e].focus()):p}),y(w,"$target_blur",function(n){var r=this,e=p;return D(r["$has_target?"](n))?(e=""+r.$camelize(n,!1)+"Target",this[e].blur()):p}),y(w,"$parse_int",function(n,r){return r==null&&(r=10),parseInt(n,r)},-2),y(w,"$parse_float",function(n){return parseFloat(n)}),y(w,"$is_nan?",function(n){return Number.isNaN(n)}),y(w,"$parse_int_or",function(n,r){var e=this,t=p;return r==null&&(r=0),t=e.$parse_int(n),D(e["$is_nan?"](t))?r:t},-2),y(w,"$parse_float_or",function(n,r){var e=this,t=p;return r==null&&(r=0),t=e.$parse_float(n),D(e["$is_nan?"](t))?r:t},-2),y(w,"$js_prop",function(n){return this[n.$to_s()]}),y(w,"$js_set_prop",function(n,r){return this[n.$to_s()]=r}),y(w,"$js_has_prop?",function(n){return!!this[n.$to_s()]}),y(w,"$js_call",function(n,r){var e,t,i=p;return e=J(arguments,1),t=e,D(t["$empty?"]())?this[n.$to_s()]():(i=re(t,"map",[],function(o){return o==null&&(o=p),D(o["$respond_to?"]("to_n"))?o.$to_n():o}),this[n.$to_s()].apply(this,i))},-2),y(w,"$js_call_on",function(n,r,e){var t,i,a=p;return t=J(arguments,2),i=t,D(i["$empty?"]())?n[r.$to_s()]():(a=re(i,"map",[],function(g){return g==null&&(g=p),D(g["$respond_to?"]("to_n"))?g.$to_n():g}),n[r.$to_s()].apply(n,a))},-3),y(w,"$js_get",function(n,r){return n[r.$to_s()]}),y(w,"$js_set",function(n,r,e){return n[r.$to_s()]=e}),y(w,"$json_parse",function(n){return JSON.parse(n)}),y(w,"$json_stringify",function(n){var r=p;return r=D(n["$respond_to?"]("to_n"))?n.$to_n():n,JSON.stringify(r)}),y(w,"$console_log",function(n){var r,e;return r=J(arguments),e=r,console.log.apply(console,e)},-1),y(w,"$console_warn",function(n){var r,e;return r=J(arguments),e=r,console.warn.apply(console,e)},-1),y(w,"$console_error",function(n){var r,e;return r=J(arguments),e=r,console.error.apply(console,e)},-1),y(w,"$js_string_char_at",function(n,r){return n.charAt(r)}),y(w,"$js_substring",function(n,r,e){return e==null&&(e=p),D(e)?n.substring(r,e):n.substring(r)},-3),y(w,"$js_split",function(n,r){return n.split(r)}),y(w,"$js_trim",function(n){return n.trim()}),y(w,"$js_includes?",function(n,r){return n.includes(r)}),y(w,"$js_equals?",function(n,r){return n===r}),y(w,"$js_loose_equals?",function(n,r){return n==r}),y(w,"$js_random",function(){return Math.random()}),y(w,"$js_min",function(n,r){return Math.min(n,r)}),y(w,"$js_max",function(n,r){return Math.max(n,r)}),y(w,"$js_abs",function(n){return Math.abs(n)}),y(w,"$js_round",function(n){return Math.round(n)}),y(w,"$js_ceil",function(n){return Math.ceil(n)}),y(w,"$js_to_fixed",function(n,r){return n.toFixed(r)}),y(w,"$random_int",function(n){return Math.floor(Math.random()*n)}),y(w,"$js_floor",function(n){return Math.floor(n)}),y(w,"$js_global_exists?",function(n){return typeof window[n]<"u"}),y(w,"$js_global",function(n){return window[n]}),y(w,"$js_new",function(n,r){var e,t,i=p;return e=J(arguments,1),t=e,D(t["$empty?"]())?new n:(i=re(t,"map",[],function(o){return o==null&&(o=p),o!=null&&typeof o.$to_n=="function"?o.$to_n():o}),Reflect.construct(n,i))},-2),y(w,"$js_define_method",function s(n){var r=s.$$p||p;return s.$$p=null,this[n.$to_s()]=r}),y(w,"$js_define_method_on",function s(n,r){var e=s.$$p||p;return s.$$p=null,n[r.$to_s()]=e}),y(w,"$js_length",function(n){return n.length}),y(w,"$js_map",function s(n){var r=s.$$p||p;return s.$$p=null,n.map(r)}),y(w,"$js_filter",function s(n){var r=s.$$p||p;return s.$$p=null,n.filter(r)}),y(w,"$js_reduce",function s(n,r){var e=s.$$p||p;return s.$$p=null,n.reduce(e,r)}),y(w,"$js_each",function s(n){var r=s.$$p||p;return s.$$p=null,n.forEach(r)}),y(w,"$js_slice",function(n,r,e){return e==null&&(e=p),D(e)?n.slice(r,e):n.slice(r)},-3),y(w,"$js_object",function(){return{}}),y(w,"$js_keys",function(n){return Object.keys(n)}),y(w,"$js_values",function(n){return Object.values(n)}),y(w,"$js_entries",function(n){return Object.entries(n)}),y(w,"$js_unique_count",function(n){return new Set(n).size}),y(w,"$js_fetch",function(n){return fetch(n)}),y(w,"$fetch_json",function s(n){var r=s.$$p||p;s.$$p=null,fetch(n).then(e=>e.json()).then(e=>r.$call(e)).catch(e=>console.error("Fetch error:",e))}),y(w,"$fetch_json_promise",function(n){return fetch(n).then(r=>r.json())}),y(w,"$fetch_json_safe",function(n){return fetch(n).then(function(r){if(!r.ok)throw new Error("Network response was not ok: "+r.status);return r.json()})}),y(w,"$fetch_all_json",function(n){var r=this,e=p;return e=re(n,"map",[],function t(i){var a=t.$$s==null?this:t.$$s;return i==null&&(i=p),a.$fetch_json_promise(i)},{$$s:r}),Promise.all(e)}),y(w,"$fetch_json_with_handlers",function(n,r){var e,t,i=this,a=p;return r=R(r),e=Q(r,"on_success"),t=v(r,"on_error"),t==null&&(t=p),a=i.$fetch_json_safe(n),a=re(i,"js_then",[a],function(g){return g==null&&(g=p),e.$call(g)}),D(t)?re(i,"js_catch",[a],function(g){return g==null&&(g=p),t.$call(g)}):re(i,"js_catch",[a],function o(g){var I=o.$$s==null?this:o.$$s;return g==null&&(g=p),I.$console_error("Fetch error:",g)},{$$s:i})}),y(w,"$promise_all",function(n){return Promise.all(n)}),y(w,"$promise_race",function(n){return Promise.race(n)}),y(w,"$promise_resolve",function(n){var r=p;return r=D(n["$respond_to?"]("to_n"))?n.$to_n():n,Promise.resolve(r)}),y(w,"$promise_reject",function(n){return Promise.reject(n)}),y(w,"$js_then",function s(n){var r=s.$$p||p;return s.$$p=null,n.then(r)}),y(w,"$js_catch",function s(n){var r=s.$$p||p;return s.$$p=null,n.catch(r)}),y(w,"$js_finally",function s(n){var r=s.$$p||p;return s.$$p=null,n.finally(r)}),y(w,"$stimulus_value",function(n){var r=this,e=p;return e=""+r.$camelize(n,!1)+"Value",this[e]}),y(w,"$set_stimulus_value",function(n,r){var e=this,t=p,i=p;return t=""+e.$camelize(n,!1)+"Value",i=D(r["$respond_to?"]("to_n"))?r.$to_n():r,this[t]=i}),y(w,"$has_stimulus_value?",function(n){var r=this,e=p;return e="has"+r.$camelize(n)+"Value",this[e]}),y(w,"$increment_stimulus_value",function(n,r){var e=this;return r==null&&(r=1),e.$set_stimulus_value(n,K(e.$stimulus_value(n),r))},-2),y(w,"$decrement_stimulus_value",function(n,r){var e=this;return r==null&&(r=1),e.$set_stimulus_value(n,$e(e.$stimulus_value(n),r))},-2),y(w,"$toggle_stimulus_value",function(n){var r=this;return r.$set_stimulus_value(n,r.$stimulus_value(n)["$!"]())}),y(w,"$get_class",function(n){var r=this,e=p;return e=""+r.$camelize(n,!1)+"Class",this[e]}),y(w,"$get_classes",function(n){var r=this,e=p;return e=""+r.$camelize(n,!1)+"Classes",Array.from(this[e]||[])}),y(w,"$has_class_definition?",function(n){var r=this,e=p;return e="has"+r.$camelize(n)+"Class",this[e]}),y(w,"$apply_class",function(n,r){var e=this,t=p,i=p;return t=e.$to_native_element(n),i=e.$get_class(r),D(i)?t.classList.add(i):p}),y(w,"$apply_classes",function(n,r){var e=this,t=p,i=p;return t=e.$to_native_element(n),i=e.$get_classes(r),D(i)?t.classList.add(...i):p}),y(w,"$remove_applied_class",function(n,r){var e=this,t=p,i=p;return t=e.$to_native_element(n),i=e.$get_class(r),D(i)?t.classList.remove(i):p}),y(w,"$remove_applied_classes",function(n,r){var e=this,t=p,i=p;return t=e.$to_native_element(n),i=e.$get_classes(r),D(i)?t.classList.remove(...i):p}),y(w,"$has_outlet?",function(n){var r=this,e=p;return e="has"+r.$camelize(n)+"Outlet",this[e]}),y(w,"$get_outlet",function(n){var r=this,e=p;return e=""+r.$camelize(n,!1)+"Outlet",this[e]}),y(w,"$get_outlets",function(n){var r=this,e=p;return e=""+r.$camelize(n,!1)+"Outlets",Array.from(this[e]||[])}),y(w,"$get_outlet_element",function(n){var r=this,e=p;return e=""+r.$camelize(n,!1)+"OutletElement",this[e]}),y(w,"$get_outlet_elements",function(n){var r=this,e=p;return e=""+r.$camelize(n,!1)+"OutletElements",Array.from(this[e]||[])}),y(w,"$call_outlet",function(n,r,e){var t,i,a=this,o=p;return t=J(arguments,2),i=t,D(a["$has_outlet?"](n))?(o=a.$get_outlet(n),re(a,"js_call_on",[o,r].concat(Z(i)))):p},-3),y(w,"$call_all_outlets",function(n,r,e){var t,i,a=this;return t=J(arguments,2),i=t,re(a.$get_outlets(n),"each",[],function o(g){var I=o.$$s==null?this:o.$$s;return g==null&&(g=p),re(I,"js_call_on",[g,r].concat(Z(i)))},{$$s:a})},-3),y(w,"$stimulus_dispatch",function(n,r){var e,t,i,a,o,g=p,I=p;return r=R(r),e=v(r,"detail"),e==null&&(e=new Map),t=v(r,"target"),t==null&&(t=p),i=v(r,"prefix"),i==null&&(i=p),a=v(r,"bubbles"),a==null&&(a=!0),o=v(r,"cancelable"),o==null&&(o=!0),g=D(e["$respond_to?"]("to_n"))?e.$to_n():e,I={detail:g,bubbles:a,cancelable:o},D(t["$nil?"]())||(I.target=t),D(i["$nil?"]())||(I.prefix=i),this.dispatch(n,I)},-2),y(w,"$stimulus_dispatch_confirm",function(n,r){var e,t=this,i=p;return r=R(r),e=v(r,"detail"),e==null&&(e=new Map),i=t.$stimulus_dispatch(n,new Map([["detail",e],["cancelable",!0]])),!i.defaultPrevented},-2),y(w,"$action_params",function(){return event.params||{}}),y(w,"$action_param",function(n){return(event.params||{})[n.$to_s()]}),y(w,"$action_param_int",function(n,r){var e=this,t=p,i=p;return r==null&&(r=0),t=e.$action_param(n),i=e.$parse_int(t),D(e["$is_nan?"](i))?r:i},-2),y(w,"$action_param_bool",function(n){var r=this,e=p;return e=r.$action_param(n),!!e&&e!=="false"&&e!=="0"}),y(w,"$has_action_param?",function(n){return(event.params||{}).hasOwnProperty(n.$to_s())}),y(w,"$this_application",function(){return this.application}),y(w,"$this_identifier",function(){return this.identifier}),y(w,"$this_element",function(){return this.element}),y(w,"$get_controller",function(n,r){var e=this,t=p;return t=e.$to_native_element(n),this.application.getControllerForElementAndIdentifier(t,r)}),y(w,"$get_controllers",function(n,r){var e=this,t=p;t=e.$to_native_element(n),Array.from(t.querySelectorAll('[data-controller~="'+r+'"]')).map(i=>this.application.getControllerForElementAndIdentifier(i,r)).filter(i=>i!==null)}),y(w,"$this_scope",function(){return this.scope.element}),y(w,"$in_scope?",function(n){var r=this,e=p;return e=r.$to_native_element(n),this.element.contains(e)}),y(w,"$debounce",function s(n){var r=s.$$p||p;s.$$p=null;var e;return function(...t){clearTimeout(e),e=setTimeout(()=>r.$call(),n)}}),y(w,"$throttle",function s(n){var r=s.$$p||p;s.$$p=null;var e=0;return function(...t){var i=Date.now();i-e>=n&&(e=i,r.$call())}}),y(w,"$debounced",function s(n,r){var e=s.$$p||p,t,i=this,a=p,o=p;return i._debounce_timers==null&&(i._debounce_timers=p),s.$$p=null,r==null&&(r="default"),i._debounce_timers=D(a=i._debounce_timers)?a:new Map,o="_debounce_"+r,clearTimeout(i._debounce_timers["$[]"](o)),t=[o,setTimeout(function(){e.$call()},n)],re(i._debounce_timers,"[]=",t),t[t.length-1]},-2),y(w,"$throttled",function s(n,r){var e=s.$$p||p,t=this,i=p,a=p,o=p,g=p;return t._throttle_times==null&&(t._throttle_times=p),s.$$p=null,r==null&&(r="default"),t._throttle_times=D(i=t._throttle_times)?i:new Map,a="_throttle_"+r,o=Date.now(),g=D(i=t._throttle_times["$[]"](a))?i:0,D(o-g>=n)?(t._throttle_times["$[]="](a,o),e.$call()):p},-2),y(w,"$copy_to_clipboard",function s(n){var r=s.$$p||p;s.$$p=null,navigator.clipboard.writeText(n).then(function(){D(r)&&r.$call()})}),y(w,"$read_from_clipboard",function s(){var n=s.$$p||p;s.$$p=null,navigator.clipboard.readText().then(function(r){n.$call(r)})}),y(w,"$deep_clone",function(n){return JSON.parse(JSON.stringify(n.$to_n()))}),y(w,"$deep_merge",function(n,r){function e(t,i){var a=Object.assign({},t);for(var o in i)i.hasOwnProperty(o)&&(i[o]&&typeof i[o]=="object"&&!Array.isArray(i[o])?a[o]=e(a[o]||{},i[o]):a[o]=i[o]);return a}return e(n.$to_n(),r.$to_n())}),y(w,"$pick",function(n,r){var e,t,i=p;return e=J(arguments,1),t=e,i=new Map,re(t.$flatten(),"each",[],function(o){var g,I=p,C=p;return o==null&&(o=p),I=o.$to_s(),C=n.$to_n(),D(C.hasOwnProperty(I))?(g=[I,C[I]],re(i,"[]=",g),g[g.length-1]):p}),i},-2),y(w,"$omit",function(n,r){var e,t,i,a=p,o=p,g=p;return e=J(arguments,1),t=e,a=re(t.$flatten(),"map",[],"to_s".$to_proc()),o=new Map,g=n.$to_n(),Object.keys(g).forEach(function(I){a.includes(I)||(i=[I,g[I]],re(o,"[]=",i),i[i.length-1])}),o},-2),y(w,"$unique",function(n){return[...new Set(n.$to_n())]}),y(w,"$intersection",function(n,r){var e=p;return e=new Set(r.$to_n()),n.$to_n().filter(t=>e.has(t))}),y(w,"$difference",function(n,r){var e=p;return e=new Set(r.$to_n()),n.$to_n().filter(t=>!e.has(t))}),y(w,"$union",function(n,r){return[...new Set([...n.$to_n(),...r.$to_n()])]}),y(w,"$valid_email?",function(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}),y(w,"$valid_url?",function(n){try{return new URL(n),!0}catch{return!1}}),y(w,"$valid_phone?",function(n){var r=p;r=n.replace(/[\s\-\(\)\.]/g,"");var e=/^[\+]?[0-9]{10,15}$/;return e.test(r)}),y(w,"$blank?",function(n){return D(n["$nil?"]())?!0:D(typeof n=="string")?n.trim()==="":D(Array.isArray(n))?n.length===0:!1}),y(w,"$present?",function(n){var r=this;return r["$blank?"](n)["$!"]()}),y(w,"$min_length?",function(n,r){return D(n["$nil?"]())?!1:n.length>=r}),y(w,"$max_length?",function(n,r){return D(n["$nil?"]())?!1:n.length<=r}),y(w,"$matches_pattern?",function(n,r){return D(n["$nil?"]())?!1:new RegExp(r).test(n)}),y(w,"$console_styled",function(n,r){return r==null&&(r="color: blue; font-weight: bold;"),console.log("%c"+n,r)},-2),y(w,"$console_group",function s(n,r){var e=s.$$p||p,t;return s.$$p=null,r=R(r),t=v(r,"collapsed"),t==null&&(t=!1),D(t)?console.groupCollapsed(n):console.group(n),e.$call(),console.groupEnd()},-2),y(w,"$console_table",function(n){return console.table(n.$to_n())}),y(w,"$console_time",function(n){var r=p;return r=new Date().toISOString(),console.log("["+r+"] "+n)}),w.$private(),y(w,"$camelize",function(n,r){var e=p,t=p;return r==null&&(r=!0),e=n.$to_s(),D(e["$include?"]("_"))?(t=e.$split("_"),D(r)?re(t,"map",[],"capitalize".$to_proc()).$join():K([t.$first()],re(t["$[]"](U(1,-1,!1)),"map",[],"capitalize".$to_proc())).$join()):D(r)?K(e["$[]"](0).$upcase(),e["$[]"](U(1,-1,!1)).$to_s()):K(e["$[]"](0).$downcase(),e["$[]"](U(1,-1,!1)).$to_s())},-2)}(h[0],h)}(E[0],E)}(b[0],b)}(X[0],X),ee(X[0],"StimulusHelpers",P(P(P(x("OpalVite"),"Concerns"),"V1"),"StimulusHelpers"))};Opal.modules["controllers/turbo_navigation_controller"]=function($){var q=$.klass,y=$.def,D=[],z=$.$r(D),re=$.nil;return $.add_stubs("include,puts,event_data"),function(J,R,Q){var v=q(J,R,"TurboNavigationController"),K=[v].concat(Q),$e=$.$r(K);return v.$include($e("StimulusHelpers")),y(v,"$connect",function(){var U=this;return U.$puts("TurboNavigation controller connected!")}),y(v,"$visit_page",function(){var U=this,ee=re;return ee=U.$event_data("page"),U.$puts("Navigating to: "+ee),window.Turbo.visit(ee)}),y(v,"$visit_with_replace",function(){var U=this,ee=re;return ee=U.$event_data("page"),U.$puts("Navigating to "+ee+" with replace action"),window.Turbo.visit(ee,{action:"replace"})}),y(v,"$go_back",function(){var U=this;return U.$puts("Going back in history"),window.history.back()}),y(v,"$reload_page",function(){var U=this;return U.$puts("Reloading current page"),window.location.reload()})}(D[0],z("StimulusController"),D)};Opal.modules["controllers/turbo_frame_controller"]=function($){var q=$.klass,y=$.def,D=$.truthy,z=[],re=$.$r(z),J=$.nil;return $.add_stubs("include,targets=,puts,event_data,query,set_html,remove_attr,set_attr"),function(R,Q,v){var K=q(R,Q,"TurboFrameController"),$e=[K].concat(v),Z=$.$r($e);return K.$include(Z("StimulusHelpers")),K["$targets="](["frame","content"]),y(K,"$connect",function(){var ee=this;return ee.$puts("TurboFrame controller connected!")}),y(K,"$load_content",function(){var ee=this,X=J,x=J,p=J;return X=ee.$event_data("frame-id"),x=ee.$event_data("url"),ee.$puts("Loading content into frame: "+X+" from "+x),p=ee.$query("#"+X),D(p)?p.src=x:J}),y(K,"$update_frame_content",function(){var ee=this,X=J,x=J,p=J,P=J;return X=ee.$event_data("frame-id"),x=new Date().toLocaleTimeString(),ee.$puts("Updating frame "+X+" with new content"),p=`<div class="demo-box">
  <h4>Updated!</h4>
  <p>Frame content was updated from Ruby at `+x+`</p>
</div>
`,P=ee.$query("#"+X),D(P)?ee.$set_html(P,p):J}),y(K,"$toggle_loading",function(){var ee=this,X=J;return ee.$puts("Toggling frame loading state"),X=ee.$query("#dynamic-frame"),D(X)?D(X.hasAttribute("busy"))?(ee.$remove_attr(X,"busy"),ee.$set_html(X,'<div class="demo-box"><h4>Frame Content</h4><p>Content loaded!</p></div>')):(ee.$set_attr(X,"busy",""),ee.$set_html(X,'<div class="demo-box"><h4>Loading...</h4><p>Please wait...</p></div>')):J})}(z[0],re("StimulusController"),z)};Opal.modules["controllers/turbo_stream_controller"]=function($){var q=$.klass,y=$.send2,D=$.find_super,z=$.def,re=$.rb_plus,J=$.truthy,R=$.rb_gt,Q=$.rb_minus,v=[],K=$.$r(v),$e=$.nil;return $.add_stubs("include,targets=,values=,puts,update_counter,counter_value=,+,counter_value,turbo_stream_action,query,get_attr,>,-,private,set_text,to_s"),function(Z,U,ee){var X=q(Z,U,"TurboStreamController"),x=[X].concat(ee),p=$.$r(x);return X.$include(p("StimulusHelpers")),X["$targets="](["container","count"]),X["$values="](new Map([["counter","number"]])),z(X,"$initialize",function P(){var G=P.$$p||$e,T=this;return P.$$p=null,y(T,D(T,"initialize",P,!1,!0),"initialize",[],G),T.counter_value=0}),z(X,"$connect",function(){var G=this;return G.$puts("TurboStream controller connected!"),G.$update_counter()}),z(X,"$append_item",function(){var G=this,T=$e;return G["$counter_value="](re(G.$counter_value(),1)),T="<div class='stream-item' id='item_"+G.$counter_value()+"'>Item "+G.$counter_value()+" (appended)</div>",G.$puts("Appending item "+G.$counter_value()),G.$turbo_stream_action("append","stream-container",T),G.$update_counter()}),z(X,"$prepend_item",function(){var G=this,T=$e;return G["$counter_value="](re(G.$counter_value(),1)),T="<div class='stream-item' id='item_"+G.$counter_value()+"'>Item "+G.$counter_value()+" (prepended)</div>",G.$puts("Prepending item "+G.$counter_value()),G.$turbo_stream_action("prepend","stream-container",T),G.$update_counter()}),z(X,"$update_status",function(){var G=this,T=$e,B=$e;return T=new Date().toLocaleTimeString(),G.$puts("Updating status with timestamp: "+T),B="<p>Last updated: "+T+"</p>",G.$turbo_stream_action("update","status-box",B)}),z(X,"$replace_content",function(){var G=this,T=$e,B=$e;return T=new Date().toLocaleTimeString(),G.$puts("Replacing content box"),B="<div id='content-box' class='demo-box'><h4>Replaced at "+T+"</h4><p>This entire box was replaced</p></div>",G.$turbo_stream_action("replace","content-box",B)}),z(X,"$remove_last_item",function(){var G=this,T=$e,B=$e,b=$e,A=$e,F=$e;return G.$puts("Removing last item"),T=G.$query("#stream-container"),B=T.querySelectorAll(".stream-item"),b=B.length,J(b>0)?(A=B[b-1],F=G.$get_attr(A,"id"),G.$turbo_stream_action("remove",F,""),G.$puts("Removed item: "+F)):G.$puts("No items to remove"),J(R(G.$counter_value(),0))&&G["$counter_value="](Q(G.$counter_value(),1)),G.$update_counter()}),z(X,"$insert_before",function(){var G=this,T=$e;return G.$puts("Inserting element before target"),T="<div class='stream-item inserted'>Inserted BEFORE</div>",G.$turbo_stream_action("before","insert-marker",T)}),z(X,"$insert_after",function(){var G=this,T=$e;return G.$puts("Inserting element after target"),T="<div class='stream-item inserted'>Inserted AFTER</div>",G.$turbo_stream_action("after","insert-marker",T)}),z(X,"$clear_all",function(){var G=this;return G.$puts("Clearing all items"),G.$turbo_stream_action("update","stream-container",""),G["$counter_value="](0),G.$update_counter()}),X.$private(),z(X,"$turbo_stream_action",function(G,T,B){const b=document.createElement("turbo-stream");b.setAttribute("action",G),b.setAttribute("target",T);const A=document.createElement("template");A.innerHTML=B,b.appendChild(A),document.body.appendChild(b)}),z(X,"$update_counter",function(){var G=this,T=$e;return T=G.$query("#item-count"),J(T)?G.$set_text(T,G.$counter_value().$to_s()):$e})}(v[0],K("StimulusController"),v)};Opal.queue(function($){var q=$.top,y=[],D=$.$r(y);return $.nil,$.add_stubs("require,puts,register_all!"),q.$require("native"),q.$require("opal_stimulus/stimulus_controller"),q.$require("opal_vite/concerns/v1/stimulus_helpers"),q.$require("controllers/turbo_navigation_controller"),q.$require("controllers/turbo_frame_controller"),q.$require("controllers/turbo_stream_controller"),q.$puts("Turbo + Opal + Vite Example"),q.$puts("Ruby version: "+D("RUBY_VERSION")),D("StimulusController")["$register_all!"](),q.$puts("All controllers registered!")});
