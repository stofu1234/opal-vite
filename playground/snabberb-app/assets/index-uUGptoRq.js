var Se=(e,y)=>()=>(y||e((y={exports:{}}).exports,y),y.exports);var Ne=Se((Me,ke)=>{(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))X(w);new MutationObserver(w=>{for(const O of w)if(O.type==="childList")for(const V of O.addedNodes)V.tagName==="LINK"&&V.rel==="modulepreload"&&X(V)}).observe(document,{childList:!0,subtree:!0});function F(w){const O={};return w.integrity&&(O.integrity=w.integrity),w.referrerPolicy&&(O.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?O.credentials="include":w.crossOrigin==="anonymous"?O.credentials="omit":O.credentials="same-origin",O}function X(w){if(w.ep)return;w.ep=!0;const O=F(w);fetch(w.href,O)}})();(function(e){var y;if(typeof globalThis<"u"?e=globalThis:typeof global<"u"?e=global:typeof window<"u"&&(e=window),e.console==null&&(e.console={}),typeof e.console=="object"?y=e.console:y={},"log"in y||(y.log=function(){}),"warn"in y||(y.warn=y.log),typeof e.Opal<"u")return y.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),e.Opal;var F,X,w,O,V,x,Y,h=e.Opal={};h.global=e,h.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var T=Function.prototype.call,re=Function.prototype.bind,U=Object.hasOwn||T.bind(Object.prototype.hasOwnProperty),B=Object.setPrototypeOf,ee=T.bind(Array.prototype.slice),W=T.bind(Array.prototype.splice),b=4,k=b;function z(){return k+=2,k}h.uid=z,h.id=function(c){return c.$$is_number?c*2+1:(c.$$id==null&&p(c,"$$id",z()),c.$$id)};var M=h.gvars={};h.exit=function(c){M.DEBUG&&y.log("Exited with status "+c)},h.exceptions=[],h.pop_exception=function(c){var m=h.exceptions.pop();m===c||(m?M["!"]=m:M["!"]=F)};function q(c,m){if(c||(c=h.Exception||Error),Y&&Y.$raise)arguments.length>2?Y.$raise(c.$new.apply(c,ee(arguments,1))):Y.$raise(c,m);else throw c.$new?c.$new(m):new c(m)}var P={value:void 0,enumerable:!1,configurable:!0,writable:!0};function p(c,m,K){typeof c=="string"?c[m]=K:(P.value=K,Object.defineProperty(c,m,P))}h.prop=p,h.defineProperty=h.prop,h.slice=ee;var I=h.truthy=function(c){return c!==!1&&F!==c&&c!==void 0&&c!==null&&(!(c instanceof Boolean)||c.valueOf()===!0)};h.falsy=function(c){return!I(c)},h.type_error=function(c,m,K,ne){c=c.$$class,ne&&K?(ne=ne.$$class,q(h.TypeError,"can't convert "+c+" into "+m+" ("+c+"#"+K+" gives "+ne+")")):q(h.TypeError,"no implicit conversion of "+c+" into "+m)},h.coerce_to=function(c,m,K,ne){var ue;return K==="to_int"&&m===h.Integer&&c.$$is_number?c<0?Math.ceil(c):Math.floor(c):K==="to_str"&&m===h.String&&c.$$is_string||h.is_a(c,m)?c:c["$respond_to?"].$$pristine&&c.$method_missing.$$pristine?(ue=c[de(K)],(ue==null||ue.$$stub)&&h.type_error(c,m),ue.apply(c,ne)):(c["$respond_to?"](K)||h.type_error(c,m),ne==null&&(ne=[]),h.send(c,K,ne))},h.respond_to=function(c,m,K){if(c==null||!c.$$class)return!1;K=!!K;var ne=c[m];if(c["$respond_to?"].$$pristine){if(typeof ne=="function"&&!ne.$$stub)return!0;if(!c["$respond_to_missing?"].$$pristine)return h.send(c,c["$respond_to_missing?"],[m.substr(1),K])}else return h.send(c,c["$respond_to?"],[m.substr(1),K])},h.trace_class=!1,h.tracers_for_class=[];function H(c){var m,K,ne;for(m=0,K=h.tracers_for_class.length;m<K;m++)ne=h.tracers_for_class[m],ne.trace_object=c,ne.block.$call(ne)}function L(c,m){if(c.$$autoload[m].loaded){if(c.$$autoload[m].loaded&&!c.$$autoload[m].required&&c.$$autoload[m].exception)throw c.$$autoload[m].exception}else{c.$$autoload[m].loaded=!0;try{h.Kernel.$require(c.$$autoload[m].path)}catch(K){throw c.$$autoload[m].exception=K,K}if(c.$$autoload[m].required=!0,c.$$const[m]!=null)return c.$$autoload[m].success=!0,c.$$const[m]}}function E(c,m){if(c){if(c.$$const[m]!=null)return c.$$const[m];if(c.$$autoload&&c.$$autoload[m])return L(c,m)}}function a(c,m){var K,ne,ue;if(c.length!==0)for(K=0,ne=c.length;K<ne;K++){if(ue=c[K].$$const[m],ue!=null)return ue;if(c[K].$$autoload&&c[K].$$autoload[m])return L(c[K],m)}}function d(c,m){var K,ne,ue;if(c!=null)for(ue=J(c),K=0,ne=ue.length;K<ne;K++){if(ue[K].$$const&&U(ue[K].$$const,m))return ue[K].$$const[m];if(ue[K].$$autoload&&ue[K].$$autoload[m])return L(ue[K],m)}}function A(c,m){if(c==null||c.$$is_module)return d(w,m)}function g(c,m){return(c||w).$const_missing(m)}h.const_get_local=function(c,m,K){var ne;if(c!=null)return c==="::"&&(c=w),!c.$$is_module&&!c.$$is_class&&q(h.TypeError,c.toString()+" is not a class/module"),ne=E(c,m),ne!=null||K?ne:g(c,m)},h.const_get_qualified=function(c,m,K){var ne,ue,ce,he=h.const_cache_version;if(m==null)return ne=E(w,c),ne??h.const_get_qualified(w,c,K);if(c!=null)return c==="::"&&(c=w),!c.$$is_module&&!c.$$is_class&&q(h.TypeError,c.toString()+" is not a class/module"),(ue=c.$$const_cache)==null&&(p(c,"$$const_cache",Object.create(null)),ue=c.$$const_cache),ce=ue[m],ce==null||ce[0]!==he?((ne=E(c,m))!=null||(ne=d(c,m))!=null,ue[m]=[he,ne]):ne=ce[1],ne!=null||K?ne:g(c,m)},h.const_cache_version=1,h.const_get_relative=function(c,m,K){var ne=c[0],ue,ce=h.const_cache_version,he,pe;return(he=c.$$const_cache)==null&&(p(c,"$$const_cache",Object.create(null)),he=c.$$const_cache),pe=he[m],pe==null||pe[0]!==ce?((ue=E(ne,m))!=null||(ue=a(c,m))!=null||(ue=d(ne,m))!=null||(ue=A(ne,m))!=null,he[m]=[ce,ue]):ue=pe[1],ue!=null||K?ue:g(ne,m)};function _(c,m,K){var ne=!0;return(c==null||c==="::")&&(c=w),K.$$is_a_module&&((K.$$name==null||K.$$name===F)&&(K.$$name=m),K.$$base_module==null&&(K.$$base_module=c)),c.$$const=c.$$const||Object.create(null),(m in c.$$const||"$$autoload"in c&&m in c.$$autoload)&&(ne=!1),c.$$const[m]=K,c.$$=c.$$const,h.const_cache_version++,c===w&&(h[m]=K),p(c,m,K),ne&&c.$const_added&&!c.$const_added.$$pristine&&c.$const_added(m),K}h.const_set=_,h.constants=function(c,m){m==null&&(m=!0);var K,ne=[c],ue,ce,he={},pe;for(m&&(ne=ne.concat(J(c))),m&&c.$$is_module&&(ne=ne.concat([h.Object]).concat(J(h.Object))),ue=0,ce=ne.length;ue<ce&&(K=ne[ue],!(c!==w&&K==w));ue++){for(pe in K.$$const)he[pe]=!0;if(K.$$autoload)for(pe in K.$$autoload)he[pe]=!0}return Object.keys(he)},h.const_remove=function(c,m){if(h.const_cache_version++,c.$$const[m]!=null){var K=c.$$const[m];return delete c.$$const[m],K}if(c.$$autoload&&c.$$autoload[m])return delete c.$$autoload[m],F;q(h.NameError,"constant "+c+"::"+c.$name()+" not defined")},h.const_get_relative_factory=function(c){return function(m,K){return h.$$(c,m,K)}},h.$$=h.const_get_relative,h.$$$=h.const_get_qualified,h.$r=h.const_get_relative_factory;function f(c){return c==null?!1:c.$$bridge?c:c.$$super?f(c.$$super):!1}function G(c,m,K){var ne,ue;if((ue=f(m))?ne=function(){var ye=new(re.apply(ue.$$constructor,ge(null,arguments)));return B(ye,ne.$$prototype),ye}:ne=function(){},c&&c!==F&&p(ne,"displayName","::"+c),p(ne,"$$name",c),p(ne,"$$constructor",ne),p(ne,"$$prototype",ne.prototype),p(ne,"$$const",{}),p(ne,"$$is_class",!0),p(ne,"$$is_a_module",!0),p(ne,"$$super",m),p(ne,"$$cvars",{}),p(ne,"$$own_included_modules",[]),p(ne,"$$own_prepended_modules",[]),p(ne,"$$ancestors",[]),p(ne,"$$ancestors_cache_version",null),p(ne,"$$subclasses",[]),p(ne,"$$cloned_from",[]),p(ne.$$prototype,"$$class",ne),h.Class&&B(ne,h.Class.prototype),m!=null){if(B(ne.$$prototype,m.$$prototype),K!==!0)if(typeof WeakRef<"u"){var ce,he,pe=[];for(ce=0;ce<m.$$subclasses.length;ce++)he=m.$$subclasses[ce],he.deref()!==void 0&&pe.push(he);pe.push(new WeakRef(ne)),m.$$subclasses=pe}else m.$$subclasses.push(ne);m.$$meta&&h.build_class_singleton_class(ne)}return ne}h.allocate_class=G;function C(c,m){var K=E(c,m);if(K)return K.$$is_class||q(h.TypeError,m+" is not a class"),K}function l(c,m){c.$$super!==m&&q(h.TypeError,"superclass mismatch for class "+c.$$name)}h.klass=function(c,m,K){var ne;c==null||c=="::"?c=w:!c.$$is_class&&!c.$$is_module&&(c=c.$$class),m!=null&&(!m.hasOwnProperty||m.hasOwnProperty&&!m.hasOwnProperty("$$is_class"))&&(m.constructor&&m.constructor.name=="Function"?(ne=m,m=w):q(h.TypeError,"superclass must be a Class ("+(m.constructor&&(m.constructor.name||m.constructor.$$name)||typeof m)+" given)"));var ue=C(c,K);return ue!=null?m&&l(ue,m):(m==null&&(m=w),ue=G(K,m),_(c,K,ue),m.$inherited&&m.$inherited(ue),ne&&h.bridge(ne,ue)),h.trace_class&&H(ue),ue};function o(c){var m=function(){},K=m;return c&&p(m,"displayName",c+".constructor"),p(K,"$$name",c),p(K,"$$prototype",m.prototype),p(K,"$$const",{}),p(K,"$$is_module",!0),p(K,"$$is_a_module",!0),p(K,"$$cvars",{}),p(K,"$$iclasses",[]),p(K,"$$own_included_modules",[]),p(K,"$$own_prepended_modules",[]),p(K,"$$ancestors",[K]),p(K,"$$ancestors_cache_version",null),p(K,"$$cloned_from",[]),B(K,h.Module.prototype),K}h.allocate_module=o;function s(c,m){var K=E(c,m);return K==null&&c===w&&(K=d(w,m)),K&&!K.$$is_module&&K!==w&&q(h.TypeError,m+" is not a module"),K}h.module=function(c,m){var K;return c==null||c=="::"?c=w:!c.$$is_class&&!c.$$is_module&&(c=c.$$class),K=s(c,m),K==null&&(K=o(m),_(c,m,K)),h.trace_class&&H(K),K},h.get_singleton_class=function(c){return c.$$is_number&&q(h.TypeError,"can't define singleton"),c.$$meta?c.$$meta:c.hasOwnProperty("$$is_class")?h.build_class_singleton_class(c):c.hasOwnProperty("$$is_module")?h.build_module_singleton_class(c):h.build_object_singleton_class(c)};function n(c,m){c.hasOwnProperty("$$meta")?c.$$meta=m:p(c,"$$meta",m),c.$$frozen?c.$$meta.$freeze():B(c,m.$$prototype)}h.build_class_singleton_class=function(c){if(c.$$meta)return c.$$meta;var m=c===X?V:h.get_singleton_class(c.$$super),K=G(null,m,!0);return p(K,"$$is_singleton",!0),p(K,"$$singleton_of",c),n(c,K),p(c,"$$class",h.Class),K},h.build_module_singleton_class=function(c){if(c.$$meta)return c.$$meta;var m=G(null,h.Module,!0);return p(m,"$$is_singleton",!0),p(m,"$$singleton_of",c),n(c,m),p(c,"$$class",h.Module),m},h.build_object_singleton_class=function(c){var m=c.$$class,K=G(F,m,!0);return p(K,"$$is_singleton",!0),p(K,"$$singleton_of",c),delete K.$$prototype.$$class,n(c,K),K},h.is_method=function(c){return c[0]==="$"&&c[1]!=="$"},h.instance_methods=function(c){for(var m=Object.create(null),K=[],ne=J(c),ue=0,ce=ne.length;ue<ce;ue++){var he=ne[ue],pe=he.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ze=ye.length;we<ze;we++){var Ee=ye[we];if(!m[Ee]){if(h.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);K.push(qe)}}m[Ee]=!0}}}return K},h.own_instance_methods=function(c){var m=[],K=c.$$prototype;K.hasOwnProperty("$$dummy")&&(K=K.$$define_methods_on);for(var ne=Object.getOwnPropertyNames(K),ue=0,ce=ne.length;ue<ce;ue++){var he=ne[ue];if(h.is_method(he)){var pe=K[he];if(!pe.$$stub){var ye=he.slice(1);m.push(ye)}}}return m},h.methods=function(c){return h.instance_methods(c.$$meta||c.$$class)},h.own_methods=function(c){return c.$$meta?h.own_instance_methods(c.$$meta):[]},h.receiver_methods=function(c){var m=h.get_singleton_class(c),K=h.own_instance_methods(m),ne=h.own_instance_methods(m.$$super);return K.concat(ne)},h.class_variables=function(c){var m=J(c),K,ne=m.length,ue={};for(K=ne-1;K>=0;K--){var ce=m[K];for(var he in ce.$$cvars)ue[he]=ce.$$cvars[he]}return ue},h.class_variable_set=function(c,m,K){var ne=J(c),ue,ce=ne.length;for(ue=ce-2;ue>=0;ue--){var he=ne[ue];if(U(he.$$cvars,m))return he.$$cvars[m]=K,K}return c.$$cvars[m]=K,K},h.class_variable_get=function(c,m,K){if(U(c.$$cvars,m))return c.$$cvars[m];var ne=J(c),ue,ce=ne.length;for(ue=0;ue<ce;ue++){var he=ne[ue];if(U(he.$$cvars,m))return he.$$cvars[m]}return K||q(h.NameError,"uninitialized class variable "+m+" in "+c.$name()),F};function t(c){return c.hasOwnProperty("$$iclass")&&c.hasOwnProperty("$$root")}function r(c){for(var m=[],K,ne=Object.getPrototypeOf(c.$$prototype);ne&&!ne.hasOwnProperty("$$class");)K=D(ne),K&&m.push(K),ne=Object.getPrototypeOf(ne);return m}function i(c){var m=[],K,ne=Object.getPrototypeOf(c.$$prototype);if(c.$$prototype.hasOwnProperty("$$dummy"))for(;ne&&ne!==c.$$prototype.$$define_methods_on;)K=D(ne),K&&m.push(K),ne=Object.getPrototypeOf(ne);return m}h.append_features=function(c,m){var K=J(c),ne=[];K.indexOf(m)!==-1&&q(h.ArgumentError,"cyclic include detected");for(var ue=0,ce=K.length;ue<ce;ue++){var he=K[ue],pe=u(he);p(pe,"$$included",!0),ne.push(pe)}var ye=J(m),we=N(ne),ze,Ee;if(ye.indexOf(c)===-1)ze=m.$$prototype,Ee=Object.getPrototypeOf(m.$$prototype);else{for(var xe=m.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===c&&t(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var Ae=Object.getPrototypeOf(qe);Ae.hasOwnProperty("$$iclass")&&!t(Ae);)Ae=Object.getPrototypeOf(Ae);ze=xe,Ee=Ae}else ze=m.$$prototype,Ee=Object.getPrototypeOf(m.$$prototype)}B(ze,we.first),B(we.last,Ee),m.$$own_included_modules=r(m),h.const_cache_version++},h.prepend_features=function(c,m){var K=J(c),ne=[];K.indexOf(m)!==-1&&q(h.ArgumentError,"cyclic prepend detected");for(var ue=0,ce=K.length;ue<ce;ue++){var he=K[ue],pe=u(he);p(pe,"$$prepended",!0),ne.push(pe)}var ye=N(ne),we=m.$$prototype,ze=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=v(m),$(m),p(we,"$$dummy",!0),p(we,"$$define_methods_on",Ee),B(we,Ee),B(Ee,ze));var Ae=J(m);if(Ae.indexOf(c)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else q(h.RuntimeError,"Prepending a module multiple times is not supported");B(xe,ye.first),B(ye.last,qe),m.$$own_prepended_modules=i(m),h.const_cache_version++};function $(c){for(var m=c.$$prototype,K=Object.getOwnPropertyNames(m),ne=0;ne<K.length;ne++){var ue=K[ne];h.is_method(ue)&&delete m[ue]}}function u(c){var m=v(c);return c.$$is_module&&c.$$iclasses.push(m),m}function v(c){var m={},K=c.$$prototype;K.hasOwnProperty("$$dummy")&&(K=K.$$define_methods_on);var ne=Object.getOwnPropertyNames(K),ue=ne.length,ce;for(ce=0;ce<ue;ce++){var he=ne[ce];p(m,he,K[he])}return p(m,"$$iclass",!0),p(m,"$$module",c),m}function N(c){var m=c.length,K=c[0];if(p(K,"$$root",!0),m===1)return{first:K,last:K};for(var ne=K,ue=1;ue<m;ue++){var ce=c[ue];B(ne,ce),ne=ce}return{first:c[0],last:c[m-1]}}h.bridge=function(c,m){c.hasOwnProperty("$$bridge")&&q(h.ArgumentError,"already bridged"),p(c,"$$bridge",m),B(c.prototype,(m.$$super||h.Object).$$prototype),p(m,"$$prototype",c.prototype),p(m.$$prototype,"$$class",m),p(m,"$$constructor",c),p(m,"$$bridge",!0)};function D(c){if(!c.hasOwnProperty("$$dummy")){if(c.hasOwnProperty("$$iclass"))return c.$$module;if(c.hasOwnProperty("$$class"))return c.$$class}}function R(c){return c.$$own_prepended_modules.concat([c]).concat(c.$$own_included_modules)}function J(c){if(!c)return[];if(c.$$ancestors_cache_version===h.const_cache_version)return c.$$ancestors;var m=[],K,ne,ue;for(K=0,ne=R(c),ue=ne.length;K<ue;K++)m.push(ne[K]);if(c.$$super)for(K=0,ne=J(c.$$super),ue=ne.length;K<ue;K++)m.push(ne[K]);return c.$$ancestors_cache_version=h.const_cache_version,c.$$ancestors=m,m}h.ancestors=J,h.included_modules=function(c){for(var m=[],K=null,ne=Object.getPrototypeOf(c.$$prototype);ne&&Object.getPrototypeOf(ne);ne=Object.getPrototypeOf(ne))K=D(ne),K&&K.$$is_module&&ne.$$iclass&&ne.$$included&&m.push(K);return m},h.add_stubs=function(c){var m=h.BasicObject.$$prototype,K,ne;c=c.split(",");for(var ue=0,ce=c.length;ue<ce;ue++)K=de(c[ue]),ne=m[K],(ne==null||ne.$$stub)&&h.add_stub_for(m,K)},h.add_stub_for=function(c,m){p(c,m,h.stub_for(m))},h.stub_for=function(c){function m(){return this.$method_missing.$$p=m.$$p,m.$$p=null,this.$method_missing.apply(this,ge(c.slice(1),arguments))}return m.$$stub=!0,m},h.ac=function(c,m,K,ne){var ue="";K.$$is_a_module?ue+=K.$$name+".":ue+=K.$$class.$$name+"#",ue+=ne,q(h.ArgumentError,"["+ue+"] wrong number of arguments (given "+c+", expected "+m+")")},h.block_ac=function(c,m,K){var ne="`block in "+K+"'";q(h.ArgumentError,ne+": wrong number of arguments (given "+c+", expected "+m+")")};function te(c){return c.hasOwnProperty("$$meta")&&c.$$meta!==null?J(c.$$meta):J(c.$$class)}h.find_super=function(c,m,K,ne,ue){var ce=de(m),he,pe,ye,we,ze=-1,Ee;for(he=te(c),we=K.$$owner,Ee=0;Ee<he.length;Ee++)if(pe=he[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ze=Ee;break}for(Ee=ze+1;Ee<he.length;Ee++){pe=he[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(ce)){ye=xe[ce];break}}return!ne&&ye&&ye.$$stub&&c.$method_missing.$$pristine&&q(h.NoMethodError,"super: no superclass method `"+m+"' for "+c,m),ye.$$stub&&!ue?null:ye},h.find_block_super=function(c,m,K,ne,ue){var ce=m;return K||q(h.RuntimeError,"super called outside of method"),ue&&K.$$define_meth&&q(h.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),K.$$def&&(ce=K.$$jsid),h.find_super(c,ce,K,ne)},h.find_super_dispatcher=h.find_super,h.find_iter_super_dispatcher=h.find_block_super;function ae(c,m,K){try{c(m)}catch(ne){if(ne===K)return K.$v;throw ne}}h.yield1=function(c,m){typeof c!="function"&&q(h.LocalJumpError,"no block given");var K=c.$$has_top_level_mlhs_arg,ne=c.$$has_trailing_comma_in_args,ue=c.$$is_lambda&&c.$$ret;return(c.length>1||(K||ne)&&c.length===1)&&(m=h.to_ary(m)),(c.length>1||ne&&c.length===1)&&m.$$is_array?ue?ae(c.apply.bind(c,null),m,c.$$ret):c.apply(null,m):ue?ae(c,m,c.$$ret):c(m)},h.yieldX=function(c,m){return typeof c!="function"&&q(h.LocalJumpError,"no block given"),c.length>1&&m.length===1&&m[0].$$is_array&&(m=m[0]),c.$$is_lambda&&c.$$ret?ae(c.apply.bind(c,null),m,c.$$ret):c.apply(null,m)},h.rescue=function(c,m){for(var K=0;K<m.length;K++){var ne=m[K];if(ne.$$is_array){var ue=h.rescue(c,ne);if(ue)return ue}else if(ne===h.JS.Error||ne["$==="](c))return ne}return null},h.is_a=function(c,m){if(m!=null&&c.$$meta===m||c.$$class===m)return!0;if(c.$$is_number&&m.$$is_number_class)return m.$$is_integer_class?c%1===0:!0;var K=J(c.$$is_class?h.get_singleton_class(c):c.$$meta||c.$$class);return K.indexOf(m)!==-1},h.to_hash=function(c){if(c.$$is_hash)return c;if(c["$respond_to?"]("to_hash",!0)){var m=c.$to_hash();if(m.$$is_hash)return m;q(h.TypeError,"Can't convert "+c.$$class+" to Hash ("+c.$$class+"#to_hash gives "+m.$$class+")")}else q(h.TypeError,"no implicit conversion of "+c.$$class+" into Hash")},h.to_ary=function(c){if(c.$$is_array)return c;if(c["$respond_to?"]("to_ary",!0)){var m=c.$to_ary();if(m===F)return[c];if(m.$$is_array)return m;q(h.TypeError,"Can't convert "+c.$$class+" to Array ("+c.$$class+"#to_ary gives "+m.$$class+")")}else return[c]},h.to_a=function(c){if(c.$$is_array)return c.slice();if(c["$respond_to?"]("to_a",!0)){var m=c.$to_a();if(m===F)return[c];if(m.$$is_array)return m;q(h.TypeError,"Can't convert "+c.$$class+" to Array ("+c.$$class+"#to_a gives "+m.$$class+")")}else return[c]},h.extract_kwargs=function(c){var m=c[c.length-1];if(m!=null&&h.respond_to(m,"$to_hash",!0))return W(c,c.length-1),m},h.kwrestargs=function(c,m){var K=new Map;return h.hash_each(c,!1,function(ne,ue){return m[ne]||h.hash_put(K,ne,ue),[!1,!1]}),K};function le(c,m){typeof m=="number"?c.$$arity=m:typeof m=="object"&&Object.assign(c,m)}var _e=new Map;function de(c){var m=_e.get(c);return m||(m="$"+c,_e.set(c,m)),m}h.jsid=de;function ge(c,m){return m.$$is_array||(m=ee(m)),[c].concat(m)}h.send=function(c,m,K,ne,ue){var ce;return typeof m=="function"?(ce=m,m=null):typeof m=="string"?ce=c[de(m)]:q(h.NameError,"Passed method should be a string or a function"),h.send2(c,ce,m,K,ne,ue)},h.send2=function(c,m,K,ne,ue,ce){return m==null&&K!=null&&c.$method_missing&&(m=c.$method_missing,ne=ge(K,ne)),le(ue,ce),typeof ue=="function"&&(m.$$p=ue),m.apply(c,ne)},h.refined_send=function(c,m,K,ne,ue,ce){var he,pe,ye,we,ze,Ee,xe,qe,Ae,Ie;for(we=te(m),he=0;he<we.length;he++)for(ze=h.id(we[he]),pe=0;pe<c.length;pe++)for(Ee=c[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ze]>"u")&&(Ae=qe[ze],typeof Ae.$$prototype[de(K)]<"u")))return Ie=Ae.$$prototype[de(K)],h.send2(m,Ie,K,ne,ue,ce);return h.send(m,K,ne,ue,ce)},h.lambda=function(c,m){return c.$$is_lambda=!0,le(c,m),c},h.def=function(c,m,K,ne){return le(K,ne),c===h.top?h.defn(h.Object,m,K):!c.$$eval&&c.$$is_a_module?h.defn(c,m,K):h.defs(c,m,K)},h.defn=function(c,m,K){S(c),K.displayName=m,K.$$owner=c;var ne=m.substr(1),ue=c.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),p(ue,m,K),c.$$is_module){c.$$module_function&&h.defs(c,m,K);for(var ce=0,he=c.$$iclasses,pe=he.length;ce<pe;ce++){var ye=he[ce];p(ye,m,K)}}var we=c.$$singleton_of;return c.$method_added&&!c.$method_added.$$stub&&!we?c.$method_added(ne):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(ne),ne},h.defs=function(c,m,K,ne){return le(K,ne),(c.$$is_string||c.$$is_number)&&q(h.TypeError,"can't define singleton"),h.defn(h.get_singleton_class(c),m,K)};function ve(c,m){if(c.$$is_module)for(var K=0,ne=c.$$iclasses,ue=ne.length;K<ue;K++){var ce=ne[K];delete ce[m]}}h.rdef=function(c,m){U(c.$$prototype,m)||q(h.NameError,"method '"+m.substr(1)+"' not defined in "+c.$name()),delete c.$$prototype[m],ve(c,m),c.$$is_singleton?c.$$prototype.$singleton_method_removed&&!c.$$prototype.$singleton_method_removed.$$stub&&c.$$prototype.$singleton_method_removed(m.substr(1)):c.$method_removed&&!c.$method_removed.$$stub&&c.$method_removed(m.substr(1))},h.udef=function(c,m){(!c.$$prototype[m]||c.$$prototype[m].$$stub)&&q(h.NameError,"method '"+m.substr(1)+"' not defined in "+c.$name()),h.add_stub_for(c.$$prototype,m),ve(c,m),c.$$is_singleton?c.$$prototype.$singleton_method_undefined&&!c.$$prototype.$singleton_method_undefined.$$stub&&c.$$prototype.$singleton_method_undefined(m.substr(1)):c.$method_undefined&&!c.$method_undefined.$$stub&&c.$method_undefined(m.substr(1))};function me(c){return typeof c=="function"&&!c.$$stub}h.alias=function(c,m,K){var ne=de(m),ue=de(K),ce,he;if(typeof c.$$prototype>"u"&&(c=h.Object),ce=c.$$prototype[ue],c.$$eval)return h.alias(h.get_singleton_class(c),m,K);if(!me(ce)){for(var pe=c.$$super;typeof ce!="function"&&pe;)ce=pe[ue],pe=pe.$$super;!me(ce)&&c.$$is_module&&(ce=h.Object.$$prototype[ue]),me(ce)||q(h.NameError,"undefined method `"+K+"' for class `"+c.$name()+"'")}return ce.$$alias_of&&(ce=ce.$$alias_of),he=h.wrap_method_body(ce),he.displayName=m,he.$$alias_of=ce,he.$$alias_name=m,h.defn(c,ne,he),c},h.wrap_method_body=function(c){var m=function(){var K=m.$$p;return m.$$p=null,h.send(this,c,arguments,K)};try{Object.defineProperty(m,"length",{value:c.length})}catch{}return m.$$arity=c.$$arity==null?c.length:c.$$arity,m.$$parameters=c.$$parameters,m.$$source_location=c.$$source_location,m},h.alias_gvar=function(c,m){return Object.defineProperty(M,c,{configurable:!0,enumerable:!0,get:function(){return M[m]},set:function(K){M[m]=K}}),F},h.alias_native=function(c,m,K){var ne=de(m),ue=c.$$prototype[K];return(typeof ue!="function"||ue.$$stub)&&q(h.NameError,"undefined native method `"+K+"' for class `"+c.$name()+"'"),h.defn(c,ne,ue),c},h.hash_init=function(c){y.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},h.hash_clone=function(c,m){return m.$$none=c.$$none,m.$$proc=c.$$proc,h.hash_each(c,m,function(K,ne){return h.hash_put(m,K,ne),[!1,m]})},h.hash_put=function(c,m,K){var ne=typeof m;if(ne==="string"||ne==="symbol"||ne==="number"||ne==="boolean"||ne==="bigint")c.set(m,K);else if(m.$$is_string)c.set(m.valueOf(),K);else{c.$$keys||(c.$$keys=new Map);var ue=m.$$is_string?m.valueOf():c.$$by_identity?h.id(m):m.$hash(),ce=c.$$keys;if(!ce.has(ue)){ce.set(ue,[m]),c.set(m,K);return}for(var he=ce.get(ue),pe,ye=0;ye<he.length;ye++)if(pe=he[ye],m===pe||m["$eql?"](pe)){c.set(pe,K);return}he.push(m),c.set(m,K)}},h.hash_get=function(c,m){var K=typeof m;if(K==="string"||K==="symbol"||K==="number"||K==="boolean"||K==="bigint")return c.get(m);if(c.$$keys){var ne=m.$$is_string?m.valueOf():c.$$by_identity?h.id(m):m.$hash(),ue=c.$$keys.get(ne),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],m===ce||m["$eql?"](ce))return c.get(ce)}else if(m.$$is_string)return c.get(ne)}else if(m.$$is_string)return c.get(m.valueOf())};function be(c,m){var K=c.get(m);if(K!==void 0)return c.delete(m),K}h.hash_delete=function(c,m){var K=typeof m;if(K==="string"||K==="symbol"||K==="number"||K==="boolean"||K==="bigint")return be(c,m);if(c.$$keys){var ne=m.$$is_string?m.valueOf():c.$$by_identity?h.id(m):m.$hash(),ue=c.$$keys.get(ne),ce;if(ue!==void 0){for(var he=0;he<ue.length;he++)if(ce=ue[he],m===ce||m["$eql?"](ce))return ue.splice(he,1),ue.length===0&&c.$$keys.delete(ne),be(c,ce)}else if(m.$$is_string)return be(c,ne)}else if(m.$$is_string)return be(c,m.valueOf())},h.hash_rehash=function(c){var m=c.$$keys;return m&&m.clear(),h.hash_each(c,!1,function(K,ne){var ue=typeof K;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var ce=K.$$is_string?K.valueOf():c.$$by_identity?h.id(K):K.$hash();if(m||(c.$$keys=m=new Map),!m.has(ce))return m.set(ce,[K]),[!1,!1];for(var he=m.get(ce),pe=he.length===1?he:ee(he),ye,we=0;we<pe.length;we++)ye=pe[we],(K===ye||K["$eql?"](ye))&&(he.splice(he.indexOf(ye),1),c.delete(ye));return he.push(K),[!1,!1]}),c},h.hash=function(){var c=arguments.length,m,K,ne,ue,ce,he;if(c===1&&arguments[0].$$is_hash)return arguments[0];if(K=new Map,c===1)if(m=arguments[0],arguments[0].$$is_array){for(ue=m.length,ne=0;ne<ue;ne++)m[ne].length!==2&&q(h.ArgumentError,"value not of length 2: "+m[ne].$inspect()),ce=m[ne][0],he=m[ne][1],h.hash_put(K,ce,he);return K}else{m=arguments[0];for(ce in m)U(m,ce)&&(he=m[ce],h.hash_put(K,ce,he));return K}for(c%2!==0&&q(h.ArgumentError,"odd number of arguments for Hash"),ne=0;ne<c;ne+=2)ce=arguments[ne],he=arguments[ne+1],h.hash_put(K,ce,he);return K},h.hash2=function(c,m){y.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var K=new Map,ne=0,ue=c.length;ne<ue;ne++)K.set(c[ne],m[c[ne]]);return K},h.hash_each=function(c,m,K){for(var ne,ue=0,ce,he=Array.from(c.entries()),pe=he.length;ue<pe;ue++)if(ce=he[ue],ne=K(ce[0],ce[1]),ne[0])return ne[1];return ne?ne[1]:m},h.range=function(c,m,K){var ne=new h.Range;return ne.begin=c,ne.end=m,ne.excl=K,ne};var $e=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];h.ivar=function(c){return $e.indexOf(c)!==-1&&(c+="$"),c};function S(c){c.$$frozen&&q(h.FrozenError,"can't modify frozen "+c.$class()+": "+c,new Map([["receiver",c]]))}h.deny_frozen_access=S,h.freeze=function(c){return p(c,"$$frozen",!0),c.hasOwnProperty("$$id")||p(c,"$$id",z()),c.hasOwnProperty("$$meta")?c.$$meta.$freeze():p(c,"$$meta",null),c.hasOwnProperty("$$comparable")||p(c,"$$comparable",null),Object.seal(c),c};function j(c,m){var K=Object.getOwnPropertyNames(c),ne=K.length,ue,ce,he;for(ue=0;ue<ne;ue++)ce=K[ue],ce[0]!=="$"&&(he=Object.getOwnPropertyDescriptor(c,ce),he&&he.enumerable&&m(ce,he))}h.each_ivar=j,h.freeze_props=function(c){var m={get:null,set:function(K){S(c)},enumerable:!0};j(c,function(K,ne){ne.writable&&(m.get=se(ne.value),Object.defineProperty(c,K,m))})},h.escape_regexp=function(c){return c.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},h.global_regexp=function(c){return c.global?c:(c.$$g==null?c.$$g=new RegExp(c.source,(c.multiline?"gm":"g")+(c.ignoreCase?"i":"")):c.$$g.lastIndex=null,c.$$g)},h.global_multiline_regexp=function(c){var m,K;return c.global&&c.multiline?c:(K="gm"+(c.ignoreCase?"i":""),c.multiline?(c.$$g==null&&(c.$$g=new RegExp(c.source,K)),m=c.$$g):(c.$$gm==null&&(c.$$gm=new RegExp(c.source,K)),m=c.$$gm),m.lastIndex=null,m)},h.regexp=function(c,m){for(var K,ne=typeof m<"u"&&m&&m.indexOf("i")>=0,ue=0,ce=c.length;ue<ce;ue++)K=c[ue],K instanceof RegExp&&(K.ignoreCase!==ne&&h.Kernel.$warn("ignore case doesn't match for "+K.source.$inspect(),new Map([["uplevel",1]])),K=K.source),K===""&&(K="(?:"+K+")"),c[ue]=K;return m?new RegExp(c.join(""),m):new RegExp(c.join(""))},h.modules={},h.loaded_features=["corelib/runtime"],h.current_dir=".",h.require_table={"corelib/runtime":!0},h.normalize=function(c){var m,K,ne=[],ue="/";h.current_dir!=="."&&(c=h.current_dir.replace(/\/*$/,"/")+c),c=c.replace(/^\.\//,""),c=c.replace(/\.(rb|opal|js)$/,""),m=c.split(ue);for(var ce=0,he=m.length;ce<he;ce++)K=m[ce],K!==""&&(K===".."?ne.pop():ne.push(K));return ne.join(ue)},h.loaded=function(c){var m,K,ne;for(m=0,K=c.length;m<K;m++)ne=h.normalize(c[m]),!h.require_table[ne]&&(h.loaded_features.push(ne),h.require_table[ne]=!0)},h.load_normalized=function(c){h.loaded([c]);var m=h.modules[c];if(m){var K=m(h);if(typeof Promise<"u"&&K instanceof Promise)return K.then(se(!0))}else{var ne=h.config.missing_require_severity,ue="cannot load such file -- "+c;ne==="error"?q(h.LoadError,ue):ne==="warning"&&y.warn("WARNING: LoadError: "+ue)}return!0},h.load=function(c){return c=h.normalize(c),h.load_normalized(c)},h.require=function(c){return c=h.normalize(c),h.require_table[c]?!1:h.load_normalized(c)},h.encodings=Object.create(null),h.set_encoding=function(c,m,K){typeof K>"u"&&(K="encoding"),(typeof c=="string"||c.$$frozen===!0)&&q(h.FrozenError,"can't modify frozen String");var ne=h.find_encoding(m);return ne===c[K]||(c[K]=ne),c},h.find_encoding=function(c){var m=h.encodings,K=m[c]||m[c.toUpperCase()];return K||q(h.ArgumentError,"unknown encoding name - "+c),K},h.enc=function(c,m){var K=new String(c);return K=h.set_encoding(K,m),K.internal_encoding=K.encoding,K},h.binary=function(c){var m=new String(c);return h.set_encoding(m,"binary","internal_encoding")},h.last_promise=null,h.promise_unhandled_exception=!1,h.queue=function(c){if(h.last_promise)return h.last_promise=h.last_promise.then(function(){if(!h.promise_unhandled_exception)return c(h)}).catch(function(K){h.respond_to(K,"$full_message")&&(K=K.$full_message()),y.error(K),h.promise_unhandled_exception=!0,h.exit(1)}),h.last_promise;var m=c(h);return typeof Promise=="function"&&typeof m=="object"&&m instanceof Promise&&(h.last_promise=m),m};function Z(c,m){return typeof c=="number"&&typeof m=="number"}h.rb_plus=function(c,m){return Z(c,m)?c+m:c["$+"](m)},h.rb_minus=function(c,m){return Z(c,m)?c-m:c["$-"](m)},h.rb_times=function(c,m){return Z(c,m)?c*m:c["$*"](m)},h.rb_divide=function(c,m){return Z(c,m)?c/m:c["$/"](m)},h.rb_lt=function(c,m){return Z(c,m)?c<m:c["$<"](m)},h.rb_gt=function(c,m){return Z(c,m)?c>m:c["$>"](m)},h.rb_le=function(c,m){return Z(c,m)?c<=m:c["$<="](m)},h.rb_ge=function(c,m){return Z(c,m)?c>=m:c["$>="](m)};function Q(c,m){return typeof c=="number"&&typeof m=="number"||typeof c=="string"&&typeof m=="string"}function ie(c,m){return Q(c,m)?c===m:I(c["$=="](m))}h.eqeq=ie,h.eqeqeq=function(c,m){return Q(c,m)?c===m:I(c["$==="](m))},h.neqeq=function(c,m){return Q(c,m)?c!==m:I(c["$!="](m))},h.not=function(c){return c==null||c===!1||F===c?!0:c===!0||c["$!"].$$pristine?!1:I(c["$!"]())};function se(c){return function(){return c}}h.return_val=se,h.return_self=function(){return this},h.return_ivar=function(c){return function(){return this[c]==null?F:this[c]}},h.assign_ivar=function(c){return function(m){return S(this),this[c]=m}},h.assign_ivar_val=function(c,m){return function(){return S(this),this[c]=m}},h.ensure_kwargs=function(c){if(c==null)return new Map;if(c.$$is_hash)return c;q(h.ArgumentError,"expected kwargs")},h.get_kwarg=function(c,m){var K=h.hash_get(c,m);return K===void 0&&q(h.ArgumentError,"missing keyword: "+m),K},h.large_array_unpack=function(c){var m=c.split(","),K=m.length,ne;for(ne=0;ne<K;ne++)switch(m[ne][0]){case void 0:m[ne]=F;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":m[ne]=+m[ne]}return m},h.opal32_init=se(1332765036);function oe(c,m){return c<<m|c>>>32-m}h.opal32_add=function(c,m){return c^=m,c=oe(c,1),c},h.BasicObject=X=G("BasicObject",null),h.Object=w=G("Object",h.BasicObject),h.Module=O=G("Module",h.Object),h.Class=V=G("Class",h.Module),h.Opal=x=o("Opal"),h.Kernel=Y=o("Kernel"),B(h.BasicObject,h.Class.$$prototype),B(h.Object,h.Class.$$prototype),B(h.Module,h.Class.$$prototype),B(h.Class,h.Class.$$prototype),X.$$const.BasicObject=X,_(w,"BasicObject",X),_(w,"Object",w),_(w,"Module",O),_(w,"Class",V),_(w,"Opal",x),_(w,"Kernel",Y),X.$$class=V,w.$$class=V,O.$$class=V,V.$$class=V,x.$$class=O,Y.$$class=O,p(w.$$prototype,"toString",function(){var c=this.$to_s();return c.$$is_string&&typeof c=="object"?c.valueOf():c}),p(w.$$prototype,"$require",h.require),h.top=new w,h.top.$to_s=h.top.$inspect=se("main"),h.top.$define_method=fe;function fe(){var c=fe.$$p;return fe.$$p=null,h.send(w,"define_method",arguments,c)}h.NilClass=G("NilClass",h.Object),_(w,"NilClass",h.NilClass),F=h.nil=new h.NilClass,F.$$id=b,F.call=F.apply=function(){q(h.LocalJumpError,"no block given")},F.$$frozen=!0,F.$$comparable=!1,Object.seal(F),h.thrower=function(c){var m={$thrower_type:c,$throw:function(K,ne){throw K==null&&(K=F),this.is_orphan&&!ne&&q(h.LocalJumpError,"unexpected "+c,K,c.$to_sym()),this.$v=K,this},is_orphan:!1};return m},Object.defineProperty(M,"@",{enumerable:!0,configurable:!0,get:function(){return I(M["!"])?M["!"].$backtrace():F},set:function(c){I(M["!"])?M["!"].$set_backtrace(c):q(h.ArgumentError,"$! not set")}}),h.t_eval_return=h.thrower("return"),TypeError.$$super=Error,h.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(e){var y=e.type_error,F=e.coerce_to,X=e.module,w=e.defs,O=e.slice,V=e.eqeqeq,x=e.Kernel,Y=e.truthy,h=e.Opal,T=e.nil,re=e.$$$;return e.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(U){var B=X(U,"Opal");w(B,"$bridge",function(b,k){return e.bridge(b,k)}),w(B,"$coerce_to!",function(b,k,z,M){var q,P,p=T;return q=O(arguments,3),P=q,p=F(b,k,z,P),V(k,p)||x.$raise(y(b,k,z,p)),p},-4),w(B,"$coerce_to?",function(b,k,z,M){var q,P,p=T;return q=O(arguments,3),P=q,!Y(b["$respond_to?"](z))||(p=F(b,k,z,P),Y(p["$nil?"]()))?T:(V(k,p)||x.$raise(y(b,k,z,p)),p)},-4),w(B,"$try_convert",function(b,k,z){return V(k,b)?b:Y(b["$respond_to?"](z))?b.$__send__(z):T}),w(B,"$compare",function(b,k){var z=T;return z=b["$<=>"](k),Y(z===T)&&x.$raise(re("ArgumentError"),"comparison of "+b.$class()+" with "+k.$class()+" failed"),z}),w(B,"$destructure",function(b){if(b.length==1)return b[0];if(b.$$is_array)return b;for(var k=new Array(b.length),z=0,M=k.length;z<M;z++)k[z]=b[z];return k}),w(B,"$respond_to?",function(b,k,z){return z==null&&(z=!1),b==null||!b.$$class?!1:b["$respond_to?"](k,z)},-3),w(B,"$instance_variable_name!",function(b){return b=h["$coerce_to!"](b,re("String"),"to_str"),Y(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(b))||x.$raise(re("NameError").$new("'"+b+"' is not allowed as an instance variable name",b)),b}),w(B,"$class_variable_name!",function(b){return b=h["$coerce_to!"](b,re("String"),"to_str"),Y(b.length<3||b.slice(0,2)!=="@@")&&x.$raise(re("NameError").$new("`"+b+"' is not allowed as a class variable name",b)),b}),w(B,"$const_name?",function(b){return typeof b!="string"&&(b=h["$coerce_to!"](b,re("String"),"to_str")),b[0]===b[0].toUpperCase()}),w(B,"$const_name!",function(b){var k=this;return Y(re("::","String","skip_raise")?"constant":T)&&(b=h["$coerce_to!"](b,re("String"),"to_str")),(!b||b[0]!=b[0].toUpperCase())&&k.$raise(re("NameError"),"wrong constant name "+b),b}),w(B,"$pristine",function(b,k){var z,M;z=O(arguments,1),M=z;for(var q,P,p=M.length-1;p>=0;p--)q=M[p],P=b.$$prototype[e.jsid(q)],P&&!P.$$stub&&(P.$$pristine=!0);return T},-2);var ee=[];return w(B,"$inspect",function(b){var k=T,z=!1;return function(){try{try{return b===null?"null":b===void 0?"undefined":typeof b.$$class>"u"?Object.prototype.toString.apply(b):typeof b.$inspect!="function"||b.$inspect.$$stub||ee.indexOf(b.$__id__())!==-1?"#<"+b.$$class+":0x"+b.$__id__().$to_s(16)+">":(ee.push(b.$__id__()),z=!0,b.$inspect())}catch(M){if(e.rescue(M,[re("Exception")])){k=M;try{return"#<"+b.$$class+":0x"+b.$__id__().$to_s(16)+">"}finally{e.pop_exception(M)}}else throw M}}finally{z&&ee.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(e){var y=e.truthy,F=e.coerce_to,X=e.const_set,w=e.Object,O=e.return_ivar,V=e.assign_ivar,x=e.ivar,Y=e.deny_frozen_access,h=e.freeze,T=e.prop,re=e.jsid,U=e.each_ivar,B=e.klass,ee=e.Opal,W=e.Kernel,b=e.defs,k=e.send,z=e.def,M=e.eqeqeq,q=e.Module,P=e.rb_lt,p=e.rb_gt,I=e.slice,H=e.to_a,L=e.return_val,E=e.eqeq,a=e.not,d=e.rb_le,A=e.range,g=e.send2,_=e.find_super,f=e.alias,G=[],C=e.nil,l=e.$$$;return e.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(o,s,n){var t=B(o,s,"Module"),r=[t].concat(n),i=e.$r(r);function $(D){if(D.$$is_string)return D;var R=ee.$try_convert(D,l("String"),"to_str");if(R.$$is_string)return R;R===C?W.$raise(l("TypeError"),""+D+" is not a symbol nor a string"):W.$raise(l("TypeError"),"can't convert "+D.$class()+" to String ("+D.$class()+"#to_str gives "+R.$class())}b(t,"$allocate",function(){var R=this,J=e.allocate_module(C,function(){});return R!==e.Module&&Object.setPrototypeOf(J,R.$$prototype),J}),z(t,"$initialize",function D(){var R=D.$$p||C,J=this;return D.$$p=null,R!==C?k(J,"module_eval",[],R.$to_proc()):C}),z(t,"$===",function(R){var J=this;return y(R==null)?!1:e.is_a(R,J)}),z(t,"$<",function(R){var J=this;M(q,R)||W.$raise(l("TypeError"),"compared with non class/module");var te=J,ae,le,_e;if(te===R)return!1;for(le=0,ae=e.ancestors(J),_e=ae.length;le<_e;le++)if(ae[le]===R)return!0;for(le=0,ae=e.ancestors(R),_e=ae.length;le<_e;le++)if(ae[le]===J)return!1;return C}),z(t,"$<=",function(R){var J=this,te=C;return y(te=J["$equal?"](R))?te:P(J,R)}),z(t,"$>",function(R){var J=this;return M(q,R)||W.$raise(l("TypeError"),"compared with non class/module"),P(R,J)}),z(t,"$>=",function(R){var J=this,te=C;return y(te=J["$equal?"](R))?te:p(J,R)}),z(t,"$<=>",function(R){var J=this,te=C;return J===R?0:!M(q,R)||(te=P(J,R),y(te["$nil?"]()))?C:y(te)?-1:1}),z(t,"$alias_method",function(R,J){var te=this;return Y(te),R=F(R,l("String"),"to_str"),J=F(J,l("String"),"to_str"),e.alias(te,R,J),te}),z(t,"$alias_native",function(R,J){var te=this;return J==null&&(J=R),Y(te),e.alias_native(te,R,J),te},-2),z(t,"$ancestors",function(){var R=this;return e.ancestors(R)}),z(t,"$append_features",function(R){var J=this;return Y(R),e.append_features(J,R),J}),z(t,"$attr_accessor",function(R){var J,te,ae=this;return J=I(arguments),te=J,k(ae,"attr_reader",H(te)),k(ae,"attr_writer",H(te))},-1),z(t,"$attr",function(R){var J,te,ae=this;return J=I(arguments),te=J,te.length==2&&(te[1]===!0||te[1]===!1)?(ae.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),te[1]?ae.$attr_accessor(te[0]):ae.$attr_reader(te[0]),C):k(ae,"attr_reader",H(te))},-1),z(t,"$attr_reader",function(R){var J,te,ae=this;J=I(arguments),te=J,Y(ae);for(var le=ae.$$prototype,_e=te.length-1;_e>=0;_e--){var de=te[_e],ge=re(de),ve=x(de),me=O(ve);e.prop(le,ve,C),me.$$parameters=[],me.$$arity=0,e.defn(ae,ge,me)}return C},-1),z(t,"$attr_writer",function(R){var J,te,ae=this;J=I(arguments),te=J,Y(ae);for(var le=ae.$$prototype,_e=te.length-1;_e>=0;_e--){var de=te[_e],ge=re(de+"="),ve=x(de),me=V(ve);me.$$parameters=[["req"]],me.$$arity=1,e.prop(le,ve,C),e.defn(ae,ge,me)}return C},-1),z(t,"$autoload",function(R,J){var te=this;return Y(te),i("Opal")["$const_name?"](R)||W.$raise(l("NameError"),"autoload must be constant name: "+R),J==""&&W.$raise(l("ArgumentError"),"empty file name"),te.$$const.hasOwnProperty(R)||(te.$$autoload||(te.$$autoload={}),e.const_cache_version++,te.$$autoload[R]={path:J,loaded:!1,required:!1,success:!1,exception:!1},te.$const_added&&!te.$const_added.$$pristine&&te.$const_added(R)),C}),z(t,"$autoload?",function(R){var J=this;if(J.$$autoload&&J.$$autoload[R]&&!J.$$autoload[R].required&&!J.$$autoload[R].success)return J.$$autoload[R].path;for(var te=J.$ancestors(),ae=0,le=te.length;ae<le;ae++)if(te[ae].$$autoload&&te[ae].$$autoload[R]&&!te[ae].$$autoload[R].required&&!te[ae].$$autoload[R].success)return te[ae].$$autoload[R].path;return C}),z(t,"$class_variables",function(){var R=this;return Object.keys(e.class_variables(R))}),z(t,"$class_variable_get",function(R){var J=this;return R=ee["$class_variable_name!"](R),e.class_variable_get(J,R,!1)}),z(t,"$class_variable_set",function(R,J){var te=this;return Y(te),R=ee["$class_variable_name!"](R),e.class_variable_set(te,R,J)}),z(t,"$class_variable_defined?",function(R){var J=this;return R=ee["$class_variable_name!"](R),e.class_variables(J).hasOwnProperty(R)}),z(t,"$const_added",L(C)),ee.$pristine(t,"const_added"),z(t,"$remove_class_variable",function(R){var J=this;if(Y(J),R=ee["$class_variable_name!"](R),e.hasOwnProperty.call(J.$$cvars,R)){var te=J.$$cvars[R];return delete J.$$cvars[R],te}else W.$raise(l("NameError"),"cannot remove "+R+" for "+J)}),z(t,"$constants",function(R){var J=this;return R==null&&(R=!0),e.constants(J,R)},-1),b(t,"$constants",function(R){var J=this;if(R==null){var te=(J.$$nesting||[]).concat(w),ae,le={},_e,de;for(_e=0,de=te.length;_e<de;_e++)for(ae in te[_e].$$const)le[ae]=!0;return Object.keys(le)}else return e.constants(J,R)},-1),b(t,"$nesting",function(){var R=this;return R.$$nesting||[]}),z(t,"$const_defined?",function(R,J){var te=this;J==null&&(J=!0),R=i("Opal")["$const_name!"](R),y(R["$=~"](l(ee,"CONST_NAME_REGEXP")))||W.$raise(l("NameError").$new("wrong constant name "+R,R));var ae,le=[te],_e,de;for(J&&(le=le.concat(e.ancestors(te)),te.$$is_module&&(le=le.concat([w]).concat(e.ancestors(w)))),_e=0,de=le.length;_e<de;_e++)if(ae=le[_e],ae.$$const[R]!=null||ae.$$autoload&&ae.$$autoload[R]&&!ae.$$autoload[R].required&&!ae.$$autoload[R].success)return!0;return!1},-2),z(t,"$const_get",function(R,J){var te=this;return J==null&&(J=!0),R=i("Opal")["$const_name!"](R),R.indexOf("::")===0&&R!=="::"&&(R=R.slice(2)),y(R.indexOf("::")!=-1&&R!="::")?k(R.$split("::"),"inject",[te],function(le,_e){return le==null&&(le=C),_e==null&&(_e=C),le.$const_get(_e)}):(y(R["$=~"](l(ee,"CONST_NAME_REGEXP")))||W.$raise(l("NameError").$new("wrong constant name "+R,R)),J?e.$$([te],R):e.const_get_local(te,R))},-2),z(t,"$const_missing",function(R){var J=this,te=C;return te=E(J,w)?R:""+J+"::"+R,W.$raise(l("NameError").$new("uninitialized constant "+te,R))}),z(t,"$const_set",function(R,J){var te=this;return Y(te),R=ee["$const_name!"](R),(y(R["$!~"](l(ee,"CONST_NAME_REGEXP")))||y(R["$start_with?"]("::")))&&W.$raise(l("NameError").$new("wrong constant name "+R,R)),X(te,R,J),J}),z(t,"$public_constant",L(C)),z(t,"$define_method",function D(R,J){var te=D.$$p||C,ae=this,le=C,_e=C,de=C;return D.$$p=null,Y(ae),J===void 0&&te===C&&W.$raise(l("ArgumentError"),"tried to create a Proc object without a block"),R=$(R),y(J!==void 0)&&(te=M(l("Proc"),le=J)?J:M(l("Method"),le)?J.$to_proc().$$unbound:M(l("UnboundMethod"),le)?e.wrap_method_body(J.$$method):W.$raise(l("TypeError"),"wrong argument type "+J.$class()+" (expected Proc/Method/UnboundMethod)"),y(!J.$$is_proc)&&(_e=J.$owner(),y(_e.$$is_class)&&a(d(ae,_e))&&(de=y(_e.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+_e,W.$raise(l("TypeError"),de)))),typeof Proxy<"u"&&(te.$$proxy_target=te,te=new Proxy(te,{apply:function(ge,ve,me){var be=ge.$$jsid,$e=ge.$$is_lambda;ge.$$jsid=R,ge.$$is_lambda=!0;try{return ge.apply(ve,me)}catch(S){if(S===ge.$$brk||S===ge.$$ret)return S.$v;throw S}finally{ge.$$jsid=be,ge.$$is_lambda=$e}}})),te.$$jsid=R,te.$$s=null,te.$$def=te,te.$$define_meth=!0,e.defn(ae,re(R),te)},-2),z(t,"$freeze",function(){var R=this;return y(R["$frozen?"]())?R:(R.hasOwnProperty("$$base_module")||T(R,"$$base_module",null),h(R))}),z(t,"$remove_method",function(R){var J,te,ae=this;J=I(arguments),te=J;for(var le=0;le<te.length;le++){var _e=$(te[le]);Y(ae),e.rdef(ae,"$"+_e)}return ae},-1),z(t,"$singleton_class?",function(){var R=this;return!!R.$$is_singleton}),z(t,"$include",function(R){var J,te,ae=this;J=I(arguments),te=J;for(var le=te.length-1;le>=0;le--){var _e=te[le];_e.$$is_module||W.$raise(l("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$append_features(ae),_e.$included(ae)}return ae},-1),z(t,"$included_modules",function(){var R=this;return e.included_modules(R)}),z(t,"$include?",function(R){var J=this;R.$$is_module||W.$raise(l("TypeError"),"wrong argument type "+R.$class()+" (expected Module)");var te,ae,le,_e=e.ancestors(J);for(te=0,ae=_e.length;te<ae;te++)if(le=_e[te],le===R&&le!==J)return!0;return!1}),z(t,"$instance_method",function(R){var J=this,te=J.$$prototype[re(R)];return(!te||te.$$stub)&&W.$raise(l("NameError").$new("undefined method `"+R+"' for class `"+J.$name()+"'",R)),l("UnboundMethod").$new(J,te.$$owner||J,te,R)}),z(t,"$instance_methods",function(R){var J=this;return R==null&&(R=!0),y(R)?e.instance_methods(J):e.own_instance_methods(J)},-1),z(t,"$included",L(C)),z(t,"$extended",L(C)),z(t,"$extend_object",function(R){return Y(R),C}),z(t,"$method_added",function(R){return I(arguments),C},-1),z(t,"$method_removed",function(R){return I(arguments),C},-1),z(t,"$method_undefined",function(R){return I(arguments),C},-1),z(t,"$module_eval",function D(R){var J=D.$$p||C,te,ae,le,_e=this,de=C,ge=C,ve=C,me=C,be=C,$e=C;D.$$p=null,te=I(arguments),ae=te,y(J["$nil?"]())&&y(!!e.compile)?(y(A(1,3,!1)["$cover?"](ae.$size()))||W.$raise(l("ArgumentError"),"wrong number of arguments (0 for 1..3)"),le=[].concat(H(ae)),de=le[0]==null?C:le[0],ge=le[1]==null?C:le[1],le[2]==null||le[2],ve=new Map([["file",y(me=ge)?me:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(ve),$e=ee.$compile(de,be),J=k(W,"proc",[],function Z(){var Q=Z.$$s==null?this:Z.$$s;return new Function("Opal,self","return "+$e)(e,Q)},{$$s:_e})):y(ae["$any?"]())&&W.$raise(l("ArgumentError"),"wrong number of arguments ("+ae.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var S=J.$$s,j;return J.$$s=null,j=J.apply(_e,[_e]),J.$$s=S,j},-1),z(t,"$module_exec",function D(R){var J=D.$$p||C,te,ae,le=this;D.$$p=null,te=I(arguments),ae=te,J===C&&W.$raise(l("LocalJumpError"),"no block given");var _e=J.$$s,de;return J.$$s=null,de=J.apply(le,ae),J.$$s=_e,de},-1),z(t,"$method_defined?",function(R){var J=this,te=J.$$prototype[re(R)];return!!te&&!te.$$stub}),z(t,"$module_function",function(R){var J,te,ae=this;if(J=I(arguments),te=J,Y(ae),te.length===0)return ae.$$module_function=!0,C;for(var le=0,_e=te.length;le<_e;le++){var de=te[le],ge=re(de),ve=ae.$$prototype[ge];e.defs(ae,ge,ve)}return te.length===1?te[0]:te},-1),z(t,"$name",function(){var R=this;if(R.$$full_name)return R.$$full_name;for(var J=[],te=R;te;){if(te.$$name===C||te.$$name==null)return C;if(J.unshift(te.$$name),te=te.$$base_module,te===w)break}return J.length===0?C:R.$$full_name=J.join("::")}),z(t,"$prepend",function(R){var J,te,ae=this;J=I(arguments),te=J,te.length===0&&W.$raise(l("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var le=te.length-1;le>=0;le--){var _e=te[le];_e.$$is_module||W.$raise(l("TypeError"),"wrong argument type "+_e.$class()+" (expected Module)"),_e.$prepend_features(ae),_e.$prepended(ae)}return ae},-1),z(t,"$prepend_features",function(R){var J=this;return Y(R),J.$$is_module||W.$raise(l("TypeError"),"wrong argument type "+J.$class()+" (expected Module)"),e.prepend_features(J,R),J}),z(t,"$prepended",L(C)),z(t,"$remove_const",function(R){var J=this;return Y(J),e.const_remove(J,R)}),z(t,"$to_s",function(){var R=this,J=C;return y(J=e.Module.$name.call(R))?J:"#<"+(R.$$is_module?"Module":"Class")+":0x"+R.$__id__().$to_s(16)+">"}),z(t,"$undef_method",function(R){var J,te,ae=this;J=I(arguments),te=J;for(var le=0;le<te.length;le++){var _e=$(te[le]);Y(ae),e.udef(ae,"$"+_e)}return ae},-1),z(t,"$instance_variables",function(){var R=this,J=C;J=(e.Module.$$nesting=r,R.$constants());var te=[];return U(R,function(ae){ae!=="constructor"&&!J["$include?"](ae)&&te.push("@"+ae)}),te});function u(D,R){var J,te=e.own_instance_methods(D);for(J=0;J<te.length;J++){var ae=te[J],le=re(ae),_e=D.$$prototype[le],de=e.wrap_method_body(_e);de.$$jsid=ae,e.defn(R,le,de)}}function v(D,R){for(var J=D.$$own_included_modules,te=J.length-1;te>=0;te--)e.append_features(J[te],R)}function N(D,R){for(var J=D.$$own_prepended_modules,te=J.length-1;te>=0;te--)e.prepend_features(J[te],R)}return z(t,"$initialize_copy",function(R){var J=this;return u(R,J),v(R,J),N(R,J),J.$$cloned_from=R.$$cloned_from.concat(R),J.$copy_class_variables(R),J.$copy_constants(R)}),z(t,"$initialize_dup",function D(R){var J=D.$$p||C,te=this;return D.$$p=null,g(te,_(te,"initialize_dup",D,!1,!0),"initialize_dup",[R],J),te.$copy_singleton_methods(R)}),z(t,"$copy_class_variables",function(R){var J=this;for(var te in R.$$cvars)J.$$cvars[te]=R.$$cvars[te]}),z(t,"$copy_constants",function(R){var J=this,te,ae=R.$$const;for(te in ae)X(J,te,ae[te])}),z(t,"$refine",function D(R){var J=D.$$p||C,te,ae=this,le=C,_e=C,de=C;return D.$$p=null,te=[ae,C,C],le=te[0],_e=te[1],de=te[2],de=e.id(R),typeof ae.$$refine_modules>"u"&&(ae.$$refine_modules=Object.create(null)),typeof ae.$$refine_modules[de]>"u"?_e=ae.$$refine_modules[de]=l("Refinement").$new():_e=ae.$$refine_modules[de],_e.refinement_module=le,_e.refined_class=R,k(_e,"class_exec",[],J.$to_proc()),_e}),z(t,"$refinements",function(){var R=this,J=R.$$refine_modules,te=new Map;if(typeof J>"u")return te;for(var ae in J)te["$[]="](J[ae].refined_class,J[ae]);return te}),z(t,"$using",function(R){return W.$raise("Module#using is not permitted in methods")}),f(t,"class_eval","module_eval"),f(t,"class_exec","module_exec"),f(t,"inspect","to_s")}("::",null,G),function(o,s){var n=B(o,s,"Refinement"),t=n.$$prototype;return t.refinement_module=t.refined_class=C,n.$attr_reader("refined_class"),z(n,"$inspect",function r(){var i=r.$$p||C,$=this;return r.$$p=null,y($.refinement_module)?"#<refinement:"+$.refined_class.$inspect()+"@"+$.refinement_module.$inspect()+">":g($,_($,"inspect",r,!1,!0),"inspect",[],i)})}("::",q)};Opal.modules["corelib/class"]=function(e){var y=e.klass,F=e.send,X=e.defs,w=e.def,O=e.ensure_kwargs,V=e.hash_get,x=e.eqeq,Y=e.truthy,h=e.rb_plus,T=e.return_val,re=e.slice,U=e.send2,B=e.find_super,ee=e.Kernel,W=e.alias,b=e.top,k=[],z=e.nil,M=e.$$$;return e.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),b.$require("corelib/module"),function(q,P,p){var I=y(q,P,"Class"),H=[I].concat(p),L=e.$r(H);return X(I,"$new",function E(a){var d=E.$$p||z;if(E.$$p=null,a==null&&(a=L("Object")),!a.$$is_class)throw e.TypeError.$new("superclass must be a Class");var A=e.allocate_class(z,a);return a.$inherited(A),d!==z&&F(A,"class_eval",[],d.$to_proc()),A},-1),w(I,"$allocate",function(){var a=this,d=new a.$$constructor;return d.$$id=e.uid(),d}),w(I,"$clone",function(a){var d,A=this,g=z;return a=O(a),d=V(a,"freeze"),d==null&&(d=z),Y(d["$nil?"]())||x(d,!0)||x(d,!1)||A.$raise(L("ArgumentError"),"unexpected value for freeze: "+d.$class()),g=e.allocate_class(z,A.$$super),g.$copy_instance_variables(A),g.$copy_singleton_methods(A),g.$initialize_clone(A,new Map([["freeze",d]])),(x(d,!0)||Y(d["$nil?"]())&&Y(A["$frozen?"]()))&&g.$freeze(),g},-1),w(I,"$dup",function(){var a=this,d=z;return d=e.allocate_class(z,a.$$super),d.$copy_instance_variables(a),d.$initialize_dup(a),d}),w(I,"$descendants",function(){var a=this;return h(a.$subclasses(),F(a.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),w(I,"$inherited",T(z)),w(I,"$new",function E(a){var d=E.$$p||z,A,g,_=this;E.$$p=null,A=re(arguments),g=A;var f=_.$allocate();return e.send(f,f.$initialize,g,d),f},-1),w(I,"$subclasses",function(){var a=this;if(typeof WeakRef<"u"){var d,A,g=[];for(d=0;d<a.$$subclasses.length;d++)A=a.$$subclasses[d].deref(),A!==void 0&&g.push(A);return g}else return a.$$subclasses}),w(I,"$superclass",function(){var a=this;return a.$$super||z}),w(I,"$to_s",function E(){E.$$p;var a=this;E.$$p=null;var d=a.$$singleton_of;return d&&d.$$is_a_module?"#<Class:"+d.$name()+">":d?"#<Class:#<"+d.$$class.$name()+":0x"+e.id(d).$to_s(16)+">>":U(a,B(a,"to_s",E,!1,!0),"to_s",[],null)}),w(I,"$attached_object",function(){var a=this;if(a.$$singleton_of!=null)return a.$$singleton_of;ee.$raise(M("TypeError"),"`"+a+"' is not a singleton class")}),W(I,"inspect","to_s")}("::",null,k)};Opal.modules["corelib/basic_object"]=function(e){var y=e.klass,F=e.slice,X=e.def,w=e.alias,O=e.return_val,V=e.Opal,x=e.truthy,Y=e.range,h=e.Kernel,T=e.to_a,re=e.send,U=e.eqeq,B=e.rb_ge,ee=e.nil,W=e.$$$;return e.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(b,k){var z=y(b,k,"BasicObject");return X(z,"$initialize",function(q){return F(arguments),ee},-1),X(z,"$==",function(q){var P=this;return P===q}),X(z,"$eql?",function(q){var P=this;return P["$=="](q)}),w(z,"equal?","=="),X(z,"$__id__",function(){var q=this;return q.$$id!=null||e.prop(q,"$$id",e.uid()),q.$$id}),X(z,"$__send__",function M(q,P){var p=M.$$p||ee,I,H,L=this;M.$$p=null,I=F(arguments,1),H=I,q.$$is_string||L.$raise(W("TypeError"),""+L.$inspect()+" is not a symbol nor a string");var E=L[e.jsid(q)];return E?(p!==ee&&(E.$$p=p),E.apply(L,H)):(p!==ee&&(L.$method_missing.$$p=p),L.$method_missing.apply(L,[q].concat(H)))},-2),X(z,"$!",O(!1)),V.$pristine("!"),X(z,"$!=",function(q){var P=this;return P["$=="](q)["$!"]()}),X(z,"$instance_eval",function M(q){var P=M.$$p||ee,p,I,H,L=this,E=ee,a=ee,d=ee,A=ee,g=ee,_=ee;if(M.$$p=null,p=F(arguments),I=p,x(P["$nil?"]())&&x(!!e.compile))x(Y(1,3,!1)["$cover?"](I.$size()))||h.$raise(W("ArgumentError"),"wrong number of arguments (0 for 1..3)"),H=[].concat(T(I)),E=H[0]==null?ee:H[0],a=H[1]==null?ee:H[1],H[2]==null||H[2],d=new Map([["file",x(A=a)?A:"(eval)"],["eval",!0]]),g=new Map([["arity_check",!1]]).$merge(d),_=V.$compile(E,g),P=re(h,"proc",[],function C(){var l=C.$$s==null?this:C.$$s;return new Function("Opal,self","return "+_)(e,l)},{$$s:L});else{if(x(P["$nil?"]())&&x(B(I.$length(),1))&&U(I.$first()["$[]"](0),"@"))return L.$instance_variable_get(I.$first());x(I["$any?"]())&&h.$raise(W("ArgumentError"),"wrong number of arguments ("+I.$size()+" for 0)")}var f=P.$$s,G;if(P.$$s=null,L.$$is_a_module){L.$$eval=!0;try{G=P.call(L,L)}finally{L.$$eval=!1}}else G=P.call(L,L);return P.$$s=f,G},-1),X(z,"$instance_exec",function M(q){var P=M.$$p||ee,p,I,H=this;M.$$p=null,p=F(arguments),I=p,x(P)||h.$raise(W("ArgumentError"),"no block given");var L=P.$$s,E;if(P.$$s=null,H.$$is_a_module){H.$$eval=!0;try{E=P.apply(H,I)}finally{H.$$eval=!1}}else E=P.apply(H,I);return P.$$s=L,E},-1),X(z,"$singleton_method_added",function(q){return F(arguments),ee},-1),X(z,"$singleton_method_removed",function(q){return F(arguments),ee},-1),X(z,"$singleton_method_undefined",function(q){return F(arguments),ee},-1),X(z,"$method_missing",function M(q,P){M.$$p;var p,I,H=this,L=ee;return M.$$p=null,p=F(arguments,1),I=p,L=V.$inspect(H),h.$raise(W("NoMethodError").$new("undefined method `"+q+"' for "+L,q,I),ee,h.$caller(1))},-2),V.$pristine(z,"method_missing"),X(z,"$respond_to_missing?",function(q,P){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(e){var y=e.truthy,F=e.coerce_to,X=e.respond_to,w=e.Opal,O=e.deny_frozen_access,V=e.freeze,x=e.freeze_props,Y=e.jsid,h=e.each_ivar,T=e.module,re=e.return_val,U=e.def,B=e.Kernel,ee=e.gvars,W=e.slice,b=e.send,k=e.to_a,z=e.ensure_kwargs,M=e.hash_get,q=e.eqeq,P=e.rb_plus,p=e.extract_kwargs,I=e.eqeqeq,H=e.return_self,L=e.rb_le,E=e.rb_lt,a=e.Object,d=e.alias,A=e.klass,g=[],_=e.nil,f=e.$$$;return e.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(G,C){var l=T(G,"Kernel"),o=[l].concat(C),s=e.$r(o);U(l,"$=~",re(!1)),U(l,"$!~",function(r){var i=this;return i["$=~"](r)["$!"]()}),U(l,"$===",function(r){var i=this,$=_;return y($=i.$object_id()["$=="](r.$object_id()))?$:i["$=="](r)}),U(l,"$<=>",function(r){var i=this;i.$$comparable=!0;var $=i["$=="](r);return $&&$!==_?0:_}),U(l,"$method",function(r){var i=this,$=i[Y(r)];return(!$||$.$$stub)&&B.$raise(f("NameError").$new("undefined method `"+r+"' for class `"+i.$class()+"'",r)),f("Method").$new(i,$.$$owner||i.$class(),$,r)}),U(l,"$methods",function(r){var i=this;return r==null&&(r=!0),y(r)?e.methods(i):e.own_methods(i)},-1),U(l,"$public_methods",function(r){var i=this;return r==null&&(r=!0),y(r)?e.methods(i):e.receiver_methods(i)},-1),U(l,"$Array",function(r){var i;return r===_?[]:r.$$is_array?r:(i=w["$coerce_to?"](r,f("Array"),"to_ary"),i!==_||(i=w["$coerce_to?"](r,f("Array"),"to_a"),i!==_)?i:[r])}),U(l,"$at_exit",function t(){var r=t.$$p||_,i=_;return ee.__at_exit__==null&&(ee.__at_exit__=_),t.$$p=null,ee.__at_exit__=y(i=ee.__at_exit__)?i:[],ee.__at_exit__["$<<"](r),r}),U(l,"$caller",function(r,i){r==null&&(r=1),i==null&&(i=_);var $,u;$=new Error().$backtrace(),u=[];for(var v=r+1,N=$.length;v<N;v++)$[v].match(/runtime\.js/)||u.push($[v]);return i!=_&&(u=u.slice(0,i)),u},-1),U(l,"$caller_locations",function(r){var i,$,u=this;return i=W(arguments),$=i,b(b(u,"caller",k($)),"map",[],function(N){return N==null&&(N=_),f(f(f("Thread"),"Backtrace"),"Location").$new(N)})},-1),U(l,"$class",function(){var r=this;return r.$$class}),U(l,"$copy_instance_variables",function(r){var i=this,$=Object.keys(r),u,v,N;for(u=0,v=$.length;u<v;u++)N=$[u],N.charAt(0)!=="$"&&r.hasOwnProperty(N)&&(i[N]=r[N])}),U(l,"$copy_singleton_methods",function(r){var i=this,$,u,v,N;if(r.hasOwnProperty("$$meta")&&r.$$meta!==null){var D=e.get_singleton_class(r),R=e.get_singleton_class(i);for(v=Object.getOwnPropertyNames(D.$$prototype),$=0,N=v.length;$<N;$++)u=v[$],e.is_method(u)&&(R.$$prototype[u]=D.$$prototype[u]);R.$$const=Object.assign({},D.$$const),Object.setPrototypeOf(R.$$prototype,Object.getPrototypeOf(D.$$prototype))}for($=0,v=Object.getOwnPropertyNames(r),N=v.length;$<N;$++)u=v[$],u.charAt(0)==="$"&&u.charAt(1)!=="$"&&r.hasOwnProperty(u)&&(i[u]=r[u])}),U(l,"$clone",function(r){var i,$=this,u=_;return r=z(r),i=M(r,"freeze"),i==null&&(i=_),y(i["$nil?"]())||q(i,!0)||q(i,!1)||$.$raise(s("ArgumentError"),"unexpected value for freeze: "+i.$class()),u=$.$class().$allocate(),u.$copy_instance_variables($),u.$copy_singleton_methods($),u.$initialize_clone($,new Map([["freeze",i]])),(q(i,!0)||y(i["$nil?"]())&&y($["$frozen?"]()))&&u.$freeze(),u},-1),U(l,"$initialize_clone",function(r,i){var $=this;return i=z(i),M(i,"freeze"),$.$initialize_copy(r),$},-2),U(l,"$define_singleton_method",function t(r,i){var $=t.$$p||_,u=this;return t.$$p=null,b(u.$singleton_class(),"define_method",[r,i],$.$to_proc())},-2),U(l,"$dup",function(){var r=this,i=_;return i=r.$class().$allocate(),i.$copy_instance_variables(r),i.$initialize_dup(r),i}),U(l,"$initialize_dup",function(r){var i=this;return i.$initialize_copy(r)}),U(l,"$enum_for",function t(r,i){var $=t.$$p||_,u,v,N,D=this;return t.$$p=null,u=W(arguments),u.length>0&&(v=u.shift()),v==null&&(v="each"),N=u,b(f("Enumerator"),"for",[D,v].concat(k(N)),$.$to_proc())},-1),U(l,"$equal?",function(r){var i=this;return i===r}),U(l,"$exit",function(r){var i=_,$=_;for(ee.__at_exit__==null&&(ee.__at_exit__=_),r==null&&(r=!0),ee.__at_exit__=y(i=ee.__at_exit__)?i:[];!y(ee.__at_exit__["$empty?"]());)$=ee.__at_exit__.$pop(),$.$call();return r.$$is_boolean?r=r?0:1:r=F(r,f("Integer"),"to_int"),e.exit(r),_},-1),U(l,"$extend",function(r){var i,$,u=this;i=W(arguments),$=i,$.length==0&&u.$raise(f("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),O(u);for(var v=u.$singleton_class(),N=$.length-1;N>=0;N--){var D=$[N];D.$$is_module||B.$raise(f("TypeError"),"wrong argument type "+D.$class()+" (expected Module)"),D.$append_features(v),D.$extend_object(u),D.$extended(u)}return u},-1),U(l,"$freeze",function(){var r=this;return y(r["$frozen?"]())?r:typeof r=="object"?(x(r),V(r)):r}),U(l,"$frozen?",function(){var r=this;switch(typeof r){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return r.$$frozen||!1;default:return!1}}),U(l,"$gets",function(r){var i,$;return ee.stdin==null&&(ee.stdin=_),i=W(arguments),$=i,b(ee.stdin,"gets",k($))},-1),U(l,"$hash",function(){var r=this;return r.$__id__()}),U(l,"$initialize_copy",re(_));var n=[];return U(l,"$inspect",function(){var r=this,i=_,$=_,u=_,v=_;return function(){try{try{return i="",$=r.$__id__(),y(n["$include?"]($))?i=" ...":(n["$<<"]($),u=!0,b(r.$instance_variables(),"each",[],function N(D){var R=N.$$s==null?this:N.$$s,J=_,te=_;return D==null&&(D=_),J=R.$instance_variable_get(D),te=s("Opal").$inspect(J),i=P(i," "+D+"="+te)},{$$s:r})),"#<"+r.$class()+":0x"+$.$to_s(16)+i+">"}catch(N){if(e.rescue(N,[s("StandardError")])){v=N;try{return"#<"+r.$class()+":0x"+$.$to_s(16)+">"}finally{e.pop_exception(N)}}else throw N}}finally{y(u)&&n.$pop()}}()}),U(l,"$instance_of?",function(r){var i=this;return!r.$$is_class&&!r.$$is_module&&B.$raise(f("TypeError"),"class or module required"),i.$$class===r}),U(l,"$instance_variable_defined?",function(r){var i=this;return r=w["$instance_variable_name!"](r),e.hasOwnProperty.call(i,r.substr(1))}),U(l,"$instance_variable_get",function(r){var i=this;r=w["$instance_variable_name!"](r);var $=i[e.ivar(r.substr(1))];return $??_}),U(l,"$instance_variable_set",function(r,i){var $=this;return O($),r=w["$instance_variable_name!"](r),$[e.ivar(r.substr(1))]=i}),U(l,"$remove_instance_variable",function(r){var i=this;r=w["$instance_variable_name!"](r);var $=e.ivar(r.substr(1)),u;return i.hasOwnProperty($)?(u=i[$],delete i[$],u):B.$raise(f("NameError"),"instance variable "+r+" not defined")}),U(l,"$instance_variables",function(){var r=this,i=[];return h(r,function($){$.substr(-1)==="$"&&($=$.slice(0,$.length-1)),i.push("@"+$)}),i}),U(l,"$Integer",function(r,i,$){var u,v,N,D;u=W(arguments,1),v=p(u),v=z(v),u.length>0&&(N=u.shift()),D=M(v,"exception"),D==null&&(D=!0);var R,J,te;if(D=y(D),!r.$$is_string){if(N!==void 0)if(D)B.$raise(f("ArgumentError"),"base specified for non string value");else return _;if(r===_)if(D)B.$raise(f("TypeError"),"can't convert nil into Integer");else return _;if(r.$$is_number){if(r===1/0||r===-1/0||isNaN(r))if(D)B.$raise(f("FloatDomainError"),r);else return _;return Math.floor(r)}if(r["$respond_to?"]("to_int")&&(R=r.$to_int(),e.is_a(R,f("Integer")))||r["$respond_to?"]("to_i")&&(R=r.$to_i(),e.is_a(R,f("Integer"))))return R;if(D)B.$raise(f("TypeError"),"can't convert "+r.$class()+" into Integer");else return _}if(r==="0")return 0;if(N===void 0)N=0;else if(N=F(N,f("Integer"),"to_int"),N===1||N<0||N>36)if(D)B.$raise(f("ArgumentError"),"invalid radix "+N);else return _;if(J=r.toLowerCase(),J=J.replace(/(\d)_(?=\d)/g,"$1"),J=J.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ae,le,_e){switch(_e){case"0b":if(N===0||N===2)return N=2,le;case"0":case"0o":if(N===0||N===8)return N=8,le;case"0d":if(N===0||N===10)return N=10,le;case"0x":if(N===0||N===16)return N=16,le}if(D)B.$raise(f("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return _}),N=N===0?10:N,te="0-"+(N<=10?N-1:"9a-"+String.fromCharCode(97+(N-11))),!new RegExp("^\\s*[+-]?["+te+"]+\\s*$").test(J))if(D)B.$raise(f("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return _;if(R=parseInt(J,N),isNaN(R))if(D)B.$raise(f("ArgumentError"),'invalid value for Integer(): "'+r+'"');else return _;return R},-2),U(l,"$Float",function(r,i){var $;i=z(i),$=M(i,"exception"),$==null&&($=!0);var u;if($=y($),r===_)if($)B.$raise(f("TypeError"),"can't convert nil into Float");else return _;if(r.$$is_string){if(u=r.toString(),u=u.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(u))return B.$Integer(u);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(u))if($)B.$raise(f("ArgumentError"),'invalid value for Float(): "'+r+'"');else return _;return parseFloat(u)}return $?w["$coerce_to!"](r,f("Float"),"to_f"):F(r,f("Float"),"to_f")},-2),U(l,"$Hash",function(r){return y(r["$nil?"]())||q(r,[])?new Map:I(f("Hash"),r)?r:w["$coerce_to!"](r,f("Hash"),"to_hash")}),U(l,"$is_a?",function(r){var i=this;return!r.$$is_class&&!r.$$is_module&&B.$raise(f("TypeError"),"class or module required"),e.is_a(i,r)}),U(l,"$itself",H),U(l,"$lambda",function t(){var r=t.$$p||_;return t.$$p=null,e.lambda(r)}),U(l,"$load",function(r){return r=w["$coerce_to!"](r,f("String"),"to_str"),e.load(r)}),U(l,"$loop",function t(){var r=t.$$p||_,i=this,$=_;if(t.$$p=null,r===_)return b(i,"enum_for",["loop"],function(){return f(f("Float"),"INFINITY")});for(;y(!0);)try{e.yieldX(r,[])}catch(u){if(e.rescue(u,[f("StopIteration")])){$=u;try{return $.$result()}finally{e.pop_exception(u)}}else throw u}return i}),U(l,"$nil?",re(!1)),U(l,"$printf",function(r){var i,$,u=this,v=_;return ee.stdout==null&&(ee.stdout=_),i=W(arguments),$=i,y($["$empty?"]())||(v=y($[0].$$is_string)?ee.stdout:$.$shift(),v.$write(b(u,"format",k($)))),_},-1),U(l,"$proc",function t(){var r=t.$$p||_;return t.$$p=null,y(r)||B.$raise(f("ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r}),U(l,"$puts",function(r){var i,$;return ee.stdout==null&&(ee.stdout=_),i=W(arguments),$=i,b(ee.stdout,"puts",k($))},-1),U(l,"$p",function(r){var i,$;return i=W(arguments),$=i,b($,"each",[],function(v){return ee.stdout==null&&(ee.stdout=_),v==null&&(v=_),ee.stdout.$puts(v.$inspect())}),y(L($.$length(),1))?$["$[]"](0):$},-1),U(l,"$print",function(r){var i,$;return ee.stdout==null&&(ee.stdout=_),i=W(arguments),$=i,b(ee.stdout,"print",k($))},-1),U(l,"$readline",function(r){var i,$;return ee.stdin==null&&(ee.stdin=_),i=W(arguments),$=i,b(ee.stdin,"readline",k($))},-1),U(l,"$warn",function(r,i){var $,u,v,N,D,R,J=this,te=_;return ee.VERBOSE==null&&(ee.VERBOSE=_),ee.stderr==null&&(ee.stderr=_),$=W(arguments),u=p($),u=z(u),v=$,N=M(u,"uplevel"),N==null&&(N=_),y(N)&&(N=w["$coerce_to!"](N,f("Integer"),"to_str"),y(E(N,0))&&B.$raise(f("ArgumentError"),"negative level ("+N+")"),te=(D=(R=J.$caller(P(N,1),1).$first(),R===_||R==null?_:R.$split(":in `")),D===_||D==null?_:D.$first()),y(te)&&(te=""+te+": "),v=b(v,"map",[],function(le){return le==null&&(le=_),""+te+"warning: "+le})),y(ee.VERBOSE["$nil?"]())||y(v["$empty?"]())?_:b(ee.stderr,"puts",k(v))},-1),U(l,"$raise",function(r,i,$){throw ee["!"]==null&&(ee["!"]=_),i==null&&(i=_),$==null&&($=_),r==null&&ee["!"]!==_?ee["!"]:(r==null?r=f("RuntimeError").$new(""):X(r,"$to_str")?r=f("RuntimeError").$new(r.$to_str()):r.$$is_class&&X(r,"$exception")?r=r.$exception(i):r.$$is_exception||(r=f("TypeError").$new("exception class/object expected")),$!==_&&r.$set_backtrace($),ee["!"]!==_&&e.exceptions.push(ee["!"]),ee["!"]=r,r)},-1),U(l,"$rand",function(r){return r===void 0?f(f("Random"),"DEFAULT").$rand():(r.$$is_number&&(r<0&&(r=Math.abs(r)),r%1!==0&&(r=r.$to_i()),r===0&&(r=void 0)),f(f("Random"),"DEFAULT").$rand(r))},-1),U(l,"$respond_to?",function(r,i){var $=this;i==null&&(i=!1);var u=$[Y(r)];return typeof u=="function"&&!u.$$stub?!0:$["$respond_to_missing?"].$$pristine===!0?!1:$["$respond_to_missing?"](r,i)},-2),U(l,"$respond_to_missing?",function(r,i){return!1},-2),w.$pristine(l,"respond_to?","respond_to_missing?"),U(l,"$require",function(r){return typeof r!="string"&&e.String&&e.Array&&(r=w["$coerce_to!"](r,f("String"),"to_str")),e.require(r)}),U(l,"$require_relative",function(r){return w["$try_convert!"](r,f("String"),"to_str"),r=f("File").$expand_path(f("File").$join(e.current_file,"..",r)),e.require(r)}),U(l,"$require_tree",function(r,i){var $;i=z(i),$=M(i,"autoload"),$==null&&($=!1);var u=[];r=f("File").$expand_path(r),r=e.normalize(r),r==="."&&(r="");for(var v in e.modules)v["$start_with?"](r)&&($?u.push([v,!0]):u.push([v,e.require(v)]));return u},-2),U(l,"$singleton_class",function(){var r=this;return e.get_singleton_class(r)}),U(l,"$sleep",function(r){r==null&&(r=_),r===_&&B.$raise(f("TypeError"),"can't convert NilClass into time interval"),r.$$is_number||B.$raise(f("TypeError"),"can't convert "+r.$class()+" into time interval"),r<0&&B.$raise(f("ArgumentError"),"time interval must be positive");for(var i=e.global.performance?function(){return performance.now()}:function(){return new Date},$=i();i()-$<=r*1e3;);return Math.round(r)},-1),U(l,"$srand",function(r){return r==null&&(r=s("Random").$new_seed()),f("Random").$srand(r)},-1),U(l,"$String",function(r){var i=_;return y(i=w["$coerce_to?"](r,f("String"),"to_str"))?i:w["$coerce_to!"](r,f("String"),"to_s")}),U(l,"$tap",function t(){var r=t.$$p||_,i=this;return t.$$p=null,e.yield1(r,i),i}),U(l,"$to_proc",H),U(l,"$to_s",function(){var r=this;return"#<"+r.$class()+":0x"+r.$__id__().$to_s(16)+">"}),U(l,"$catch",function t(r){var i=t.$$p||_,$=_,u=_;t.$$p=null,r==null&&(r=_);try{return r=y($=r)?$:a.$new(),e.yield1(i,r)}catch(v){if(e.rescue(v,[f("UncaughtThrowError")])){u=v;try{return q(u.$tag(),r)?u.$value():B.$raise()}finally{e.pop_exception(v)}}else throw v}},-1),U(l,"$throw",function(r,i){return i==null&&(i=_),B.$raise(f("UncaughtThrowError").$new(r,i))},-2),U(l,"$open",function t(r){var i=t.$$p||_,$,u;return t.$$p=null,$=W(arguments),u=$,b(f("File"),"open",k(u),i.$to_proc())},-1),U(l,"$yield_self",function t(){var r=t.$$p||_,i=this;return t.$$p=null,r===_?b(i,"enum_for",["yield_self"],re(1)):e.yield1(r,i)}),d(l,"fail","raise"),d(l,"kind_of?","is_a?"),d(l,"object_id","__id__"),d(l,"public_send","__send__"),d(l,"send","__send__"),d(l,"then","yield_self"),d(l,"to_enum","enum_for")}("::",g),function(G,C){var l=A(G,C,"Object");return delete a.$$prototype.$require,l.$include(B)}("::",null)};Opal.modules["corelib/main"]=function(e){var y=e.return_val,F=e.def,X=e.Object,w=e.slice,O=e.Kernel,V=e.top;return e.nil,e.add_stubs("include,raise"),function(x,Y){return F(x,"$to_s",y("main")),F(x,"$include",function(T){return X.$include(T)}),F(x,"$autoload",function(T){var re,U;return re=w(arguments),U=re,e.Object.$autoload.apply(e.Object,U)},-1),F(x,"$using",function(T){return O.$raise("main.using is permitted only at toplevel")})}(e.get_singleton_class(V))};Opal.modules["corelib/error/errno"]=function(e){var y=e.module,F=e.truthy,X=e.rb_plus,w=e.send2,O=e.find_super,V=e.def,x=e.klass,Y=e.nil,h=e.$$$;return e.add_stubs("+,errno,class,attr_reader"),function(T,re){var U=y(T,"Errno"),B=Y,ee=Y;B=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],ee=Y;var W;for(W=0;W<B.length;W++)(function(){var b=B[W][0],k=B[W][1],z=B[W][2];ee=e.klass(U,e.SystemCallError,b),ee.errno=z,function(M,q){return V(M,"$new",function P(p){P.$$p;var I=this,H=Y;return P.$$p=null,p==null&&(p=Y),H=k,F(p)&&(H=X(H," - "+p)),w(I,O(I,"new",P,!1,!0),"new",[H],null)},-1)}(e.get_singleton_class(ee))})()}("::"),function(T,re,U){var B=x(T,re,"SystemCallError");return V(B,"$errno",function(){var W=this;return W.$class().$errno()}),function(ee,W){return ee.$attr_reader("errno")}(e.get_singleton_class(B))}("::",h("StandardError"))};Opal.modules["corelib/error"]=function(e){var y=e.klass,F=e.slice,X=e.gvars,w=e.defs,O=e.send,V=e.to_a,x=e.def,Y=e.send2,h=e.find_super,T=e.truthy,re=e.Kernel,U=e.not,B=e.rb_plus,ee=e.eqeq,W=e.Object,b=e.ensure_kwargs,k=e.hash_get,z=e.module,M=[],q=e.nil,P=e.$$$;return e.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(p,I,H){var L=y(p,I,"Exception"),E=[L].concat(H),a=e.$r(E),d=L.$$prototype;d.message=q,e.prop(L.$$prototype,"$$is_exception",!0);var A;Error.stackTraceLimit=100,w(L,"$new",function(f){var G,C,l=this;X["!"]==null&&(X["!"]=q),G=F(arguments),C=G;var o=C.length>0?C[0]:q,s=new l.$$constructor(o);return s.name=l.$$name,s.message=o,s.cause=X["!"],e.send(s,s.$initialize,C),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(s,A),s},-1),A=L.$new,w(L,"$exception",function(f){var G,C,l=this;return G=F(arguments),C=G,O(l,"new",V(C))},-1),x(L,"$initialize",function(f){var G,C,l=this;return G=F(arguments),C=G,l.message=C.length>0?C[0]:q},-1),x(L,"$copy_instance_variables",function _(f){var G=_.$$p||q,C=this;_.$$p=null,Y(C,h(C,"copy_instance_variables",_,!1,!0),"copy_instance_variables",[f],G),C.message=f.message,C.cause=f.cause,C.stack=f.stack});function g(_){for(var f=[],G,C=0;C<_.length;C++){var l=_[C];!l||!l.$$is_string||((G=l.match(/^    at (.*?) \((.*?)\)$/))?f.push(G[2]+":in `"+G[1]+"'"):(G=l.match(/^    at (.*?)$/))?f.push(G[1]+":in `undefined'"):(G=l.match(/^  from (.*?)$/))?f.push(G[1]):(G=l.match(/^(.*?)@(.*?)$/))&&f.push(G[2]+":in `"+G[1]+"'"))}return f}return x(L,"$backtrace",function(){var f=this;if(f.backtrace)return f.backtrace;var G=f.stack;return typeof G<"u"&&G.$$is_string?f.backtrace=g(G.split(`
`)):G?f.backtrace=g(G):[]}),x(L,"$backtrace_locations",function(){var f,G=this;return G.backtrace_locations||(G.backtrace_locations=(f=G.$backtrace(),f===q||f==null?q:O(f,"map",[],function(l){return l==null&&(l=q),P(P(P("Thread"),"Backtrace"),"Location").$new(l)}))),G.backtrace_locations}),x(L,"$cause",function(){var f=this;return f.cause||q}),x(L,"$exception",function(f){var G=this;if(f==null&&(f=q),f===q||G===f)return G;var C=G.$clone();return C.message=f,G.backtrace&&(C.backtrace=G.backtrace.$dup()),C.stack=G.stack,C.cause=G.cause,C},-1),x(L,"$message",function(){var f=this;return f.$to_s()}),x(L,"$full_message",function(f){var G,C=this,l=q,o=q,s=q,n=q,t=q,r=q,i=q,$=q,u=q;return X.stderr==null&&(X.stderr=q),f==null&&(f=q),T(a("Hash","skip_raise")?"constant":q)?(f=new Map([["highlight",X.stderr["$tty?"]()],["order","top"]]).$merge(T(l=f)?l:new Map),G=[f["$[]"]("highlight"),f["$[]"]("order")],o=G[0],s=G[1],T([!0,!1]["$include?"](o))||re.$raise(P("ArgumentError"),"expected true or false as highlight: "+o),T(["top","bottom"]["$include?"](s))||re.$raise(P("ArgumentError"),"expected :top or :bottom as order: "+s),T(o)?(n="\x1B[1;4m",t="\x1B[1m",r="\x1B[m"):n=t=r="",i=C.$backtrace().$dup(),(U(i)||T(i["$empty?"]()))&&(i=C.$caller()),$=i.$shift(),u=""+$+": ",u=B(u,""+t+C.$to_s()+" ("+n+C.$class()+r+t+")"+r+`
`),u=B(u,O(i,"map",[],function(N){return N==null&&(N=q),"	from "+N+`
`}).$join()),T(C.$cause())&&(u=B(u,C.$cause().$full_message(new Map([["highlight",o]])))),ee(s,"bottom")&&(u=u.$split(`
`).$reverse().$join(`
`),u=B(""+t+"Traceback"+r+` (most recent call last):
`,u)),u):""+C.message+`
`+C.stack},-1),x(L,"$inspect",function(){var f=this,G=q;return G=f.$to_s(),T(G["$empty?"]())?f.$class().$to_s():"#<"+f.$class().$to_s()+": "+f.$to_s()+">"}),x(L,"$set_backtrace",function(f){var G=this,C=!0,l,o;if(f===q)G.backtrace=q,G.stack="";else if(f.$$is_string)G.backtrace=[f],G.stack="  from "+f;else{if(f.$$is_array){for(l=0,o=f.length;l<o;l++)if(!f[l].$$is_string){C=!1;break}}else C=!1;C===!1&&re.$raise(P("TypeError"),"backtrace must be Array of String"),G.backtrace=f,G.stack=O(f,"map",[],function(n){return n==null&&(n=q),B("  from ",n)}).join(`
`)}return f}),x(L,"$to_s",function(){var f=this,G=q,C=q;return T(G=T(C=f.message)?f.message.$to_s():C)?G:f.$class().$to_s()})}("::",Error,M),y("::",P("Exception"),"ScriptError"),y("::",P("ScriptError"),"SyntaxError"),y("::",P("ScriptError"),"LoadError"),y("::",P("ScriptError"),"NotImplementedError"),y("::",P("Exception"),"SystemExit"),y("::",P("Exception"),"NoMemoryError"),y("::",P("Exception"),"SignalException"),y("::",P("SignalException"),"Interrupt"),y("::",P("Exception"),"SecurityError"),y("::",P("Exception"),"SystemStackError"),y("::",P("Exception"),"StandardError"),y("::",P("StandardError"),"EncodingError"),y("::",P("StandardError"),"ZeroDivisionError"),y("::",P("StandardError"),"NameError"),y("::",P("NameError"),"NoMethodError"),y("::",P("StandardError"),"RuntimeError"),y("::",P("RuntimeError"),"FrozenError"),y("::",P("StandardError"),"LocalJumpError"),y("::",P("StandardError"),"TypeError"),y("::",P("StandardError"),"ArgumentError"),y("::",P("ArgumentError"),"UncaughtThrowError"),y("::",P("StandardError"),"IndexError"),y("::",P("IndexError"),"StopIteration"),y("::",P("StopIteration"),"ClosedQueueError"),y("::",P("IndexError"),"KeyError"),y("::",P("StandardError"),"RangeError"),y("::",P("RangeError"),"FloatDomainError"),y("::",P("StandardError"),"IOError"),y("::",P("IOError"),"EOFError"),y("::",P("StandardError"),"SystemCallError"),y("::",P("StandardError"),"RegexpError"),y("::",P("StandardError"),"ThreadError"),y("::",P("StandardError"),"FiberError"),W.$autoload("Errno","corelib/error/errno"),function(p,I){var H=y(p,I,"FrozenError");return H.$attr_reader("receiver"),x(H,"$initialize",function L(E,a){var d;L.$$p;var A=this;return L.$$p=null,a=b(a),d=k(a,"receiver"),d==null&&(d=q),Y(A,h(A,"initialize",L,!1,!0),"initialize",[E],null),A.receiver=d},-2)}("::",P("RuntimeError")),function(p,I){var H=y(p,I,"UncaughtThrowError"),L=H.$$prototype;return L.tag=q,H.$attr_reader("tag","value"),x(H,"$initialize",function E(a,d){E.$$p;var A=this;return E.$$p=null,d==null&&(d=q),A.tag=a,A.value=d,Y(A,h(A,"initialize",E,!1,!0),"initialize",["uncaught throw "+A.tag.$inspect()],null)},-2)}("::",P("ArgumentError")),function(p,I){var H=y(p,I,"NameError");return H.$attr_reader("name"),x(H,"$initialize",function L(E,a){L.$$p;var d=this;return L.$$p=null,a==null&&(a=q),Y(d,h(d,"initialize",L,!1,!0),"initialize",[E],null),d.name=a},-2)}("::",null),function(p,I){var H=y(p,I,"NoMethodError");return H.$attr_reader("args"),x(H,"$initialize",function L(E,a,d){L.$$p;var A=this;return L.$$p=null,a==null&&(a=q),d==null&&(d=[]),Y(A,h(A,"initialize",L,!1,!0),"initialize",[E,a],null),A.args=d},-2)}("::",null),function(p,I){var H=y(p,I,"StopIteration");return H.$attr_reader("result")}("::",null),function(p,I){var H=y(p,I,"KeyError"),L=H.$$prototype;return L.receiver=L.key=q,x(H,"$initialize",function E(a,d){var A,g;E.$$p;var _=this;return E.$$p=null,d=b(d),A=k(d,"receiver"),A==null&&(A=q),g=k(d,"key"),g==null&&(g=q),Y(_,h(_,"initialize",E,!1,!0),"initialize",[a],null),_.receiver=A,_.key=g},-2),x(H,"$receiver",function(){var a=this,d=q;return T(d=a.receiver)?d:re.$raise(P("ArgumentError"),"no receiver is available")}),x(H,"$key",function(){var a=this,d=q;return T(d=a.key)?d:re.$raise(P("ArgumentError"),"no key is available")})}("::",null),function(p,I){var H=y(p,I,"LocalJumpError");return H.$attr_reader("exit_value","reason"),x(H,"$initialize",function L(E,a,d){L.$$p;var A=this;return L.$$p=null,a==null&&(a=q),d==null&&(d="noreason"),Y(A,h(A,"initialize",L,!1,!0),"initialize",[E],null),A.exit_value=a,A.reason=d},-2)}("::",null),function(p,I){var H=z(p,"JS"),L=[H].concat(I);return y(L[0],null,"Error"),q}("::",M)};Opal.modules["corelib/constants"]=function(e){var y=e.const_set;e.nil;var F=e.$$$;return y("::","RUBY_PLATFORM","opal"),y("::","RUBY_ENGINE","opal"),y("::","RUBY_VERSION","3.2.0"),y("::","RUBY_ENGINE_VERSION","1.8.2"),y("::","RUBY_RELEASE_DATE","2023-11-23"),y("::","RUBY_PATCHLEVEL",0),y("::","RUBY_REVISION","0"),y("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),y("::","RUBY_DESCRIPTION","opal "+F("RUBY_ENGINE_VERSION")+" ("+F("RUBY_RELEASE_DATE")+" revision "+F("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(e){var y=e.Object;return e.nil,e.add_stubs("require"),y.$require("corelib/runtime"),y.$require("corelib/helpers"),y.$require("corelib/module"),y.$require("corelib/class"),y.$require("corelib/basic_object"),y.$require("corelib/kernel"),y.$require("corelib/main"),y.$require("corelib/error"),y.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(e){var y=e.klass,F=e.Kernel,X=e.def,w=e.return_val,O=e.ensure_kwargs,V=e.hash_get,x=e.NilClass,Y=e.slice,h=e.truthy,T=e.rb_gt,re=e.alias,U=e.nil,B=e.$$$;return e.add_stubs("raise,name,new,>,length,Rational,to_i"),function(ee,W,b){var k=y(ee,W,"NilClass");return k.$$prototype.$$meta=k,function(z,M){return X(z,"$allocate",function(){var P=this;return F.$raise(B("TypeError"),"allocator undefined for "+P.$name())}),e.udef(z,"$new"),U}(e.get_singleton_class(k)),X(k,"$!",w(!0)),X(k,"$&",w(!1)),X(k,"$|",function(M){return M!==!1&&M!==U}),X(k,"$^",function(M){return M!==!1&&M!==U}),X(k,"$==",function(M){return M===U}),X(k,"$dup",w(U)),X(k,"$clone",function(M){return M=O(M),V(M,"freeze"),U},-1),X(k,"$inspect",w("nil")),X(k,"$nil?",w(!0)),X(k,"$singleton_class",function(){return x}),X(k,"$to_a",function(){return[]}),X(k,"$to_h",function(){return new Map}),X(k,"$to_i",w(0)),X(k,"$to_s",w("")),X(k,"$to_c",function(){return B("Complex").$new(0,0)}),X(k,"$rationalize",function(M){var q,P;return q=Y(arguments),P=q,h(T(P.$length(),1))&&F.$raise(B("ArgumentError")),F.$Rational(0,1)},-1),X(k,"$to_r",function(){return F.$Rational(0,1)}),X(k,"$instance_variables",function(){return[]}),re(k,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(e){var y=e.klass,F=e.Kernel,X=e.def,w=e.return_self,O=e.ensure_kwargs,V=e.hash_get,x=e.slice,Y=e.truthy,h=e.send2,T=e.find_super,re=e.to_a,U=e.alias,B=e.nil,ee=e.$$$;return e.add_stubs("raise,name,==,to_s,__id__"),function(W,b,k){var z=y(W,b,"Boolean");e.prop(z.$$prototype,"$$is_boolean",!0);for(var M=["$$class","$$meta"],q=0;q<M.length;q++)Object.defineProperty(z.$$prototype,M[q],{configurable:!0,enumerable:!1,get:function(){return this==!0?e.TrueClass:this==!1?e.FalseClass:e.Boolean}});return Object.defineProperty(z.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:B}}),function(P,p){return X(P,"$allocate",function(){var H=this;return F.$raise(ee("TypeError"),"allocator undefined for "+H.$name())}),e.udef(P,"$new"),B}(e.get_singleton_class(z)),X(z,"$__id__",function(){var p=this;return p.valueOf()?2:0}),X(z,"$!",function(){var p=this;return p!=!0}),X(z,"$&",function(p){var I=this;return I==!0?p!==!1&&p!==B:!1}),X(z,"$|",function(p){var I=this;return I==!0?!0:p!==!1&&p!==B}),X(z,"$^",function(p){var I=this;return I==!0?p===!1||p===B:p!==!1&&p!==B}),X(z,"$==",function(p){var I=this;return I==!0===p.valueOf()}),X(z,"$singleton_class",function(){var p=this;return p.$$meta}),X(z,"$to_s",function(){var p=this;return p==!0?"true":"false"}),X(z,"$dup",w),X(z,"$clone",function(p){var I=this;return p=O(p),V(p,"freeze"),I},-1),X(z,"$method_missing",function P(p,I){var H=P.$$p||B,L,E,a=this;P.$$p=null,L=x(arguments,1),E=L;var d=a.$$class.$$prototype[e.jsid(p)];return Y(typeof d<"u"&&!d.$$stub)||h(a,T(a,"method_missing",P,!1,!0),"method_missing",[p].concat(re(E)),H),e.send(a,d,E,H)},-2),X(z,"$respond_to_missing?",function(p,I){var H=this,L=H.$$class.$$prototype[e.jsid(p)];return typeof L<"u"&&!L.$$stub},-2),U(z,"eql?","=="),U(z,"equal?","=="),U(z,"inspect","to_s"),U(z,"object_id","__id__")}("::",Boolean),y("::",ee("Boolean"),"TrueClass"),y("::",ee("Boolean"),"FalseClass"),B};Opal.modules["corelib/comparable"]=function(e){var y=e.truthy,F=e.module,X=e.rb_gt,w=e.rb_lt,O=e.eqeqeq,V=e.Kernel,x=e.def,Y=e.nil,h=e.$$$;return e.add_stubs(">,<,===,raise,class,<=>,equal?"),function(T){var re=F(T,"Comparable"),U=Y;function B(b){return e.is_a(b,e.Integer)?b:X(b,0)?1:w(b,0)?-1:0}function ee(b,k){var z;O(Y,U=k)||O(!0,U)||O(!1,U)||O(h("Integer"),U)||O(h("Float"),U)?z=k.$inspect():z=k.$$class,V.$raise(h("ArgumentError"),"comparison of "+b.$class()+" with "+z+" failed")}function W(b,k){var z=b["$<=>"](k);return y(z)||ee(b,k),B(z)}return x(re,"$==",function(k){var z=this,M=Y;return y(z["$equal?"](k))?!0:z["$<=>"]==e.Kernel["$<=>"]?!1:z.$$comparable?(z.$$comparable=!1,!1):y(M=z["$<=>"](k))?B(M)==0:!1}),x(re,"$>",function(k){var z=this;return W(z,k)>0}),x(re,"$>=",function(k){var z=this;return W(z,k)>=0}),x(re,"$<",function(k){var z=this;return W(z,k)<0}),x(re,"$<=",function(k){var z=this;return W(z,k)<=0}),x(re,"$between?",function(k,z){var M=this;return!(y(w(M,k))||y(X(M,z)))}),x(re,"$clamp",function(k,z){var M=this;z==null&&(z=Y);var q,P;if(z===Y&&(e.is_a(k,e.Range)||V.$raise(h("TypeError"),"wrong argument type "+k.$class()+" (expected Range)"),P=k.excl,z=k.end,k=k.begin,z!==Y&&P&&V.$raise(h("ArgumentError"),"cannot clamp with an exclusive range")),k!==Y&&z!==Y&&W(k,z)>0&&V.$raise(h("ArgumentError"),"min argument must be smaller than max argument"),k!==Y){if(q=W(M,k),q==0)return M;if(q<0)return k}return z!==Y&&(q=W(M,z),q>0)?z:M},-2)}("::")};Opal.modules["corelib/regexp"]=function(e){var y=e.coerce_to,F=e.prop,X=e.freeze,w=e.klass,O=e.const_set,V=e.send2,x=e.find_super,Y=e.def,h=e.truthy,T=e.gvars,re=e.slice,U=e.Kernel,B=e.Opal,ee=e.alias,W=e.send,b=e.regexp,k=e.rb_plus,z=e.ensure_kwargs,M=e.hash_get,q=e.rb_ge,P=e.to_a,p=e.eqeqeq,I=e.rb_minus,H=e.return_ivar,L=[],E=e.nil,a=e.$$$;return e.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),w("::",a("StandardError"),"RegexpError"),function(d,A,g){var _=w(d,A,"Regexp"),f=[_].concat(g),G=e.$r(f);return O(_,"IGNORECASE",1),O(_,"EXTENDED",2),O(_,"MULTILINE",4),e.prop(_.$$prototype,"$$is_regexp",!0),function(C,l){var o=[C].concat(l),s=e.$r(o);return Y(C,"$allocate",function n(){var t=n.$$p||E,r=this,i=E;return n.$$p=null,i=V(r,x(r,"allocate",n,!1,!0),"allocate",[],t),i.uninitialized=!0,i}),Y(C,"$escape",function(t){return t=y(t,a("String"),"to_str"),e.escape_regexp(t)}),Y(C,"$last_match",function(t){return T["~"]==null&&(T["~"]=E),t==null&&(t=E),h(t["$nil?"]())?T["~"]:h(T["~"])?T["~"]["$[]"](t):E},-1),Y(C,"$union",function(t){var r,i,$=this;r=re(arguments),i=r;var u,v,N,D,R;if(i.length==0)return/(?!)/;if(i.length==1&&i[0].$$is_regexp)return i[0];u=i[0].$$is_array,i.length>1&&u&&U.$raise(a("TypeError"),"no implicit conversion of Array into String"),u&&(i=i[0]),D=void 0,v=[];for(var J=0;J<i.length;J++)N=i[J],N.$$is_string?v.push($.$escape(N)):N.$$is_regexp?(R=N.$options(),D!=null&&D!=R&&U.$raise(a("TypeError"),"All expressions must use the same options"),D=R,v.push("("+N.source+")")):v.push($.$escape(N.$to_str()));return $.$new(v.$join("|"),D)},-1),Y(C,"$new",function(t,r){if(t.$$is_regexp)return new RegExp(t);if(t=B["$coerce_to!"](t,a("String"),"to_str"),t.charAt(t.length-1)==="\\"&&t.charAt(t.length-2)!=="\\"&&U.$raise(a("RegexpError"),"too short escape sequence: /"+t+"/"),t=t.replace("\\A","^").replace("\\z","$"),r===void 0||r["$!"]())return new RegExp(t);if(r.$$is_number){var i="";s("IGNORECASE")&r&&(i+="i"),s("MULTILINE")&r&&(i+="m"),r=i}else r="i";return new RegExp(t,r)},-2),ee(C,"compile","new"),ee(C,"quote","escape")}(e.get_singleton_class(_),f),Y(_,"$==",function(l){var o=this;return l instanceof RegExp&&o.toString()===l.toString()}),Y(_,"$===",function(l){var o=this;return o.$match(B["$coerce_to?"](l,a("String"),"to_str"))!==E}),Y(_,"$=~",function(l){var o=this,s=E;return T["~"]==null&&(T["~"]=E),h(s=o.$match(l))?T["~"].$begin(0):s}),Y(_,"$freeze",function(){var l=this;return h(l["$frozen?"]())?l:(l.hasOwnProperty("$$g")||F(l,"$$g",null),l.hasOwnProperty("$$gm")||F(l,"$$gm",null),X(l))}),Y(_,"$inspect",function(){var l=this,o=/^\/(.*)\/([^\/]*)$/,s=l.toString(),n=o.exec(s);if(n){for(var t=n[1],r=n[2],i=t.split(""),$=i.length,u=!1,v="",N=0;N<$;N++){var D=i[N];!u&&D=="/"&&(v=v.concat("\\")),v=v.concat(D),D=="\\"?u?u=!1:u=!0:u=!1}return"/"+v+"/"+r}else return s}),Y(_,"$match",function C(l,o){var s=C.$$p||E,n=this;if(T["~"]==null&&(T["~"]=E),C.$$p=null,n.uninitialized&&U.$raise(a("TypeError"),"uninitialized Regexp"),o===void 0){if(l===E)return T["~"]=E;var t=n.exec(y(l,a("String"),"to_str"));return t?(T["~"]=a("MatchData").$new(n,t),s===E?T["~"]:e.yield1(s,T["~"])):T["~"]=E}if(o=y(o,a("Integer"),"to_int"),l===E||(l=y(l,a("String"),"to_str"),o<0&&(o+=l.length,o<0)))return T["~"]=E;for(var r,i=e.global_regexp(n);;){if(r=i.exec(l),r===null)return T["~"]=E;if(r.index>=o)return T["~"]=a("MatchData").$new(i,r),s===E?T["~"]:e.yield1(s,T["~"]);i.lastIndex=r.index+1}},-2),Y(_,"$match?",function(l,o){var s=this;if(s.uninitialized&&U.$raise(a("TypeError"),"uninitialized Regexp"),o===void 0)return l===E?!1:s.test(y(l,a("String"),"to_str"));if(o=y(o,a("Integer"),"to_int"),l===E||(l=y(l,a("String"),"to_str"),o<0&&(o+=l.length,o<0)))return!1;var n,t=e.global_regexp(s);return n=t.exec(l),!(n===null||n.index<o)},-2),Y(_,"$names",function(){var l=this;return W(l.$source().$scan(b(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),Y(_,"$named_captures",function(){var l=this;return W(W(W(l.$source().$scan(b(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(s){return s==null&&(s=E),W(s,"map",[],function(t){return t==null&&(t=E),k(t.$last(),1)})})}),Y(_,"$~",function(){var l=this;return T._==null&&(T._=E),l["$=~"](T._)}),Y(_,"$source",function(){var l=this;return l.source}),Y(_,"$options",function(){var l=this;l.uninitialized&&U.$raise(a("TypeError"),"uninitialized Regexp");var o=0;return l.multiline&&(o|=G("MULTILINE")),l.ignoreCase&&(o|=G("IGNORECASE")),o}),Y(_,"$casefold?",function(){var l=this;return l.ignoreCase}),ee(_,"eql?","=="),ee(_,"to_s","source")}("::",RegExp,L),function(d,A,g){var _=w(d,A,"MatchData"),f=[_].concat(g),G=e.$r(f),C=_.$$prototype;return C.matches=E,_.$attr_reader("post_match","pre_match","regexp","string"),Y(_,"$initialize",function(o,s,n){var t,r=this;n=z(n),t=M(n,"no_matchdata"),t==null&&(t=!1),h(t)||(T["~"]=r),r.regexp=o,r.begin=s.index,r.string=s.input,r.pre_match=s.input.slice(0,s.index),r.post_match=s.input.slice(s.index+s[0].length),r.matches=[];for(var i=0,$=s.length;i<$;i++){var u=s[i];u==null?r.matches.push(E):r.matches.push(u)}},-3),Y(_,"$match",function(o){var s=this,n=E;return h(n=s["$[]"](o))?n:h(o["$is_a?"](G("Integer")))&&h(q(o,s.$length()))?U.$raise(a("IndexError"),"index "+o+" out of matches"):E}),Y(_,"$match_length",function(o){var s,n=this;return s=n.$match(o),s===E||s==null?E:s.$length()}),Y(_,"$[]",function(o){var s,n,t=this;return s=re(arguments),n=s,n[0].$$is_string?(t.$regexp().$names()["$include?"](n["$[]"](0))["$!"]()&&U.$raise(a("IndexError"),"undefined group name reference: "+n["$[]"](0)),t.$named_captures()["$[]"](n["$[]"](0))):W(t.matches,"[]",P(n))},-1),Y(_,"$offset",function(o){var s=this;return o!==0&&U.$raise(a("ArgumentError"),"MatchData#offset only supports 0th element"),[s.begin,s.begin+s.matches[o].length]}),Y(_,"$==",function(o){var s=this,n=E,t=E,r=E,i=E;return p(a("MatchData"),o)?h(n=h(t=h(r=h(i=s.string==o.string)?s.regexp.toString()==o.regexp.toString():i)?s.pre_match==o.pre_match:r)?s.post_match==o.post_match:t)?s.begin==o.begin:n:!1}),Y(_,"$begin",function(o){var s=this;return o!==0&&U.$raise(a("ArgumentError"),"MatchData#begin only supports 0th element"),s.begin}),Y(_,"$end",function(o){var s=this;return o!==0&&U.$raise(a("ArgumentError"),"MatchData#end only supports 0th element"),s.begin+s.matches[o].length}),Y(_,"$captures",function(){var o=this;return o.matches.slice(1)}),Y(_,"$named_captures",function(){var o=this,s=E;return s=o.$captures(),W(o.$regexp().$named_captures(),"transform_values",[],function(t){return t==null&&(t=E),s["$[]"](I(t.$last(),1))})}),Y(_,"$names",function(){var o=this;return o.$regexp().$names()}),Y(_,"$inspect",function(){var o=this,s="#<MatchData "+o.matches[0].$inspect();if(o.$regexp().$names()["$empty?"]())for(var n=1,t=o.matches.length;n<t;n++)s+=" "+n+":"+o.matches[n].$inspect();else W(o.$named_captures(),"each",[],function(i,$){return i==null&&(i=E),$==null&&($=E),s+=" "+i+":"+$.$inspect()});return s+">"}),Y(_,"$length",function(){var o=this;return o.matches.length}),Y(_,"$to_a",H("matches")),Y(_,"$to_s",function(){var o=this;return o.matches[0]}),Y(_,"$values_at",function(o){var s,n,t=this;s=re(arguments),n=s;var r,i,$,u=[];for(r=0;r<n.length;r++){if(n[r].$$is_range&&(i=n[r].$to_a(),i.unshift(r,1),Array.prototype.splice.apply(n,i)),$=B["$coerce_to!"](n[r],a("Integer"),"to_int"),$<0&&($+=t.matches.length,$<0)){u.push(E);continue}u.push(t.matches[$])}return u},-1),ee(_,"eql?","=="),ee(_,"size","length")}(L[0],null,L)};Opal.modules["corelib/string"]=function(e){var y=e.coerce_to,F=e.respond_to,X=e.global_multiline_regexp,w=e.prop,O=e.opal32_init,V=e.opal32_add,x=e.klass,Y=e.send2,h=e.find_super,T=e.def,re=e.Opal,U=e.defs,B=e.slice,ee=e.send,W=e.to_a,b=e.extract_kwargs,k=e.ensure_kwargs,z=e.hash_get,M=e.eqeqeq,q=e.Kernel,P=e.truthy,p=e.gvars,I=e.rb_divide,H=e.rb_plus,L=e.eqeq,E=e.alias,a=e.const_set,d=e.top,A=[],g=e.$r(A),_=e.nil,f=e.$$$;return e.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),d.$require("corelib/comparable"),d.$require("corelib/regexp"),function(G,C,l){var o=x(G,C,"String"),s=[o].concat(l),n=e.$r(s);o.$include(f("Comparable")),e.prop(o.$$prototype,"$$is_string",!0);var t=new Map;(function(){T(o,"$__id__",function i(){var $=i.$$p||_,u=this;if(i.$$p=null,typeof u=="object")return Y(u,h(u,"__id__",i,!1,!0),"__id__",[],$);if(t.has(u))return t.get(u);var v=e.uid();return t.set(u,v),v}),T(o,"$hash",function(){var $=this,u=O(),v,N=$.length;for(u=V(u,5),u=V(u,N),v=0;v<N;v++)u=V(u,$.charCodeAt(v));return u})})(),U(o,"$try_convert",function($){return re["$coerce_to?"]($,f("String"),"to_str")}),U(o,"$new",function($){var u,v,N=this;u=B(arguments),v=u;var D=v[0]||"",R=v[v.length-1];return D=y(D,f("String"),"to_str"),R&&R.$$is_hash&&R.has("encoding")&&(D=D.$force_encoding(R.get("encoding").value)),D=new N.$$constructor(D),D.$initialize.$$pristine||ee(D,"initialize",W(v)),D},-1),T(o,"$initialize",function($,u){var v,N;return v=B(arguments),N=b(v),N=k(N),v.length>0&&v.shift(),z(N,"encoding"),z(N,"capacity"),_},-1),T(o,"$%",function($){var u=this;return M(f("Array"),$)?ee(u,"format",[u].concat(W($))):u.$format(u,$)}),T(o,"$*",function($){var u=this;if($=y($,f("Integer"),"to_int"),$<0&&q.$raise(f("ArgumentError"),"negative argument"),$===0)return"";var v="",N=u.toString();for(N.length*$>=1<<28&&q.$raise(f("RangeError"),"multiply count must not overflow maximum string size");($&1)===1&&(v+=N),$>>>=1,$!==0;)N+=N;return v}),T(o,"$+",function($){var u=this;if($=y($,f("String"),"to_str"),$==""&&u.$$class===e.String)return u;if(u==""&&$.$$class===e.String)return $;var v=u+$;return u.encoding===v.encoding&&$.encoding===v.encoding||u.encoding.name==="UTF-8"||$.encoding.name==="UTF-8"?v:e.enc(v,u.encoding)}),T(o,"$<=>",function($){var u=this;if(P($["$respond_to?"]("to_str")))return $=$.$to_str().$to_s(),u>$?1:u<$?-1:0;var v=$["$<=>"](u);return v===_?_:v>0?-1:v<0?1:0}),T(o,"$==",function($){var u=this;return $.$$is_string?u.toString()===$.toString():F($,"$to_str")?$["$=="](u):!1}),T(o,"$=~",function($){var u=this;return $.$$is_string&&q.$raise(f("TypeError"),"type mismatch: String given"),$["$=~"](u)}),T(o,"$[]",function($,u){var v=this,N=v.length,D,R;if($.$$is_range)return D=$.excl,R=$,u=$.end===_?-1:y($.end,f("Integer"),"to_int"),$=$.begin===_?0:y($.begin,f("Integer"),"to_int"),Math.abs($)>N?_:($<0&&($+=N),u<0&&(u+=N),(!D||R.end===_)&&(u+=1),u=u-$,u<0&&(u=0),v.substr($,u));if($.$$is_string)return u!=null&&q.$raise(f("TypeError")),v.indexOf($)!==-1?$:_;if($.$$is_regexp){var J=v.match($);return J===null?(p["~"]=_,_):(p["~"]=f("MatchData").$new($,J),u==null?J[0]:(u=y(u,f("Integer"),"to_int"),u<0&&-u<J.length?J[u+=J.length]:u>=0&&u<J.length?J[u]:_))}return $=y($,f("Integer"),"to_int"),$<0&&($+=N),u==null?$>=N||$<0?_:v.substr($,1):(u=y(u,f("Integer"),"to_int"),u<0||$>N||$<0?_:v.substr($,u))},-2),T(o,"$b",function(){var $=this;return new String($).$force_encoding("binary")}),T(o,"$capitalize",function(){var $=this;return $.charAt(0).toUpperCase()+$.substr(1).toLowerCase()}),T(o,"$casecmp",function($){var u=this;if(!P($["$respond_to?"]("to_str")))return _;$=y($,f("String"),"to_str").$to_s();var v=/^[\x00-\x7F]*$/;return v.test(u)&&v.test($)&&(u=u.toLowerCase(),$=$.toLowerCase()),u["$<=>"]($)}),T(o,"$casecmp?",function($){var u=this,v=u.$casecmp($);return v===_?_:v===0}),T(o,"$center",function($,u){var v=this;if(u==null&&(u=" "),$=y($,f("Integer"),"to_int"),u=y(u,f("String"),"to_str").$to_s(),P(u["$empty?"]())&&q.$raise(f("ArgumentError"),"zero width padding"),P($<=v.length))return v;var N=v.$ljust(I(H($,v.length),2).$ceil(),u),D=v.$rjust(I(H($,v.length),2).$floor(),u);return D+N.slice(v.length)},-2),T(o,"$chomp",function($){var u=this;if(p["/"]==null&&(p["/"]=_),$==null&&($=p["/"]),P($===_||u.length===0))return u;$=re["$coerce_to!"]($,f("String"),"to_str").$to_s();var v;if($===`
`)v=u.replace(/\r?\n?$/,"");else if($==="")v=u.replace(/(\r?\n)+$/,"");else if(u.length>=$.length){var N=u.substr(u.length-$.length,$.length);N===$&&(v=u.substr(0,u.length-$.length))}return v??u},-1),T(o,"$chop",function(){var $=this,u=$.length,v;return u<=1?v="":$.charAt(u-1)===`
`&&$.charAt(u-2)==="\r"?v=$.substr(0,u-2):v=$.substr(0,u-1),v}),T(o,"$chr",function(){var $=this;return $.charAt(0)}),T(o,"$clone",function($){var u,v=this,N=_;return $=k($),u=z($,"freeze"),u==null&&(u=_),P(u["$nil?"]())||L(u,!0)||L(u,!1)||v.$raise(n("ArgumentError"),"unexpected value for freeze: "+u.$class()),N=new String(v),N.$copy_singleton_methods(v),N.$initialize_clone(v,new Map([["freeze",u]])),L(u,!0)?N.$$frozen||(N.$$frozen=!0):P(u["$nil?"]())&&v.$$frozen&&(N.$$frozen=!0),N},-1),T(o,"$dup",function(){var $=this,u=_;return u=new String($),u.$initialize_dup($),u}),T(o,"$count",function($){var u,v,N=this;u=B(arguments),v=u,v.length===0&&q.$raise(f("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var D=r(v);return D===null?0:N.length-N.replace(new RegExp(D,"g"),"").length},-1),T(o,"$delete",function($){var u,v,N=this;u=B(arguments),v=u,v.length===0&&q.$raise(f("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var D=r(v);return D===null?N:N.replace(new RegExp(D,"g"),"")},-1),T(o,"$delete_prefix",function($){var u=this;return $.$$is_string||($=y($,f("String"),"to_str")),u.slice(0,$.length)===$?u.slice($.length):u}),T(o,"$delete_suffix",function($){var u=this;return $.$$is_string||($=y($,f("String"),"to_str")),u.slice(u.length-$.length)===$?u.slice(0,u.length-$.length):u}),T(o,"$downcase",function(){var $=this;return $.toLowerCase()}),T(o,"$each_line",function i($,u){var v=i.$$p||_,N,D,R,J,te=this;if(p["/"]==null&&(p["/"]=_),i.$$p=null,N=B(arguments),D=b(N),D=k(D),N.length>0&&(R=N.shift()),R==null&&(R=p["/"]),J=z(D,"chomp"),J==null&&(J=!1),v===_)return te.$enum_for("each_line",R,new Map([["chomp",J]]));if(R===_)return e.yield1(v,te),te;R=y(R,f("String"),"to_str");var ae,le,_e,de,ge,ve,me,be;if(R.length===0){for(ae=te.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),le=0,_e=ae.length;le<_e;le+=2)(ae[le]||ae[le+1])&&(be=(ae[le]||"")+(ae[le+1]||""),J&&(be=be.$chomp(`
`)),e.yield1(v,be));return te}for(ge=te.$chomp(R),ve=te.length!=ge.length,me=ge.split(R),le=0,de=me.length;le<de;le++)be=me[le],(le<de-1||ve)&&(be+=R),J&&(be=be.$chomp(R)),e.yield1(v,be);return te},-1),T(o,"$empty?",function(){var $=this;return $.length===0}),T(o,"$end_with?",function($){var u,v,N=this;u=B(arguments),v=u;for(var D=0,R=v.length;D<R;D++){var J=y(v[D],f("String"),"to_str").$to_s();if(N.length>=J.length&&N.substr(N.length-J.length,J.length)==J)return!0}return!1},-1),T(o,"$gsub",function i($,u){var v=i.$$p||_,N=this;if(i.$$p=null,u===void 0&&v===_)return N.$enum_for("gsub",$);var D="",R=_,J=0,te,ae;$.$$is_regexp?$=X($):($=y($,f("String"),"to_str"),$=new RegExp($.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var le;;){if(te=$.exec(N),te===null){p["~"]=_,D+=N.slice(J);break}R=f("MatchData").$new($,te),u===void 0?(le=$.lastIndex,ae=v(te[0]),$.lastIndex=le):u.$$is_hash?ae=u["$[]"](te[0]).$to_s():(u.$$is_string||(u=y(u,f("String"),"to_str")),ae=u.replace(/([\\]+)([0-9+&`'])/g,function(_e,de,ge){if(de.length%2===0)return _e;switch(ge){case"+":for(var ve=te.length-1;ve>0;ve--)if(te[ve]!==void 0)return de.slice(1)+te[ve];return"";case"&":return de.slice(1)+te[0];case"`":return de.slice(1)+N.slice(0,te.index);case"'":return de.slice(1)+N.slice(te.index+te[0].length);default:return de.slice(1)+(te[ge]||"")}}).replace(/\\\\/g,"\\")),$.lastIndex===te.index?(D+=N.slice(J,te.index)+ae+(N[te.index]||""),$.lastIndex+=1):D+=N.slice(J,te.index)+ae,J=$.lastIndex}return p["~"]=R,D},-2),T(o,"$hex",function(){var $=this;return $.$to_i(16)}),T(o,"$include?",function($){var u=this;return $.$$is_string||($=y($,f("String"),"to_str")),u.indexOf($)!==-1}),T(o,"$index",function($,u){var v=this,N,D,R;if(u===void 0)u=0;else if(u=y(u,f("Integer"),"to_int"),u<0&&(u+=v.length,u<0))return _;if($.$$is_regexp)for(R=X($);;){if(D=R.exec(v),D===null){p["~"]=_,N=-1;break}if(D.index>=u){p["~"]=f("MatchData").$new(R,D),N=D.index;break}R.lastIndex=D.index+1}else $=y($,f("String"),"to_str"),$.length===0&&u>v.length?N=-1:N=v.indexOf($,u);return N===-1?_:N},-2),T(o,"$inspect",function(){var $=this,u=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,v={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},N=$.replace(u,function(D){return v[D]?v[D]:(D=D.charCodeAt(0),D<=255&&($.encoding["$binary?"]()||$.internal_encoding["$binary?"]())?"\\x"+("00"+D.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+D.toString(16).toUpperCase()).slice(-4))});return'"'+N.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),T(o,"$intern",function(){var $=this;return $.toString()}),T(o,"$length",function(){var $=this;return $.length}),E(o,"size","length"),T(o,"$lines",function i($,u){var v=i.$$p||_,N,D,R,J,te=this,ae=_;return p["/"]==null&&(p["/"]=_),i.$$p=null,N=B(arguments),D=b(N),D=k(D),N.length>0&&(R=N.shift()),R==null&&(R=p["/"]),J=z(D,"chomp"),J==null&&(J=!1),ae=ee(te,"each_line",[R,new Map([["chomp",J]])],v.$to_proc()),P(v)?te:ae.$to_a()},-1),T(o,"$ljust",function($,u){var v=this;if(u==null&&(u=" "),$=y($,f("Integer"),"to_int"),u=y(u,f("String"),"to_str").$to_s(),P(u["$empty?"]())&&q.$raise(f("ArgumentError"),"zero width padding"),P($<=v.length))return v;var N=-1,D="";for($-=v.length;++N<$;)D+=u;return v+D.slice(0,$)},-2),T(o,"$lstrip",function(){var $=this;return $.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),T(o,"$ascii_only?",function(){var $=this;return $.encoding.ascii?/^[\x00-\x7F]*$/.test($):!1}),T(o,"$match",function i($,u){var v=i.$$p||_,N=this;return i.$$p=null,(M(n("String"),$)||P($["$respond_to?"]("to_str")))&&($=f("Regexp").$new($.$to_str())),M(f("Regexp"),$)||q.$raise(f("TypeError"),"wrong argument type "+$.$class()+" (expected Regexp)"),ee($,"match",[N,u],v.$to_proc())},-2),T(o,"$match?",function($,u){var v=this;return(M(n("String"),$)||P($["$respond_to?"]("to_str")))&&($=f("Regexp").$new($.$to_str())),M(f("Regexp"),$)||q.$raise(f("TypeError"),"wrong argument type "+$.$class()+" (expected Regexp)"),$["$match?"](v,u)},-2),T(o,"$next",function(){var $=this,u=$.length;if(u===0)return"";for(var v=$,N=$.search(/[a-zA-Z0-9]/),D=!1,R;u--;){if(R=$.charCodeAt(u),R>=48&&R<=57||R>=65&&R<=90||R>=97&&R<=122)switch(R){case 57:D=!0,R=48;break;case 90:D=!0,R=65;break;case 122:D=!0,R=97;break;default:D=!1,R+=1}else N===-1?R===255?(D=!0,R=0):(D=!1,R+=1):D=!0;if(v=v.slice(0,u)+String.fromCharCode(R)+v.slice(u+1),D&&(u===0||u===N)){switch(R){case 65:break;case 97:break;default:R+=1}u===0?v=String.fromCharCode(R)+v:v=v.slice(0,u)+String.fromCharCode(R)+v.slice(u),D=!1}if(!D)break}return v}),T(o,"$oct",function(){var $=this,u,v=$,N=8;return/^\s*_/.test(v)?0:(v=v.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(D,R,J,te){switch(te.charAt(0)){case"+":case"-":return D;case"0":if(te.charAt(1)==="x"&&J==="0x")return D}switch(J){case"0b":N=2;break;case"0":case"0o":N=8;break;case"0d":N=10;break;case"0x":N=16;break}return R+te}),u=parseInt(v.replace(/_(?!_)/g,""),N),isNaN(u)?0:u)}),T(o,"$ord",function(){var $=this;return typeof $.codePointAt=="function"?$.codePointAt(0):$.charCodeAt(0)}),T(o,"$partition",function($){var u=this,v,N;return $.$$is_regexp?(N=$.exec(u),N===null?v=-1:(f("MatchData").$new($,N),$=N[0],v=N.index)):($=y($,f("String"),"to_str"),v=u.indexOf($)),v===-1?[u,"",""]:[u.slice(0,v),u.slice(v,v+$.length),u.slice(v+$.length)]}),T(o,"$reverse",function(){var $=this;return $.split("").reverse().join("")}),T(o,"$rindex",function($,u){var v=this,N,D,R,J;if(u===void 0)u=v.length;else if(u=y(u,f("Integer"),"to_int"),u<0&&(u+=v.length,u<0))return _;if($.$$is_regexp){for(D=null,R=X($);J=R.exec(v),!(J===null||J.index>u);)D=J,R.lastIndex=D.index+1;D===null?(p["~"]=_,N=-1):(f("MatchData").$new(R,D),N=D.index)}else $=y($,f("String"),"to_str"),N=v.lastIndexOf($,u);return N===-1?_:N},-2),T(o,"$rjust",function($,u){var v=this;if(u==null&&(u=" "),$=y($,f("Integer"),"to_int"),u=y(u,f("String"),"to_str").$to_s(),P(u["$empty?"]())&&q.$raise(f("ArgumentError"),"zero width padding"),P($<=v.length))return v;var N=Math.floor($-v.length),D=Math.floor(N/u.length),R=Array(D+1).join(u),J=N-R.length;return R+u.slice(0,J)+v},-2),T(o,"$rpartition",function($){var u=this,v,N,D,R;if($.$$is_regexp){for(N=null,D=X($);R=D.exec(u),R!==null;)N=R,D.lastIndex=N.index+1;N===null?v=-1:(f("MatchData").$new(D,N),$=N[0],v=N.index)}else $=y($,f("String"),"to_str"),v=u.lastIndexOf($);return v===-1?["","",u]:[u.slice(0,v),u.slice(v,v+$.length),u.slice(v+$.length)]}),T(o,"$rstrip",function(){var $=this;return $.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),T(o,"$scan",function i($,u){var v=i.$$p||_,N,D=this;i.$$p=null,u=k(u),N=z(u,"no_matchdata"),N==null&&(N=!1);var R=[],J=_,te;for($.$$is_regexp?$=X($):($=y($,f("String"),"to_str"),$=new RegExp($.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(te=$.exec(D))!=null;)J=f("MatchData").$new($,te,new Map([["no_matchdata",N]])),v===_?te.length==1?R.push(te[0]):R.push(J.$captures()):te.length==1?e.yield1(v,te[0]):e.yield1(v,J.$captures()),$.lastIndex===te.index&&($.lastIndex+=1);return N||(p["~"]=J),v!==_?D:R},-2),T(o,"$singleton_class",function(){var $=this;return e.get_singleton_class($)}),T(o,"$split",function($,u){var v=this,N=_;if(p[";"]==null&&(p[";"]=_),v.length===0)return[];if(u===void 0)u=0;else if(u=re["$coerce_to!"](u,f("Integer"),"to_int"),u===1)return[v];($===void 0||$===_)&&($=P(N=p[";"])?N:" ");var D=[],R=v.toString(),J=0,te,ae=0,le=0,_e,de;if($.$$is_regexp?$=X($):($=y($,f("String"),"to_str").$to_s(),$===" "&&($=/\s+/gm,R=R.replace(/^\s+/,""))),D=R.split($),D.length===1&&D[0]===R)return[D[0]];for(;(_e=D.indexOf(void 0))!==-1;)D.splice(_e,1);if(u===0){for(;D[D.length-1]==="";)D.pop();return D}if($.$$is_regexp||($=e.escape_regexp($),$=new RegExp($,"gm")),te=$.exec(R),u<0){if(te!==null&&te[0]===""&&$.source.indexOf("(?=")===-1)for(_e=0,de=te.length;_e<de;_e++)D.push("");return D}if(te!==null&&te[0]==="")return le=(te.length-1)*(u-1)+u,D.splice(le-1,D.length-1,D.slice(le-1).join("")),D;if(u>=D.length)return D;for(;te!==null&&(ae++,J=$.lastIndex,le+=te.length,ae+1!==u);)te=$.exec(R);return D.splice(le,D.length-1,R.slice(J)),D},-1),T(o,"$squeeze",function($){var u,v,N=this;if(u=B(arguments),v=u,v.length===0)return N.replace(/(.)\1+/g,"$1");var D=r(v);return D===null?N:N.replace(new RegExp("("+D+")\\1+","g"),"$1")},-1),T(o,"$start_with?",function($){var u,v,N=this;u=B(arguments),v=u;for(var D=0,R=v.length;D<R;D++)if(v[D].$$is_regexp){var J=v[D],te=J.exec(N);if(te!=null&&te.index===0)return p["~"]=f("MatchData").$new(J,te),!0;p["~"]=_}else{var ae=y(v[D],f("String"),"to_str").$to_s();if(N.length>=ae.length&&N.startsWith(ae))return!0}return!1},-1),T(o,"$strip",function(){var $=this;return $.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),T(o,"$sub",function i($,u){var v=i.$$p||_,N=this;i.$$p=null,$.$$is_regexp||($=y($,f("String"),"to_str"),$=new RegExp($.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var D,R=$.exec(N);return R===null?(p["~"]=_,D=N.toString()):(f("MatchData").$new($,R),u===void 0?(v===_&&q.$raise(f("ArgumentError"),"wrong number of arguments (1 for 2)"),D=N.slice(0,R.index)+v(R[0])+N.slice(R.index+R[0].length)):u.$$is_hash?D=N.slice(0,R.index)+u["$[]"](R[0]).$to_s()+N.slice(R.index+R[0].length):(u=y(u,f("String"),"to_str"),u=u.replace(/([\\]+)([0-9+&`'])/g,function(J,te,ae){if(te.length%2===0)return J;switch(ae){case"+":for(var le=R.length-1;le>0;le--)if(R[le]!==void 0)return te.slice(1)+R[le];return"";case"&":return te.slice(1)+R[0];case"`":return te.slice(1)+N.slice(0,R.index);case"'":return te.slice(1)+N.slice(R.index+R[0].length);default:return te.slice(1)+(R[ae]||"")}}).replace(/\\\\/g,"\\"),D=N.slice(0,R.index)+u+N.slice(R.index+R[0].length))),D},-2),T(o,"$sum",function($){var u=this;$==null&&($=16),$=y($,f("Integer"),"to_int");for(var v=0,N=u.length,D=0;D<N;D++)v+=u.charCodeAt(D);return $<=0?v:v&Math.pow(2,$)-1},-1),T(o,"$swapcase",function(){var $=this,u=$.replace(/([a-z]+)|([A-Z]+)/g,function(v,N,D){return N?v.toUpperCase():v.toLowerCase()});return u}),T(o,"$to_f",function(){var $=this;if($.charAt(0)==="_")return 0;var u=parseFloat($.replace(/_/g,""));return isNaN(u)||u==1/0||u==-1/0?0:u}),T(o,"$to_i",function($){var u=this;$==null&&($=10);var v,N=u.toLowerCase(),D=y($,f("Integer"),"to_int");return(D===1||D<0||D>36)&&q.$raise(f("ArgumentError"),"invalid radix "+D),/^\s*_/.test(N)?0:(N=N.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(R,J,te,ae){switch(ae.charAt(0)){case"+":case"-":return R;case"0":if(ae.charAt(1)==="x"&&te==="0x"&&(D===0||D===16))return R}switch(te){case"0b":if(D===0||D===2)return D=2,J+ae;break;case"0":case"0o":if(D===0||D===8)return D=8,J+ae;break;case"0d":if(D===0||D===10)return D=10,J+ae;break;case"0x":if(D===0||D===16)return D=16,J+ae;break}return R}),v=parseInt(N.replace(/_(?!_)/g,""),D),isNaN(v)?0:v)},-1),T(o,"$to_proc",function i(){i.$$p;var $=this,u=_,v=_,N=_;return i.$$p=null,u=$.valueOf(),v=e.jsid(u),N=ee(q,"proc",[],function D(R){var J=D.$$p||_,te,ae;D.$$p=null,te=B(arguments),ae=te,ae.length===0&&q.$raise(f("ArgumentError"),"no receiver given");var le=ae[0];le==null&&(le=_);var _e=le[v];return _e?ae=ae.slice(1):(_e=le.$method_missing,ae[0]=u),typeof J=="function"&&(_e.$$p=J),ae.length===0?_e.call(le):_e.apply(le,ae)},-1),N.$$source_location=_,N}),T(o,"$to_s",function(){var $=this;return $.toString()}),T(o,"$tr",function($,u){var v=this;if($=y($,f("String"),"to_str").$to_s(),u=y(u,f("String"),"to_str").$to_s(),$.length==0||$===u)return v;var N,D,R,J,te,ae,le,_e={},de=$.split(""),ge=de.length,ve=u.split(""),me=ve.length,be=!1,$e=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),$e=ve[me-1],ge-=1);var S=[],j=null;for(D=!1,N=0;N<ge;N++)if(J=de[N],j==null)j=J,S.push(J);else if(J==="-")j==="-"?(S.push("-"),S.push("-")):N==ge-1?S.push("-"):D=!0;else if(D){for(te=j.charCodeAt(0),ae=J.charCodeAt(0),te>ae&&q.$raise(f("ArgumentError"),'invalid range "'+String.fromCharCode(te)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=te+1;R<ae;R++)S.push(String.fromCharCode(R));S.push(J),D=null,j=null}else S.push(J);if(de=S,ge=de.length,be)for(N=0;N<ge;N++)_e[de[N]]=!0;else{if(me>0){var Z=[],Q=null;for(D=!1,N=0;N<me;N++)if(J=ve[N],Q==null)Q=J,Z.push(J);else if(J==="-")Q==="-"?(Z.push("-"),Z.push("-")):N==me-1?Z.push("-"):D=!0;else if(D){for(te=Q.charCodeAt(0),ae=J.charCodeAt(0),te>ae&&q.$raise(f("ArgumentError"),'invalid range "'+String.fromCharCode(te)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=te+1;R<ae;R++)Z.push(String.fromCharCode(R));Z.push(J),D=null,Q=null}else Z.push(J);ve=Z,me=ve.length}var ie=ge-me;if(ie>0){var se=me>0?ve[me-1]:"";for(N=0;N<ie;N++)ve.push(se)}for(N=0;N<ge;N++)_e[de[N]]=ve[N]}var oe="";for(N=0,le=v.length;N<le;N++){J=v.charAt(N);var fe=_e[J];be?oe+=fe==null?$e:J:oe+=fe??J}return oe}),T(o,"$tr_s",function($,u){var v=this;if($=y($,f("String"),"to_str").$to_s(),u=y(u,f("String"),"to_str").$to_s(),$.length==0)return v;var N,D,R,J,te,ae,le,_e={},de=$.split(""),ge=de.length,ve=u.split(""),me=ve.length,be=!1,$e=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),$e=ve[me-1],ge-=1);var S=[],j=null;for(D=!1,N=0;N<ge;N++)if(J=de[N],j==null)j=J,S.push(J);else if(J==="-")j==="-"?(S.push("-"),S.push("-")):N==ge-1?S.push("-"):D=!0;else if(D){for(te=j.charCodeAt(0),ae=J.charCodeAt(0),te>ae&&q.$raise(f("ArgumentError"),'invalid range "'+String.fromCharCode(te)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=te+1;R<ae;R++)S.push(String.fromCharCode(R));S.push(J),D=null,j=null}else S.push(J);if(de=S,ge=de.length,be)for(N=0;N<ge;N++)_e[de[N]]=!0;else{if(me>0){var Z=[],Q=null;for(D=!1,N=0;N<me;N++)if(J=ve[N],j==null)j=J,Z.push(J);else if(J==="-")Q==="-"?(Z.push("-"),Z.push("-")):N==me-1?Z.push("-"):D=!0;else if(D){for(te=j.charCodeAt(0),ae=J.charCodeAt(0),te>ae&&q.$raise(f("ArgumentError"),'invalid range "'+String.fromCharCode(te)+"-"+String.fromCharCode(ae)+'" in string transliteration'),R=te+1;R<ae;R++)Z.push(String.fromCharCode(R));Z.push(J),D=null,j=null}else Z.push(J);ve=Z,me=ve.length}var ie=ge-me;if(ie>0){var se=me>0?ve[me-1]:"";for(N=0;N<ie;N++)ve.push(se)}for(N=0;N<ge;N++)_e[de[N]]=ve[N]}var oe="",fe=null;for(N=0,le=v.length;N<le;N++){J=v.charAt(N);var c=_e[J];be?c==null?fe==null&&(oe+=$e,fe=!0):(oe+=J,fe=null):c!=null?(fe==null||fe!==c)&&(oe+=c,fe=c):(oe+=J,fe=null)}return oe}),T(o,"$upcase",function(){var $=this;return $.toUpperCase()}),T(o,"$upto",function i($,u){var v=i.$$p||_,N=this;if(i.$$p=null,u==null&&(u=!1),v===_)return N.$enum_for("upto",$,u);var D,R,J=N.toString();if($=y($,f("String"),"to_str"),J.length===1&&$.length===1)for(D=J.charCodeAt(0),R=$.charCodeAt(0);D<=R&&!(u&&D===R);)v(String.fromCharCode(D)),D+=1;else if(parseInt(J,10).toString()===J&&parseInt($,10).toString()===$)for(D=parseInt(J,10),R=parseInt($,10);D<=R&&!(u&&D===R);)v(D.toString()),D+=1;else for(;J.length<=$.length&&J<=$&&!(u&&J===$);)v(J),J=J.$succ();return N},-2);function r(i){function $(_e){var de="",ge,ve=_e.length,me,be,$e,S,j;for(ge=0;ge<ve;ge++)if(me=_e.charAt(ge),me==="-"&&ge>0&&ge<ve-1&&!be){for($e=_e.charCodeAt(ge-1),S=_e.charCodeAt(ge+1),$e>S&&q.$raise(f("ArgumentError"),'invalid range "'+$e+"-"+S+'" in string transliteration'),j=$e+1;j<S+1;j++)de+=String.fromCharCode(j);be=!0,ge++}else be=me==="\\",de+=me;return de}function u(_e,de){if(_e.length===0)return de;var ge="",ve,me=_e.length,be;for(ve=0;ve<me;ve++)be=_e.charAt(ve),de.indexOf(be)!==-1&&(ge+=be);return ge}var v,N,D,R,J,te,ae="",le="";for(v=0,N=i.length;v<N;v++)D=y(i[v],f("String"),"to_str"),R=D.charAt(0)==="^"&&D.length>1,D=$(R?D.slice(1):D),R?le=u(le,D):ae=u(ae,D);if(ae.length>0&&le.length>0){for(te="",v=0,N=ae.length;v<N;v++)J=ae.charAt(v),le.indexOf(J)===-1&&(te+=J);ae=te,le=""}return ae.length>0?"["+f("Regexp").$escape(ae)+"]":le.length>0?"[^"+f("Regexp").$escape(le)+"]":null}return T(o,"$instance_variables",function(){return[]}),U(o,"$_load",function($){var u,v,N=this;return u=B(arguments),v=u,ee(N,"new",W(v))},-1),T(o,"$unicode_normalize",function($){var u=this;return $==null&&($="nfc"),P(["nfc","nfd","nfkc","nfkd"]["$include?"]($))||q.$raise(f("ArgumentError"),"Invalid normalization form "+$),u.normalize($.$upcase())},-1),T(o,"$unicode_normalized?",function($){var u=this;return $==null&&($="nfc"),u.$unicode_normalize($)["$=="](u)},-1),T(o,"$unpack",function($){return q.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),T(o,"$unpack1",function($){return q.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),T(o,"$freeze",function(){var $=this;return typeof $=="string"||w($,"$$frozen",!0),$}),T(o,"$-@",function(){var $=this;return typeof $=="string"||$.$$frozen?$:$.encoding.name=="UTF-8"&&$.internal_encoding.name=="UTF-8"?$.toString():$.$dup().$freeze()}),T(o,"$frozen?",function(){var $=this;return typeof $=="string"||$.$$frozen===!0}),E(o,"+@","dup"),E(o,"===","=="),E(o,"byteslice","[]"),E(o,"eql?","=="),E(o,"equal?","==="),E(o,"object_id","__id__"),E(o,"slice","[]"),E(o,"succ","next"),E(o,"to_str","to_s"),E(o,"to_sym","intern"),re.$pristine(o,"initialize")}("::",String,A),a(A[0],"Symbol",g("String"))};Opal.modules["corelib/enumerable"]=function(e){var y=e.truthy,F=e.coerce_to,X=e.yield1,w=e.yieldX,O=e.deny_frozen_access,V=e.module,x=e.send,Y=e.slice,h=e.to_a,T=e.Opal,re=e.thrower,U=e.def,B=e.Kernel,ee=e.return_val,W=e.rb_gt,b=e.rb_times,k=e.rb_lt,z=e.eqeq,M=e.rb_plus,q=e.rb_minus,P=e.rb_divide,p=e.rb_le,I=e.lambda,H=e.not,L=e.alias,E=[],a=e.nil,d=e.$$$;return e.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(A,g){var _=V(A,"Enumerable"),f=[_].concat(g),G=e.$r(f);function C(l){return l.length===0&&(l=[a]),l.length>1&&(l=[l]),l}return U(_,"$all?",function l(o){try{var s=re("return"),n=l.$$p||a,t=this;return l.$$p=null,y(o!==void 0)?x(t,"each",[],function r(i){var $,u,v=a;if($=Y(arguments),u=$,v=C(u),y(x(o,"public_send",["==="].concat(h(v)))))return a;s.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:s}):n!==a?x(t,"each",[],function r(i){var $,u;if($=Y(arguments),u=$,y(e.yieldX(n,h(u))))return a;s.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:s}):x(t,"each",[],function r(i){var $,u;if($=Y(arguments),u=$,y(T.$destructure(u)))return a;s.$throw(!1,r.$$is_lambda)},{$$arity:-1,$$ret:s}),!0}catch(r){if(r===s)return r.$v;throw r}finally{s.is_orphan=!0}},-1),U(_,"$any?",function l(o){try{var s=re("return"),n=l.$$p||a,t=this;return l.$$p=null,y(o!==void 0)?x(t,"each",[],function r(i){var $,u,v=a;if($=Y(arguments),u=$,v=C(u),y(x(o,"public_send",["==="].concat(h(v)))))s.$throw(!0,r.$$is_lambda);else return a},{$$arity:-1,$$ret:s}):n!==a?x(t,"each",[],function r(i){var $,u;if($=Y(arguments),u=$,y(e.yieldX(n,h(u))))s.$throw(!0,r.$$is_lambda);else return a},{$$arity:-1,$$ret:s}):x(t,"each",[],function r(i){var $,u;if($=Y(arguments),u=$,y(T.$destructure(u)))s.$throw(!0,r.$$is_lambda);else return a},{$$arity:-1,$$ret:s}),!1}catch(r){if(r===s)return r.$v;throw r}finally{s.is_orphan=!0}},-1),U(_,"$chunk",function l(){var o=l.$$p||a,s=this;return l.$$p=null,o===a?x(s,"to_enum",["chunk"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:s}):x(d("Enumerator"),"new",[],function n(t){var r=n.$$s==null?this:n.$$s;t==null&&(t=a);var i=a,$=[];function u(){$.length>0&&t.$yield(i,$)}r.$each.$$p=function(v){var N=X(o,v);N===a?(u(),$=[],i=a):(i===a||i===N?$.push(v):(u(),$=[v]),i=N)},r.$each(),u()},{$$s:s})}),U(_,"$chunk_while",function l(){var o=l.$$p||a,s=this;return l.$$p=null,o===a&&B.$raise(d("ArgumentError"),"no block given"),x(s,"slice_when",[],function(t,r){return t==null&&(t=a),r==null&&(r=a),e.yieldX(o,[t,r])["$!"]()})}),U(_,"$collect",function l(){var o=l.$$p||a,s=this;if(l.$$p=null,o===a)return x(s,"enum_for",["collect"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:s});var n=[];return s.$each.$$p=function(){var t=w(o,arguments);n.push(t)},s.$each(),n}),U(_,"$collect_concat",function l(){var o=l.$$p||a,s=this;return l.$$p=null,o===a?x(s,"enum_for",["collect_concat"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:s}):x(s,"map",[],o.$to_proc()).$flatten(1)}),U(_,"$compact",function(){var o=this;return o.$to_a().$compact()}),U(_,"$count",function l(o){var s=l.$$p||a,n=this,t=a;return l.$$p=null,t=0,o!=null&&s!==a&&n.$warn("warning: given block not used"),y(o!=null)?s=x(B,"proc",[],function(i){var $,u;return $=Y(arguments),u=$,T.$destructure(u)["$=="](o)},-1):y(s["$nil?"]())&&(s=x(B,"proc",[],ee(!0))),x(n,"each",[],function(i){var $,u;return $=Y(arguments),u=$,y(w(s,u))?t++:a},-1),t},-1),U(_,"$cycle",function l(o){var s=l.$$p||a,n=this;if(l.$$p=null,o==null&&(o=a),s===a)return x(n,"enum_for",["cycle",o],function $(){var u=$.$$s==null?this:$.$$s;return y(o["$nil?"]())?y(u["$respond_to?"]("size"))?d(d("Float"),"INFINITY"):a:(o=T["$coerce_to!"](o,d("Integer"),"to_int"),y(W(o,0))?b(u.$enumerator_size(),o):0)},{$$s:n});if(!y(o["$nil?"]())&&(o=T["$coerce_to!"](o,d("Integer"),"to_int"),y(o<=0)))return a;var t=[],r,i;if(n.$each.$$p=function(){var $=T.$destructure(arguments);X(s,$),t.push($)},n.$each(),t.length===0)return a;if(o===a)for(;;)for(r=0,i=t.length;r<i;r++)X(s,t[r]);else for(;o>1;){for(r=0,i=t.length;r<i;r++)X(s,t[r]);o--}},-1),U(_,"$detect",function l(o){try{var s=re("return"),n=l.$$p||a,t=this;return l.$$p=null,n===a?t.$enum_for("detect",o):(x(t,"each",[],function r(i){var $,u,v=a;if($=Y(arguments),u=$,v=T.$destructure(u),y(e.yield1(n,v)))s.$throw(v,r.$$is_lambda);else return a},{$$arity:-1,$$ret:s}),o!==void 0?typeof o=="function"?o():o:a)}catch(r){if(r===s)return r.$v;throw r}finally{s.is_orphan=!0}},-1),U(_,"$drop",function(o){var s=this;o=F(o,d("Integer"),"to_int"),y(o<0)&&B.$raise(d("ArgumentError"),"attempt to drop negative size");var n=[],t=0;return s.$each.$$p=function(){o<=t&&n.push(T.$destructure(arguments)),t++},s.$each(),n}),U(_,"$drop_while",function l(){var o=l.$$p||a,s=this;if(l.$$p=null,o===a)return s.$enum_for("drop_while");var n=[],t=!0;return s.$each.$$p=function(){var r=T.$destructure(arguments);if(t){var i=X(o,r);y(i)||(t=!1,n.push(r))}else n.push(r)},s.$each(),n}),U(_,"$each_cons",function l(o){var s=l.$$p||a,n=this;if(l.$$p=null,y(arguments.length!=1)&&B.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),o=T.$try_convert(o,d("Integer"),"to_int"),y(o<=0)&&B.$raise(d("ArgumentError"),"invalid size"),s===a)return x(n,"enum_for",["each_cons",o],function r(){var i=r.$$s==null?this:r.$$s,$=a;return $=i.$enumerator_size(),y($["$nil?"]())?a:z($,0)||y(k($,o))?0:M(q($,o),1)},{$$s:n});var t=[];return n.$each.$$p=function(){var r=T.$destructure(arguments);t.push(r),t.length>o&&t.shift(),t.length==o&&X(s,t.slice(0,o))},n.$each(),n}),U(_,"$each_entry",function l(o){var s=l.$$p||a,n,t,r=this;return l.$$p=null,n=Y(arguments),t=n,s===a?x(r,"to_enum",["each_entry"].concat(h(t)),function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:r}):(r.$each.$$p=function(){var i=T.$destructure(arguments);X(s,i)},r.$each.apply(r,t),r)},-1),U(_,"$each_slice",function l(o){var s=l.$$p||a,n=this;if(l.$$p=null,o=F(o,d("Integer"),"to_int"),y(o<=0)&&B.$raise(d("ArgumentError"),"invalid slice size"),s===a)return x(n,"enum_for",["each_slice",o],function r(){var i=r.$$s==null?this:r.$$s;return y(i["$respond_to?"]("size"))?P(i.$size(),o).$ceil():a},{$$s:n});var t=[];return n.$each.$$p=function(){var r=T.$destructure(arguments);t.push(r),t.length===o&&(X(s,t),t=[])},n.$each(),t.length>0&&X(s,t),n}),U(_,"$each_with_index",function l(o){var s=l.$$p||a,n,t,r=this;if(l.$$p=null,n=Y(arguments),t=n,s===a)return x(r,"enum_for",["each_with_index"].concat(h(t)),function $(){var u=$.$$s==null?this:$.$$s;return u.$enumerator_size()},{$$s:r});var i=0;return r.$each.$$p=function(){var $=T.$destructure(arguments);s($,i),i++},r.$each.apply(r,t),r},-1),U(_,"$each_with_object",function l(o){var s=l.$$p||a,n=this;return l.$$p=null,s===a?x(n,"enum_for",["each_with_object",o],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:n}):(n.$each.$$p=function(){var t=T.$destructure(arguments);s(t,o)},n.$each(),o)}),U(_,"$entries",function(o){var s,n,t=this;s=Y(arguments),n=s;var r=[];return t.$each.$$p=function(){r.push(T.$destructure(arguments))},t.$each.apply(t,n),r},-1),U(_,"$filter_map",function l(){var o=l.$$p||a,s=this;return l.$$p=null,o===a?x(s,"enum_for",["filter_map"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:s}):x(x(s,"map",[],o.$to_proc()),"select",[],"itself".$to_proc())}),U(_,"$find_all",function l(){var o=l.$$p||a,s=this;if(l.$$p=null,o===a)return x(s,"enum_for",["find_all"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:s});var n=[];return s.$each.$$p=function(){var t=T.$destructure(arguments),r=X(o,t);y(r)&&n.push(t)},s.$each(),n}),U(_,"$find_index",function l(o){try{var s=re("return"),n=l.$$p||a,t=this,r=a;return l.$$p=null,y(o===void 0&&n===a)?t.$enum_for("find_index"):(o!=null&&n!==a&&t.$warn("warning: given block not used"),r=0,y(o!=null)?x(t,"each",[],function i($){var u,v;return u=Y(arguments),v=u,z(T.$destructure(v),o)&&s.$throw(r,i.$$is_lambda),r+=1},{$$arity:-1,$$ret:s}):x(t,"each",[],function i($){var u,v;return u=Y(arguments),v=u,y(e.yieldX(n,h(v)))&&s.$throw(r,i.$$is_lambda),r+=1},{$$arity:-1,$$ret:s}),a)}catch(i){if(i===s)return i.$v;throw i}finally{s.is_orphan=!0}},-1),U(_,"$first",function(o){try{var s=re("return"),n=this,t=a,r=a;return y(o===void 0)?x(n,"each",[],function i($){$==null&&($=a),s.$throw($,i.$$is_lambda)},{$$ret:s}):(t=[],o=F(o,d("Integer"),"to_int"),y(o<0)&&B.$raise(d("ArgumentError"),"attempt to take negative size"),y(o==0)?[]:(r=0,x(n,"each",[],function i($){var u,v;if(u=Y(arguments),v=u,t.push(T.$destructure(v)),y(o<=++r))s.$throw(t,i.$$is_lambda);else return a},{$$arity:-1,$$ret:s}),t))}catch(i){if(i===s)return i.$v;throw i}finally{s.is_orphan=!0}},-1),U(_,"$grep",function l(o){var s=l.$$p||a,n=this,t=a;return l.$$p=null,t=[],x(n,"each",[],function(i){var $,u,v=a;return $=Y(arguments),u=$,v=C(u),y(x(o,"__send__",["==="].concat(h(v))))?(s!==a?(y(W(u.$length(),1))&&(u=[u]),u=e.yieldX(s,h(u))):y(p(u.$length(),1))&&(u=u["$[]"](0)),t.$push(u)):a},-1),t}),U(_,"$grep_v",function l(o){var s=l.$$p||a,n=this,t=a;return l.$$p=null,t=[],x(n,"each",[],function(i){var $,u,v=a;return $=Y(arguments),u=$,v=C(u),y(x(o,"__send__",["==="].concat(h(v))))?a:(s!==a?(y(W(u.$length(),1))&&(u=[u]),u=e.yieldX(s,h(u))):y(p(u.$length(),1))&&(u=u["$[]"](0)),t.$push(u))},-1),t}),U(_,"$group_by",function l(){var o=l.$$p||a,s,n=this,t=a,r=a;return l.$$p=null,o===a?x(n,"enum_for",["group_by"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:n}):(t=new Map,n.$each.$$p=function(){var i=T.$destructure(arguments),$=X(o,i);(y(r=t["$[]"]($))?r:(s=[$,[]],x(t,"[]=",s),s[s.length-1]))["$<<"](i)},n.$each(),t)}),U(_,"$include?",function(o){try{var s=re("return"),n=this;return x(n,"each",[],function t(r){var i,$;if(i=Y(arguments),$=i,z(T.$destructure($),o))s.$throw(!0,t.$$is_lambda);else return a},{$$arity:-1,$$ret:s}),!1}catch(t){if(t===s)return t.$v;throw t}finally{s.is_orphan=!0}}),U(_,"$inject",function l(o,s){var n=l.$$p||a,t=this;l.$$p=null;var r=o;return n!==a&&s===void 0?t.$each.$$p=function(){var i=T.$destructure(arguments);if(r===void 0){r=i;return}i=w(n,[r,i]),r=i}:(s===void 0&&(d("Symbol")["$==="](o)||B.$raise(d("TypeError"),""+o.$inspect()+" is not a Symbol"),s=o,r=void 0),t.$each.$$p=function(){var i=T.$destructure(arguments);if(r===void 0){r=i;return}r=r.$__send__(s,i)}),t.$each(),r??a},-1),U(_,"$lazy",function(){var o=this;return x(d(d("Enumerator"),"Lazy"),"new",[o,o.$enumerator_size()],function(n,t){var r,i;return n==null&&(n=a),r=Y(arguments,1),i=r,x(n,"yield",h(i))},-2)}),U(_,"$enumerator_size",function(){var o=this;return y(o["$respond_to?"]("size"))?o.$size():a}),U(_,"$max",function l(o){var s=l.$$p||a,n=this;if(l.$$p=null,o===void 0||o===a){var t,r;return n.$each.$$p=function(){var i=T.$destructure(arguments);if(t===void 0){t=i;return}s!==a?r=w(s,[i,t]):r=i["$<=>"](t),r===a&&B.$raise(d("ArgumentError"),"comparison failed"),r>0&&(t=i)},n.$each(),t===void 0?a:t}return o=F(o,d("Integer"),"to_int"),x(n,"sort",[],s.$to_proc()).$reverse().$first(o)},-1),U(_,"$max_by",function l(o){var s=l.$$p||a,n=this;if(l.$$p=null,o==null&&(o=a),!y(s))return x(n,"enum_for",["max_by",o],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:n});if(!y(o["$nil?"]()))return x(n,"sort_by",[],s.$to_proc()).$reverse().$take(o);var t,r;return n.$each.$$p=function(){var i=T.$destructure(arguments),$=X(s,i);if(t===void 0){t=i,r=$;return}$["$<=>"](r)>0&&(t=i,r=$)},n.$each(),t===void 0?a:t},-1),U(_,"$min",function l(o){var s=l.$$p||a,n=this;if(l.$$p=null,o==null&&(o=a),!y(o["$nil?"]()))return s!==a?x(n,"sort",[],function(i,$){return i==null&&(i=a),$==null&&($=a),e.yieldX(s,[i,$])}).$take(o):n.$sort().$take(o);var t;return s!==a?n.$each.$$p=function(){var r=T.$destructure(arguments);if(t===void 0){t=r;return}var i=s(r,t);i===a&&B.$raise(d("ArgumentError"),"comparison failed"),i<0&&(t=r)}:n.$each.$$p=function(){var r=T.$destructure(arguments);if(t===void 0){t=r;return}T.$compare(r,t)<0&&(t=r)},n.$each(),t===void 0?a:t},-1),U(_,"$min_by",function l(o){var s=l.$$p||a,n=this;if(l.$$p=null,o==null&&(o=a),!y(s))return x(n,"enum_for",["min_by",o],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:n});if(!y(o["$nil?"]()))return x(n,"sort_by",[],s.$to_proc()).$take(o);var t,r;return n.$each.$$p=function(){var i=T.$destructure(arguments),$=X(s,i);if(t===void 0){t=i,r=$;return}$["$<=>"](r)<0&&(t=i,r=$)},n.$each(),t===void 0?a:t},-1),U(_,"$minmax",function l(){var o=l.$$p||a,s=this,n=a;l.$$p=null,o=y(n=o)?n:x(B,"proc",[],function(u,v){return u==null&&(u=a),v==null&&(v=a),u["$<=>"](v)});var t=a,r=a,i=!0;return s.$each.$$p=function(){var $=T.$destructure(arguments);if(i)t=r=$,i=!1;else{var u=o.$call(t,$);u===a?B.$raise(d("ArgumentError"),"comparison failed"):u>0&&(t=$);var v=o.$call(r,$);v===a?B.$raise(d("ArgumentError"),"comparison failed"):v<0&&(r=$)}},s.$each(),[t,r]}),U(_,"$minmax_by",function l(){var o=l.$$p||a,s=this;if(l.$$p=null,!y(o))return x(s,"enum_for",["minmax_by"],function $(){var u=$.$$s==null?this:$.$$s;return u.$enumerator_size()},{$$s:s});var n=a,t=a,r,i;return s.$each.$$p=function(){var $=T.$destructure(arguments),u=X(o,$);(r===void 0||u["$<=>"](r)<0)&&(n=$,r=u),(i===void 0||u["$<=>"](i)>0)&&(t=$,i=u)},s.$each(),[n,t]}),U(_,"$none?",function l(o){try{var s=re("return"),n=l.$$p||a,t=this;return l.$$p=null,y(o!==void 0)?x(t,"each",[],function r(i){var $,u,v=a;if($=Y(arguments),u=$,v=C(u),y(x(o,"public_send",["==="].concat(h(v)))))s.$throw(!1,r.$$is_lambda);else return a},{$$arity:-1,$$ret:s}):n!==a?x(t,"each",[],function r(i){var $,u;if($=Y(arguments),u=$,y(e.yieldX(n,h(u))))s.$throw(!1,r.$$is_lambda);else return a},{$$arity:-1,$$ret:s}):x(t,"each",[],function r(i){var $,u,v=a;if($=Y(arguments),u=$,v=T.$destructure(u),y(v))s.$throw(!1,r.$$is_lambda);else return a},{$$arity:-1,$$ret:s}),!0}catch(r){if(r===s)return r.$v;throw r}finally{s.is_orphan=!0}},-1),U(_,"$one?",function l(o){try{var s=re("return"),n=l.$$p||a,t=this,r=a;return l.$$p=null,r=0,y(o!==void 0)?x(t,"each",[],function i($){var u,v,N=a;if(u=Y(arguments),v=u,N=C(v),y(x(o,"public_send",["==="].concat(h(N)))))if(r=M(r,1),y(W(r,1)))s.$throw(!1,i.$$is_lambda);else return a;else return a},{$$arity:-1,$$ret:s}):n!==a?x(t,"each",[],function i($){var u,v;if(u=Y(arguments),v=u,!y(e.yieldX(n,h(v))))return a;if(r=M(r,1),y(W(r,1)))s.$throw(!1,i.$$is_lambda);else return a},{$$arity:-1,$$ret:s}):x(t,"each",[],function i($){var u,v;if(u=Y(arguments),v=u,!y(T.$destructure(v)))return a;if(r=M(r,1),y(W(r,1)))s.$throw(!1,i.$$is_lambda);else return a},{$$arity:-1,$$ret:s}),r["$=="](1)}catch(i){if(i===s)return i.$v;throw i}finally{s.is_orphan=!0}},-1),U(_,"$partition",function l(){var o=l.$$p||a,s=this;if(l.$$p=null,o===a)return x(s,"enum_for",["partition"],function r(){var i=r.$$s==null?this:r.$$s;return i.$enumerator_size()},{$$s:s});var n=[],t=[];return s.$each.$$p=function(){var r=T.$destructure(arguments),i=X(o,r);y(i)?n.push(r):t.push(r)},s.$each(),[n,t]}),U(_,"$reject",function l(){var o=l.$$p||a,s=this;if(l.$$p=null,o===a)return x(s,"enum_for",["reject"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:s});var n=[];return s.$each.$$p=function(){var t=T.$destructure(arguments),r=X(o,t);y(r)||n.push(t)},s.$each(),n}),U(_,"$reverse_each",function l(){var o=l.$$p||a,s=this;if(l.$$p=null,o===a)return x(s,"enum_for",["reverse_each"],function r(){var i=r.$$s==null?this:r.$$s;return i.$enumerator_size()},{$$s:s});var n=[];s.$each.$$p=function(){n.push(arguments)},s.$each();for(var t=n.length-1;t>=0;t--)w(o,n[t]);return n}),U(_,"$slice_before",function l(o){var s=l.$$p||a,n=this;return l.$$p=null,y(o===void 0&&s===a)&&B.$raise(d("ArgumentError"),"both pattern and block are given"),y(o!==void 0&&s!==a||arguments.length>1)&&B.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),x(d("Enumerator"),"new",[],function t(r){var i=t.$$s==null?this:t.$$s;r==null&&(r=a);var $=[];s!==a?o===void 0?i.$each.$$p=function(){var u=T.$destructure(arguments),v=X(s,u);y(v)&&$.length>0&&(r["$<<"]($),$=[]),$.push(u)}:i.$each.$$p=function(){var u=T.$destructure(arguments),v=s(u,o.$dup());y(v)&&$.length>0&&(r["$<<"]($),$=[]),$.push(u)}:i.$each.$$p=function(){var u=T.$destructure(arguments),v=o["$==="](u);y(v)&&$.length>0&&(r["$<<"]($),$=[]),$.push(u)},i.$each(),$.length>0&&r["$<<"]($)},{$$s:n})},-1),U(_,"$slice_after",function l(o){var s=l.$$p||a,n=this;return l.$$p=null,y(o===void 0&&s===a)&&B.$raise(d("ArgumentError"),"both pattern and block are given"),y(o!==void 0&&s!==a||arguments.length>1)&&B.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),y(o!==void 0)&&(s=x(B,"proc",[],function(r){return r==null&&(r=a),o["$==="](r)})),x(d("Enumerator"),"new",[],function t(r){var i=t.$$s==null?this:t.$$s;r==null&&(r=a);var $;i.$each.$$p=function(){var u=T.$destructure(arguments),v=X(s,u);$==null&&($=[]),y(v)?($.push(u),r.$yield($),$=null):$.push(u)},i.$each(),$!=null&&r.$yield($)},{$$s:n})},-1),U(_,"$slice_when",function l(){var o=l.$$p||a,s=this;return l.$$p=null,o===a&&B.$raise(d("ArgumentError"),"wrong number of arguments (0 for 1)"),x(d("Enumerator"),"new",[],function n(t){var r=n.$$s==null?this:n.$$s;t==null&&(t=a);var i=a,$=a;r.$each_cons.$$p=function(){var u=T.$destructure(arguments),v=u[0],N=u[1],D=w(o,[v,N]);$=N,i===a&&(i=[]),y(D)?(i.push(v),t.$yield(i),i=[]):i.push(v)},r.$each_cons(2),i!==a&&(i.push($),t.$yield(i))},{$$s:s})}),U(_,"$sort",function l(){var o=l.$$p||a,s=this,n=a;return l.$$p=null,n=s.$to_a(),o===a&&(o=I(function(r,i){return r==null&&(r=a),i==null&&(i=a),r["$<=>"](i)})),x(n,"sort",[],o.$to_proc())}),U(_,"$sort_by",function l(){var o=l.$$p||a,s=this,n=a;return l.$$p=null,o===a?x(s,"enum_for",["sort_by"],function t(){var r=t.$$s==null?this:t.$$s;return r.$enumerator_size()},{$$s:s}):(n=x(s,"map",[],function(){var r=a;return r=T.$destructure(arguments),[e.yield1(o,r),r]}),x(n,"sort!",[],function(r,i){return r==null&&(r=a),i==null&&(i=a),r[0]["$<=>"](i[0])}),x(n,"map!",[],function(r){return r==null&&(r=a),r[1]}))}),U(_,"$sum",function l(o){var s=l.$$p||a,n=this,t=a,r=a;return l.$$p=null,o==null&&(o=0),t=o,r=0,x(n,"each",[],function($){var u,v,N=a,D=a,R=a;return u=Y(arguments),v=u,N=s!==a?e.yieldX(s,h(v)):T.$destructure(v),H([d(d("Float"),"INFINITY"),d(d("Float"),"INFINITY")["$-@"]()]["$include?"](N))&&y(N["$respond_to?"]("-"))?(D=q(N,r),R=M(t,D),r=q(q(R,t),D),t=R):t=M(t,N)},-1),t},-1),U(_,"$take",function(o){var s=this;return s.$first(o)}),U(_,"$take_while",function l(){try{var o=re("return"),s=l.$$p||a,n=this,t=a;return l.$$p=null,y(s)?(t=[],x(n,"each",[],function r(i){var $,u,v=a;return $=Y(arguments),u=$,v=T.$destructure(u),y(e.yield1(s,v))||o.$throw(t,r.$$is_lambda),t.push(v)},{$$arity:-1,$$ret:o})):n.$enum_for("take_while")}catch(r){if(r===o)return r.$v;throw r}finally{o.is_orphan=!0}}),U(_,"$uniq",function l(){var o=l.$$p||a,s=this,n=a;return l.$$p=null,n=new Map,x(s,"each",[],function(r){var i,$,u,v=a,N=a;return i=Y(arguments),$=i,v=T.$destructure($),N=o!==a?e.yield1(o,v):v,y(n["$key?"](N))?a:(u=[N,v],x(n,"[]=",u),u[u.length-1])},-1),n.$values()}),U(_,"$tally",function(o){var s=this,n=a;return o&&o!==a&&O(o),n=x(x(s,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),y(o)?(x(n,"each",[],function(r,i){var $;return r==null&&(r=a),i==null&&(i=a),$=[r,M(o.$fetch(r,0),i)],x(o,"[]=",$),$[$.length-1]}),o):n},-1),U(_,"$to_h",function l(o){var s=l.$$p||a,n,t,r=this;if(l.$$p=null,n=Y(arguments),t=n,s!==a)return x(x(r,"map",[],s.$to_proc()),"to_h",h(t));var i=new Map;return r.$each.$$p=function(){var $=T.$destructure(arguments),u=T["$coerce_to?"]($,d("Array"),"to_ary"),v,N;u.$$is_array||B.$raise(d("TypeError"),"wrong element type "+$.$class()+" (expected array)"),u.length!==2&&B.$raise(d("ArgumentError"),"element has wrong array length (expected 2, was "+u.$length()+")"),v=u[0],N=u[1],e.hash_put(i,v,N)},r.$each.apply(r,t),i},-1),U(_,"$to_set",function l(o,s){var n=l.$$p||a,t,r,i,$=this;return l.$$p=null,t=Y(arguments),t.length>0&&(r=t.shift()),r==null&&(r=G("Set")),i=t,x(r,"new",[$].concat(h(i)),n.$to_proc())},-1),U(_,"$zip",function l(o){l.$$p;var s,n,t=this;return l.$$p=null,s=Y(arguments),n=s,x(t.$to_a(),"zip",h(n))},-1),L(_,"find","detect"),L(_,"filter","find_all"),L(_,"flat_map","collect_concat"),L(_,"map","collect"),L(_,"member?","include?"),L(_,"reduce","inject"),L(_,"select","find_all"),L(_,"to_a","entries")}("::",E)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(e){var y=e.klass,F=e.truthy,X=e.to_a,w=e.eqeq,O=e.Kernel,V=e.def,x=e.rb_gt,Y=e.rb_lt,h=e.rb_le,T=e.rb_ge,re=e.rb_plus,U=e.rb_minus,B=e.eqeqeq,ee=e.not,W=e.rb_times,b=e.rb_divide,k=e.alias,z=[],M=e.nil,q=e.$$$;return e.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(P,p,I){var H=y(P,p,"Enumerator"),L=[H].concat(I);return function(E,a,d){var A=y(E,a,"ArithmeticSequence"),g=[A].concat(d),_=e.$r(g),f=A.$$prototype;f.step_arg2=f.receiver_num=f.step_arg1=f.step=f.range=f.topfx=f.bypfx=f.creation_method=f.skipped_arg=M,e.prop(A.$$prototype,"$$is_arithmetic_seq",!0);var G=1/0;return V(A,"$initialize",function(l,o,s){var n,t=this,r=M;return s==null&&(s="step"),t.creation_method=s,F(l["$is_a?"](q("Array")))?(n=[].concat(X(l)),t.step_arg1=n[0]==null?M:n[0],t.step_arg2=n[1]==null?M:n[1],t.topfx=n[2]==null?M:n[2],t.bypfx=n[3]==null?M:n[3],t.receiver_num=o,t.step=1,t.range=F(t.step_arg2)?(t.step=t.step_arg2,e.Range.$new(t.receiver_num,t.step_arg1,!1)):F(t.step_arg1)?e.Range.$new(t.receiver_num,t.step_arg1,!1):e.Range.$new(t.receiver_num,M,!1)):(F(o)||(t.skipped_arg=!0),n=[l,F(r=o)?r:1],t.range=n[0],t.step=n[1]),t.object=t,w(t.step,0)&&O.$raise(_("ArgumentError"),"step can't be 0"),F(t.step["$respond_to?"]("to_int"))?M:O.$raise(_("ArgumentError"),"no implicit conversion of "+t.step.$class()+" into Integer")},-2),A.$attr_reader("step"),V(A,"$begin",function(){var l=this;return l.range.$begin()}),V(A,"$end",function(){var l=this;return l.range.$end()}),V(A,"$exclude_end?",function(){var l=this;return l.range["$exclude_end?"]()}),V(A,"$_lesser_than_end?",function(l){var o=this,s=M,n=M;return s=F(n=o.$end())?n:G,F(x(o.$step(),0))?F(o["$exclude_end?"]())?Y(l,s):h(l,s):F(o["$exclude_end?"]())?x(l,s):T(l,s)}),V(A,"$_greater_than_begin?",function(l){var o=this,s=M,n=M;return s=F(n=o.$begin())?n:G["$-@"](),F(x(o.$step(),0))?x(l,s):Y(l,s)}),V(A,"$first",function(l){var o=this,s=M,n=M,t=M;if(s=F(n=o.$begin())?n:G["$-@"](),!F(l))return F(o["$_lesser_than_end?"](s))?s:M;for(t=[];F(F(n=o["$_lesser_than_end?"](s))?x(l,0):n);)t["$<<"](s),s=re(s,o.$step()),l=U(l,1);return t},-1),V(A,"$each",function C(){var l=C.$$p||M,o=this,s=M,n=M;if(C.$$p=null,l===M)return o;for(B(M,s=o.$begin())&&O.$raise(_("TypeError"),"nil can't be coerced into Integer"),n=F(s=o.$begin())?s:G["$-@"]();F(o["$_lesser_than_end?"](n));)e.yield1(l,n),n=re(n,o.$step());return o}),V(A,"$last",function(l){var o=this,s=M,n=M,t=M;if(B(G,s=o.$end())||B(G["$-@"](),s)?O.$raise(q("FloatDomainError"),o.$end()):B(M,s)&&O.$raise(q("RangeError"),"cannot get the last element of endless arithmetic sequence"),n=U(o.$end(),U(o.$end(),o.$begin())["$%"](o.$step())),F(o["$_lesser_than_end?"](n))||(n=U(n,o.$step())),!F(l))return F(o["$_greater_than_begin?"](n))?n:M;for(t=[];F(F(s=o["$_greater_than_begin?"](n))?x(l,0):s);)t["$<<"](n),n=U(n,o.$step()),l=U(l,1);return t.$reverse()},-1),V(A,"$size",function(){var l=this,o=M,s=M;return o=F(x(l.$step(),0))?1:-1,ee(l["$_lesser_than_end?"](l.$begin()))?0:F([G["$-@"](),G]["$include?"](l.$step()))?1:F([W(G["$-@"](),o),M]["$include?"](l.$begin()))||F([W(G,o),M]["$include?"](l.$end()))?G:(s=U(l.$end(),U(l.$end(),l.$begin())["$%"](l.$step())),F(l["$_lesser_than_end?"](s))||(s=U(s,l.$step())),re(b(U(s,l.$begin()),l.$step()).$abs().$to_i(),1))}),V(A,"$==",function(l){var o=this,s=M,n=M,t=M,r=M;return F(s=F(n=F(t=F(r=o.$class()["$=="](l.$class()))?o.$begin()["$=="](l.$begin()):r)?o.$end()["$=="](l.$end()):t)?o.$step()["$=="](l.$step()):n)?o["$exclude_end?"]()["$=="](l["$exclude_end?"]()):s}),V(A,"$hash",function(){var l=this;return[_("ArithmeticSequence"),l.$begin(),l.$end(),l.$step(),l["$exclude_end?"]()].$hash()}),V(A,"$inspect",function(){var l=this,o=M;return F(l.receiver_num)?(o=F(l.step_arg2)?"("+l.topfx+l.step_arg1.$inspect()+", "+l.bypfx+l.step_arg2.$inspect()+")":F(l.step_arg1)?"("+l.topfx+l.step_arg1.$inspect()+")":M,"("+l.receiver_num.$inspect()+"."+l.creation_method+o+")"):(o=F(l.skipped_arg)?M:"("+l.step+")","(("+l.range.$inspect()+")."+l.creation_method+o+")")}),k(A,"===","=="),k(A,"eql?","==")}(H,H,L)}("::",null,z)};Opal.modules["corelib/enumerator/chain"]=function(e){var y=e.deny_frozen_access,F=e.klass,X=e.slice,w=e.def,O=e.send,V=e.to_a,x=e.truthy,Y=e.rb_plus,h=e.thrower,T=e.nil,re=e.$$$;return e.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(U,B){var ee=F(U,B,"Enumerator");return function(W,b){var k=F(W,b,"Chain"),z=k.$$prototype;return z.enums=z.iterated=T,w(k,"$initialize",function(q){var P,p,I=this;return P=X(arguments),p=P,y(I),I.enums=p,I.iterated=[],I.object=I},-1),w(k,"$each",function M(q){var P=M.$$p||T,p,I,H=this;return M.$$p=null,p=X(arguments),I=p,P===T?O(H,"to_enum",["each"].concat(V(I)),function L(){var E=L.$$s==null?this:L.$$s;return E.$size()},{$$s:H}):(O(H.enums,"each",[],function L(E){var a=L.$$s==null?this:L.$$s;return a.iterated==null&&(a.iterated=T),E==null&&(E=T),a.iterated["$<<"](E),O(E,"each",V(I),P.$to_proc())},{$$s:H}),H)},-1),w(k,"$size",function(q){try{var P=h("return"),p,I,H=this,L=T;return p=X(arguments),I=p,L=0,O(H.enums,"each",[],function E(a){var d=T;return a==null&&(a=T),d=O(a,"size",V(I)),x([T,re(re("Float"),"INFINITY")]["$include?"](d))&&P.$throw(d,E.$$is_lambda),L=Y(L,d)},{$$ret:P}),L}catch(E){if(E===P)return E.$v;throw E}finally{P.is_orphan=!0}},-1),w(k,"$rewind",function(){var q=this;return O(q.iterated,"reverse_each",[],function(p){return p==null&&(p=T),x(p["$respond_to?"]("rewind"))?p.$rewind():T}),q.iterated=[],q}),w(k,"$inspect",function(){var q=this;return"#<Enumerator::Chain: "+q.enums.$inspect()+">"})}(ee,ee)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(e){var y=e.deny_frozen_access,F=e.klass,X=e.truthy,w=e.Kernel,O=e.def,V=e.slice,x=e.send,Y=[],h=e.nil,T=e.$$$;return e.add_stubs("include,raise,new,to_proc"),function(re,U,B){var ee=F(re,U,"Enumerator"),W=[ee].concat(B);return function(b,k,z){var M=F(b,k,"Generator"),q=[M].concat(z),P=e.$r(q),p=M.$$prototype;return p.block=h,M.$include(T("Enumerable")),O(M,"$initialize",function I(){var H=I.$$p||h,L=this;return I.$$p=null,y(L),X(H)||w.$raise(T("LocalJumpError"),"no block given"),L.block=H}),O(M,"$each",function I(H){var L=I.$$p||h,E,a,d=this,A=h;I.$$p=null,E=V(arguments),a=E,A=x(P("Yielder"),"new",[],L.$to_proc());try{a.unshift(A),e.yieldX(d.block,a)}catch(g){if(g&&g.$thrower_type=="breaker")return g.$v;throw g}return d},-1)}(W[0],null,W)}(Y[0],null,Y)};Opal.modules["corelib/enumerator/lazy"]=function(e){var y=e.truthy,F=e.coerce_to,X=e.yield1,w=e.yieldX,O=e.deny_frozen_access,V=e.klass,x=e.slice,Y=e.send2,h=e.find_super,T=e.to_a,re=e.defs,U=e.Kernel,B=e.send,ee=e.def,W=e.return_self,b=e.Opal,k=e.rb_lt,z=e.eqeqeq,M=e.rb_plus,q=e.alias,P=[],p=e.nil,I=e.$$$;return e.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(H,L,E){var a=V(H,L,"Enumerator"),d=[a].concat(E);return function(A,g,_){var f=V(A,g,"Lazy"),G=[f].concat(_),C=e.$r(G),l=f.$$prototype;return l.enumerator=p,V(f,I("Exception"),"StopLazyError"),re(f,"$for",function o(s,n){var t,r,i=o.$$p||p,$=this,u=p;return o.$$p=null,t=x(arguments,1),r=t,u=Y($,h($,"for",o,!1,!0),"for",[s].concat(T(r)),i),u.enumerator=s,u},-2),ee(f,"$initialize",function o(s,n){var t=o.$$p||p,r=this;return o.$$p=null,n==null&&(n=p),O(r),t===p&&U.$raise(I("ArgumentError"),"tried to call lazy new without a block"),r.enumerator=s,Y(r,h(r,"initialize",o,!1,!0),"initialize",[n],function($,u){var v,N;$==null&&($=p),v=x(arguments,1),N=v;try{return B(s,"each",T(N),function(R){var J,te;J=x(arguments),te=J,te.unshift($),w(t,te)},-1)}catch(D){if(e.rescue(D,[C("StopLazyError")]))try{return p}finally{e.pop_exception(D)}else throw D}},-2)},-2),ee(f,"$lazy",W),ee(f,"$collect",function o(){var s=o.$$p||p,n=this;return o.$$p=null,y(s)||U.$raise(I("ArgumentError"),"tried to call lazy map without a block"),B(C("Lazy"),"new",[n,n.$enumerator_size()],function(r,i){var $,u;r==null&&(r=p),$=x(arguments,1),u=$;var v=w(s,u);r.$yield(v)},-2)}),ee(f,"$collect_concat",function o(){var s=o.$$p||p,n=this;return o.$$p=null,y(s)||U.$raise(I("ArgumentError"),"tried to call lazy map without a block"),B(C("Lazy"),"new",[n,p],function(r,i){var $,u;r==null&&(r=p),$=x(arguments,1),u=$;var v=w(s,u);if(v["$respond_to?"]("force")&&v["$respond_to?"]("each"))B(v,"each",[],function(R){return R==null&&(R=p),r.$yield(R)});else{var N=b.$try_convert(v,I("Array"),"to_ary");N===p?r.$yield(v):B(v,"each",[],function(R){return R==null&&(R=p),r.$yield(R)})}},-2)}),ee(f,"$drop",function(s){var n=this,t=p,r=p,i=p;return s=F(s,I("Integer"),"to_int"),y(k(s,0))&&U.$raise(I("ArgumentError"),"attempt to drop negative size"),t=n.$enumerator_size(),r=z(I("Integer"),t)&&y(k(s,t))?s:t,i=0,B(C("Lazy"),"new",[n,r],function(u,v){var N,D;return u==null&&(u=p),N=x(arguments,1),D=N,y(k(i,s))?i=M(i,1):B(u,"yield",T(D))},-2)}),ee(f,"$drop_while",function o(){var s=o.$$p||p,n=this,t=p;return o.$$p=null,y(s)||U.$raise(I("ArgumentError"),"tried to call lazy drop_while without a block"),t=!0,B(C("Lazy"),"new",[n,p],function(i,$){var u,v;if(i==null&&(i=p),u=x(arguments,1),v=u,y(t)){var N=w(s,v);y(N)||(t=!1,B(i,"yield",T(v)))}else return B(i,"yield",T(v))},-2)}),ee(f,"$enum_for",function o(s,n){var t=o.$$p||p,r,i,$,u=this;return o.$$p=null,r=x(arguments),r.length>0&&(i=r.shift()),i==null&&(i="each"),$=r,B(u.$class(),"for",[u,i].concat(T($)),t.$to_proc())},-1),ee(f,"$find_all",function o(){var s=o.$$p||p,n=this;return o.$$p=null,y(s)||U.$raise(I("ArgumentError"),"tried to call lazy select without a block"),B(C("Lazy"),"new",[n,p],function(r,i){var $,u;r==null&&(r=p),$=x(arguments,1),u=$;var v=w(s,u);y(v)&&B(r,"yield",T(u))},-2)}),ee(f,"$grep",function o(s){var n=o.$$p||p,t=this;return o.$$p=null,y(n)?B(C("Lazy"),"new",[t,p],function(i,$){var u,v;i==null&&(i=p),u=x(arguments,1),v=u;var N=b.$destructure(v),D=s["$==="](N);y(D)&&(D=X(n,N),i.$yield(X(n,N)))},-2):B(C("Lazy"),"new",[t,p],function(i,$){var u,v;i==null&&(i=p),u=x(arguments,1),v=u;var N=b.$destructure(v),D=s["$==="](N);y(D)&&i.$yield(N)},-2)}),ee(f,"$reject",function o(){var s=o.$$p||p,n=this;return o.$$p=null,y(s)||U.$raise(I("ArgumentError"),"tried to call lazy reject without a block"),B(C("Lazy"),"new",[n,p],function(r,i){var $,u;r==null&&(r=p),$=x(arguments,1),u=$;var v=w(s,u);y(v)||B(r,"yield",T(u))},-2)}),ee(f,"$take",function(s){var n=this,t=p,r=p,i=p;return s=F(s,I("Integer"),"to_int"),y(k(s,0))&&U.$raise(I("ArgumentError"),"attempt to take negative size"),t=n.$enumerator_size(),r=z(I("Integer"),t)&&y(k(s,t))?s:t,i=0,B(C("Lazy"),"new",[n,r],function(u,v){var N,D;return u==null&&(u=p),N=x(arguments,1),D=N,y(k(i,s))?(B(u,"yield",T(D)),i=M(i,1)):U.$raise(C("StopLazyError"))},-2)}),ee(f,"$take_while",function o(){var s=o.$$p||p,n=this;return o.$$p=null,y(s)||U.$raise(I("ArgumentError"),"tried to call lazy take_while without a block"),B(C("Lazy"),"new",[n,p],function(r,i){var $,u;r==null&&(r=p),$=x(arguments,1),u=$;var v=w(s,u);y(v)?B(r,"yield",T(u)):U.$raise(C("StopLazyError"))},-2)}),ee(f,"$inspect",function(){var s=this;return"#<"+s.$class()+": "+s.enumerator.$inspect()+">"}),q(f,"force","to_a"),q(f,"filter","find_all"),q(f,"flat_map","collect_concat"),q(f,"map","collect"),q(f,"select","find_all"),q(f,"to_enum","enum_for")}(a,a,d)}("::",null,P)};Opal.modules["corelib/enumerator/yielder"]=function(e){var y=e.klass,F=e.def,X=e.slice,w=e.send,O=e.to_a,V=[],x=e.nil;return e.add_stubs("yield,proc"),function(Y,h,T){var re=y(Y,h,"Enumerator"),U=[re].concat(T);return function(B,ee){var W=y(B,ee,"Yielder"),b=W.$$prototype;return b.block=x,F(W,"$initialize",function k(){var z=k.$$p||x,M=this;return k.$$p=null,M.block=z,M}),F(W,"$yield",function(z){var M,q,P=this;M=X(arguments),q=M;var p=e.yieldX(P.block,q);if(p&&p.$thrower_type=="break")throw p;return p},-1),F(W,"$<<",function(z){var M=this;return M.$yield(z),M}),F(W,"$to_proc",function(){var z=this;return w(z,"proc",[],function M(q){var P,p,I=M.$$s==null?this:M.$$s;return P=X(arguments),p=P,w(I,"yield",O(p))},{$$arity:-1,$$s:z})})}(U[0],null)}(V[0],null,V)};Opal.modules["corelib/enumerator"]=function(e){var y=e.slice,F=e.coerce_to,X=e.deny_frozen_access,w=e.klass,O=e.defs,V=e.truthy,x=e.send,Y=e.not,h=e.def,T=e.rb_plus,re=e.to_a,U=e.Opal,B=e.send2,ee=e.find_super,W=e.rb_ge,b=e.Kernel,k=e.rb_le,z=e.alias,M=e.top,q=[],P=e.nil,p=e.$$$;return e.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),M.$require("corelib/enumerable"),function(I,H,L){var E=w(I,H,"Enumerator"),a=[E].concat(L),d=e.$r(a),A=E.$$prototype;return A.size=A.args=A.object=A.method=A.values=A.cursor=P,E.$include(p("Enumerable")),E.$$prototype.$$is_enumerator=!0,O(E,"$for",function g(_,f,G){var C=g.$$p||P,l,o,s,n=this;g.$$p=null,l=y(arguments,1),l.length>0&&(o=l.shift()),o==null&&(o="each"),s=l;var t=n.$allocate();return t.object=_,t.size=C,t.method=o,t.args=s,t.cursor=0,t},-2),h(E,"$initialize",function g(_){var f=g.$$p||P,G=this;return g.$$p=null,y(arguments),X(G),G.cursor=0,V(f)?(G.object=x(d("Generator"),"new",[],f.$to_proc()),G.method="each",G.args=[],G.size=arguments[0]||P,V(G.size)&&Y(G.size["$respond_to?"]("call"))?G.size=F(G.size,p("Integer"),"to_int"):P):(G.object=arguments[0],G.method=arguments[1]||"each",G.args=y(arguments,2),G.size=P)},-1),h(E,"$each",function g(_){var f=g.$$p||P,G,C,l=this;return g.$$p=null,G=y(arguments),C=G,V(f["$nil?"]())&&V(C["$empty?"]())?l:(C=T(l.args,C),V(f["$nil?"]())?x(l.$class(),"new",[l.object,l.method].concat(re(C))):x(l.object,"__send__",[l.method].concat(re(C)),f.$to_proc()))},-1),h(E,"$size",function(){var _=this;return V(_.size["$respond_to?"]("call"))?x(_.size,"call",re(_.args)):_.size}),h(E,"$with_index",function g(_){var f=g.$$p||P,G=this;if(g.$$p=null,_==null&&(_=0),_=V(_)?F(_,p("Integer"),"to_int"):0,!V(f))return x(G,"enum_for",["with_index",_],function l(){var o=l.$$s==null?this:l.$$s;return o.$size()},{$$s:G});var C=_;return G.$each.$$p=function(){var l=U.$destructure(arguments),o=f(l,C);return C++,o},G.$each()},-1),h(E,"$each_with_index",function g(){var _=g.$$p||P,f=this;return g.$$p=null,_===P?x(f,"enum_for",["each_with_index"],function G(){var C=G.$$s==null?this:G.$$s;return C.$size()},{$$s:f}):(B(f,ee(f,"each_with_index",g,!1,!0),"each_with_index",[],_),f.object)}),h(E,"$rewind",function(){var _=this;return _.cursor=0,_}),h(E,"$peek_values",function(){var _=this,f=P;return _.values=V(f=_.values)?f:x(_,"map",[],function(C){var l,o;return l=y(arguments),o=l,o},-1),V(W(_.cursor,_.values.$length()))&&b.$raise(p("StopIteration"),"iteration reached an end"),_.values["$[]"](_.cursor)}),h(E,"$peek",function(){var _=this,f=P;return f=_.$peek_values(),V(k(f.$length(),1))?f["$[]"](0):f}),h(E,"$next_values",function(){var _=this,f=P;return f=_.$peek_values(),_.cursor=T(_.cursor,1),f}),h(E,"$next",function(){var _=this,f=P;return f=_.$next_values(),V(k(f.$length(),1))?f["$[]"](0):f}),h(E,"$feed",function(_){var f=this;return f.$raise(d("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),h(E,"$+",function(_){var f=this;return p(p("Enumerator"),"Chain").$new(f,_)}),h(E,"$inspect",function(){var _=this,f=P;return f="#<"+_.$class()+": "+_.object.$inspect()+":"+_.method,V(_.args["$any?"]())&&(f=T(f,"("+_.args.$inspect()["$[]"](p("Range").$new(1,-2))+")")),T(f,">")}),z(E,"with_object","each_with_object"),E.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),E.$autoload("Chain","corelib/enumerator/chain"),E.$autoload("Generator","corelib/enumerator/generator"),E.$autoload("Lazy","corelib/enumerator/lazy"),E.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,q)};Opal.modules["corelib/numeric"]=function(e){var y=e.klass,F=e.truthy,X=e.Kernel,w=e.def,O=e.to_ary,V=e.return_self,x=e.rb_minus,Y=e.rb_times,h=e.rb_lt,T=e.eqeq,re=e.rb_divide,U=e.return_val,B=e.Opal,ee=e.slice,W=e.extract_kwargs,b=e.ensure_kwargs,k=e.hash_get,z=e.not,M=e.send,q=e.rb_ge,P=e.rb_le,p=e.rb_plus,I=e.rb_gt,H=e.alias,L=e.top,E=e.nil,a=e.$$$;return e.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),L.$require("corelib/comparable"),function(d,A){var g=y(d,A,"Numeric");return g.$include(a("Comparable")),w(g,"$coerce",function(f){var G=this;return F(f["$instance_of?"](G.$class()))?[f,G]:[X.$Float(f),X.$Float(G)]}),w(g,"$__coerced__",function(f,G){var C,l,o=this,s=E,n=E;if(F(G["$respond_to?"]("coerce")))return l=G.$coerce(o),C=O(l),s=C[0]==null?E:C[0],n=C[1]==null?E:C[1],s.$__send__(f,n);switch(f.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return X.$raise(a("TypeError"),""+G.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return X.$raise(a("ArgumentError"),"comparison of "+o.$class()+" with "+G.$class()+" failed");default:return E}}),w(g,"$<=>",function(f){var G=this;return F(G["$equal?"](f))?0:E}),w(g,"$+@",V),w(g,"$-@",function(){var f=this;return x(0,f)}),w(g,"$%",function(f){var G=this;return x(G,Y(f,G.$div(f)))}),w(g,"$abs",function(){var f=this;return F(h(f,0))?f["$-@"]():f}),w(g,"$abs2",function(){var f=this;return Y(f,f)}),w(g,"$angle",function(){var f=this;return F(h(f,0))?a(a("Math"),"PI"):0}),w(g,"$ceil",function(f){var G=this;return f==null&&(f=0),G.$to_f().$ceil(f)},-1),w(g,"$conj",V),w(g,"$denominator",function(){var f=this;return f.$to_r().$denominator()}),w(g,"$div",function(f){var G=this;return T(f,0)&&X.$raise(a("ZeroDivisionError"),"divided by o"),re(G,f).$floor()}),w(g,"$divmod",function(f){var G=this;return[G.$div(f),G["$%"](f)]}),w(g,"$fdiv",function(f){var G=this;return re(G.$to_f(),f)}),w(g,"$floor",function(f){var G=this;return f==null&&(f=0),G.$to_f().$floor(f)},-1),w(g,"$i",function(){var f=this;return X.$Complex(0,f)}),w(g,"$imag",U(0)),w(g,"$integer?",U(!1)),w(g,"$nonzero?",function(){var f=this;return F(f["$zero?"]())?E:f}),w(g,"$numerator",function(){var f=this;return f.$to_r().$numerator()}),w(g,"$polar",function(){var f=this;return[f.$abs(),f.$arg()]}),w(g,"$quo",function(f){var G=this;return re(B["$coerce_to!"](G,a("Rational"),"to_r"),f)}),w(g,"$real",V),w(g,"$real?",U(!0)),w(g,"$rect",function(){var f=this;return[f,0]}),w(g,"$round",function(f){var G=this;return G.$to_f().$round(f)},-1),w(g,"$step",function _(f,G,C){var l=_.$$p||E,o,s,n,t,r,i,$=this,u=E;_.$$p=null,o=ee(arguments),s=W(o),s=b(s),o.length>0&&(n=o.shift()),o.length>0&&(t=o.shift()),r=k(s,"to"),i=k(s,"by"),n!==void 0&&r!==void 0&&X.$raise(a("ArgumentError"),"to is given twice"),t!==void 0&&i!==void 0&&X.$raise(a("ArgumentError"),"step is given twice"),r!==void 0&&(n=r),i!==void 0&&(t=i),n===void 0&&(n=E);function v(){t===E&&X.$raise(a("TypeError"),"step must be numeric"),t!=null&&t["$=="](0)&&X.$raise(a("ArgumentError"),"step can't be 0"),(t===E||t==null)&&(t=1);var ge=t["$<=>"](0);ge===E&&X.$raise(a("ArgumentError"),"0 can't be coerced into "+t.$class()),(n===E||n==null)&&(n=ge>0?a(a("Float"),"INFINITY"):a(a("Float"),"INFINITY")["$-@"]()),B.$compare($,n)}function N(){if(t>0&&$>n||t<0&&$<n)return 0;if(t===1/0||t===-1/0)return 1;var ge=Math.abs,ve=Math.floor,me=(ge($)+ge(n)+ge(n-$))/ge(t)*a(a("Float"),"EPSILON");return me===1/0||me===-1/0?0:(me>.5&&(me=.5),ve((n-$)/t+me)+1)}function D(){if(v(),t===0)return 1/0;if(t%1!==0)return N();if(t>0&&$>n||t<0&&$<n)return 0;var ge=Math.ceil,ve=Math.abs,me=ve($-n)+1,be=ve(t);return ge(me/be)}if(l===E)return(z(n)||F(n["$is_a?"](a("Numeric"))))&&(z(t)||F(t["$is_a?"](a("Numeric"))))?a(a("Enumerator"),"ArithmeticSequence").$new([n,t,F(r)?"to: ":E,F(i)?"by: ":E],$):M($,"enum_for",["step",n,t],D.$to_proc());v();var R=t["$negative?"](),J=t["$=="](0)||n===1/0&&!R||n===-1/0&&R;if($.$$is_number&&t.$$is_number&&n.$$is_number)if($%1===0&&(J||n%1===0)&&t%1===0){var te=$;if(J)for(;;te+=t)l(te);else if(R)for(;te>=n;te+=t)l(te);else for(;te<=n;te+=t)l(te);return $}else{var ae=$.$to_f().valueOf();t=t.$to_f().valueOf(),n=n.$to_f().valueOf();var le=N();if(!isFinite(t))le!==0&&l(ae);else if(t===0)for(;;)l(ae);else for(var _e=0;_e<le;_e++){var de=_e*t+$;(t>=0?n<de:n>de)&&(de=n),l(de)}return $}for(u=$;F(R?q(u,n):P(u,n));)e.yield1(l,u),u=p(u,t)},-1),w(g,"$to_c",function(){var f=this;return X.$Complex(f,0)}),w(g,"$to_int",function(){var f=this;return f.$to_i()}),w(g,"$truncate",function(f){var G=this;return f==null&&(f=0),G.$to_f().$truncate(f)},-1),w(g,"$zero?",function(){var f=this;return f["$=="](0)}),w(g,"$positive?",function(){var f=this;return I(f,0)}),w(g,"$negative?",function(){var f=this;return h(f,0)}),w(g,"$dup",V),w(g,"$clone",function(f){var G=this;return f=b(f),k(f,"freeze"),G},-1),w(g,"$finite?",U(!0)),w(g,"$infinite?",U(E)),H(g,"arg","angle"),H(g,"conjugate","conj"),H(g,"imaginary","imag"),H(g,"magnitude","abs"),H(g,"modulo","%"),H(g,"phase","arg"),H(g,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(e){var y=e.truthy,F=e.falsy,X=e.yield1,w=e.hash_get,O=e.hash_put,V=e.hash_delete,x=e.coerce_to,Y=e.respond_to,h=e.deny_frozen_access,T=e.freeze,re=e.opal32_init,U=e.opal32_add,B=e.klass,ee=e.slice,W=e.defs,b=e.Kernel,k=e.def,z=e.Opal,M=e.eqeqeq,q=e.send2,P=e.find_super,p=e.send,I=e.rb_gt,H=e.rb_times,L=e.eqeq,E=e.rb_minus,a=e.to_a,d=e.to_ary,A=e.gvars,g=e.rb_ge,_=e.assign_ivar,f=e.rb_lt,G=e.return_self,C=e.neqeq,l=e.alias,o=e.top,s=[],n=e.nil,t=e.$$$;return e.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),o.$require("corelib/enumerable"),o.$require("corelib/numeric"),function(r,i,$){var u=B(r,i,"Array"),v=[u].concat($),N=e.$r(v);u.$include(t("Enumerable")),e.prop(u.$$prototype,"$$is_array",!0);function D($e){for(var S=$e[0],j=1,Z=$e.length;j<Z;j++)$e[j-1]=$e[j];return $e.pop(),S}function R($e,S){return S.$$name===e.Array?$e:S.$allocate().$replace($e.$to_a())}function J($e,S,j){for(var Z,Q=null,ie=new Array($e.length),se=0,oe=0;se<$e.length;se++){if(!Q)try{Z=X(j,$e[se])}catch(fe){Q=fe}(Q||S(Z))&&(ie[oe]=$e[se],oe+=1)}if(oe!==se&&($e.splice.apply($e,[0,ie.length].concat(ie)),$e.splice(oe,ie.length)),Q)throw Q}function te($e){return $e.$$is_array||($e=x($e,t("Array"),"to_ary")),$e.$to_a()}function ae($e,S){var j=S.length;if(j>6&&j<32767)$e.push.apply($e,S);else for(var Z=0;Z<j;Z++)$e.push(S[Z])}W(u,"$[]",function(S){var j,Z,Q=this;return j=ee(arguments),Z=j,R(Z,Q)},-1),k(u,"$initialize",function $e(S,j){var Z=$e.$$p||n,Q=this;if($e.$$p=null,S==null&&(S=n),j==null&&(j=n),h(Q),j!==n&&Z!==n&&b.$warn("warning: block supersedes default value argument"),S>t(t("Integer"),"MAX")&&b.$raise(t("ArgumentError"),"array size too big"),arguments.length>2&&b.$raise(t("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return Q.length>0&&Q.splice(0,Q.length),Q;if(arguments.length===1){if(S.$$is_array)return Q.$replace(S.$to_a()),Q;if(S["$respond_to?"]("to_ary"))return Q.$replace(S.$to_ary()),Q}S=x(S,t("Integer"),"to_int"),S<0&&b.$raise(t("ArgumentError"),"negative array size"),Q.splice(0,Q.length);var ie,se;if(Z===n)for(ie=0;ie<S;ie++)Q.push(j);else for(ie=0,se;ie<S;ie++)se=Z(ie),Q[ie]=se;return Q},-1),W(u,"$try_convert",function(S){return z["$coerce_to?"](S,t("Array"),"to_ary")}),k(u,"$&",function(S){var j=this;if(S=te(S),j.length===0||S.length===0)return[];var Z=[],Q=new Map,ie,se,oe;for(ie=0,se=S.length;ie<se;ie++)O(Q,S[ie],!0);for(ie=0,se=j.length;ie<se;ie++)oe=j[ie],V(Q,oe)!==void 0&&Z.push(oe);return Z}),k(u,"$|",function(S){var j=this;S=te(S);var Z=new Map,Q,ie;for(Q=0,ie=j.length;Q<ie;Q++)O(Z,j[Q],!0);for(Q=0,ie=S.length;Q<ie;Q++)O(Z,S[Q],!0);return Z.$keys()}),k(u,"$*",function(S){var j=this;if(y(S["$respond_to?"]("to_str")))return j.$join(S.$to_str());S=x(S,t("Integer"),"to_int"),y(S<0)&&b.$raise(t("ArgumentError"),"negative argument");for(var Z=[],Q=j.$to_a(),ie=0;ie<S;ie++)Z=Z.concat(Q);return Z}),k(u,"$+",function(S){var j=this;return S=te(S),j.concat(S)}),k(u,"$-",function(S){var j=this;if(S=te(S),y(j.length===0))return[];if(y(S.length===0))return j.slice();var Z=[],Q=new Map,ie,se,oe;for(ie=0,se=S.length;ie<se;ie++)O(Q,S[ie],!0);for(ie=0,se=j.length;ie<se;ie++)oe=j[ie],w(Q,oe)===void 0&&Z.push(oe);return Z}),k(u,"$<<",function(S){var j=this;return h(j),j.push(S),j}),k(u,"$<=>",function(S){var j=this;if(M(t("Array"),S))S=S.$to_a();else if(y(S["$respond_to?"]("to_ary")))S=S.$to_ary().$to_a();else return n;if(j===S)return 0;for(var Z=Math.min(j.length,S.length),Q=0;Q<Z;Q++){var ie=j[Q]["$<=>"](S[Q]);if(ie!==0)return ie}return j.length["$<=>"](S.length)}),k(u,"$==",function(S){var j=this,Z={};function Q(ie,se){var oe,fe,c,m;if(ie===se)return!0;if(!se.$$is_array)return Y(se,"$to_ary")?se["$=="](ie):!1;if(ie.$$constructor!==Array&&(ie=ie.$to_a()),se.$$constructor!==Array&&(se=se.$to_a()),ie.length!==se.length)return!1;for(Z[ie.$object_id()]=!0,oe=0,fe=ie.length;oe<fe;oe++)if(c=ie[oe],m=se[oe],c.$$is_array){if(m.$$is_array&&m.length!==c.length||!Z.hasOwnProperty(c.$object_id())&&!Q(c,m))return!1}else if(!c["$=="](m))return!1;return!0}return Q(j,S)});function le($e,S){var j=$e.length,Z,Q,ie,se;return Z=S.excl,Q=S.begin===n?0:x(S.begin,e.Integer,"to_int"),ie=S.end===n?-1:x(S.end,e.Integer,"to_int"),Q<0&&(Q+=j,Q<0)||(S.excl_rev&&S.begin!==n&&(Q+=1),Q>j)?n:ie<0&&(ie+=j,ie<0)?[]:((!Z||S.end===n)&&(ie+=1),se=$e.slice(Q,ie),se)}function _e($e,S){var j,Z=[],Q=0,ie;for(S.step<0?(ie={begin:S.range.end,end:S.range.begin,excl:!1,excl_rev:S.range.excl},j=le($e,ie).$reverse()):j=le($e,S.range);Q<j.length;)Z.push(j[Q]),Q+=Math.abs(S.step);return Z}function de($e,S,j){var Z=$e.length,Q;return S=x(S,e.Integer,"to_int"),S<0&&(S+=Z,S<0)?n:j===void 0?S>=Z||S<0?n:$e[S]:(j=x(j,e.Integer,"to_int"),j<0||S>Z||S<0?n:(Q=$e.slice(S,S+j),Q))}k(u,"$[]",function(S,j){var Z=this;return S.$$is_range?le(Z,S):S.$$is_arithmetic_seq?_e(Z,S):de(Z,S,j)},-2),k(u,"$[]=",function(S,j,Z){var Q=this,ie=n,se=n;h(Q),ie=n;var oe,fe=Q.length;if(S.$$is_range){j.$$is_array?ie=j.$to_a():j["$respond_to?"]("to_ary")?ie=j.$to_ary().$to_a():ie=[j];var c=S.excl,m=S.begin===n?0:x(S.begin,e.Integer,"to_int"),K=S.end===n?-1:x(S.end,e.Integer,"to_int");if(m<0&&(m+=fe,m<0&&b.$raise(t("RangeError"),""+S.$inspect()+" out of range")),K<0&&(K+=fe),(!c||S.end===n)&&(K+=1),m>fe)for(oe=fe;oe<m;oe++)Q[oe]=n;return K<0?Q.splice.apply(Q,[m,0].concat(ie)):Q.splice.apply(Q,[m,K-m].concat(ie)),j}else{Z===void 0?se=1:(se=j,j=Z,j.$$is_array?ie=j.$to_a():j["$respond_to?"]("to_ary")?ie=j.$to_ary().$to_a():ie=[j]);var ne;if(S=x(S,t("Integer"),"to_int"),se=x(se,t("Integer"),"to_int"),S<0&&(ne=S,S+=fe,S<0&&b.$raise(t("IndexError"),"index "+ne+" too small for array; minimum "+-Q.length)),se<0&&b.$raise(t("IndexError"),"negative length ("+se+")"),S>fe)for(oe=fe;oe<S;oe++)Q[oe]=n;return Z===void 0?Q[S]=j:Q.splice.apply(Q,[S,se].concat(ie)),j}},-3),k(u,"$any?",function $e(S){var j=$e.$$p||n,Z=this;return $e.$$p=null,Z.length===0?!1:q(Z,P(Z,"any?",$e,!1,!0),"any?",[S],j)},-1),k(u,"$assoc",function(S){for(var j=this,Z=0,Q=j.length,ie;Z<Q;Z++)if(ie=j[Z],ie.length&&ie[0]["$=="](S))return ie;return n}),k(u,"$at",function(S){var j=this;return S=x(S,t("Integer"),"to_int"),S<0&&(S+=j.length),S<0||S>=j.length?n:j[S]}),k(u,"$bsearch_index",function $e(){var S=$e.$$p||n,j=this;if($e.$$p=null,S===n)return j.$enum_for("bsearch_index");for(var Z=0,Q=j.length,ie,se,oe,fe=!1,c=n;Z<Q;){if(ie=Z+Math.floor((Q-Z)/2),se=j[ie],oe=X(S,se),oe===!0)c=ie,fe=!0;else if(oe===!1||oe===n)fe=!1;else if(oe.$$is_number){if(oe===0)return ie;fe=oe<0}else b.$raise(t("TypeError"),"wrong argument type "+oe.$class()+" (must be numeric, true, false or nil)");fe?Q=ie:Z=ie+1}return c}),k(u,"$bsearch",function $e(){var S=$e.$$p||n,j=this,Z=n;return $e.$$p=null,S===n?j.$enum_for("bsearch"):(Z=p(j,"bsearch_index",[],S.$to_proc()),Z!=null&&Z.$$is_number?j[Z]:Z)}),k(u,"$cycle",function $e(S){var j=$e.$$p||n,Z=this;if($e.$$p=null,S==null&&(S=n),j===n)return p(Z,"enum_for",["cycle",S],function se(){var oe=se.$$s==null?this:se.$$s;return y(S["$nil?"]())?t(t("Float"),"INFINITY"):(S=z["$coerce_to!"](S,t("Integer"),"to_int"),y(I(S,0))?H(oe.$enumerator_size(),S):0)},{$$s:Z});if(y(Z["$empty?"]())||L(S,0))return n;var Q,ie;if(S===n)for(;;)for(Q=0,ie=Z.length;Q<ie;Q++)X(j,Z[Q]);else{if(S=z["$coerce_to!"](S,t("Integer"),"to_int"),S<=0)return Z;for(;S>0;){for(Q=0,ie=Z.length;Q<ie;Q++)X(j,Z[Q]);S--}}return Z},-1),k(u,"$clear",function(){var S=this;return h(S),S.splice(0,S.length),S}),k(u,"$count",function $e(S){var j=$e.$$p||n,Z=this;return $e.$$p=null,y(S!==void 0)||y(j)?q(Z,P(Z,"count",$e,!1,!0),"count",[S],j):Z.$size()},-1),k(u,"$initialize_copy",function(S){var j=this;return j.$replace(S)}),k(u,"$collect",function $e(){var S=$e.$$p||n,j=this;if($e.$$p=null,S===n)return p(j,"enum_for",["collect"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:j});for(var Z=[],Q=0;Q<j.length;Q++){var ie=X(S,j[Q]);Z[Q]=ie}return Z}),k(u,"$collect!",function $e(){var S=$e.$$p||n,j=this;if($e.$$p=null,S===n)return p(j,"enum_for",["collect!"],function ie(){var se=ie.$$s==null?this:ie.$$s;return se.$size()},{$$s:j});h(j);for(var Z=0;Z<j.length;Z++){var Q=X(S,j[Z]);j[Z]=Q}return j});function ge($e,S){return $e===S||S===0?1:S>0&&$e>S?ge($e-1,S-1)+ge($e-1,S):0}k(u,"$combination",function $e(S){var j=$e.$$p||n,Z=this,Q=n;if($e.$$p=null,Q=z["$coerce_to!"](S,t("Integer"),"to_int"),j===n)return p(Z,"enum_for",["combination",Q],function ne(){var ue=ne.$$s==null?this:ne.$$s;return ge(ue.length,Q)},{$$s:Z});var ie,se,oe,fe,c,m,K;if(Q===0)e.yield1(j,[]);else if(Q===1)for(ie=0,se=Z.length;ie<se;ie++)e.yield1(j,[Z[ie]]);else if(Q===Z.length)e.yield1(j,Z.slice());else if(Q>=0&&Q<Z.length){for(oe=[],ie=0;ie<=Q+1;ie++)oe.push(0);for(fe=[],c=0,m=!1,oe[0]=-1;!m;){for(fe[c]=Z[oe[c+1]];c<Q-1;)c++,K=oe[c+1]=oe[c]+1,fe[c]=Z[K];e.yield1(j,fe.slice()),c++;do m=c===0,oe[c]++,c--;while(oe[c+1]+Q===Z.length+c+1)}}return Z}),k(u,"$repeated_combination",function $e(S){var j=$e.$$p||n,Z=this,Q=n;if($e.$$p=null,Q=z["$coerce_to!"](S,t("Integer"),"to_int"),j===n)return p(Z,"enum_for",["repeated_combination",Q],function se(){var oe=se.$$s==null?this:se.$$s;return ge(oe.length+Q-1,Q)},{$$s:Z});function ie(se,oe,fe,c){if(fe.length==se){var m=fe.slice();e.yield1(j,m);return}for(var K=oe;K<c.length;K++)fe.push(c[K]),ie(se,K,fe,c),fe.pop()}return Q>=0&&ie(Q,0,[],Z),Z}),k(u,"$compact",function(){for(var S=this,j=[],Z=0,Q=S.length,ie;Z<Q;Z++)(ie=S[Z])!==n&&j.push(ie);return j}),k(u,"$compact!",function(){var S=this;h(S);for(var j=S.length,Z=0,Q=S.length;Z<Q;Z++)S[Z]===n&&(S.splice(Z,1),Q--,Z--);return S.length===j?n:S}),k(u,"$concat",function(S){var j,Z,Q=this;return j=ee(arguments),Z=j,h(Q),Z=p(Z,"map",[],function ie(se){var oe=ie.$$s==null?this:ie.$$s;return se==null&&(se=n),se=te(se),y(se["$equal?"](oe))&&(se=se.$dup()),se},{$$s:Q}),p(Z,"each",[],function ie(se){var oe=ie.$$s==null?this:ie.$$s;se==null&&(se=n);for(var fe=0,c=se.length;fe<c;fe++)oe.push(se[fe])},{$$s:Q}),Q},-1),k(u,"$delete",function $e(S){var j=$e.$$p||n,Z=this;$e.$$p=null;for(var Q=Z.length,ie=0,se=Q;ie<se;ie++)Z[ie]["$=="](S)&&(h(Z),Z.splice(ie,1),se--,ie--);return Z.length===Q?j!==n?e.yieldX(j,[]):n:S}),k(u,"$delete_at",function(S){var j=this;if(h(j),S=x(S,t("Integer"),"to_int"),S<0&&(S+=j.length),S<0||S>=j.length)return n;var Z=j[S];return j.splice(S,1),Z}),k(u,"$delete_if",function $e(){var S=$e.$$p||n,j=this;return $e.$$p=null,S===n?p(j,"enum_for",["delete_if"],function Z(){var Q=Z.$$s==null?this:Z.$$s;return Q.$size()},{$$s:j}):(h(j),J(j,F,S),j)}),k(u,"$difference",function(S){var j,Z,Q=this;return j=ee(arguments),Z=j,p(Z,"reduce",[Q.$to_a().$dup()],function(se,oe){return se==null&&(se=n),oe==null&&(oe=n),E(se,oe)})},-1),k(u,"$dig",function(S,j){var Z,Q,ie=this,se=n;return Z=ee(arguments,1),Q=Z,se=ie["$[]"](S),se===n||Q.length===0?se:(y(se["$respond_to?"]("dig"))||b.$raise(t("TypeError"),""+se.$class()+" does not have #dig method"),p(se,"dig",a(Q)))},-2),k(u,"$drop",function(S){var j=this;return S=x(S,t("Integer"),"to_int"),S<0&&b.$raise(t("ArgumentError")),j.slice(S)}),k(u,"$dup",function $e(){var S=$e.$$p||n,j=this;return $e.$$p=null,j.$$class===e.Array&&j.$$class.$allocate.$$pristine&&j.$copy_instance_variables.$$pristine&&j.$initialize_dup.$$pristine?j.slice(0):q(j,P(j,"dup",$e,!1,!0),"dup",[],S)}),k(u,"$each",function $e(){var S=$e.$$p||n,j=this;if($e.$$p=null,S===n)return p(j,"enum_for",["each"],function Q(){var ie=Q.$$s==null?this:Q.$$s;return ie.$size()},{$$s:j});for(var Z=0;Z<j.length;Z++)X(S,j[Z]);return j}),k(u,"$each_index",function $e(){var S=$e.$$p||n,j=this;if($e.$$p=null,S===n)return p(j,"enum_for",["each_index"],function Q(){var ie=Q.$$s==null?this:Q.$$s;return ie.$size()},{$$s:j});for(var Z=0;Z<j.length;Z++)X(S,Z);return j}),k(u,"$empty?",function(){var S=this;return S.length===0}),k(u,"$eql?",function(S){var j=this,Z={};function Q(ie,se){var oe,fe,c,m;if(!se.$$is_array||(se=se.$to_a(),ie.length!==se.length))return!1;for(Z[ie.$object_id()]=!0,oe=0,fe=ie.length;oe<fe;oe++)if(c=ie[oe],m=se[oe],c.$$is_array){if(m.$$is_array&&m.length!==c.length||!Z.hasOwnProperty(c.$object_id())&&!Q(c,m))return!1}else if(!c["$eql?"](m))return!1;return!0}return Q(j,S)}),k(u,"$fetch",function $e(S,j){var Z=$e.$$p||n,Q=this;$e.$$p=null;var ie=S;if(S=x(S,t("Integer"),"to_int"),S<0&&(S+=Q.length),S>=0&&S<Q.length)return Q[S];if(Z!==n&&j!=null&&Q.$warn("warning: block supersedes default value argument"),Z!==n)return Z(ie);if(j!=null)return j;Q.length===0?b.$raise(t("IndexError"),"index "+ie+" outside of array bounds: 0...0"):b.$raise(t("IndexError"),"index "+ie+" outside of array bounds: -"+Q.length+"..."+Q.length)},-2),k(u,"$fill",function $e(S){var j=$e.$$p||n,Z,Q,ie,se,oe=this,fe=n,c=n,m=n,K=n,ne=n;$e.$$p=null,Z=ee(arguments),Q=Z,h(oe);var ue,ce;if(y(j)?(y(Q.length>2)&&b.$raise(t("ArgumentError"),"wrong number of arguments ("+Q.$length()+" for 0..2)"),se=Q,ie=d(se),fe=ie[0]==null?n:ie[0],c=ie[1]==null?n:ie[1]):(y(Q.length==0)?b.$raise(t("ArgumentError"),"wrong number of arguments (0 for 1..3)"):y(Q.length>3)&&b.$raise(t("ArgumentError"),"wrong number of arguments ("+Q.$length()+" for 1..3)"),se=Q,ie=d(se),m=ie[0]==null?n:ie[0],fe=ie[1]==null?n:ie[1],c=ie[2]==null?n:ie[2]),M(t("Range"),fe)){if(y(c)&&b.$raise(t("TypeError"),"length invalid with range"),K=fe.begin===n?0:x(fe.begin,t("Integer"),"to_int"),y(K<0)&&(K+=this.length),y(K<0)&&b.$raise(t("RangeError"),""+fe.$inspect()+" out of range"),ne=fe.end===n?-1:x(fe.end,t("Integer"),"to_int"),y(ne<0)&&(ne+=this.length),y(fe["$exclude_end?"]())||(ne+=1),y(ne<=K))return oe}else if(y(fe))if(K=x(fe,t("Integer"),"to_int"),y(K<0)&&(K+=this.length),y(K<0)&&(K=0),y(c)){if(ne=x(c,t("Integer"),"to_int"),y(ne==0))return oe;ne+=K}else ne=this.length;else K=0,ne=this.length;if(y(K>this.length))for(ue=this.length;ue<ne;ue++)oe[ue]=n;if(y(ne>this.length)&&(this.length=ne),y(j))for(this.length;K<ne;K++)ce=j(K),oe[K]=ce;else for(this.length;K<ne;K++)oe[K]=m;return oe},-1),k(u,"$first",function(S){var j=this;return S==null?j.length===0?n:j[0]:(S=x(S,t("Integer"),"to_int"),S<0&&b.$raise(t("ArgumentError"),"negative array size"),j.slice(0,S))},-1),k(u,"$flatten",function(S){var j=this;function Z(Q,ie){var se=[],oe,fe,c,m;for(Q=Q.$to_a(),oe=0,fe=Q.length;oe<fe;oe++){if(c=Q[oe],!Y(c,"$to_ary",!0)){se.push(c);continue}if(m=c.$to_ary(),m===n){se.push(c);continue}switch(m.$$is_array||b.$raise(t("TypeError")),m===j&&b.$raise(t("ArgumentError")),ie){case void 0:se=se.concat(Z(m));break;case 0:se.push(m);break;default:ae(se,Z(m,ie-1))}}return se}return S!==void 0&&(S=x(S,t("Integer"),"to_int")),Z(j,S)},-1),k(u,"$flatten!",function(S){var j=this;h(j);var Z=j.$flatten(S);if(j.length==Z.length){for(var Q=0,ie=j.length;Q<ie&&j[Q]===Z[Q];Q++);if(Q==ie)return n}return j.$replace(Z),j},-1),k(u,"$freeze",function(){var S=this;return y(S["$frozen?"]())?S:T(S)});var ve;k(u,"$hash",function(){var S=this,j=ve===void 0,Z=re(),Q=S.$object_id(),ie,se,oe;if(Z=U(Z,10),Z=U(Z,S.length),j)ve=Object.create(null);else if(ve[Q])return U(Z,16843009);try{for(oe in ve)if(ie=ve[oe],S["$eql?"](ie))return U(Z,16843009);for(ve[Q]=S,se=0;se<S.length;se++)ie=S[se],Z=U(Z,ie.$hash());return Z}finally{j&&(ve=void 0)}}),k(u,"$include?",function(S){for(var j=this,Z=0,Q=j.length;Z<Q;Z++)if(j[Z]["$=="](S))return!0;return!1}),k(u,"$index",function $e(S){var j=$e.$$p||n,Z=this;$e.$$p=null;var Q,ie,se;if(S!=null&&j!==n&&Z.$warn("warning: given block not used"),S!=null){for(Q=0,ie=Z.length;Q<ie;Q++)if(Z[Q]["$=="](S))return Q}else if(j!==n){for(Q=0;Q<Z.length;Q++)if(se=j(Z[Q]),se!==!1&&se!==n)return Q}else return Z.$enum_for("index");return n},-1),k(u,"$insert",function(S,j){var Z,Q,ie=this;if(Z=ee(arguments,1),Q=Z,h(ie),S=x(S,t("Integer"),"to_int"),Q.length>0){if(S<0&&(S+=ie.length+1,S<0&&b.$raise(t("IndexError"),""+S+" is out of bounds")),S>ie.length)for(var se=ie.length;se<S;se++)ie.push(n);ie.splice.apply(ie,[S,0].concat(Q))}return ie},-2);var me=[];k(u,"$inspect",function(){var S=this,j=[],Z=S.$__id__(),Q=!0;return function(){try{if(me.indexOf(Z)!==-1)return Q=!1,"[...]";me.push(Z);for(var ie=0,se=S.length;ie<se;ie++){var oe=S["$[]"](ie);j.push(N("Opal").$inspect(oe))}return"["+j.join(", ")+"]"}finally{Q&&me.pop()}}()}),k(u,"$intersection",function(S){var j,Z,Q=this,ie=n,se=n;return j=ee(arguments),Z=j,Z.length===0?Q.$to_a().$dup():(Z=Z.map(te),Q.length===0?[]:(Z=p(Z,"sort_by",[],"length".$to_proc()),y(Q.length<Z[0].length)?p(Z,"reduce",[Q],"&".$to_proc()):(ie=Z.pop(),se=p(Z,"reduce",[ie],"&".$to_proc()),Q["$&"](se))))},-1),k(u,"$intersect?",function(S){var j=this,Z,Q,ie=new Map,se,oe;for(j.length<S.length?(Z=j,Q=S):(Z=S,Q=j),se=0,oe=Z.length;se<oe;se++)O(ie,Z[se],!0);for(se=0,oe=Q.length;se<oe;se++)if(w(ie,Q[se]))return!0;return!1}),k(u,"$join",function(S){var j=this;if(A[","]==null&&(A[","]=n),S==null&&(S=n),y(j.length===0))return"";y(S===n)&&(S=A[","]);var Z=[],Q,ie,se,oe;for(Q=0,ie=j.length;Q<ie;Q++){if(se=j[Q],Y(se,"$to_str")&&(oe=se.$to_str(),oe!==n)){Z.push(oe.$to_s());continue}if(Y(se,"$to_ary")&&(oe=se.$to_ary(),oe===j&&b.$raise(t("ArgumentError")),oe!==n)){Z.push(oe.$join(S));continue}if(Y(se,"$to_s")&&(oe=se.$to_s(),oe!==n)){Z.push(oe);continue}b.$raise(t("NoMethodError").$new(""+N("Opal").$inspect(j.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return S===n?Z.join(""):Z.join(z["$coerce_to!"](S,t("String"),"to_str").$to_s())},-1),k(u,"$keep_if",function $e(){var S=$e.$$p||n,j=this;return $e.$$p=null,S===n?p(j,"enum_for",["keep_if"],function Z(){var Q=Z.$$s==null?this:Z.$$s;return Q.$size()},{$$s:j}):(h(j),J(j,y,S),j)}),k(u,"$last",function(S){var j=this;return S==null?j.length===0?n:j[j.length-1]:(S=x(S,t("Integer"),"to_int"),S<0&&b.$raise(t("ArgumentError"),"negative array size"),S>j.length&&(S=j.length),j.slice(j.length-S,j.length))},-1),k(u,"$length",function(){var S=this;return S.length}),k(u,"$max",function $e(S){var j=$e.$$p||n,Z=this;return $e.$$p=null,p(Z.$each(),"max",[S],j.$to_proc())},-1),k(u,"$min",function $e(){var S=$e.$$p||n,j=this;return $e.$$p=null,p(j.$each(),"min",[],S.$to_proc())});function be($e,S){for(var j=S>=0?1:0;S;)j*=$e,$e--,S--;return j}return k(u,"$permutation",function $e(S){var j=$e.$$p||n,Z=this,Q=n,ie=n;if($e.$$p=null,j===n)return p(Z,"enum_for",["permutation",S],function m(){var K=m.$$s==null?this:m.$$s;return be(K.length,S===void 0?K.length:S)},{$$s:Z});var se,oe,fe;if(S===void 0?S=Z.length:S=x(S,t("Integer"),"to_int"),!(S<0||Z.length<S))if(S===0)e.yield1(j,[]);else if(S===1)for(var c=0;c<Z.length;c++)e.yield1(j,[Z[c]]);else Q=N("Array").$new(S),ie=N("Array").$new(Z.length,!1),se=function(m,K,ne,ue,ce){Z=this;for(var he=0;he<Z.length;he++)if(ue["$[]"](he)["$!"]())if(K[ne]=he,ne<m-1)ue[he]=!0,se.call(Z,m,K,ne+1,ue,ce),ue[he]=!1;else{fe=[];for(var pe=0;pe<K.length;pe++)fe.push(Z[K[pe]]);X(ce,fe)}},j!==n?(oe=Z.slice(),se.call(oe,S,Q,0,ie,j)):se.call(Z,S,Q,0,ie,j);return Z},-1),k(u,"$repeated_permutation",function $e(S){var j=$e.$$p||n,Z=this,Q=n;if($e.$$p=null,Q=z["$coerce_to!"](S,t("Integer"),"to_int"),j===n)return p(Z,"enum_for",["repeated_permutation",Q],function se(){var oe=se.$$s==null?this:se.$$s;return y(g(Q,0))?oe.$size()["$**"](Q):0},{$$s:Z});function ie(se,oe,fe){if(oe.length==se){var c=oe.slice();e.yield1(j,c);return}for(var m=0;m<fe.length;m++)oe.push(fe[m]),ie(se,oe,fe),oe.pop()}return ie(Q,[],Z.slice()),Z}),k(u,"$pop",function(S){var j=this;return h(j),y(S===void 0)?y(j.length===0)?n:j.pop():(S=x(S,t("Integer"),"to_int"),y(S<0)&&b.$raise(t("ArgumentError"),"negative array size"),y(j.length===0)?[]:y(S===1)?[j.pop()]:y(S>j.length)?j.splice(0,j.length):j.splice(j.length-S,j.length))},-1),k(u,"$product",function $e(S){var j=$e.$$p||n,Z,Q,ie=this;$e.$$p=null,Z=ee(arguments),Q=Z;var se=j!==n?null:[],oe=Q.length+1,fe=new Array(oe),c=new Array(oe),m=new Array(oe),K,ne,ue,ce,he=1;for(m[0]=ie,K=1;K<oe;K++)m[K]=x(Q[K-1],t("Array"),"to_ary");for(K=0;K<oe;K++){if(ce=m[K].length,ce===0)return se||ie;he*=ce,he>2147483647&&b.$raise(t("RangeError"),"too big to product"),c[K]=ce,fe[K]=0}e:for(;;){for(ue=[],K=0;K<oe;K++)ue.push(m[K][fe[K]]);for(se?se.push(ue):e.yield1(j,ue),ne=oe-1,fe[ne]++;fe[ne]===c[ne];){if(fe[ne]=0,--ne<0)break e;fe[ne]++}}return se||ie},-1),k(u,"$push",function(S){var j,Z,Q=this;return j=ee(arguments),Z=j,h(Q),ae(Q,Z),Q},-1),k(u,"$rassoc",function(S){for(var j=this,Z=0,Q=j.length,ie;Z<Q;Z++)if(ie=j[Z],ie.length&&ie[1]!==void 0&&ie[1]["$=="](S))return ie;return n}),k(u,"$reject",function $e(){var S=$e.$$p||n,j=this;if($e.$$p=null,S===n)return p(j,"enum_for",["reject"],function se(){var oe=se.$$s==null?this:se.$$s;return oe.$size()},{$$s:j});for(var Z=[],Q=0,ie;Q<j.length;Q++)ie=S(j[Q]),(ie===!1||ie===n)&&Z.push(j[Q]);return Z}),k(u,"$reject!",function $e(){var S=$e.$$p||n,j=this,Z=n;return $e.$$p=null,S===n?p(j,"enum_for",["reject!"],function Q(){var ie=Q.$$s==null?this:Q.$$s;return ie.$size()},{$$s:j}):(h(j),Z=j.$length(),p(j,"delete_if",[],S.$to_proc()),L(j.$length(),Z)?n:j)}),k(u,"$replace",function(S){var j=this;return h(j),S=te(S),j.length>0&&j.splice(0,j.length),ae(j,S),j}),k(u,"$reverse",function(){var S=this;return S.slice(0).reverse()}),k(u,"$reverse!",function(){var S=this;return h(S),S.reverse()}),k(u,"$reverse_each",function $e(){var S=$e.$$p||n,j=this;if($e.$$p=null,S===n)return p(j,"enum_for",["reverse_each"],function Q(){var ie=Q.$$s==null?this:Q.$$s;return ie.$size()},{$$s:j});for(var Z=j.length-1;Z>=0;Z--)X(S,j[Z]);return j}),k(u,"$rindex",function $e(S){var j=$e.$$p||n,Z=this;$e.$$p=null;var Q,ie;if(S!=null&&j!==n&&Z.$warn("warning: given block not used"),S!=null){for(Q=Z.length-1;Q>=0&&!(Q>=Z.length);Q--)if(Z[Q]["$=="](S))return Q}else if(j!==n){for(Q=Z.length-1;Q>=0&&!(Q>=Z.length);Q--)if(ie=j(Z[Q]),ie!==!1&&ie!==n)return Q}else if(S==null)return Z.$enum_for("rindex");return n},-1),k(u,"$rotate",function(S){var j=this;S==null&&(S=1);var Z,Q,ie,se;return S=x(S,t("Integer"),"to_int"),j.length===1?j.slice():j.length===0?[]:(Z=j.slice(),Q=S%Z.length,ie=Z.slice(Q),se=Z.slice(0,Q),ie.concat(se))},-1),k(u,"$rotate!",function(S){var j=this,Z=n;return S==null&&(S=1),h(j),j.length===0||j.length===1?j:(S=x(S,t("Integer"),"to_int"),Z=j.$rotate(S),j.$replace(Z))},-1),function($e,S){var j=B($e,S,"SampleRandom"),Z=j.$$prototype;return Z.rng=n,k(j,"$initialize",_("rng")),k(j,"$rand",function(ie){var se=this,oe=n;return oe=x(se.rng.$rand(ie),t("Integer"),"to_int"),y(oe<0)&&b.$raise(t("RangeError"),"random value must be >= 0"),y(oe<ie)||b.$raise(t("RangeError"),"random value must be less than Array size"),oe})}(u,null),k(u,"$sample",function(S,j){var Z=this,Q=n,ie=n;if(y(S===void 0))return Z.$at(b.$rand(Z.length));if(y(j===void 0)?y(Q=z["$coerce_to?"](S,t("Hash"),"to_hash"))?(j=Q,S=n):(j=n,S=x(S,t("Integer"),"to_int")):(S=x(S,t("Integer"),"to_int"),j=x(j,t("Hash"),"to_hash")),y(S)&&y(S<0)&&b.$raise(t("ArgumentError"),"count must be greater than 0"),y(j)&&(ie=j["$[]"]("random")),ie=y(ie)&&y(ie["$respond_to?"]("rand"))?N("SampleRandom").$new(ie):b,!y(S))return Z[ie.$rand(Z.length)];var se,oe,fe,c,m,K,ne,ue;switch(S>Z.length&&(S=Z.length),S){case 0:return[];case 1:return[Z[ie.$rand(Z.length)]];case 2:return c=ie.$rand(Z.length),m=ie.$rand(Z.length-1),c<=m&&m++,[Z[c],Z[m]];default:if(Z.length/S>3){for(se=!1,oe=0,fe=N("Array").$new(S),c=1,fe[0]=ie.$rand(Z.length);c<S;){for(K=ie.$rand(Z.length),m=0;m<c;){for(;K===fe[m];){if(oe++,oe>100){se=!0;break}K=ie.$rand(Z.length)}if(se)break;m++}if(se)break;fe[c]=K,c++}if(!se){for(c=0;c<S;)fe[c]=Z[fe[c]],c++;return fe}}fe=Z.slice();for(var ce=0;ce<S;ce++)ne=ie.$rand(Z.length-ce)+ce,ue=fe[ce],fe[ce]=fe[ne],fe[ne]=ue;return S===Z.length?fe:fe["$[]"](0,S)}},-1),k(u,"$select",function $e(){var S=$e.$$p||n,j=this;if($e.$$p=null,S===n)return p(j,"enum_for",["select"],function oe(){var fe=oe.$$s==null?this:oe.$$s;return fe.$size()},{$$s:j});for(var Z=[],Q=0,ie,se;Q<j.length;Q++)ie=j[Q],se=X(S,ie),y(se)&&Z.push(ie);return Z}),k(u,"$select!",function $e(){var S=$e.$$p||n,j=this;if($e.$$p=null,S===n)return p(j,"enum_for",["select!"],function Q(){var ie=Q.$$s==null?this:Q.$$s;return ie.$size()},{$$s:j});h(j);var Z=j.length;return p(j,"keep_if",[],S.$to_proc()),j.length===Z?n:j}),k(u,"$shift",function(S){var j=this;return h(j),y(S===void 0)?y(j.length===0)?n:D(j):(S=x(S,t("Integer"),"to_int"),y(S<0)&&b.$raise(t("ArgumentError"),"negative array size"),y(j.length===0)?[]:j.splice(0,S))},-1),k(u,"$shuffle",function(S){var j=this;return j.$dup().$to_a()["$shuffle!"](S)},-1),k(u,"$shuffle!",function(S){var j=this;h(j);var Z,Q=j.length,ie,se;for(S!==void 0&&(S=z["$coerce_to?"](S,t("Hash"),"to_hash"),S!==n&&(S=S["$[]"]("random"),S!==n&&S["$respond_to?"]("rand")&&(Z=S)));Q;)Z?(ie=Z.$rand(Q).$to_int(),ie<0&&b.$raise(t("RangeError"),"random number too small "+ie),ie>=Q&&b.$raise(t("RangeError"),"random number too big "+ie)):ie=j.$rand(Q),se=j[--Q],j[Q]=j[ie],j[ie]=se;return j},-1),k(u,"$slice!",function(S,j){var Z=this,Q=n,ie=n,se=n,oe=n,fe=n;if(h(Z),Q=n,y(j===void 0))if(M(t("Range"),S)){ie=S,Q=Z["$[]"](ie),se=ie.begin===n?0:x(ie.begin,t("Integer"),"to_int"),oe=ie.end===n?-1:x(ie.end,t("Integer"),"to_int"),se<0&&(se+=Z.length),oe<0?oe+=Z.length:oe>=Z.length&&(oe=Z.length-1,ie.excl&&(oe+=1));var c=oe-se;ie.excl&&ie.end!==n?oe-=1:c+=1,se<Z.length&&se>=0&&oe<Z.length&&oe>=0&&c>0&&Z.splice(se,c)}else{if(fe=x(S,t("Integer"),"to_int"),fe<0&&(fe+=Z.length),fe<0||fe>=Z.length)return n;Q=Z[fe],fe===0?Z.shift():Z.splice(fe,1)}else{if(fe=x(S,t("Integer"),"to_int"),j=x(j,t("Integer"),"to_int"),j<0)return n;Q=Z["$[]"](fe,j),fe<0&&(fe+=Z.length),fe+j>Z.length&&(j=Z.length-fe),fe<Z.length&&fe>=0&&Z.splice(fe,j)}return Q},-2),k(u,"$sort",function $e(){var S=$e.$$p||n,j=this;return $e.$$p=null,y(j.length>1)?(S===n&&(S=function(Z,Q){return Z["$<=>"](Q)}),j.slice().sort(function(Z,Q){var ie=S(Z,Q);return ie===n&&b.$raise(t("ArgumentError"),"comparison of "+Z.$inspect()+" with "+Q.$inspect()+" failed"),I(ie,0)?1:f(ie,0)?-1:0})):j}),k(u,"$sort!",function $e(){var S=$e.$$p||n,j=this;$e.$$p=null,h(j);var Z;S!==n?Z=p(j.slice(),"sort",[],S.$to_proc()):Z=j.slice().$sort(),j.length=0;for(var Q=0,ie=Z.length;Q<ie;Q++)j.push(Z[Q]);return j}),k(u,"$sort_by!",function $e(){var S=$e.$$p||n,j=this;return $e.$$p=null,S===n?p(j,"enum_for",["sort_by!"],function Z(){var Q=Z.$$s==null?this:Z.$$s;return Q.$size()},{$$s:j}):(h(j),j.$replace(p(j,"sort_by",[],S.$to_proc())))}),k(u,"$take",function(S){var j=this;return S<0&&b.$raise(t("ArgumentError")),j.slice(0,S)}),k(u,"$take_while",function $e(){var S=$e.$$p||n,j=this;$e.$$p=null;for(var Z=[],Q=0,ie,se;Q<j.length;Q++){if(ie=j[Q],se=S(ie),se===!1||se===n)return Z;Z.push(ie)}return Z}),k(u,"$to_a",function(){var S=this;return S.$$class===e.Array?S:e.Array.$new(S)}),k(u,"$to_ary",G),k(u,"$to_h",function $e(){var S=$e.$$p||n,j=this,Z=n;$e.$$p=null,Z=j,S!==n&&(Z=p(Z,"map",[],S.$to_proc()));var Q,ie=Z.length,se,oe,fe,c=new Map;for(Q=0;Q<ie;Q++)se=z["$coerce_to?"](Z[Q],t("Array"),"to_ary"),se.$$is_array||b.$raise(t("TypeError"),"wrong element type "+Z[Q].$class()+" at "+Q+" (expected array)"),se.length!==2&&b.$raise(t("ArgumentError"),"element has wrong array length at "+Q+" (expected 2, was "+se.$length()+")"),oe=se[0],fe=se[1],O(c,oe,fe);return c}),k(u,"$transpose",function(){var S=this,j=n,Z=n;return y(S["$empty?"]())?[]:(j=[],Z=n,p(S,"each",[],function(ie){var se=n;return ie==null&&(ie=n),ie=te(ie),Z=y(se=Z)?se:ie.length,C(ie.length,Z)&&b.$raise(t("IndexError"),"element size differs ("+ie.length+" should be "+Z+")"),p(ie.length,"times",[],function(fe){var c,m=n;return fe==null&&(fe=n),m=y(se=j["$[]"](fe))?se:(c=[fe,[]],p(j,"[]=",c),c[c.length-1]),m["$<<"](ie.$at(fe))})}),j)}),k(u,"$union",function(S){var j,Z,Q=this;return j=ee(arguments),Z=j,p(Z,"reduce",[Q.$uniq()],function(se,oe){return se==null&&(se=n),oe==null&&(oe=n),se["$|"](oe)})},-1),k(u,"$uniq",function $e(){var S=$e.$$p||n,j=this;$e.$$p=null;var Z=new Map,Q,ie,se,oe;if(S===n)for(Q=0,ie=j.length;Q<ie;Q++)se=j[Q],w(Z,se)===void 0&&O(Z,se,se);else for(Q=0;Q<j.length;Q++)se=j[Q],oe=X(S,se),w(Z,oe)===void 0&&O(Z,oe,se);return Z.$values()}),k(u,"$uniq!",function $e(){var S=$e.$$p||n,j=this;$e.$$p=null,h(j);var Z=new Map,Q,ie,se,oe=[];for(Q=0;Q<j.length;Q++)ie=j[Q],se=S===n?ie:X(S,ie),w(Z,se)===void 0?O(Z,se,ie):oe.push(Q);for(Q=oe.length-1;Q>=0;Q--)j.splice(oe[Q],1);return oe.length===0?n:j}),k(u,"$unshift",function(S){var j,Z,Q=this;j=ee(arguments),Z=j,h(Q);var ie=Q.length,se=Z.length;if(se==0)return Q;for(var oe=ie-se,fe=0;fe<se;fe++)Q.push(Q[oe+fe]);for(var c=ie-1;c-se>=0;)Q[c]=Q[c-se],c--;for(var m=0;m<se;m++)Q[m]=Z[m];return Q},-1),k(u,"$values_at",function(S){var j,Z,Q=this,ie=n;return j=ee(arguments),Z=j,ie=[],p(Z,"each",[],function se(oe){var fe=se.$$s==null?this:se.$$s,c=n,m=n,K=n;return oe==null&&(oe=n),y(oe["$is_a?"](t("Range")))?(c=oe.$end()===n?-1:x(oe.$end(),t("Integer"),"to_int"),m=oe.$begin()===n?0:x(oe.$begin(),t("Integer"),"to_int"),m<0?(m=m+fe.length,n):(c<0&&(c=c+fe.length),oe["$exclude_end?"]()&&oe.$end()!==n&&c--,c<m?n:p(m,"upto",[c],function ne(ue){var ce=ne.$$s==null?this:ne.$$s;return ue==null&&(ue=n),ie["$<<"](ce.$at(ue))},{$$s:fe}))):(K=x(oe,t("Integer"),"to_int"),ie["$<<"](fe.$at(K)))},{$$s:Q}),ie},-1),k(u,"$zip",function $e(S){var j=$e.$$p||n,Z,Q,ie=this,se=n;$e.$$p=null,Z=ee(arguments),Q=Z;var oe=[],fe=ie.length,c,m,K,ne,ue;for(ne=0,ue=Q.length;ne<ue;ne++)if(m=Q[ne],!m.$$is_array){if(m.$$is_range||m.$$is_enumerator){Q[ne]=m.$take(fe);continue}Q[ne]=(y(se=z["$coerce_to?"](m,t("Array"),"to_ary"))?se:z["$coerce_to!"](m,t("Enumerator"),"to_enum","each")).$to_a()}for(K=0;K<fe;K++){for(c=[ie[K]],ne=0,ue=Q.length;ne<ue;ne++)m=Q[ne][K],m==null&&(m=n),c[ne+1]=m;oe[K]=c}if(j!==n){for(K=0;K<fe;K++)e.yield1(j,oe[K]);return n}return oe},-1),W(u,"$inherited",function(S){S.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),k(u,"$instance_variables",function $e(){var S=$e.$$p||n,j=this;return $e.$$p=null,p(q(j,P(j,"instance_variables",$e,!1,!0),"instance_variables",[],S),"reject",[],function(Q){var ie=n;return Q==null&&(Q=n),y(ie=/^@\d+$/.test(Q))?ie:Q["$=="]("@length")})}),k(u,"$pack",function(S){return ee(arguments),b.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),l(u,"append","push"),l(u,"filter","select"),l(u,"filter!","select!"),l(u,"map","collect"),l(u,"map!","collect!"),l(u,"prepend","unshift"),l(u,"size","length"),l(u,"slice","[]"),l(u,"to_s","inspect"),z.$pristine(u.$singleton_class(),"allocate"),z.$pristine(u,"copy_instance_variables","initialize_dup")}("::",Array,s)};Opal.modules["corelib/hash"]=function(e){var y=e.yield1,F=e.hash_clone,X=e.hash_delete,w=e.hash_each,O=e.hash_get,V=e.hash_put,x=e.deny_frozen_access,Y=e.freeze,h=e.opal32_init,T=e.opal32_add,re=e.klass,U=e.slice,B=e.Opal,ee=e.Kernel,W=e.defs,b=e.def,k=e.send,z=e.rb_ge,M=e.rb_gt,q=e.truthy,P=e.to_a,p=e.return_self,I=e.not,H=e.alias,L=e.top,E=[],a=e.nil,d=e.$$$;return e.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),L.$require("corelib/enumerable"),function(A,g,_){var f=re(A,g,"Hash"),G=[f].concat(_),C=e.$r(G);f.$include(d("Enumerable")),f.$$prototype.$$is_hash=!0,W(f,"$[]",function(n){var t,r,i=this;t=U(arguments),r=t;var $,u=r.length,v,N;if(u===1){if($=B["$coerce_to?"](r["$[]"](0),d("Hash"),"to_hash"),$!==a)return i.$allocate()["$merge!"]($);for(r=B["$coerce_to?"](r["$[]"](0),d("Array"),"to_ary"),r===a&&ee.$raise(d("ArgumentError"),"odd number of arguments for Hash"),u=r.length,$=i.$allocate(),N=0;N<u;N++)v=r[N],v.$$is_array||ee.$raise(d("ArgumentError"),"invalid element "+v.$inspect()+" for Hash"),v.length===1?$.$store(v[0],a):v.length===2?$.$store(v[0],v[1]):ee.$raise(d("ArgumentError"),"invalid number of elements ("+v.length+" for "+v.$inspect()+"), must be 1..2");return $}for(u%2!==0&&ee.$raise(d("ArgumentError"),"odd number of arguments for Hash"),$=i.$allocate(),N=0;N<u;N+=2)$.$store(r[N],r[N+1]);return $},-1),W(f,"$allocate",function(){var n=this,t=new n.$$constructor;return t.$$none=a,t.$$proc=a,t}),W(f,"$try_convert",function(n){return B["$coerce_to?"](n,d("Hash"),"to_hash")}),b(f,"$initialize",function s(n){var t=s.$$p||a,r=this;return s.$$p=null,x(r),n!==void 0&&t!==a&&ee.$raise(d("ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=n===void 0?a:n,r.$$proc=t,r},-1),b(f,"$==",function(n){var t=this;return t===n?!0:!n.$$is_hash||t.size!==n.size?!1:w(t,!0,function(r,i){var $=O(n,r);return $===void 0||!i["$eql?"]($)?[!0,!1]:[!1,!0]})}),b(f,"$>=",function(n){var t=this,r=a;return n=B["$coerce_to!"](n,d("Hash"),"to_hash"),t.size<n.size?!1:(r=!0,k(n,"each",[],function i($,u){var v=i.$$s==null?this:i.$$s,N=a;if($==null&&($=a),u==null&&(u=a),N=v.$fetch($,null),N==null||N!==u){r=!1;return}},{$$s:t}),r)}),b(f,"$>",function(n){var t=this;return n=B["$coerce_to!"](n,d("Hash"),"to_hash"),t.size<=n.size?!1:z(t,n)}),b(f,"$<",function(n){var t=this;return n=B["$coerce_to!"](n,d("Hash"),"to_hash"),M(n,t)}),b(f,"$<=",function(n){var t=this;return n=B["$coerce_to!"](n,d("Hash"),"to_hash"),z(n,t)}),b(f,"$[]",function(n){var t=this,r=O(t,n);return r!==void 0?r:t.$default(n)}),b(f,"$[]=",function(n,t){var r=this;return x(r),V(r,n,t),t}),b(f,"$assoc",function(n){var t=this;return w(t,a,function(r,i){return r["$=="](n)?[!0,[r,i]]:[!1,a]})}),b(f,"$clear",function(){var n=this;return x(n),n.clear(),n.$$keys&&n.$$keys.clear(),n}),b(f,"$clone",function(){var n=this,t=n.$class().$new();return F(n,t),n["$frozen?"]()?t.$freeze():t}),b(f,"$compact",function(){var n=this,t=new Map;return w(n,t,function(r,i){return i!==a&&V(t,r,i),[!1,t]})}),b(f,"$compact!",function(){var n=this;x(n);var t=a;return w(n,t,function(r,i){return i===a&&(X(n,r),t=n),[!1,t]})}),b(f,"$compare_by_identity",function(){var n=this;return x(n),n.$$by_identity||(n.$$by_identity=!0,n.size!==0&&e.hash_rehash(n)),n}),b(f,"$compare_by_identity?",function(){var n=this;return n.$$by_identity===!0}),b(f,"$default",function(n){var t=this;return n!==void 0&&t.$$proc!==a&&t.$$proc!==void 0?t.$$proc.$call(t,n):t.$$none===void 0?a:t.$$none},-1),b(f,"$default=",function(n){var t=this;return x(t),t.$$proc=a,t.$$none=n,n}),b(f,"$default_proc",function(){var n=this;return n.$$proc!==void 0?n.$$proc:a}),b(f,"$default_proc=",function(n){var t=this;x(t);var r=n;return r!==a&&(r=B["$coerce_to!"](r,d("Proc"),"to_proc"),r["$lambda?"]()&&r.$arity().$abs()!==2&&ee.$raise(d("TypeError"),"default_proc takes two arguments")),t.$$none=a,t.$$proc=r,n}),b(f,"$delete",function s(n){var t=s.$$p||a,r=this;s.$$p=null,x(r);var i=X(r,n);return i!==void 0?i:t!==a?e.yield1(t,n):a}),b(f,"$delete_if",function s(){var n=s.$$p||a,t=this;return s.$$p=null,q(n)?(x(t),w(t,t,function(r,i){var $=n(r,i);return $!==!1&&$!==a&&X(t,r),[!1,t]})):k(t,"enum_for",["delete_if"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(f,"$dig",function(n,t){var r,i,$=this,u=a;return r=U(arguments,1),i=r,u=$["$[]"](n),u===a||i.length===0?u:(q(u["$respond_to?"]("dig"))||ee.$raise(d("TypeError"),""+u.$class()+" does not have #dig method"),k(u,"dig",P(i)))},-2),b(f,"$dup",function(){var n=this;return F(n,n.$class().$new())}),b(f,"$each",function s(){var n=s.$$p||a,t=this;return s.$$p=null,q(n)?w(t,t,function(r,i){return y(n,[r,i]),[!1,t]}):k(t,"enum_for",["each"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(f,"$each_key",function s(){var n=s.$$p||a,t=this;return s.$$p=null,q(n)?w(t,t,function(r,i){return n(r),[!1,t]}):k(t,"enum_for",["each_key"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(f,"$each_value",function s(){var n=s.$$p||a,t=this;return s.$$p=null,q(n)?w(t,t,function(r,i){return n(i),[!1,t]}):k(t,"enum_for",["each_value"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(f,"$empty?",function(){var n=this;return n.size===0}),b(f,"$except",function(n){var t,r,i=this;return t=U(arguments),r=t,k(i.$dup(),"except!",P(r))},-1),b(f,"$except!",function(n){var t,r,i=this;return t=U(arguments),r=t,k(r,"each",[],function $(u){var v=$.$$s==null?this:$.$$s;return u==null&&(u=a),v.$delete(u)},{$$s:i}),i},-1),b(f,"$fetch",function s(n,t){var r=s.$$p||a,i=this;s.$$p=null;var $=O(i,n);return $!==void 0?$:r!==a?r(n):t!==void 0?t:ee.$raise(d("KeyError").$new("key not found: "+n.$inspect(),new Map([["key",n],["receiver",i]])))},-2),b(f,"$fetch_values",function s(n){var t=s.$$p||a,r,i,$=this;return s.$$p=null,r=U(arguments),i=r,k(i,"map",[],function u(v){var N=u.$$s==null?this:u.$$s;return v==null&&(v=a),k(N,"fetch",[v],t.$to_proc())},{$$s:$})},-1),b(f,"$flatten",function(n){var t=this;n==null&&(n=1),n=B["$coerce_to!"](n,d("Integer"),"to_int");var r=[];return w(t,r,function(i,$){return r.push(i),$.$$is_array?n===1?(r.push($),[!1,r]):(r=r.concat($.$flatten(n-2)),[!1,r]):(r.push($),[!1,r])})},-1),b(f,"$freeze",function(){var n=this;return q(n["$frozen?"]())?n:Y(n)}),b(f,"$has_key?",function(n){var t=this;return O(t,n)!==void 0}),b(f,"$has_value?",function(n){var t=this;return w(t,!1,function(r,i){return i["$=="](n)?[!0,!0]:[!1,!1]})});var l;b(f,"$hash",function(){var n=this,t=l===void 0,r=n.$object_id(),i=h(),$,u,v,N=n.size,D=new Int32Array(N);if(i=T(i,4),i=T(i,N),t)l=Object.create(null);else if(l[r])return T(i,16843009);try{for($ in l)if(u=l[$],n["$eql?"](u))return T(i,16843009);for(l[r]=n,v=0,w(n,!1,function(R,J){return D[v]=[1883326802,R,J].$hash(),v++,[!1,!1]}),D=D.sort(),v=0;v<D.length;v++)i=T(i,D[v]);return i}finally{t&&(l=void 0)}}),b(f,"$index",function(n){var t=this;return w(t,a,function(r,i){return i["$=="](n)?[!0,r]:[!1,a]})}),b(f,"$indexes",function(n){var t,r,i=this;t=U(arguments),r=t;for(var $=[],u=0,v=r.length,N,D;u<v;u++){if(N=r[u],D=O(i,N),D===void 0){$.push(i.$default());continue}$.push(D)}return $},-1);var o;return b(f,"$inspect",function(){var n=this,t=o===void 0,r=n.$object_id(),i=[];return function(){try{if(t&&(o={}),o.hasOwnProperty(r))return"{...}";return o[r]=!0,w(n,!1,function($,u){return u=C("Opal").$inspect(u),$=C("Opal").$inspect($),i.push($+"=>"+u),[!1,!1]}),"{"+i.join(", ")+"}";return a}finally{t&&(o=void 0)}}()}),b(f,"$invert",function(){var n=this,t=new Map;return w(n,t,function(r,i){return V(t,i,r),[!1,t]})}),b(f,"$keep_if",function s(){var n=s.$$p||a,t=this;return s.$$p=null,q(n)?(x(t),w(t,t,function(r,i){var $=n(r,i);return($===!1||$===a)&&X(t,r),[!1,t]})):k(t,"enum_for",["keep_if"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(f,"$keys",function(){var n=this;return Array.from(n.keys())}),b(f,"$length",function(){var n=this;return n.size}),b(f,"$merge",function s(n){var t=s.$$p||a,r,i,$=this;return s.$$p=null,r=U(arguments),i=r,k($.$dup(),"merge!",P(i),t.$to_proc())},-1),b(f,"$merge!",function s(n){var t=s.$$p||a,r,i,$=this;s.$$p=null,r=U(arguments),i=r,x($);var u,v;for(u=0;u<i.length;++u)v=B["$coerce_to!"](i[u],d("Hash"),"to_hash"),t===a?w(v,!1,function(N,D){return V($,N,D),[!1,!1]}):w(v,!1,function(N,D){var R=O($,N);return R===void 0?(V($,N,D),[!1,!1]):(V($,N,t(N,R,D)),[!1,!1])});return $},-1),b(f,"$rassoc",function(n){var t=this;return w(t,a,function(r,i){return i["$=="](n)?[!0,[r,i]]:[!1,a]})}),b(f,"$rehash",function(){var n=this;return x(n),e.hash_rehash(n)}),b(f,"$reject",function s(){var n=s.$$p||a,t=this;if(s.$$p=null,!q(n))return k(t,"enum_for",["reject"],function i(){var $=i.$$s==null?this:i.$$s;return $.$size()},{$$s:t});var r=new Map;return w(t,r,function(i,$){var u=n(i,$);return(u===!1||u===a)&&V(r,i,$),[!1,r]})}),b(f,"$reject!",function s(){var n=s.$$p||a,t=this;if(s.$$p=null,!q(n))return k(t,"enum_for",["reject!"],function i(){var $=i.$$s==null?this:i.$$s;return $.$size()},{$$s:t});x(t);var r=a;return w(t,r,function(i,$){var u=n(i,$);return u!==!1&&u!==a&&(X(t,i),r=t),[!1,r]})}),b(f,"$replace",function(n){var t=this;return x(t),n=B["$coerce_to!"](n,d("Hash"),"to_hash"),t.$clear(),w(n,!1,function(r,i){return V(t,r,i),[!1,!1]}),q(n.$default_proc())?t["$default_proc="](n.$default_proc()):t["$default="](n.$default()),t}),b(f,"$select",function s(){var n=s.$$p||a,t=this;if(s.$$p=null,!q(n))return k(t,"enum_for",["select"],function i(){var $=i.$$s==null?this:i.$$s;return $.$size()},{$$s:t});var r=new Map;return w(t,r,function(i,$){var u=n(i,$);return u!==!1&&u!==a&&V(r,i,$),[!1,r]})}),b(f,"$select!",function s(){var n=s.$$p||a,t=this;if(s.$$p=null,!q(n))return k(t,"enum_for",["select!"],function i(){var $=i.$$s==null?this:i.$$s;return $.$size()},{$$s:t});x(t);var r=a;return w(t,r,function(i,$){var u=n(i,$);return(u===!1||u===a)&&(X(t,i),r=t),[!1,r]})}),b(f,"$shift",function(){var n=this;return x(n),w(n,a,function(t,r){return[!0,[t,X(n,t)]]})}),b(f,"$slice",function(n){var t,r,i=this;t=U(arguments),r=t;for(var $=new Map,u=0,v=r.length;u<v;u++){var N=r[u],D=O(i,N);D!==void 0&&V($,N,D)}return $},-1),b(f,"$to_a",function(){var n=this,t=[];return w(n,t,function(r,i){return t.push([r,i]),[!1,t]})}),b(f,"$to_h",function s(){var n=s.$$p||a,t=this;if(s.$$p=null,n!==a)return k(t,"map",[],n.$to_proc()).$to_h();if(t.$$class===e.Hash)return t;var r=new Map;return F(t,r),r}),b(f,"$to_hash",p),b(f,"$to_proc",function(){var n=this;return k(n,"proc",[],function t(r){var i=t.$$s==null?this:t.$$s;return r==null&&ee.$raise(d("ArgumentError"),"no key given"),i["$[]"](r)},{$$arity:-1,$$s:n})}),b(f,"$transform_keys",function s(n){var t=s.$$p||a,r=this;if(s.$$p=null,n==null&&(n=a),I(t)&&I(n))return k(r,"enum_for",["transform_keys"],function $(){var u=$.$$s==null?this:$.$$s;return u.$size()},{$$s:r});var i=new Map;return w(r,i,function($,u){var v;return n!==a&&(v=O(n,$)),v===void 0&&t&&t!==a&&(v=t($)),v===void 0&&(v=$),V(i,v,u),[!1,i]})},-1),b(f,"$transform_keys!",function s(n){var t=s.$$p||a,r=this;if(s.$$p=null,n==null&&(n=a),I(t)&&I(n))return k(r,"enum_for",["transform_keys!"],function $(){var u=$.$$s==null?this:$.$$s;return u.$size()},{$$s:r});x(r);var i=new Map;return w(r,r,function($,u){var v;return n!==a&&(v=O(n,$)),v===void 0&&t&&t!==a&&(v=t($)),v===void 0?[!1,r]:(O(i,$)||X(r,$),V(r,v,u),V(i,v,!0),[!1,r])})},-1),b(f,"$transform_values",function s(){var n=s.$$p||a,t=this;if(s.$$p=null,!q(n))return k(t,"enum_for",["transform_values"],function i(){var $=i.$$s==null?this:i.$$s;return $.$size()},{$$s:t});var r=new Map;return w(t,r,function(i,$){return V(r,i,n($)),[!1,r]})}),b(f,"$transform_values!",function s(){var n=s.$$p||a,t=this;return s.$$p=null,q(n)?(x(t),w(t,t,function(r,i){return V(t,r,n(i)),[!1,t]})):k(t,"enum_for",["transform_values!"],function r(){var i=r.$$s==null?this:r.$$s;return i.$size()},{$$s:t})}),b(f,"$values",function(){var n=this;return Array.from(n.values())}),H(f,"each_pair","each"),H(f,"eql?","=="),H(f,"filter","select"),H(f,"filter!","select!"),H(f,"include?","has_key?"),H(f,"indices","indexes"),H(f,"key","index"),H(f,"key?","has_key?"),H(f,"member?","has_key?"),H(f,"size","length"),H(f,"store","[]="),H(f,"to_s","inspect"),H(f,"update","merge!"),H(f,"value?","has_value?"),H(f,"values_at","indexes")}("::",Map,E)};Opal.modules["corelib/number"]=function(e){var y=e.klass,F=e.Opal,X=e.Kernel,w=e.def,O=e.eqeqeq,V=e.truthy,x=e.rb_gt,Y=e.not,h=e.rb_lt,T=e.alias,re=e.send2,U=e.find_super,B=e.send,ee=e.rb_plus,W=e.rb_minus,b=e.eqeq,k=e.return_self,z=e.rb_divide,M=e.to_ary,q=e.rb_times,P=e.rb_le,p=e.rb_ge,I=e.return_val,H=e.const_set,L=e.top,E=[],a=e.nil,d=e.$$$;return e.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),L.$require("corelib/numeric"),function(A,g,_){var f=y(A,g,"Number");F.$bridge(Number,f),e.prop(f.$$prototype,"$$is_number",!0),f.$$is_number_class=!0;var G=new Map;(function(t,r){return w(t,"$allocate",function(){var $=this;return X.$raise(d("TypeError"),"allocator undefined for "+$.$name())}),e.udef(t,"$new"),a})(e.get_singleton_class(f)),w(f,"$coerce",function(r){var i=this;if(r===a)X.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float");else{if(r.$$is_string)return[X.$Float(r),i];if(r["$respond_to?"]("to_f"))return[F["$coerce_to!"](r,d("Float"),"to_f"),i];if(r.$$is_number)return[r,i];X.$raise(d("TypeError"),"can't convert "+r.$class()+" into Float")}}),w(f,"$__id__",function(){var r=this;if(r|r===0)return r*2+1;if(G.has(r))return G.get(r);var i=e.uid();return G.set(r,i),i}),w(f,"$hash",function(){var r=this;return r|r===0?r.$__id__():r.toString().$hash()}),w(f,"$+",function(r){var i=this;return r.$$is_number?i+r:i.$__coerced__("+",r)}),w(f,"$-",function(r){var i=this;return r.$$is_number?i-r:i.$__coerced__("-",r)}),w(f,"$*",function(r){var i=this;return r.$$is_number?i*r:i.$__coerced__("*",r)}),w(f,"$/",function(r){var i=this;return r.$$is_number?i/r:i.$__coerced__("/",r)}),w(f,"$%",function(r){var i=this;if(r.$$is_number){if(r==-1/0)return r;if(r==0)X.$raise(d("ZeroDivisionError"),"divided by 0");else return r<0||i<0?(i%r+r)%r:i%r}else return i.$__coerced__("%",r)}),w(f,"$&",function(r){var i=this;return r.$$is_number?i&r:i.$__coerced__("&",r)}),w(f,"$|",function(r){var i=this;return r.$$is_number?i|r:i.$__coerced__("|",r)}),w(f,"$^",function(r){var i=this;return r.$$is_number?i^r:i.$__coerced__("^",r)}),w(f,"$<",function(r){var i=this;return r.$$is_number?i<r:i.$__coerced__("<",r)}),w(f,"$<=",function(r){var i=this;return r.$$is_number?i<=r:i.$__coerced__("<=",r)}),w(f,"$>",function(r){var i=this;return r.$$is_number?i>r:i.$__coerced__(">",r)}),w(f,"$>=",function(r){var i=this;return r.$$is_number?i>=r:i.$__coerced__(">=",r)});var C=function(t,r){return r.$$is_number?isNaN(t)||isNaN(r)?a:t>r?1:t<r?-1:0:t.$__coerced__("<=>",r)};w(f,"$<=>",function(r){var i=this;try{return C(i,r)}catch($){if(e.rescue($,[d("ArgumentError")]))try{return a}finally{e.pop_exception($)}else throw $}}),w(f,"$<<",function(r){var i=this;return r=F["$coerce_to!"](r,d("Integer"),"to_int"),r>0?i<<r:i>>-r}),w(f,"$>>",function(r){var i=this;return r=F["$coerce_to!"](r,d("Integer"),"to_int"),r>0?i>>r:i<<-r}),w(f,"$[]",function(r){var i=this;return r=F["$coerce_to!"](r,d("Integer"),"to_int"),r<0?0:r>=32?i<0?1:0:i>>r&1}),w(f,"$+@",function(){var r=this;return+r}),w(f,"$-@",function(){var r=this;return-r}),w(f,"$~",function(){var r=this;return~r}),w(f,"$**",function(r){var i=this;return O(d("Integer"),r)?Y(d("Integer")["$==="](i))||V(x(r,0))?Math.pow(i,r):d("Rational").$new(i,1)["$**"](r):V(h(i,0))&&(O(d("Float"),r)||O(d("Rational"),r))?d("Complex").$new(i,0)["$**"](r.$to_f()):V(r.$$is_number!=null)?Math.pow(i,r):i.$__coerced__("**",r)}),w(f,"$==",function(r){var i=this;return r.$$is_number?i.valueOf()===r.valueOf():r["$respond_to?"]("==")?r["$=="](i):!1}),T(f,"===","=="),w(f,"$abs",function(){var r=this;return Math.abs(r)}),w(f,"$abs2",function(){var r=this;return Math.abs(r*r)}),w(f,"$allbits?",function(r){var i=this;return r=F["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)==r}),w(f,"$anybits?",function(r){var i=this;return r=F["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)!==0}),w(f,"$angle",function(){var r=this;return V(r["$nan?"]())?r:r==0?1/r>0?0:Math.PI:r<0?Math.PI:0}),w(f,"$bit_length",function(){var r=this;if(O(d("Integer"),r)||X.$raise(d("NoMethodError").$new("undefined method `bit_length` for "+r+":Float","bit_length")),r===0||r===-1)return 0;for(var i=0,$=r<0?~r:r;$!=0;)i+=1,$>>>=1;return i}),w(f,"$ceil",function(r){var i=this;r==null&&(r=0);var $=i.$to_f();if($%1===0&&r>=0)return $;var u=Math.pow(10,r),v=Math.ceil($*u)/u;return $%1===0&&(v=Math.round(v)),v},-1),w(f,"$chr",function(r){var i=this;return e.enc(String.fromCharCode(i),r||"BINARY")},-1),w(f,"$denominator",function t(){var r=t.$$p||a,i=this;return t.$$p=null,V(i["$nan?"]())||V(i["$infinite?"]())?1:re(i,U(i,"denominator",t,!1,!0),"denominator",[],r)}),w(f,"$downto",function t(r){var i=t.$$p||a,$=this;if(t.$$p=null,i===a)return B($,"enum_for",["downto",r],function v(){var N=v.$$s==null?this:v.$$s;return O(d("Numeric"),r)||X.$raise(d("ArgumentError"),"comparison of "+N.$class()+" with "+r.$class()+" failed"),V(x(r,N))?0:ee(W(N,r),1)},{$$s:$});r.$$is_number||X.$raise(d("ArgumentError"),"comparison of "+$.$class()+" with "+r.$class()+" failed");for(var u=$;u>=r;u--)i(u);return $}),w(f,"$equal?",function(r){var i=this,$=a;return V($=i["$=="](r))?$:isNaN(i)&&isNaN(r)}),w(f,"$even?",function(){var r=this;return r%2===0}),w(f,"$floor",function(r){var i=this;r==null&&(r=0);var $=i.$to_f();if($%1===0&&r>=0)return $;var u=Math.pow(10,r),v=Math.floor($*u)/u;return $%1===0&&(v=Math.round(v)),v},-1),w(f,"$gcd",function(r){var i=this;O(d("Integer"),r)||X.$raise(d("TypeError"),"not an integer");for(var $=Math.abs(i),u=Math.abs(r);$>0;){var v=$;$=u%$,u=v}return u}),w(f,"$gcdlcm",function(r){var i=this;return[i.$gcd(r),i.$lcm(r)]}),w(f,"$integer?",function(){var r=this;return r%1===0}),w(f,"$is_a?",function t(r){var i=t.$$p||a,$=this;return t.$$p=null,b(r,d("Integer"))&&O(d("Integer"),$)||b(r,d("Integer"))&&O(d("Integer"),$)||b(r,d("Float"))&&O(d("Float"),$)?!0:re($,U($,"is_a?",t,!1,!0),"is_a?",[r],i)}),w(f,"$instance_of?",function t(r){var i=t.$$p||a,$=this;return t.$$p=null,b(r,d("Integer"))&&O(d("Integer"),$)||b(r,d("Integer"))&&O(d("Integer"),$)||b(r,d("Float"))&&O(d("Float"),$)?!0:re($,U($,"instance_of?",t,!1,!0),"instance_of?",[r],i)}),w(f,"$lcm",function(r){var i=this;return O(d("Integer"),r)||X.$raise(d("TypeError"),"not an integer"),i==0||r==0?0:Math.abs(i*r/i.$gcd(r))}),w(f,"$next",function(){var r=this;return r+1}),w(f,"$nobits?",function(r){var i=this;return r=F["$coerce_to!"](r,d("Integer"),"to_int"),(i&r)==0}),w(f,"$nonzero?",function(){var r=this;return r==0?a:r}),w(f,"$numerator",function t(){var r=t.$$p||a,i=this;return t.$$p=null,V(i["$nan?"]())||V(i["$infinite?"]())?i:re(i,U(i,"numerator",t,!1,!0),"numerator",[],r)}),w(f,"$odd?",function(){var r=this;return r%2!==0}),w(f,"$ord",k),w(f,"$pow",function(r,i){var $=this;return $==0&&X.$raise(d("ZeroDivisionError"),"divided by 0"),i===void 0?$["$**"](r):(d("Integer")["$==="](r)||X.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),r<0&&X.$raise(d("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),d("Integer")["$==="](i)||X.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),i===0&&X.$raise(d("ZeroDivisionError"),"divided by 0"),$["$**"](r)["$%"](i))},-2),w(f,"$pred",function(){var r=this;return r-1}),w(f,"$quo",function t(r){var i=t.$$p||a,$=this;return t.$$p=null,O(d("Integer"),$)?re($,U($,"quo",t,!1,!0),"quo",[r],i):z($,r)}),w(f,"$rationalize",function(r){var i,$,u=this,v=a,N=a;return arguments.length>1&&X.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),O(d("Integer"),u)?d("Rational").$new(u,1):V(u["$infinite?"]())?X.$raise(d("FloatDomainError"),"Infinity"):V(u["$nan?"]())?X.$raise(d("FloatDomainError"),"NaN"):V(r==null)?($=d("Math").$frexp(u),i=M($),v=i[0]==null?a:i[0],N=i[1]==null?a:i[1],v=d("Math").$ldexp(v,d(d("Float"),"MANT_DIG")).$to_i(),N=W(N,d(d("Float"),"MANT_DIG")),d("Rational").$new(q(2,v),1["$<<"](W(1,N))).$rationalize(d("Rational").$new(1,1["$<<"](W(1,N))))):u.$to_r().$rationalize(r)},-1),w(f,"$remainder",function(r){var i=this;return W(i,q(r,z(i,r).$truncate()))}),w(f,"$round",function(r){var i,$,u=this,v=a;if(O(d("Integer"),u)){if(V(r==null)||(O(d("Float"),r)&&V(r["$infinite?"]())&&X.$raise(d("RangeError"),"Infinity"),r=F["$coerce_to!"](r,d("Integer"),"to_int"),V(h(r,d(d("Integer"),"MIN")))&&X.$raise(d("RangeError"),"out of bounds"),V(r>=0)))return u;if(r=r["$-@"](),.415241*r-.125>u.$size())return 0;var N=Math.pow(10,r),D=Math.floor((Math.abs(u)+N/2)/N)*N;return u<0?-D:D}else{if(V(u["$nan?"]())&&V(r==null)&&X.$raise(d("FloatDomainError"),"NaN"),r=F["$coerce_to!"](r||0,d("Integer"),"to_int"),V(P(r,0)))V(u["$nan?"]())?X.$raise(d("RangeError"),"NaN"):V(u["$infinite?"]())&&X.$raise(d("FloatDomainError"),"Infinity");else{if(b(r,0))return Math.round(u);if(V(u["$nan?"]())||V(u["$infinite?"]()))return u}return $=d("Math").$frexp(u),i=M($),i[0]==null||i[0],v=i[1]==null?a:i[1],V(p(r,W(ee(d(d("Float"),"DIG"),2),V(x(v,0))?z(v,4):W(z(v,3),1))))?u:V(h(r,(V(x(v,0))?ee(z(v,3),1):z(v,4))["$-@"]()))?0:Math.round(u*Math.pow(10,r))/Math.pow(10,r)}},-1),w(f,"$times",function t(){var r=t.$$p||a,i=this;if(t.$$p=null,!V(r))return B(i,"enum_for",["times"],function u(){var v=u.$$s==null?this:u.$$s;return v},{$$s:i});for(var $=0;$<i;$++)r($);return i}),w(f,"$to_f",k),w(f,"$to_i",function(){var r=this;return r<0?Math.ceil(r):Math.floor(r)}),w(f,"$to_r",function(){var r,i,$=this,u=a,v=a;return O(d("Integer"),$)?d("Rational").$new($,1):(i=d("Math").$frexp($),r=M(i),u=r[0]==null?a:r[0],v=r[1]==null?a:r[1],u=d("Math").$ldexp(u,d(d("Float"),"MANT_DIG")).$to_i(),v=W(v,d(d("Float"),"MANT_DIG")),q(u,d(d("Float"),"RADIX")["$**"](v)).$to_r())}),w(f,"$to_s",function(r){var i=this;return r==null&&(r=10),r=F["$coerce_to!"](r,d("Integer"),"to_int"),(V(h(r,2))||V(x(r,36)))&&X.$raise(d("ArgumentError"),"invalid radix "+r),b(i,0)&&V(1/i===-1/0)?"-0.0":i.toString(r)},-1),w(f,"$truncate",function(r){var i=this;r==null&&(r=0);var $=i.$to_f();if($%1===0&&r>=0)return $;var u=Math.pow(10,r),v=parseInt($*u,10)/u;return $%1===0&&(v=Math.round(v)),v},-1),w(f,"$digits",function(r){var i=this;r==null&&(r=10),V(h(i,0))&&X.$raise(d(d("Math"),"DomainError"),"out of domain"),r=F["$coerce_to!"](r,d("Integer"),"to_int"),V(h(r,2))&&X.$raise(d("ArgumentError"),"invalid radix "+r),i!=parseInt(i)&&X.$raise(d("NoMethodError"),"undefined method `digits' for "+i.$inspect());var $=i,u=[];if(i==0)return[0];for(;$!=0;)u.push($%r),$=parseInt($/r,10);return u},-1),w(f,"$divmod",function t(r){var i=t.$$p||a,$=this;return t.$$p=null,V($["$nan?"]())||V(r["$nan?"]())?X.$raise(d("FloatDomainError"),"NaN"):V($["$infinite?"]())?X.$raise(d("FloatDomainError"),"Infinity"):re($,U($,"divmod",t,!1,!0),"divmod",[r],i)}),w(f,"$upto",function t(r){var i=t.$$p||a,$=this;if(t.$$p=null,i===a)return B($,"enum_for",["upto",r],function v(){var N=v.$$s==null?this:v.$$s;return O(d("Numeric"),r)||X.$raise(d("ArgumentError"),"comparison of "+N.$class()+" with "+r.$class()+" failed"),V(h(r,N))?0:ee(W(r,N),1)},{$$s:$});r.$$is_number||X.$raise(d("ArgumentError"),"comparison of "+$.$class()+" with "+r.$class()+" failed");for(var u=$;u<=r;u++)i(u);return $}),w(f,"$zero?",function(){var r=this;return r==0}),w(f,"$size",I(4)),w(f,"$nan?",function(){var r=this;return isNaN(r)}),w(f,"$finite?",function(){var r=this;return r!=1/0&&r!=-1/0&&!isNaN(r)}),w(f,"$infinite?",function(){var r=this;return r==1/0?1:r==-1/0?-1:a}),w(f,"$positive?",function(){var r=this;return r!=0&&(r==1/0||1/r>0)}),w(f,"$negative?",function(){var r=this;return r==-1/0||1/r<0});function l(t){var r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,t,!0),r}function o(t){return new DataView(t.buffer).getFloat64(0,!0)}function s(t){for(var r=l(t),i=0;i<r.length;i++)if(r[i]===255)r[i]=0;else{r[i]++;break}return o(r)}function n(t){for(var r=l(t),i=0;i<r.length;i++)if(r[i]===0)r[i]=255;else{r[i]--;break}return o(r)}return w(f,"$next_float",function(){var r=this;return b(r,d(d("Float"),"INFINITY"))?d(d("Float"),"INFINITY"):V(r["$nan?"]())?d(d("Float"),"NAN"):V(p(r,0))?s(Math.abs(r)):n(r)}),w(f,"$prev_float",function(){var r=this;return b(r,d(d("Float"),"INFINITY")["$-@"]())?d(d("Float"),"INFINITY")["$-@"]():V(r["$nan?"]())?d(d("Float"),"NAN"):V(x(r,0))?n(r):-s(Math.abs(r))}),T(f,"arg","angle"),T(f,"eql?","=="),T(f,"fdiv","/"),T(f,"inspect","to_s"),T(f,"kind_of?","is_a?"),T(f,"magnitude","abs"),T(f,"modulo","%"),T(f,"object_id","__id__"),T(f,"phase","angle"),T(f,"succ","next"),T(f,"to_int","to_i")}("::",d("Numeric")),H("::","Fixnum",d("Number")),function(A,g,_){var f=y(A,g,"Integer"),G=[f].concat(_);return f.$$is_number_class=!0,f.$$is_integer_class=!0,function(C,l){var o=[C].concat(l),s=e.$r(o);return w(C,"$allocate",function(){var t=this;return X.$raise(d("TypeError"),"allocator undefined for "+t.$name())}),e.udef(C,"$new"),w(C,"$sqrt",function(t){return t=F["$coerce_to!"](t,d("Integer"),"to_int"),t<0&&X.$raise(d(d("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)}),w(C,"$try_convert",function(t){var r=this;return s("Opal")["$coerce_to?"](t,r,"to_int")})}(e.get_singleton_class(f),G),H(f,"MAX",Math.pow(2,30)-1),H(f,"MIN",-Math.pow(2,30))}("::",d("Numeric"),E),function(A,g,_){var f=y(A,g,"Float");return f.$$is_number_class=!0,function(G,C){return w(G,"$allocate",function(){var o=this;return X.$raise(d("TypeError"),"allocator undefined for "+o.$name())}),e.udef(G,"$new"),w(G,"$===",function(o){return!!o.$$is_number})}(e.get_singleton_class(f)),H(f,"INFINITY",1/0),H(f,"MAX",Number.MAX_VALUE),H(f,"MIN",Number.MIN_VALUE),H(f,"NAN",NaN),H(f,"DIG",15),H(f,"MANT_DIG",53),H(f,"RADIX",2),H(f,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",d("Numeric"))};Opal.modules["corelib/range"]=function(e){var y=e.klass,F=e.truthy,X=e.Kernel,w=e.def,O=e.not,V=e.send2,x=e.find_super,Y=e.lambda,h=e.send,T=e.rb_ge,re=e.rb_gt,U=e.eqeq,B=e.rb_le,ee=e.rb_lt,W=e.eqeqeq,b=e.return_ivar,k=e.rb_minus,z=e.Opal,M=e.rb_divide,q=e.rb_plus,P=e.rb_times,p=e.thrower,I=e.alias,H=e.top,L=[],E=e.nil,a=e.$$$;return e.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),H.$require("corelib/enumerable"),function(d,A,g){var _=y(d,A,"Range"),f=[_].concat(g),G=e.$r(f),C=_.$$prototype;C.begin=C.end=C.excl=E,_.$include(a("Enumerable")),_.$$prototype.$$is_range=!0,_.$attr_reader("begin","end"),w(_,"$initialize",function(s,n,t){var r=this;return t==null&&(t=!1),F(r.begin)&&X.$raise(a("NameError"),"'initialize' called twice"),F(s["$<=>"](n))||F(s["$nil?"]())||F(n["$nil?"]())||X.$raise(a("ArgumentError"),"bad value for range"),r.begin=s,r.end=n,r.excl=t},-3),w(_,"$===",function(s){var n=this;return F(s.$$is_range)?!1:n["$cover?"](s)});function l(o){return o.begin===E||o.end===E||o.begin===-1/0||o.end===1/0||o.begin===1/0||o.end===-1/0}return w(_,"$count",function o(){var s=o.$$p||E,n=this;return o.$$p=null,O(s!==E)&&F(l(n))?a(a("Float"),"INFINITY"):V(n,x(n,"count",o,!1,!0),"count",[],s)}),w(_,"$to_a",function o(){var s=o.$$p||E,n=this;return o.$$p=null,F(l(n))&&X.$raise(a("TypeError"),"cannot convert endless range to an array"),V(n,x(n,"to_a",o,!1,!0),"to_a",[],s)}),w(_,"$cover?",function(s){var n=this,t=E,r=E,i=E,$=E,u=E,v=E,N=E,D=E;return t=Y(function(J,te){var ae=E;return J==null&&(J=E),te==null&&(te=E),F(ae=J["$<=>"](te))?ae:1}),F(s.$$is_range)?(r=s.$begin(),i=s.$end(),$=s["$exclude_end?"](),F(n.begin)&&F(r["$nil?"]())||F(n.end)&&F(i["$nil?"]())||F(r)&&F(i)&&F(h(t.$call(r,i),"then",[],function(J){return J==null&&(J=E),F($)?T(J,0):re(J,0)}))||F(r)&&O(n["$cover?"](r))?!1:(u=t.$call(n.end,i),U(n.excl,$)?T(u,0):F(n.excl)?re(u,0):F(T(u,0))?!0:(v=s.$max(),F(N=v["$nil?"]()["$!"]())?B(t.$call(v,n.end),0):N))):F(n.begin)&&F(re(t.$call(n.begin,s),0))?!1:F(n.end["$nil?"]())?!0:(D=t.$call(s,n.end),F(n.excl)?ee(D,0):B(D,0))}),w(_,"$each",function o(){var s=o.$$p||E,n=this,t=E,r=E,i=E;if(o.$$p=null,s===E)return h(n,"enum_for",["each"],function v(){var N=v.$$s==null?this:v.$$s;return N.$size()},{$$s:n});var $,u;if(n.begin.$$is_number&&n.end.$$is_number){for((n.begin%1!==0||n.end%1!==0)&&X.$raise(a("TypeError"),"can't iterate from Float"),$=n.begin,u=n.end+(F(n.excl)?0:1);$<u;$++)s($);return n}if(n.begin.$$is_string&&n.end.$$is_string)return h(n.begin,"upto",[n.end,n.excl],s.$to_proc()),n;for(t=n.begin,r=n.end,F(t["$respond_to?"]("succ"))||X.$raise(a("TypeError"),"can't iterate from "+t.$class());F(F(i=n.end["$nil?"]())?i:ee(t["$<=>"](r),0));)e.yield1(s,t),t=t.$succ();return O(n.excl)&&U(t,r)&&e.yield1(s,t),n}),w(_,"$eql?",function(s){var n=this,t=E,r=E;return W(a("Range"),s)?F(t=F(r=n.excl["$==="](s["$exclude_end?"]()))?n.begin["$eql?"](s.$begin()):r)?n.end["$eql?"](s.$end()):t:!1}),w(_,"$exclude_end?",b("excl")),w(_,"$first",function o(s){var n=o.$$p||E,t=this;return o.$$p=null,F(t.begin["$nil?"]())&&X.$raise(a("RangeError"),"cannot get the minimum of beginless range"),F(s==null)?t.begin:V(t,x(t,"first",o,!1,!0),"first",[s],n)},-1),w(_,"$include?",function o(s){var n=o.$$p||E,t=this,r=E,i=E;if(o.$$p=null,F(t.begin.$$is_number||t.end.$$is_number)||F(t.begin["$is_a?"](a("Time")))||F(t.end["$is_a?"](a("Time")))||F(a("Integer").$try_convert(t.begin))||F(a("Integer").$try_convert(t.end)))return t["$cover?"](s);if(F(t.begin.$$is_string||t.end.$$is_string)){if(F(t.begin.$$is_string&&t.end.$$is_string))return h(t.begin.$upto(t.end,t.excl),"any?",[],function(u){return u==null&&(u=E),u["$=="](s)});if(F(t.begin["$nil?"]()))return r=s["$<=>"](t.end),F(i=r["$nil?"]()["$!"]())?F(t.excl)?ee(r,0):B(r,0):i;if(F(t.end["$nil?"]()))return r=t.begin["$<=>"](s),F(i=r["$nil?"]()["$!"]())?B(r,0):i}return V(t,x(t,"include?",o,!1,!0),"include?",[s],n)}),w(_,"$last",function(s){var n=this;return F(n.end["$nil?"]())&&X.$raise(a("RangeError"),"cannot get the maximum of endless range"),F(s==null)?n.end:n.$to_a().$last(s)},-1),w(_,"$max",function o(){var s=o.$$p||E,n=this;return o.$$p=null,F(n.end["$nil?"]())?X.$raise(a("RangeError"),"cannot get the maximum of endless range"):s!==E?V(n,x(n,"max",o,!1,!0),"max",[],s):O(n.begin["$nil?"]())&&(F(re(n.begin,n.end))||F(n.excl)&&U(n.begin,n.end))?E:n.excl?n.end-1:n.end}),w(_,"$min",function o(){var s=o.$$p||E,n=this;return o.$$p=null,F(n.begin["$nil?"]())?X.$raise(a("RangeError"),"cannot get the minimum of beginless range"):s!==E?V(n,x(n,"min",o,!1,!0),"min",[],s):O(n.end["$nil?"]())&&(F(re(n.begin,n.end))||F(n.excl)&&U(n.begin,n.end))?E:n.begin}),w(_,"$size",function(){var s=this.begin,n=this.end;if(a("Numeric")["$==="](s)){if(a("Numeric")["$==="](n)){var t=k(n,s);return t<0?0:(this.excl||(t+=1),a("Float")["$==="](s)||a("Float")["$==="](n)?Math.floor(t):t)}else if(n===E)return 1/0}else if(s===E&&a("Numeric")["$==="](n))return 1/0;return E}),w(_,"$step",function o(s){var n=o.$$p||E,t=this,r=E,i=E;o.$$p=null;function $(){s==null?s=1:s.$$is_number||(s=z["$coerce_to!"](s,a("Integer"),"to_int")),s<0?X.$raise(a("ArgumentError"),"step can't be negative"):s===0&&X.$raise(a("ArgumentError"),"step can't be 0")}function u(){if(!t.begin["$respond_to?"]("succ")||t.begin.$$is_string&&t.end.$$is_string)return E;if(s%1===0)return M(t.$size(),s).$ceil();var v=t.begin,N=t.end,D=Math.abs,R=Math.floor,J=(D(v)+D(N)+D(N-v))/D(s)*a(a("Float"),"EPSILON"),te;return J>.5&&(J=.5),t.excl?(te=R((N-v)/s-J),te*s+v<N&&te++):te=R((N-v)/s+J)+1,te}return n===E?(F(t.begin["$is_a?"](G("Numeric")))||F(t.begin["$nil?"]()))&&(F(t.end["$is_a?"](G("Numeric")))||F(t.end["$nil?"]()))&&O(F(r=t.begin["$nil?"]())?t.end["$nil?"]():r)?a(a("Enumerator"),"ArithmeticSequence").$new(t,s,"step"):h(t,"enum_for",["step",s],function(){return $(),u()}):($(),F(t.begin.$$is_number&&t.end.$$is_number)?(i=0,function(){try{var v=p("break");return h(t,"loop",[],function N(){var D=N.$$s==null?this:N.$$s,R=E;return D.begin==null&&(D.begin=E),D.excl==null&&(D.excl=E),D.end==null&&(D.end=E),R=q(D.begin,P(i,s)),F(D.excl)?F(T(R,D.end))&&v.$throw(E,N.$$is_lambda):F(re(R,D.end))&&v.$throw(E,N.$$is_lambda),e.yield1(n,R),i=q(i,1)},{$$s:t})}catch(N){if(N===v)return N.$v;throw N}finally{v.is_orphan=!0}}()):(t.begin.$$is_string&&t.end.$$is_string&&s%1!==0&&X.$raise(a("TypeError"),"no implicit conversion to float from string"),h(t,"each_with_index",[],function(N,D){return N==null&&(N=E),D==null&&(D=E),U(D["$%"](s),0)?e.yield1(n,N):E})),t)},-1),w(_,"$%",function(s){var n=this;return F(n.begin["$is_a?"](G("Numeric")))&&F(n.end["$is_a?"](G("Numeric")))?a(a("Enumerator"),"ArithmeticSequence").$new(n,s,"%"):n.$step(s)}),w(_,"$bsearch",function o(){var s=o.$$p||E,n=this;return o.$$p=null,s===E?n.$enum_for("bsearch"):(F(l(n)&&(n.begin.$$is_number||n.end.$$is_number))&&X.$raise(a("NotImplementedError"),"Can't #bsearch an infinite range"),F(n.begin.$$is_number&&n.end.$$is_number)||X.$raise(a("TypeError"),"can't do binary search for "+n.begin.$class()),h(n.$to_a(),"bsearch",[],s.$to_proc()))}),w(_,"$to_s",function(){var s=this,n=E;return""+(F(n=s.begin)?n:"")+(F(s.excl)?"...":"..")+(F(n=s.end)?n:"")}),w(_,"$inspect",function(){var s=this,n=E;return""+(F(n=s.begin)?s.begin.$inspect():n)+(F(s.excl)?"...":"..")+(F(n=s.end)?s.end.$inspect():n)}),w(_,"$marshal_load",function(s){var n=this;return n.begin=s["$[]"]("begin"),n.end=s["$[]"]("end"),n.excl=s["$[]"]("excl")}),w(_,"$hash",function(){var s=this;return[a("Range"),s.begin,s.end,s.excl].$hash()}),I(_,"==","eql?"),I(_,"member?","include?")}("::",null,L)};Opal.modules["corelib/proc"]=function(e){var y=e.slice,F=e.each_ivar,X=e.klass,w=e.truthy,O=e.Kernel,V=e.defs,x=e.def,Y=e.send,h=e.to_a,T=e.return_self,re=e.ensure_kwargs,U=e.hash_get,B=e.Opal,ee=e.alias,W=e.nil,b=e.$$$;return e.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(k,z){var M=X(k,z,"Proc");e.prop(M.$$prototype,"$$is_proc",!0),e.prop(M.$$prototype,"$$is_lambda",!1),V(M,"$new",function p(){var I=p.$$p||W;return p.$$p=null,w(I)||O.$raise(b("ArgumentError"),"tried to create a Proc object without a block"),I});function q(p,I){if(p.$$ret)try{return p.apply(null,I)}catch(H){if(H===p.$$ret)return H.$v;throw H}else return p.apply(null,I)}function P(p,I){if(p.$$brk)try{return e.yieldX(p,I)}catch(H){if(H===p.$$brk)return H.$v;throw H}else return e.yieldX(p,I)}return x(M,"$call",function p(I){var H=p.$$p||W,L,E,a=this;return p.$$p=null,L=y(arguments),E=L,H!==W&&(a.$$p=H),a.$$is_lambda?q(a,E):P(a,E)},-1),x(M,"$>>",function p(I){p.$$p;var H=this;return p.$$p=null,Y(O,"proc",[],function L(E){var a=L.$$p||W,d,A,g=L.$$s==null?this:L.$$s,_=W;return L.$$p=null,d=y(arguments),A=d,_=Y(g,"call",h(A),a.$to_proc()),I.$call(_)},{$$arity:-1,$$s:H})}),x(M,"$<<",function p(I){p.$$p;var H=this;return p.$$p=null,Y(O,"proc",[],function L(E){var a=L.$$p||W,d,A,g=L.$$s==null?this:L.$$s,_=W;return L.$$p=null,d=y(arguments),A=d,_=Y(I,"call",h(A),a.$to_proc()),g.$call(_)},{$$arity:-1,$$s:H})}),x(M,"$to_proc",T),x(M,"$lambda?",function(){var I=this;return!!I.$$is_lambda}),x(M,"$arity",function(){var I=this;return I.$$is_curried?-1:I.$$arity!=null?I.$$arity:I.length}),x(M,"$source_location",function(){var I=this,H=W;return I.$$is_curried?W:w(H=I.$$source_location)?H:W}),x(M,"$binding",function(){var I=this;return I.$$is_curried&&O.$raise(b("ArgumentError"),"Can't create Binding"),w(b("::","Binding","skip_raise")?"constant":W)?b("Binding").$new(W,[],I.$$s,I.$source_location()):W}),x(M,"$parameters",function(I){var H,L=this;if(I=re(I),H=U(I,"lambda"),L.$$is_curried)return[["rest"]];if(L.$$parameters){if(H??L.$$is_lambda)return L.$$parameters;var E=[],a,d;for(a=0,d=L.$$parameters.length;a<d;a++){var A=L.$$parameters[a];A[0]==="req"&&(A=["opt",A[1]]),E.push(A)}return E}else return[]},-1),x(M,"$curry",function(I){var H=this;I===void 0?I=H.length:(I=B["$coerce_to!"](I,b("Integer"),"to_int"),H.$$is_lambda&&I!==H.length&&O.$raise(b("ArgumentError"),"wrong number of arguments ("+I+" for "+H.length+")"));function L(){var E=y(arguments),a=E.length,d;return a>I&&H.$$is_lambda&&!H.$$is_curried&&O.$raise(b("ArgumentError"),"wrong number of arguments ("+a+" for "+I+")"),a>=I?H.$call.apply(H,E):(d=function(){return L.apply(null,E.concat(y(arguments)))},d.$$is_lambda=H.$$is_lambda,d.$$is_curried=!0,d)}return L.$$is_lambda=H.$$is_lambda,L.$$is_curried=!0,L},-1),x(M,"$dup",function(){var I=this,H=I.$$original_proc||I,L=function(){return H.apply(this,arguments)};return F(I,function(E){L[E]=I[E]}),L}),ee(M,"===","call"),ee(M,"clone","dup"),ee(M,"yield","call"),ee(M,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(e){var y=e.klass,F=e.def,X=e.truthy,w=e.slice,O=e.alias,V=e.Kernel,x=e.send,Y=e.to_a,h=e.nil,T=e.$$$;return e.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(re,U){var B=y(re,U,"Method"),ee=B.$$prototype;return ee.method=ee.receiver=ee.owner=ee.name=h,B.$attr_reader("owner","receiver","name"),F(B,"$initialize",function(b,k,z,M){var q=this;return q.receiver=b,q.owner=k,q.name=M,q.method=z}),F(B,"$arity",function(){var b=this;return b.method.$arity()}),F(B,"$parameters",function(){var b=this;return b.method.$$parameters}),F(B,"$source_location",function(){var b=this,k=h;return X(k=b.method.$$source_location)?k:["(eval)",0]}),F(B,"$comments",function(){var b=this,k=h;return X(k=b.method.$$comments)?k:[]}),F(B,"$call",function W(b){var k=W.$$p||h,z,M,q=this;return W.$$p=null,z=w(arguments),M=z,q.method.$$p=k,q.method.apply(q.receiver,M)},-1),F(B,"$curry",function(b){var k=this;return k.method.$curry(b)},-1),F(B,"$>>",function(b){var k=this;return k.method["$>>"](b)}),F(B,"$<<",function(b){var k=this;return k.method["$<<"](b)}),F(B,"$unbind",function(){var b=this;return T("UnboundMethod").$new(b.receiver.$class(),b.owner,b.method,b.name)}),F(B,"$to_proc",function(){var b=this,k=b.$call.bind(b);return k.$$unbound=b.method,k.$$is_lambda=!0,k.$$arity=b.method.$$arity==null?b.method.length:b.method.$$arity,k.$$parameters=b.method.$$parameters,k}),F(B,"$inspect",function(){var b=this;return"#<"+b.$class()+": "+b.receiver.$class()+"#"+b.name+" (defined in "+b.owner+" in "+b.$source_location().$join(":")+")>"}),O(B,"[]","call"),O(B,"===","call")}("::",null),function(re,U){var B=y(re,U,"UnboundMethod"),ee=B.$$prototype;return ee.method=ee.owner=ee.name=ee.source=h,B.$attr_reader("source","owner","name"),F(B,"$initialize",function(b,k,z,M){var q=this;return q.source=b,q.owner=k,q.method=z,q.name=M,q.$$method=z}),F(B,"$arity",function(){var b=this;return b.method.$arity()}),F(B,"$parameters",function(){var b=this;return b.method.$$parameters}),F(B,"$source_location",function(){var b=this,k=h;return X(k=b.method.$$source_location)?k:["(eval)",0]}),F(B,"$comments",function(){var b=this,k=h;return X(k=b.method.$$comments)?k:[]}),F(B,"$bind",function(b){var k=this;if(k.owner.$$is_module||e.is_a(b,k.owner))return T("Method").$new(b,k.owner,k.method,k.name);V.$raise(T("TypeError"),"can't bind singleton method to a different class (expected "+b+".kind_of?("+k.owner+" to be true)")}),F(B,"$bind_call",function W(b,k){var z=W.$$p||h,M,q,P=this;return W.$$p=null,M=w(arguments,1),q=M,x(P.$bind(b),"call",Y(q),z.$to_proc())},-2),F(B,"$inspect",function(){var b=this;return"#<"+b.$class()+": "+b.source+"#"+b.name+" (defined in "+b.owner+" in "+b.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(e){var y=e.gvars,F=e.const_set,X=e.Object,w=e.nil;return e.add_stubs("new"),y["&"]=y["~"]=y["`"]=y["'"]=w,y.LOADED_FEATURES=y['"']=e.loaded_features,y.LOAD_PATH=y[":"]=[],y["/"]=`
`,y[","]=w,F("::","ARGV",[]),F("::","ARGF",X.$new()),F("::","ENV",new Map),y.VERBOSE=!1,y.DEBUG=!1,y.SAFE=0};Opal.modules["corelib/io"]=function(e){var y=e.klass,F=e.const_set,X=e.not,w=e.truthy,O=e.def,V=e.return_ivar,x=e.return_val,Y=e.slice,h=e.Kernel,T=e.gvars,re=e.send,U=e.to_a,B=e.rb_plus,ee=e.neqeq,W=e.range,b=e.eqeq,k=e.to_ary,z=e.rb_gt,M=e.assign_ivar_val,q=e.alias,P,p=e.nil,I=e.$$$;e.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(L,E){var a=y(L,E,"IO"),d=a.$$prototype;return d.read_buffer=d.closed=p,F(a,"SEEK_SET",0),F(a,"SEEK_CUR",1),F(a,"SEEK_END",2),F(a,"SEEK_DATA",3),F(a,"SEEK_HOLE",4),F(a,"READABLE",1),F(a,"WRITABLE",4),a.$attr_reader("eof"),a.$attr_accessor("read_proc","sync","tty","write_proc"),O(a,"$initialize",function(g,_){var f=this;return _==null&&(_="r"),f.fd=g,f.flags=_,f.eof=!1,w(_["$include?"]("r"))&&X(_["$match?"](/[wa+]/))?f.closed="write":w(_["$match?"](/[wa]/))&&X(_["$match?"](/[r+]/))?f.closed="read":p},-2),O(a,"$fileno",V("fd")),O(a,"$tty?",function(){var g=this;return g.tty==!0}),O(a,"$write",function(g){var _=this;return _.write_proc(g),g.$size()}),O(a,"$flush",x(p)),O(a,"$<<",function(g){var _=this;return _.$write(g),_}),O(a,"$print",function(g){var _,f,G=this;T[","]==null&&(T[","]=p),_=Y(arguments),f=_;for(var C=0,l=f.length;C<l;C++)f[C]=h.$String(f[C]);return G.$write(f.join(T[","])),p},-1),O(a,"$puts",function(g){var _,f,G=this;_=Y(arguments),f=_;var C;if(f.length===0)return G.$write(`
`),p;for(var l=0,o=f.length;l<o;l++)if(f[l].$$is_array){var s=f[l].$flatten();s.length>0&&re(G,"puts",U(s))}else f[l].$$is_string?C=f[l].valueOf():C=h.$String(f[l]),C.endsWith(`
`)||(C+=`
`),G.$write(C);return p},-1),O(a,"$getc",function(){var g=this,_=p,f=p,G=p;g.read_buffer=w(_=g.read_buffer)?_:"",f="";do if(g.read_buffer=B(g.read_buffer,f),ee(g.read_buffer,""))return G=g.read_buffer["$[]"](0),g.read_buffer=g.read_buffer["$[]"](W(1,-1,!1)),G;while(w(f=g.$sysread_noraise(1)));return p}),O(a,"$getbyte",function(){var g,_=this;return g=_.$getc(),g===p||g==null?p:g.$ord()}),O(a,"$readbyte",function(){var g=this;return g.$readchar().$ord()}),O(a,"$readchar",function(){var g=this,_=p;return w(_=g.$getc())?_:h.$raise(I("EOFError"),"end of file reached")}),O(a,"$readline",function(g){var _,f,G=this,C=p;return _=Y(arguments),f=_,w(C=re(G,"gets",U(f)))?C:h.$raise(I("EOFError"),"end of file reached")},-1),O(a,"$gets",function(g,_,f){var G,C,l=this,o=p,s=p,n=p,t=p,r=p,i=p;T["/"]==null&&(T["/"]=p),g==null&&(g=!1),_==null&&(_=p),f==null&&(f=new Map),w(g.$$is_number)&&X(_)&&(G=[!1,g,_],g=G[0],_=G[1],f=G[2]),w(g.$$is_hash)&&X(_)&&b(f,new Map)?(G=[!1,p,g],g=G[0],_=G[1],f=G[2]):w(_.$$is_hash)&&b(f,new Map)&&(G=[g,p,_],g=G[0],_=G[1],f=G[2]),o=g,b(g,!1)&&(g=T["/"]),b(g,"")&&(g=/\r?\n\r?\n/),g=w(s=g)?s:"",b(o,"")||(g=g.$to_str()),n=b(o,"")?2:g.$length(),b(g," ")&&(g=/ /),l.read_buffer=w(s=l.read_buffer)?s:"",t="",r=p;do if(l.read_buffer=B(l.read_buffer,t),ee(g,"")&&w(w(g.$$is_regexp)?l.read_buffer["$match?"](g):l.read_buffer["$include?"](g))){i=l.read_buffer,C=l.read_buffer.$split(g,2),G=k(C),r=G[0]==null?p:G[0],l.read_buffer=G[1]==null?p:G[1],ee(r,i)&&(r=B(r,i["$[]"](r.$length(),n)));break}while(w(t=l.$sysread_noraise(b(g,"")?65536:1)));return w(r)||(G=[w(s=l.read_buffer)?s:"",""],r=G[0],l.read_buffer=G[1],b(r,"")&&(r=p)),w(r)&&(w(_)&&(r=r["$[]"](e.Range.$new(0,_,!0)),l.read_buffer=B(r["$[]"](e.Range.$new(_,-1,!1)),l.read_buffer)),w(f["$[]"]("chomp"))&&(r=r.$sub(/\r?\n$/,"")),b(o,"")&&(r=r.$sub(/^[\r\n]+/,""))),b(o,!1)&&(T._=r),r},-1),O(a,"$sysread",function(g){var _=this,f=p;return w(f=_.read_proc(g))?f:(_.eof=!0,h.$raise(I("EOFError"),"end of file reached"))}),O(a,"$sysread_noraise",function(g){var _=this;try{return _.$sysread(g)}catch(f){if(e.rescue(f,[I("EOFError")]))try{return p}finally{e.pop_exception(f)}else throw f}}),O(a,"$readpartial",function(g){var _,f=this,G=p,C=p,l=p;return f.read_buffer=w(G=f.read_buffer)?G:"",C=f.$sysread(g),_=[B(f.read_buffer,w(G=C)?G:""),""],l=_[0],f.read_buffer=_[1],b(l,"")&&(l=p),l}),O(a,"$read",function(g){var _,f=this,G=p,C=p,l=p;g==null&&(g=p),f.read_buffer=w(G=f.read_buffer)?G:"",C="",l=p;do if(f.read_buffer=B(f.read_buffer,C),w(g)&&w(z(f.read_buffer.$length(),g)))return _=[f.read_buffer["$[]"](e.Range.$new(0,g,!0)),f.read_buffer["$[]"](e.Range.$new(g,-1,!1))],l=_[0],f.read_buffer=_[1],l;while(w(C=f.$sysread_noraise(w(G=g)?G:65536)));return _=[f.read_buffer,""],l=_[0],f.read_buffer=_[1],l},-1),O(a,"$readlines",function(g){var _=this;return T["/"]==null&&(T["/"]=p),g==null&&(g=T["/"]),_.$each_line(g).$to_a()},-1),O(a,"$each",function A(g,_){var f=A.$$p||p,G,C,l,o=this,s=p;if(T["/"]==null&&(T["/"]=p),A.$$p=null,G=Y(arguments),G.length>0&&(C=G.shift()),C==null&&(C=T["/"]),l=G,f===p)return re(o,"enum_for",["each",C].concat(U(l)));for(;w(s=re(o,"gets",[C].concat(U(l))));)e.yield1(f,s);return o},-1),O(a,"$each_byte",function A(){var g=A.$$p||p,_=this,f=p;if(A.$$p=null,g===p)return _.$enum_for("each_byte");for(;w(f=_.$getbyte());)e.yield1(g,f);return _}),O(a,"$each_char",function A(){var g=A.$$p||p,_=this,f=p;if(A.$$p=null,g===p)return _.$enum_for("each_char");for(;w(f=_.$getc());)e.yield1(g,f);return _}),O(a,"$close",M("closed","both")),O(a,"$close_read",function(){var g=this;return b(g.closed,"write")?g.closed="both":g.closed="read"}),O(a,"$close_write",function(){var g=this;return b(g.closed,"read")?g.closed="both":g.closed="write"}),O(a,"$closed?",function(){var g=this;return g.closed["$=="]("both")}),O(a,"$closed_read?",function(){var g=this,_=p;return w(_=g.closed["$=="]("read"))?_:g.closed["$=="]("both")}),O(a,"$closed_write?",function(){var g=this,_=p;return w(_=g.closed["$=="]("write"))?_:g.closed["$=="]("both")}),O(a,"$check_writable",function(){var g=this;return w(g["$closed_write?"]())?h.$raise(I("IOError"),"not opened for writing"):p}),O(a,"$check_readable",function(){var g=this;return w(g["$closed_read?"]())?h.$raise(I("IOError"),"not opened for reading"):p}),q(a,"each_line","each"),q(a,"eof?","eof")}("::",null),F("::","STDIN",T.stdin=I("IO").$new(0,"r")),F("::","STDOUT",T.stdout=I("IO").$new(1,"w")),F("::","STDERR",T.stderr=I("IO").$new(2,"w"));var H=e.global.console;return I("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(L){process.stdout.write(L)}:function(L){H.log(L)}),I("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(L){process.stderr.write(L)}:function(L){H.warn(L)}),P=[function(L){var E=prompt();return E!==null?E+`
`:p}],re(I("STDIN"),"read_proc=",P),P[P.length-1]};Opal.modules["opal/regexp_anchors"]=function(e){var y=e.module,F=e.const_set,X=[];e.nil;var w=e.$$$;return e.add_stubs("new"),function(O,V){var x=y(O,"Opal"),Y=[x].concat(V),h=e.$r(Y);return F(x,"REGEXP_START","^"),F(x,"REGEXP_END","$"),F(x,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),F(x,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),F(x,"INLINE_IDENTIFIER_REGEXP",h("Regexp").$new("[^"+w(x,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+w(x,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),F(x,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),F(x,"CONST_NAME_REGEXP",h("Regexp").$new(""+w(x,"REGEXP_START")+"(::)?[A-Z][^"+w(x,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+w(x,"REGEXP_END")))}(X[0],X)};Opal.modules["opal/mini"]=function(e){var y=e.Object;return e.nil,e.add_stubs("require"),y.$require("opal/base"),y.$require("corelib/nil"),y.$require("corelib/boolean"),y.$require("corelib/string"),y.$require("corelib/comparable"),y.$require("corelib/enumerable"),y.$require("corelib/enumerator"),y.$require("corelib/array"),y.$require("corelib/hash"),y.$require("corelib/number"),y.$require("corelib/range"),y.$require("corelib/proc"),y.$require("corelib/method"),y.$require("corelib/regexp"),y.$require("corelib/variables"),y.$require("corelib/io"),y.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(e){var y=e.coerce_to,F=e.module,X=e.slice,w=e.truthy,O=e.eqeq,V=e.Opal,x=e.Kernel,Y=e.gvars,h=e.def,T=e.alias,re=e.nil,U=e.$$$;return e.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(B){var ee=F(B,"Kernel");return h(ee,"$format",function(b,k){var z,M,q=re;Y.DEBUG==null&&(Y.DEBUG=re),z=X(arguments,1),M=z,O(M.$length(),1)&&w(M["$[]"](0)["$respond_to?"]("to_ary"))&&(q=V["$coerce_to?"](M["$[]"](0),U("Array"),"to_ary"),w(q["$nil?"]())||(M=q.$to_a()));var P="",p=0,I,H,L=b.length,E,a,d,A,g,_,f,G,C,l,o,s,n,t=1,r=0,i,$=0,u=1,v=2,N=4,D=8,R=16,J=32,te=64,ae=128;function le(){i&J&&x.$raise(U("ArgumentError"),"flag after width"),i&ae&&x.$raise(U("ArgumentError"),"flag after precision")}function _e(){i&J&&x.$raise(U("ArgumentError"),"width given twice"),i&ae&&x.$raise(U("ArgumentError"),"width after precision")}function de(S){return S>=M.length&&x.$raise(U("ArgumentError"),"too few arguments"),M[S]}function ge(){switch(r){case-1:x.$raise(U("ArgumentError"),"unnumbered("+t+") mixed with numbered");case-2:x.$raise(U("ArgumentError"),"unnumbered("+t+") mixed with named")}return r=t++,de(r-1)}function ve(S){return r>0&&x.$raise(U("ArgumentError"),"numbered("+S+") after unnumbered("+r+")"),r===-2&&x.$raise(U("ArgumentError"),"numbered("+S+") after named"),S<1&&x.$raise(U("ArgumentError"),"invalid index - "+S+"$"),r=-1,de(S-1)}function me(){return n===void 0?ge():n}function be(S){for(var j,Z="";;H++){if(H===L&&x.$raise(U("ArgumentError"),"malformed format string - %*[0-9]"),b.charCodeAt(H)<48||b.charCodeAt(H)>57)return H--,j=parseInt(Z,10)||0,j>2147483647&&x.$raise(U("ArgumentError"),""+S+" too big"),j;Z+=b.charAt(H)}}function $e(S){var j,Z=be(S);return b.charAt(H+1)==="$"?(H++,j=ve(Z)):j=ge(),j.$to_int()}for(H=b.indexOf("%");H!==-1;H=b.indexOf("%",H)){switch(a=void 0,i=$,A=-1,g=-1,n=void 0,I=H,H++,b.charAt(H)){case"%":p=H;case"":case`
`:case"\0":H++;continue}e:for(;H<L;H++)switch(b.charAt(H)){case" ":le(),i|=R;continue e;case"#":le(),i|=u;continue e;case"+":le(),i|=N;continue e;case"-":le(),i|=v;continue e;case"0":le(),i|=D;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(_=be("width"),b.charAt(H+1)==="$"){if(H+2===L){a="%",H++;break e}n!==void 0&&x.$raise(U("ArgumentError"),"value given twice - %"+_+"$"),n=ve(_),H++}else _e(),i|=J,A=_;continue e;case"<":case"{":for(G=b.charAt(H)==="<"?">":"}",f="",H++;;H++){if(H===L&&x.$raise(U("ArgumentError"),"malformed name - unmatched parenthesis"),b.charAt(H)===G){if(r>0&&x.$raise(U("ArgumentError"),"named "+f+" after unnumbered("+r+")"),r===-1&&x.$raise(U("ArgumentError"),"named "+f+" after numbered"),r=-2,(M[0]===void 0||!M[0].$$is_hash)&&x.$raise(U("ArgumentError"),"one hash required"),n=M[0].$fetch(f),G===">")continue e;if(a=n.toString(),g!==-1&&(a=a.slice(0,g)),i&v)for(;a.length<A;)a=a+" ";else for(;a.length<A;)a=" "+a;break e}f+=b.charAt(H)}case"*":H++,_e(),i|=J,A=$e("width"),A<0&&(i|=v,A=-A);continue e;case".":if(i&ae&&x.$raise(U("ArgumentError"),"precision given twice"),i|=te|ae,g=0,H++,b.charAt(H)==="*"){H++,g=$e("precision"),g<0&&(i&=~te);continue e}g=be("precision");continue e;case"d":case"i":case"u":if(E=x.$Integer(me()),E>=0){for(a=E.toString();a.length<g;)a="0"+a;if(i&v)for((i&N||i&R)&&(a=(i&N?"+":" ")+a);a.length<A;)a=a+" ";else if(i&D&&g===-1){for(;a.length<A-(i&N||i&R?1:0);)a="0"+a;(i&N||i&R)&&(a=(i&N?"+":" ")+a)}else for((i&N||i&R)&&(a=(i&N?"+":" ")+a);a.length<A;)a=" "+a}else{for(a=(-E).toString();a.length<g;)a="0"+a;if(i&v)for(a="-"+a;a.length<A;)a=a+" ";else if(i&D&&g===-1){for(;a.length<A-1;)a="0"+a;a="-"+a}else for(a="-"+a;a.length<A;)a=" "+a}break e;case"b":case"B":case"o":case"x":case"X":switch(b.charAt(H)){case"b":case"B":C=2,l="0b",o=/^1+/,s="1";break;case"o":C=8,l="0",o=/^3?7+/,s="7";break;case"x":case"X":C=16,l="0x",o=/^f+/,s="f";break}if(E=x.$Integer(me()),E>=0){for(a=E.toString(C);a.length<g;)a="0"+a;if(i&v)for((i&N||i&R)&&(a=(i&N?"+":" ")+a),i&u&&E!==0&&(a=l+a);a.length<A;)a=a+" ";else if(i&D&&g===-1){for(;a.length<A-(i&N||i&R?1:0)-(i&u&&E!==0?l.length:0);)a="0"+a;i&u&&E!==0&&(a=l+a),(i&N||i&R)&&(a=(i&N?"+":" ")+a)}else for(i&u&&E!==0&&(a=l+a),(i&N||i&R)&&(a=(i&N?"+":" ")+a);a.length<A;)a=" "+a}else if(i&N||i&R){for(a=(-E).toString(C);a.length<g;)a="0"+a;if(i&v)for(i&u&&(a=l+a),a="-"+a;a.length<A;)a=a+" ";else if(i&D&&g===-1){for(;a.length<A-1-(i&u?2:0);)a="0"+a;i&u&&(a=l+a),a="-"+a}else for(i&u&&(a=l+a),a="-"+a;a.length<A;)a=" "+a}else{for(a=(E>>>0).toString(C).replace(o,s);a.length<g-2;)a=s+a;if(i&v)for(a=".."+a,i&u&&(a=l+a);a.length<A;)a=a+" ";else if(i&D&&g===-1){for(;a.length<A-2-(i&u?l.length:0);)a=s+a;a=".."+a,i&u&&(a=l+a)}else for(a=".."+a,i&u&&(a=l+a);a.length<A;)a=" "+a}b.charAt(H)===b.charAt(H).toUpperCase()&&(a=a.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(E=x.$Float(me()),E>=0||isNaN(E)){if(E===1/0)a="Inf";else switch(b.charAt(H)){case"f":a=E.toFixed(g===-1?6:g);break;case"e":case"E":a=E.toExponential(g===-1?6:g);break;case"g":case"G":a=E.toExponential(),d=parseInt(a.split("e")[1],10),d<-4||d>=(g===-1?6:g)||(a=E.toPrecision(g===-1?i&u?6:void 0:g));break}if(i&v)for((i&N||i&R)&&(a=(i&N?"+":" ")+a);a.length<A;)a=a+" ";else if(i&D&&E!==1/0&&!isNaN(E)){for(;a.length<A-(i&N||i&R?1:0);)a="0"+a;(i&N||i&R)&&(a=(i&N?"+":" ")+a)}else for((i&N||i&R)&&(a=(i&N?"+":" ")+a);a.length<A;)a=" "+a}else{if(E===-1/0)a="Inf";else switch(b.charAt(H)){case"f":a=(-E).toFixed(g===-1?6:g);break;case"e":case"E":a=(-E).toExponential(g===-1?6:g);break;case"g":case"G":a=(-E).toExponential(),d=parseInt(a.split("e")[1],10),d<-4||d>=(g===-1?6:g)||(a=(-E).toPrecision(g===-1?i&u?6:void 0:g));break}if(i&v)for(a="-"+a;a.length<A;)a=a+" ";else if(i&D&&E!==-1/0){for(;a.length<A-1;)a="0"+a;a="-"+a}else for(a="-"+a;a.length<A;)a=" "+a}b.charAt(H)===b.charAt(H).toUpperCase()&&E!==1/0&&E!==-1/0&&!isNaN(E)&&(a=a.toUpperCase()),a=a.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":x.$raise(U("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(E=me(),E["$respond_to?"]("to_ary")&&(E=E.$to_ary()[0]),E["$respond_to?"]("to_str")?a=E.$to_str():a=String.fromCharCode(y(E,U("Integer"),"to_int")),a.length!==1&&x.$raise(U("ArgumentError"),"%c requires a character"),i&v)for(;a.length<A;)a=a+" ";else for(;a.length<A;)a=" "+a;break e;case"p":if(a=me().$inspect(),g!==-1&&(a=a.slice(0,g)),i&v)for(;a.length<A;)a=a+" ";else for(;a.length<A;)a=" "+a;break e;case"s":if(a=me().$to_s(),g!==-1&&(a=a.slice(0,g)),i&v)for(;a.length<A;)a=a+" ";else for(;a.length<A;)a=" "+a;break e;default:x.$raise(U("ArgumentError"),"malformed format string - %"+b.charAt(H))}a===void 0&&x.$raise(U("ArgumentError"),"malformed format string - %"),P+=b.slice(p,I)+a,p=H+1}return Y.DEBUG&&r>=0&&t<M.length&&x.$raise(U("ArgumentError"),"too many arguments for format string"),P+b.slice(p)},-2),T(ee,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(e){var y=e.klass,F=e.rb_plus,X=e.truthy,w=e.send,O=e.defs,V=e.eqeq,x=e.def,Y=e.return_ivar,h=e.return_val,T=e.slice,re=e.Kernel,U=e.Opal,B=e.rb_lt,ee,W=e.top,b=[],k=e.$r(b),z=e.nil,M=e.$$$;return e.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),W.$require("corelib/string"),function(q,P,p){var I=y(q,P,"Encoding"),H=[I].concat(p),L=I.$$prototype;return L.name=L.dummy=z,O(I,"$register",function E(a,d){var A=E.$$p||z,g=this,_=z,f=z,G=z,C=z,l=z,o=z;return E.$$p=null,d==null&&(d=new Map),_=F([a],X(f=d["$[]"]("aliases"))?f:[]),G=X(f=d["$[]"]("ascii"))&&f,C=X(f=d["$[]"]("dummy"))&&f,X(d["$[]"]("inherits"))?(l=d["$[]"]("inherits").$clone(),l.$initialize(a,_,G,C)):l=g.$new(a,_,G,C),A!==z&&w(l,"instance_eval",[],A.$to_proc()),o=e.encodings,w(_,"each",[],function s(n){var t=s.$$s==null?this:s.$$s;return n==null&&(n=z),t.$const_set(n.$tr("-","_"),l),o[n]=l},{$$s:g})},-2),O(I,"$find",function(a){var d=this;return V(a,"default_external")?d.$default_external():e.find_encoding(a)}),I.$singleton_class().$attr_accessor("default_external"),I.$attr_reader("name","names"),x(I,"$initialize",function(a,d,A,g){var _=this;return _.name=a,_.names=d,_.ascii=A,_.dummy=g}),x(I,"$ascii_compatible?",Y("ascii")),x(I,"$dummy?",Y("dummy")),x(I,"$binary?",h(!1)),x(I,"$to_s",Y("name")),x(I,"$inspect",function(){var a=this;return"#<Encoding:"+a.name+(X(a.dummy)?" (dummy)":z)+">"}),x(I,"$charsize",function(a){for(var d=0,A=0,g=a.length;A<g;A++){var _=a.charCodeAt(A);_>=55296&&_<=56319||d++}return d}),x(I,"$each_char",function E(a){var d=E.$$p||z;E.$$p=null;for(var A="",g=0,_=a.length;g<_;g++){var f=a.charCodeAt(g),G=a.charAt(g);if(f>=56320&&f<=57343){A=G;continue}else f>=55296&&f<=56319&&(G=A+G);a.encoding.name!="UTF-8"&&(G=new String(G),G.encoding=a.encoding),e.yield1(d,G)}}),x(I,"$each_byte",function(a){return T(arguments),re.$raise(M("NotImplementedError"))},-1),x(I,"$bytesize",function(a){return T(arguments),re.$raise(M("NotImplementedError"))},-1),y("::",M("StandardError"),"EncodingError"),y("::",M("EncodingError"),"CompatibilityError"),y(H[0],M("EncodingError"),"UndefinedConversionError"),z}("::",null,b),w(M("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function q(){var P=q.$$s==null?this:q.$$s;return x(P,"$each_byte",function p(I){var H=p.$$p||z;p.$$p=null;for(var L=1/0,E,a=I.length,d=null,A=0;A<a;++A){if(E=I.charCodeAt(A),E>55295&&E<57344){if(!d){if(E>56319){(L-=3)>-1&&(e.yield1(H,239),e.yield1(H,191),e.yield1(H,189));continue}else if(A+1===a){(L-=3)>-1&&(e.yield1(H,239),e.yield1(H,191),e.yield1(H,189));continue}d=E;continue}if(E<56320){(L-=3)>-1&&(e.yield1(H,239),e.yield1(H,191),e.yield1(H,189)),d=E;continue}E=(d-55296<<10|E-56320)+65536}else d&&(L-=3)>-1&&(e.yield1(H,239),e.yield1(H,191),e.yield1(H,189));if(d=null,E<128){if((L-=1)<0)break;e.yield1(H,E)}else if(E<2048){if((L-=2)<0)break;e.yield1(H,E>>6|192),e.yield1(H,E&63|128)}else if(E<65536){if((L-=3)<0)break;e.yield1(H,E>>12|224),e.yield1(H,E>>6&63|128),e.yield1(H,E&63|128)}else if(E<1114112){if((L-=4)<0)break;e.yield1(H,E>>18|240),e.yield1(H,E>>12&63|128),e.yield1(H,E>>6&63|128),e.yield1(H,E&63|128)}}}),x(P,"$bytesize",function(I){return I.$bytes().$length()})},{$$s:W}),w(M("Encoding"),"register",["UTF-16LE"],function q(){var P=q.$$s==null?this:q.$$s;return x(P,"$each_byte",function p(I){var H=p.$$p||z;p.$$p=null;for(var L=0,E=I.length;L<E;L++){var a=I.charCodeAt(L);e.yield1(H,a&255),e.yield1(H,a>>8)}}),x(P,"$bytesize",function(I){return I.length*2})},{$$s:W}),w(M("Encoding"),"register",["UTF-16BE",new Map([["inherits",M(M("Encoding"),"UTF_16LE")]])],function q(){var P=q.$$s==null?this:q.$$s;return x(P,"$each_byte",function p(I){var H=p.$$p||z;p.$$p=null;for(var L=0,E=I.length;L<E;L++){var a=I.charCodeAt(L);e.yield1(H,a>>8),e.yield1(H,a&255)}})},{$$s:W}),w(M("Encoding"),"register",["UTF-32LE"],function q(){var P=q.$$s==null?this:q.$$s;return x(P,"$each_byte",function p(I){var H=p.$$p||z;p.$$p=null;for(var L=0,E=I.length;L<E;L++){var a=I.charCodeAt(L);e.yield1(H,a&255),e.yield1(H,a>>8),e.yield1(H,0),e.yield1(H,0)}}),x(P,"$bytesize",function(I){return I.length*4})},{$$s:W}),w(M("Encoding"),"register",["UTF-32BE",new Map([["inherits",M(M("Encoding"),"UTF_32LE")]])],function q(){var P=q.$$s==null?this:q.$$s;return x(P,"$each_byte",function p(I){var H=p.$$p||z;p.$$p=null;for(var L=0,E=I.length;L<E;L++){var a=I.charCodeAt(L);e.yield1(H,0),e.yield1(H,0),e.yield1(H,a>>8),e.yield1(H,a&255)}})},{$$s:W}),w(M("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function q(){var P=q.$$s==null?this:q.$$s;return x(P,"$each_char",function p(I){var H=p.$$p||z;p.$$p=null;for(var L=0,E=I.length;L<E;L++){var a=new String(I.charAt(L));a.encoding=I.encoding,e.yield1(H,a)}}),x(P,"$charsize",function(I){return I.length}),x(P,"$each_byte",function p(I){var H=p.$$p||z;p.$$p=null;for(var L=0,E=I.length;L<E;L++){var a=I.charCodeAt(L);e.yield1(H,a&255)}}),x(P,"$bytesize",function(I){return I.length}),x(P,"$binary?",h(!0))},{$$s:W}),M("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",M(M("Encoding"),"ASCII_8BIT")]])),M("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",M(M("Encoding"),"ASCII_8BIT")]])),function(q,P){var p=y(q,P,"String"),I=p.$$prototype;return I.internal_encoding=I.bytes=I.encoding=z,p.$attr_reader("encoding"),p.$attr_reader("internal_encoding"),e.prop(String.prototype,"bytes",z),e.prop(String.prototype,"encoding",M(M("Encoding"),"UTF_8")),e.prop(String.prototype,"internal_encoding",M(M("Encoding"),"UTF_8")),x(p,"$b",function(){var L=this;return L.$dup().$force_encoding("binary")}),x(p,"$bytesize",function(){var L=this;return L.internal_encoding.$bytesize(L)}),x(p,"$each_byte",function H(){var L=H.$$p||z,E=this;return H.$$p=null,L===z?w(E,"enum_for",["each_byte"],function a(){var d=a.$$s==null?this:a.$$s;return d.$bytesize()},{$$s:E}):(w(E.internal_encoding,"each_byte",[E],L.$to_proc()),E)}),x(p,"$bytes",function(){var L=this,E=z;return typeof L=="string"?new String(L).$each_byte().$to_a():(L.bytes=X(E=L.bytes)?E:L.$each_byte().$to_a(),L.bytes.$dup())}),x(p,"$each_char",function H(){var L=H.$$p||z,E=this;return H.$$p=null,L===z?w(E,"enum_for",["each_char"],function a(){var d=a.$$s==null?this:a.$$s;return d.$length()},{$$s:E}):(w(E.encoding,"each_char",[E],L.$to_proc()),E)}),x(p,"$chars",function H(){var L=H.$$p||z,E=this;return H.$$p=null,X(L)?w(E,"each_char",[],L.$to_proc()):E.$each_char().$to_a()}),x(p,"$each_codepoint",function H(){var L=H.$$p||z,E=this;if(H.$$p=null,L===z)return E.$enum_for("each_codepoint");for(var a=0,d=E.length;a<d;a++)e.yield1(L,E.codePointAt(a));return E}),x(p,"$codepoints",function H(){var L=H.$$p||z,E=this;return H.$$p=null,L!==z?w(E,"each_codepoint",[],L.$to_proc()):E.$each_codepoint().$to_a()}),x(p,"$encode",function(L){var E=this;return e.enc(E,L)}),x(p,"$force_encoding",function(L){var E=this,a=E;return L===a.encoding||(L=U["$coerce_to!"](L,M("String"),"to_s"),L=M("Encoding").$find(L),L===a.encoding)||(a=e.set_encoding(a,L)),a}),x(p,"$getbyte",function(L){var E=this,a=z;return a=E.$bytes(),L=U["$coerce_to!"](L,M("Integer"),"to_int"),X(B(a.$length(),L))?z:a["$[]"](L)}),x(p,"$initialize_copy",function(L){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),x(p,"$valid_encoding?",h(!0))}("::",null),ee=[M(k("Encoding"),"UTF_8")],w(M("Encoding"),"default_external=",ee),ee[ee.length-1]};Opal.modules["corelib/math"]=function(e){var y=e.type_error,F=e.module,X=e.const_set,w=e.Class,O=e.slice,V=e.Kernel,x=e.defs,Y=e.truthy,h=e.send,T=e.def,re=e.rb_minus,U=e.eqeqeq,B=e.rb_divide,ee=[],W=e.nil,b=e.$$$;return e.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(k,z){var M=F(k,"Math"),q=[M].concat(z),P=e.$r(q);return X(M,"E",Math.E),X(M,"PI",Math.PI),X(M,"DomainError",w.$new(b("StandardError"))),x(M,"$checked",function(I,H){var L,E;if(L=O(arguments,1),E=L,isNaN(E[0])||E.length==2&&isNaN(E[1]))return NaN;var a=Math[I].apply(null,E);return isNaN(a)&&V.$raise(P("DomainError"),'Numerical argument is out of domain - "'+I+'"'),a},-2),x(M,"$float!",function(I){try{return V.$Float(I)}catch(H){if(e.rescue(H,[b("ArgumentError")]))try{return V.$raise(y(I,b("Float")))}finally{e.pop_exception(H)}else throw H}}),x(M,"$integer!",function(I){try{return V.$Integer(I)}catch(H){if(e.rescue(H,[b("ArgumentError")]))try{return V.$raise(y(I,b("Integer")))}finally{e.pop_exception(H)}else throw H}}),M.$module_function(),Y(typeof Math.erf<"u")||e.prop(Math,"erf",function(p){var I=.254829592,H=-.284496736,L=1.421413741,E=-1.453152027,a=1.061405429,d=.3275911,A=1;p<0&&(A=-1),p=Math.abs(p);var g=1/(1+d*p),_=1-((((a*g+E)*g+L)*g+H)*g+I)*g*Math.exp(-p*p);return A*_}),Y(typeof Math.erfc<"u")||e.prop(Math,"erfc",function(p){var I=Math.abs(p),H=1/(.5*I+1),L=H*.17087277+-.82215223,E=H*L+1.48851587,a=H*E+-1.13520398,d=H*a+.27886807,A=H*d+-.18628806,g=H*A+.09678418,_=H*g+.37409196,f=H*_+1.00002368,G=H*f,C=-I*I-1.26551223+G,l=H*Math.exp(C);return p<0?2-l:l}),h(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function p(I){var H=p.$$s==null?this:p.$$s;return I==null&&(I=W),h(H,"define_method",[I],function(E){return E==null&&(E=W),b("Math").$checked(I,b("Math")["$float!"](E))})},{$$s:M}),T(M,"$atan2",function(I,H){return b("Math").$checked("atan2",b("Math")["$float!"](I),b("Math")["$float!"](H))}),T(M,"$hypot",function(I,H){return b("Math").$checked("hypot",b("Math")["$float!"](I),b("Math")["$float!"](H))}),T(M,"$frexp",function(I){if(I=P("Math")["$float!"](I),isNaN(I))return[NaN,0];var H=Math.floor(Math.log(Math.abs(I))/Math.log(2))+1,L=I/Math.pow(2,H);return[L,H]}),T(M,"$gamma",function(I){I=P("Math")["$float!"](I);var H,L,E,a,d,A,g,_,f,G=4.7421875,C=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(I))return NaN;if(I===0&&1/I<0)return-1/0;if((I===-1||I===-1/0)&&V.$raise(P("DomainError"),'Numerical argument is out of domain - "gamma"'),P("Integer")["$==="](I)){if(I<=0)return isFinite(I)?1/0:NaN;if(I>171)return 1/0;for(a=I-2,d=I-1;a>1;)d*=a,a--;return d==0&&(d=1),d}if(I<.5)return Math.PI/(Math.sin(Math.PI*I)*b("Math").$gamma(re(1,I)));if(I>=171.35)return 1/0;if(I>85)return A=I*I,g=A*I,_=g*I,f=_*I,Math.sqrt(2*Math.PI/I)*Math.pow(I/Math.E,I)*(1+1/(12*I)+1/(288*A)-139/(51840*g)-571/(2488320*_)+163879/(209018880*f)+5246819/(75246796800*f*I));for(I-=1,E=C[0],H=1;H<C.length;++H)E+=C[H]/(I+H);return L=I+G+.5,Math.sqrt(2*Math.PI)*Math.pow(L,I+.5)*Math.exp(-L)*E}),T(M,"$ldexp",function(I,H){return I=P("Math")["$float!"](I),H=P("Math")["$integer!"](H),isNaN(H)&&V.$raise(b("RangeError"),"float NaN out of range of integer"),I*Math.pow(2,H)}),T(M,"$lgamma",function(I){return I==-1?[1/0,1]:[Math.log(Math.abs(b("Math").$gamma(I))),b("Math").$gamma(I)<0?-1:1]}),T(M,"$log",function(I,H){return U(b("String"),I)&&V.$raise(y(I,b("Float"))),Y(H==null)?b("Math").$checked("log",b("Math")["$float!"](I)):(U(b("String"),H)&&V.$raise(y(H,b("Float"))),B(b("Math").$checked("log",b("Math")["$float!"](I)),b("Math").$checked("log",b("Math")["$float!"](H))))},-2),T(M,"$log10",function(I){return U(b("String"),I)&&V.$raise(y(I,b("Float"))),b("Math").$checked("log10",b("Math")["$float!"](I))}),T(M,"$log2",function(I){return U(b("String"),I)&&V.$raise(y(I,b("Float"))),b("Math").$checked("log2",b("Math")["$float!"](I))}),T(M,"$tan",function(I){return I=b("Math")["$float!"](I),Y(I["$infinite?"]())?b(b("Float"),"NAN"):b("Math").$checked("tan",b("Math")["$float!"](I))})}("::",ee)};Opal.modules["corelib/complex/base"]=function(e){var y=e.module,F=e.truthy,X=e.def,w=e.klass,O=[],V=e.nil;return e.add_stubs("new,from_string"),function(x,Y){var h=y(x,"Kernel"),T=[h].concat(Y),re=e.$r(T);return X(h,"$Complex",function(B,ee){return ee==null&&(ee=V),F(ee)?re("Complex").$new(B,ee):re("Complex").$new(B,0)},-2)}("::",O),function(x,Y,h){var T=w(x,Y,"String"),re=[T].concat(h),U=e.$r(re);return X(T,"$to_c",function(){var ee=this;return U("Complex").$from_string(ee)})}("::",null,O)};Opal.modules["corelib/complex"]=function(e){var y=e.klass,F=e.truthy,X=e.eqeqeq,w=e.Kernel,O=e.defs,V=e.rb_times,x=e.def,Y=e.rb_plus,h=e.rb_minus,T=e.rb_divide,re=e.eqeq,U=e.to_ary,B=e.rb_gt,ee=e.neqeq,W=e.return_val,b=e.const_set,k=e.alias,z=e.top,M=[],q=e.nil,P=e.$$$;return e.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),z.$require("corelib/numeric"),z.$require("corelib/complex/base"),function(p,I,H){var L=y(p,I,"Complex"),E=[L].concat(H),a=e.$r(E),d=L.$$prototype;return d.real=d.imag=q,O(L,"$rect",function(g,_){var f=this;return _==null&&(_=0),X(P("Numeric"),g)&&F(g["$real?"]())&&X(P("Numeric"),_)&&F(_["$real?"]())||w.$raise(P("TypeError"),"not a real"),f.$new(g,_)},-2),O(L,"$polar",function(g,_){var f=this;return _==null&&(_=0),X(P("Numeric"),g)&&F(g["$real?"]())&&X(P("Numeric"),_)&&F(_["$real?"]())||w.$raise(P("TypeError"),"not a real"),f.$new(V(g,P("Math").$cos(_)),V(g,P("Math").$sin(_)))},-2),L.$attr_reader("real","imag"),x(L,"$initialize",function(g,_){var f=this;return _==null&&(_=0),f.real=g,f.imag=_,f.$freeze()},-2),x(L,"$coerce",function(g){var _=this;return X(P("Complex"),g)?[g,_]:X(P("Numeric"),g)&&F(g["$real?"]())?[P("Complex").$new(g,0),_]:w.$raise(P("TypeError"),""+g.$class()+" can't be coerced into Complex")}),x(L,"$==",function(g){var _=this,f=q;return X(P("Complex"),g)?F(f=_.real["$=="](g.$real()))?_.imag["$=="](g.$imag()):f:X(P("Numeric"),g)&&F(g["$real?"]())?F(f=_.real["$=="](g))?_.imag["$=="](0):f:g["$=="](_)}),x(L,"$-@",function(){var g=this;return w.$Complex(g.real["$-@"](),g.imag["$-@"]())}),x(L,"$+",function(g){var _=this;return X(P("Complex"),g)?w.$Complex(Y(_.real,g.$real()),Y(_.imag,g.$imag())):X(P("Numeric"),g)&&F(g["$real?"]())?w.$Complex(Y(_.real,g),_.imag):_.$__coerced__("+",g)}),x(L,"$-",function(g){var _=this;return X(P("Complex"),g)?w.$Complex(h(_.real,g.$real()),h(_.imag,g.$imag())):X(P("Numeric"),g)&&F(g["$real?"]())?w.$Complex(h(_.real,g),_.imag):_.$__coerced__("-",g)}),x(L,"$*",function(g){var _=this;return X(P("Complex"),g)?w.$Complex(h(V(_.real,g.$real()),V(_.imag,g.$imag())),Y(V(_.real,g.$imag()),V(_.imag,g.$real()))):X(P("Numeric"),g)&&F(g["$real?"]())?w.$Complex(V(_.real,g),V(_.imag,g)):_.$__coerced__("*",g)}),x(L,"$/",function(g){var _=this;return X(P("Complex"),g)?X(P("Number"),_.real)&&F(_.real["$nan?"]())||X(P("Number"),_.imag)&&F(_.imag["$nan?"]())||X(P("Number"),g.$real())&&F(g.$real()["$nan?"]())||X(P("Number"),g.$imag())&&F(g.$imag()["$nan?"]())?P("Complex").$new(P(P("Float"),"NAN"),P(P("Float"),"NAN")):T(V(_,g.$conj()),g.$abs2()):X(P("Numeric"),g)&&F(g["$real?"]())?w.$Complex(_.real.$quo(g),_.imag.$quo(g)):_.$__coerced__("/",g)}),x(L,"$**",function(g){var _,f,G=this,C=q,l=q,o=q,s=q,n=q,t=q,r=q,i=q,$=q,u=q,v=q;if(re(g,0))return P("Complex").$new(1,0);if(X(P("Complex"),g))return f=G.$polar(),_=U(f),C=_[0]==null?q:_[0],l=_[1]==null?q:_[1],o=g.$real(),s=g.$imag(),n=P("Math").$exp(h(V(o,P("Math").$log(C)),V(s,l))),t=Y(V(l,o),V(s,P("Math").$log(C))),P("Complex").$polar(n,t);if(X(P("Integer"),g))if(F(B(g,0))){for(r=G,i=r,$=h(g,1);ee($,0);){for(f=$.$divmod(2),_=U(f),u=_[0]==null?q:_[0],v=_[1]==null?q:_[1];re(v,0);)r=w.$Complex(h(V(r.$real(),r.$real()),V(r.$imag(),r.$imag())),V(V(2,r.$real()),r.$imag())),$=u,f=$.$divmod(2),_=U(f),u=_[0]==null?q:_[0],v=_[1]==null?q:_[1];i=V(i,r),$=h($,1)}return i}else return T(P("Rational").$new(1,1),G)["$**"](g["$-@"]());else return X(P("Float"),g)||X(P("Rational"),g)?(f=G.$polar(),_=U(f),C=_[0]==null?q:_[0],l=_[1]==null?q:_[1],P("Complex").$polar(C["$**"](g),V(l,g))):G.$__coerced__("**",g)}),x(L,"$abs",function(){var g=this;return P("Math").$hypot(g.real,g.imag)}),x(L,"$abs2",function(){var g=this;return Y(V(g.real,g.real),V(g.imag,g.imag))}),x(L,"$angle",function(){var g=this;return P("Math").$atan2(g.imag,g.real)}),x(L,"$conj",function(){var g=this;return w.$Complex(g.real,g.imag["$-@"]())}),x(L,"$denominator",function(){var g=this;return g.real.$denominator().$lcm(g.imag.$denominator())}),x(L,"$eql?",function(g){var _=this,f=q,G=q;return F(f=F(G=a("Complex")["$==="](g))?_.real.$class()["$=="](_.imag.$class()):G)?_["$=="](g):f}),x(L,"$fdiv",function(g){var _=this;return X(P("Numeric"),g)||w.$raise(P("TypeError"),""+g.$class()+" can't be coerced into Complex"),T(_,g)}),x(L,"$finite?",function(){var g=this,_=q;return F(_=g.real["$finite?"]())?g.imag["$finite?"]():_}),x(L,"$hash",function(){var g=this;return[P("Complex"),g.real,g.imag].$hash()}),x(L,"$infinite?",function(){var g=this,_=q;return F(_=g.real["$infinite?"]())?_:g.imag["$infinite?"]()}),x(L,"$inspect",function(){var g=this;return"("+g+")"}),x(L,"$numerator",function(){var g=this,_=q;return _=g.$denominator(),w.$Complex(V(g.real.$numerator(),T(_,g.real.$denominator())),V(g.imag.$numerator(),T(_,g.imag.$denominator())))}),x(L,"$polar",function(){var g=this;return[g.$abs(),g.$arg()]}),x(L,"$rationalize",function(g){var _=this;return arguments.length>1&&w.$raise(P("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(_.imag,0)&&w.$raise(P("RangeError"),"can't convert "+_+" into Rational"),_.$real().$rationalize(g)},-1),x(L,"$real?",W(!1)),x(L,"$rect",function(){var g=this;return[g.real,g.imag]}),x(L,"$to_f",function(){var g=this;return re(g.imag,0)||w.$raise(P("RangeError"),"can't convert "+g+" into Float"),g.real.$to_f()}),x(L,"$to_i",function(){var g=this;return re(g.imag,0)||w.$raise(P("RangeError"),"can't convert "+g+" into Integer"),g.real.$to_i()}),x(L,"$to_r",function(){var g=this;return re(g.imag,0)||w.$raise(P("RangeError"),"can't convert "+g+" into Rational"),g.real.$to_r()}),x(L,"$to_s",function(){var g=this,_=q;return _=g.real.$inspect(),_=Y(_,X(P("Number"),g.imag)&&F(g.imag["$nan?"]())||F(g.imag["$positive?"]())||F(g.imag["$zero?"]())?"+":"-"),_=Y(_,g.imag.$abs().$inspect()),X(P("Number"),g.imag)&&(F(g.imag["$nan?"]())||F(g.imag["$infinite?"]()))&&(_=Y(_,"*")),Y(_,"i")}),b(E[0],"I",L.$new(0,1)),O(L,"$from_string",function(g){var _=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;g.match(_);var f,G;function C(){return _.test(g)}function l(){var s=g.match(_),n=s[0];return g=g.slice(n.length),n.replace(/_/g,"")}function o(){if(C()){var s=parseFloat(l());if(g[0]==="/")if(g=g.slice(1),C()){var n=parseFloat(l());return w.$Rational(s,n)}else return g="/"+g,s;else return s}else return null}return f=o(),f?(G=o(),G?w.$Complex(f,G):g[0]==="i"?w.$Complex(0,f):w.$Complex(f,0)):g[0]==="i"?w.$Complex(0,1):g[0]==="-"&&g[1]==="i"?w.$Complex(0,-1):g[0]==="+"&&g[1]==="i"?w.$Complex(0,1):w.$Complex(0,0)}),function(A,g){return k(A,"rectangular","rect")}(e.get_singleton_class(L)),k(L,"arg","angle"),k(L,"conjugate","conj"),k(L,"divide","/"),k(L,"imaginary","imag"),k(L,"magnitude","abs"),k(L,"phase","arg"),k(L,"quo","/"),k(L,"rectangular","rect"),e.udef(L,"$negative?"),e.udef(L,"$positive?"),e.udef(L,"$step"),q}("::",P("Numeric"),M)};Opal.modules["corelib/rational/base"]=function(e){var y=e.module,F=e.def,X=e.klass;e.nil;var w=e.$$$;return e.add_stubs("convert,from_string"),function(O){var V=y(O,"Kernel");return F(V,"$Rational",function(Y,h){return h==null&&(h=1),w("Rational").$convert(Y,h)},-2)}("::"),function(O,V){var x=X(O,V,"String");return F(x,"$to_r",function(){var h=this;return w("Rational").$from_string(h)})}("::",null)};Opal.modules["corelib/rational"]=function(e){var y=e.klass,F=e.eqeq,X=e.Kernel,w=e.truthy,O=e.rb_lt,V=e.rb_divide,x=e.defs,Y=e.eqeqeq,h=e.not,T=e.Opal,re=e.def,U=e.return_ivar,B=e.rb_minus,ee=e.rb_times,W=e.rb_plus,b=e.rb_gt,k=e.rb_le,z=e.return_self,M=e.alias,q=e.top,P=e.nil,p=e.$$$;return e.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),q.$require("corelib/numeric"),q.$require("corelib/rational/base"),function(I,H){var L=y(I,H,"Rational"),E=L.$$prototype;return E.num=E.den=P,x(L,"$reduce",function(d,A){var g=this,_=P;if(d=d.$to_i(),A=A.$to_i(),F(A,0))X.$raise(p("ZeroDivisionError"),"divided by 0");else if(w(O(A,0)))d=d["$-@"](),A=A["$-@"]();else if(F(A,1))return g.$new(d,A);return _=d.$gcd(A),g.$new(V(d,_),V(A,_))}),x(L,"$convert",function(d,A){var g=this;return(w(d["$nil?"]())||w(A["$nil?"]()))&&X.$raise(p("TypeError"),"cannot convert nil into Rational"),Y(p("Integer"),d)&&Y(p("Integer"),A)?g.$reduce(d,A):((Y(p("Float"),d)||Y(p("String"),d)||Y(p("Complex"),d))&&(d=d.$to_r()),(Y(p("Float"),A)||Y(p("String"),A)||Y(p("Complex"),A))&&(A=A.$to_r()),w(A["$equal?"](1))&&h(p("Integer")["$==="](d))?T["$coerce_to!"](d,p("Rational"),"to_r"):Y(p("Numeric"),d)&&Y(p("Numeric"),A)?V(d,A):g.$reduce(d,A))}),re(L,"$initialize",function(d,A){var g=this;return g.num=d,g.den=A,g.$freeze()}),re(L,"$numerator",U("num")),re(L,"$denominator",U("den")),re(L,"$coerce",function(d){var A=this,g=P;return Y(p("Rational"),g=d)?[d,A]:Y(p("Integer"),g)?[d.$to_r(),A]:Y(p("Float"),g)?[d,A.$to_f()]:P}),re(L,"$==",function(d){var A=this,g=P,_=P;return Y(p("Rational"),g=d)?w(_=A.num["$=="](d.$numerator()))?A.den["$=="](d.$denominator()):_:Y(p("Integer"),g)?w(_=A.num["$=="](d))?A.den["$=="](1):_:Y(p("Float"),g)?A.$to_f()["$=="](d):d["$=="](A)}),re(L,"$<=>",function(d){var A=this,g=P;return Y(p("Rational"),g=d)?B(ee(A.num,d.$denominator()),ee(A.den,d.$numerator()))["$<=>"](0):Y(p("Integer"),g)?B(A.num,ee(A.den,d))["$<=>"](0):Y(p("Float"),g)?A.$to_f()["$<=>"](d):A.$__coerced__("<=>",d)}),re(L,"$+",function(d){var A=this,g=P,_=P,f=P;return Y(p("Rational"),g=d)?(_=W(ee(A.num,d.$denominator()),ee(A.den,d.$numerator())),f=ee(A.den,d.$denominator()),X.$Rational(_,f)):Y(p("Integer"),g)?X.$Rational(W(A.num,ee(d,A.den)),A.den):Y(p("Float"),g)?W(A.$to_f(),d):A.$__coerced__("+",d)}),re(L,"$-",function(d){var A=this,g=P,_=P,f=P;return Y(p("Rational"),g=d)?(_=B(ee(A.num,d.$denominator()),ee(A.den,d.$numerator())),f=ee(A.den,d.$denominator()),X.$Rational(_,f)):Y(p("Integer"),g)?X.$Rational(B(A.num,ee(d,A.den)),A.den):Y(p("Float"),g)?B(A.$to_f(),d):A.$__coerced__("-",d)}),re(L,"$*",function(d){var A=this,g=P,_=P,f=P;return Y(p("Rational"),g=d)?(_=ee(A.num,d.$numerator()),f=ee(A.den,d.$denominator()),X.$Rational(_,f)):Y(p("Integer"),g)?X.$Rational(ee(A.num,d),A.den):Y(p("Float"),g)?ee(A.$to_f(),d):A.$__coerced__("*",d)}),re(L,"$/",function(d){var A=this,g=P,_=P,f=P;return Y(p("Rational"),g=d)?(_=ee(A.num,d.$denominator()),f=ee(A.den,d.$numerator()),X.$Rational(_,f)):Y(p("Integer"),g)?F(d,0)?V(A.$to_f(),0):X.$Rational(A.num,ee(A.den,d)):Y(p("Float"),g)?V(A.$to_f(),d):A.$__coerced__("/",d)}),re(L,"$**",function(d){var A=this,g=P;return Y(p("Integer"),g=d)?F(A,0)&&w(O(d,0))?p(p("Float"),"INFINITY"):w(b(d,0))?X.$Rational(A.num["$**"](d),A.den["$**"](d)):w(O(d,0))?X.$Rational(A.den["$**"](d["$-@"]()),A.num["$**"](d["$-@"]())):X.$Rational(1,1):Y(p("Float"),g)?A.$to_f()["$**"](d):Y(p("Rational"),g)?F(d,0)?X.$Rational(1,1):F(d.$denominator(),1)?w(O(d,0))?X.$Rational(A.den["$**"](d.$numerator().$abs()),A.num["$**"](d.$numerator().$abs())):X.$Rational(A.num["$**"](d.$numerator()),A.den["$**"](d.$numerator())):F(A,0)&&w(O(d,0))?X.$raise(p("ZeroDivisionError"),"divided by 0"):A.$to_f()["$**"](d):A.$__coerced__("**",d)}),re(L,"$abs",function(){var d=this;return X.$Rational(d.num.$abs(),d.den.$abs())}),re(L,"$ceil",function(d){var A=this;return d==null&&(d=0),F(d,0)?V(A.num["$-@"](),A.den)["$-@"]().$ceil():A.$with_precision("ceil",d)},-1),re(L,"$floor",function(d){var A=this;return d==null&&(d=0),F(d,0)?V(A.num["$-@"](),A.den)["$-@"]().$floor():A.$with_precision("floor",d)},-1),re(L,"$hash",function(){var d=this;return[p("Rational"),d.num,d.den].$hash()}),re(L,"$inspect",function(){var d=this;return"("+d+")"}),re(L,"$rationalize",function(d){var A=this;if(arguments.length>1&&X.$raise(p("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d==null)return A;for(var g=d.$abs(),_=B(A,g),f=W(A,g),G=0,C=1,l=1,o=0,s,n,t,r,i;t=_.$ceil(),!k(t,f);)r=t-1,s=r*C+G,n=r*o+l,i=V(1,B(f,r)),f=V(1,B(_,r)),_=i,G=C,l=o,C=s,o=n;return X.$Rational(t*C+G,t*o+l)},-1),re(L,"$round",function(d){var A=this,g=P,_=P,f=P;return d==null&&(d=0),F(d,0)?F(A.num,0)?0:F(A.den,1)?A.num:(g=W(ee(A.num.$abs(),2),A.den),_=ee(A.den,2),f=V(g,_).$truncate(),w(O(A.num,0))?f["$-@"]():f):A.$with_precision("round",d)},-1),re(L,"$to_f",function(){var d=this;return V(d.num,d.den)}),re(L,"$to_i",function(){var d=this;return d.$truncate()}),re(L,"$to_r",z),re(L,"$to_s",function(){var d=this;return""+d.num+"/"+d.den}),re(L,"$truncate",function(d){var A=this;return d==null&&(d=0),F(d,0)?w(O(A.num,0))?A.$ceil():A.$floor():A.$with_precision("truncate",d)},-1),re(L,"$with_precision",function(d,A){var g=this,_=P,f=P;return Y(p("Integer"),A)||X.$raise(p("TypeError"),"not an Integer"),_=10["$**"](A),f=ee(g,_),w(O(A,1))?V(f.$send(d),_).$to_i():X.$Rational(f.$send(d),_)}),x(L,"$from_string",function(d){var A=d.trimLeft(),g=/^[+-]?[\d_]+(\.[\d_]+)?/;A.match(g);var _,f;function G(){return g.test(A)}function C(){var l=A.match(g),o=l[0];return A=A.slice(o.length),o.replace(/_/g,"")}return G()?(_=parseFloat(C()),A[0]==="/"?(A=A.slice(1),G()?(f=parseFloat(C()),X.$Rational(_,f)):X.$Rational(_,1)):X.$Rational(_,1)):X.$Rational(0,1)}),M(L,"divide","/"),M(L,"quo","/")}("::",p("Numeric"))};Opal.modules["corelib/time"]=function(e){var y=e.slice,F=e.deny_frozen_access,X=e.klass,w=e.Kernel,O=e.Opal,V=e.defs,x=e.eqeqeq,Y=e.def,h=e.truthy,T=e.rb_gt,re=e.rb_lt,U=e.send,B=e.rb_plus,ee=e.rb_divide,W=e.rb_minus,b=e.range,k=e.neqeq,z=e.rb_le,M=e.eqeq,q=e.alias,P=e.top,p=[],I=e.nil,H=e.$$$;return e.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),P.$require("corelib/comparable"),function(L,E,a){var d=X(L,E,"Time"),A=[d].concat(a),g=e.$r(A);d.$include(H("Comparable"));var _=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],C=["January","February","March","April","May","June","July","August","September","October","November","December"];V(d,"$at",function(s,n){var t;return H("Time")["$==="](s)?(n!==void 0&&w.$raise(H("TypeError"),"can't convert Time into an exact number"),t=new Date(s.getTime()),t.timezone=s.timezone,t):(s.$$is_number||(s=O["$coerce_to!"](s,H("Integer"),"to_int")),n===void 0?new Date(s*1e3):(n.$$is_number||(n=O["$coerce_to!"](n,H("Integer"),"to_int")),new Date(s*1e3+n/1e3)))},-2);function l(o,s,n,t,r,i){if(o.$$is_string?o=parseInt(o,10):o=O["$coerce_to!"](o,H("Integer"),"to_int"),s===I)s=1;else if(!s.$$is_number)if(s["$respond_to?"]("to_str"))switch(s=s.$to_str(),s.toLowerCase()){case"jan":s=1;break;case"feb":s=2;break;case"mar":s=3;break;case"apr":s=4;break;case"may":s=5;break;case"jun":s=6;break;case"jul":s=7;break;case"aug":s=8;break;case"sep":s=9;break;case"oct":s=10;break;case"nov":s=11;break;case"dec":s=12;break;default:s=s.$to_i()}else s=O["$coerce_to!"](s,H("Integer"),"to_int");return(s<1||s>12)&&w.$raise(H("ArgumentError"),"month out of range: "+s),s=s-1,n===I?n=1:n.$$is_string?n=parseInt(n,10):n=O["$coerce_to!"](n,H("Integer"),"to_int"),(n<1||n>31)&&w.$raise(H("ArgumentError"),"day out of range: "+n),t===I?t=0:t.$$is_string?t=parseInt(t,10):t=O["$coerce_to!"](t,H("Integer"),"to_int"),(t<0||t>24)&&w.$raise(H("ArgumentError"),"hour out of range: "+t),r===I?r=0:r.$$is_string?r=parseInt(r,10):r=O["$coerce_to!"](r,H("Integer"),"to_int"),(r<0||r>59)&&w.$raise(H("ArgumentError"),"min out of range: "+r),i===I?i=0:i.$$is_number||(i.$$is_string?i=parseInt(i,10):i=O["$coerce_to!"](i,H("Integer"),"to_int")),(i<0||i>60)&&w.$raise(H("ArgumentError"),"sec out of range: "+i),[o,s,n,t,r,i]}return V(d,"$new",function(s,n,t,r,i,$,u){var v=this;n==null&&(n=I),t==null&&(t=I),r==null&&(r=I),i==null&&(i=I),$==null&&($=I),u==null&&(u=I);var N,D,R,J;return s===void 0?new Date:(N=l(s,n,t,r,i,$),s=N[0],n=N[1],t=N[2],r=N[3],i=N[4],$=N[5],u===I?(D=new Date(s,n,t,r,i,0,$*1e3),s<100&&D.setFullYear(s),D):(R=v.$_parse_offset(u),J=new Date(Date.UTC(s,n,t,r,i,0,$*1e3)),s<100&&J.setUTCFullYear(s),D=new Date(J.getTime()-R*36e5),D.timezone=R,D))},-1),V(d,"$_parse_offset",function(s){var n;if(s.$$is_string)if(s=="UTC")n=0;else if(/^[+-]\d\d:[0-5]\d$/.test(s)){var t,r,i;t=s[0],r=+(s[1]+s[2]),i=+(s[4]+s[5]),n=(t=="-"?-1:1)*(r+i/60)}else w.$raise(H("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+s);else s.$$is_number?n=s/3600:w.$raise(H("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return n}),V(d,"$local",function(s,n,t,r,i,$,u,v,N,D){n==null&&(n=I),t==null&&(t=I),r==null&&(r=I),i==null&&(i=I),$==null&&($=I),u==null&&(u=I),v==null&&(v=I),N==null&&(N=I),D==null&&(D=I);var R,J;return arguments.length===10&&(R=y(arguments),s=R[5],n=R[4],t=R[3],r=R[2],i=R[1],$=R[0]),R=l(s,n,t,r,i,$),s=R[0],n=R[1],t=R[2],r=R[3],i=R[4],$=R[5],J=new Date(s,n,t,r,i,0,$*1e3),s<100&&J.setFullYear(s),J},-2),V(d,"$gm",function(s,n,t,r,i,$,u,v,N,D){n==null&&(n=I),t==null&&(t=I),r==null&&(r=I),i==null&&(i=I),$==null&&($=I),u==null&&(u=I),v==null&&(v=I),N==null&&(N=I),D==null&&(D=I);var R,J;return arguments.length===10&&(R=y(arguments),s=R[5],n=R[4],t=R[3],r=R[2],i=R[1],$=R[0]),R=l(s,n,t,r,i,$),s=R[0],n=R[1],t=R[2],r=R[3],i=R[4],$=R[5],J=new Date(Date.UTC(s,n,t,r,i,0,$*1e3)),s<100&&J.setUTCFullYear(s),J.timezone=0,J},-2),V(d,"$now",function(){var s=this;return s.$new()}),Y(d,"$+",function(s){var n=this;x(H("Time"),s)&&w.$raise(H("TypeError"),"time + time?"),s.$$is_number||(s=O["$coerce_to!"](s,H("Integer"),"to_int"));var t=new Date(n.getTime()+s*1e3);return t.timezone=n.timezone,t}),Y(d,"$-",function(s){var n=this;if(x(H("Time"),s))return(n.getTime()-s.getTime())/1e3;s.$$is_number||(s=O["$coerce_to!"](s,H("Integer"),"to_int"));var t=new Date(n.getTime()-s*1e3);return t.timezone=n.timezone,t}),Y(d,"$<=>",function(s){var n=this,t=I;return x(H("Time"),s)?n.$to_f()["$<=>"](s.$to_f()):(t=s["$<=>"](n),h(t["$nil?"]())?I:h(T(t,0))?-1:h(re(t,0))?1:0)}),Y(d,"$==",function(s){var n=this,t=I;return h(t=H("Time")["$==="](s))?n.$to_f()===s.$to_f():t}),Y(d,"$asctime",function(){var s=this;return s.$strftime("%a %b %e %H:%M:%S %Y")}),U([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function o(s,n,t,r){var i=o.$$s==null?this:o.$$s;return s==null&&(s=I),n==null&&(n=I),t==null&&(t=I),r==null&&(r=0),U(i,"define_method",[s],function $(){var u=$.$$s==null?this:$.$$s;return r+(u.timezone!=null?new Date(u.getTime()+u.timezone*36e5)[t]():u[n]())},{$$s:i})},{$$arity:-4,$$s:d}),Y(d,"$yday",function(){var s=this,n=I,t=I,r=I;return n=g("Time").$new(s.$year()).$to_i(),t=g("Time").$new(s.$year(),s.$month(),s.$day()).$to_i(),r=86400,B(ee(W(t,n),r).$round(),1)}),Y(d,"$isdst",function(){var s=this,n=new Date(s.getFullYear(),0,1),t=new Date(s.getFullYear(),6,1);return s.getTimezoneOffset()<Math.max(n.getTimezoneOffset(),t.getTimezoneOffset())}),Y(d,"$dup",function(){var s=this,n=I;return n=new Date(s.getTime()),n.$copy_instance_variables(s),n.$initialize_dup(s),n}),Y(d,"$eql?",function(s){var n=this,t=I;return h(t=s["$is_a?"](H("Time")))?n["$<=>"](s)["$zero?"]():t}),U([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function o(s,n){var t=o.$$s==null?this:o.$$s;return s==null&&(s=I),n==null&&(n=I),U(t,"define_method",[s],function r(){var i=r.$$s==null?this:r.$$s;return i.$wday()===n},{$$s:t})},{$$s:d}),Y(d,"$hash",function(){var s=this;return[H("Time"),s.getTime()].$hash()}),Y(d,"$inspect",function(){var s=this;return h(s["$utc?"]())?s.$strftime("%Y-%m-%d %H:%M:%S UTC"):s.$strftime("%Y-%m-%d %H:%M:%S %z")}),Y(d,"$succ",function(){var s=this,n=new Date(s.getTime()+1e3);return n.timezone=s.timezone,n}),Y(d,"$usec",function(){var s=this;return s.getMilliseconds()*1e3}),Y(d,"$zone",function(){var s=this;if(s.timezone===0)return"UTC";if(s.timezone!=null)return I;var n=s.toString(),t;return n.indexOf("(")==-1?t=n.match(/[A-Z]{3,4}/)[0]:t=n.match(/\((.+)\)(?:\s|$)/)[1],t=="GMT"&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:t}),Y(d,"$getgm",function(){var s=this,n=new Date(s.getTime());return n.timezone=0,n}),Y(d,"$gmtime",function(){var s=this;return s.timezone!==0&&(F(s),s.timezone=0),s}),Y(d,"$gmt?",function(){var s=this;return s.timezone===0}),Y(d,"$gmt_offset",function(){var s=this;return s.timezone!=null?s.timezone*60:-s.getTimezoneOffset()*60}),Y(d,"$strftime",function(s){var n=this;return s.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,r,i,$,u){var v="",N,D,R,J=r.indexOf("0")!==-1,te=r.indexOf("-")===-1,ae=r.indexOf("_")!==-1,le=r.indexOf("^")!==-1,_e=r.indexOf("#")!==-1,de=(r.match(":")||[]).length;switch(i=parseInt(i,10),J&&ae&&(r.indexOf("0")<r.indexOf("_")?J=!1:ae=!1),u){case"Y":v+=n.$year();break;case"C":J=!ae,v+=Math.round(n.$year()/100);break;case"y":J=!ae,v+=n.$year()%100;break;case"m":J=!ae,v+=n.$mon();break;case"B":v+=C[n.$mon()-1];break;case"b":case"h":ae=!J,v+=G[n.$mon()-1];break;case"d":J=!ae,v+=n.$day();break;case"e":ae=!J,v+=n.$day();break;case"j":J=!ae,i=isNaN(i)?3:i,v+=n.$yday();break;case"H":J=!ae,v+=n.$hour();break;case"k":ae=!J,v+=n.$hour();break;case"I":J=!ae,v+=n.$hour()%12||12;break;case"l":ae=!J,v+=n.$hour()%12||12;break;case"P":v+=n.$hour()>=12?"pm":"am";break;case"p":v+=n.$hour()>=12?"PM":"AM";break;case"M":J=!ae,v+=n.$min();break;case"S":J=!ae,v+=n.$sec();break;case"L":J=!ae,i=isNaN(i)?3:i,v+=n.getMilliseconds();break;case"N":i=isNaN(i)?9:i,v+=n.getMilliseconds().toString().$rjust(3,"0"),v=v.$ljust(i,"0");break;case"z":var ge=n.timezone==null?n.getTimezoneOffset():-n.timezone*60,ve=Math.floor(Math.abs(ge)/60),me=Math.abs(ge)%60;v+=ge<0?"+":"-",v+=ve<10?"0":"",v+=ve,de>0&&(v+=":"),v+=me<10?"0":"",v+=me,de>1&&(v+=":00");break;case"Z":v+=n.$zone();break;case"A":v+=_[n.$wday()];break;case"a":v+=f[n.$wday()];break;case"u":v+=n.$wday()+1;break;case"w":v+=n.$wday();break;case"V":v+=n.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":v+=n.$cweek_cyear()["$[]"](1);break;case"g":v+=n.$cweek_cyear()["$[]"](1)["$[]"](b(-2,-1,!1));break;case"s":v+=n.$to_i();break;case"n":v+=`
`;break;case"t":v+="	";break;case"%":v+="%";break;case"c":v+=n.$strftime("%a %b %e %T %Y");break;case"D":case"x":v+=n.$strftime("%m/%d/%y");break;case"F":v+=n.$strftime("%Y-%m-%d");break;case"v":v+=n.$strftime("%e-%^b-%4Y");break;case"r":v+=n.$strftime("%I:%M:%S %p");break;case"R":v+=n.$strftime("%H:%M");break;case"T":case"X":v+=n.$strftime("%H:%M:%S");break;case"J":if(N=n.$to_date().$jd(),N<2405160){v+=n.$strftime("%Y-%m-%d");break}else N<2419614?(D="M",R=1867):N<2424875?(D="T",R=1911):N<2447535?(D="S",R=1925):N<2458605?(D="H",R=1988):(D="R",R=2018);v+=n.$format("%c%02d",D,W(n.$year(),R)),v+=n.$strftime("-%m-%d");break;default:return t}return le&&(v=v.toUpperCase()),_e&&(v=v.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),te&&(J||ae)&&(v=v.$rjust(isNaN(i)?2:i,ae?" ":"0")),v})}),Y(d,"$to_a",function(){var s=this;return[s.$sec(),s.$min(),s.$hour(),s.$day(),s.$month(),s.$year(),s.$wday(),s.$yday(),s.$isdst(),s.$zone()]}),Y(d,"$to_f",function(){var s=this;return s.getTime()/1e3}),Y(d,"$to_i",function(){var s=this;return parseInt(s.getTime()/1e3,10)}),Y(d,"$cweek_cyear",function(){var s=this,n=I,t=I,r=I,i=I,$=I,u=I,v=I;return n=H("Time").$new(s.$year(),1,1),t=n.$wday(),r=s.$year(),h(z(t,4))&&k(t,0)?i=W(t,1):(i=W(W(t,7),1),M(i,-8)&&(i=-1)),$=ee(B(s.$yday(),i),7).$ceil(),h(z($,0))?H("Time").$new(W(s.$year(),1),12,31).$cweek_cyear():(M($,53)&&(u=H("Time").$new(s.$year(),12,31),v=u.$wday(),h(z(v,3))&&k(v,0)&&($=1,r=B(r,1))),[$,r])}),function(o,s){return q(o,"mktime","local"),q(o,"utc","gm")}(e.get_singleton_class(d)),q(d,"ctime","asctime"),q(d,"dst?","isdst"),q(d,"getutc","getgm"),q(d,"gmtoff","gmt_offset"),q(d,"mday","day"),q(d,"month","mon"),q(d,"to_s","inspect"),q(d,"tv_sec","to_i"),q(d,"tv_usec","usec"),q(d,"utc","gmtime"),q(d,"utc?","gmt?"),q(d,"utc_offset","gmt_offset")}("::",Date,p)};Opal.modules["corelib/struct"]=function(e){var y=e.klass,F=e.slice,X=e.extract_kwargs,w=e.ensure_kwargs,O=e.hash_get,V=e.truthy,x=e.neqeq,Y=e.eqeq,h=e.Opal,T=e.send,re=e.Class,U=e.to_a,B=e.def,ee=e.defs,W=e.Kernel,b=e.rb_gt,k=e.rb_minus,z=e.eqeqeq,M=e.rb_lt,q=e.rb_ge,P=e.rb_plus,p=e.alias,I=e.top,H=[],L=e.nil,E=e.$$$;return e.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),I.$require("corelib/enumerable"),function(a,d,A){var g=y(a,d,"Struct"),_=[g].concat(A),f=e.$r(_);g.$include(E("Enumerable")),ee(g,"$new",function C(l,o,s){var n=C.$$p||L,t,r,i,$,u=this,v=L;if(C.$$p=null,t=F(arguments,1),r=X(t),r=w(r),i=t,$=O(r,"keyword_init"),$==null&&($=!1),V(l))if(Y(l.$class(),E("String"))&&x(l["$[]"](0).$upcase(),l["$[]"](0)))i.$unshift(l),l=L;else try{l=h["$const_name!"](l)}catch(N){if(e.rescue(N,[E("TypeError"),E("NameError")]))try{i.$unshift(l),l=L}finally{e.pop_exception(N)}else throw N}return T(i,"map",[],function(D){return D==null&&(D=L),h["$coerce_to!"](D,E("String"),"to_str")}),v=T(re,"new",[u],function N(){var D=N.$$s==null?this:N.$$s;return T(i,"each",[],function R(J){var te=R.$$s==null?this:R.$$s;return J==null&&(J=L),te.$define_struct_attribute(J)},{$$s:D}),function(R,J){return B(R,"$new",function(ae){var le,_e,de=this,ge=L;return le=F(arguments),_e=le,ge=de.$allocate(),ge.$$data={},T(ge,"initialize",U(_e)),ge},-1),R.$alias_method("[]","new")}(e.get_singleton_class(D))},{$$s:u}),V(n)&&T(v,"module_eval",[],n.$to_proc()),v.$$keyword_init=$,V(l)&&E("Struct").$const_set(l,v),v},-2),ee(g,"$define_struct_attribute",function(l){var o=this;return Y(o,E("Struct"))&&W.$raise(E("ArgumentError"),"you cannot define attributes to the Struct class"),o.$members()["$<<"](l),T(o,"define_method",[l],function s(){var n=s.$$s==null?this:s.$$s;return n.$$data[l]},{$$s:o}),T(o,"define_method",[""+l+"="],function s(n){var t=s.$$s==null?this:s.$$s;return n==null&&(n=L),t.$$data[l]=n},{$$s:o})}),ee(g,"$members",function(){var l=this,o=L;return l.members==null&&(l.members=L),Y(l,E("Struct"))&&W.$raise(E("ArgumentError"),"the Struct class has no members"),l.members=V(o=l.members)?o:[]}),ee(g,"$inherited",function(l){var o=this,s=L;return o.members==null&&(o.members=L),s=o.members,T(l,"instance_eval",[],function n(){var t=n.$$s==null?this:n.$$s;return t.members=s},{$$s:o})}),B(g,"$initialize",function(l){var o,s,n=this,t=L,r=L,i=L;return o=F(arguments),s=o,V(n.$class().$$keyword_init)?(t=V(r=s.$last())?r:new Map,(V(b(s.$length(),1))||V(s.length===1&&!t.$$is_hash))&&W.$raise(E("ArgumentError"),"wrong number of arguments (given "+s.$length()+", expected 0)"),i=k(t.$keys(),n.$class().$members()),V(i["$any?"]())&&W.$raise(E("ArgumentError"),"unknown keywords: "+i.$join(", ")),T(n.$class().$members(),"each",[],function $(u){var v,N=$.$$s==null?this:$.$$s;return u==null&&(u=L),v=[u,t["$[]"](u)],T(N,"[]=",v),v[v.length-1]},{$$s:n})):(V(b(s.$length(),n.$class().$members().$length()))&&W.$raise(E("ArgumentError"),"struct size differs"),T(n.$class().$members(),"each_with_index",[],function $(u,v){var N,D=$.$$s==null?this:$.$$s;return u==null&&(u=L),v==null&&(v=L),N=[u,s["$[]"](v)],T(D,"[]=",N),N[N.length-1]},{$$s:n}))},-1),B(g,"$initialize_copy",function(l){var o=this;o.$$data={};var s=Object.keys(l.$$data),n,t,r;for(n=0,t=s.length;n<t;n++)r=s[n],o.$$data[r]=l.$$data[r]}),ee(g,"$keyword_init?",function(){var l=this;return l.$$keyword_init}),B(g,"$members",function(){var l=this;return l.$class().$members()}),B(g,"$hash",function(){var l=this;return[l.$class(),l.$to_a()].$hash()}),B(g,"$[]",function(l){var o=this;return z(E("Integer"),l)?(V(M(l,o.$class().$members().$size()["$-@"]()))&&W.$raise(E("IndexError"),"offset "+l+" too small for struct(size:"+o.$class().$members().$size()+")"),V(q(l,o.$class().$members().$size()))&&W.$raise(E("IndexError"),"offset "+l+" too large for struct(size:"+o.$class().$members().$size()+")"),l=o.$class().$members()["$[]"](l)):z(E("String"),l)?o.$$data.hasOwnProperty(l)||W.$raise(E("NameError").$new("no member '"+l+"' in struct",l)):W.$raise(E("TypeError"),"no implicit conversion of "+l.$class()+" into Integer"),l=h["$coerce_to!"](l,E("String"),"to_str"),o.$$data[l]}),B(g,"$[]=",function(l,o){var s=this;return z(E("Integer"),l)?(V(M(l,s.$class().$members().$size()["$-@"]()))&&W.$raise(E("IndexError"),"offset "+l+" too small for struct(size:"+s.$class().$members().$size()+")"),V(q(l,s.$class().$members().$size()))&&W.$raise(E("IndexError"),"offset "+l+" too large for struct(size:"+s.$class().$members().$size()+")"),l=s.$class().$members()["$[]"](l)):z(E("String"),l)?V(s.$class().$members()["$include?"](l.$to_sym()))||W.$raise(E("NameError").$new("no member '"+l+"' in struct",l)):W.$raise(E("TypeError"),"no implicit conversion of "+l.$class()+" into Integer"),l=h["$coerce_to!"](l,E("String"),"to_str"),s.$$data[l]=o}),B(g,"$==",function(l){var o=this;if(!V(l["$instance_of?"](o.$class())))return!1;var s={},n={};function t(r,i){var $,u,v;s[r.$__id__()]=!0,n[i.$__id__()]=!0;for($ in r.$$data)if(u=r.$$data[$],v=i.$$data[$],E("Struct")["$==="](u)){if((!s.hasOwnProperty(u.$__id__())||!n.hasOwnProperty(v.$__id__()))&&!t(u,v))return!1}else if(!u["$=="](v))return!1;return!0}return t(o,l)}),B(g,"$eql?",function(l){var o=this;if(!V(l["$instance_of?"](o.$class())))return!1;var s={},n={};function t(r,i){var $,u,v;s[r.$__id__()]=!0,n[i.$__id__()]=!0;for($ in r.$$data)if(u=r.$$data[$],v=i.$$data[$],E("Struct")["$==="](u)){if((!s.hasOwnProperty(u.$__id__())||!n.hasOwnProperty(v.$__id__()))&&!t(u,v))return!1}else if(!u["$eql?"](v))return!1;return!0}return t(o,l)}),B(g,"$each",function C(){var l=C.$$p||L,o=this;return C.$$p=null,l===L?T(o,"enum_for",["each"],function s(){var n=s.$$s==null?this:s.$$s;return n.$size()},{$$s:o}):(T(o.$class().$members(),"each",[],function s(n){var t=s.$$s==null?this:s.$$s;return n==null&&(n=L),e.yield1(l,t["$[]"](n))},{$$s:o}),o)}),B(g,"$each_pair",function C(){var l=C.$$p||L,o=this;return C.$$p=null,l===L?T(o,"enum_for",["each_pair"],function s(){var n=s.$$s==null?this:s.$$s;return n.$size()},{$$s:o}):(T(o.$class().$members(),"each",[],function s(n){var t=s.$$s==null?this:s.$$s;return n==null&&(n=L),e.yield1(l,[n,t["$[]"](n)])},{$$s:o}),o)}),B(g,"$length",function(){var l=this;return l.$class().$members().$length()}),B(g,"$to_a",function(){var l=this;return T(l.$class().$members(),"map",[],function o(s){var n=o.$$s==null?this:o.$$s;return s==null&&(s=L),n["$[]"](s)},{$$s:l})});var G=[];return B(g,"$inspect",function(){var l=this,o=L,s=L;return function(){try{return o="#<struct ",V(G["$include?"](l.$__id__()))?P(o,":...>"):(G["$<<"](l.$__id__()),s=!0,z(E("Struct"),l)&&V(l.$class().$name())&&(o=P(o,""+l.$class()+" ")),o=P(o,T(l.$each_pair(),"map",[],function(t,r){return t==null&&(t=L),r==null&&(r=L),""+t+"="+f("Opal").$inspect(r)}).$join(", ")),o=P(o,">"),o)}finally{V(s)&&G.pop()}}()}),B(g,"$to_h",function C(l){var o=C.$$p||L,s,n,t=this;return C.$$p=null,s=F(arguments),n=s,o!==L?T(T(t,"map",[],o.$to_proc()),"to_h",U(n)):T(t.$class().$members(),"each_with_object",[new Map],function r(i,$){var u,v=r.$$s==null?this:r.$$s;return i==null&&(i=L),$==null&&($=L),u=[i,v["$[]"](i)],T($,"[]=",u),u[u.length-1]},{$$s:t})},-1),B(g,"$values_at",function(l){var o,s,n=this;o=F(arguments),s=o,s=T(s,"map",[],function(u){return u==null&&(u=L),u.$$is_range?u.$to_a():u}).$flatten();for(var t=[],r=0,i=s.length;r<i;r++)s[r].$$is_number||W.$raise(E("TypeError"),"no implicit conversion of "+s[r].$class()+" into Integer"),t.push(n["$[]"](s[r]));return t},-1),B(g,"$dig",function(l,o){var s,n,t=this,r=L;return s=F(arguments,1),n=s,r=V(l.$$is_string&&t.$$data.hasOwnProperty(l))&&t.$$data[l]||L,r===L||n.length===0?r:(V(r["$respond_to?"]("dig"))||W.$raise(E("TypeError"),""+r.$class()+" does not have #dig method"),T(r,"dig",U(n)))},-2),p(g,"size","length"),p(g,"to_s","inspect"),p(g,"values","to_a")}("::",null,H)};Opal.modules["corelib/set"]=function(e){var y=e.freeze,F=e.klass,X=e.slice,w=e.defs,O=e.truthy,V=e.eqeqeq,x=e.Kernel,Y=e.send,h=e.def,T=e.eqeq,re=e.rb_lt,U=e.rb_le,B=e.alias,ee=[],W=e.nil,b=e.$$$;return e.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(k,z,M){var q=F(k,z,"Set"),P=[q].concat(M),p=e.$r(P),I=W,H=q.$$prototype;H.hash=W,q.$include(b("Enumerable")),w(q,"$[]",function(a){var d,A,g=this;return d=X(arguments),A=d,g.$new(A)},-1),h(q,"$initialize",function E(a){var d=E.$$p||W,A=this;return E.$$p=null,a==null&&(a=W),A.hash=new Map,O(a["$nil?"]())?W:(V(b("Enumerable"),a)||x.$raise(b("ArgumentError"),"value must be enumerable"),O(d)?Y(a,"each",[],function g(_){var f=g.$$s==null?this:g.$$s;return _==null&&(_=W),f.$add(e.yield1(d,_))},{$$s:A}):A.$merge(a))},-1),h(q,"$dup",function(){var a=this,d=W;return d=a.$class().$new(),d.$merge(a)}),h(q,"$-",function(a){var d=this;return O(a["$respond_to?"]("each"))||x.$raise(b("ArgumentError"),"value must be enumerable"),d.$dup().$subtract(a)}),h(q,"$inspect",function(){var a=this;return"#<Set: {"+a.$to_a().$join(",")+"}>"}),h(q,"$==",function(a){var d=this;return O(d["$equal?"](a))?!0:O(a["$instance_of?"](d.$class()))?d.hash["$=="](a.$instance_variable_get("@hash")):O(a["$is_a?"](b("Set")))&&T(d.$size(),a.$size())?Y(a,"all?",[],function A(g){var _=A.$$s==null?this:A.$$s;return _.hash==null&&(_.hash=W),g==null&&(g=W),_.hash["$include?"](g)},{$$s:d}):!1}),h(q,"$add",function(a){var d=this;return d.hash["$[]="](a,!0),d}),h(q,"$classify",function E(){var a=E.$$p||W,d=this,A=W;return E.$$p=null,a===W?d.$enum_for("classify"):(A=Y(b("Hash"),"new",[],function g(_,f){var G,C=g.$$s==null?this:g.$$s;return _==null&&(_=W),f==null&&(f=W),G=[f,C.$class().$new()],Y(_,"[]=",G),G[G.length-1]},{$$s:d}),Y(d,"each",[],function(_){return _==null&&(_=W),A["$[]"](e.yield1(a,_)).$add(_)}),A)}),h(q,"$collect!",function E(){var a=E.$$p||W,d=this,A=W;return E.$$p=null,a===W?d.$enum_for("collect!"):(A=d.$class().$new(),Y(d,"each",[],function(_){return _==null&&(_=W),A["$<<"](e.yield1(a,_))}),d.$replace(A))}),h(q,"$compare_by_identity",function(){var a=this;return O(a.hash["$respond_to?"]("compare_by_identity"))?(a.hash.$compare_by_identity(),a):a.$raise(p("NotImplementedError"),""+a.$class().$name()+"#compare_by_identity is not implemented")}),h(q,"$compare_by_identity?",function(){var a=this,d=W;return O(d=a.hash["$respond_to?"]("compare_by_identity?"))?a.hash["$compare_by_identity?"]():d}),h(q,"$delete",function(a){var d=this;return d.hash.$delete(a),d}),h(q,"$delete?",function(a){var d=this;return O(d["$include?"](a))?(d.$delete(a),d):W}),h(q,"$delete_if",function E(){var a=E.$$p||W,d=this;return E.$$p=null,a===W?d.$enum_for("delete_if"):(Y(Y(d,"select",[],function(g){return g==null&&(g=W),e.yield1(a,g)}),"each",[],function A(g){var _=A.$$s==null?this:A.$$s;return _.hash==null&&(_.hash=W),g==null&&(g=W),_.hash.$delete(g)},{$$s:d}),d)}),h(q,"$freeze",function(){var a=this;return O(a["$frozen?"]())?a:(a.hash.$freeze(),y(a))}),h(q,"$keep_if",function E(){var a=E.$$p||W,d=this;return E.$$p=null,a===W?d.$enum_for("keep_if"):(Y(Y(d,"reject",[],function(g){return g==null&&(g=W),e.yield1(a,g)}),"each",[],function A(g){var _=A.$$s==null?this:A.$$s;return _.hash==null&&(_.hash=W),g==null&&(g=W),_.hash.$delete(g)},{$$s:d}),d)}),h(q,"$reject!",function E(){var a=E.$$p||W,d=this,A=W;return E.$$p=null,a===W?d.$enum_for("reject!"):(A=d.$size(),Y(d,"delete_if",[],a.$to_proc()),T(d.$size(),A)?W:d)}),h(q,"$select!",function E(){var a=E.$$p||W,d=this,A=W;return E.$$p=null,a===W?d.$enum_for("select!"):(A=d.$size(),Y(d,"keep_if",[],a.$to_proc()),T(d.$size(),A)?W:d)}),h(q,"$add?",function(a){var d=this;return O(d["$include?"](a))?W:d.$add(a)}),h(q,"$each",function E(){var a=E.$$p||W,d=this;return E.$$p=null,a===W?d.$enum_for("each"):(Y(d.hash,"each_key",[],a.$to_proc()),d)}),h(q,"$empty?",function(){var a=this;return a.hash["$empty?"]()}),h(q,"$eql?",function(a){var d=this;return d.hash["$eql?"](Y(a,"instance_eval",[],function A(){var g=A.$$s==null?this:A.$$s;return g.hash==null&&(g.hash=W),g.hash},{$$s:d}))}),h(q,"$clear",function(){var a=this;return a.hash.$clear(),a}),h(q,"$include?",function(a){var d=this;return d.hash["$include?"](a)}),h(q,"$merge",function(a){var d=this;return Y(a,"each",[],function A(g){var _=A.$$s==null?this:A.$$s;return g==null&&(g=W),_.$add(g)},{$$s:d}),d}),h(q,"$replace",function(a){var d=this;return d.$clear(),d.$merge(a),d}),h(q,"$size",function(){var a=this;return a.hash.$size()}),h(q,"$subtract",function(a){var d=this;return Y(a,"each",[],function A(g){var _=A.$$s==null?this:A.$$s;return g==null&&(g=W),_.$delete(g)},{$$s:d}),d}),h(q,"$|",function(a){var d=this;return O(a["$respond_to?"]("each"))||x.$raise(b("ArgumentError"),"value must be enumerable"),d.$dup().$merge(a)});function L(E){O(I=E["$is_a?"](b("Set")))||x.$raise(b("ArgumentError"),"value must be a set")}return h(q,"$superset?",function(a){var d=this;return L(a),O(re(d.$size(),a.$size()))?!1:Y(a,"all?",[],function A(g){var _=A.$$s==null?this:A.$$s;return g==null&&(g=W),_["$include?"](g)},{$$s:d})}),h(q,"$proper_superset?",function(a){var d=this;return L(a),O(U(d.$size(),a.$size()))?!1:Y(a,"all?",[],function A(g){var _=A.$$s==null?this:A.$$s;return g==null&&(g=W),_["$include?"](g)},{$$s:d})}),h(q,"$subset?",function(a){var d=this;return L(a),O(re(a.$size(),d.$size()))?!1:Y(d,"all?",[],function(g){return g==null&&(g=W),a["$include?"](g)})}),h(q,"$proper_subset?",function(a){var d=this;return L(a),O(U(a.$size(),d.$size()))?!1:Y(d,"all?",[],function(g){return g==null&&(g=W),a["$include?"](g)})}),h(q,"$intersect?",function(a){var d=this;return L(a),O(re(d.$size(),a.$size()))?Y(d,"any?",[],function(g){return g==null&&(g=W),a["$include?"](g)}):Y(a,"any?",[],function A(g){var _=A.$$s==null?this:A.$$s;return g==null&&(g=W),_["$include?"](g)},{$$s:d})}),h(q,"$disjoint?",function(a){var d=this;return d["$intersect?"](a)["$!"]()}),h(q,"$to_a",function(){var a=this;return a.hash.$keys()}),B(q,"+","|"),B(q,"<","proper_subset?"),B(q,"<<","add"),B(q,"<=","subset?"),B(q,">","proper_superset?"),B(q,">=","superset?"),B(q,"difference","-"),B(q,"filter!","select!"),B(q,"length","size"),B(q,"map!","collect!"),B(q,"member?","include?"),B(q,"union","|")}("::",null,ee)};Opal.modules["corelib/dir"]=function(e){var y=e.klass,F=e.def,X=e.truthy,w=e.alias,O=e.nil,V=e.$$$;return e.add_stubs("[],pwd"),function(x,Y,h){var T=y(x,Y,"Dir");return function(re,U){return F(re,"$chdir",function B(ee){var W=B.$$p||O,b=O;return B.$$p=null,function(){try{return b=e.current_dir,e.current_dir=ee,e.yieldX(W,[])}finally{e.current_dir=b}}()}),F(re,"$pwd",function(){return e.current_dir||"."}),F(re,"$home",function(){var ee=O;return X(ee=V("ENV")["$[]"]("HOME"))?ee:"."}),w(re,"getwd","pwd")}(e.get_singleton_class(T))}("::",null)};Opal.modules["corelib/file"]=function(e){var y=e.truthy,F=e.klass,X=e.const_set,w=e.Opal,O=e.regexp,V=e.rb_plus,x=e.def,Y=e.Kernel,h=e.eqeq,T=e.rb_lt,re=e.rb_minus,U=e.range,B=e.send,ee=e.slice,W=e.alias,b=[],k=e.nil,z=e.$$$;return e.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(M,q,P){var p=F(M,q,"File"),I=[p].concat(P),H=k;return X(I[0],"Separator",X(I[0],"SEPARATOR","/")),X(I[0],"ALT_SEPARATOR",k),X(I[0],"PATH_SEPARATOR",":"),X(I[0],"FNM_SYSCASE",0),H=/^[a-zA-Z]:(?:\\|\/)/,function(L,E){var a=[L].concat(E),d=e.$r(a);x(L,"$absolute_path",function(f,G){var C=k,l=k,o=k,s=k,n=k,t=k,r=k,i=k,$=k,u=k;G==null&&(G=k),C=d("SEPARATOR"),l=g(),o=[],f=y(f["$respond_to?"]("to_path"))?f.$to_path():f,f=w["$coerce_to!"](f,z("String"),"to_str"),G=y(s=G)?s:z("Dir").$pwd(),n=f.substr(0,C.length)===C||H.test(f),t=G.substr(0,C.length)===C||H.test(G),y(n)?(r=f.$split(O(["[",l,"]"])),i=H.test(f)?"":f.$sub(O(["^([",l,"]+).*$"]),"\\1"),$=!0):(r=V(G.$split(O(["[",l,"]"])),f.$split(O(["[",l,"]"]))),i=H.test(G)?"":G.$sub(O(["^([",l,"]+).*$"]),"\\1"),$=t);for(var v,N=0,D=r.length;N<D;N++)v=r[N],!(v===k||v===""&&(o.length===0||$)||v==="."&&(o.length===0||$))&&(v===".."?o.pop():o.push(v));return!$&&r[0]!=="."&&o.$unshift("."),u=o.$join(C),y($)&&(u=V(i,u)),u},-2),x(L,"$expand_path",function(f,G){var C=this,l=k,o=k,s=k,n=k,t=k;return G==null&&(G=k),l=d("SEPARATOR"),o=g(),y(f[0]==="~"||G&&G[0]==="~")&&(s=d("Dir").$home(),y(s)||Y.$raise(z("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),n=H.test(s)?"":s.$sub(O(["^([",o,"]+).*$"]),"\\1"),y(s["$start_with?"](n))||Y.$raise(z("ArgumentError"),"non-absolute home"),s=V(s,l),t=O(["^\\~(?:",l,"|$)"]),f=f.$sub(t,s),y(G)&&(G=G.$sub(t,s))),C.$absolute_path(f,G)},-2);function A(_){return y(_["$respond_to?"]("to_path"))&&(_=_.$to_path()),_=w["$coerce_to!"](_,z("String"),"to_str"),_}function g(){return d("ALT_SEPARATOR")===k?e.escape_regexp(d("SEPARATOR")):e.escape_regexp(V(d("SEPARATOR"),d("ALT_SEPARATOR")))}return x(L,"$dirname",function(f,G){var C=this,l=k;if(G==null&&(G=1),h(G,0))return f;y(T(G,0))&&Y.$raise(z("ArgumentError"),"level can't be negative"),l=g(),f=A(f);var o=f.match(new RegExp("^["+l+"]")),s;return f=f.replace(new RegExp("["+l+"]+$"),""),f=f.replace(new RegExp("[^"+l+"]+$"),""),f=f.replace(new RegExp("["+l+"]+$"),""),f===""?s=o?"/":".":s=f,G==1?s:C.$dirname(s,re(G,1))},-2),x(L,"$basename",function(f,G){var C=k;return G==null&&(G=k),C=g(),f=A(f),f.length==0||(G!==k?G=w["$coerce_to!"](G,z("String"),"to_str"):G=null,f=f.replace(new RegExp("(.)["+C+"]*$"),"$1"),f=f.replace(new RegExp("^(?:.*["+C+"])?([^"+C+"]+)$"),"$1"),G===".*"?f=f.replace(/\.[^\.]+$/,""):G!==null&&(G=e.escape_regexp(G),f=f.replace(new RegExp(""+G+"$"),""))),f},-2),x(L,"$extname",function(f){var G=this,C=k,l=k;return f=A(f),C=G.$basename(f),y(C["$empty?"]())||(l=C["$[]"](U(1,-1,!1)).$rindex("."),y(l["$nil?"]())||h(V(l,1),re(C.$length(),1)))?"":C["$[]"](e.Range.$new(V(l,1),-1,!1))}),x(L,"$exist?",function(f){return e.modules[f]!=null}),x(L,"$directory?",function(f){var G=k;G=[];for(var C in e.modules)G.push(C);return f=f.$gsub(O(["(^.",d("SEPARATOR"),"+|",d("SEPARATOR"),"+$)"])),B(G,"find",[],function(o){return o==null&&(o=k),o["$=~"](O(["^",f]))})}),x(L,"$join",function(f){var G,C,l=k;return G=ee(arguments),C=G,y(C["$empty?"]())?"":(l="",C=B(C.$flatten().$each_with_index(),"map",[],function(s,n){return s==null&&(s=k),n==null&&(n=k),h(n,0)&&y(s["$empty?"]())||h(C.$length(),V(n,1))&&y(s["$empty?"]())?d("SEPARATOR"):s}),C=B(C,"reject",[],"empty?".$to_proc()),B(C,"each_with_index",[],function(s,n){var t=k;return s==null&&(s=k),n==null&&(n=k),t=C["$[]"](V(n,1)),y(t["$nil?"]())?l=""+l+s:(y(s["$end_with?"](d("SEPARATOR")))&&y(t["$start_with?"](d("SEPARATOR")))&&(s=s.$sub(O([d("SEPARATOR"),"+$"]),"")),l=y(s["$end_with?"](d("SEPARATOR")))||y(t["$start_with?"](d("SEPARATOR")))?""+l+s:""+l+s+d("SEPARATOR"))}),l)},-1),x(L,"$split",function(f){return f.$split(d("SEPARATOR"))}),W(L,"realpath","expand_path"),W(L,"exists?","exist?")}(e.get_singleton_class(p),I)}("::",z("IO"),b)};Opal.modules["corelib/process/base"]=function(e){var y=e.klass,F=e.slice,X=e.defs,w=e.return_val,O=e.nil;return function(V,x){var Y=y(V,x,"Signal");return X(Y,"$trap",function(T){return F(arguments),O},-1)}("::",null),function(V,x){var Y=y(V,x,"GC");return X(Y,"$start",w(O))}("::",null)};Opal.modules["corelib/process"]=function(e){var y=e.module,F=e.defs,X=e.truthy,w=e.return_val,O=e.Kernel,V=e.nil,x=e.$$$;return e.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(Y){var h=y(Y,"Process"),T=V;if(h.__clocks__=[],F(h,"$__register_clock__",function(B,ee){var W=this;return W.__clocks__==null&&(W.__clocks__=V),W.$const_set(B,W.__clocks__.$size()),W.__clocks__["$<<"](ee)}),h.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),T=!1,e.global.performance)T=function(){return performance.now()};else if(e.global.process&&process.hrtime){var re=process.hrtime();T=function(){var U=process.hrtime(re),B=U[1]/1e3|0;return U[0]*1e3+B/1e3}}return X(T)&&h.$__register_clock__("CLOCK_MONOTONIC",T),F(h,"$pid",w(0)),F(h,"$times",function(){var B=V;return B=x("Time").$now().$to_f(),x(x("Benchmark"),"Tms").$new(B,B,B,B,B)}),F(h,"$clock_gettime",function(B,ee){var W=this,b=V;W.__clocks__==null&&(W.__clocks__=V),ee==null&&(ee="float_second"),X(b=W.__clocks__["$[]"](B))||O.$raise(x(x("Errno"),"EINVAL"),"clock_gettime("+B+") "+W.__clocks__["$[]"](B));var k=b();switch(ee){case"float_second":return k/1e3;case"float_millisecond":return k/1;case"float_microsecond":return k*1e3;case"second":return k/1e3|0;case"millisecond":return k/1|0;case"microsecond":return k*1e3|0;case"nanosecond":return k*1e6|0;default:O.$raise(x("ArgumentError"),"unexpected unit: "+ee)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(e){var y=e.klass,F=e.module,X=e.def,w=e.range,O=e.send,V=e.rb_divide,x=e.Kernel,Y=e.Opal,h=[],T=e.nil,re=e.$$$;return e.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(U,B,ee){var W=y(U,B,"Random"),b=[W].concat(ee);return function(k,z){var M=F(k,"Formatter"),q=[M].concat(z),P=e.$r(q);return X(M,"$hex",function(I){var H=this;I==null&&(I=T),I=re("Random").$_verify_count(I);for(var L=H.$bytes(I),E="",a=0;a<I;a++)E+=L.charCodeAt(a).toString(16).padStart(2,"0");return E.$encode("US-ASCII")},-1),X(M,"$random_bytes",function(I){var H=this;return I==null&&(I=T),H.$bytes(I)},-1),X(M,"$base64",function(I){var H=this;return I==null&&(I=T),re("Base64").$strict_encode64(H.$random_bytes(I)).$encode("US-ASCII")},-1),X(M,"$urlsafe_base64",function(I,H){var L=this;return I==null&&(I=T),H==null&&(H=!1),re("Base64").$urlsafe_encode64(L.$random_bytes(I),H).$encode("US-ASCII")},-1),X(M,"$uuid",function(){var I=this,H=T;return H=I.$hex(16).$split(""),H["$[]="](12,"4"),H["$[]="](16,(parseInt(H["$[]"](16),16)&3|8).toString(16)),H=[H["$[]"](w(0,8,!0)),H["$[]"](w(8,12,!0)),H["$[]"](w(12,16,!0)),H["$[]"](w(16,20,!0)),H["$[]"](w(20,32,!0))],H=O(H,"map",[],"join".$to_proc()),H.$join("-")}),X(M,"$random_float",function(){var I=this,H=T,L=T;return H=I.$bytes(4),L=0,O(4,"times",[],function(a){return a==null&&(a=T),L=L["$<<"](8),L=L["$|"](H["$[]"](a).$ord())}),V(L.$abs(),2147483647)}),X(M,"$random_number",function(I){var H=this;function L(){return H.$random_float()}function E(d){return Math.floor(L()*d)}function a(){var d=I.begin,A=I.end;if(d===T||A===T)return T;var g=A-d;return g<0?T:g===0?d:(A%1===0&&d%1===0&&!I.excl&&g++,E(g)+d)}return I==null?L():I.$$is_range?a():I.$$is_number?(I<=0&&x.$raise(re("ArgumentError"),"invalid argument - "+I),I%1===0?E(I):L()*I):(I=Y["$coerce_to!"](I,re("Integer"),"to_int"),I<=0&&x.$raise(re("ArgumentError"),"invalid argument - "+I),E(I))},-1),X(M,"$alphanumeric",function(I){var H=this,L=T;return I==null&&(I=T),I=P("Random").$_verify_count(I),L=O([w("0","9",!1),w("a","z",!1),w("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),O(re("Array"),"new",[I],function E(a){var d=E.$$s==null?this:E.$$s;return L["$[]"](d.$random_number(L.$length()))},{$$s:H}).$join()},-1)}(W,b),W.$include(re(re("Random"),"Formatter")),W.$extend(re(re("Random"),"Formatter"))}("::",null,h)};Opal.modules["corelib/random/mersenne_twister"]=function(e){var y=e.klass,F=e.const_set,X=e.send,w=e.nil,O=e.$$$,V=w;return e.add_stubs("generator="),V=function(){var x=624,Y=397,h=2567483615,T=2147483648,re=2147483647,U=function(q,P){return q&T|P&re},B=function(q,P){return U(q,P)>>>1^(P&1?h:0)};function ee(q){var P={left:0,next:x,state:new Array(x)};return W(P,q),P}function W(q,P){var p;for(q.state[0]=P>>>0,p=1;p<x;p++)q.state[p]=1812433253*(q.state[p-1]^q.state[p-1]>>30>>>0)+p,q.state[p]&=4294967295;q.left=1,q.next=x}function b(q){var P=0,p=q.state,I;for(q.left=x,q.next=0,I=x-Y+1;--I;P++)p[P]=p[P+Y]^B(p[P+0],p[P+1]);for(I=Y;--I;P++)p[P]=p[P+(Y-x)]^B(p[P+0],p[P+1]);p[P]=p[P+(Y-x)]^B(p[P+0],p[0])}function k(q){var P;return--q.left<=0&&b(q),P=q.state[q.next++],P^=P>>>11,P^=P<<7&2636928640,P^=P<<15&4022730752,P^=P>>>18,P>>>0}function z(q,P){return q>>>=5,P>>>=6,(q*67108864+P)*(1/9007199254740992)}function M(q){var P=k(q),p=k(q);return z(P,p)}return{genrand_real:M,init:ee}}(),function(x,Y){var h=y(x,Y,"Random"),T,re=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return F(h,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*re)},reseed:function(U){return V.init(U)},rand:function(U){return V.genrand_real(U)}}),T=[O(h,"MERSENNE_TWISTER_GENERATOR")],X(h,"generator=",T),T[T.length-1]}("::",null)};Opal.modules["corelib/random"]=function(e){var y=e.truthy,F=e.klass,X=e.Kernel,w=e.defs,O=e.Opal,V=e.def,x=e.eqeqeq,Y=e.send,h=e.top,T=e.nil,re=e.$$$;return e.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),h.$require("corelib/random/formatter"),function(U,B){var ee=F(U,B,"Random");return ee.$attr_reader("seed","state"),w(ee,"$_verify_count",function(b){return y(b)||(b=16),typeof b!="number"&&(b=b.$to_int()),b<0&&X.$raise(re("ArgumentError"),"negative string size (or size too big)"),b=Math.floor(b),b}),V(ee,"$initialize",function(b){var k=this;return b==null&&(b=re("Random").$new_seed()),b=O["$coerce_to!"](b,re("Integer"),"to_int"),k.state=b,k.$reseed(b)},-1),V(ee,"$reseed",function(b){var k=this;return k.seed=b,k.$rng=e.$$rand.reseed(b)}),w(ee,"$new_seed",function(){return e.$$rand.new_seed()}),w(ee,"$rand",function(b){var k=this;return re(k,"DEFAULT").$rand(b)},-1),w(ee,"$srand",function(b){var k=this,z=T;return b==null&&(b=re("Random").$new_seed()),b=O["$coerce_to!"](b,re("Integer"),"to_int"),z=re(k,"DEFAULT").$seed(),re(k,"DEFAULT").$reseed(b),z},-1),w(ee,"$urandom",function(b){return re("SecureRandom").$bytes(b)}),V(ee,"$==",function(b){var k=this,z=T;return x(re("Random"),b)?y(z=k.$seed()["$=="](b.$seed()))?k.$state()["$=="](b.$state()):z:!1}),V(ee,"$bytes",function(b){var k=this;return b=re("Random").$_verify_count(b),Y(re("Array"),"new",[b],function z(){var M=z.$$s==null?this:z.$$s;return M.$rand(255).$chr()},{$$s:k}).$join().$encode("ASCII-8BIT")}),w(ee,"$bytes",function(b){var k=this;return re(k,"DEFAULT").$bytes(b)}),V(ee,"$rand",function(b){var k=this;return k.$random_number(b)},-1),V(ee,"$random_float",function(){var b=this;return b.state++,e.$$rand.rand(b.$rng)}),w(ee,"$random_float",function(){var b=this;return re(b,"DEFAULT").$random_float()}),w(ee,"$generator=",function(b){var k=this;return e.$$rand=b,y(k["$const_defined?"]("DEFAULT"))?re(k,"DEFAULT").$reseed():k.$const_set("DEFAULT",k.$new(k.$new_seed()))})}("::",null),h.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(e){var y=e.Kernel,F=e.klass,X=e.send,w=e.slice,O=e.module,V=e.def,x=e.return_val,Y=e.alias,h=e.defs,T=e.top,re=[],U=e.nil,B=e.$$$;e.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var ee={};function W(k){switch(e.config.unsupported_features_severity){case"error":y.$raise(B("NotImplementedError"),k);break;case"warning":b(k);break}}function b(k){ee[k]||(ee[k]=!0,T.$warn(k))}return function(k,z){var M=F(k,z,"String"),q="String#%s not supported. Mutable String methods are not supported in Opal.";return X(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function P(p){var I=P.$$s==null?this:P.$$s;return p==null&&(p=U),X(I,"define_method",[p],function(L){return w(arguments),y.$raise(B("NotImplementedError"),q["$%"](p))},-1)},{$$s:M})}("::",null),function(k){var z=O(k,"Kernel"),M="Object tainting is not supported by Opal";return V(z,"$taint",function(){var P=this;return W(M),P}),V(z,"$untaint",function(){var P=this;return W(M),P}),V(z,"$tainted?",function(){return W(M),!1})}("::"),function(k,z){var M=F(k,z,"Module");return V(M,"$public",function(P){var p,I,H=this;return p=w(arguments),I=p,I.length===0?(H.$$module_function=!1,U):I.length===1?I[0]:I},-1),V(M,"$private_class_method",function(P){var p,I;return p=w(arguments),I=p,I.length===1?I[0]:I},-1),V(M,"$private_method_defined?",x(!1)),V(M,"$private_constant",function(P){return w(arguments),U},-1),Y(M,"nesting","public"),Y(M,"private","public"),Y(M,"protected","public"),Y(M,"protected_method_defined?","private_method_defined?"),Y(M,"public_class_method","private_class_method"),Y(M,"public_instance_method","instance_method"),Y(M,"public_instance_methods","instance_methods"),Y(M,"public_method_defined?","method_defined?")}("::",null),function(k){var z=O(k,"Kernel");return V(z,"$private_methods",function(q){return w(arguments),[]},-1),Y(z,"protected_methods","private_methods"),Y(z,"private_instance_methods","private_methods"),Y(z,"protected_instance_methods","private_methods")}("::"),function(k,z){var M=O(k,"Kernel"),q=[M].concat(z),P=e.$r(q);return V(M,"$eval",function(I){return w(arguments),y.$raise(B("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+P("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",re),h(T,"$public",function(z){var M,q;return M=w(arguments),q=M,q.length===1?q[0]:q},-1),h(T,"$private",function(z){var M,q;return M=w(arguments),q=M,q.length===1?q[0]:q},-1)};Opal.modules["corelib/binding"]=function(e){var y=e.klass,F=e.truthy,X=e.def,w=e.slice,O=e.send,V=e.to_a,x=e.Kernel,Y=e.return_ivar,h=e.eqeq;e.thrower;var T=e.module,re=e.const_set,U=e.top,B=[],ee=e.nil,W=e.$$$;return e.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(b,k){var z=y(b,k,"Binding"),M=z.$$prototype;return M.jseval=M.scope_variables=ee,X(z,"$initialize",function(P,p,I,H){var L,E=this;return p==null&&(p=[]),H==null&&(H=ee),L=[P,p,I,H],E.jseval=L[0],E.scope_variables=L[1],E.receiver=L[2],E.source_location=L[3],F(typeof I!==void 0)?ee:I=E.$js_eval("self")},-2),X(z,"$js_eval",function(P){var p,I,H=this;return p=w(arguments),I=p,F(H.jseval)?O(H.jseval,"call",V(I)):x.$raise("Evaluation on a Proc#binding is not supported")},-1),X(z,"$local_variable_get",function(P){var p=this;try{return p.$js_eval(P)}catch(I){if(e.rescue(I,[W("Exception")]))try{return x.$raise(W("NameError"),"local variable `"+P+"' is not defined for "+p.$inspect())}finally{e.pop_exception(I)}else throw I}}),X(z,"$local_variable_set",function(P,p){var I=this;return e.Binding.tmp_value=p,I.$js_eval(""+P+" = Opal.Binding.tmp_value"),delete e.Binding.tmp_value,p}),X(z,"$local_variables",Y("scope_variables")),X(z,"$local_variable_defined?",function(P){var p=this;return p.scope_variables["$include?"](P)}),X(z,"$eval",function(P,p,I){try{var H=this;return p==null&&(p=ee),I==null&&(I=ee),h(P,"self")?H.$receiver():x.$eval(P,H,p,I)}catch(L){if(L===e.t_eval_return)return L.$v;throw L}},-2),z.$attr_reader("receiver","source_location")}("::",null),function(b){var k=T(b,"Kernel");return X(k,"$binding",function(){return x.$raise("Opal doesn't support dynamic calls to binding")})}("::"),re(B[0],"TOPLEVEL_BINDING",W("Binding").$new(function(b){return new Function("self","return "+b)(U)},[],U,["<main>",0]))};Opal.modules["corelib/irb"]=function(e){var y=e.module,F=e.truthy,X=e.Kernel,w=e.defs,O=e.gvars,V=e.lambda,x=e.hash_rehash,Y=e.send,h=e.rb_plus,T=e.const_set,re=e.klass,U=e.def,B=e.Opal,ee=e.range,W=e.eqeq,b=e.thrower,k=[],z=e.nil,M=e.$$$;e.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(q,P){var p=y(q,"Opal"),I=[p].concat(P);return function(H,L){var E=y(H,"IRB"),a=[E].concat(L),d=e.$r(a);return w(E,"$ensure_loaded",function(g){var _=z,f=z;if(F(e.loaded_features["$include?"](g)))return z;_=F(d("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":d("RUBY_ENGINE_VERSION"),f="https://cdn.opalrb.com/opal/"+_+"/"+g+".js";var G;if(typeof XMLHttpRequest<"u"){var C=new XMLHttpRequest;C.open("GET",f,!1),C.send(""),G=C.responseText}else X.$raise("You need to provision "+g+" yourself in this environment");return new Function("Opal",G)(e),e.require(g),F(e.loaded_features["$include?"](g))?z:X.$raise("Could not load "+g+" for some reason")}),E.$singleton_class().$attr_accessor("output"),w(E,"$prepare_console",function A(){var g=A.$$p||z,_,f=this,G=z,C=z;return O.stdout==null&&(O.stdout=z),O.stderr==null&&(O.stderr=z),O.stdin==null&&(O.stdin=z),A.$$p=null,function(){try{return f["$output="](""),G=x(new Map([[O.stdout,V(function(o){return o==null&&(o=z),O.stdout=o})],[O.stderr,V(function(o){return o==null&&(o=z),O.stderr=o})]])),F(f["$browser?"]())&&(Y(G,"each",[],function l(o,s){var n=l.$$s==null?this:l.$$s,t=z;return o==null&&(o=z),s==null&&(s=z),t=o.$dup(),t["$write_proc="](Y(n,"proc",[],function r(i){var $=r.$$s==null?this:r.$$s;return i==null&&(i=z),$["$output="](h($.$output(),i)),$["$output="]($.$output().$split(`
`).$last(30).$join(`
`)),F(i["$end_with?"](`
`))&&$["$output="](h($.$output(),`
`)),o.$write_proc().$call(i)},{$$s:n})),t["$tty="](!1),s.$call(t)},{$$s:f}),C=O.stdin.$read_proc(),O.stdin["$read_proc="](function(l){var o=prompt(f.$output());return o!==null?o+`
`:z})),e.yieldX(g,[])}finally{Y(G,"each",[],function(o,s){return o==null&&(o=z),s==null&&(s=z),s.$call(o)}),_=[C],Y(O.stdin,"read_proc=",_),_[_.length-1],_=[""],Y(f,"output=",_),_[_.length-1]}}()}),w(E,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),T(a[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(A,g){var _=re(A,g,"Silencer"),f=_.$$prototype;return f.collector=f.stderr=z,U(_,"$initialize",function(){var C=this;return O.stderr==null&&(O.stderr=z),C.stderr=O.stderr}),U(_,"$silence",function G(){var C=G.$$p||z,l=this;return G.$$p=null,function(){try{return l.collector=M("StringIO").$new(),O.stderr=l.collector,e.yieldX(C,[])}finally{O.stderr=l.stderr}}()}),U(_,"$warnings",function(){var C=this;return C.collector.$string()})}(a[0],null)}(I[0],I)}(k[0],k),function(q,P,p){var I=re(q,P,"Binding"),H=[I].concat(p),L=e.$r(H);return U(I,"$irb",function(){try{var a=b("return"),d=this,A=z;return M(B,"IRB").$ensure_loaded("opal-replutils"),A=M(M(B,"IRB"),"Silencer").$new(),Y(M(B,"IRB"),"prepare_console",[],function g(){var _=g.$$s==null?this:g.$$s;return function(){try{var f=b("break");return Y(_,"loop",[],function G(){var C=G.$$s==null?this:G.$$s,l=z,o=z,s=z,n=z,t=z;C.$print(">> "),l=C.$gets(),F(l)||f.$throw(z,G.$$is_lambda),o="",F(M(B,"IRB")["$browser?"]())&&C.$puts(l),F(l["$start_with?"]("ls "))?(o=l["$[]"](ee(3,-1,!1)),s="ls"):W(l,`ls
`)?(o="self",s="ls"):F(l["$start_with?"]("show "))?(o=l["$[]"](ee(5,-1,!1)),s="show"):(o=l,s="inspect"),n=z;do{try{Y(A,"silence",[],function(){return n=e.compile(o,{irb:!0})})}catch(r){if(e.rescue(r,[L("SyntaxError")])){t=r;try{if(F(M(M(B,"IRB"),"LINEBREAKS")["$include?"](t.$message()))){C.$print(".. "),l=C.$gets(),F(l)||a.$throw(z,G.$$is_lambda),F(M(B,"IRB")["$browser?"]())&&C.$puts(l),o=h(o,l);continue}else F(A.$warnings()["$empty?"]())?C.$warn(t.$full_message()):C.$warn(A.$warnings())}finally{e.pop_exception(r)}}else throw r}break}while(!0);return W(s,"show")&&(C.$puts(n),a.$throw(z,G.$$is_lambda)),C.$puts(M("REPLUtils").$eval_and_print(n,s,!1,C))},{$$s:_,$$ret:a})}catch(G){if(G===f)return G.$v;throw G}finally{f.is_orphan=!0}}()},{$$s:d})}catch(g){if(g===a)return g.$v;throw g}finally{a.is_orphan=!0}})}("::",null,k),e.irb=function(q){M("Binding").$new(q).$irb()},e.load_parser=function(){e.Opal.IRB.$ensure_loaded("opal-parser")},typeof e.eval>"u"&&(e.eval=function(q){return e.load_parser(),e.eval(q)}),typeof e.compile>"u"&&(e.compile=function(q,P){return e.load_parser(),e.compile(q,P)})};Opal.queue(function(e){var y=e.Object;return e.nil,e.add_stubs("require,autoload"),y.$require("opal/base"),y.$require("opal/mini"),y.$require("corelib/kernel/format"),y.$require("corelib/string/encoding"),y.$autoload("Math","corelib/math"),y.$require("corelib/complex/base"),y.$autoload("Complex","corelib/complex"),y.$require("corelib/rational/base"),y.$autoload("Rational","corelib/rational"),y.$require("corelib/time"),y.$autoload("Struct","corelib/struct"),y.$autoload("Set","corelib/set"),y.$autoload("Dir","corelib/dir"),y.$autoload("File","corelib/file"),y.$require("corelib/process/base"),y.$autoload("Process","corelib/process"),y.$autoload("Random","corelib/random"),y.$require("corelib/unsupported"),y.$require("corelib/binding"),y.$require("corelib/irb")});Opal.modules.native=function(e){var y=e.hash_put,F=e.module,X=e.defs,w=e.slice,O=e.truthy,V=e.send,x=e.Kernel,Y=e.extract_kwargs,h=e.ensure_kwargs,T=e.hash_get,re=e.range,U=e.to_a,B=e.def,ee=e.return_ivar,W=e.alias,b=e.klass,k=e.rb_minus,z=e.return_val,M=e.send2,q=e.find_super,P=e.eqeqeq,p=e.rb_ge,I=e.return_self,H=e.gvars,L=e.top,E=[],a=e.$r(E),d=e.nil,A=e.$$$;return e.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(g,_){var f=F(g,"Native"),G=[f].concat(_),C=e.$r(G);return X(f,"$is_a?",function(o,s){var n=this;try{return o instanceof n.$try_convert(s)}catch{return!1}}),X(f,"$try_convert",function(o,s){var n=this;return s==null&&(s=d),n["$native?"](o)?o:o["$respond_to?"]("to_n")?o.$to_n():s},-2),X(f,"$convert",function(o){var s=this;if(s["$native?"](o))return o;if(o["$respond_to?"]("to_n"))return o.$to_n();s.$raise(C("ArgumentError"),""+o.$inspect()+" isn't native")}),X(f,"$call",function l(o,s,n){var t=l.$$p||d,r,i,$=this;l.$$p=null,r=w(arguments,2),i=r;var u=o[s];if(u instanceof Function){for(var v=new Array(i.length),N=0,D=i.length;N<D;N++){var R=i[N],J=$.$try_convert(R);v[N]=J===d?R:J}return t!==d&&v.push(t),$.$Native(u.apply(o,v))}else return $.$Native(u)},-3),X(f,"$proc",function l(){var o=l.$$p||d,s=this;return l.$$p=null,O(o)||s.$raise(C("LocalJumpError"),"no block given"),V(x,"proc",[],function n(t){var r,i,$=n.$$s==null?this:n.$$s,u=d;if(r=w(arguments),i=r,V(i,"map!",[],function N(D){var R=N.$$s==null?this:N.$$s;return D==null&&(D=d),R.$Native(D)},{$$s:$}),u=$.$Native(this),this===e.global)return o.apply($,i);var v=o.$$s;o.$$s=null;try{return o.apply(u,i)}finally{o.$$s=v}},{$$arity:-1,$$s:s})}),function(l,o){var s=F(l,"Helpers"),n=[s].concat(o),t=e.$r(n);return B(s,"$alias_native",function r(i,$,u){var v,N,D,R;r.$$p;var J=this;return r.$$p=null,v=w(arguments,1),N=Y(v),N=h(N),v.length>0&&(D=v.shift()),D==null&&(D=i),R=T(N,"as"),R==null&&(R=d),O(D["$end_with?"]("="))?V(J,"define_method",[i],function te(ae){var le=te.$$s==null?this:te.$$s;return le.native==null&&(le.native=d),ae==null&&(ae=d),le.native[D["$[]"](re(0,-2,!1))]=t("Native").$convert(ae),ae},{$$s:J}):O(R)?V(J,"define_method",[i],function te(ae){var le=te.$$p||d,_e,de,ge=te.$$s==null?this:te.$$s,ve=d;return ge.native==null&&(ge.native=d),te.$$p=null,_e=w(arguments),de=_e,ve=V(t("Native"),"call",[ge.native,D].concat(U(de)),le.$to_proc()),O(ve)?R.$new(ve.$to_n()):d},{$$arity:-1,$$s:J}):V(J,"define_method",[i],function te(ae){var le=te.$$p||d,_e,de,ge=te.$$s==null?this:te.$$s;return ge.native==null&&(ge.native=d),te.$$p=null,_e=w(arguments),de=_e,V(t("Native"),"call",[ge.native,D].concat(U(de)),le.$to_proc())},{$$arity:-1,$$s:J})},-2),B(s,"$native_reader",function(i){var $,u,v=this;return $=w(arguments),u=$,V(u,"each",[],function N(D){var R=N.$$s==null?this:N.$$s;return D==null&&(D=d),V(R,"define_method",[D],function J(){var te=J.$$s==null?this:J.$$s;return te.native==null&&(te.native=d),te.$Native(te.native[D])},{$$s:R})},{$$s:v})},-1),B(s,"$native_writer",function(i){var $,u,v=this;return $=w(arguments),u=$,V(u,"each",[],function N(D){var R=N.$$s==null?this:N.$$s;return D==null&&(D=d),V(R,"define_method",[""+D+"="],function J(te){var ae=J.$$s==null?this:J.$$s;return ae.native==null&&(ae.native=d),te==null&&(te=d),ae.$Native(ae.native[D]=te)},{$$s:R})},{$$s:v})},-1),B(s,"$native_accessor",function(i){var $,u,v=this;return $=w(arguments),u=$,V(v,"native_reader",U(u)),V(v,"native_writer",U(u))},-1)}(G[0],G),function(l,o){var s=F(l,"Wrapper"),n=[s].concat(o),t=e.$r(n);return B(s,"$initialize",function(i){var $=this;return O(x["$native?"](i))||x.$raise(t("ArgumentError"),""+i.$inspect()+" isn't native"),$.native=i}),B(s,"$to_n",ee("native")),X(s,"$included",function(i){return i.$extend(t("Helpers"))})}(G[0],G),X(f,"$included",function(o){var s=this;return s.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),o.$include(C("Wrapper"))})}(E[0],E),function(g,_){var f=F(g,"Kernel"),G=[f].concat(_),C=e.$r(G);return B(f,"$native?",function(o){return o==null||!o.$$class}),B(f,"$Native",function l(o){l.$$p;var s=this;return l.$$p=null,O(o==null)?d:O(s["$native?"](o))?A(C("Native"),"Object").$new(o):O(o["$is_a?"](C("Array")))?V(o,"map",[],function n(t){var r=n.$$s==null?this:n.$$s;return t==null&&(t=d),r.$Native(t)},{$$s:s}):O(o["$is_a?"](C("Proc")))?V(s,"proc",[],function n(t){var r=n.$$p||d,i,$,u=n.$$s==null?this:n.$$s;return n.$$p=null,i=w(arguments),$=i,u.$Native(V(o,"call",U($),r.$to_proc()))},{$$arity:-1,$$s:s}):o}),W(f,"_Array","Array"),B(f,"$Array",function l(o,s){var n=l.$$p||d,t,r,i=this;return l.$$p=null,t=w(arguments,1),r=t,O(i["$native?"](o))?V(A(C("Native"),"Array"),"new",[o].concat(U(r)),n.$to_proc()).$to_a():i.$_Array(o)},-2)}(E[0],E),function(g,_){var f=b(g,_,"Object"),G=f.$$prototype;return G.native=d,f.$include(A(A("Native"),"Wrapper")),B(f,"$==",function(l){var o=this;return o.native===A("Native").$try_convert(l)}),B(f,"$has_key?",function(l){var o=this;return e.hasOwnProperty.call(o.native,l)}),B(f,"$each",function C(l){var o,s,n=C.$$p||d,t=this;if(C.$$p=null,o=w(arguments),s=o,n!==d){for(var r in t.native)e.yieldX(n,[r,t.native[r]]);return t}else return V(t,"method_missing",["each"].concat(U(s)))},-1),B(f,"$[]",function(l){var o=this,s=o.native[l];return s instanceof Function?s:A("Native").$call(o.native,l)}),B(f,"$[]=",function(l,o){var s=this,n=d;return n=A("Native").$try_convert(o),O(n===d)?s.native[l]=o:s.native[l]=n}),B(f,"$merge!",function(l){var o=this;l=A("Native").$convert(l);for(var s in l)o.native[s]=l[s];return o}),B(f,"$respond_to?",function(l,o){var s=this;return o==null&&(o=!1),x.$instance_method("respond_to?").$bind(s).$call(l,o)},-2),B(f,"$respond_to_missing?",function(l,o){var s=this;return e.hasOwnProperty.call(s.native,l)},-2),B(f,"$method_missing",function C(l,o){var s=C.$$p||d,n,t,r,i=this;return C.$$p=null,n=w(arguments,1),t=n,l.charAt(l.length-1)==="="?(r=[l.$slice(0,k(l.$length(),1)),t["$[]"](0)],V(i,"[]=",r),r[r.length-1]):V(A("Native"),"call",[i.native,l].concat(U(t)),s.$to_proc())},-2),B(f,"$nil?",z(!1)),B(f,"$is_a?",function(l){var o=this;return e.is_a(o,l)}),B(f,"$instance_of?",function(l){var o=this;return o.$$class===l}),B(f,"$class",function(){var l=this;return l.$$class}),B(f,"$to_a",function C(l){var o=C.$$p||d,s=this;return C.$$p=null,l==null&&(l=new Map),V(A(A("Native"),"Array"),"new",[s.native,l],o.$to_proc()).$to_a()},-1),B(f,"$inspect",function(){var l=this;return"#<Native:"+String(l.native)+">"}),W(f,"include?","has_key?"),W(f,"key?","has_key?"),W(f,"kind_of?","is_a?"),W(f,"member?","has_key?")}(a("Native"),a("BasicObject")),function(g,_,f){var G=b(g,_,"Array"),C=[G].concat(f),l=e.$r(C),o=G.$$prototype;return o.named=o.native=o.get=o.block=o.set=o.length=d,G.$include(A(l("Native"),"Wrapper")),G.$include(l("Enumerable")),B(G,"$initialize",function s(n,t){var r=s.$$p||d,i=this,$=d;return s.$$p=null,t==null&&(t=new Map),M(i,q(i,"initialize",s,!1,!0),"initialize",[n],null),i.get=O($=t["$[]"]("get"))?$:t["$[]"]("access"),i.named=t["$[]"]("named"),i.set=O($=t["$[]"]("set"))?$:t["$[]"]("access"),i.length=O($=t["$[]"]("length"))?$:"length",i.block=r,O(i.$length()==null)?i.$raise(l("ArgumentError"),"no length found on the array-like object"):d},-2),B(G,"$each",function s(){var n=s.$$p||d,t=this;if(s.$$p=null,!O(n))return t.$enum_for("each");for(var r=0,i=t.$length();r<i;r++)e.yield1(n,t["$[]"](r));return t}),B(G,"$[]",function(n){var t=this,r=d,i=d;return r=P(l("String"),i=n)||P(l("Symbol"),i)?O(t.named)?t.native[t.named](n):t.native[n]:P(l("Integer"),i)?O(t.get)?t.native[t.get](n):t.native[n]:d,O(r)?O(t.block)?t.block.$call(r):t.$Native(r):d}),B(G,"$[]=",function(n,t){var r=this;return O(r.set)?r.native[r.set](n,l("Native").$convert(t)):r.native[n]=l("Native").$convert(t)}),B(G,"$last",function(n){var t=this,r=d,i=d;if(n==null&&(n=d),O(n)){for(r=k(t.$length(),1),i=[];O(p(r,0));)i["$<<"](t["$[]"](r)),r=k(r,1);return i}else return t["$[]"](k(t.$length(),1))},-1),B(G,"$length",function(){var n=this;return n.native[n.length]}),B(G,"$inspect",function(){var n=this;return n.$to_a().$inspect()}),W(G,"to_ary","to_a")}(a("Native"),null,E),function(g,_){var f=b(g,_,"Numeric");return B(f,"$to_n",function(){var C=this;return C.valueOf()})}(E[0],null),function(g,_){var f=b(g,_,"Proc");return B(f,"$to_n",I)}(E[0],null),function(g,_){var f=b(g,_,"String");return B(f,"$to_n",function(){var C=this;return C.valueOf()})}(E[0],null),function(g,_){var f=b(g,_,"Regexp");return B(f,"$to_n",function(){var C=this;return C.valueOf()})}(E[0],null),function(g,_){var f=b(g,_,"MatchData");return B(f,"$to_n",ee("matches"))}(E[0],null),function(g,_,f){var G=b(g,_,"Struct"),C=[G].concat(f),l=e.$r(C);return B(G,"$to_n",function(){var s=this,n=d;return n={},V(s,"each_pair",[],function(r,i){return r==null&&(r=d),i==null&&(i=d),n[r]=l("Native").$try_convert(i,i)}),n})}(E[0],null,E),function(g,_,f){var G=b(g,_,"Array"),C=[G].concat(f),l=e.$r(C);return B(G,"$to_n",function(){for(var s=this,n=[],t=0,r=s.length;t<r;t++){var i=s[t];n.push(l("Native").$try_convert(i,i))}return n})}(E[0],null,E),function(g,_){var f=b(g,_,"Boolean");return B(f,"$to_n",function(){var C=this;return C.valueOf()})}(E[0],null),function(g,_){var f=b(g,_,"Time");return B(f,"$to_n",I)}(E[0],null),function(g,_){var f=b(g,_,"NilClass");return B(f,"$to_n",function(){return null})}(E[0],null),O(a("Hash")["$method_defined?"]("_initialize"))||function(g,_,f){var G=b(g,_,"Hash"),C=[G].concat(f),l=e.$r(C);W(G,"_initialize","initialize");function o(s,n,t){t&&(t.constructor===void 0||t.constructor===Object||t instanceof Map)?y(s,n,l("Hash").$new(t)):t&&t.$$is_array?(t=t.map(function(r){return r&&(r.constructor===void 0||r.constructor===Object||t instanceof Map)?l("Hash").$new(r):G.$Native(r)}),y(s,n,t)):y(s,n,G.$Native(t))}return B(G,"$initialize",function s(n){var t=s.$$p||d,r=this;if(s.$$p=null,n!=null)if(n.constructor===void 0||n.constructor===Object){var i,$;for(i in n)$=n[i],o(r,i,$);return r}else n instanceof Map&&e.hash_each(n,!1,function(u,v){return o(r,u,v),[!1,!1]});return V(r,"_initialize",[n],t.$to_proc())},-1),B(G,"$to_n",function(){var n=this,t={};return e.hash_each(n,!1,function(r,i){return t[l("Native").$try_convert(r,r)]=l("Native").$try_convert(i,i),[!1,!1]}),t})}(E[0],null,E),function(g,_){var f=b(g,_,"Module");return B(f,"$native_module",function(){var C=this;return e.global[C.$name()]=C})}(E[0],null),function(g,_,f){var G=b(g,_,"Class"),C=[G].concat(f),l=e.$r(C);return B(G,"$native_alias",function(s,n){var t=this,r=t.prototype[e.jsid(n)];r||t.$raise(l("NameError").$new("undefined method `"+n+"' for class `"+t.$inspect()+"'",n)),t.prototype[s]=r}),B(G,"$native_class",function(){var s=this;return s.$native_module(),s.new=s.$new})}(E[0],null,E),H.$=H.global=L.$Native(e.global)};Opal.modules.template=function(e){var y=e.klass,F=e.truthy,X=e.defs,w=e.send,O=e.def,V=e.alias,x=[],Y=e.nil;return e.add_stubs("[],[]=,keys,attr_reader,instance_exec,new,to_proc,<<,join,append"),function(h,T,re){var U=y(h,T,"Template"),B=[U].concat(re),ee=e.$r(B),W=U.$$prototype;return W.name=W.body=Y,U._cache=new Map,X(U,"$[]",function(k){var z=this,M=Y;return z._cache==null&&(z._cache=Y),F(M=z._cache["$[]"](k))?M:z._cache["$[]"]("templates/"+k)}),X(U,"$[]=",function(k,z){var M,q=this;return q._cache==null&&(q._cache=Y),M=[k,z],w(q._cache,"[]=",M),M[M.length-1]}),X(U,"$paths",function(){var k=this;return k._cache==null&&(k._cache=Y),k._cache.$keys()}),U.$attr_reader("body"),O(U,"$initialize",function b(k){var z=b.$$p||Y,M,q=this;return b.$$p=null,M=[k,z],q.name=M[0],q.body=M[1],M=[k,q],w(ee("Template"),"[]=",M),M[M.length-1]}),O(U,"$inspect",function(){var k=this;return"#<Template: '"+k.name+"'>"}),O(U,"$render",function(k){var z=this;return k==null&&(k=z),w(k,"instance_exec",[ee("OutputBuffer").$new()],z.body.$to_proc())},-1),function(b,k){var z=y(b,k,"OutputBuffer"),M=z.$$prototype;return M.buffer=Y,O(z,"$initialize",function(){var P=this;return P.buffer=[]}),O(z,"$append",function(P){var p=this;return p.buffer["$<<"](P)}),O(z,"$join",function(){var P=this;return P.buffer.$join()}),V(z,"append=","append")}(B[0],null)}(x[0],null,x)};Opal.modules.erb=function(e){var y=e.klass,F=e.module,X=e.def,w=e.alias,O=e.top,V=[];return e.nil,e.add_stubs("require,html_escape,module_function"),O.$require("template"),function(x,Y,h){var T=y(x,Y,"ERB"),re=[T].concat(h);return function(U){var B=F(U,"Util"),ee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},W=/[&<>"']/g;return X(B,"$html_escape",function(k){return(""+k).replace(W,function(z){return ee[z]})}),w(B,"h","html_escape"),B.$module_function("h"),B.$module_function("html_escape")}(re[0])}(V[0],null,V)};(function(e){if(typeof Me=="object"&&typeof ke<"u")ke.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var y;typeof window<"u"?y=window:typeof global<"u"?y=global:typeof self<"u"?y=self:y=this,y.snabbdom=e()}})(function(){return function(){function e(y,F,X){function w(x,Y){if(!F[x]){if(!y[x]){var h=typeof require=="function"&&require;if(!Y&&h)return h(x,!0);if(O)return O(x,!0);var T=new Error("Cannot find module '"+x+"'");throw T.code="MODULE_NOT_FOUND",T}var re=F[x]={exports:{}};y[x][0].call(re.exports,function(U){var B=y[x][1][U];return w(B||U)},re,re.exports,e,y,F,X)}return F[x].exports}for(var O=typeof require=="function"&&require,V=0;V<X.length;V++)w(X[V]);return w}return e}()({1:[function(e,y,F){var X=e("./node_modules/snabbdom/build/init"),w=e("./node_modules/snabbdom/build/h"),O=e("./node_modules/snabbdom/build/tovnode"),V=e("./node_modules/snabbdom/build/modules/attributes"),x=e("./node_modules/snabbdom/build/modules/class"),Y=e("./node_modules/snabbdom/build/modules/dataset"),h=e("./node_modules/snabbdom/build/modules/eventlisteners"),T=e("./node_modules/snabbdom/build/modules/props"),re=e("./node_modules/snabbdom/build/modules/style");y.exports.init=X.init,y.exports.h=w.h,y.exports.toVNode=O.toVNode,y.exports.attributesModule=V.attributesModule,y.exports.classModule=x.classModule,y.exports.datasetModule=Y.datasetModule,y.exports.eventListenersModule=h.eventListenersModule,y.exports.propsModule=T.propsModule,y.exports.styleModule=re.styleModule},{"./node_modules/snabbdom/build/h":2,"./node_modules/snabbdom/build/init":4,"./node_modules/snabbdom/build/modules/attributes":6,"./node_modules/snabbdom/build/modules/class":7,"./node_modules/snabbdom/build/modules/dataset":8,"./node_modules/snabbdom/build/modules/eventlisteners":9,"./node_modules/snabbdom/build/modules/props":10,"./node_modules/snabbdom/build/modules/style":11,"./node_modules/snabbdom/build/tovnode":12}],2:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.h=Y;var X=e("./vnode"),w=V(e("./is"));function O(h){if(typeof WeakMap!="function")return null;var T=new WeakMap,re=new WeakMap;return(O=function(U){return U?re:T})(h)}function V(h,T){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var re=O(T);if(re&&re.has(h))return re.get(h);var U={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ee in h)if(ee!=="default"&&Object.prototype.hasOwnProperty.call(h,ee)){var W=B?Object.getOwnPropertyDescriptor(h,ee):null;W&&(W.get||W.set)?Object.defineProperty(U,ee,W):U[ee]=h[ee]}return U.default=h,re&&re.set(h,U),U}function x(h,T,re){if(h.ns="http://www.w3.org/2000/svg",re!=="foreignObject"&&T!==void 0)for(let U=0;U<T.length;++U){const B=T[U].data;B!==void 0&&x(B,T[U].children,T[U].sel)}}function Y(h,T,re){let U={},B,ee,W;if(re!==void 0?(T!==null&&(U=T),w.array(re)?B=re:w.primitive(re)?ee=re.toString():re&&re.sel&&(B=[re])):T!=null&&(w.array(T)?B=T:w.primitive(T)?ee=T.toString():T&&T.sel?B=[T]:U=T),B!==void 0)for(W=0;W<B.length;++W)w.primitive(B[W])&&(B[W]=(0,X.vnode)(void 0,void 0,void 0,B[W],void 0));return h[0]==="s"&&h[1]==="v"&&h[2]==="g"&&(h.length===3||h[3]==="."||h[3]==="#")&&x(U,B,h),(0,X.vnode)(h,U,B,ee,void 0)}},{"./is":5,"./vnode":13}],3:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.htmlDomApi=void 0;function X(M,q){return document.createElement(M,q)}function w(M,q,P){return document.createElementNS(M,q,P)}function O(M){return document.createTextNode(M)}function V(M){return document.createComment(M)}function x(M,q,P){M.insertBefore(q,P)}function Y(M,q){M.removeChild(q)}function h(M,q){M.appendChild(q)}function T(M){return M.parentNode}function re(M){return M.nextSibling}function U(M){return M.tagName}function B(M,q){M.textContent=q}function ee(M){return M.textContent}function W(M){return M.nodeType===1}function b(M){return M.nodeType===3}function k(M){return M.nodeType===8}const z={createElement:X,createElementNS:w,createTextNode:O,createComment:V,insertBefore:x,removeChild:Y,appendChild:h,parentNode:T,nextSibling:re,tagName:U,setTextContent:B,getTextContent:ee,isElement:W,isText:b,isComment:k};F.htmlDomApi=z},{}],4:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.init=W;var X=e("./vnode"),w=x(e("./is")),O=e("./htmldomapi");function V(b){if(typeof WeakMap!="function")return null;var k=new WeakMap,z=new WeakMap;return(V=function(M){return M?z:k})(b)}function x(b,k){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var z=V(k);if(z&&z.has(b))return z.get(b);var M={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in b)if(P!=="default"&&Object.prototype.hasOwnProperty.call(b,P)){var p=q?Object.getOwnPropertyDescriptor(b,P):null;p&&(p.get||p.set)?Object.defineProperty(M,P,p):M[P]=b[P]}return M.default=b,z&&z.set(b,M),M}function Y(b){return b===void 0}function h(b){return b!==void 0}const T=(0,X.vnode)("",{},[],void 0,void 0);function re(b,k){var z,M;const q=b.key===k.key,P=((z=b.data)===null||z===void 0?void 0:z.is)===((M=k.data)===null||M===void 0?void 0:M.is);return b.sel===k.sel&&q&&P}function U(b){return b.sel!==void 0}function B(b,k,z){var M;const q={};for(let P=k;P<=z;++P){const p=(M=b[P])===null||M===void 0?void 0:M.key;p!==void 0&&(q[p]=P)}return q}const ee=["create","update","remove","destroy","pre","post"];function W(b,k){const z={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},M=k!==void 0?k:O.htmlDomApi;for(const d of ee)for(const A of b){const g=A[d];g!==void 0&&z[d].push(g)}function q(d){const A=d.id?"#"+d.id:"",g=d.getAttribute("class"),_=g?"."+g.split(" ").join("."):"";return(0,X.vnode)(M.tagName(d).toLowerCase()+A+_,{},[],void 0,d)}function P(d,A){return function(){if(--A===0){const _=M.parentNode(d);M.removeChild(_,d)}}}function p(d,A){var g,_;let f,G=d.data;if(G!==void 0){const o=(g=G.hook)===null||g===void 0?void 0:g.init;h(o)&&(o(d),G=d.data)}const C=d.children,l=d.sel;if(l==="!")Y(d.text)&&(d.text=""),d.elm=M.createComment(d.text);else if(l!==void 0){const o=l.indexOf("#"),s=l.indexOf(".",o),n=o>0?o:l.length,t=s>0?s:l.length,r=o!==-1||s!==-1?l.slice(0,Math.min(n,t)):l,i=d.elm=h(G)&&h(f=G.ns)?M.createElementNS(f,r,G):M.createElement(r,G);for(n<t&&i.setAttribute("id",l.slice(n+1,t)),s>0&&i.setAttribute("class",l.slice(t+1).replace(/\./g," ")),f=0;f<z.create.length;++f)z.create[f](T,d);if(w.array(C))for(f=0;f<C.length;++f){const u=C[f];u!=null&&M.appendChild(i,p(u,A))}else w.primitive(d.text)&&M.appendChild(i,M.createTextNode(d.text));const $=d.data.hook;h($)&&((_=$.create)===null||_===void 0||_.call($,T,d),$.insert&&A.push(d))}else d.elm=M.createTextNode(d.text);return d.elm}function I(d,A,g,_,f,G){for(;_<=f;++_){const C=g[_];C!=null&&M.insertBefore(d,p(C,G),A)}}function H(d){var A,g;const _=d.data;if(_!==void 0){(g=(A=_==null?void 0:_.hook)===null||A===void 0?void 0:A.destroy)===null||g===void 0||g.call(A,d);for(let f=0;f<z.destroy.length;++f)z.destroy[f](d);if(d.children!==void 0)for(let f=0;f<d.children.length;++f){const G=d.children[f];G!=null&&typeof G!="string"&&H(G)}}}function L(d,A,g,_){for(var f,G;g<=_;++g){let C,l;const o=A[g];if(o!=null)if(h(o.sel)){H(o),C=z.remove.length+1,l=P(o.elm,C);for(let n=0;n<z.remove.length;++n)z.remove[n](o,l);const s=(G=(f=o==null?void 0:o.data)===null||f===void 0?void 0:f.hook)===null||G===void 0?void 0:G.remove;h(s)?s(o,l):l()}else M.removeChild(d,o.elm)}}function E(d,A,g,_){let f=0,G=0,C=A.length-1,l=A[0],o=A[C],s=g.length-1,n=g[0],t=g[s],r,i,$,u;for(;f<=C&&G<=s;)l==null?l=A[++f]:o==null?o=A[--C]:n==null?n=g[++G]:t==null?t=g[--s]:re(l,n)?(a(l,n,_),l=A[++f],n=g[++G]):re(o,t)?(a(o,t,_),o=A[--C],t=g[--s]):re(l,t)?(a(l,t,_),M.insertBefore(d,l.elm,M.nextSibling(o.elm)),l=A[++f],t=g[--s]):re(o,n)?(a(o,n,_),M.insertBefore(d,o.elm,l.elm),o=A[--C],n=g[++G]):(r===void 0&&(r=B(A,f,C)),i=r[n.key],Y(i)?M.insertBefore(d,p(n,_),l.elm):($=A[i],$.sel!==n.sel?M.insertBefore(d,p(n,_),l.elm):(a($,n,_),A[i]=void 0,M.insertBefore(d,$.elm,l.elm))),n=g[++G]);(f<=C||G<=s)&&(f>C?(u=g[s+1]==null?null:g[s+1].elm,I(d,u,g,G,s,_)):L(d,A,f,C))}function a(d,A,g){var _,f,G,C,l;const o=(_=A.data)===null||_===void 0?void 0:_.hook;(f=o==null?void 0:o.prepatch)===null||f===void 0||f.call(o,d,A);const s=A.elm=d.elm,n=d.children,t=A.children;if(d!==A){if(A.data!==void 0){for(let r=0;r<z.update.length;++r)z.update[r](d,A);(C=(G=A.data.hook)===null||G===void 0?void 0:G.update)===null||C===void 0||C.call(G,d,A)}Y(A.text)?h(n)&&h(t)?n!==t&&E(s,n,t,g):h(t)?(h(d.text)&&M.setTextContent(s,""),I(s,null,t,0,t.length-1,g)):h(n)?L(s,n,0,n.length-1):h(d.text)&&M.setTextContent(s,""):d.text!==A.text&&(h(n)&&L(s,n,0,n.length-1),M.setTextContent(s,A.text)),(l=o==null?void 0:o.postpatch)===null||l===void 0||l.call(o,d,A)}}return function(A,g){let _,f,G;const C=[];for(_=0;_<z.pre.length;++_)z.pre[_]();for(U(A)||(A=q(A)),re(A,g)?a(A,g,C):(f=A.elm,G=M.parentNode(f),p(g,C),G!==null&&(M.insertBefore(G,g.elm,M.nextSibling(f)),L(G,[A],0,0))),_=0;_<C.length;++_)C[_].data.hook.insert(C[_]);for(_=0;_<z.post.length;++_)z.post[_]();return g}}},{"./htmldomapi":3,"./is":5,"./vnode":13}],5:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.primitive=w,F.array=void 0;const X=Array.isArray;F.array=X;function w(O){return typeof O=="string"||typeof O=="number"||O instanceof String||O instanceof Number}},{}],6:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.attributesModule=void 0;const X="http://www.w3.org/1999/xlink",w="http://www.w3.org/XML/1998/namespace",O=58,V=120;function x(h,T){let re;const U=T.elm;let B=h.data.attrs,ee=T.data.attrs;if(!(!B&&!ee)&&B!==ee){B=B||{},ee=ee||{};for(re in ee){const W=ee[re];B[re]!==W&&(W===!0?U.setAttribute(re,""):W===!1?U.removeAttribute(re):re.charCodeAt(0)!==V?U.setAttribute(re,W):re.charCodeAt(3)===O?U.setAttributeNS(w,re,W):re.charCodeAt(5)===O?U.setAttributeNS(X,re,W):U.setAttribute(re,W))}for(re in B)re in ee||U.removeAttribute(re)}}const Y={create:x,update:x};F.attributesModule=Y},{}],7:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.classModule=void 0;function X(O,V){let x,Y;const h=V.elm;let T=O.data.class,re=V.data.class;if(!(!T&&!re)&&T!==re){T=T||{},re=re||{};for(Y in T)T[Y]&&!Object.prototype.hasOwnProperty.call(re,Y)&&h.classList.remove(Y);for(Y in re)x=re[Y],x!==T[Y]&&h.classList[x?"add":"remove"](Y)}}const w={create:X,update:X};F.classModule=w},{}],8:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.datasetModule=void 0;const X=/[A-Z]/g;function w(V,x){const Y=x.elm;let h=V.data.dataset,T=x.data.dataset,re;if(!h&&!T||h===T)return;h=h||{},T=T||{};const U=Y.dataset;for(re in h)T[re]||(U?re in U&&delete U[re]:Y.removeAttribute("data-"+re.replace(X,"-$&").toLowerCase()));for(re in T)h[re]!==T[re]&&(U?U[re]=T[re]:Y.setAttribute("data-"+re.replace(X,"-$&").toLowerCase(),T[re]))}const O={create:w,update:w};F.datasetModule=O},{}],9:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.eventListenersModule=void 0;function X(Y,h,T){if(typeof Y=="function")Y.call(h,T,h);else if(typeof Y=="object")for(let re=0;re<Y.length;re++)X(Y[re],h,T)}function w(Y,h){const T=Y.type,re=h.data.on;re&&re[T]&&X(re[T],h,Y)}function O(){return function Y(h){w(h,Y.vnode)}}function V(Y,h){const T=Y.data.on,re=Y.listener,U=Y.elm,B=h&&h.data.on,ee=h&&h.elm;let W;if(T!==B){if(T&&re)if(B)for(W in T)B[W]||U.removeEventListener(W,re,!1);else for(W in T)U.removeEventListener(W,re,!1);if(B){const b=h.listener=Y.listener||O();if(b.vnode=h,T)for(W in B)T[W]||ee.addEventListener(W,b,!1);else for(W in B)ee.addEventListener(W,b,!1)}}}const x={create:V,update:V,destroy:V};F.eventListenersModule=x},{}],10:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.propsModule=void 0;function X(O,V){let x,Y,h;const T=V.elm;let re=O.data.props,U=V.data.props;if(!(!re&&!U)&&re!==U){re=re||{},U=U||{};for(x in U)Y=U[x],h=re[x],h!==Y&&(x!=="value"||T[x]!==Y)&&(T[x]=Y)}}const w={create:X,update:X};F.propsModule=w},{}],11:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.styleModule=void 0;const X=typeof window<"u"&&window.requestAnimationFrame.bind(window)||setTimeout,w=function(U){X(function(){X(U)})};let O=!1;function V(U,B,ee){w(function(){U[B]=ee})}function x(U,B){let ee,W;const b=B.elm;let k=U.data.style,z=B.data.style;if(!k&&!z||k===z)return;k=k||{},z=z||{};const M="delayed"in k;for(W in k)z[W]||(W[0]==="-"&&W[1]==="-"?b.style.removeProperty(W):b.style[W]="");for(W in z)if(ee=z[W],W==="delayed"&&z.delayed)for(const q in z.delayed)ee=z.delayed[q],(!M||ee!==k.delayed[q])&&V(b.style,q,ee);else W!=="remove"&&ee!==k[W]&&(W[0]==="-"&&W[1]==="-"?b.style.setProperty(W,ee):b.style[W]=ee)}function Y(U){let B,ee;const W=U.elm,b=U.data.style;if(!(!b||!(B=b.destroy)))for(ee in B)W.style[ee]=B[ee]}function h(U,B){const ee=U.data.style;if(!ee||!ee.remove){B();return}O||(U.elm.offsetLeft,O=!0);let W;const b=U.elm;let k=0;const z=ee.remove;let M=0;const q=[];for(W in z)q.push(W),b.style[W]=z[W];const p=getComputedStyle(b)["transition-property"].split(", ");for(;k<p.length;++k)q.indexOf(p[k])!==-1&&M++;b.addEventListener("transitionend",function(I){I.target===b&&--M,M===0&&B()})}function T(){O=!1}const re={pre:T,create:x,update:x,destroy:Y,remove:h};F.styleModule=re},{}],12:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.toVNode=O;var X=e("./vnode"),w=e("./htmldomapi");function O(V,x){const Y=x!==void 0?x:w.htmlDomApi;let h;if(Y.isElement(V)){const T=V.id?"#"+V.id:"",re=V.getAttribute("class"),U=re?"."+re.split(" ").join("."):"",B=Y.tagName(V).toLowerCase()+T+U,ee={},W=[];let b,k,z;const M=V.attributes,q=V.childNodes;for(k=0,z=M.length;k<z;k++)b=M[k].nodeName,b!=="id"&&b!=="class"&&(ee[b]=M[k].nodeValue);for(k=0,z=q.length;k<z;k++)W.push(O(q[k],x));return(0,X.vnode)(B,{attrs:ee},W,void 0,V)}else return Y.isText(V)?(h=Y.getTextContent(V),(0,X.vnode)(void 0,void 0,void 0,h,V)):Y.isComment(V)?(h=Y.getTextContent(V),(0,X.vnode)("!",{},[],h,V)):(0,X.vnode)("",{},[],void 0,V)}},{"./htmldomapi":3,"./vnode":13}],13:[function(e,y,F){Object.defineProperty(F,"__esModule",{value:!0}),F.vnode=X;function X(w,O,V,x,Y){const h=O===void 0?void 0:O.key;return{sel:w,data:O,children:V,text:x,elm:Y,key:h}}},{}]},{},[1])(1)});Opal.loaded(["vendor/snabbdom.js"]);Opal.modules["snabberb/component"]=function(e){var y=e.module,F=e.klass,X=e.ensure_kwargs,w=e.kwrestargs,O=e.send,V=e.defs,x=e.truthy,Y=e.rb_minus,h=e.def,T=e.rb_le,re=e.not,U=e.slice,B=e.extract_kwargs,ee=e.hash_get,W=[],b=e.nil,k=e.$$$;return e.add_stubs("attr_accessor,attr_reader,[]=,class_needs,respond_to?,superclass,clone,new,node=,update!,html,root?,store,-,keys,empty?,raise,init_needs,==,node_to_s,render,is_a?,<=,class,!,convert,<<,request_ids,shift,node,root,nil?,stores?,instance_variable_set,update,dig,private,each,[],key?,html_escape,needs"),function(z,M){var q=y(z,"Snabberb"),P=[q].concat(M),p=e.$r(P);return function(I,H,L){var E=F(I,H,"Component"),a=[E].concat(L),d=e.$r(a),A=E.$$prototype;A.root=A.store=A.request_ids=b,E.$attr_accessor("node"),E.$attr_reader("root");const g=new Set(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),_=new Set(["attributes","childElementCount","children","classList","clientHeight","clientLeft","clientTop","clientWidth","currentStyle","firstElementChild","innerHTML","lastElementChild","nextElementSibling","ongotpointercapture","onlostpointercapture","onwheel","outerHTML","previousElementSibling","runtimeStyle","scrollHeight","scrollLeft","scrollLeftMax","scrollTop","scrollTopMax","scrollWidth","tabStop","tagName"]),f=new Set(["disabled","visible","checked","readonly","required","allowfullscreen","autofocus","autoplay","compact","controls","default","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","noresize","noshade","novalidate","nowrap","open","reversed","seamless","selected","sortable","truespeed","typemustmatch"]),G=snabbdom.init([snabbdom.attributesModule,snabbdom.classModule,snabbdom.datasetModule,snabbdom.eventListenersModule,snabbdom.propsModule,snabbdom.styleModule]);return V(E,"$needs",function(l,o){var s,n,t=this;return o=X(o),s=w(o,{}),n=[l,s],O(t.$class_needs(),"[]=",n),n[n.length-1]},-2),V(E,"$class_needs",function(){var l=this,o=b;return l.class_needs==null&&(l.class_needs=b),l.class_needs=x(o=l.class_needs)?o:x(l.$superclass()["$respond_to?"]("class_needs"))?l.$superclass().$class_needs().$clone():new Map}),V(E,"$attach",function(l,o){var s,n=this,t=b;return o=X(o),s=w(o,{}),t=n.$new(b,s),t["$node="](document.getElementById(l)),t["$update!"]()},-2),V(E,"$html",function(l){var o,s=this,n=b;return l=X(l),o=w(l,{}),n=s.$new(b,o),n.$html()},-1),h(E,"$initialize",function(l,o){var s=this,n=b,t=b;return s.root=x(n=l)?n:s,s.store=x(s["$root?"]())?new Map:s.root.$store(),t=Y(o.$keys(),s.$class_needs().$keys()),x(t["$empty?"]())||s.$raise("Unused needs passed to component: "+t+"."),s.$init_needs(o)}),h(E,"$root?",function(){var l=this;return l["$=="](l.root)}),h(E,"$render",function(){var l=this;return l.$raise(d("NotImplementedError"))}),h(E,"$html",function(){var l=this;return l.$node_to_s(l.$render())}),h(E,"$h",function(l,o,s){var n=this,t=b,r=b;return o==null&&(o=new Map),s==null&&(s=b),x(l["$is_a?"](d("Class")))?(x(T(l,d("Component")))||n.$raise("Element '"+l+"' must be a subclass of "+n.$class()),t=l.$new(n.root,e.to_hash(o)),t.$render()):(r=o["$is_a?"](d("Hash")),re(s)&&re(r)&&(s=o),x(r)||(o=new Map),snabbdom.h(l,d("Native").$convert(o),s))},-2),h(E,"$update",function(){var l=this;return l.$request_ids()["$<<"](window.requestAnimationFrame(function(o){l["$update!"]()}))}),h(E,"$update!",function(){var l,o=this,s=b;return o.$request_ids().$shift(),x(o.$request_ids()["$empty?"]())?(s=o.root.$render(),G(o.$root().$node(),s),l=[s],O(o.root,"node=",l),l[l.length-1]):b}),h(E,"$store",function(l,o,s){var n,t,r,i,$,u=this,v=b;return n=U(arguments),t=B(n),t=X(t),n.length>0&&(r=n.shift()),r==null&&(r=b),n.length>0&&(i=n.shift()),i==null&&(i=b),$=ee(t,"skip"),$==null&&($=!1),x(r["$nil?"]())?u.store:(x(u["$stores?"](r))||u.$raise("Cannot store key '"+r+"' since it is not a stored need of "+u.$class()+"."),u.store["$[]="](r,i),v="@"+r,u.$instance_variable_set(v,i),re(u["$root?"]())&&x(u.root["$stores?"](r))&&u.root.$instance_variable_set(v,i),x($)?b:u.$update())},-1),h(E,"$class_needs",function(){var l=this;return l.$class().$class_needs()}),h(E,"$stores?",function(l){var o=this;return o.$class_needs().$dig(l,"store")}),h(E,"$request_ids",function(){var l=this,o=b;return x(l["$root?"]())?l.request_ids=x(o=l.request_ids)?o:[]:l.root.$request_ids()}),E.$private(),h(E,"$init_needs",function(l){var o=this;return O(o.$class_needs(),"each",[],function s(n,t){var r,i=s.$$s==null?this:s.$$s,$=b;return i.store==null&&(i.store=b),n==null&&(n=b),t==null&&(t=b),$="@"+n,x(i.store["$key?"](n))&&x(t["$[]"]("store"))?i.$instance_variable_set($,i.store["$[]"](n)):x(l["$key?"](n))?(x(t["$[]"]("store"))&&re(i.store["$key?"](n))&&i.store["$[]="](n,l["$[]"](n)),i.$instance_variable_set($,l["$[]"](n))):x((r=t,r===b||r==null?b:r["$key?"]("default")))?i.$instance_variable_set($,t["$[]"]("default")):i.$raise("Needs '"+n+"' required but not provided.")},{$$s:o})}),h(E,"$parse_sel",function(l){let o="",s="";const n={};return l.split(".").forEach((r,i)=>{i==0?(r=r.split("#"),r.length>1&&(s=r[1]),r=r[0],i==0?o=r:n[r]=!0):o?n[r]=!0:o=r}),{tag:o,id:s,classes:n}}),h(E,"$node_to_s",function(l){var o=this;if(!l.sel)return o.$escape(l.text);const s=o.$parse_sel(l.sel);for(const u in l.data.class)l.data.class[u]?s.classes[u]=!0:delete s.classes[u];let n={};s.id.length>0&&(n.id=s.id);const t=Object.keys(s.classes);t.length>0&&(n.class=t.join(" "));for(const u in l.data.attrs)n[u]=l.data.attrs[u];for(const u in l.data.dataset)n["data-"+u]=l.data.dataset[u];for(const u in l.data.props)if(!_.has(u)){const v=l.data.props[u];f.has(u)?v&&(n[u]=u):n[u]=v}const r=[];for(let u in l.data.style){const v=l.data.style[u];u=u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r.push(u+": "+v)}r.length>0&&(n.style=r.join("; ")),n=Object.keys(n).map(u=>o.$escape(u)+'="'+o.$escape(n[u])+'"');const i=s.tag,$=["<"+i];return n.length>0&&$.push(" "+n.join(" ")),$.push(">"),g.has(i)||(l.data.props&&l.data.props.innerHTML?$.push(l.data.props.innerHTML):l.text?$.push(o.$escape(l.text)):l.children&&l.children.forEach(u=>$.push(o.$node_to_s(u))),$.push("</"+i+">")),$.join("")}),h(E,"$escape",function(l){return k(d("ERB"),"Util").$html_escape(l)})}(P[0],null,P),function(I,H){var L=F(I,H,"Layout");return L.$needs("application"),L.$needs("attach_func"),L.$needs("javascript_include_tags")}(P[0],k(p("Snabberb"),"Component"))}(W[0],W)};Opal.modules.snabberb=function(e){var y=e.module,F=e.top,X=[],w=e.nil;return e.add_stubs("require"),F.$require("erb"),F.$require("native"),F.$require("vendor/snabbdom"),F.$require("snabberb/component"),y(X[0],"Snabberb"),w};Opal.modules["components/counter"]=function(e){var y=e.klass,F=e.lambda,X=e.rb_minus,w=e.rb_plus,O=e.rb_times,V=e.def,x=e.truthy,Y=e.rb_gt,h=e.rb_lt,T=[],re=e.$r(T),U=e.nil,B=e.$$$;return e.add_stubs("needs,h,to_s,store,-,+,status_display,*,abs,private,>,<"),function(ee,W){var b=y(ee,W,"Counter"),k=b.$$prototype;return k.count=U,b.$needs("count",new Map([["default",0],["store",!0]])),V(b,"$render",function(){var M=this;return M.$h("div",[M.$h("div",new Map([["class",new Map([["counter-display",!0]])]]),[M.$h("div",new Map([["class",new Map([["count-value",!0]])]]),M.count.$to_s())]),M.$h("div",new Map([["class",new Map([["counter-controls",!0]])]]),[M.$h("button",new Map([["class",new Map([["btn",!0],["btn-decrement",!0]])],["on",new Map([["click",F(function q(){var P=q.$$s==null?this:q.$$s;return P.count==null&&(P.count=U),P.$store("count",X(P.count,1))},{$$s:M})]])]]),""),M.$h("button",new Map([["class",new Map([["btn",!0],["btn-reset",!0]])],["on",new Map([["click",F(function q(){var P=q.$$s==null?this:q.$$s;return P.$store("count",0)},{$$s:M})]])]]),"Reset"),M.$h("button",new Map([["class",new Map([["btn",!0],["btn-increment",!0]])],["on",new Map([["click",F(function q(){var P=q.$$s==null?this:q.$$s;return P.count==null&&(P.count=U),P.$store("count",w(P.count,1))},{$$s:M})]])]]),"+")]),M.$h("div",new Map([["style",new Map([["textAlign","center"],["color","#666"]])]]),[M.$h("p","Current count: "+M.count),M.$h("p",new Map([["class",new Map([["status",!0]])]]),[M.$status_display()]),M.$h("p",new Map([["style",new Map([["marginTop","0.5rem"],["fontSize","0.85rem"],["color","#999"]])]]),"Double: "+O(M.count,2)+" | Absolute: "+M.count.$abs())])])}),b.$private(),V(b,"$status_display",function(){var M=this;return x(Y(M.count,0))?M.$h("span",new Map([["class",new Map([["positive",!0]])]])," Positive"):x(h(M.count,0))?M.$h("span",new Map([["class",new Map([["negative",!0]])]])," Negative"):M.$h("span",new Map([["class",new Map([["zero",!0]])]])," Zero")})}(T[0],B(re("Snabberb"),"Component"))};Opal.modules["components/todo_app"]=function(e){var y=e.klass,F=e.lambda,X=e.truthy,w=e.send,O=e.eqeq,V=e.rb_gt,x=e.def,Y=e.rb_plus,h=[],T=e.$r(h),re=e.nil,U=e.$$$;return e.add_stubs("needs,h,compact,store,add_todo,empty?,map,render_todo_item,any?,remaining_count,==,>,completed_count,clear_completed,private,[],toggle_todo,remove_todo,strip,+,reject,!,count"),function(B,ee){var W=y(B,ee,"TodoApp"),b=W.$$prototype;return b.new_todo=b.todos=b.next_id=re,W.$needs("todos",new Map([["default",[]],["store",!0]])),W.$needs("new_todo",new Map([["default",""],["store",!0]])),W.$needs("next_id",new Map([["default",1],["store",!0]])),x(W,"$render",function(){var z=this;return z.$h("div",[z.$h("div",new Map([["class",new Map([["todo-input",!0]])]]),[z.$h("input",new Map([["attrs",new Map([["type","text"],["placeholder","What needs to be done?"]])],["props",new Map([["value",z.new_todo]])],["on",new Map([["input",F(function M(q){var P=M.$$s==null?this:M.$$s;return q==null&&(q=re),P.$store("new_todo",q.target.value)},{$$s:z})],["keyup",F(function M(q){var P=M.$$s==null?this:M.$$s;return q==null&&(q=re),X(q.key==="Enter")?P.$add_todo():re},{$$s:z})]])]])),z.$h("button",new Map([["on",new Map([["click",F(function M(){var q=M.$$s==null?this:M.$$s;return q.$add_todo()},{$$s:z})]])]]),"Add")]),X(z.todos["$empty?"]())?z.$h("div",new Map([["class",new Map([["empty-state",!0]])]]),[z.$h("p","No todos yet. Add one above!")]):z.$h("ul",new Map([["class",new Map([["todo-list",!0]])]]),w(z.todos,"map",[],function M(q){var P=M.$$s==null?this:M.$$s;return q==null&&(q=re),P.$render_todo_item(q)},{$$s:z})),X(z.todos["$any?"]())?z.$h("div",new Map([["class",new Map([["todo-stats",!0]])]]),[z.$h("span",""+z.$remaining_count()+" item"+(O(z.$remaining_count(),1)?"":"s")+" left"),X(V(z.$completed_count(),0))?z.$h("button",new Map([["class",new Map([["clear-completed",!0]])],["on",new Map([["click",F(function M(){var q=M.$$s==null?this:M.$$s;return q.$clear_completed()},{$$s:z})]])]]),"Clear completed ("+z.$completed_count()+")"):re].$compact()):re].$compact())}),W.$private(),x(W,"$render_todo_item",function(z){var M=this;return M.$h("li",new Map([["key",z["$[]"]("id")],["class",new Map([["todo-item",!0],["completed",z["$[]"]("completed")]])]]),[M.$h("input",new Map([["attrs",new Map([["type","checkbox"]])],["props",new Map([["checked",z["$[]"]("completed")]])],["on",new Map([["change",F(function q(){var P=q.$$s==null?this:q.$$s;return P.$toggle_todo(z["$[]"]("id"))},{$$s:M})]])]])),M.$h("span",z["$[]"]("text")),M.$h("button",new Map([["class",new Map([["delete-btn",!0]])],["on",new Map([["click",F(function q(){var P=q.$$s==null?this:q.$$s;return P.$remove_todo(z["$[]"]("id"))},{$$s:M})]])]]),"Delete")])}),x(W,"$add_todo",function(){var z=this,M=re,q=re;return M=z.new_todo.$strip(),X(M["$empty?"]())?re:(q=Y(z.todos,[new Map([["id",z.next_id],["text",M],["completed",!1]])]),z.$store("todos",q),z.$store("next_id",Y(z.next_id,1)),z.$store("new_todo",""))}),x(W,"$remove_todo",function(z){var M=this,q=re;return q=w(M.todos,"reject",[],function(p){return p==null&&(p=re),p["$[]"]("id")["$=="](z)}),M.$store("todos",q)}),x(W,"$toggle_todo",function(z){var M=this,q=re;return q=w(M.todos,"map",[],function(p){return p==null&&(p=re),O(p["$[]"]("id"),z)?new Map([["id",p["$[]"]("id")],["text",p["$[]"]("text")],["completed",p["$[]"]("completed")["$!"]()]]):p}),M.$store("todos",q)}),x(W,"$clear_completed",function(){var z=this,M=re;return M=w(z.todos,"reject",[],function(P){return P==null&&(P=re),P["$[]"]("completed")}),z.$store("todos",M)}),x(W,"$remaining_count",function(){var z=this;return w(z.todos,"count",[],function(q){return q==null&&(q=re),q["$[]"]("completed")["$!"]()})}),x(W,"$completed_count",function(){var z=this;return w(z.todos,"count",[],function(q){return q==null&&(q=re),q["$[]"]("completed")})})}(h[0],U(T("Snabberb"),"Component"))};Opal.queue(function(e){var y=e.top,F=[],X=e.$r(F);e.nil,e.add_stubs("require,puts,attach"),y.$require("native"),y.$require("snabberb"),y.$require("components/counter"),y.$require("components/todo_app"),document.addEventListener("DOMContentLoaded",function(){y.$puts("DOM ready, mounting Snabberb components..."),X("Counter").$attach("counter-app"),y.$puts("Counter mounted!"),X("TodoApp").$attach("todo-app"),y.$puts("TodoApp mounted!"),y.$puts("All Snabberb components initialized!")})});console.log("Snabberb + Opal + Vite Example");console.log("Ruby version:",Opal.RUBY_VERSION);console.log("Application loaded!")});export default Ne();
