Opal.modules.native=function(r){var w=r.hash_put,j=r.module,F=r.defs,y=r.slice,ee=r.truthy,Z=r.send,M=r.Kernel,X=r.extract_kwargs,m=r.ensure_kwargs,P=r.hash_get,$e=r.range,Q=r.to_a,V=r.def,ne=r.return_ivar,Y=r.alias,A=r.klass,E=r.rb_minus,U=r.return_val,K=r.send2,R=r.find_super,G=r.eqeqeq,v=r.rb_ge,x=r.return_self,T=r.gvars,q=r.top,b=[],a=r.$r(b),d=r.nil,k=r.$$$;return r.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module"),function(h,_){var l=j(h,"Native"),H=[l].concat(_),L=r.$r(H);return F(l,"$is_a?",function(u,i){var n=this;try{return u instanceof n.$try_convert(i)}catch{return!1}}),F(l,"$try_convert",function(u,i){var n=this;return i==null&&(i=d),n["$native?"](u)?u:u["$respond_to?"]("to_n")?u.$to_n():i},-2),F(l,"$convert",function(u){var i=this;if(i["$native?"](u))return u;if(u["$respond_to?"]("to_n"))return u.$to_n();i.$raise(L("ArgumentError"),""+u.$inspect()+" isn't native")}),F(l,"$call",function f(u,i,n){var t=f.$$p||d,e,$,s=this;f.$$p=null,e=y(arguments,2),$=e;var o=u[i];if(o instanceof Function){for(var g=new Array($.length),z=0,S=$.length;z<S;z++){var I=$[z],B=s.$try_convert(I);g[z]=B===d?I:B}return t!==d&&g.push(t),s.$Native(o.apply(u,g))}else return s.$Native(o)},-3),F(l,"$proc",function f(){var u=f.$$p||d,i=this;return f.$$p=null,ee(u)||i.$raise(L("LocalJumpError"),"no block given"),Z(M,"proc",[],function n(t){var e,$,s=n.$$s==null?this:n.$$s,o=d;if(e=y(arguments),$=e,Z($,"map!",[],function z(S){var I=z.$$s==null?this:z.$$s;return S==null&&(S=d),I.$Native(S)},{$$s:s}),o=s.$Native(this),this===r.global)return u.apply(s,$);var g=u.$$s;u.$$s=null;try{return u.apply(o,$)}finally{u.$$s=g}},{$$arity:-1,$$s:i})}),function(f,u){var i=j(f,"Helpers"),n=[i].concat(u),t=r.$r(n);return V(i,"$alias_native",function e($,s,o){var g,z,S,I;e.$$p;var B=this;return e.$$p=null,g=y(arguments,1),z=X(g),z=m(z),g.length>0&&(S=g.shift()),S==null&&(S=$),I=P(z,"as"),I==null&&(I=d),ee(S["$end_with?"]("="))?Z(B,"define_method",[$],function O(se){var le=O.$$s==null?this:O.$$s;return le.native==null&&(le.native=d),se==null&&(se=d),le.native[S["$[]"]($e(0,-2,!1))]=t("Native").$convert(se),se},{$$s:B}):ee(I)?Z(B,"define_method",[$],function O(se){var le=O.$$p||d,fe,de,he=O.$$s==null?this:O.$$s,ve=d;return he.native==null&&(he.native=d),O.$$p=null,fe=y(arguments),de=fe,ve=Z(t("Native"),"call",[he.native,S].concat(Q(de)),le.$to_proc()),ee(ve)?I.$new(ve.$to_n()):d},{$$arity:-1,$$s:B}):Z(B,"define_method",[$],function O(se){var le=O.$$p||d,fe,de,he=O.$$s==null?this:O.$$s;return he.native==null&&(he.native=d),O.$$p=null,fe=y(arguments),de=fe,Z(t("Native"),"call",[he.native,S].concat(Q(de)),le.$to_proc())},{$$arity:-1,$$s:B})},-2),V(i,"$native_reader",function($){var s,o,g=this;return s=y(arguments),o=s,Z(o,"each",[],function z(S){var I=z.$$s==null?this:z.$$s;return S==null&&(S=d),Z(I,"define_method",[S],function B(){var O=B.$$s==null?this:B.$$s;return O.native==null&&(O.native=d),O.$Native(O.native[S])},{$$s:I})},{$$s:g})},-1),V(i,"$native_writer",function($){var s,o,g=this;return s=y(arguments),o=s,Z(o,"each",[],function z(S){var I=z.$$s==null?this:z.$$s;return S==null&&(S=d),Z(I,"define_method",[""+S+"="],function B(O){var se=B.$$s==null?this:B.$$s;return se.native==null&&(se.native=d),O==null&&(O=d),se.$Native(se.native[S]=O)},{$$s:I})},{$$s:g})},-1),V(i,"$native_accessor",function($){var s,o,g=this;return s=y(arguments),o=s,Z(g,"native_reader",Q(o)),Z(g,"native_writer",Q(o))},-1)}(H[0],H),function(f,u){var i=j(f,"Wrapper"),n=[i].concat(u),t=r.$r(n);return V(i,"$initialize",function($){var s=this;return ee(M["$native?"]($))||M.$raise(t("ArgumentError"),""+$.$inspect()+" isn't native"),s.native=$}),V(i,"$to_n",ne("native")),F(i,"$included",function($){return $.$extend(t("Helpers"))})}(H[0],H),F(l,"$included",function(u){var i=this;return i.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),u.$include(L("Wrapper"))})}(b[0],b),function(h,_){var l=j(h,"Kernel"),H=[l].concat(_),L=r.$r(H);return V(l,"$native?",function(u){return u==null||!u.$$class}),V(l,"$Native",function f(u){f.$$p;var i=this;return f.$$p=null,ee(u==null)?d:ee(i["$native?"](u))?k(L("Native"),"Object").$new(u):ee(u["$is_a?"](L("Array")))?Z(u,"map",[],function n(t){var e=n.$$s==null?this:n.$$s;return t==null&&(t=d),e.$Native(t)},{$$s:i}):ee(u["$is_a?"](L("Proc")))?Z(i,"proc",[],function n(t){var e=n.$$p||d,$,s,o=n.$$s==null?this:n.$$s;return n.$$p=null,$=y(arguments),s=$,o.$Native(Z(u,"call",Q(s),e.$to_proc()))},{$$arity:-1,$$s:i}):u}),Y(l,"_Array","Array"),V(l,"$Array",function f(u,i){var n=f.$$p||d,t,e,$=this;return f.$$p=null,t=y(arguments,1),e=t,ee($["$native?"](u))?Z(k(L("Native"),"Array"),"new",[u].concat(Q(e)),n.$to_proc()).$to_a():$.$_Array(u)},-2)}(b[0],b),function(h,_){var l=A(h,_,"Object"),H=l.$$prototype;return H.native=d,l.$include(k(k("Native"),"Wrapper")),V(l,"$==",function(f){var u=this;return u.native===k("Native").$try_convert(f)}),V(l,"$has_key?",function(f){var u=this;return r.hasOwnProperty.call(u.native,f)}),V(l,"$each",function L(f){var u,i,n=L.$$p||d,t=this;if(L.$$p=null,u=y(arguments),i=u,n!==d){for(var e in t.native)r.yieldX(n,[e,t.native[e]]);return t}else return Z(t,"method_missing",["each"].concat(Q(i)))},-1),V(l,"$[]",function(f){var u=this,i=u.native[f];return i instanceof Function?i:k("Native").$call(u.native,f)}),V(l,"$[]=",function(f,u){var i=this,n=d;return n=k("Native").$try_convert(u),ee(n===d)?i.native[f]=u:i.native[f]=n}),V(l,"$merge!",function(f){var u=this;f=k("Native").$convert(f);for(var i in f)u.native[i]=f[i];return u}),V(l,"$respond_to?",function(f,u){var i=this;return u==null&&(u=!1),M.$instance_method("respond_to?").$bind(i).$call(f,u)},-2),V(l,"$respond_to_missing?",function(f,u){var i=this;return r.hasOwnProperty.call(i.native,f)},-2),V(l,"$method_missing",function L(f,u){var i=L.$$p||d,n,t,e,$=this;return L.$$p=null,n=y(arguments,1),t=n,f.charAt(f.length-1)==="="?(e=[f.$slice(0,E(f.$length(),1)),t["$[]"](0)],Z($,"[]=",e),e[e.length-1]):Z(k("Native"),"call",[$.native,f].concat(Q(t)),i.$to_proc())},-2),V(l,"$nil?",U(!1)),V(l,"$is_a?",function(f){var u=this;return r.is_a(u,f)}),V(l,"$instance_of?",function(f){var u=this;return u.$$class===f}),V(l,"$class",function(){var f=this;return f.$$class}),V(l,"$to_a",function L(f){var u=L.$$p||d,i=this;return L.$$p=null,f==null&&(f=new Map),Z(k(k("Native"),"Array"),"new",[i.native,f],u.$to_proc()).$to_a()},-1),V(l,"$inspect",function(){var f=this;return"#<Native:"+String(f.native)+">"}),Y(l,"include?","has_key?"),Y(l,"key?","has_key?"),Y(l,"kind_of?","is_a?"),Y(l,"member?","has_key?")}(a("Native"),a("BasicObject")),function(h,_,l){var H=A(h,_,"Array"),L=[H].concat(l),f=r.$r(L),u=H.$$prototype;return u.named=u.native=u.get=u.block=u.set=u.length=d,H.$include(k(f("Native"),"Wrapper")),H.$include(f("Enumerable")),V(H,"$initialize",function i(n,t){var e=i.$$p||d,$=this,s=d;return i.$$p=null,t==null&&(t=new Map),K($,R($,"initialize",i,!1,!0),"initialize",[n],null),$.get=ee(s=t["$[]"]("get"))?s:t["$[]"]("access"),$.named=t["$[]"]("named"),$.set=ee(s=t["$[]"]("set"))?s:t["$[]"]("access"),$.length=ee(s=t["$[]"]("length"))?s:"length",$.block=e,ee($.$length()==null)?$.$raise(f("ArgumentError"),"no length found on the array-like object"):d},-2),V(H,"$each",function i(){var n=i.$$p||d,t=this;if(i.$$p=null,!ee(n))return t.$enum_for("each");for(var e=0,$=t.$length();e<$;e++)r.yield1(n,t["$[]"](e));return t}),V(H,"$[]",function(n){var t=this,e=d,$=d;return e=G(f("String"),$=n)||G(f("Symbol"),$)?ee(t.named)?t.native[t.named](n):t.native[n]:G(f("Integer"),$)?ee(t.get)?t.native[t.get](n):t.native[n]:d,ee(e)?ee(t.block)?t.block.$call(e):t.$Native(e):d}),V(H,"$[]=",function(n,t){var e=this;return ee(e.set)?e.native[e.set](n,f("Native").$convert(t)):e.native[n]=f("Native").$convert(t)}),V(H,"$last",function(n){var t=this,e=d,$=d;if(n==null&&(n=d),ee(n)){for(e=E(t.$length(),1),$=[];ee(v(e,0));)$["$<<"](t["$[]"](e)),e=E(e,1);return $}else return t["$[]"](E(t.$length(),1))},-1),V(H,"$length",function(){var n=this;return n.native[n.length]}),V(H,"$inspect",function(){var n=this;return n.$to_a().$inspect()}),Y(H,"to_ary","to_a")}(a("Native"),null,b),function(h,_){var l=A(h,_,"Numeric");return V(l,"$to_n",function(){var L=this;return L.valueOf()})}(b[0],null),function(h,_){var l=A(h,_,"Proc");return V(l,"$to_n",x)}(b[0],null),function(h,_){var l=A(h,_,"String");return V(l,"$to_n",function(){var L=this;return L.valueOf()})}(b[0],null),function(h,_){var l=A(h,_,"Regexp");return V(l,"$to_n",function(){var L=this;return L.valueOf()})}(b[0],null),function(h,_){var l=A(h,_,"MatchData");return V(l,"$to_n",ne("matches"))}(b[0],null),function(h,_,l){var H=A(h,_,"Struct"),L=[H].concat(l),f=r.$r(L);return V(H,"$to_n",function(){var i=this,n=d;return n={},Z(i,"each_pair",[],function(e,$){return e==null&&(e=d),$==null&&($=d),n[e]=f("Native").$try_convert($,$)}),n})}(b[0],null,b),function(h,_,l){var H=A(h,_,"Array"),L=[H].concat(l),f=r.$r(L);return V(H,"$to_n",function(){for(var i=this,n=[],t=0,e=i.length;t<e;t++){var $=i[t];n.push(f("Native").$try_convert($,$))}return n})}(b[0],null,b),function(h,_){var l=A(h,_,"Boolean");return V(l,"$to_n",function(){var L=this;return L.valueOf()})}(b[0],null),function(h,_){var l=A(h,_,"Time");return V(l,"$to_n",x)}(b[0],null),function(h,_){var l=A(h,_,"NilClass");return V(l,"$to_n",function(){return null})}(b[0],null),ee(a("Hash")["$method_defined?"]("_initialize"))||function(h,_,l){var H=A(h,_,"Hash"),L=[H].concat(l),f=r.$r(L);Y(H,"_initialize","initialize");function u(i,n,t){t&&(t.constructor===void 0||t.constructor===Object||t instanceof Map)?w(i,n,f("Hash").$new(t)):t&&t.$$is_array?(t=t.map(function(e){return e&&(e.constructor===void 0||e.constructor===Object||t instanceof Map)?f("Hash").$new(e):H.$Native(e)}),w(i,n,t)):w(i,n,H.$Native(t))}return V(H,"$initialize",function i(n){var t=i.$$p||d,e=this;if(i.$$p=null,n!=null)if(n.constructor===void 0||n.constructor===Object){var $,s;for($ in n)s=n[$],u(e,$,s);return e}else n instanceof Map&&r.hash_each(n,!1,function(o,g){return u(e,o,g),[!1,!1]});return Z(e,"_initialize",[n],t.$to_proc())},-1),V(H,"$to_n",function(){var n=this,t={};return r.hash_each(n,!1,function(e,$){return t[f("Native").$try_convert(e,e)]=f("Native").$try_convert($,$),[!1,!1]}),t})}(b[0],null,b),function(h,_){var l=A(h,_,"Module");return V(l,"$native_module",function(){var L=this;return r.global[L.$name()]=L})}(b[0],null),function(h,_,l){var H=A(h,_,"Class"),L=[H].concat(l),f=r.$r(L);return V(H,"$native_alias",function(i,n){var t=this,e=t.prototype[r.jsid(n)];e||t.$raise(f("NameError").$new("undefined method `"+n+"' for class `"+t.$inspect()+"'",n)),t.prototype[i]=e}),V(H,"$native_class",function(){var i=this;return i.$native_module(),i.new=i.$new})}(b[0],null,b),T.$=T.global=q.$Native(r.global)};(function(r){var w;if(typeof globalThis<"u"?r=globalThis:typeof global<"u"?r=global:typeof window<"u"&&(r=window),r.console==null&&(r.console={}),typeof r.console=="object"?w=r.console:w={},"log"in w||(w.log=function(){}),"warn"in w||(w.warn=w.log),typeof r.Opal<"u")return w.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),r.Opal;var j,F,y,ee,Z,M,X,m=r.Opal={};m.global=r,m.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var P=Function.prototype.call,$e=Function.prototype.bind,Q=Object.hasOwn||P.bind(Object.prototype.hasOwnProperty),V=Object.setPrototypeOf,ne=P.bind(Array.prototype.slice),Y=P.bind(Array.prototype.splice),A=4,E=A;function U(){return E+=2,E}m.uid=U,m.id=function(c){return c.$$is_number?c*2+1:(c.$$id==null&&v(c,"$$id",U()),c.$$id)};var K=m.gvars={};m.exit=function(c){K.DEBUG&&w.log("Exited with status "+c)},m.exceptions=[],m.pop_exception=function(c){var p=m.exceptions.pop();p===c||(p?K["!"]=p:K["!"]=j)};function R(c,p){if(c||(c=m.Exception||Error),X&&X.$raise)arguments.length>2?X.$raise(c.$new.apply(c,ne(arguments,1))):X.$raise(c,p);else throw c.$new?c.$new(p):new c(p)}var G={value:void 0,enumerable:!1,configurable:!0,writable:!0};function v(c,p,D){typeof c=="string"?c[p]=D:(G.value=D,Object.defineProperty(c,p,G))}m.prop=v,m.defineProperty=m.prop,m.slice=ne;var x=m.truthy=function(c){return c!==!1&&j!==c&&c!==void 0&&c!==null&&(!(c instanceof Boolean)||c.valueOf()===!0)};m.falsy=function(c){return!x(c)},m.type_error=function(c,p,D,re){c=c.$$class,re&&D?(re=re.$$class,R(m.TypeError,"can't convert "+c+" into "+p+" ("+c+"#"+D+" gives "+re+")")):R(m.TypeError,"no implicit conversion of "+c+" into "+p)},m.coerce_to=function(c,p,D,re){var ue;return D==="to_int"&&p===m.Integer&&c.$$is_number?c<0?Math.ceil(c):Math.floor(c):D==="to_str"&&p===m.String&&c.$$is_string||m.is_a(c,p)?c:c["$respond_to?"].$$pristine&&c.$method_missing.$$pristine?(ue=c[de(D)],(ue==null||ue.$$stub)&&m.type_error(c,p),ue.apply(c,re)):(c["$respond_to?"](D)||m.type_error(c,p),re==null&&(re=[]),m.send(c,D,re))},m.respond_to=function(c,p,D){if(c==null||!c.$$class)return!1;D=!!D;var re=c[p];if(c["$respond_to?"].$$pristine){if(typeof re=="function"&&!re.$$stub)return!0;if(!c["$respond_to_missing?"].$$pristine)return m.send(c,c["$respond_to_missing?"],[p.substr(1),D])}else return m.send(c,c["$respond_to?"],[p.substr(1),D])},m.trace_class=!1,m.tracers_for_class=[];function T(c){var p,D,re;for(p=0,D=m.tracers_for_class.length;p<D;p++)re=m.tracers_for_class[p],re.trace_object=c,re.block.$call(re)}function q(c,p){if(c.$$autoload[p].loaded){if(c.$$autoload[p].loaded&&!c.$$autoload[p].required&&c.$$autoload[p].exception)throw c.$$autoload[p].exception}else{c.$$autoload[p].loaded=!0;try{m.Kernel.$require(c.$$autoload[p].path)}catch(D){throw c.$$autoload[p].exception=D,D}if(c.$$autoload[p].required=!0,c.$$const[p]!=null)return c.$$autoload[p].success=!0,c.$$const[p]}}function b(c,p){if(c){if(c.$$const[p]!=null)return c.$$const[p];if(c.$$autoload&&c.$$autoload[p])return q(c,p)}}function a(c,p){var D,re,ue;if(c.length!==0)for(D=0,re=c.length;D<re;D++){if(ue=c[D].$$const[p],ue!=null)return ue;if(c[D].$$autoload&&c[D].$$autoload[p])return q(c[D],p)}}function d(c,p){var D,re,ue;if(c!=null)for(ue=B(c),D=0,re=ue.length;D<re;D++){if(ue[D].$$const&&Q(ue[D].$$const,p))return ue[D].$$const[p];if(ue[D].$$autoload&&ue[D].$$autoload[p])return q(ue[D],p)}}function k(c,p){if(c==null||c.$$is_module)return d(y,p)}function h(c,p){return(c||y).$const_missing(p)}m.const_get_local=function(c,p,D){var re;if(c!=null)return c==="::"&&(c=y),!c.$$is_module&&!c.$$is_class&&R(m.TypeError,c.toString()+" is not a class/module"),re=b(c,p),re!=null||D?re:h(c,p)},m.const_get_qualified=function(c,p,D){var re,ue,_e,ge=m.const_cache_version;if(p==null)return re=b(y,c),re??m.const_get_qualified(y,c,D);if(c!=null)return c==="::"&&(c=y),!c.$$is_module&&!c.$$is_class&&R(m.TypeError,c.toString()+" is not a class/module"),(ue=c.$$const_cache)==null&&(v(c,"$$const_cache",Object.create(null)),ue=c.$$const_cache),_e=ue[p],_e==null||_e[0]!==ge?((re=b(c,p))!=null||(re=d(c,p))!=null,ue[p]=[ge,re]):re=_e[1],re!=null||D?re:h(c,p)},m.const_cache_version=1,m.const_get_relative=function(c,p,D){var re=c[0],ue,_e=m.const_cache_version,ge,pe;return(ge=c.$$const_cache)==null&&(v(c,"$$const_cache",Object.create(null)),ge=c.$$const_cache),pe=ge[p],pe==null||pe[0]!==_e?((ue=b(re,p))!=null||(ue=a(c,p))!=null||(ue=d(re,p))!=null||(ue=k(re,p))!=null,ge[p]=[_e,ue]):ue=pe[1],ue!=null||D?ue:h(re,p)};function _(c,p,D){var re=!0;return(c==null||c==="::")&&(c=y),D.$$is_a_module&&((D.$$name==null||D.$$name===j)&&(D.$$name=p),D.$$base_module==null&&(D.$$base_module=c)),c.$$const=c.$$const||Object.create(null),(p in c.$$const||"$$autoload"in c&&p in c.$$autoload)&&(re=!1),c.$$const[p]=D,c.$$=c.$$const,m.const_cache_version++,c===y&&(m[p]=D),v(c,p,D),re&&c.$const_added&&!c.$const_added.$$pristine&&c.$const_added(p),D}m.const_set=_,m.constants=function(c,p){p==null&&(p=!0);var D,re=[c],ue,_e,ge={},pe;for(p&&(re=re.concat(B(c))),p&&c.$$is_module&&(re=re.concat([m.Object]).concat(B(m.Object))),ue=0,_e=re.length;ue<_e&&(D=re[ue],!(c!==y&&D==y));ue++){for(pe in D.$$const)ge[pe]=!0;if(D.$$autoload)for(pe in D.$$autoload)ge[pe]=!0}return Object.keys(ge)},m.const_remove=function(c,p){if(m.const_cache_version++,c.$$const[p]!=null){var D=c.$$const[p];return delete c.$$const[p],D}if(c.$$autoload&&c.$$autoload[p])return delete c.$$autoload[p],j;R(m.NameError,"constant "+c+"::"+c.$name()+" not defined")},m.const_get_relative_factory=function(c){return function(p,D){return m.$$(c,p,D)}},m.$$=m.const_get_relative,m.$$$=m.const_get_qualified,m.$r=m.const_get_relative_factory;function l(c){return c==null?!1:c.$$bridge?c:c.$$super?l(c.$$super):!1}function H(c,p,D){var re,ue;if((ue=l(p))?re=function(){var ye=new($e.apply(ue.$$constructor,he(null,arguments)));return V(ye,re.$$prototype),ye}:re=function(){},c&&c!==j&&v(re,"displayName","::"+c),v(re,"$$name",c),v(re,"$$constructor",re),v(re,"$$prototype",re.prototype),v(re,"$$const",{}),v(re,"$$is_class",!0),v(re,"$$is_a_module",!0),v(re,"$$super",p),v(re,"$$cvars",{}),v(re,"$$own_included_modules",[]),v(re,"$$own_prepended_modules",[]),v(re,"$$ancestors",[]),v(re,"$$ancestors_cache_version",null),v(re,"$$subclasses",[]),v(re,"$$cloned_from",[]),v(re.$$prototype,"$$class",re),m.Class&&V(re,m.Class.prototype),p!=null){if(V(re.$$prototype,p.$$prototype),D!==!0)if(typeof WeakRef<"u"){var _e,ge,pe=[];for(_e=0;_e<p.$$subclasses.length;_e++)ge=p.$$subclasses[_e],ge.deref()!==void 0&&pe.push(ge);pe.push(new WeakRef(re)),p.$$subclasses=pe}else p.$$subclasses.push(re);p.$$meta&&m.build_class_singleton_class(re)}return re}m.allocate_class=H;function L(c,p){var D=b(c,p);if(D)return D.$$is_class||R(m.TypeError,p+" is not a class"),D}function f(c,p){c.$$super!==p&&R(m.TypeError,"superclass mismatch for class "+c.$$name)}m.klass=function(c,p,D){var re;c==null||c=="::"?c=y:!c.$$is_class&&!c.$$is_module&&(c=c.$$class),p!=null&&(!p.hasOwnProperty||p.hasOwnProperty&&!p.hasOwnProperty("$$is_class"))&&(p.constructor&&p.constructor.name=="Function"?(re=p,p=y):R(m.TypeError,"superclass must be a Class ("+(p.constructor&&(p.constructor.name||p.constructor.$$name)||typeof p)+" given)"));var ue=L(c,D);return ue!=null?p&&f(ue,p):(p==null&&(p=y),ue=H(D,p),_(c,D,ue),p.$inherited&&p.$inherited(ue),re&&m.bridge(re,ue)),m.trace_class&&T(ue),ue};function u(c){var p=function(){},D=p;return c&&v(p,"displayName",c+".constructor"),v(D,"$$name",c),v(D,"$$prototype",p.prototype),v(D,"$$const",{}),v(D,"$$is_module",!0),v(D,"$$is_a_module",!0),v(D,"$$cvars",{}),v(D,"$$iclasses",[]),v(D,"$$own_included_modules",[]),v(D,"$$own_prepended_modules",[]),v(D,"$$ancestors",[D]),v(D,"$$ancestors_cache_version",null),v(D,"$$cloned_from",[]),V(D,m.Module.prototype),D}m.allocate_module=u;function i(c,p){var D=b(c,p);return D==null&&c===y&&(D=d(y,p)),D&&!D.$$is_module&&D!==y&&R(m.TypeError,p+" is not a module"),D}m.module=function(c,p){var D;return c==null||c=="::"?c=y:!c.$$is_class&&!c.$$is_module&&(c=c.$$class),D=i(c,p),D==null&&(D=u(p),_(c,p,D)),m.trace_class&&T(D),D},m.get_singleton_class=function(c){return c.$$is_number&&R(m.TypeError,"can't define singleton"),c.$$meta?c.$$meta:c.hasOwnProperty("$$is_class")?m.build_class_singleton_class(c):c.hasOwnProperty("$$is_module")?m.build_module_singleton_class(c):m.build_object_singleton_class(c)};function n(c,p){c.hasOwnProperty("$$meta")?c.$$meta=p:v(c,"$$meta",p),c.$$frozen?c.$$meta.$freeze():V(c,p.$$prototype)}m.build_class_singleton_class=function(c){if(c.$$meta)return c.$$meta;var p=c===F?Z:m.get_singleton_class(c.$$super),D=H(null,p,!0);return v(D,"$$is_singleton",!0),v(D,"$$singleton_of",c),n(c,D),v(c,"$$class",m.Class),D},m.build_module_singleton_class=function(c){if(c.$$meta)return c.$$meta;var p=H(null,m.Module,!0);return v(p,"$$is_singleton",!0),v(p,"$$singleton_of",c),n(c,p),v(c,"$$class",m.Module),p},m.build_object_singleton_class=function(c){var p=c.$$class,D=H(j,p,!0);return v(D,"$$is_singleton",!0),v(D,"$$singleton_of",c),delete D.$$prototype.$$class,n(c,D),D},m.is_method=function(c){return c[0]==="$"&&c[1]!=="$"},m.instance_methods=function(c){for(var p=Object.create(null),D=[],re=B(c),ue=0,_e=re.length;ue<_e;ue++){var ge=re[ue],pe=ge.$$prototype;pe.hasOwnProperty("$$dummy")&&(pe=pe.$$define_methods_on);for(var ye=Object.getOwnPropertyNames(pe),we=0,ze=ye.length;we<ze;we++){var Ee=ye[we];if(!p[Ee]){if(m.is_method(Ee)){var xe=pe[Ee];if(!xe.$$stub){var qe=Ee.slice(1);D.push(qe)}}p[Ee]=!0}}}return D},m.own_instance_methods=function(c){var p=[],D=c.$$prototype;D.hasOwnProperty("$$dummy")&&(D=D.$$define_methods_on);for(var re=Object.getOwnPropertyNames(D),ue=0,_e=re.length;ue<_e;ue++){var ge=re[ue];if(m.is_method(ge)){var pe=D[ge];if(!pe.$$stub){var ye=ge.slice(1);p.push(ye)}}}return p},m.methods=function(c){return m.instance_methods(c.$$meta||c.$$class)},m.own_methods=function(c){return c.$$meta?m.own_instance_methods(c.$$meta):[]},m.receiver_methods=function(c){var p=m.get_singleton_class(c),D=m.own_instance_methods(p),re=m.own_instance_methods(p.$$super);return D.concat(re)},m.class_variables=function(c){var p=B(c),D,re=p.length,ue={};for(D=re-1;D>=0;D--){var _e=p[D];for(var ge in _e.$$cvars)ue[ge]=_e.$$cvars[ge]}return ue},m.class_variable_set=function(c,p,D){var re=B(c),ue,_e=re.length;for(ue=_e-2;ue>=0;ue--){var ge=re[ue];if(Q(ge.$$cvars,p))return ge.$$cvars[p]=D,D}return c.$$cvars[p]=D,D},m.class_variable_get=function(c,p,D){if(Q(c.$$cvars,p))return c.$$cvars[p];var re=B(c),ue,_e=re.length;for(ue=0;ue<_e;ue++){var ge=re[ue];if(Q(ge.$$cvars,p))return ge.$$cvars[p]}return D||R(m.NameError,"uninitialized class variable "+p+" in "+c.$name()),j};function t(c){return c.hasOwnProperty("$$iclass")&&c.hasOwnProperty("$$root")}function e(c){for(var p=[],D,re=Object.getPrototypeOf(c.$$prototype);re&&!re.hasOwnProperty("$$class");)D=S(re),D&&p.push(D),re=Object.getPrototypeOf(re);return p}function $(c){var p=[],D,re=Object.getPrototypeOf(c.$$prototype);if(c.$$prototype.hasOwnProperty("$$dummy"))for(;re&&re!==c.$$prototype.$$define_methods_on;)D=S(re),D&&p.push(D),re=Object.getPrototypeOf(re);return p}m.append_features=function(c,p){var D=B(c),re=[];D.indexOf(p)!==-1&&R(m.ArgumentError,"cyclic include detected");for(var ue=0,_e=D.length;ue<_e;ue++){var ge=D[ue],pe=o(ge);v(pe,"$$included",!0),re.push(pe)}var ye=B(p),we=z(re),ze,Ee;if(ye.indexOf(c)===-1)ze=p.$$prototype,Ee=Object.getPrototypeOf(p.$$prototype);else{for(var xe=p.$$prototype,qe=Object.getPrototypeOf(xe);qe!=null&&!(qe.$$module===c&&t(qe));)xe=qe,qe=Object.getPrototypeOf(qe);if(qe){for(var ke=Object.getPrototypeOf(qe);ke.hasOwnProperty("$$iclass")&&!t(ke);)ke=Object.getPrototypeOf(ke);ze=xe,Ee=ke}else ze=p.$$prototype,Ee=Object.getPrototypeOf(p.$$prototype)}V(ze,we.first),V(we.last,Ee),p.$$own_included_modules=e(p),m.const_cache_version++},m.prepend_features=function(c,p){var D=B(c),re=[];D.indexOf(p)!==-1&&R(m.ArgumentError,"cyclic prepend detected");for(var ue=0,_e=D.length;ue<_e;ue++){var ge=D[ue],pe=o(ge);v(pe,"$$prepended",!0),re.push(pe)}var ye=z(re),we=p.$$prototype,ze=Object.getPrototypeOf(we),Ee,xe,qe;we.hasOwnProperty("$$dummy")?Ee=we.$$define_methods_on:(Ee=g(p),s(p),v(we,"$$dummy",!0),v(we,"$$define_methods_on",Ee),V(we,Ee),V(Ee,ze));var ke=B(p);if(ke.indexOf(c)===-1)for(xe=we,qe=Object.getPrototypeOf(we);qe!=null&&!(qe.hasOwnProperty("$$root")||qe===Ee||!qe.hasOwnProperty("$$iclass"));)qe=Object.getPrototypeOf(qe);else R(m.RuntimeError,"Prepending a module multiple times is not supported");V(xe,ye.first),V(ye.last,qe),p.$$own_prepended_modules=$(p),m.const_cache_version++};function s(c){for(var p=c.$$prototype,D=Object.getOwnPropertyNames(p),re=0;re<D.length;re++){var ue=D[re];m.is_method(ue)&&delete p[ue]}}function o(c){var p=g(c);return c.$$is_module&&c.$$iclasses.push(p),p}function g(c){var p={},D=c.$$prototype;D.hasOwnProperty("$$dummy")&&(D=D.$$define_methods_on);var re=Object.getOwnPropertyNames(D),ue=re.length,_e;for(_e=0;_e<ue;_e++){var ge=re[_e];v(p,ge,D[ge])}return v(p,"$$iclass",!0),v(p,"$$module",c),p}function z(c){var p=c.length,D=c[0];if(v(D,"$$root",!0),p===1)return{first:D,last:D};for(var re=D,ue=1;ue<p;ue++){var _e=c[ue];V(re,_e),re=_e}return{first:c[0],last:c[p-1]}}m.bridge=function(c,p){c.hasOwnProperty("$$bridge")&&R(m.ArgumentError,"already bridged"),v(c,"$$bridge",p),V(c.prototype,(p.$$super||m.Object).$$prototype),v(p,"$$prototype",c.prototype),v(p.$$prototype,"$$class",p),v(p,"$$constructor",c),v(p,"$$bridge",!0)};function S(c){if(!c.hasOwnProperty("$$dummy")){if(c.hasOwnProperty("$$iclass"))return c.$$module;if(c.hasOwnProperty("$$class"))return c.$$class}}function I(c){return c.$$own_prepended_modules.concat([c]).concat(c.$$own_included_modules)}function B(c){if(!c)return[];if(c.$$ancestors_cache_version===m.const_cache_version)return c.$$ancestors;var p=[],D,re,ue;for(D=0,re=I(c),ue=re.length;D<ue;D++)p.push(re[D]);if(c.$$super)for(D=0,re=B(c.$$super),ue=re.length;D<ue;D++)p.push(re[D]);return c.$$ancestors_cache_version=m.const_cache_version,c.$$ancestors=p,p}m.ancestors=B,m.included_modules=function(c){for(var p=[],D=null,re=Object.getPrototypeOf(c.$$prototype);re&&Object.getPrototypeOf(re);re=Object.getPrototypeOf(re))D=S(re),D&&D.$$is_module&&re.$$iclass&&re.$$included&&p.push(D);return p},m.add_stubs=function(c){var p=m.BasicObject.$$prototype,D,re;c=c.split(",");for(var ue=0,_e=c.length;ue<_e;ue++)D=de(c[ue]),re=p[D],(re==null||re.$$stub)&&m.add_stub_for(p,D)},m.add_stub_for=function(c,p){v(c,p,m.stub_for(p))},m.stub_for=function(c){function p(){return this.$method_missing.$$p=p.$$p,p.$$p=null,this.$method_missing.apply(this,he(c.slice(1),arguments))}return p.$$stub=!0,p},m.ac=function(c,p,D,re){var ue="";D.$$is_a_module?ue+=D.$$name+".":ue+=D.$$class.$$name+"#",ue+=re,R(m.ArgumentError,"["+ue+"] wrong number of arguments (given "+c+", expected "+p+")")},m.block_ac=function(c,p,D){var re="`block in "+D+"'";R(m.ArgumentError,re+": wrong number of arguments (given "+c+", expected "+p+")")};function O(c){return c.hasOwnProperty("$$meta")&&c.$$meta!==null?B(c.$$meta):B(c.$$class)}m.find_super=function(c,p,D,re,ue){var _e=de(p),ge,pe,ye,we,ze=-1,Ee;for(ge=O(c),we=D.$$owner,Ee=0;Ee<ge.length;Ee++)if(pe=ge[Ee],pe===we||pe.$$cloned_from.indexOf(we)!==-1){ze=Ee;break}for(Ee=ze+1;Ee<ge.length;Ee++){pe=ge[Ee];var xe=pe.$$prototype;if(xe.hasOwnProperty("$$dummy")&&(xe=xe.$$define_methods_on),xe.hasOwnProperty(_e)){ye=xe[_e];break}}return!re&&ye&&ye.$$stub&&c.$method_missing.$$pristine&&R(m.NoMethodError,"super: no superclass method `"+p+"' for "+c,p),ye.$$stub&&!ue?null:ye},m.find_block_super=function(c,p,D,re,ue){var _e=p;return D||R(m.RuntimeError,"super called outside of method"),ue&&D.$$define_meth&&R(m.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),D.$$def&&(_e=D.$$jsid),m.find_super(c,_e,D,re)},m.find_super_dispatcher=m.find_super,m.find_iter_super_dispatcher=m.find_block_super;function se(c,p,D){try{c(p)}catch(re){if(re===D)return D.$v;throw re}}m.yield1=function(c,p){typeof c!="function"&&R(m.LocalJumpError,"no block given");var D=c.$$has_top_level_mlhs_arg,re=c.$$has_trailing_comma_in_args,ue=c.$$is_lambda&&c.$$ret;return(c.length>1||(D||re)&&c.length===1)&&(p=m.to_ary(p)),(c.length>1||re&&c.length===1)&&p.$$is_array?ue?se(c.apply.bind(c,null),p,c.$$ret):c.apply(null,p):ue?se(c,p,c.$$ret):c(p)},m.yieldX=function(c,p){return typeof c!="function"&&R(m.LocalJumpError,"no block given"),c.length>1&&p.length===1&&p[0].$$is_array&&(p=p[0]),c.$$is_lambda&&c.$$ret?se(c.apply.bind(c,null),p,c.$$ret):c.apply(null,p)},m.rescue=function(c,p){for(var D=0;D<p.length;D++){var re=p[D];if(re.$$is_array){var ue=m.rescue(c,re);if(ue)return ue}else if(re===m.JS.Error||re["$==="](c))return re}return null},m.is_a=function(c,p){if(p!=null&&c.$$meta===p||c.$$class===p)return!0;if(c.$$is_number&&p.$$is_number_class)return p.$$is_integer_class?c%1===0:!0;var D=B(c.$$is_class?m.get_singleton_class(c):c.$$meta||c.$$class);return D.indexOf(p)!==-1},m.to_hash=function(c){if(c.$$is_hash)return c;if(c["$respond_to?"]("to_hash",!0)){var p=c.$to_hash();if(p.$$is_hash)return p;R(m.TypeError,"Can't convert "+c.$$class+" to Hash ("+c.$$class+"#to_hash gives "+p.$$class+")")}else R(m.TypeError,"no implicit conversion of "+c.$$class+" into Hash")},m.to_ary=function(c){if(c.$$is_array)return c;if(c["$respond_to?"]("to_ary",!0)){var p=c.$to_ary();if(p===j)return[c];if(p.$$is_array)return p;R(m.TypeError,"Can't convert "+c.$$class+" to Array ("+c.$$class+"#to_ary gives "+p.$$class+")")}else return[c]},m.to_a=function(c){if(c.$$is_array)return c.slice();if(c["$respond_to?"]("to_a",!0)){var p=c.$to_a();if(p===j)return[c];if(p.$$is_array)return p;R(m.TypeError,"Can't convert "+c.$$class+" to Array ("+c.$$class+"#to_a gives "+p.$$class+")")}else return[c]},m.extract_kwargs=function(c){var p=c[c.length-1];if(p!=null&&m.respond_to(p,"$to_hash",!0))return Y(c,c.length-1),p},m.kwrestargs=function(c,p){var D=new Map;return m.hash_each(c,!1,function(re,ue){return p[re]||m.hash_put(D,re,ue),[!1,!1]}),D};function le(c,p){typeof p=="number"?c.$$arity=p:typeof p=="object"&&Object.assign(c,p)}var fe=new Map;function de(c){var p=fe.get(c);return p||(p="$"+c,fe.set(c,p)),p}m.jsid=de;function he(c,p){return p.$$is_array||(p=ne(p)),[c].concat(p)}m.send=function(c,p,D,re,ue){var _e;return typeof p=="function"?(_e=p,p=null):typeof p=="string"?_e=c[de(p)]:R(m.NameError,"Passed method should be a string or a function"),m.send2(c,_e,p,D,re,ue)},m.send2=function(c,p,D,re,ue,_e){return p==null&&D!=null&&c.$method_missing&&(p=c.$method_missing,re=he(D,re)),le(ue,_e),typeof ue=="function"&&(p.$$p=ue),p.apply(c,re)},m.refined_send=function(c,p,D,re,ue,_e){var ge,pe,ye,we,ze,Ee,xe,qe,ke,Ae;for(we=O(p),ge=0;ge<we.length;ge++)for(ze=m.id(we[ge]),pe=0;pe<c.length;pe++)for(Ee=c[pe],ye=Ee.length-1;ye>=0;ye--)if(xe=Ee[ye],!(typeof xe.$$refine_modules>"u")&&(qe=xe.$$refine_modules,!(typeof qe[ze]>"u")&&(ke=qe[ze],typeof ke.$$prototype[de(D)]<"u")))return Ae=ke.$$prototype[de(D)],m.send2(p,Ae,D,re,ue,_e);return m.send(p,D,re,ue,_e)},m.lambda=function(c,p){return c.$$is_lambda=!0,le(c,p),c},m.def=function(c,p,D,re){return le(D,re),c===m.top?m.defn(m.Object,p,D):!c.$$eval&&c.$$is_a_module?m.defn(c,p,D):m.defs(c,p,D)},m.defn=function(c,p,D){N(c),D.displayName=p,D.$$owner=c;var re=p.substr(1),ue=c.$$prototype;if(ue.hasOwnProperty("$$dummy")&&(ue=ue.$$define_methods_on),v(ue,p,D),c.$$is_module){c.$$module_function&&m.defs(c,p,D);for(var _e=0,ge=c.$$iclasses,pe=ge.length;_e<pe;_e++){var ye=ge[_e];v(ye,p,D)}}var we=c.$$singleton_of;return c.$method_added&&!c.$method_added.$$stub&&!we?c.$method_added(re):we&&we.$singleton_method_added&&!we.$singleton_method_added.$$stub&&we.$singleton_method_added(re),re},m.defs=function(c,p,D,re){return le(D,re),(c.$$is_string||c.$$is_number)&&R(m.TypeError,"can't define singleton"),m.defn(m.get_singleton_class(c),p,D)};function ve(c,p){if(c.$$is_module)for(var D=0,re=c.$$iclasses,ue=re.length;D<ue;D++){var _e=re[D];delete _e[p]}}m.rdef=function(c,p){Q(c.$$prototype,p)||R(m.NameError,"method '"+p.substr(1)+"' not defined in "+c.$name()),delete c.$$prototype[p],ve(c,p),c.$$is_singleton?c.$$prototype.$singleton_method_removed&&!c.$$prototype.$singleton_method_removed.$$stub&&c.$$prototype.$singleton_method_removed(p.substr(1)):c.$method_removed&&!c.$method_removed.$$stub&&c.$method_removed(p.substr(1))},m.udef=function(c,p){(!c.$$prototype[p]||c.$$prototype[p].$$stub)&&R(m.NameError,"method '"+p.substr(1)+"' not defined in "+c.$name()),m.add_stub_for(c.$$prototype,p),ve(c,p),c.$$is_singleton?c.$$prototype.$singleton_method_undefined&&!c.$$prototype.$singleton_method_undefined.$$stub&&c.$$prototype.$singleton_method_undefined(p.substr(1)):c.$method_undefined&&!c.$method_undefined.$$stub&&c.$method_undefined(p.substr(1))};function me(c){return typeof c=="function"&&!c.$$stub}m.alias=function(c,p,D){var re=de(p),ue=de(D),_e,ge;if(typeof c.$$prototype>"u"&&(c=m.Object),_e=c.$$prototype[ue],c.$$eval)return m.alias(m.get_singleton_class(c),p,D);if(!me(_e)){for(var pe=c.$$super;typeof _e!="function"&&pe;)_e=pe[ue],pe=pe.$$super;!me(_e)&&c.$$is_module&&(_e=m.Object.$$prototype[ue]),me(_e)||R(m.NameError,"undefined method `"+D+"' for class `"+c.$name()+"'")}return _e.$$alias_of&&(_e=_e.$$alias_of),ge=m.wrap_method_body(_e),ge.displayName=p,ge.$$alias_of=_e,ge.$$alias_name=p,m.defn(c,re,ge),c},m.wrap_method_body=function(c){var p=function(){var D=p.$$p;return p.$$p=null,m.send(this,c,arguments,D)};try{Object.defineProperty(p,"length",{value:c.length})}catch{}return p.$$arity=c.$$arity==null?c.length:c.$$arity,p.$$parameters=c.$$parameters,p.$$source_location=c.$$source_location,p},m.alias_gvar=function(c,p){return Object.defineProperty(K,c,{configurable:!0,enumerable:!0,get:function(){return K[p]},set:function(D){K[p]=D}}),j},m.alias_native=function(c,p,D){var re=de(p),ue=c.$$prototype[D];return(typeof ue!="function"||ue.$$stub)&&R(m.NameError,"undefined native method `"+D+"' for class `"+c.$name()+"'"),m.defn(c,re,ue),c},m.hash_init=function(c){w.warn("DEPRECATION: Opal.hash_init is deprecated and is now a no-op.")},m.hash_clone=function(c,p){return p.$$none=c.$$none,p.$$proc=c.$$proc,m.hash_each(c,p,function(D,re){return m.hash_put(p,D,re),[!1,p]})},m.hash_put=function(c,p,D){var re=typeof p;if(re==="string"||re==="symbol"||re==="number"||re==="boolean"||re==="bigint")c.set(p,D);else if(p.$$is_string)c.set(p.valueOf(),D);else{c.$$keys||(c.$$keys=new Map);var ue=p.$$is_string?p.valueOf():c.$$by_identity?m.id(p):p.$hash(),_e=c.$$keys;if(!_e.has(ue)){_e.set(ue,[p]),c.set(p,D);return}for(var ge=_e.get(ue),pe,ye=0;ye<ge.length;ye++)if(pe=ge[ye],p===pe||p["$eql?"](pe)){c.set(pe,D);return}ge.push(p),c.set(p,D)}},m.hash_get=function(c,p){var D=typeof p;if(D==="string"||D==="symbol"||D==="number"||D==="boolean"||D==="bigint")return c.get(p);if(c.$$keys){var re=p.$$is_string?p.valueOf():c.$$by_identity?m.id(p):p.$hash(),ue=c.$$keys.get(re),_e;if(ue!==void 0){for(var ge=0;ge<ue.length;ge++)if(_e=ue[ge],p===_e||p["$eql?"](_e))return c.get(_e)}else if(p.$$is_string)return c.get(re)}else if(p.$$is_string)return c.get(p.valueOf())};function be(c,p){var D=c.get(p);if(D!==void 0)return c.delete(p),D}m.hash_delete=function(c,p){var D=typeof p;if(D==="string"||D==="symbol"||D==="number"||D==="boolean"||D==="bigint")return be(c,p);if(c.$$keys){var re=p.$$is_string?p.valueOf():c.$$by_identity?m.id(p):p.$hash(),ue=c.$$keys.get(re),_e;if(ue!==void 0){for(var ge=0;ge<ue.length;ge++)if(_e=ue[ge],p===_e||p["$eql?"](_e))return ue.splice(ge,1),ue.length===0&&c.$$keys.delete(re),be(c,_e)}else if(p.$$is_string)return be(c,re)}else if(p.$$is_string)return be(c,p.valueOf())},m.hash_rehash=function(c){var p=c.$$keys;return p&&p.clear(),m.hash_each(c,!1,function(D,re){var ue=typeof D;if(ue==="string"||ue==="symbol"||ue==="number"||ue==="boolean"||ue==="bigint")return[!1,!1];var _e=D.$$is_string?D.valueOf():c.$$by_identity?m.id(D):D.$hash();if(p||(c.$$keys=p=new Map),!p.has(_e))return p.set(_e,[D]),[!1,!1];for(var ge=p.get(_e),pe=ge.length===1?ge:ne(ge),ye,we=0;we<pe.length;we++)ye=pe[we],(D===ye||D["$eql?"](ye))&&(ge.splice(ge.indexOf(ye),1),c.delete(ye));return ge.push(D),[!1,!1]}),c},m.hash=function(){var c=arguments.length,p,D,re,ue,_e,ge;if(c===1&&arguments[0].$$is_hash)return arguments[0];if(D=new Map,c===1)if(p=arguments[0],arguments[0].$$is_array){for(ue=p.length,re=0;re<ue;re++)p[re].length!==2&&R(m.ArgumentError,"value not of length 2: "+p[re].$inspect()),_e=p[re][0],ge=p[re][1],m.hash_put(D,_e,ge);return D}else{p=arguments[0];for(_e in p)Q(p,_e)&&(ge=p[_e],m.hash_put(D,_e,ge));return D}for(c%2!==0&&R(m.ArgumentError,"odd number of arguments for Hash"),re=0;re<c;re+=2)_e=arguments[re],ge=arguments[re+1],m.hash_put(D,_e,ge);return D},m.hash2=function(c,p){w.warn("DEPRECATION: `Opal.hash2` is deprecated and will be removed in Opal 2.0. Use `new Map()` with an array of key/value pairs instead.");for(var D=new Map,re=0,ue=c.length;re<ue;re++)D.set(c[re],p[c[re]]);return D},m.hash_each=function(c,p,D){for(var re,ue=0,_e,ge=Array.from(c.entries()),pe=ge.length;ue<pe;ue++)if(_e=ge[ue],re=D(_e[0],_e[1]),re[0])return re[1];return re?re[1]:p},m.range=function(c,p,D){var re=new m.Range;return re.begin=c,re.end=p,re.excl=D,re};var ie=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];m.ivar=function(c){return ie.indexOf(c)!==-1&&(c+="$"),c};function N(c){c.$$frozen&&R(m.FrozenError,"can't modify frozen "+c.$class()+": "+c,new Map([["receiver",c]]))}m.deny_frozen_access=N,m.freeze=function(c){return v(c,"$$frozen",!0),c.hasOwnProperty("$$id")||v(c,"$$id",U()),c.hasOwnProperty("$$meta")?c.$$meta.$freeze():v(c,"$$meta",null),c.hasOwnProperty("$$comparable")||v(c,"$$comparable",null),Object.seal(c),c};function C(c,p){var D=Object.getOwnPropertyNames(c),re=D.length,ue,_e,ge;for(ue=0;ue<re;ue++)_e=D[ue],_e[0]!=="$"&&(ge=Object.getOwnPropertyDescriptor(c,_e),ge&&ge.enumerable&&p(_e,ge))}m.each_ivar=C,m.freeze_props=function(c){var p={get:null,set:function(D){N(c)},enumerable:!0};C(c,function(D,re){re.writable&&(p.get=ae(re.value),Object.defineProperty(c,D,p))})},m.escape_regexp=function(c){return c.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},m.global_regexp=function(c){return c.global?c:(c.$$g==null?c.$$g=new RegExp(c.source,(c.multiline?"gm":"g")+(c.ignoreCase?"i":"")):c.$$g.lastIndex=null,c.$$g)},m.global_multiline_regexp=function(c){var p,D;return c.global&&c.multiline?c:(D="gm"+(c.ignoreCase?"i":""),c.multiline?(c.$$g==null&&(c.$$g=new RegExp(c.source,D)),p=c.$$g):(c.$$gm==null&&(c.$$gm=new RegExp(c.source,D)),p=c.$$gm),p.lastIndex=null,p)},m.regexp=function(c,p){for(var D,re=typeof p<"u"&&p&&p.indexOf("i")>=0,ue=0,_e=c.length;ue<_e;ue++)D=c[ue],D instanceof RegExp&&(D.ignoreCase!==re&&m.Kernel.$warn("ignore case doesn't match for "+D.source.$inspect(),new Map([["uplevel",1]])),D=D.source),D===""&&(D="(?:"+D+")"),c[ue]=D;return p?new RegExp(c.join(""),p):new RegExp(c.join(""))},m.modules={},m.loaded_features=["corelib/runtime"],m.current_dir=".",m.require_table={"corelib/runtime":!0},m.normalize=function(c){var p,D,re=[],ue="/";m.current_dir!=="."&&(c=m.current_dir.replace(/\/*$/,"/")+c),c=c.replace(/^\.\//,""),c=c.replace(/\.(rb|opal|js)$/,""),p=c.split(ue);for(var _e=0,ge=p.length;_e<ge;_e++)D=p[_e],D!==""&&(D===".."?re.pop():re.push(D));return re.join(ue)},m.loaded=function(c){var p,D,re;for(p=0,D=c.length;p<D;p++)re=m.normalize(c[p]),!m.require_table[re]&&(m.loaded_features.push(re),m.require_table[re]=!0)},m.load_normalized=function(c){m.loaded([c]);var p=m.modules[c];if(p){var D=p(m);if(typeof Promise<"u"&&D instanceof Promise)return D.then(ae(!0))}else{var re=m.config.missing_require_severity,ue="cannot load such file -- "+c;re==="error"?R(m.LoadError,ue):re==="warning"&&w.warn("WARNING: LoadError: "+ue)}return!0},m.load=function(c){return c=m.normalize(c),m.load_normalized(c)},m.require=function(c){return c=m.normalize(c),m.require_table[c]?!1:m.load_normalized(c)},m.encodings=Object.create(null),m.set_encoding=function(c,p,D){typeof D>"u"&&(D="encoding"),(typeof c=="string"||c.$$frozen===!0)&&R(m.FrozenError,"can't modify frozen String");var re=m.find_encoding(p);return re===c[D]||(c[D]=re),c},m.find_encoding=function(c){var p=m.encodings,D=p[c]||p[c.toUpperCase()];return D||R(m.ArgumentError,"unknown encoding name - "+c),D},m.enc=function(c,p){var D=new String(c);return D=m.set_encoding(D,p),D.internal_encoding=D.encoding,D},m.binary=function(c){var p=new String(c);return m.set_encoding(p,"binary","internal_encoding")},m.last_promise=null,m.promise_unhandled_exception=!1,m.queue=function(c){if(m.last_promise)return m.last_promise=m.last_promise.then(function(){if(!m.promise_unhandled_exception)return c(m)}).catch(function(D){m.respond_to(D,"$full_message")&&(D=D.$full_message()),w.error(D),m.promise_unhandled_exception=!0,m.exit(1)}),m.last_promise;var p=c(m);return typeof Promise=="function"&&typeof p=="object"&&p instanceof Promise&&(m.last_promise=p),p};function J(c,p){return typeof c=="number"&&typeof p=="number"}m.rb_plus=function(c,p){return J(c,p)?c+p:c["$+"](p)},m.rb_minus=function(c,p){return J(c,p)?c-p:c["$-"](p)},m.rb_times=function(c,p){return J(c,p)?c*p:c["$*"](p)},m.rb_divide=function(c,p){return J(c,p)?c/p:c["$/"](p)},m.rb_lt=function(c,p){return J(c,p)?c<p:c["$<"](p)},m.rb_gt=function(c,p){return J(c,p)?c>p:c["$>"](p)},m.rb_le=function(c,p){return J(c,p)?c<=p:c["$<="](p)},m.rb_ge=function(c,p){return J(c,p)?c>=p:c["$>="](p)};function W(c,p){return typeof c=="number"&&typeof p=="number"||typeof c=="string"&&typeof p=="string"}function te(c,p){return W(c,p)?c===p:x(c["$=="](p))}m.eqeq=te,m.eqeqeq=function(c,p){return W(c,p)?c===p:x(c["$==="](p))},m.neqeq=function(c,p){return W(c,p)?c!==p:x(c["$!="](p))},m.not=function(c){return c==null||c===!1||j===c?!0:c===!0||c["$!"].$$pristine?!1:x(c["$!"]())};function ae(c){return function(){return c}}m.return_val=ae,m.return_self=function(){return this},m.return_ivar=function(c){return function(){return this[c]==null?j:this[c]}},m.assign_ivar=function(c){return function(p){return N(this),this[c]=p}},m.assign_ivar_val=function(c,p){return function(){return N(this),this[c]=p}},m.ensure_kwargs=function(c){if(c==null)return new Map;if(c.$$is_hash)return c;R(m.ArgumentError,"expected kwargs")},m.get_kwarg=function(c,p){var D=m.hash_get(c,p);return D===void 0&&R(m.ArgumentError,"missing keyword: "+p),D},m.large_array_unpack=function(c){var p=c.split(","),D=p.length,re;for(re=0;re<D;re++)switch(p[re][0]){case void 0:p[re]=j;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p[re]=+p[re]}return p},m.opal32_init=ae(1332765036);function oe(c,p){return c<<p|c>>>32-p}m.opal32_add=function(c,p){return c^=p,c=oe(c,1),c},m.BasicObject=F=H("BasicObject",null),m.Object=y=H("Object",m.BasicObject),m.Module=ee=H("Module",m.Object),m.Class=Z=H("Class",m.Module),m.Opal=M=u("Opal"),m.Kernel=X=u("Kernel"),V(m.BasicObject,m.Class.$$prototype),V(m.Object,m.Class.$$prototype),V(m.Module,m.Class.$$prototype),V(m.Class,m.Class.$$prototype),F.$$const.BasicObject=F,_(y,"BasicObject",F),_(y,"Object",y),_(y,"Module",ee),_(y,"Class",Z),_(y,"Opal",M),_(y,"Kernel",X),F.$$class=Z,y.$$class=Z,ee.$$class=Z,Z.$$class=Z,M.$$class=ee,X.$$class=ee,v(y.$$prototype,"toString",function(){var c=this.$to_s();return c.$$is_string&&typeof c=="object"?c.valueOf():c}),v(y.$$prototype,"$require",m.require),m.top=new y,m.top.$to_s=m.top.$inspect=ae("main"),m.top.$define_method=ce;function ce(){var c=ce.$$p;return ce.$$p=null,m.send(y,"define_method",arguments,c)}m.NilClass=H("NilClass",m.Object),_(y,"NilClass",m.NilClass),j=m.nil=new m.NilClass,j.$$id=A,j.call=j.apply=function(){R(m.LocalJumpError,"no block given")},j.$$frozen=!0,j.$$comparable=!1,Object.seal(j),m.thrower=function(c){var p={$thrower_type:c,$throw:function(D,re){throw D==null&&(D=j),this.is_orphan&&!re&&R(m.LocalJumpError,"unexpected "+c,D,c.$to_sym()),this.$v=D,this},is_orphan:!1};return p},Object.defineProperty(K,"@",{enumerable:!0,configurable:!0,get:function(){return x(K["!"])?K["!"].$backtrace():j},set:function(c){x(K["!"])?K["!"].$set_backtrace(c):R(m.ArgumentError,"$! not set")}}),m.t_eval_return=m.thrower("return"),TypeError.$$super=Error,m.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(r){var w=r.type_error,j=r.coerce_to,F=r.module,y=r.defs,ee=r.slice,Z=r.eqeqeq,M=r.Kernel,X=r.truthy,m=r.Opal,P=r.nil,$e=r.$$$;return r.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(Q){var V=F(Q,"Opal");y(V,"$bridge",function(A,E){return r.bridge(A,E)}),y(V,"$coerce_to!",function(A,E,U,K){var R,G,v=P;return R=ee(arguments,3),G=R,v=j(A,E,U,G),Z(E,v)||M.$raise(w(A,E,U,v)),v},-4),y(V,"$coerce_to?",function(A,E,U,K){var R,G,v=P;return R=ee(arguments,3),G=R,!X(A["$respond_to?"](U))||(v=j(A,E,U,G),X(v["$nil?"]()))?P:(Z(E,v)||M.$raise(w(A,E,U,v)),v)},-4),y(V,"$try_convert",function(A,E,U){return Z(E,A)?A:X(A["$respond_to?"](U))?A.$__send__(U):P}),y(V,"$compare",function(A,E){var U=P;return U=A["$<=>"](E),X(U===P)&&M.$raise($e("ArgumentError"),"comparison of "+A.$class()+" with "+E.$class()+" failed"),U}),y(V,"$destructure",function(A){if(A.length==1)return A[0];if(A.$$is_array)return A;for(var E=new Array(A.length),U=0,K=E.length;U<K;U++)E[U]=A[U];return E}),y(V,"$respond_to?",function(A,E,U){return U==null&&(U=!1),A==null||!A.$$class?!1:A["$respond_to?"](E,U)},-3),y(V,"$instance_variable_name!",function(A){return A=m["$coerce_to!"](A,$e("String"),"to_str"),X(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(A))||M.$raise($e("NameError").$new("'"+A+"' is not allowed as an instance variable name",A)),A}),y(V,"$class_variable_name!",function(A){return A=m["$coerce_to!"](A,$e("String"),"to_str"),X(A.length<3||A.slice(0,2)!=="@@")&&M.$raise($e("NameError").$new("`"+A+"' is not allowed as a class variable name",A)),A}),y(V,"$const_name?",function(A){return typeof A!="string"&&(A=m["$coerce_to!"](A,$e("String"),"to_str")),A[0]===A[0].toUpperCase()}),y(V,"$const_name!",function(A){var E=this;return X($e("::","String","skip_raise")?"constant":P)&&(A=m["$coerce_to!"](A,$e("String"),"to_str")),(!A||A[0]!=A[0].toUpperCase())&&E.$raise($e("NameError"),"wrong constant name "+A),A}),y(V,"$pristine",function(A,E){var U,K;U=ee(arguments,1),K=U;for(var R,G,v=K.length-1;v>=0;v--)R=K[v],G=A.$$prototype[r.jsid(R)],G&&!G.$$stub&&(G.$$pristine=!0);return P},-2);var ne=[];return y(V,"$inspect",function(A){var E=P,U=!1;return function(){try{try{return A===null?"null":A===void 0?"undefined":typeof A.$$class>"u"?Object.prototype.toString.apply(A):typeof A.$inspect!="function"||A.$inspect.$$stub||ne.indexOf(A.$__id__())!==-1?"#<"+A.$$class+":0x"+A.$__id__().$to_s(16)+">":(ne.push(A.$__id__()),U=!0,A.$inspect())}catch(K){if(r.rescue(K,[$e("Exception")])){E=K;try{return"#<"+A.$$class+":0x"+A.$__id__().$to_s(16)+">"}finally{r.pop_exception(K)}}else throw K}}finally{U&&ne.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(r){var w=r.truthy,j=r.coerce_to,F=r.const_set,y=r.Object,ee=r.return_ivar,Z=r.assign_ivar,M=r.ivar,X=r.deny_frozen_access,m=r.freeze,P=r.prop,$e=r.jsid,Q=r.each_ivar,V=r.klass,ne=r.Opal,Y=r.Kernel,A=r.defs,E=r.send,U=r.def,K=r.eqeqeq,R=r.Module,G=r.rb_lt,v=r.rb_gt,x=r.slice,T=r.to_a,q=r.return_val,b=r.eqeq,a=r.not,d=r.rb_le,k=r.range,h=r.send2,_=r.find_super,l=r.alias,H=[],L=r.nil,f=r.$$$;return r.add_stubs("try_convert,raise,class,module_eval,to_proc,===,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,owner,!,<=,frozen?,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,copy_singleton_methods,class_exec,module_exec,inspect"),function(u,i,n){var t=V(u,i,"Module"),e=[t].concat(n),$=r.$r(e);function s(S){if(S.$$is_string)return S;var I=ne.$try_convert(S,f("String"),"to_str");if(I.$$is_string)return I;I===L?Y.$raise(f("TypeError"),""+S+" is not a symbol nor a string"):Y.$raise(f("TypeError"),"can't convert "+S.$class()+" to String ("+S.$class()+"#to_str gives "+I.$class())}A(t,"$allocate",function(){var I=this,B=r.allocate_module(L,function(){});return I!==r.Module&&Object.setPrototypeOf(B,I.$$prototype),B}),U(t,"$initialize",function S(){var I=S.$$p||L,B=this;return S.$$p=null,I!==L?E(B,"module_eval",[],I.$to_proc()):L}),U(t,"$===",function(I){var B=this;return w(I==null)?!1:r.is_a(I,B)}),U(t,"$<",function(I){var B=this;K(R,I)||Y.$raise(f("TypeError"),"compared with non class/module");var O=B,se,le,fe;if(O===I)return!1;for(le=0,se=r.ancestors(B),fe=se.length;le<fe;le++)if(se[le]===I)return!0;for(le=0,se=r.ancestors(I),fe=se.length;le<fe;le++)if(se[le]===B)return!1;return L}),U(t,"$<=",function(I){var B=this,O=L;return w(O=B["$equal?"](I))?O:G(B,I)}),U(t,"$>",function(I){var B=this;return K(R,I)||Y.$raise(f("TypeError"),"compared with non class/module"),G(I,B)}),U(t,"$>=",function(I){var B=this,O=L;return w(O=B["$equal?"](I))?O:v(B,I)}),U(t,"$<=>",function(I){var B=this,O=L;return B===I?0:!K(R,I)||(O=G(B,I),w(O["$nil?"]()))?L:w(O)?-1:1}),U(t,"$alias_method",function(I,B){var O=this;return X(O),I=j(I,f("String"),"to_str"),B=j(B,f("String"),"to_str"),r.alias(O,I,B),O}),U(t,"$alias_native",function(I,B){var O=this;return B==null&&(B=I),X(O),r.alias_native(O,I,B),O},-2),U(t,"$ancestors",function(){var I=this;return r.ancestors(I)}),U(t,"$append_features",function(I){var B=this;return X(I),r.append_features(B,I),B}),U(t,"$attr_accessor",function(I){var B,O,se=this;return B=x(arguments),O=B,E(se,"attr_reader",T(O)),E(se,"attr_writer",T(O))},-1),U(t,"$attr",function(I){var B,O,se=this;return B=x(arguments),O=B,O.length==2&&(O[1]===!0||O[1]===!1)?(se.$warn("optional boolean argument is obsoleted",new Map([["uplevel",1]])),O[1]?se.$attr_accessor(O[0]):se.$attr_reader(O[0]),L):E(se,"attr_reader",T(O))},-1),U(t,"$attr_reader",function(I){var B,O,se=this;B=x(arguments),O=B,X(se);for(var le=se.$$prototype,fe=O.length-1;fe>=0;fe--){var de=O[fe],he=$e(de),ve=M(de),me=ee(ve);r.prop(le,ve,L),me.$$parameters=[],me.$$arity=0,r.defn(se,he,me)}return L},-1),U(t,"$attr_writer",function(I){var B,O,se=this;B=x(arguments),O=B,X(se);for(var le=se.$$prototype,fe=O.length-1;fe>=0;fe--){var de=O[fe],he=$e(de+"="),ve=M(de),me=Z(ve);me.$$parameters=[["req"]],me.$$arity=1,r.prop(le,ve,L),r.defn(se,he,me)}return L},-1),U(t,"$autoload",function(I,B){var O=this;return X(O),$("Opal")["$const_name?"](I)||Y.$raise(f("NameError"),"autoload must be constant name: "+I),B==""&&Y.$raise(f("ArgumentError"),"empty file name"),O.$$const.hasOwnProperty(I)||(O.$$autoload||(O.$$autoload={}),r.const_cache_version++,O.$$autoload[I]={path:B,loaded:!1,required:!1,success:!1,exception:!1},O.$const_added&&!O.$const_added.$$pristine&&O.$const_added(I)),L}),U(t,"$autoload?",function(I){var B=this;if(B.$$autoload&&B.$$autoload[I]&&!B.$$autoload[I].required&&!B.$$autoload[I].success)return B.$$autoload[I].path;for(var O=B.$ancestors(),se=0,le=O.length;se<le;se++)if(O[se].$$autoload&&O[se].$$autoload[I]&&!O[se].$$autoload[I].required&&!O[se].$$autoload[I].success)return O[se].$$autoload[I].path;return L}),U(t,"$class_variables",function(){var I=this;return Object.keys(r.class_variables(I))}),U(t,"$class_variable_get",function(I){var B=this;return I=ne["$class_variable_name!"](I),r.class_variable_get(B,I,!1)}),U(t,"$class_variable_set",function(I,B){var O=this;return X(O),I=ne["$class_variable_name!"](I),r.class_variable_set(O,I,B)}),U(t,"$class_variable_defined?",function(I){var B=this;return I=ne["$class_variable_name!"](I),r.class_variables(B).hasOwnProperty(I)}),U(t,"$const_added",q(L)),ne.$pristine(t,"const_added"),U(t,"$remove_class_variable",function(I){var B=this;if(X(B),I=ne["$class_variable_name!"](I),r.hasOwnProperty.call(B.$$cvars,I)){var O=B.$$cvars[I];return delete B.$$cvars[I],O}else Y.$raise(f("NameError"),"cannot remove "+I+" for "+B)}),U(t,"$constants",function(I){var B=this;return I==null&&(I=!0),r.constants(B,I)},-1),A(t,"$constants",function(I){var B=this;if(I==null){var O=(B.$$nesting||[]).concat(y),se,le={},fe,de;for(fe=0,de=O.length;fe<de;fe++)for(se in O[fe].$$const)le[se]=!0;return Object.keys(le)}else return r.constants(B,I)},-1),A(t,"$nesting",function(){var I=this;return I.$$nesting||[]}),U(t,"$const_defined?",function(I,B){var O=this;B==null&&(B=!0),I=$("Opal")["$const_name!"](I),w(I["$=~"](f(ne,"CONST_NAME_REGEXP")))||Y.$raise(f("NameError").$new("wrong constant name "+I,I));var se,le=[O],fe,de;for(B&&(le=le.concat(r.ancestors(O)),O.$$is_module&&(le=le.concat([y]).concat(r.ancestors(y)))),fe=0,de=le.length;fe<de;fe++)if(se=le[fe],se.$$const[I]!=null||se.$$autoload&&se.$$autoload[I]&&!se.$$autoload[I].required&&!se.$$autoload[I].success)return!0;return!1},-2),U(t,"$const_get",function(I,B){var O=this;return B==null&&(B=!0),I=$("Opal")["$const_name!"](I),I.indexOf("::")===0&&I!=="::"&&(I=I.slice(2)),w(I.indexOf("::")!=-1&&I!="::")?E(I.$split("::"),"inject",[O],function(le,fe){return le==null&&(le=L),fe==null&&(fe=L),le.$const_get(fe)}):(w(I["$=~"](f(ne,"CONST_NAME_REGEXP")))||Y.$raise(f("NameError").$new("wrong constant name "+I,I)),B?r.$$([O],I):r.const_get_local(O,I))},-2),U(t,"$const_missing",function(I){var B=this,O=L;return O=b(B,y)?I:""+B+"::"+I,Y.$raise(f("NameError").$new("uninitialized constant "+O,I))}),U(t,"$const_set",function(I,B){var O=this;return X(O),I=ne["$const_name!"](I),(w(I["$!~"](f(ne,"CONST_NAME_REGEXP")))||w(I["$start_with?"]("::")))&&Y.$raise(f("NameError").$new("wrong constant name "+I,I)),F(O,I,B),B}),U(t,"$public_constant",q(L)),U(t,"$define_method",function S(I,B){var O=S.$$p||L,se=this,le=L,fe=L,de=L;return S.$$p=null,X(se),B===void 0&&O===L&&Y.$raise(f("ArgumentError"),"tried to create a Proc object without a block"),I=s(I),w(B!==void 0)&&(O=K(f("Proc"),le=B)?B:K(f("Method"),le)?B.$to_proc().$$unbound:K(f("UnboundMethod"),le)?r.wrap_method_body(B.$$method):Y.$raise(f("TypeError"),"wrong argument type "+B.$class()+" (expected Proc/Method/UnboundMethod)"),w(!B.$$is_proc)&&(fe=B.$owner(),w(fe.$$is_class)&&a(d(se,fe))&&(de=w(fe.$$is_singleton)?"can't bind singleton method to a different class":"bind argument must be a subclass of "+fe,Y.$raise(f("TypeError"),de)))),typeof Proxy<"u"&&(O.$$proxy_target=O,O=new Proxy(O,{apply:function(he,ve,me){var be=he.$$jsid,ie=he.$$is_lambda;he.$$jsid=I,he.$$is_lambda=!0;try{return he.apply(ve,me)}catch(N){if(N===he.$$brk||N===he.$$ret)return N.$v;throw N}finally{he.$$jsid=be,he.$$is_lambda=ie}}})),O.$$jsid=I,O.$$s=null,O.$$def=O,O.$$define_meth=!0,r.defn(se,$e(I),O)},-2),U(t,"$freeze",function(){var I=this;return w(I["$frozen?"]())?I:(I.hasOwnProperty("$$base_module")||P(I,"$$base_module",null),m(I))}),U(t,"$remove_method",function(I){var B,O,se=this;B=x(arguments),O=B;for(var le=0;le<O.length;le++){var fe=s(O[le]);X(se),r.rdef(se,"$"+fe)}return se},-1),U(t,"$singleton_class?",function(){var I=this;return!!I.$$is_singleton}),U(t,"$include",function(I){var B,O,se=this;B=x(arguments),O=B;for(var le=O.length-1;le>=0;le--){var fe=O[le];fe.$$is_module||Y.$raise(f("TypeError"),"wrong argument type "+fe.$class()+" (expected Module)"),fe.$append_features(se),fe.$included(se)}return se},-1),U(t,"$included_modules",function(){var I=this;return r.included_modules(I)}),U(t,"$include?",function(I){var B=this;I.$$is_module||Y.$raise(f("TypeError"),"wrong argument type "+I.$class()+" (expected Module)");var O,se,le,fe=r.ancestors(B);for(O=0,se=fe.length;O<se;O++)if(le=fe[O],le===I&&le!==B)return!0;return!1}),U(t,"$instance_method",function(I){var B=this,O=B.$$prototype[$e(I)];return(!O||O.$$stub)&&Y.$raise(f("NameError").$new("undefined method `"+I+"' for class `"+B.$name()+"'",I)),f("UnboundMethod").$new(B,O.$$owner||B,O,I)}),U(t,"$instance_methods",function(I){var B=this;return I==null&&(I=!0),w(I)?r.instance_methods(B):r.own_instance_methods(B)},-1),U(t,"$included",q(L)),U(t,"$extended",q(L)),U(t,"$extend_object",function(I){return X(I),L}),U(t,"$method_added",function(I){return x(arguments),L},-1),U(t,"$method_removed",function(I){return x(arguments),L},-1),U(t,"$method_undefined",function(I){return x(arguments),L},-1),U(t,"$module_eval",function S(I){var B=S.$$p||L,O,se,le,fe=this,de=L,he=L,ve=L,me=L,be=L,ie=L;S.$$p=null,O=x(arguments),se=O,w(B["$nil?"]())&&w(!!r.compile)?(w(k(1,3,!1)["$cover?"](se.$size()))||Y.$raise(f("ArgumentError"),"wrong number of arguments (0 for 1..3)"),le=[].concat(T(se)),de=le[0]==null?L:le[0],he=le[1]==null?L:le[1],le[2]==null||le[2],ve=new Map([["file",w(me=he)?me:"(eval)"],["eval",!0]]),be=new Map([["arity_check",!1]]).$merge(ve),ie=ne.$compile(de,be),B=E(Y,"proc",[],function J(){var W=J.$$s==null?this:J.$$s;return new Function("Opal,self","return "+ie)(r,W)},{$$s:fe})):w(se["$any?"]())&&Y.$raise(f("ArgumentError"),"wrong number of arguments ("+se.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var N=B.$$s,C;return B.$$s=null,C=B.apply(fe,[fe]),B.$$s=N,C},-1),U(t,"$module_exec",function S(I){var B=S.$$p||L,O,se,le=this;S.$$p=null,O=x(arguments),se=O,B===L&&Y.$raise(f("LocalJumpError"),"no block given");var fe=B.$$s,de;return B.$$s=null,de=B.apply(le,se),B.$$s=fe,de},-1),U(t,"$method_defined?",function(I){var B=this,O=B.$$prototype[$e(I)];return!!O&&!O.$$stub}),U(t,"$module_function",function(I){var B,O,se=this;if(B=x(arguments),O=B,X(se),O.length===0)return se.$$module_function=!0,L;for(var le=0,fe=O.length;le<fe;le++){var de=O[le],he=$e(de),ve=se.$$prototype[he];r.defs(se,he,ve)}return O.length===1?O[0]:O},-1),U(t,"$name",function(){var I=this;if(I.$$full_name)return I.$$full_name;for(var B=[],O=I;O;){if(O.$$name===L||O.$$name==null)return L;if(B.unshift(O.$$name),O=O.$$base_module,O===y)break}return B.length===0?L:I.$$full_name=B.join("::")}),U(t,"$prepend",function(I){var B,O,se=this;B=x(arguments),O=B,O.length===0&&Y.$raise(f("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var le=O.length-1;le>=0;le--){var fe=O[le];fe.$$is_module||Y.$raise(f("TypeError"),"wrong argument type "+fe.$class()+" (expected Module)"),fe.$prepend_features(se),fe.$prepended(se)}return se},-1),U(t,"$prepend_features",function(I){var B=this;return X(I),B.$$is_module||Y.$raise(f("TypeError"),"wrong argument type "+B.$class()+" (expected Module)"),r.prepend_features(B,I),B}),U(t,"$prepended",q(L)),U(t,"$remove_const",function(I){var B=this;return X(B),r.const_remove(B,I)}),U(t,"$to_s",function(){var I=this,B=L;return w(B=r.Module.$name.call(I))?B:"#<"+(I.$$is_module?"Module":"Class")+":0x"+I.$__id__().$to_s(16)+">"}),U(t,"$undef_method",function(I){var B,O,se=this;B=x(arguments),O=B;for(var le=0;le<O.length;le++){var fe=s(O[le]);X(se),r.udef(se,"$"+fe)}return se},-1),U(t,"$instance_variables",function(){var I=this,B=L;B=(r.Module.$$nesting=e,I.$constants());var O=[];return Q(I,function(se){se!=="constructor"&&!B["$include?"](se)&&O.push("@"+se)}),O});function o(S,I){var B,O=r.own_instance_methods(S);for(B=0;B<O.length;B++){var se=O[B],le=$e(se),fe=S.$$prototype[le],de=r.wrap_method_body(fe);de.$$jsid=se,r.defn(I,le,de)}}function g(S,I){for(var B=S.$$own_included_modules,O=B.length-1;O>=0;O--)r.append_features(B[O],I)}function z(S,I){for(var B=S.$$own_prepended_modules,O=B.length-1;O>=0;O--)r.prepend_features(B[O],I)}return U(t,"$initialize_copy",function(I){var B=this;return o(I,B),g(I,B),z(I,B),B.$$cloned_from=I.$$cloned_from.concat(I),B.$copy_class_variables(I),B.$copy_constants(I)}),U(t,"$initialize_dup",function S(I){var B=S.$$p||L,O=this;return S.$$p=null,h(O,_(O,"initialize_dup",S,!1,!0),"initialize_dup",[I],B),O.$copy_singleton_methods(I)}),U(t,"$copy_class_variables",function(I){var B=this;for(var O in I.$$cvars)B.$$cvars[O]=I.$$cvars[O]}),U(t,"$copy_constants",function(I){var B=this,O,se=I.$$const;for(O in se)F(B,O,se[O])}),U(t,"$refine",function S(I){var B=S.$$p||L,O,se=this,le=L,fe=L,de=L;return S.$$p=null,O=[se,L,L],le=O[0],fe=O[1],de=O[2],de=r.id(I),typeof se.$$refine_modules>"u"&&(se.$$refine_modules=Object.create(null)),typeof se.$$refine_modules[de]>"u"?fe=se.$$refine_modules[de]=f("Refinement").$new():fe=se.$$refine_modules[de],fe.refinement_module=le,fe.refined_class=I,E(fe,"class_exec",[],B.$to_proc()),fe}),U(t,"$refinements",function(){var I=this,B=I.$$refine_modules,O=new Map;if(typeof B>"u")return O;for(var se in B)O["$[]="](B[se].refined_class,B[se]);return O}),U(t,"$using",function(I){return Y.$raise("Module#using is not permitted in methods")}),l(t,"class_eval","module_eval"),l(t,"class_exec","module_exec"),l(t,"inspect","to_s")}("::",null,H),function(u,i){var n=V(u,i,"Refinement"),t=n.$$prototype;return t.refinement_module=t.refined_class=L,n.$attr_reader("refined_class"),U(n,"$inspect",function e(){var $=e.$$p||L,s=this;return e.$$p=null,w(s.refinement_module)?"#<refinement:"+s.refined_class.$inspect()+"@"+s.refinement_module.$inspect()+">":h(s,_(s,"inspect",e,!1,!0),"inspect",[],$)})}("::",R)};Opal.modules["corelib/class"]=function(r){var w=r.klass,j=r.send,F=r.defs,y=r.def,ee=r.ensure_kwargs,Z=r.hash_get,M=r.eqeq,X=r.truthy,m=r.rb_plus,P=r.return_val,$e=r.slice,Q=r.send2,V=r.find_super,ne=r.Kernel,Y=r.alias,A=r.top,E=[],U=r.nil,K=r.$$$;return r.add_stubs("require,class_eval,to_proc,==,nil?,raise,class,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_dup,+,subclasses,flatten,map,allocate,name,to_s"),A.$require("corelib/module"),function(R,G,v){var x=w(R,G,"Class"),T=[x].concat(v),q=r.$r(T);return F(x,"$new",function b(a){var d=b.$$p||U;if(b.$$p=null,a==null&&(a=q("Object")),!a.$$is_class)throw r.TypeError.$new("superclass must be a Class");var k=r.allocate_class(U,a);return a.$inherited(k),d!==U&&j(k,"class_eval",[],d.$to_proc()),k},-1),y(x,"$allocate",function(){var a=this,d=new a.$$constructor;return d.$$id=r.uid(),d}),y(x,"$clone",function(a){var d,k=this,h=U;return a=ee(a),d=Z(a,"freeze"),d==null&&(d=U),X(d["$nil?"]())||M(d,!0)||M(d,!1)||k.$raise(q("ArgumentError"),"unexpected value for freeze: "+d.$class()),h=r.allocate_class(U,k.$$super),h.$copy_instance_variables(k),h.$copy_singleton_methods(k),h.$initialize_clone(k,new Map([["freeze",d]])),(M(d,!0)||X(d["$nil?"]())&&X(k["$frozen?"]()))&&h.$freeze(),h},-1),y(x,"$dup",function(){var a=this,d=U;return d=r.allocate_class(U,a.$$super),d.$copy_instance_variables(a),d.$initialize_dup(a),d}),y(x,"$descendants",function(){var a=this;return m(a.$subclasses(),j(a.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),y(x,"$inherited",P(U)),y(x,"$new",function b(a){var d=b.$$p||U,k,h,_=this;b.$$p=null,k=$e(arguments),h=k;var l=_.$allocate();return r.send(l,l.$initialize,h,d),l},-1),y(x,"$subclasses",function(){var a=this;if(typeof WeakRef<"u"){var d,k,h=[];for(d=0;d<a.$$subclasses.length;d++)k=a.$$subclasses[d].deref(),k!==void 0&&h.push(k);return h}else return a.$$subclasses}),y(x,"$superclass",function(){var a=this;return a.$$super||U}),y(x,"$to_s",function b(){b.$$p;var a=this;b.$$p=null;var d=a.$$singleton_of;return d&&d.$$is_a_module?"#<Class:"+d.$name()+">":d?"#<Class:#<"+d.$$class.$name()+":0x"+r.id(d).$to_s(16)+">>":Q(a,V(a,"to_s",b,!1,!0),"to_s",[],null)}),y(x,"$attached_object",function(){var a=this;if(a.$$singleton_of!=null)return a.$$singleton_of;ne.$raise(K("TypeError"),"`"+a+"' is not a singleton class")}),Y(x,"inspect","to_s")}("::",null,E)};Opal.modules["corelib/basic_object"]=function(r){var w=r.klass,j=r.slice,F=r.def,y=r.alias,ee=r.return_val,Z=r.Opal,M=r.truthy,X=r.range,m=r.Kernel,P=r.to_a,$e=r.send,Q=r.eqeq,V=r.rb_ge,ne=r.nil,Y=r.$$$;return r.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(A,E){var U=w(A,E,"BasicObject");return F(U,"$initialize",function(R){return j(arguments),ne},-1),F(U,"$==",function(R){var G=this;return G===R}),F(U,"$eql?",function(R){var G=this;return G["$=="](R)}),y(U,"equal?","=="),F(U,"$__id__",function(){var R=this;return R.$$id!=null||r.prop(R,"$$id",r.uid()),R.$$id}),F(U,"$__send__",function K(R,G){var v=K.$$p||ne,x,T,q=this;K.$$p=null,x=j(arguments,1),T=x,R.$$is_string||q.$raise(Y("TypeError"),""+q.$inspect()+" is not a symbol nor a string");var b=q[r.jsid(R)];return b?(v!==ne&&(b.$$p=v),b.apply(q,T)):(v!==ne&&(q.$method_missing.$$p=v),q.$method_missing.apply(q,[R].concat(T)))},-2),F(U,"$!",ee(!1)),Z.$pristine("!"),F(U,"$!=",function(R){var G=this;return G["$=="](R)["$!"]()}),F(U,"$instance_eval",function K(R){var G=K.$$p||ne,v,x,T,q=this,b=ne,a=ne,d=ne,k=ne,h=ne,_=ne;if(K.$$p=null,v=j(arguments),x=v,M(G["$nil?"]())&&M(!!r.compile))M(X(1,3,!1)["$cover?"](x.$size()))||m.$raise(Y("ArgumentError"),"wrong number of arguments (0 for 1..3)"),T=[].concat(P(x)),b=T[0]==null?ne:T[0],a=T[1]==null?ne:T[1],T[2]==null||T[2],d=new Map([["file",M(k=a)?k:"(eval)"],["eval",!0]]),h=new Map([["arity_check",!1]]).$merge(d),_=Z.$compile(b,h),G=$e(m,"proc",[],function L(){var f=L.$$s==null?this:L.$$s;return new Function("Opal,self","return "+_)(r,f)},{$$s:q});else{if(M(G["$nil?"]())&&M(V(x.$length(),1))&&Q(x.$first()["$[]"](0),"@"))return q.$instance_variable_get(x.$first());M(x["$any?"]())&&m.$raise(Y("ArgumentError"),"wrong number of arguments ("+x.$size()+" for 0)")}var l=G.$$s,H;if(G.$$s=null,q.$$is_a_module){q.$$eval=!0;try{H=G.call(q,q)}finally{q.$$eval=!1}}else H=G.call(q,q);return G.$$s=l,H},-1),F(U,"$instance_exec",function K(R){var G=K.$$p||ne,v,x,T=this;K.$$p=null,v=j(arguments),x=v,M(G)||m.$raise(Y("ArgumentError"),"no block given");var q=G.$$s,b;if(G.$$s=null,T.$$is_a_module){T.$$eval=!0;try{b=G.apply(T,x)}finally{T.$$eval=!1}}else b=G.apply(T,x);return G.$$s=q,b},-1),F(U,"$singleton_method_added",function(R){return j(arguments),ne},-1),F(U,"$singleton_method_removed",function(R){return j(arguments),ne},-1),F(U,"$singleton_method_undefined",function(R){return j(arguments),ne},-1),F(U,"$method_missing",function K(R,G){K.$$p;var v,x,T=this,q=ne;return K.$$p=null,v=j(arguments,1),x=v,q=Z.$inspect(T),m.$raise(Y("NoMethodError").$new("undefined method `"+R+"' for "+q,R,x),ne,m.$caller(1))},-2),Z.$pristine(U,"method_missing"),F(U,"$respond_to_missing?",function(R,G){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(r){var w=r.truthy,j=r.coerce_to,F=r.respond_to,y=r.Opal,ee=r.deny_frozen_access,Z=r.freeze,M=r.freeze_props,X=r.jsid,m=r.each_ivar,P=r.module,$e=r.return_val,Q=r.def,V=r.Kernel,ne=r.gvars,Y=r.slice,A=r.send,E=r.to_a,U=r.ensure_kwargs,K=r.hash_get,R=r.eqeq,G=r.rb_plus,v=r.extract_kwargs,x=r.eqeqeq,T=r.return_self,q=r.rb_le,b=r.rb_lt,a=r.Object,d=r.alias,k=r.klass,h=[],_=r.nil,l=r.$$$;return r.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,to_i,Integer,coerce_to!,===,enum_for,result,shift,write,format,puts,<=,length,[],print,readline,<,first,split,to_str,exception,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(H,L){var f=P(H,"Kernel"),u=[f].concat(L),i=r.$r(u);Q(f,"$=~",$e(!1)),Q(f,"$!~",function(e){var $=this;return $["$=~"](e)["$!"]()}),Q(f,"$===",function(e){var $=this,s=_;return w(s=$.$object_id()["$=="](e.$object_id()))?s:$["$=="](e)}),Q(f,"$<=>",function(e){var $=this;$.$$comparable=!0;var s=$["$=="](e);return s&&s!==_?0:_}),Q(f,"$method",function(e){var $=this,s=$[X(e)];return(!s||s.$$stub)&&V.$raise(l("NameError").$new("undefined method `"+e+"' for class `"+$.$class()+"'",e)),l("Method").$new($,s.$$owner||$.$class(),s,e)}),Q(f,"$methods",function(e){var $=this;return e==null&&(e=!0),w(e)?r.methods($):r.own_methods($)},-1),Q(f,"$public_methods",function(e){var $=this;return e==null&&(e=!0),w(e)?r.methods($):r.receiver_methods($)},-1),Q(f,"$Array",function(e){var $;return e===_?[]:e.$$is_array?e:($=y["$coerce_to?"](e,l("Array"),"to_ary"),$!==_||($=y["$coerce_to?"](e,l("Array"),"to_a"),$!==_)?$:[e])}),Q(f,"$at_exit",function t(){var e=t.$$p||_,$=_;return ne.__at_exit__==null&&(ne.__at_exit__=_),t.$$p=null,ne.__at_exit__=w($=ne.__at_exit__)?$:[],ne.__at_exit__["$<<"](e),e}),Q(f,"$caller",function(e,$){e==null&&(e=1),$==null&&($=_);var s,o;s=new Error().$backtrace(),o=[];for(var g=e+1,z=s.length;g<z;g++)s[g].match(/runtime\.js/)||o.push(s[g]);return $!=_&&(o=o.slice(0,$)),o},-1),Q(f,"$caller_locations",function(e){var $,s,o=this;return $=Y(arguments),s=$,A(A(o,"caller",E(s)),"map",[],function(z){return z==null&&(z=_),l(l(l("Thread"),"Backtrace"),"Location").$new(z)})},-1),Q(f,"$class",function(){var e=this;return e.$$class}),Q(f,"$copy_instance_variables",function(e){var $=this,s=Object.keys(e),o,g,z;for(o=0,g=s.length;o<g;o++)z=s[o],z.charAt(0)!=="$"&&e.hasOwnProperty(z)&&($[z]=e[z])}),Q(f,"$copy_singleton_methods",function(e){var $=this,s,o,g,z;if(e.hasOwnProperty("$$meta")&&e.$$meta!==null){var S=r.get_singleton_class(e),I=r.get_singleton_class($);for(g=Object.getOwnPropertyNames(S.$$prototype),s=0,z=g.length;s<z;s++)o=g[s],r.is_method(o)&&(I.$$prototype[o]=S.$$prototype[o]);I.$$const=Object.assign({},S.$$const),Object.setPrototypeOf(I.$$prototype,Object.getPrototypeOf(S.$$prototype))}for(s=0,g=Object.getOwnPropertyNames(e),z=g.length;s<z;s++)o=g[s],o.charAt(0)==="$"&&o.charAt(1)!=="$"&&e.hasOwnProperty(o)&&($[o]=e[o])}),Q(f,"$clone",function(e){var $,s=this,o=_;return e=U(e),$=K(e,"freeze"),$==null&&($=_),w($["$nil?"]())||R($,!0)||R($,!1)||s.$raise(i("ArgumentError"),"unexpected value for freeze: "+$.$class()),o=s.$class().$allocate(),o.$copy_instance_variables(s),o.$copy_singleton_methods(s),o.$initialize_clone(s,new Map([["freeze",$]])),(R($,!0)||w($["$nil?"]())&&w(s["$frozen?"]()))&&o.$freeze(),o},-1),Q(f,"$initialize_clone",function(e,$){var s=this;return $=U($),K($,"freeze"),s.$initialize_copy(e),s},-2),Q(f,"$define_singleton_method",function t(e,$){var s=t.$$p||_,o=this;return t.$$p=null,A(o.$singleton_class(),"define_method",[e,$],s.$to_proc())},-2),Q(f,"$dup",function(){var e=this,$=_;return $=e.$class().$allocate(),$.$copy_instance_variables(e),$.$initialize_dup(e),$}),Q(f,"$initialize_dup",function(e){var $=this;return $.$initialize_copy(e)}),Q(f,"$enum_for",function t(e,$){var s=t.$$p||_,o,g,z,S=this;return t.$$p=null,o=Y(arguments),o.length>0&&(g=o.shift()),g==null&&(g="each"),z=o,A(l("Enumerator"),"for",[S,g].concat(E(z)),s.$to_proc())},-1),Q(f,"$equal?",function(e){var $=this;return $===e}),Q(f,"$exit",function(e){var $=_,s=_;for(ne.__at_exit__==null&&(ne.__at_exit__=_),e==null&&(e=!0),ne.__at_exit__=w($=ne.__at_exit__)?$:[];!w(ne.__at_exit__["$empty?"]());)s=ne.__at_exit__.$pop(),s.$call();return e.$$is_boolean?e=e?0:1:e=j(e,l("Integer"),"to_int"),r.exit(e),_},-1),Q(f,"$extend",function(e){var $,s,o=this;$=Y(arguments),s=$,s.length==0&&o.$raise(l("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),ee(o);for(var g=o.$singleton_class(),z=s.length-1;z>=0;z--){var S=s[z];S.$$is_module||V.$raise(l("TypeError"),"wrong argument type "+S.$class()+" (expected Module)"),S.$append_features(g),S.$extend_object(o),S.$extended(o)}return o},-1),Q(f,"$freeze",function(){var e=this;return w(e["$frozen?"]())?e:typeof e=="object"?(M(e),Z(e)):e}),Q(f,"$frozen?",function(){var e=this;switch(typeof e){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return e.$$frozen||!1;default:return!1}}),Q(f,"$gets",function(e){var $,s;return ne.stdin==null&&(ne.stdin=_),$=Y(arguments),s=$,A(ne.stdin,"gets",E(s))},-1),Q(f,"$hash",function(){var e=this;return e.$__id__()}),Q(f,"$initialize_copy",$e(_));var n=[];return Q(f,"$inspect",function(){var e=this,$=_,s=_,o=_,g=_;return function(){try{try{return $="",s=e.$__id__(),w(n["$include?"](s))?$=" ...":(n["$<<"](s),o=!0,A(e.$instance_variables(),"each",[],function z(S){var I=z.$$s==null?this:z.$$s,B=_,O=_;return S==null&&(S=_),B=I.$instance_variable_get(S),O=i("Opal").$inspect(B),$=G($," "+S+"="+O)},{$$s:e})),"#<"+e.$class()+":0x"+s.$to_s(16)+$+">"}catch(z){if(r.rescue(z,[i("StandardError")])){g=z;try{return"#<"+e.$class()+":0x"+s.$to_s(16)+">"}finally{r.pop_exception(z)}}else throw z}}finally{w(o)&&n.$pop()}}()}),Q(f,"$instance_of?",function(e){var $=this;return!e.$$is_class&&!e.$$is_module&&V.$raise(l("TypeError"),"class or module required"),$.$$class===e}),Q(f,"$instance_variable_defined?",function(e){var $=this;return e=y["$instance_variable_name!"](e),r.hasOwnProperty.call($,e.substr(1))}),Q(f,"$instance_variable_get",function(e){var $=this;e=y["$instance_variable_name!"](e);var s=$[r.ivar(e.substr(1))];return s??_}),Q(f,"$instance_variable_set",function(e,$){var s=this;return ee(s),e=y["$instance_variable_name!"](e),s[r.ivar(e.substr(1))]=$}),Q(f,"$remove_instance_variable",function(e){var $=this;e=y["$instance_variable_name!"](e);var s=r.ivar(e.substr(1)),o;return $.hasOwnProperty(s)?(o=$[s],delete $[s],o):V.$raise(l("NameError"),"instance variable "+e+" not defined")}),Q(f,"$instance_variables",function(){var e=this,$=[];return m(e,function(s){s.substr(-1)==="$"&&(s=s.slice(0,s.length-1)),$.push("@"+s)}),$}),Q(f,"$Integer",function(e,$,s){var o,g,z,S;o=Y(arguments,1),g=v(o),g=U(g),o.length>0&&(z=o.shift()),S=K(g,"exception"),S==null&&(S=!0);var I,B,O;if(S=w(S),!e.$$is_string){if(z!==void 0)if(S)V.$raise(l("ArgumentError"),"base specified for non string value");else return _;if(e===_)if(S)V.$raise(l("TypeError"),"can't convert nil into Integer");else return _;if(e.$$is_number){if(e===1/0||e===-1/0||isNaN(e))if(S)V.$raise(l("FloatDomainError"),e);else return _;return Math.floor(e)}if(e["$respond_to?"]("to_int")&&(I=e.$to_int(),r.is_a(I,l("Integer")))||e["$respond_to?"]("to_i")&&(I=e.$to_i(),r.is_a(I,l("Integer"))))return I;if(S)V.$raise(l("TypeError"),"can't convert "+e.$class()+" into Integer");else return _}if(e==="0")return 0;if(z===void 0)z=0;else if(z=j(z,l("Integer"),"to_int"),z===1||z<0||z>36)if(S)V.$raise(l("ArgumentError"),"invalid radix "+z);else return _;if(B=e.toLowerCase(),B=B.replace(/(\d)_(?=\d)/g,"$1"),B=B.replace(/^(\s*[+-]?)(0[bodx]?)/,function(se,le,fe){switch(fe){case"0b":if(z===0||z===2)return z=2,le;case"0":case"0o":if(z===0||z===8)return z=8,le;case"0d":if(z===0||z===10)return z=10,le;case"0x":if(z===0||z===16)return z=16,le}if(S)V.$raise(l("ArgumentError"),'invalid value for Integer(): "'+e+'"');else return _}),z=z===0?10:z,O="0-"+(z<=10?z-1:"9a-"+String.fromCharCode(97+(z-11))),!new RegExp("^\\s*[+-]?["+O+"]+\\s*$").test(B))if(S)V.$raise(l("ArgumentError"),'invalid value for Integer(): "'+e+'"');else return _;if(I=parseInt(B,z),isNaN(I))if(S)V.$raise(l("ArgumentError"),'invalid value for Integer(): "'+e+'"');else return _;return I},-2),Q(f,"$Float",function(e,$){var s;$=U($),s=K($,"exception"),s==null&&(s=!0);var o;if(s=w(s),e===_)if(s)V.$raise(l("TypeError"),"can't convert nil into Float");else return _;if(e.$$is_string){if(o=e.toString(),o=o.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(o))return V.$Integer(o);if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(o))if(s)V.$raise(l("ArgumentError"),'invalid value for Float(): "'+e+'"');else return _;return parseFloat(o)}return s?y["$coerce_to!"](e,l("Float"),"to_f"):j(e,l("Float"),"to_f")},-2),Q(f,"$Hash",function(e){return w(e["$nil?"]())||R(e,[])?new Map:x(l("Hash"),e)?e:y["$coerce_to!"](e,l("Hash"),"to_hash")}),Q(f,"$is_a?",function(e){var $=this;return!e.$$is_class&&!e.$$is_module&&V.$raise(l("TypeError"),"class or module required"),r.is_a($,e)}),Q(f,"$itself",T),Q(f,"$lambda",function t(){var e=t.$$p||_;return t.$$p=null,r.lambda(e)}),Q(f,"$load",function(e){return e=y["$coerce_to!"](e,l("String"),"to_str"),r.load(e)}),Q(f,"$loop",function t(){var e=t.$$p||_,$=this,s=_;if(t.$$p=null,e===_)return A($,"enum_for",["loop"],function(){return l(l("Float"),"INFINITY")});for(;w(!0);)try{r.yieldX(e,[])}catch(o){if(r.rescue(o,[l("StopIteration")])){s=o;try{return s.$result()}finally{r.pop_exception(o)}}else throw o}return $}),Q(f,"$nil?",$e(!1)),Q(f,"$printf",function(e){var $,s,o=this,g=_;return ne.stdout==null&&(ne.stdout=_),$=Y(arguments),s=$,w(s["$empty?"]())||(g=w(s[0].$$is_string)?ne.stdout:s.$shift(),g.$write(A(o,"format",E(s)))),_},-1),Q(f,"$proc",function t(){var e=t.$$p||_;return t.$$p=null,w(e)||V.$raise(l("ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e}),Q(f,"$puts",function(e){var $,s;return ne.stdout==null&&(ne.stdout=_),$=Y(arguments),s=$,A(ne.stdout,"puts",E(s))},-1),Q(f,"$p",function(e){var $,s;return $=Y(arguments),s=$,A(s,"each",[],function(g){return ne.stdout==null&&(ne.stdout=_),g==null&&(g=_),ne.stdout.$puts(g.$inspect())}),w(q(s.$length(),1))?s["$[]"](0):s},-1),Q(f,"$print",function(e){var $,s;return ne.stdout==null&&(ne.stdout=_),$=Y(arguments),s=$,A(ne.stdout,"print",E(s))},-1),Q(f,"$readline",function(e){var $,s;return ne.stdin==null&&(ne.stdin=_),$=Y(arguments),s=$,A(ne.stdin,"readline",E(s))},-1),Q(f,"$warn",function(e,$){var s,o,g,z,S,I,B=this,O=_;return ne.VERBOSE==null&&(ne.VERBOSE=_),ne.stderr==null&&(ne.stderr=_),s=Y(arguments),o=v(s),o=U(o),g=s,z=K(o,"uplevel"),z==null&&(z=_),w(z)&&(z=y["$coerce_to!"](z,l("Integer"),"to_str"),w(b(z,0))&&V.$raise(l("ArgumentError"),"negative level ("+z+")"),O=(S=(I=B.$caller(G(z,1),1).$first(),I===_||I==null?_:I.$split(":in `")),S===_||S==null?_:S.$first()),w(O)&&(O=""+O+": "),g=A(g,"map",[],function(le){return le==null&&(le=_),""+O+"warning: "+le})),w(ne.VERBOSE["$nil?"]())||w(g["$empty?"]())?_:A(ne.stderr,"puts",E(g))},-1),Q(f,"$raise",function(e,$,s){throw ne["!"]==null&&(ne["!"]=_),$==null&&($=_),s==null&&(s=_),e==null&&ne["!"]!==_?ne["!"]:(e==null?e=l("RuntimeError").$new(""):F(e,"$to_str")?e=l("RuntimeError").$new(e.$to_str()):e.$$is_class&&F(e,"$exception")?e=e.$exception($):e.$$is_exception||(e=l("TypeError").$new("exception class/object expected")),s!==_&&e.$set_backtrace(s),ne["!"]!==_&&r.exceptions.push(ne["!"]),ne["!"]=e,e)},-1),Q(f,"$rand",function(e){return e===void 0?l(l("Random"),"DEFAULT").$rand():(e.$$is_number&&(e<0&&(e=Math.abs(e)),e%1!==0&&(e=e.$to_i()),e===0&&(e=void 0)),l(l("Random"),"DEFAULT").$rand(e))},-1),Q(f,"$respond_to?",function(e,$){var s=this;$==null&&($=!1);var o=s[X(e)];return typeof o=="function"&&!o.$$stub?!0:s["$respond_to_missing?"].$$pristine===!0?!1:s["$respond_to_missing?"](e,$)},-2),Q(f,"$respond_to_missing?",function(e,$){return!1},-2),y.$pristine(f,"respond_to?","respond_to_missing?"),Q(f,"$require",function(e){return typeof e!="string"&&r.String&&r.Array&&(e=y["$coerce_to!"](e,l("String"),"to_str")),r.require(e)}),Q(f,"$require_relative",function(e){return y["$try_convert!"](e,l("String"),"to_str"),e=l("File").$expand_path(l("File").$join(r.current_file,"..",e)),r.require(e)}),Q(f,"$require_tree",function(e,$){var s;$=U($),s=K($,"autoload"),s==null&&(s=!1);var o=[];e=l("File").$expand_path(e),e=r.normalize(e),e==="."&&(e="");for(var g in r.modules)g["$start_with?"](e)&&(s?o.push([g,!0]):o.push([g,r.require(g)]));return o},-2),Q(f,"$singleton_class",function(){var e=this;return r.get_singleton_class(e)}),Q(f,"$sleep",function(e){e==null&&(e=_),e===_&&V.$raise(l("TypeError"),"can't convert NilClass into time interval"),e.$$is_number||V.$raise(l("TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&V.$raise(l("ArgumentError"),"time interval must be positive");for(var $=r.global.performance?function(){return performance.now()}:function(){return new Date},s=$();$()-s<=e*1e3;);return Math.round(e)},-1),Q(f,"$srand",function(e){return e==null&&(e=i("Random").$new_seed()),l("Random").$srand(e)},-1),Q(f,"$String",function(e){var $=_;return w($=y["$coerce_to?"](e,l("String"),"to_str"))?$:y["$coerce_to!"](e,l("String"),"to_s")}),Q(f,"$tap",function t(){var e=t.$$p||_,$=this;return t.$$p=null,r.yield1(e,$),$}),Q(f,"$to_proc",T),Q(f,"$to_s",function(){var e=this;return"#<"+e.$class()+":0x"+e.$__id__().$to_s(16)+">"}),Q(f,"$catch",function t(e){var $=t.$$p||_,s=_,o=_;t.$$p=null,e==null&&(e=_);try{return e=w(s=e)?s:a.$new(),r.yield1($,e)}catch(g){if(r.rescue(g,[l("UncaughtThrowError")])){o=g;try{return R(o.$tag(),e)?o.$value():V.$raise()}finally{r.pop_exception(g)}}else throw g}},-1),Q(f,"$throw",function(e,$){return $==null&&($=_),V.$raise(l("UncaughtThrowError").$new(e,$))},-2),Q(f,"$open",function t(e){var $=t.$$p||_,s,o;return t.$$p=null,s=Y(arguments),o=s,A(l("File"),"open",E(o),$.$to_proc())},-1),Q(f,"$yield_self",function t(){var e=t.$$p||_,$=this;return t.$$p=null,e===_?A($,"enum_for",["yield_self"],$e(1)):r.yield1(e,$)}),d(f,"fail","raise"),d(f,"kind_of?","is_a?"),d(f,"object_id","__id__"),d(f,"public_send","__send__"),d(f,"send","__send__"),d(f,"then","yield_self"),d(f,"to_enum","enum_for")}("::",h),function(H,L){var f=k(H,L,"Object");return delete a.$$prototype.$require,f.$include(V)}("::",null)};Opal.modules["corelib/main"]=function(r){var w=r.return_val,j=r.def,F=r.Object,y=r.slice,ee=r.Kernel,Z=r.top;return r.nil,r.add_stubs("include,raise"),function(M,X){return j(M,"$to_s",w("main")),j(M,"$include",function(P){return F.$include(P)}),j(M,"$autoload",function(P){var $e,Q;return $e=y(arguments),Q=$e,r.Object.$autoload.apply(r.Object,Q)},-1),j(M,"$using",function(P){return ee.$raise("main.using is permitted only at toplevel")})}(r.get_singleton_class(Z))};Opal.modules["corelib/error/errno"]=function(r){var w=r.module,j=r.truthy,F=r.rb_plus,y=r.send2,ee=r.find_super,Z=r.def,M=r.klass,X=r.nil,m=r.$$$;return r.add_stubs("+,errno,class,attr_reader"),function(P,$e){var Q=w(P,"Errno"),V=X,ne=X;V=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],ne=X;var Y;for(Y=0;Y<V.length;Y++)(function(){var A=V[Y][0],E=V[Y][1],U=V[Y][2];ne=r.klass(Q,r.SystemCallError,A),ne.errno=U,function(K,R){return Z(K,"$new",function G(v){G.$$p;var x=this,T=X;return G.$$p=null,v==null&&(v=X),T=E,j(v)&&(T=F(T," - "+v)),y(x,ee(x,"new",G,!1,!0),"new",[T],null)},-1)}(r.get_singleton_class(ne))})()}("::"),function(P,$e,Q){var V=M(P,$e,"SystemCallError");return Z(V,"$errno",function(){var Y=this;return Y.$class().$errno()}),function(ne,Y){return ne.$attr_reader("errno")}(r.get_singleton_class(V))}("::",m("StandardError"))};Opal.modules["corelib/error"]=function(r){var w=r.klass,j=r.slice,F=r.gvars,y=r.defs,ee=r.send,Z=r.to_a,M=r.def,X=r.send2,m=r.find_super,P=r.truthy,$e=r.Kernel,Q=r.not,V=r.rb_plus,ne=r.eqeq,Y=r.Object,A=r.ensure_kwargs,E=r.hash_get,U=r.module,K=[],R=r.nil,G=r.$$$;return r.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(v,x,T){var q=w(v,x,"Exception"),b=[q].concat(T),a=r.$r(b),d=q.$$prototype;d.message=R,r.prop(q.$$prototype,"$$is_exception",!0);var k;Error.stackTraceLimit=100,y(q,"$new",function(l){var H,L,f=this;F["!"]==null&&(F["!"]=R),H=j(arguments),L=H;var u=L.length>0?L[0]:R,i=new f.$$constructor(u);return i.name=f.$$name,i.message=u,i.cause=F["!"],r.send(i,i.$initialize,L),r.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(i,k),i},-1),k=q.$new,y(q,"$exception",function(l){var H,L,f=this;return H=j(arguments),L=H,ee(f,"new",Z(L))},-1),M(q,"$initialize",function(l){var H,L,f=this;return H=j(arguments),L=H,f.message=L.length>0?L[0]:R},-1),M(q,"$copy_instance_variables",function _(l){var H=_.$$p||R,L=this;_.$$p=null,X(L,m(L,"copy_instance_variables",_,!1,!0),"copy_instance_variables",[l],H),L.message=l.message,L.cause=l.cause,L.stack=l.stack});function h(_){for(var l=[],H,L=0;L<_.length;L++){var f=_[L];!f||!f.$$is_string||((H=f.match(/^    at (.*?) \((.*?)\)$/))?l.push(H[2]+":in `"+H[1]+"'"):(H=f.match(/^    at (.*?)$/))?l.push(H[1]+":in `undefined'"):(H=f.match(/^  from (.*?)$/))?l.push(H[1]):(H=f.match(/^(.*?)@(.*?)$/))&&l.push(H[2]+":in `"+H[1]+"'"))}return l}return M(q,"$backtrace",function(){var l=this;if(l.backtrace)return l.backtrace;var H=l.stack;return typeof H<"u"&&H.$$is_string?l.backtrace=h(H.split(`
`)):H?l.backtrace=h(H):[]}),M(q,"$backtrace_locations",function(){var l,H=this;return H.backtrace_locations||(H.backtrace_locations=(l=H.$backtrace(),l===R||l==null?R:ee(l,"map",[],function(f){return f==null&&(f=R),G(G(G("Thread"),"Backtrace"),"Location").$new(f)}))),H.backtrace_locations}),M(q,"$cause",function(){var l=this;return l.cause||R}),M(q,"$exception",function(l){var H=this;if(l==null&&(l=R),l===R||H===l)return H;var L=H.$clone();return L.message=l,H.backtrace&&(L.backtrace=H.backtrace.$dup()),L.stack=H.stack,L.cause=H.cause,L},-1),M(q,"$message",function(){var l=this;return l.$to_s()}),M(q,"$full_message",function(l){var H,L=this,f=R,u=R,i=R,n=R,t=R,e=R,$=R,s=R,o=R;return F.stderr==null&&(F.stderr=R),l==null&&(l=R),P(a("Hash","skip_raise")?"constant":R)?(l=new Map([["highlight",F.stderr["$tty?"]()],["order","top"]]).$merge(P(f=l)?f:new Map),H=[l["$[]"]("highlight"),l["$[]"]("order")],u=H[0],i=H[1],P([!0,!1]["$include?"](u))||$e.$raise(G("ArgumentError"),"expected true or false as highlight: "+u),P(["top","bottom"]["$include?"](i))||$e.$raise(G("ArgumentError"),"expected :top or :bottom as order: "+i),P(u)?(n="\x1B[1;4m",t="\x1B[1m",e="\x1B[m"):n=t=e="",$=L.$backtrace().$dup(),(Q($)||P($["$empty?"]()))&&($=L.$caller()),s=$.$shift(),o=""+s+": ",o=V(o,""+t+L.$to_s()+" ("+n+L.$class()+e+t+")"+e+`
`),o=V(o,ee($,"map",[],function(z){return z==null&&(z=R),"	from "+z+`
`}).$join()),P(L.$cause())&&(o=V(o,L.$cause().$full_message(new Map([["highlight",u]])))),ne(i,"bottom")&&(o=o.$split(`
`).$reverse().$join(`
`),o=V(""+t+"Traceback"+e+` (most recent call last):
`,o)),o):""+L.message+`
`+L.stack},-1),M(q,"$inspect",function(){var l=this,H=R;return H=l.$to_s(),P(H["$empty?"]())?l.$class().$to_s():"#<"+l.$class().$to_s()+": "+l.$to_s()+">"}),M(q,"$set_backtrace",function(l){var H=this,L=!0,f,u;if(l===R)H.backtrace=R,H.stack="";else if(l.$$is_string)H.backtrace=[l],H.stack="  from "+l;else{if(l.$$is_array){for(f=0,u=l.length;f<u;f++)if(!l[f].$$is_string){L=!1;break}}else L=!1;L===!1&&$e.$raise(G("TypeError"),"backtrace must be Array of String"),H.backtrace=l,H.stack=ee(l,"map",[],function(n){return n==null&&(n=R),V("  from ",n)}).join(`
`)}return l}),M(q,"$to_s",function(){var l=this,H=R,L=R;return P(H=P(L=l.message)?l.message.$to_s():L)?H:l.$class().$to_s()})}("::",Error,K),w("::",G("Exception"),"ScriptError"),w("::",G("ScriptError"),"SyntaxError"),w("::",G("ScriptError"),"LoadError"),w("::",G("ScriptError"),"NotImplementedError"),w("::",G("Exception"),"SystemExit"),w("::",G("Exception"),"NoMemoryError"),w("::",G("Exception"),"SignalException"),w("::",G("SignalException"),"Interrupt"),w("::",G("Exception"),"SecurityError"),w("::",G("Exception"),"SystemStackError"),w("::",G("Exception"),"StandardError"),w("::",G("StandardError"),"EncodingError"),w("::",G("StandardError"),"ZeroDivisionError"),w("::",G("StandardError"),"NameError"),w("::",G("NameError"),"NoMethodError"),w("::",G("StandardError"),"RuntimeError"),w("::",G("RuntimeError"),"FrozenError"),w("::",G("StandardError"),"LocalJumpError"),w("::",G("StandardError"),"TypeError"),w("::",G("StandardError"),"ArgumentError"),w("::",G("ArgumentError"),"UncaughtThrowError"),w("::",G("StandardError"),"IndexError"),w("::",G("IndexError"),"StopIteration"),w("::",G("StopIteration"),"ClosedQueueError"),w("::",G("IndexError"),"KeyError"),w("::",G("StandardError"),"RangeError"),w("::",G("RangeError"),"FloatDomainError"),w("::",G("StandardError"),"IOError"),w("::",G("IOError"),"EOFError"),w("::",G("StandardError"),"SystemCallError"),w("::",G("StandardError"),"RegexpError"),w("::",G("StandardError"),"ThreadError"),w("::",G("StandardError"),"FiberError"),Y.$autoload("Errno","corelib/error/errno"),function(v,x){var T=w(v,x,"FrozenError");return T.$attr_reader("receiver"),M(T,"$initialize",function q(b,a){var d;q.$$p;var k=this;return q.$$p=null,a=A(a),d=E(a,"receiver"),d==null&&(d=R),X(k,m(k,"initialize",q,!1,!0),"initialize",[b],null),k.receiver=d},-2)}("::",G("RuntimeError")),function(v,x){var T=w(v,x,"UncaughtThrowError"),q=T.$$prototype;return q.tag=R,T.$attr_reader("tag","value"),M(T,"$initialize",function b(a,d){b.$$p;var k=this;return b.$$p=null,d==null&&(d=R),k.tag=a,k.value=d,X(k,m(k,"initialize",b,!1,!0),"initialize",["uncaught throw "+k.tag.$inspect()],null)},-2)}("::",G("ArgumentError")),function(v,x){var T=w(v,x,"NameError");return T.$attr_reader("name"),M(T,"$initialize",function q(b,a){q.$$p;var d=this;return q.$$p=null,a==null&&(a=R),X(d,m(d,"initialize",q,!1,!0),"initialize",[b],null),d.name=a},-2)}("::",null),function(v,x){var T=w(v,x,"NoMethodError");return T.$attr_reader("args"),M(T,"$initialize",function q(b,a,d){q.$$p;var k=this;return q.$$p=null,a==null&&(a=R),d==null&&(d=[]),X(k,m(k,"initialize",q,!1,!0),"initialize",[b,a],null),k.args=d},-2)}("::",null),function(v,x){var T=w(v,x,"StopIteration");return T.$attr_reader("result")}("::",null),function(v,x){var T=w(v,x,"KeyError"),q=T.$$prototype;return q.receiver=q.key=R,M(T,"$initialize",function b(a,d){var k,h;b.$$p;var _=this;return b.$$p=null,d=A(d),k=E(d,"receiver"),k==null&&(k=R),h=E(d,"key"),h==null&&(h=R),X(_,m(_,"initialize",b,!1,!0),"initialize",[a],null),_.receiver=k,_.key=h},-2),M(T,"$receiver",function(){var a=this,d=R;return P(d=a.receiver)?d:$e.$raise(G("ArgumentError"),"no receiver is available")}),M(T,"$key",function(){var a=this,d=R;return P(d=a.key)?d:$e.$raise(G("ArgumentError"),"no key is available")})}("::",null),function(v,x){var T=w(v,x,"LocalJumpError");return T.$attr_reader("exit_value","reason"),M(T,"$initialize",function q(b,a,d){q.$$p;var k=this;return q.$$p=null,a==null&&(a=R),d==null&&(d="noreason"),X(k,m(k,"initialize",q,!1,!0),"initialize",[b],null),k.exit_value=a,k.reason=d},-2)}("::",null),function(v,x){var T=U(v,"JS"),q=[T].concat(x);return w(q[0],null,"Error"),R}("::",K)};Opal.modules["corelib/constants"]=function(r){var w=r.const_set;r.nil;var j=r.$$$;return w("::","RUBY_PLATFORM","opal"),w("::","RUBY_ENGINE","opal"),w("::","RUBY_VERSION","3.2.0"),w("::","RUBY_ENGINE_VERSION","1.8.2"),w("::","RUBY_RELEASE_DATE","2023-11-23"),w("::","RUBY_PATCHLEVEL",0),w("::","RUBY_REVISION","0"),w("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),w("::","RUBY_DESCRIPTION","opal "+j("RUBY_ENGINE_VERSION")+" ("+j("RUBY_RELEASE_DATE")+" revision "+j("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(r){var w=r.Object;return r.nil,r.add_stubs("require"),w.$require("corelib/runtime"),w.$require("corelib/helpers"),w.$require("corelib/module"),w.$require("corelib/class"),w.$require("corelib/basic_object"),w.$require("corelib/kernel"),w.$require("corelib/main"),w.$require("corelib/error"),w.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(r){var w=r.klass,j=r.Kernel,F=r.def,y=r.return_val,ee=r.ensure_kwargs,Z=r.hash_get,M=r.NilClass,X=r.slice,m=r.truthy,P=r.rb_gt,$e=r.alias,Q=r.nil,V=r.$$$;return r.add_stubs("raise,name,new,>,length,Rational,to_i"),function(ne,Y,A){var E=w(ne,Y,"NilClass");return E.$$prototype.$$meta=E,function(U,K){return F(U,"$allocate",function(){var G=this;return j.$raise(V("TypeError"),"allocator undefined for "+G.$name())}),r.udef(U,"$new"),Q}(r.get_singleton_class(E)),F(E,"$!",y(!0)),F(E,"$&",y(!1)),F(E,"$|",function(K){return K!==!1&&K!==Q}),F(E,"$^",function(K){return K!==!1&&K!==Q}),F(E,"$==",function(K){return K===Q}),F(E,"$dup",y(Q)),F(E,"$clone",function(K){return K=ee(K),Z(K,"freeze"),Q},-1),F(E,"$inspect",y("nil")),F(E,"$nil?",y(!0)),F(E,"$singleton_class",function(){return M}),F(E,"$to_a",function(){return[]}),F(E,"$to_h",function(){return new Map}),F(E,"$to_i",y(0)),F(E,"$to_s",y("")),F(E,"$to_c",function(){return V("Complex").$new(0,0)}),F(E,"$rationalize",function(K){var R,G;return R=X(arguments),G=R,m(P(G.$length(),1))&&j.$raise(V("ArgumentError")),j.$Rational(0,1)},-1),F(E,"$to_r",function(){return j.$Rational(0,1)}),F(E,"$instance_variables",function(){return[]}),$e(E,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(r){var w=r.klass,j=r.Kernel,F=r.def,y=r.return_self,ee=r.ensure_kwargs,Z=r.hash_get,M=r.slice,X=r.truthy,m=r.send2,P=r.find_super,$e=r.to_a,Q=r.alias,V=r.nil,ne=r.$$$;return r.add_stubs("raise,name,==,to_s,__id__"),function(Y,A,E){var U=w(Y,A,"Boolean");r.prop(U.$$prototype,"$$is_boolean",!0);for(var K=["$$class","$$meta"],R=0;R<K.length;R++)Object.defineProperty(U.$$prototype,K[R],{configurable:!0,enumerable:!1,get:function(){return this==!0?r.TrueClass:this==!1?r.FalseClass:r.Boolean}});return Object.defineProperty(U.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:V}}),function(G,v){return F(G,"$allocate",function(){var T=this;return j.$raise(ne("TypeError"),"allocator undefined for "+T.$name())}),r.udef(G,"$new"),V}(r.get_singleton_class(U)),F(U,"$__id__",function(){var v=this;return v.valueOf()?2:0}),F(U,"$!",function(){var v=this;return v!=!0}),F(U,"$&",function(v){var x=this;return x==!0?v!==!1&&v!==V:!1}),F(U,"$|",function(v){var x=this;return x==!0?!0:v!==!1&&v!==V}),F(U,"$^",function(v){var x=this;return x==!0?v===!1||v===V:v!==!1&&v!==V}),F(U,"$==",function(v){var x=this;return x==!0===v.valueOf()}),F(U,"$singleton_class",function(){var v=this;return v.$$meta}),F(U,"$to_s",function(){var v=this;return v==!0?"true":"false"}),F(U,"$dup",y),F(U,"$clone",function(v){var x=this;return v=ee(v),Z(v,"freeze"),x},-1),F(U,"$method_missing",function G(v,x){var T=G.$$p||V,q,b,a=this;G.$$p=null,q=M(arguments,1),b=q;var d=a.$$class.$$prototype[r.jsid(v)];return X(typeof d<"u"&&!d.$$stub)||m(a,P(a,"method_missing",G,!1,!0),"method_missing",[v].concat($e(b)),T),r.send(a,d,b,T)},-2),F(U,"$respond_to_missing?",function(v,x){var T=this,q=T.$$class.$$prototype[r.jsid(v)];return typeof q<"u"&&!q.$$stub},-2),Q(U,"eql?","=="),Q(U,"equal?","=="),Q(U,"inspect","to_s"),Q(U,"object_id","__id__")}("::",Boolean),w("::",ne("Boolean"),"TrueClass"),w("::",ne("Boolean"),"FalseClass"),V};Opal.modules["corelib/comparable"]=function(r){var w=r.truthy,j=r.module,F=r.rb_gt,y=r.rb_lt,ee=r.eqeqeq,Z=r.Kernel,M=r.def,X=r.nil,m=r.$$$;return r.add_stubs(">,<,===,raise,class,<=>,equal?"),function(P){var $e=j(P,"Comparable"),Q=X;function V(A){return r.is_a(A,r.Integer)?A:F(A,0)?1:y(A,0)?-1:0}function ne(A,E){var U;ee(X,Q=E)||ee(!0,Q)||ee(!1,Q)||ee(m("Integer"),Q)||ee(m("Float"),Q)?U=E.$inspect():U=E.$$class,Z.$raise(m("ArgumentError"),"comparison of "+A.$class()+" with "+U+" failed")}function Y(A,E){var U=A["$<=>"](E);return w(U)||ne(A,E),V(U)}return M($e,"$==",function(E){var U=this,K=X;return w(U["$equal?"](E))?!0:U["$<=>"]==r.Kernel["$<=>"]?!1:U.$$comparable?(U.$$comparable=!1,!1):w(K=U["$<=>"](E))?V(K)==0:!1}),M($e,"$>",function(E){var U=this;return Y(U,E)>0}),M($e,"$>=",function(E){var U=this;return Y(U,E)>=0}),M($e,"$<",function(E){var U=this;return Y(U,E)<0}),M($e,"$<=",function(E){var U=this;return Y(U,E)<=0}),M($e,"$between?",function(E,U){var K=this;return!(w(y(K,E))||w(F(K,U)))}),M($e,"$clamp",function(E,U){var K=this;U==null&&(U=X);var R,G;if(U===X&&(r.is_a(E,r.Range)||Z.$raise(m("TypeError"),"wrong argument type "+E.$class()+" (expected Range)"),G=E.excl,U=E.end,E=E.begin,U!==X&&G&&Z.$raise(m("ArgumentError"),"cannot clamp with an exclusive range")),E!==X&&U!==X&&Y(E,U)>0&&Z.$raise(m("ArgumentError"),"min argument must be smaller than max argument"),E!==X){if(R=Y(K,E),R==0)return K;if(R<0)return E}return U!==X&&(R=Y(K,U),R>0)?U:K},-2)}("::")};Opal.modules["corelib/regexp"]=function(r){var w=r.coerce_to,j=r.prop,F=r.freeze,y=r.klass,ee=r.const_set,Z=r.send2,M=r.find_super,X=r.def,m=r.truthy,P=r.gvars,$e=r.slice,Q=r.Kernel,V=r.Opal,ne=r.alias,Y=r.send,A=r.regexp,E=r.rb_plus,U=r.ensure_kwargs,K=r.hash_get,R=r.rb_ge,G=r.to_a,v=r.eqeqeq,x=r.rb_minus,T=r.return_ivar,q=[],b=r.nil,a=r.$$$;return r.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),y("::",a("StandardError"),"RegexpError"),function(d,k,h){var _=y(d,k,"Regexp"),l=[_].concat(h),H=r.$r(l);return ee(_,"IGNORECASE",1),ee(_,"EXTENDED",2),ee(_,"MULTILINE",4),r.prop(_.$$prototype,"$$is_regexp",!0),function(L,f){var u=[L].concat(f),i=r.$r(u);return X(L,"$allocate",function n(){var t=n.$$p||b,e=this,$=b;return n.$$p=null,$=Z(e,M(e,"allocate",n,!1,!0),"allocate",[],t),$.uninitialized=!0,$}),X(L,"$escape",function(t){return t=w(t,a("String"),"to_str"),r.escape_regexp(t)}),X(L,"$last_match",function(t){return P["~"]==null&&(P["~"]=b),t==null&&(t=b),m(t["$nil?"]())?P["~"]:m(P["~"])?P["~"]["$[]"](t):b},-1),X(L,"$union",function(t){var e,$,s=this;e=$e(arguments),$=e;var o,g,z,S,I;if($.length==0)return/(?!)/;if($.length==1&&$[0].$$is_regexp)return $[0];o=$[0].$$is_array,$.length>1&&o&&Q.$raise(a("TypeError"),"no implicit conversion of Array into String"),o&&($=$[0]),S=void 0,g=[];for(var B=0;B<$.length;B++)z=$[B],z.$$is_string?g.push(s.$escape(z)):z.$$is_regexp?(I=z.$options(),S!=null&&S!=I&&Q.$raise(a("TypeError"),"All expressions must use the same options"),S=I,g.push("("+z.source+")")):g.push(s.$escape(z.$to_str()));return s.$new(g.$join("|"),S)},-1),X(L,"$new",function(t,e){if(t.$$is_regexp)return new RegExp(t);if(t=V["$coerce_to!"](t,a("String"),"to_str"),t.charAt(t.length-1)==="\\"&&t.charAt(t.length-2)!=="\\"&&Q.$raise(a("RegexpError"),"too short escape sequence: /"+t+"/"),t=t.replace("\\A","^").replace("\\z","$"),e===void 0||e["$!"]())return new RegExp(t);if(e.$$is_number){var $="";i("IGNORECASE")&e&&($+="i"),i("MULTILINE")&e&&($+="m"),e=$}else e="i";return new RegExp(t,e)},-2),ne(L,"compile","new"),ne(L,"quote","escape")}(r.get_singleton_class(_),l),X(_,"$==",function(f){var u=this;return f instanceof RegExp&&u.toString()===f.toString()}),X(_,"$===",function(f){var u=this;return u.$match(V["$coerce_to?"](f,a("String"),"to_str"))!==b}),X(_,"$=~",function(f){var u=this,i=b;return P["~"]==null&&(P["~"]=b),m(i=u.$match(f))?P["~"].$begin(0):i}),X(_,"$freeze",function(){var f=this;return m(f["$frozen?"]())?f:(f.hasOwnProperty("$$g")||j(f,"$$g",null),f.hasOwnProperty("$$gm")||j(f,"$$gm",null),F(f))}),X(_,"$inspect",function(){var f=this,u=/^\/(.*)\/([^\/]*)$/,i=f.toString(),n=u.exec(i);if(n){for(var t=n[1],e=n[2],$=t.split(""),s=$.length,o=!1,g="",z=0;z<s;z++){var S=$[z];!o&&S=="/"&&(g=g.concat("\\")),g=g.concat(S),S=="\\"?o?o=!1:o=!0:o=!1}return"/"+g+"/"+e}else return i}),X(_,"$match",function L(f,u){var i=L.$$p||b,n=this;if(P["~"]==null&&(P["~"]=b),L.$$p=null,n.uninitialized&&Q.$raise(a("TypeError"),"uninitialized Regexp"),u===void 0){if(f===b)return P["~"]=b;var t=n.exec(w(f,a("String"),"to_str"));return t?(P["~"]=a("MatchData").$new(n,t),i===b?P["~"]:r.yield1(i,P["~"])):P["~"]=b}if(u=w(u,a("Integer"),"to_int"),f===b||(f=w(f,a("String"),"to_str"),u<0&&(u+=f.length,u<0)))return P["~"]=b;for(var e,$=r.global_regexp(n);;){if(e=$.exec(f),e===null)return P["~"]=b;if(e.index>=u)return P["~"]=a("MatchData").$new($,e),i===b?P["~"]:r.yield1(i,P["~"]);$.lastIndex=e.index+1}},-2),X(_,"$match?",function(f,u){var i=this;if(i.uninitialized&&Q.$raise(a("TypeError"),"uninitialized Regexp"),u===void 0)return f===b?!1:i.test(w(f,a("String"),"to_str"));if(u=w(u,a("Integer"),"to_int"),f===b||(f=w(f,a("String"),"to_str"),u<0&&(u+=f.length,u<0)))return!1;var n,t=r.global_regexp(i);return n=t.exec(f),!(n===null||n.index<u)},-2),X(_,"$names",function(){var f=this;return Y(f.$source().$scan(A(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$uniq()}),X(_,"$named_captures",function(){var f=this;return Y(Y(Y(f.$source().$scan(A(["\\(?<(\\w+)>"]),new Map([["no_matchdata",!0]])),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(i){return i==null&&(i=b),Y(i,"map",[],function(t){return t==null&&(t=b),E(t.$last(),1)})})}),X(_,"$~",function(){var f=this;return P._==null&&(P._=b),f["$=~"](P._)}),X(_,"$source",function(){var f=this;return f.source}),X(_,"$options",function(){var f=this;f.uninitialized&&Q.$raise(a("TypeError"),"uninitialized Regexp");var u=0;return f.multiline&&(u|=H("MULTILINE")),f.ignoreCase&&(u|=H("IGNORECASE")),u}),X(_,"$casefold?",function(){var f=this;return f.ignoreCase}),ne(_,"eql?","=="),ne(_,"to_s","source")}("::",RegExp,q),function(d,k,h){var _=y(d,k,"MatchData"),l=[_].concat(h),H=r.$r(l),L=_.$$prototype;return L.matches=b,_.$attr_reader("post_match","pre_match","regexp","string"),X(_,"$initialize",function(u,i,n){var t,e=this;n=U(n),t=K(n,"no_matchdata"),t==null&&(t=!1),m(t)||(P["~"]=e),e.regexp=u,e.begin=i.index,e.string=i.input,e.pre_match=i.input.slice(0,i.index),e.post_match=i.input.slice(i.index+i[0].length),e.matches=[];for(var $=0,s=i.length;$<s;$++){var o=i[$];o==null?e.matches.push(b):e.matches.push(o)}},-3),X(_,"$match",function(u){var i=this,n=b;return m(n=i["$[]"](u))?n:m(u["$is_a?"](H("Integer")))&&m(R(u,i.$length()))?Q.$raise(a("IndexError"),"index "+u+" out of matches"):b}),X(_,"$match_length",function(u){var i,n=this;return i=n.$match(u),i===b||i==null?b:i.$length()}),X(_,"$[]",function(u){var i,n,t=this;return i=$e(arguments),n=i,n[0].$$is_string?(t.$regexp().$names()["$include?"](n["$[]"](0))["$!"]()&&Q.$raise(a("IndexError"),"undefined group name reference: "+n["$[]"](0)),t.$named_captures()["$[]"](n["$[]"](0))):Y(t.matches,"[]",G(n))},-1),X(_,"$offset",function(u){var i=this;return u!==0&&Q.$raise(a("ArgumentError"),"MatchData#offset only supports 0th element"),[i.begin,i.begin+i.matches[u].length]}),X(_,"$==",function(u){var i=this,n=b,t=b,e=b,$=b;return v(a("MatchData"),u)?m(n=m(t=m(e=m($=i.string==u.string)?i.regexp.toString()==u.regexp.toString():$)?i.pre_match==u.pre_match:e)?i.post_match==u.post_match:t)?i.begin==u.begin:n:!1}),X(_,"$begin",function(u){var i=this;return u!==0&&Q.$raise(a("ArgumentError"),"MatchData#begin only supports 0th element"),i.begin}),X(_,"$end",function(u){var i=this;return u!==0&&Q.$raise(a("ArgumentError"),"MatchData#end only supports 0th element"),i.begin+i.matches[u].length}),X(_,"$captures",function(){var u=this;return u.matches.slice(1)}),X(_,"$named_captures",function(){var u=this,i=b;return i=u.$captures(),Y(u.$regexp().$named_captures(),"transform_values",[],function(t){return t==null&&(t=b),i["$[]"](x(t.$last(),1))})}),X(_,"$names",function(){var u=this;return u.$regexp().$names()}),X(_,"$inspect",function(){var u=this,i="#<MatchData "+u.matches[0].$inspect();if(u.$regexp().$names()["$empty?"]())for(var n=1,t=u.matches.length;n<t;n++)i+=" "+n+":"+u.matches[n].$inspect();else Y(u.$named_captures(),"each",[],function($,s){return $==null&&($=b),s==null&&(s=b),i+=" "+$+":"+s.$inspect()});return i+">"}),X(_,"$length",function(){var u=this;return u.matches.length}),X(_,"$to_a",T("matches")),X(_,"$to_s",function(){var u=this;return u.matches[0]}),X(_,"$values_at",function(u){var i,n,t=this;i=$e(arguments),n=i;var e,$,s,o=[];for(e=0;e<n.length;e++){if(n[e].$$is_range&&($=n[e].$to_a(),$.unshift(e,1),Array.prototype.splice.apply(n,$)),s=V["$coerce_to!"](n[e],a("Integer"),"to_int"),s<0&&(s+=t.matches.length,s<0)){o.push(b);continue}o.push(t.matches[s])}return o},-1),ne(_,"eql?","=="),ne(_,"size","length")}(q[0],null,q)};Opal.modules["corelib/string"]=function(r){var w=r.coerce_to,j=r.respond_to,F=r.global_multiline_regexp,y=r.prop,ee=r.opal32_init,Z=r.opal32_add,M=r.klass,X=r.send2,m=r.find_super,P=r.def,$e=r.Opal,Q=r.defs,V=r.slice,ne=r.send,Y=r.to_a,A=r.extract_kwargs,E=r.ensure_kwargs,U=r.hash_get,K=r.eqeqeq,R=r.Kernel,G=r.truthy,v=r.gvars,x=r.rb_divide,T=r.rb_plus,q=r.eqeq,b=r.alias,a=r.const_set,d=r.top,k=[],h=r.$r(k),_=r.nil,l=r.$$$;return r.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),d.$require("corelib/comparable"),d.$require("corelib/regexp"),function(H,L,f){var u=M(H,L,"String"),i=[u].concat(f),n=r.$r(i);u.$include(l("Comparable")),r.prop(u.$$prototype,"$$is_string",!0);var t=new Map;(function(){P(u,"$__id__",function $(){var s=$.$$p||_,o=this;if($.$$p=null,typeof o=="object")return X(o,m(o,"__id__",$,!1,!0),"__id__",[],s);if(t.has(o))return t.get(o);var g=r.uid();return t.set(o,g),g}),P(u,"$hash",function(){var s=this,o=ee(),g,z=s.length;for(o=Z(o,5),o=Z(o,z),g=0;g<z;g++)o=Z(o,s.charCodeAt(g));return o})})(),Q(u,"$try_convert",function(s){return $e["$coerce_to?"](s,l("String"),"to_str")}),Q(u,"$new",function(s){var o,g,z=this;o=V(arguments),g=o;var S=g[0]||"",I=g[g.length-1];return S=w(S,l("String"),"to_str"),I&&I.$$is_hash&&I.has("encoding")&&(S=S.$force_encoding(I.get("encoding").value)),S=new z.$$constructor(S),S.$initialize.$$pristine||ne(S,"initialize",Y(g)),S},-1),P(u,"$initialize",function(s,o){var g,z;return g=V(arguments),z=A(g),z=E(z),g.length>0&&g.shift(),U(z,"encoding"),U(z,"capacity"),_},-1),P(u,"$%",function(s){var o=this;return K(l("Array"),s)?ne(o,"format",[o].concat(Y(s))):o.$format(o,s)}),P(u,"$*",function(s){var o=this;if(s=w(s,l("Integer"),"to_int"),s<0&&R.$raise(l("ArgumentError"),"negative argument"),s===0)return"";var g="",z=o.toString();for(z.length*s>=1<<28&&R.$raise(l("RangeError"),"multiply count must not overflow maximum string size");(s&1)===1&&(g+=z),s>>>=1,s!==0;)z+=z;return g}),P(u,"$+",function(s){var o=this;if(s=w(s,l("String"),"to_str"),s==""&&o.$$class===r.String)return o;if(o==""&&s.$$class===r.String)return s;var g=o+s;return o.encoding===g.encoding&&s.encoding===g.encoding||o.encoding.name==="UTF-8"||s.encoding.name==="UTF-8"?g:r.enc(g,o.encoding)}),P(u,"$<=>",function(s){var o=this;if(G(s["$respond_to?"]("to_str")))return s=s.$to_str().$to_s(),o>s?1:o<s?-1:0;var g=s["$<=>"](o);return g===_?_:g>0?-1:g<0?1:0}),P(u,"$==",function(s){var o=this;return s.$$is_string?o.toString()===s.toString():j(s,"$to_str")?s["$=="](o):!1}),P(u,"$=~",function(s){var o=this;return s.$$is_string&&R.$raise(l("TypeError"),"type mismatch: String given"),s["$=~"](o)}),P(u,"$[]",function(s,o){var g=this,z=g.length,S,I;if(s.$$is_range)return S=s.excl,I=s,o=s.end===_?-1:w(s.end,l("Integer"),"to_int"),s=s.begin===_?0:w(s.begin,l("Integer"),"to_int"),Math.abs(s)>z?_:(s<0&&(s+=z),o<0&&(o+=z),(!S||I.end===_)&&(o+=1),o=o-s,o<0&&(o=0),g.substr(s,o));if(s.$$is_string)return o!=null&&R.$raise(l("TypeError")),g.indexOf(s)!==-1?s:_;if(s.$$is_regexp){var B=g.match(s);return B===null?(v["~"]=_,_):(v["~"]=l("MatchData").$new(s,B),o==null?B[0]:(o=w(o,l("Integer"),"to_int"),o<0&&-o<B.length?B[o+=B.length]:o>=0&&o<B.length?B[o]:_))}return s=w(s,l("Integer"),"to_int"),s<0&&(s+=z),o==null?s>=z||s<0?_:g.substr(s,1):(o=w(o,l("Integer"),"to_int"),o<0||s>z||s<0?_:g.substr(s,o))},-2),P(u,"$b",function(){var s=this;return new String(s).$force_encoding("binary")}),P(u,"$capitalize",function(){var s=this;return s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()}),P(u,"$casecmp",function(s){var o=this;if(!G(s["$respond_to?"]("to_str")))return _;s=w(s,l("String"),"to_str").$to_s();var g=/^[\x00-\x7F]*$/;return g.test(o)&&g.test(s)&&(o=o.toLowerCase(),s=s.toLowerCase()),o["$<=>"](s)}),P(u,"$casecmp?",function(s){var o=this,g=o.$casecmp(s);return g===_?_:g===0}),P(u,"$center",function(s,o){var g=this;if(o==null&&(o=" "),s=w(s,l("Integer"),"to_int"),o=w(o,l("String"),"to_str").$to_s(),G(o["$empty?"]())&&R.$raise(l("ArgumentError"),"zero width padding"),G(s<=g.length))return g;var z=g.$ljust(x(T(s,g.length),2).$ceil(),o),S=g.$rjust(x(T(s,g.length),2).$floor(),o);return S+z.slice(g.length)},-2),P(u,"$chomp",function(s){var o=this;if(v["/"]==null&&(v["/"]=_),s==null&&(s=v["/"]),G(s===_||o.length===0))return o;s=$e["$coerce_to!"](s,l("String"),"to_str").$to_s();var g;if(s===`
`)g=o.replace(/\r?\n?$/,"");else if(s==="")g=o.replace(/(\r?\n)+$/,"");else if(o.length>=s.length){var z=o.substr(o.length-s.length,s.length);z===s&&(g=o.substr(0,o.length-s.length))}return g??o},-1),P(u,"$chop",function(){var s=this,o=s.length,g;return o<=1?g="":s.charAt(o-1)===`
`&&s.charAt(o-2)==="\r"?g=s.substr(0,o-2):g=s.substr(0,o-1),g}),P(u,"$chr",function(){var s=this;return s.charAt(0)}),P(u,"$clone",function(s){var o,g=this,z=_;return s=E(s),o=U(s,"freeze"),o==null&&(o=_),G(o["$nil?"]())||q(o,!0)||q(o,!1)||g.$raise(n("ArgumentError"),"unexpected value for freeze: "+o.$class()),z=new String(g),z.$copy_singleton_methods(g),z.$initialize_clone(g,new Map([["freeze",o]])),q(o,!0)?z.$$frozen||(z.$$frozen=!0):G(o["$nil?"]())&&g.$$frozen&&(z.$$frozen=!0),z},-1),P(u,"$dup",function(){var s=this,o=_;return o=new String(s),o.$initialize_dup(s),o}),P(u,"$count",function(s){var o,g,z=this;o=V(arguments),g=o,g.length===0&&R.$raise(l("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var S=e(g);return S===null?0:z.length-z.replace(new RegExp(S,"g"),"").length},-1),P(u,"$delete",function(s){var o,g,z=this;o=V(arguments),g=o,g.length===0&&R.$raise(l("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var S=e(g);return S===null?z:z.replace(new RegExp(S,"g"),"")},-1),P(u,"$delete_prefix",function(s){var o=this;return s.$$is_string||(s=w(s,l("String"),"to_str")),o.slice(0,s.length)===s?o.slice(s.length):o}),P(u,"$delete_suffix",function(s){var o=this;return s.$$is_string||(s=w(s,l("String"),"to_str")),o.slice(o.length-s.length)===s?o.slice(0,o.length-s.length):o}),P(u,"$downcase",function(){var s=this;return s.toLowerCase()}),P(u,"$each_line",function $(s,o){var g=$.$$p||_,z,S,I,B,O=this;if(v["/"]==null&&(v["/"]=_),$.$$p=null,z=V(arguments),S=A(z),S=E(S),z.length>0&&(I=z.shift()),I==null&&(I=v["/"]),B=U(S,"chomp"),B==null&&(B=!1),g===_)return O.$enum_for("each_line",I,new Map([["chomp",B]]));if(I===_)return r.yield1(g,O),O;I=w(I,l("String"),"to_str");var se,le,fe,de,he,ve,me,be;if(I.length===0){for(se=O.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),le=0,fe=se.length;le<fe;le+=2)(se[le]||se[le+1])&&(be=(se[le]||"")+(se[le+1]||""),B&&(be=be.$chomp(`
`)),r.yield1(g,be));return O}for(he=O.$chomp(I),ve=O.length!=he.length,me=he.split(I),le=0,de=me.length;le<de;le++)be=me[le],(le<de-1||ve)&&(be+=I),B&&(be=be.$chomp(I)),r.yield1(g,be);return O},-1),P(u,"$empty?",function(){var s=this;return s.length===0}),P(u,"$end_with?",function(s){var o,g,z=this;o=V(arguments),g=o;for(var S=0,I=g.length;S<I;S++){var B=w(g[S],l("String"),"to_str").$to_s();if(z.length>=B.length&&z.substr(z.length-B.length,B.length)==B)return!0}return!1},-1),P(u,"$gsub",function $(s,o){var g=$.$$p||_,z=this;if($.$$p=null,o===void 0&&g===_)return z.$enum_for("gsub",s);var S="",I=_,B=0,O,se;s.$$is_regexp?s=F(s):(s=w(s,l("String"),"to_str"),s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var le;;){if(O=s.exec(z),O===null){v["~"]=_,S+=z.slice(B);break}I=l("MatchData").$new(s,O),o===void 0?(le=s.lastIndex,se=g(O[0]),s.lastIndex=le):o.$$is_hash?se=o["$[]"](O[0]).$to_s():(o.$$is_string||(o=w(o,l("String"),"to_str")),se=o.replace(/([\\]+)([0-9+&`'])/g,function(fe,de,he){if(de.length%2===0)return fe;switch(he){case"+":for(var ve=O.length-1;ve>0;ve--)if(O[ve]!==void 0)return de.slice(1)+O[ve];return"";case"&":return de.slice(1)+O[0];case"`":return de.slice(1)+z.slice(0,O.index);case"'":return de.slice(1)+z.slice(O.index+O[0].length);default:return de.slice(1)+(O[he]||"")}}).replace(/\\\\/g,"\\")),s.lastIndex===O.index?(S+=z.slice(B,O.index)+se+(z[O.index]||""),s.lastIndex+=1):S+=z.slice(B,O.index)+se,B=s.lastIndex}return v["~"]=I,S},-2),P(u,"$hex",function(){var s=this;return s.$to_i(16)}),P(u,"$include?",function(s){var o=this;return s.$$is_string||(s=w(s,l("String"),"to_str")),o.indexOf(s)!==-1}),P(u,"$index",function(s,o){var g=this,z,S,I;if(o===void 0)o=0;else if(o=w(o,l("Integer"),"to_int"),o<0&&(o+=g.length,o<0))return _;if(s.$$is_regexp)for(I=F(s);;){if(S=I.exec(g),S===null){v["~"]=_,z=-1;break}if(S.index>=o){v["~"]=l("MatchData").$new(I,S),z=S.index;break}I.lastIndex=S.index+1}else s=w(s,l("String"),"to_str"),s.length===0&&o>g.length?z=-1:z=g.indexOf(s,o);return z===-1?_:z},-2),P(u,"$inspect",function(){var s=this,o=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},z=s.replace(o,function(S){return g[S]?g[S]:(S=S.charCodeAt(0),S<=255&&(s.encoding["$binary?"]()||s.internal_encoding["$binary?"]())?"\\x"+("00"+S.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+S.toString(16).toUpperCase()).slice(-4))});return'"'+z.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),P(u,"$intern",function(){var s=this;return s.toString()}),P(u,"$length",function(){var s=this;return s.length}),b(u,"size","length"),P(u,"$lines",function $(s,o){var g=$.$$p||_,z,S,I,B,O=this,se=_;return v["/"]==null&&(v["/"]=_),$.$$p=null,z=V(arguments),S=A(z),S=E(S),z.length>0&&(I=z.shift()),I==null&&(I=v["/"]),B=U(S,"chomp"),B==null&&(B=!1),se=ne(O,"each_line",[I,new Map([["chomp",B]])],g.$to_proc()),G(g)?O:se.$to_a()},-1),P(u,"$ljust",function(s,o){var g=this;if(o==null&&(o=" "),s=w(s,l("Integer"),"to_int"),o=w(o,l("String"),"to_str").$to_s(),G(o["$empty?"]())&&R.$raise(l("ArgumentError"),"zero width padding"),G(s<=g.length))return g;var z=-1,S="";for(s-=g.length;++z<s;)S+=o;return g+S.slice(0,s)},-2),P(u,"$lstrip",function(){var s=this;return s.replace(/^[\x00\x09\x0a-\x0d\x20]*/,"")}),P(u,"$ascii_only?",function(){var s=this;return s.encoding.ascii?/^[\x00-\x7F]*$/.test(s):!1}),P(u,"$match",function $(s,o){var g=$.$$p||_,z=this;return $.$$p=null,(K(n("String"),s)||G(s["$respond_to?"]("to_str")))&&(s=l("Regexp").$new(s.$to_str())),K(l("Regexp"),s)||R.$raise(l("TypeError"),"wrong argument type "+s.$class()+" (expected Regexp)"),ne(s,"match",[z,o],g.$to_proc())},-2),P(u,"$match?",function(s,o){var g=this;return(K(n("String"),s)||G(s["$respond_to?"]("to_str")))&&(s=l("Regexp").$new(s.$to_str())),K(l("Regexp"),s)||R.$raise(l("TypeError"),"wrong argument type "+s.$class()+" (expected Regexp)"),s["$match?"](g,o)},-2),P(u,"$next",function(){var s=this,o=s.length;if(o===0)return"";for(var g=s,z=s.search(/[a-zA-Z0-9]/),S=!1,I;o--;){if(I=s.charCodeAt(o),I>=48&&I<=57||I>=65&&I<=90||I>=97&&I<=122)switch(I){case 57:S=!0,I=48;break;case 90:S=!0,I=65;break;case 122:S=!0,I=97;break;default:S=!1,I+=1}else z===-1?I===255?(S=!0,I=0):(S=!1,I+=1):S=!0;if(g=g.slice(0,o)+String.fromCharCode(I)+g.slice(o+1),S&&(o===0||o===z)){switch(I){case 65:break;case 97:break;default:I+=1}o===0?g=String.fromCharCode(I)+g:g=g.slice(0,o)+String.fromCharCode(I)+g.slice(o),S=!1}if(!S)break}return g}),P(u,"$oct",function(){var s=this,o,g=s,z=8;return/^\s*_/.test(g)?0:(g=g.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(S,I,B,O){switch(O.charAt(0)){case"+":case"-":return S;case"0":if(O.charAt(1)==="x"&&B==="0x")return S}switch(B){case"0b":z=2;break;case"0":case"0o":z=8;break;case"0d":z=10;break;case"0x":z=16;break}return I+O}),o=parseInt(g.replace(/_(?!_)/g,""),z),isNaN(o)?0:o)}),P(u,"$ord",function(){var s=this;return typeof s.codePointAt=="function"?s.codePointAt(0):s.charCodeAt(0)}),P(u,"$partition",function(s){var o=this,g,z;return s.$$is_regexp?(z=s.exec(o),z===null?g=-1:(l("MatchData").$new(s,z),s=z[0],g=z.index)):(s=w(s,l("String"),"to_str"),g=o.indexOf(s)),g===-1?[o,"",""]:[o.slice(0,g),o.slice(g,g+s.length),o.slice(g+s.length)]}),P(u,"$reverse",function(){var s=this;return s.split("").reverse().join("")}),P(u,"$rindex",function(s,o){var g=this,z,S,I,B;if(o===void 0)o=g.length;else if(o=w(o,l("Integer"),"to_int"),o<0&&(o+=g.length,o<0))return _;if(s.$$is_regexp){for(S=null,I=F(s);B=I.exec(g),!(B===null||B.index>o);)S=B,I.lastIndex=S.index+1;S===null?(v["~"]=_,z=-1):(l("MatchData").$new(I,S),z=S.index)}else s=w(s,l("String"),"to_str"),z=g.lastIndexOf(s,o);return z===-1?_:z},-2),P(u,"$rjust",function(s,o){var g=this;if(o==null&&(o=" "),s=w(s,l("Integer"),"to_int"),o=w(o,l("String"),"to_str").$to_s(),G(o["$empty?"]())&&R.$raise(l("ArgumentError"),"zero width padding"),G(s<=g.length))return g;var z=Math.floor(s-g.length),S=Math.floor(z/o.length),I=Array(S+1).join(o),B=z-I.length;return I+o.slice(0,B)+g},-2),P(u,"$rpartition",function(s){var o=this,g,z,S,I;if(s.$$is_regexp){for(z=null,S=F(s);I=S.exec(o),I!==null;)z=I,S.lastIndex=z.index+1;z===null?g=-1:(l("MatchData").$new(S,z),s=z[0],g=z.index)}else s=w(s,l("String"),"to_str"),g=o.lastIndexOf(s);return g===-1?["","",o]:[o.slice(0,g),o.slice(g,g+s.length),o.slice(g+s.length)]}),P(u,"$rstrip",function(){var s=this;return s.replace(/[\x00\x09\x0a-\x0d\x20]*$/,"")}),P(u,"$scan",function $(s,o){var g=$.$$p||_,z,S=this;$.$$p=null,o=E(o),z=U(o,"no_matchdata"),z==null&&(z=!1);var I=[],B=_,O;for(s.$$is_regexp?s=F(s):(s=w(s,l("String"),"to_str"),s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(O=s.exec(S))!=null;)B=l("MatchData").$new(s,O,new Map([["no_matchdata",z]])),g===_?O.length==1?I.push(O[0]):I.push(B.$captures()):O.length==1?r.yield1(g,O[0]):r.yield1(g,B.$captures()),s.lastIndex===O.index&&(s.lastIndex+=1);return z||(v["~"]=B),g!==_?S:I},-2),P(u,"$singleton_class",function(){var s=this;return r.get_singleton_class(s)}),P(u,"$split",function(s,o){var g=this,z=_;if(v[";"]==null&&(v[";"]=_),g.length===0)return[];if(o===void 0)o=0;else if(o=$e["$coerce_to!"](o,l("Integer"),"to_int"),o===1)return[g];(s===void 0||s===_)&&(s=G(z=v[";"])?z:" ");var S=[],I=g.toString(),B=0,O,se=0,le=0,fe,de;if(s.$$is_regexp?s=F(s):(s=w(s,l("String"),"to_str").$to_s(),s===" "&&(s=/\s+/gm,I=I.replace(/^\s+/,""))),S=I.split(s),S.length===1&&S[0]===I)return[S[0]];for(;(fe=S.indexOf(void 0))!==-1;)S.splice(fe,1);if(o===0){for(;S[S.length-1]==="";)S.pop();return S}if(s.$$is_regexp||(s=r.escape_regexp(s),s=new RegExp(s,"gm")),O=s.exec(I),o<0){if(O!==null&&O[0]===""&&s.source.indexOf("(?=")===-1)for(fe=0,de=O.length;fe<de;fe++)S.push("");return S}if(O!==null&&O[0]==="")return le=(O.length-1)*(o-1)+o,S.splice(le-1,S.length-1,S.slice(le-1).join("")),S;if(o>=S.length)return S;for(;O!==null&&(se++,B=s.lastIndex,le+=O.length,se+1!==o);)O=s.exec(I);return S.splice(le,S.length-1,I.slice(B)),S},-1),P(u,"$squeeze",function(s){var o,g,z=this;if(o=V(arguments),g=o,g.length===0)return z.replace(/(.)\1+/g,"$1");var S=e(g);return S===null?z:z.replace(new RegExp("("+S+")\\1+","g"),"$1")},-1),P(u,"$start_with?",function(s){var o,g,z=this;o=V(arguments),g=o;for(var S=0,I=g.length;S<I;S++)if(g[S].$$is_regexp){var B=g[S],O=B.exec(z);if(O!=null&&O.index===0)return v["~"]=l("MatchData").$new(B,O),!0;v["~"]=_}else{var se=w(g[S],l("String"),"to_str").$to_s();if(z.length>=se.length&&z.startsWith(se))return!0}return!1},-1),P(u,"$strip",function(){var s=this;return s.replace(/^[\x00\x09\x0a-\x0d\x20]*|[\x00\x09\x0a-\x0d\x20]*$/g,"")}),P(u,"$sub",function $(s,o){var g=$.$$p||_,z=this;$.$$p=null,s.$$is_regexp||(s=w(s,l("String"),"to_str"),s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var S,I=s.exec(z);return I===null?(v["~"]=_,S=z.toString()):(l("MatchData").$new(s,I),o===void 0?(g===_&&R.$raise(l("ArgumentError"),"wrong number of arguments (1 for 2)"),S=z.slice(0,I.index)+g(I[0])+z.slice(I.index+I[0].length)):o.$$is_hash?S=z.slice(0,I.index)+o["$[]"](I[0]).$to_s()+z.slice(I.index+I[0].length):(o=w(o,l("String"),"to_str"),o=o.replace(/([\\]+)([0-9+&`'])/g,function(B,O,se){if(O.length%2===0)return B;switch(se){case"+":for(var le=I.length-1;le>0;le--)if(I[le]!==void 0)return O.slice(1)+I[le];return"";case"&":return O.slice(1)+I[0];case"`":return O.slice(1)+z.slice(0,I.index);case"'":return O.slice(1)+z.slice(I.index+I[0].length);default:return O.slice(1)+(I[se]||"")}}).replace(/\\\\/g,"\\"),S=z.slice(0,I.index)+o+z.slice(I.index+I[0].length))),S},-2),P(u,"$sum",function(s){var o=this;s==null&&(s=16),s=w(s,l("Integer"),"to_int");for(var g=0,z=o.length,S=0;S<z;S++)g+=o.charCodeAt(S);return s<=0?g:g&Math.pow(2,s)-1},-1),P(u,"$swapcase",function(){var s=this,o=s.replace(/([a-z]+)|([A-Z]+)/g,function(g,z,S){return z?g.toUpperCase():g.toLowerCase()});return o}),P(u,"$to_f",function(){var s=this;if(s.charAt(0)==="_")return 0;var o=parseFloat(s.replace(/_/g,""));return isNaN(o)||o==1/0||o==-1/0?0:o}),P(u,"$to_i",function(s){var o=this;s==null&&(s=10);var g,z=o.toLowerCase(),S=w(s,l("Integer"),"to_int");return(S===1||S<0||S>36)&&R.$raise(l("ArgumentError"),"invalid radix "+S),/^\s*_/.test(z)?0:(z=z.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(I,B,O,se){switch(se.charAt(0)){case"+":case"-":return I;case"0":if(se.charAt(1)==="x"&&O==="0x"&&(S===0||S===16))return I}switch(O){case"0b":if(S===0||S===2)return S=2,B+se;break;case"0":case"0o":if(S===0||S===8)return S=8,B+se;break;case"0d":if(S===0||S===10)return S=10,B+se;break;case"0x":if(S===0||S===16)return S=16,B+se;break}return I}),g=parseInt(z.replace(/_(?!_)/g,""),S),isNaN(g)?0:g)},-1),P(u,"$to_proc",function $(){$.$$p;var s=this,o=_,g=_,z=_;return $.$$p=null,o=s.valueOf(),g=r.jsid(o),z=ne(R,"proc",[],function S(I){var B=S.$$p||_,O,se;S.$$p=null,O=V(arguments),se=O,se.length===0&&R.$raise(l("ArgumentError"),"no receiver given");var le=se[0];le==null&&(le=_);var fe=le[g];return fe?se=se.slice(1):(fe=le.$method_missing,se[0]=o),typeof B=="function"&&(fe.$$p=B),se.length===0?fe.call(le):fe.apply(le,se)},-1),z.$$source_location=_,z}),P(u,"$to_s",function(){var s=this;return s.toString()}),P(u,"$tr",function(s,o){var g=this;if(s=w(s,l("String"),"to_str").$to_s(),o=w(o,l("String"),"to_str").$to_s(),s.length==0||s===o)return g;var z,S,I,B,O,se,le,fe={},de=s.split(""),he=de.length,ve=o.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],he-=1);var N=[],C=null;for(S=!1,z=0;z<he;z++)if(B=de[z],C==null)C=B,N.push(B);else if(B==="-")C==="-"?(N.push("-"),N.push("-")):z==he-1?N.push("-"):S=!0;else if(S){for(O=C.charCodeAt(0),se=B.charCodeAt(0),O>se&&R.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(se)+'" in string transliteration'),I=O+1;I<se;I++)N.push(String.fromCharCode(I));N.push(B),S=null,C=null}else N.push(B);if(de=N,he=de.length,be)for(z=0;z<he;z++)fe[de[z]]=!0;else{if(me>0){var J=[],W=null;for(S=!1,z=0;z<me;z++)if(B=ve[z],W==null)W=B,J.push(B);else if(B==="-")W==="-"?(J.push("-"),J.push("-")):z==me-1?J.push("-"):S=!0;else if(S){for(O=W.charCodeAt(0),se=B.charCodeAt(0),O>se&&R.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(se)+'" in string transliteration'),I=O+1;I<se;I++)J.push(String.fromCharCode(I));J.push(B),S=null,W=null}else J.push(B);ve=J,me=ve.length}var te=he-me;if(te>0){var ae=me>0?ve[me-1]:"";for(z=0;z<te;z++)ve.push(ae)}for(z=0;z<he;z++)fe[de[z]]=ve[z]}var oe="";for(z=0,le=g.length;z<le;z++){B=g.charAt(z);var ce=fe[B];be?oe+=ce==null?ie:B:oe+=ce??B}return oe}),P(u,"$tr_s",function(s,o){var g=this;if(s=w(s,l("String"),"to_str").$to_s(),o=w(o,l("String"),"to_str").$to_s(),s.length==0)return g;var z,S,I,B,O,se,le,fe={},de=s.split(""),he=de.length,ve=o.split(""),me=ve.length,be=!1,ie=null;de[0]==="^"&&de.length>1&&(be=!0,de.shift(),ie=ve[me-1],he-=1);var N=[],C=null;for(S=!1,z=0;z<he;z++)if(B=de[z],C==null)C=B,N.push(B);else if(B==="-")C==="-"?(N.push("-"),N.push("-")):z==he-1?N.push("-"):S=!0;else if(S){for(O=C.charCodeAt(0),se=B.charCodeAt(0),O>se&&R.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(se)+'" in string transliteration'),I=O+1;I<se;I++)N.push(String.fromCharCode(I));N.push(B),S=null,C=null}else N.push(B);if(de=N,he=de.length,be)for(z=0;z<he;z++)fe[de[z]]=!0;else{if(me>0){var J=[],W=null;for(S=!1,z=0;z<me;z++)if(B=ve[z],C==null)C=B,J.push(B);else if(B==="-")W==="-"?(J.push("-"),J.push("-")):z==me-1?J.push("-"):S=!0;else if(S){for(O=C.charCodeAt(0),se=B.charCodeAt(0),O>se&&R.$raise(l("ArgumentError"),'invalid range "'+String.fromCharCode(O)+"-"+String.fromCharCode(se)+'" in string transliteration'),I=O+1;I<se;I++)J.push(String.fromCharCode(I));J.push(B),S=null,C=null}else J.push(B);ve=J,me=ve.length}var te=he-me;if(te>0){var ae=me>0?ve[me-1]:"";for(z=0;z<te;z++)ve.push(ae)}for(z=0;z<he;z++)fe[de[z]]=ve[z]}var oe="",ce=null;for(z=0,le=g.length;z<le;z++){B=g.charAt(z);var c=fe[B];be?c==null?ce==null&&(oe+=ie,ce=!0):(oe+=B,ce=null):c!=null?(ce==null||ce!==c)&&(oe+=c,ce=c):(oe+=B,ce=null)}return oe}),P(u,"$upcase",function(){var s=this;return s.toUpperCase()}),P(u,"$upto",function $(s,o){var g=$.$$p||_,z=this;if($.$$p=null,o==null&&(o=!1),g===_)return z.$enum_for("upto",s,o);var S,I,B=z.toString();if(s=w(s,l("String"),"to_str"),B.length===1&&s.length===1)for(S=B.charCodeAt(0),I=s.charCodeAt(0);S<=I&&!(o&&S===I);)g(String.fromCharCode(S)),S+=1;else if(parseInt(B,10).toString()===B&&parseInt(s,10).toString()===s)for(S=parseInt(B,10),I=parseInt(s,10);S<=I&&!(o&&S===I);)g(S.toString()),S+=1;else for(;B.length<=s.length&&B<=s&&!(o&&B===s);)g(B),B=B.$succ();return z},-2);function e($){function s(fe){var de="",he,ve=fe.length,me,be,ie,N,C;for(he=0;he<ve;he++)if(me=fe.charAt(he),me==="-"&&he>0&&he<ve-1&&!be){for(ie=fe.charCodeAt(he-1),N=fe.charCodeAt(he+1),ie>N&&R.$raise(l("ArgumentError"),'invalid range "'+ie+"-"+N+'" in string transliteration'),C=ie+1;C<N+1;C++)de+=String.fromCharCode(C);be=!0,he++}else be=me==="\\",de+=me;return de}function o(fe,de){if(fe.length===0)return de;var he="",ve,me=fe.length,be;for(ve=0;ve<me;ve++)be=fe.charAt(ve),de.indexOf(be)!==-1&&(he+=be);return he}var g,z,S,I,B,O,se="",le="";for(g=0,z=$.length;g<z;g++)S=w($[g],l("String"),"to_str"),I=S.charAt(0)==="^"&&S.length>1,S=s(I?S.slice(1):S),I?le=o(le,S):se=o(se,S);if(se.length>0&&le.length>0){for(O="",g=0,z=se.length;g<z;g++)B=se.charAt(g),le.indexOf(B)===-1&&(O+=B);se=O,le=""}return se.length>0?"["+l("Regexp").$escape(se)+"]":le.length>0?"[^"+l("Regexp").$escape(le)+"]":null}return P(u,"$instance_variables",function(){return[]}),Q(u,"$_load",function(s){var o,g,z=this;return o=V(arguments),g=o,ne(z,"new",Y(g))},-1),P(u,"$unicode_normalize",function(s){var o=this;return s==null&&(s="nfc"),G(["nfc","nfd","nfkc","nfkd"]["$include?"](s))||R.$raise(l("ArgumentError"),"Invalid normalization form "+s),o.normalize(s.$upcase())},-1),P(u,"$unicode_normalized?",function(s){var o=this;return s==null&&(s="nfc"),o.$unicode_normalize(s)["$=="](o)},-1),P(u,"$unpack",function(s){return R.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),P(u,"$unpack1",function(s){return R.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),P(u,"$freeze",function(){var s=this;return typeof s=="string"||y(s,"$$frozen",!0),s}),P(u,"$-@",function(){var s=this;return typeof s=="string"||s.$$frozen?s:s.encoding.name=="UTF-8"&&s.internal_encoding.name=="UTF-8"?s.toString():s.$dup().$freeze()}),P(u,"$frozen?",function(){var s=this;return typeof s=="string"||s.$$frozen===!0}),b(u,"+@","dup"),b(u,"===","=="),b(u,"byteslice","[]"),b(u,"eql?","=="),b(u,"equal?","==="),b(u,"object_id","__id__"),b(u,"slice","[]"),b(u,"succ","next"),b(u,"to_str","to_s"),b(u,"to_sym","intern"),$e.$pristine(u,"initialize")}("::",String,k),a(k[0],"Symbol",h("String"))};Opal.modules["corelib/enumerable"]=function(r){var w=r.truthy,j=r.coerce_to,F=r.yield1,y=r.yieldX,ee=r.deny_frozen_access,Z=r.module,M=r.send,X=r.slice,m=r.to_a,P=r.Opal,$e=r.thrower,Q=r.def,V=r.Kernel,ne=r.return_val,Y=r.rb_gt,A=r.rb_times,E=r.rb_lt,U=r.eqeq,K=r.rb_plus,R=r.rb_minus,G=r.rb_divide,v=r.rb_le,x=r.lambda,T=r.not,q=r.alias,b=[],a=r.nil,d=r.$$$;return r.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(k,h){var _=Z(k,"Enumerable"),l=[_].concat(h),H=r.$r(l);function L(f){return f.length===0&&(f=[a]),f.length>1&&(f=[f]),f}return Q(_,"$all?",function f(u){try{var i=$e("return"),n=f.$$p||a,t=this;return f.$$p=null,w(u!==void 0)?M(t,"each",[],function e($){var s,o,g=a;if(s=X(arguments),o=s,g=L(o),w(M(u,"public_send",["==="].concat(m(g)))))return a;i.$throw(!1,e.$$is_lambda)},{$$arity:-1,$$ret:i}):n!==a?M(t,"each",[],function e($){var s,o;if(s=X(arguments),o=s,w(r.yieldX(n,m(o))))return a;i.$throw(!1,e.$$is_lambda)},{$$arity:-1,$$ret:i}):M(t,"each",[],function e($){var s,o;if(s=X(arguments),o=s,w(P.$destructure(o)))return a;i.$throw(!1,e.$$is_lambda)},{$$arity:-1,$$ret:i}),!0}catch(e){if(e===i)return e.$v;throw e}finally{i.is_orphan=!0}},-1),Q(_,"$any?",function f(u){try{var i=$e("return"),n=f.$$p||a,t=this;return f.$$p=null,w(u!==void 0)?M(t,"each",[],function e($){var s,o,g=a;if(s=X(arguments),o=s,g=L(o),w(M(u,"public_send",["==="].concat(m(g)))))i.$throw(!0,e.$$is_lambda);else return a},{$$arity:-1,$$ret:i}):n!==a?M(t,"each",[],function e($){var s,o;if(s=X(arguments),o=s,w(r.yieldX(n,m(o))))i.$throw(!0,e.$$is_lambda);else return a},{$$arity:-1,$$ret:i}):M(t,"each",[],function e($){var s,o;if(s=X(arguments),o=s,w(P.$destructure(o)))i.$throw(!0,e.$$is_lambda);else return a},{$$arity:-1,$$ret:i}),!1}catch(e){if(e===i)return e.$v;throw e}finally{i.is_orphan=!0}},-1),Q(_,"$chunk",function f(){var u=f.$$p||a,i=this;return f.$$p=null,u===a?M(i,"to_enum",["chunk"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:i}):M(d("Enumerator"),"new",[],function n(t){var e=n.$$s==null?this:n.$$s;t==null&&(t=a);var $=a,s=[];function o(){s.length>0&&t.$yield($,s)}e.$each.$$p=function(g){var z=F(u,g);z===a?(o(),s=[],$=a):($===a||$===z?s.push(g):(o(),s=[g]),$=z)},e.$each(),o()},{$$s:i})}),Q(_,"$chunk_while",function f(){var u=f.$$p||a,i=this;return f.$$p=null,u===a&&V.$raise(d("ArgumentError"),"no block given"),M(i,"slice_when",[],function(t,e){return t==null&&(t=a),e==null&&(e=a),r.yieldX(u,[t,e])["$!"]()})}),Q(_,"$collect",function f(){var u=f.$$p||a,i=this;if(f.$$p=null,u===a)return M(i,"enum_for",["collect"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:i});var n=[];return i.$each.$$p=function(){var t=y(u,arguments);n.push(t)},i.$each(),n}),Q(_,"$collect_concat",function f(){var u=f.$$p||a,i=this;return f.$$p=null,u===a?M(i,"enum_for",["collect_concat"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:i}):M(i,"map",[],u.$to_proc()).$flatten(1)}),Q(_,"$compact",function(){var u=this;return u.$to_a().$compact()}),Q(_,"$count",function f(u){var i=f.$$p||a,n=this,t=a;return f.$$p=null,t=0,u!=null&&i!==a&&n.$warn("warning: given block not used"),w(u!=null)?i=M(V,"proc",[],function($){var s,o;return s=X(arguments),o=s,P.$destructure(o)["$=="](u)},-1):w(i["$nil?"]())&&(i=M(V,"proc",[],ne(!0))),M(n,"each",[],function($){var s,o;return s=X(arguments),o=s,w(y(i,o))?t++:a},-1),t},-1),Q(_,"$cycle",function f(u){var i=f.$$p||a,n=this;if(f.$$p=null,u==null&&(u=a),i===a)return M(n,"enum_for",["cycle",u],function s(){var o=s.$$s==null?this:s.$$s;return w(u["$nil?"]())?w(o["$respond_to?"]("size"))?d(d("Float"),"INFINITY"):a:(u=P["$coerce_to!"](u,d("Integer"),"to_int"),w(Y(u,0))?A(o.$enumerator_size(),u):0)},{$$s:n});if(!w(u["$nil?"]())&&(u=P["$coerce_to!"](u,d("Integer"),"to_int"),w(u<=0)))return a;var t=[],e,$;if(n.$each.$$p=function(){var s=P.$destructure(arguments);F(i,s),t.push(s)},n.$each(),t.length===0)return a;if(u===a)for(;;)for(e=0,$=t.length;e<$;e++)F(i,t[e]);else for(;u>1;){for(e=0,$=t.length;e<$;e++)F(i,t[e]);u--}},-1),Q(_,"$detect",function f(u){try{var i=$e("return"),n=f.$$p||a,t=this;return f.$$p=null,n===a?t.$enum_for("detect",u):(M(t,"each",[],function e($){var s,o,g=a;if(s=X(arguments),o=s,g=P.$destructure(o),w(r.yield1(n,g)))i.$throw(g,e.$$is_lambda);else return a},{$$arity:-1,$$ret:i}),u!==void 0?typeof u=="function"?u():u:a)}catch(e){if(e===i)return e.$v;throw e}finally{i.is_orphan=!0}},-1),Q(_,"$drop",function(u){var i=this;u=j(u,d("Integer"),"to_int"),w(u<0)&&V.$raise(d("ArgumentError"),"attempt to drop negative size");var n=[],t=0;return i.$each.$$p=function(){u<=t&&n.push(P.$destructure(arguments)),t++},i.$each(),n}),Q(_,"$drop_while",function f(){var u=f.$$p||a,i=this;if(f.$$p=null,u===a)return i.$enum_for("drop_while");var n=[],t=!0;return i.$each.$$p=function(){var e=P.$destructure(arguments);if(t){var $=F(u,e);w($)||(t=!1,n.push(e))}else n.push(e)},i.$each(),n}),Q(_,"$each_cons",function f(u){var i=f.$$p||a,n=this;if(f.$$p=null,w(arguments.length!=1)&&V.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),u=P.$try_convert(u,d("Integer"),"to_int"),w(u<=0)&&V.$raise(d("ArgumentError"),"invalid size"),i===a)return M(n,"enum_for",["each_cons",u],function e(){var $=e.$$s==null?this:e.$$s,s=a;return s=$.$enumerator_size(),w(s["$nil?"]())?a:U(s,0)||w(E(s,u))?0:K(R(s,u),1)},{$$s:n});var t=[];return n.$each.$$p=function(){var e=P.$destructure(arguments);t.push(e),t.length>u&&t.shift(),t.length==u&&F(i,t.slice(0,u))},n.$each(),n}),Q(_,"$each_entry",function f(u){var i=f.$$p||a,n,t,e=this;return f.$$p=null,n=X(arguments),t=n,i===a?M(e,"to_enum",["each_entry"].concat(m(t)),function $(){var s=$.$$s==null?this:$.$$s;return s.$enumerator_size()},{$$s:e}):(e.$each.$$p=function(){var $=P.$destructure(arguments);F(i,$)},e.$each.apply(e,t),e)},-1),Q(_,"$each_slice",function f(u){var i=f.$$p||a,n=this;if(f.$$p=null,u=j(u,d("Integer"),"to_int"),w(u<=0)&&V.$raise(d("ArgumentError"),"invalid slice size"),i===a)return M(n,"enum_for",["each_slice",u],function e(){var $=e.$$s==null?this:e.$$s;return w($["$respond_to?"]("size"))?G($.$size(),u).$ceil():a},{$$s:n});var t=[];return n.$each.$$p=function(){var e=P.$destructure(arguments);t.push(e),t.length===u&&(F(i,t),t=[])},n.$each(),t.length>0&&F(i,t),n}),Q(_,"$each_with_index",function f(u){var i=f.$$p||a,n,t,e=this;if(f.$$p=null,n=X(arguments),t=n,i===a)return M(e,"enum_for",["each_with_index"].concat(m(t)),function s(){var o=s.$$s==null?this:s.$$s;return o.$enumerator_size()},{$$s:e});var $=0;return e.$each.$$p=function(){var s=P.$destructure(arguments);i(s,$),$++},e.$each.apply(e,t),e},-1),Q(_,"$each_with_object",function f(u){var i=f.$$p||a,n=this;return f.$$p=null,i===a?M(n,"enum_for",["each_with_object",u],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:n}):(n.$each.$$p=function(){var t=P.$destructure(arguments);i(t,u)},n.$each(),u)}),Q(_,"$entries",function(u){var i,n,t=this;i=X(arguments),n=i;var e=[];return t.$each.$$p=function(){e.push(P.$destructure(arguments))},t.$each.apply(t,n),e},-1),Q(_,"$filter_map",function f(){var u=f.$$p||a,i=this;return f.$$p=null,u===a?M(i,"enum_for",["filter_map"],function n(){var t=n.$$s==null?this:n.$$s;return t.$enumerator_size()},{$$s:i}):M(M(i,"map",[],u.$to_proc()),"select",[],"itself".$to_proc())}),Q(_,"$find_all",function f(){var u=f.$$p||a,i=this;if(f.$$p=null,u===a)return M(i,"enum_for",["find_all"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:i});var n=[];return i.$each.$$p=function(){var t=P.$destructure(arguments),e=F(u,t);w(e)&&n.push(t)},i.$each(),n}),Q(_,"$find_index",function f(u){try{var i=$e("return"),n=f.$$p||a,t=this,e=a;return f.$$p=null,w(u===void 0&&n===a)?t.$enum_for("find_index"):(u!=null&&n!==a&&t.$warn("warning: given block not used"),e=0,w(u!=null)?M(t,"each",[],function $(s){var o,g;return o=X(arguments),g=o,U(P.$destructure(g),u)&&i.$throw(e,$.$$is_lambda),e+=1},{$$arity:-1,$$ret:i}):M(t,"each",[],function $(s){var o,g;return o=X(arguments),g=o,w(r.yieldX(n,m(g)))&&i.$throw(e,$.$$is_lambda),e+=1},{$$arity:-1,$$ret:i}),a)}catch($){if($===i)return $.$v;throw $}finally{i.is_orphan=!0}},-1),Q(_,"$first",function(u){try{var i=$e("return"),n=this,t=a,e=a;return w(u===void 0)?M(n,"each",[],function $(s){s==null&&(s=a),i.$throw(s,$.$$is_lambda)},{$$ret:i}):(t=[],u=j(u,d("Integer"),"to_int"),w(u<0)&&V.$raise(d("ArgumentError"),"attempt to take negative size"),w(u==0)?[]:(e=0,M(n,"each",[],function $(s){var o,g;if(o=X(arguments),g=o,t.push(P.$destructure(g)),w(u<=++e))i.$throw(t,$.$$is_lambda);else return a},{$$arity:-1,$$ret:i}),t))}catch($){if($===i)return $.$v;throw $}finally{i.is_orphan=!0}},-1),Q(_,"$grep",function f(u){var i=f.$$p||a,n=this,t=a;return f.$$p=null,t=[],M(n,"each",[],function($){var s,o,g=a;return s=X(arguments),o=s,g=L(o),w(M(u,"__send__",["==="].concat(m(g))))?(i!==a?(w(Y(o.$length(),1))&&(o=[o]),o=r.yieldX(i,m(o))):w(v(o.$length(),1))&&(o=o["$[]"](0)),t.$push(o)):a},-1),t}),Q(_,"$grep_v",function f(u){var i=f.$$p||a,n=this,t=a;return f.$$p=null,t=[],M(n,"each",[],function($){var s,o,g=a;return s=X(arguments),o=s,g=L(o),w(M(u,"__send__",["==="].concat(m(g))))?a:(i!==a?(w(Y(o.$length(),1))&&(o=[o]),o=r.yieldX(i,m(o))):w(v(o.$length(),1))&&(o=o["$[]"](0)),t.$push(o))},-1),t}),Q(_,"$group_by",function f(){var u=f.$$p||a,i,n=this,t=a,e=a;return f.$$p=null,u===a?M(n,"enum_for",["group_by"],function $(){var s=$.$$s==null?this:$.$$s;return s.$enumerator_size()},{$$s:n}):(t=new Map,n.$each.$$p=function(){var $=P.$destructure(arguments),s=F(u,$);(w(e=t["$[]"](s))?e:(i=[s,[]],M(t,"[]=",i),i[i.length-1]))["$<<"]($)},n.$each(),t)}),Q(_,"$include?",function(u){try{var i=$e("return"),n=this;return M(n,"each",[],function t(e){var $,s;if($=X(arguments),s=$,U(P.$destructure(s),u))i.$throw(!0,t.$$is_lambda);else return a},{$$arity:-1,$$ret:i}),!1}catch(t){if(t===i)return t.$v;throw t}finally{i.is_orphan=!0}}),Q(_,"$inject",function f(u,i){var n=f.$$p||a,t=this;f.$$p=null;var e=u;return n!==a&&i===void 0?t.$each.$$p=function(){var $=P.$destructure(arguments);if(e===void 0){e=$;return}$=y(n,[e,$]),e=$}:(i===void 0&&(d("Symbol")["$==="](u)||V.$raise(d("TypeError"),""+u.$inspect()+" is not a Symbol"),i=u,e=void 0),t.$each.$$p=function(){var $=P.$destructure(arguments);if(e===void 0){e=$;return}e=e.$__send__(i,$)}),t.$each(),e??a},-1),Q(_,"$lazy",function(){var u=this;return M(d(d("Enumerator"),"Lazy"),"new",[u,u.$enumerator_size()],function(n,t){var e,$;return n==null&&(n=a),e=X(arguments,1),$=e,M(n,"yield",m($))},-2)}),Q(_,"$enumerator_size",function(){var u=this;return w(u["$respond_to?"]("size"))?u.$size():a}),Q(_,"$max",function f(u){var i=f.$$p||a,n=this;if(f.$$p=null,u===void 0||u===a){var t,e;return n.$each.$$p=function(){var $=P.$destructure(arguments);if(t===void 0){t=$;return}i!==a?e=y(i,[$,t]):e=$["$<=>"](t),e===a&&V.$raise(d("ArgumentError"),"comparison failed"),e>0&&(t=$)},n.$each(),t===void 0?a:t}return u=j(u,d("Integer"),"to_int"),M(n,"sort",[],i.$to_proc()).$reverse().$first(u)},-1),Q(_,"$max_by",function f(u){var i=f.$$p||a,n=this;if(f.$$p=null,u==null&&(u=a),!w(i))return M(n,"enum_for",["max_by",u],function $(){var s=$.$$s==null?this:$.$$s;return s.$enumerator_size()},{$$s:n});if(!w(u["$nil?"]()))return M(n,"sort_by",[],i.$to_proc()).$reverse().$take(u);var t,e;return n.$each.$$p=function(){var $=P.$destructure(arguments),s=F(i,$);if(t===void 0){t=$,e=s;return}s["$<=>"](e)>0&&(t=$,e=s)},n.$each(),t===void 0?a:t},-1),Q(_,"$min",function f(u){var i=f.$$p||a,n=this;if(f.$$p=null,u==null&&(u=a),!w(u["$nil?"]()))return i!==a?M(n,"sort",[],function($,s){return $==null&&($=a),s==null&&(s=a),r.yieldX(i,[$,s])}).$take(u):n.$sort().$take(u);var t;return i!==a?n.$each.$$p=function(){var e=P.$destructure(arguments);if(t===void 0){t=e;return}var $=i(e,t);$===a&&V.$raise(d("ArgumentError"),"comparison failed"),$<0&&(t=e)}:n.$each.$$p=function(){var e=P.$destructure(arguments);if(t===void 0){t=e;return}P.$compare(e,t)<0&&(t=e)},n.$each(),t===void 0?a:t},-1),Q(_,"$min_by",function f(u){var i=f.$$p||a,n=this;if(f.$$p=null,u==null&&(u=a),!w(i))return M(n,"enum_for",["min_by",u],function $(){var s=$.$$s==null?this:$.$$s;return s.$enumerator_size()},{$$s:n});if(!w(u["$nil?"]()))return M(n,"sort_by",[],i.$to_proc()).$take(u);var t,e;return n.$each.$$p=function(){var $=P.$destructure(arguments),s=F(i,$);if(t===void 0){t=$,e=s;return}s["$<=>"](e)<0&&(t=$,e=s)},n.$each(),t===void 0?a:t},-1),Q(_,"$minmax",function f(){var u=f.$$p||a,i=this,n=a;f.$$p=null,u=w(n=u)?n:M(V,"proc",[],function(o,g){return o==null&&(o=a),g==null&&(g=a),o["$<=>"](g)});var t=a,e=a,$=!0;return i.$each.$$p=function(){var s=P.$destructure(arguments);if($)t=e=s,$=!1;else{var o=u.$call(t,s);o===a?V.$raise(d("ArgumentError"),"comparison failed"):o>0&&(t=s);var g=u.$call(e,s);g===a?V.$raise(d("ArgumentError"),"comparison failed"):g<0&&(e=s)}},i.$each(),[t,e]}),Q(_,"$minmax_by",function f(){var u=f.$$p||a,i=this;if(f.$$p=null,!w(u))return M(i,"enum_for",["minmax_by"],function s(){var o=s.$$s==null?this:s.$$s;return o.$enumerator_size()},{$$s:i});var n=a,t=a,e,$;return i.$each.$$p=function(){var s=P.$destructure(arguments),o=F(u,s);(e===void 0||o["$<=>"](e)<0)&&(n=s,e=o),($===void 0||o["$<=>"]($)>0)&&(t=s,$=o)},i.$each(),[n,t]}),Q(_,"$none?",function f(u){try{var i=$e("return"),n=f.$$p||a,t=this;return f.$$p=null,w(u!==void 0)?M(t,"each",[],function e($){var s,o,g=a;if(s=X(arguments),o=s,g=L(o),w(M(u,"public_send",["==="].concat(m(g)))))i.$throw(!1,e.$$is_lambda);else return a},{$$arity:-1,$$ret:i}):n!==a?M(t,"each",[],function e($){var s,o;if(s=X(arguments),o=s,w(r.yieldX(n,m(o))))i.$throw(!1,e.$$is_lambda);else return a},{$$arity:-1,$$ret:i}):M(t,"each",[],function e($){var s,o,g=a;if(s=X(arguments),o=s,g=P.$destructure(o),w(g))i.$throw(!1,e.$$is_lambda);else return a},{$$arity:-1,$$ret:i}),!0}catch(e){if(e===i)return e.$v;throw e}finally{i.is_orphan=!0}},-1),Q(_,"$one?",function f(u){try{var i=$e("return"),n=f.$$p||a,t=this,e=a;return f.$$p=null,e=0,w(u!==void 0)?M(t,"each",[],function $(s){var o,g,z=a;if(o=X(arguments),g=o,z=L(g),w(M(u,"public_send",["==="].concat(m(z)))))if(e=K(e,1),w(Y(e,1)))i.$throw(!1,$.$$is_lambda);else return a;else return a},{$$arity:-1,$$ret:i}):n!==a?M(t,"each",[],function $(s){var o,g;if(o=X(arguments),g=o,!w(r.yieldX(n,m(g))))return a;if(e=K(e,1),w(Y(e,1)))i.$throw(!1,$.$$is_lambda);else return a},{$$arity:-1,$$ret:i}):M(t,"each",[],function $(s){var o,g;if(o=X(arguments),g=o,!w(P.$destructure(g)))return a;if(e=K(e,1),w(Y(e,1)))i.$throw(!1,$.$$is_lambda);else return a},{$$arity:-1,$$ret:i}),e["$=="](1)}catch($){if($===i)return $.$v;throw $}finally{i.is_orphan=!0}},-1),Q(_,"$partition",function f(){var u=f.$$p||a,i=this;if(f.$$p=null,u===a)return M(i,"enum_for",["partition"],function e(){var $=e.$$s==null?this:e.$$s;return $.$enumerator_size()},{$$s:i});var n=[],t=[];return i.$each.$$p=function(){var e=P.$destructure(arguments),$=F(u,e);w($)?n.push(e):t.push(e)},i.$each(),[n,t]}),Q(_,"$reject",function f(){var u=f.$$p||a,i=this;if(f.$$p=null,u===a)return M(i,"enum_for",["reject"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:i});var n=[];return i.$each.$$p=function(){var t=P.$destructure(arguments),e=F(u,t);w(e)||n.push(t)},i.$each(),n}),Q(_,"$reverse_each",function f(){var u=f.$$p||a,i=this;if(f.$$p=null,u===a)return M(i,"enum_for",["reverse_each"],function e(){var $=e.$$s==null?this:e.$$s;return $.$enumerator_size()},{$$s:i});var n=[];i.$each.$$p=function(){n.push(arguments)},i.$each();for(var t=n.length-1;t>=0;t--)y(u,n[t]);return n}),Q(_,"$slice_before",function f(u){var i=f.$$p||a,n=this;return f.$$p=null,w(u===void 0&&i===a)&&V.$raise(d("ArgumentError"),"both pattern and block are given"),w(u!==void 0&&i!==a||arguments.length>1)&&V.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),M(d("Enumerator"),"new",[],function t(e){var $=t.$$s==null?this:t.$$s;e==null&&(e=a);var s=[];i!==a?u===void 0?$.$each.$$p=function(){var o=P.$destructure(arguments),g=F(i,o);w(g)&&s.length>0&&(e["$<<"](s),s=[]),s.push(o)}:$.$each.$$p=function(){var o=P.$destructure(arguments),g=i(o,u.$dup());w(g)&&s.length>0&&(e["$<<"](s),s=[]),s.push(o)}:$.$each.$$p=function(){var o=P.$destructure(arguments),g=u["$==="](o);w(g)&&s.length>0&&(e["$<<"](s),s=[]),s.push(o)},$.$each(),s.length>0&&e["$<<"](s)},{$$s:n})},-1),Q(_,"$slice_after",function f(u){var i=f.$$p||a,n=this;return f.$$p=null,w(u===void 0&&i===a)&&V.$raise(d("ArgumentError"),"both pattern and block are given"),w(u!==void 0&&i!==a||arguments.length>1)&&V.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),w(u!==void 0)&&(i=M(V,"proc",[],function(e){return e==null&&(e=a),u["$==="](e)})),M(d("Enumerator"),"new",[],function t(e){var $=t.$$s==null?this:t.$$s;e==null&&(e=a);var s;$.$each.$$p=function(){var o=P.$destructure(arguments),g=F(i,o);s==null&&(s=[]),w(g)?(s.push(o),e.$yield(s),s=null):s.push(o)},$.$each(),s!=null&&e.$yield(s)},{$$s:n})},-1),Q(_,"$slice_when",function f(){var u=f.$$p||a,i=this;return f.$$p=null,u===a&&V.$raise(d("ArgumentError"),"wrong number of arguments (0 for 1)"),M(d("Enumerator"),"new",[],function n(t){var e=n.$$s==null?this:n.$$s;t==null&&(t=a);var $=a,s=a;e.$each_cons.$$p=function(){var o=P.$destructure(arguments),g=o[0],z=o[1],S=y(u,[g,z]);s=z,$===a&&($=[]),w(S)?($.push(g),t.$yield($),$=[]):$.push(g)},e.$each_cons(2),$!==a&&($.push(s),t.$yield($))},{$$s:i})}),Q(_,"$sort",function f(){var u=f.$$p||a,i=this,n=a;return f.$$p=null,n=i.$to_a(),u===a&&(u=x(function(e,$){return e==null&&(e=a),$==null&&($=a),e["$<=>"]($)})),M(n,"sort",[],u.$to_proc())}),Q(_,"$sort_by",function f(){var u=f.$$p||a,i=this,n=a;return f.$$p=null,u===a?M(i,"enum_for",["sort_by"],function t(){var e=t.$$s==null?this:t.$$s;return e.$enumerator_size()},{$$s:i}):(n=M(i,"map",[],function(){var e=a;return e=P.$destructure(arguments),[r.yield1(u,e),e]}),M(n,"sort!",[],function(e,$){return e==null&&(e=a),$==null&&($=a),e[0]["$<=>"]($[0])}),M(n,"map!",[],function(e){return e==null&&(e=a),e[1]}))}),Q(_,"$sum",function f(u){var i=f.$$p||a,n=this,t=a,e=a;return f.$$p=null,u==null&&(u=0),t=u,e=0,M(n,"each",[],function(s){var o,g,z=a,S=a,I=a;return o=X(arguments),g=o,z=i!==a?r.yieldX(i,m(g)):P.$destructure(g),T([d(d("Float"),"INFINITY"),d(d("Float"),"INFINITY")["$-@"]()]["$include?"](z))&&w(z["$respond_to?"]("-"))?(S=R(z,e),I=K(t,S),e=R(R(I,t),S),t=I):t=K(t,z)},-1),t},-1),Q(_,"$take",function(u){var i=this;return i.$first(u)}),Q(_,"$take_while",function f(){try{var u=$e("return"),i=f.$$p||a,n=this,t=a;return f.$$p=null,w(i)?(t=[],M(n,"each",[],function e($){var s,o,g=a;return s=X(arguments),o=s,g=P.$destructure(o),w(r.yield1(i,g))||u.$throw(t,e.$$is_lambda),t.push(g)},{$$arity:-1,$$ret:u})):n.$enum_for("take_while")}catch(e){if(e===u)return e.$v;throw e}finally{u.is_orphan=!0}}),Q(_,"$uniq",function f(){var u=f.$$p||a,i=this,n=a;return f.$$p=null,n=new Map,M(i,"each",[],function(e){var $,s,o,g=a,z=a;return $=X(arguments),s=$,g=P.$destructure(s),z=u!==a?r.yield1(u,g):g,w(n["$key?"](z))?a:(o=[z,g],M(n,"[]=",o),o[o.length-1])},-1),n.$values()}),Q(_,"$tally",function(u){var i=this,n=a;return u&&u!==a&&ee(u),n=M(M(i,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),w(u)?(M(n,"each",[],function(e,$){var s;return e==null&&(e=a),$==null&&($=a),s=[e,K(u.$fetch(e,0),$)],M(u,"[]=",s),s[s.length-1]}),u):n},-1),Q(_,"$to_h",function f(u){var i=f.$$p||a,n,t,e=this;if(f.$$p=null,n=X(arguments),t=n,i!==a)return M(M(e,"map",[],i.$to_proc()),"to_h",m(t));var $=new Map;return e.$each.$$p=function(){var s=P.$destructure(arguments),o=P["$coerce_to?"](s,d("Array"),"to_ary"),g,z;o.$$is_array||V.$raise(d("TypeError"),"wrong element type "+s.$class()+" (expected array)"),o.length!==2&&V.$raise(d("ArgumentError"),"element has wrong array length (expected 2, was "+o.$length()+")"),g=o[0],z=o[1],r.hash_put($,g,z)},e.$each.apply(e,t),$},-1),Q(_,"$to_set",function f(u,i){var n=f.$$p||a,t,e,$,s=this;return f.$$p=null,t=X(arguments),t.length>0&&(e=t.shift()),e==null&&(e=H("Set")),$=t,M(e,"new",[s].concat(m($)),n.$to_proc())},-1),Q(_,"$zip",function f(u){f.$$p;var i,n,t=this;return f.$$p=null,i=X(arguments),n=i,M(t.$to_a(),"zip",m(n))},-1),q(_,"find","detect"),q(_,"filter","find_all"),q(_,"flat_map","collect_concat"),q(_,"map","collect"),q(_,"member?","include?"),q(_,"reduce","inject"),q(_,"select","find_all"),q(_,"to_a","entries")}("::",b)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(r){var w=r.klass,j=r.truthy,F=r.to_a,y=r.eqeq,ee=r.Kernel,Z=r.def,M=r.rb_gt,X=r.rb_lt,m=r.rb_le,P=r.rb_ge,$e=r.rb_plus,Q=r.rb_minus,V=r.eqeqeq,ne=r.not,Y=r.rb_times,A=r.rb_divide,E=r.alias,U=[],K=r.nil,R=r.$$$;return r.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(G,v,x){var T=w(G,v,"Enumerator"),q=[T].concat(x);return function(b,a,d){var k=w(b,a,"ArithmeticSequence"),h=[k].concat(d),_=r.$r(h),l=k.$$prototype;l.step_arg2=l.receiver_num=l.step_arg1=l.step=l.range=l.topfx=l.bypfx=l.creation_method=l.skipped_arg=K,r.prop(k.$$prototype,"$$is_arithmetic_seq",!0);var H=1/0;return Z(k,"$initialize",function(f,u,i){var n,t=this,e=K;return i==null&&(i="step"),t.creation_method=i,j(f["$is_a?"](R("Array")))?(n=[].concat(F(f)),t.step_arg1=n[0]==null?K:n[0],t.step_arg2=n[1]==null?K:n[1],t.topfx=n[2]==null?K:n[2],t.bypfx=n[3]==null?K:n[3],t.receiver_num=u,t.step=1,t.range=j(t.step_arg2)?(t.step=t.step_arg2,r.Range.$new(t.receiver_num,t.step_arg1,!1)):j(t.step_arg1)?r.Range.$new(t.receiver_num,t.step_arg1,!1):r.Range.$new(t.receiver_num,K,!1)):(j(u)||(t.skipped_arg=!0),n=[f,j(e=u)?e:1],t.range=n[0],t.step=n[1]),t.object=t,y(t.step,0)&&ee.$raise(_("ArgumentError"),"step can't be 0"),j(t.step["$respond_to?"]("to_int"))?K:ee.$raise(_("ArgumentError"),"no implicit conversion of "+t.step.$class()+" into Integer")},-2),k.$attr_reader("step"),Z(k,"$begin",function(){var f=this;return f.range.$begin()}),Z(k,"$end",function(){var f=this;return f.range.$end()}),Z(k,"$exclude_end?",function(){var f=this;return f.range["$exclude_end?"]()}),Z(k,"$_lesser_than_end?",function(f){var u=this,i=K,n=K;return i=j(n=u.$end())?n:H,j(M(u.$step(),0))?j(u["$exclude_end?"]())?X(f,i):m(f,i):j(u["$exclude_end?"]())?M(f,i):P(f,i)}),Z(k,"$_greater_than_begin?",function(f){var u=this,i=K,n=K;return i=j(n=u.$begin())?n:H["$-@"](),j(M(u.$step(),0))?M(f,i):X(f,i)}),Z(k,"$first",function(f){var u=this,i=K,n=K,t=K;if(i=j(n=u.$begin())?n:H["$-@"](),!j(f))return j(u["$_lesser_than_end?"](i))?i:K;for(t=[];j(j(n=u["$_lesser_than_end?"](i))?M(f,0):n);)t["$<<"](i),i=$e(i,u.$step()),f=Q(f,1);return t},-1),Z(k,"$each",function L(){var f=L.$$p||K,u=this,i=K,n=K;if(L.$$p=null,f===K)return u;for(V(K,i=u.$begin())&&ee.$raise(_("TypeError"),"nil can't be coerced into Integer"),n=j(i=u.$begin())?i:H["$-@"]();j(u["$_lesser_than_end?"](n));)r.yield1(f,n),n=$e(n,u.$step());return u}),Z(k,"$last",function(f){var u=this,i=K,n=K,t=K;if(V(H,i=u.$end())||V(H["$-@"](),i)?ee.$raise(R("FloatDomainError"),u.$end()):V(K,i)&&ee.$raise(R("RangeError"),"cannot get the last element of endless arithmetic sequence"),n=Q(u.$end(),Q(u.$end(),u.$begin())["$%"](u.$step())),j(u["$_lesser_than_end?"](n))||(n=Q(n,u.$step())),!j(f))return j(u["$_greater_than_begin?"](n))?n:K;for(t=[];j(j(i=u["$_greater_than_begin?"](n))?M(f,0):i);)t["$<<"](n),n=Q(n,u.$step()),f=Q(f,1);return t.$reverse()},-1),Z(k,"$size",function(){var f=this,u=K,i=K;return u=j(M(f.$step(),0))?1:-1,ne(f["$_lesser_than_end?"](f.$begin()))?0:j([H["$-@"](),H]["$include?"](f.$step()))?1:j([Y(H["$-@"](),u),K]["$include?"](f.$begin()))||j([Y(H,u),K]["$include?"](f.$end()))?H:(i=Q(f.$end(),Q(f.$end(),f.$begin())["$%"](f.$step())),j(f["$_lesser_than_end?"](i))||(i=Q(i,f.$step())),$e(A(Q(i,f.$begin()),f.$step()).$abs().$to_i(),1))}),Z(k,"$==",function(f){var u=this,i=K,n=K,t=K,e=K;return j(i=j(n=j(t=j(e=u.$class()["$=="](f.$class()))?u.$begin()["$=="](f.$begin()):e)?u.$end()["$=="](f.$end()):t)?u.$step()["$=="](f.$step()):n)?u["$exclude_end?"]()["$=="](f["$exclude_end?"]()):i}),Z(k,"$hash",function(){var f=this;return[_("ArithmeticSequence"),f.$begin(),f.$end(),f.$step(),f["$exclude_end?"]()].$hash()}),Z(k,"$inspect",function(){var f=this,u=K;return j(f.receiver_num)?(u=j(f.step_arg2)?"("+f.topfx+f.step_arg1.$inspect()+", "+f.bypfx+f.step_arg2.$inspect()+")":j(f.step_arg1)?"("+f.topfx+f.step_arg1.$inspect()+")":K,"("+f.receiver_num.$inspect()+"."+f.creation_method+u+")"):(u=j(f.skipped_arg)?K:"("+f.step+")","(("+f.range.$inspect()+")."+f.creation_method+u+")")}),E(k,"===","=="),E(k,"eql?","==")}(T,T,q)}("::",null,U)};Opal.modules["corelib/enumerator/chain"]=function(r){var w=r.deny_frozen_access,j=r.klass,F=r.slice,y=r.def,ee=r.send,Z=r.to_a,M=r.truthy,X=r.rb_plus,m=r.thrower,P=r.nil,$e=r.$$$;return r.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(Q,V){var ne=j(Q,V,"Enumerator");return function(Y,A){var E=j(Y,A,"Chain"),U=E.$$prototype;return U.enums=U.iterated=P,y(E,"$initialize",function(R){var G,v,x=this;return G=F(arguments),v=G,w(x),x.enums=v,x.iterated=[],x.object=x},-1),y(E,"$each",function K(R){var G=K.$$p||P,v,x,T=this;return K.$$p=null,v=F(arguments),x=v,G===P?ee(T,"to_enum",["each"].concat(Z(x)),function q(){var b=q.$$s==null?this:q.$$s;return b.$size()},{$$s:T}):(ee(T.enums,"each",[],function q(b){var a=q.$$s==null?this:q.$$s;return a.iterated==null&&(a.iterated=P),b==null&&(b=P),a.iterated["$<<"](b),ee(b,"each",Z(x),G.$to_proc())},{$$s:T}),T)},-1),y(E,"$size",function(R){try{var G=m("return"),v,x,T=this,q=P;return v=F(arguments),x=v,q=0,ee(T.enums,"each",[],function b(a){var d=P;return a==null&&(a=P),d=ee(a,"size",Z(x)),M([P,$e($e("Float"),"INFINITY")]["$include?"](d))&&G.$throw(d,b.$$is_lambda),q=X(q,d)},{$$ret:G}),q}catch(b){if(b===G)return b.$v;throw b}finally{G.is_orphan=!0}},-1),y(E,"$rewind",function(){var R=this;return ee(R.iterated,"reverse_each",[],function(v){return v==null&&(v=P),M(v["$respond_to?"]("rewind"))?v.$rewind():P}),R.iterated=[],R}),y(E,"$inspect",function(){var R=this;return"#<Enumerator::Chain: "+R.enums.$inspect()+">"})}(ne,ne)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(r){var w=r.deny_frozen_access,j=r.klass,F=r.truthy,y=r.Kernel,ee=r.def,Z=r.slice,M=r.send,X=[],m=r.nil,P=r.$$$;return r.add_stubs("include,raise,new,to_proc"),function($e,Q,V){var ne=j($e,Q,"Enumerator"),Y=[ne].concat(V);return function(A,E,U){var K=j(A,E,"Generator"),R=[K].concat(U),G=r.$r(R),v=K.$$prototype;return v.block=m,K.$include(P("Enumerable")),ee(K,"$initialize",function x(){var T=x.$$p||m,q=this;return x.$$p=null,w(q),F(T)||y.$raise(P("LocalJumpError"),"no block given"),q.block=T}),ee(K,"$each",function x(T){var q=x.$$p||m,b,a,d=this,k=m;x.$$p=null,b=Z(arguments),a=b,k=M(G("Yielder"),"new",[],q.$to_proc());try{a.unshift(k),r.yieldX(d.block,a)}catch(h){if(h&&h.$thrower_type=="breaker")return h.$v;throw h}return d},-1)}(Y[0],null,Y)}(X[0],null,X)};Opal.modules["corelib/enumerator/lazy"]=function(r){var w=r.truthy,j=r.coerce_to,F=r.yield1,y=r.yieldX,ee=r.deny_frozen_access,Z=r.klass,M=r.slice,X=r.send2,m=r.find_super,P=r.to_a,$e=r.defs,Q=r.Kernel,V=r.send,ne=r.def,Y=r.return_self,A=r.Opal,E=r.rb_lt,U=r.eqeqeq,K=r.rb_plus,R=r.alias,G=[],v=r.nil,x=r.$$$;return r.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(T,q,b){var a=Z(T,q,"Enumerator"),d=[a].concat(b);return function(k,h,_){var l=Z(k,h,"Lazy"),H=[l].concat(_),L=r.$r(H),f=l.$$prototype;return f.enumerator=v,Z(l,x("Exception"),"StopLazyError"),$e(l,"$for",function u(i,n){var t,e,$=u.$$p||v,s=this,o=v;return u.$$p=null,t=M(arguments,1),e=t,o=X(s,m(s,"for",u,!1,!0),"for",[i].concat(P(e)),$),o.enumerator=i,o},-2),ne(l,"$initialize",function u(i,n){var t=u.$$p||v,e=this;return u.$$p=null,n==null&&(n=v),ee(e),t===v&&Q.$raise(x("ArgumentError"),"tried to call lazy new without a block"),e.enumerator=i,X(e,m(e,"initialize",u,!1,!0),"initialize",[n],function(s,o){var g,z;s==null&&(s=v),g=M(arguments,1),z=g;try{return V(i,"each",P(z),function(I){var B,O;B=M(arguments),O=B,O.unshift(s),y(t,O)},-1)}catch(S){if(r.rescue(S,[L("StopLazyError")]))try{return v}finally{r.pop_exception(S)}else throw S}},-2)},-2),ne(l,"$lazy",Y),ne(l,"$collect",function u(){var i=u.$$p||v,n=this;return u.$$p=null,w(i)||Q.$raise(x("ArgumentError"),"tried to call lazy map without a block"),V(L("Lazy"),"new",[n,n.$enumerator_size()],function(e,$){var s,o;e==null&&(e=v),s=M(arguments,1),o=s;var g=y(i,o);e.$yield(g)},-2)}),ne(l,"$collect_concat",function u(){var i=u.$$p||v,n=this;return u.$$p=null,w(i)||Q.$raise(x("ArgumentError"),"tried to call lazy map without a block"),V(L("Lazy"),"new",[n,v],function(e,$){var s,o;e==null&&(e=v),s=M(arguments,1),o=s;var g=y(i,o);if(g["$respond_to?"]("force")&&g["$respond_to?"]("each"))V(g,"each",[],function(I){return I==null&&(I=v),e.$yield(I)});else{var z=A.$try_convert(g,x("Array"),"to_ary");z===v?e.$yield(g):V(g,"each",[],function(I){return I==null&&(I=v),e.$yield(I)})}},-2)}),ne(l,"$drop",function(i){var n=this,t=v,e=v,$=v;return i=j(i,x("Integer"),"to_int"),w(E(i,0))&&Q.$raise(x("ArgumentError"),"attempt to drop negative size"),t=n.$enumerator_size(),e=U(x("Integer"),t)&&w(E(i,t))?i:t,$=0,V(L("Lazy"),"new",[n,e],function(o,g){var z,S;return o==null&&(o=v),z=M(arguments,1),S=z,w(E($,i))?$=K($,1):V(o,"yield",P(S))},-2)}),ne(l,"$drop_while",function u(){var i=u.$$p||v,n=this,t=v;return u.$$p=null,w(i)||Q.$raise(x("ArgumentError"),"tried to call lazy drop_while without a block"),t=!0,V(L("Lazy"),"new",[n,v],function($,s){var o,g;if($==null&&($=v),o=M(arguments,1),g=o,w(t)){var z=y(i,g);w(z)||(t=!1,V($,"yield",P(g)))}else return V($,"yield",P(g))},-2)}),ne(l,"$enum_for",function u(i,n){var t=u.$$p||v,e,$,s,o=this;return u.$$p=null,e=M(arguments),e.length>0&&($=e.shift()),$==null&&($="each"),s=e,V(o.$class(),"for",[o,$].concat(P(s)),t.$to_proc())},-1),ne(l,"$find_all",function u(){var i=u.$$p||v,n=this;return u.$$p=null,w(i)||Q.$raise(x("ArgumentError"),"tried to call lazy select without a block"),V(L("Lazy"),"new",[n,v],function(e,$){var s,o;e==null&&(e=v),s=M(arguments,1),o=s;var g=y(i,o);w(g)&&V(e,"yield",P(o))},-2)}),ne(l,"$grep",function u(i){var n=u.$$p||v,t=this;return u.$$p=null,w(n)?V(L("Lazy"),"new",[t,v],function($,s){var o,g;$==null&&($=v),o=M(arguments,1),g=o;var z=A.$destructure(g),S=i["$==="](z);w(S)&&(S=F(n,z),$.$yield(F(n,z)))},-2):V(L("Lazy"),"new",[t,v],function($,s){var o,g;$==null&&($=v),o=M(arguments,1),g=o;var z=A.$destructure(g),S=i["$==="](z);w(S)&&$.$yield(z)},-2)}),ne(l,"$reject",function u(){var i=u.$$p||v,n=this;return u.$$p=null,w(i)||Q.$raise(x("ArgumentError"),"tried to call lazy reject without a block"),V(L("Lazy"),"new",[n,v],function(e,$){var s,o;e==null&&(e=v),s=M(arguments,1),o=s;var g=y(i,o);w(g)||V(e,"yield",P(o))},-2)}),ne(l,"$take",function(i){var n=this,t=v,e=v,$=v;return i=j(i,x("Integer"),"to_int"),w(E(i,0))&&Q.$raise(x("ArgumentError"),"attempt to take negative size"),t=n.$enumerator_size(),e=U(x("Integer"),t)&&w(E(i,t))?i:t,$=0,V(L("Lazy"),"new",[n,e],function(o,g){var z,S;return o==null&&(o=v),z=M(arguments,1),S=z,w(E($,i))?(V(o,"yield",P(S)),$=K($,1)):Q.$raise(L("StopLazyError"))},-2)}),ne(l,"$take_while",function u(){var i=u.$$p||v,n=this;return u.$$p=null,w(i)||Q.$raise(x("ArgumentError"),"tried to call lazy take_while without a block"),V(L("Lazy"),"new",[n,v],function(e,$){var s,o;e==null&&(e=v),s=M(arguments,1),o=s;var g=y(i,o);w(g)?V(e,"yield",P(o)):Q.$raise(L("StopLazyError"))},-2)}),ne(l,"$inspect",function(){var i=this;return"#<"+i.$class()+": "+i.enumerator.$inspect()+">"}),R(l,"force","to_a"),R(l,"filter","find_all"),R(l,"flat_map","collect_concat"),R(l,"map","collect"),R(l,"select","find_all"),R(l,"to_enum","enum_for")}(a,a,d)}("::",null,G)};Opal.modules["corelib/enumerator/yielder"]=function(r){var w=r.klass,j=r.def,F=r.slice,y=r.send,ee=r.to_a,Z=[],M=r.nil;return r.add_stubs("yield,proc"),function(X,m,P){var $e=w(X,m,"Enumerator"),Q=[$e].concat(P);return function(V,ne){var Y=w(V,ne,"Yielder"),A=Y.$$prototype;return A.block=M,j(Y,"$initialize",function E(){var U=E.$$p||M,K=this;return E.$$p=null,K.block=U,K}),j(Y,"$yield",function(U){var K,R,G=this;K=F(arguments),R=K;var v=r.yieldX(G.block,R);if(v&&v.$thrower_type=="break")throw v;return v},-1),j(Y,"$<<",function(U){var K=this;return K.$yield(U),K}),j(Y,"$to_proc",function(){var U=this;return y(U,"proc",[],function K(R){var G,v,x=K.$$s==null?this:K.$$s;return G=F(arguments),v=G,y(x,"yield",ee(v))},{$$arity:-1,$$s:U})})}(Q[0],null)}(Z[0],null,Z)};Opal.modules["corelib/enumerator"]=function(r){var w=r.slice,j=r.coerce_to,F=r.deny_frozen_access,y=r.klass,ee=r.defs,Z=r.truthy,M=r.send,X=r.not,m=r.def,P=r.rb_plus,$e=r.to_a,Q=r.Opal,V=r.send2,ne=r.find_super,Y=r.rb_ge,A=r.Kernel,E=r.rb_le,U=r.alias,K=r.top,R=[],G=r.nil,v=r.$$$;return r.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),K.$require("corelib/enumerable"),function(x,T,q){var b=y(x,T,"Enumerator"),a=[b].concat(q),d=r.$r(a),k=b.$$prototype;return k.size=k.args=k.object=k.method=k.values=k.cursor=G,b.$include(v("Enumerable")),b.$$prototype.$$is_enumerator=!0,ee(b,"$for",function h(_,l,H){var L=h.$$p||G,f,u,i,n=this;h.$$p=null,f=w(arguments,1),f.length>0&&(u=f.shift()),u==null&&(u="each"),i=f;var t=n.$allocate();return t.object=_,t.size=L,t.method=u,t.args=i,t.cursor=0,t},-2),m(b,"$initialize",function h(_){var l=h.$$p||G,H=this;return h.$$p=null,w(arguments),F(H),H.cursor=0,Z(l)?(H.object=M(d("Generator"),"new",[],l.$to_proc()),H.method="each",H.args=[],H.size=arguments[0]||G,Z(H.size)&&X(H.size["$respond_to?"]("call"))?H.size=j(H.size,v("Integer"),"to_int"):G):(H.object=arguments[0],H.method=arguments[1]||"each",H.args=w(arguments,2),H.size=G)},-1),m(b,"$each",function h(_){var l=h.$$p||G,H,L,f=this;return h.$$p=null,H=w(arguments),L=H,Z(l["$nil?"]())&&Z(L["$empty?"]())?f:(L=P(f.args,L),Z(l["$nil?"]())?M(f.$class(),"new",[f.object,f.method].concat($e(L))):M(f.object,"__send__",[f.method].concat($e(L)),l.$to_proc()))},-1),m(b,"$size",function(){var _=this;return Z(_.size["$respond_to?"]("call"))?M(_.size,"call",$e(_.args)):_.size}),m(b,"$with_index",function h(_){var l=h.$$p||G,H=this;if(h.$$p=null,_==null&&(_=0),_=Z(_)?j(_,v("Integer"),"to_int"):0,!Z(l))return M(H,"enum_for",["with_index",_],function f(){var u=f.$$s==null?this:f.$$s;return u.$size()},{$$s:H});var L=_;return H.$each.$$p=function(){var f=Q.$destructure(arguments),u=l(f,L);return L++,u},H.$each()},-1),m(b,"$each_with_index",function h(){var _=h.$$p||G,l=this;return h.$$p=null,_===G?M(l,"enum_for",["each_with_index"],function H(){var L=H.$$s==null?this:H.$$s;return L.$size()},{$$s:l}):(V(l,ne(l,"each_with_index",h,!1,!0),"each_with_index",[],_),l.object)}),m(b,"$rewind",function(){var _=this;return _.cursor=0,_}),m(b,"$peek_values",function(){var _=this,l=G;return _.values=Z(l=_.values)?l:M(_,"map",[],function(L){var f,u;return f=w(arguments),u=f,u},-1),Z(Y(_.cursor,_.values.$length()))&&A.$raise(v("StopIteration"),"iteration reached an end"),_.values["$[]"](_.cursor)}),m(b,"$peek",function(){var _=this,l=G;return l=_.$peek_values(),Z(E(l.$length(),1))?l["$[]"](0):l}),m(b,"$next_values",function(){var _=this,l=G;return l=_.$peek_values(),_.cursor=P(_.cursor,1),l}),m(b,"$next",function(){var _=this,l=G;return l=_.$next_values(),Z(E(l.$length(),1))?l["$[]"](0):l}),m(b,"$feed",function(_){var l=this;return l.$raise(d("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),m(b,"$+",function(_){var l=this;return v(v("Enumerator"),"Chain").$new(l,_)}),m(b,"$inspect",function(){var _=this,l=G;return l="#<"+_.$class()+": "+_.object.$inspect()+":"+_.method,Z(_.args["$any?"]())&&(l=P(l,"("+_.args.$inspect()["$[]"](v("Range").$new(1,-2))+")")),P(l,">")}),U(b,"with_object","each_with_object"),b.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),b.$autoload("Chain","corelib/enumerator/chain"),b.$autoload("Generator","corelib/enumerator/generator"),b.$autoload("Lazy","corelib/enumerator/lazy"),b.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,R)};Opal.modules["corelib/numeric"]=function(r){var w=r.klass,j=r.truthy,F=r.Kernel,y=r.def,ee=r.to_ary,Z=r.return_self,M=r.rb_minus,X=r.rb_times,m=r.rb_lt,P=r.eqeq,$e=r.rb_divide,Q=r.return_val,V=r.Opal,ne=r.slice,Y=r.extract_kwargs,A=r.ensure_kwargs,E=r.hash_get,U=r.not,K=r.send,R=r.rb_ge,G=r.rb_le,v=r.rb_plus,x=r.rb_gt,T=r.alias,q=r.top,b=r.nil,a=r.$$$;return r.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),q.$require("corelib/comparable"),function(d,k){var h=w(d,k,"Numeric");return h.$include(a("Comparable")),y(h,"$coerce",function(l){var H=this;return j(l["$instance_of?"](H.$class()))?[l,H]:[F.$Float(l),F.$Float(H)]}),y(h,"$__coerced__",function(l,H){var L,f,u=this,i=b,n=b;if(j(H["$respond_to?"]("coerce")))return f=H.$coerce(u),L=ee(f),i=L[0]==null?b:L[0],n=L[1]==null?b:L[1],i.$__send__(l,n);switch(l.valueOf()){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return F.$raise(a("TypeError"),""+H.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return F.$raise(a("ArgumentError"),"comparison of "+u.$class()+" with "+H.$class()+" failed");default:return b}}),y(h,"$<=>",function(l){var H=this;return j(H["$equal?"](l))?0:b}),y(h,"$+@",Z),y(h,"$-@",function(){var l=this;return M(0,l)}),y(h,"$%",function(l){var H=this;return M(H,X(l,H.$div(l)))}),y(h,"$abs",function(){var l=this;return j(m(l,0))?l["$-@"]():l}),y(h,"$abs2",function(){var l=this;return X(l,l)}),y(h,"$angle",function(){var l=this;return j(m(l,0))?a(a("Math"),"PI"):0}),y(h,"$ceil",function(l){var H=this;return l==null&&(l=0),H.$to_f().$ceil(l)},-1),y(h,"$conj",Z),y(h,"$denominator",function(){var l=this;return l.$to_r().$denominator()}),y(h,"$div",function(l){var H=this;return P(l,0)&&F.$raise(a("ZeroDivisionError"),"divided by o"),$e(H,l).$floor()}),y(h,"$divmod",function(l){var H=this;return[H.$div(l),H["$%"](l)]}),y(h,"$fdiv",function(l){var H=this;return $e(H.$to_f(),l)}),y(h,"$floor",function(l){var H=this;return l==null&&(l=0),H.$to_f().$floor(l)},-1),y(h,"$i",function(){var l=this;return F.$Complex(0,l)}),y(h,"$imag",Q(0)),y(h,"$integer?",Q(!1)),y(h,"$nonzero?",function(){var l=this;return j(l["$zero?"]())?b:l}),y(h,"$numerator",function(){var l=this;return l.$to_r().$numerator()}),y(h,"$polar",function(){var l=this;return[l.$abs(),l.$arg()]}),y(h,"$quo",function(l){var H=this;return $e(V["$coerce_to!"](H,a("Rational"),"to_r"),l)}),y(h,"$real",Z),y(h,"$real?",Q(!0)),y(h,"$rect",function(){var l=this;return[l,0]}),y(h,"$round",function(l){var H=this;return H.$to_f().$round(l)},-1),y(h,"$step",function _(l,H,L){var f=_.$$p||b,u,i,n,t,e,$,s=this,o=b;_.$$p=null,u=ne(arguments),i=Y(u),i=A(i),u.length>0&&(n=u.shift()),u.length>0&&(t=u.shift()),e=E(i,"to"),$=E(i,"by"),n!==void 0&&e!==void 0&&F.$raise(a("ArgumentError"),"to is given twice"),t!==void 0&&$!==void 0&&F.$raise(a("ArgumentError"),"step is given twice"),e!==void 0&&(n=e),$!==void 0&&(t=$),n===void 0&&(n=b);function g(){t===b&&F.$raise(a("TypeError"),"step must be numeric"),t!=null&&t["$=="](0)&&F.$raise(a("ArgumentError"),"step can't be 0"),(t===b||t==null)&&(t=1);var he=t["$<=>"](0);he===b&&F.$raise(a("ArgumentError"),"0 can't be coerced into "+t.$class()),(n===b||n==null)&&(n=he>0?a(a("Float"),"INFINITY"):a(a("Float"),"INFINITY")["$-@"]()),V.$compare(s,n)}function z(){if(t>0&&s>n||t<0&&s<n)return 0;if(t===1/0||t===-1/0)return 1;var he=Math.abs,ve=Math.floor,me=(he(s)+he(n)+he(n-s))/he(t)*a(a("Float"),"EPSILON");return me===1/0||me===-1/0?0:(me>.5&&(me=.5),ve((n-s)/t+me)+1)}function S(){if(g(),t===0)return 1/0;if(t%1!==0)return z();if(t>0&&s>n||t<0&&s<n)return 0;var he=Math.ceil,ve=Math.abs,me=ve(s-n)+1,be=ve(t);return he(me/be)}if(f===b)return(U(n)||j(n["$is_a?"](a("Numeric"))))&&(U(t)||j(t["$is_a?"](a("Numeric"))))?a(a("Enumerator"),"ArithmeticSequence").$new([n,t,j(e)?"to: ":b,j($)?"by: ":b],s):K(s,"enum_for",["step",n,t],S.$to_proc());g();var I=t["$negative?"](),B=t["$=="](0)||n===1/0&&!I||n===-1/0&&I;if(s.$$is_number&&t.$$is_number&&n.$$is_number)if(s%1===0&&(B||n%1===0)&&t%1===0){var O=s;if(B)for(;;O+=t)f(O);else if(I)for(;O>=n;O+=t)f(O);else for(;O<=n;O+=t)f(O);return s}else{var se=s.$to_f().valueOf();t=t.$to_f().valueOf(),n=n.$to_f().valueOf();var le=z();if(!isFinite(t))le!==0&&f(se);else if(t===0)for(;;)f(se);else for(var fe=0;fe<le;fe++){var de=fe*t+s;(t>=0?n<de:n>de)&&(de=n),f(de)}return s}for(o=s;j(I?R(o,n):G(o,n));)r.yield1(f,o),o=v(o,t)},-1),y(h,"$to_c",function(){var l=this;return F.$Complex(l,0)}),y(h,"$to_int",function(){var l=this;return l.$to_i()}),y(h,"$truncate",function(l){var H=this;return l==null&&(l=0),H.$to_f().$truncate(l)},-1),y(h,"$zero?",function(){var l=this;return l["$=="](0)}),y(h,"$positive?",function(){var l=this;return x(l,0)}),y(h,"$negative?",function(){var l=this;return m(l,0)}),y(h,"$dup",Z),y(h,"$clone",function(l){var H=this;return l=A(l),E(l,"freeze"),H},-1),y(h,"$finite?",Q(!0)),y(h,"$infinite?",Q(b)),T(h,"arg","angle"),T(h,"conjugate","conj"),T(h,"imaginary","imag"),T(h,"magnitude","abs"),T(h,"modulo","%"),T(h,"phase","arg"),T(h,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(r){var w=r.truthy,j=r.falsy,F=r.yield1,y=r.hash_get,ee=r.hash_put,Z=r.hash_delete,M=r.coerce_to,X=r.respond_to,m=r.deny_frozen_access,P=r.freeze,$e=r.opal32_init,Q=r.opal32_add,V=r.klass,ne=r.slice,Y=r.defs,A=r.Kernel,E=r.def,U=r.Opal,K=r.eqeqeq,R=r.send2,G=r.find_super,v=r.send,x=r.rb_gt,T=r.rb_times,q=r.eqeq,b=r.rb_minus,a=r.to_a,d=r.to_ary,k=r.gvars,h=r.rb_ge,_=r.assign_ivar,l=r.rb_lt,H=r.return_self,L=r.neqeq,f=r.alias,u=r.top,i=[],n=r.nil,t=r.$$$;return r.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,join,to_str,===,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,sort_by,&,to_s,new,item,max,min,!,>=,**,delete_if,rotate,rand,at,keep_if,shuffle!,<,sort,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),u.$require("corelib/enumerable"),u.$require("corelib/numeric"),function(e,$,s){var o=V(e,$,"Array"),g=[o].concat(s),z=r.$r(g);o.$include(t("Enumerable")),r.prop(o.$$prototype,"$$is_array",!0);function S(ie){for(var N=ie[0],C=1,J=ie.length;C<J;C++)ie[C-1]=ie[C];return ie.pop(),N}function I(ie,N){return N.$$name===r.Array?ie:N.$allocate().$replace(ie.$to_a())}function B(ie,N,C){for(var J,W=null,te=new Array(ie.length),ae=0,oe=0;ae<ie.length;ae++){if(!W)try{J=F(C,ie[ae])}catch(ce){W=ce}(W||N(J))&&(te[oe]=ie[ae],oe+=1)}if(oe!==ae&&(ie.splice.apply(ie,[0,te.length].concat(te)),ie.splice(oe,te.length)),W)throw W}function O(ie){return ie.$$is_array||(ie=M(ie,t("Array"),"to_ary")),ie.$to_a()}function se(ie,N){var C=N.length;if(C>6&&C<32767)ie.push.apply(ie,N);else for(var J=0;J<C;J++)ie.push(N[J])}Y(o,"$[]",function(N){var C,J,W=this;return C=ne(arguments),J=C,I(J,W)},-1),E(o,"$initialize",function ie(N,C){var J=ie.$$p||n,W=this;if(ie.$$p=null,N==null&&(N=n),C==null&&(C=n),m(W),C!==n&&J!==n&&A.$warn("warning: block supersedes default value argument"),N>t(t("Integer"),"MAX")&&A.$raise(t("ArgumentError"),"array size too big"),arguments.length>2&&A.$raise(t("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return W.length>0&&W.splice(0,W.length),W;if(arguments.length===1){if(N.$$is_array)return W.$replace(N.$to_a()),W;if(N["$respond_to?"]("to_ary"))return W.$replace(N.$to_ary()),W}N=M(N,t("Integer"),"to_int"),N<0&&A.$raise(t("ArgumentError"),"negative array size"),W.splice(0,W.length);var te,ae;if(J===n)for(te=0;te<N;te++)W.push(C);else for(te=0,ae;te<N;te++)ae=J(te),W[te]=ae;return W},-1),Y(o,"$try_convert",function(N){return U["$coerce_to?"](N,t("Array"),"to_ary")}),E(o,"$&",function(N){var C=this;if(N=O(N),C.length===0||N.length===0)return[];var J=[],W=new Map,te,ae,oe;for(te=0,ae=N.length;te<ae;te++)ee(W,N[te],!0);for(te=0,ae=C.length;te<ae;te++)oe=C[te],Z(W,oe)!==void 0&&J.push(oe);return J}),E(o,"$|",function(N){var C=this;N=O(N);var J=new Map,W,te;for(W=0,te=C.length;W<te;W++)ee(J,C[W],!0);for(W=0,te=N.length;W<te;W++)ee(J,N[W],!0);return J.$keys()}),E(o,"$*",function(N){var C=this;if(w(N["$respond_to?"]("to_str")))return C.$join(N.$to_str());N=M(N,t("Integer"),"to_int"),w(N<0)&&A.$raise(t("ArgumentError"),"negative argument");for(var J=[],W=C.$to_a(),te=0;te<N;te++)J=J.concat(W);return J}),E(o,"$+",function(N){var C=this;return N=O(N),C.concat(N)}),E(o,"$-",function(N){var C=this;if(N=O(N),w(C.length===0))return[];if(w(N.length===0))return C.slice();var J=[],W=new Map,te,ae,oe;for(te=0,ae=N.length;te<ae;te++)ee(W,N[te],!0);for(te=0,ae=C.length;te<ae;te++)oe=C[te],y(W,oe)===void 0&&J.push(oe);return J}),E(o,"$<<",function(N){var C=this;return m(C),C.push(N),C}),E(o,"$<=>",function(N){var C=this;if(K(t("Array"),N))N=N.$to_a();else if(w(N["$respond_to?"]("to_ary")))N=N.$to_ary().$to_a();else return n;if(C===N)return 0;for(var J=Math.min(C.length,N.length),W=0;W<J;W++){var te=C[W]["$<=>"](N[W]);if(te!==0)return te}return C.length["$<=>"](N.length)}),E(o,"$==",function(N){var C=this,J={};function W(te,ae){var oe,ce,c,p;if(te===ae)return!0;if(!ae.$$is_array)return X(ae,"$to_ary")?ae["$=="](te):!1;if(te.$$constructor!==Array&&(te=te.$to_a()),ae.$$constructor!==Array&&(ae=ae.$to_a()),te.length!==ae.length)return!1;for(J[te.$object_id()]=!0,oe=0,ce=te.length;oe<ce;oe++)if(c=te[oe],p=ae[oe],c.$$is_array){if(p.$$is_array&&p.length!==c.length||!J.hasOwnProperty(c.$object_id())&&!W(c,p))return!1}else if(!c["$=="](p))return!1;return!0}return W(C,N)});function le(ie,N){var C=ie.length,J,W,te,ae;return J=N.excl,W=N.begin===n?0:M(N.begin,r.Integer,"to_int"),te=N.end===n?-1:M(N.end,r.Integer,"to_int"),W<0&&(W+=C,W<0)||(N.excl_rev&&N.begin!==n&&(W+=1),W>C)?n:te<0&&(te+=C,te<0)?[]:((!J||N.end===n)&&(te+=1),ae=ie.slice(W,te),ae)}function fe(ie,N){var C,J=[],W=0,te;for(N.step<0?(te={begin:N.range.end,end:N.range.begin,excl:!1,excl_rev:N.range.excl},C=le(ie,te).$reverse()):C=le(ie,N.range);W<C.length;)J.push(C[W]),W+=Math.abs(N.step);return J}function de(ie,N,C){var J=ie.length,W;return N=M(N,r.Integer,"to_int"),N<0&&(N+=J,N<0)?n:C===void 0?N>=J||N<0?n:ie[N]:(C=M(C,r.Integer,"to_int"),C<0||N>J||N<0?n:(W=ie.slice(N,N+C),W))}E(o,"$[]",function(N,C){var J=this;return N.$$is_range?le(J,N):N.$$is_arithmetic_seq?fe(J,N):de(J,N,C)},-2),E(o,"$[]=",function(N,C,J){var W=this,te=n,ae=n;m(W),te=n;var oe,ce=W.length;if(N.$$is_range){C.$$is_array?te=C.$to_a():C["$respond_to?"]("to_ary")?te=C.$to_ary().$to_a():te=[C];var c=N.excl,p=N.begin===n?0:M(N.begin,r.Integer,"to_int"),D=N.end===n?-1:M(N.end,r.Integer,"to_int");if(p<0&&(p+=ce,p<0&&A.$raise(t("RangeError"),""+N.$inspect()+" out of range")),D<0&&(D+=ce),(!c||N.end===n)&&(D+=1),p>ce)for(oe=ce;oe<p;oe++)W[oe]=n;return D<0?W.splice.apply(W,[p,0].concat(te)):W.splice.apply(W,[p,D-p].concat(te)),C}else{J===void 0?ae=1:(ae=C,C=J,C.$$is_array?te=C.$to_a():C["$respond_to?"]("to_ary")?te=C.$to_ary().$to_a():te=[C]);var re;if(N=M(N,t("Integer"),"to_int"),ae=M(ae,t("Integer"),"to_int"),N<0&&(re=N,N+=ce,N<0&&A.$raise(t("IndexError"),"index "+re+" too small for array; minimum "+-W.length)),ae<0&&A.$raise(t("IndexError"),"negative length ("+ae+")"),N>ce)for(oe=ce;oe<N;oe++)W[oe]=n;return J===void 0?W[N]=C:W.splice.apply(W,[N,ae].concat(te)),C}},-3),E(o,"$any?",function ie(N){var C=ie.$$p||n,J=this;return ie.$$p=null,J.length===0?!1:R(J,G(J,"any?",ie,!1,!0),"any?",[N],C)},-1),E(o,"$assoc",function(N){for(var C=this,J=0,W=C.length,te;J<W;J++)if(te=C[J],te.length&&te[0]["$=="](N))return te;return n}),E(o,"$at",function(N){var C=this;return N=M(N,t("Integer"),"to_int"),N<0&&(N+=C.length),N<0||N>=C.length?n:C[N]}),E(o,"$bsearch_index",function ie(){var N=ie.$$p||n,C=this;if(ie.$$p=null,N===n)return C.$enum_for("bsearch_index");for(var J=0,W=C.length,te,ae,oe,ce=!1,c=n;J<W;){if(te=J+Math.floor((W-J)/2),ae=C[te],oe=F(N,ae),oe===!0)c=te,ce=!0;else if(oe===!1||oe===n)ce=!1;else if(oe.$$is_number){if(oe===0)return te;ce=oe<0}else A.$raise(t("TypeError"),"wrong argument type "+oe.$class()+" (must be numeric, true, false or nil)");ce?W=te:J=te+1}return c}),E(o,"$bsearch",function ie(){var N=ie.$$p||n,C=this,J=n;return ie.$$p=null,N===n?C.$enum_for("bsearch"):(J=v(C,"bsearch_index",[],N.$to_proc()),J!=null&&J.$$is_number?C[J]:J)}),E(o,"$cycle",function ie(N){var C=ie.$$p||n,J=this;if(ie.$$p=null,N==null&&(N=n),C===n)return v(J,"enum_for",["cycle",N],function ae(){var oe=ae.$$s==null?this:ae.$$s;return w(N["$nil?"]())?t(t("Float"),"INFINITY"):(N=U["$coerce_to!"](N,t("Integer"),"to_int"),w(x(N,0))?T(oe.$enumerator_size(),N):0)},{$$s:J});if(w(J["$empty?"]())||q(N,0))return n;var W,te;if(N===n)for(;;)for(W=0,te=J.length;W<te;W++)F(C,J[W]);else{if(N=U["$coerce_to!"](N,t("Integer"),"to_int"),N<=0)return J;for(;N>0;){for(W=0,te=J.length;W<te;W++)F(C,J[W]);N--}}return J},-1),E(o,"$clear",function(){var N=this;return m(N),N.splice(0,N.length),N}),E(o,"$count",function ie(N){var C=ie.$$p||n,J=this;return ie.$$p=null,w(N!==void 0)||w(C)?R(J,G(J,"count",ie,!1,!0),"count",[N],C):J.$size()},-1),E(o,"$initialize_copy",function(N){var C=this;return C.$replace(N)}),E(o,"$collect",function ie(){var N=ie.$$p||n,C=this;if(ie.$$p=null,N===n)return v(C,"enum_for",["collect"],function ae(){var oe=ae.$$s==null?this:ae.$$s;return oe.$size()},{$$s:C});for(var J=[],W=0;W<C.length;W++){var te=F(N,C[W]);J[W]=te}return J}),E(o,"$collect!",function ie(){var N=ie.$$p||n,C=this;if(ie.$$p=null,N===n)return v(C,"enum_for",["collect!"],function te(){var ae=te.$$s==null?this:te.$$s;return ae.$size()},{$$s:C});m(C);for(var J=0;J<C.length;J++){var W=F(N,C[J]);C[J]=W}return C});function he(ie,N){return ie===N||N===0?1:N>0&&ie>N?he(ie-1,N-1)+he(ie-1,N):0}E(o,"$combination",function ie(N){var C=ie.$$p||n,J=this,W=n;if(ie.$$p=null,W=U["$coerce_to!"](N,t("Integer"),"to_int"),C===n)return v(J,"enum_for",["combination",W],function re(){var ue=re.$$s==null?this:re.$$s;return he(ue.length,W)},{$$s:J});var te,ae,oe,ce,c,p,D;if(W===0)r.yield1(C,[]);else if(W===1)for(te=0,ae=J.length;te<ae;te++)r.yield1(C,[J[te]]);else if(W===J.length)r.yield1(C,J.slice());else if(W>=0&&W<J.length){for(oe=[],te=0;te<=W+1;te++)oe.push(0);for(ce=[],c=0,p=!1,oe[0]=-1;!p;){for(ce[c]=J[oe[c+1]];c<W-1;)c++,D=oe[c+1]=oe[c]+1,ce[c]=J[D];r.yield1(C,ce.slice()),c++;do p=c===0,oe[c]++,c--;while(oe[c+1]+W===J.length+c+1)}}return J}),E(o,"$repeated_combination",function ie(N){var C=ie.$$p||n,J=this,W=n;if(ie.$$p=null,W=U["$coerce_to!"](N,t("Integer"),"to_int"),C===n)return v(J,"enum_for",["repeated_combination",W],function ae(){var oe=ae.$$s==null?this:ae.$$s;return he(oe.length+W-1,W)},{$$s:J});function te(ae,oe,ce,c){if(ce.length==ae){var p=ce.slice();r.yield1(C,p);return}for(var D=oe;D<c.length;D++)ce.push(c[D]),te(ae,D,ce,c),ce.pop()}return W>=0&&te(W,0,[],J),J}),E(o,"$compact",function(){for(var N=this,C=[],J=0,W=N.length,te;J<W;J++)(te=N[J])!==n&&C.push(te);return C}),E(o,"$compact!",function(){var N=this;m(N);for(var C=N.length,J=0,W=N.length;J<W;J++)N[J]===n&&(N.splice(J,1),W--,J--);return N.length===C?n:N}),E(o,"$concat",function(N){var C,J,W=this;return C=ne(arguments),J=C,m(W),J=v(J,"map",[],function te(ae){var oe=te.$$s==null?this:te.$$s;return ae==null&&(ae=n),ae=O(ae),w(ae["$equal?"](oe))&&(ae=ae.$dup()),ae},{$$s:W}),v(J,"each",[],function te(ae){var oe=te.$$s==null?this:te.$$s;ae==null&&(ae=n);for(var ce=0,c=ae.length;ce<c;ce++)oe.push(ae[ce])},{$$s:W}),W},-1),E(o,"$delete",function ie(N){var C=ie.$$p||n,J=this;ie.$$p=null;for(var W=J.length,te=0,ae=W;te<ae;te++)J[te]["$=="](N)&&(m(J),J.splice(te,1),ae--,te--);return J.length===W?C!==n?r.yieldX(C,[]):n:N}),E(o,"$delete_at",function(N){var C=this;if(m(C),N=M(N,t("Integer"),"to_int"),N<0&&(N+=C.length),N<0||N>=C.length)return n;var J=C[N];return C.splice(N,1),J}),E(o,"$delete_if",function ie(){var N=ie.$$p||n,C=this;return ie.$$p=null,N===n?v(C,"enum_for",["delete_if"],function J(){var W=J.$$s==null?this:J.$$s;return W.$size()},{$$s:C}):(m(C),B(C,j,N),C)}),E(o,"$difference",function(N){var C,J,W=this;return C=ne(arguments),J=C,v(J,"reduce",[W.$to_a().$dup()],function(ae,oe){return ae==null&&(ae=n),oe==null&&(oe=n),b(ae,oe)})},-1),E(o,"$dig",function(N,C){var J,W,te=this,ae=n;return J=ne(arguments,1),W=J,ae=te["$[]"](N),ae===n||W.length===0?ae:(w(ae["$respond_to?"]("dig"))||A.$raise(t("TypeError"),""+ae.$class()+" does not have #dig method"),v(ae,"dig",a(W)))},-2),E(o,"$drop",function(N){var C=this;return N=M(N,t("Integer"),"to_int"),N<0&&A.$raise(t("ArgumentError")),C.slice(N)}),E(o,"$dup",function ie(){var N=ie.$$p||n,C=this;return ie.$$p=null,C.$$class===r.Array&&C.$$class.$allocate.$$pristine&&C.$copy_instance_variables.$$pristine&&C.$initialize_dup.$$pristine?C.slice(0):R(C,G(C,"dup",ie,!1,!0),"dup",[],N)}),E(o,"$each",function ie(){var N=ie.$$p||n,C=this;if(ie.$$p=null,N===n)return v(C,"enum_for",["each"],function W(){var te=W.$$s==null?this:W.$$s;return te.$size()},{$$s:C});for(var J=0;J<C.length;J++)F(N,C[J]);return C}),E(o,"$each_index",function ie(){var N=ie.$$p||n,C=this;if(ie.$$p=null,N===n)return v(C,"enum_for",["each_index"],function W(){var te=W.$$s==null?this:W.$$s;return te.$size()},{$$s:C});for(var J=0;J<C.length;J++)F(N,J);return C}),E(o,"$empty?",function(){var N=this;return N.length===0}),E(o,"$eql?",function(N){var C=this,J={};function W(te,ae){var oe,ce,c,p;if(!ae.$$is_array||(ae=ae.$to_a(),te.length!==ae.length))return!1;for(J[te.$object_id()]=!0,oe=0,ce=te.length;oe<ce;oe++)if(c=te[oe],p=ae[oe],c.$$is_array){if(p.$$is_array&&p.length!==c.length||!J.hasOwnProperty(c.$object_id())&&!W(c,p))return!1}else if(!c["$eql?"](p))return!1;return!0}return W(C,N)}),E(o,"$fetch",function ie(N,C){var J=ie.$$p||n,W=this;ie.$$p=null;var te=N;if(N=M(N,t("Integer"),"to_int"),N<0&&(N+=W.length),N>=0&&N<W.length)return W[N];if(J!==n&&C!=null&&W.$warn("warning: block supersedes default value argument"),J!==n)return J(te);if(C!=null)return C;W.length===0?A.$raise(t("IndexError"),"index "+te+" outside of array bounds: 0...0"):A.$raise(t("IndexError"),"index "+te+" outside of array bounds: -"+W.length+"..."+W.length)},-2),E(o,"$fill",function ie(N){var C=ie.$$p||n,J,W,te,ae,oe=this,ce=n,c=n,p=n,D=n,re=n;ie.$$p=null,J=ne(arguments),W=J,m(oe);var ue,_e;if(w(C)?(w(W.length>2)&&A.$raise(t("ArgumentError"),"wrong number of arguments ("+W.$length()+" for 0..2)"),ae=W,te=d(ae),ce=te[0]==null?n:te[0],c=te[1]==null?n:te[1]):(w(W.length==0)?A.$raise(t("ArgumentError"),"wrong number of arguments (0 for 1..3)"):w(W.length>3)&&A.$raise(t("ArgumentError"),"wrong number of arguments ("+W.$length()+" for 1..3)"),ae=W,te=d(ae),p=te[0]==null?n:te[0],ce=te[1]==null?n:te[1],c=te[2]==null?n:te[2]),K(t("Range"),ce)){if(w(c)&&A.$raise(t("TypeError"),"length invalid with range"),D=ce.begin===n?0:M(ce.begin,t("Integer"),"to_int"),w(D<0)&&(D+=this.length),w(D<0)&&A.$raise(t("RangeError"),""+ce.$inspect()+" out of range"),re=ce.end===n?-1:M(ce.end,t("Integer"),"to_int"),w(re<0)&&(re+=this.length),w(ce["$exclude_end?"]())||(re+=1),w(re<=D))return oe}else if(w(ce))if(D=M(ce,t("Integer"),"to_int"),w(D<0)&&(D+=this.length),w(D<0)&&(D=0),w(c)){if(re=M(c,t("Integer"),"to_int"),w(re==0))return oe;re+=D}else re=this.length;else D=0,re=this.length;if(w(D>this.length))for(ue=this.length;ue<re;ue++)oe[ue]=n;if(w(re>this.length)&&(this.length=re),w(C))for(this.length;D<re;D++)_e=C(D),oe[D]=_e;else for(this.length;D<re;D++)oe[D]=p;return oe},-1),E(o,"$first",function(N){var C=this;return N==null?C.length===0?n:C[0]:(N=M(N,t("Integer"),"to_int"),N<0&&A.$raise(t("ArgumentError"),"negative array size"),C.slice(0,N))},-1),E(o,"$flatten",function(N){var C=this;function J(W,te){var ae=[],oe,ce,c,p;for(W=W.$to_a(),oe=0,ce=W.length;oe<ce;oe++){if(c=W[oe],!X(c,"$to_ary",!0)){ae.push(c);continue}if(p=c.$to_ary(),p===n){ae.push(c);continue}switch(p.$$is_array||A.$raise(t("TypeError")),p===C&&A.$raise(t("ArgumentError")),te){case void 0:ae=ae.concat(J(p));break;case 0:ae.push(p);break;default:se(ae,J(p,te-1))}}return ae}return N!==void 0&&(N=M(N,t("Integer"),"to_int")),J(C,N)},-1),E(o,"$flatten!",function(N){var C=this;m(C);var J=C.$flatten(N);if(C.length==J.length){for(var W=0,te=C.length;W<te&&C[W]===J[W];W++);if(W==te)return n}return C.$replace(J),C},-1),E(o,"$freeze",function(){var N=this;return w(N["$frozen?"]())?N:P(N)});var ve;E(o,"$hash",function(){var N=this,C=ve===void 0,J=$e(),W=N.$object_id(),te,ae,oe;if(J=Q(J,10),J=Q(J,N.length),C)ve=Object.create(null);else if(ve[W])return Q(J,16843009);try{for(oe in ve)if(te=ve[oe],N["$eql?"](te))return Q(J,16843009);for(ve[W]=N,ae=0;ae<N.length;ae++)te=N[ae],J=Q(J,te.$hash());return J}finally{C&&(ve=void 0)}}),E(o,"$include?",function(N){for(var C=this,J=0,W=C.length;J<W;J++)if(C[J]["$=="](N))return!0;return!1}),E(o,"$index",function ie(N){var C=ie.$$p||n,J=this;ie.$$p=null;var W,te,ae;if(N!=null&&C!==n&&J.$warn("warning: given block not used"),N!=null){for(W=0,te=J.length;W<te;W++)if(J[W]["$=="](N))return W}else if(C!==n){for(W=0;W<J.length;W++)if(ae=C(J[W]),ae!==!1&&ae!==n)return W}else return J.$enum_for("index");return n},-1),E(o,"$insert",function(N,C){var J,W,te=this;if(J=ne(arguments,1),W=J,m(te),N=M(N,t("Integer"),"to_int"),W.length>0){if(N<0&&(N+=te.length+1,N<0&&A.$raise(t("IndexError"),""+N+" is out of bounds")),N>te.length)for(var ae=te.length;ae<N;ae++)te.push(n);te.splice.apply(te,[N,0].concat(W))}return te},-2);var me=[];E(o,"$inspect",function(){var N=this,C=[],J=N.$__id__(),W=!0;return function(){try{if(me.indexOf(J)!==-1)return W=!1,"[...]";me.push(J);for(var te=0,ae=N.length;te<ae;te++){var oe=N["$[]"](te);C.push(z("Opal").$inspect(oe))}return"["+C.join(", ")+"]"}finally{W&&me.pop()}}()}),E(o,"$intersection",function(N){var C,J,W=this,te=n,ae=n;return C=ne(arguments),J=C,J.length===0?W.$to_a().$dup():(J=J.map(O),W.length===0?[]:(J=v(J,"sort_by",[],"length".$to_proc()),w(W.length<J[0].length)?v(J,"reduce",[W],"&".$to_proc()):(te=J.pop(),ae=v(J,"reduce",[te],"&".$to_proc()),W["$&"](ae))))},-1),E(o,"$intersect?",function(N){var C=this,J,W,te=new Map,ae,oe;for(C.length<N.length?(J=C,W=N):(J=N,W=C),ae=0,oe=J.length;ae<oe;ae++)ee(te,J[ae],!0);for(ae=0,oe=W.length;ae<oe;ae++)if(y(te,W[ae]))return!0;return!1}),E(o,"$join",function(N){var C=this;if(k[","]==null&&(k[","]=n),N==null&&(N=n),w(C.length===0))return"";w(N===n)&&(N=k[","]);var J=[],W,te,ae,oe;for(W=0,te=C.length;W<te;W++){if(ae=C[W],X(ae,"$to_str")&&(oe=ae.$to_str(),oe!==n)){J.push(oe.$to_s());continue}if(X(ae,"$to_ary")&&(oe=ae.$to_ary(),oe===C&&A.$raise(t("ArgumentError")),oe!==n)){J.push(oe.$join(N));continue}if(X(ae,"$to_s")&&(oe=ae.$to_s(),oe!==n)){J.push(oe);continue}A.$raise(t("NoMethodError").$new(""+z("Opal").$inspect(C.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return N===n?J.join(""):J.join(U["$coerce_to!"](N,t("String"),"to_str").$to_s())},-1),E(o,"$keep_if",function ie(){var N=ie.$$p||n,C=this;return ie.$$p=null,N===n?v(C,"enum_for",["keep_if"],function J(){var W=J.$$s==null?this:J.$$s;return W.$size()},{$$s:C}):(m(C),B(C,w,N),C)}),E(o,"$last",function(N){var C=this;return N==null?C.length===0?n:C[C.length-1]:(N=M(N,t("Integer"),"to_int"),N<0&&A.$raise(t("ArgumentError"),"negative array size"),N>C.length&&(N=C.length),C.slice(C.length-N,C.length))},-1),E(o,"$length",function(){var N=this;return N.length}),E(o,"$max",function ie(N){var C=ie.$$p||n,J=this;return ie.$$p=null,v(J.$each(),"max",[N],C.$to_proc())},-1),E(o,"$min",function ie(){var N=ie.$$p||n,C=this;return ie.$$p=null,v(C.$each(),"min",[],N.$to_proc())});function be(ie,N){for(var C=N>=0?1:0;N;)C*=ie,ie--,N--;return C}return E(o,"$permutation",function ie(N){var C=ie.$$p||n,J=this,W=n,te=n;if(ie.$$p=null,C===n)return v(J,"enum_for",["permutation",N],function p(){var D=p.$$s==null?this:p.$$s;return be(D.length,N===void 0?D.length:N)},{$$s:J});var ae,oe,ce;if(N===void 0?N=J.length:N=M(N,t("Integer"),"to_int"),!(N<0||J.length<N))if(N===0)r.yield1(C,[]);else if(N===1)for(var c=0;c<J.length;c++)r.yield1(C,[J[c]]);else W=z("Array").$new(N),te=z("Array").$new(J.length,!1),ae=function(p,D,re,ue,_e){J=this;for(var ge=0;ge<J.length;ge++)if(ue["$[]"](ge)["$!"]())if(D[re]=ge,re<p-1)ue[ge]=!0,ae.call(J,p,D,re+1,ue,_e),ue[ge]=!1;else{ce=[];for(var pe=0;pe<D.length;pe++)ce.push(J[D[pe]]);F(_e,ce)}},C!==n?(oe=J.slice(),ae.call(oe,N,W,0,te,C)):ae.call(J,N,W,0,te,C);return J},-1),E(o,"$repeated_permutation",function ie(N){var C=ie.$$p||n,J=this,W=n;if(ie.$$p=null,W=U["$coerce_to!"](N,t("Integer"),"to_int"),C===n)return v(J,"enum_for",["repeated_permutation",W],function ae(){var oe=ae.$$s==null?this:ae.$$s;return w(h(W,0))?oe.$size()["$**"](W):0},{$$s:J});function te(ae,oe,ce){if(oe.length==ae){var c=oe.slice();r.yield1(C,c);return}for(var p=0;p<ce.length;p++)oe.push(ce[p]),te(ae,oe,ce),oe.pop()}return te(W,[],J.slice()),J}),E(o,"$pop",function(N){var C=this;return m(C),w(N===void 0)?w(C.length===0)?n:C.pop():(N=M(N,t("Integer"),"to_int"),w(N<0)&&A.$raise(t("ArgumentError"),"negative array size"),w(C.length===0)?[]:w(N===1)?[C.pop()]:w(N>C.length)?C.splice(0,C.length):C.splice(C.length-N,C.length))},-1),E(o,"$product",function ie(N){var C=ie.$$p||n,J,W,te=this;ie.$$p=null,J=ne(arguments),W=J;var ae=C!==n?null:[],oe=W.length+1,ce=new Array(oe),c=new Array(oe),p=new Array(oe),D,re,ue,_e,ge=1;for(p[0]=te,D=1;D<oe;D++)p[D]=M(W[D-1],t("Array"),"to_ary");for(D=0;D<oe;D++){if(_e=p[D].length,_e===0)return ae||te;ge*=_e,ge>2147483647&&A.$raise(t("RangeError"),"too big to product"),c[D]=_e,ce[D]=0}e:for(;;){for(ue=[],D=0;D<oe;D++)ue.push(p[D][ce[D]]);for(ae?ae.push(ue):r.yield1(C,ue),re=oe-1,ce[re]++;ce[re]===c[re];){if(ce[re]=0,--re<0)break e;ce[re]++}}return ae||te},-1),E(o,"$push",function(N){var C,J,W=this;return C=ne(arguments),J=C,m(W),se(W,J),W},-1),E(o,"$rassoc",function(N){for(var C=this,J=0,W=C.length,te;J<W;J++)if(te=C[J],te.length&&te[1]!==void 0&&te[1]["$=="](N))return te;return n}),E(o,"$reject",function ie(){var N=ie.$$p||n,C=this;if(ie.$$p=null,N===n)return v(C,"enum_for",["reject"],function ae(){var oe=ae.$$s==null?this:ae.$$s;return oe.$size()},{$$s:C});for(var J=[],W=0,te;W<C.length;W++)te=N(C[W]),(te===!1||te===n)&&J.push(C[W]);return J}),E(o,"$reject!",function ie(){var N=ie.$$p||n,C=this,J=n;return ie.$$p=null,N===n?v(C,"enum_for",["reject!"],function W(){var te=W.$$s==null?this:W.$$s;return te.$size()},{$$s:C}):(m(C),J=C.$length(),v(C,"delete_if",[],N.$to_proc()),q(C.$length(),J)?n:C)}),E(o,"$replace",function(N){var C=this;return m(C),N=O(N),C.length>0&&C.splice(0,C.length),se(C,N),C}),E(o,"$reverse",function(){var N=this;return N.slice(0).reverse()}),E(o,"$reverse!",function(){var N=this;return m(N),N.reverse()}),E(o,"$reverse_each",function ie(){var N=ie.$$p||n,C=this;if(ie.$$p=null,N===n)return v(C,"enum_for",["reverse_each"],function W(){var te=W.$$s==null?this:W.$$s;return te.$size()},{$$s:C});for(var J=C.length-1;J>=0;J--)F(N,C[J]);return C}),E(o,"$rindex",function ie(N){var C=ie.$$p||n,J=this;ie.$$p=null;var W,te;if(N!=null&&C!==n&&J.$warn("warning: given block not used"),N!=null){for(W=J.length-1;W>=0&&!(W>=J.length);W--)if(J[W]["$=="](N))return W}else if(C!==n){for(W=J.length-1;W>=0&&!(W>=J.length);W--)if(te=C(J[W]),te!==!1&&te!==n)return W}else if(N==null)return J.$enum_for("rindex");return n},-1),E(o,"$rotate",function(N){var C=this;N==null&&(N=1);var J,W,te,ae;return N=M(N,t("Integer"),"to_int"),C.length===1?C.slice():C.length===0?[]:(J=C.slice(),W=N%J.length,te=J.slice(W),ae=J.slice(0,W),te.concat(ae))},-1),E(o,"$rotate!",function(N){var C=this,J=n;return N==null&&(N=1),m(C),C.length===0||C.length===1?C:(N=M(N,t("Integer"),"to_int"),J=C.$rotate(N),C.$replace(J))},-1),function(ie,N){var C=V(ie,N,"SampleRandom"),J=C.$$prototype;return J.rng=n,E(C,"$initialize",_("rng")),E(C,"$rand",function(te){var ae=this,oe=n;return oe=M(ae.rng.$rand(te),t("Integer"),"to_int"),w(oe<0)&&A.$raise(t("RangeError"),"random value must be >= 0"),w(oe<te)||A.$raise(t("RangeError"),"random value must be less than Array size"),oe})}(o,null),E(o,"$sample",function(N,C){var J=this,W=n,te=n;if(w(N===void 0))return J.$at(A.$rand(J.length));if(w(C===void 0)?w(W=U["$coerce_to?"](N,t("Hash"),"to_hash"))?(C=W,N=n):(C=n,N=M(N,t("Integer"),"to_int")):(N=M(N,t("Integer"),"to_int"),C=M(C,t("Hash"),"to_hash")),w(N)&&w(N<0)&&A.$raise(t("ArgumentError"),"count must be greater than 0"),w(C)&&(te=C["$[]"]("random")),te=w(te)&&w(te["$respond_to?"]("rand"))?z("SampleRandom").$new(te):A,!w(N))return J[te.$rand(J.length)];var ae,oe,ce,c,p,D,re,ue;switch(N>J.length&&(N=J.length),N){case 0:return[];case 1:return[J[te.$rand(J.length)]];case 2:return c=te.$rand(J.length),p=te.$rand(J.length-1),c<=p&&p++,[J[c],J[p]];default:if(J.length/N>3){for(ae=!1,oe=0,ce=z("Array").$new(N),c=1,ce[0]=te.$rand(J.length);c<N;){for(D=te.$rand(J.length),p=0;p<c;){for(;D===ce[p];){if(oe++,oe>100){ae=!0;break}D=te.$rand(J.length)}if(ae)break;p++}if(ae)break;ce[c]=D,c++}if(!ae){for(c=0;c<N;)ce[c]=J[ce[c]],c++;return ce}}ce=J.slice();for(var _e=0;_e<N;_e++)re=te.$rand(J.length-_e)+_e,ue=ce[_e],ce[_e]=ce[re],ce[re]=ue;return N===J.length?ce:ce["$[]"](0,N)}},-1),E(o,"$select",function ie(){var N=ie.$$p||n,C=this;if(ie.$$p=null,N===n)return v(C,"enum_for",["select"],function oe(){var ce=oe.$$s==null?this:oe.$$s;return ce.$size()},{$$s:C});for(var J=[],W=0,te,ae;W<C.length;W++)te=C[W],ae=F(N,te),w(ae)&&J.push(te);return J}),E(o,"$select!",function ie(){var N=ie.$$p||n,C=this;if(ie.$$p=null,N===n)return v(C,"enum_for",["select!"],function W(){var te=W.$$s==null?this:W.$$s;return te.$size()},{$$s:C});m(C);var J=C.length;return v(C,"keep_if",[],N.$to_proc()),C.length===J?n:C}),E(o,"$shift",function(N){var C=this;return m(C),w(N===void 0)?w(C.length===0)?n:S(C):(N=M(N,t("Integer"),"to_int"),w(N<0)&&A.$raise(t("ArgumentError"),"negative array size"),w(C.length===0)?[]:C.splice(0,N))},-1),E(o,"$shuffle",function(N){var C=this;return C.$dup().$to_a()["$shuffle!"](N)},-1),E(o,"$shuffle!",function(N){var C=this;m(C);var J,W=C.length,te,ae;for(N!==void 0&&(N=U["$coerce_to?"](N,t("Hash"),"to_hash"),N!==n&&(N=N["$[]"]("random"),N!==n&&N["$respond_to?"]("rand")&&(J=N)));W;)J?(te=J.$rand(W).$to_int(),te<0&&A.$raise(t("RangeError"),"random number too small "+te),te>=W&&A.$raise(t("RangeError"),"random number too big "+te)):te=C.$rand(W),ae=C[--W],C[W]=C[te],C[te]=ae;return C},-1),E(o,"$slice!",function(N,C){var J=this,W=n,te=n,ae=n,oe=n,ce=n;if(m(J),W=n,w(C===void 0))if(K(t("Range"),N)){te=N,W=J["$[]"](te),ae=te.begin===n?0:M(te.begin,t("Integer"),"to_int"),oe=te.end===n?-1:M(te.end,t("Integer"),"to_int"),ae<0&&(ae+=J.length),oe<0?oe+=J.length:oe>=J.length&&(oe=J.length-1,te.excl&&(oe+=1));var c=oe-ae;te.excl&&te.end!==n?oe-=1:c+=1,ae<J.length&&ae>=0&&oe<J.length&&oe>=0&&c>0&&J.splice(ae,c)}else{if(ce=M(N,t("Integer"),"to_int"),ce<0&&(ce+=J.length),ce<0||ce>=J.length)return n;W=J[ce],ce===0?J.shift():J.splice(ce,1)}else{if(ce=M(N,t("Integer"),"to_int"),C=M(C,t("Integer"),"to_int"),C<0)return n;W=J["$[]"](ce,C),ce<0&&(ce+=J.length),ce+C>J.length&&(C=J.length-ce),ce<J.length&&ce>=0&&J.splice(ce,C)}return W},-2),E(o,"$sort",function ie(){var N=ie.$$p||n,C=this;return ie.$$p=null,w(C.length>1)?(N===n&&(N=function(J,W){return J["$<=>"](W)}),C.slice().sort(function(J,W){var te=N(J,W);return te===n&&A.$raise(t("ArgumentError"),"comparison of "+J.$inspect()+" with "+W.$inspect()+" failed"),x(te,0)?1:l(te,0)?-1:0})):C}),E(o,"$sort!",function ie(){var N=ie.$$p||n,C=this;ie.$$p=null,m(C);var J;N!==n?J=v(C.slice(),"sort",[],N.$to_proc()):J=C.slice().$sort(),C.length=0;for(var W=0,te=J.length;W<te;W++)C.push(J[W]);return C}),E(o,"$sort_by!",function ie(){var N=ie.$$p||n,C=this;return ie.$$p=null,N===n?v(C,"enum_for",["sort_by!"],function J(){var W=J.$$s==null?this:J.$$s;return W.$size()},{$$s:C}):(m(C),C.$replace(v(C,"sort_by",[],N.$to_proc())))}),E(o,"$take",function(N){var C=this;return N<0&&A.$raise(t("ArgumentError")),C.slice(0,N)}),E(o,"$take_while",function ie(){var N=ie.$$p||n,C=this;ie.$$p=null;for(var J=[],W=0,te,ae;W<C.length;W++){if(te=C[W],ae=N(te),ae===!1||ae===n)return J;J.push(te)}return J}),E(o,"$to_a",function(){var N=this;return N.$$class===r.Array?N:r.Array.$new(N)}),E(o,"$to_ary",H),E(o,"$to_h",function ie(){var N=ie.$$p||n,C=this,J=n;ie.$$p=null,J=C,N!==n&&(J=v(J,"map",[],N.$to_proc()));var W,te=J.length,ae,oe,ce,c=new Map;for(W=0;W<te;W++)ae=U["$coerce_to?"](J[W],t("Array"),"to_ary"),ae.$$is_array||A.$raise(t("TypeError"),"wrong element type "+J[W].$class()+" at "+W+" (expected array)"),ae.length!==2&&A.$raise(t("ArgumentError"),"element has wrong array length at "+W+" (expected 2, was "+ae.$length()+")"),oe=ae[0],ce=ae[1],ee(c,oe,ce);return c}),E(o,"$transpose",function(){var N=this,C=n,J=n;return w(N["$empty?"]())?[]:(C=[],J=n,v(N,"each",[],function(te){var ae=n;return te==null&&(te=n),te=O(te),J=w(ae=J)?ae:te.length,L(te.length,J)&&A.$raise(t("IndexError"),"element size differs ("+te.length+" should be "+J+")"),v(te.length,"times",[],function(ce){var c,p=n;return ce==null&&(ce=n),p=w(ae=C["$[]"](ce))?ae:(c=[ce,[]],v(C,"[]=",c),c[c.length-1]),p["$<<"](te.$at(ce))})}),C)}),E(o,"$union",function(N){var C,J,W=this;return C=ne(arguments),J=C,v(J,"reduce",[W.$uniq()],function(ae,oe){return ae==null&&(ae=n),oe==null&&(oe=n),ae["$|"](oe)})},-1),E(o,"$uniq",function ie(){var N=ie.$$p||n,C=this;ie.$$p=null;var J=new Map,W,te,ae,oe;if(N===n)for(W=0,te=C.length;W<te;W++)ae=C[W],y(J,ae)===void 0&&ee(J,ae,ae);else for(W=0;W<C.length;W++)ae=C[W],oe=F(N,ae),y(J,oe)===void 0&&ee(J,oe,ae);return J.$values()}),E(o,"$uniq!",function ie(){var N=ie.$$p||n,C=this;ie.$$p=null,m(C);var J=new Map,W,te,ae,oe=[];for(W=0;W<C.length;W++)te=C[W],ae=N===n?te:F(N,te),y(J,ae)===void 0?ee(J,ae,te):oe.push(W);for(W=oe.length-1;W>=0;W--)C.splice(oe[W],1);return oe.length===0?n:C}),E(o,"$unshift",function(N){var C,J,W=this;C=ne(arguments),J=C,m(W);var te=W.length,ae=J.length;if(ae==0)return W;for(var oe=te-ae,ce=0;ce<ae;ce++)W.push(W[oe+ce]);for(var c=te-1;c-ae>=0;)W[c]=W[c-ae],c--;for(var p=0;p<ae;p++)W[p]=J[p];return W},-1),E(o,"$values_at",function(N){var C,J,W=this,te=n;return C=ne(arguments),J=C,te=[],v(J,"each",[],function ae(oe){var ce=ae.$$s==null?this:ae.$$s,c=n,p=n,D=n;return oe==null&&(oe=n),w(oe["$is_a?"](t("Range")))?(c=oe.$end()===n?-1:M(oe.$end(),t("Integer"),"to_int"),p=oe.$begin()===n?0:M(oe.$begin(),t("Integer"),"to_int"),p<0?(p=p+ce.length,n):(c<0&&(c=c+ce.length),oe["$exclude_end?"]()&&oe.$end()!==n&&c--,c<p?n:v(p,"upto",[c],function re(ue){var _e=re.$$s==null?this:re.$$s;return ue==null&&(ue=n),te["$<<"](_e.$at(ue))},{$$s:ce}))):(D=M(oe,t("Integer"),"to_int"),te["$<<"](ce.$at(D)))},{$$s:W}),te},-1),E(o,"$zip",function ie(N){var C=ie.$$p||n,J,W,te=this,ae=n;ie.$$p=null,J=ne(arguments),W=J;var oe=[],ce=te.length,c,p,D,re,ue;for(re=0,ue=W.length;re<ue;re++)if(p=W[re],!p.$$is_array){if(p.$$is_range||p.$$is_enumerator){W[re]=p.$take(ce);continue}W[re]=(w(ae=U["$coerce_to?"](p,t("Array"),"to_ary"))?ae:U["$coerce_to!"](p,t("Enumerator"),"to_enum","each")).$to_a()}for(D=0;D<ce;D++){for(c=[te[D]],re=0,ue=W.length;re<ue;re++)p=W[re][D],p==null&&(p=n),c[re+1]=p;oe[D]=c}if(C!==n){for(D=0;D<ce;D++)r.yield1(C,oe[D]);return n}return oe},-1),Y(o,"$inherited",function(N){N.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),E(o,"$instance_variables",function ie(){var N=ie.$$p||n,C=this;return ie.$$p=null,v(R(C,G(C,"instance_variables",ie,!1,!0),"instance_variables",[],N),"reject",[],function(W){var te=n;return W==null&&(W=n),w(te=/^@\d+$/.test(W))?te:W["$=="]("@length")})}),E(o,"$pack",function(N){return ne(arguments),A.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),f(o,"append","push"),f(o,"filter","select"),f(o,"filter!","select!"),f(o,"map","collect"),f(o,"map!","collect!"),f(o,"prepend","unshift"),f(o,"size","length"),f(o,"slice","[]"),f(o,"to_s","inspect"),U.$pristine(o.$singleton_class(),"allocate"),U.$pristine(o,"copy_instance_variables","initialize_dup")}("::",Array,i)};Opal.modules["corelib/hash"]=function(r){var w=r.yield1,j=r.hash_clone,F=r.hash_delete,y=r.hash_each,ee=r.hash_get,Z=r.hash_put,M=r.deny_frozen_access,X=r.freeze,m=r.opal32_init,P=r.opal32_add,$e=r.klass,Q=r.slice,V=r.Opal,ne=r.Kernel,Y=r.defs,A=r.def,E=r.send,U=r.rb_ge,K=r.rb_gt,R=r.truthy,G=r.to_a,v=r.return_self,x=r.not,T=r.alias,q=r.top,b=[],a=r.nil,d=r.$$$;return r.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,inspect,coerce_to!,each,fetch,>=,>,==,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,!,select,select!,has_key?,indexes,index,length,[]=,has_value?"),q.$require("corelib/enumerable"),function(k,h,_){var l=$e(k,h,"Hash"),H=[l].concat(_),L=r.$r(H);l.$include(d("Enumerable")),l.$$prototype.$$is_hash=!0,Y(l,"$[]",function(n){var t,e,$=this;t=Q(arguments),e=t;var s,o=e.length,g,z;if(o===1){if(s=V["$coerce_to?"](e["$[]"](0),d("Hash"),"to_hash"),s!==a)return $.$allocate()["$merge!"](s);for(e=V["$coerce_to?"](e["$[]"](0),d("Array"),"to_ary"),e===a&&ne.$raise(d("ArgumentError"),"odd number of arguments for Hash"),o=e.length,s=$.$allocate(),z=0;z<o;z++)g=e[z],g.$$is_array||ne.$raise(d("ArgumentError"),"invalid element "+g.$inspect()+" for Hash"),g.length===1?s.$store(g[0],a):g.length===2?s.$store(g[0],g[1]):ne.$raise(d("ArgumentError"),"invalid number of elements ("+g.length+" for "+g.$inspect()+"), must be 1..2");return s}for(o%2!==0&&ne.$raise(d("ArgumentError"),"odd number of arguments for Hash"),s=$.$allocate(),z=0;z<o;z+=2)s.$store(e[z],e[z+1]);return s},-1),Y(l,"$allocate",function(){var n=this,t=new n.$$constructor;return t.$$none=a,t.$$proc=a,t}),Y(l,"$try_convert",function(n){return V["$coerce_to?"](n,d("Hash"),"to_hash")}),A(l,"$initialize",function i(n){var t=i.$$p||a,e=this;return i.$$p=null,M(e),n!==void 0&&t!==a&&ne.$raise(d("ArgumentError"),"wrong number of arguments (1 for 0)"),e.$$none=n===void 0?a:n,e.$$proc=t,e},-1),A(l,"$==",function(n){var t=this;return t===n?!0:!n.$$is_hash||t.size!==n.size?!1:y(t,!0,function(e,$){var s=ee(n,e);return s===void 0||!$["$eql?"](s)?[!0,!1]:[!1,!0]})}),A(l,"$>=",function(n){var t=this,e=a;return n=V["$coerce_to!"](n,d("Hash"),"to_hash"),t.size<n.size?!1:(e=!0,E(n,"each",[],function $(s,o){var g=$.$$s==null?this:$.$$s,z=a;if(s==null&&(s=a),o==null&&(o=a),z=g.$fetch(s,null),z==null||z!==o){e=!1;return}},{$$s:t}),e)}),A(l,"$>",function(n){var t=this;return n=V["$coerce_to!"](n,d("Hash"),"to_hash"),t.size<=n.size?!1:U(t,n)}),A(l,"$<",function(n){var t=this;return n=V["$coerce_to!"](n,d("Hash"),"to_hash"),K(n,t)}),A(l,"$<=",function(n){var t=this;return n=V["$coerce_to!"](n,d("Hash"),"to_hash"),U(n,t)}),A(l,"$[]",function(n){var t=this,e=ee(t,n);return e!==void 0?e:t.$default(n)}),A(l,"$[]=",function(n,t){var e=this;return M(e),Z(e,n,t),t}),A(l,"$assoc",function(n){var t=this;return y(t,a,function(e,$){return e["$=="](n)?[!0,[e,$]]:[!1,a]})}),A(l,"$clear",function(){var n=this;return M(n),n.clear(),n.$$keys&&n.$$keys.clear(),n}),A(l,"$clone",function(){var n=this,t=n.$class().$new();return j(n,t),n["$frozen?"]()?t.$freeze():t}),A(l,"$compact",function(){var n=this,t=new Map;return y(n,t,function(e,$){return $!==a&&Z(t,e,$),[!1,t]})}),A(l,"$compact!",function(){var n=this;M(n);var t=a;return y(n,t,function(e,$){return $===a&&(F(n,e),t=n),[!1,t]})}),A(l,"$compare_by_identity",function(){var n=this;return M(n),n.$$by_identity||(n.$$by_identity=!0,n.size!==0&&r.hash_rehash(n)),n}),A(l,"$compare_by_identity?",function(){var n=this;return n.$$by_identity===!0}),A(l,"$default",function(n){var t=this;return n!==void 0&&t.$$proc!==a&&t.$$proc!==void 0?t.$$proc.$call(t,n):t.$$none===void 0?a:t.$$none},-1),A(l,"$default=",function(n){var t=this;return M(t),t.$$proc=a,t.$$none=n,n}),A(l,"$default_proc",function(){var n=this;return n.$$proc!==void 0?n.$$proc:a}),A(l,"$default_proc=",function(n){var t=this;M(t);var e=n;return e!==a&&(e=V["$coerce_to!"](e,d("Proc"),"to_proc"),e["$lambda?"]()&&e.$arity().$abs()!==2&&ne.$raise(d("TypeError"),"default_proc takes two arguments")),t.$$none=a,t.$$proc=e,n}),A(l,"$delete",function i(n){var t=i.$$p||a,e=this;i.$$p=null,M(e);var $=F(e,n);return $!==void 0?$:t!==a?r.yield1(t,n):a}),A(l,"$delete_if",function i(){var n=i.$$p||a,t=this;return i.$$p=null,R(n)?(M(t),y(t,t,function(e,$){var s=n(e,$);return s!==!1&&s!==a&&F(t,e),[!1,t]})):E(t,"enum_for",["delete_if"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:t})}),A(l,"$dig",function(n,t){var e,$,s=this,o=a;return e=Q(arguments,1),$=e,o=s["$[]"](n),o===a||$.length===0?o:(R(o["$respond_to?"]("dig"))||ne.$raise(d("TypeError"),""+o.$class()+" does not have #dig method"),E(o,"dig",G($)))},-2),A(l,"$dup",function(){var n=this;return j(n,n.$class().$new())}),A(l,"$each",function i(){var n=i.$$p||a,t=this;return i.$$p=null,R(n)?y(t,t,function(e,$){return w(n,[e,$]),[!1,t]}):E(t,"enum_for",["each"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:t})}),A(l,"$each_key",function i(){var n=i.$$p||a,t=this;return i.$$p=null,R(n)?y(t,t,function(e,$){return n(e),[!1,t]}):E(t,"enum_for",["each_key"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:t})}),A(l,"$each_value",function i(){var n=i.$$p||a,t=this;return i.$$p=null,R(n)?y(t,t,function(e,$){return n($),[!1,t]}):E(t,"enum_for",["each_value"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:t})}),A(l,"$empty?",function(){var n=this;return n.size===0}),A(l,"$except",function(n){var t,e,$=this;return t=Q(arguments),e=t,E($.$dup(),"except!",G(e))},-1),A(l,"$except!",function(n){var t,e,$=this;return t=Q(arguments),e=t,E(e,"each",[],function s(o){var g=s.$$s==null?this:s.$$s;return o==null&&(o=a),g.$delete(o)},{$$s:$}),$},-1),A(l,"$fetch",function i(n,t){var e=i.$$p||a,$=this;i.$$p=null;var s=ee($,n);return s!==void 0?s:e!==a?e(n):t!==void 0?t:ne.$raise(d("KeyError").$new("key not found: "+n.$inspect(),new Map([["key",n],["receiver",$]])))},-2),A(l,"$fetch_values",function i(n){var t=i.$$p||a,e,$,s=this;return i.$$p=null,e=Q(arguments),$=e,E($,"map",[],function o(g){var z=o.$$s==null?this:o.$$s;return g==null&&(g=a),E(z,"fetch",[g],t.$to_proc())},{$$s:s})},-1),A(l,"$flatten",function(n){var t=this;n==null&&(n=1),n=V["$coerce_to!"](n,d("Integer"),"to_int");var e=[];return y(t,e,function($,s){return e.push($),s.$$is_array?n===1?(e.push(s),[!1,e]):(e=e.concat(s.$flatten(n-2)),[!1,e]):(e.push(s),[!1,e])})},-1),A(l,"$freeze",function(){var n=this;return R(n["$frozen?"]())?n:X(n)}),A(l,"$has_key?",function(n){var t=this;return ee(t,n)!==void 0}),A(l,"$has_value?",function(n){var t=this;return y(t,!1,function(e,$){return $["$=="](n)?[!0,!0]:[!1,!1]})});var f;A(l,"$hash",function(){var n=this,t=f===void 0,e=n.$object_id(),$=m(),s,o,g,z=n.size,S=new Int32Array(z);if($=P($,4),$=P($,z),t)f=Object.create(null);else if(f[e])return P($,16843009);try{for(s in f)if(o=f[s],n["$eql?"](o))return P($,16843009);for(f[e]=n,g=0,y(n,!1,function(I,B){return S[g]=[1883326802,I,B].$hash(),g++,[!1,!1]}),S=S.sort(),g=0;g<S.length;g++)$=P($,S[g]);return $}finally{t&&(f=void 0)}}),A(l,"$index",function(n){var t=this;return y(t,a,function(e,$){return $["$=="](n)?[!0,e]:[!1,a]})}),A(l,"$indexes",function(n){var t,e,$=this;t=Q(arguments),e=t;for(var s=[],o=0,g=e.length,z,S;o<g;o++){if(z=e[o],S=ee($,z),S===void 0){s.push($.$default());continue}s.push(S)}return s},-1);var u;return A(l,"$inspect",function(){var n=this,t=u===void 0,e=n.$object_id(),$=[];return function(){try{if(t&&(u={}),u.hasOwnProperty(e))return"{...}";return u[e]=!0,y(n,!1,function(s,o){return o=L("Opal").$inspect(o),s=L("Opal").$inspect(s),$.push(s+"=>"+o),[!1,!1]}),"{"+$.join(", ")+"}";return a}finally{t&&(u=void 0)}}()}),A(l,"$invert",function(){var n=this,t=new Map;return y(n,t,function(e,$){return Z(t,$,e),[!1,t]})}),A(l,"$keep_if",function i(){var n=i.$$p||a,t=this;return i.$$p=null,R(n)?(M(t),y(t,t,function(e,$){var s=n(e,$);return(s===!1||s===a)&&F(t,e),[!1,t]})):E(t,"enum_for",["keep_if"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:t})}),A(l,"$keys",function(){var n=this;return Array.from(n.keys())}),A(l,"$length",function(){var n=this;return n.size}),A(l,"$merge",function i(n){var t=i.$$p||a,e,$,s=this;return i.$$p=null,e=Q(arguments),$=e,E(s.$dup(),"merge!",G($),t.$to_proc())},-1),A(l,"$merge!",function i(n){var t=i.$$p||a,e,$,s=this;i.$$p=null,e=Q(arguments),$=e,M(s);var o,g;for(o=0;o<$.length;++o)g=V["$coerce_to!"]($[o],d("Hash"),"to_hash"),t===a?y(g,!1,function(z,S){return Z(s,z,S),[!1,!1]}):y(g,!1,function(z,S){var I=ee(s,z);return I===void 0?(Z(s,z,S),[!1,!1]):(Z(s,z,t(z,I,S)),[!1,!1])});return s},-1),A(l,"$rassoc",function(n){var t=this;return y(t,a,function(e,$){return $["$=="](n)?[!0,[e,$]]:[!1,a]})}),A(l,"$rehash",function(){var n=this;return M(n),r.hash_rehash(n)}),A(l,"$reject",function i(){var n=i.$$p||a,t=this;if(i.$$p=null,!R(n))return E(t,"enum_for",["reject"],function $(){var s=$.$$s==null?this:$.$$s;return s.$size()},{$$s:t});var e=new Map;return y(t,e,function($,s){var o=n($,s);return(o===!1||o===a)&&Z(e,$,s),[!1,e]})}),A(l,"$reject!",function i(){var n=i.$$p||a,t=this;if(i.$$p=null,!R(n))return E(t,"enum_for",["reject!"],function $(){var s=$.$$s==null?this:$.$$s;return s.$size()},{$$s:t});M(t);var e=a;return y(t,e,function($,s){var o=n($,s);return o!==!1&&o!==a&&(F(t,$),e=t),[!1,e]})}),A(l,"$replace",function(n){var t=this;return M(t),n=V["$coerce_to!"](n,d("Hash"),"to_hash"),t.$clear(),y(n,!1,function(e,$){return Z(t,e,$),[!1,!1]}),R(n.$default_proc())?t["$default_proc="](n.$default_proc()):t["$default="](n.$default()),t}),A(l,"$select",function i(){var n=i.$$p||a,t=this;if(i.$$p=null,!R(n))return E(t,"enum_for",["select"],function $(){var s=$.$$s==null?this:$.$$s;return s.$size()},{$$s:t});var e=new Map;return y(t,e,function($,s){var o=n($,s);return o!==!1&&o!==a&&Z(e,$,s),[!1,e]})}),A(l,"$select!",function i(){var n=i.$$p||a,t=this;if(i.$$p=null,!R(n))return E(t,"enum_for",["select!"],function $(){var s=$.$$s==null?this:$.$$s;return s.$size()},{$$s:t});M(t);var e=a;return y(t,e,function($,s){var o=n($,s);return(o===!1||o===a)&&(F(t,$),e=t),[!1,e]})}),A(l,"$shift",function(){var n=this;return M(n),y(n,a,function(t,e){return[!0,[t,F(n,t)]]})}),A(l,"$slice",function(n){var t,e,$=this;t=Q(arguments),e=t;for(var s=new Map,o=0,g=e.length;o<g;o++){var z=e[o],S=ee($,z);S!==void 0&&Z(s,z,S)}return s},-1),A(l,"$to_a",function(){var n=this,t=[];return y(n,t,function(e,$){return t.push([e,$]),[!1,t]})}),A(l,"$to_h",function i(){var n=i.$$p||a,t=this;if(i.$$p=null,n!==a)return E(t,"map",[],n.$to_proc()).$to_h();if(t.$$class===r.Hash)return t;var e=new Map;return j(t,e),e}),A(l,"$to_hash",v),A(l,"$to_proc",function(){var n=this;return E(n,"proc",[],function t(e){var $=t.$$s==null?this:t.$$s;return e==null&&ne.$raise(d("ArgumentError"),"no key given"),$["$[]"](e)},{$$arity:-1,$$s:n})}),A(l,"$transform_keys",function i(n){var t=i.$$p||a,e=this;if(i.$$p=null,n==null&&(n=a),x(t)&&x(n))return E(e,"enum_for",["transform_keys"],function s(){var o=s.$$s==null?this:s.$$s;return o.$size()},{$$s:e});var $=new Map;return y(e,$,function(s,o){var g;return n!==a&&(g=ee(n,s)),g===void 0&&t&&t!==a&&(g=t(s)),g===void 0&&(g=s),Z($,g,o),[!1,$]})},-1),A(l,"$transform_keys!",function i(n){var t=i.$$p||a,e=this;if(i.$$p=null,n==null&&(n=a),x(t)&&x(n))return E(e,"enum_for",["transform_keys!"],function s(){var o=s.$$s==null?this:s.$$s;return o.$size()},{$$s:e});M(e);var $=new Map;return y(e,e,function(s,o){var g;return n!==a&&(g=ee(n,s)),g===void 0&&t&&t!==a&&(g=t(s)),g===void 0?[!1,e]:(ee($,s)||F(e,s),Z(e,g,o),Z($,g,!0),[!1,e])})},-1),A(l,"$transform_values",function i(){var n=i.$$p||a,t=this;if(i.$$p=null,!R(n))return E(t,"enum_for",["transform_values"],function $(){var s=$.$$s==null?this:$.$$s;return s.$size()},{$$s:t});var e=new Map;return y(t,e,function($,s){return Z(e,$,n(s)),[!1,e]})}),A(l,"$transform_values!",function i(){var n=i.$$p||a,t=this;return i.$$p=null,R(n)?(M(t),y(t,t,function(e,$){return Z(t,e,n($)),[!1,t]})):E(t,"enum_for",["transform_values!"],function e(){var $=e.$$s==null?this:e.$$s;return $.$size()},{$$s:t})}),A(l,"$values",function(){var n=this;return Array.from(n.values())}),T(l,"each_pair","each"),T(l,"eql?","=="),T(l,"filter","select"),T(l,"filter!","select!"),T(l,"include?","has_key?"),T(l,"indices","indexes"),T(l,"key","index"),T(l,"key?","has_key?"),T(l,"member?","has_key?"),T(l,"size","length"),T(l,"store","[]="),T(l,"to_s","inspect"),T(l,"update","merge!"),T(l,"value?","has_value?"),T(l,"values_at","indexes")}("::",Map,b)};Opal.modules["corelib/number"]=function(r){var w=r.klass,j=r.Opal,F=r.Kernel,y=r.def,ee=r.eqeqeq,Z=r.truthy,M=r.rb_gt,X=r.not,m=r.rb_lt,P=r.alias,$e=r.send2,Q=r.find_super,V=r.send,ne=r.rb_plus,Y=r.rb_minus,A=r.eqeq,E=r.return_self,U=r.rb_divide,K=r.to_ary,R=r.rb_times,G=r.rb_le,v=r.rb_ge,x=r.return_val,T=r.const_set,q=r.top,b=[],a=r.nil,d=r.$$$;return r.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__id__,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,next,coerce_to?"),q.$require("corelib/numeric"),function(k,h,_){var l=w(k,h,"Number");j.$bridge(Number,l),r.prop(l.$$prototype,"$$is_number",!0),l.$$is_number_class=!0;var H=new Map;(function(t,e){return y(t,"$allocate",function(){var s=this;return F.$raise(d("TypeError"),"allocator undefined for "+s.$name())}),r.udef(t,"$new"),a})(r.get_singleton_class(l)),y(l,"$coerce",function(e){var $=this;if(e===a)F.$raise(d("TypeError"),"can't convert "+e.$class()+" into Float");else{if(e.$$is_string)return[F.$Float(e),$];if(e["$respond_to?"]("to_f"))return[j["$coerce_to!"](e,d("Float"),"to_f"),$];if(e.$$is_number)return[e,$];F.$raise(d("TypeError"),"can't convert "+e.$class()+" into Float")}}),y(l,"$__id__",function(){var e=this;if(e|e===0)return e*2+1;if(H.has(e))return H.get(e);var $=r.uid();return H.set(e,$),$}),y(l,"$hash",function(){var e=this;return e|e===0?e.$__id__():e.toString().$hash()}),y(l,"$+",function(e){var $=this;return e.$$is_number?$+e:$.$__coerced__("+",e)}),y(l,"$-",function(e){var $=this;return e.$$is_number?$-e:$.$__coerced__("-",e)}),y(l,"$*",function(e){var $=this;return e.$$is_number?$*e:$.$__coerced__("*",e)}),y(l,"$/",function(e){var $=this;return e.$$is_number?$/e:$.$__coerced__("/",e)}),y(l,"$%",function(e){var $=this;if(e.$$is_number){if(e==-1/0)return e;if(e==0)F.$raise(d("ZeroDivisionError"),"divided by 0");else return e<0||$<0?($%e+e)%e:$%e}else return $.$__coerced__("%",e)}),y(l,"$&",function(e){var $=this;return e.$$is_number?$&e:$.$__coerced__("&",e)}),y(l,"$|",function(e){var $=this;return e.$$is_number?$|e:$.$__coerced__("|",e)}),y(l,"$^",function(e){var $=this;return e.$$is_number?$^e:$.$__coerced__("^",e)}),y(l,"$<",function(e){var $=this;return e.$$is_number?$<e:$.$__coerced__("<",e)}),y(l,"$<=",function(e){var $=this;return e.$$is_number?$<=e:$.$__coerced__("<=",e)}),y(l,"$>",function(e){var $=this;return e.$$is_number?$>e:$.$__coerced__(">",e)}),y(l,"$>=",function(e){var $=this;return e.$$is_number?$>=e:$.$__coerced__(">=",e)});var L=function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?a:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)};y(l,"$<=>",function(e){var $=this;try{return L($,e)}catch(s){if(r.rescue(s,[d("ArgumentError")]))try{return a}finally{r.pop_exception(s)}else throw s}}),y(l,"$<<",function(e){var $=this;return e=j["$coerce_to!"](e,d("Integer"),"to_int"),e>0?$<<e:$>>-e}),y(l,"$>>",function(e){var $=this;return e=j["$coerce_to!"](e,d("Integer"),"to_int"),e>0?$>>e:$<<-e}),y(l,"$[]",function(e){var $=this;return e=j["$coerce_to!"](e,d("Integer"),"to_int"),e<0?0:e>=32?$<0?1:0:$>>e&1}),y(l,"$+@",function(){var e=this;return+e}),y(l,"$-@",function(){var e=this;return-e}),y(l,"$~",function(){var e=this;return~e}),y(l,"$**",function(e){var $=this;return ee(d("Integer"),e)?X(d("Integer")["$==="]($))||Z(M(e,0))?Math.pow($,e):d("Rational").$new($,1)["$**"](e):Z(m($,0))&&(ee(d("Float"),e)||ee(d("Rational"),e))?d("Complex").$new($,0)["$**"](e.$to_f()):Z(e.$$is_number!=null)?Math.pow($,e):$.$__coerced__("**",e)}),y(l,"$==",function(e){var $=this;return e.$$is_number?$.valueOf()===e.valueOf():e["$respond_to?"]("==")?e["$=="]($):!1}),P(l,"===","=="),y(l,"$abs",function(){var e=this;return Math.abs(e)}),y(l,"$abs2",function(){var e=this;return Math.abs(e*e)}),y(l,"$allbits?",function(e){var $=this;return e=j["$coerce_to!"](e,d("Integer"),"to_int"),($&e)==e}),y(l,"$anybits?",function(e){var $=this;return e=j["$coerce_to!"](e,d("Integer"),"to_int"),($&e)!==0}),y(l,"$angle",function(){var e=this;return Z(e["$nan?"]())?e:e==0?1/e>0?0:Math.PI:e<0?Math.PI:0}),y(l,"$bit_length",function(){var e=this;if(ee(d("Integer"),e)||F.$raise(d("NoMethodError").$new("undefined method `bit_length` for "+e+":Float","bit_length")),e===0||e===-1)return 0;for(var $=0,s=e<0?~e:e;s!=0;)$+=1,s>>>=1;return $}),y(l,"$ceil",function(e){var $=this;e==null&&(e=0);var s=$.$to_f();if(s%1===0&&e>=0)return s;var o=Math.pow(10,e),g=Math.ceil(s*o)/o;return s%1===0&&(g=Math.round(g)),g},-1),y(l,"$chr",function(e){var $=this;return r.enc(String.fromCharCode($),e||"BINARY")},-1),y(l,"$denominator",function t(){var e=t.$$p||a,$=this;return t.$$p=null,Z($["$nan?"]())||Z($["$infinite?"]())?1:$e($,Q($,"denominator",t,!1,!0),"denominator",[],e)}),y(l,"$downto",function t(e){var $=t.$$p||a,s=this;if(t.$$p=null,$===a)return V(s,"enum_for",["downto",e],function g(){var z=g.$$s==null?this:g.$$s;return ee(d("Numeric"),e)||F.$raise(d("ArgumentError"),"comparison of "+z.$class()+" with "+e.$class()+" failed"),Z(M(e,z))?0:ne(Y(z,e),1)},{$$s:s});e.$$is_number||F.$raise(d("ArgumentError"),"comparison of "+s.$class()+" with "+e.$class()+" failed");for(var o=s;o>=e;o--)$(o);return s}),y(l,"$equal?",function(e){var $=this,s=a;return Z(s=$["$=="](e))?s:isNaN($)&&isNaN(e)}),y(l,"$even?",function(){var e=this;return e%2===0}),y(l,"$floor",function(e){var $=this;e==null&&(e=0);var s=$.$to_f();if(s%1===0&&e>=0)return s;var o=Math.pow(10,e),g=Math.floor(s*o)/o;return s%1===0&&(g=Math.round(g)),g},-1),y(l,"$gcd",function(e){var $=this;ee(d("Integer"),e)||F.$raise(d("TypeError"),"not an integer");for(var s=Math.abs($),o=Math.abs(e);s>0;){var g=s;s=o%s,o=g}return o}),y(l,"$gcdlcm",function(e){var $=this;return[$.$gcd(e),$.$lcm(e)]}),y(l,"$integer?",function(){var e=this;return e%1===0}),y(l,"$is_a?",function t(e){var $=t.$$p||a,s=this;return t.$$p=null,A(e,d("Integer"))&&ee(d("Integer"),s)||A(e,d("Integer"))&&ee(d("Integer"),s)||A(e,d("Float"))&&ee(d("Float"),s)?!0:$e(s,Q(s,"is_a?",t,!1,!0),"is_a?",[e],$)}),y(l,"$instance_of?",function t(e){var $=t.$$p||a,s=this;return t.$$p=null,A(e,d("Integer"))&&ee(d("Integer"),s)||A(e,d("Integer"))&&ee(d("Integer"),s)||A(e,d("Float"))&&ee(d("Float"),s)?!0:$e(s,Q(s,"instance_of?",t,!1,!0),"instance_of?",[e],$)}),y(l,"$lcm",function(e){var $=this;return ee(d("Integer"),e)||F.$raise(d("TypeError"),"not an integer"),$==0||e==0?0:Math.abs($*e/$.$gcd(e))}),y(l,"$next",function(){var e=this;return e+1}),y(l,"$nobits?",function(e){var $=this;return e=j["$coerce_to!"](e,d("Integer"),"to_int"),($&e)==0}),y(l,"$nonzero?",function(){var e=this;return e==0?a:e}),y(l,"$numerator",function t(){var e=t.$$p||a,$=this;return t.$$p=null,Z($["$nan?"]())||Z($["$infinite?"]())?$:$e($,Q($,"numerator",t,!1,!0),"numerator",[],e)}),y(l,"$odd?",function(){var e=this;return e%2!==0}),y(l,"$ord",E),y(l,"$pow",function(e,$){var s=this;return s==0&&F.$raise(d("ZeroDivisionError"),"divided by 0"),$===void 0?s["$**"](e):(d("Integer")["$==="](e)||F.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),e<0&&F.$raise(d("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),d("Integer")["$==="]($)||F.$raise(d("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),$===0&&F.$raise(d("ZeroDivisionError"),"divided by 0"),s["$**"](e)["$%"]($))},-2),y(l,"$pred",function(){var e=this;return e-1}),y(l,"$quo",function t(e){var $=t.$$p||a,s=this;return t.$$p=null,ee(d("Integer"),s)?$e(s,Q(s,"quo",t,!1,!0),"quo",[e],$):U(s,e)}),y(l,"$rationalize",function(e){var $,s,o=this,g=a,z=a;return arguments.length>1&&F.$raise(d("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ee(d("Integer"),o)?d("Rational").$new(o,1):Z(o["$infinite?"]())?F.$raise(d("FloatDomainError"),"Infinity"):Z(o["$nan?"]())?F.$raise(d("FloatDomainError"),"NaN"):Z(e==null)?(s=d("Math").$frexp(o),$=K(s),g=$[0]==null?a:$[0],z=$[1]==null?a:$[1],g=d("Math").$ldexp(g,d(d("Float"),"MANT_DIG")).$to_i(),z=Y(z,d(d("Float"),"MANT_DIG")),d("Rational").$new(R(2,g),1["$<<"](Y(1,z))).$rationalize(d("Rational").$new(1,1["$<<"](Y(1,z))))):o.$to_r().$rationalize(e)},-1),y(l,"$remainder",function(e){var $=this;return Y($,R(e,U($,e).$truncate()))}),y(l,"$round",function(e){var $,s,o=this,g=a;if(ee(d("Integer"),o)){if(Z(e==null)||(ee(d("Float"),e)&&Z(e["$infinite?"]())&&F.$raise(d("RangeError"),"Infinity"),e=j["$coerce_to!"](e,d("Integer"),"to_int"),Z(m(e,d(d("Integer"),"MIN")))&&F.$raise(d("RangeError"),"out of bounds"),Z(e>=0)))return o;if(e=e["$-@"](),.415241*e-.125>o.$size())return 0;var z=Math.pow(10,e),S=Math.floor((Math.abs(o)+z/2)/z)*z;return o<0?-S:S}else{if(Z(o["$nan?"]())&&Z(e==null)&&F.$raise(d("FloatDomainError"),"NaN"),e=j["$coerce_to!"](e||0,d("Integer"),"to_int"),Z(G(e,0)))Z(o["$nan?"]())?F.$raise(d("RangeError"),"NaN"):Z(o["$infinite?"]())&&F.$raise(d("FloatDomainError"),"Infinity");else{if(A(e,0))return Math.round(o);if(Z(o["$nan?"]())||Z(o["$infinite?"]()))return o}return s=d("Math").$frexp(o),$=K(s),$[0]==null||$[0],g=$[1]==null?a:$[1],Z(v(e,Y(ne(d(d("Float"),"DIG"),2),Z(M(g,0))?U(g,4):Y(U(g,3),1))))?o:Z(m(e,(Z(M(g,0))?ne(U(g,3),1):U(g,4))["$-@"]()))?0:Math.round(o*Math.pow(10,e))/Math.pow(10,e)}},-1),y(l,"$times",function t(){var e=t.$$p||a,$=this;if(t.$$p=null,!Z(e))return V($,"enum_for",["times"],function o(){var g=o.$$s==null?this:o.$$s;return g},{$$s:$});for(var s=0;s<$;s++)e(s);return $}),y(l,"$to_f",E),y(l,"$to_i",function(){var e=this;return e<0?Math.ceil(e):Math.floor(e)}),y(l,"$to_r",function(){var e,$,s=this,o=a,g=a;return ee(d("Integer"),s)?d("Rational").$new(s,1):($=d("Math").$frexp(s),e=K($),o=e[0]==null?a:e[0],g=e[1]==null?a:e[1],o=d("Math").$ldexp(o,d(d("Float"),"MANT_DIG")).$to_i(),g=Y(g,d(d("Float"),"MANT_DIG")),R(o,d(d("Float"),"RADIX")["$**"](g)).$to_r())}),y(l,"$to_s",function(e){var $=this;return e==null&&(e=10),e=j["$coerce_to!"](e,d("Integer"),"to_int"),(Z(m(e,2))||Z(M(e,36)))&&F.$raise(d("ArgumentError"),"invalid radix "+e),A($,0)&&Z(1/$===-1/0)?"-0.0":$.toString(e)},-1),y(l,"$truncate",function(e){var $=this;e==null&&(e=0);var s=$.$to_f();if(s%1===0&&e>=0)return s;var o=Math.pow(10,e),g=parseInt(s*o,10)/o;return s%1===0&&(g=Math.round(g)),g},-1),y(l,"$digits",function(e){var $=this;e==null&&(e=10),Z(m($,0))&&F.$raise(d(d("Math"),"DomainError"),"out of domain"),e=j["$coerce_to!"](e,d("Integer"),"to_int"),Z(m(e,2))&&F.$raise(d("ArgumentError"),"invalid radix "+e),$!=parseInt($)&&F.$raise(d("NoMethodError"),"undefined method `digits' for "+$.$inspect());var s=$,o=[];if($==0)return[0];for(;s!=0;)o.push(s%e),s=parseInt(s/e,10);return o},-1),y(l,"$divmod",function t(e){var $=t.$$p||a,s=this;return t.$$p=null,Z(s["$nan?"]())||Z(e["$nan?"]())?F.$raise(d("FloatDomainError"),"NaN"):Z(s["$infinite?"]())?F.$raise(d("FloatDomainError"),"Infinity"):$e(s,Q(s,"divmod",t,!1,!0),"divmod",[e],$)}),y(l,"$upto",function t(e){var $=t.$$p||a,s=this;if(t.$$p=null,$===a)return V(s,"enum_for",["upto",e],function g(){var z=g.$$s==null?this:g.$$s;return ee(d("Numeric"),e)||F.$raise(d("ArgumentError"),"comparison of "+z.$class()+" with "+e.$class()+" failed"),Z(m(e,z))?0:ne(Y(e,z),1)},{$$s:s});e.$$is_number||F.$raise(d("ArgumentError"),"comparison of "+s.$class()+" with "+e.$class()+" failed");for(var o=s;o<=e;o++)$(o);return s}),y(l,"$zero?",function(){var e=this;return e==0}),y(l,"$size",x(4)),y(l,"$nan?",function(){var e=this;return isNaN(e)}),y(l,"$finite?",function(){var e=this;return e!=1/0&&e!=-1/0&&!isNaN(e)}),y(l,"$infinite?",function(){var e=this;return e==1/0?1:e==-1/0?-1:a}),y(l,"$positive?",function(){var e=this;return e!=0&&(e==1/0||1/e>0)}),y(l,"$negative?",function(){var e=this;return e==-1/0||1/e<0});function f(t){var e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,t,!0),e}function u(t){return new DataView(t.buffer).getFloat64(0,!0)}function i(t){for(var e=f(t),$=0;$<e.length;$++)if(e[$]===255)e[$]=0;else{e[$]++;break}return u(e)}function n(t){for(var e=f(t),$=0;$<e.length;$++)if(e[$]===0)e[$]=255;else{e[$]--;break}return u(e)}return y(l,"$next_float",function(){var e=this;return A(e,d(d("Float"),"INFINITY"))?d(d("Float"),"INFINITY"):Z(e["$nan?"]())?d(d("Float"),"NAN"):Z(v(e,0))?i(Math.abs(e)):n(e)}),y(l,"$prev_float",function(){var e=this;return A(e,d(d("Float"),"INFINITY")["$-@"]())?d(d("Float"),"INFINITY")["$-@"]():Z(e["$nan?"]())?d(d("Float"),"NAN"):Z(M(e,0))?n(e):-i(Math.abs(e))}),P(l,"arg","angle"),P(l,"eql?","=="),P(l,"fdiv","/"),P(l,"inspect","to_s"),P(l,"kind_of?","is_a?"),P(l,"magnitude","abs"),P(l,"modulo","%"),P(l,"object_id","__id__"),P(l,"phase","angle"),P(l,"succ","next"),P(l,"to_int","to_i")}("::",d("Numeric")),T("::","Fixnum",d("Number")),function(k,h,_){var l=w(k,h,"Integer"),H=[l].concat(_);return l.$$is_number_class=!0,l.$$is_integer_class=!0,function(L,f){var u=[L].concat(f),i=r.$r(u);return y(L,"$allocate",function(){var t=this;return F.$raise(d("TypeError"),"allocator undefined for "+t.$name())}),r.udef(L,"$new"),y(L,"$sqrt",function(t){return t=j["$coerce_to!"](t,d("Integer"),"to_int"),t<0&&F.$raise(d(d("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)}),y(L,"$try_convert",function(t){var e=this;return i("Opal")["$coerce_to?"](t,e,"to_int")})}(r.get_singleton_class(l),H),T(l,"MAX",Math.pow(2,30)-1),T(l,"MIN",-Math.pow(2,30))}("::",d("Numeric"),b),function(k,h,_){var l=w(k,h,"Float");return l.$$is_number_class=!0,function(H,L){return y(H,"$allocate",function(){var u=this;return F.$raise(d("TypeError"),"allocator undefined for "+u.$name())}),r.udef(H,"$new"),y(H,"$===",function(u){return!!u.$$is_number})}(r.get_singleton_class(l)),T(l,"INFINITY",1/0),T(l,"MAX",Number.MAX_VALUE),T(l,"MIN",Number.MIN_VALUE),T(l,"NAN",NaN),T(l,"DIG",15),T(l,"MANT_DIG",53),T(l,"RADIX",2),T(l,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",d("Numeric"))};Opal.modules["corelib/range"]=function(r){var w=r.klass,j=r.truthy,F=r.Kernel,y=r.def,ee=r.not,Z=r.send2,M=r.find_super,X=r.lambda,m=r.send,P=r.rb_ge,$e=r.rb_gt,Q=r.eqeq,V=r.rb_le,ne=r.rb_lt,Y=r.eqeqeq,A=r.return_ivar,E=r.rb_minus,U=r.Opal,K=r.rb_divide,R=r.rb_plus,G=r.rb_times,v=r.thrower,x=r.alias,T=r.top,q=[],b=r.nil,a=r.$$$;return r.add_stubs("require,include,attr_reader,raise,nil?,<=>,cover?,!,begin,end,exclude_end?,then,call,>=,>,==,max,<=,<,enum_for,size,upto,to_proc,respond_to?,class,succ,===,eql?,try_convert,is_a?,any?,last,to_a,-,coerce_to!,ceil,/,new,loop,+,*,each_with_index,%,step,bsearch,inspect,[],hash,include?"),T.$require("corelib/enumerable"),function(d,k,h){var _=w(d,k,"Range"),l=[_].concat(h),H=r.$r(l),L=_.$$prototype;L.begin=L.end=L.excl=b,_.$include(a("Enumerable")),_.$$prototype.$$is_range=!0,_.$attr_reader("begin","end"),y(_,"$initialize",function(i,n,t){var e=this;return t==null&&(t=!1),j(e.begin)&&F.$raise(a("NameError"),"'initialize' called twice"),j(i["$<=>"](n))||j(i["$nil?"]())||j(n["$nil?"]())||F.$raise(a("ArgumentError"),"bad value for range"),e.begin=i,e.end=n,e.excl=t},-3),y(_,"$===",function(i){var n=this;return j(i.$$is_range)?!1:n["$cover?"](i)});function f(u){return u.begin===b||u.end===b||u.begin===-1/0||u.end===1/0||u.begin===1/0||u.end===-1/0}return y(_,"$count",function u(){var i=u.$$p||b,n=this;return u.$$p=null,ee(i!==b)&&j(f(n))?a(a("Float"),"INFINITY"):Z(n,M(n,"count",u,!1,!0),"count",[],i)}),y(_,"$to_a",function u(){var i=u.$$p||b,n=this;return u.$$p=null,j(f(n))&&F.$raise(a("TypeError"),"cannot convert endless range to an array"),Z(n,M(n,"to_a",u,!1,!0),"to_a",[],i)}),y(_,"$cover?",function(i){var n=this,t=b,e=b,$=b,s=b,o=b,g=b,z=b,S=b;return t=X(function(B,O){var se=b;return B==null&&(B=b),O==null&&(O=b),j(se=B["$<=>"](O))?se:1}),j(i.$$is_range)?(e=i.$begin(),$=i.$end(),s=i["$exclude_end?"](),j(n.begin)&&j(e["$nil?"]())||j(n.end)&&j($["$nil?"]())||j(e)&&j($)&&j(m(t.$call(e,$),"then",[],function(B){return B==null&&(B=b),j(s)?P(B,0):$e(B,0)}))||j(e)&&ee(n["$cover?"](e))?!1:(o=t.$call(n.end,$),Q(n.excl,s)?P(o,0):j(n.excl)?$e(o,0):j(P(o,0))?!0:(g=i.$max(),j(z=g["$nil?"]()["$!"]())?V(t.$call(g,n.end),0):z))):j(n.begin)&&j($e(t.$call(n.begin,i),0))?!1:j(n.end["$nil?"]())?!0:(S=t.$call(i,n.end),j(n.excl)?ne(S,0):V(S,0))}),y(_,"$each",function u(){var i=u.$$p||b,n=this,t=b,e=b,$=b;if(u.$$p=null,i===b)return m(n,"enum_for",["each"],function g(){var z=g.$$s==null?this:g.$$s;return z.$size()},{$$s:n});var s,o;if(n.begin.$$is_number&&n.end.$$is_number){for((n.begin%1!==0||n.end%1!==0)&&F.$raise(a("TypeError"),"can't iterate from Float"),s=n.begin,o=n.end+(j(n.excl)?0:1);s<o;s++)i(s);return n}if(n.begin.$$is_string&&n.end.$$is_string)return m(n.begin,"upto",[n.end,n.excl],i.$to_proc()),n;for(t=n.begin,e=n.end,j(t["$respond_to?"]("succ"))||F.$raise(a("TypeError"),"can't iterate from "+t.$class());j(j($=n.end["$nil?"]())?$:ne(t["$<=>"](e),0));)r.yield1(i,t),t=t.$succ();return ee(n.excl)&&Q(t,e)&&r.yield1(i,t),n}),y(_,"$eql?",function(i){var n=this,t=b,e=b;return Y(a("Range"),i)?j(t=j(e=n.excl["$==="](i["$exclude_end?"]()))?n.begin["$eql?"](i.$begin()):e)?n.end["$eql?"](i.$end()):t:!1}),y(_,"$exclude_end?",A("excl")),y(_,"$first",function u(i){var n=u.$$p||b,t=this;return u.$$p=null,j(t.begin["$nil?"]())&&F.$raise(a("RangeError"),"cannot get the minimum of beginless range"),j(i==null)?t.begin:Z(t,M(t,"first",u,!1,!0),"first",[i],n)},-1),y(_,"$include?",function u(i){var n=u.$$p||b,t=this,e=b,$=b;if(u.$$p=null,j(t.begin.$$is_number||t.end.$$is_number)||j(t.begin["$is_a?"](a("Time")))||j(t.end["$is_a?"](a("Time")))||j(a("Integer").$try_convert(t.begin))||j(a("Integer").$try_convert(t.end)))return t["$cover?"](i);if(j(t.begin.$$is_string||t.end.$$is_string)){if(j(t.begin.$$is_string&&t.end.$$is_string))return m(t.begin.$upto(t.end,t.excl),"any?",[],function(o){return o==null&&(o=b),o["$=="](i)});if(j(t.begin["$nil?"]()))return e=i["$<=>"](t.end),j($=e["$nil?"]()["$!"]())?j(t.excl)?ne(e,0):V(e,0):$;if(j(t.end["$nil?"]()))return e=t.begin["$<=>"](i),j($=e["$nil?"]()["$!"]())?V(e,0):$}return Z(t,M(t,"include?",u,!1,!0),"include?",[i],n)}),y(_,"$last",function(i){var n=this;return j(n.end["$nil?"]())&&F.$raise(a("RangeError"),"cannot get the maximum of endless range"),j(i==null)?n.end:n.$to_a().$last(i)},-1),y(_,"$max",function u(){var i=u.$$p||b,n=this;return u.$$p=null,j(n.end["$nil?"]())?F.$raise(a("RangeError"),"cannot get the maximum of endless range"):i!==b?Z(n,M(n,"max",u,!1,!0),"max",[],i):ee(n.begin["$nil?"]())&&(j($e(n.begin,n.end))||j(n.excl)&&Q(n.begin,n.end))?b:n.excl?n.end-1:n.end}),y(_,"$min",function u(){var i=u.$$p||b,n=this;return u.$$p=null,j(n.begin["$nil?"]())?F.$raise(a("RangeError"),"cannot get the minimum of beginless range"):i!==b?Z(n,M(n,"min",u,!1,!0),"min",[],i):ee(n.end["$nil?"]())&&(j($e(n.begin,n.end))||j(n.excl)&&Q(n.begin,n.end))?b:n.begin}),y(_,"$size",function(){var i=this.begin,n=this.end;if(a("Numeric")["$==="](i)){if(a("Numeric")["$==="](n)){var t=E(n,i);return t<0?0:(this.excl||(t+=1),a("Float")["$==="](i)||a("Float")["$==="](n)?Math.floor(t):t)}else if(n===b)return 1/0}else if(i===b&&a("Numeric")["$==="](n))return 1/0;return b}),y(_,"$step",function u(i){var n=u.$$p||b,t=this,e=b,$=b;u.$$p=null;function s(){i==null?i=1:i.$$is_number||(i=U["$coerce_to!"](i,a("Integer"),"to_int")),i<0?F.$raise(a("ArgumentError"),"step can't be negative"):i===0&&F.$raise(a("ArgumentError"),"step can't be 0")}function o(){if(!t.begin["$respond_to?"]("succ")||t.begin.$$is_string&&t.end.$$is_string)return b;if(i%1===0)return K(t.$size(),i).$ceil();var g=t.begin,z=t.end,S=Math.abs,I=Math.floor,B=(S(g)+S(z)+S(z-g))/S(i)*a(a("Float"),"EPSILON"),O;return B>.5&&(B=.5),t.excl?(O=I((z-g)/i-B),O*i+g<z&&O++):O=I((z-g)/i+B)+1,O}return n===b?(j(t.begin["$is_a?"](H("Numeric")))||j(t.begin["$nil?"]()))&&(j(t.end["$is_a?"](H("Numeric")))||j(t.end["$nil?"]()))&&ee(j(e=t.begin["$nil?"]())?t.end["$nil?"]():e)?a(a("Enumerator"),"ArithmeticSequence").$new(t,i,"step"):m(t,"enum_for",["step",i],function(){return s(),o()}):(s(),j(t.begin.$$is_number&&t.end.$$is_number)?($=0,function(){try{var g=v("break");return m(t,"loop",[],function z(){var S=z.$$s==null?this:z.$$s,I=b;return S.begin==null&&(S.begin=b),S.excl==null&&(S.excl=b),S.end==null&&(S.end=b),I=R(S.begin,G($,i)),j(S.excl)?j(P(I,S.end))&&g.$throw(b,z.$$is_lambda):j($e(I,S.end))&&g.$throw(b,z.$$is_lambda),r.yield1(n,I),$=R($,1)},{$$s:t})}catch(z){if(z===g)return z.$v;throw z}finally{g.is_orphan=!0}}()):(t.begin.$$is_string&&t.end.$$is_string&&i%1!==0&&F.$raise(a("TypeError"),"no implicit conversion to float from string"),m(t,"each_with_index",[],function(z,S){return z==null&&(z=b),S==null&&(S=b),Q(S["$%"](i),0)?r.yield1(n,z):b})),t)},-1),y(_,"$%",function(i){var n=this;return j(n.begin["$is_a?"](H("Numeric")))&&j(n.end["$is_a?"](H("Numeric")))?a(a("Enumerator"),"ArithmeticSequence").$new(n,i,"%"):n.$step(i)}),y(_,"$bsearch",function u(){var i=u.$$p||b,n=this;return u.$$p=null,i===b?n.$enum_for("bsearch"):(j(f(n)&&(n.begin.$$is_number||n.end.$$is_number))&&F.$raise(a("NotImplementedError"),"Can't #bsearch an infinite range"),j(n.begin.$$is_number&&n.end.$$is_number)||F.$raise(a("TypeError"),"can't do binary search for "+n.begin.$class()),m(n.$to_a(),"bsearch",[],i.$to_proc()))}),y(_,"$to_s",function(){var i=this,n=b;return""+(j(n=i.begin)?n:"")+(j(i.excl)?"...":"..")+(j(n=i.end)?n:"")}),y(_,"$inspect",function(){var i=this,n=b;return""+(j(n=i.begin)?i.begin.$inspect():n)+(j(i.excl)?"...":"..")+(j(n=i.end)?i.end.$inspect():n)}),y(_,"$marshal_load",function(i){var n=this;return n.begin=i["$[]"]("begin"),n.end=i["$[]"]("end"),n.excl=i["$[]"]("excl")}),y(_,"$hash",function(){var i=this;return[a("Range"),i.begin,i.end,i.excl].$hash()}),x(_,"==","eql?"),x(_,"member?","include?")}("::",null,q)};Opal.modules["corelib/proc"]=function(r){var w=r.slice,j=r.each_ivar,F=r.klass,y=r.truthy,ee=r.Kernel,Z=r.defs,M=r.def,X=r.send,m=r.to_a,P=r.return_self,$e=r.ensure_kwargs,Q=r.hash_get,V=r.Opal,ne=r.alias,Y=r.nil,A=r.$$$;return r.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(E,U){var K=F(E,U,"Proc");r.prop(K.$$prototype,"$$is_proc",!0),r.prop(K.$$prototype,"$$is_lambda",!1),Z(K,"$new",function v(){var x=v.$$p||Y;return v.$$p=null,y(x)||ee.$raise(A("ArgumentError"),"tried to create a Proc object without a block"),x});function R(v,x){if(v.$$ret)try{return v.apply(null,x)}catch(T){if(T===v.$$ret)return T.$v;throw T}else return v.apply(null,x)}function G(v,x){if(v.$$brk)try{return r.yieldX(v,x)}catch(T){if(T===v.$$brk)return T.$v;throw T}else return r.yieldX(v,x)}return M(K,"$call",function v(x){var T=v.$$p||Y,q,b,a=this;return v.$$p=null,q=w(arguments),b=q,T!==Y&&(a.$$p=T),a.$$is_lambda?R(a,b):G(a,b)},-1),M(K,"$>>",function v(x){v.$$p;var T=this;return v.$$p=null,X(ee,"proc",[],function q(b){var a=q.$$p||Y,d,k,h=q.$$s==null?this:q.$$s,_=Y;return q.$$p=null,d=w(arguments),k=d,_=X(h,"call",m(k),a.$to_proc()),x.$call(_)},{$$arity:-1,$$s:T})}),M(K,"$<<",function v(x){v.$$p;var T=this;return v.$$p=null,X(ee,"proc",[],function q(b){var a=q.$$p||Y,d,k,h=q.$$s==null?this:q.$$s,_=Y;return q.$$p=null,d=w(arguments),k=d,_=X(x,"call",m(k),a.$to_proc()),h.$call(_)},{$$arity:-1,$$s:T})}),M(K,"$to_proc",P),M(K,"$lambda?",function(){var x=this;return!!x.$$is_lambda}),M(K,"$arity",function(){var x=this;return x.$$is_curried?-1:x.$$arity!=null?x.$$arity:x.length}),M(K,"$source_location",function(){var x=this,T=Y;return x.$$is_curried?Y:y(T=x.$$source_location)?T:Y}),M(K,"$binding",function(){var x=this;return x.$$is_curried&&ee.$raise(A("ArgumentError"),"Can't create Binding"),y(A("::","Binding","skip_raise")?"constant":Y)?A("Binding").$new(Y,[],x.$$s,x.$source_location()):Y}),M(K,"$parameters",function(x){var T,q=this;if(x=$e(x),T=Q(x,"lambda"),q.$$is_curried)return[["rest"]];if(q.$$parameters){if(T??q.$$is_lambda)return q.$$parameters;var b=[],a,d;for(a=0,d=q.$$parameters.length;a<d;a++){var k=q.$$parameters[a];k[0]==="req"&&(k=["opt",k[1]]),b.push(k)}return b}else return[]},-1),M(K,"$curry",function(x){var T=this;x===void 0?x=T.length:(x=V["$coerce_to!"](x,A("Integer"),"to_int"),T.$$is_lambda&&x!==T.length&&ee.$raise(A("ArgumentError"),"wrong number of arguments ("+x+" for "+T.length+")"));function q(){var b=w(arguments),a=b.length,d;return a>x&&T.$$is_lambda&&!T.$$is_curried&&ee.$raise(A("ArgumentError"),"wrong number of arguments ("+a+" for "+x+")"),a>=x?T.$call.apply(T,b):(d=function(){return q.apply(null,b.concat(w(arguments)))},d.$$is_lambda=T.$$is_lambda,d.$$is_curried=!0,d)}return q.$$is_lambda=T.$$is_lambda,q.$$is_curried=!0,q},-1),M(K,"$dup",function(){var x=this,T=x.$$original_proc||x,q=function(){return T.apply(this,arguments)};return j(x,function(b){q[b]=x[b]}),q}),ne(K,"===","call"),ne(K,"clone","dup"),ne(K,"yield","call"),ne(K,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(r){var w=r.klass,j=r.def,F=r.truthy,y=r.slice,ee=r.alias,Z=r.Kernel,M=r.send,X=r.to_a,m=r.nil,P=r.$$$;return r.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function($e,Q){var V=w($e,Q,"Method"),ne=V.$$prototype;return ne.method=ne.receiver=ne.owner=ne.name=m,V.$attr_reader("owner","receiver","name"),j(V,"$initialize",function(A,E,U,K){var R=this;return R.receiver=A,R.owner=E,R.name=K,R.method=U}),j(V,"$arity",function(){var A=this;return A.method.$arity()}),j(V,"$parameters",function(){var A=this;return A.method.$$parameters}),j(V,"$source_location",function(){var A=this,E=m;return F(E=A.method.$$source_location)?E:["(eval)",0]}),j(V,"$comments",function(){var A=this,E=m;return F(E=A.method.$$comments)?E:[]}),j(V,"$call",function Y(A){var E=Y.$$p||m,U,K,R=this;return Y.$$p=null,U=y(arguments),K=U,R.method.$$p=E,R.method.apply(R.receiver,K)},-1),j(V,"$curry",function(A){var E=this;return E.method.$curry(A)},-1),j(V,"$>>",function(A){var E=this;return E.method["$>>"](A)}),j(V,"$<<",function(A){var E=this;return E.method["$<<"](A)}),j(V,"$unbind",function(){var A=this;return P("UnboundMethod").$new(A.receiver.$class(),A.owner,A.method,A.name)}),j(V,"$to_proc",function(){var A=this,E=A.$call.bind(A);return E.$$unbound=A.method,E.$$is_lambda=!0,E.$$arity=A.method.$$arity==null?A.method.length:A.method.$$arity,E.$$parameters=A.method.$$parameters,E}),j(V,"$inspect",function(){var A=this;return"#<"+A.$class()+": "+A.receiver.$class()+"#"+A.name+" (defined in "+A.owner+" in "+A.$source_location().$join(":")+")>"}),ee(V,"[]","call"),ee(V,"===","call")}("::",null),function($e,Q){var V=w($e,Q,"UnboundMethod"),ne=V.$$prototype;return ne.method=ne.owner=ne.name=ne.source=m,V.$attr_reader("source","owner","name"),j(V,"$initialize",function(A,E,U,K){var R=this;return R.source=A,R.owner=E,R.method=U,R.name=K,R.$$method=U}),j(V,"$arity",function(){var A=this;return A.method.$arity()}),j(V,"$parameters",function(){var A=this;return A.method.$$parameters}),j(V,"$source_location",function(){var A=this,E=m;return F(E=A.method.$$source_location)?E:["(eval)",0]}),j(V,"$comments",function(){var A=this,E=m;return F(E=A.method.$$comments)?E:[]}),j(V,"$bind",function(A){var E=this;if(E.owner.$$is_module||r.is_a(A,E.owner))return P("Method").$new(A,E.owner,E.method,E.name);Z.$raise(P("TypeError"),"can't bind singleton method to a different class (expected "+A+".kind_of?("+E.owner+" to be true)")}),j(V,"$bind_call",function Y(A,E){var U=Y.$$p||m,K,R,G=this;return Y.$$p=null,K=y(arguments,1),R=K,M(G.$bind(A),"call",X(R),U.$to_proc())},-2),j(V,"$inspect",function(){var A=this;return"#<"+A.$class()+": "+A.source+"#"+A.name+" (defined in "+A.owner+" in "+A.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(r){var w=r.gvars,j=r.const_set,F=r.Object,y=r.nil;return r.add_stubs("new"),w["&"]=w["~"]=w["`"]=w["'"]=y,w.LOADED_FEATURES=w['"']=r.loaded_features,w.LOAD_PATH=w[":"]=[],w["/"]=`
`,w[","]=y,j("::","ARGV",[]),j("::","ARGF",F.$new()),j("::","ENV",new Map),w.VERBOSE=!1,w.DEBUG=!1,w.SAFE=0};Opal.modules["corelib/io"]=function(r){var w=r.klass,j=r.const_set,F=r.not,y=r.truthy,ee=r.def,Z=r.return_ivar,M=r.return_val,X=r.slice,m=r.Kernel,P=r.gvars,$e=r.send,Q=r.to_a,V=r.rb_plus,ne=r.neqeq,Y=r.range,A=r.eqeq,E=r.to_ary,U=r.rb_gt,K=r.assign_ivar_val,R=r.alias,G,v=r.nil,x=r.$$$;r.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(q,b){var a=w(q,b,"IO"),d=a.$$prototype;return d.read_buffer=d.closed=v,j(a,"SEEK_SET",0),j(a,"SEEK_CUR",1),j(a,"SEEK_END",2),j(a,"SEEK_DATA",3),j(a,"SEEK_HOLE",4),j(a,"READABLE",1),j(a,"WRITABLE",4),a.$attr_reader("eof"),a.$attr_accessor("read_proc","sync","tty","write_proc"),ee(a,"$initialize",function(h,_){var l=this;return _==null&&(_="r"),l.fd=h,l.flags=_,l.eof=!1,y(_["$include?"]("r"))&&F(_["$match?"](/[wa+]/))?l.closed="write":y(_["$match?"](/[wa]/))&&F(_["$match?"](/[r+]/))?l.closed="read":v},-2),ee(a,"$fileno",Z("fd")),ee(a,"$tty?",function(){var h=this;return h.tty==!0}),ee(a,"$write",function(h){var _=this;return _.write_proc(h),h.$size()}),ee(a,"$flush",M(v)),ee(a,"$<<",function(h){var _=this;return _.$write(h),_}),ee(a,"$print",function(h){var _,l,H=this;P[","]==null&&(P[","]=v),_=X(arguments),l=_;for(var L=0,f=l.length;L<f;L++)l[L]=m.$String(l[L]);return H.$write(l.join(P[","])),v},-1),ee(a,"$puts",function(h){var _,l,H=this;_=X(arguments),l=_;var L;if(l.length===0)return H.$write(`
`),v;for(var f=0,u=l.length;f<u;f++)if(l[f].$$is_array){var i=l[f].$flatten();i.length>0&&$e(H,"puts",Q(i))}else l[f].$$is_string?L=l[f].valueOf():L=m.$String(l[f]),L.endsWith(`
`)||(L+=`
`),H.$write(L);return v},-1),ee(a,"$getc",function(){var h=this,_=v,l=v,H=v;h.read_buffer=y(_=h.read_buffer)?_:"",l="";do if(h.read_buffer=V(h.read_buffer,l),ne(h.read_buffer,""))return H=h.read_buffer["$[]"](0),h.read_buffer=h.read_buffer["$[]"](Y(1,-1,!1)),H;while(y(l=h.$sysread_noraise(1)));return v}),ee(a,"$getbyte",function(){var h,_=this;return h=_.$getc(),h===v||h==null?v:h.$ord()}),ee(a,"$readbyte",function(){var h=this;return h.$readchar().$ord()}),ee(a,"$readchar",function(){var h=this,_=v;return y(_=h.$getc())?_:m.$raise(x("EOFError"),"end of file reached")}),ee(a,"$readline",function(h){var _,l,H=this,L=v;return _=X(arguments),l=_,y(L=$e(H,"gets",Q(l)))?L:m.$raise(x("EOFError"),"end of file reached")},-1),ee(a,"$gets",function(h,_,l){var H,L,f=this,u=v,i=v,n=v,t=v,e=v,$=v;P["/"]==null&&(P["/"]=v),h==null&&(h=!1),_==null&&(_=v),l==null&&(l=new Map),y(h.$$is_number)&&F(_)&&(H=[!1,h,_],h=H[0],_=H[1],l=H[2]),y(h.$$is_hash)&&F(_)&&A(l,new Map)?(H=[!1,v,h],h=H[0],_=H[1],l=H[2]):y(_.$$is_hash)&&A(l,new Map)&&(H=[h,v,_],h=H[0],_=H[1],l=H[2]),u=h,A(h,!1)&&(h=P["/"]),A(h,"")&&(h=/\r?\n\r?\n/),h=y(i=h)?i:"",A(u,"")||(h=h.$to_str()),n=A(u,"")?2:h.$length(),A(h," ")&&(h=/ /),f.read_buffer=y(i=f.read_buffer)?i:"",t="",e=v;do if(f.read_buffer=V(f.read_buffer,t),ne(h,"")&&y(y(h.$$is_regexp)?f.read_buffer["$match?"](h):f.read_buffer["$include?"](h))){$=f.read_buffer,L=f.read_buffer.$split(h,2),H=E(L),e=H[0]==null?v:H[0],f.read_buffer=H[1]==null?v:H[1],ne(e,$)&&(e=V(e,$["$[]"](e.$length(),n)));break}while(y(t=f.$sysread_noraise(A(h,"")?65536:1)));return y(e)||(H=[y(i=f.read_buffer)?i:"",""],e=H[0],f.read_buffer=H[1],A(e,"")&&(e=v)),y(e)&&(y(_)&&(e=e["$[]"](r.Range.$new(0,_,!0)),f.read_buffer=V(e["$[]"](r.Range.$new(_,-1,!1)),f.read_buffer)),y(l["$[]"]("chomp"))&&(e=e.$sub(/\r?\n$/,"")),A(u,"")&&(e=e.$sub(/^[\r\n]+/,""))),A(u,!1)&&(P._=e),e},-1),ee(a,"$sysread",function(h){var _=this,l=v;return y(l=_.read_proc(h))?l:(_.eof=!0,m.$raise(x("EOFError"),"end of file reached"))}),ee(a,"$sysread_noraise",function(h){var _=this;try{return _.$sysread(h)}catch(l){if(r.rescue(l,[x("EOFError")]))try{return v}finally{r.pop_exception(l)}else throw l}}),ee(a,"$readpartial",function(h){var _,l=this,H=v,L=v,f=v;return l.read_buffer=y(H=l.read_buffer)?H:"",L=l.$sysread(h),_=[V(l.read_buffer,y(H=L)?H:""),""],f=_[0],l.read_buffer=_[1],A(f,"")&&(f=v),f}),ee(a,"$read",function(h){var _,l=this,H=v,L=v,f=v;h==null&&(h=v),l.read_buffer=y(H=l.read_buffer)?H:"",L="",f=v;do if(l.read_buffer=V(l.read_buffer,L),y(h)&&y(U(l.read_buffer.$length(),h)))return _=[l.read_buffer["$[]"](r.Range.$new(0,h,!0)),l.read_buffer["$[]"](r.Range.$new(h,-1,!1))],f=_[0],l.read_buffer=_[1],f;while(y(L=l.$sysread_noraise(y(H=h)?H:65536)));return _=[l.read_buffer,""],f=_[0],l.read_buffer=_[1],f},-1),ee(a,"$readlines",function(h){var _=this;return P["/"]==null&&(P["/"]=v),h==null&&(h=P["/"]),_.$each_line(h).$to_a()},-1),ee(a,"$each",function k(h,_){var l=k.$$p||v,H,L,f,u=this,i=v;if(P["/"]==null&&(P["/"]=v),k.$$p=null,H=X(arguments),H.length>0&&(L=H.shift()),L==null&&(L=P["/"]),f=H,l===v)return $e(u,"enum_for",["each",L].concat(Q(f)));for(;y(i=$e(u,"gets",[L].concat(Q(f))));)r.yield1(l,i);return u},-1),ee(a,"$each_byte",function k(){var h=k.$$p||v,_=this,l=v;if(k.$$p=null,h===v)return _.$enum_for("each_byte");for(;y(l=_.$getbyte());)r.yield1(h,l);return _}),ee(a,"$each_char",function k(){var h=k.$$p||v,_=this,l=v;if(k.$$p=null,h===v)return _.$enum_for("each_char");for(;y(l=_.$getc());)r.yield1(h,l);return _}),ee(a,"$close",K("closed","both")),ee(a,"$close_read",function(){var h=this;return A(h.closed,"write")?h.closed="both":h.closed="read"}),ee(a,"$close_write",function(){var h=this;return A(h.closed,"read")?h.closed="both":h.closed="write"}),ee(a,"$closed?",function(){var h=this;return h.closed["$=="]("both")}),ee(a,"$closed_read?",function(){var h=this,_=v;return y(_=h.closed["$=="]("read"))?_:h.closed["$=="]("both")}),ee(a,"$closed_write?",function(){var h=this,_=v;return y(_=h.closed["$=="]("write"))?_:h.closed["$=="]("both")}),ee(a,"$check_writable",function(){var h=this;return y(h["$closed_write?"]())?m.$raise(x("IOError"),"not opened for writing"):v}),ee(a,"$check_readable",function(){var h=this;return y(h["$closed_read?"]())?m.$raise(x("IOError"),"not opened for reading"):v}),R(a,"each_line","each"),R(a,"eof?","eof")}("::",null),j("::","STDIN",P.stdin=x("IO").$new(0,"r")),j("::","STDOUT",P.stdout=x("IO").$new(1,"w")),j("::","STDERR",P.stderr=x("IO").$new(2,"w"));var T=r.global.console;return x("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(q){process.stdout.write(q)}:function(q){T.log(q)}),x("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(q){process.stderr.write(q)}:function(q){T.warn(q)}),G=[function(q){var b=prompt();return b!==null?b+`
`:v}],$e(x("STDIN"),"read_proc=",G),G[G.length-1]};Opal.modules["opal/regexp_anchors"]=function(r){var w=r.module,j=r.const_set,F=[];r.nil;var y=r.$$$;return r.add_stubs("new"),function(ee,Z){var M=w(ee,"Opal"),X=[M].concat(Z),m=r.$r(X);return j(M,"REGEXP_START","^"),j(M,"REGEXP_END","$"),j(M,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),j(M,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),j(M,"INLINE_IDENTIFIER_REGEXP",m("Regexp").$new("[^"+y(M,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+y(M,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),j(M,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),j(M,"CONST_NAME_REGEXP",m("Regexp").$new(""+y(M,"REGEXP_START")+"(::)?[A-Z][^"+y(M,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+y(M,"REGEXP_END")))}(F[0],F)};Opal.modules["opal/mini"]=function(r){var w=r.Object;return r.nil,r.add_stubs("require"),w.$require("opal/base"),w.$require("corelib/nil"),w.$require("corelib/boolean"),w.$require("corelib/string"),w.$require("corelib/comparable"),w.$require("corelib/enumerable"),w.$require("corelib/enumerator"),w.$require("corelib/array"),w.$require("corelib/hash"),w.$require("corelib/number"),w.$require("corelib/range"),w.$require("corelib/proc"),w.$require("corelib/method"),w.$require("corelib/regexp"),w.$require("corelib/variables"),w.$require("corelib/io"),w.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(r){var w=r.coerce_to,j=r.module,F=r.slice,y=r.truthy,ee=r.eqeq,Z=r.Opal,M=r.Kernel,X=r.gvars,m=r.def,P=r.alias,$e=r.nil,Q=r.$$$;return r.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(V){var ne=j(V,"Kernel");return m(ne,"$format",function(A,E){var U,K,R=$e;X.DEBUG==null&&(X.DEBUG=$e),U=F(arguments,1),K=U,ee(K.$length(),1)&&y(K["$[]"](0)["$respond_to?"]("to_ary"))&&(R=Z["$coerce_to?"](K["$[]"](0),Q("Array"),"to_ary"),y(R["$nil?"]())||(K=R.$to_a()));var G="",v=0,x,T,q=A.length,b,a,d,k,h,_,l,H,L,f,u,i,n,t=1,e=0,$,s=0,o=1,g=2,z=4,S=8,I=16,B=32,O=64,se=128;function le(){$&B&&M.$raise(Q("ArgumentError"),"flag after width"),$&se&&M.$raise(Q("ArgumentError"),"flag after precision")}function fe(){$&B&&M.$raise(Q("ArgumentError"),"width given twice"),$&se&&M.$raise(Q("ArgumentError"),"width after precision")}function de(N){return N>=K.length&&M.$raise(Q("ArgumentError"),"too few arguments"),K[N]}function he(){switch(e){case-1:M.$raise(Q("ArgumentError"),"unnumbered("+t+") mixed with numbered");case-2:M.$raise(Q("ArgumentError"),"unnumbered("+t+") mixed with named")}return e=t++,de(e-1)}function ve(N){return e>0&&M.$raise(Q("ArgumentError"),"numbered("+N+") after unnumbered("+e+")"),e===-2&&M.$raise(Q("ArgumentError"),"numbered("+N+") after named"),N<1&&M.$raise(Q("ArgumentError"),"invalid index - "+N+"$"),e=-1,de(N-1)}function me(){return n===void 0?he():n}function be(N){for(var C,J="";;T++){if(T===q&&M.$raise(Q("ArgumentError"),"malformed format string - %*[0-9]"),A.charCodeAt(T)<48||A.charCodeAt(T)>57)return T--,C=parseInt(J,10)||0,C>2147483647&&M.$raise(Q("ArgumentError"),""+N+" too big"),C;J+=A.charAt(T)}}function ie(N){var C,J=be(N);return A.charAt(T+1)==="$"?(T++,C=ve(J)):C=he(),C.$to_int()}for(T=A.indexOf("%");T!==-1;T=A.indexOf("%",T)){switch(a=void 0,$=s,k=-1,h=-1,n=void 0,x=T,T++,A.charAt(T)){case"%":v=T;case"":case`
`:case"\0":T++;continue}e:for(;T<q;T++)switch(A.charAt(T)){case" ":le(),$|=I;continue e;case"#":le(),$|=o;continue e;case"+":le(),$|=z;continue e;case"-":le(),$|=g;continue e;case"0":le(),$|=S;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(_=be("width"),A.charAt(T+1)==="$"){if(T+2===q){a="%",T++;break e}n!==void 0&&M.$raise(Q("ArgumentError"),"value given twice - %"+_+"$"),n=ve(_),T++}else fe(),$|=B,k=_;continue e;case"<":case"{":for(H=A.charAt(T)==="<"?">":"}",l="",T++;;T++){if(T===q&&M.$raise(Q("ArgumentError"),"malformed name - unmatched parenthesis"),A.charAt(T)===H){if(e>0&&M.$raise(Q("ArgumentError"),"named "+l+" after unnumbered("+e+")"),e===-1&&M.$raise(Q("ArgumentError"),"named "+l+" after numbered"),e=-2,(K[0]===void 0||!K[0].$$is_hash)&&M.$raise(Q("ArgumentError"),"one hash required"),n=K[0].$fetch(l),H===">")continue e;if(a=n.toString(),h!==-1&&(a=a.slice(0,h)),$&g)for(;a.length<k;)a=a+" ";else for(;a.length<k;)a=" "+a;break e}l+=A.charAt(T)}case"*":T++,fe(),$|=B,k=ie("width"),k<0&&($|=g,k=-k);continue e;case".":if($&se&&M.$raise(Q("ArgumentError"),"precision given twice"),$|=O|se,h=0,T++,A.charAt(T)==="*"){T++,h=ie("precision"),h<0&&($&=~O);continue e}h=be("precision");continue e;case"d":case"i":case"u":if(b=M.$Integer(me()),b>=0){for(a=b.toString();a.length<h;)a="0"+a;if($&g)for(($&z||$&I)&&(a=($&z?"+":" ")+a);a.length<k;)a=a+" ";else if($&S&&h===-1){for(;a.length<k-($&z||$&I?1:0);)a="0"+a;($&z||$&I)&&(a=($&z?"+":" ")+a)}else for(($&z||$&I)&&(a=($&z?"+":" ")+a);a.length<k;)a=" "+a}else{for(a=(-b).toString();a.length<h;)a="0"+a;if($&g)for(a="-"+a;a.length<k;)a=a+" ";else if($&S&&h===-1){for(;a.length<k-1;)a="0"+a;a="-"+a}else for(a="-"+a;a.length<k;)a=" "+a}break e;case"b":case"B":case"o":case"x":case"X":switch(A.charAt(T)){case"b":case"B":L=2,f="0b",u=/^1+/,i="1";break;case"o":L=8,f="0",u=/^3?7+/,i="7";break;case"x":case"X":L=16,f="0x",u=/^f+/,i="f";break}if(b=M.$Integer(me()),b>=0){for(a=b.toString(L);a.length<h;)a="0"+a;if($&g)for(($&z||$&I)&&(a=($&z?"+":" ")+a),$&o&&b!==0&&(a=f+a);a.length<k;)a=a+" ";else if($&S&&h===-1){for(;a.length<k-($&z||$&I?1:0)-($&o&&b!==0?f.length:0);)a="0"+a;$&o&&b!==0&&(a=f+a),($&z||$&I)&&(a=($&z?"+":" ")+a)}else for($&o&&b!==0&&(a=f+a),($&z||$&I)&&(a=($&z?"+":" ")+a);a.length<k;)a=" "+a}else if($&z||$&I){for(a=(-b).toString(L);a.length<h;)a="0"+a;if($&g)for($&o&&(a=f+a),a="-"+a;a.length<k;)a=a+" ";else if($&S&&h===-1){for(;a.length<k-1-($&o?2:0);)a="0"+a;$&o&&(a=f+a),a="-"+a}else for($&o&&(a=f+a),a="-"+a;a.length<k;)a=" "+a}else{for(a=(b>>>0).toString(L).replace(u,i);a.length<h-2;)a=i+a;if($&g)for(a=".."+a,$&o&&(a=f+a);a.length<k;)a=a+" ";else if($&S&&h===-1){for(;a.length<k-2-($&o?f.length:0);)a=i+a;a=".."+a,$&o&&(a=f+a)}else for(a=".."+a,$&o&&(a=f+a);a.length<k;)a=" "+a}A.charAt(T)===A.charAt(T).toUpperCase()&&(a=a.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(b=M.$Float(me()),b>=0||isNaN(b)){if(b===1/0)a="Inf";else switch(A.charAt(T)){case"f":a=b.toFixed(h===-1?6:h);break;case"e":case"E":a=b.toExponential(h===-1?6:h);break;case"g":case"G":a=b.toExponential(),d=parseInt(a.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(a=b.toPrecision(h===-1?$&o?6:void 0:h));break}if($&g)for(($&z||$&I)&&(a=($&z?"+":" ")+a);a.length<k;)a=a+" ";else if($&S&&b!==1/0&&!isNaN(b)){for(;a.length<k-($&z||$&I?1:0);)a="0"+a;($&z||$&I)&&(a=($&z?"+":" ")+a)}else for(($&z||$&I)&&(a=($&z?"+":" ")+a);a.length<k;)a=" "+a}else{if(b===-1/0)a="Inf";else switch(A.charAt(T)){case"f":a=(-b).toFixed(h===-1?6:h);break;case"e":case"E":a=(-b).toExponential(h===-1?6:h);break;case"g":case"G":a=(-b).toExponential(),d=parseInt(a.split("e")[1],10),d<-4||d>=(h===-1?6:h)||(a=(-b).toPrecision(h===-1?$&o?6:void 0:h));break}if($&g)for(a="-"+a;a.length<k;)a=a+" ";else if($&S&&b!==-1/0){for(;a.length<k-1;)a="0"+a;a="-"+a}else for(a="-"+a;a.length<k;)a=" "+a}A.charAt(T)===A.charAt(T).toUpperCase()&&b!==1/0&&b!==-1/0&&!isNaN(b)&&(a=a.toUpperCase()),a=a.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":M.$raise(Q("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(b=me(),b["$respond_to?"]("to_ary")&&(b=b.$to_ary()[0]),b["$respond_to?"]("to_str")?a=b.$to_str():a=String.fromCharCode(w(b,Q("Integer"),"to_int")),a.length!==1&&M.$raise(Q("ArgumentError"),"%c requires a character"),$&g)for(;a.length<k;)a=a+" ";else for(;a.length<k;)a=" "+a;break e;case"p":if(a=me().$inspect(),h!==-1&&(a=a.slice(0,h)),$&g)for(;a.length<k;)a=a+" ";else for(;a.length<k;)a=" "+a;break e;case"s":if(a=me().$to_s(),h!==-1&&(a=a.slice(0,h)),$&g)for(;a.length<k;)a=a+" ";else for(;a.length<k;)a=" "+a;break e;default:M.$raise(Q("ArgumentError"),"malformed format string - %"+A.charAt(T))}a===void 0&&M.$raise(Q("ArgumentError"),"malformed format string - %"),G+=A.slice(v,x)+a,v=T+1}return X.DEBUG&&e>=0&&t<K.length&&M.$raise(Q("ArgumentError"),"too many arguments for format string"),G+A.slice(v)},-2),P(ne,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(r){var w=r.klass,j=r.rb_plus,F=r.truthy,y=r.send,ee=r.defs,Z=r.eqeq,M=r.def,X=r.return_ivar,m=r.return_val,P=r.slice,$e=r.Kernel,Q=r.Opal,V=r.rb_lt,ne,Y=r.top,A=[],E=r.$r(A),U=r.nil,K=r.$$$;return r.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),Y.$require("corelib/string"),function(R,G,v){var x=w(R,G,"Encoding"),T=[x].concat(v),q=x.$$prototype;return q.name=q.dummy=U,ee(x,"$register",function b(a,d){var k=b.$$p||U,h=this,_=U,l=U,H=U,L=U,f=U,u=U;return b.$$p=null,d==null&&(d=new Map),_=j([a],F(l=d["$[]"]("aliases"))?l:[]),H=F(l=d["$[]"]("ascii"))&&l,L=F(l=d["$[]"]("dummy"))&&l,F(d["$[]"]("inherits"))?(f=d["$[]"]("inherits").$clone(),f.$initialize(a,_,H,L)):f=h.$new(a,_,H,L),k!==U&&y(f,"instance_eval",[],k.$to_proc()),u=r.encodings,y(_,"each",[],function i(n){var t=i.$$s==null?this:i.$$s;return n==null&&(n=U),t.$const_set(n.$tr("-","_"),f),u[n]=f},{$$s:h})},-2),ee(x,"$find",function(a){var d=this;return Z(a,"default_external")?d.$default_external():r.find_encoding(a)}),x.$singleton_class().$attr_accessor("default_external"),x.$attr_reader("name","names"),M(x,"$initialize",function(a,d,k,h){var _=this;return _.name=a,_.names=d,_.ascii=k,_.dummy=h}),M(x,"$ascii_compatible?",X("ascii")),M(x,"$dummy?",X("dummy")),M(x,"$binary?",m(!1)),M(x,"$to_s",X("name")),M(x,"$inspect",function(){var a=this;return"#<Encoding:"+a.name+(F(a.dummy)?" (dummy)":U)+">"}),M(x,"$charsize",function(a){for(var d=0,k=0,h=a.length;k<h;k++){var _=a.charCodeAt(k);_>=55296&&_<=56319||d++}return d}),M(x,"$each_char",function b(a){var d=b.$$p||U;b.$$p=null;for(var k="",h=0,_=a.length;h<_;h++){var l=a.charCodeAt(h),H=a.charAt(h);if(l>=56320&&l<=57343){k=H;continue}else l>=55296&&l<=56319&&(H=k+H);a.encoding.name!="UTF-8"&&(H=new String(H),H.encoding=a.encoding),r.yield1(d,H)}}),M(x,"$each_byte",function(a){return P(arguments),$e.$raise(K("NotImplementedError"))},-1),M(x,"$bytesize",function(a){return P(arguments),$e.$raise(K("NotImplementedError"))},-1),w("::",K("StandardError"),"EncodingError"),w("::",K("EncodingError"),"CompatibilityError"),w(T[0],K("EncodingError"),"UndefinedConversionError"),U}("::",null,A),y(K("Encoding"),"register",["UTF-8",new Map([["aliases",["CP65001"]],["ascii",!0]])],function R(){var G=R.$$s==null?this:R.$$s;return M(G,"$each_byte",function v(x){var T=v.$$p||U;v.$$p=null;for(var q=1/0,b,a=x.length,d=null,k=0;k<a;++k){if(b=x.charCodeAt(k),b>55295&&b<57344){if(!d){if(b>56319){(q-=3)>-1&&(r.yield1(T,239),r.yield1(T,191),r.yield1(T,189));continue}else if(k+1===a){(q-=3)>-1&&(r.yield1(T,239),r.yield1(T,191),r.yield1(T,189));continue}d=b;continue}if(b<56320){(q-=3)>-1&&(r.yield1(T,239),r.yield1(T,191),r.yield1(T,189)),d=b;continue}b=(d-55296<<10|b-56320)+65536}else d&&(q-=3)>-1&&(r.yield1(T,239),r.yield1(T,191),r.yield1(T,189));if(d=null,b<128){if((q-=1)<0)break;r.yield1(T,b)}else if(b<2048){if((q-=2)<0)break;r.yield1(T,b>>6|192),r.yield1(T,b&63|128)}else if(b<65536){if((q-=3)<0)break;r.yield1(T,b>>12|224),r.yield1(T,b>>6&63|128),r.yield1(T,b&63|128)}else if(b<1114112){if((q-=4)<0)break;r.yield1(T,b>>18|240),r.yield1(T,b>>12&63|128),r.yield1(T,b>>6&63|128),r.yield1(T,b&63|128)}}}),M(G,"$bytesize",function(x){return x.$bytes().$length()})},{$$s:Y}),y(K("Encoding"),"register",["UTF-16LE"],function R(){var G=R.$$s==null?this:R.$$s;return M(G,"$each_byte",function v(x){var T=v.$$p||U;v.$$p=null;for(var q=0,b=x.length;q<b;q++){var a=x.charCodeAt(q);r.yield1(T,a&255),r.yield1(T,a>>8)}}),M(G,"$bytesize",function(x){return x.length*2})},{$$s:Y}),y(K("Encoding"),"register",["UTF-16BE",new Map([["inherits",K(K("Encoding"),"UTF_16LE")]])],function R(){var G=R.$$s==null?this:R.$$s;return M(G,"$each_byte",function v(x){var T=v.$$p||U;v.$$p=null;for(var q=0,b=x.length;q<b;q++){var a=x.charCodeAt(q);r.yield1(T,a>>8),r.yield1(T,a&255)}})},{$$s:Y}),y(K("Encoding"),"register",["UTF-32LE"],function R(){var G=R.$$s==null?this:R.$$s;return M(G,"$each_byte",function v(x){var T=v.$$p||U;v.$$p=null;for(var q=0,b=x.length;q<b;q++){var a=x.charCodeAt(q);r.yield1(T,a&255),r.yield1(T,a>>8),r.yield1(T,0),r.yield1(T,0)}}),M(G,"$bytesize",function(x){return x.length*4})},{$$s:Y}),y(K("Encoding"),"register",["UTF-32BE",new Map([["inherits",K(K("Encoding"),"UTF_32LE")]])],function R(){var G=R.$$s==null?this:R.$$s;return M(G,"$each_byte",function v(x){var T=v.$$p||U;v.$$p=null;for(var q=0,b=x.length;q<b;q++){var a=x.charCodeAt(q);r.yield1(T,0),r.yield1(T,0),r.yield1(T,a>>8),r.yield1(T,a&255)}})},{$$s:Y}),y(K("Encoding"),"register",["ASCII-8BIT",new Map([["aliases",["BINARY"]],["ascii",!0]])],function R(){var G=R.$$s==null?this:R.$$s;return M(G,"$each_char",function v(x){var T=v.$$p||U;v.$$p=null;for(var q=0,b=x.length;q<b;q++){var a=new String(x.charAt(q));a.encoding=x.encoding,r.yield1(T,a)}}),M(G,"$charsize",function(x){return x.length}),M(G,"$each_byte",function v(x){var T=v.$$p||U;v.$$p=null;for(var q=0,b=x.length;q<b;q++){var a=x.charCodeAt(q);r.yield1(T,a&255)}}),M(G,"$bytesize",function(x){return x.length}),M(G,"$binary?",m(!0))},{$$s:Y}),K("Encoding").$register("ISO-8859-1",new Map([["aliases",["ISO8859-1"]],["ascii",!0],["inherits",K(K("Encoding"),"ASCII_8BIT")]])),K("Encoding").$register("US-ASCII",new Map([["aliases",["ASCII"]],["ascii",!0],["inherits",K(K("Encoding"),"ASCII_8BIT")]])),function(R,G){var v=w(R,G,"String"),x=v.$$prototype;return x.internal_encoding=x.bytes=x.encoding=U,v.$attr_reader("encoding"),v.$attr_reader("internal_encoding"),r.prop(String.prototype,"bytes",U),r.prop(String.prototype,"encoding",K(K("Encoding"),"UTF_8")),r.prop(String.prototype,"internal_encoding",K(K("Encoding"),"UTF_8")),M(v,"$b",function(){var q=this;return q.$dup().$force_encoding("binary")}),M(v,"$bytesize",function(){var q=this;return q.internal_encoding.$bytesize(q)}),M(v,"$each_byte",function T(){var q=T.$$p||U,b=this;return T.$$p=null,q===U?y(b,"enum_for",["each_byte"],function a(){var d=a.$$s==null?this:a.$$s;return d.$bytesize()},{$$s:b}):(y(b.internal_encoding,"each_byte",[b],q.$to_proc()),b)}),M(v,"$bytes",function(){var q=this,b=U;return typeof q=="string"?new String(q).$each_byte().$to_a():(q.bytes=F(b=q.bytes)?b:q.$each_byte().$to_a(),q.bytes.$dup())}),M(v,"$each_char",function T(){var q=T.$$p||U,b=this;return T.$$p=null,q===U?y(b,"enum_for",["each_char"],function a(){var d=a.$$s==null?this:a.$$s;return d.$length()},{$$s:b}):(y(b.encoding,"each_char",[b],q.$to_proc()),b)}),M(v,"$chars",function T(){var q=T.$$p||U,b=this;return T.$$p=null,F(q)?y(b,"each_char",[],q.$to_proc()):b.$each_char().$to_a()}),M(v,"$each_codepoint",function T(){var q=T.$$p||U,b=this;if(T.$$p=null,q===U)return b.$enum_for("each_codepoint");for(var a=0,d=b.length;a<d;a++)r.yield1(q,b.codePointAt(a));return b}),M(v,"$codepoints",function T(){var q=T.$$p||U,b=this;return T.$$p=null,q!==U?y(b,"each_codepoint",[],q.$to_proc()):b.$each_codepoint().$to_a()}),M(v,"$encode",function(q){var b=this;return r.enc(b,q)}),M(v,"$force_encoding",function(q){var b=this,a=b;return q===a.encoding||(q=Q["$coerce_to!"](q,K("String"),"to_s"),q=K("Encoding").$find(q),q===a.encoding)||(a=r.set_encoding(a,q)),a}),M(v,"$getbyte",function(q){var b=this,a=U;return a=b.$bytes(),q=Q["$coerce_to!"](q,K("Integer"),"to_int"),F(V(a.$length(),q))?U:a["$[]"](q)}),M(v,"$initialize_copy",function(q){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),M(v,"$valid_encoding?",m(!0))}("::",null),ne=[K(E("Encoding"),"UTF_8")],y(K("Encoding"),"default_external=",ne),ne[ne.length-1]};Opal.modules["corelib/math"]=function(r){var w=r.type_error,j=r.module,F=r.const_set,y=r.Class,ee=r.slice,Z=r.Kernel,M=r.defs,X=r.truthy,m=r.send,P=r.def,$e=r.rb_minus,Q=r.eqeqeq,V=r.rb_divide,ne=[],Y=r.nil,A=r.$$$;return r.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(E,U){var K=j(E,"Math"),R=[K].concat(U),G=r.$r(R);return F(K,"E",Math.E),F(K,"PI",Math.PI),F(K,"DomainError",y.$new(A("StandardError"))),M(K,"$checked",function(x,T){var q,b;if(q=ee(arguments,1),b=q,isNaN(b[0])||b.length==2&&isNaN(b[1]))return NaN;var a=Math[x].apply(null,b);return isNaN(a)&&Z.$raise(G("DomainError"),'Numerical argument is out of domain - "'+x+'"'),a},-2),M(K,"$float!",function(x){try{return Z.$Float(x)}catch(T){if(r.rescue(T,[A("ArgumentError")]))try{return Z.$raise(w(x,A("Float")))}finally{r.pop_exception(T)}else throw T}}),M(K,"$integer!",function(x){try{return Z.$Integer(x)}catch(T){if(r.rescue(T,[A("ArgumentError")]))try{return Z.$raise(w(x,A("Integer")))}finally{r.pop_exception(T)}else throw T}}),K.$module_function(),X(typeof Math.erf<"u")||r.prop(Math,"erf",function(v){var x=.254829592,T=-.284496736,q=1.421413741,b=-1.453152027,a=1.061405429,d=.3275911,k=1;v<0&&(k=-1),v=Math.abs(v);var h=1/(1+d*v),_=1-((((a*h+b)*h+q)*h+T)*h+x)*h*Math.exp(-v*v);return k*_}),X(typeof Math.erfc<"u")||r.prop(Math,"erfc",function(v){var x=Math.abs(v),T=1/(.5*x+1),q=T*.17087277+-.82215223,b=T*q+1.48851587,a=T*b+-1.13520398,d=T*a+.27886807,k=T*d+-.18628806,h=T*k+.09678418,_=T*h+.37409196,l=T*_+1.00002368,H=T*l,L=-x*x-1.26551223+H,f=T*Math.exp(L);return v<0?2-f:f}),m(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function v(x){var T=v.$$s==null?this:v.$$s;return x==null&&(x=Y),m(T,"define_method",[x],function(b){return b==null&&(b=Y),A("Math").$checked(x,A("Math")["$float!"](b))})},{$$s:K}),P(K,"$atan2",function(x,T){return A("Math").$checked("atan2",A("Math")["$float!"](x),A("Math")["$float!"](T))}),P(K,"$hypot",function(x,T){return A("Math").$checked("hypot",A("Math")["$float!"](x),A("Math")["$float!"](T))}),P(K,"$frexp",function(x){if(x=G("Math")["$float!"](x),isNaN(x))return[NaN,0];var T=Math.floor(Math.log(Math.abs(x))/Math.log(2))+1,q=x/Math.pow(2,T);return[q,T]}),P(K,"$gamma",function(x){x=G("Math")["$float!"](x);var T,q,b,a,d,k,h,_,l,H=4.7421875,L=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(x))return NaN;if(x===0&&1/x<0)return-1/0;if((x===-1||x===-1/0)&&Z.$raise(G("DomainError"),'Numerical argument is out of domain - "gamma"'),G("Integer")["$==="](x)){if(x<=0)return isFinite(x)?1/0:NaN;if(x>171)return 1/0;for(a=x-2,d=x-1;a>1;)d*=a,a--;return d==0&&(d=1),d}if(x<.5)return Math.PI/(Math.sin(Math.PI*x)*A("Math").$gamma($e(1,x)));if(x>=171.35)return 1/0;if(x>85)return k=x*x,h=k*x,_=h*x,l=_*x,Math.sqrt(2*Math.PI/x)*Math.pow(x/Math.E,x)*(1+1/(12*x)+1/(288*k)-139/(51840*h)-571/(2488320*_)+163879/(209018880*l)+5246819/(75246796800*l*x));for(x-=1,b=L[0],T=1;T<L.length;++T)b+=L[T]/(x+T);return q=x+H+.5,Math.sqrt(2*Math.PI)*Math.pow(q,x+.5)*Math.exp(-q)*b}),P(K,"$ldexp",function(x,T){return x=G("Math")["$float!"](x),T=G("Math")["$integer!"](T),isNaN(T)&&Z.$raise(A("RangeError"),"float NaN out of range of integer"),x*Math.pow(2,T)}),P(K,"$lgamma",function(x){return x==-1?[1/0,1]:[Math.log(Math.abs(A("Math").$gamma(x))),A("Math").$gamma(x)<0?-1:1]}),P(K,"$log",function(x,T){return Q(A("String"),x)&&Z.$raise(w(x,A("Float"))),X(T==null)?A("Math").$checked("log",A("Math")["$float!"](x)):(Q(A("String"),T)&&Z.$raise(w(T,A("Float"))),V(A("Math").$checked("log",A("Math")["$float!"](x)),A("Math").$checked("log",A("Math")["$float!"](T))))},-2),P(K,"$log10",function(x){return Q(A("String"),x)&&Z.$raise(w(x,A("Float"))),A("Math").$checked("log10",A("Math")["$float!"](x))}),P(K,"$log2",function(x){return Q(A("String"),x)&&Z.$raise(w(x,A("Float"))),A("Math").$checked("log2",A("Math")["$float!"](x))}),P(K,"$tan",function(x){return x=A("Math")["$float!"](x),X(x["$infinite?"]())?A(A("Float"),"NAN"):A("Math").$checked("tan",A("Math")["$float!"](x))})}("::",ne)};Opal.modules["corelib/complex/base"]=function(r){var w=r.module,j=r.truthy,F=r.def,y=r.klass,ee=[],Z=r.nil;return r.add_stubs("new,from_string"),function(M,X){var m=w(M,"Kernel"),P=[m].concat(X),$e=r.$r(P);return F(m,"$Complex",function(V,ne){return ne==null&&(ne=Z),j(ne)?$e("Complex").$new(V,ne):$e("Complex").$new(V,0)},-2)}("::",ee),function(M,X,m){var P=y(M,X,"String"),$e=[P].concat(m),Q=r.$r($e);return F(P,"$to_c",function(){var ne=this;return Q("Complex").$from_string(ne)})}("::",null,ee)};Opal.modules["corelib/complex"]=function(r){var w=r.klass,j=r.truthy,F=r.eqeqeq,y=r.Kernel,ee=r.defs,Z=r.rb_times,M=r.def,X=r.rb_plus,m=r.rb_minus,P=r.rb_divide,$e=r.eqeq,Q=r.to_ary,V=r.rb_gt,ne=r.neqeq,Y=r.return_val,A=r.const_set,E=r.alias,U=r.top,K=[],R=r.nil,G=r.$$$;return r.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,hash,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),U.$require("corelib/numeric"),U.$require("corelib/complex/base"),function(v,x,T){var q=w(v,x,"Complex"),b=[q].concat(T),a=r.$r(b),d=q.$$prototype;return d.real=d.imag=R,ee(q,"$rect",function(h,_){var l=this;return _==null&&(_=0),F(G("Numeric"),h)&&j(h["$real?"]())&&F(G("Numeric"),_)&&j(_["$real?"]())||y.$raise(G("TypeError"),"not a real"),l.$new(h,_)},-2),ee(q,"$polar",function(h,_){var l=this;return _==null&&(_=0),F(G("Numeric"),h)&&j(h["$real?"]())&&F(G("Numeric"),_)&&j(_["$real?"]())||y.$raise(G("TypeError"),"not a real"),l.$new(Z(h,G("Math").$cos(_)),Z(h,G("Math").$sin(_)))},-2),q.$attr_reader("real","imag"),M(q,"$initialize",function(h,_){var l=this;return _==null&&(_=0),l.real=h,l.imag=_,l.$freeze()},-2),M(q,"$coerce",function(h){var _=this;return F(G("Complex"),h)?[h,_]:F(G("Numeric"),h)&&j(h["$real?"]())?[G("Complex").$new(h,0),_]:y.$raise(G("TypeError"),""+h.$class()+" can't be coerced into Complex")}),M(q,"$==",function(h){var _=this,l=R;return F(G("Complex"),h)?j(l=_.real["$=="](h.$real()))?_.imag["$=="](h.$imag()):l:F(G("Numeric"),h)&&j(h["$real?"]())?j(l=_.real["$=="](h))?_.imag["$=="](0):l:h["$=="](_)}),M(q,"$-@",function(){var h=this;return y.$Complex(h.real["$-@"](),h.imag["$-@"]())}),M(q,"$+",function(h){var _=this;return F(G("Complex"),h)?y.$Complex(X(_.real,h.$real()),X(_.imag,h.$imag())):F(G("Numeric"),h)&&j(h["$real?"]())?y.$Complex(X(_.real,h),_.imag):_.$__coerced__("+",h)}),M(q,"$-",function(h){var _=this;return F(G("Complex"),h)?y.$Complex(m(_.real,h.$real()),m(_.imag,h.$imag())):F(G("Numeric"),h)&&j(h["$real?"]())?y.$Complex(m(_.real,h),_.imag):_.$__coerced__("-",h)}),M(q,"$*",function(h){var _=this;return F(G("Complex"),h)?y.$Complex(m(Z(_.real,h.$real()),Z(_.imag,h.$imag())),X(Z(_.real,h.$imag()),Z(_.imag,h.$real()))):F(G("Numeric"),h)&&j(h["$real?"]())?y.$Complex(Z(_.real,h),Z(_.imag,h)):_.$__coerced__("*",h)}),M(q,"$/",function(h){var _=this;return F(G("Complex"),h)?F(G("Number"),_.real)&&j(_.real["$nan?"]())||F(G("Number"),_.imag)&&j(_.imag["$nan?"]())||F(G("Number"),h.$real())&&j(h.$real()["$nan?"]())||F(G("Number"),h.$imag())&&j(h.$imag()["$nan?"]())?G("Complex").$new(G(G("Float"),"NAN"),G(G("Float"),"NAN")):P(Z(_,h.$conj()),h.$abs2()):F(G("Numeric"),h)&&j(h["$real?"]())?y.$Complex(_.real.$quo(h),_.imag.$quo(h)):_.$__coerced__("/",h)}),M(q,"$**",function(h){var _,l,H=this,L=R,f=R,u=R,i=R,n=R,t=R,e=R,$=R,s=R,o=R,g=R;if($e(h,0))return G("Complex").$new(1,0);if(F(G("Complex"),h))return l=H.$polar(),_=Q(l),L=_[0]==null?R:_[0],f=_[1]==null?R:_[1],u=h.$real(),i=h.$imag(),n=G("Math").$exp(m(Z(u,G("Math").$log(L)),Z(i,f))),t=X(Z(f,u),Z(i,G("Math").$log(L))),G("Complex").$polar(n,t);if(F(G("Integer"),h))if(j(V(h,0))){for(e=H,$=e,s=m(h,1);ne(s,0);){for(l=s.$divmod(2),_=Q(l),o=_[0]==null?R:_[0],g=_[1]==null?R:_[1];$e(g,0);)e=y.$Complex(m(Z(e.$real(),e.$real()),Z(e.$imag(),e.$imag())),Z(Z(2,e.$real()),e.$imag())),s=o,l=s.$divmod(2),_=Q(l),o=_[0]==null?R:_[0],g=_[1]==null?R:_[1];$=Z($,e),s=m(s,1)}return $}else return P(G("Rational").$new(1,1),H)["$**"](h["$-@"]());else return F(G("Float"),h)||F(G("Rational"),h)?(l=H.$polar(),_=Q(l),L=_[0]==null?R:_[0],f=_[1]==null?R:_[1],G("Complex").$polar(L["$**"](h),Z(f,h))):H.$__coerced__("**",h)}),M(q,"$abs",function(){var h=this;return G("Math").$hypot(h.real,h.imag)}),M(q,"$abs2",function(){var h=this;return X(Z(h.real,h.real),Z(h.imag,h.imag))}),M(q,"$angle",function(){var h=this;return G("Math").$atan2(h.imag,h.real)}),M(q,"$conj",function(){var h=this;return y.$Complex(h.real,h.imag["$-@"]())}),M(q,"$denominator",function(){var h=this;return h.real.$denominator().$lcm(h.imag.$denominator())}),M(q,"$eql?",function(h){var _=this,l=R,H=R;return j(l=j(H=a("Complex")["$==="](h))?_.real.$class()["$=="](_.imag.$class()):H)?_["$=="](h):l}),M(q,"$fdiv",function(h){var _=this;return F(G("Numeric"),h)||y.$raise(G("TypeError"),""+h.$class()+" can't be coerced into Complex"),P(_,h)}),M(q,"$finite?",function(){var h=this,_=R;return j(_=h.real["$finite?"]())?h.imag["$finite?"]():_}),M(q,"$hash",function(){var h=this;return[G("Complex"),h.real,h.imag].$hash()}),M(q,"$infinite?",function(){var h=this,_=R;return j(_=h.real["$infinite?"]())?_:h.imag["$infinite?"]()}),M(q,"$inspect",function(){var h=this;return"("+h+")"}),M(q,"$numerator",function(){var h=this,_=R;return _=h.$denominator(),y.$Complex(Z(h.real.$numerator(),P(_,h.real.$denominator())),Z(h.imag.$numerator(),P(_,h.imag.$denominator())))}),M(q,"$polar",function(){var h=this;return[h.$abs(),h.$arg()]}),M(q,"$rationalize",function(h){var _=this;return arguments.length>1&&y.$raise(G("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),ne(_.imag,0)&&y.$raise(G("RangeError"),"can't convert "+_+" into Rational"),_.$real().$rationalize(h)},-1),M(q,"$real?",Y(!1)),M(q,"$rect",function(){var h=this;return[h.real,h.imag]}),M(q,"$to_f",function(){var h=this;return $e(h.imag,0)||y.$raise(G("RangeError"),"can't convert "+h+" into Float"),h.real.$to_f()}),M(q,"$to_i",function(){var h=this;return $e(h.imag,0)||y.$raise(G("RangeError"),"can't convert "+h+" into Integer"),h.real.$to_i()}),M(q,"$to_r",function(){var h=this;return $e(h.imag,0)||y.$raise(G("RangeError"),"can't convert "+h+" into Rational"),h.real.$to_r()}),M(q,"$to_s",function(){var h=this,_=R;return _=h.real.$inspect(),_=X(_,F(G("Number"),h.imag)&&j(h.imag["$nan?"]())||j(h.imag["$positive?"]())||j(h.imag["$zero?"]())?"+":"-"),_=X(_,h.imag.$abs().$inspect()),F(G("Number"),h.imag)&&(j(h.imag["$nan?"]())||j(h.imag["$infinite?"]()))&&(_=X(_,"*")),X(_,"i")}),A(b[0],"I",q.$new(0,1)),ee(q,"$from_string",function(h){var _=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;h.match(_);var l,H;function L(){return _.test(h)}function f(){var i=h.match(_),n=i[0];return h=h.slice(n.length),n.replace(/_/g,"")}function u(){if(L()){var i=parseFloat(f());if(h[0]==="/")if(h=h.slice(1),L()){var n=parseFloat(f());return y.$Rational(i,n)}else return h="/"+h,i;else return i}else return null}return l=u(),l?(H=u(),H?y.$Complex(l,H):h[0]==="i"?y.$Complex(0,l):y.$Complex(l,0)):h[0]==="i"?y.$Complex(0,1):h[0]==="-"&&h[1]==="i"?y.$Complex(0,-1):h[0]==="+"&&h[1]==="i"?y.$Complex(0,1):y.$Complex(0,0)}),function(k,h){return E(k,"rectangular","rect")}(r.get_singleton_class(q)),E(q,"arg","angle"),E(q,"conjugate","conj"),E(q,"divide","/"),E(q,"imaginary","imag"),E(q,"magnitude","abs"),E(q,"phase","arg"),E(q,"quo","/"),E(q,"rectangular","rect"),r.udef(q,"$negative?"),r.udef(q,"$positive?"),r.udef(q,"$step"),R}("::",G("Numeric"),K)};Opal.modules["corelib/rational/base"]=function(r){var w=r.module,j=r.def,F=r.klass;r.nil;var y=r.$$$;return r.add_stubs("convert,from_string"),function(ee){var Z=w(ee,"Kernel");return j(Z,"$Rational",function(X,m){return m==null&&(m=1),y("Rational").$convert(X,m)},-2)}("::"),function(ee,Z){var M=F(ee,Z,"String");return j(M,"$to_r",function(){var m=this;return y("Rational").$from_string(m)})}("::",null)};Opal.modules["corelib/rational"]=function(r){var w=r.klass,j=r.eqeq,F=r.Kernel,y=r.truthy,ee=r.rb_lt,Z=r.rb_divide,M=r.defs,X=r.eqeqeq,m=r.not,P=r.Opal,$e=r.def,Q=r.return_ivar,V=r.rb_minus,ne=r.rb_times,Y=r.rb_plus,A=r.rb_gt,E=r.rb_le,U=r.return_self,K=r.alias,R=r.top,G=r.nil,v=r.$$$;return r.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,hash,<=,truncate,send"),R.$require("corelib/numeric"),R.$require("corelib/rational/base"),function(x,T){var q=w(x,T,"Rational"),b=q.$$prototype;return b.num=b.den=G,M(q,"$reduce",function(d,k){var h=this,_=G;if(d=d.$to_i(),k=k.$to_i(),j(k,0))F.$raise(v("ZeroDivisionError"),"divided by 0");else if(y(ee(k,0)))d=d["$-@"](),k=k["$-@"]();else if(j(k,1))return h.$new(d,k);return _=d.$gcd(k),h.$new(Z(d,_),Z(k,_))}),M(q,"$convert",function(d,k){var h=this;return(y(d["$nil?"]())||y(k["$nil?"]()))&&F.$raise(v("TypeError"),"cannot convert nil into Rational"),X(v("Integer"),d)&&X(v("Integer"),k)?h.$reduce(d,k):((X(v("Float"),d)||X(v("String"),d)||X(v("Complex"),d))&&(d=d.$to_r()),(X(v("Float"),k)||X(v("String"),k)||X(v("Complex"),k))&&(k=k.$to_r()),y(k["$equal?"](1))&&m(v("Integer")["$==="](d))?P["$coerce_to!"](d,v("Rational"),"to_r"):X(v("Numeric"),d)&&X(v("Numeric"),k)?Z(d,k):h.$reduce(d,k))}),$e(q,"$initialize",function(d,k){var h=this;return h.num=d,h.den=k,h.$freeze()}),$e(q,"$numerator",Q("num")),$e(q,"$denominator",Q("den")),$e(q,"$coerce",function(d){var k=this,h=G;return X(v("Rational"),h=d)?[d,k]:X(v("Integer"),h)?[d.$to_r(),k]:X(v("Float"),h)?[d,k.$to_f()]:G}),$e(q,"$==",function(d){var k=this,h=G,_=G;return X(v("Rational"),h=d)?y(_=k.num["$=="](d.$numerator()))?k.den["$=="](d.$denominator()):_:X(v("Integer"),h)?y(_=k.num["$=="](d))?k.den["$=="](1):_:X(v("Float"),h)?k.$to_f()["$=="](d):d["$=="](k)}),$e(q,"$<=>",function(d){var k=this,h=G;return X(v("Rational"),h=d)?V(ne(k.num,d.$denominator()),ne(k.den,d.$numerator()))["$<=>"](0):X(v("Integer"),h)?V(k.num,ne(k.den,d))["$<=>"](0):X(v("Float"),h)?k.$to_f()["$<=>"](d):k.$__coerced__("<=>",d)}),$e(q,"$+",function(d){var k=this,h=G,_=G,l=G;return X(v("Rational"),h=d)?(_=Y(ne(k.num,d.$denominator()),ne(k.den,d.$numerator())),l=ne(k.den,d.$denominator()),F.$Rational(_,l)):X(v("Integer"),h)?F.$Rational(Y(k.num,ne(d,k.den)),k.den):X(v("Float"),h)?Y(k.$to_f(),d):k.$__coerced__("+",d)}),$e(q,"$-",function(d){var k=this,h=G,_=G,l=G;return X(v("Rational"),h=d)?(_=V(ne(k.num,d.$denominator()),ne(k.den,d.$numerator())),l=ne(k.den,d.$denominator()),F.$Rational(_,l)):X(v("Integer"),h)?F.$Rational(V(k.num,ne(d,k.den)),k.den):X(v("Float"),h)?V(k.$to_f(),d):k.$__coerced__("-",d)}),$e(q,"$*",function(d){var k=this,h=G,_=G,l=G;return X(v("Rational"),h=d)?(_=ne(k.num,d.$numerator()),l=ne(k.den,d.$denominator()),F.$Rational(_,l)):X(v("Integer"),h)?F.$Rational(ne(k.num,d),k.den):X(v("Float"),h)?ne(k.$to_f(),d):k.$__coerced__("*",d)}),$e(q,"$/",function(d){var k=this,h=G,_=G,l=G;return X(v("Rational"),h=d)?(_=ne(k.num,d.$denominator()),l=ne(k.den,d.$numerator()),F.$Rational(_,l)):X(v("Integer"),h)?j(d,0)?Z(k.$to_f(),0):F.$Rational(k.num,ne(k.den,d)):X(v("Float"),h)?Z(k.$to_f(),d):k.$__coerced__("/",d)}),$e(q,"$**",function(d){var k=this,h=G;return X(v("Integer"),h=d)?j(k,0)&&y(ee(d,0))?v(v("Float"),"INFINITY"):y(A(d,0))?F.$Rational(k.num["$**"](d),k.den["$**"](d)):y(ee(d,0))?F.$Rational(k.den["$**"](d["$-@"]()),k.num["$**"](d["$-@"]())):F.$Rational(1,1):X(v("Float"),h)?k.$to_f()["$**"](d):X(v("Rational"),h)?j(d,0)?F.$Rational(1,1):j(d.$denominator(),1)?y(ee(d,0))?F.$Rational(k.den["$**"](d.$numerator().$abs()),k.num["$**"](d.$numerator().$abs())):F.$Rational(k.num["$**"](d.$numerator()),k.den["$**"](d.$numerator())):j(k,0)&&y(ee(d,0))?F.$raise(v("ZeroDivisionError"),"divided by 0"):k.$to_f()["$**"](d):k.$__coerced__("**",d)}),$e(q,"$abs",function(){var d=this;return F.$Rational(d.num.$abs(),d.den.$abs())}),$e(q,"$ceil",function(d){var k=this;return d==null&&(d=0),j(d,0)?Z(k.num["$-@"](),k.den)["$-@"]().$ceil():k.$with_precision("ceil",d)},-1),$e(q,"$floor",function(d){var k=this;return d==null&&(d=0),j(d,0)?Z(k.num["$-@"](),k.den)["$-@"]().$floor():k.$with_precision("floor",d)},-1),$e(q,"$hash",function(){var d=this;return[v("Rational"),d.num,d.den].$hash()}),$e(q,"$inspect",function(){var d=this;return"("+d+")"}),$e(q,"$rationalize",function(d){var k=this;if(arguments.length>1&&F.$raise(v("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d==null)return k;for(var h=d.$abs(),_=V(k,h),l=Y(k,h),H=0,L=1,f=1,u=0,i,n,t,e,$;t=_.$ceil(),!E(t,l);)e=t-1,i=e*L+H,n=e*u+f,$=Z(1,V(l,e)),l=Z(1,V(_,e)),_=$,H=L,f=u,L=i,u=n;return F.$Rational(t*L+H,t*u+f)},-1),$e(q,"$round",function(d){var k=this,h=G,_=G,l=G;return d==null&&(d=0),j(d,0)?j(k.num,0)?0:j(k.den,1)?k.num:(h=Y(ne(k.num.$abs(),2),k.den),_=ne(k.den,2),l=Z(h,_).$truncate(),y(ee(k.num,0))?l["$-@"]():l):k.$with_precision("round",d)},-1),$e(q,"$to_f",function(){var d=this;return Z(d.num,d.den)}),$e(q,"$to_i",function(){var d=this;return d.$truncate()}),$e(q,"$to_r",U),$e(q,"$to_s",function(){var d=this;return""+d.num+"/"+d.den}),$e(q,"$truncate",function(d){var k=this;return d==null&&(d=0),j(d,0)?y(ee(k.num,0))?k.$ceil():k.$floor():k.$with_precision("truncate",d)},-1),$e(q,"$with_precision",function(d,k){var h=this,_=G,l=G;return X(v("Integer"),k)||F.$raise(v("TypeError"),"not an Integer"),_=10["$**"](k),l=ne(h,_),y(ee(k,1))?Z(l.$send(d),_).$to_i():F.$Rational(l.$send(d),_)}),M(q,"$from_string",function(d){var k=d.trimLeft(),h=/^[+-]?[\d_]+(\.[\d_]+)?/;k.match(h);var _,l;function H(){return h.test(k)}function L(){var f=k.match(h),u=f[0];return k=k.slice(u.length),u.replace(/_/g,"")}return H()?(_=parseFloat(L()),k[0]==="/"?(k=k.slice(1),H()?(l=parseFloat(L()),F.$Rational(_,l)):F.$Rational(_,1)):F.$Rational(_,1)):F.$Rational(0,1)}),K(q,"divide","/"),K(q,"quo","/")}("::",v("Numeric"))};Opal.modules["corelib/time"]=function(r){var w=r.slice,j=r.deny_frozen_access,F=r.klass,y=r.Kernel,ee=r.Opal,Z=r.defs,M=r.eqeqeq,X=r.def,m=r.truthy,P=r.rb_gt,$e=r.rb_lt,Q=r.send,V=r.rb_plus,ne=r.rb_divide,Y=r.rb_minus,A=r.range,E=r.neqeq,U=r.rb_le,K=r.eqeq,R=r.alias,G=r.top,v=[],x=r.nil,T=r.$$$;return r.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,hash,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),G.$require("corelib/comparable"),function(q,b,a){var d=F(q,b,"Time"),k=[d].concat(a),h=r.$r(k);d.$include(T("Comparable"));var _=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],L=["January","February","March","April","May","June","July","August","September","October","November","December"];Z(d,"$at",function(i,n){var t;return T("Time")["$==="](i)?(n!==void 0&&y.$raise(T("TypeError"),"can't convert Time into an exact number"),t=new Date(i.getTime()),t.timezone=i.timezone,t):(i.$$is_number||(i=ee["$coerce_to!"](i,T("Integer"),"to_int")),n===void 0?new Date(i*1e3):(n.$$is_number||(n=ee["$coerce_to!"](n,T("Integer"),"to_int")),new Date(i*1e3+n/1e3)))},-2);function f(u,i,n,t,e,$){if(u.$$is_string?u=parseInt(u,10):u=ee["$coerce_to!"](u,T("Integer"),"to_int"),i===x)i=1;else if(!i.$$is_number)if(i["$respond_to?"]("to_str"))switch(i=i.$to_str(),i.toLowerCase()){case"jan":i=1;break;case"feb":i=2;break;case"mar":i=3;break;case"apr":i=4;break;case"may":i=5;break;case"jun":i=6;break;case"jul":i=7;break;case"aug":i=8;break;case"sep":i=9;break;case"oct":i=10;break;case"nov":i=11;break;case"dec":i=12;break;default:i=i.$to_i()}else i=ee["$coerce_to!"](i,T("Integer"),"to_int");return(i<1||i>12)&&y.$raise(T("ArgumentError"),"month out of range: "+i),i=i-1,n===x?n=1:n.$$is_string?n=parseInt(n,10):n=ee["$coerce_to!"](n,T("Integer"),"to_int"),(n<1||n>31)&&y.$raise(T("ArgumentError"),"day out of range: "+n),t===x?t=0:t.$$is_string?t=parseInt(t,10):t=ee["$coerce_to!"](t,T("Integer"),"to_int"),(t<0||t>24)&&y.$raise(T("ArgumentError"),"hour out of range: "+t),e===x?e=0:e.$$is_string?e=parseInt(e,10):e=ee["$coerce_to!"](e,T("Integer"),"to_int"),(e<0||e>59)&&y.$raise(T("ArgumentError"),"min out of range: "+e),$===x?$=0:$.$$is_number||($.$$is_string?$=parseInt($,10):$=ee["$coerce_to!"]($,T("Integer"),"to_int")),($<0||$>60)&&y.$raise(T("ArgumentError"),"sec out of range: "+$),[u,i,n,t,e,$]}return Z(d,"$new",function(i,n,t,e,$,s,o){var g=this;n==null&&(n=x),t==null&&(t=x),e==null&&(e=x),$==null&&($=x),s==null&&(s=x),o==null&&(o=x);var z,S,I,B;return i===void 0?new Date:(z=f(i,n,t,e,$,s),i=z[0],n=z[1],t=z[2],e=z[3],$=z[4],s=z[5],o===x?(S=new Date(i,n,t,e,$,0,s*1e3),i<100&&S.setFullYear(i),S):(I=g.$_parse_offset(o),B=new Date(Date.UTC(i,n,t,e,$,0,s*1e3)),i<100&&B.setUTCFullYear(i),S=new Date(B.getTime()-I*36e5),S.timezone=I,S))},-1),Z(d,"$_parse_offset",function(i){var n;if(i.$$is_string)if(i=="UTC")n=0;else if(/^[+-]\d\d:[0-5]\d$/.test(i)){var t,e,$;t=i[0],e=+(i[1]+i[2]),$=+(i[4]+i[5]),n=(t=="-"?-1:1)*(e+$/60)}else y.$raise(T("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+i);else i.$$is_number?n=i/3600:y.$raise(T("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return n}),Z(d,"$local",function(i,n,t,e,$,s,o,g,z,S){n==null&&(n=x),t==null&&(t=x),e==null&&(e=x),$==null&&($=x),s==null&&(s=x),o==null&&(o=x),g==null&&(g=x),z==null&&(z=x),S==null&&(S=x);var I,B;return arguments.length===10&&(I=w(arguments),i=I[5],n=I[4],t=I[3],e=I[2],$=I[1],s=I[0]),I=f(i,n,t,e,$,s),i=I[0],n=I[1],t=I[2],e=I[3],$=I[4],s=I[5],B=new Date(i,n,t,e,$,0,s*1e3),i<100&&B.setFullYear(i),B},-2),Z(d,"$gm",function(i,n,t,e,$,s,o,g,z,S){n==null&&(n=x),t==null&&(t=x),e==null&&(e=x),$==null&&($=x),s==null&&(s=x),o==null&&(o=x),g==null&&(g=x),z==null&&(z=x),S==null&&(S=x);var I,B;return arguments.length===10&&(I=w(arguments),i=I[5],n=I[4],t=I[3],e=I[2],$=I[1],s=I[0]),I=f(i,n,t,e,$,s),i=I[0],n=I[1],t=I[2],e=I[3],$=I[4],s=I[5],B=new Date(Date.UTC(i,n,t,e,$,0,s*1e3)),i<100&&B.setUTCFullYear(i),B.timezone=0,B},-2),Z(d,"$now",function(){var i=this;return i.$new()}),X(d,"$+",function(i){var n=this;M(T("Time"),i)&&y.$raise(T("TypeError"),"time + time?"),i.$$is_number||(i=ee["$coerce_to!"](i,T("Integer"),"to_int"));var t=new Date(n.getTime()+i*1e3);return t.timezone=n.timezone,t}),X(d,"$-",function(i){var n=this;if(M(T("Time"),i))return(n.getTime()-i.getTime())/1e3;i.$$is_number||(i=ee["$coerce_to!"](i,T("Integer"),"to_int"));var t=new Date(n.getTime()-i*1e3);return t.timezone=n.timezone,t}),X(d,"$<=>",function(i){var n=this,t=x;return M(T("Time"),i)?n.$to_f()["$<=>"](i.$to_f()):(t=i["$<=>"](n),m(t["$nil?"]())?x:m(P(t,0))?-1:m($e(t,0))?1:0)}),X(d,"$==",function(i){var n=this,t=x;return m(t=T("Time")["$==="](i))?n.$to_f()===i.$to_f():t}),X(d,"$asctime",function(){var i=this;return i.$strftime("%a %b %e %H:%M:%S %Y")}),Q([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function u(i,n,t,e){var $=u.$$s==null?this:u.$$s;return i==null&&(i=x),n==null&&(n=x),t==null&&(t=x),e==null&&(e=0),Q($,"define_method",[i],function s(){var o=s.$$s==null?this:s.$$s;return e+(o.timezone!=null?new Date(o.getTime()+o.timezone*36e5)[t]():o[n]())},{$$s:$})},{$$arity:-4,$$s:d}),X(d,"$yday",function(){var i=this,n=x,t=x,e=x;return n=h("Time").$new(i.$year()).$to_i(),t=h("Time").$new(i.$year(),i.$month(),i.$day()).$to_i(),e=86400,V(ne(Y(t,n),e).$round(),1)}),X(d,"$isdst",function(){var i=this,n=new Date(i.getFullYear(),0,1),t=new Date(i.getFullYear(),6,1);return i.getTimezoneOffset()<Math.max(n.getTimezoneOffset(),t.getTimezoneOffset())}),X(d,"$dup",function(){var i=this,n=x;return n=new Date(i.getTime()),n.$copy_instance_variables(i),n.$initialize_dup(i),n}),X(d,"$eql?",function(i){var n=this,t=x;return m(t=i["$is_a?"](T("Time")))?n["$<=>"](i)["$zero?"]():t}),Q([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function u(i,n){var t=u.$$s==null?this:u.$$s;return i==null&&(i=x),n==null&&(n=x),Q(t,"define_method",[i],function e(){var $=e.$$s==null?this:e.$$s;return $.$wday()===n},{$$s:t})},{$$s:d}),X(d,"$hash",function(){var i=this;return[T("Time"),i.getTime()].$hash()}),X(d,"$inspect",function(){var i=this;return m(i["$utc?"]())?i.$strftime("%Y-%m-%d %H:%M:%S UTC"):i.$strftime("%Y-%m-%d %H:%M:%S %z")}),X(d,"$succ",function(){var i=this,n=new Date(i.getTime()+1e3);return n.timezone=i.timezone,n}),X(d,"$usec",function(){var i=this;return i.getMilliseconds()*1e3}),X(d,"$zone",function(){var i=this;if(i.timezone===0)return"UTC";if(i.timezone!=null)return x;var n=i.toString(),t;return n.indexOf("(")==-1?t=n.match(/[A-Z]{3,4}/)[0]:t=n.match(/\((.+)\)(?:\s|$)/)[1],t=="GMT"&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:t}),X(d,"$getgm",function(){var i=this,n=new Date(i.getTime());return n.timezone=0,n}),X(d,"$gmtime",function(){var i=this;return i.timezone!==0&&(j(i),i.timezone=0),i}),X(d,"$gmt?",function(){var i=this;return i.timezone===0}),X(d,"$gmt_offset",function(){var i=this;return i.timezone!=null?i.timezone*60:-i.getTimezoneOffset()*60}),X(d,"$strftime",function(i){var n=this;return i.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,e,$,s,o){var g="",z,S,I,B=e.indexOf("0")!==-1,O=e.indexOf("-")===-1,se=e.indexOf("_")!==-1,le=e.indexOf("^")!==-1,fe=e.indexOf("#")!==-1,de=(e.match(":")||[]).length;switch($=parseInt($,10),B&&se&&(e.indexOf("0")<e.indexOf("_")?B=!1:se=!1),o){case"Y":g+=n.$year();break;case"C":B=!se,g+=Math.round(n.$year()/100);break;case"y":B=!se,g+=n.$year()%100;break;case"m":B=!se,g+=n.$mon();break;case"B":g+=L[n.$mon()-1];break;case"b":case"h":se=!B,g+=H[n.$mon()-1];break;case"d":B=!se,g+=n.$day();break;case"e":se=!B,g+=n.$day();break;case"j":B=!se,$=isNaN($)?3:$,g+=n.$yday();break;case"H":B=!se,g+=n.$hour();break;case"k":se=!B,g+=n.$hour();break;case"I":B=!se,g+=n.$hour()%12||12;break;case"l":se=!B,g+=n.$hour()%12||12;break;case"P":g+=n.$hour()>=12?"pm":"am";break;case"p":g+=n.$hour()>=12?"PM":"AM";break;case"M":B=!se,g+=n.$min();break;case"S":B=!se,g+=n.$sec();break;case"L":B=!se,$=isNaN($)?3:$,g+=n.getMilliseconds();break;case"N":$=isNaN($)?9:$,g+=n.getMilliseconds().toString().$rjust(3,"0"),g=g.$ljust($,"0");break;case"z":var he=n.timezone==null?n.getTimezoneOffset():-n.timezone*60,ve=Math.floor(Math.abs(he)/60),me=Math.abs(he)%60;g+=he<0?"+":"-",g+=ve<10?"0":"",g+=ve,de>0&&(g+=":"),g+=me<10?"0":"",g+=me,de>1&&(g+=":00");break;case"Z":g+=n.$zone();break;case"A":g+=_[n.$wday()];break;case"a":g+=l[n.$wday()];break;case"u":g+=n.$wday()+1;break;case"w":g+=n.$wday();break;case"V":g+=n.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":g+=n.$cweek_cyear()["$[]"](1);break;case"g":g+=n.$cweek_cyear()["$[]"](1)["$[]"](A(-2,-1,!1));break;case"s":g+=n.$to_i();break;case"n":g+=`
`;break;case"t":g+="	";break;case"%":g+="%";break;case"c":g+=n.$strftime("%a %b %e %T %Y");break;case"D":case"x":g+=n.$strftime("%m/%d/%y");break;case"F":g+=n.$strftime("%Y-%m-%d");break;case"v":g+=n.$strftime("%e-%^b-%4Y");break;case"r":g+=n.$strftime("%I:%M:%S %p");break;case"R":g+=n.$strftime("%H:%M");break;case"T":case"X":g+=n.$strftime("%H:%M:%S");break;case"J":if(z=n.$to_date().$jd(),z<2405160){g+=n.$strftime("%Y-%m-%d");break}else z<2419614?(S="M",I=1867):z<2424875?(S="T",I=1911):z<2447535?(S="S",I=1925):z<2458605?(S="H",I=1988):(S="R",I=2018);g+=n.$format("%c%02d",S,Y(n.$year(),I)),g+=n.$strftime("-%m-%d");break;default:return t}return le&&(g=g.toUpperCase()),fe&&(g=g.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),O&&(B||se)&&(g=g.$rjust(isNaN($)?2:$,se?" ":"0")),g})}),X(d,"$to_a",function(){var i=this;return[i.$sec(),i.$min(),i.$hour(),i.$day(),i.$month(),i.$year(),i.$wday(),i.$yday(),i.$isdst(),i.$zone()]}),X(d,"$to_f",function(){var i=this;return i.getTime()/1e3}),X(d,"$to_i",function(){var i=this;return parseInt(i.getTime()/1e3,10)}),X(d,"$cweek_cyear",function(){var i=this,n=x,t=x,e=x,$=x,s=x,o=x,g=x;return n=T("Time").$new(i.$year(),1,1),t=n.$wday(),e=i.$year(),m(U(t,4))&&E(t,0)?$=Y(t,1):($=Y(Y(t,7),1),K($,-8)&&($=-1)),s=ne(V(i.$yday(),$),7).$ceil(),m(U(s,0))?T("Time").$new(Y(i.$year(),1),12,31).$cweek_cyear():(K(s,53)&&(o=T("Time").$new(i.$year(),12,31),g=o.$wday(),m(U(g,3))&&E(g,0)&&(s=1,e=V(e,1))),[s,e])}),function(u,i){return R(u,"mktime","local"),R(u,"utc","gm")}(r.get_singleton_class(d)),R(d,"ctime","asctime"),R(d,"dst?","isdst"),R(d,"getutc","getgm"),R(d,"gmtoff","gmt_offset"),R(d,"mday","day"),R(d,"month","mon"),R(d,"to_s","inspect"),R(d,"tv_sec","to_i"),R(d,"tv_usec","usec"),R(d,"utc","gmtime"),R(d,"utc?","gmt?"),R(d,"utc_offset","gmt_offset")}("::",Date,v)};Opal.modules["corelib/struct"]=function(r){var w=r.klass,j=r.slice,F=r.extract_kwargs,y=r.ensure_kwargs,ee=r.hash_get,Z=r.truthy,M=r.neqeq,X=r.eqeq,m=r.Opal,P=r.send,$e=r.Class,Q=r.to_a,V=r.def,ne=r.defs,Y=r.Kernel,A=r.rb_gt,E=r.rb_minus,U=r.eqeqeq,K=r.rb_lt,R=r.rb_ge,G=r.rb_plus,v=r.alias,x=r.top,T=[],q=r.nil,b=r.$$$;return r.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,to_a,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,each_with_object,flatten,respond_to?,dig"),x.$require("corelib/enumerable"),function(a,d,k){var h=w(a,d,"Struct"),_=[h].concat(k),l=r.$r(_);h.$include(b("Enumerable")),ne(h,"$new",function L(f,u,i){var n=L.$$p||q,t,e,$,s,o=this,g=q;if(L.$$p=null,t=j(arguments,1),e=F(t),e=y(e),$=t,s=ee(e,"keyword_init"),s==null&&(s=!1),Z(f))if(X(f.$class(),b("String"))&&M(f["$[]"](0).$upcase(),f["$[]"](0)))$.$unshift(f),f=q;else try{f=m["$const_name!"](f)}catch(z){if(r.rescue(z,[b("TypeError"),b("NameError")]))try{$.$unshift(f),f=q}finally{r.pop_exception(z)}else throw z}return P($,"map",[],function(S){return S==null&&(S=q),m["$coerce_to!"](S,b("String"),"to_str")}),g=P($e,"new",[o],function z(){var S=z.$$s==null?this:z.$$s;return P($,"each",[],function I(B){var O=I.$$s==null?this:I.$$s;return B==null&&(B=q),O.$define_struct_attribute(B)},{$$s:S}),function(I,B){return V(I,"$new",function(se){var le,fe,de=this,he=q;return le=j(arguments),fe=le,he=de.$allocate(),he.$$data={},P(he,"initialize",Q(fe)),he},-1),I.$alias_method("[]","new")}(r.get_singleton_class(S))},{$$s:o}),Z(n)&&P(g,"module_eval",[],n.$to_proc()),g.$$keyword_init=s,Z(f)&&b("Struct").$const_set(f,g),g},-2),ne(h,"$define_struct_attribute",function(f){var u=this;return X(u,b("Struct"))&&Y.$raise(b("ArgumentError"),"you cannot define attributes to the Struct class"),u.$members()["$<<"](f),P(u,"define_method",[f],function i(){var n=i.$$s==null?this:i.$$s;return n.$$data[f]},{$$s:u}),P(u,"define_method",[""+f+"="],function i(n){var t=i.$$s==null?this:i.$$s;return n==null&&(n=q),t.$$data[f]=n},{$$s:u})}),ne(h,"$members",function(){var f=this,u=q;return f.members==null&&(f.members=q),X(f,b("Struct"))&&Y.$raise(b("ArgumentError"),"the Struct class has no members"),f.members=Z(u=f.members)?u:[]}),ne(h,"$inherited",function(f){var u=this,i=q;return u.members==null&&(u.members=q),i=u.members,P(f,"instance_eval",[],function n(){var t=n.$$s==null?this:n.$$s;return t.members=i},{$$s:u})}),V(h,"$initialize",function(f){var u,i,n=this,t=q,e=q,$=q;return u=j(arguments),i=u,Z(n.$class().$$keyword_init)?(t=Z(e=i.$last())?e:new Map,(Z(A(i.$length(),1))||Z(i.length===1&&!t.$$is_hash))&&Y.$raise(b("ArgumentError"),"wrong number of arguments (given "+i.$length()+", expected 0)"),$=E(t.$keys(),n.$class().$members()),Z($["$any?"]())&&Y.$raise(b("ArgumentError"),"unknown keywords: "+$.$join(", ")),P(n.$class().$members(),"each",[],function s(o){var g,z=s.$$s==null?this:s.$$s;return o==null&&(o=q),g=[o,t["$[]"](o)],P(z,"[]=",g),g[g.length-1]},{$$s:n})):(Z(A(i.$length(),n.$class().$members().$length()))&&Y.$raise(b("ArgumentError"),"struct size differs"),P(n.$class().$members(),"each_with_index",[],function s(o,g){var z,S=s.$$s==null?this:s.$$s;return o==null&&(o=q),g==null&&(g=q),z=[o,i["$[]"](g)],P(S,"[]=",z),z[z.length-1]},{$$s:n}))},-1),V(h,"$initialize_copy",function(f){var u=this;u.$$data={};var i=Object.keys(f.$$data),n,t,e;for(n=0,t=i.length;n<t;n++)e=i[n],u.$$data[e]=f.$$data[e]}),ne(h,"$keyword_init?",function(){var f=this;return f.$$keyword_init}),V(h,"$members",function(){var f=this;return f.$class().$members()}),V(h,"$hash",function(){var f=this;return[f.$class(),f.$to_a()].$hash()}),V(h,"$[]",function(f){var u=this;return U(b("Integer"),f)?(Z(K(f,u.$class().$members().$size()["$-@"]()))&&Y.$raise(b("IndexError"),"offset "+f+" too small for struct(size:"+u.$class().$members().$size()+")"),Z(R(f,u.$class().$members().$size()))&&Y.$raise(b("IndexError"),"offset "+f+" too large for struct(size:"+u.$class().$members().$size()+")"),f=u.$class().$members()["$[]"](f)):U(b("String"),f)?u.$$data.hasOwnProperty(f)||Y.$raise(b("NameError").$new("no member '"+f+"' in struct",f)):Y.$raise(b("TypeError"),"no implicit conversion of "+f.$class()+" into Integer"),f=m["$coerce_to!"](f,b("String"),"to_str"),u.$$data[f]}),V(h,"$[]=",function(f,u){var i=this;return U(b("Integer"),f)?(Z(K(f,i.$class().$members().$size()["$-@"]()))&&Y.$raise(b("IndexError"),"offset "+f+" too small for struct(size:"+i.$class().$members().$size()+")"),Z(R(f,i.$class().$members().$size()))&&Y.$raise(b("IndexError"),"offset "+f+" too large for struct(size:"+i.$class().$members().$size()+")"),f=i.$class().$members()["$[]"](f)):U(b("String"),f)?Z(i.$class().$members()["$include?"](f.$to_sym()))||Y.$raise(b("NameError").$new("no member '"+f+"' in struct",f)):Y.$raise(b("TypeError"),"no implicit conversion of "+f.$class()+" into Integer"),f=m["$coerce_to!"](f,b("String"),"to_str"),i.$$data[f]=u}),V(h,"$==",function(f){var u=this;if(!Z(f["$instance_of?"](u.$class())))return!1;var i={},n={};function t(e,$){var s,o,g;i[e.$__id__()]=!0,n[$.$__id__()]=!0;for(s in e.$$data)if(o=e.$$data[s],g=$.$$data[s],b("Struct")["$==="](o)){if((!i.hasOwnProperty(o.$__id__())||!n.hasOwnProperty(g.$__id__()))&&!t(o,g))return!1}else if(!o["$=="](g))return!1;return!0}return t(u,f)}),V(h,"$eql?",function(f){var u=this;if(!Z(f["$instance_of?"](u.$class())))return!1;var i={},n={};function t(e,$){var s,o,g;i[e.$__id__()]=!0,n[$.$__id__()]=!0;for(s in e.$$data)if(o=e.$$data[s],g=$.$$data[s],b("Struct")["$==="](o)){if((!i.hasOwnProperty(o.$__id__())||!n.hasOwnProperty(g.$__id__()))&&!t(o,g))return!1}else if(!o["$eql?"](g))return!1;return!0}return t(u,f)}),V(h,"$each",function L(){var f=L.$$p||q,u=this;return L.$$p=null,f===q?P(u,"enum_for",["each"],function i(){var n=i.$$s==null?this:i.$$s;return n.$size()},{$$s:u}):(P(u.$class().$members(),"each",[],function i(n){var t=i.$$s==null?this:i.$$s;return n==null&&(n=q),r.yield1(f,t["$[]"](n))},{$$s:u}),u)}),V(h,"$each_pair",function L(){var f=L.$$p||q,u=this;return L.$$p=null,f===q?P(u,"enum_for",["each_pair"],function i(){var n=i.$$s==null?this:i.$$s;return n.$size()},{$$s:u}):(P(u.$class().$members(),"each",[],function i(n){var t=i.$$s==null?this:i.$$s;return n==null&&(n=q),r.yield1(f,[n,t["$[]"](n)])},{$$s:u}),u)}),V(h,"$length",function(){var f=this;return f.$class().$members().$length()}),V(h,"$to_a",function(){var f=this;return P(f.$class().$members(),"map",[],function u(i){var n=u.$$s==null?this:u.$$s;return i==null&&(i=q),n["$[]"](i)},{$$s:f})});var H=[];return V(h,"$inspect",function(){var f=this,u=q,i=q;return function(){try{return u="#<struct ",Z(H["$include?"](f.$__id__()))?G(u,":...>"):(H["$<<"](f.$__id__()),i=!0,U(b("Struct"),f)&&Z(f.$class().$name())&&(u=G(u,""+f.$class()+" ")),u=G(u,P(f.$each_pair(),"map",[],function(t,e){return t==null&&(t=q),e==null&&(e=q),""+t+"="+l("Opal").$inspect(e)}).$join(", ")),u=G(u,">"),u)}finally{Z(i)&&H.pop()}}()}),V(h,"$to_h",function L(f){var u=L.$$p||q,i,n,t=this;return L.$$p=null,i=j(arguments),n=i,u!==q?P(P(t,"map",[],u.$to_proc()),"to_h",Q(n)):P(t.$class().$members(),"each_with_object",[new Map],function e($,s){var o,g=e.$$s==null?this:e.$$s;return $==null&&($=q),s==null&&(s=q),o=[$,g["$[]"]($)],P(s,"[]=",o),o[o.length-1]},{$$s:t})},-1),V(h,"$values_at",function(f){var u,i,n=this;u=j(arguments),i=u,i=P(i,"map",[],function(o){return o==null&&(o=q),o.$$is_range?o.$to_a():o}).$flatten();for(var t=[],e=0,$=i.length;e<$;e++)i[e].$$is_number||Y.$raise(b("TypeError"),"no implicit conversion of "+i[e].$class()+" into Integer"),t.push(n["$[]"](i[e]));return t},-1),V(h,"$dig",function(f,u){var i,n,t=this,e=q;return i=j(arguments,1),n=i,e=Z(f.$$is_string&&t.$$data.hasOwnProperty(f))&&t.$$data[f]||q,e===q||n.length===0?e:(Z(e["$respond_to?"]("dig"))||Y.$raise(b("TypeError"),""+e.$class()+" does not have #dig method"),P(e,"dig",Q(n)))},-2),v(h,"size","length"),v(h,"to_s","inspect"),v(h,"values","to_a")}("::",null,T)};Opal.modules["corelib/set"]=function(r){var w=r.freeze,j=r.klass,F=r.slice,y=r.defs,ee=r.truthy,Z=r.eqeqeq,M=r.Kernel,X=r.send,m=r.def,P=r.eqeq,$e=r.rb_lt,Q=r.rb_le,V=r.alias,ne=[],Y=r.nil,A=r.$$$;return r.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(E,U,K){var R=j(E,U,"Set"),G=[R].concat(K),v=r.$r(G),x=Y,T=R.$$prototype;T.hash=Y,R.$include(A("Enumerable")),y(R,"$[]",function(a){var d,k,h=this;return d=F(arguments),k=d,h.$new(k)},-1),m(R,"$initialize",function b(a){var d=b.$$p||Y,k=this;return b.$$p=null,a==null&&(a=Y),k.hash=new Map,ee(a["$nil?"]())?Y:(Z(A("Enumerable"),a)||M.$raise(A("ArgumentError"),"value must be enumerable"),ee(d)?X(a,"each",[],function h(_){var l=h.$$s==null?this:h.$$s;return _==null&&(_=Y),l.$add(r.yield1(d,_))},{$$s:k}):k.$merge(a))},-1),m(R,"$dup",function(){var a=this,d=Y;return d=a.$class().$new(),d.$merge(a)}),m(R,"$-",function(a){var d=this;return ee(a["$respond_to?"]("each"))||M.$raise(A("ArgumentError"),"value must be enumerable"),d.$dup().$subtract(a)}),m(R,"$inspect",function(){var a=this;return"#<Set: {"+a.$to_a().$join(",")+"}>"}),m(R,"$==",function(a){var d=this;return ee(d["$equal?"](a))?!0:ee(a["$instance_of?"](d.$class()))?d.hash["$=="](a.$instance_variable_get("@hash")):ee(a["$is_a?"](A("Set")))&&P(d.$size(),a.$size())?X(a,"all?",[],function k(h){var _=k.$$s==null?this:k.$$s;return _.hash==null&&(_.hash=Y),h==null&&(h=Y),_.hash["$include?"](h)},{$$s:d}):!1}),m(R,"$add",function(a){var d=this;return d.hash["$[]="](a,!0),d}),m(R,"$classify",function b(){var a=b.$$p||Y,d=this,k=Y;return b.$$p=null,a===Y?d.$enum_for("classify"):(k=X(A("Hash"),"new",[],function h(_,l){var H,L=h.$$s==null?this:h.$$s;return _==null&&(_=Y),l==null&&(l=Y),H=[l,L.$class().$new()],X(_,"[]=",H),H[H.length-1]},{$$s:d}),X(d,"each",[],function(_){return _==null&&(_=Y),k["$[]"](r.yield1(a,_)).$add(_)}),k)}),m(R,"$collect!",function b(){var a=b.$$p||Y,d=this,k=Y;return b.$$p=null,a===Y?d.$enum_for("collect!"):(k=d.$class().$new(),X(d,"each",[],function(_){return _==null&&(_=Y),k["$<<"](r.yield1(a,_))}),d.$replace(k))}),m(R,"$compare_by_identity",function(){var a=this;return ee(a.hash["$respond_to?"]("compare_by_identity"))?(a.hash.$compare_by_identity(),a):a.$raise(v("NotImplementedError"),""+a.$class().$name()+"#compare_by_identity is not implemented")}),m(R,"$compare_by_identity?",function(){var a=this,d=Y;return ee(d=a.hash["$respond_to?"]("compare_by_identity?"))?a.hash["$compare_by_identity?"]():d}),m(R,"$delete",function(a){var d=this;return d.hash.$delete(a),d}),m(R,"$delete?",function(a){var d=this;return ee(d["$include?"](a))?(d.$delete(a),d):Y}),m(R,"$delete_if",function b(){var a=b.$$p||Y,d=this;return b.$$p=null,a===Y?d.$enum_for("delete_if"):(X(X(d,"select",[],function(h){return h==null&&(h=Y),r.yield1(a,h)}),"each",[],function k(h){var _=k.$$s==null?this:k.$$s;return _.hash==null&&(_.hash=Y),h==null&&(h=Y),_.hash.$delete(h)},{$$s:d}),d)}),m(R,"$freeze",function(){var a=this;return ee(a["$frozen?"]())?a:(a.hash.$freeze(),w(a))}),m(R,"$keep_if",function b(){var a=b.$$p||Y,d=this;return b.$$p=null,a===Y?d.$enum_for("keep_if"):(X(X(d,"reject",[],function(h){return h==null&&(h=Y),r.yield1(a,h)}),"each",[],function k(h){var _=k.$$s==null?this:k.$$s;return _.hash==null&&(_.hash=Y),h==null&&(h=Y),_.hash.$delete(h)},{$$s:d}),d)}),m(R,"$reject!",function b(){var a=b.$$p||Y,d=this,k=Y;return b.$$p=null,a===Y?d.$enum_for("reject!"):(k=d.$size(),X(d,"delete_if",[],a.$to_proc()),P(d.$size(),k)?Y:d)}),m(R,"$select!",function b(){var a=b.$$p||Y,d=this,k=Y;return b.$$p=null,a===Y?d.$enum_for("select!"):(k=d.$size(),X(d,"keep_if",[],a.$to_proc()),P(d.$size(),k)?Y:d)}),m(R,"$add?",function(a){var d=this;return ee(d["$include?"](a))?Y:d.$add(a)}),m(R,"$each",function b(){var a=b.$$p||Y,d=this;return b.$$p=null,a===Y?d.$enum_for("each"):(X(d.hash,"each_key",[],a.$to_proc()),d)}),m(R,"$empty?",function(){var a=this;return a.hash["$empty?"]()}),m(R,"$eql?",function(a){var d=this;return d.hash["$eql?"](X(a,"instance_eval",[],function k(){var h=k.$$s==null?this:k.$$s;return h.hash==null&&(h.hash=Y),h.hash},{$$s:d}))}),m(R,"$clear",function(){var a=this;return a.hash.$clear(),a}),m(R,"$include?",function(a){var d=this;return d.hash["$include?"](a)}),m(R,"$merge",function(a){var d=this;return X(a,"each",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=Y),_.$add(h)},{$$s:d}),d}),m(R,"$replace",function(a){var d=this;return d.$clear(),d.$merge(a),d}),m(R,"$size",function(){var a=this;return a.hash.$size()}),m(R,"$subtract",function(a){var d=this;return X(a,"each",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=Y),_.$delete(h)},{$$s:d}),d}),m(R,"$|",function(a){var d=this;return ee(a["$respond_to?"]("each"))||M.$raise(A("ArgumentError"),"value must be enumerable"),d.$dup().$merge(a)});function q(b){ee(x=b["$is_a?"](A("Set")))||M.$raise(A("ArgumentError"),"value must be a set")}return m(R,"$superset?",function(a){var d=this;return q(a),ee($e(d.$size(),a.$size()))?!1:X(a,"all?",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=Y),_["$include?"](h)},{$$s:d})}),m(R,"$proper_superset?",function(a){var d=this;return q(a),ee(Q(d.$size(),a.$size()))?!1:X(a,"all?",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=Y),_["$include?"](h)},{$$s:d})}),m(R,"$subset?",function(a){var d=this;return q(a),ee($e(a.$size(),d.$size()))?!1:X(d,"all?",[],function(h){return h==null&&(h=Y),a["$include?"](h)})}),m(R,"$proper_subset?",function(a){var d=this;return q(a),ee(Q(a.$size(),d.$size()))?!1:X(d,"all?",[],function(h){return h==null&&(h=Y),a["$include?"](h)})}),m(R,"$intersect?",function(a){var d=this;return q(a),ee($e(d.$size(),a.$size()))?X(d,"any?",[],function(h){return h==null&&(h=Y),a["$include?"](h)}):X(a,"any?",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=Y),_["$include?"](h)},{$$s:d})}),m(R,"$disjoint?",function(a){var d=this;return d["$intersect?"](a)["$!"]()}),m(R,"$to_a",function(){var a=this;return a.hash.$keys()}),V(R,"+","|"),V(R,"<","proper_subset?"),V(R,"<<","add"),V(R,"<=","subset?"),V(R,">","proper_superset?"),V(R,">=","superset?"),V(R,"difference","-"),V(R,"filter!","select!"),V(R,"length","size"),V(R,"map!","collect!"),V(R,"member?","include?"),V(R,"union","|")}("::",null,ne)};Opal.modules["corelib/dir"]=function(r){var w=r.klass,j=r.def,F=r.truthy,y=r.alias,ee=r.nil,Z=r.$$$;return r.add_stubs("[],pwd"),function(M,X,m){var P=w(M,X,"Dir");return function($e,Q){return j($e,"$chdir",function V(ne){var Y=V.$$p||ee,A=ee;return V.$$p=null,function(){try{return A=r.current_dir,r.current_dir=ne,r.yieldX(Y,[])}finally{r.current_dir=A}}()}),j($e,"$pwd",function(){return r.current_dir||"."}),j($e,"$home",function(){var ne=ee;return F(ne=Z("ENV")["$[]"]("HOME"))?ne:"."}),y($e,"getwd","pwd")}(r.get_singleton_class(P))}("::",null)};Opal.modules["corelib/file"]=function(r){var w=r.truthy,j=r.klass,F=r.const_set,y=r.Opal,ee=r.regexp,Z=r.rb_plus,M=r.def,X=r.Kernel,m=r.eqeq,P=r.rb_lt,$e=r.rb_minus,Q=r.range,V=r.send,ne=r.slice,Y=r.alias,A=[],E=r.nil,U=r.$$$;return r.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(K,R,G){var v=j(K,R,"File"),x=[v].concat(G),T=E;return F(x[0],"Separator",F(x[0],"SEPARATOR","/")),F(x[0],"ALT_SEPARATOR",E),F(x[0],"PATH_SEPARATOR",":"),F(x[0],"FNM_SYSCASE",0),T=/^[a-zA-Z]:(?:\\|\/)/,function(q,b){var a=[q].concat(b),d=r.$r(a);M(q,"$absolute_path",function(l,H){var L=E,f=E,u=E,i=E,n=E,t=E,e=E,$=E,s=E,o=E;H==null&&(H=E),L=d("SEPARATOR"),f=h(),u=[],l=w(l["$respond_to?"]("to_path"))?l.$to_path():l,l=y["$coerce_to!"](l,U("String"),"to_str"),H=w(i=H)?i:U("Dir").$pwd(),n=l.substr(0,L.length)===L||T.test(l),t=H.substr(0,L.length)===L||T.test(H),w(n)?(e=l.$split(ee(["[",f,"]"])),$=T.test(l)?"":l.$sub(ee(["^([",f,"]+).*$"]),"\\1"),s=!0):(e=Z(H.$split(ee(["[",f,"]"])),l.$split(ee(["[",f,"]"]))),$=T.test(H)?"":H.$sub(ee(["^([",f,"]+).*$"]),"\\1"),s=t);for(var g,z=0,S=e.length;z<S;z++)g=e[z],!(g===E||g===""&&(u.length===0||s)||g==="."&&(u.length===0||s))&&(g===".."?u.pop():u.push(g));return!s&&e[0]!=="."&&u.$unshift("."),o=u.$join(L),w(s)&&(o=Z($,o)),o},-2),M(q,"$expand_path",function(l,H){var L=this,f=E,u=E,i=E,n=E,t=E;return H==null&&(H=E),f=d("SEPARATOR"),u=h(),w(l[0]==="~"||H&&H[0]==="~")&&(i=d("Dir").$home(),w(i)||X.$raise(U("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),n=T.test(i)?"":i.$sub(ee(["^([",u,"]+).*$"]),"\\1"),w(i["$start_with?"](n))||X.$raise(U("ArgumentError"),"non-absolute home"),i=Z(i,f),t=ee(["^\\~(?:",f,"|$)"]),l=l.$sub(t,i),w(H)&&(H=H.$sub(t,i))),L.$absolute_path(l,H)},-2);function k(_){return w(_["$respond_to?"]("to_path"))&&(_=_.$to_path()),_=y["$coerce_to!"](_,U("String"),"to_str"),_}function h(){return d("ALT_SEPARATOR")===E?r.escape_regexp(d("SEPARATOR")):r.escape_regexp(Z(d("SEPARATOR"),d("ALT_SEPARATOR")))}return M(q,"$dirname",function(l,H){var L=this,f=E;if(H==null&&(H=1),m(H,0))return l;w(P(H,0))&&X.$raise(U("ArgumentError"),"level can't be negative"),f=h(),l=k(l);var u=l.match(new RegExp("^["+f+"]")),i;return l=l.replace(new RegExp("["+f+"]+$"),""),l=l.replace(new RegExp("[^"+f+"]+$"),""),l=l.replace(new RegExp("["+f+"]+$"),""),l===""?i=u?"/":".":i=l,H==1?i:L.$dirname(i,$e(H,1))},-2),M(q,"$basename",function(l,H){var L=E;return H==null&&(H=E),L=h(),l=k(l),l.length==0||(H!==E?H=y["$coerce_to!"](H,U("String"),"to_str"):H=null,l=l.replace(new RegExp("(.)["+L+"]*$"),"$1"),l=l.replace(new RegExp("^(?:.*["+L+"])?([^"+L+"]+)$"),"$1"),H===".*"?l=l.replace(/\.[^\.]+$/,""):H!==null&&(H=r.escape_regexp(H),l=l.replace(new RegExp(""+H+"$"),""))),l},-2),M(q,"$extname",function(l){var H=this,L=E,f=E;return l=k(l),L=H.$basename(l),w(L["$empty?"]())||(f=L["$[]"](Q(1,-1,!1)).$rindex("."),w(f["$nil?"]())||m(Z(f,1),$e(L.$length(),1)))?"":L["$[]"](r.Range.$new(Z(f,1),-1,!1))}),M(q,"$exist?",function(l){return r.modules[l]!=null}),M(q,"$directory?",function(l){var H=E;H=[];for(var L in r.modules)H.push(L);return l=l.$gsub(ee(["(^.",d("SEPARATOR"),"+|",d("SEPARATOR"),"+$)"])),V(H,"find",[],function(u){return u==null&&(u=E),u["$=~"](ee(["^",l]))})}),M(q,"$join",function(l){var H,L,f=E;return H=ne(arguments),L=H,w(L["$empty?"]())?"":(f="",L=V(L.$flatten().$each_with_index(),"map",[],function(i,n){return i==null&&(i=E),n==null&&(n=E),m(n,0)&&w(i["$empty?"]())||m(L.$length(),Z(n,1))&&w(i["$empty?"]())?d("SEPARATOR"):i}),L=V(L,"reject",[],"empty?".$to_proc()),V(L,"each_with_index",[],function(i,n){var t=E;return i==null&&(i=E),n==null&&(n=E),t=L["$[]"](Z(n,1)),w(t["$nil?"]())?f=""+f+i:(w(i["$end_with?"](d("SEPARATOR")))&&w(t["$start_with?"](d("SEPARATOR")))&&(i=i.$sub(ee([d("SEPARATOR"),"+$"]),"")),f=w(i["$end_with?"](d("SEPARATOR")))||w(t["$start_with?"](d("SEPARATOR")))?""+f+i:""+f+i+d("SEPARATOR"))}),f)},-1),M(q,"$split",function(l){return l.$split(d("SEPARATOR"))}),Y(q,"realpath","expand_path"),Y(q,"exists?","exist?")}(r.get_singleton_class(v),x)}("::",U("IO"),A)};Opal.modules["corelib/process/base"]=function(r){var w=r.klass,j=r.slice,F=r.defs,y=r.return_val,ee=r.nil;return function(Z,M){var X=w(Z,M,"Signal");return F(X,"$trap",function(P){return j(arguments),ee},-1)}("::",null),function(Z,M){var X=w(Z,M,"GC");return F(X,"$start",y(ee))}("::",null)};Opal.modules["corelib/process"]=function(r){var w=r.module,j=r.defs,F=r.truthy,y=r.return_val,ee=r.Kernel,Z=r.nil,M=r.$$$;return r.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(X){var m=w(X,"Process"),P=Z;if(m.__clocks__=[],j(m,"$__register_clock__",function(V,ne){var Y=this;return Y.__clocks__==null&&(Y.__clocks__=Z),Y.$const_set(V,Y.__clocks__.$size()),Y.__clocks__["$<<"](ne)}),m.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),P=!1,r.global.performance)P=function(){return performance.now()};else if(r.global.process&&process.hrtime){var $e=process.hrtime();P=function(){var Q=process.hrtime($e),V=Q[1]/1e3|0;return Q[0]*1e3+V/1e3}}return F(P)&&m.$__register_clock__("CLOCK_MONOTONIC",P),j(m,"$pid",y(0)),j(m,"$times",function(){var V=Z;return V=M("Time").$now().$to_f(),M(M("Benchmark"),"Tms").$new(V,V,V,V,V)}),j(m,"$clock_gettime",function(V,ne){var Y=this,A=Z;Y.__clocks__==null&&(Y.__clocks__=Z),ne==null&&(ne="float_second"),F(A=Y.__clocks__["$[]"](V))||ee.$raise(M(M("Errno"),"EINVAL"),"clock_gettime("+V+") "+Y.__clocks__["$[]"](V));var E=A();switch(ne){case"float_second":return E/1e3;case"float_millisecond":return E/1;case"float_microsecond":return E*1e3;case"second":return E/1e3|0;case"millisecond":return E/1|0;case"microsecond":return E*1e3|0;case"nanosecond":return E*1e6|0;default:ee.$raise(M("ArgumentError"),"unexpected unit: "+ne)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(r){var w=r.klass,j=r.module,F=r.def,y=r.range,ee=r.send,Z=r.rb_divide,M=r.Kernel,X=r.Opal,m=[],P=r.nil,$e=r.$$$;return r.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(Q,V,ne){var Y=w(Q,V,"Random"),A=[Y].concat(ne);return function(E,U){var K=j(E,"Formatter"),R=[K].concat(U),G=r.$r(R);return F(K,"$hex",function(x){var T=this;x==null&&(x=P),x=$e("Random").$_verify_count(x);for(var q=T.$bytes(x),b="",a=0;a<x;a++)b+=q.charCodeAt(a).toString(16).padStart(2,"0");return b.$encode("US-ASCII")},-1),F(K,"$random_bytes",function(x){var T=this;return x==null&&(x=P),T.$bytes(x)},-1),F(K,"$base64",function(x){var T=this;return x==null&&(x=P),$e("Base64").$strict_encode64(T.$random_bytes(x)).$encode("US-ASCII")},-1),F(K,"$urlsafe_base64",function(x,T){var q=this;return x==null&&(x=P),T==null&&(T=!1),$e("Base64").$urlsafe_encode64(q.$random_bytes(x),T).$encode("US-ASCII")},-1),F(K,"$uuid",function(){var x=this,T=P;return T=x.$hex(16).$split(""),T["$[]="](12,"4"),T["$[]="](16,(parseInt(T["$[]"](16),16)&3|8).toString(16)),T=[T["$[]"](y(0,8,!0)),T["$[]"](y(8,12,!0)),T["$[]"](y(12,16,!0)),T["$[]"](y(16,20,!0)),T["$[]"](y(20,32,!0))],T=ee(T,"map",[],"join".$to_proc()),T.$join("-")}),F(K,"$random_float",function(){var x=this,T=P,q=P;return T=x.$bytes(4),q=0,ee(4,"times",[],function(a){return a==null&&(a=P),q=q["$<<"](8),q=q["$|"](T["$[]"](a).$ord())}),Z(q.$abs(),2147483647)}),F(K,"$random_number",function(x){var T=this;function q(){return T.$random_float()}function b(d){return Math.floor(q()*d)}function a(){var d=x.begin,k=x.end;if(d===P||k===P)return P;var h=k-d;return h<0?P:h===0?d:(k%1===0&&d%1===0&&!x.excl&&h++,b(h)+d)}return x==null?q():x.$$is_range?a():x.$$is_number?(x<=0&&M.$raise($e("ArgumentError"),"invalid argument - "+x),x%1===0?b(x):q()*x):(x=X["$coerce_to!"](x,$e("Integer"),"to_int"),x<=0&&M.$raise($e("ArgumentError"),"invalid argument - "+x),b(x))},-1),F(K,"$alphanumeric",function(x){var T=this,q=P;return x==null&&(x=P),x=G("Random").$_verify_count(x),q=ee([y("0","9",!1),y("a","z",!1),y("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),ee($e("Array"),"new",[x],function b(a){var d=b.$$s==null?this:b.$$s;return q["$[]"](d.$random_number(q.$length()))},{$$s:T}).$join()},-1)}(Y,A),Y.$include($e($e("Random"),"Formatter")),Y.$extend($e($e("Random"),"Formatter"))}("::",null,m)};Opal.modules["corelib/random/mersenne_twister"]=function(r){var w=r.klass,j=r.const_set,F=r.send,y=r.nil,ee=r.$$$,Z=y;return r.add_stubs("generator="),Z=function(){var M=624,X=397,m=2567483615,P=2147483648,$e=2147483647,Q=function(R,G){return R&P|G&$e},V=function(R,G){return Q(R,G)>>>1^(G&1?m:0)};function ne(R){var G={left:0,next:M,state:new Array(M)};return Y(G,R),G}function Y(R,G){var v;for(R.state[0]=G>>>0,v=1;v<M;v++)R.state[v]=1812433253*(R.state[v-1]^R.state[v-1]>>30>>>0)+v,R.state[v]&=4294967295;R.left=1,R.next=M}function A(R){var G=0,v=R.state,x;for(R.left=M,R.next=0,x=M-X+1;--x;G++)v[G]=v[G+X]^V(v[G+0],v[G+1]);for(x=X;--x;G++)v[G]=v[G+(X-M)]^V(v[G+0],v[G+1]);v[G]=v[G+(X-M)]^V(v[G+0],v[0])}function E(R){var G;return--R.left<=0&&A(R),G=R.state[R.next++],G^=G>>>11,G^=G<<7&2636928640,G^=G<<15&4022730752,G^=G>>>18,G>>>0}function U(R,G){return R>>>=5,G>>>=6,(R*67108864+G)*(1/9007199254740992)}function K(R){var G=E(R),v=E(R);return U(G,v)}return{genrand_real:K,init:ne}}(),function(M,X){var m=w(M,X,"Random"),P,$e=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return j(m,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*$e)},reseed:function(Q){return Z.init(Q)},rand:function(Q){return Z.genrand_real(Q)}}),P=[ee(m,"MERSENNE_TWISTER_GENERATOR")],F(m,"generator=",P),P[P.length-1]}("::",null)};Opal.modules["corelib/random"]=function(r){var w=r.truthy,j=r.klass,F=r.Kernel,y=r.defs,ee=r.Opal,Z=r.def,M=r.eqeqeq,X=r.send,m=r.top,P=r.nil,$e=r.$$$;return r.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),m.$require("corelib/random/formatter"),function(Q,V){var ne=j(Q,V,"Random");return ne.$attr_reader("seed","state"),y(ne,"$_verify_count",function(A){return w(A)||(A=16),typeof A!="number"&&(A=A.$to_int()),A<0&&F.$raise($e("ArgumentError"),"negative string size (or size too big)"),A=Math.floor(A),A}),Z(ne,"$initialize",function(A){var E=this;return A==null&&(A=$e("Random").$new_seed()),A=ee["$coerce_to!"](A,$e("Integer"),"to_int"),E.state=A,E.$reseed(A)},-1),Z(ne,"$reseed",function(A){var E=this;return E.seed=A,E.$rng=r.$$rand.reseed(A)}),y(ne,"$new_seed",function(){return r.$$rand.new_seed()}),y(ne,"$rand",function(A){var E=this;return $e(E,"DEFAULT").$rand(A)},-1),y(ne,"$srand",function(A){var E=this,U=P;return A==null&&(A=$e("Random").$new_seed()),A=ee["$coerce_to!"](A,$e("Integer"),"to_int"),U=$e(E,"DEFAULT").$seed(),$e(E,"DEFAULT").$reseed(A),U},-1),y(ne,"$urandom",function(A){return $e("SecureRandom").$bytes(A)}),Z(ne,"$==",function(A){var E=this,U=P;return M($e("Random"),A)?w(U=E.$seed()["$=="](A.$seed()))?E.$state()["$=="](A.$state()):U:!1}),Z(ne,"$bytes",function(A){var E=this;return A=$e("Random").$_verify_count(A),X($e("Array"),"new",[A],function U(){var K=U.$$s==null?this:U.$$s;return K.$rand(255).$chr()},{$$s:E}).$join().$encode("ASCII-8BIT")}),y(ne,"$bytes",function(A){var E=this;return $e(E,"DEFAULT").$bytes(A)}),Z(ne,"$rand",function(A){var E=this;return E.$random_number(A)},-1),Z(ne,"$random_float",function(){var A=this;return A.state++,r.$$rand.rand(A.$rng)}),y(ne,"$random_float",function(){var A=this;return $e(A,"DEFAULT").$random_float()}),y(ne,"$generator=",function(A){var E=this;return r.$$rand=A,w(E["$const_defined?"]("DEFAULT"))?$e(E,"DEFAULT").$reseed():E.$const_set("DEFAULT",E.$new(E.$new_seed()))})}("::",null),m.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(r){var w=r.Kernel,j=r.klass,F=r.send,y=r.slice,ee=r.module,Z=r.def,M=r.return_val,X=r.alias,m=r.defs,P=r.top,$e=[],Q=r.nil,V=r.$$$;r.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var ne={};function Y(E){switch(r.config.unsupported_features_severity){case"error":w.$raise(V("NotImplementedError"),E);break;case"warning":A(E);break}}function A(E){ne[E]||(ne[E]=!0,P.$warn(E))}return function(E,U){var K=j(E,U,"String"),R="String#%s not supported. Mutable String methods are not supported in Opal.";return F(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function G(v){var x=G.$$s==null?this:G.$$s;return v==null&&(v=Q),F(x,"define_method",[v],function(q){return y(arguments),w.$raise(V("NotImplementedError"),R["$%"](v))},-1)},{$$s:K})}("::",null),function(E){var U=ee(E,"Kernel"),K="Object tainting is not supported by Opal";return Z(U,"$taint",function(){var G=this;return Y(K),G}),Z(U,"$untaint",function(){var G=this;return Y(K),G}),Z(U,"$tainted?",function(){return Y(K),!1})}("::"),function(E,U){var K=j(E,U,"Module");return Z(K,"$public",function(G){var v,x,T=this;return v=y(arguments),x=v,x.length===0?(T.$$module_function=!1,Q):x.length===1?x[0]:x},-1),Z(K,"$private_class_method",function(G){var v,x;return v=y(arguments),x=v,x.length===1?x[0]:x},-1),Z(K,"$private_method_defined?",M(!1)),Z(K,"$private_constant",function(G){return y(arguments),Q},-1),X(K,"nesting","public"),X(K,"private","public"),X(K,"protected","public"),X(K,"protected_method_defined?","private_method_defined?"),X(K,"public_class_method","private_class_method"),X(K,"public_instance_method","instance_method"),X(K,"public_instance_methods","instance_methods"),X(K,"public_method_defined?","method_defined?")}("::",null),function(E){var U=ee(E,"Kernel");return Z(U,"$private_methods",function(R){return y(arguments),[]},-1),X(U,"protected_methods","private_methods"),X(U,"private_instance_methods","private_methods"),X(U,"protected_instance_methods","private_methods")}("::"),function(E,U){var K=ee(E,"Kernel"),R=[K].concat(U),G=r.$r(R);return Z(K,"$eval",function(x){return y(arguments),w.$raise(V("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+G("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",$e),m(P,"$public",function(U){var K,R;return K=y(arguments),R=K,R.length===1?R[0]:R},-1),m(P,"$private",function(U){var K,R;return K=y(arguments),R=K,R.length===1?R[0]:R},-1)};Opal.modules["corelib/binding"]=function(r){var w=r.klass,j=r.truthy,F=r.def,y=r.slice,ee=r.send,Z=r.to_a,M=r.Kernel,X=r.return_ivar,m=r.eqeq;r.thrower;var P=r.module,$e=r.const_set,Q=r.top,V=[],ne=r.nil,Y=r.$$$;return r.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),function(A,E){var U=w(A,E,"Binding"),K=U.$$prototype;return K.jseval=K.scope_variables=ne,F(U,"$initialize",function(G,v,x,T){var q,b=this;return v==null&&(v=[]),T==null&&(T=ne),q=[G,v,x,T],b.jseval=q[0],b.scope_variables=q[1],b.receiver=q[2],b.source_location=q[3],j(typeof x!==void 0)?ne:x=b.$js_eval("self")},-2),F(U,"$js_eval",function(G){var v,x,T=this;return v=y(arguments),x=v,j(T.jseval)?ee(T.jseval,"call",Z(x)):M.$raise("Evaluation on a Proc#binding is not supported")},-1),F(U,"$local_variable_get",function(G){var v=this;try{return v.$js_eval(G)}catch(x){if(r.rescue(x,[Y("Exception")]))try{return M.$raise(Y("NameError"),"local variable `"+G+"' is not defined for "+v.$inspect())}finally{r.pop_exception(x)}else throw x}}),F(U,"$local_variable_set",function(G,v){var x=this;return r.Binding.tmp_value=v,x.$js_eval(""+G+" = Opal.Binding.tmp_value"),delete r.Binding.tmp_value,v}),F(U,"$local_variables",X("scope_variables")),F(U,"$local_variable_defined?",function(G){var v=this;return v.scope_variables["$include?"](G)}),F(U,"$eval",function(G,v,x){try{var T=this;return v==null&&(v=ne),x==null&&(x=ne),m(G,"self")?T.$receiver():M.$eval(G,T,v,x)}catch(q){if(q===r.t_eval_return)return q.$v;throw q}},-2),U.$attr_reader("receiver","source_location")}("::",null),function(A){var E=P(A,"Kernel");return F(E,"$binding",function(){return M.$raise("Opal doesn't support dynamic calls to binding")})}("::"),$e(V[0],"TOPLEVEL_BINDING",Y("Binding").$new(function(A){return new Function("self","return "+A)(Q)},[],Q,["<main>",0]))};Opal.modules["corelib/irb"]=function(r){var w=r.module,j=r.truthy,F=r.Kernel,y=r.defs,ee=r.gvars,Z=r.lambda,M=r.hash_rehash,X=r.send,m=r.rb_plus,P=r.const_set,$e=r.klass,Q=r.def,V=r.Opal,ne=r.range,Y=r.eqeq,A=r.thrower,E=[],U=r.nil,K=r.$$$;r.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),function(R,G){var v=w(R,"Opal"),x=[v].concat(G);return function(T,q){var b=w(T,"IRB"),a=[b].concat(q),d=r.$r(a);return y(b,"$ensure_loaded",function(h){var _=U,l=U;if(j(r.loaded_features["$include?"](h)))return U;_=j(d("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":d("RUBY_ENGINE_VERSION"),l="https://cdn.opalrb.com/opal/"+_+"/"+h+".js";var H;if(typeof XMLHttpRequest<"u"){var L=new XMLHttpRequest;L.open("GET",l,!1),L.send(""),H=L.responseText}else F.$raise("You need to provision "+h+" yourself in this environment");return new Function("Opal",H)(r),r.require(h),j(r.loaded_features["$include?"](h))?U:F.$raise("Could not load "+h+" for some reason")}),b.$singleton_class().$attr_accessor("output"),y(b,"$prepare_console",function k(){var h=k.$$p||U,_,l=this,H=U,L=U;return ee.stdout==null&&(ee.stdout=U),ee.stderr==null&&(ee.stderr=U),ee.stdin==null&&(ee.stdin=U),k.$$p=null,function(){try{return l["$output="](""),H=M(new Map([[ee.stdout,Z(function(u){return u==null&&(u=U),ee.stdout=u})],[ee.stderr,Z(function(u){return u==null&&(u=U),ee.stderr=u})]])),j(l["$browser?"]())&&(X(H,"each",[],function f(u,i){var n=f.$$s==null?this:f.$$s,t=U;return u==null&&(u=U),i==null&&(i=U),t=u.$dup(),t["$write_proc="](X(n,"proc",[],function e($){var s=e.$$s==null?this:e.$$s;return $==null&&($=U),s["$output="](m(s.$output(),$)),s["$output="](s.$output().$split(`
`).$last(30).$join(`
`)),j($["$end_with?"](`
`))&&s["$output="](m(s.$output(),`
`)),u.$write_proc().$call($)},{$$s:n})),t["$tty="](!1),i.$call(t)},{$$s:l}),L=ee.stdin.$read_proc(),ee.stdin["$read_proc="](function(f){var u=prompt(l.$output());return u!==null?u+`
`:U})),r.yieldX(h,[])}finally{X(H,"each",[],function(u,i){return u==null&&(u=U),i==null&&(i=U),i.$call(u)}),_=[L],X(ee.stdin,"read_proc=",_),_[_.length-1],_=[""],X(l,"output=",_),_[_.length-1]}}()}),y(b,"$browser?",function(){return typeof document<"u"&&typeof prompt<"u"}),P(a[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),function(k,h){var _=$e(k,h,"Silencer"),l=_.$$prototype;return l.collector=l.stderr=U,Q(_,"$initialize",function(){var L=this;return ee.stderr==null&&(ee.stderr=U),L.stderr=ee.stderr}),Q(_,"$silence",function H(){var L=H.$$p||U,f=this;return H.$$p=null,function(){try{return f.collector=K("StringIO").$new(),ee.stderr=f.collector,r.yieldX(L,[])}finally{ee.stderr=f.stderr}}()}),Q(_,"$warnings",function(){var L=this;return L.collector.$string()})}(a[0],null)}(x[0],x)}(E[0],E),function(R,G,v){var x=$e(R,G,"Binding"),T=[x].concat(v),q=r.$r(T);return Q(x,"$irb",function(){try{var a=A("return"),d=this,k=U;return K(V,"IRB").$ensure_loaded("opal-replutils"),k=K(K(V,"IRB"),"Silencer").$new(),X(K(V,"IRB"),"prepare_console",[],function h(){var _=h.$$s==null?this:h.$$s;return function(){try{var l=A("break");return X(_,"loop",[],function H(){var L=H.$$s==null?this:H.$$s,f=U,u=U,i=U,n=U,t=U;L.$print(">> "),f=L.$gets(),j(f)||l.$throw(U,H.$$is_lambda),u="",j(K(V,"IRB")["$browser?"]())&&L.$puts(f),j(f["$start_with?"]("ls "))?(u=f["$[]"](ne(3,-1,!1)),i="ls"):Y(f,`ls
`)?(u="self",i="ls"):j(f["$start_with?"]("show "))?(u=f["$[]"](ne(5,-1,!1)),i="show"):(u=f,i="inspect"),n=U;do{try{X(k,"silence",[],function(){return n=r.compile(u,{irb:!0})})}catch(e){if(r.rescue(e,[q("SyntaxError")])){t=e;try{if(j(K(K(V,"IRB"),"LINEBREAKS")["$include?"](t.$message()))){L.$print(".. "),f=L.$gets(),j(f)||a.$throw(U,H.$$is_lambda),j(K(V,"IRB")["$browser?"]())&&L.$puts(f),u=m(u,f);continue}else j(k.$warnings()["$empty?"]())?L.$warn(t.$full_message()):L.$warn(k.$warnings())}finally{r.pop_exception(e)}}else throw e}break}while(!0);return Y(i,"show")&&(L.$puts(n),a.$throw(U,H.$$is_lambda)),L.$puts(K("REPLUtils").$eval_and_print(n,i,!1,L))},{$$s:_,$$ret:a})}catch(H){if(H===l)return H.$v;throw H}finally{l.is_orphan=!0}}()},{$$s:d})}catch(h){if(h===a)return h.$v;throw h}finally{a.is_orphan=!0}})}("::",null,E),r.irb=function(R){K("Binding").$new(R).$irb()},r.load_parser=function(){r.Opal.IRB.$ensure_loaded("opal-parser")},typeof r.eval>"u"&&(r.eval=function(R){return r.load_parser(),r.eval(R)}),typeof r.compile>"u"&&(r.compile=function(R,G){return r.load_parser(),r.compile(R,G)})};Opal.modules.opal=function(r){var w=r.Object;return r.nil,r.add_stubs("require,autoload"),w.$require("opal/base"),w.$require("opal/mini"),w.$require("corelib/kernel/format"),w.$require("corelib/string/encoding"),w.$autoload("Math","corelib/math"),w.$require("corelib/complex/base"),w.$autoload("Complex","corelib/complex"),w.$require("corelib/rational/base"),w.$autoload("Rational","corelib/rational"),w.$require("corelib/time"),w.$autoload("Struct","corelib/struct"),w.$autoload("Set","corelib/set"),w.$autoload("Dir","corelib/dir"),w.$autoload("File","corelib/file"),w.$require("corelib/process/base"),w.$autoload("Process","corelib/process"),w.$autoload("Random","corelib/random"),w.$require("corelib/unsupported"),w.$require("corelib/binding"),w.$require("corelib/irb")};Opal.modules["js/proxy"]=function(r){var w=r.module,j=r.truthy,F=r.def,y=r.klass,ee=r.const_set,Z=r.slice,M=r.range,X=r.send,m=r.to_a,P=r.gvars,$e=r.top,Q=[],V=r.nil;return r.add_stubs("require,new,to_n,to_rb_name,include,attr_accessor,Native,to_js_name,end_with?,existing_property?,raise,[],[]=,first,native,dup,call,class,<<,wrap_result,respond_to?,enum_for,length,each,private,join,with_index,map,split,to_s,include?,downcase,gsub,upcase,zero?,capitalize,sub,native="),$e.$require("opal"),$e.$require("native"),function(ne,Y){var A=w(ne,"JS"),E=[A].concat(Y),U=r.$r(E);return function(K,R){var G=w(K,"Helpers"),v=[G].concat(R),x=r.$r(v);return F(G,"$wrap_result",function(q){return j(q&&typeof q.then=="function")?x("Promise").$new(q):j(typeof q=="object"&&q!==null)?x("Proxy").$new(q):q}),F(G,"$native_methods",function(){var q=this,b=V;return q.native_methods==null&&(q.native_methods=V),q.native_methods=function(){if(j(b=q.native_methods))return b;{let a=q.$to_n();const d=new Set;for(;a!==null;){for(const k of Reflect.ownKeys(a)){const h=k.toString(),_=q.$to_rb_name(h);typeof k!="symbol"&&h!==_&&d.add(_),d.add(h)}a=Object.getPrototypeOf(a)}return Array.from(d)}}()})}(E[0],E),function(K,R,G){var v=y(K,R,"Proxy"),x=[v].concat(G),T=r.$r(x);return v.$include(T("Enumerable")),v.$include(T("Helpers")),v.$attr_accessor("native"),ee(x[0],"IRREGULARS",["html","url","uri"]),F(v,"$initialize",function(b){var a=this;return a.native=a.$Native(b)}),F(v,"$method_missing",function q(b,a){var d=q.$$p||V,k,h,_,l=this,H=V,L=V,f=V,u=V,i=V,n=V;return q.$$p=null,k=Z(arguments,1),h=k,H=l.$to_js_name(b),j(l["$existing_property?"](H))||j(H["$end_with?"]("="))||l.$raise(T("NoMethodError"),"undefined method `"+b+"` for "+l),j(H["$end_with?"]("="))?(L=H["$[]"](M(0,-2,!1)),_=[L,h.$first()],X(l.$native(),"[]=",_),_[_.length-1]):(f=l.$native()["$[]"](H),j(typeof f=="function")?(u=h.$dup(),j(d)&&(i=function(){let t=Array.prototype.slice.call(arguments);return X(d,"call",[l.$class().$new(this)].concat(m(t)))},u["$<<"](i)),n=f.apply(l.$to_n(),u.$to_n()),l.$wrap_result(n)):j(typeof f=="object"&&f!==null)?l.$wrap_result(f):f)},-2),F(v,"$to_str",function(){var b=this;return b.$to_n().toString()}),F(v,"$respond_to_missing?",function(b,a){return!0},-2),F(v,"$each",function q(){var b=q.$$p||V,a=this,d=V;return q.$$p=null,j(a["$respond_to?"]("length"))?(d=a.$length(),X(r.Range.$new(0,d,!0),"each",[],function k(h){var _=k.$$s==null?this:k.$$s;return h==null&&(h=V),r.yield1(b,_["$[]"](h))},{$$s:a})):a.$enum_for("each")}),F(v,"$[]",function(b){var a=this,d=V;return d=a.$native()["$[]"](b),a.$wrap_result(d)}),F(v,"$[]=",function(b,a){var d=this;return d.$native()["$[]="](b,a),d.$wrap_result(d.$native())}),F(v,"$to_n",function(){var b=this;return b.$native().$to_n()}),F(v,"$length",function(){var b=this;return b.$native().$length()}),v.$private(),F(v,"$to_js_name",function(b){return X(b.$to_s().$split("_").$map(),"with_index",[],function(d,k){return d==null&&(d=V),k==null&&(k=V),j(T("IRREGULARS")["$include?"](d.$gsub("=","").$downcase()))?d.$upcase():j(k["$zero?"]())?d:d.$capitalize()}).$join()}),F(v,"$to_rb_name",function(b){return X(b.$to_s(),"gsub",[/([A-Z]+)/],function(){var d;return"_"+((d=P["~"])===V?V:d["$[]"](1)).$downcase()}).$sub(/^_/,"")}),F(v,"$existing_property?",function(b){var a=this;return b in a.$to_n()})}(E[0],null,E),function(K,R,G){var v=y(K,R,"Promise"),x=[v].concat(G),T=r.$r(x);return v.$include(T("Helpers")),F(v,"$then",function q(){var b=q.$$p||V,a,d=this,k=V;return q.$$p=null,k=function(h){var _=b.$call(d.$wrap_result(h));return _&&typeof _.then=="function"?_:_&&typeof _.to_n=="function"?_.to_n():_},a=[d.$to_n().then(k)],X(d,"native=",a),a[a.length-1]}),F(v,"$catch",function q(){var b=q.$$p||V,a,d=this,k=V;return q.$$p=null,k=function(h){var _=b.$call(d.$wrap_result(h));return _&&typeof _.then=="function"?_:_&&typeof _.to_n=="function"?_.to_n():_},a=[d.$to_n().catch(k)],X(d,"native=",a),a[a.length-1]})}(E[0],U("Proxy"),E)}(Q[0],Q)};Opal.modules["opal_stimulus/stimulus_controller"]=function(r){var w=r.klass,j=r.const_set,F=r.Opal,y=r.defs,ee=r.truthy,Z=r.send,M=r.gvars,X=r.return_val,m=r.thrower,P=r.rb_plus,$e=r.eqeqeq,Q=r.def,V=r.top,ne=[],Y=r.nil,A=r.$$$;return r.add_stubs("require,bridge,stimulus_controller,downcase,gsub,name,include?,sub,to_s,each,subclasses,define_method,stimulus_name,to_ruby_name,+,new,map,capitalize,===,raise,[]=,to_n,Native,==,window,document"),V.$require("opal"),V.$require("native"),V.$require("js/proxy"),function(E,U,K){var R=w(E,U,"StimulusController"),G=[R].concat(K),v=r.$r(G),x=R.$$prototype;return x.window=x.document=Y,j(G[0],"DEFAULT_METHODS",["initialize","connect","disconnect","dispatch"]),j(G[0],"DEFAULT_GETTERS",["element"]),y(R,"$inherited",function(q){return F.$bridge(q.$stimulus_controller(),q)}),y(R,"$stimulus_controller",function(){var q=this;return q.stimulus_controller==null&&(q.stimulus_controller=Y),ee(q.stimulus_controller)||(q.stimulus_controller=class extends Controller{}),q.stimulus_controller}),y(R,"$stimulus_name",function(){var q=this;return q.$name().$gsub(/Controller$/,"").$gsub(/([a-z])([A-Z])/,"\\1-\\2").$gsub("::","--").$downcase()}),y(R,"$method_added",function(q){var b=this;if(ee(v("DEFAULT_GETTERS")["$include?"](q)))return Y;b.$stimulus_controller().prototype[q]=function(...a){try{var d=a.map(function(k){return k&&typeof k=="object"&&!k.$$class?r.JS.Proxy.$new(k):k});return this["$"+q].apply(this,d)}catch(k){console.error("Uncaught",k)}}}),y(R,"$to_ruby_name",function(q){return Z(q.$to_s(),"gsub",[/([A-Z]+)/],function(){var a;return"_"+((a=M["~"])===Y?Y:a["$[]"](1)).$downcase()}).$sub(/^_/,"")}),y(R,"$register_all!",function(){try{var q=m("return"),b=this;return Z(b.$subclasses(),"each",[],function a(d){return d==null&&(d=Y),Z(d,"define_method",["dummy"],X(Y)),ee(application.controllers["$include?"](d.$stimulus_name()))&&q.$throw(Y,a.$$is_lambda),application.register(d.$stimulus_name(),d.$stimulus_controller())},{$$ret:q})}catch(a){if(a===q)return a.$v;throw a}finally{q.is_orphan=!0}}),y(R,"$targets=",function(q){var b=this;return q==null&&(q=[]),b.$stimulus_controller().targets=q,Z(q,"each",[],function a(d){var k=a.$$s==null?this:a.$$s,h=Y,_=Y,l=Y,H=Y,L=Y,f=Y;d==null&&(d=Y),h=d.$to_s(),_=k.$to_ruby_name(d),Z(k,"define_method",[P(_,"_target")],function(){return A(v("JS"),"Proxy").$new(this[P(h,"Target")])}),Z(k,"define_method",[P(_,"_targets")],function(){return Z(this[P(h,"Targets")],"map",[],function(n){return n==null&&(n=Y),A(v("JS"),"Proxy").$new(n)})}),Z(k,"define_method",[P(P("has_",_),"_target")],function(){return this[P(P("has",h.$capitalize()),"Target")]}),l=P(_,"_target_connected"),H=P(h,"TargetConnected"),k.$stimulus_controller().prototype[H]=function(){if(this["$respond_to?"]&&this["$respond_to?"](l))return this["$"+l]()},L=P(_,"_target_disconnected"),f=P(h,"TargetDisconnected"),k.$stimulus_controller().prototype[f]=function(){if(this["$respond_to?"]&&this["$respond_to?"](L))return this["$"+L]()}},{$$s:b})},-1),y(R,"$outlets=",function(q){var b=this;return q==null&&(q=[]),b.$stimulus_controller().outlets=q,Z(q,"each",[],function a(d){var k=a.$$s==null?this:a.$$s,h=Y,_=Y,l=Y,H=Y,L=Y,f=Y;d==null&&(d=Y),h=d.$to_s(),_=k.$to_ruby_name(d),Z(k,"define_method",[P(_,"_outlet")],function(){return this[P(h,"Outlet")]}),Z(k,"define_method",[P(_,"_outlets")],function(){return this[P(h,"Outlets")]}),Z(k,"define_method",[P(P("has_",_),"_outlet")],function(){return this[P(P("has",h.$capitalize()),"Outlet")]}),l=P(_,"_outlet_connected"),H=P(h,"OutletConnected"),k.$stimulus_controller().prototype[H]=function(){if(this["$respond_to?"]&&this["$respond_to?"](l))return this["$"+l]()},L=P(_,"_outlet_disconnected"),f=P(h,"OutletDisconnected"),k.$stimulus_controller().prototype[f]=function(){if(this["$respond_to?"]&&this["$respond_to?"](L))return this["$"+L]()}},{$$s:b})},-1),y(R,"$values=",function(q){var b=this,a=Y;return q==null&&(q=new Map),a=new Map,Z(q,"each",[],function d(k,h){var _=d.$$s==null?this:d.$$s,l=Y,H=Y,L=Y,f=Y;k==null&&(k=Y),h==null&&(h=Y),k=_.$to_ruby_name(k),l=$e("string",H=h)?String:$e("number",H)?Number:$e("boolean",H)?Boolean:$e("array",H)?Array:$e("object",H)?Object:_.$raise(v("ArgumentError"),"Unsupported value type: "+h+", please use :string, :number, :boolean, :array, or :object"),a["$[]="](k,l),_.$stimulus_controller().values=a.$to_n(),Z(_,"define_method",[P(k,"_value")],function u(){var i=u.$$s==null?this:u.$$s;return i.$Native(this[P(k,"Value")])},{$$s:_}),Z(_,"define_method",[P(k,"_value=")],function u(i){var n=u.$$s==null?this:u.$$s;return i==null&&(i=Y),n.$Native(this[P(k,"Value")]=i)},{$$s:_}),Z(_,"define_method",["has_"+k],function(){return this[P(P("has",k.$to_s().$capitalize()),"Value")]}),L=""+k+"_value_changed",f=""+k+"ValueChanged",_.$stimulus_controller().prototype[f]=function(u,i){if(h["$=="]("object")&&(u=JSON.stringify(u),i=JSON.stringify(i)),this["$respond_to?"]&&this["$respond_to?"](L))return this["$"+L](u,i)}},{$$s:b})},-1),y(R,"$classes=",function(q){var b=this;return q==null&&(q=[]),b.$stimulus_controller().classes=q,Z(q,"each",[],function a(d){var k=a.$$s==null?this:a.$$s,h=Y,_=Y;return d==null&&(d=Y),h=d.$to_s(),_=k.$to_ruby_name(d),Z(k,"define_method",[""+_+"_class"],function(){return this[P(h,"Class")]}),Z(k,"define_method",[""+_+"_classes"],function(){return this[P(h,"Classes")]}),Z(k,"define_method",["has_"+_+"_class"],function(){return this[P(P("has",h.$capitalize()),"Class")]})},{$$s:b})},-1),Q(R,"$element",function(){return A(v("JS"),"Proxy").$new(this.element)}),Q(R,"$window",function(){var q=this,b=Y;return M.$==null&&(M.$=Y),q.window=ee(b=q.window)?b:A(v("JS"),"Proxy").$new(M.$.$window())}),Q(R,"$document",function(){var q=this,b=Y;return M.$==null&&(M.$=Y),q.document=ee(b=q.document)?b:A(v("JS"),"Proxy").$new(M.$.$document())})}(ne[0],Controller,ne)};Opal.modules["opal_vite/concerns/v1/js_proxy_ex"]=function(r){var w=r.module,j=r.truthy,F=r.def,y=r.send,ee=r.klass,Z=r.assign_ivar,M=r.return_ivar,X=r.slice,m=r.range,P=r.eqeq,$e=r.lambda,Q=r.to_a,V=r.eqeqeq,ne=r.rb_plus,Y=r.defs,A=r.const_set,E=[],U=r.$r(E),K=r.nil,R=r.$$$;return r.add_stubs("new,to_n,nil?,respond_to?,times,<<,to_s,snake_to_camel,wrap_result,end_with?,[],!,==,call,map,===,length,enum_for,private,upcase,split,+,join,to_proc,test,js_array_to_ruby"),function(G,v){var x=w(G,"OpalVite"),T=[x].concat(v);return function(q,b){var a=w(q,"Concerns"),d=[a].concat(b);return function(k,h){var _=w(k,"V1"),l=[_].concat(h);return function(H,L){var f=w(H,"JsProxyEx"),u=[f].concat(L),i=r.$r(u);return F(f,"$local_storage",function(){var t=this,e=K;return t.local_storage==null&&(t.local_storage=K),t.local_storage=j(e=t.local_storage)?e:i("JsObject").$new(localStorage)}),F(f,"$session_storage",function(){var t=this,e=K;return t.session_storage==null&&(t.session_storage=K),t.session_storage=j(e=t.session_storage)?e:i("JsObject").$new(sessionStorage)}),F(f,"$js_json",function(){var t=this,e=K;return t.js_json==null&&(t.js_json=K),t.js_json=j(e=t.js_json)?e:i("JsonWrapper").$new()}),F(f,"$js_date",function(){return i("DateWrapper")}),F(f,"$js_console",function(){var t=this,e=K;return t.js_console==null&&(t.js_console=K),t.js_console=j(e=t.js_console)?e:i("JsObject").$new(console)}),F(f,"$new_event",function(t,e){return e==null&&(e=new Map),i("JsObject").$new(new Event(t,e.$to_n()))},-2),F(f,"$new_custom_event",function(t,e){return e==null&&(e=new Map),i("JsObject").$new(new CustomEvent(t,{detail:e.$to_n()}))},-2),F(f,"$new_url",function(t){return i("JsObject").$new(new URL(t))}),F(f,"$new_regexp",function(t,e){return e==null&&(e=""),i("RegExpWrapper").$new(t,e)},-2),F(f,"$new_date",function(t){return t==null&&(t=K),j(t)?i("JsObject").$new(new Date(t)):i("JsObject").$new(new Date)},-1),F(f,"$date_now",function(){return Date.now()}),F(f,"$wrap_js",function(t){var e=K;return j(t["$nil?"]())?K:(e=j(t["$respond_to?"]("to_n"))?t.$to_n():t,i("JsObject").$new(e))}),F(f,"$js_array_to_ruby",function(t){var e=K,$=K;return e=[],$=t.length,y($,"times",[],function(o){var g=K;return o==null&&(o=K),g=t[o],e["$<<"](i("JsObject").$new(g))}),e}),F(f,"$new_js_array",function(){return i("JsObject").$new([])}),function(n,t,e){var $=ee(n,t,"JsObject"),s=[$].concat(e),o=r.$r(s),g=$.$$prototype;return g.native=K,F($,"$initialize",Z("native")),F($,"$to_n",M("native")),F($,"$[]",function(S){var I=this,B=K,O=K,se=K;return B=S.$to_s(),O=I.$snake_to_camel(B),se=I.native[O],I.$wrap_result(se)}),F($,"$[]=",function(S,I){var B=this,O=K,se=K,le=K;return O=S.$to_s(),se=B.$snake_to_camel(O),le=j(I["$respond_to?"]("to_n"))?I.$to_n():I,B.native[se]=le}),F($,"$method_missing",function z(S,I){var B=z.$$p||K,O,se,le=this,fe=K,de=K,he=K,ve=K,me=K,be=K,ie=K,N=K,C=K,J=K;return z.$$p=null,O=X(arguments,1),se=O,fe=S.$to_s(),j(fe["$end_with?"]("="))?(de=fe["$[]"](m(0,-2,!1)),he=le.$snake_to_camel(de),ve=se["$[]"](0),me=j(ve["$respond_to?"]("to_n"))?ve.$to_n():ve,le.native[he]=me,ve):j(fe["$end_with?"]("?"))?(de=fe["$[]"](m(0,-2,!1)),he=le.$snake_to_camel(de),le.native[he]["$!"]()["$!"]()):(he=le.$snake_to_camel(fe),be=typeof le.native[he]=="function",j(be)?P(he,"addEventListener")&&j(B)?(ie=$e(function(te){return te==null&&(te=K),B.$call(o("JsObject").$new(te))}),le.native.addEventListener(se["$[]"](0),ie),K):(N=y(se,"map",[],function(te){return te==null&&(te=K),j(te["$respond_to?"]("to_n"))?te.$to_n():te}),j(B)&&(ie=$e(function W(te){var ae,oe,ce=W.$$s==null?this:W.$$s,c=K;return ae=X(arguments),oe=ae,c=y(oe,"map",[],function p(D){var re=p.$$s==null?this:p.$$s;return D==null&&(D=K),re.$wrap_result(D)},{$$s:ce}),y(B,"call",Q(c))},{$$arity:-1,$$s:le}),N["$<<"](ie)),C=V(0,J=N.$length())?le.native[he]():V(1,J)?le.native[he](N["$[]"](0)):V(2,J)?le.native[he](N["$[]"](0),N["$[]"](1)):V(3,J)?le.native[he](N["$[]"](0),N["$[]"](1),N["$[]"](2)):le.native[he].apply(le.native,N),le.$wrap_result(C)):(C=le.native[he],le.$wrap_result(C)))},-2),F($,"$respond_to_missing?",function(S,I){return!0},-2),F($,"$each",function z(){var S=z.$$p||K,I=this,B=K;return z.$$p=null,j(S)?(B=I.native.length,j(B)&&y(B,"times",[],function O(se){var le=O.$$s==null?this:O.$$s,fe=K;return le.native==null&&(le.native=K),se==null&&(se=K),fe=le.native[se],S.$call(le.$wrap_result(fe))},{$$s:I}),I):I.$enum_for("each")}),F($,"$length",function(){var S=this;return S.native.length}),F($,"$size",function(){var S=this;return S.$length()}),F($,"$nil?",function(){var S=this;return S.native==null}),F($,"$exists?",function(){var S=this;return S["$nil?"]()["$!"]()}),F($,"$to_s",function(){var S=this;return String(S.native)}),F($,"$inspect",function(){var S=this;return"#<JsObject: "+S.$to_s()+">"}),$.$private(),F($,"$snake_to_camel",function(S){var I=K;return P(S,S.$upcase())||(I=S.$split("_"),P(I.$length(),1))?S:ne(I["$[]"](0),y(I["$[]"](m(1,-1,!1)),"map",[],"capitalize".$to_proc()).$join())}),F($,"$wrap_result",function(S){return j(S==null)?K:j(typeof S=="number")||j(typeof S=="string")||j(typeof S=="boolean")?S:o("JsObject").$new(S)})}(u[0],null,u),function(n,t,e){var $=ee(n,t,"JsonWrapper"),s=[$].concat(e),o=r.$r(s);return F($,"$parse",function(z){var S=K;return S=JSON.parse(z),o("JsObject").$new(S)}),F($,"$stringify",function(z){var S=K;return S=j(z["$respond_to?"]("to_n"))?z.$to_n():z,JSON.stringify(S)})}(u[0],null,u),function(n,t,e){var $=ee(n,t,"RegExpWrapper"),s=[$].concat(e),o=r.$r(s),g=$.$$prototype;return g.native=K,F($,"$initialize",function(S,I){var B=this;return I==null&&(I=""),B.native=new RegExp(S,I)},-2),F($,"$to_n",M("native")),F($,"$test",function(S){var I=this;return I.native.test(S)}),F($,"$match",function(S){var I=this,B=K;return B=S.match(I.native),j(B===null)?K:o("JsObject").$new(B)}),F($,"$=~",function(S){var I=this;return I.$test(S)})}(u[0],null,u),function(n,t){var e=w(n,"DateWrapper"),$=[e].concat(t),s=r.$r($);return Y(e,"$now",function(){return Date.now()}),Y(e,"$new",function(g){return g==null&&(g=K),j(g)?s("JsObject").$new(new Date(g)):s("JsObject").$new(new Date)},-1),Y(e,"$parse",function(g){return Date.parse(g)})}(u[0],u),F(f,"$has_target?",function(t){var e=this,$=K,s=K;return $=e.$snake_to_camel(t.$to_s()),s="has"+$["$[]"](0).$upcase()+$["$[]"](m(1,-1,!1))+"Target",this[s]}),F(f,"$target",function(t){var e=this,$=K,s=K,o=K;return $=e.$snake_to_camel(t.$to_s()),s=""+$+"Target",o=this[s],i("JsObject").$new(o)}),F(f,"$targets",function(t){var e=this,$=K,s=K,o=K;return $=e.$snake_to_camel(t.$to_s()),s=""+$+"Targets",o=this[s],e.$js_array_to_ruby(o)}),F(f,"$set_target_text",function(t,e){var $=this,s=K,o=K,g=K;s=$.$snake_to_camel(t.$to_s()),o="has"+s["$[]"](0).$upcase()+s["$[]"](m(1,-1,!1))+"Target",g=""+s+"Target",this[o]&&(this[g].textContent=e)}),F(f,"$set_target_class",function(t,e){var $=this,s=K,o=K,g=K;s=$.$snake_to_camel(t.$to_s()),o="has"+s["$[]"](0).$upcase()+s["$[]"](m(1,-1,!1))+"Target",g=""+s+"Target",this[o]&&(this[g].className=e)}),F(f,"$set_target_disabled",function(t,e){var $=this,s=K,o=K,g=K;s=$.$snake_to_camel(t.$to_s()),o="has"+s["$[]"](0).$upcase()+s["$[]"](m(1,-1,!1))+"Target",g=""+s+"Target",this[o]&&(this[g].disabled=e)}),f.$private(),F(f,"$snake_to_camel",function(t){var e=K;return P(t,t.$upcase())||(e=t.$to_s().$split("_"),P(e.$length(),1))?t:ne(e["$[]"](0),y(e["$[]"](m(1,-1,!1)),"map",[],"capitalize".$to_proc()).$join())})}(l[0],l)}(d[0],d)}(T[0],T)}(E[0],E),A(E[0],"JsProxyEx",R(R(R(U("OpalVite"),"Concerns"),"V1"),"JsProxyEx"))};Opal.modules["opal_vite/concerns/v1/toastable"]=function(r){var w=r.module,j=r.def,F=r.const_set,y=[],ee=r.$r(y);r.nil;var Z=r.$$$;return r.add_stubs("dispatch_toast"),function(M,X){var m=w(M,"OpalVite"),P=[m].concat(X);return function($e,Q){var V=w($e,"Concerns"),ne=[V].concat(Q);return function(Y,A){var E=w(Y,"V1"),U=[E].concat(A);return function(K){var R=w(K,"Toastable");return j(R,"$dispatch_toast",function(v,x){x==null&&(x="info");const T=new CustomEvent("show-toast",{detail:{message:v,type:x}});window.dispatchEvent(T)},-2),j(R,"$show_success",function(v){var x=this;return x.$dispatch_toast(v,"success")}),j(R,"$show_error",function(v){var x=this;return x.$dispatch_toast(v,"error")}),j(R,"$show_warning",function(v){var x=this;return x.$dispatch_toast(v,"warning")}),j(R,"$show_info",function(v){var x=this;return x.$dispatch_toast(v,"info")})}(U[0])}(ne[0],ne)}(P[0],P)}(y[0],y),F(y[0],"Toastable",Z(Z(Z(ee("OpalVite"),"Concerns"),"V1"),"Toastable"))};Opal.modules["opal_vite/concerns/v1/dom_helpers"]=function(r){var w=r.module,j=r.truthy,F=r.def,y=r.send,ee=r.const_set,Z=[],M=r.$r(Z),X=r.nil,m=r.$$$;return r.add_stubs("window,to_n,query_selector,element,nil?,query_selector_all,map,to_a,Native,add,class_list,remove,toggle,contains,set_timeout,!,element_exists?,set_style"),function(P,$e){var Q=w(P,"OpalVite"),V=[Q].concat($e);return function(ne,Y){var A=w(ne,"Concerns"),E=[A].concat(Y);return function(U,K){var R=w(U,"V1"),G=[R].concat(K);return function(v){var x=w(v,"DomHelpers");return F(x,"$dispatch_custom_event",function(q,b,a){var d=this,k=X;b==null&&(b=new Map),a==null&&(a=X),a=j(k=a)?k:d.$window();const h=new CustomEvent(q,{detail:b.$to_n()});a.$to_n().dispatchEvent(h)},-2),F(x,"$create_event",function(q,b){return b==null&&(b=new Map([["bubbles",!0]])),new Event(q,b.$to_n())},-2),F(x,"$query",function(q){var b=this,a=X;return a=b.$element().$query_selector(q),j(a["$nil?"]())?X:a}),F(x,"$query_all",function(q){var b=this,a=X;return a=b.$element().$query_selector_all(q),y(b.$Native(Array.from(a.$to_n())).$to_a(),"map",[],function d(k){var h=d.$$s==null?this:d.$$s;return k==null&&(k=X),h.$Native(k)},{$$s:b})}),F(x,"$add_class",function(q,b){return q.$class_list().$add(b)}),F(x,"$remove_class",function(q,b){return q.$class_list().$remove(b)}),F(x,"$toggle_class",function(q,b){return q.$class_list().$toggle(b)}),F(x,"$has_class?",function(q,b){return q.$class_list().$contains(b)}),F(x,"$set_timeout",function T(q){var b=T.$$p||X,a=this;return T.$$p=null,a.$window().$set_timeout(b,q)}),F(x,"$element_exists?",function(q){var b=X;return j(b=q["$nil?"]()["$!"]())?q.$to_n():b}),F(x,"$set_style",function(q,b,a){var d=this;return j(d["$element_exists?"](q))?q.$to_n().style[b]=a:X}),F(x,"$get_style",function(q,b){var a=this;return j(a["$element_exists?"](q))?q.$to_n().style[b]:X}),F(x,"$show_element",function(q){var b=this;return b.$set_style(q,"display","block")}),F(x,"$hide_element",function(q){var b=this;return b.$set_style(q,"display","none")})}(G[0])}(E[0],E)}(V[0],V)}(Z[0],Z),ee(Z[0],"DomHelpers",m(m(m(M("OpalVite"),"Concerns"),"V1"),"DomHelpers"))};Opal.modules["opal_vite/concerns/v1/storable"]=function(r){var w=r.module,j=r.truthy,F=r.def,y=r.const_set,ee=[],Z=r.$r(ee),M=r.nil,X=r.$$$;return r.add_stubs("to_n"),function(m,P){var $e=w(m,"OpalVite"),Q=[$e].concat(P);return function(V,ne){var Y=w(V,"Concerns"),A=[Y].concat(ne);return function(E,U){var K=w(E,"V1"),R=[K].concat(U);return function(G,v){var x=w(G,"Storable"),T=[x].concat(v),q=r.$r(T);return F(x,"$storage_get",function(a){var d=M;if(d=localStorage.getItem(a),!j(d))return M;try{return JSON.parse(d)}catch(k){if(r.rescue(k,[q("StandardError")]))try{return M}finally{r.pop_exception(k)}else throw k}}),F(x,"$storage_set",function(a,d){var k=M;return k=JSON.stringify(d.$to_n()),localStorage.setItem(a,k)}),F(x,"$storage_remove",function(a){return localStorage.removeItem(a)})}(R[0],R)}(A[0],A)}(Q[0],Q)}(ee[0],ee),y(ee[0],"Storable",X(X(X(Z("OpalVite"),"Concerns"),"V1"),"Storable"))};Opal.modules["controllers/form_validation_controller"]=function(r){var w=r.klass,j=r.const_set,F=r.lambda,y=r.truthy,ee=r.thrower,Z=r.rb_ge,M=r.rb_le,X=r.send2,m=r.find_super,P=r.def,$e=r.send,Q=r.to_ary,V=r.eqeq,ne=r.top,Y=[],A=r.$r(Y),E=r.nil,U=r.$$$;return r.add_stubs("require,include,targets=,values=,freeze,is_a?,!,empty?,strip,>=,length,to_i,<=,=~,to_f,gsub,puts,initialize_field_states,update_stats,current_target,[],wrap_js,dataset,clear_field_error,[]=,field_key,split,each,==,validate_email_async,query_selector,element,to_n,value,to_sym,type,checked,call,to_s,show_field_error,prevent_default,field_targets,validate_field_directly,all?,values,show_status,disabled=,submit_btn_target,set_timeout,reset_form,reset,clear,set_target_text,set_target_class,private,name,id,times,new,define_singleton_method,validate_field,closest,remove_class,add_class,count,nil?,set_target_disabled,downcase"),ne.$require("opal_stimulus/stimulus_controller"),function(K,R,G){var v=w(K,R,"FormValidationController"),x=ee("return"),T=ee("return"),q=ee("return"),b=ee("return"),a=ee("return"),d=ee("return"),k=ee("return"),h=ee("return"),_=ee("return"),l=[v].concat(G),H=r.$r(l),L=v.$$prototype;return L.validation_state=L.async_validation_in_progress=E,v.$include(H("JsProxyEx")),v.$include(H("Toastable")),v.$include(H("DomHelpers")),v["$targets="](["field","error","submitBtn","status","totalFields","validFields","invalidFields","formValid"]),v["$values="](new Map([["submit_url","string"]])),j(l[0],"VALIDATION_RULES",new Map([["required",F(function f(u){var i=E;return u==null&&(u=E),(y(u["$is_a?"](H("TrueClass")))||y(u["$is_a?"](H("FalseClass"))))&&x.$throw(u,f.$$is_lambda),y(i=u)?u.$strip()["$empty?"]()["$!"]():i},{$$ret:x})],["minLength",F(function(u,i){var n=E;return u==null&&(u=E),i==null&&(i=E),y(n=u["$!"]())?n:Z(u.$length(),i.$to_i())})],["maxLength",F(function(u,i){var n=E;return u==null&&(u=E),i==null&&(i=E),y(n=u["$!"]())?n:M(u.$length(),i.$to_i())})],["email",F(function f(u){return u==null&&(u=E),y(u)||T.$throw(!0,f.$$is_lambda),u["$=~"](/^[^\s@]+@[^\s@]+\.[^\s@]+$/)["$!"]()["$!"]()},{$$ret:T})],["alphanumeric",F(function f(u){return u==null&&(u=E),y(u)||q.$throw(!0,f.$$is_lambda),u["$=~"](/^[a-zA-Z0-9]+$/)["$!"]()["$!"]()},{$$ret:q})],["numeric",F(function f(u){return u==null&&(u=E),y(u)||b.$throw(!0,f.$$is_lambda),u["$=~"](/^\d+(\.\d+)?$/)["$!"]()["$!"]()},{$$ret:b})],["min",F(function f(u,i){return u==null&&(u=E),i==null&&(i=E),y(u)||a.$throw(!0,f.$$is_lambda),Z(u.$to_f(),i.$to_f())},{$$ret:a})],["max",F(function f(u,i){return u==null&&(u=E),i==null&&(i=E),y(u)||d.$throw(!0,f.$$is_lambda),M(u.$to_f(),i.$to_f())},{$$ret:d})],["password",F(function f(u){var i=E,n=E;return u==null&&(u=E),y(u)||k.$throw(!0,f.$$is_lambda),y(i=y(n=u["$=~"](/[A-Z]/)["$!"]()["$!"]())?u["$=~"](/[a-z]/)["$!"]()["$!"]():n)?u["$=~"](/[0-9]/)["$!"]()["$!"]():i},{$$ret:k})],["phone",F(function f(u){var i=E;return u==null&&(u=E),y(u)||h.$throw(!0,f.$$is_lambda),y(i=u["$=~"](/^[\d\s\-\+\(\)]+$/)["$!"]()["$!"]())?Z(u.$gsub(/\D/,"").$length(),10):i},{$$ret:h})],["url",F(function f(u){u==null&&(u=E),y(u)||_.$throw(!0,f.$$is_lambda);try{return new URL(u),!0}catch(i){if(r.rescue(i,[H("StandardError")]))try{return!1}finally{r.pop_exception(i)}else throw i}},{$$ret:_})]]).$freeze()),j(l[0],"ERROR_MESSAGES",new Map([["required","This field is required"],["minLength","Must be at least {0} characters"],["maxLength","Must be no more than {0} characters"],["email","Please enter a valid email address"],["alphanumeric","Only letters and numbers are allowed"],["numeric","Please enter a valid number"],["min","Value must be at least {0}"],["max","Value must be no more than {0}"],["password","Must contain uppercase, lowercase, and number"],["phone","Please enter a valid phone number"],["url","Please enter a valid URL"],["matches","This field must match {0}"],["asyncEmailCheck","This email is already taken"]]).$freeze()),P(v,"$initialize",function f(){var u=f.$$p||E,i=this;return f.$$p=null,X(i,m(i,"initialize",f,!1,!0),"initialize",[],u),i.validation_state=new Map,i.async_validation_in_progress=!1}),P(v,"$connect",function(){var u=this;return u.$puts("=== FormValidationController connected ==="),u.$initialize_field_states(),u.$update_stats()}),P(v,"$validate_field",function(u){try{var i=ee("return"),n=this,t=E,e=E,$=E,s=E,o=E;return t=u.$current_target(),e=n.$wrap_js(t.$dataset())["$[]"]("rules"),y(e)?($=e.$split("|"),s=!0,o="",function(){try{var g=ee("break");return $e($,"each",[],function z(S){var I,B,O=z.$$s==null?this:z.$$s,se=E,le=E,fe=E,de=E,he=E,ve=E;if(S==null&&(S=E),B=S.$split(":"),I=Q(B),se=I[0]==null?E:I[0],le=I[1]==null?E:I[1],V(se,"asyncEmailCheck")&&(O.$validate_email_async(t),i.$throw(E,z.$$is_lambda)),V(se,"matches")&&(fe=O.$element().$query_selector('[name="'+le+'"]'),y(fe.$to_n())&&(s=t.$value()["$=="](fe.$value()),y(s)||(o=H("ERROR_MESSAGES")["$[]"]("matches").$gsub("{0}",le))),!y(s))||(de=H("VALIDATION_RULES")["$[]"](se.$to_sym()),!y(de))||(he=V(t.$type(),"checkbox")?t.$checked():t.$value(),y(de.$call(he,le))))return E;s=!1,o=y(ve=H("ERROR_MESSAGES")["$[]"](se.$to_sym()))?ve:"Invalid",y(le)&&(o=o.$gsub("{0}",le.$to_s())),g.$throw(E,z.$$is_lambda)},{$$s:n,$$ret:i})}catch(z){if(z===g)return z.$v;throw z}finally{g.is_orphan=!0}}(),y(s)?(n.$clear_field_error(t),n.validation_state["$[]="](n.$field_key(t),!0)):(n.$show_field_error(t,o),n.validation_state["$[]="](n.$field_key(t),!1)),n.$update_stats()):(n.$clear_field_error(t),n.validation_state["$[]="](n.$field_key(t),!0),n.$update_stats(),E)}catch(g){if(g===i)return g.$v;throw g}finally{i.is_orphan=!0}}),P(v,"$clear_error",function(u){var i=this,n=E;return n=u.$current_target(),V(i.validation_state["$[]"](i.$field_key(n)),!1)?(i.$clear_field_error(n),i.validation_state["$[]="](i.$field_key(n),E),i.$update_stats()):E}),P(v,"$handle_submit",function(u){var i=this,n=E;return u.$prevent_default(),$e(i.$field_targets(),"each",[],function t(e){var $=t.$$s==null?this:t.$$s;return e==null&&(e=E),$.$validate_field_directly(e)},{$$s:i}),n=$e(i.validation_state.$values(),"all?",[],function(e){return e==null&&(e=E),e["$=="](!0)}),y(n)?(i.$element().$query_selector("form"),i.$show_status("Submitting form...","info"),i.$submit_btn_target()["$disabled="](!0),$e(i,"set_timeout",[1500],function t(){var e=t.$$s==null?this:t.$$s;return e.$puts("Form submitted successfully"),e.$show_status("Registration successful! Welcome aboard.","success"),$e(e,"set_timeout",[2e3],function $(){var s=$.$$s==null?this:$.$$s;return s.$reset_form()},{$$s:e})},{$$s:i})):(i.$show_status("Please fix all errors before submitting","error"),E)}),P(v,"$reset_form",function(){var u=this,i=E;return i=u.$element().$query_selector("form"),y(i.$to_n())&&i.$reset(),u.validation_state.$clear(),$e(u.$field_targets(),"each",[],function n(t){var e,$=n.$$s==null?this:n.$$s,s=E,o=E;return $.validation_state==null&&($.validation_state=E),t==null&&(t=E),s=$.$wrap_js(t),$.$clear_field_error(s),o=s.$dataset()["$[]"]("rules"),e=[$.$field_key(s),y(o)?E:!0],$e($.validation_state,"[]=",e),e[e.length-1]},{$$s:u}),u.$set_target_text("status",""),u.$set_target_class("status","form-status"),u.$update_stats()}),v.$private(),P(v,"$field_key",function(u){var i=E,n=E;return y(i=y(n=u.$name())?n:u.$id())?i:u.$to_n().toString()}),P(v,"$initialize_field_states",function(){var u=this,i=E,n=E;return i=u.$field_targets(),n=function(){try{return i.$to_n().length}catch(t){if(r.rescue(t,[H("StandardError")]))try{return 0}finally{r.pop_exception(t)}else throw t}}(),$e(n.$to_i(),"times",[],function t(e){var $,s=t.$$s==null?this:t.$$s,o=E,g=E,z=E,S=E,I=E,B=E,O=E;return s.validation_state==null&&(s.validation_state=E),e==null&&(e=E),o=i.$to_n()[e],g=U(H("JsProxyEx"),"JsObject").$new(o),z=g.$dataset(),S=function(){try{return z["$[]"]("rules")}catch(se){if(r.rescue(se,[H("StandardError")]))try{return E}finally{r.pop_exception(se)}else throw se}}(),I=y(B=y(O=g.$name())?O:g.$id())?B:"field_"+e,$=[I,y(S)?E:!0],$e(s.validation_state,"[]=",$),$[$.length-1]},{$$s:u})}),P(v,"$validate_field_directly",function(u){var i=this,n=E,t=E;return n=y(u["$is_a?"](U(H("JsProxyEx"),"JsObject")))?u:i.$wrap_js(u),y(n)?(t=H("Object").$new(),$e(t,"define_singleton_method",["current_target"],function(){return n}),i.$validate_field(t)):E}),P(v,"$clear_field_error",function(u){var i=this,n=E,t=E;return n=u.$closest(".form-group"),y(n.$to_n()!=null)?(i.$remove_class(n,"error"),i.$remove_class(n,"info"),t=n.$query_selector(".error-message"),t.$to_n()&&(t.$to_n().textContent="")):E}),P(v,"$show_field_error",function(u,i,n){var t=this,e=E,$=E;return n==null&&(n="error"),e=u.$closest(".form-group"),y(e.$to_n()!=null)?(t.$remove_class(e,"error"),t.$remove_class(e,"info"),t.$add_class(e,n),$=e.$query_selector(".error-message"),$.$to_n()&&($.$to_n().textContent=i)):E},-3),P(v,"$update_stats",function(){var u=this,i=E,n=E,t=E,e=E,$=E,s=E,o=E,g=E;return i=u.$field_targets(),n=i.$to_n().length,t=$e(u.validation_state.$values(),"count",[],function(S){return S==null&&(S=E),S["$=="](!0)}),e=$e(u.validation_state.$values(),"count",[],function(S){return S==null&&(S=E),S["$=="](!1)}),$=$e(u.$field_targets(),"all?",[],function z(S){var I=z.$$s==null?this:z.$$s;return I.validation_state==null&&(I.validation_state=E),S==null&&(S=E),I.validation_state["$[]"](I.$field_key(S))["$nil?"]()["$!"]()},{$$s:u}),s=y(o=y(g=$)?e["$=="](0):g)?t["$=="](n):o,u.$set_target_text("total_fields",n.$to_s()),u.$set_target_text("valid_fields",t.$to_s()),u.$set_target_text("invalid_fields",e.$to_s()),u.$set_target_text("form_valid",y(s)?"Yes":"No"),u.$set_target_class("form_valid",y(s)?"stat-value valid":"stat-value invalid"),u.$set_target_disabled("submit_btn",y(o=s["$!"]())?o:u.async_validation_in_progress)}),P(v,"$show_status",function(u,i){var n=this;return n.$set_target_text("status",u),n.$set_target_class("status","form-status "+i)}),P(v,"$validate_email_async",function(u){var i=this,n=E;return n=u.$value(),y(n)&&y(H("VALIDATION_RULES")["$[]"]("email").$call(n))?(i.async_validation_in_progress=!0,i.$show_field_error(u,"Checking email availability...","info"),$e(i,"set_timeout",[1e3],function t(){var e=t.$$s==null?this:t.$$s,$=E;return e.validation_state==null&&(e.validation_state=E),$=n.$downcase()["$=="]("test@example.com"),y($)?(e.$show_field_error(u,H("ERROR_MESSAGES")["$[]"]("asyncEmailCheck")),e.validation_state["$[]="](e.$field_key(u),!1)):(e.$clear_field_error(u),e.validation_state["$[]="](e.$field_key(u),!0)),e.async_validation_in_progress=!1,e.$update_stats()},{$$s:i})):E})}(Y[0],A("StimulusController"),Y)};Opal.queue(function(r){var w=r.top,j=[],F=r.$r(j);return r.nil,r.add_stubs("require,puts,register_all!"),w.$require("native"),w.$require("opal_stimulus/stimulus_controller"),w.$require("opal_vite/concerns/v1/js_proxy_ex"),w.$require("opal_vite/concerns/v1/toastable"),w.$require("opal_vite/concerns/v1/dom_helpers"),w.$require("opal_vite/concerns/v1/storable"),w.$require("controllers/form_validation_controller"),w.$puts("Form Validation Example - Opal + Stimulus"),w.$puts("Ruby version: "+F("RUBY_VERSION")),F("StimulusController")["$register_all!"](),w.$puts("All controllers registered!")});
